var cl=Object.defineProperty;var dl=(e,t,i)=>t in e?cl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var st=(e,t,i)=>(dl(e,typeof t!="symbol"?t+"":t,i),i);import{d as Te,I as Ws,O as Mi,a as Ia,b as Ba,E as Da,c as Na,e as Fa,S as pl,f as gl,C as ws,L as Ys,F as Is,g as Va,r as Xs,i as ln,H as ss,V as bi,h as Ea,P as xl,n as fl,j as ys,k as $i,l as wl,m as yl,o as bl,p as ti,q as Ml,w as ra,s as ei,t as Ct,u as ji,v as Sl,x as bs,y as Vn,z as En,A as Bi,B as kl,D as ii,G as si,J as Ue,K as qs,M as la,N as Oe,Q as ha,R as Ms,T as Al,X as Rl,U as ma,Y as Tl,W as Cl,Z as vl,_ as Pl,$ as Ll,a0 as Il,a1 as Bl,a2 as Dl,a3 as Nl,a4 as Fl,a5 as Vl,a6 as El}from"./oxyplot-js-gcP7A2HQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=i(n);fetch(n.href,o)}})();var _l=Object.defineProperty,Ol=(e,t,i)=>t in e?_l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,u=(e,t,i)=>(Ol(e,typeof t!="symbol"?t+"":t,i),i),fn=(e=>(e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e))(fn||{});function zl(e,t){return Gl(e,i=>i[t])}function Gl(e,t){return e.reduce((i,s)=>{const n=t(s);let o=i.get(n);return o?o.push(s):(o=[s],i.set(n,o)),i},new Map)}function $l(e,t,i=0){for(let s=i;s<e.length;s++)if(t.includes(e[s]))return s;return-1}function jl(e,t){const i=(s,n,o,a)=>s[o]>n[o]?a.toUpperCase()=="DESC"?-1:1:s[o]<n[o]?a.toUpperCase()=="DESC"?1:-1:0;return[...e].sort((s,n)=>{for(const o of t){const a=i(s,n,o[0],o[1]);if(a!==0)return a}return 0})}function We(e,t,i){const s=Array(e);for(let n=0;n<e;n++)s[n]=new Array(t),i!==void 0&&s[n].fill(i);return s}function Ks(e,t){const i=e.indexOf(t);return i>-1?(e.splice(i,1),!0):!1}function ua(e,t){let i=0;for(let s=e.length-1;s>=0;s--)t(e[s])&&(e.splice(s,1),i++);return i}function li(e,t){for(let i=0;i<t.length;i++)e.push(t[i])}function Qi(e){if(!e||e.length===0)return[];const t=[];return li(t,e),t.reverse()}function Wt(e,...t){let i=0;return e.length>=1e5?i=e.reduce(function(s,n){return Math.max(s,n)}):i=Math.max.apply(null,e),!t||t.length===0?i:Math.max(i,...t)}function Pt(e,...t){let i=0;return e.length>=1e5?i=e.reduce(function(s,n){return Math.min(s,n)}):i=Math.min.apply(null,e),!t||t.length===0?i:Math.min(i,...t)}function ci(e,t){return e[t]}function zi(e){return Object.keys(e).filter(t=>typeof e[t]!="number").map(t=>Number(t))}const Ul=new Date(9999,11,31,23,59,59,999),Ii=new Date(1,0,1,0,0,0,0);Ii.setUTCFullYear(1);Ii.setUTCMonth(0);Ii.setUTCDate(1);Ii.setUTCHours(0);Ii.setUTCMinutes(0);Ii.setUTCSeconds(0);Ii.setUTCMilliseconds(0);function Lo(e,t){let i="";if(t.includes("d")&&(i+=e.days.toString().padStart(2,"0")+":"),t.includes("hh")&&(i+=e.hours.toString().padStart(2,"0")+":"),t.includes("mm")&&(i+=e.minutes.toString().padStart(2,"0")+":"),t.includes("ss")&&(i+=e.seconds.toString().padStart(2,"0")),!i)throw new Error("Invalid format");return i}var _a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var za={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(_a,function(){var i="minute",s=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(o,a,l){var h=a.prototype;l.utc=function(S){var C={date:S,utc:!0,args:arguments};return new a(C)},h.utc=function(S){var C=l(this.toDate(),{locale:this.$L,utc:!0});return S?C.add(this.utcOffset(),i):C},h.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var m=h.parse;h.parse=function(S){S.utc&&(this.$u=!0),this.$utils().u(S.$offset)||(this.$offset=S.$offset),m.call(this,S)};var c=h.init;h.init=function(){if(this.$u){var S=this.$d;this.$y=S.getUTCFullYear(),this.$M=S.getUTCMonth(),this.$D=S.getUTCDate(),this.$W=S.getUTCDay(),this.$H=S.getUTCHours(),this.$m=S.getUTCMinutes(),this.$s=S.getUTCSeconds(),this.$ms=S.getUTCMilliseconds()}else c.call(this)};var g=h.utcOffset;h.utcOffset=function(S,C){var v=this.$utils().u;if(v(S))return this.$u?0:v(this.$offset)?g.call(this):this.$offset;if(typeof S=="string"&&(S=function(B){B===void 0&&(B="");var V=B.match(s);if(!V)return null;var O=(""+V[0]).match(n)||["-",0,0],E=O[0],q=60*+O[1]+ +O[2];return q===0?0:E==="+"?q:-q}(S),S===null))return this;var R=Math.abs(S)<=16?60*S:S,T=this;if(C)return T.$offset=R,T.$u=S===0,T;if(S!==0){var P=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(T=this.local().add(R+P,i)).$offset=R,T.$x.$localOffset=P}else T=this.utc();return T};var f=h.format;h.format=function(S){var C=S||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,C)},h.valueOf=function(){var S=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*S},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var y=h.toDate;h.toDate=function(S){return S==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():y.call(this)};var M=h.diff;h.diff=function(S,C,v){if(S&&this.$u===S.$u)return M.call(this,S,C,v);var R=this.local(),T=l(S).local();return M.call(R,T,C,v)}}})})(za);var Hl=za.exports;const Wl=Oa(Hl);var Ga={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(_a,function(){var i={year:0,month:1,day:2,hour:3,minute:4,second:5},s={};return function(n,o,a){var l,h=function(f,y,M){M===void 0&&(M={});var S=new Date(f),C=function(v,R){R===void 0&&(R={});var T=R.timeZoneName||"short",P=v+"|"+T,B=s[P];return B||(B=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:v,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:T}),s[P]=B),B}(y,M);return C.formatToParts(S)},m=function(f,y){for(var M=h(f,y),S=[],C=0;C<M.length;C+=1){var v=M[C],R=v.type,T=v.value,P=i[R];P>=0&&(S[P]=parseInt(T,10))}var B=S[3],V=B===24?0:B,O=S[0]+"-"+S[1]+"-"+S[2]+" "+V+":"+S[4]+":"+S[5]+":000",E=+f;return(a.utc(O).valueOf()-(E-=E%1e3))/6e4},c=o.prototype;c.tz=function(f,y){f===void 0&&(f=l);var M=this.utcOffset(),S=this.toDate(),C=S.toLocaleString("en-US",{timeZone:f}),v=Math.round((S-new Date(C))/1e3/60),R=a(C,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(S.getTimezoneOffset()/15)-v,!0);if(y){var T=R.utcOffset();R=R.add(M-T,"minute")}return R.$x.$timezone=f,R},c.offsetName=function(f){var y=this.$x.$timezone||a.tz.guess(),M=h(this.valueOf(),y,{timeZoneName:f}).find(function(S){return S.type.toLowerCase()==="timezonename"});return M&&M.value};var g=c.startOf;c.startOf=function(f,y){if(!this.$x||!this.$x.$timezone)return g.call(this,f,y);var M=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return g.call(M,f,y).tz(this.$x.$timezone,!0)},a.tz=function(f,y,M){var S=M&&y,C=M||y||l,v=m(+a(),C);if(typeof f!="string")return a(f).tz(C);var R=function(V,O,E){var q=V-60*O*1e3,ft=m(q,E);if(O===ft)return[q,O];var Z=m(q-=60*(ft-O)*1e3,E);return ft===Z?[q,ft]:[V-60*Math.min(ft,Z)*1e3,Math.max(ft,Z)]}(a.utc(f,S).valueOf(),v,C),T=R[0],P=R[1],B=a(T).utcOffset(P);return B.$x.$timezone=C,B},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(f){l=f}}})})(Ga);var Yl=Ga.exports;const Xl=Oa(Yl);function Xe(){return ql}Te.extend(Wl);Te.extend(Xl);const ql={format:(e,t)=>Te(e).format(t),convertTime:(e,t)=>Te(e).tz(t).toDate(),addYears:(e,t)=>Te(e).add(t,"year").toDate(),addMonths:(e,t)=>Te(e).add(t,"month").toDate(),addTimespan:(e,t)=>{let i=Te(e);return t.days&&(i=i.add(t.days,"day")),t.hours&&(i=i.add(t.hours,"hour")),t.minutes&&(i=i.add(t.minutes,"minute")),t.seconds&&(i=i.add(t.seconds,"second")),t.milliseconds&&(i=i.add(t.milliseconds,"millisecond")),i.toDate()},dayOfWeek:e=>Te(e).day(),diff:(e,t)=>{const i=Te(e).diff(Te(t));return Et.fromMilliseconds(i)}};let _n=null;function Io(){return _n||(_n=new Kl,_n)}class Kl{async decode(t){const i=await Ws.load(t),s=i.height,n=i.width,o=i.data,a=We(n,s);for(let l=0;l<s;l++)for(let h=0;h<n;h++){let m=l*n+h;const c=o[m++],g=o[m++],f=o[m++],y=o[m++];a[l][h]=r.fromArgb(y,c,g,f)}return a}encode(t){const i=new DataView(new ArrayBuffer(t.imageInfo.width*t.imageInfo.height*4));let s=0;const n=t.pixels;for(let a=0;a<t.imageInfo.height;a++)for(let l=0;l<t.imageInfo.width;l++){const h=n.get(l,a);i.setUint8(s++,h.r),i.setUint8(s++,h.g),i.setUint8(s++,h.b),i.setUint8(s++,h.a)}const o=new Ws(t.imageInfo.width,t.imageInfo.height,new Uint8Array(i.buffer)).toBuffer();return Promise.resolve(o)}async getImageInfo(t){const i=await Ws.load(t);return{width:i.width,height:i.height,bitsPerPixel:i.bitDepth,dpiX:0,dpiY:0,format:fe.getImageFormat(t)}}async load(t){const i=await Ws.load(t),s=i.toBuffer(),n=new fe(s);return n.format=fe.getImageFormat(s),n.width=i.width,n.height=i.height,n}}function di(e){return e===void 0}function vt(e){return e==null}function ca(e,...t){if(e)for(const i of t)delete e[i]}function zt(e,t,i){if(!e||!t)return i;const s=e[t];return vt(s)?i:s}function ot(e,t){const i=e;if(Array.isArray(i))return i.forEach(n=>ot(n,t)),e;const s=Object.assign({removeNull:!0,removeEmptyStr:!1,deep:1},t);return Object.keys(i).forEach(n=>{const o=i[n];if(o===void 0){delete i[n];return}if(o===null&&s.removeNull){delete i[n];return}if(s.removeEmptyStr&&typeof o=="string"&&o.length==0){delete i[n];return}if(typeof o=="object"&&s.deep>1){const a=Object.assign({},s,{deep:s.deep-1});ot(o,a);return}}),e}function $a(e){let t=0;for(let i=0;i<e.length;i++)t=Math.imul(31,t)+e[i];return t}const ut=-17976931348623157e292,tt=Number.MAX_VALUE;function Gt(e,t){if(t<0){const i=Math.pow(10,t);return Math.round(e*i)/i}return+(Math.round(+(e+"e+"+t))+"e-"+t)}function qe(e){return!isFinite(e)}function da(e){return e===Number.NEGATIVE_INFINITY}function pa(e){return e===Number.POSITIVE_INFINITY}function Vi(e){return e>=0?e:e>>>0}function Zs(e,t){return isNaN(e)?e:isNaN(t)?t:t===1?NaN:e!==1&&(t===0||Number.POSITIVE_INFINITY===t)?NaN:Math.log(e)/Math.log(t)}function Zl(e,t){let i;if(e>=1e6||e<=-1e6?i=e.toExponential(t):i=e.toString(),i.includes("e")){const s=Number(i.split("e")[0]);return Gt(s,t).toString()+"e"+i.split("e")[1]}return Gt(e,t).toString()}function Jl(e,t=1){return vt(e)?"":isNaN(e)?"NaN":Gt(e*100,t)+"%"}function Jn(e,t){if(Math.round(e)!==e)throw new Error(`${t||"number"} must be an integer.`)}function Ql(e,t){return e&&e.replace(new RegExp(`^${t}+|${t}+$`,"g"),"")}function Js(e,t,i){return i===void 0?e.substring(t):e.substring(t,t+i)}const Ui=1e3,Hi=6e4,Wi=36e5,Yi=864e5;class Et{constructor(t){u(this,"_totalMs",0),u(this,"_ms",0),u(this,"_seconds",0),u(this,"_minutes",0),u(this,"_hours",0),u(this,"_days",0),u(this,"toString",()=>`${this._days}day ${this._hours}hour ${this._minutes}minute ${this._seconds}second ${this._ms}ms`),this.ms=t,this._totalMs=t;const i=t<0?-1:1;let s=Math.abs(t);s>=Yi&&(this._days=i*Math.floor(s/Yi),s=s%Yi),s>=Wi&&(this._hours=i*Math.floor(s/Wi),s=s%Wi),s>=Hi&&(this._minutes=i*Math.floor(s/Hi),s=s%Hi),s>=Ui&&(this._seconds=i*Math.floor(s/Ui),s=s%Ui),this._ms=i*s}get milliseconds(){return this._ms}get seconds(){return this._seconds}get minutes(){return this._minutes}get hours(){return this._hours}get days(){return this._days}get totalMs(){return this._totalMs}get totalSeconds(){return this._totalMs/Ui}get totalMinutes(){return this._totalMs/Hi}get totalHours(){return this._totalMs/Wi}get totalDays(){return this._totalMs/Yi}static fromMilliseconds(t){return new Et(t)}static fromSeconds(t){return new Et(t*Ui)}static fromMinutes(t){return new Et(t*Hi)}static fromHours(t){return new Et(t*Wi)}static fromDays(t){return new Et(t*Yi)}static from(t=0,i=0,s=0,n=0,o=0){return new Et(t*Yi+i*Wi+s*Hi+n*Ui+o)}}class Be{constructor(t,i,s){u(this,"_data"),this.columnCount=t,this.rowCount=i,this._data=We(i,t,s)}static fromArray(t){const i=t.length,s=t[0].length,n=new Be(s,i);for(let o=0;o<i;o++)for(let a=0;a<s;a++)n.set(a,o,t[o][a]);return n}toArray(){const t=We(this.rowCount,this.columnCount);for(let i=0;i<this.rowCount;i++)for(let s=0;s<this.columnCount;s++)t[i][s]=this.get(s,i);return t}get height(){return this.rowCount}get width(){return this.columnCount}get(t,i){return this._data[i][t]}set(t,i,s){this._data[i][t]=s}}const As=class ze{constructor(t,i,s,n){u(this,"_r"),u(this,"_g"),u(this,"_b"),u(this,"_a"),this._a=fi(t),this._r=fi(i),this._g=fi(s),this._b=fi(n)}get a(){return this._a}get b(){return this._b}get g(){return this._g}get r(){return this._r}static parse(t){if(!t||t.toLowerCase()==="none")return this._undefined;if(t.toLowerCase()==="auto")return this._automatic;if(t=t.trim(),t.startsWith("#")){t=Ql(t,"#"),t.length===3&&(t=`${t[0]}${t[0]}${t[1]}${t[1]}${t[2]}${t[2]}`);let h=parseInt(t,16);return t.length<8&&(h+=4278190080),ze.fromUInt32(h)}const i=t.split(",");if(i.length<3||i.length>4)throw new Error("Invalid format.");let s=0,n=255;i.length>3&&(n=parseInt(i[s],10),s++);const o=parseInt(i[s],10),a=parseInt(i[s+1],10),l=parseInt(i[s+2],10);return ze.fromArgb(n,o,a,l)}static colorDifference(t,i){const s=(t.r-i.r)/255,n=(t.g-i.g)/255,o=(t.b-i.b)/255,a=(t.a-i.a)/255,l=s*s+n*n+o*o+a*a;return Math.sqrt(l)}static fromUInt32(t){const i=t>>24&255,s=t>>16&255,n=t>>8&255,o=t&255;return ze.fromArgb(i,s,n,o)}static fromHsv(t,i,s){let n,o,a=n=o=0;if(i===0)a=n=o=s;else{t===1&&(t=0),t*=6;const l=Math.floor(t),h=t-l,m=s*(1-i),c=s*(1-i*h),g=s*(1-i*(1-h));switch(l){case 0:a=s,n=g,o=m;break;case 1:a=c,n=s,o=m;break;case 2:a=m,n=s,o=g;break;case 3:a=m,n=c,o=s;break;case 4:a=g,n=m,o=s;break;case 5:a=s,n=m,o=c;break}}return ze.fromRgb(a*255,n*255,o*255)}static fromAColor(t,i){return ze.fromArgb(t,i.r,i.g,i.b)}static fromArgb(t,i,s,n){return new ze(t,i,s,n)}static fromRgb(t,i,s){return new ze(255,t,i,s)}static interpolate(t,i,s){const n=t.a*(1-s)+i.a*s,o=t.r*(1-s)+i.r*s,a=t.g*(1-s)+i.g*s,l=t.b*(1-s)+i.b*s;return ze.fromArgb(fi(n),fi(o),fi(a),fi(l))}equals(t){return t.a===this.a&&t.r===this.r&&t.g===this.g&&t.b===this.b}toArgb(){return this.toArgbInner("start")}toRgba(){return this.toArgbInner("end")}toRgb(){return this.toArgbInner("none")}toArgbInner(t){const i=n=>n.toString(16).padStart(2,"0"),s=`${i(this.r)}${i(this.g)}${i(this.b)}`;return t==="start"?`#${i(this.a)}${s}`:t==="end"?`#${s}${i(this.a)}`:`#${s}`}toString(){return this.toArgb()}isInvisible(){return this.a===0}isVisible(){return this.a>0}isUndefined(){return this.equals(ze._undefined)}isAutomatic(){return this.equals(ze._automatic)}getActualColor(t){return this.isAutomatic()?t:this}};u(As,"_undefined",As.fromUInt32(0)),u(As,"_automatic",As.fromUInt32(1));let r=As;function fi(e){return Math.round(e)}const p={Undefined:r.fromUInt32(0),Automatic:r.fromUInt32(1),AliceBlue:r.fromUInt32(4293982463),AntiqueWhite:r.fromUInt32(4294634455),Aqua:r.fromUInt32(4278255615),Aquamarine:r.fromUInt32(4286578644),Azure:r.fromUInt32(4293984255),Beige:r.fromUInt32(4294309340),Bisque:r.fromUInt32(4294960324),Black:r.fromUInt32(4278190080),BlanchedAlmond:r.fromUInt32(4294962125),Blue:r.fromUInt32(4278190335),BlueViolet:r.fromUInt32(4287245282),Brown:r.fromUInt32(4289014314),BurlyWood:r.fromUInt32(4292786311),CadetBlue:r.fromUInt32(4284456608),Chartreuse:r.fromUInt32(4286578432),Chocolate:r.fromUInt32(4291979550),Coral:r.fromUInt32(4294934352),CornflowerBlue:r.fromUInt32(4284782061),Cornsilk:r.fromUInt32(4294965468),Crimson:r.fromUInt32(4292613180),Cyan:r.fromUInt32(4278255615),DarkBlue:r.fromUInt32(4278190219),DarkCyan:r.fromUInt32(4278225803),DarkGoldenrod:r.fromUInt32(4290283019),DarkGray:r.fromUInt32(4289309097),DarkGreen:r.fromUInt32(4278215680),DarkKhaki:r.fromUInt32(4290623339),DarkMagenta:r.fromUInt32(4287299723),DarkOliveGreen:r.fromUInt32(4283788079),DarkOrange:r.fromUInt32(4294937600),DarkOrchid:r.fromUInt32(4288230092),DarkRed:r.fromUInt32(4287299584),DarkSalmon:r.fromUInt32(4293498490),DarkSeaGreen:r.fromUInt32(4287609999),DarkSlateBlue:r.fromUInt32(4282924427),DarkSlateGray:r.fromUInt32(4281290575),DarkTurquoise:r.fromUInt32(4278243025),DarkViolet:r.fromUInt32(4287889619),DeepPink:r.fromUInt32(4294907027),DeepSkyBlue:r.fromUInt32(4278239231),DimGray:r.fromUInt32(4285098345),DodgerBlue:r.fromUInt32(4280193279),Firebrick:r.fromUInt32(4289864226),FloralWhite:r.fromUInt32(4294966e3),ForestGreen:r.fromUInt32(4280453922),Fuchsia:r.fromUInt32(4294902015),Gainsboro:r.fromUInt32(4292664540),GhostWhite:r.fromUInt32(4294506751),Gold:r.fromUInt32(4294956800),Goldenrod:r.fromUInt32(4292519200),Gray:r.fromUInt32(4286611584),Green:r.fromUInt32(4278222848),GreenYellow:r.fromUInt32(4289593135),Honeydew:r.fromUInt32(4293984240),HotPink:r.fromUInt32(4294928820),IndianRed:r.fromUInt32(4291648604),Indigo:r.fromUInt32(4283105410),Ivory:r.fromUInt32(4294967280),Khaki:r.fromUInt32(4293977740),Lavender:r.fromUInt32(4293322490),LavenderBlush:r.fromUInt32(4294963445),LawnGreen:r.fromUInt32(4286381056),LemonChiffon:r.fromUInt32(4294965965),LightBlue:r.fromUInt32(4289583334),LightCoral:r.fromUInt32(4293951616),LightCyan:r.fromUInt32(4292935679),LightGoldenrodYellow:r.fromUInt32(4294638290),LightGray:r.fromUInt32(4292072403),LightGreen:r.fromUInt32(4287688336),LightPink:r.fromUInt32(4294948545),LightSalmon:r.fromUInt32(4294942842),LightSeaGreen:r.fromUInt32(4280332970),LightSkyBlue:r.fromUInt32(4287090426),LightSlateGray:r.fromUInt32(4286023833),LightSteelBlue:r.fromUInt32(4289774814),LightYellow:r.fromUInt32(4294967264),Lime:r.fromUInt32(4278255360),LimeGreen:r.fromUInt32(4281519410),Linen:r.fromUInt32(4294635750),Magenta:r.fromUInt32(4294902015),Maroon:r.fromUInt32(4286578688),MediumAquamarine:r.fromUInt32(4284927402),MediumBlue:r.fromUInt32(4278190285),MediumOrchid:r.fromUInt32(4290401747),MediumPurple:r.fromUInt32(4287852763),MediumSeaGreen:r.fromUInt32(4282168177),MediumSlateBlue:r.fromUInt32(4286277870),MediumSpringGreen:r.fromUInt32(4278254234),MediumTurquoise:r.fromUInt32(4282962380),MediumVioletRed:r.fromUInt32(4291237253),MidnightBlue:r.fromUInt32(4279834992),MintCream:r.fromUInt32(4294311930),MistyRose:r.fromUInt32(4294960353),Moccasin:r.fromUInt32(4294960309),NavajoWhite:r.fromUInt32(4294958765),Navy:r.fromUInt32(4278190208),OldLace:r.fromUInt32(4294833638),Olive:r.fromUInt32(4286611456),OliveDrab:r.fromUInt32(4285238819),Orange:r.fromUInt32(4294944e3),OrangeRed:r.fromUInt32(4294919424),Orchid:r.fromUInt32(4292505814),PaleGoldenrod:r.fromUInt32(4293847210),PaleGreen:r.fromUInt32(4288215960),PaleTurquoise:r.fromUInt32(4289720046),PaleVioletRed:r.fromUInt32(4292571283),PapayaWhip:r.fromUInt32(4294963157),PeachPuff:r.fromUInt32(4294957753),Peru:r.fromUInt32(4291659071),Pink:r.fromUInt32(4294951115),Plum:r.fromUInt32(4292714717),PowderBlue:r.fromUInt32(4289781990),Purple:r.fromUInt32(4286578816),Red:r.fromUInt32(4294901760),RosyBrown:r.fromUInt32(4290547599),RoyalBlue:r.fromUInt32(4282477025),SaddleBrown:r.fromUInt32(4287317267),Salmon:r.fromUInt32(4294606962),SandyBrown:r.fromUInt32(4294222944),SeaGreen:r.fromUInt32(4281240407),SeaShell:r.fromUInt32(4294964718),Sienna:r.fromUInt32(4288696877),Silver:r.fromUInt32(4290822336),SkyBlue:r.fromUInt32(4287090411),SlateBlue:r.fromUInt32(4285160141),SlateGray:r.fromUInt32(4285563024),Snow:r.fromUInt32(4294966010),SpringGreen:r.fromUInt32(4278255487),SteelBlue:r.fromUInt32(4282811060),Tan:r.fromUInt32(4291998860),Teal:r.fromUInt32(4278222976),Thistle:r.fromUInt32(4292394968),Tomato:r.fromUInt32(4294927175),Transparent:r.fromUInt32(16777215),Turquoise:r.fromUInt32(4282441936),Violet:r.fromUInt32(4293821166),Wheat:r.fromUInt32(4294303411),White:r.fromUInt32(4294967295),WhiteSmoke:r.fromUInt32(4294309365),Yellow:r.fromUInt32(4294967040),YellowGreen:r.fromUInt32(4288335154)};Object.freeze(p);const On=new Map,xe={changeIntensity:(e,t)=>{const i=xe.toHsv(e);return i[2]*=t,i[2]>1&&(i[2]=1),r.fromHsv(i[0],i[1],i[2])},changeSaturation:(e,t)=>{const i=xe.toHsv(e);return i[1]*=t,i[1]>1&&(i[1]=1),r.fromHsv(i[0],i[1],i[2])},changeOpacity:(e,t)=>r.fromAColor(e.a*t,e),complementary:e=>{const t=xe.toHsv(e);let i=t[0]-.5;return i<0&&(i+=1),r.fromHsv(i,t[1],t[2])},toHsv:e=>{const t=e.r,i=e.g,s=e.b,n=Math.min(Math.min(t,i),s),o=Math.max(Math.max(t,i),s),a=o-n,l=o===0?0:a/o;let h=0;l===0?h=0:(t===o?h=(i-s)/a:i===o?h=2+(s-t)/a:s===o&&(h=4+(t-i)/a),h*=60,h<0&&(h+=360));const m=new Array(3);return m[0]=h/360,m[1]=l,m[2]=o/255,m},toUint:e=>{let t=Vi(e.a<<24);return t+=Vi(e.r<<16),t+=Vi(e.g<<8),t+=Vi(e.b),Vi(t)},toByteString:e=>`${e.a},${e.r},${e.g},${e.b}`,getColorName:e=>{const t=xe.toUint(e);if(On.has(t))return On.get(t);const i=p;for(const s of Object.keys(i)){const n=i[s];if(xe.toUint(n)===t)return On.set(t,s),s}},hueDifference:(e,t)=>{const i=xe.toHsv(e),s=xe.toHsv(t);let n=i[0]-s[0];n>.5&&(n-=1),n<-.5&&(n+=1);const o=Math.pow(n,2);return Math.sqrt(o)}};let Ot=class en{constructor(t){u(this,"colors",[]),t&&(this.colors=[...t],Object.freeze(this.colors))}static interpolate(t,...i){if(!i||i.length===0||t<1)return new en([]);const s=[],n=t===1?0:1/(t-1);for(let o=0;o<t;o++){const a=o*n*(i.length-1),l=Math.floor(a),h=l+1<i.length?l+1:l;s[o]=r.interpolate(i[l],i[h],a-l)}return new en(s)}reverse(){return new en(Qi(this.colors))}};class U{static blackWhiteRed(t){return Ot.interpolate(t,p.Black,p.White,p.Red)}static blueWhiteRed(t){return Ot.interpolate(t,p.Blue,p.White,p.Red)}static cool(t){return Ot.interpolate(t,p.Cyan,p.Magenta)}static gray(t){return Ot.interpolate(t,p.Black,p.White)}static hot(t){return Ot.interpolate(t,p.Black,r.fromRgb(127,0,0),r.fromRgb(255,127,0),r.fromRgb(255,255,127),p.White)}static hue(t){return Ot.interpolate(t,p.Red,p.Yellow,p.Green,p.Cyan,p.Blue,p.Magenta,p.Red)}static hueDistinct(t){return Ot.interpolate(t,p.Magenta,p.Blue,p.Cyan,p.Green,p.Yellow,p.Red)}static jet(t){return Ot.interpolate(t,p.DarkBlue,p.Cyan,p.Yellow,p.Orange,p.DarkRed)}static rainbow(t){return Ot.interpolate(t,p.Violet,p.Indigo,p.Blue,p.Green,p.Yellow,p.Orange,p.Red)}static cividis(t=256){return t===zn.length?new Ot(zn):Ot.interpolate(t,...zn)}static inferno(t=256){return t===Gn.length?new Ot(Gn):Ot.interpolate(t,...Gn)}static magma(t=256){return t===$n.length?new Ot($n):Ot.interpolate(t,...$n)}static plasma(t=256){return t===jn.length?new Ot(jn):Ot.interpolate(t,...jn)}static viridis(t=256){return t===Un.length?new Ot(Un):Ot.interpolate(t,...Un)}}u(U,"blueWhiteRed31"),u(U,"hot64"),u(U,"hue64");U.blueWhiteRed31=U.blueWhiteRed(31);U.hot64=U.hot(64);U.hue64=U.hue(64);const zn=[r.fromRgb(0,32,77),r.fromRgb(0,33,78),r.fromRgb(0,34,80),r.fromRgb(0,34,82),r.fromRgb(0,35,83),r.fromRgb(0,36,85),r.fromRgb(0,37,87),r.fromRgb(0,37,88),r.fromRgb(0,38,90),r.fromRgb(0,39,92),r.fromRgb(0,39,94),r.fromRgb(0,40,96),r.fromRgb(0,41,97),r.fromRgb(0,42,99),r.fromRgb(0,42,101),r.fromRgb(0,43,103),r.fromRgb(0,44,105),r.fromRgb(0,44,106),r.fromRgb(0,45,108),r.fromRgb(0,46,110),r.fromRgb(0,46,111),r.fromRgb(0,47,111),r.fromRgb(0,47,111),r.fromRgb(0,48,111),r.fromRgb(0,48,111),r.fromRgb(0,49,111),r.fromRgb(0,50,111),r.fromRgb(0,51,111),r.fromRgb(0,51,111),r.fromRgb(0,52,111),r.fromRgb(0,53,110),r.fromRgb(1,54,110),r.fromRgb(6,54,110),r.fromRgb(11,55,110),r.fromRgb(15,56,110),r.fromRgb(18,56,109),r.fromRgb(21,57,109),r.fromRgb(24,58,109),r.fromRgb(26,59,109),r.fromRgb(29,59,109),r.fromRgb(31,60,109),r.fromRgb(33,61,109),r.fromRgb(35,62,108),r.fromRgb(36,62,108),r.fromRgb(38,63,108),r.fromRgb(40,64,108),r.fromRgb(42,64,108),r.fromRgb(43,65,108),r.fromRgb(45,66,108),r.fromRgb(46,67,108),r.fromRgb(48,67,108),r.fromRgb(49,68,107),r.fromRgb(50,69,107),r.fromRgb(52,69,107),r.fromRgb(53,70,107),r.fromRgb(54,71,107),r.fromRgb(56,72,107),r.fromRgb(57,72,107),r.fromRgb(58,73,107),r.fromRgb(59,74,107),r.fromRgb(61,74,107),r.fromRgb(62,75,107),r.fromRgb(63,76,107),r.fromRgb(64,77,107),r.fromRgb(65,77,107),r.fromRgb(66,78,107),r.fromRgb(67,79,107),r.fromRgb(68,79,107),r.fromRgb(70,80,107),r.fromRgb(71,81,107),r.fromRgb(72,82,107),r.fromRgb(73,82,107),r.fromRgb(74,83,107),r.fromRgb(75,84,108),r.fromRgb(76,84,108),r.fromRgb(77,85,108),r.fromRgb(78,86,108),r.fromRgb(79,87,108),r.fromRgb(80,87,108),r.fromRgb(81,88,108),r.fromRgb(82,89,108),r.fromRgb(83,89,108),r.fromRgb(84,90,108),r.fromRgb(85,91,109),r.fromRgb(86,92,109),r.fromRgb(87,92,109),r.fromRgb(88,93,109),r.fromRgb(89,94,109),r.fromRgb(89,95,109),r.fromRgb(90,95,109),r.fromRgb(91,96,110),r.fromRgb(92,97,110),r.fromRgb(93,97,110),r.fromRgb(94,98,110),r.fromRgb(95,99,110),r.fromRgb(96,100,111),r.fromRgb(97,100,111),r.fromRgb(98,101,111),r.fromRgb(99,102,111),r.fromRgb(100,102,111),r.fromRgb(100,103,112),r.fromRgb(101,104,112),r.fromRgb(102,105,112),r.fromRgb(103,105,112),r.fromRgb(104,106,113),r.fromRgb(105,107,113),r.fromRgb(106,108,113),r.fromRgb(107,108,113),r.fromRgb(108,109,114),r.fromRgb(108,110,114),r.fromRgb(109,110,114),r.fromRgb(110,111,115),r.fromRgb(111,112,115),r.fromRgb(112,113,115),r.fromRgb(113,113,116),r.fromRgb(114,114,116),r.fromRgb(114,115,116),r.fromRgb(115,116,117),r.fromRgb(116,116,117),r.fromRgb(117,117,117),r.fromRgb(118,118,118),r.fromRgb(119,119,118),r.fromRgb(120,119,119),r.fromRgb(120,120,119),r.fromRgb(121,121,119),r.fromRgb(122,122,120),r.fromRgb(123,122,120),r.fromRgb(124,123,120),r.fromRgb(125,124,120),r.fromRgb(126,125,120),r.fromRgb(127,125,120),r.fromRgb(128,126,121),r.fromRgb(129,127,121),r.fromRgb(130,128,121),r.fromRgb(131,128,121),r.fromRgb(132,129,121),r.fromRgb(132,130,121),r.fromRgb(133,131,121),r.fromRgb(134,131,121),r.fromRgb(135,132,121),r.fromRgb(136,133,121),r.fromRgb(137,134,121),r.fromRgb(138,135,121),r.fromRgb(139,135,121),r.fromRgb(140,136,121),r.fromRgb(141,137,121),r.fromRgb(142,138,121),r.fromRgb(143,138,121),r.fromRgb(144,139,121),r.fromRgb(145,140,120),r.fromRgb(146,141,120),r.fromRgb(147,142,120),r.fromRgb(148,142,120),r.fromRgb(149,143,120),r.fromRgb(150,144,120),r.fromRgb(151,145,120),r.fromRgb(152,146,120),r.fromRgb(153,146,120),r.fromRgb(154,147,119),r.fromRgb(155,148,119),r.fromRgb(156,149,119),r.fromRgb(157,150,119),r.fromRgb(158,150,119),r.fromRgb(159,151,119),r.fromRgb(160,152,119),r.fromRgb(161,153,118),r.fromRgb(162,154,118),r.fromRgb(163,154,118),r.fromRgb(164,155,118),r.fromRgb(165,156,118),r.fromRgb(166,157,117),r.fromRgb(168,158,117),r.fromRgb(169,159,117),r.fromRgb(170,159,117),r.fromRgb(171,160,116),r.fromRgb(172,161,116),r.fromRgb(173,162,116),r.fromRgb(174,163,116),r.fromRgb(175,164,115),r.fromRgb(176,164,115),r.fromRgb(177,165,115),r.fromRgb(178,166,114),r.fromRgb(179,167,114),r.fromRgb(180,168,114),r.fromRgb(181,169,113),r.fromRgb(182,169,113),r.fromRgb(183,170,113),r.fromRgb(184,171,112),r.fromRgb(185,172,112),r.fromRgb(186,173,112),r.fromRgb(187,174,111),r.fromRgb(188,175,111),r.fromRgb(190,175,111),r.fromRgb(191,176,110),r.fromRgb(192,177,110),r.fromRgb(193,178,109),r.fromRgb(194,179,109),r.fromRgb(195,180,109),r.fromRgb(196,181,108),r.fromRgb(197,181,108),r.fromRgb(198,182,107),r.fromRgb(199,183,107),r.fromRgb(200,184,106),r.fromRgb(201,185,106),r.fromRgb(203,186,105),r.fromRgb(204,187,105),r.fromRgb(205,188,104),r.fromRgb(206,188,104),r.fromRgb(207,189,103),r.fromRgb(208,190,103),r.fromRgb(209,191,102),r.fromRgb(210,192,102),r.fromRgb(211,193,101),r.fromRgb(212,194,100),r.fromRgb(214,195,100),r.fromRgb(215,196,99),r.fromRgb(216,197,99),r.fromRgb(217,197,98),r.fromRgb(218,198,97),r.fromRgb(219,199,97),r.fromRgb(220,200,96),r.fromRgb(221,201,95),r.fromRgb(222,202,95),r.fromRgb(224,203,94),r.fromRgb(225,204,93),r.fromRgb(226,205,92),r.fromRgb(227,206,92),r.fromRgb(228,207,91),r.fromRgb(229,208,90),r.fromRgb(230,209,89),r.fromRgb(232,210,89),r.fromRgb(233,211,88),r.fromRgb(234,211,87),r.fromRgb(235,212,86),r.fromRgb(236,213,85),r.fromRgb(237,214,84),r.fromRgb(239,215,83),r.fromRgb(240,216,82),r.fromRgb(241,217,81),r.fromRgb(242,218,80),r.fromRgb(243,219,79),r.fromRgb(244,220,78),r.fromRgb(246,221,77),r.fromRgb(247,222,76),r.fromRgb(248,223,75),r.fromRgb(249,224,74),r.fromRgb(250,225,73),r.fromRgb(251,226,72),r.fromRgb(253,227,70),r.fromRgb(254,228,69),r.fromRgb(255,229,68),r.fromRgb(255,230,66),r.fromRgb(255,231,66),r.fromRgb(255,232,67),r.fromRgb(255,233,68),r.fromRgb(255,234,70)],Gn=[r.fromRgb(0,0,4),r.fromRgb(1,0,5),r.fromRgb(1,1,6),r.fromRgb(1,1,8),r.fromRgb(2,1,10),r.fromRgb(2,2,12),r.fromRgb(2,2,14),r.fromRgb(3,2,16),r.fromRgb(4,3,18),r.fromRgb(4,3,20),r.fromRgb(5,4,23),r.fromRgb(6,4,25),r.fromRgb(7,5,27),r.fromRgb(8,5,29),r.fromRgb(9,6,31),r.fromRgb(10,7,34),r.fromRgb(11,7,36),r.fromRgb(12,8,38),r.fromRgb(13,8,41),r.fromRgb(14,9,43),r.fromRgb(16,9,45),r.fromRgb(17,10,48),r.fromRgb(18,10,50),r.fromRgb(20,11,52),r.fromRgb(21,11,55),r.fromRgb(22,11,57),r.fromRgb(24,12,60),r.fromRgb(25,12,62),r.fromRgb(27,12,65),r.fromRgb(28,12,67),r.fromRgb(30,12,69),r.fromRgb(31,12,72),r.fromRgb(33,12,74),r.fromRgb(35,12,76),r.fromRgb(36,12,79),r.fromRgb(38,12,81),r.fromRgb(40,11,83),r.fromRgb(41,11,85),r.fromRgb(43,11,87),r.fromRgb(45,11,89),r.fromRgb(47,10,91),r.fromRgb(49,10,92),r.fromRgb(50,10,94),r.fromRgb(52,10,95),r.fromRgb(54,9,97),r.fromRgb(56,9,98),r.fromRgb(57,9,99),r.fromRgb(59,9,100),r.fromRgb(61,9,101),r.fromRgb(62,9,102),r.fromRgb(64,10,103),r.fromRgb(66,10,104),r.fromRgb(68,10,104),r.fromRgb(69,10,105),r.fromRgb(71,11,106),r.fromRgb(73,11,106),r.fromRgb(74,12,107),r.fromRgb(76,12,107),r.fromRgb(77,13,108),r.fromRgb(79,13,108),r.fromRgb(81,14,108),r.fromRgb(82,14,109),r.fromRgb(84,15,109),r.fromRgb(85,15,109),r.fromRgb(87,16,110),r.fromRgb(89,16,110),r.fromRgb(90,17,110),r.fromRgb(92,18,110),r.fromRgb(93,18,110),r.fromRgb(95,19,110),r.fromRgb(97,19,110),r.fromRgb(98,20,110),r.fromRgb(100,21,110),r.fromRgb(101,21,110),r.fromRgb(103,22,110),r.fromRgb(105,22,110),r.fromRgb(106,23,110),r.fromRgb(108,24,110),r.fromRgb(109,24,110),r.fromRgb(111,25,110),r.fromRgb(113,25,110),r.fromRgb(114,26,110),r.fromRgb(116,26,110),r.fromRgb(117,27,110),r.fromRgb(119,28,109),r.fromRgb(120,28,109),r.fromRgb(122,29,109),r.fromRgb(124,29,109),r.fromRgb(125,30,109),r.fromRgb(127,30,108),r.fromRgb(128,31,108),r.fromRgb(130,32,108),r.fromRgb(132,32,107),r.fromRgb(133,33,107),r.fromRgb(135,33,107),r.fromRgb(136,34,106),r.fromRgb(138,34,106),r.fromRgb(140,35,105),r.fromRgb(141,35,105),r.fromRgb(143,36,105),r.fromRgb(144,37,104),r.fromRgb(146,37,104),r.fromRgb(147,38,103),r.fromRgb(149,38,103),r.fromRgb(151,39,102),r.fromRgb(152,39,102),r.fromRgb(154,40,101),r.fromRgb(155,41,100),r.fromRgb(157,41,100),r.fromRgb(159,42,99),r.fromRgb(160,42,99),r.fromRgb(162,43,98),r.fromRgb(163,44,97),r.fromRgb(165,44,96),r.fromRgb(166,45,96),r.fromRgb(168,46,95),r.fromRgb(169,46,94),r.fromRgb(171,47,94),r.fromRgb(173,48,93),r.fromRgb(174,48,92),r.fromRgb(176,49,91),r.fromRgb(177,50,90),r.fromRgb(179,50,90),r.fromRgb(180,51,89),r.fromRgb(182,52,88),r.fromRgb(183,53,87),r.fromRgb(185,53,86),r.fromRgb(186,54,85),r.fromRgb(188,55,84),r.fromRgb(189,56,83),r.fromRgb(191,57,82),r.fromRgb(192,58,81),r.fromRgb(193,58,80),r.fromRgb(195,59,79),r.fromRgb(196,60,78),r.fromRgb(198,61,77),r.fromRgb(199,62,76),r.fromRgb(200,63,75),r.fromRgb(202,64,74),r.fromRgb(203,65,73),r.fromRgb(204,66,72),r.fromRgb(206,67,71),r.fromRgb(207,68,70),r.fromRgb(208,69,69),r.fromRgb(210,70,68),r.fromRgb(211,71,67),r.fromRgb(212,72,66),r.fromRgb(213,74,65),r.fromRgb(215,75,63),r.fromRgb(216,76,62),r.fromRgb(217,77,61),r.fromRgb(218,78,60),r.fromRgb(219,80,59),r.fromRgb(221,81,58),r.fromRgb(222,82,56),r.fromRgb(223,83,55),r.fromRgb(224,85,54),r.fromRgb(225,86,53),r.fromRgb(226,87,52),r.fromRgb(227,89,51),r.fromRgb(228,90,49),r.fromRgb(229,92,48),r.fromRgb(230,93,47),r.fromRgb(231,94,46),r.fromRgb(232,96,45),r.fromRgb(233,97,43),r.fromRgb(234,99,42),r.fromRgb(235,100,41),r.fromRgb(235,102,40),r.fromRgb(236,103,38),r.fromRgb(237,105,37),r.fromRgb(238,106,36),r.fromRgb(239,108,35),r.fromRgb(239,110,33),r.fromRgb(240,111,32),r.fromRgb(241,113,31),r.fromRgb(241,115,29),r.fromRgb(242,116,28),r.fromRgb(243,118,27),r.fromRgb(243,120,25),r.fromRgb(244,121,24),r.fromRgb(245,123,23),r.fromRgb(245,125,21),r.fromRgb(246,126,20),r.fromRgb(246,128,19),r.fromRgb(247,130,18),r.fromRgb(247,132,16),r.fromRgb(248,133,15),r.fromRgb(248,135,14),r.fromRgb(248,137,12),r.fromRgb(249,139,11),r.fromRgb(249,140,10),r.fromRgb(249,142,9),r.fromRgb(250,144,8),r.fromRgb(250,146,7),r.fromRgb(250,148,7),r.fromRgb(251,150,6),r.fromRgb(251,151,6),r.fromRgb(251,153,6),r.fromRgb(251,155,6),r.fromRgb(251,157,7),r.fromRgb(252,159,7),r.fromRgb(252,161,8),r.fromRgb(252,163,9),r.fromRgb(252,165,10),r.fromRgb(252,166,12),r.fromRgb(252,168,13),r.fromRgb(252,170,15),r.fromRgb(252,172,17),r.fromRgb(252,174,18),r.fromRgb(252,176,20),r.fromRgb(252,178,22),r.fromRgb(252,180,24),r.fromRgb(251,182,26),r.fromRgb(251,184,29),r.fromRgb(251,186,31),r.fromRgb(251,188,33),r.fromRgb(251,190,35),r.fromRgb(250,192,38),r.fromRgb(250,194,40),r.fromRgb(250,196,42),r.fromRgb(250,198,45),r.fromRgb(249,199,47),r.fromRgb(249,201,50),r.fromRgb(249,203,53),r.fromRgb(248,205,55),r.fromRgb(248,207,58),r.fromRgb(247,209,61),r.fromRgb(247,211,64),r.fromRgb(246,213,67),r.fromRgb(246,215,70),r.fromRgb(245,217,73),r.fromRgb(245,219,76),r.fromRgb(244,221,79),r.fromRgb(244,223,83),r.fromRgb(244,225,86),r.fromRgb(243,227,90),r.fromRgb(243,229,93),r.fromRgb(242,230,97),r.fromRgb(242,232,101),r.fromRgb(242,234,105),r.fromRgb(241,236,109),r.fromRgb(241,237,113),r.fromRgb(241,239,117),r.fromRgb(241,241,121),r.fromRgb(242,242,125),r.fromRgb(242,244,130),r.fromRgb(243,245,134),r.fromRgb(243,246,138),r.fromRgb(244,248,142),r.fromRgb(245,249,146),r.fromRgb(246,250,150),r.fromRgb(248,251,154),r.fromRgb(249,252,157),r.fromRgb(250,253,161),r.fromRgb(252,255,164)],$n=[r.fromRgb(0,0,4),r.fromRgb(1,0,5),r.fromRgb(1,1,6),r.fromRgb(1,1,8),r.fromRgb(2,1,9),r.fromRgb(2,2,11),r.fromRgb(2,2,13),r.fromRgb(3,3,15),r.fromRgb(3,3,18),r.fromRgb(4,4,20),r.fromRgb(5,4,22),r.fromRgb(6,5,24),r.fromRgb(6,5,26),r.fromRgb(7,6,28),r.fromRgb(8,7,30),r.fromRgb(9,7,32),r.fromRgb(10,8,34),r.fromRgb(11,9,36),r.fromRgb(12,9,38),r.fromRgb(13,10,41),r.fromRgb(14,11,43),r.fromRgb(16,11,45),r.fromRgb(17,12,47),r.fromRgb(18,13,49),r.fromRgb(19,13,52),r.fromRgb(20,14,54),r.fromRgb(21,14,56),r.fromRgb(22,15,59),r.fromRgb(24,15,61),r.fromRgb(25,16,63),r.fromRgb(26,16,66),r.fromRgb(28,16,68),r.fromRgb(29,17,71),r.fromRgb(30,17,73),r.fromRgb(32,17,75),r.fromRgb(33,17,78),r.fromRgb(34,17,80),r.fromRgb(36,18,83),r.fromRgb(37,18,85),r.fromRgb(39,18,88),r.fromRgb(41,17,90),r.fromRgb(42,17,92),r.fromRgb(44,17,95),r.fromRgb(45,17,97),r.fromRgb(47,17,99),r.fromRgb(49,17,101),r.fromRgb(51,16,103),r.fromRgb(52,16,105),r.fromRgb(54,16,107),r.fromRgb(56,16,108),r.fromRgb(57,15,110),r.fromRgb(59,15,112),r.fromRgb(61,15,113),r.fromRgb(63,15,114),r.fromRgb(64,15,116),r.fromRgb(66,15,117),r.fromRgb(68,15,118),r.fromRgb(69,16,119),r.fromRgb(71,16,120),r.fromRgb(73,16,120),r.fromRgb(74,16,121),r.fromRgb(76,17,122),r.fromRgb(78,17,123),r.fromRgb(79,18,123),r.fromRgb(81,18,124),r.fromRgb(82,19,124),r.fromRgb(84,19,125),r.fromRgb(86,20,125),r.fromRgb(87,21,126),r.fromRgb(89,21,126),r.fromRgb(90,22,126),r.fromRgb(92,22,127),r.fromRgb(93,23,127),r.fromRgb(95,24,127),r.fromRgb(96,24,128),r.fromRgb(98,25,128),r.fromRgb(100,26,128),r.fromRgb(101,26,128),r.fromRgb(103,27,128),r.fromRgb(104,28,129),r.fromRgb(106,28,129),r.fromRgb(107,29,129),r.fromRgb(109,29,129),r.fromRgb(110,30,129),r.fromRgb(112,31,129),r.fromRgb(114,31,129),r.fromRgb(115,32,129),r.fromRgb(117,33,129),r.fromRgb(118,33,129),r.fromRgb(120,34,129),r.fromRgb(121,34,130),r.fromRgb(123,35,130),r.fromRgb(124,35,130),r.fromRgb(126,36,130),r.fromRgb(128,37,130),r.fromRgb(129,37,129),r.fromRgb(131,38,129),r.fromRgb(132,38,129),r.fromRgb(134,39,129),r.fromRgb(136,39,129),r.fromRgb(137,40,129),r.fromRgb(139,41,129),r.fromRgb(140,41,129),r.fromRgb(142,42,129),r.fromRgb(144,42,129),r.fromRgb(145,43,129),r.fromRgb(147,43,128),r.fromRgb(148,44,128),r.fromRgb(150,44,128),r.fromRgb(152,45,128),r.fromRgb(153,45,128),r.fromRgb(155,46,127),r.fromRgb(156,46,127),r.fromRgb(158,47,127),r.fromRgb(160,47,127),r.fromRgb(161,48,126),r.fromRgb(163,48,126),r.fromRgb(165,49,126),r.fromRgb(166,49,125),r.fromRgb(168,50,125),r.fromRgb(170,51,125),r.fromRgb(171,51,124),r.fromRgb(173,52,124),r.fromRgb(174,52,123),r.fromRgb(176,53,123),r.fromRgb(178,53,123),r.fromRgb(179,54,122),r.fromRgb(181,54,122),r.fromRgb(183,55,121),r.fromRgb(184,55,121),r.fromRgb(186,56,120),r.fromRgb(188,57,120),r.fromRgb(189,57,119),r.fromRgb(191,58,119),r.fromRgb(192,58,118),r.fromRgb(194,59,117),r.fromRgb(196,60,117),r.fromRgb(197,60,116),r.fromRgb(199,61,115),r.fromRgb(200,62,115),r.fromRgb(202,62,114),r.fromRgb(204,63,113),r.fromRgb(205,64,113),r.fromRgb(207,64,112),r.fromRgb(208,65,111),r.fromRgb(210,66,111),r.fromRgb(211,67,110),r.fromRgb(213,68,109),r.fromRgb(214,69,108),r.fromRgb(216,69,108),r.fromRgb(217,70,107),r.fromRgb(219,71,106),r.fromRgb(220,72,105),r.fromRgb(222,73,104),r.fromRgb(223,74,104),r.fromRgb(224,76,103),r.fromRgb(226,77,102),r.fromRgb(227,78,101),r.fromRgb(228,79,100),r.fromRgb(229,80,100),r.fromRgb(231,82,99),r.fromRgb(232,83,98),r.fromRgb(233,84,98),r.fromRgb(234,86,97),r.fromRgb(235,87,96),r.fromRgb(236,88,96),r.fromRgb(237,90,95),r.fromRgb(238,91,94),r.fromRgb(239,93,94),r.fromRgb(240,95,94),r.fromRgb(241,96,93),r.fromRgb(242,98,93),r.fromRgb(242,100,92),r.fromRgb(243,101,92),r.fromRgb(244,103,92),r.fromRgb(244,105,92),r.fromRgb(245,107,92),r.fromRgb(246,108,92),r.fromRgb(246,110,92),r.fromRgb(247,112,92),r.fromRgb(247,114,92),r.fromRgb(248,116,92),r.fromRgb(248,118,92),r.fromRgb(249,120,93),r.fromRgb(249,121,93),r.fromRgb(249,123,93),r.fromRgb(250,125,94),r.fromRgb(250,127,94),r.fromRgb(250,129,95),r.fromRgb(251,131,95),r.fromRgb(251,133,96),r.fromRgb(251,135,97),r.fromRgb(252,137,97),r.fromRgb(252,138,98),r.fromRgb(252,140,99),r.fromRgb(252,142,100),r.fromRgb(252,144,101),r.fromRgb(253,146,102),r.fromRgb(253,148,103),r.fromRgb(253,150,104),r.fromRgb(253,152,105),r.fromRgb(253,154,106),r.fromRgb(253,155,107),r.fromRgb(254,157,108),r.fromRgb(254,159,109),r.fromRgb(254,161,110),r.fromRgb(254,163,111),r.fromRgb(254,165,113),r.fromRgb(254,167,114),r.fromRgb(254,169,115),r.fromRgb(254,170,116),r.fromRgb(254,172,118),r.fromRgb(254,174,119),r.fromRgb(254,176,120),r.fromRgb(254,178,122),r.fromRgb(254,180,123),r.fromRgb(254,182,124),r.fromRgb(254,183,126),r.fromRgb(254,185,127),r.fromRgb(254,187,129),r.fromRgb(254,189,130),r.fromRgb(254,191,132),r.fromRgb(254,193,133),r.fromRgb(254,194,135),r.fromRgb(254,196,136),r.fromRgb(254,198,138),r.fromRgb(254,200,140),r.fromRgb(254,202,141),r.fromRgb(254,204,143),r.fromRgb(254,205,144),r.fromRgb(254,207,146),r.fromRgb(254,209,148),r.fromRgb(254,211,149),r.fromRgb(254,213,151),r.fromRgb(254,215,153),r.fromRgb(254,216,154),r.fromRgb(253,218,156),r.fromRgb(253,220,158),r.fromRgb(253,222,160),r.fromRgb(253,224,161),r.fromRgb(253,226,163),r.fromRgb(253,227,165),r.fromRgb(253,229,167),r.fromRgb(253,231,169),r.fromRgb(253,233,170),r.fromRgb(253,235,172),r.fromRgb(252,236,174),r.fromRgb(252,238,176),r.fromRgb(252,240,178),r.fromRgb(252,242,180),r.fromRgb(252,244,182),r.fromRgb(252,246,184),r.fromRgb(252,247,185),r.fromRgb(252,249,187),r.fromRgb(252,251,189),r.fromRgb(252,253,191)],jn=[r.fromRgb(13,8,135),r.fromRgb(16,7,136),r.fromRgb(19,7,137),r.fromRgb(22,7,138),r.fromRgb(25,6,140),r.fromRgb(27,6,141),r.fromRgb(29,6,142),r.fromRgb(32,6,143),r.fromRgb(34,6,144),r.fromRgb(36,6,145),r.fromRgb(38,5,145),r.fromRgb(40,5,146),r.fromRgb(42,5,147),r.fromRgb(44,5,148),r.fromRgb(46,5,149),r.fromRgb(47,5,150),r.fromRgb(49,5,151),r.fromRgb(51,5,151),r.fromRgb(53,4,152),r.fromRgb(55,4,153),r.fromRgb(56,4,154),r.fromRgb(58,4,154),r.fromRgb(60,4,155),r.fromRgb(62,4,156),r.fromRgb(63,4,156),r.fromRgb(65,4,157),r.fromRgb(67,3,158),r.fromRgb(68,3,158),r.fromRgb(70,3,159),r.fromRgb(72,3,159),r.fromRgb(73,3,160),r.fromRgb(75,3,161),r.fromRgb(76,2,161),r.fromRgb(78,2,162),r.fromRgb(80,2,162),r.fromRgb(81,2,163),r.fromRgb(83,2,163),r.fromRgb(85,2,164),r.fromRgb(86,1,164),r.fromRgb(88,1,164),r.fromRgb(89,1,165),r.fromRgb(91,1,165),r.fromRgb(92,1,166),r.fromRgb(94,1,166),r.fromRgb(96,1,166),r.fromRgb(97,0,167),r.fromRgb(99,0,167),r.fromRgb(100,0,167),r.fromRgb(102,0,167),r.fromRgb(103,0,168),r.fromRgb(105,0,168),r.fromRgb(106,0,168),r.fromRgb(108,0,168),r.fromRgb(110,0,168),r.fromRgb(111,0,168),r.fromRgb(113,0,168),r.fromRgb(114,1,168),r.fromRgb(116,1,168),r.fromRgb(117,1,168),r.fromRgb(119,1,168),r.fromRgb(120,1,168),r.fromRgb(122,2,168),r.fromRgb(123,2,168),r.fromRgb(125,3,168),r.fromRgb(126,3,168),r.fromRgb(128,4,168),r.fromRgb(129,4,167),r.fromRgb(131,5,167),r.fromRgb(132,5,167),r.fromRgb(134,6,166),r.fromRgb(135,7,166),r.fromRgb(136,8,166),r.fromRgb(138,9,165),r.fromRgb(139,10,165),r.fromRgb(141,11,165),r.fromRgb(142,12,164),r.fromRgb(143,13,164),r.fromRgb(145,14,163),r.fromRgb(146,15,163),r.fromRgb(148,16,162),r.fromRgb(149,17,161),r.fromRgb(150,19,161),r.fromRgb(152,20,160),r.fromRgb(153,21,159),r.fromRgb(154,22,159),r.fromRgb(156,23,158),r.fromRgb(157,24,157),r.fromRgb(158,25,157),r.fromRgb(160,26,156),r.fromRgb(161,27,155),r.fromRgb(162,29,154),r.fromRgb(163,30,154),r.fromRgb(165,31,153),r.fromRgb(166,32,152),r.fromRgb(167,33,151),r.fromRgb(168,34,150),r.fromRgb(170,35,149),r.fromRgb(171,36,148),r.fromRgb(172,38,148),r.fromRgb(173,39,147),r.fromRgb(174,40,146),r.fromRgb(176,41,145),r.fromRgb(177,42,144),r.fromRgb(178,43,143),r.fromRgb(179,44,142),r.fromRgb(180,46,141),r.fromRgb(181,47,140),r.fromRgb(182,48,139),r.fromRgb(183,49,138),r.fromRgb(184,50,137),r.fromRgb(186,51,136),r.fromRgb(187,52,136),r.fromRgb(188,53,135),r.fromRgb(189,55,134),r.fromRgb(190,56,133),r.fromRgb(191,57,132),r.fromRgb(192,58,131),r.fromRgb(193,59,130),r.fromRgb(194,60,129),r.fromRgb(195,61,128),r.fromRgb(196,62,127),r.fromRgb(197,64,126),r.fromRgb(198,65,125),r.fromRgb(199,66,124),r.fromRgb(200,67,123),r.fromRgb(201,68,122),r.fromRgb(202,69,122),r.fromRgb(203,70,121),r.fromRgb(204,71,120),r.fromRgb(204,73,119),r.fromRgb(205,74,118),r.fromRgb(206,75,117),r.fromRgb(207,76,116),r.fromRgb(208,77,115),r.fromRgb(209,78,114),r.fromRgb(210,79,113),r.fromRgb(211,81,113),r.fromRgb(212,82,112),r.fromRgb(213,83,111),r.fromRgb(213,84,110),r.fromRgb(214,85,109),r.fromRgb(215,86,108),r.fromRgb(216,87,107),r.fromRgb(217,88,106),r.fromRgb(218,90,106),r.fromRgb(218,91,105),r.fromRgb(219,92,104),r.fromRgb(220,93,103),r.fromRgb(221,94,102),r.fromRgb(222,95,101),r.fromRgb(222,97,100),r.fromRgb(223,98,99),r.fromRgb(224,99,99),r.fromRgb(225,100,98),r.fromRgb(226,101,97),r.fromRgb(226,102,96),r.fromRgb(227,104,95),r.fromRgb(228,105,94),r.fromRgb(229,106,93),r.fromRgb(229,107,93),r.fromRgb(230,108,92),r.fromRgb(231,110,91),r.fromRgb(231,111,90),r.fromRgb(232,112,89),r.fromRgb(233,113,88),r.fromRgb(233,114,87),r.fromRgb(234,116,87),r.fromRgb(235,117,86),r.fromRgb(235,118,85),r.fromRgb(236,119,84),r.fromRgb(237,121,83),r.fromRgb(237,122,82),r.fromRgb(238,123,81),r.fromRgb(239,124,81),r.fromRgb(239,126,80),r.fromRgb(240,127,79),r.fromRgb(240,128,78),r.fromRgb(241,129,77),r.fromRgb(241,131,76),r.fromRgb(242,132,75),r.fromRgb(243,133,75),r.fromRgb(243,135,74),r.fromRgb(244,136,73),r.fromRgb(244,137,72),r.fromRgb(245,139,71),r.fromRgb(245,140,70),r.fromRgb(246,141,69),r.fromRgb(246,143,68),r.fromRgb(247,144,68),r.fromRgb(247,145,67),r.fromRgb(247,147,66),r.fromRgb(248,148,65),r.fromRgb(248,149,64),r.fromRgb(249,151,63),r.fromRgb(249,152,62),r.fromRgb(249,154,62),r.fromRgb(250,155,61),r.fromRgb(250,156,60),r.fromRgb(250,158,59),r.fromRgb(251,159,58),r.fromRgb(251,161,57),r.fromRgb(251,162,56),r.fromRgb(252,163,56),r.fromRgb(252,165,55),r.fromRgb(252,166,54),r.fromRgb(252,168,53),r.fromRgb(252,169,52),r.fromRgb(253,171,51),r.fromRgb(253,172,51),r.fromRgb(253,174,50),r.fromRgb(253,175,49),r.fromRgb(253,177,48),r.fromRgb(253,178,47),r.fromRgb(253,180,47),r.fromRgb(253,181,46),r.fromRgb(254,183,45),r.fromRgb(254,184,44),r.fromRgb(254,186,44),r.fromRgb(254,187,43),r.fromRgb(254,189,42),r.fromRgb(254,190,42),r.fromRgb(254,192,41),r.fromRgb(253,194,41),r.fromRgb(253,195,40),r.fromRgb(253,197,39),r.fromRgb(253,198,39),r.fromRgb(253,200,39),r.fromRgb(253,202,38),r.fromRgb(253,203,38),r.fromRgb(252,205,37),r.fromRgb(252,206,37),r.fromRgb(252,208,37),r.fromRgb(252,210,37),r.fromRgb(251,211,36),r.fromRgb(251,213,36),r.fromRgb(251,215,36),r.fromRgb(250,216,36),r.fromRgb(250,218,36),r.fromRgb(249,220,36),r.fromRgb(249,221,37),r.fromRgb(248,223,37),r.fromRgb(248,225,37),r.fromRgb(247,226,37),r.fromRgb(247,228,37),r.fromRgb(246,230,38),r.fromRgb(246,232,38),r.fromRgb(245,233,38),r.fromRgb(245,235,39),r.fromRgb(244,237,39),r.fromRgb(243,238,39),r.fromRgb(243,240,39),r.fromRgb(242,242,39),r.fromRgb(241,244,38),r.fromRgb(241,245,37),r.fromRgb(240,247,36),r.fromRgb(240,249,33)],Un=[r.fromRgb(68,1,84),r.fromRgb(68,2,86),r.fromRgb(69,4,87),r.fromRgb(69,5,89),r.fromRgb(70,7,90),r.fromRgb(70,8,92),r.fromRgb(70,10,93),r.fromRgb(70,11,94),r.fromRgb(71,13,96),r.fromRgb(71,14,97),r.fromRgb(71,16,99),r.fromRgb(71,17,100),r.fromRgb(71,19,101),r.fromRgb(72,20,103),r.fromRgb(72,22,104),r.fromRgb(72,23,105),r.fromRgb(72,24,106),r.fromRgb(72,26,108),r.fromRgb(72,27,109),r.fromRgb(72,28,110),r.fromRgb(72,29,111),r.fromRgb(72,31,112),r.fromRgb(72,32,113),r.fromRgb(72,33,115),r.fromRgb(72,35,116),r.fromRgb(72,36,117),r.fromRgb(72,37,118),r.fromRgb(72,38,119),r.fromRgb(72,40,120),r.fromRgb(72,41,121),r.fromRgb(71,42,122),r.fromRgb(71,44,122),r.fromRgb(71,45,123),r.fromRgb(71,46,124),r.fromRgb(71,47,125),r.fromRgb(70,48,126),r.fromRgb(70,50,126),r.fromRgb(70,51,127),r.fromRgb(70,52,128),r.fromRgb(69,53,129),r.fromRgb(69,55,129),r.fromRgb(69,56,130),r.fromRgb(68,57,131),r.fromRgb(68,58,131),r.fromRgb(68,59,132),r.fromRgb(67,61,132),r.fromRgb(67,62,133),r.fromRgb(66,63,133),r.fromRgb(66,64,134),r.fromRgb(66,65,134),r.fromRgb(65,66,135),r.fromRgb(65,68,135),r.fromRgb(64,69,136),r.fromRgb(64,70,136),r.fromRgb(63,71,136),r.fromRgb(63,72,137),r.fromRgb(62,73,137),r.fromRgb(62,74,137),r.fromRgb(62,76,138),r.fromRgb(61,77,138),r.fromRgb(61,78,138),r.fromRgb(60,79,138),r.fromRgb(60,80,139),r.fromRgb(59,81,139),r.fromRgb(59,82,139),r.fromRgb(58,83,139),r.fromRgb(58,84,140),r.fromRgb(57,85,140),r.fromRgb(57,86,140),r.fromRgb(56,88,140),r.fromRgb(56,89,140),r.fromRgb(55,90,140),r.fromRgb(55,91,141),r.fromRgb(54,92,141),r.fromRgb(54,93,141),r.fromRgb(53,94,141),r.fromRgb(53,95,141),r.fromRgb(52,96,141),r.fromRgb(52,97,141),r.fromRgb(51,98,141),r.fromRgb(51,99,141),r.fromRgb(50,100,142),r.fromRgb(50,101,142),r.fromRgb(49,102,142),r.fromRgb(49,103,142),r.fromRgb(49,104,142),r.fromRgb(48,105,142),r.fromRgb(48,106,142),r.fromRgb(47,107,142),r.fromRgb(47,108,142),r.fromRgb(46,109,142),r.fromRgb(46,110,142),r.fromRgb(46,111,142),r.fromRgb(45,112,142),r.fromRgb(45,113,142),r.fromRgb(44,113,142),r.fromRgb(44,114,142),r.fromRgb(44,115,142),r.fromRgb(43,116,142),r.fromRgb(43,117,142),r.fromRgb(42,118,142),r.fromRgb(42,119,142),r.fromRgb(42,120,142),r.fromRgb(41,121,142),r.fromRgb(41,122,142),r.fromRgb(41,123,142),r.fromRgb(40,124,142),r.fromRgb(40,125,142),r.fromRgb(39,126,142),r.fromRgb(39,127,142),r.fromRgb(39,128,142),r.fromRgb(38,129,142),r.fromRgb(38,130,142),r.fromRgb(38,130,142),r.fromRgb(37,131,142),r.fromRgb(37,132,142),r.fromRgb(37,133,142),r.fromRgb(36,134,142),r.fromRgb(36,135,142),r.fromRgb(35,136,142),r.fromRgb(35,137,142),r.fromRgb(35,138,141),r.fromRgb(34,139,141),r.fromRgb(34,140,141),r.fromRgb(34,141,141),r.fromRgb(33,142,141),r.fromRgb(33,143,141),r.fromRgb(33,144,141),r.fromRgb(33,145,140),r.fromRgb(32,146,140),r.fromRgb(32,146,140),r.fromRgb(32,147,140),r.fromRgb(31,148,140),r.fromRgb(31,149,139),r.fromRgb(31,150,139),r.fromRgb(31,151,139),r.fromRgb(31,152,139),r.fromRgb(31,153,138),r.fromRgb(31,154,138),r.fromRgb(30,155,138),r.fromRgb(30,156,137),r.fromRgb(30,157,137),r.fromRgb(31,158,137),r.fromRgb(31,159,136),r.fromRgb(31,160,136),r.fromRgb(31,161,136),r.fromRgb(31,161,135),r.fromRgb(31,162,135),r.fromRgb(32,163,134),r.fromRgb(32,164,134),r.fromRgb(33,165,133),r.fromRgb(33,166,133),r.fromRgb(34,167,133),r.fromRgb(34,168,132),r.fromRgb(35,169,131),r.fromRgb(36,170,131),r.fromRgb(37,171,130),r.fromRgb(37,172,130),r.fromRgb(38,173,129),r.fromRgb(39,173,129),r.fromRgb(40,174,128),r.fromRgb(41,175,127),r.fromRgb(42,176,127),r.fromRgb(44,177,126),r.fromRgb(45,178,125),r.fromRgb(46,179,124),r.fromRgb(47,180,124),r.fromRgb(49,181,123),r.fromRgb(50,182,122),r.fromRgb(52,182,121),r.fromRgb(53,183,121),r.fromRgb(55,184,120),r.fromRgb(56,185,119),r.fromRgb(58,186,118),r.fromRgb(59,187,117),r.fromRgb(61,188,116),r.fromRgb(63,188,115),r.fromRgb(64,189,114),r.fromRgb(66,190,113),r.fromRgb(68,191,112),r.fromRgb(70,192,111),r.fromRgb(72,193,110),r.fromRgb(74,193,109),r.fromRgb(76,194,108),r.fromRgb(78,195,107),r.fromRgb(80,196,106),r.fromRgb(82,197,105),r.fromRgb(84,197,104),r.fromRgb(86,198,103),r.fromRgb(88,199,101),r.fromRgb(90,200,100),r.fromRgb(92,200,99),r.fromRgb(94,201,98),r.fromRgb(96,202,96),r.fromRgb(99,203,95),r.fromRgb(101,203,94),r.fromRgb(103,204,92),r.fromRgb(105,205,91),r.fromRgb(108,205,90),r.fromRgb(110,206,88),r.fromRgb(112,207,87),r.fromRgb(115,208,86),r.fromRgb(117,208,84),r.fromRgb(119,209,83),r.fromRgb(122,209,81),r.fromRgb(124,210,80),r.fromRgb(127,211,78),r.fromRgb(129,211,77),r.fromRgb(132,212,75),r.fromRgb(134,213,73),r.fromRgb(137,213,72),r.fromRgb(139,214,70),r.fromRgb(142,214,69),r.fromRgb(144,215,67),r.fromRgb(147,215,65),r.fromRgb(149,216,64),r.fromRgb(152,216,62),r.fromRgb(155,217,60),r.fromRgb(157,217,59),r.fromRgb(160,218,57),r.fromRgb(162,218,55),r.fromRgb(165,219,54),r.fromRgb(168,219,52),r.fromRgb(170,220,50),r.fromRgb(173,220,48),r.fromRgb(176,221,47),r.fromRgb(178,221,45),r.fromRgb(181,222,43),r.fromRgb(184,222,41),r.fromRgb(186,222,40),r.fromRgb(189,223,38),r.fromRgb(192,223,37),r.fromRgb(194,223,35),r.fromRgb(197,224,33),r.fromRgb(200,224,32),r.fromRgb(202,225,31),r.fromRgb(205,225,29),r.fromRgb(208,225,28),r.fromRgb(210,226,27),r.fromRgb(213,226,26),r.fromRgb(216,226,25),r.fromRgb(218,227,25),r.fromRgb(221,227,24),r.fromRgb(223,227,24),r.fromRgb(226,228,24),r.fromRgb(229,228,25),r.fromRgb(231,228,25),r.fromRgb(234,229,26),r.fromRgb(236,229,27),r.fromRgb(239,229,28),r.fromRgb(241,229,29),r.fromRgb(244,230,30),r.fromRgb(246,230,32),r.fromRgb(248,230,33),r.fromRgb(251,231,35),r.fromRgb(253,231,37)];class Qn{constructor(t){u(this,"parent"),u(this,"keyDown"),u(this,"mouseDown"),u(this,"mouseMove"),u(this,"mouseUp"),u(this,"touchStarted"),u(this,"touchDelta"),u(this,"touchCompleted"),u(this,"selection"),u(this,"selectionChanged"),u(this,"selectable",!0),u(this,"selectionMode",ri.All)}hitTest(t){return this.hitTestOverride(t)}hitTestOverride(t){}onMouseDown(t){this.mouseDown&&this.mouseDown(this,t)}onMouseMove(t){this.mouseMove&&this.mouseMove(this,t)}onKeyDown(t){this.keyDown&&this.keyDown(this,t)}onMouseUp(t){this.mouseUp&&this.mouseUp(this,t)}onTouchStarted(t){this.touchStarted&&this.touchStarted(this,t)}onTouchDelta(t){this.touchDelta&&this.touchDelta(this,t)}onTouchCompleted(t){this.touchCompleted&&this.touchCompleted(this,t)}get actualSelectedColor(){return this.parent?this.parent.selectionColor.getActualColor(no.DefaultSelectionColor):no.DefaultSelectionColor}isSelected(){return!!this.selection}getSelectedItems(){return this.ensureSelection(),this.selection.getSelectedItems()}clearSelection(){this.selection=void 0,this.onSelectionChanged()}unselect(){this.selection=void 0,this.onSelectionChanged()}isItemSelected(t){return this.selection?t===-1?this.selection.isEverythingSelected():this.selection.isItemSelected(t):!1}select(){this.selection=ba.Everything,this.onSelectionChanged()}selectItem(t){if(this.selectionMode===ri.All)throw new Error("Use the select() method when using SelectionMode.All");this.ensureSelection(),this.selectionMode===ri.Single&&this.selection.clear(),this.selection.select(t),this.onSelectionChanged()}unselectItem(t){if(this.selectionMode===ri.All)throw new Error("Use the unselect() method when using SelectionMode.All");this.ensureSelection(),this.selection.unselect(t),this.onSelectionChanged()}getSelectableColor(t,i=-1){return t.isUndefined()?p.Undefined:this.isItemSelected(i)?this.actualSelectedColor:t}getSelectableFillColor(t,i=-1){return this.getSelectableColor(t,i)}ensureSelection(){this.selection=this.selection||new ba}onSelectionChanged(t){this.selectionChanged&&this.selectionChanged(this,t)}}class wn extends Qn{constructor(t){super(t),u(this,"font"),u(this,"fontSize",NaN),u(this,"fontWeight",he.Normal),u(this,"tag"),u(this,"textColor"),u(this,"edgeRenderingMode"),u(this,"toolTip"),u(this,"_plotElementId"),this.fontSize=NaN,this.fontWeight=he.Normal,this.textColor=p.Automatic,this.edgeRenderingMode=W.Automatic}get plotModel(){return this.parent}get actualFont(){return this.font||this.plotModel.defaultFont}get actualFontSize(){return isNaN(this.fontSize)?this.plotModel.defaultFontSize:this.fontSize}get actualFontWeight(){return this.fontWeight}get actualTextColor(){return this.textColor.getActualColor(this.plotModel.textColor)}getClippingRect(){return F.Everything}getElementHashCode(){return di(this._plotElementId)&&(ga++,this._plotElementId=ga),this._plotElementId}}let ga=0;var Me=(e=>(e[e.BelowAxes=0]="BelowAxes",e[e.BelowSeries=1]="BelowSeries",e[e.AboveSeries=2]="AboveSeries",e))(Me||{}),oi=(e=>(e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e[e.AlongLine=2]="AlongLine",e))(oi||{});class ja extends wn{constructor(t){super(),u(this,"layer"),u(this,"_xAxis"),u(this,"xAxisKey"),u(this,"_yAxis"),u(this,"clipByXAxis"),u(this,"clipByYAxis"),u(this,"yAxisKey"),this.layer=Me.AboveSeries,this.clipByXAxis=!0,this.clipByYAxis=!0,t&&(t.xAxis&&(this._xAxis=t.xAxis),t.yAxis&&(this._yAxis=t.yAxis))}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}getClippingRect(){const t=this.plotModel.plotArea,i=mi.getClippingRect(this);let s=0,n=Number.POSITIVE_INFINITY,o=0,a=Number.POSITIVE_INFINITY;this.clipByXAxis&&(s=i.topLeft.x,n=i.bottomRight.x),this.clipByYAxis&&(o=i.topLeft.y,a=i.bottomRight.y);const l=A(s,o),h=A(n,a),m=F.fromScreenPoints(l,h);return t.clip(m)}transform(t){return mi.transform(this,t)}inverseTransform(t){return mi.inverseTransform(this,t)}}class Ua extends ja{constructor(t){super(t),Ja(this)}getClippingRect(){const t=this.plotModel.plotArea,i=mi.getClippingRect(this);let s=0,n=Number.POSITIVE_INFINITY,o=0,a=Number.POSITIVE_INFINITY;this.clipByXAxis&&(s=J.orientate(this,i.topLeft).x,n=J.orientate(this,i.bottomRight).x),this.clipByYAxis&&(o=J.orientate(this,i.topLeft).y,a=J.orientate(this,i.bottomRight).y);const l=J.orientate(this,A(s,o)),h=J.orientate(this,A(n,a)),m=F.fromScreenPoints(l,h);return t.clip(m)}transform(t){return mi.transformOrientated(this,t)}inverseTransform(t){return mi.inverseTransformOrientated(this,t)}}class yn extends Ua{constructor(t){super(t),u(this,"text"),u(this,"textPosition"),u(this,"textHorizontalAlignment"),u(this,"textVerticalAlignment"),u(this,"textRotation"),this.textHorizontalAlignment=I.Center,this.textVerticalAlignment=D.Middle,this.textPosition=oe,this.textRotation=0}getActualTextPosition(t){return hs(this.textPosition)?this.transform(this.textPosition):t()}getActualTextAlignment(){return[this.textHorizontalAlignment,this.textVerticalAlignment]}}class ue extends yn{constructor(t){super(t),u(this,"actualBounds"),u(this,"background"),u(this,"offset",pt.Zero),u(this,"padding"),u(this,"stroke"),u(this,"strokeThickness"),this.stroke=p.Black,this.background=p.Undefined,this.strokeThickness=1,this.textVerticalAlignment=D.Bottom,this.padding=new X(4),t&&Object.assign(this,ot(t))}async render(t){if(!this.text)throw new Error("text must be non-undefined before rendering.");const i=St(this.transform(this.textPosition),J.orientateVector(this,this.offset)),s=t.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),[n,o]=this.getActualTextAlignment();if(this.actualBounds=ue.getTextBounds(i,s,this.padding,this.textRotation,n,o),this.textRotation%90===0){const a=F.fromScreenPoints(this.actualBounds[0],this.actualBounds[2]);await t.drawRectangle(a,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode)}else await t.drawPolygon(this.actualBounds,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode);await ne.drawMathText(t,i,this.text,this.getSelectableFillColor(this.actualTextColor),this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,n,o)}hitTestOverride(t){if(this.actualBounds)return me.isPointInPolygon(t.point,this.actualBounds)?{element:this,nearestHitPoint:t.point}:void 0}static getTextBounds(t,i,s,n,o,a){let l,h,m,c;switch(o){case I.Center:l=-i.width*.5,h=-l;break;case I.Right:l=-i.width,h=0;break;default:l=0,h=i.width;break}switch(a){case D.Middle:m=-i.height*.5,c=-m;break;case D.Bottom:m=-i.height,c=0;break;default:m=0,c=i.height;break}const g=Math.cos(n/180*Math.PI),f=Math.sin(n/180*Math.PI),y=new pt(g,f),M=new pt(-f,g),S=new Array(4);return S[0]=St(St(t,y.times(l-s.left)),M.times(m-s.top)),S[1]=St(St(t,y.times(h+s.right)),M.times(m-s.top)),S[2]=St(St(t,y.times(h+s.right)),M.times(c+s.bottom)),S[3]=St(St(t,y.times(l-s.left)),M.times(c+s.bottom)),S}}class Es extends yn{constructor(t){super(t),u(this,"screenPoints"),u(this,"color"),u(this,"lineJoin"),u(this,"lineStyle"),u(this,"maximumX"),u(this,"maximumY"),u(this,"minimumX"),u(this,"minimumY"),u(this,"strokeThickness"),u(this,"textMargin"),u(this,"textPadding",0),u(this,"borderPadding",X.Zero),u(this,"borderBackground",p.Undefined),u(this,"borderStroke",p.Undefined),u(this,"borderStrokeThickness",0),u(this,"textOrientation"),u(this,"textLinePosition"),u(this,"minimumSegmentLength"),u(this,"actualMinimumX",NaN),u(this,"actualMinimumY",NaN),u(this,"actualMaximumX",NaN),u(this,"actualMaximumY",NaN),this.minimumX=ut,this.maximumX=tt,this.minimumY=ut,this.maximumY=tt,this.color=p.Blue,this.strokeThickness=1,this.lineStyle=k.Dash,this.lineJoin=et.Miter,this.textLinePosition=1,this.textOrientation=oi.AlongLine,this.textMargin=12,this.textHorizontalAlignment=I.Right,this.textVerticalAlignment=D.Top,this.minimumSegmentLength=2}async render(t){if(this.calculateActualMinimumsMaximums(),this.actualMinimumX>this.actualMaximumX||this.actualMinimumY>this.actualMaximumY)return;this.screenPoints=this.getScreenPoints();const i=[],s=Nt.getDashArray(this.lineStyle);this.strokeThickness>0&&this.lineStyle!==k.None&&await _.drawReducedLine(t,this.screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,s,this.lineJoin,void 0,y=>i.push(...y));let n=this.textMargin;const[o,a]=this.getActualTextAlignment(),l=J.isTransposed(this)?this.yAxis.isReversed?1-this.textLinePosition:this.textLinePosition:this.xAxis.isReversed?1-this.textLinePosition:this.textLinePosition;o===I.Center?n=0:n*=l<.5?1:-1;const h=Es.getPointAtRelativeDistance(i,l,n);if(!h)return;let{position:m,angle:c}=h;switch(c<-90&&(c+=180),c>=90&&(c-=180),this.textOrientation){case oi.Horizontal:c=0;break;case oi.Vertical:c=-90;break}const g=c/180*Math.PI;let f=1;if(o===I.Right&&(f=-1),o===I.Center&&(f=0),m=St(m,new pt(f*this.textPadding*Math.cos(g),f*this.textPadding*Math.sin(g))),this.text){const y=this.getActualTextPosition(()=>m);hs(this.textPosition)&&(c=this.textRotation);const M=t.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),S=ue.getTextBounds(m,M,this.borderPadding,c,o,a);if(c%90==0){const C=F.fromScreenPoints(S[0],S[2]);await t.drawRectangle(C,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode)}else await t.drawPolygon(S,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode);await t.drawText(y,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,c,o,a)}}hitTestOverride(t){if(!this.screenPoints)return;const i=me.findNearestPointOnPolyline(t.point,this.screenPoints);if($t(t.point,i).length<t.tolerance)return{element:this,nearestHitPoint:i}}calculateActualMinimumsMaximums(){if(!this.xAxis)throw new Error("xAxis is undefined.");if(!this.yAxis)throw new Error("yAxis is undefined.");this.actualMinimumX=Math.max(this.minimumX,this.xAxis.clipMinimum),this.actualMaximumX=Math.min(this.maximumX,this.xAxis.clipMaximum),this.actualMinimumY=Math.max(this.minimumY,this.yAxis.clipMinimum),this.actualMaximumY=Math.min(this.maximumY,this.yAxis.clipMaximum);const t=this.inverseTransform(this.plotModel.plotArea.topLeft),i=this.inverseTransform(this.plotModel.plotArea.bottomRight);this.clipByXAxis||(this.actualMaximumX=Math.max(t.x,i.x),this.actualMinimumX=Math.min(t.x,i.x)),this.clipByYAxis||(this.actualMaximumY=Math.max(t.y,i.y),this.actualMinimumY=Math.min(t.y,i.y))}static getPointAtRelativeDistance(t,i,s){if(!t||t.length===0)return;let n=0;for(let l=1;l<t.length;l++)n+=$t(t[l],t[l-1]).length;const o=n*i+s,a=1e-8;n=0;for(let l=1;l<t.length;l++){const h=$t(t[l],t[l-1]).length;if(o>=n-a&&o<=n+h+a){const m=(o-n)/h,c=t[l].x*m+t[l-1].x*(1-m),g=t[l].y*m+t[l-1].y*(1-m),f=A(c,g),y=t[l].x-t[l-1].x,M=t[l].y-t[l-1].y,S=Math.atan2(M,y)/Math.PI*180;return{position:f,angle:S}}n+=h}}}var de=(e=>(e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e[e.LinearEquation=2]="LinearEquation",e))(de||{});class Dt extends Es{constructor(t){super(t),u(this,"intercept",0),u(this,"slope",0),u(this,"type"),u(this,"x",0),u(this,"y",0),this.type=2,t&&Object.assign(this,ot(t))}getScreenPoints(){let t,i;switch(this.type){case 0:t=n=>this.y;break;case 1:i=n=>this.x;break;default:t=n=>this.slope*n+this.intercept;break}const s=[];if(this.xAxis instanceof w&&this.yAxis instanceof w)if(t)s.push(d(this.actualMinimumX,t(this.actualMinimumX))),s.push(d(this.actualMaximumX,t(this.actualMaximumX)));else if(i)s.push(d(i(this.actualMinimumY),this.actualMinimumY)),s.push(d(i(this.actualMaximumY),this.actualMaximumY));else throw new Error("fx or fy must be non-undefined.");else if(t){const n=(this.actualMaximumX-this.actualMinimumX)/100;for(let o=0;o<=100;o++){const a=this.actualMinimumX+o*n;s.push(d(a,t(a)))}}else if(i){const n=(this.actualMaximumY-this.actualMinimumY)/100;for(let o=0;o<=100;o++){const a=this.actualMinimumY+o*n;s.push(d(i(a),a))}}return s.map(n=>this.transform(n))}}class bn extends yn{constructor(t){super(t),u(this,"fill"),u(this,"stroke"),u(this,"strokeThickness",0),this.stroke=p.Black,this.fill=p.LightBlue}}class $e extends bn{constructor(t){super(t),u(this,"screenPosition",ke),u(this,"x",0),u(this,"y",0),u(this,"size"),u(this,"textMargin"),u(this,"shape"),u(this,"customOutline"),this.size=4,this.textMargin=2,this.shape=N.Circle,this.textVerticalAlignment=D.Top,t&&Object.assign(this,ot(t))}async render(t){if(this.screenPosition=J.transform(this,this.x,this.y),await _.drawMarker(t,this.screenPosition,this.shape,this.customOutline,this.size,this.fill,this.stroke,this.strokeThickness,this.edgeRenderingMode),this.text){const[i,s]=this.getActualTextAlignment(),n=-Number(i)*(this.size+this.textMargin),o=-Number(s)*(this.size+this.textMargin),a=St(this.screenPosition,new pt(n,o));await t.drawText(a,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,i,s)}}hitTestOverride(t){if(Fe(this.screenPosition,t.point)<this.size)return{element:this,nearestHitPoint:this.screenPosition}}}class xa extends Es{constructor(t){super(t),u(this,"type"),u(this,"equation"),u(this,"resolution"),this.resolution=400,this.type=0,t&&Object.assign(this,ot(t))}getScreenPoints(){let t,i;switch(this.type){case 0:t=this.equation;break;case 1:i=this.equation;break}const s=[];if(t){let n=this.actualMinimumX;const o=(this.actualMaximumX-this.actualMinimumX)/this.resolution;for(;s.push(d(n,t(n))),!(n>this.actualMaximumX);)n+=o}else if(i){let n=this.actualMinimumY;const o=(this.actualMaximumY-this.actualMinimumY)/this.resolution;for(;s.push(d(i(n),n)),!(n>this.actualMaximumY);)n+=o}return s.map(n=>this.transform(n))}}var Ha=(e=>(e[e.EquationX=0]="EquationX",e[e.EquationY=1]="EquationY",e))(Ha||{});class ns extends yn{constructor(t){super(),u(this,"screenEndPoint",ke),u(this,"screenStartPoint",ke),u(this,"arrowDirection",pt.Zero),u(this,"color"),u(this,"endPoint",Ai),u(this,"headLength"),u(this,"headWidth"),u(this,"lineJoin"),u(this,"lineStyle"),u(this,"startPoint",Ai),u(this,"strokeThickness"),u(this,"veeness",0),this.headLength=10,this.headWidth=3,this.color=p.Blue,this.strokeThickness=2,this.lineStyle=k.Solid,this.lineJoin=et.Miter,t&&Object.assign(this,ot(t))}async render(t){this.screenEndPoint=this.transform(this.endPoint),this.arrowDirection.lengthSquared>0?this.screenStartPoint=Pe(this.screenEndPoint,J.orientateVector(this,this.arrowDirection)):this.screenStartPoint=this.transform(this.startPoint);const i=$t(this.screenEndPoint,this.screenStartPoint);i.normalize();const s=new pt(i.y,-i.x),n=Pe(this.screenEndPoint,i.times(this.headLength*this.strokeThickness)),o=St(n,s.times(this.headWidth*this.strokeThickness)),a=Pe(n,s.times(this.headWidth*this.strokeThickness)),l=St(n,i.times(this.veeness*this.strokeThickness)),h=0,m=Nt.getDashArray(this.lineStyle);if(this.strokeThickness>0&&this.lineStyle!==k.None&&(await _.drawReducedLine(t,[this.screenStartPoint,l],h*h,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,m,this.lineJoin),await _.drawReducedPolygon(t,[a,this.screenEndPoint,o,l],h*h,this.getSelectableColor(this.color),p.Undefined,0,this.edgeRenderingMode)),!this.text)return;let c,g;if(hs(this.textPosition))[c,g]=this.getActualTextAlignment();else{const y=Math.atan2(i.y,i.x),M=Math.PI/8;y<3*M&&y>-3*M?c=I.Right:y>5*M||y<-5*M?c=I.Left:c=I.Center,y>M&&y<7*M?g=D.Bottom:y<-M&&y>-7*M?g=D.Top:g=D.Middle}const f=this.getActualTextPosition(()=>this.screenStartPoint);await t.drawText(f,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,c,g)}hitTestOverride(t){if($t(t.point,this.screenStartPoint).length<t.tolerance)return{element:this,nearestHitPoint:this.screenStartPoint,index:0};if($t(t.point,this.screenEndPoint).length<t.tolerance)return{element:this,nearestHitPoint:this.screenEndPoint,index:2};const i=me.findPointOnLine(t.point,this.screenStartPoint,this.screenEndPoint);if($t(i,t.point).length<t.tolerance)return{element:this,nearestHitPoint:i}}}class jt extends ja{constructor(t){super(),u(this,"rendering"),this.rendering=t}async render(t){await this.rendering(t)}getClippingRect(){return F.Everything}}class Rs extends bn{constructor(t){super(t),u(this,"screenRectangle",F.Empty),u(this,"x",0),u(this,"y",0),u(this,"width",0),u(this,"height",0),this.width=NaN,this.height=NaN,t&&Object.assign(this,ot(t))}async render(t){const i=J.transform(this,this.x-this.width/2,this.y-this.height/2),s=J.transform(this,this.x+this.width/2,this.y+this.height/2);if(this.screenRectangle=F.fromScreenPoints(i,s),await t.drawEllipse(this.screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode),this.text){const n=this.getActualTextPosition(()=>this.screenRectangle.center),[o,a]=this.getActualTextAlignment();await t.drawText(n,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,o,a)}}hitTestOverride(t){if(this.screenRectangle.containsPoint(t.point))return{element:this,nearestHitPoint:t.point}}}class Ke extends bn{constructor(t){super(t),u(this,"screenPoints",[]),u(this,"lineJoin"),u(this,"lineStyle"),u(this,"minimumSegmentLength"),u(this,"points",[]),this.lineStyle=k.Solid,this.lineJoin=et.Miter,this.minimumSegmentLength=2,t&&Object.assign(this,t)}async render(t){if(this.points&&(this.screenPoints=this.points.map(i=>this.transform(i)),this.screenPoints.length!==0&&(await _.drawReducedPolygon(t,this.screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode,this.lineStyle,this.lineJoin),this.text))){const[i,s]=this.getActualTextAlignment(),n=this.getActualTextPosition(()=>me.getCentroid(this.screenPoints));await t.drawText(n,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,i,s)}}hitTestOverride(t){if(!(!this.screenPoints||this.screenPoints.length===0))return me.isPointInPolygon(t.point,this.screenPoints)?{element:this,nearestHitPoint:t.point}:void 0}}class Ps extends Es{constructor(t){super(t),u(this,"_points",[]),u(this,"interpolationAlgorithm"),t&&Object.assign(this,ot(t))}get points(){return this._points}getScreenPoints(){const t=this.points.map(i=>this.transform(i));if(this.interpolationAlgorithm){const i=me.resamplePoints(t,this.minimumSegmentLength);return this.interpolationAlgorithm.createSplineSp(i,!1,.25)}return this.points.map(i=>this.transform(i))}}class Xt extends bn{constructor(t){super(t),u(this,"screenRectangle",F.Empty),u(this,"minimumX"),u(this,"maximumX"),u(this,"minimumY"),u(this,"maximumY"),this.minimumX=-1/0,this.maximumX=1/0,this.minimumY=-1/0,this.maximumY=1/0,this.textRotation=0,this.textHorizontalAlignment=I.Center,this.textVerticalAlignment=D.Middle,t&&Object.assign(this,ot(t))}async render(t){const i=this.getClippingRect(),s=this.inverseTransform(i.topLeft),n=this.inverseTransform(i.bottomRight),o=this.minimumX===-1/0||isNaN(this.minimumX)?Math.min(s.x,n.x):this.minimumX,a=this.maximumX===1/0||isNaN(this.maximumX)?Math.max(s.x,n.x):this.maximumX,l=this.minimumY===-1/0||isNaN(this.minimumY)?Math.min(s.y,n.y):this.minimumY,h=this.maximumY===1/0||isNaN(this.maximumY)?Math.max(s.y,n.y):this.maximumY,m=J.transform;this.screenRectangle=F.fromScreenPoints(m(this,o,l),m(this,a,h));const c=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness);if(await t.drawRectangle(this.screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,c),this.text){const[g,f]=this.getActualTextAlignment(),y=this.getActualTextPosition(()=>this.screenRectangle.center);await t.drawText(y,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,g,f)}}hitTestOverride(t){if(this.screenRectangle.containsPoint(t.point))return{element:this,nearestHitPoint:t.point}}}class ve extends Ua{constructor(t){super(t),u(this,"actualBounds",F.Empty),u(this,"imageSource"),u(this,"horizontalAlignment"),u(this,"x"),u(this,"y"),u(this,"offsetX"),u(this,"offsetY"),u(this,"width"),u(this,"height"),u(this,"opacity"),u(this,"interpolate"),u(this,"verticalAlignment"),this.x=new nt(.5,j.RelativeToPlotArea),this.y=new nt(.5,j.RelativeToPlotArea),this.offsetX=new nt(0,j.ScreenUnits),this.offsetY=new nt(0,j.ScreenUnits),this.width=new nt(NaN,j.ScreenUnits),this.height=new nt(NaN,j.ScreenUnits),this.opacity=1,this.interpolate=!0,this.horizontalAlignment=I.Center,this.verticalAlignment=D.Middle,t&&Object.assign(this,ot(t))}async render(t){if(!this.imageSource)throw new Error(`${this.imageSource} must be non-null before rendering.`);const i=this.getPoint(this.x,this.y,this.plotModel),s=this.getVector(this.offsetX,this.offsetY,this.plotModel),n=St(i,s),o=this.getVector(this.width,this.height,this.plotModel);let a=o.x,l=o.y;isNaN(a)&&isNaN(l)&&(a=this.imageSource.width,l=this.imageSource.height),isNaN(a)&&(a=l/this.imageSource.height*this.imageSource.width),isNaN(l)&&(l=a/this.imageSource.width*this.imageSource.height),a=Math.abs(a),l=Math.abs(l);let h=n.x,m=n.y;const c=this.horizontalAlignment,g=this.verticalAlignment;c===I.Center?h-=a*.5:c===I.Right&&(h-=a),g===D.Middle?m-=l*.5:g===D.Bottom&&(m-=l),this.actualBounds=new F(h,m,a,l),await _.drawImage(t,this.imageSource,h,m,a,l,this.opacity,this.interpolate)}hitTestOverride(t){if(this.actualBounds.containsPoint(t.point))return{element:this,nearestHitPoint:t.point}}getPoint(t,i,s){let n=NaN,o=NaN;if(t.unit===j.Data||i.unit===j.Data){const a=t.unit===j.Data?t.value:NaN,l=i.unit===j.Data?i.value:NaN,h=J.transform(this,a,l);n=h.x,o=h.y}switch(t.unit){case j.Data:break;case j.ScreenUnits:n=t.value;break;case j.RelativeToViewport:n=s.width*t.value;break;case j.RelativeToPlotArea:n=s.plotArea.left+s.plotArea.width*t.value;break;default:throw new Error("Invalid unit")}switch(i.unit){case j.Data:break;case j.ScreenUnits:o=i.value;break;case j.RelativeToViewport:o=s.height*i.value;break;case j.RelativeToPlotArea:o=s.plotArea.top+s.plotArea.height*i.value;break;default:throw new Error("Invalid unit")}return A(n,o)}getVector(t,i,s){let n=NaN,o=NaN;if(t.unit===j.Data||i.unit===j.Data){const a=t.unit===j.Data?t.value:NaN,l=i.unit===j.Data?i.value:NaN,h=J.transform(this,a,l),m=$t(h,this.transform(Ai));n=m.x,o=m.y}switch(t.unit){case j.Data:break;case j.ScreenUnits:n=t.value;break;case j.RelativeToViewport:n=s.width*t.value;break;case j.RelativeToPlotArea:n=s.plotArea.width*t.value;break;default:throw new Error("Invalid unit")}switch(i.unit){case j.Data:break;case j.ScreenUnits:o=i.value;break;case j.RelativeToViewport:o=s.height*i.value;break;case j.RelativeToPlotArea:o=s.plotArea.height*i.value;break;default:throw new Error("Invalid unit")}return new pt(n,o)}getClippingRect(){return this.x.unit===j.Data||this.y.unit===j.Data?super.getClippingRect():F.Everything}}const Ni=class to extends wn{constructor(t){super(t),u(this,"_offset",0),u(this,"_scale",1),u(this,"axisChanged"),u(this,"transformChanged"),u(this,"absoluteMaximum"),u(this,"absoluteMinimum"),u(this,"_actualMajorStep",0),u(this,"minimumMajorIntervalCount"),u(this,"maximumMajorIntervalCount"),u(this,"_actualMaximum",0),u(this,"_actualMinimum",0),u(this,"_clipMaximum",0),u(this,"_clipMinimum",0),u(this,"_actualMinorStep",0),u(this,"_actualStringFormatter"),u(this,"angle"),u(this,"axisTickToLabelDistance"),u(this,"axisTitleDistance"),u(this,"axisDistance"),u(this,"axislineColor"),u(this,"axislineStyle"),u(this,"axislineThickness"),u(this,"clipTitle"),u(this,"cropGridlines",!1),u(this,"_dataMaximum",0),u(this,"_dataMinimum",0),u(this,"endPosition"),u(this,"extraGridlineColor"),u(this,"extraGridlineStyle"),u(this,"extraGridlineThickness"),u(this,"extraGridlines"),u(this,"filterFunction"),u(this,"filterMaxValue"),u(this,"filterMinValue"),u(this,"intervalLength"),u(this,"isAxisVisible"),u(this,"isPanEnabled"),u(this,"isZoomEnabled"),u(this,"key"),u(this,"labelFormatter"),u(this,"layer"),u(this,"majorGridlineColor"),u(this,"majorGridlineStyle"),u(this,"majorGridlineThickness"),u(this,"majorStep"),u(this,"majorTickSize"),u(this,"maximum"),u(this,"maximumPadding"),u(this,"maximumDataMargin"),u(this,"maximumMargin"),u(this,"maximumRange"),u(this,"minimum"),u(this,"minimumMajorStep"),u(this,"minimumMinorStep"),u(this,"minimumPadding"),u(this,"minimumDataMargin"),u(this,"minimumMargin"),u(this,"minimumRange"),u(this,"minorGridlineColor"),u(this,"minorGridlineStyle"),u(this,"minorGridlineThickness"),u(this,"minorStep"),u(this,"minorTicklineColor"),u(this,"minorTickSize"),u(this,"position",x.Left),u(this,"positionAtZeroCrossing",!1),u(this,"positionTier",0),u(this,"_screenMax",cn),u(this,"_screenMin",cn),u(this,"startPosition"),u(this,"stringFormatter"),u(this,"tickStyle"),u(this,"ticklineColor"),u(this,"title"),u(this,"titleClippingLength"),u(this,"titleColor"),u(this,"titleFont"),u(this,"titleFontSize"),u(this,"titleFontWeight"),u(this,"titleFormatter"),u(this,"titlePosition"),u(this,"unit"),u(this,"useSuperExponentialFormat",!1),u(this,"_desiredMargin",X.Zero),u(this,"positionTierMaxShift",0),u(this,"positionTierMinShift",0),u(this,"positionTierSize",0),u(this,"viewMaximum"),u(this,"viewMinimum"),this.position=x.Left,this.positionTier=0,this.isAxisVisible=!0,this.layer=Ei.BelowSeries,this.viewMaximum=Number.NaN,this.viewMinimum=Number.NaN,this.absoluteMaximum=tt,this.absoluteMinimum=ut,this.minimum=Number.NaN,this.maximum=Number.NaN,this.minorStep=Number.NaN,this.majorStep=Number.NaN,this.minimumMinorStep=0,this.minimumMajorStep=0,this.minimumMajorIntervalCount=2,this.maximumMajorIntervalCount=tt,this.minimumPadding=.01,this.maximumPadding=.01,this.minimumRange=0,this.maximumRange=Number.POSITIVE_INFINITY,this.minimumDataMargin=0,this.maximumDataMargin=0,this.minimumMargin=0,this.maximumMargin=0,this.tickStyle=it.Outside,this.ticklineColor=p.Black,this.minorTicklineColor=p.Automatic,this.axislineStyle=k.None,this.axislineColor=p.Black,this.axislineThickness=1,this.majorGridlineStyle=k.None,this.majorGridlineColor=r.fromArgb(64,0,0,0),this.majorGridlineThickness=1,this.minorGridlineStyle=k.None,this.minorGridlineColor=r.fromArgb(32,0,0,0),this.minorGridlineThickness=1,this.extraGridlineStyle=k.Solid,this.extraGridlineColor=p.Black,this.extraGridlineThickness=1,this.minorTickSize=4,this.majorTickSize=7,this.startPosition=0,this.endPosition=1,this.titlePosition=.5,this.titleFormatter=(i,s)=>`${i||""} [${s||""}]`,this.titleClippingLength=.9,this.titleColor=p.Automatic,this.titleFontSize=Number.NaN,this.titleFontWeight=he.Normal,this.clipTitle=!0,this.angle=0,this.isZoomEnabled=!0,this.isPanEnabled=!0,this.filterMinValue=ut,this.filterMaxValue=tt,this.filterFunction=void 0,this.intervalLength=60,this.axisDistance=0,this.axisTitleDistance=4,this.axisTickToLabelDistance=4,this.dataMaximum=Number.NaN,this.dataMinimum=Number.NaN}get actualMajorStep(){return this._actualMajorStep}set actualMajorStep(t){this._actualMajorStep=t}get actualMaximum(){return this._actualMaximum}set actualMaximum(t){this._actualMaximum=t}get actualMinimum(){return this._actualMinimum}set actualMinimum(t){this._actualMinimum=t}get clipMaximum(){return this._clipMaximum}set clipMaximum(t){this._clipMaximum=t}get clipMinimum(){return this._clipMinimum}set clipMinimum(t){this._clipMinimum=t}get actualMinorStep(){return this._actualMinorStep}set actualMinorStep(t){this._actualMinorStep=t}get actualStringFormatter(){return this._actualStringFormatter}set actualStringFormatter(t){this._actualStringFormatter=t}get actualTitle(){return this.unit?`${this.title} [${this.unit}]`:this.title}get dataMaximum(){return this._dataMaximum}set dataMaximum(t){this._dataMaximum=t}get dataMinimum(){return this._dataMinimum}set dataMinimum(t){this._dataMinimum=t}get isReversed(){return this.startPosition>this.endPosition}get offset(){return this._offset}get scale(){return this._scale}get screenMax(){return this._screenMax}set screenMax(t){this._screenMax=t}get screenMin(){return this._screenMin}set screenMin(t){this._screenMin=t}get desiredMargin(){return this._desiredMargin}set desiredMargin(t){this._desiredMargin=t}get actualTitleColor(){return this.titleColor.getActualColor(this.plotModel.textColor)}get actualTitleFont(){return this.titleFont||this.plotModel.defaultFont}get actualTitleFontSize(){return isNaN(this.titleFontSize)?this.actualFontSize:this.titleFontSize}get actualTitleFontWeight(){return isNaN(this.titleFontWeight)?this.actualFontWeight:this.titleFontWeight}itemToDouble(t){return Number(t)}static inverseTransform(t,i,s){return i.inverseTransformPoint(t.x,t.y,s)}formatValue(t){return this.labelFormatter?this.labelFormatter(t):this.formatValueOverride(t)}getTickValues(){const t=[],i=[],s=[],n=this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep);return i.push(...this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep)),t.push(...i),s.push(...hi.filterRedundantMinorTicks(i,n)),{majorLabelValues:t,majorTickValues:i,minorTickValues:s}}getValue(t){return t}inverseTransformPoint(t,i,s){return d(this.inverseTransform(t),s?s.inverseTransform(i):0)}inverseTransform(t){return t/this._scale+this._offset}isHorizontal(){return this.position===x.Top||this.position===x.Bottom}isValidValue(t){return Number.isFinite(t)&&t<this.filterMaxValue&&t>this.filterMinValue&&(!this.filterFunction||this.filterFunction(t))}isVertical(){return this.position===x.Left||this.position===x.Right}isLogarithmic(){return!1}measure(t){if(this.position===x.None){this.desiredMargin=new X(0);return}const{majorLabelValues:i}=this.getTickValues();let s=new dt;for(const f of i){const y=this.formatValue(f),M=_.measureText(t,y,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle);s=s.include(M)}const n=t.measureText(this.actualTitle||"",this.actualTitleFont,this.actualTitleFontSize,this.actualTitleFontWeight);let o=0,a=0,l=0,h=0;const m=Math.max(0,this.isReversed?this.maximumMargin:this.minimumMargin),c=Math.max(0,this.isReversed?this.minimumMargin:this.maximumMargin);let g=0;switch(this.tickStyle){case it.Outside:g=this.majorTickSize;break;case it.Crossing:g=this.majorTickSize*.75;break}switch(g+=this.axisDistance+this.axisTickToLabelDistance,n.height>0&&(g+=this.axisTitleDistance+n.height),this.position){case x.Left:o=g+s.width;break;case x.Right:l=g+s.width;break;case x.Top:a=g+s.height;break;case x.Bottom:h=g+s.height;break;case x.All:o=l=g+s.width,a=h=g+s.height;break;default:throw new Error("Invalid operation")}if(this.isPanEnabled||this.isZoomEnabled){const f=Math.min(this.startPosition,this.endPosition)<.01,y=Math.max(this.startPosition,this.endPosition)>.99;switch(this.position){case x.Left:case x.Right:f&&(h=Math.max(0,s.height/2-m)),y&&(a=Math.max(0,s.height/2-c));break;case x.Top:case x.Bottom:f&&(o=Math.max(0,s.width/2-m)),y&&(l=Math.max(0,s.width/2-c));break}}else if(i.length>0){const f=Math.min(...i),y=Math.max(...i),M=this.formatValue(f),S=this.formatValue(y);let C=_.measureText(t,M,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),v=_.measureText(t,S,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),R=this.transform(f),T=this.transform(y);R>T&&([R,T]=[T,R],[C,v]=[v,C]);let P=0,B=0,V=0,O=0;switch(this.position){case x.Left:case x.Right:P=Math.min(this.screenMin.y,this.screenMax.y),B=Math.max(this.screenMin.y,this.screenMax.y),a=Math.max(0,P-R+C.height/2-m),h=Math.max(0,T-B+v.height/2-c);break;case x.Top:case x.Bottom:V=Math.min(this.screenMin.x,this.screenMax.x),O=Math.max(this.screenMin.x,this.screenMax.x),o=Math.max(0,V-R+C.width/2-m),l=Math.max(0,T-O+v.width/2-c);break}}this.desiredMargin=new X(o,a,l,h)}pan(t,i){if(typeof t=="number"){this.pan2(t);return}this.pan1(t,i)}pan1(t,i){if(!this.isPanEnabled)return;const s=this.isHorizontal()?i.x-t.x:i.y-t.y;this.pan(s)}pan2(t){if(!this.isPanEnabled)return;const i=this.actualMinimum,s=this.actualMaximum,n=t/this._scale;let o=this.actualMinimum-n,a=this.actualMaximum-n;o<this.absoluteMinimum&&(o=this.absoluteMinimum,a=Math.min(o+this.actualMaximum-this.actualMinimum,this.absoluteMaximum)),a>this.absoluteMaximum&&(a=this.absoluteMaximum,o=Math.max(a-(this.actualMaximum-this.actualMinimum),this.absoluteMinimum)),this.viewMinimum=o,this.viewMaximum=a,this.updateActualMaxMin();const l=this.actualMinimum-i,h=this.actualMaximum-s;this.onAxisChanged({changeType:ai.Pan,deltaMaximum:h,deltaMinimum:l})}async render(t,i){this.position!==x.None&&await new yi(t,this.plotModel).render(this,i)}reset(){const t=this.actualMinimum,i=this.actualMaximum;this.viewMinimum=NaN,this.viewMaximum=NaN,this.updateActualMaxMin();const s=this.actualMinimum-t,n=this.actualMaximum-i;this.onAxisChanged({changeType:ai.Reset,deltaMinimum:s,deltaMaximum:n})}toString(){return`${this.constructor.name}(${this.position}, ${this.clipMinimum}, ${this.clipMaximum}, ${this.actualMajorStep})`}transformPoint(t,i,s){if(!s)throw new Error("Y axis should not be null when transforming.");return A(this.transform(t),s.transform(i))}transform(t){return(t-this._offset)*this._scale}zoomScale(t){const i=this.actualMinimum,s=this.actualMaximum,n=this.transform(this.actualMaximum),o=this.transform(this.actualMinimum),a=Math.sign(this._scale),l=(this.preTransform(this.actualMaximum)+this.preTransform(this.actualMinimum))/2,h=(this._offset-l)*this._scale/(a*t)+l;this.setTransform(a*t,h);let m=this.inverseTransform(n),c=this.inverseTransform(o);if(c<this.absoluteMinimum&&m>this.absoluteMaximum)c=this.absoluteMinimum,m=this.absoluteMaximum;else if(c<this.absoluteMinimum){const y=m-c;c=this.absoluteMinimum,m=this.absoluteMinimum+y,m>this.absoluteMaximum&&(m=this.absoluteMaximum)}else if(m>this.absoluteMaximum){const y=m-c;m=this.absoluteMaximum,c=this.absoluteMaximum-y,c<this.absoluteMinimum&&(c=this.absoluteMinimum)}this.clipMaximum=this.viewMaximum=m,this.clipMinimum=this.viewMinimum=c,this.updateActualMaxMin();const g=this.actualMinimum-i,f=this.actualMaximum-s;this.actualMaximumAndMinimumChangedOverride(),this.onAxisChanged({changeType:ai.Zoom,deltaMinimum:g,deltaMaximum:f})}zoom(t,i){if(!this.isZoomEnabled)return;const s=this.actualMinimum,n=this.actualMaximum,o=Math.max(Math.min(t,i),this.absoluteMinimum),a=Math.min(Math.max(t,i),this.absoluteMaximum);this.viewMinimum=o,this.viewMaximum=a,this.updateActualMaxMin();const l=this.actualMinimum-s,h=this.actualMaximum-n;this.onAxisChanged({changeType:ai.Zoom,deltaMinimum:l,deltaMaximum:h})}zoomAt(t,i){if(!this.isZoomEnabled)return;const s=this.actualMinimum,n=this.actualMaximum,o=(this.actualMinimum-i)*this._scale,a=(this.actualMaximum-i)*this._scale;this._scale*=t;let l=o/this._scale+i,h=a/this._scale+i;if(h-l>this.maximumRange){const g=(l+h)*.5;h=g+this.maximumRange*.5,l=g-this.maximumRange*.5}if(h-l<this.minimumRange){const g=(l+h)*.5;h=g+this.minimumRange*.5,l=g-this.minimumRange*.5}l=Math.max(l,this.absoluteMinimum),h=Math.min(h,this.absoluteMaximum),this.viewMinimum=l,this.viewMaximum=h,this.updateActualMaxMin();const m=this.actualMinimum-s,c=this.actualMaximum-n;this.onAxisChanged({changeType:ai.Zoom,deltaMinimum:m,deltaMaximum:c})}zoomAtCenter(t){const i=(this.transform(this.clipMaximum)+this.transform(this.clipMinimum))*.5,s=this.inverseTransform(i);this.zoomAt(t,s)}include(t){this.isValidValue(t)&&(this.dataMinimum=isNaN(this.dataMinimum)?t:Math.min(this.dataMinimum,t),this.dataMaximum=isNaN(this.dataMaximum)?t:Math.max(this.dataMaximum,t))}resetDataMaxMin(){this.dataMaximum=this.dataMinimum=this.actualMaximum=this.actualMinimum=NaN}updateActualMaxMin(){isNaN(this.viewMaximum)?isNaN(this.maximum)?this.actualMaximum=this.calculateActualMaximum():this.actualMaximum=this.maximum:this.actualMaximum=this.viewMaximum,isNaN(this.viewMinimum)?isNaN(this.minimum)?this.actualMinimum=this.calculateActualMinimum():this.actualMinimum=this.minimum:this.actualMinimum=this.viewMinimum,this.coerceActualMaxMin()}updateIntervals(t){const i=this.intervalLength;let s=this.isHorizontal()?t.width:t.height;s*=Math.abs(this.endPosition-this.startPosition),this.actualMajorStep=isNaN(this.majorStep)?this.calculateActualInterval(s,i,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount):this.majorStep,this.actualMinorStep=isNaN(this.minorStep)?this.calculateMinorInterval(this.actualMajorStep):this.minorStep,isNaN(this.actualMinorStep)&&(this.actualMinorStep=2),isNaN(this.actualMajorStep)&&(this.actualMajorStep=10),this.actualMinorStep=Math.max(this.actualMinorStep,this.minimumMinorStep),this.actualMajorStep=Math.max(this.actualMajorStep,this.minimumMajorStep),this.actualStringFormatter=this.stringFormatter||this.getDefaultStringFormatter()}updateTransform(t){const i=t.left,s=t.right,n=t.bottom,o=t.top;let a=this.isHorizontal()?i:n,l=this.isHorizontal()?s:o;const h=l-a;l=a+this.endPosition*h,a=a+this.startPosition*h;const m=this.isHorizontal()!=this.isReversed?1:-1;this.minimumMargin>0&&(a+=this.minimumMargin*m),this.maximumMargin>0&&(l-=this.maximumMargin*m),this.isHorizontal()?(this.screenMin=A(a,o),this.screenMax=A(l,n)):this.isVertical()&&(this.screenMin=A(i,l),this.screenMax=A(s,a)),this.minimumDataMargin>0&&(a+=this.minimumDataMargin*m),this.maximumDataMargin>0&&(l-=this.maximumDataMargin*m),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const c=this.preTransform(this.actualMaximum),g=this.preTransform(this.actualMinimum),f=a-l;let y,M;Math.abs(f)>Number.EPSILON?y=a/f*c-l/f*g:y=0;const S=c-g;Math.abs(S)>Number.EPSILON?M=(l-a)/S:M=1,this.setTransform(M,y),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(a-this.minimumDataMargin*m):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(l+this.maximumDataMargin*m):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}actualMaximumAndMinimumChangedOverride(){}getDefaultStringFormatter(){return t=>Zl(t,4)}postInverseTransform(t){return t}preTransform(t){return t}calculateMinorInterval(t){return hi.calculateMinorInterval(t)}createTickValues(t,i,s,n=1e3){return hi.createTickValues(t,i,s,n)}coerceActualMaxMin(){if(this.absoluteMaximum<=this.absoluteMinimum)throw new Error("AbsoluteMaximum must be larger than AbsoluteMinimum.");if(this.absoluteMaximum-this.absoluteMinimum<this.minimumRange)throw new Error("MinimumRange must not be larger than AbsoluteMaximum-AbsoluteMinimum.");if(this.maximumRange<this.minimumRange)throw new Error("MinimumRange must not be larger than MaximumRange.");if((isNaN(this.actualMinimum)||qe(this.actualMinimum))&&(this.actualMinimum=0),(isNaN(this.actualMaximum)||qe(this.actualMaximum))&&(this.actualMaximum=100),this.absoluteMinimum>ut&&this.absoluteMinimum<tt&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMinimum),this.maximumRange<tt&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMinimum+this.maximumRange))),this.absoluteMaximum>ut&&this.absoluteMaximum<tt&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMaximum),this.maximumRange<tt&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMaximum-this.maximumRange))),this.actualMaximum-this.actualMinimum<this.minimumRange)if(this.actualMinimum+this.minimumRange<this.absoluteMaximum){const t=(this.actualMaximum+this.actualMinimum)*.5,i=this.minimumRange/2;if(this.actualMinimum=t-i,this.actualMaximum=t+i,this.actualMinimum<this.absoluteMinimum){const s=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=s}if(this.actualMaximum>this.absoluteMaximum){const s=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=s}}else this.absoluteMaximum-this.minimumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.minimumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);if(this.actualMaximum-this.actualMinimum>this.maximumRange)if(this.actualMinimum+this.maximumRange<this.absoluteMaximum){const t=(this.actualMaximum+this.actualMinimum)*.5,i=this.maximumRange/2;if(this.actualMinimum=t-i,this.actualMaximum=t+i,this.actualMinimum<this.absoluteMinimum){const s=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=s}if(this.actualMaximum>this.absoluteMaximum){const s=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=s}}else this.absoluteMaximum-this.maximumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.maximumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum+100)}formatValueOverride(t){let i=this.stringFormatter;if(this.useSuperExponentialFormat&&t!==0){const s=to.Exponent(t),n=to.Mantissa(t);if(i){if(typeof i=="function")return`${i(t)}·10^{${s}}`}else return Math.abs(n-1)<1e-6?`10^{${s}}`:`${n}·10^{${s}}`;throw new Error("invalid stringFormat")}if(i=this.actualStringFormatter||this.stringFormatter,typeof i=="function")return i(t);if(!i)return t.toString();throw new Error("invalid stringFormat")}calculateActualMaximum(){let t=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<=0){const i=this.dataMaximum>0?this.dataMaximum:1;t+=i*.5}if(!isNaN(this.dataMinimum)&&!isNaN(t)){const i=this.preTransform(t),s=this.preTransform(this.dataMinimum),n=this.maximumPadding*(i-s);return this.postInverseTransform(i+n)}return t}calculateActualMinimum(){let t=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<=0){const i=this.dataMaximum>0?this.dataMaximum:1;t-=i*.5}if(!isNaN(this.actualMaximum)){const i=this.preTransform(this.actualMaximum),s=this.preTransform(t),n=this.maximumPadding,o=this.minimumPadding*((i-s)/(1+n));return this.postInverseTransform(s-o)}return t}setTransform(t,i){this._scale=t,this._offset=i,this.onTransformChanged()}calculateActualInterval(t,i,s,n,o){if(vt(o)&&(o=Math.abs(this.clipMinimum-this.clipMaximum)),t<=0)return i;if(Math.abs(i)<=0)throw new Error("Maximum interval size cannot be zero.");if(Math.abs(o)<=0)throw new Error("Range cannot be zero.");const a=g=>Math.ceil(Math.log10(g)),l=g=>g/Math.pow(10,a(g)-1);s=Math.max(s,0),n=Math.min(n,t/i),o=Math.abs(o);let h=Math.pow(10,a(o)),m=h;const c=g=>parseFloat(g.toPrecision(14));for(;l(m)===5?m=c(m/2.5):m=c(m/2),!(o/h>=s&&o/m>n||isNaN(m)||qe(m));)h=m;return h}onAxisChanged(t){this.updateActualMaxMin();const i=this.axisChanged;i&&i(this,t)}onTransformChanged(){const t=this.transformChanged;t&&t(this)}};u(Ni,"Exponent",e=>Math.floor(Ni.ThresholdRound(Math.log(Math.abs(e))/Math.LN10))),u(Ni,"Mantissa",e=>Ni.ThresholdRound(e/Math.pow(10,Ni.Exponent(e)))),u(Ni,"ThresholdRound",e=>Math.abs(Math.round(e)-e)<1e-6?Math.round(e):e);let Bo=Ni;class w extends Bo{constructor(t){super(),u(this,"formatAsFractions"),u(this,"fractionUnit"),u(this,"fractionUnitSymbol"),this.fractionUnit=1,this.fractionUnitSymbol=void 0,this.formatAsFractions=!1,t&&Object.assign(this,ot(t))}isXyAxis(){return!0}isLogarithmic(){return!1}formatValueOverride(t){return this.formatAsFractions?Vh.convertToFractionString(t,this.fractionUnit,this.fractionUnitSymbol,1e-6,this.stringFormatter):super.formatValueOverride(t)}}class ae extends w{constructor(t){super(t),u(this,"startAngle"),u(this,"endAngle"),this.position=x.All,this.tickStyle=it.None,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.majorGridlineStyle=k.Solid,this.minorGridlineStyle=k.Solid,this.startAngle=0,this.endAngle=360,t&&Object.assign(this,ot(t))}getTickValues(){const t=this.startAngle/this.scale,i=this.endAngle/this.scale;let s=this.createTickValues(t,i,this.actualMinorStep);const n=this.createTickValues(t,i,this.actualMajorStep),o=this.createTickValues(this.minimum,this.maximum,this.actualMajorStep);return s=hi.filterRedundantMinorTicks(n,s),{majorLabelValues:o,majorTickValues:n,minorTickValues:s}}inverseTransformPoint(t,i,s){throw new Error("Angle axis should always be the y-axis.")}isXyAxis(){return!1}async render(t,i){await new th(t,this.plotModel).render(this,i)}transformPoint(t,i,s){throw new Error("Angle axis should always be the y-axis.")}updateTransform(t){const i=t.left,s=t.right,n=t.bottom,o=t.top;this.screenMin=A(i,o),this.screenMax=A(s,n);const a=(this.endAngle-this.startAngle)/(this.actualMaximum-this.actualMinimum),l=this.actualMinimum-this.startAngle/a;this.setTransform(a,l),this.clipMinimum=this.actualMinimum,this.clipMaximum=this.actualMaximum}}class Wa extends ae{async render(t,i){await new eh(t,this.plotModel).render(this,i)}}var ai=(e=>(e[e.Zoom=0]="Zoom",e[e.Pan=1]="Pan",e[e.Reset=2]="Reset",e))(ai||{}),Ei=(e=>(e[e.BelowSeries=0]="BelowSeries",e[e.AboveSeries=1]="AboveSeries",e))(Ei||{}),x=(e=>(e[e.None=0]="None",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.Top=3]="Top",e[e.Bottom=4]="Bottom",e[e.All=5]="All",e))(x||{});class hi{static calculateMinorInterval(t){return Math.abs((Math.log10(t)+1e3)%1-Math.log10(2))<1e-10?t/4:t/5}static calculateMinorInterval2(t){const i=Math.ceil(Math.log(t)/Math.LN10);return(t/Math.pow(10,i-1)|0)===2?t/4:t/5}static createTickValues(t,i,s,n=1e3){if(s<=0)throw new Error("Step cannot be zero or negative.");i<t&&(s=-s);const o=s*.001;t-=o,i+=o;let a=Math.ceil(t/s)*s;Math.abs(a)<Number.EPSILON&&(a=0);const l=[],h=Math.sign(s);let m=0,c=a;for(;(i-c)*h>=0&&m<n;)l.push(c),c=a+ ++m*s;return l}static filterRedundantMinorTicks(t,i){if(t.length===0||i.length===0)return i;const s=[];let n=0,o=1,a=t.length>1?t[o]:t[0];const l=(c,g)=>Math.abs(c-g)*.001;let h=i.length>1?l(i[0],i[1]):0,m=1;t.length>1&&t[0]>t[1]&&(m=-1);for(let c=0;c<i.length;c++){const g=i[c];for(c>0&&(h=l(g,n));(a-g)*m<0&&o<t.length-1;)a=t[++o];const f=t[o-1];Math.abs(g-a)>h&&Math.abs(g-f)>h&&s.push(g),n=g}return s}}class K extends w{constructor(t){super(t),u(this,"_autoGeneratedLabels",[]),u(this,"_itemsSourceLabels",[]),u(this,"gapWidth"),u(this,"isTickCentered",!1),u(this,"itemsSource"),u(this,"labelField"),u(this,"_labels",[]),this.tickStyle=it.Outside,this.position=x.Bottom,this.minimumPadding=0,this.maximumPadding=0,this.majorStep=1,this.gapWidth=1,t&&Object.assign(this,ot(t))}get actualLabels(){return this.itemsSource?this._itemsSourceLabels:this.labels.length>0?this.labels:this._autoGeneratedLabels}get labels(){return this._labels}getTickValues(){const{majorLabelValues:t,majorTickValues:i,minorTickValues:s}=super.getTickValues();if(s.length=0,!this.isTickCentered){let n=[];if(n=t.map(o=>o-.5).filter(o=>o>this.clipMinimum-.001),n.length>0){const o=n[n.length-1]+this.majorStep;o<this.clipMaximum+.001&&n.push(o)}i.length=0,i.push(...n)}return{majorLabelValues:t,majorTickValues:i,minorTickValues:s}}getValue(t){return this.formatValue(t)}updateActualMaxMin(){this.include(-.5);const t=this.actualLabels;t.length>0?this.include(t.length-1+.5):this.include(.5),super.updateActualMaxMin(),this.minorStep=1}updateLabels(t){if(this.itemsSource){this._itemsSourceLabels.length=0;const i=[];for(let s of this.itemsSource||[])s=this.labelField?s[this.labelField]:s,this.stringFormatter?i.push(this.stringFormatter(s)):i.push(s.toString());this._itemsSourceLabels.push(...i);return}if(this.labels.length===0){if(this._autoGeneratedLabels.length===t)return;this._autoGeneratedLabels.length=0,this._autoGeneratedLabels.push(...Array.from({length:t},(i,s)=>(s+1).toString()))}}formatValueOverride(t){const i=Math.floor(t),s=this.actualLabels;return i>=0&&i<s.length?s[i]:""}}function Hn(e){return e&&typeof e.getColor=="function"&&typeof e.getPaletteIndex=="function"}class Se extends w{constructor(t){super(t),u(this,"midPoint",ke),this.position=x.None,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.majorGridlineStyle=k.Solid,this.minorGridlineStyle=k.Solid,t&&Object.assign(this,t)}inverseTransformPoint(t,i,s){if(!(s instanceof ae))throw new Error("Polar angle axis not defined!");const n=s;t-=this.midPoint.x,i-=this.midPoint.y,i*=-1;const o=Math.atan2(i,t);return t=Math.sqrt(t*t+i*i)/this.scale+this.offset,i=o/n.scale+n.offset*Math.PI/180,d(t,i)}isXyAxis(){return!1}async render(t,i){await new hn(t,this.plotModel).render(this,i)}transformPoint(t,i,s){if(!(s instanceof ae))throw new Error("Polar angle axis not defined!");const n=s,o=(t-this.offset)*this.scale,a=(i-n.offset)*n.scale;return A(this.midPoint.x+o*Math.cos(a/180*Math.PI),this.midPoint.y-o*Math.sin(a/180*Math.PI))}updateTransform(t){const i=t.left,s=t.right,n=t.bottom,o=t.top;this.screenMin=A(i,o),this.screenMax=A(s,n),this.midPoint=A((i+s)/2,(n+o)/2);const a=Math.min(Math.abs(s-i),Math.abs(o-n));let l=0,h=a*.5;const m=h-l;h=l+this.endPosition*m,l=l+this.startPosition*m;const c=this.isReversed?-1:1;this.minimumMargin>0&&(l+=this.minimumMargin*c),this.maximumMargin>0&&(h-=this.maximumMargin*c),this.minimumDataMargin>0&&(l+=this.minimumDataMargin*c),this.maximumDataMargin>0&&(h-=this.maximumDataMargin*c),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const g=this.preTransform(this.actualMaximum),f=this.preTransform(this.actualMinimum),y=l-h;let M,S;Math.abs(y)>Number.EPSILON?M=l/y*g-h/y*f:M=0;const C=g-f;Math.abs(C)>Number.EPSILON?S=(h-l)/C:S=1,this.setTransform(S,M),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(a*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}}var it=(e=>(e[e.Crossing=0]="Crossing",e[e.Inside=1]="Inside",e[e.Outside=2]="Outside",e[e.None=3]="None",e))(it||{});class _s{constructor(t,i){u(this,"_plot"),u(this,"rc"),u(this,"minorTickValues",[]),u(this,"axislinePen"),u(this,"extraPen"),u(this,"majorLabelValues",[]),u(this,"majorPen"),u(this,"majorTickPen"),u(this,"majorTickValues",[]),u(this,"minorPen"),u(this,"minorTickPen"),u(this,"zeroPen"),this._plot=i,this.rc=t}get plot(){return this._plot}get renderContext(){return this.rc}async render(t,i){if(!t)return;const{majorLabelValues:s,majorTickValues:n,minorTickValues:o}=t.getTickValues();this.majorLabelValues=s,this.majorTickValues=n,this.minorTickValues=o,this.createPens(t)}createPens(t){const i=t.minorTicklineColor.isAutomatic()?t.ticklineColor:t.minorTicklineColor;this.minorPen=Ut.create(t.minorGridlineColor,t.minorGridlineThickness,t.minorGridlineStyle),this.majorPen=Ut.create(t.majorGridlineColor,t.majorGridlineThickness,t.majorGridlineStyle),this.minorTickPen=Ut.create(i,t.minorGridlineThickness),this.majorTickPen=Ut.create(t.ticklineColor,t.majorGridlineThickness),this.zeroPen=Ut.create(t.ticklineColor,t.majorGridlineThickness),this.extraPen=Ut.create(t.extraGridlineColor,t.extraGridlineThickness,t.extraGridlineStyle),this.axislinePen=Ut.create(t.axislineColor,t.axislineThickness,t.axislineStyle)}getTickPositions(t,i,s,n){let o=0,a=0;const l=n===x.Top||n===x.Left?-1:1;switch(i){case it.Crossing:o=-s*l*.75,a=s*l*.75;break;case it.Inside:o=-s*l;break;case it.Outside:a=s*l;break}return[o,a]}isWithin(t,i,s){return t<i?!1:t<=s}}class th extends _s{constructor(t,i){super(t,i)}async render(t,i){const s=t;await super.render(t,i);const n=this.plot.defaultMagnitudeAxis;if(!n)throw new Error("Magnitude axis not defined.");const o=s.startAngle/s.scale,a=s.endAngle/s.scale,l=Math.abs(a-o);if(this.minorPen){const c=Math.abs(l/t.actualMinorStep|0),g=this.minorTickValues.slice(0,c+1).map(f=>n.transformPoint(n.clipMaximum,f,t));for(const f of g)await _.drawLine(this.renderContext,n.midPoint.x,n.midPoint.y,f.x,f.y,this.minorPen,t.edgeRenderingMode)}const h=Math.abs(Math.abs(Math.max(s.endAngle,s.startAngle)-Math.min(s.startAngle,s.endAngle))-360)<.001;let m=l/t.actualMajorStep|0;if(h||m++,this.majorPen){const c=this.majorTickValues.slice(0,m).map(g=>n.transformPoint(n.clipMaximum,g,t));for(const g of c)await _.drawLine(this.renderContext,n.midPoint.x,n.midPoint.y,g.x,g.y,this.majorPen,t.edgeRenderingMode)}for(const c of this.majorLabelValues.slice(0,m)){let g=n.transformPoint(n.clipMaximum,c,t);const f=Math.atan2(g.y-n.midPoint.y,g.x-n.midPoint.x);let{x:y,y:M}=g;y+=Math.cos(f)*t.axisTickToLabelDistance,M+=Math.sin(f)*t.axisTickToLabelDistance,g=A(y,M);let S=f*180/Math.PI;const C=t.formatValue(c);let v=I.Left,R=D.Middle;Math.abs(Math.abs(S)-90)<10?(v=I.Center,R=S>=90?D.Top:D.Bottom,S=0):(S>90||S<-90)&&(S-=180,v=I.Right),await ne.drawMathText(this.renderContext,g,C,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,S,v,R)}}}class yi extends _s{constructor(t,i){super(t,i)}async render(t,i){await super.render(t,i);let s=!0;const n=t.axisDistance+t.positionTierMinShift,o=t.positionTierSize-this.plot.axisTierDistance,a=this.plot.plotArea.left,l=this.plot.plotArea.right,h=this.plot.plotArea.top,m=this.plot.plotArea.bottom;let c=0,g=0;switch(t.position){case x.Left:c=a-n;break;case x.Right:c=l+n;break;case x.Top:c=h-n;break;case x.Bottom:c=m+n;break}if(t.positionAtZeroCrossing){const f=t.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis;c=f.transform(0);const y=t.isHorizontal()?f.screenMin.y:f.screenMin.x,M=t.isHorizontal()?f.screenMax.y:f.screenMax.x;let S=Math.min(y,M),C=Math.max(y,M);const v=t.isHorizontal()?h:a,R=t.isHorizontal()?m:l;if(S=Math.max(S,v),C=Math.min(C,R),c<S){c=S;const T=t.isHorizontal()?this.plot.plotAreaBorderThickness.top:this.plot.plotAreaBorderThickness.left,P=t.isHorizontal()?this.plot.plotArea.top:this.plot.plotArea.left;c<=P&&T>0&&this.plot.plotAreaBorderColor.isVisible()&&(s=!1)}if(c>C){c=C;const T=t.isHorizontal()?this.plot.plotAreaBorderThickness.bottom:this.plot.plotAreaBorderThickness.right,P=t.isHorizontal()?this.plot.plotArea.bottom:this.plot.plotArea.right;c>=P&&T>0&&this.plot.plotAreaBorderColor.isVisible()&&(s=!1)}}switch(t.position){case x.Left:g=c-o;break;case x.Right:g=c+o;break;case x.Top:g=c-o;break;case x.Bottom:g=c+o;break}switch(t.position){case x.Left:case x.Top:g+=t.axisDistance;break;case x.Right:case x.Bottom:g-=t.axisDistance;break}i==0&&await this.renderMinorItems(t,c),i==1&&(await this.renderMajorItems(t,c,g,s),await this.renderAxisTitle(t,g))}static lerp(t,i,s){return t*(1-s)+i*s}static snapTo(t,i,s=.5){return i>t-s&&i<t+s?t:i}getAxisTitlePositionAndAlignment(t,i){let s=-90,n=I.Center,o=D.Top,a=t.isHorizontal()?yi.lerp(t.screenMin.x,t.screenMax.x,t.titlePosition):yi.lerp(t.screenMax.y,t.screenMin.y,t.titlePosition);t.positionAtZeroCrossing&&(a=yi.lerp(t.transform(t.clipMaximum),t.transform(t.clipMinimum),t.titlePosition));let l=ke;switch(t.position){case x.Left:l=A(i,a);break;case x.Right:o=D.Bottom,l=A(i,a);break;case x.Top:n=I.Center,o=D.Top,s=0,l=A(a,i);break;case x.Bottom:n=I.Center,o=D.Bottom,s=0,l=A(a,i);break;default:throw new Error("Invalid axis position")}return{point:l,angle:s,halign:n,valign:o}}async renderAxisTitle(t,i){if(!t.actualTitle)return;const s=t.isHorizontal();let n;if(t.clipTitle){const m=Math.abs(s?t.screenMax.x-t.screenMin.x:t.screenMax.y-t.screenMin.y);n=new dt(m*t.titleClippingLength,tt)}const{point:o,angle:a,halign:l,valign:h}=this.getAxisTitlePositionAndAlignment(t,i);await ne.drawMathText(this.renderContext,o,t.actualTitle,t.actualTitleColor,t.actualTitleFont,t.actualTitleFontSize,t.actualTitleFontWeight,a,l,h,n)}async renderMajorItems(t,i,s,n){const o=t.actualMinorStep*.001,a=t.clipMinimum,l=t.clipMaximum,h=this.plot.plotArea.left,m=this.plot.plotArea.right,c=this.plot.plotArea.top,g=this.plot.plotArea.bottom,f=t.isHorizontal(),y=t.cropGridlines,M=[],S=[],[C,v]=this.getTickPositions(t,t.tickStyle,t.majorTickSize,t.position),R=t.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis,T=t.positionAtZeroCrossing&&(R==null?void 0:R.positionAtZeroCrossing);let P=[];y&&(f?P=this.plot.axes.filter(O=>O.isXyAxis()&&O.isVertical()):P=this.plot.axes.filter(O=>O.isXyAxis()&&O.isHorizontal()));const B=yi.snapTo;for(const O of this.majorTickValues){if(T&&Math.abs(O)<o)continue;let E=t.transform(O);f?(E=B(h,E),E=B(m,E)):(E=B(c,E),E=B(g,E)),this.majorPen&&this.addSegments(M,P,f,y,E,h,m,c,g),t.tickStyle!=it.None&&t.majorTickSize>0&&(f?(S.push(A(E,i+C)),S.push(A(E,i+v))):(S.push(A(i+C,E)),S.push(A(i+v,E))))}for(const O of this.majorLabelValues){if(O<a-o||O>l+o||T&&Math.abs(O)<o)continue;let E=t.transform(O);f?(E=B(h,E),E=B(m,E)):(E=B(c,E),E=B(g,E));let q=ke,ft=[I.Center,D.Middle];switch(t.position){case x.Left:q=A(i+v-t.axisTickToLabelDistance,E),ft=this.getRotatedAlignments(t.angle,-90);break;case x.Right:q=A(i+v+t.axisTickToLabelDistance,E),ft=this.getRotatedAlignments(t.angle,90);break;case x.Top:q=A(E,i+v-t.axisTickToLabelDistance),ft=this.getRotatedAlignments(t.angle,0);break;case x.Bottom:q=A(E,i+v+t.axisTickToLabelDistance),ft=this.getRotatedAlignments(t.angle,-180);break}const[Z,ht]=ft,Qt=t.formatValue(O);await ne.drawMathText(this.renderContext,q,Qt,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,t.angle,Z,ht)}const V=_.getActualEdgeRenderingMode(t.edgeRenderingMode,W.PreferSharpness);if(t.extraGridlines&&this.extraPen){const O=[];for(const E of t.extraGridlines){if(!this.isWithin(E,a,l))continue;const q=t.transform(E);this.addSegments(O,P,f,y,q,h,m,c,g)}await _.drawLineSegments(this.renderContext,O,this.extraPen,V)}n&&(f?await _.drawLine(this.renderContext,t.transform(a),i,t.transform(l),i,this.axislinePen,V):await _.drawLine(this.renderContext,i,t.transform(a),i,t.transform(l),this.axislinePen,V)),this.majorPen&&await _.drawLineSegments(this.renderContext,M,this.majorPen,V),this.majorTickPen&&await _.drawLineSegments(this.renderContext,S,this.majorTickPen,V)}async renderMinorItems(t,i){const s=t.actualMinorStep*.001,n=this.plot.plotArea.left,o=this.plot.plotArea.right,a=this.plot.plotArea.top,l=this.plot.plotArea.bottom,h=t.cropGridlines,m=t.isHorizontal(),c=[],g=[];let f=[];h&&(m?f=this.plot.axes.filter(v=>v.isXyAxis()&&v.isVertical()):f=this.plot.axes.filter(v=>v.isXyAxis()&&v.isHorizontal()));const[y,M]=this.getTickPositions(t,t.tickStyle,t.minorTickSize,t.position),S=yi.snapTo;for(const v of this.minorTickValues){if(t.positionAtZeroCrossing&&Math.abs(v)<s)continue;let R=t.transform(v);m?(R=S(n,R),R=S(o,R)):(R=S(a,R),R=S(l,R)),this.minorPen&&this.addSegments(c,f,m,h,R,n,o,a,l),t.tickStyle!=it.None&&t.minorTickSize>0&&(m?(g.push(A(R,i+y)),g.push(A(R,i+M))):(g.push(A(i+y,R)),g.push(A(i+M,R))))}const C=_.getActualEdgeRenderingMode(t.edgeRenderingMode,W.PreferSharpness);this.minorPen&&await _.drawLineSegments(this.renderContext,c,this.minorPen,C),this.minorTickPen&&await _.drawLineSegments(this.renderContext,g,this.minorTickPen,C)}addSegments(t,i,s,n,o,a,l,h,m){if(s)if(!n)t.push(A(o,h)),t.push(A(o,m));else for(const c of i)t.push(A(o,c.transform(c.clipMinimum))),t.push(A(o,c.transform(c.clipMaximum)));else if(!n)t.push(A(a,o)),t.push(A(l,o));else for(const c of i)t.push(A(c.transform(c.clipMinimum),o)),t.push(A(c.transform(c.clipMaximum),o))}getRotatedAlignments(t,i){const s=(i+360)%360-180;let n=t>=Math.min(i,s)&&t<Math.max(i,s)?I.Left:I.Right,o=D.Middle;return i<0&&(n=n===I.Left?I.Right:I.Left),(Math.abs(t-s)<10||Math.abs(t-i)<10)&&(n=I.Center),Math.abs(t-i)<10&&(o=D.Bottom),Math.abs(t-s)<10&&(o=D.Top),[n,o]}}class hn extends _s{constructor(t,i){super(t,i)}async render(t,i){await super.render(t,i);const s=this.plot.defaultAngleAxis;if(!s)throw new Error("Angle axis should not be null.");if(s.updateActualMaxMin(),i===0&&this.extraPen){const n=t.extraGridlines;if(n)for(let o=0;o<n.length;o++)await this.renderTick(t,s,n[o],this.extraPen)}if(i===0&&this.minorPen)for(const n of this.minorTickValues)await this.renderTick(t,s,n,this.minorPen);if(i===0&&this.majorPen)for(const n of this.majorTickValues)await this.renderTick(t,s,n,this.majorPen);if(i===1)for(const n of this.majorTickValues)await this.renderTickText(t,n,s)}static getActualAngle(t,i){const s=t.transformPoint(0,i.angle,i),n=t.transformPoint(1,i.angle,i);return Math.atan2(n.y-s.y,n.x-s.x)}static getTickTextAlignment(t){let i=I.Center,s=D.Bottom;return t>3*Math.PI/4||t<-3*Math.PI/4?(i=I.Center,s=D.Top):t<-Math.PI/4?(i=I.Right,s=D.Middle):t>Math.PI/4?(i=I.Left,s=D.Middle):(i=I.Center,s=D.Bottom),[i,s]}async renderTick(t,i,s,n){Math.abs(Math.abs(i.endAngle-i.startAngle)-360)<1e-6&&!n.actualDashArray?await this.renderTickCircle(t,i,s,n):await this.renderTickArc(t,i,s,n)}async renderTickCircle(t,i,s,n){const o=i.offset,a=t.transformPoint(t.clipMinimum,o,i),l=t.transformPoint(s,o,i).x,h=l-a.x,m=h*2,c=l-m,g=a.y-h,f=m;await this.renderContext.drawEllipse(new F(c,g,m,f),p.Undefined,n.color,n.thickness,t.edgeRenderingMode)}async renderTickArc(t,i,s,n){const o=i.clipMinimum,a=i.clipMaximum,l=Math.round(90*Math.abs(i.endAngle-i.startAngle)/360),h=(a-o)/(l-1),m=[];for(let c=0;c<l;c++){const g=o+c*h;m.push(t.transformPoint(s,g,i))}await this.renderContext.drawLine(m,n.color,n.thickness,t.edgeRenderingMode,n.actualDashArray)}async renderTickText(t,i,s){const n=hn.getActualAngle(t,s),o=t.axisTickToLabelDistance*Math.sin(n),a=-t.axisTickToLabelDistance*Math.cos(n),[l,h]=hn.getTickTextAlignment(n);let m=t.transformPoint(i,s.angle,s);m=A(m.x+o,m.y+a);const c=t.formatValue(i);await ne.drawMathText(this.renderContext,m,c,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,t.angle,l,h)}}class eh extends _s{constructor(t,i){super(t,i)}async render(t,i){const s=t;await super.render(t,i);const n=this.plot.defaultMagnitudeAxis;if(!n)throw new Error("Magnitude axis not defined.");const o=s.startAngle/s.scale,a=s.endAngle/s.scale,l=Math.abs(a-o);if(this.minorPen){const c=Math.abs(l/t.actualMinorStep),g=this.minorTickValues.slice(0,c+1).map(f=>this.transformToClientRectangle(n.clipMaximum,f,t,this.plot.plotArea,n.midPoint));for(const f of g)await _.drawLine(this.renderContext,n.midPoint.x,n.midPoint.y,f.x,f.y,this.minorPen,t.edgeRenderingMode)}const h=Math.abs(Math.abs(Math.max(s.endAngle,s.startAngle)-Math.min(s.startAngle,s.endAngle))-360)<.001;let m=Math.floor(l/t.actualMajorStep);if(h||m++,this.majorPen){const c=this.majorTickValues.slice(0,m).map(g=>this.transformToClientRectangle(n.clipMaximum,g,t,this.plot.plotArea,n.midPoint));for(const g of c)await _.drawLine(this.renderContext,n.midPoint.x,n.midPoint.y,g.x,g.y,this.majorPen,t.edgeRenderingMode)}for(const c of this.majorLabelValues.slice(0,m)){const g=this.transformToClientRectangle(n.clipMaximum,c,t,this.plot.plotArea,n.midPoint),f=t.formatValue(c);let y=I.Center,M=D.Middle;const S=this.plot.plotArea;let C=g.y,v=g.x;C<=S.top?(y=I.Center,M=D.Top,C+=t.axisTickToLabelDistance):C>=S.bottom?(y=I.Center,M=D.Bottom,C-=t.axisTickToLabelDistance):v<=S.left?(y=I.Left,M=D.Middle,v+=t.axisTickToLabelDistance):v>=S.right&&(y=I.Right,M=D.Middle,v-=t.axisTickToLabelDistance);const R=A(v,C);await ne.drawMathText(this.renderContext,R,f,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,0,y,M)}}transformToClientRectangle(t,i,s,n,o){let a=ke,l=(i-s.offset)*s.scale;l%=360;const h=l/180*Math.PI,m=Math.cos(h),c=-Math.sin(h);if(m!==0){let g=0;m>0?g=n.right-o.x:m<0&&(g=n.left-o.x);const f=g/m;let y=f*m,M=f*c;if(M+o.y>n.bottom||M+o.y<n.top){let S=0;c>0?S=n.bottom-o.y:S=n.top-o.y;const C=S/c;y=C*m,M=C*c,a=A(C*m+o.x,C*c+o.y)}else a=A(y+o.x,M+o.y)}return a}}const Jt=180/Math.PI,fa=Math.PI/180,Ya=class Xi extends _s{constructor(t,i){super(t,i)}async render(t,i){await super.render(t,i);const s=this.plot.defaultAngleAxis,n=this.plot.defaultMagnitudeAxis;if(!s)throw new Error("Angle axis should not be undefined.");s.updateActualMaxMin();const o=Math.abs(t.plotModel.plotArea.top-n.midPoint.y),a=Math.abs(t.plotModel.plotArea.bottom-n.midPoint.y),l=Math.abs(t.plotModel.plotArea.left-n.midPoint.x),h=Math.abs(t.plotModel.plotArea.right-n.midPoint.x),m=t.plotModel.plotArea.offset(-n.midPoint.x,-n.midPoint.y),c=-Jt*Math.atan2(m.top,m.right);let g=-Jt*Math.atan2(m.top,m.left),f=360-Jt*Math.atan2(m.bottom,m.left);const y=360-Jt*Math.atan2(m.bottom,m.right);g<0&&(g+=360),f>360&&(f-=360);const M=Math.sqrt(Math.pow(m.top,2)+Math.pow(m.right,2)),S=Math.sqrt(Math.pow(m.top,2)+Math.pow(m.left,2)),C=Math.sqrt(Math.pow(m.bottom,2)+Math.pow(m.left,2)),v=Math.sqrt(Math.pow(m.bottom,2)+Math.pow(m.right,2));if(i===0&&this.minorPen){const R=this.minorPen;for(const T of this.minorTickValues){const P=t.transform(T);let B=0,V=90,O=90,E=180,q=180,ft=270,Z=270,ht=360;const Qt=h/P,Re=o/P,te=l/P,ee=a/P;P>h&&(ht=360-Jt*Math.acos(Qt),B=Jt*Math.acos(Qt)),P>o&&(V=Jt*Math.asin(Re),O=180-Jt*Math.asin(Re)),P>l&&(E=180-Jt*Math.acos(te),q=180+Jt*Math.acos(te)),P>a&&(ft=180+Jt*Math.asin(ee),Z=360-Jt*Math.asin(ee)),P<=M&&(B<c&&await this.renderTickArc(t,s,T,R,B+s.offset,c+s.offset),c<V&&await this.renderTickArc(t,s,T,R,c+s.offset,V+s.offset)),P<=S&&(O<g&&await this.renderTickArc(t,s,T,R,O+s.offset,g+s.offset),g<E&&await this.renderTickArc(t,s,T,R,g+s.offset,E+s.offset)),P<=C&&(q<f&&await this.renderTickArc(t,s,T,R,q+s.offset,f+s.offset),f<ft&&await this.renderTickArc(t,s,T,R,f+s.offset,ft+s.offset)),P<=v&&(Z<y&&await this.renderTickArc(t,s,T,R,Z+s.offset,y+s.offset),y<ht&&await this.renderTickArc(t,s,T,R,y+s.offset,ht+s.offset))}}if(i===0&&this.majorPen){const R=this.majorPen;for(const T of this.majorTickValues){const P=t.transform(T);let B=0,V=90,O=90,E=180,q=180,ft=270,Z=270,ht=360;const Qt=h/P,Re=o/P,te=l/P,ee=a/P;P>h&&(ht=360-Jt*Math.acos(Qt),B=Jt*Math.acos(Qt)),P>o&&(V=Jt*Math.asin(Re),O=180-Jt*Math.asin(Re)),P>l&&(E=180-Jt*Math.acos(te),q=180+Jt*Math.acos(te)),P>a&&(ft=180+Jt*Math.asin(ee),Z=360-Jt*Math.asin(ee)),P<=M&&(B<c&&await this.renderTickArc(t,s,T,R,B+s.offset,c+s.offset),c<V&&await this.renderTickArc(t,s,T,R,c+s.offset,V+s.offset)),P<=S&&(O<g&&await this.renderTickArc(t,s,T,R,O+s.offset,g+s.offset),g<E&&await this.renderTickArc(t,s,T,R,g+s.offset,E+s.offset)),P<=C&&(q<f&&await this.renderTickArc(t,s,T,R,q+s.offset,f+s.offset),f<ft&&await this.renderTickArc(t,s,T,R,f+s.offset,ft+s.offset)),P<=v&&(Z<y&&await this.renderTickArc(t,s,T,R,Z+s.offset,y+s.offset),y<ht&&await this.renderTickArc(t,s,T,R,y+s.offset,ht+s.offset))}}if(i===1){const R=_.autoResetClip(this.renderContext,F.fromScreenPoints(t.screenMin,t.screenMax));for(const T of this.majorLabelValues)await this.renderTickText(t,T,s);R.dispose()}}static getActualAngle(t,i){const s=t.transformPoint(0,i.angle,i),n=t.transformPoint(1,i.angle,i);return Math.atan2(n.y-s.y,n.x-s.x)}static getTickTextAligment(t){let i=I.Center,s=D.Bottom;return t>3*Math.PI/4||t<-3*Math.PI/4?(i=I.Center,s=D.Top):t<-Math.PI/4?(i=I.Right,s=D.Middle):t>Math.PI/4?(i=I.Left,s=D.Middle):(i=I.Center,s=D.Bottom),[i,s]}async renderTickArc(t,i,s,n,o,a){let l=Xi.maxSegments*Math.abs(a-o)/360;(i.fractionUnit===Math.PI||i.actualMaximum===2*Math.PI)&&(l=Xi.maxSegments*Math.abs(a-o)/(2*Math.PI),o*=fa,a*=fa),l=Math.max(l,2),l=Math.min(l,Xi.maxSegments);const h=Math.abs(a-o)/(l-1),m=[];for(let c=0;c<l;c++){const g=o+c*h,f=t.transformPoint(s,g,i);m.push(f)}await this.renderContext.drawLine(m,n.color,n.thickness,t.edgeRenderingMode,n.actualDashArray)}async renderTickText(t,i,s){const n=Xi.getActualAngle(t,s),o=t.axisTickToLabelDistance*Math.sin(n),a=-t.axisTickToLabelDistance*Math.cos(n),[l,h]=Xi.getTickTextAligment(n);let m=t.transformPoint(i,s.angle,s);m=A(m.x+o,m.y+a);const c=t.formatValue(i);await ne.drawMathText(this.renderContext,m,c,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,t.angle,l,h)}};u(Ya,"maxSegments",180);let ih=Ya;class wt extends Bo{constructor(t){super(t),u(this,"base"),u(this,"powerPadding"),u(this,"logActualMaximum",0),u(this,"logActualMinimum",0),u(this,"logClipMaximum",0),u(this,"logClipMinimum",0),this.powerPadding=!0,this.base=10,this.filterMinValue=0,t&&Object.assign(this,ot(t))}getTickValues(){let t=[],i=[],s=[];const n=Math.abs(this.logClipMaximum-this.logClipMinimum),o=Math.abs(this.isVertical()?this.screenMax.y-this.screenMin.y:this.screenMax.x-this.screenMin.x)/this.intervalLength/n,a=1/Math.floor(o),l=Math.round(this.base);if(o<.75){const h=Math.pow(2,Math.ceil(Math.log(1/o)/Math.log(2)));t=this.decadeTicks(h),s=this.decadeTicks(Math.ceil(h/8))}else if(Math.abs(this.base-l)>1e-10)t=this.decadeTicks(a),s=this.decadeTicks(.5*a);else if(o<2)t=this.decadeTicks(),s=this.subdividedDecadeTicks();else{if(o>this.base*1.5)return super.getTickValues();{const h=this.logSubdividedDecadeTicks(!1);if(h.length<2)return super.getTickValues();const m=this.logCalculateMinorCandidates(h,a);s=this.powList(m,!0),t=this.alignTicksToCandidates(h,a)}}return i=t,s=hi.filterRedundantMinorTicks(t,s),{majorLabelValues:i,majorTickValues:t,minorTickValues:s}}isXyAxis(){return!0}isLogarithmic(){return!0}pan(t,i){if(!this.isPanEnabled)return;const s=this.isHorizontal(),n=this.inverseTransform(s?t.x:t.y),o=this.inverseTransform(s?i.x:i.y);if(Math.abs(o)<=0)return;const a=this.actualMinimum,l=this.actualMaximum,h=n/o;let m=this.actualMinimum*h,c=this.actualMaximum*h;m<this.absoluteMinimum&&(m=this.absoluteMinimum,c=m*this.actualMaximum/this.actualMinimum),c>this.absoluteMaximum&&(c=this.absoluteMaximum,m=c*this.actualMinimum/this.actualMaximum),this.viewMinimum=m,this.viewMaximum=c;const g=this.actualMinimum-a,f=this.actualMaximum-l;this.onAxisChanged({changeType:ai.Pan,deltaMinimum:g,deltaMaximum:f})}inverseTransform(t){return Math.exp(t/this.scale+this.offset)}transform(t){return t<=0?-1:(Math.log(t)-this.offset)*this.scale}zoomAt(t,i){if(!this.isZoomEnabled)return;const s=this.actualMinimum,n=this.actualMaximum,o=this.preTransform(i),a=this.preTransform(this.actualMinimum)-o,l=this.preTransform(this.actualMaximum)-o,h=this.postInverseTransform(a/t+o),m=this.postInverseTransform(l/t+o),c=Math.max(h,this.absoluteMinimum),g=Math.min(m,this.absoluteMaximum);this.viewMinimum=c,this.viewMaximum=g,this.updateActualMaxMin();const f=this.actualMinimum-s,y=this.actualMaximum-n;this.onAxisChanged({changeType:ai.Zoom,deltaMinimum:f,deltaMaximum:y})}powList(t,i=!1){return t.filter(s=>!i||!(s<this.logClipMinimum)).filter(s=>!i||!(s>this.logClipMaximum)).map(s=>Math.pow(this.base,s))}logList(t,i=!1){return t.filter(s=>!i||!(s<this.clipMinimum)).filter(s=>!i||!(s>this.clipMaximum)).map(s=>Math.log(s)/Math.log(this.base))}decadeTicks(t=1){return this.powList(this.logDecadeTicks(t))}logDecadeTicks(t=1){const i=[];if(t<=0)return i;let s=Number.NaN;for(let n=Math.ceil(this.logClipMinimum);n<=this.logClipMaximum&&!(n<=s);n+=t)s=n,n>=this.logClipMinimum&&i.push(n);return i}logSubdividedDecadeTicks(t=!0){return this.logList(this.subdividedDecadeTicks(t))}subdividedDecadeTicks(t=!0){const i=[];for(let s=Math.floor(this.logClipMinimum);!(s>this.logClipMaximum);s++){const n=Math.pow(this.base,s);for(let o=1;o<this.base;o++){const a=n*o;if(!(t&&a<this.clipMinimum)){if(t&&a>this.clipMaximum)break;i.push(n*o)}}}return i}alignTicksToCandidates(t,i){return this.powList(this.logAlignTicksToCandidates(t,i))}logAlignTicksToCandidates(t,i){const s=[];let n=1,o=Number.NaN;for(let a=Math.floor(this.logClipMinimum);;a+=i){if(a<this.logClipMinimum-i)continue;if(a>this.logClipMaximum+i)break;for(;n<t.length-1&&t[n]<a;)n++;const l=Math.abs(t[n]-a)<Math.abs(t[n-1]-a)?t[n]:t[n-1];l!=o&&l>=this.logClipMinimum&&l<=this.logClipMaximum&&s.push(l),o=l}return s}logCalculateMinorCandidates(t,i){const s=[];for(let n=1;n<t.length;n++){const o=t[n-1],a=t[n];if(!(a<this.logClipMinimum)){if(o>this.logClipMaximum)break;(a-o)/i>2&&this.logSubdivideInterval(s,this.base,o,a),s.push(a)}}return s}logSubdivideInterval(t,i,s,n){let o=1;const a=Math.round(this.base);if(i<2)return;if(Math.abs(this.base-a)>this.base*1e-10)o=Math.round(i);else if(a&a-1)for(a!=10&&(o=a);!(o>=i||(o*=2,o>=i)||(o=Math.round(o*2.5),o>=i));)o*=2;else for(;o<i;)o*=2;const l=Math.pow(this.base,s),h=Math.pow(this.base,n);for(let m=1;m<o;m++){const c=m/o,g=Math.log(l+(h-l)*c)/Math.log(this.base);t.push(g)}}updateActualMaxMin(){if(this.powerPadding){const t=Math.log(this.base),i=Math.floor(Math.log(this.actualMinimum)/t),s=Math.ceil(Math.log(this.actualMaximum)/t);isNaN(this.actualMinimum)||(this.actualMinimum=Gt(Math.exp(i*t),14)),isNaN(this.actualMaximum)||(this.actualMaximum=Gt(Math.exp(s*t),14))}super.updateActualMaxMin(),this.actualMinimum<=0&&(this.actualMinimum=.1)}actualMaximumAndMinimumChangedOverride(){this.logActualMinimum=Zs(this.actualMinimum,this.base),this.logActualMaximum=Zs(this.actualMaximum,this.base),this.logClipMinimum=Zs(this.clipMinimum,this.base),this.logClipMaximum=Zs(this.clipMaximum,this.base)}postInverseTransform(t){return Math.exp(t)}preTransform(t){if(t<=0)throw new Error("Value should be positive.");return t<=0?0:Math.log(t)}coerceActualMaxMin(){(isNaN(this.actualMinimum)||qe(this.actualMinimum))&&(this.actualMinimum=1),this.actualMinimum<=0&&(this.actualMinimum=1),this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum*100),super.coerceActualMaxMin()}calculateActualMaximum(){let t=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const i=this.dataMaximum>0?this.dataMaximum:1;t+=i*.5}if(!isNaN(this.dataMinimum)&&!isNaN(t)){const i=t,s=this.dataMinimum;return Math.pow(i,this.maximumPadding+1)*(s>Number.EPSILON?Math.pow(s,-this.maximumPadding):1)}return t}calculateActualMinimum(){let t=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const i=this.dataMaximum>0?this.dataMaximum:1;t-=i*.5}if(!isNaN(this.actualMaximum)){const i=this.actualMaximum,s=t,n=this.maximumPadding;return Math.pow(s,1+this.minimumPadding-this.minimumPadding*n/(1+n))*Math.pow(i,-this.minimumPadding/(1+n))}return t}}var at=(e=>(e[e.Auto=0]="Auto",e[e.Manual=1]="Manual",e[e.Milliseconds=2]="Milliseconds",e[e.Seconds=3]="Seconds",e[e.Minutes=4]="Minutes",e[e.Hours=5]="Hours",e[e.Days=6]="Days",e[e.Weeks=7]="Weeks",e[e.Months=8]="Months",e[e.Years=9]="Years",e))(at||{});const qi=class ye extends w{constructor(t){super(t),u(this,"actualIntervalType",at.Auto),u(this,"actualMinorIntervalType",at.Auto),u(this,"_dateService"),u(this,"firstDayOfWeek"),u(this,"intervalType"),u(this,"minorIntervalType",at.Auto),u(this,"timeZone"),this.position=x.Bottom,this.intervalType=at.Auto,this.firstDayOfWeek=fn.Monday,this._dateService=Xe(),t&&Object.assign(this,ot(t))}static createDataPoint(t,i){return d(ye.toDouble(t),i)}static toDateTime(t){return isNaN(t)||t<ye.MinDayValue||t>ye.MaxDayValue?new Date:Xe().addTimespan(ye.TimeOrigin,Et.fromDays(t-1))}static toDouble(t){return Xe().diff(t,ye.TimeOrigin).totalDays+1}itemToDouble(t){return t instanceof Date?ye.toDouble(t):super.itemToDouble(t)}getTickValues(){let t=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep,this.actualMinorIntervalType);const i=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep,this.actualIntervalType),s=i;return t=hi.filterRedundantMinorTicks(i,t),{majorLabelValues:s,majorTickValues:i,minorTickValues:t}}getValue(t){const i=ye.toDateTime(t);return this.timeZone?this._dateService.convertTime(i,this.timeZone):i}updateIntervals(t){super.updateIntervals(t);const i=!vt(this.stringFormatter);switch(this.actualIntervalType){case at.Years:this.actualMinorStep=31,this.actualMinorIntervalType=at.Years,i||(this.actualStringFormatter=s=>this._dateService.format(s,"YYYY"));break;case at.Months:this.actualMinorIntervalType=at.Months,i||(this.actualStringFormatter=s=>this._dateService.format(s,"YYYY-MM-DD"));break;case at.Weeks:this.actualMinorIntervalType=at.Days,this.actualMajorStep=7,this.actualMinorStep=1,i||(this.actualStringFormatter=s=>this._dateService.format(s,"YYYY/ww"));break;case at.Days:this.actualMinorStep=this.actualMajorStep,i||(this.actualStringFormatter=s=>this._dateService.format(s,"YYYY-MM-DD"));break;case at.Hours:this.actualMinorStep=this.actualMajorStep,i||(this.actualStringFormatter=s=>this._dateService.format(s,"HH:mm"));break;case at.Minutes:this.actualMinorStep=this.actualMajorStep,i||(this.actualStringFormatter=s=>this._dateService.format(s,"HH:mm"));break;case at.Seconds:this.actualMinorStep=this.actualMajorStep,i||(this.actualStringFormatter=s=>this._dateService.format(s,"HH:mm:ss"));break;case at.Milliseconds:this.actualMinorStep=this.actualMajorStep,i||(this.actualStringFormatter=s=>this._dateService.format(s,"HH:mm:ss.SSS"));break;case at.Manual:break;case at.Auto:break}}getDefaultStringFormatter(){return t=>this._dateService.format(t,"yyyy-MM-dd")}formatValueOverride(t){let i=ye.toDateTime(t);this.timeZone&&(i=this._dateService.convertTime(i,this.timeZone));const s=this.actualStringFormatter;return s?s(i):i.toLocaleDateString()}calculateActualInterval(t,i,s,n,o){const a=.041666666666666664,l=a/60,h=l/60,m=h/1e3;o=Math.abs(this.clipMinimum-this.clipMaximum);const c=[m,2*m,10*m,100*m,h,2*h,5*h,10*h,30*h,l,2*l,5*l,10*l,30*l,a,4*a,8*a,12*a,1,2*1,5*1,7,2*7,30.5,2*30.5,3*30.5,4*30.5,6*30.5,365.25];let g=c[0];for(s=Math.max(s,0),n=Math.min(n,Math.max(Math.floor(t/i),2));!(o/g<n);){let f=c.find(y=>y>g);if(di(f))throw new Error(`cannot calculate interval,range=${o}`);if(Math.abs(f)<=0&&(f=g*2),o/f<s)break;g=f}if(this.actualIntervalType=this.intervalType,this.actualMinorIntervalType=this.minorIntervalType,this.intervalType===at.Auto&&(this.actualIntervalType=at.Milliseconds,g>=1/24/60/60&&(this.actualIntervalType=at.Seconds),g>=1/24/60&&(this.actualIntervalType=at.Minutes),g>=1/24&&(this.actualIntervalType=at.Hours),g>=1&&(this.actualIntervalType=at.Days),g>=30&&(this.actualIntervalType=at.Months),o>=365.25&&(this.actualIntervalType=at.Years)),this.actualIntervalType===at.Months){const f=o/30.5;g=super.calculateActualInterval(t,i,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,f)}if(this.actualIntervalType===at.Years){const f=o/365.25;g=super.calculateActualInterval(t,i,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,f)}if(this.actualMinorIntervalType===at.Auto)switch(this.actualIntervalType){case at.Years:this.actualMinorIntervalType=at.Months;break;case at.Months:this.actualMinorIntervalType=at.Days;break;case at.Weeks:this.actualMinorIntervalType=at.Days;break;case at.Days:this.actualMinorIntervalType=at.Hours;break;case at.Hours:this.actualMinorIntervalType=at.Minutes;break;default:this.actualMinorIntervalType=at.Days;break}return g}createDateTickValues(t,i,s,n){const o=[];let a=ye.toDateTime(t);if(!a)return o;let l=0;switch(n){case at.Weeks:l=this._dateService.dayOfWeek(a),a=this._dateService.addTimespan(a,Et.fromDays(-l+this.firstDayOfWeek));break;case at.Months:a=new Date(a.getFullYear(),a.getMonth(),1);break;case at.Years:a=new Date(a.getFullYear(),0,1);break}const h=this._dateService.addTimespan(ye.toDateTime(i),Et.fromMilliseconds(1));if(!h)return o;let m=a;const c=s*.001,g=ye.toDateTime(t-c),f=ye.toDateTime(i+c);if(!g||!f)return o;for(;m<h;)switch(m>g&&m<f&&o.push(ye.toDouble(m)),n){case at.Months:m=this._dateService.addMonths(m,Math.ceil(s));break;case at.Years:m=this._dateService.addYears(m,Math.ceil(s));break;default:m=this._dateService.addTimespan(m,Et.fromDays(s));break}return o}createDateTimeTickValues(t,i,s,n){return n>at.Days?this.createDateTickValues(t,i,s,n):this.createTickValues(t,i,s)}};u(qi,"TimeOrigin",new Date(Date.UTC(1901,0,1,0,0,0))),u(qi,"MaxDayValue",Et.fromMilliseconds(Ul.getTime()-qi.TimeOrigin.getTime()).totalDays),u(qi,"MinDayValue",Et.fromMilliseconds(Ii.getTime()-qi.TimeOrigin.getTime()).totalDays);let Lt=qi;class Ne extends w{static toDouble(t){return t.totalSeconds}itemToDouble(t){return t instanceof Et?Ne.toDouble(t):super.itemToDouble(t)}static toTimeSpan(t){return Et.fromSeconds(t)}getValue(t){return Ne.toTimeSpan(t)}getDefaultStringFormatter(){function t(i){return i.toString().padStart(2,"0")}return i=>`${i.hours}:${t(i.minutes)}:${t(i.seconds)}`}formatValueOverride(t){const i=Ne.toTimeSpan(t),s=this.actualStringFormatter??this.stringFormatter;return s?s(i):i.toString()}calculateActualInterval(t,i,s,n){const o=Math.abs(this.clipMinimum-this.clipMaximum);let a=1;const l=[1,5,10,30,60,120,300,600,900,1200,1800,3600];for(s=Math.max(s,0),n=Math.min(n,Math.max(Math.floor(t/i),2));!(o/a<n);){let h=l.find(m=>m>a);if(h||(h=a*2),o/h<s)break;a=h}return a}}class Yt extends w{constructor(t){super(t),u(this,"invalidNumberColor"),u(this,"highColor"),u(this,"lowColor"),u(this,"palette"),u(this,"renderAsImage",!1),this.position=x.None,this.axisDistance=20,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.palette=U.viridis(),this.lowColor=p.Undefined,this.highColor=p.Undefined,this.invalidNumberColor=p.Gray,t&&Object.assign(this,ot(t))}isXyAxis(){return!1}getColor(t){return Jn(t,"paletteIndex"),t===ut?this.invalidNumberColor:t===0?this.lowColor:t===this.palette.colors.length+1?this.highColor:this.palette.colors[t-1]}getColors(){return[this.lowColor,...this.palette.colors,this.highColor]}getPaletteIndex(t){if(isNaN(t))return ut;if(!this.lowColor.isUndefined()&&t<this.clipMinimum)return 0;if(!this.highColor.isUndefined()&&t>this.clipMaximum)return this.palette.colors.length+1;let i=1+Math.floor((t-this.clipMinimum)/(this.clipMaximum-this.clipMinimum)*this.palette.colors.length);return i<1&&(i=1),i>this.palette.colors.length&&(i=this.palette.colors.length),i}async render(t,i){if(this.position!==x.None){if(this.palette===void 0)throw new Error("No Palette defined for color axis.");if(i===0){const s=this.axisDistance;let n=this.plotModel.plotArea.left,o=this.plotModel.plotArea.top;const a=this.majorTickSize-2,l=this.majorTickSize-2;switch(this.position){case x.Left:n=this.plotModel.plotArea.left-this.positionTierMinShift-a-s,o=this.plotModel.plotArea.top;break;case x.Right:n=this.plotModel.plotArea.right+this.positionTierMinShift+s,o=this.plotModel.plotArea.top;break;case x.Top:n=this.plotModel.plotArea.left,o=this.plotModel.plotArea.top-this.positionTierMinShift-l-s;break;case x.Bottom:n=this.plotModel.plotArea.left,o=this.plotModel.plotArea.bottom+this.positionTierMinShift+s;break}if(this.renderAsImage){const h=this.transform(this.clipMaximum)-this.transform(this.clipMinimum),m=h>0,c=Math.abs(h);if(this.isHorizontal()){const g=await this.generateColorAxisImage(m);await _.drawImage(t,g,n,o,c,l,1,!0)}else{const g=await this.generateColorAxisImage(m);await _.drawImage(t,g,n,o,a,c,1,!0)}}else{const h=async(g,f,y)=>{const M=Math.min(g,f),S=Math.max(g,f)+.5;await t.drawRectangle(this.isHorizontal()?new F(M,o,S-M,l):new F(n,M,a,S-M),y,p.Undefined,0,this.edgeRenderingMode)},m=this.palette.colors.length;for(let g=0;g<m;g++){const f=this.transform(this.getLowValue(g)),y=this.transform(this.getHighValue(g));await h(f,y,this.palette.colors[g])}let c=10;if(this.isHorizontal()&&(c*=-1),!this.lowColor.isUndefined()){const g=this.transform(this.clipMinimum);await h(g,g+c,this.lowColor)}if(!this.highColor.isUndefined()){const g=this.transform(this.clipMaximum);await h(g,g-c,this.highColor)}}}await super.render(t,i)}}getHighValue(t){return this.getLowValue(t+1)}getLowValue(t){return t/this.palette.colors.length*(this.clipMaximum-this.clipMinimum)+this.clipMinimum}generateColorAxisImage(t){const i=this.palette.colors.length,s=this.isHorizontal()?i:1,n=this.isHorizontal()?1:i,o=new Be(s,n);for(let a=0;a<i;a++){const l=this.palette.colors[a],h=t?i-1-a:a;this.isHorizontal()?o.set(h,0,l):o.set(0,h,l)}return fe.create(o,pe.Png)}}class sh extends w{constructor(t){super(t),u(this,"ranges",[]),u(this,"invalidNumberColor"),u(this,"highColor"),u(this,"lowColor"),this.position=x.None,this.axisDistance=20,this.lowColor=p.Undefined,this.highColor=p.Undefined,this.invalidNumberColor=p.Gray,this.isPanEnabled=!1,this.isZoomEnabled=!1,t&&Object.assign(this,t)}addRange(t,i,s){this.ranges.push({lowerBound:t,upperBound:i,color:s})}clearRanges(){this.ranges.length=0}getPaletteIndex(t){if(!this.lowColor.isUndefined()&&t<this.ranges[0].lowerBound)return-1;if(!this.highColor.isUndefined()&&t>this.ranges[this.ranges.length-1].upperBound)return this.ranges.length;for(let i=0;i<this.ranges.length;i++){const s=this.ranges[i];if(s.lowerBound<=t&&s.upperBound>t)return i}return ut}getColor(t){return t===ut?this.invalidNumberColor:t===-1?this.lowColor:t===this.ranges.length?this.highColor:this.ranges[t].color}async render(t,i){if(this.position!==x.None){if(i===0){const s=this.axisDistance;let n=this.plotModel.plotArea.left,o=this.plotModel.plotArea.top;const a=this.majorTickSize-2,l=this.majorTickSize-2,h=0;switch(this.position){case x.Left:n=this.plotModel.plotArea.left-h-a-s,o=this.plotModel.plotArea.top;break;case x.Right:n=this.plotModel.plotArea.right+h+s,o=this.plotModel.plotArea.top;break;case x.Top:n=this.plotModel.plotArea.left,o=this.plotModel.plotArea.top-h-l-s;break;case x.Bottom:n=this.plotModel.plotArea.left,o=this.plotModel.plotArea.bottom+h+s;break}const m=async(y,M,S)=>{const C=Math.min(y,M),v=Math.max(y,M);await t.drawRectangle(this.isHorizontal()?new F(C,o,v-C,l):new F(n,C,a,v-C),S,p.Undefined,0,this.edgeRenderingMode)},c=this.transform(this.isReversed?this.actualMinimum:this.actualMaximum),g=this.transform(this.isReversed?this.actualMaximum:this.actualMinimum);for(const y of this.ranges){let M=this.transform(y.lowerBound),S=this.transform(y.upperBound);this.isHorizontal()?(M<g&&(M=g),S>c&&(S=c)):(M>g&&(M=g),S<c&&(S=c)),await m(M,S,y.color)}let f=10;if(this.isHorizontal()&&(f*=-1),!this.lowColor.isUndefined()){const y=this.transform(this.actualMinimum);await m(y,y+f,this.lowColor)}if(!this.highColor.isUndefined()){const y=this.transform(this.actualMaximum);await m(y,y-f,this.highColor)}}await new yi(t,this.plotModel).render(this,i)}}}class Xa extends Se{constructor(t){super(t),u(this,"_midShiftH",0),u(this,"_midShiftV",0),this.position=x.None,this.isPanEnabled=!0,this.isZoomEnabled=!1,this.majorGridlineStyle=k.Solid,this.minorGridlineStyle=k.Solid,t&&Object.assign(this,t)}get midShiftH(){return this._midShiftH}set midShiftH(t){this._midShiftH=t,this._midShiftH=Math.max(this._midShiftH,-.5),this._midShiftH=Math.min(this._midShiftH,.5)}get midShiftV(){return this._midShiftV}set midShiftV(t){this._midShiftV=t,this._midShiftV=Math.max(this._midShiftV,-.5),this._midShiftV=Math.min(this._midShiftV,.5)}async render(t,i){await new ih(t,this.plotModel).render(this,i)}getTickValues(){const t=F.fromScreenPoints(this.screenMin,this.screenMax),i=Fe(t.topLeft,this.midPoint),s=Fe(t.topRight,this.midPoint),n=Fe(t.bottomRight,this.midPoint),o=Fe(t.bottomLeft,this.midPoint);let a=Math.max(i,s);a=Math.max(a,n),a=Math.max(a,o);const l=this.inverseTransform(a),h=hi.createTickValues(this.actualMinimum,l,this.actualMajorStep);let m=hi.createTickValues(this.actualMinimum,l,this.actualMinorStep);return m=hi.filterRedundantMinorTicks(h,m),{majorLabelValues:h,majorTickValues:h,minorTickValues:m}}updateTransform(t){const i=t.left,s=t.right,n=t.bottom,o=t.top;this.screenMin=A(i,o),this.screenMax=A(s,n),this.midPoint=A((i+s)/2+this.midShiftH*t.width,(n+o)/2+this.midShiftV*t.height);const a=Math.min(Math.abs(s-i),Math.abs(o-n));let l=0,h=a*.5;const m=h-l;h=l+this.endPosition*m,l=l+this.startPosition*m;const c=this.isReversed?-1:1;this.minimumDataMargin>0&&(l+=this.minimumDataMargin*c),this.maximumDataMargin>0&&(h-=this.maximumDataMargin*c),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const g=this.preTransform(this.actualMaximum),f=this.preTransform(this.actualMinimum),y=l-h;let M,S;Math.abs(y)>Number.EPSILON?M=l/y*g-h/y*f:M=0;const C=g-f;Math.abs(C)>Number.EPSILON?S=(h-l)/C:S=1,this.setTransform(S,M),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(a*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}pan(t,i){if(!this.isPanEnabled)return;const s=i.x-t.x,n=i.y-t.y,o=s/this.plotModel.plotArea.width,a=n/this.plotModel.plotArea.height;this.midShiftH+=o,this.midShiftV+=a,this.onAxisChanged({changeType:ai.Pan,deltaMinimum:0,deltaMaximum:0})}zoomAt(t,i){this.isZoomEnabled&&super.zoomAt(t,0)}}class Si{static getColor(t,i){return t.getColor(t.getPaletteIndex(i))}}class qa extends K{constructor(t){super(t),u(this,"invalidCategoryColor",p.Undefined),u(this,"palette"),this.palette=new Ot,t&&Object.assign(this,t)}getColor(t){return t===-1?this.invalidCategoryColor:t>=this.palette.colors.length?this.invalidCategoryColor:this.palette.colors[t]}getPaletteIndex(t){return Math.floor(t)}async render(t,i){if(this.position!==x.None){if(i===0){let s=this.plotModel.plotArea.left,n=this.plotModel.plotArea.top;const o=this.majorTickSize-2,a=this.majorTickSize-2;switch(this.position){case x.Left:s=this.plotModel.plotArea.left-this.positionTierMinShift-o,n=this.plotModel.plotArea.top;break;case x.Right:s=this.plotModel.plotArea.right+this.positionTierMinShift,n=this.plotModel.plotArea.top;break;case x.Top:s=this.plotModel.plotArea.left,n=this.plotModel.plotArea.top-this.positionTierMinShift-a;break;case x.Bottom:s=this.plotModel.plotArea.left,n=this.plotModel.plotArea.bottom+this.positionTierMinShift;break}const l=async(c,g,f)=>{const y=Math.min(c,g),M=Math.max(c,g);await t.drawRectangle(this.isHorizontal()?new F(y,n,M-y,a):new F(s,y,o,M-y),f,p.Undefined,0,this.edgeRenderingMode)},{majorLabelValues:h}=this.getTickValues(),m=this.palette.colors.length;for(let c=0;c<m;c++){const g=this.transform(this.getLowValue(c,h)),f=this.transform(this.getHighValue(c,h));await l(g,f,this.palette.colors[c])}}await super.render(t,i)}}getHighValue(t,i){return t>=this.palette.colors.length-1?this.clipMaximum:(i[t]+i[t+1])/2}getLowValue(t,i){return t===0?this.clipMinimum:(i[t-1]+i[t])/2}}const oe=Object.freeze({x:NaN,y:NaN}),Ai=Object.freeze({x:0,y:0});function mn(e){return isNaN(e.x)&&isNaN(e.y)}function hs(e){return!mn(e)}function d(e,t){return{x:e,y:t}}function nh(e){return e&&typeof e.x=="number"&&typeof e.y=="number"}function oh(e,t){return new Mn(e.x-t.x,e.y-t.y)}function wa(e,t){return d(e.x-t.x,e.y-t.y)}function sn(e,t){return d(e.x+t.x,e.y+t.y)}function ya(e,t){return e.x===t.x&&e.y===t.y}const eo=class Ts{constructor(t,i){u(this,"_x"),u(this,"_y"),this._x=t,this._y=i}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}times(t){const i=this;return new Ts(i._x*t,i._y*t)}plus(t){const i=this;return new Ts(i._x+t._x,i._y+t._y)}minus(t){const i=this;return new Ts(i._x-t._x,i._y-t._y)}negate(){const t=this;return new Ts(-t._x,-t._y)}equals(t){return this._x===t._x&&this._y===t._y}toString(){return`${this._x} ${this._y}`}isDefined(){return this._x===this._x&&this._y===this._y}};u(eo,"Undefined",new eo(NaN,NaN));let Mn=eo;function ah(e){return e.getDataPoint&&typeof e.getDataPoint=="function"}var N=(e=>(e[e.None=0]="None",e[e.Circle=1]="Circle",e[e.Square=2]="Square",e[e.Diamond=3]="Diamond",e[e.Triangle=4]="Triangle",e[e.Cross=5]="Cross",e[e.Plus=6]="Plus",e[e.Star=7]="Star",e[e.Custom=8]="Custom",e))(N||{}),j=(e=>(e[e.Data=0]="Data",e[e.ScreenUnits=1]="ScreenUnits",e[e.RelativeToViewport=2]="RelativeToViewport",e[e.RelativeToPlotArea=3]="RelativeToPlotArea",e))(j||{});class nt{constructor(t,i){u(this,"_unit"),u(this,"_value"),this._value=t,this._unit=i}get value(){return this._value}get unit(){return this._unit}equals(t){return this._value===t.value&&this._unit===t.unit}}var _i=(e=>(e[e.Default=0]="Default",e[e.Pan=1]="Pan",e[e.ZoomRectangle=2]="ZoomRectangle",e[e.ZoomHorizontal=3]="ZoomHorizontal",e[e.ZoomVertical=4]="ZoomVertical",e))(_i||{});function Qs(e){const t=[];return new Proxy(t,{deleteProperty:function(i,s){const n=i[s];return n&&n instanceof Qn&&(n.parent=void 0),delete i[s],!0},set:function(i,s,n,o){return i[s]=n,s==="length"||n&&n instanceof Qn&&(n.parent=e),!0}})}class Bs{constructor(t,i){u(this,"point"),u(this,"tolerance"),this.point=t,this.tolerance=i}}class rh{constructor(t){u(this,"view"),this.view=t}completed(t){}delta(t){}started(t){}}const io=class so{constructor(){u(this,"selectionColor"),u(this,"currentMouseEventElement"),u(this,"currentTouchEventElement"),u(this,"keyDown"),u(this,"mouseDown"),u(this,"mouseMove"),u(this,"mouseUp"),u(this,"mouseEnter"),u(this,"mouseLeave"),u(this,"touchStarted"),u(this,"touchDelta"),u(this,"touchCompleted"),this.selectionColor=p.Yellow}hitTest(t){const i=this.getHitTestElements(),s=[];for(const n of i){const o=n.hitTest(t);o&&s.push(o)}return s}handleMouseDown(t,i){const s=new Bs(i.position,so.mouseHitTolerance);for(const n of this.hitTest(s)){i.hitTestResult=n;const o=n.element;if(o.onMouseDown(i),i.handled){this.currentMouseEventElement=o;return}}i.handled||this.onMouseDown(t,i)}handleMouseMove(t,i){this.currentMouseEventElement&&this.currentMouseEventElement.onMouseMove(i),i.handled||this.onMouseMove(t,i)}handleMouseUp(t,i){this.currentMouseEventElement&&(this.currentMouseEventElement.onMouseUp(i),this.currentMouseEventElement=void 0),i.handled||this.onMouseUp(t,i)}handleMouseEnter(t,i){i.handled||this.onMouseEnter(t,i)}handleMouseLeave(t,i){i.handled||this.onMouseLeave(t,i)}handleTouchStarted(t,i){const s=new Bs(i.position,so.mouseHitTolerance);for(const n of this.hitTest(s)){const o=n.element;if(o.onTouchStarted(i),i.handled){this.currentTouchEventElement=o;return}}i.handled||this.onTouchStarted(t,i)}handleTouchDelta(t,i){this.currentTouchEventElement&&this.currentTouchEventElement.onTouchDelta(i),i.handled||this.onTouchDelta(t,i)}handleTouchCompleted(t,i){this.currentTouchEventElement&&(this.currentTouchEventElement.onTouchCompleted(i),this.currentTouchEventElement=void 0),i.handled||this.onTouchCompleted(t,i)}handleKeyDown(t,i){for(const s of this.getHitTestElements())if(s.onKeyDown(i),i.handled)break;i.handled||this.onKeyDown(t,i)}onKeyDown(t,i){const s=this.keyDown;s&&s(t,i)}onMouseDown(t,i){const s=this.mouseDown;s&&s(t,i)}onMouseMove(t,i){const s=this.mouseMove;s&&s(t,i)}onMouseUp(t,i){const s=this.mouseUp;s&&s(t,i)}onMouseEnter(t,i){const s=this.mouseEnter;s&&s(t,i)}onMouseLeave(t,i){const s=this.mouseLeave;s&&s(t,i)}onTouchStarted(t,i){const s=this.touchStarted;s&&s(t,i)}onTouchDelta(t,i){const s=this.touchDelta;s&&s(t,i)}onTouchCompleted(t,i){const s=this.touchCompleted;s&&s(t,i)}};u(io,"DefaultSelectionColor",p.Yellow),u(io,"mouseHitTolerance",10);let no=io;const oo=class ao{constructor(){u(this,"selection",new Map)}static get Everything(){return ao.EverythingSelection}isEverythingSelected(){return this===ao.EverythingSelection}getSelectedItems(){return Array.from(this.selection.keys()).map(t=>t.Index)}getSelectedItemsByFeature(t){return Array.from(this.selection.keys()).filter(i=>i.Feature===t).map(i=>i.Index)}clear(){this.selection.clear()}isItemSelected(t,i=null){if(this.isEverythingSelected())return!0;const s=new Wn(t,i);return this.hasSelection(s)}select(t,i=null){const s=new Wn(t,i);this.setSelection(s,!0)}unselect(t,i=null){const s=new Wn(t,i);if(!this.hasSelection(s))throw new Error(`Item ${t} and feature ${i} is not selected. Cannot unselect.`);this.deleteSelection(s)}getSameKey(t){for(const i of this.selection.keys())if(i.equals(t))return i}hasSelection(t){return!!this.getSameKey(t)}deleteSelection(t){const i=this.getSameKey(t);i&&this.selection.delete(i)}setSelection(t,i){const s=this.getSameKey(t)||t;this.selection.set(s,i)}};u(oo,"EverythingSelection",new oo);let ba=oo;class Wn{constructor(t,i){u(this,"index"),u(this,"feature"),this.index=t,this.feature=i}get Index(){return this.index}get Feature(){return this.feature}equals(t){return t.index===this.index&&t.feature===this.feature}}var ri=(e=>(e[e.All=0]="All",e[e.Single=1]="Single",e[e.Multiple=2]="Multiple",e))(ri||{});class un{constructor(t,i){u(this,"gesture"),u(this,"command"),this.gesture=t,this.command=i}static fromKeyGesture(t,i,s){return new un(new ms(t,i),s)}static fromMouseGesture(t,i,s){return new un(new Ri(t,i),s)}getGesture(){return this.gesture}getCommand(){return this.command}}class lh{constructor(){u(this,"inputCommandBindings",[]),u(this,"mouseDownManipulators",[]),u(this,"mouseHoverManipulators",[]),u(this,"touchManipulators",[])}handleGesture(t,i,s){const n=this.getCommand(i);return this.handleCommand(n,t,s)}handleMouseDown(t,i){if(t.actualModel&&(t.actualModel.handleMouseDown(this,i),i.handled))return!0;const s=this.getCommand(new Ri(i.changedButton,i.modifierKeys,i.clickCount));return this.handleCommand(s,t,i)}handleMouseEnter(t,i){if(t.actualModel&&(t.actualModel.handleMouseEnter(this,i),i.handled))return!0;const s=this.getCommand(new Ds(i.modifierKeys));return this.handleCommand(s,t,i)}handleMouseLeave(t,i){if(t.actualModel&&(t.actualModel.handleMouseLeave(this,i),i.handled))return!0;for(const s of[...this.mouseHoverManipulators])s.completed(i),Ks(this.mouseHoverManipulators,s);return i.handled}handleMouseMove(t,i){if(t.actualModel&&(t.actualModel.handleMouseMove(this,i),i.handled))return!0;for(const s of this.mouseDownManipulators)s.delta(i);for(const s of this.mouseHoverManipulators)s.delta(i);return i.handled}handleMouseUp(t,i){if(t.actualModel&&(t.actualModel.handleMouseUp(this,i),i.handled))return!0;for(const s of[...this.mouseDownManipulators])s.completed(i),Ks(this.mouseDownManipulators,s);return i.handled}handleMouseWheel(t,i){const s=this.getCommand(new Ns(i.modifierKeys));return this.handleCommand(s,t,i)}handleTouchStarted(t,i){if(t.actualModel&&(t.actualModel.handleTouchStarted(this,i),i.handled))return!0;const s=this.getCommand(new Fs);return this.handleCommand(s,t,i)}handleTouchDelta(t,i){if(t.actualModel&&(t.actualModel.handleTouchDelta(this,i),i.handled))return!0;for(const s of this.touchManipulators)s.delta(i);return i.handled}handleTouchCompleted(t,i){if(t.actualModel&&(t.actualModel.handleTouchCompleted(this,i),i.handled))return!0;for(const s of[...this.touchManipulators])s.completed(i),Ks(this.touchManipulators,s);return i.handled}handleKeyDown(t,i){if(!t.actualModel)return!1;if(t.actualModel.handleKeyDown(this,i),i.handled)return!0;const s=this.getCommand(new ms(i.key,i.modifierKeys));return this.handleCommand(s,t,i)}addMouseManipulator(t,i,s){this.mouseDownManipulators.push(i),i.started(s)}addHoverManipulator(t,i,s){this.mouseHoverManipulators.push(i),i.started(s)}addTouchManipulator(t,i,s){this.touchManipulators.push(i),i.started(s)}bindMouseDown(t,i){this.bindCore(t,i)}bindMouseEnter(t,i){this.bindCore(t,i)}bindMouseWheel(t,i){this.bindCore(t,i)}bindTouch(t,i){this.bindCore(t,i)}bindKey(t,i){this.bindCore(t,i)}unbindInput(t){ua(this.inputCommandBindings,i=>i.getGesture().equals(t))}unbindViewCommand(t){ua(this.inputCommandBindings,i=>i.getCommand()===t)}unbindAll(){this.inputCommandBindings.length=0}bindCore(t,i){const s=this.inputCommandBindings.find(n=>n.getGesture().equals(t));s&&Ks(this.inputCommandBindings,s),i&&this.inputCommandBindings.push(new un(t,i))}getCommand(t){const i=this.inputCommandBindings.find(s=>s.getGesture().equals(t));return i?i.getCommand():void 0}handleCommand(t,i,s){return t?(t.execute(i,this,s),s.handled):!1}}let mt=class{static bindKeyDown(t,i,s,n=xt.None){t.bindKey(new ms(i,n),s)}static bindMouseDown(t,i,s,n=xt.None,o=1){t.bindMouseDown(new Ri(i,n,o),s)}static bindTouchDown(t,i){t.bindTouch(new Fs,i)}static bindMouseEnter(t,i){t.bindMouseEnter(new Ds,i)}static bindMouseWheel(t,i,s=xt.None){t.bindMouseWheel(new Ns(s),i)}static unbindMouseDown(t,i,s=xt.None,n=1){t.unbindInput(new Ri(i,s,n))}static unbindKeyDown(t,i,s=xt.None){t.unbindInput(new ms(i,s))}static unbindMouseEnter(t){t.unbindInput(new Ds)}static unbindTouchDown(t){t.unbindInput(new Fs)}static unbindMouseWheel(t){t.unbindInput(new Ns)}};class hh{constructor(t){u(this,"handler"),this.handler=t}execute(t,i,s){this.handler(t,i,s)}}var pe=(e=>(e[e.Png=0]="Png",e[e.Bmp=1]="Bmp",e[e.Jpeg=2]="Jpeg",e[e.Unknown=3]="Unknown",e))(pe||{});class fe{constructor(t){u(this,"_data"),u(this,"uri"),u(this,"format",pe.Unknown),u(this,"width",0),u(this,"height",0),u(this,"bitsPerPixel",0),u(this,"dpiX",96),u(this,"dpiY",96),u(this,"_hashCode"),this._data=t}static async create(t,i,s,n){const o=Io(),a=t.height,l=t.width,h={pixels:t,palette:n,imageInfo:{width:l,height:a,bitsPerPixel:0,dpiX:s==null?void 0:s.dpiX,dpiY:s==null?void 0:s.dpiY,format:i}},m=await o.encode(h),c=new fe(m);return c.width=l,c.height=a,c}get data(){return this._data}static getImageFormat(t){return t.length>=2&&t[0]===255&&t[1]===216?pe.Jpeg:t.length>=2&&t[0]===66&&t[1]===77?pe.Bmp:t.length>=4&&t[0]===137&&t[1]===80&&t[2]===78&&t[3]===71?pe.Png:pe.Unknown}getHashCode(){return this._hashCode===void 0&&(this._hashCode=$a([...this._data])),this._hashCode}}var se=(e=>(e[e.Space=0]="Space",e[e.Enter=1]="Enter",e[e.Escape=2]="Escape",e[e.Tab=3]="Tab",e[e.Backspace=4]="Backspace",e[e.Insert=5]="Insert",e[e.Delete=6]="Delete",e[e.Home=7]="Home",e[e.End=8]="End",e[e.Up=9]="Up",e[e.Down=10]="Down",e[e.Left=11]="Left",e[e.Right=12]="Right",e[e.PageUp=13]="PageUp",e[e.PageDown=14]="PageDown",e[e.A=15]="A",e[e.B=16]="B",e[e.C=17]="C",e[e.D=18]="D",e[e.E=19]="E",e[e.F=20]="F",e[e.G=21]="G",e[e.H=22]="H",e[e.I=23]="I",e[e.J=24]="J",e[e.K=25]="K",e[e.L=26]="L",e[e.M=27]="M",e[e.N=28]="N",e[e.O=29]="O",e[e.P=30]="P",e[e.Q=31]="Q",e[e.R=32]="R",e[e.S=33]="S",e[e.T=34]="T",e[e.U=35]="U",e[e.V=36]="V",e[e.W=37]="W",e[e.X=38]="X",e[e.Y=39]="Y",e[e.Z=40]="Z",e[e.D0=41]="D0",e[e.D1=42]="D1",e[e.D2=43]="D2",e[e.D3=44]="D3",e[e.D4=45]="D4",e[e.D5=46]="D5",e[e.D6=47]="D6",e[e.D7=48]="D7",e[e.D8=49]="D8",e[e.D9=50]="D9",e[e.NumPad0=51]="NumPad0",e[e.NumPad1=52]="NumPad1",e[e.NumPad2=53]="NumPad2",e[e.NumPad3=54]="NumPad3",e[e.NumPad4=55]="NumPad4",e[e.NumPad5=56]="NumPad5",e[e.NumPad6=57]="NumPad6",e[e.NumPad7=58]="NumPad7",e[e.NumPad8=59]="NumPad8",e[e.NumPad9=60]="NumPad9",e[e.Add=61]="Add",e[e.Subtract=62]="Subtract",e[e.Multiply=63]="Multiply",e[e.Divide=64]="Divide",e[e.Decimal=65]="Decimal",e[e.F1=66]="F1",e[e.F2=67]="F2",e[e.F3=68]="F3",e[e.F4=69]="F4",e[e.F5=70]="F5",e[e.F6=71]="F6",e[e.F7=72]="F7",e[e.F8=73]="F8",e[e.F9=74]="F9",e[e.F10=75]="F10",e[e.F11=76]="F11",e[e.F12=77]="F12",e[e.Unknown=78]="Unknown",e))(se||{}),xt=(e=>(e[e.None=0]="None",e[e.Control=1]="Control",e[e.Alt=2]="Alt",e[e.Shift=4]="Shift",e[e.Windows=8]="Windows",e))(xt||{}),Mt=(e=>(e[e.None=0]="None",e[e.Left=1]="Left",e[e.Middle=2]="Middle",e[e.Right=3]="Right",e[e.XButton1=4]="XButton1",e[e.XButton2=5]="XButton2",e))(Mt||{});class ms{constructor(t,i=xt.None){this.key=t,this.modifiers=i}equals(t){if(!(t instanceof ms))return!1;const i=t;return i.modifiers===this.modifiers&&i.key===this.key}}class Ri{constructor(t,i=xt.None,s=1){this.mouseButton=t,this.modifiers=i,this.clickCount=s}equals(t){if(!(t instanceof Ri))return!1;const i=t;return i.modifiers===this.modifiers&&i.mouseButton===this.mouseButton&&i.clickCount===this.clickCount}}class Ds{constructor(t=xt.None){this.modifiers=t}equals(t){return t instanceof Ds?t.modifiers===this.modifiers:!1}}class Ns{constructor(t=xt.None){this.modifiers=t}equals(t){return t instanceof Ns?t.modifiers===this.modifiers:!1}}class Do{equals(t){return t instanceof Do}}class Fs{equals(t){return t instanceof Fs}}var ct=(e=>(e[e.Inside=0]="Inside",e[e.Outside=1]="Outside",e))(ct||{}),z=(e=>(e[e.TopLeft=0]="TopLeft",e[e.TopCenter=1]="TopCenter",e[e.TopRight=2]="TopRight",e[e.BottomLeft=3]="BottomLeft",e[e.BottomCenter=4]="BottomCenter",e[e.BottomRight=5]="BottomRight",e[e.LeftTop=6]="LeftTop",e[e.LeftMiddle=7]="LeftMiddle",e[e.LeftBottom=8]="LeftBottom",e[e.RightTop=9]="RightTop",e[e.RightMiddle=10]="RightMiddle",e[e.RightBottom=11]="RightBottom",e))(z||{});const mh=e=>e===6||e===7||e===8,uh=e=>e===9||e===10||e===11,ch=e=>e===0||e===1||e===2,dh=e=>e===3||e===4||e===5;var At=(e=>(e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e))(At||{}),ro=(e=>(e[e.Normal=0]="Normal",e[e.Reverse=1]="Reverse",e))(ro||{}),Ki=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(Ki||{});class ph extends wn{constructor(t){super(t),u(this,"key"),u(this,"isLegendVisible",!1),u(this,"legendOrientation",0),u(this,"legendPadding",0),u(this,"legendSymbolLength",0),u(this,"legendSymbolMargin",0),u(this,"legendSymbolPlacement",0),u(this,"legendTitle"),u(this,"legendTitleColor",p.Undefined),u(this,"legendTitleFont"),u(this,"legendTitleFontSize",0),u(this,"legendTitleFontWeight",0),u(this,"legendArea",F.Empty),u(this,"legendSize",dt.Empty),u(this,"legendBackground",p.Undefined),u(this,"legendBorder",p.Undefined),u(this,"legendBorderThickness",0),u(this,"legendColumnSpacing",0),u(this,"legendFont"),u(this,"legendFontSize",0),u(this,"legendTextColor"),u(this,"legendFontWeight",0),u(this,"legendItemAlignment",I.Left),u(this,"legendItemOrder",0),u(this,"legendItemSpacing",0),u(this,"legendLineSpacing",0),u(this,"legendMargin",0),u(this,"legendMaxWidth",0),u(this,"legendMaxHeight",0),u(this,"legendPlacement",0),u(this,"legendPosition",0),u(this,"allowUseFullExtent",!1),u(this,"showInvisibleSeries",!1)}hitTestOverride(t){return this.legendHitTest(t)}}class H extends ph{constructor(t){super(t),u(this,"legendBox"),u(this,"seriesPosMap",new Map),u(this,"groupNameFont"),u(this,"groupNameFontSize"),u(this,"groupNameFontWeight"),u(this,"seriesInvisibleTextColor"),this.isLegendVisible=!0,this.legendBox=F.Empty,this.key=void 0,this.groupNameFont=void 0,this.groupNameFontWeight=he.Normal,this.groupNameFontSize=NaN,this.legendTitleFont=void 0,this.legendTitleFontSize=NaN,this.legendTitleFontWeight=he.Bold,this.legendFont=void 0,this.legendFontSize=NaN,this.legendFontWeight=he.Normal,this.legendSymbolLength=16,this.legendSymbolMargin=4,this.legendPadding=8,this.legendColumnSpacing=8,this.legendItemSpacing=24,this.legendLineSpacing=0,this.legendMargin=8,this.legendBackground=p.Undefined,this.legendBorder=p.Undefined,this.legendBorderThickness=1,this.legendTextColor=p.Automatic,this.legendTitleColor=p.Automatic,this.legendMaxWidth=NaN,this.legendMaxHeight=NaN,this.legendPlacement=ct.Inside,this.legendPosition=z.RightTop,this.legendOrientation=At.Vertical,this.legendItemOrder=ro.Normal,this.legendItemAlignment=I.Left,this.legendSymbolPlacement=Ki.Left,this.showInvisibleSeries=!0,this.seriesInvisibleTextColor=r.fromAColor(64,this.legendTextColor),this.selectable=!0,this.selectionMode=ri.Single,t&&Object.assign(this,ot(t))}legendHitTest(t){if(!this.isLegendVisible||!this.plotModel.isLegendVisible)return;const i=t.point;if(this.isPointInLegend(i)&&this.seriesPosMap&&this.seriesPosMap.size>0){for(const[s,n]of this.seriesPosMap)if(n.containsPoint(i)&&this.showInvisibleSeries){s.isVisible=!s.isVisible,this.plotModel.invalidatePlot(!1);break}}}isPointInLegend(t){return this.legendBox.containsPoint(t)}ensureLegendProperties(){switch(this.legendPosition){case z.LeftTop:case z.LeftMiddle:case z.LeftBottom:case z.RightTop:case z.RightMiddle:case z.RightBottom:this.legendOrientation===At.Horizontal&&(this.legendOrientation=At.Vertical);break}}async renderLegends(t){await this.renderOrMeasureLegends(t,this.legendArea)}async getLegendSize(t,i){const s=i.width,n=i.height;let o=await this.measureLegends(t,new dt(Math.max(0,s),Math.max(0,n)));return o=new dt(Math.max(0,o.width),Math.max(0,o.height)),o}getLegendRectangle(t){let i=0,s=0;if(this.legendPlacement===ct.Outside){switch(this.legendPosition){case z.LeftTop:case z.LeftMiddle:case z.LeftBottom:s=this.plotModel.plotAndAxisArea.left-t.width-this.legendMargin;break;case z.RightTop:case z.RightMiddle:case z.RightBottom:s=this.plotModel.plotAndAxisArea.right+this.legendMargin;break;case z.TopLeft:case z.TopCenter:case z.TopRight:i=this.plotModel.plotAndAxisArea.top-t.height-this.legendMargin;break;case z.BottomLeft:case z.BottomCenter:case z.BottomRight:i=this.plotModel.plotAndAxisArea.bottom+this.legendMargin;break}const n=this.allowUseFullExtent?this.plotModel.plotAndAxisArea:this.plotModel.plotArea;switch(this.legendPosition){case z.TopLeft:case z.BottomLeft:s=n.left;break;case z.TopRight:case z.BottomRight:s=n.right-t.width;break;case z.LeftTop:case z.RightTop:i=n.top;break;case z.LeftBottom:case z.RightBottom:i=n.bottom-t.height;break;case z.LeftMiddle:case z.RightMiddle:i=(n.top+n.bottom-t.height)*.5;break;case z.TopCenter:case z.BottomCenter:s=(n.left+n.right-t.width)*.5;break}}else{switch(this.legendPosition){case z.LeftTop:case z.LeftMiddle:case z.LeftBottom:s=this.plotModel.plotArea.left+this.legendMargin;break;case z.RightTop:case z.RightMiddle:case z.RightBottom:s=this.plotModel.plotArea.right-t.width-this.legendMargin;break;case z.TopLeft:case z.TopCenter:case z.TopRight:i=this.plotModel.plotArea.top+this.legendMargin;break;case z.BottomLeft:case z.BottomCenter:case z.BottomRight:i=this.plotModel.plotArea.bottom-t.height-this.legendMargin;break}switch(this.legendPosition){case z.TopLeft:case z.BottomLeft:s=this.plotModel.plotArea.left+this.legendMargin;break;case z.TopRight:case z.BottomRight:s=this.plotModel.plotArea.right-t.width-this.legendMargin;break;case z.LeftTop:case z.RightTop:i=this.plotModel.plotArea.top+this.legendMargin;break;case z.LeftBottom:case z.RightBottom:i=this.plotModel.plotArea.bottom-t.height-this.legendMargin;break;case z.LeftMiddle:case z.RightMiddle:i=(this.plotModel.plotArea.top+this.plotModel.plotArea.bottom-t.height)*.5;break;case z.TopCenter:case z.BottomCenter:s=(this.plotModel.plotArea.left+this.plotModel.plotArea.right-t.width)*.5;break}}return new F(s,i,t.width,t.height)}async renderLegend(t,i,s){let n=this.legendItemAlignment;this.legendOrientation===At.Horizontal&&(n=I.Left);let o=s.left;switch(n){case I.Center:o=(s.left+s.right)/2,this.legendSymbolPlacement===Ki.Left?o-=(this.legendSymbolLength+this.legendSymbolMargin)/2:o-=(this.legendSymbolLength+this.legendSymbolMargin)/2;break;case I.Right:o=s.right,this.legendSymbolPlacement===Ki.Right&&(o-=this.legendSymbolLength+this.legendSymbolMargin);break}this.legendSymbolPlacement===Ki.Left&&(o+=this.legendSymbolLength+this.legendSymbolMargin);const a=s.top,l=new dt(Math.max(s.width-this.legendSymbolLength-this.legendSymbolMargin,0),s.height),h=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize;let m=i.isVisible?this.legendTextColor:this.seriesInvisibleTextColor;m=m||p.Black,t.setToolTip(i.toolTip);const c=await ne.drawMathText(t,A(o,a),i.title||"",m.getActualColor(this.plotModel.textColor),this.legendFont??this.plotModel.defaultFont,h,this.legendFontWeight,0,n,D.Top,l,!0);this.seriesPosMap.set(i,F.fromScreenPointAndSize(A(o,a),c));let g=o;switch(n){case I.Center:g=o-c.width*.5;break;case I.Right:g=o-c.width;break}if(i.isVisible){const f=new F(this.legendSymbolPlacement===Ki.Right?g+c.width+this.legendSymbolMargin:g-this.legendSymbolMargin-this.legendSymbolLength,s.top,this.legendSymbolLength,c.height);await i.renderLegend(t,f)}t.setToolTip(void 0)}measureLegends(t,i){return this.renderOrMeasureLegends(t,new F(0,0,i.width,i.height),!0)}async renderOrMeasureLegends(t,i,s=!1){if(!s&&i.width>0&&i.height>0){this.legendBox=i;const B=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness);await t.drawRectangle(i,this.legendBackground,this.legendBorder,this.legendBorderThickness,B)}const n=i.width,o=i.height;let a=this.legendPadding,l=this.legendPadding,h=dt.Empty;const m=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize,c=isNaN(this.legendTitleFontSize)?m:this.legendTitleFontSize,g=isNaN(this.groupNameFontSize)?m:this.groupNameFontSize;if(this.legendTitle){let B;s?B=await ne.measureMathText(t,this.legendTitle,this.legendTitleFont??this.plotModel.defaultFont,c,this.legendTitleFontWeight):B=await ne.drawMathText(t,A(i.left+a,i.top+l),this.legendTitle,this.legendTitleColor.getActualColor(this.plotModel.textColor),this.legendTitleFont??this.plotModel.defaultFont,c,this.legendTitleFontWeight,0,I.Left,D.Top,void 0,!0),l+=B.height,h=new dt(a+B.width+this.legendPadding,l+B.height)}let f=l,y=0;const M=.001;let S=0;const C=Qi(this.plotModel.series),v=this.legendItemOrder===ro.Reverse?C.filter(B=>B.renderInLegend&&B.legendKey===this.key):this.plotModel.series.filter(B=>B.renderInLegend&&B.legendKey===this.key),R=[];for(const B of v)R.includes(B.seriesGroupName||"")||R.push(B.seriesGroupName||"");this.seriesPosMap.clear();const T=new Map,P=async()=>{const B=[];for(const[V,O]of T){if(V.seriesGroupName&&!B.includes(V.seriesGroupName)){B.push(V.seriesGroupName);const Z=await ne.measureMathText(t,V.seriesGroupName,this.groupNameFont??this.plotModel.defaultFont,g,this.groupNameFontWeight);let ht=O.top,Qt=O.left;this.legendOrientation===At.Vertical?ht-=Z.height+this.legendLineSpacing/2:Qt-=Z.width+this.legendItemSpacing/2,await ne.drawMathText(t,A(Qt,ht),V.seriesGroupName,this.legendTitleColor.getActualColor(this.plotModel.textColor),this.groupNameFont??this.plotModel.defaultFont,g,this.groupNameFontWeight,0,I.Left,D.Top,void 0,!0)}let E=n;O.left+E+this.legendPadding>i.left+n&&(E=i.left+n-O.left-this.legendPadding);let q=O.height;i.top+q+this.legendPadding>i.top+o&&(q=i.top+o-i.top-this.legendPadding);const ft=new F(O.left,O.top,Math.max(E,0),Math.max(q,0));await this.renderLegend(t,V,ft)}B.length=0,T.clear()};s||t.pushClip(i);for(const B of R){const V=v.filter(q=>(q.seriesGroupName||"")===B);let O=dt.Empty;V.length>0&&B&&(O=await ne.measureMathText(t,B,this.groupNameFont??this.plotModel.defaultFont,g,this.groupNameFontWeight),this.legendOrientation===At.Vertical?f+=O.height:a+=O.width);let E=0;for(const q of V){if(!q.title||!q.renderInLegend||!q.isVisible&&!this.showInvisibleSeries)continue;const ft=await ne.measureMathText(t,q.title,this.legendFont??this.plotModel.defaultFont,m,this.legendFontWeight),Z=this.legendSymbolLength+this.legendSymbolMargin+ft.width,ht=ft.height;this.legendOrientation===At.Horizontal?(a>this.legendPadding&&(a+=this.legendItemSpacing),a+Z>n-this.legendPadding+M&&(a=this.legendPadding,E===0&&O.width>0&&(a+=O.width+this.legendItemSpacing),f+=y+this.legendLineSpacing,y=0),y=Math.max(y,ft.height),s||T.set(q,new F(i.left+a,i.top+f,Z,ht)),a+=Z,a=Math.max(O.width,a),h=new dt(Math.max(h.width,a),Math.max(h.height,f+ft.height))):(f+ht>o-this.legendPadding+M&&(await P(),f=l+O.height,a+=S+this.legendColumnSpacing,S=0),s||T.set(q,new F(i.left+a,i.top+f,Z,ht)),f+=ht+this.legendLineSpacing,S=Math.max(S,Z),h=new dt(Math.max(h.width,a+Z),Math.max(h.height,f))),E++}await P()}return s||t.popClip(),h.width>0&&(h=new dt(h.width+this.legendPadding,h.height)),h.height>0&&(h=new dt(h.width,h.height+this.legendPadding)),h.width>n&&(h=new dt(n,h.height)),h.height>o&&(h=new dt(h.width,o)),!isNaN(this.legendMaxWidth)&&h.width>this.legendMaxWidth&&(h=new dt(this.legendMaxWidth,h.height)),!isNaN(this.legendMaxHeight)&&h.height>this.legendMaxHeight&&(h=new dt(h.width,this.legendMaxHeight)),h}}class lo{static isAltDown(t){return(t.modifierKeys&xt.Alt)===xt.Alt}static isControlDown(t){return(t.modifierKeys&xt.Control)===xt.Control}static isShiftDown(t){return(t.modifierKeys&xt.Shift)===xt.Shift}}let _t=class{constructor(t){u(this,"dataPoint"),u(this,"item"),u(this,"index",0),u(this,"lineExtents"),u(this,"plotModel"),u(this,"position"),u(this,"series"),u(this,"text"),t&&Object.assign(this,ot(t))}get xAxis(){return!this.series||!(this.series instanceof It)?void 0:this.series.xAxis}get yAxis(){return!this.series||!(this.series instanceof It)?void 0:this.series.yAxis}toString(){return this.text?this.text.trim():""}};var ts=(e=>(e[e.None=0]="None",e[e.X=1]="X",e[e.Y=2]="Y",e))(ts||{});class Ka extends rh{constructor(t){super(t),u(this,"plotView"),u(this,"axisPreference",ts.None),u(this,"xAxis"),u(this,"yAxis"),this.plotView=t}inverseTransform(t,i){return this.xAxis?this.xAxis.inverseTransformPoint(t,i,this.yAxis):this.yAxis?d(0,this.yAxis.inverseTransform(i)):Ai}assignAxes(t){let i,s;this.plotView.actualModel?([i,s]=this.plotView.actualModel.getAxesFromPoint(t),this.axisPreference!==ts.None&&this.plotView.actualModel.plotArea.containsPoint(t)&&(this.axisPreference===ts.X?i&&(s=void 0):this.axisPreference===ts.Y&&s&&(i=void 0))):(i=void 0,s=void 0),this.xAxis=i,this.yAxis=s}}class Sn extends Ka{constructor(t){super(t),u(this,"startPosition")}started(t){this.assignAxes(t.position),this.startPosition=t.position}}class ho extends Sn{constructor(t,i,s){super(t),u(this,"fineControl"),u(this,"step"),this.step=i,this.fineControl=s}started(t){if(super.started(t),!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled))return;const i=this.inverseTransform(t.position.x,t.position.y);let s=this.step;this.fineControl&&(s*=3),s>0?s=1+s:s=1/(1-s),this.xAxis&&this.xAxis.zoomAt(s,i.x),this.yAxis&&this.yAxis.zoomAt(s,i.y),this.plotView.invalidatePlot(!1),t.handled=!0}}class gh extends Sn{constructor(t){super(t),u(this,"previousPosition",ke),u(this,"isPanEnabled",!1)}completed(t){super.completed(t),this.isPanEnabled&&(this.view.setCursorType(_i.Default),t.handled=!0)}delta(t){super.delta(t),this.isPanEnabled&&(this.xAxis&&this.xAxis.pan(this.previousPosition,t.position),this.yAxis&&this.yAxis.pan(this.previousPosition,t.position),this.plotView.invalidatePlot(!1),this.previousPosition=t.position,t.handled=!0)}started(t){super.started(t),this.previousPosition=t.position,this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isPanEnabled&&(this.view.setCursorType(_i.Pan),t.handled=!0)}}class xh extends Sn{constructor(t){super(t),u(this,"zoomRectangle",F.Empty),u(this,"isZoomEnabled",!1)}completed(t){if(super.completed(t),!!this.isZoomEnabled){if(this.plotView.setCursorType(_i.Default),this.plotView.hideZoomRectangle(),this.zoomRectangle.width>10&&this.zoomRectangle.height>10){const i=this.inverseTransform(this.zoomRectangle.left,this.zoomRectangle.top),s=this.inverseTransform(this.zoomRectangle.right,this.zoomRectangle.bottom);this.xAxis&&this.xAxis.zoom(i.x,s.x),this.yAxis&&this.yAxis.zoom(i.y,s.y),this.plotView.invalidatePlot()}t.handled=!0}}delta(t){if(super.delta(t),!this.plotView.actualModel||!this.isZoomEnabled||!this.startPosition)return;const i=this.plotView.actualModel.plotArea;let s=Math.min(this.startPosition.x,t.position.x),n=Math.abs(this.startPosition.x-t.position.x),o=Math.min(this.startPosition.y,t.position.y),a=Math.abs(this.startPosition.y-t.position.y);(this.xAxis===void 0||!this.xAxis.isZoomEnabled)&&(s=i.left,n=i.width),(this.yAxis===void 0||!this.yAxis.isZoomEnabled)&&(o=i.top,a=i.height),this.zoomRectangle=new F(s,o,n,a),this.plotView.showZoomRectangle(this.zoomRectangle),t.handled=!0}started(t){super.started(t),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),this.isZoomEnabled&&this.startPosition&&(this.zoomRectangle=new F(this.startPosition.x,this.startPosition.y,0,0),this.plotView.showZoomRectangle(this.zoomRectangle),this.plotView.setCursorType(this.getCursorType()),t.handled=!0)}getCursorType(){return this.xAxis===void 0?_i.ZoomVertical:this.yAxis===void 0?_i.ZoomHorizontal:_i.ZoomRectangle}}class Za extends Ka{constructor(t){super(t),u(this,"setHandledForPanOrZoom"),u(this,"isPanEnabled",!1),u(this,"isZoomEnabled",!1),this.setHandledForPanOrZoom=!0}completed(t){super.completed(t),this.setHandledForPanOrZoom&&(t.handled=t.handled||this.isPanEnabled||this.isZoomEnabled)}delta(t){if(super.delta(t),!this.isPanEnabled&&!this.isZoomEnabled)return;const i=t.position,s=Pe(i,t.deltaTranslation);this.xAxis&&this.xAxis.pan(s,i),this.yAxis&&this.yAxis.pan(s,i);const n=this.inverseTransform(i.x,i.y);this.xAxis&&this.xAxis.zoomAt(t.deltaScale.x,n.x),this.yAxis&&this.yAxis.zoomAt(t.deltaScale.y,n.y),this.plotView.invalidatePlot(!1),t.handled=!0}started(t){this.assignAxes(t.position),super.started(t),this.setHandledForPanOrZoom&&(this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),t.handled=t.handled||this.isPanEnabled||this.isZoomEnabled)}}class Fi extends Sn{constructor(t,i){super(t),u(this,"currentSeries"),u(this,"pointsOnly"),u(this,"snap"),u(this,"lockToInitialSeries"),u(this,"firesDistance"),u(this,"checkDistanceBetweenPoints"),u(this,"isTrackAnnotations",!0),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.isTrackAnnotations=!0,i&&Object.assign(this,ot(i))}completed(t){super.completed(t),t.handled=!0,this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(t){var i;if(super.delta(t),t.handled=!0,(!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(i=this.plotView.actualModel)==null?void 0:i.getSeriesFromPoint(t.position,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker(),this.isTrackAnnotations&&this.trackAnnotations(t.position);return}const s=this.plotView.actualModel;if(!s||!s.plotArea.contains(t.position.x,t.position.y))return;const n=Ir.getNearestHit(this.currentSeries,t.position,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);n&&(n.plotModel=this.plotView.actualModel,this.plotView.showTracker(n),this.plotView.actualModel.raiseTrackerChanged(n))}started(t){var i;super.started(t),this.currentSeries=(i=this.plotView.actualModel)==null?void 0:i.getSeriesFromPoint(t.position,this.firesDistance),this.delta(t)}trackAnnotations(t){const i=this.plotView.actualModel;for(const s of i.annotations.filter(n=>n.toolTip).reverse()){if(!s.toolTip)continue;const n=new Bs(t,this.firesDistance);if(!s.hitTest(n))continue;const o=s.inverseTransform(t),a=new _t({position:t,dataPoint:o,text:s.toolTip,plotModel:this.plotView.actualModel});this.plotView.showTracker(a),i.raiseTrackerChanged(a);break}}}class mo extends Za{constructor(t,i){super(t),u(this,"currentSeries"),u(this,"pointsOnly"),u(this,"snap"),u(this,"lockToInitialSeries"),u(this,"firesDistance"),u(this,"checkDistanceBetweenPoints"),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.setHandledForPanOrZoom=!1,i&&Object.assign(this,ot(i))}completed(t){super.completed(t),this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(t){super.delta(t),this.plotView.hideTracker()}started(t){var i;super.started(t),this.currentSeries=(i=this.plotView.actualModel)==null?void 0:i.getSeriesFromPoint(t.position,this.firesDistance),this.updateTracker(t.position)}updateTracker(t){var i;if((!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(i=this.plotView.actualModel)==null?void 0:i.getSeriesFromPoint(t,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker();return}const s=this.plotView.actualModel;if(!s||!s.plotArea.contains(t.x,t.y))return;const n=Ir.getNearestHit(this.currentSeries,t,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);n&&(n.plotModel=this.plotView.actualModel,this.plotView.showTracker(n),this.plotView.actualModel.raiseTrackerChanged(n))}}let gt=class extends hh{constructor(t){super((i,s,n)=>t(i,s,n))}};class Y{static init(){this.reset=new gt((t,i,s)=>this.handleReset(t,s)),this.resetAt=new gt((t,i,s)=>this.handleReset(t,s)),this.panAt=new gt((t,i,s)=>i.addMouseManipulator(t,new gh(t),s)),this.zoomRectangle=new gt((t,i,s)=>i.addMouseManipulator(t,new xh(t),s)),this.track=new gt((t,i,s)=>i.addMouseManipulator(t,new Fi(t,{snap:!1,pointsOnly:!1}),s)),this.snapTrack=new gt((t,i,s)=>i.addMouseManipulator(t,new Fi(t,{snap:!0,pointsOnly:!1}),s)),this.pointsOnlyTrack=new gt((t,i,s)=>i.addMouseManipulator(t,new Fi(t,{snap:!1,pointsOnly:!0}),s)),this.zoomWheel=new gt((t,i,s)=>this.handleZoomByWheel(t,s)),this.zoomWheelFine=new gt((t,i,s)=>this.handleZoomByWheel(t,s,.1)),this.zoomInAt=new gt((t,i,s)=>this.handleZoomAt(t,s,.05)),this.zoomOutAt=new gt((t,i,s)=>this.handleZoomAt(t,s,-.05)),this.hoverTrack=new gt((t,i,s)=>i.addHoverManipulator(t,new Fi(t,{lockToInitialSeries:!1,snap:!1,pointsOnly:!1}),s)),this.hoverSnapTrack=new gt((t,i,s)=>i.addHoverManipulator(t,new Fi(t,{lockToInitialSeries:!1,snap:!0,pointsOnly:!1}),s)),this.hoverPointsOnlyTrack=new gt((t,i,s)=>i.addHoverManipulator(t,new Fi(t,{lockToInitialSeries:!1,snap:!1,pointsOnly:!0}),s)),this.snapTrackTouch=new gt((t,i,s)=>i.addTouchManipulator(t,new mo(t,{snap:!0,pointsOnly:!1}),s)),this.pointsOnlyTrackTouch=new gt((t,i,s)=>i.addTouchManipulator(t,new mo(t,{snap:!0,pointsOnly:!0}),s)),this.panZoomByTouch=new gt((t,i,s)=>i.addTouchManipulator(t,new Za(t),s)),this.panLeft=new gt((t,i,s)=>this.handlePan(t,s,-.1,0)),this.panRight=new gt((t,i,s)=>this.handlePan(t,s,.1,0)),this.panUp=new gt((t,i,s)=>this.handlePan(t,s,0,-.1)),this.panDown=new gt((t,i,s)=>this.handlePan(t,s,0,.1)),this.panLeftFine=new gt((t,i,s)=>this.handlePan(t,s,-.01,0)),this.panRightFine=new gt((t,i,s)=>this.handlePan(t,s,.01,0)),this.panUpFine=new gt((t,i,s)=>this.handlePan(t,s,0,-.01)),this.panDownFine=new gt((t,i,s)=>this.handlePan(t,s,0,.01)),this.zoomIn=new gt((t,i,s)=>this.handleZoomCenter(t,s,1)),this.zoomOut=new gt((t,i,s)=>this.handleZoomCenter(t,s,-1)),this.zoomInFine=new gt((t,i,s)=>this.handleZoomCenter(t,s,.1)),this.zoomOutFine=new gt((t,i,s)=>this.handleZoomCenter(t,s,-.1))}static handleReset(t,i){t.actualModel&&(i.handled=!0,t.actualModel.resetAllAxes(),t.invalidatePlot(!1))}static handleZoomAt(t,i,s){const n=lo.isControlDown(i);new ho(t,s,n).started(i)}static handleZoomByWheel(t,i,s=1){const n=lo.isControlDown(i);new ho(t,i.delta*.001*s,n).started(i)}static handleZoomCenter(t,i,s){t.actualModel&&(i.handled=!0,t.actualModel.zoomAllAxes(1+s*.12),t.invalidatePlot(!1))}static handlePan(t,i,s,n){t.actualModel&&(i.handled=!0,s*=t.actualModel.plotArea.width,n*=t.actualModel.plotArea.height,t.actualModel.panAllAxes(s,n),t.invalidatePlot(!1))}}u(Y,"reset"),u(Y,"resetAt"),u(Y,"panZoomByTouch"),u(Y,"panAt"),u(Y,"zoomRectangle"),u(Y,"zoomWheel"),u(Y,"zoomWheelFine"),u(Y,"track"),u(Y,"snapTrack"),u(Y,"snapTrackTouch"),u(Y,"pointsOnlyTrack"),u(Y,"pointsOnlyTrackTouch"),u(Y,"hoverTrack"),u(Y,"hoverSnapTrack"),u(Y,"hoverPointsOnlyTrack"),u(Y,"panLeft"),u(Y,"panRight"),u(Y,"panUp"),u(Y,"panDown"),u(Y,"panLeftFine"),u(Y,"panRightFine"),u(Y,"panUpFine"),u(Y,"panDownFine"),u(Y,"zoomInAt"),u(Y,"zoomOutAt"),u(Y,"zoomIn"),u(Y,"zoomOut"),u(Y,"zoomInFine"),u(Y,"zoomOutFine");Y.init();class Gi extends lh{constructor(){super(),mt.bindMouseDown(this,Mt.Middle,Y.zoomRectangle),mt.bindMouseDown(this,Mt.Right,Y.zoomRectangle,xt.Control),mt.bindMouseDown(this,Mt.Left,Y.zoomRectangle,xt.Control|xt.Alt),mt.bindMouseDown(this,Mt.Middle,Y.resetAt,xt.None,2),mt.bindMouseDown(this,Mt.Right,Y.resetAt,xt.Control,2),mt.bindMouseDown(this,Mt.Left,Y.resetAt,xt.Control|xt.Alt,2),mt.bindKeyDown(this,se.A,Y.reset),mt.bindKeyDown(this,se.Home,Y.reset),this.bindCore(new Do,Y.reset),mt.bindMouseDown(this,Mt.Right,Y.panAt),mt.bindMouseDown(this,Mt.Left,Y.panAt,xt.Alt),mt.bindKeyDown(this,se.Left,Y.panLeft),mt.bindKeyDown(this,se.Right,Y.panRight),mt.bindKeyDown(this,se.Up,Y.panUp),mt.bindKeyDown(this,se.Down,Y.panDown),mt.bindKeyDown(this,se.Left,Y.panLeftFine,xt.Control),mt.bindKeyDown(this,se.Right,Y.panRightFine,xt.Control),mt.bindKeyDown(this,se.Up,Y.panUpFine,xt.Control),mt.bindKeyDown(this,se.Down,Y.panDownFine,xt.Control),mt.bindTouchDown(this,Y.panZoomByTouch),mt.bindMouseDown(this,Mt.Left,Y.snapTrack),mt.bindMouseDown(this,Mt.Left,Y.track,xt.Control),mt.bindMouseDown(this,Mt.Left,Y.pointsOnlyTrack,xt.Shift),mt.bindTouchDown(this,Y.snapTrackTouch),mt.bindMouseDown(this,Mt.XButton1,Y.zoomInAt),mt.bindMouseDown(this,Mt.XButton2,Y.zoomOutAt),mt.bindMouseWheel(this,Y.zoomWheel),mt.bindMouseWheel(this,Y.zoomWheelFine,xt.Control),mt.bindKeyDown(this,se.Add,Y.zoomIn),mt.bindKeyDown(this,se.Subtract,Y.zoomOut),mt.bindKeyDown(this,se.PageUp,Y.zoomIn),mt.bindKeyDown(this,se.PageDown,Y.zoomOut),mt.bindKeyDown(this,se.Add,Y.zoomInFine,xt.Control),mt.bindKeyDown(this,se.Subtract,Y.zoomOutFine,xt.Control),mt.bindKeyDown(this,se.PageUp,Y.zoomInFine,xt.Control),mt.bindKeyDown(this,se.PageDown,Y.zoomOutFine,xt.Control)}}function Ma(e){return e instanceof Object&&"__isTransposable"in e}function Ja(e){e.__isTransposable=!0}let J=class nn{static inverseTransform(t,i,s){return t.inverseTransform(A(i,s))}static isTransposed(t){return t.xAxis.isVertical()}static orientate(t,i){return nn.isTransposed(t)?A(i.y,i.x):i}static orientateVector(t,i){return i=new pt(t.xAxis.isReversed?-i.x:i.x,t.yAxis.isReversed?-i.y:i.y),nn.isTransposed(t)?new pt(-i.y,-i.x):i}static orientateAlignment(t,i,s){if(t.xAxis.isReversed&&(i=-i),t.yAxis.isReversed&&(s=-s),nn.isTransposed(t)){const n=-s;s=-i,i=n}return[i,s]}static transform(t,i,s){return t.transform(d(i,s))}};class mi{static getClippingRect(t){const i=F.fromScreenPoints(t.xAxis.screenMin,t.xAxis.screenMax),s=F.fromScreenPoints(t.yAxis.screenMin,t.yAxis.screenMax);return i.intersect(s)}static inverseTransform(t,i){return t.xAxis.inverseTransformPoint(i.x,i.y,t.yAxis)}static inverseTransformOrientated(t,i){return this.inverseTransform(t,J.orientate(t,i))}static transform(t,i){return t.xAxis.transformPoint(i.x,i.y,t.yAxis)}static transformOrientated(t,i){return J.orientate(t,this.transform(t,i))}}var rt=(e=>(e[e.XY=0]="XY",e[e.Cartesian=1]="Cartesian",e[e.Polar=2]="Polar",e))(rt||{}),Qa=(e=>(e[e.CenteredWithinPlotArea=0]="CenteredWithinPlotArea",e[e.CenteredWithinView=1]="CenteredWithinView",e))(Qa||{});class b extends no{constructor(t){super(),u(this,"barSeriesManagers",[]),u(this,"plotViewReference"),u(this,"currentColorIndex",0),u(this,"isDataUpdated",!1),u(this,"lastPlotException"),u(this,"trackerChanged"),u(this,"updated"),u(this,"updating"),u(this,"defaultFont"),u(this,"defaultFontSize"),u(this,"_actualPlotMargins",X.Zero),u(this,"_annotations"),u(this,"_axes"),u(this,"_legends"),u(this,"background",p.Undefined),u(this,"defaultColors"),u(this,"edgeRenderingMode"),u(this,"assignColorsToInvisibleSeries"),u(this,"isLegendVisible"),u(this,"padding",X.Zero),u(this,"_plotBounds",F.Empty),u(this,"_plotAndAxisArea",F.Empty),u(this,"_plotArea",F.Empty),u(this,"axisTierDistance"),u(this,"plotAreaBackground",p.Undefined),u(this,"plotAreaBorderColor",p.Undefined),u(this,"plotAreaBorderThickness"),u(this,"plotMargins"),u(this,"plotType"),u(this,"_series"),u(this,"renderingDecorator"),u(this,"subtitle"),u(this,"subtitleFont"),u(this,"subtitleFontSize"),u(this,"subtitleFontWeight"),u(this,"textColor",p.Black),u(this,"title"),u(this,"titleToolTip"),u(this,"titleColor",p.Automatic),u(this,"clipTitle"),u(this,"titleClippingLength"),u(this,"subtitleColor",p.Automatic),u(this,"titleHorizontalAlignment",0),u(this,"_titleArea",F.Empty),u(this,"titleFont"),u(this,"titleFontSize"),u(this,"titleFontWeight"),u(this,"titlePadding"),u(this,"_defaultAngleAxis"),u(this,"_defaultMagnitudeAxis"),u(this,"_defaultXAxis"),u(this,"_defaultYAxis"),u(this,"_defaultColorAxis"),this._axes=Qs(this),this._series=Qs(this),this._annotations=Qs(this),this._legends=Qs(this),this.plotType=0,this.plotMargins=new X(NaN),this.padding=new X(8),this.background=p.Undefined,this.plotAreaBackground=p.Undefined,this.textColor=p.Black,this.titleColor=p.Automatic,this.subtitleColor=p.Automatic,this.defaultFont="Segoe UI",this.defaultFontSize=12,this.titleToolTip=void 0,this.titleFont=void 0,this.titleFontSize=18,this.titleFontWeight=he.Bold,this.subtitleFont=void 0,this.subtitleFontSize=14,this.subtitleFontWeight=he.Normal,this.titlePadding=6,this.clipTitle=!0,this.titleClippingLength=.9,this.plotAreaBorderColor=p.Black,this.plotAreaBorderThickness=new X(1),this.edgeRenderingMode=W.Automatic,this.assignColorsToInvisibleSeries=!0,this.isLegendVisible=!0,this.defaultColors=[r.fromRgb(78,154,6),r.fromRgb(200,141,0),r.fromRgb(204,0,0),r.fromRgb(32,74,135),p.Red,p.Orange,p.Yellow,p.Green,p.Blue,p.Indigo,p.Violet],this.axisTierDistance=4,t&&this.applyOptions(t)}applyOptions(t){ca(t,"_axes","_series","_annotations","_legends"),t.axes&&t.axes.length>0&&this._axes.push(...t.axes),t.series&&t.series.length>0&&this._series.push(...t.series),t.annotations&&t.annotations.length>0&&this._annotations.push(...t.annotations),t.legends&&t.legends.length>0&&this._legends.push(...t.legends),ca(t,"axes","series","annotations","legends"),Object.assign(this,ot(t))}get actualPlotMargins(){return this._actualPlotMargins}get plotView(){return this.plotViewReference}get annotations(){return this._annotations}get axes(){return this._axes}get legends(){return this._legends}get plotBounds(){return this._plotBounds}get width(){return this.plotBounds.width}get height(){return this.plotBounds.height}get plotAndAxisArea(){return this._plotAndAxisArea}get plotArea(){return this._plotArea}get series(){return this._series}get titleArea(){return this._titleArea}get defaultAngleAxis(){return this._defaultAngleAxis}get defaultMagnitudeAxis(){return this._defaultMagnitudeAxis}get defaultXAxis(){return this._defaultXAxis}get defaultYAxis(){return this._defaultYAxis}get defaultColorAxis(){return this._defaultColorAxis}get actualTitleFont(){return this.titleFont||this.defaultFont}get actualSubtitleFont(){return this.subtitleFont||this.defaultFont}attachPlotView(t){const i=this.plotView;if(i&&t&&i!==t)throw new Error("This PlotModel is already in use by some other PlotView control.");this.plotViewReference=t}invalidatePlot(t){var i;(i=this.plotView)==null||i.invalidatePlot(t)}getAxesFromPoint(t){let i,s,n,o=0;t.x<this.plotArea.left&&(n=x.Left,o=this.plotArea.left),t.x>this.plotArea.right&&(n=x.Right,o=this.plotArea.right),t.y<this.plotArea.top&&(n=x.Top,o=this.plotArea.top),t.y>this.plotArea.bottom&&(n=x.Bottom,o=this.plotArea.bottom);for(const a of this.axes){if(!a.isAxisVisible||Hn(a))continue;if(a instanceof Se){i=a;continue}if(a instanceof ae){s=a;continue}let l=NaN;if(a.isHorizontal()&&(l=a.inverseTransform(t.x)),a.isVertical()&&(l=a.inverseTransform(t.y)),l>=a.clipMinimum&&l<=a.clipMaximum){if(!n)a.isHorizontal()?i||(i=a):a.isVertical()&&(s||(s=a));else if(n===a.position){const h=a.positionTierMinShift,m=a.positionTierMaxShift,c=a.isHorizontal()?t.y:t.x,g=n===x.Top||n===x.Left;(c>=o+h&&c<o+m&&!g||c<=o-h&&c>o-m&&g)&&(a.isHorizontal()?vt(i)&&(i=a):a.isVertical()&&vt(s)&&(s=a))}}}return[i,s]}getDefaultColor(){return this.defaultColors[this.currentColorIndex++%this.defaultColors.length]}getDefaultLineStyle(){return this.currentColorIndex/this.defaultColors.length%Number(k.None)}getSeriesFromPoint(t,i=100){let s=tt,n;const o=Qi(this.series);for(const a of o.filter(l=>l.isVisible)){const l=a.getNearestPoint(t,!0)||a.getNearestPoint(t,!1);if(!(l!=null&&l.position))continue;const h=Fe(t,l.position);h<s&&(n=a,s=h)}if(s<i)return n}toString(){return this.title||""}getLastPlotException(){return this.lastPlotException}update(t){try{this.lastPlotException=null,this.onUpdating(),this.ensureDefaultAxes();const i=this.series.filter(n=>n.isVisible);if(t||!this.isDataUpdated){for(const n of i)n.updateData();this.isDataUpdated=!0}this.updateBarSeriesManagers(),this.updateMaxMin(t),this.updateUnmanagedCategoryAxes();const s=this.assignColorsToInvisibleSeries?this.series:i;this.resetDefaultColor();for(const n of s)n.setDefaultValues();this.onUpdated()}catch(i){console.log(i),this.lastPlotException=i}}getAxis(t){if(!t)throw new Error("Axis key cannot be null.");const i=this.axes.find(s=>s.key===t);if(!i)throw new Error(`Cannot find axis with Key = "${t}"`);return i}getAxisOrDefault(t,i){return t?i:this.axes.find(s=>s.key===t)||i}resetAllAxes(){for(const t of this.axes)t.reset()}panAllAxes(t,i){for(const s of this.axes)s.pan(s.isHorizontal()?t:i)}zoomAllAxes(t){for(const i of this.axes)i.zoomAtCenter(t)}raiseTrackerChanged(t){const i=this.trackerChanged;i&&i(this,{hitResult:t})}onTrackerChanged(t){this.raiseTrackerChanged(t)}getHitTestElements(){const t=[],i=Qi(this.axes);for(const o of i.filter(a=>a.isAxisVisible&&a.layer===Ei.AboveSeries))t.push(o);const s=Qi(this.annotations);for(const o of s.filter(a=>a.layer===Me.AboveSeries))t.push(o);const n=Qi(this.series);for(const o of n.filter(a=>a.isVisible))t.push(o);for(const o of s.filter(a=>a.layer===Me.BelowSeries))t.push(o);for(const o of i.filter(a=>a.isAxisVisible&&a.layer===Ei.BelowSeries))t.push(o);for(const o of s.filter(a=>a.layer===Me.BelowAxes))t.push(o);for(const o of this.legends)t.push(o);return t}onUpdated(){const t=this.updated;t&&t(this)}onUpdating(){const t=this.updating;t&&t(this)}updateAxisTransforms(){for(const t of this.axes)t.updateTransform(this.plotArea)}enforceCartesianTransforms(){const t=this.axes.filter(s=>!Hn(s));let i=Math.min(...t.map(s=>Math.abs(s.scale)));for(const s of t)s.zoomScale(i);i=Math.max(...t.map(s=>Math.abs(s.scale)));for(const s of t)s.zoomScale(i);for(const s of t)s.updateTransform(this.plotArea)}updateIntervals(){for(const t of this.axes)t.updateIntervals(this.plotArea)}ensureDefaultAxes(){const t=this.axes,i=this.series;if(this._defaultXAxis=t.find(s=>s.isHorizontal()&&s.isXyAxis()),this._defaultYAxis=t.find(s=>s.isVertical()&&s.isXyAxis()),this._defaultMagnitudeAxis=t.find(s=>s instanceof Se),this._defaultAngleAxis=t.find(s=>s instanceof ae),this._defaultColorAxis=t.find(s=>Hn(s)),vt(this.defaultXAxis)&&(this._defaultXAxis=this.defaultMagnitudeAxis),vt(this.defaultYAxis)&&(this._defaultYAxis=this.defaultAngleAxis),this.plotType===2)vt(this.defaultXAxis)&&(this._defaultXAxis=this._defaultMagnitudeAxis=new Se),vt(this.defaultYAxis)&&(this._defaultYAxis=this._defaultAngleAxis=new ae);else{let s=!1,n=!1;vt(this.defaultXAxis)&&(this._defaultXAxis=new w({position:x.Bottom}),s=!0),vt(this.defaultYAxis)&&(i.some(o=>o.isVisible&&o instanceof $)?this._defaultYAxis=new K({position:x.Left}):(this._defaultYAxis=new w({position:x.Left}),n=!0)),s&&this.defaultXAxis&&this.defaultYAxis instanceof K&&(this.defaultXAxis.minimumPadding=0),n&&this.defaultYAxis&&this.defaultXAxis instanceof K&&(this.defaultYAxis.minimumPadding=0)}i.some(s=>s.isVisible&&s.areAxesRequired())&&(t.includes(this.defaultXAxis)||(console.assert(this.defaultXAxis,"Default x-axis not created."),this.defaultXAxis&&this.axes.push(this.defaultXAxis)),t.includes(this.defaultYAxis)||(console.assert(this.defaultYAxis,"Default y-axis not created."),this.defaultYAxis&&this.axes.push(this.defaultYAxis)));for(const s of this.series)s.isVisible&&s.areAxesRequired()&&s.ensureAxes();for(const s of this.annotations)s.ensureAxes()}resetDefaultColor(){this.currentColorIndex=0}updateMaxMin(t){if(t){for(const i of this.axes)i.resetDataMaxMin();for(const i of this.series.filter(s=>s.isVisible))i.updateMaxMin()}for(const i of this.series.filter(s=>s.isVisible))i.updateAxisMaxMin();for(const i of this.axes)i.updateActualMaxMin()}updateBarSeriesManagers(){this.barSeriesManagers=[];const t=this.series.filter(s=>s.isVisible&&kh(s)).map(s=>s),i=new Map;for(const s of t){const n=[...i.keys()].find(o=>o.ca===s.categoryAxis&&o.va===s.valueAxis);if(n){i.get(n).push(s);continue}i.set({ca:s.categoryAxis,va:s.valueAxis},[s])}i.forEach((s,n)=>{const o=new pn(n.ca,n.va,s);o.update(),this.barSeriesManagers.push(o)})}updateUnmanagedCategoryAxes(){const t=this.barSeriesManagers.map(s=>s.categoryAxis),i=this.axes.filter(s=>s instanceof K).map(s=>s).filter(s=>!t.includes(s));for(const s of i){let n=0;!qe(s.dataMaximum)&&!isNaN(s.dataMaximum)&&s.dataMaximum>0&&(n=Math.floor(s.dataMaximum)+1),s.updateLabels(n)}}render(t,i){return this.renderOverride(t,i)}async renderOverride(t,i){var s;const n=t.clipCount;let o=null;try{if(o=_.autoResetClip(t,i),this.lastPlotException){const a=`An exception of type ${this.lastPlotException.constructor.name} was thrown when updating the plot model.\r
${this.lastPlotException.stack}`;await this.renderErrorMessage(t,`OxyPlot exception: ${this.lastPlotException.message}`,a);return}this.renderingDecorator&&(t=this.renderingDecorator(t)),this._plotBounds=i,this._actualPlotMargins=new X(isNaN(this.plotMargins.left)?0:this.plotMargins.left,isNaN(this.plotMargins.top)?0:this.plotMargins.top,isNaN(this.plotMargins.right)?0:this.plotMargins.right,isNaN(this.plotMargins.bottom)?0:this.plotMargins.bottom);for(const a of this.legends)a.ensureLegendProperties();for(let a=0;a<10&&(await this.updatePlotArea(t),this.updateAxisTransforms(),this.updateIntervals(),!!this.adjustPlotMargins(t));a++);if(this.plotType===1&&(this.enforceCartesianTransforms(),this.updateIntervals()),await this.renderBackgrounds(t),await this.renderAnnotations(t,Me.BelowAxes),await this.renderAxes(t,Ei.BelowSeries),await this.renderAnnotations(t,Me.BelowSeries),await this.renderSeries(t),await this.renderAnnotations(t,Me.AboveSeries),await this.renderTitle(t),await this.renderBox(t),await this.renderAxes(t,Ei.AboveSeries),this.isLegendVisible&&await this.renderLegends(t),t.clipCount!==n+1)throw new Error("Unbalanced calls to IRenderContext.pushClip were made during rendering.")}catch(a){debugger;for(console.log(a);t.clipCount>n;)t.popClip();const l=`An exception of type ${(s=a.constructor)==null?void 0:s.name} was thrown when rendering the plot model.\r
${a.stack}`;this.lastPlotException=a,await this.renderErrorMessage(t,`OxyPlot exception: ${a.message}`,l)}finally{o==null||o.dispose(),t.cleanUp()}}async renderErrorMessage(t,i,s,n=12){const o=A(10,10);await t.drawText(o,i,this.textColor,void 0,n,he.Bold),await _.drawMultilineText(t,St(o,new pt(0,n*1.5)),s,this.textColor,void 0,n,n*1.25)}adjustPlotMargins(t){const i=this.axes.filter(a=>a.isAxisVisible);i.forEach(a=>{a.measure(t)});let s=X.Zero;const n=(a,l)=>{switch(l){case x.Bottom:s=new X(s.left,s.top,s.right,Math.max(s.bottom,a));break;case x.Left:s=new X(Math.max(s.left,a),s.top,s.right,s.bottom);break;case x.Right:s=new X(s.left,s.top,Math.max(s.right,a),s.bottom);break;case x.Top:s=new X(s.left,Math.max(s.top,a),s.right,s.bottom);break}};for(let a=x.Left;a<=x.Bottom;a++){const l=i.filter(m=>m.position===a),h=this.adjustAxesPositions(l);n(h,a)}i.forEach(a=>{s=s.include(a.desiredMargin)});let o=this.plotMargins;return o=new X(isNaN(o.left)?s.left:o.left,isNaN(o.top)?s.top:o.top,isNaN(o.right)?s.right:o.right,isNaN(o.bottom)?s.bottom:o.bottom),o.equals(this.actualPlotMargins)?!1:(this._actualPlotMargins=o,!0)}adjustAxesPositions(t){let i=0;const s=n=>{switch(n.position){case x.Left:return n.desiredMargin.left;case x.Right:return n.desiredMargin.right;case x.Top:return n.desiredMargin.top;case x.Bottom:return n.desiredMargin.bottom;default:throw new Error("We don't do this for polar axes")}};return t.reduce((n,o)=>{const a=o.positionTier,l=n.get(a);return l?l.push(o):n.set(a,[o]),n},new Map).forEach((n,o)=>{const a=Math.max(...n.map(s)),l=i;Math.abs(i)>1e-5&&(i+=this.axisTierDistance),i+=a,n.forEach(h=>{h.positionTierSize=a,h.positionTierMinShift=l,h.positionTierMaxShift=i})}),i}measureTitles(t){const i=t.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),s=t.measureText(this.subtitle||"",this.subtitleFont||this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight),n=i.height+s.height,o=Math.max(i.width,s.width);return new dt(o,n)}renderAnnotations(t,i){return this.renderPlotElements(this.annotations.filter(s=>s.layer===i),t,async s=>s.render(t))}async renderAxes(t,i){for(const s of this.axes.filter(n=>n.isAxisVisible&&n.layer===i))t.setToolTip(s.toolTip),await s.render(t,0);for(const s of this.axes.filter(n=>n.isAxisVisible&&n.layer===i))t.setToolTip(s.toolTip),await s.render(t,1);t.setToolTip(void 0)}async renderLegends(t){if(this.isLegendVisible)return this.legends.filter(i=>i.isLegendVisible).forEach(i=>(t.setToolTip(i.toolTip),i.renderLegends(t)))}async renderBackgrounds(t){this.axes.length>0&&this.plotAreaBackground.isVisible()&&await t.drawRectangle(this.plotArea,this.plotAreaBackground,p.Undefined,0,this.edgeRenderingMode);const i=this.series.filter(s=>s instanceof It).map(s=>s).filter(s=>s.isVisible&&s.background.isVisible());for(const s of i)await t.drawRectangle(s.getScreenRectangle(),s.background,p.Undefined,0,this.edgeRenderingMode)}async renderBox(t){if(this.axes.length>0){const i=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness);await _.drawRectangle(t,this.plotArea,this.plotAreaBorderColor,this.plotAreaBorderThickness,i)}}async renderSeries(t){return this.barSeriesManagers.forEach(i=>{i.initializeRender()}),this.renderPlotElements(this.series.filter(i=>i.isVisible),t,async i=>i.render(t))}async renderPlotElements(t,i,s){let n=F.Everything;for(const o of t){const a=o.getClippingRect();a.equals(n)||(n.equals(F.Everything)||(i.popClip(),n=F.Everything),a.equals(F.Everything)||(i.pushClip(a),n=a)),i.setToolTip(o.toolTip),await s(o)}n.equals(F.Everything)||i.popClip(),i.setToolTip(void 0)}async renderTitle(t){let i;this.clipTitle&&(i=new dt(this.titleArea.width*this.titleClippingLength,tt));const s=t.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),n=(this.titleArea.left+this.titleArea.right)*.5;let o=this.titleArea.top;this.title&&(t.setToolTip(this.titleToolTip),await ne.drawMathText(t,A(n,o),this.title,this.titleColor.getActualColor(this.textColor),this.actualTitleFont,this.titleFontSize,this.titleFontWeight,0,I.Center,D.Top,i),o+=s.height,t.setToolTip(void 0)),this.subtitle&&await ne.drawMathText(t,A(n,o),this.subtitle,this.subtitleColor.getActualColor(this.textColor),this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight,0,I.Center,D.Top,i)}async updatePlotArea(t){let i=new F(this.plotBounds.left+this.padding.left,this.plotBounds.top+this.padding.top,Math.max(0,this.width-this.padding.left-this.padding.right),Math.max(0,this.height-this.padding.top-this.padding.bottom));const s=this.measureTitles(t);if(s.height>0){const o=s.height+this.titlePadding;i=new F(i.left,i.top+o,i.width,Math.max(0,i.height-o))}let n=i.deflate(this.actualPlotMargins);if(this.isLegendVisible){let o=new dt(0,0),a=0;const l=this.legends.filter(h=>h.legendPlacement===ct.Outside&&h.isLegendVisible);for(const h of l.filter(m=>mh(m.legendPosition))){const m=h.allowUseFullExtent?i.width:n.width;let c=h.allowUseFullExtent?i.height:n.height;c=isNaN(h.legendMaxHeight)?c:Math.min(c,h.legendMaxHeight);const g=await h.getLegendSize(t,new dt(m,c));h.legendSize=g,o=new dt(Math.max(o.width,g.width),Math.max(o.height,g.height)),h.legendMargin>a&&(a=h.legendMargin)}(o.width>0||o.height>0)&&(n=new F(n.left+o.width+a,n.top,Math.max(0,n.width-(o.width+a)),n.height)),o=new dt(0,0),a=0;for(const h of l.filter(m=>uh(m.legendPosition))){const m=h.allowUseFullExtent?i.width:n.width;let c=h.allowUseFullExtent?i.height:n.height;c=isNaN(h.legendMaxHeight)?c:Math.min(c,h.legendMaxHeight);const g=await h.getLegendSize(t,new dt(m,c));h.legendSize=g,o=new dt(Math.max(o.width,g.width),Math.max(o.height,g.height)),h.legendMargin>a&&(a=h.legendMargin)}(o.width>0||o.height>0)&&(n=new F(n.left,n.top,Math.max(0,n.width-(o.width+a)),n.height)),o=new dt(0,0),a=0;for(const h of l.filter(m=>ch(m.legendPosition))){const m=h.allowUseFullExtent?i.width:n.width;let c=h.allowUseFullExtent?i.height:n.height;c=isNaN(h.legendMaxHeight)?c:Math.min(c,h.legendMaxHeight);const g=await h.getLegendSize(t,new dt(m,c));h.legendSize=g,o=new dt(Math.max(o.width,g.width),Math.max(o.height,g.height)),h.legendMargin>a&&(a=h.legendMargin)}(o.width>0||o.height>0)&&(n=new F(n.left,n.top+o.height+a,n.width,Math.max(0,n.height-(o.height+a)))),o=new dt(0,0),a=0;for(const h of l.filter(m=>dh(m.legendPosition))){const m=h.allowUseFullExtent?i.width:n.width;let c=h.allowUseFullExtent?i.height:n.height;c=isNaN(h.legendMaxHeight)?c:Math.min(c,h.legendMaxHeight);const g=await h.getLegendSize(t,new dt(m,c));h.legendSize=g,o=new dt(Math.max(o.width,g.width),Math.max(o.height,g.height)),h.legendMargin>a&&(a=h.legendMargin)}(o.width>0||o.height>0)&&(n=new F(n.left,n.top,n.width,Math.max(0,n.height-(o.height+a))));for(const h of this.legends.filter(m=>m.legendPlacement===ct.Inside&&m.isLegendVisible)){let m=n.width,c=isNaN(h.legendMaxHeight)?n.height:Math.min(n.height,h.legendMaxHeight);h.legendPlacement===ct.Inside&&(m-=h.legendMargin*2,c-=h.legendMargin*2),h.legendSize=await h.getLegendSize(t,new dt(m,c))}}switch(n.height<0&&(n=new F(n.left,n.top,n.width,1)),n.width<0&&(n=new F(n.left,n.top,1,n.height)),this._plotArea=n,this._plotAndAxisArea=n.inflateAll(this.actualPlotMargins),this.titleHorizontalAlignment){case 1:this._titleArea=new F(this.plotBounds.left,this.plotBounds.top+this.padding.top,this.width,s.height+this.titlePadding*2);break;default:this._titleArea=new F(this.plotArea.left,this.plotBounds.top+this.padding.top,this.plotArea.width,s.height+this.titlePadding*2);break}for(const o of this.legends)o.legendArea=o.getLegendRectangle(o.legendSize)}}class he{}u(he,"Bold",700),u(he,"Normal",400);var I=(e=>(e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right",e))(I||{}),et=(e=>(e[e.Miter=0]="Miter",e[e.Round=1]="Round",e[e.Bevel=2]="Bevel",e))(et||{}),k=(e=>(e[e.Solid=0]="Solid",e[e.Dash=1]="Dash",e[e.Dot=2]="Dot",e[e.DashDot=3]="DashDot",e[e.DashDashDot=4]="DashDashDot",e[e.DashDotDot=5]="DashDotDot",e[e.DashDashDotDot=6]="DashDashDotDot",e[e.LongDash=7]="LongDash",e[e.LongDashDot=8]="LongDashDot",e[e.LongDashDotDot=9]="LongDashDotDot",e[e.None=10]="None",e[e.Automatic=11]="Automatic",e))(k||{});class Nt{static getDashArray(t){switch(t){case k.Solid:return;case k.Dash:return[4,1];case k.Dot:return[1,1];case k.DashDot:return[4,1,1,1];case k.DashDashDot:return[4,1,4,1,1,1];case k.DashDotDot:return[4,1,1,1,1,1];case k.DashDashDotDot:return[4,1,4,1,1,1,1,1];case k.LongDash:return[10,1];case k.LongDashDot:return[10,1,1,1];case k.LongDashDotDot:return[10,1,1,1,1,1];default:return}}}class Ut{constructor(t,i=1,s=k.Solid,n=et.Miter){u(this,"dashArray"),this.color=t,this.thickness=i,this.lineStyle=s,this.lineJoin=n,this.dashArray=Nt.getDashArray(s)}get actualDashArray(){return this.dashArray||Nt.getDashArray(this.lineStyle)}static create(t,i,s=k.Solid,n=et.Miter){if(!(t.isInvisible()||s===k.None||Math.abs(i)<=0))return new Ut(t,i,s,n)}}const Cs=class Ge{constructor(t,i,s,n){if(u(this,"_height"),u(this,"_left"),u(this,"_top"),u(this,"_width"),s<0)throw new Error("width;The width should not be negative.");if(n<0)throw new Error("height;The height should not be negative.");this._left=t,this._top=i,this._width=s,this._height=n}static fromScreenPoints(t,i){return new Ge(Math.min(t.x,i.x),Math.min(t.y,i.y),Math.abs(i.x-t.x),Math.abs(i.y-t.y))}static fromScreenPointAndSize(t,i){return new Ge(t.x,t.y,i.width,i.height)}get bottom(){return this._top+this._height}get height(){return this._height}get left(){return this._left}get right(){return this._left+this._width}get top(){return this._top}get width(){return this._width}get center(){return A(this._left+this._width*.5,this._top+this._height*.5)}get topLeft(){return A(this.left,this.top)}get topRight(){return A(this.right,this.top)}get bottomLeft(){return A(this.left,this.bottom)}get bottomRight(){return A(this.right,this.bottom)}static create(t,i,s,n){return new Ge(Math.min(t,s),Math.min(i,n),Math.abs(s-t),Math.abs(n-i))}contains(t,i){return t>=this.left&&t<=this.right&&i>=this.top&&i<=this.bottom}containsPoint(t){return this.contains(t.x,t.y)}toString(){return`(${this._left}, ${this._top}, ${this._width}, ${this._height})`}equals(t){return this.left===t.left&&this.top===t.top&&this.width===t.width&&this.height===t.height}inflate(t,i){return new Ge(this._left-t,this._top-i,this._width+t*2,this._height+i*2)}inflateAll(t){return new Ge(this._left-t.left,this._top-t.top,this._width+t.left+t.right,this._height+t.top+t.bottom)}intersect(t){const i=Math.max(this.left,t.left),s=Math.max(this.top,t.top),n=Math.min(this.right,t.right),o=Math.min(this.bottom,t.bottom);return n<i||o<s?Ge.Empty:new Ge(i,s,n-i,o-s)}deflate(t){return new Ge(this._left+t.left,this._top+t.top,Math.max(0,this._width-t.left-t.right),Math.max(0,this._height-t.top-t.bottom))}offset(t,i){return new Ge(this._left+t,this._top+i,this._width,this._height)}clip(t){const i=da(t.left)&&pa(t.width)?t.right:1/0,s=da(t.top)&&pa(t.height)?t.bottom:1/0;return Ge.create(Math.max(Math.min(this.left,i),t.left),Math.max(Math.min(this.top,s),t.top),Math.max(Math.min(this.right,i),t.left),Math.max(Math.min(this.bottom,s),t.top))}};u(Cs,"Everything",new Cs(0,0,1/0,1/0)),u(Cs,"Empty",new Cs(0,0,0,0));let F=Cs;const uo=class tr{constructor(t,i){u(this,"_height"),u(this,"_width"),this._width=t||0,this._height=i||0}get height(){return this._height}get width(){return this._width}toString(){return`(${this.width}, ${this.height})`}equals(t){return this.width===t.width&&this.height===t.height}include(t){return new tr(Math.max(this.width,t.width),Math.max(this.height,t.height))}};u(uo,"Empty",new uo(0,0));let dt=uo;dt.prototype.getBounds=function(e,t,i){return co.getBounds(this,e,t,i)};class co{static getBounds(t,i,s,n){const o=s===I.Left?0:s===I.Center?.5:1,a=n===D.Top?0:n===D.Middle?.5:1,l=new pt(o*t.width,a*t.height);if(i===0)return new F(-l.x,-l.y,t.width,t.height);const h=new pt(0,0).minus(l),m=new pt(t.width,0).minus(l),c=new pt(t.width,t.height).minus(l),g=new pt(0,t.height).minus(l),f=i*Math.PI/180,y=Math.cos(f),M=Math.sin(f),S=E=>new pt(y*E.x-M*E.y,M*E.x+y*E.y),C=S(h),v=S(m),R=S(c),T=S(g),P=Math.min(Math.min(C.x,v.x),Math.min(R.x,T.x)),B=Math.min(Math.min(C.y,v.y),Math.min(R.y,T.y)),V=Math.max(Math.max(C.x-P,v.x-P),Math.max(R.x-P,T.x-P)),O=Math.max(Math.max(C.y-B,v.y-B),Math.max(R.y-B,T.y-B));return new F(P,B,V,O)}static getPolygon(t,i,s,n,o){const a=n===I.Left?0:n===I.Center?.5:1,l=o===D.Top?0:o===D.Middle?.5:1,h=new pt(a*t.width,l*t.height);let m=new pt(0,0).minus(h),c=new pt(t.width,0).minus(h),g=new pt(t.width,t.height).minus(h),f=new pt(0,t.height).minus(h);if(s!==0){const y=s*Math.PI/180,M=Math.cos(y),S=Math.sin(y),C=v=>new pt(M*v.x-S*v.y,S*v.x+M*v.y);m=C(m),c=C(c),g=C(g),f=C(f)}return[St(i,m),St(i,c),St(i,g),St(i,f)]}}const po=class er{constructor(t,i,s,n){if(u(this,"_bottom"),u(this,"_left"),u(this,"_right"),u(this,"_top"),vt(i)&&vt(s)&&vt(n))this._left=this._top=this._right=this._bottom=t;else if(!vt(i)&&!vt(s)&&!vt(n))this._left=t,this._top=i,this._right=s,this._bottom=n;else throw new Error("Invalid arguments")}get bottom(){return this._bottom}get left(){return this._left}get right(){return this._right}get top(){return this._top}toString(){return`(${this._left}, ${this._top}, ${this._right}, ${this._bottom})`}equals(t){return this.left===t.left&&this.top===t.top&&this.right===t.right&&this.bottom===t.bottom}include(t){return new er(Math.max(t.left,this.left),Math.max(t.top,this.top),Math.max(t.right,this.right),Math.max(t.bottom,this.bottom))}};u(po,"Zero",new po(0));let X=po;const cn=Object.freeze({x:NaN,y:NaN}),ke=Object.freeze({x:0,y:0});function A(e,t){return{x:e,y:t}}function St(e,t){return A(e.x+t.x,e.y+t.y)}function $t(e,t){return new pt(e.x-t.x,e.y-t.y)}function Pe(e,t){return A(e.x-t.x,e.y-t.y)}function Fe(e,t){const i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)}function pi(e,t){const i=t.x-e.x,s=t.y-e.y;return i*i+s*s}function Ls(e){return isNaN(e.x)&&isNaN(e.y)}function Yn(e,t){return e.x===t.x&&e.y===t.y}class me{static findNearestPointOnPolyline(t,i){if(!i)throw new Error("points is null");let s=tt,n=ke;for(let o=0;o+1<i.length;o++){const a=i[o],l=i[o+1];if(Ls(a)||Ls(l))continue;const h=me.findPointOnLine(t,a,l);if(Ls(h))continue;const m=$t(t,h).lengthSquared;m<s&&(n=h,s=m)}return n}static findPointOnLine(t,i,s){const n=s.x-i.x,o=s.y-i.y;let a=me.findPositionOnLine(t,i,s);return isNaN(a)&&(a=0),a<0&&(a=0),a>1&&(a=1),A(i.x+a*n,i.y+a*o)}static findPositionOnLine(t,i,s){const n=s.x-i.x,o=s.y-i.y,a=(t.x-i.x)*n+(t.y-i.y)*o,l=n*n+o*o;return l<1e-6?NaN:a/l}static isPointInPolygon(t,i){if(!i)return!1;const s=i.length;let n=!1;for(let o=0,a=s-1;o<s;a=o++)i[o].y>t.y!=i[a].y>t.y&&t.x<(i[a].x-i[o].x)*((t.y-i[o].y)/(i[a].y-i[o].y))+i[o].x&&(n=!n);return n}static resamplePoints(t,i){const s=i*i,n=t.length,o=[];if(n>0){o.push(t[0]);let a=0;for(let l=1;l<n;l++)pi(t[a],t[l])<s&&l!==n-1||(a=l,o.push(t[l]))}return o}static getCentroid(t){let i=0,s=0,n=0;for(let o=0;o<t.length;o++){const a=(o+1)%t.length,l=t[o].x*t[a].y-t[a].x*t[o].y;i+=(t[o].x+t[a].x)*l,s+=(t[o].y+t[a].y)*l,n+=l}return n*=.5,i/=6*n,s/=6*n,A(i,s)}}const go=class Zi{constructor(t,i){u(this,"_x"),u(this,"_y"),this._x=t,this._y=i}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}normalize(){if(this===Zi.Zero)throw new Error("Cannot normalize the zero vector");const t=Math.sqrt(this._x*this._x+this._y*this._y);t>0&&(this._x/=t,this._y/=t)}plus(t){const i=this;return new Zi(i.x+t.x,i.y+t.y)}minus(t){const i=this;return new Zi(i.x-t.x,i.y-t.y)}times(t){const i=this;return new Zi(i.x*t,i.y*t)}negate(){const t=this;return new Zi(-t.x,-t.y)}toString(){return`${this._x} ${this._y}`}equals(t){return this._x===t._x&&this._y===t._y}};u(go,"Zero",Object.freeze(new go(0,0)));let pt=go;var D=(e=>(e[e.Top=-1]="Top",e[e.Middle=0]="Middle",e[e.Bottom=1]="Bottom",e))(D||{}),W=(e=>(e[e.Automatic=0]="Automatic",e[e.Adaptive=1]="Adaptive",e[e.PreferSharpness=2]="PreferSharpness",e[e.PreferSpeed=3]="PreferSpeed",e[e.PreferGeometricAccuracy=4]="PreferGeometricAccuracy",e))(W||{});const fh=.6,wh=.62,yh=0,bh=.62;class ne{static async drawMathText(t,i,s,n,o,a,l,h,m,c,g,f=!1){if(!s)return dt.Empty;if(s.includes("^{")||s.includes("_{")){const y=i.x,M=i.y,S=await this.internalDrawMathText(t,y,M,0,0,s,n,o,a,l,!0,h);let C=0,v=0;switch(m){case I.Right:C=-S.width;break;case I.Center:C=-S.width*.5;break}switch(c){case D.Bottom:v=-S.height;break;case D.Middle:v=-S.height*.5;break}return await this.internalDrawMathText(t,y,M,C,v,s,n,o,a,l,!1,h),f?S:dt.Empty}return await t.drawText(i,s,n,o,a,l,h,m,c,g),f?t.measureText(s,o,a,l):dt.Empty}static async measureMathText(t,i,s,n,o){return i.includes("^{")||i.includes("_{")?this.internalDrawMathText(t,0,0,0,0,i,p.Black,s,n,o,!0,0):t.measureText(i,s,n,o)}static async internalDrawMathText(t,i,s,n,o,a,l,h,m,c,g,f){let y=0;const M=f*Math.PI/180,S=Gt(Math.cos(M),5),C=Gt(Math.sin(M),5);let v=i,R=i,T=i;const P=s;let B=s,V=s;const O=m*yh,E=m*fh,q=m*bh,ft=m*wh,Z=async(ht,Qt,Re,te)=>{if(!g){const kt=i+(ht-i+n)*S-(Qt-s+o)*C,Rt=s+(ht-i+n)*C+(Qt-s+o)*S;await t.drawText(A(kt,Rt),Re,l,h,te,c,f)}const ee=t.measureText(Re,h,te,c);return new dt(ee.width,ee.height)};for(;y<a.length;){if(y+1<a.length&&a[y]==="^"&&a[y+1]==="{"){const te=a.indexOf("}",y);if(te!==-1){const ee=Js(a,y+2,te-y-2);y=te+1;const kt=v,Rt=P+O,Vt=await Z(kt,Rt,ee,q);R=Math.max(kt+Vt.width,R),B=Math.max(Rt+Vt.height,B),T=Math.min(kt,T),V=Math.min(Rt,V);continue}}if(y+1<a.length&&a[y]==="_"&&a[y+1]==="{"){const te=a.indexOf("}",y);if(te!==-1){const ee=Js(a,y+2,te-y-2);y=te+1;const kt=v,Rt=P+E,Vt=await Z(kt,Rt,ee,ft);R=Math.max(kt+Vt.width,R),B=Math.max(Rt+Vt.height,B),T=Math.min(kt,T),V=Math.min(Rt,V);continue}}const ht=$l(a.split(""),["^","_"],y+1);let Qt;ht===-1?(Qt=Js(a,y),y=a.length):(Qt=Js(a,y,ht-y),y=ht),v=R+2;const Re=await Z(v,P,Qt,m);R=Math.max(v+Re.width,R),B=Math.max(P+Re.height,B),T=Math.min(v,T),V=Math.min(P,V),v=R}return new dt(R-T,B-V)}}class es{constructor(){u(this,"rendersToScreen"),this.rendersToScreen=!0}static isStraightLine(t,i){return Math.abs(t.x-i.x)<1e-5||Math.abs(t.y-i.y)<1e-5}static isStraightLine2(t){for(let i=1;i<t.length;i++)if(!this.isStraightLine(t[i-1],t[i]))return!1;return!0}async drawEllipse(t,i,s,n,o){const a=es.createEllipse(t);await this.drawPolygon(a,i,s,n,o,void 0,et.Miter)}async drawEllipses(t,i,s,n,o){for(const a of t)await this.drawEllipse(a,i,s,n,o)}async drawLineSegments(t,i,s,n,o,a){for(let l=0;l+1<t.length;l+=2)await this.drawLine([t[l],t[l+1]],i,s,n,o,a)}async drawPolygons(t,i,s,n,o,a,l){for(const h of t)await this.drawPolygon(h,i,s,n,o,a,l)}async drawRectangle(t,i,s,n,o){const a=es.createRectangle(t);await this.drawPolygon(a,i,s,n,o,void 0,et.Miter)}async drawRectangles(t,i,s,n,o){for(const a of t)await this.drawRectangle(a,i,s,n,o)}setToolTip(t){}cleanUp(){}static createEllipse(t,i=40){const s=t.center.x,n=t.center.y,o=t.width/2,a=t.height/2,l=new Array(i);for(let h=0;h<i;h++){const m=Math.PI*2*h/i;l[h]=A(s+Math.cos(m)*o,n+Math.sin(m)*a)}return l}static createRectangle(t){return[A(t.left,t.top),A(t.left,t.bottom),A(t.right,t.bottom),A(t.right,t.top)]}shouldUseAntiAliasingForRect(t){switch(t){case W.PreferGeometricAccuracy:return!0;default:return!1}}shouldUseAntiAliasingForEllipse(t){switch(t){case W.PreferSpeed:return!1;default:return!0}}shouldUseAntiAliasingForLine(t,i){switch(t){case W.PreferSpeed:case W.PreferSharpness:return!1;case W.Automatic:if(es.isStraightLine2(i))return!1;break;case W.Adaptive:if(es.isStraightLine2(i))return!1;break;default:return!0}return!0}}const Ji=class{static getActualEdgeRenderingMode(t,i){return t===W.Automatic?i:t}static async drawReducedLine(t,i,s,n,o,a,l,h,m,c){i.length!==0&&(m?m.length=0:m=[],this.reducePoints(i,s,m),await t.drawLine(m,n,o,a,l,h),m.length=0,li(m,i),c&&c(m))}static async drawReducedPolygon(t,i,s,n,o,a,l,h=k.Solid,m=et.Miter){if(i.length===0||h===k.None)return;const c=[];this.reducePoints(i,s,c),await t.drawPolygon(c,n,o,a,l,Nt.getDashArray(h),m)}static async drawImage(t,i,s,n,o,a,l,h){await t.drawImage(i,0,0,i.width,i.height,s,n,o,a,l,h)}static async drawMultilineText(t,i,s,n,o,a=10,l=he.Normal,h=12){const m=Eh.splitLines(s);for(let c=0;c<m.length;c++)await t.drawText(A(i.x,i.y+c*h),m[c],n,void 0,a,l)}static async drawLine(t,i,s,n,o,a,l){a&&await t.drawLine([A(i,s),A(n,o)],a.color,a.thickness,l,a.actualDashArray,a.lineJoin)}static async drawLineSegments(t,i,s,n){s&&await t.drawLineSegments(i,s.color,s.thickness,n,s.actualDashArray,s.lineJoin)}static async drawMarker(t,i,s,n,o,a,l,h,m){await this.drawMarkers(t,[i],s,n,[o],a,l,h,m)}static async drawMarkers(t,i,s,n,o,a,l,h,m,c=0,g=ke){if(s===N.None)return;const f=[],y=[],M=[],S=[],C=new Set;let v=0;for(const R of i){if(c>1){const P=Math.floor((R.x-g.x)/c),B=Math.floor((R.y-g.y)/c),V=Vi(P<<16)+Vi(B);if(C.has(V)){v++;continue}C.add(V)}const T=v<o.length?v:0;this.addMarkerGeometry(R,s,n,o[T],f,y,M,S),v++}m===W.Automatic&&(m=W.PreferGeometricAccuracy),f.length>0&&await t.drawEllipses(f,a,l,h,m),y.length>0&&await t.drawRectangles(y,a,l,h,m),M.length>0&&await t.drawPolygons(M,a,l,h,m),S.length>0&&await t.drawLineSegments(S,l,h,m)}static async drawCircle(t,i,s,n,o,a,l,h){await t.drawEllipse(new F(i-n,s-n,n*2,n*2),o,a,l,h)}static async drawCircle2(t,i,s,n,o,a,l){await this.drawCircle(t,i.x,i.y,s,n,o,a,l)}static async fillCircle(t,i,s,n,o){await this.drawCircle(t,i.x,i.y,s,n,p.Undefined,0,o)}static async fillRectangle(t,i,s,n){await t.drawRectangle(i,s,p.Undefined,0,n)}static async drawRectangle(t,i,s,n,o){if(n.left===n.right&&n.left===n.top&&n.left===n.bottom){await t.drawRectangle(i,p.Undefined,s,n.left,o);return}const a=i.left-n.left/2+.5,l=i.right+n.right/2-.5,h=i.top-n.top/2+.5,m=i.bottom+n.bottom/2-.5,c=[A(a,i.top),A(l,i.top)],g=[A(i.right,h),A(i.right,m)],f=[A(a,i.bottom),A(l,i.bottom)],y=[A(i.left,h),A(i.left,m)];await t.drawLine(c,s,n.top,o,void 0,et.Miter),await t.drawLine(g,s,n.right,o,void 0,et.Miter),await t.drawLine(f,s,n.bottom,o,void 0,et.Miter),await t.drawLine(y,s,n.left,o,void 0,et.Miter)}static measureText(t,i,s,n,o,a){const l=t.measureText(i,s,n,o);return this.measureRotatedRectangleBound(l,a)}static autoResetClip(t,i){return new Mh(t,i)}static addMarkerGeometry(t,i,s,n,o,a,l,h){if(i===N.Custom){if(!s)throw new Error("The outline should be set when MarkerType is 'Custom'.");const c=s.map(g=>A(t.x+g.x*n,t.y+g.y*n));l.push(c);return}switch(i){case N.Circle:o.push(new F(t.x-n,t.y-n,n*2,n*2));break;case N.Square:a.push(new F(t.x-n,t.y-n,n*2,n*2));break;case N.Diamond:l.push([A(t.x,t.y-this.M2*n),A(t.x+this.M2*n,t.y),A(t.x,t.y+this.M2*n),A(t.x-this.M2*n,t.y)]);break;case N.Triangle:l.push([A(t.x-n,t.y+this.M1*n),A(t.x+n,t.y+this.M1*n),A(t.x,t.y-this.M2*n)]);break;case N.Plus:case N.Star:h.push(A(t.x-n,t.y)),h.push(A(t.x+n,t.y)),h.push(A(t.x,t.y-n)),h.push(A(t.x,t.y+n));break}const m=this.M3;switch(i){case N.Cross:case N.Star:h.push(A(t.x-n*m,t.y-n*m)),h.push(A(t.x+n*m,t.y+n*m)),h.push(A(t.x-n*m,t.y+n*m)),h.push(A(t.x+n*m,t.y-n*m));break}}static measureRotatedRectangleBound(t,i){const s=t.getBounds(i,I.Center,D.Middle);return new dt(s.width,s.height)}static reducePoints(t,i,s){const n=t.length;if(n===0)return;s.push(t[0]);let o=0;for(let a=1;a<n;a++){const l=t[a],h=l.x-t[o].x,m=l.y-t[o].y;(h*h+m*m>i||a===n-1)&&(s.push(A(l.x,l.y)),o=a)}}static transformAndInterpolateLines(t,i,s,n){const o=t.xAxis,a=t.yAxis;if(o.isLogarithmic()||a.isLogarithmic()){let l=!1,h=!0,m=oe;for(const c of i)if(mn(c)||o.isLogarithmic()&&c.x<=0||a.isLogarithmic()&&c.y<=0)h=!0;else{if(h)s.length>0&&s.push(cn),h=!1,l=!0;else if(l){const g=oh(c,m);this.interpolatePoints(f=>t.transform(sn(m,g.times(f))),s,n,l)}m=c}}else{let l=!0;for(const h of i)mn(h)?l=!0:(l&&s.length>0&&s.push(cn),s.push(t.transform(h)),l=!1)}}static interpolatePoints(t,i,s,n){const o=s*s,a=[],l=[];a.push(1),l.push(t(1));let h=0,m=t(0);for(n&&i.push(m);a.length>0;){let c=a[a.length-1],g=l[l.length-1];pi(g,m)<o?(h=c,m=g,i.push(g),a.pop(),l.pop()):(c=h+(c-h)/2,g=t(c),a.push(c),l.push(g))}}};u(Ji,"M1",Math.tan(Math.PI/6)),u(Ji,"M2",Math.sqrt(1+Ji.M1*Ji.M1)),u(Ji,"M3",Math.tan(Math.PI/4));let _=Ji;class Mh{constructor(t,i){u(this,"renderContext"),this.renderContext=t,t.pushClip(i)}dispose(){this.renderContext.popClip()}}class No extends es{constructor(t){super(),u(this,"rc"),u(this,"distortionFactor"),u(this,"interpolationDistance"),u(this,"fontFamily"),u(this,"thicknessScale"),this.rc=t,this.rendersToScreen=this.rc.rendersToScreen,this.distortionFactor=7,this.interpolationDistance=10,this.thicknessScale=2,this.fontFamily="Humor Sans"}get clipCount(){return this.rc.clipCount}async drawLine(t,i,s,n,o,a){const l=this.distort(t);await this.rc.drawLine(l,i,s*this.thicknessScale,n,o,a)}async drawPolygon(t,i,s,n,o,a,l){const h=[...t,t[0]],m=this.distort(h);await this.rc.drawPolygon(m,i,s,n*this.thicknessScale,o,a,l)}async drawText(t,i,s,n,o,a,l,h,m,c){await this.rc.drawText(t,i,s,this.getFontFamily(n),o,a,l,h,m,c)}measureText(t,i,s,n){return this.rc.measureText(t,this.getFontFamily(i),s,n)}setToolTip(t){this.rc.setToolTip(t)}cleanUp(){this.rc.cleanUp()}async drawImage(t,i,s,n,o,a,l,h,m,c,g){await this.rc.drawImage(t,i,s,n,o,a,l,h,m,c,g)}pushClip(t){this.rc.pushClip(t)}popClip(){this.rc.popClip()}getFontFamily(t){return this.fontFamily}distort(t){const i=this.interpolate(t,this.interpolationDistance),s=new Array(i.length);let n=this.generateRandomNumbers(i.length);n=this.applyMovingAverage(n,5);const o=this.distortionFactor,a=o/2;for(let l=0;l<i.length;l++){if(l===0||l===i.length-1){s[l]=i[l];continue}const h=$t(i[l+1],i[l-1]);h.normalize();const m=new pt(h.y,-h.x).times(n[l]*o-a);s[l]=St(i[l],m)}return s}generateRandomNumbers(t){const i=new Array(t);for(let s=0;s<t;s++)i[s]=Math.random();return i}applyMovingAverage(t,i){const s=t.length,n=new Array(s).fill(0),o=Math.round(i/2);for(let a=0;a<s;a++){const l=Math.max(0,a-o),h=Math.min(s-1,a+o);for(let m=l;m<=h;m++)n[a]+=t[m];n[a]/=i}return n}interpolate(t,i){let s=ke,n=-1,o=i;const a=[];for(const l of t){if(n<0){a.push(l),s=l,n=0;continue}const h=$t(l,s).length;if(h>0)for(;o>=n&&o<=n+h;){const m=(o-n)/h;a.push(A(s.x*(1-m)+l.x*m,s.y*(1-m)+l.y*m)),o+=i}n+=h,s=l}return a.push(s),a}}class dn{static decimate(t,i){if(t===void 0||t.length===0)return;let s=t[0],n=Math.round(s.x),o=Math.round(s.y),a=o,l=o,h=o;for(let m=1;m<t.length;++m){s=t[m];const c=Math.round(s.x),g=Math.round(s.y);if(c!==n){dn.addVerticalPoints(i,n,l,h,o,a),l=h=o=a=g,n=c;continue}g<o&&(o=g),g>a&&(a=g),h=g}h=l===o?a:o,dn.addVerticalPoints(i,n,l,h,o,a)}static addVerticalPoints(t,i,s,n,o,a){if(t.push(A(i,s)),s===o){o!==a&&t.push(A(i,a)),a!==n&&t.push(A(i,n));return}if(s===a){a!==o&&t.push(A(i,o)),o!==n&&t.push(A(i,n));return}n===o?o!==a&&t.push(A(i,a)):n===a?a!==o&&t.push(A(i,o)):(t.push(A(i,o)),t.push(A(i,a))),t.push(A(i,n))}}class be{constructor(t){u(this,"tension"),this.tension=t}createSplineDp(t,i,s){return be.createSplineForDp(t,this.tension,void 0,i,s)}createSplineSp(t,i,s){return be.createSpline(t,this.tension,void 0,i,s)}static createSplineForDp(t,i,s,n,o){const a=t.map(m=>A(m.x,m.y)),l=be.createSpline(a,i,s,n,o),h=[];for(const m of l)h.push(d(m.x,m.y));return h}static createSpline(t,i,s,n,o){const a=[];if(!t)return a;const l=t.length;if(l<1)return a;if(l<2)return a.push(...t),a;if(l===2)n?(be.segment(a,t[1],t[0],t[1],t[0],i,i,o),be.segment(a,t[0],t[1],t[0],t[1],i,i,o)):be.segment(a,t[0],t[0],t[1],t[1],i,i,o);else{const h=s&&s.length>0;for(let m=0;m<l;m++){const c=h?s[m%s.length]:i,g=h?s[(m+1)%s.length]:i;m===0?be.segment(a,n?t[l-1]:t[0],t[0],t[1],t[2],c,g,o):m===l-2?be.segment(a,t[m-1],t[m],t[m+1],n?t[0]:t[m+1],c,g,o):m===l-1?n&&be.segment(a,t[m-1],t[m],t[0],t[1],c,g,o):be.segment(a,t[m-1],t[m],t[m+1],t[m+2],c,g,o)}}return a}static segment(t,i,s,n,o,a,l,h,m=1e3){const c=a*(n.x-i.x),g=a*(n.y-i.y),f=l*(o.x-s.x),y=l*(o.y-s.y),M=c+f+2*s.x-2*n.x,S=g+y+2*s.y-2*n.y,C=-2*c-f-3*s.x+3*n.x,v=-2*g-y-3*s.y+3*n.y,R=c,T=g,P=s.x,B=s.y,V=Math.min(m,Math.round((Math.abs(s.x-n.x)+Math.abs(s.y-n.y))/h));for(let O=1;O<V;O++){const E=O/(V-1),q=A(M*E*E*E+C*E*E+R*E+P,S*E*E*E+v*E*E+T*E+B);t.push(q)}}}class os{constructor(t){u(this,"alpha"),u(this,"maxSegments"),this.alpha=t,this.maxSegments=100}createSplineDp(t,i,s){return os.createSplineForDp(t,this.alpha,i,s,this.maxSegments)}createSplineSp(t,i,s){return os.createSpline(t,this.alpha,i,s,this.maxSegments)}static createSplineForDp(t,i,s,n,o){const a=t.map(m=>A(m.x,m.y)),l=this.createSpline(a,i,s,n,o),h=[];for(const m of l)h.push(d(m.x,m.y));return h}static createSpline(t,i,s,n,o){const a=[];if(t===void 0)return a;const l=t.length;if(l<1)return a;if(l<2)return a.push(...t),a;if(l===2)s?(this.segment(a,t[1],t[0],t[1],t[0],i,n,o),this.segment(a,t[0],t[1],t[0],t[1],i,n,o)):this.segment(a,t[0],t[0],t[1],t[1],i,n,o);else for(let h=0;h<l;h++)h===0?this.segment(a,s?t[l-1]:t[0],t[0],t[1],t[2],i,n,o):h===l-2?this.segment(a,t[h-1],t[h],t[h+1],s?t[0]:t[h+1],i,n,o):h===l-1?s&&this.segment(a,t[h-1],t[h],t[0],t[1],i,n,o):this.segment(a,t[h-1],t[h],t[h+1],t[h+2],i,n,o);return a}static segment(t,i,s,n,o,a,l,h){if(Yn(s,n)){t.push(s);return}Yn(i,s)&&(i=this.prev(s,n)),Yn(n,o)&&(o=this.prev(n,s));const m=0,c=this.getT(m,i,s,a),g=this.getT(c,s,n,a),f=this.getT(g,n,o,a);let y=Math.round((Math.abs(s.x-n.x)+Math.abs(s.y-n.y))/l);y=Math.max(0,y),y=Math.min(h,y);for(let M=c;M<g;M+=(g-c)/y){const S=this.sum(this.mult((c-M)/(c-m),i),this.mult((M-m)/(c-m),s)),C=this.sum(this.mult((g-M)/(g-c),s),this.mult((M-c)/(g-c),n)),v=this.sum(this.mult((f-M)/(f-g),n),this.mult((M-g)/(f-g),o)),R=this.sum(this.mult((g-M)/(g-m),S),this.mult((M-m)/(g-m),C)),T=this.sum(this.mult((f-M)/(f-c),C),this.mult((M-c)/(f-c),v)),P=this.sum(this.mult((g-M)/(g-c),R),this.mult((M-c)/(g-c),T));t.push(P)}}static getT(t,i,s,n){const o=Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2),a=Math.sqrt(o);return Math.pow(a,n)+t}static mult(t,i){return A(i.x*t,i.y*t)}static equals(t,i){return t.x===i.x&&t.y===i.y}static prev(t,i){return A(t.x-1e-4*(i.x-t.x),t.y-1e-4*(i.y-t.y))}static sum(t,i){return A(t.x+i.x,t.y+i.y)}}class Le{}u(Le,"CanonicalSpline",new be(.5)),u(Le,"CatmullRomSpline",new os(.5)),u(Le,"UniformCatmullRomSpline",new os(0)),u(Le,"ChordalCatmullRomSpline",new os(1));class Sh extends wn{constructor(t){super(t),u(this,"background"),u(this,"isVisible"),u(this,"title"),u(this,"legendKey"),u(this,"seriesGroupName"),u(this,"renderInLegend"),u(this,"trackerStringFormatter"),u(this,"trackerKey"),this.isVisible=!0,this.background=p.Undefined,this.renderInLegend=!0}getNearestPoint(t,i){}hitTestOverride(t){const i=this.getNearestPoint(t.point,!0)||this.getNearestPoint(t.point,!1);if(i!=null&&i.position)return Fe(i.position,t.point)>t.tolerance?void 0:{element:this,nearestHitPoint:i.position,item:i.item,index:i.index}}}class Os extends Sh{constructor(t){super(t),u(this,"itemsSource")}static getItem(t,i){if(!(!t||i<0)&&i<t.length&&i>=0)return t[i]}getItem(t){if(this.itemsSource)return Os.getItem(this.itemsSource,t)}}const on=class an extends Os{constructor(t){super(t),u(this,"trackerStringFormatter"),u(this,"_maxX",0),u(this,"_maxY",0),u(this,"_minX",0),u(this,"_minY",0),u(this,"_xAxis"),u(this,"xAxisKey"),u(this,"_yAxis"),u(this,"yAxisKey"),u(this,"isXMonotonic",!1),u(this,"windowStartIndex",0),this.trackerStringFormatter=an.DefaultTrackerFormatter,Ja(this)}get maxX(){return this._maxX}set maxX(t){this._maxX=t}get maxY(){return this._maxY}set maxY(t){this._maxY=t}get minX(){return this._minX}set minX(t){this._minX=t}get minY(){return this._minY}set minY(t){this._minY=t}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}getClippingRect(){return mi.getClippingRect(this)}getScreenRectangle(){return this.getClippingRect()}inverseTransform(t){return mi.inverseTransformOrientated(this,t)}async renderLegend(t,i){}transform(t){return mi.transformOrientated(this,t)}areAxesRequired(){return!0}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}isUsing(t){return!1}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX),this.yAxis.include(this.minY),this.yAxis.include(this.maxY)}updateData(){this.windowStartIndex=0}updateMaxMin(){this.minX=this.minY=this.maxX=this.maxY=Number.NaN}getNearestInterpolatedPointInternal(t,i,s){if(!this.xAxis||!this.yAxis||!t)return;let n=ke,o=Ai,a=-1,l=tt;for(let h=i;h+1<t.length;h++){const m=t[h],c=t[h+1];if(!this.isValidPoint(m)||!this.isValidPoint(c))continue;const g=this.transform(m),f=this.transform(c),y=me.findPointOnLine(s,g,f);if(Ls(y))continue;const M=$t(s,y).lengthSquared;if(M<l){const S=$t(f,g).length,C=S>0?$t(y,g).length/S:0;o=this.inverseTransform(y),n=y,l=M,a=h+C}}if(l<tt){const h=this.getItem(Math.round(a));return new _t({series:this,dataPoint:o,position:n,item:h,index:a})}}getNearestPointInternal(t,i,s){let n=ke,o=Ai,a=-1,l=tt,h=i;for(const m of t.slice(i)){if(!this.isValidPoint(m)){h++;continue}const c=J.transform(this,m.x,m.y),g=$t(c,s).lengthSquared;g<l&&(o=m,n=c,l=g,a=h),h++}if(l<tt){const m=this.getItem(Math.round(a));return new _t({series:this,dataPoint:o,position:n,item:m,index:a})}}isValidPoint(t){return this.isValidPoint2(t.x,t.y)}isValidPoint2(t,i){return!!(this.xAxis&&this.xAxis.isValidValue(t)&&this.yAxis&&this.yAxis.isValidValue(i))}internalUpdateMaxMin(t){if(!t)throw new Error("points is null");if(this.isXMonotonic=!0,t.length===0)return;let i=this.minX,s=this.minY,n=this.maxX,o=this.maxY;isNaN(i)&&(i=tt),isNaN(s)&&(s=tt),isNaN(n)&&(n=ut),isNaN(o)&&(o=ut);let a=ut;for(const l of t){const h=l.x,m=l.y;this.isValidPoint2(h,m)&&(h<a&&(this.isXMonotonic=!1),h<i&&(i=h),h>n&&(n=h),m<s&&(s=m),m>o&&(o=m),a=h)}i<tt&&(this.minX=i),s<tt&&(this.minY=s),n>ut&&(this.maxX=n),o>ut&&(this.maxY=o)}internalUpdateMaxMin2(t,i,s,n,o){if(!t)throw new Error("items is null");if(this.isXMonotonic=!0,t.length===0)return;let a=this.minX,l=this.minY,h=this.maxX,m=this.maxY;isNaN(a)&&(a=tt),isNaN(l)&&(l=tt),isNaN(h)&&(h=ut),isNaN(m)&&(m=ut);let c=ut,g=ut;for(const f of t){const y=i(f),M=s(f),S=n(f),C=o(f);!this.isValidPoint2(y,S)||!this.isValidPoint2(M,C)||((y<c||M<g)&&(this.isXMonotonic=!1),y<a&&(a=y),M>h&&(h=M),S<l&&(l=S),C>m&&(m=C),c=y,g=M)}a<tt&&(this.minX=a),l<tt&&(this.minY=l),h>ut&&(this.maxX=h),m>ut&&(this.maxY=m)}verifyAxes(){if(!this.xAxis)throw new Error("XAxis not defined.");if(!this.yAxis)throw new Error("YAxis not defined.")}updateWindowStartIndex(t,i,s,n){return n=this.findWindowStartIndex(t,i,s,n),n>0&&n--,n}findWindowStartIndex(t,i,s,n){let o=0,a=t.length-1;for(;a>0&&isNaN(i(t[a]));)a-=1;let l=a,h=Math.max(0,Math.min(l,n));const m=c=>{for(;c<=a;){const g=i(t[c]);if(isNaN(g))c+=1;else return g}return i(t[a])};for(;o<l;){const c=m(h);if(c===s){o=h;break}else c>s?l=h-1:o=h;if(o>=l)break;const g=m(l),f=m(o),y=(l-o+1)/(g-f);h=o+Math.round((s-f)*y),h=Math.max(o+1,Math.min(h,l))}for(;o>0&&i(t[o])>s;)o-=1;return o}formatDefaultTrackerString(t,i,s){var n,o,a,l;if(!this.trackerStringFormatter)return;const h={item:t,title:this.title||""};return i&&(h.xTitle=((n=this.xAxis)==null?void 0:n.title)??an.defaultXAxisTitle,h.xValue=(o=this.xAxis)==null?void 0:o.getValue(i.x),h.yTitle=((a=this.yAxis)==null?void 0:a.title)??an.defaultYAxisTitle,h.yValue=(l=this.yAxis)==null?void 0:l.getValue(i.y)),s&&s(h),this.trackerStringFormatter(h)}};u(on,"DefaultTrackerFormatter",e=>`${e.title||""}
${e.xTitle}: ${e.xValue}
${e.yTitle}: ${e.yValue}`),u(on,"defaultXAxisTitle","X"),u(on,"defaultYAxisTitle","Y");let It=on;class Fo extends It{constructor(t){super(t),u(this,"_points",[]),u(this,"_itemsSourcePoints",[]),u(this,"canTrackerInterpolatePoints",!1),u(this,"dataFieldX"),u(this,"dataFieldY"),u(this,"mapping"),t&&t.points&&(this._points.push(...t.points),delete t.points)}get points(){return this._points}get actualPoints(){return this.itemsSource?this._itemsSourcePoints:this._points}getNearestPoint(t,i){if(i&&!this.canTrackerInterpolatePoints)return;let s;return i&&(s=this.getNearestInterpolatedPointInternal(this.actualPoints,0,t)),s||(s=this.getNearestPointInternal(this.actualPoints,0,t)),s&&this.trackerStringFormatter&&(s.text=this.formatDefaultTrackerString(s.item,s.dataPoint)),s}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints)}getItem(t){const i=this.actualPoints;return!this.itemsSource&&i&&t<i.length?i[t]:super.getItem(t)}clearItemsSourcePoints(){this._itemsSourcePoints&&(this._itemsSourcePoints.length=0)}updateItemsSourcePoints(){if(!this.itemsSource)return;const t=this.itemsSource;if(this.mapping){this.clearItemsSourcePoints();for(const i of t)this._itemsSourcePoints.push(this.mapping(i));return}this.clearItemsSourcePoints();for(const i of t){const s=this.convertToDataPoint(i);s&&this._itemsSourcePoints.push(s)}}convertToDataPoint(t){if(t){if(nh(t))return t;if(this.dataFieldX&&this.dataFieldY){const i=this.xAxis?this.xAxis.itemToDouble(t[this.dataFieldX]):Number(t[this.dataFieldX]),s=this.yAxis?this.yAxis.itemToDouble(t[this.dataFieldY]):Number(t[this.dataFieldY]);return d(i,s)}if(ah(t))return t.getDataPoint();throw new Error(`Cannot convert item ${t} to DataPoint`)}}}var as=(e=>(e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End",e))(as||{});const ir=class sr extends Fo{constructor(t){super(t),u(this,"outputBuffer"),u(this,"contiguousScreenPointsBuffer"),u(this,"decimatorBuffer",[]),u(this,"defaultColor",p.Undefined),u(this,"defaultMarkerFill",p.Undefined),u(this,"defaultLineStyle",k.Solid),u(this,"_smoothedPoints"),u(this,"color"),u(this,"brokenLineColor"),u(this,"brokenLineStyle",k.Solid),u(this,"brokenLineThickness",0),u(this,"dashes"),u(this,"decimator"),u(this,"labelStringFormatter"),u(this,"labelMargin"),u(this,"lineJoin"),u(this,"lineStyle"),u(this,"lineLegendPosition",0),u(this,"markerFill"),u(this,"markerOutline"),u(this,"markerResolution"),u(this,"markerSize"),u(this,"markerStroke"),u(this,"markerStrokeThickness"),u(this,"markerType"),u(this,"minimumSegmentLength"),u(this,"interpolationAlgorithm"),u(this,"strokeThickness"),this.strokeThickness=2,this.lineJoin=et.Bevel,this.lineStyle=k.Automatic,this.color=p.Automatic,this.brokenLineColor=p.Undefined,this.markerFill=p.Automatic,this.markerStroke=p.Automatic,this.markerResolution=0,this.markerSize=3,this.markerStrokeThickness=1,this.markerType=N.None,this.minimumSegmentLength=2,this.canTrackerInterpolatePoints=!0,this.labelMargin=6,this._smoothedPoints=new Array,t&&Object.assign(this,ot(t))}get actualColor(){return this.color.getActualColor(this.defaultColor)}get actualMarkerFill(){return this.markerFill.getActualColor(this.defaultMarkerFill)}get actualLineStyle(){return this.lineStyle!=k.Automatic?this.lineStyle:this.defaultLineStyle}get actualDashArray(){return this.dashes??Nt.getDashArray(this.actualLineStyle)}get smoothedPoints(){return this._smoothedPoints}getNearestPoint(t,i){if(i&&(this.actualColor.isInvisible()||this.strokeThickness===0||!this.canTrackerInterpolatePoints))return;const s=this.trackerStringFormatter;if(i&&this.interpolationAlgorithm){const n=this.getNearestInterpolatedPointInternal(this.smoothedPoints,0,t);return n&&s&&(n.text=s({item:n.item,title:this.title,xTitle:this.xAxis.title??It.defaultXAxisTitle,xValue:this.xAxis.getValue(n.dataPoint.x),yTitle:this.yAxis.title??It.defaultYAxisTitle,yValue:this.yAxis.getValue(n.dataPoint.y)})),n}return super.getNearestPoint(t,i)}async render(t){const i=this.actualPoints;!i||i.length===0||(this.verifyAxes(),await this.renderPoints(t,i),this.labelStringFormatter&&await this.renderPointLabels(t),this.lineLegendPosition!==0&&this.title&&await this.renderLegendOnLine(t))}async renderLegend(t,i){const s=(i.left+i.right)/2,n=(i.top+i.bottom)/2,o=[A(i.left,n),A(i.right,n)];await t.drawLine(o,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray);const a=A(s,n);await _.drawMarker(t,a,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.lineStyle===k.Automatic&&(this.defaultLineStyle=this.plotModel.getDefaultLineStyle()),this.color.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor()),this.markerFill.isAutomatic()&&(this.defaultMarkerFill=this.color.isAutomatic()?this.defaultColor:this.color)}updateMaxMin(){if(this.interpolationAlgorithm){if(super.updateMaxMin(),this.resetSmoothedPoints(),this.smoothedPoints.every(s=>isNaN(s.x)))return;const t=this.smoothedPoints.filter(s=>!isNaN(s.x)).map(s=>s.x),i=this.smoothedPoints.filter(s=>!isNaN(s.y)).map(s=>s.y);this.minX=Pt(t),this.minY=Pt(i),this.maxX=Wt(t),this.maxY=Wt(i)}else super.updateMaxMin()}async renderPoints(t,i){let s;const n=this.brokenLineThickness>0&&this.brokenLineStyle!==k.None,o=n?Nt.getDashArray(this.brokenLineStyle):void 0,a=n?[]:void 0;this.contiguousScreenPointsBuffer||(this.contiguousScreenPointsBuffer=[]);let l=0,h=tt;if(this.isXMonotonic){const m=this.xAxis.clipMinimum;h=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(i,c=>c.x,m,this.windowStartIndex),l=this.windowStartIndex}for(let m=l;m<i.length;m++){const{result:c,pointIdx:g,previousContiguousLineSegmentEndPoint:f}=this.extractNextContiguousLineSegment(i,m,s,h,a,this.contiguousScreenPointsBuffer);if(m=g,s=f,!c)break;if(n){if(a&&a.length>0){const y=this.brokenLineColor.isAutomatic()?this.actualColor:this.brokenLineColor;await t.drawLineSegments(a,y,this.brokenLineThickness,this.edgeRenderingMode,o,this.lineJoin),a.length=0}}else s=void 0;this.decimator?(this.decimatorBuffer?this.decimatorBuffer.length=0:this.decimatorBuffer=[],this.decimator(this.contiguousScreenPointsBuffer,this.decimatorBuffer),await this.renderLineAndMarkers(t,this.decimatorBuffer)):await this.renderLineAndMarkers(t,this.contiguousScreenPointsBuffer),this.contiguousScreenPointsBuffer.length=0}}extractNextContiguousLineSegment(t,i,s,n,o,a){let l=d(0,0),h=!1;for(;i<t.length;i++){if(l=t[i],l.x>n)return{result:!1,pointIdx:i,previousContiguousLineSegmentEndPoint:s};if(h=this.isValidPoint(l),h)break}if(!h)return{result:!1,pointIdx:i,previousContiguousLineSegmentEndPoint:s};let m=this.transform(l);s&&(o.push(s),o.push(m)),a.push(m);let c=0;for(i++;i<t.length&&(l=t[i],c+=l.x>n?1:0,!(c>1||!this.isValidPoint(l)));i++)m=this.transform(l),a.push(m);return s=m,{result:!0,pointIdx:i,previousContiguousLineSegmentEndPoint:s}}async renderPointLabels(t){if(!this.labelStringFormatter)return;let i=-1;for(const s of this.actualPoints){if(i++,!this.isValidPoint(s))continue;const n=St(this.transform(s),new pt(0,-this.labelMargin)),o=this.getItem(i),a=this.labelStringFormatter(o,[s.x,s.y]);await t.drawText(n,a,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,I.Center,D.Bottom)}}async renderLegendOnLine(t){if(!this.title)return;let i,s,n=D.Middle,o=4;switch(this.lineLegendPosition){case 1:i=this.actualPoints[0],s=I.Right,o=-o;break;case 2:i=this.actualPoints[this.actualPoints.length-1],s=I.Left;break;case 0:return;default:throw new Error("Invalid LineLegendPosition")}const a=J.orientateAlignment(this,s,n);s=a[0],n=a[1];const l=J.orientateVector(this,new pt(o,0)),h=St(this.transform(i),l);await t.drawText(h,this.title,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,s,n)}async renderLineAndMarkers(t,i){let s=i;if(this.interpolationAlgorithm){const n=me.resamplePoints(i,this.minimumSegmentLength);s=this.interpolationAlgorithm.createSplineSp(n,!1,.25)}if(this.strokeThickness>0&&this.actualLineStyle!==k.None&&await this.renderLine(t,s),this.markerType!==N.None){const n=this.markerResolution>0?J.transform(this,this.minX,this.minY):ke;await _.drawMarkers(t,i,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.markerResolution,n)}}async renderLine(t,i){const s=this.actualDashArray;this.outputBuffer||(this.outputBuffer=[]),await _.drawReducedLine(t,i,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,s,this.lineJoin,this.outputBuffer)}resetSmoothedPoints(){const t=Math.abs(Math.max(this.maxX-this.minX,this.maxY-this.minY)/sr.ToleranceDivisor);this._smoothedPoints=this.interpolationAlgorithm.createSplineDp(this.actualPoints,!1,t)}};u(ir,"ToleranceDivisor",200);let G=ir;class Vo{constructor(t){u(this,"categoryIndex"),this.categoryIndex=-1,t&&(vt(t.categoryIndex)||(this.categoryIndex=t.categoryIndex))}getCategoryIndex(t){return this.categoryIndex<0?t:this.categoryIndex}}class L extends Vo{constructor(t){super(t),u(this,"color"),u(this,"value",0),this.color=p.Automatic,t&&Object.assign(this,ot(t))}static fromValue(t){return new L({value:t})}}class ui extends It{constructor(t){super(t),u(this,"barWidth"),u(this,"itemsSourceItems"),u(this,"strokeColor"),u(this,"strokeThickness",0),u(this,"manager"),u(this,"validItems",[]),u(this,"validItemsIndexInversion",new Map),u(this,"labelColor",p.Undefined),u(this,"labelMargin",0),u(this,"labelAngle",0),u(this,"labelPlacement",lt.Outside),u(this,"items",[]),this.strokeColor=p.Black,this.barWidth=1}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getActualBarWidth(){if(!this.manager)return 0;const t=this.getCategoryAxis();return this.barWidth/(1+t.gapWidth)/this.manager.getMaxWidth()}get categoryAxis(){return this.getCategoryAxis()}getCategoryAxis(){if(!(this.yAxis instanceof K))throw new Error("BarSeries requires a CategoryAxis on the Y Axis.");return this.yAxis}get valueAxis(){return this.xAxis}getItem(t){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(t):this.actualItems[t]}clearItemsSourceItems(){this.itemsSourceItems&&(this.itemsSourceItems.length=0)}isUsing(t){return this.xAxis===t||this.yAxis===t}async renderLabel(t,i,s,n,o,a,l,...h){const m=[];if(h.length)m.push(...h);else if(i instanceof L)m.push(i.value);else if(i instanceof Bt)m.push(i.start),m.push(i.end);else throw i instanceof ge?new Error("RenderLabel does not support automatic determination of label values for TornadoBarItem objects. Please populate the labelValues parameter."):new Error(`RenderLabel automatic value determination not implemented for ${this.constructor.name}. Please populate the labelValues parameter.`);const c=l?l(i,m):"";let g;const f=(a+o)/2,y=Math.sign(n-s);let M=new pt(this.labelMargin,0).times(y),S=new pt(0,0);const C=_.measureText(t,c,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle),v=(J.isTransposed(this)?C.height:C.width)/2,R=J.transform;switch(this.labelPlacement){case lt.Inside:g=R(this,n,f),M=M.negate(),S=new pt(-y*v,0);break;case lt.Outside:g=R(this,n,f),S=new pt(y*v,0);break;case lt.Middle:g=R(this,(n+s)/2,f),M=new pt(0,0);break;case lt.Base:g=R(this,s,f),S=new pt(y*v,0);break;default:throw new Error("Invalid label placement")}const T=J.orientateVector;g=St(St(g,T(this,M)),T(this,S)),await t.drawText(g,c,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle,I.Center,D.Middle)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX)}updateData(){this.clearItemsSourceItems(),!(!this.itemsSource||this.itemsSource.length==0)&&(this.updateFromDataFields()||(this.itemsSourceItems||(this.itemsSourceItems=[]),this.itemsSourceItems.push(...this.itemsSource)))}updateValidData(){this.validItems.length=0,this.validItemsIndexInversion.clear();const t=this.manager.categories.length;for(let i=0;i<this.actualItems.length;i++){const s=this.actualItems[i];s&&s.getCategoryIndex(i)<t&&this.isValid(s)&&(this.validItemsIndexInversion.set(this.validItems.length,i),this.validItems.push(s))}}}u(ui,"DefaultCategoryAxisTitle","Category"),u(ui,"DefaultValueAxisTitle","Value");const nr=class or extends ui{constructor(t){super(t),u(this,"defaultFillColor",p.Undefined),u(this,"trackerStringFormatter"),u(this,"baseValue"),u(this,"baseLine"),u(this,"actualBaseLine"),u(this,"colorField"),u(this,"fillColor"),u(this,"isStacked",!1),u(this,"overlapsStack",!1),u(this,"labelStringFormatter"),u(this,"negativeFillColor"),u(this,"stackGroup"),u(this,"valueField"),u(this,"actualBarRectangles"),this.fillColor=p.Automatic,this.negativeFillColor=p.Undefined,this.trackerStringFormatter=or.DefaultTrackerFormatter,this.labelMargin=2,this.labelAngle=0,this.stackGroup="",this.strokeThickness=0,this.baseValue=0,this.baseLine=NaN,this.actualBaseLine=NaN,t&&Object.assign(this,ot(t))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(t,i){if(!this.actualBarRectangles||this.validItems.length===0)return;let s=0;for(const n of this.actualBarRectangles){if(n.containsPoint(t)){const o=this.validItems[s],a=o.getCategoryIndex(s),l=d(a,this.validItems[s].value),h=this.getItem(this.validItemsIndexInversion.get(s));return new _t({series:this,dataPoint:l,position:t,item:h,index:s,text:this.getTrackerText(o,h,a)})}s++}}renderLegend(t,i){const s=(i.left+i.right)/2,n=(i.top+i.bottom)/2,o=(i.bottom-i.top)*.8,a=o;return t.drawRectangle(new F(s-.5*a,n-.5*o,a,o),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.xAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.xAxis.isLogarithmic()){const t=(this.actualItems||[]).map(s=>s.value),i=Pt(t.filter(s=>s>0),1);this.actualBaseLine=Math.max(i/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;const t=this.getCategoryAxis();let i=tt,s=ut;const n=this.manager;if(this.isStacked){const o=t.actualLabels;for(let a=0;a<o.length;a++){let l=0;const h=this.validItems.filter(M=>M.getCategoryIndex(l++)===a).map(M=>M.value).concat([0]);let m=h.filter(M=>M<=0).reduce((M,S)=>M+S,0),c=h.filter(M=>M>=0).reduce((M,S)=>M+S,0);const g=n.getStackIndex(this.stackGroup),f=n.getCurrentMinValue(g,a);isNaN(f)||(m+=f),n.setCurrentMinValue(g,a,m);const y=n.getCurrentMaxValue(g,a);!this.overlapsStack&&!isNaN(y)&&(c+=y),n.setCurrentMaxValue(g,a,c),i=Math.min(i,m+this.baseValue),s=Math.max(s,c+this.baseValue)}}else{const o=this.validItems.map(a=>a.value).concat([0]);i=Pt(o),s=Wt(o),this.baseValue<i&&(i=this.baseValue),this.baseValue>s&&(s=this.baseValue)}this.minX=i,this.maxX=s}getTrackerText(t,i,s){if(!this.trackerStringFormatter)return;const n=this.getCategoryAxis(),o=this.xAxis;return this.trackerStringFormatter({item:i,title:this.title,category:n.formatValue(s),value:o==null?void 0:o.getValue(t.value)})}isValid(t){return this.xAxis.isValidValue(t.value)}async renderItem(t,i,s,n,o,a){let l=o.color;l.isAutomatic()&&(l=this.actualFillColor,o.value<0&&!this.negativeFillColor.isUndefined()&&(l=this.negativeFillColor));const h=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness);await t.drawRectangle(a,this.getSelectableFillColor(l),this.strokeColor,this.strokeThickness,h)}async render(t){if(this.actualBarRectangles=[],this.validItems.length===0)return;const i=this.manager,s=this.yAxis,n=this.xAxis,o=J.transform,a=this.getActualBarWidth(),l=this.isStacked?i.getStackIndex(this.stackGroup):0;for(let h=0;h<this.validItems.length;h++){const m=this.validItems[h],c=m.getCategoryIndex(h),g=m.value;let f=NaN;this.isStacked&&!this.overlapsStack&&(f=i.getCurrentBaseValue(l,c,g<0)),isNaN(f)&&(f=this.baseValue);const y=this.isStacked?f+g:g;if(s.isLogarithmic()&&!s.isValidValue(y))continue;let M;this.isStacked?M=i.getCategoryValue(c,l,a):M=c-.5+i.getCurrentBarOffset(c),this.isStacked&&i.setCurrentBaseValue(l,c,g<0,y);const S=n.isLogarithmic()&&!n.isValidValue(f),C=o(this,S?n.clipMinimum:f,M),v=o(this,y,M+a),R=F.fromScreenPoints(C,v);this.actualBarRectangles.push(R),await this.renderItem(t,y,M,a,m,R),this.labelStringFormatter&&await this.renderLabel(t,m,f,y,M,M+a,this.labelStringFormatter),this.isStacked||i.increaseCurrentBarOffset(c,a)}}updateFromDataFields(){if(!this.valueField)return!1;if(!this.itemsSource||this.itemsSource.length==0)return!0;this.itemsSourceItems=this.itemsSourceItems||[];for(const t of this.itemsSource){if(vt(t))continue;const i=t[this.valueField],s=new L;s.value=vt(i)?NaN:i;let n=p.Automatic;this.colorField&&t[this.colorField]&&t[this.colorField]instanceof r&&(n=t[this.colorField]),s.color=n,this.itemsSourceItems.push(s)}return!0}};u(nr,"DefaultTrackerFormatter",e=>`${e.title||""}
${e.category}: ${e.value}`);let $=nr;class pn{constructor(t,i,s){if(u(this,"currentBarOffset"),u(this,"currentMaxValue"),u(this,"currentMinValue"),u(this,"currentNegativeBaseValues"),u(this,"currentPositiveBaseValues"),u(this,"maxWidth",NaN),u(this,"_categoryAxis"),u(this,"_series"),u(this,"_valueAxis"),u(this,"_barOffset"),u(this,"_stackedBarOffset"),u(this,"_stackIndexMapping",new Map),!t.plotModel)throw new Error("The category axis must be part of a plot model.");this._categoryAxis=t,this._valueAxis=i,this._series=s;for(const n of this._series)n.manager=this}get categoryAxis(){return this._categoryAxis}get managedSeries(){return this._series}get plotModel(){return this.categoryAxis.plotModel}get valueAxis(){return this._valueAxis}get categories(){return this._categoryAxis.actualLabels}get stackIndexMapping(){return this._stackIndexMapping}getCategoryValue(t,i,s){const n=this._stackedBarOffset[i][t],o=this._stackedBarOffset[i+1][t];return t-.5+(o+n-s)*.5}getCurrentBarOffset(t){return this.currentBarOffset?this.currentBarOffset[t]:0}getCurrentBaseValue(t,i,s){return s?this.currentNegativeBaseValues[t][i]:this.currentPositiveBaseValues[t][i]}getCurrentMaxValue(t,i){return this.currentMaxValue?this.currentMaxValue[t][i]:0}getCurrentMinValue(t,i){return this.currentMinValue?this.currentMinValue[t][i]:0}getMaxWidth(){return this.maxWidth}getStackIndex(t){const i=this._stackIndexMapping.get(t);return di(i)?-1:i}increaseCurrentBarOffset(t,i){this.currentBarOffset&&(this.currentBarOffset[t]+=i)}initializeRender(){this.resetCurrentValues()}setCurrentBaseValue(t,i,s,n){s?this.currentNegativeBaseValues[t][i]=n:this.currentPositiveBaseValues[t][i]=n}setCurrentMaxValue(t,i,s){this.currentMaxValue[t][i]=s}setCurrentMinValue(t,i,s){this.currentMinValue[t][i]=s}update(){this.categoryAxis.updateLabels(Math.max(...this.managedSeries.map(t=>t.actualItems.length))),this.updateBarOffsets(),this.updateValidData(),this.resetCurrentValues()}static hasCategory(t,i){return t.actualItems.length>i&&t.actualItems[i].categoryIndex<0?!0:t.actualItems.some(s=>s.categoryIndex===i)}resetCurrentValues(){this.currentBarOffset=[...this._barOffset||[]];const t=this.categoryAxis.actualLabels,i=this._stackIndexMapping.size;i>0?(this.currentPositiveBaseValues=We(i,t.length,Number.NaN),this.currentNegativeBaseValues=We(i,t.length,Number.NaN),this.currentMaxValue=We(i,t.length,Number.NaN),this.currentMinValue=We(i,t.length,Number.NaN)):(this.currentPositiveBaseValues=void 0,this.currentNegativeBaseValues=void 0,this.currentMaxValue=void 0,this.currentMinValue=void 0)}updateBarOffsets(){if(this.categories.length===0){this.maxWidth=Number.NaN,this._stackedBarOffset=void 0,this._stackIndexMapping.clear();return}const t=new Array(this.categories.length).fill(0),i=new Map;this._barOffset=new Array(this.categories.length).fill(0);const s=this.managedSeries.filter(l=>Sa(l)).map(l=>l),n=Array.from(s.filter(l=>l.isStacked).reduce((l,h)=>l.set(h.stackGroup,(l.get(h.stackGroup)||[]).concat(h)),new Map).values());for(const l of n){const h=Math.max(...l.map(m=>m.barWidth));i.set(l[0].stackGroup,h);for(let m=0;m<this.categories.length;m++)l.some(c=>pn.hasCategory(c,m))&&(t[m]+=h)}for(const l of this.managedSeries.filter(h=>!Sa(h)||!h.isStacked))for(let h=0;h<this.categories.length;h++){let m=l.actualItems.filter(c=>c.categoryIndex===h).length;l.actualItems.length>h&&l.actualItems[h].categoryIndex<0&&m++,t[h]+=l.barWidth*m}this.maxWidth=Math.max(...t),this._stackedBarOffset=We(n.length+1,this.categories.length,0);const o=1/(1+this.categoryAxis.gapWidth)/this.maxWidth;for(let l=0;l<this.categories.length;l++)this._barOffset[l]=.5-t[l]*o*.5;for(let l=0;l<n.length;l++){const h=n[l];for(let m=0;m<this.categories.length;m++)this._stackedBarOffset[l][m]=this._barOffset[m],h.some(c=>pn.hasCategory(c,m))&&(this._barOffset[m]+=i.get(h[0].stackGroup)*o)}for(let l=0;l<this.categories.length;l++)this._stackedBarOffset[n.length][l]=this._barOffset[l];this._stackIndexMapping.clear();let a=0;for(const l of n.map(h=>h[0].stackGroup).sort())this._stackIndexMapping.set(l,a++)}updateValidData(){for(const t of this.managedSeries)t.updateValidData()}}function kh(e){return e&&!vt(e.barWidth)&&e.categoryAxis}class Bt extends Vo{constructor(t){super(t),u(this,"color"),u(this,"end",0),u(this,"start",0),u(this,"title"),this.color=p.Automatic,t&&Object.assign(this,ot(t))}}const ar=class rr extends ui{constructor(t){super(t),u(this,"defaultFillColor",p.Undefined),u(this,"trackerStringFormatter"),u(this,"colorField"),u(this,"endField"),u(this,"fillColor"),u(this,"isStacked",!0),u(this,"overlapsStack",!0),u(this,"labelStringFormatter",(i,s)=>`${s[0]} - ${s[1]}`),u(this,"stackGroup",""),u(this,"startField"),u(this,"actualBarRectangles",[]),this.fillColor=p.Automatic,this.strokeThickness=1,this.trackerStringFormatter=rr.DefaultTrackerStringFormatter,this.labelMargin=4,this.labelPlacement=lt.Middle,t&&Object.assign(this,ot(t))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(t,i){for(let s=0;s<this.actualBarRectangles.length;s++){if(!this.actualBarRectangles[s].containsPoint(t))continue;const n=this.getItem(this.validItemsIndexInversion.get(s)),o=n.getCategoryIndex(s),a=(this.validItems[s].start+this.validItems[s].end)/2,l=d(o,a),h=this.getCategoryAxis(),m=this.xAxis,c=this.trackerStringFormatter({item:n,title:this.title,categoryTitle:h.title??ui.DefaultCategoryAxisTitle,categoryValue:h.formatValue(o),valueTitle:m.title??ui.DefaultValueAxisTitle});return new _t({series:this,dataPoint:l,position:t,item:n,index:s,text:c})}}async renderLegend(t,i){const s=(i.left+i.right)/2,n=(i.top+i.bottom)/2,o=(i.bottom-i.top)*.8,a=o;await t.drawRectangle(new F(s-.5*a,n-.5*o,a,o),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let t=tt,i=ut;for(const s of this.validItems)t=Math.min(t,s.start),t=Math.min(t,s.end),i=Math.max(i,s.start),i=Math.max(i,s.end);this.minX=t,this.maxX=i}isValid(t){return this.xAxis.isValidValue(t.start)&&this.xAxis.isValidValue(t.end)}async render(t){if(this.actualBarRectangles=[],this.validItems.length===0)return;const i=this.getActualBarWidth(),s=this.manager.getStackIndex(this.stackGroup),n=J.transform,o=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness);for(let a=0;a<this.validItems.length;a++){const l=this.validItems[a],h=l.getCategoryIndex(a),m=this.manager.getCategoryValue(h,s,i),c=n(this,l.start,m),g=n(this,l.end,m+i),f=F.fromScreenPoints(c,g);this.actualBarRectangles.push(f),await t.drawRectangle(f,this.getSelectableFillColor(l.color.getActualColor(this.actualFillColor)),this.strokeColor,this.strokeThickness,o),this.labelStringFormatter&&await this.renderLabel(t,this.getItem(a),l.start,l.end,m,m+i,this.labelStringFormatter)}}updateFromDataFields(){var t;if(!this.startField||!this.endField||!this.itemsSource)return!1;for(const i of this.itemsSource){const s=zt(i,this.startField,NaN),n=zt(i,this.endField,NaN),o=zt(i,this.colorField,p.Automatic);(t=this.itemsSourceItems)==null||t.push(new Bt({start:s,end:n,color:o}))}return!0}};u(ar,"DefaultTrackerStringFormatter",e=>{var t,i;return`${e.title}
${e.categoryTitle}: ${e.categoryValue}
${e.valueTitle}: ${(t=e.item)==null?void 0:t.start} - ${(i=e.item)==null?void 0:i.end}`});let He=ar;function Sa(e){return e&&!di(e.isStacked)&&typeof e.isStacked=="boolean"&&!di(e.stackGroup)&&typeof e.stackGroup=="string"}var lt=(e=>(e[e.Outside=0]="Outside",e[e.Inside=1]="Inside",e[e.Middle=2]="Middle",e[e.Base=3]="Base",e))(lt||{});class wi extends L{constructor(t){super(t),u(this,"error",0),this.color=p.Automatic,t&&Object.assign(this,ot(t))}}const lr=class hr extends ${constructor(t){super(t),u(this,"errorStrokeThickness"),u(this,"errorWidth"),this.errorWidth=.4,this.errorStrokeThickness=1,this.trackerStringFormatter=hr.DefaultTrackerStringFormatter,t&&Object.assign(this,ot(t))}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let t=tt,i=ut;if(!this.isStacked){const s=this.validItems.map(o=>o.value-o.error).concat([0]),n=this.validItems.map(o=>o.value+o.error).concat([0]);t=Pt(s),i=Wt(n),this.baseValue<t&&(t=this.baseValue),this.baseValue>i&&(i=this.baseValue)}this.minX=t,this.maxX=i}async renderItem(t,i,s,n,o,a){await super.renderItem(t,i,s,n,o,a);const l=i-o.error,h=i+o.error,m=.5-this.errorWidth/2,c=.5+this.errorWidth/2,g=s+m*n,f=s+.5*n,y=s+c*n,M=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness),S=J.transform,C=S(this,l,f),v=S(this,h,f);if(await t.drawLine([C,v],this.strokeColor,this.errorStrokeThickness,M,void 0,et.Miter),this.errorWidth>0){const R=S(this,l,g),T=S(this,l,y);await t.drawLine([R,T],this.strokeColor,this.errorStrokeThickness,M,void 0,et.Miter);const P=S(this,h,g),B=S(this,h,y);await t.drawLine([P,B],this.strokeColor,this.errorStrokeThickness,M,void 0,et.Miter)}}};u(lr,"DefaultTrackerStringFormatter",e=>`${e.title||""}
${e.category}: ${e.value}, Error: ${Gt(e.item.error,3)}`);let xo=lr;class mr extends Fo{constructor(t){super(t),u(this,"rectangles",[]),u(this,"rectanglesPointIndexes",[]),u(this,"defaultColor",p.Undefined),u(this,"fillColor"),u(this,"barWidth"),u(this,"strokeThickness"),u(this,"strokeColor"),u(this,"negativeFillColor"),u(this,"negativeStrokeColor"),u(this,"baseValue"),u(this,"baseLine"),u(this,"actualBaseLine"),this.fillColor=p.Automatic,this.barWidth=5,this.strokeColor=p.Black,this.strokeThickness=0,this.negativeFillColor=p.Undefined,this.negativeStrokeColor=p.Undefined,this.baseValue=0,this.baseLine=Number.NaN,this.actualBaseLine=Number.NaN,t&&Object.assign(this,ot(t))}get actualColor(){return this.fillColor.getActualColor(this.defaultColor)}getNearestPoint(t,i){const s=this.findRectangleIndex(t);if(s<0||!this.rectangles[s].containsPoint(t))return;const n=this.rectanglesPointIndexes[s],o=this.actualPoints[n],a=this.getItem(n),l=this.formatDefaultTrackerString(a,o);return new _t({series:this,dataPoint:o,position:t,item:a,index:n,text:l})}async render(t){this.rectangles.length=0,this.rectanglesPointIndexes.length=0;const i=this.actualPoints;!i||i.length===0||(this.verifyAxes(),await this.renderBars(t,i))}async renderLegend(t,i){const s=(i.left+i.right)/2,n=(i.top+i.bottom)/2,o=(i.bottom-i.top)*.8,a=o;await t.drawRectangle(new F(s-.5*a,n-.5*o,a,o),this.getSelectableColor(this.actualColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.yAxis.isLogarithmic()){const t=this.actualPoints?Pt(this.actualPoints.filter(i=>i.y>0).map(i=>i.y),1):1;this.actualBaseLine=Math.max(t/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}findRectangleIndex(t){let i;return J.isTransposed(this)?i=(s,n)=>s.bottom<t.y?1:s.top>t.y?-1:0:i=(s,n)=>s.right<t.x?-1:s.left>t.x?1:0,this.rectangles.findIndex(s=>i(s,F.Empty)===0)}async renderBars(t,i){const s=this.yAxis.isLogarithmic()&&!this.yAxis.isValidValue(this.baseValue),n=this.getBarWidth(i)/2,o=J.orientateVector(this,new pt(n,0)),a=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness);for(let l=0;l<i.length;l++){const h=i[l];if(!this.isValidPoint(h))continue;const m=Pe(this.transform(h),o),c=this.transform(d(h.x,s?this.yAxis.clipMinimum:this.baseValue)),g=St(c,o),f=F.fromScreenPoints(g,m);this.rectangles.push(f),this.rectanglesPointIndexes.push(l);const y=this.getBarColors(h.y);await t.drawRectangle(f,y.fillColor,y.strokeColor,this.strokeThickness,a)}}getBarWidth(t){let i=this.barWidth/this.xAxis.scale;for(let s=1;s<t.length;s++){const n=t[s].x-t[s-1].x;n<i&&(i=n)}return i*this.xAxis.scale}getBarColors(t){const i=t>=this.baseValue,s=i||this.negativeFillColor.isUndefined()?this.getSelectableFillColor(this.actualColor):this.negativeFillColor,n=i||this.negativeStrokeColor.isUndefined()?this.strokeColor:this.negativeStrokeColor;return{fillColor:s,strokeColor:n}}}class ge extends Vo{constructor(t){super(t),u(this,"baseValue"),u(this,"maximum"),u(this,"maximumColor"),u(this,"minimum"),u(this,"minimumColor"),this.minimum=NaN,this.maximum=NaN,this.baseValue=NaN,this.minimumColor=p.Automatic,this.maximumColor=p.Automatic,t&&Object.assign(this,ot(t))}}const ur=class cr extends ui{constructor(t){super(t),u(this,"defaultMaximumFillColor",p.Undefined),u(this,"defaultMinimumFillColor",p.Undefined),u(this,"baseField"),u(this,"baseValue",NaN),u(this,"maximumColorField"),u(this,"maximumField"),u(this,"maximumFillColor"),u(this,"maximumLabelStringFormatter"),u(this,"minimumColorField"),u(this,"minimumField"),u(this,"minimumFillColor"),u(this,"minimumLabelStringFormatter"),u(this,"actualMaximumBarRectangles",[]),u(this,"actualMinimumBarRectangles",[]),this.maximumFillColor=r.fromRgb(216,82,85),this.minimumFillColor=r.fromRgb(84,138,209),this.strokeColor=p.Black,this.strokeThickness=1,this.trackerStringFormatter=cr.defaultTrackerStringFormatter,this.labelMargin=4,this.minimumLabelStringFormatter=(i,s)=>s[0].toString(),this.maximumLabelStringFormatter=(i,s)=>s[0].toString(),t&&Object.assign(this,ot(t))}get actualMaximumFillColor(){return this.maximumFillColor.getActualColor(this.defaultMaximumFillColor)}get actualMinimumFillColor(){return this.minimumFillColor.getActualColor(this.defaultMinimumFillColor)}getNearestPoint(t,i){for(let s=0;s<this.actualMinimumBarRectangles.length;s++){const n=this.actualMinimumBarRectangles[s].containsPoint(t),o=this.actualMaximumBarRectangles[s].containsPoint(t);if(n||o){const a=this.getItem(this.validItemsIndexInversion.get(s)),l=a.getCategoryIndex(s),h=o?this.validItems[s].maximum:this.validItems[s].minimum,m=d(l,h),c=this.getCategoryAxis(),g=this.trackerStringFormatter({item:a,title:this.title,yTitle:c.title??ui.DefaultCategoryAxisTitle,yValue:c.formatValue(l),xTitle:this.xAxis.title??ui.DefaultValueAxisTitle,xValue:this.xAxis.getValue(h)});return new _t({series:this,dataPoint:m,position:t,item:a,index:s,text:g})}}}async render(t){if(this.actualMinimumBarRectangles=[],this.actualMaximumBarRectangles=[],this.validItems.length===0)return;const i=this.getActualBarWidth();for(let s=0;s<this.validItems.length;s++){const n=this.validItems[s],o=n.getCategoryIndex(s),a=isNaN(n.baseValue)?this.baseValue:n.baseValue,l=this.manager.getCurrentBarOffset(o),h=o-.5+l,m=h+i,c=J.transform,g=c(this,n.minimum,h),f=c(this,n.maximum,h),y=c(this,a,h+i),M=F.fromScreenPoints(g,y),S=F.fromScreenPoints(f,y);this.actualMinimumBarRectangles.push(M),this.actualMaximumBarRectangles.push(S);const C=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness);await t.drawRectangle(M,n.minimumColor.getActualColor(this.actualMinimumFillColor),this.strokeColor,this.strokeThickness,C),await t.drawRectangle(S,n.maximumColor.getActualColor(this.actualMaximumFillColor),this.strokeColor,this.strokeThickness,C),this.minimumLabelStringFormatter&&await this.renderLabel(t,n,a,n.minimum,h,m,this.minimumLabelStringFormatter,n.minimum),this.maximumLabelStringFormatter&&await this.renderLabel(t,n,a,n.maximum,h,m,this.maximumLabelStringFormatter,n.maximum)}}async renderLegend(t,i){const s=(i.left+i.right)/2,n=(i.top+i.bottom)/2,o=(i.bottom-i.top)*.8,a=o,l=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness);await t.drawRectangle(new F(s-.5*a,n-.5*o,.5*a,o),this.actualMinimumFillColor,this.strokeColor,this.strokeThickness,l),await t.drawRectangle(new F(s,n-.5*o,.5*a,o),this.actualMaximumFillColor,this.strokeColor,this.strokeThickness,l)}setDefaultValues(){this.maximumFillColor.isAutomatic()&&(this.defaultMaximumFillColor=this.plotModel.getDefaultColor()),this.minimumFillColor.isAutomatic()&&(this.defaultMinimumFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let t=tt,i=ut;for(const s of this.validItems)t=Math.min(t,s.minimum),i=Math.max(i,s.maximum);this.minX=t,this.maxX=i}isValid(t){return this.xAxis.isValidValue(t.minimum)&&this.xAxis.isValidValue(t.maximum)}updateFromDataFields(){if(!this.minimumField||!this.maximumField||!this.itemsSource)return!1;this.itemsSourceItems?this.itemsSourceItems.length=0:this.itemsSourceItems=[];for(const t of this.itemsSource){if(!t)continue;if(t instanceof ge){this.itemsSourceItems.push(t);continue}const i=zt(t,this.minimumField,Number.NaN),s=zt(t,this.maximumField,Number.NaN),n=zt(t,this.baseField,Number.NaN),o=zt(t,this.minimumColorField,p.Automatic),a=zt(t,this.maximumColorField,p.Automatic);this.itemsSourceItems.push(new ge({minimum:i,maximum:s,baseValue:n,minimumColor:o,maximumColor:a}))}return!0}};u(ur,"defaultTrackerStringFormatter",e=>`${e.title||""}
${e.yTitle}: ${e.yValue}
${e.xTitle}: ${e.xValue}`);let ni=ur;const dr=class pr extends It{constructor(t){super(t),u(this,"defaultFillColor",p.Undefined),u(this,"fillColor"),u(this,"items"),u(this,"labelStringFormatter"),u(this,"strokeColor"),u(this,"strokeThickness"),u(this,"actualBarRectangles",[]),u(this,"actualItems",[]),this.items=[],this.fillColor=p.Automatic,this.strokeColor=p.Black,this.strokeThickness=1,this.trackerStringFormatter=pr.defaultTrackerStringFormatter,this.labelStringFormatter=(i,s)=>`${s[4]||""}`,t&&Object.assign(this,ot(t))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(t,i){if(!(!this.actualBarRectangles||!this.actualItems)){for(let s=0;s<this.actualBarRectangles.length;s++)if(this.actualBarRectangles[s].containsPoint(t)){const n=(this.actualItems[s].y0+this.actualItems[s].y1)/2,o=t,a=d(s,n),l=this.actualItems[s],h=this.formatDefaultTrackerString(l,d(this.actualItems[s].x0,this.actualItems[s].y0),m=>{m.x1Value=this.xAxis.getValue(this.actualItems[s].x1),m.y1Value=this.yAxis.getValue(this.actualItems[s].y1)});return new _t({series:this,dataPoint:a,position:o,item:l,index:s,text:h})}}}async render(t){if(this.items.length===0)return;let i=0,s=tt;if(this.actualBarRectangles=[],this.actualItems=[],this.isXMonotonic){const a=this.xAxis.clipMinimum;s=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(this.items,l=>l.x0,a,this.windowStartIndex),i=this.windowStartIndex}const n=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness);let o=0;for(let a=i;a<this.items.length;a++){const l=this.items[a];if(!this.isValid(l.x0)||!this.isValid(l.x1)||!this.isValid(l.y0)||!this.isValid(l.y1))continue;const h=J.transform,m=h(this,l.x0,l.y0),c=h(this,l.x1,l.y1),g=F.create(m.x,m.y,c.x,c.y);if(this.actualBarRectangles.push(g),this.actualItems.push(l),await t.drawRectangle(g,this.getSelectableFillColor(l.color.getActualColor(this.actualFillColor)),this.strokeColor,this.strokeThickness,n),this.labelStringFormatter){const f=this.labelStringFormatter(this.getItem(a),[l.x0,l.x1,l.y0,l.y1,l.title]),y=A((g.left+g.right)/2,(g.top+g.bottom)/2);await t.drawText(y,f,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,I.Center,D.Middle)}if(o+=l.x0>s?1:0,o>1)break}}async renderLegend(t,i){const s=(i.left+i.right)/2,n=(i.top+i.bottom)/2,o=(i.bottom-i.top)*.8,a=o;await t.drawRectangle(new F(s-.5*a,n-.5*o,a,o),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource)throw this.items=[],new Error("Not implemented")}updateMaxMin(){if(super.updateMaxMin(),this.isXMonotonic=!0,this.items===null||this.items.length===0)return;let t=tt,i=ut,s=tt,n=ut,o=ut,a=ut;for(const l of this.items)(l.x0<o||l.x1<a)&&(this.isXMonotonic=!1),t=Math.min(t,Math.min(l.x0,l.x1)),i=Math.max(i,Math.max(l.x1,l.x0)),s=Math.min(s,Math.min(l.y0,l.y1)),n=Math.max(n,Math.max(l.y0,l.y1)),o=l.x0,a=l.x1;this.minX=t,this.maxX=i,this.minY=s,this.maxY=n}isValid(t){return!isNaN(t)&&isFinite(t)}};u(dr,"defaultTrackerStringFormatter",e=>`${e.title}
${e.xTitle}: ${e.xValue} ${e.x1Value}  
${e.yTitle}: ${e.yValue} ${e.y1Value}`);let ka=dr;function rs(e,t,i,s=NaN,n=NaN){return{x:e,high:t,low:i,open:s,close:n}}const gr=class xr extends It{constructor(t){super(t),u(this,"_items",[]),u(this,"defaultColor",p.Undefined),u(this,"trackerStringFormatter"),u(this,"color"),u(this,"dashes"),u(this,"dataFieldClose"),u(this,"dataFieldHigh"),u(this,"dataFieldLow"),u(this,"dataFieldOpen"),u(this,"dataFieldX"),u(this,"lineJoin",et.Miter),u(this,"lineStyle",k.Solid),u(this,"mapping"),u(this,"strokeThickness"),u(this,"tickLength"),this.color=p.Automatic,this.tickLength=4,this.strokeThickness=1,this.trackerStringFormatter=xr.DefaultTrackerStringFormatter,t&&Object.assign(this,ot(t))}get actualColor(){return this.color.getActualColor(this.defaultColor)}get items(){return this._items}getNearestPoint(t,i){if(!this.xAxis||!this.yAxis||i)return;let s=tt,n;const o=(a,l,h)=>{const m=this.transform(a),c=m.x-t.x,g=m.y-t.y,f=c*c+g*g;if(f<s){const y=this.formatHighLowItemTrackerString(l);n=new _t({series:this,dataPoint:a,position:m,item:l,index:h,text:y}),s=f}};for(let a=0;a<this.items.length;a++){const l=this.items[a];o(d(l.x,l.high),l,a),o(d(l.x,l.low),l,a),o(d(l.x,l.open),l,a),o(d(l.x,l.close),l,a)}if(s<tt)return n}formatHighLowItemTrackerString(t){return this.trackerStringFormatter&&this.trackerStringFormatter({item:t,title:this.title||"",xTitle:this.xAxis.title??It.defaultXAxisTitle,xValue:this.xAxis.getValue(t.x),high:this.yAxis.getValue(t.high),low:this.yAxis.getValue(t.low),open:this.yAxis.getValue(t.open),close:this.yAxis.getValue(t.close)})||""}isValidItem(t,i,s){return!isNaN(t.x)&&isFinite(t.x)&&!isNaN(t.high)&&isFinite(t.high)&&!isNaN(t.low)&&isFinite(t.low)}async render(t){if(this.items.length===0)return;this.verifyAxes();const i=Nt.getDashArray(this.lineStyle),s=this.getSelectableColor(this.actualColor),n=J.transform;for(const o of this.items)if(this.isValidItem(o,this.xAxis,this.yAxis)&&this.strokeThickness>0&&this.lineStyle!==k.None){const a=n(this,o.x,o.high),l=n(this,o.x,o.low);await t.drawLine([l,a],s,this.strokeThickness,this.edgeRenderingMode,i,this.lineJoin);const h=J.orientateVector(this,new pt(this.tickLength,0));if(!isNaN(o.open)){const m=n(this,o.x,o.open),c=Pe(m,h);await t.drawLine([m,c],s,this.strokeThickness,this.edgeRenderingMode,i,this.lineJoin)}if(!isNaN(o.close)){const m=n(this,o.x,o.close),c=St(m,h);await t.drawLine([m,c],s,this.strokeThickness,this.edgeRenderingMode,i,this.lineJoin)}}}async renderLegend(t,i){const s=(i.left+i.right)/2,n=i.top+(i.bottom-i.top)*.7,o=i.top+(i.bottom-i.top)*.3,a=Nt.getDashArray(this.lineStyle),l=this.getSelectableColor(this.actualColor);this.strokeThickness>0&&this.lineStyle!==k.None&&(await t.drawLine([A(s,i.top),A(s,i.bottom)],l,this.strokeThickness,this.edgeRenderingMode,a,et.Miter),await t.drawLine([A(s-this.tickLength,n),A(s,n)],l,this.strokeThickness,this.edgeRenderingMode,a,et.Miter),await t.drawLine([A(s+this.tickLength,o),A(s,o)],l,this.strokeThickness,this.edgeRenderingMode,a,et.Miter))}setDefaultValues(){this.color.isAutomatic()&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource){if(this._items.length=0,this.mapping){for(const t of this.itemsSource)this._items.push(this.mapping(t));return}for(const t of this.itemsSource){if(!t)continue;if("high"in t&&"low"in t&&"x"in t){this._items.push(t);continue}if(!this.dataFieldX||!this.dataFieldHigh||!this.dataFieldLow)throw new Error("HighLowSeries: dataFieldX, dataFieldHigh and dataFieldLow are required");const i=zt(t,this.dataFieldX,NaN),s=zt(t,this.dataFieldHigh,NaN),n=zt(t,this.dataFieldLow,NaN),o=zt(t,this.dataFieldOpen,NaN),a=zt(t,this.dataFieldClose,NaN);this._items.push({x:i,high:s,low:n,open:o,close:a})}}}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin2(this.items,t=>t.x,t=>t.x,t=>t.low,t=>t.high)}};u(gr,"DefaultTrackerStringFormatter",e=>`${e.title}
${e.xTitle}: ${e.xValue}
High: ${Gt(e.high,3)}
Low: ${Gt(e.low,3)}
Open: ${Gt(e.open,3)}
Close: ${Gt(e.close,3)}`);let Eo=gr;const fo=class{constructor(t=NaN,i,s){u(this,"x"),u(this,"buyVolume"),u(this,"sellVolume"),this.x=t||NaN,this.buyVolume=i,this.sellVolume=s}static findIndex(t,i,s){let n=0,o=0,a=t.length-1;for(;o<=a;){if(s<o)return n;if(s>a)return a;const l=t[s].x;if(l===i)return s;if(l>i){if(a=s-1,a<o)return n;if(a===o)return a}else o=s+1,n=s;if(o>=a)return n;const h=t[a].x,m=t[o].x,c=(a-o+1)/(h-m);s=o+Math.round((i-m)*c)}return n}isValid(){return!isNaN(this.x)&&!isNaN(this.buyVolume)&&!isNaN(this.sellVolume)}};u(fo,"Undefined",new fo(NaN,NaN,NaN));let wo=fo;var Ze=(e=>(e[e.None=0]="None",e[e.Combined=1]="Combined",e[e.Stacked=2]="Stacked",e[e.PositiveNegative=3]="PositiveNegative",e))(Ze||{});const fr=class wr extends It{constructor(t){super(t),u(this,"data",[]),u(this,"minDx",0),u(this,"winIndex",0),u(this,"volumeStyle"),u(this,"strokeThickness"),u(this,"strokeIntensity"),u(this,"positiveColor"),u(this,"negativeColor"),u(this,"interceptColor"),u(this,"interceptStrokeThickness"),u(this,"interceptLineStyle"),u(this,"positiveHollow"),u(this,"negativeHollow"),u(this,"barWidth"),u(this,"minimumVolume",0),u(this,"maximumVolume",0),u(this,"averageVolume",0),this.positiveColor=p.DarkGreen,this.negativeColor=p.Red,this.barWidth=0,this.strokeThickness=1,this.negativeHollow=!1,this.positiveHollow=!0,this.strokeIntensity=.8,this.volumeStyle=1,this.interceptColor=p.Gray,this.interceptLineStyle=k.Dash,this.interceptStrokeThickness=1,this.trackerStringFormatter=wr.DefaultTrackerStringFormatter,t&&Object.assign(this,ot(t))}get items(){return this.data}set items(t){this.data=t}append(t){if(this.data===null&&(this.data=[]),this.data.length>0&&this.data[this.data.length-1].x>t.x)throw new Error("cannot append bar out of order, must be sequential in X");this.data.push(t)}async render(t){if(this.data===null||this.data.length===0)return;const i=this.data,s=this.data.length;this.verifyAxes();const n=this.getClippingRect();this.barWidth>0?this.barWidth:this.minDx*.8;const o=this.getSelectableFillColor(this.positiveColor),a=this.getSelectableFillColor(this.negativeColor),l=this.positiveHollow?p.Transparent:o,h=this.negativeHollow?p.Transparent:a,m=xe.changeIntensity(this.positiveColor,this.strokeIntensity),c=xe.changeIntensity(this.negativeColor,this.strokeIntensity),g=this.getSelectableColor(m),f=this.getSelectableColor(c),y=this.xAxis.clipMinimum,M=this.xAxis.clipMaximum;this.winIndex=wo.findIndex(i,y,this.winIndex);const S=J.transform;for(let C=this.winIndex;C<s;C++){const v=i[C];if(v.x>M)break;if(!v.isValid())continue;const R=this.getBuyBarRect(v),T=this.getSellBarRect(v);switch(this.volumeStyle){case 1:{const P=v.buyVolume>v.sellVolume?l:h,B=v.buyVolume>v.sellVolume?g:f;await t.drawRectangle(R,P,B,this.strokeThickness,this.edgeRenderingMode)}break;case 3:await t.drawRectangle(R,o,g,this.strokeThickness,this.edgeRenderingMode),await t.drawRectangle(T,a,f,this.strokeThickness,this.edgeRenderingMode);break;case 2:{await t.drawRectangle(R,o,g,this.strokeThickness,this.edgeRenderingMode),await t.drawRectangle(T,a,f,this.strokeThickness,this.edgeRenderingMode);break}case 0:break;default:throw new Error("Invalid VolumeStyle")}}if(this.interceptStrokeThickness>0&&this.interceptLineStyle!==k.None){const C=this.inverseTransform(n.bottomLeft),v=this.inverseTransform(n.topRight),R=S(this,C.x,0),T=S(this,v.x,0);await t.drawLine([R,T],this.interceptColor,this.interceptStrokeThickness,this.edgeRenderingMode,Nt.getDashArray(this.interceptLineStyle),et.Miter)}}getBuyBarRect(t){const i=J.transform,s=(this.barWidth>0?this.barWidth:this.minDx*.8)*.5,n=i(this,t.x-s,0);switch(this.volumeStyle){case 1:{const o=i(this,t.x+s,Math.abs(t.buyVolume-t.sellVolume));return F.fromScreenPoints(n,o)}case 3:{const o=i(this,t.x+s,t.buyVolume);return F.fromScreenPoints(n,o)}case 2:{const o=i(this,t.x+s,t.buyVolume),a=i(this,t.x+s,t.sellVolume),l=i(this,t.x-s,t.buyVolume+t.sellVolume);return t.buyVolume>t.sellVolume?F.fromScreenPoints(a,l):F.fromScreenPoints(n,o)}}throw new Error("Invalid VolumeStyle")}getSellBarRect(t){const i=J.transform,s=(this.barWidth>0?this.barWidth:this.minDx*.8)*.5,n=i(this,t.x-s,0);switch(this.volumeStyle){case 1:{const o=i(this,t.x+s,Math.abs(t.buyVolume-t.sellVolume));return F.fromScreenPoints(n,o)}case 3:{const o=i(this,t.x+s,-t.sellVolume);return F.fromScreenPoints(n,o)}case 2:{const o=i(this,t.x+s,t.buyVolume),a=i(this,t.x+s,t.sellVolume),l=i(this,t.x-s,t.buyVolume+t.sellVolume);return t.buyVolume>t.sellVolume?F.fromScreenPoints(n,a):F.fromScreenPoints(o,l)}}throw new Error("Invalid VolumeStyle")}async renderLegend(t,i){const s=(i.left+i.right)/2,n=i.top+(i.bottom-i.top)*.7,o=i.top+(i.bottom-i.top)*.3,a=Nt.getDashArray(k.Solid),l=this.getSelectableFillColor(this.positiveColor),h=this.getSelectableColor(xe.changeIntensity(this.positiveColor,this.strokeIntensity)),m=i.width*.75;this.strokeThickness>0&&(await t.drawLine([A(s,i.top),A(s,i.bottom)],h,this.strokeThickness,this.edgeRenderingMode,a,et.Miter),await t.drawRectangle(new F(s-m*.5,o,m,n-o),l,h,this.strokeThickness,this.edgeRenderingMode))}getNearestPoint(t,i){if(!this.xAxis||!this.yAxis||i||!this.data||this.data.length===0)return;const s=this.data.length,n=this.inverseTransform(t),o=n.x;if(o>this.data[s-1].x+this.minDx||o<this.data[0].x-this.minDx)return;const a=wo.findIndex(this.data,o,this.winIndex),l=a+1<this.data.length?a+1:a,h=y=>{const M=y.x-n.x;return M*M},m=h(this.data[a])<=h(this.data[l])?a:l,c=this.data[m];let g=!1;if(this.getBuyBarRect(c).containsPoint(t)&&(g=!0),g||this.getSellBarRect(c).containsPoint(t)&&(g=!0),g)return;const f=this.formatDefaultTrackerString(c,d(c.x,0));return new _t({series:this,dataPoint:n,position:t,item:c,index:m,text:f})}updateData(){if(super.updateData(),this.winIndex=0,!this.data||this.data.length===0)return;const t=this.data,i=t.length;this.minDx=tt;for(let s=1;s<i;s++)if(this.minDx=Math.min(this.minDx,t[s].x-t[s-1].x),this.minDx<0)throw new Error("bars are out of order, must be sequential in x");i<=1&&(this.minDx=1)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX);let t=this.minimumVolume,i=this.maximumVolume;const s=this.averageVolume,n=(i-t)/4;switch(this.volumeStyle){case 3:t=-(s+n/2),i=+(s+n/2);break;case 2:i=s+n,t=0;break;default:i=s+n/2,t=0;break}t=Math.max(this.yAxis.filterMinValue,t),i=Math.min(this.yAxis.filterMaxValue,i),this.yAxis.include(t),this.yAxis.include(i)}updateMaxMin(){super.updateMaxMin();let t=tt,i=ut,s=0,n=ut,o=0,a=0;for(const l of this.items)l.isValid()&&(l.sellVolume>0&&o++,l.buyVolume>0&&o++,a+=l.buyVolume,a+=l.sellVolume,t=Math.min(t,l.x),i=Math.max(i,l.x),s=Math.min(s,-l.sellVolume),n=Math.max(n,+l.buyVolume));this.minX=Math.max(this.xAxis.filterMinValue,t),this.maxX=Math.min(this.xAxis.filterMaxValue,i),this.minimumVolume=s,this.maximumVolume=n,this.averageVolume=a/o}};u(fr,"DefaultTrackerStringFormatter",e=>{const t=e.item;return`Time: ${e.xValue}
Buy Volume: ${t.buyVolume}
Sell Volume: ${t.sellVolume}`});let Ah=fr;class kn extends Eo{constructor(t){super(),u(this,"minDx",0),u(this,"increasingColor"),u(this,"decreasingColor"),u(this,"candleWidth"),this.increasingColor=p.DarkGreen,this.decreasingColor=p.Red,this.candleWidth=0,t&&Object.assign(this,ot(t))}findByX(t,i=-1){return i<0&&(i=this.windowStartIndex),this.findWindowStartIndex(this.items,s=>s.x,t,i)}async render(t){const i=this.items.length,s=this.items;if(i===0||this.strokeThickness<=0||this.lineStyle===k.None)return;this.verifyAxes();const n=Nt.getDashArray(this.lineStyle),o=.5*(this.candleWidth>0?this.candleWidth:this.minDx*.8),a=this.getSelectableFillColor(this.increasingColor),l=this.getSelectableFillColor(this.decreasingColor),h=this.getSelectableColor(xe.changeIntensity(this.increasingColor,.7)),m=this.getSelectableColor(xe.changeIntensity(this.decreasingColor,.7)),c=this.xAxis.clipMinimum,g=this.xAxis.clipMaximum;this.windowStartIndex=this.updateWindowStartIndex(s,y=>y.x,c,this.windowStartIndex);const f=J.transform;for(let y=this.windowStartIndex;y<i;y++){const M=s[y];if(M.x>g)return;if(!this.isValidItem(M,this.xAxis,this.yAxis))continue;const S=M.close>M.open?a:l,C=M.close>M.open?h:m,v=f(this,M.x,M.high),R=f(this,M.x,M.low),T=f(this,M.x,Math.max(M.open,M.close)),P=f(this,M.x,Math.min(M.open,M.close));this.strokeThickness>0&&(await t.drawLine([v,T],C,this.strokeThickness,this.edgeRenderingMode,n,this.lineJoin),await t.drawLine([P,R],C,this.strokeThickness,this.edgeRenderingMode,n,this.lineJoin));const B=f(this,M.x-o,M.open),V=f(this,M.x+o,M.close),O=F.fromScreenPoints(B,V);await t.drawRectangle(O,S,C,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(t,i){const s=(i.left+i.right)/2,n=i.top+(i.bottom-i.top)*.7,o=i.top+(i.bottom-i.top)*.3,a=Nt.getDashArray(this.lineStyle),l=i.width*.75;this.strokeThickness>0&&this.lineStyle!==k.None&&await t.drawLine([A(s,i.top),A(s,i.bottom)],this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,a,et.Miter),await t.drawRectangle(new F(s-l*.5,o,l,n-o),this.getSelectableFillColor(this.increasingColor),this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode)}getNearestPoint(t,i){if(!this.xAxis||!this.yAxis||i||this.items.length===0)return;const s=this.items.length,n=this.inverseTransform(t),o=n.x;if(o>this.items[s-1].x+this.minDx||o<this.items[0].x-this.minDx)return;const a=this.findWindowStartIndex(this.items,y=>y.x,o,this.windowStartIndex),l=a+1<this.items.length?a+1:a,h=y=>{const M=y.x-n.x,S=y.open-n.y,C=y.high-n.y,v=y.low-n.y,R=y.close-n.y,T=M*M+S*S,P=M*M+C*C,B=M*M+v*v,V=M*M+R*R;return Math.min(T,Math.min(P,Math.min(B,V)))},m=h(this.items[a])<=h(this.items[l])?a:l,c=this.items[m],g=d(c.x,c.close),f=this.formatHighLowItemTrackerString(c);return new _t({series:this,dataPoint:g,position:this.transform(g),item:c,index:m,text:f})}updateData(){super.updateData();const t=this.items,i=t.length;this.minDx=tt;for(let s=1;s<i;s++)if(this.minDx=Math.min(this.minDx,t[s].x-t[s-1].x),this.minDx<0)throw new Error("bars are out of order, must be sequential in x");i<=1&&(this.minDx=1)}}class Q extends G{constructor(t){if(super(t),t.title&&(this.title=t.title),t.f){t.dx?this.f1(t.f,t.x0,t.x1,t.dx):t.n&&this.f2(t.f,t.x0,t.x1,t.n);return}t.fx&&t.fy&&(t.dt?this.f3(t.fx,t.fy,t.t0,t.t1,t.dt):t.n&&this.f4(t.fx,t.fy,t.t0,t.t1,t.n))}static fromDx(t,i,s,n,o){return new Q({f:t,x0:i,x1:s,dx:n,title:o})}static fromN(t,i,s,n,o){return Jn(n,"n"),new Q({f:t,x0:i,x1:s,n,title:o})}static fromFxFyDt(t,i,s,n,o,a){return new Q({fx:t,fy:i,t0:s,t1:n,dt:o,title:a})}static fromFxFyN(t,i,s,n,o,a){return Jn(o,"n"),new Q({fx:t,fy:i,t0:s,t1:n,n:o,title:a})}f1(t,i,s,n){for(let o=i;o<=s+n*.5;o+=n)this.points.push(d(o,t(o)))}f2(t,i,s,n){this.f1(t,i,s,(s-i)/(n-1))}f3(t,i,s,n,o){for(let a=s;a<=n+o*.5;a+=o)this.points.push(d(t(a),i(a)))}f4(t,i,s,n,o){this.f3(t,i,s,n,(n-s)/(o-1))}}class Ce{constructor(t,i,s,n,o=p.Automatic){u(this,"rangeStart"),u(this,"rangeEnd"),u(this,"area"),u(this,"count"),u(this,"color"),this.rangeStart=t,this.rangeEnd=i,this.area=s,this.count=n,this.color=o}get rangeCenter(){return this.rangeStart+(this.rangeEnd-this.rangeStart)/2}get width(){return this.rangeEnd-this.rangeStart}get height(){return this.area/this.width}get value(){return this.height}contains(t){return this.height<0?t.x<=this.rangeEnd&&t.x>=this.rangeStart&&t.y>=this.height&&t.y<=0||t.x<=this.rangeStart&&t.x>=this.rangeEnd&&t.y>=this.height&&t.y<=0:t.x<=this.rangeEnd&&t.x>=this.rangeStart&&t.y<=this.height&&t.y>=0||t.x<=this.rangeStart&&t.x>=this.rangeEnd&&t.y<=this.height&&t.y>=0}toString(){return`${this.rangeStart} ${this.rangeEnd} ${this.area} ${this.count}`}}const yr=class br extends It{constructor(t){super(t),u(this,"defaultFillColor",p.Undefined),u(this,"_actualItems"),u(this,"baseValue"),u(this,"baseLine"),u(this,"actualBaseLine"),u(this,"fillColor"),u(this,"strokeColor"),u(this,"negativeFillColor"),u(this,"negativeStrokeColor"),u(this,"strokeThickness"),u(this,"minValue",0),u(this,"maxValue",0),u(this,"labelStringFormatter"),u(this,"trackerStringFormatter"),u(this,"labelMargin",0),u(this,"labelPlacement"),u(this,"colorMapping"),u(this,"mapping"),u(this,"items",[]),this.fillColor=p.Automatic,this.strokeColor=p.Black,this.strokeThickness=0,this.trackerStringFormatter=br.defaultTrackerStringFormatter,this.labelPlacement=lt.Outside,this.colorMapping=this.getDefaultColor,this.negativeFillColor=p.Undefined,this.negativeStrokeColor=p.Undefined,this.baseValue=0,this.baseLine=NaN,this.actualBaseLine=NaN,t&&Object.assign(this,ot(t))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(t){this.verifyAxes(),await this.renderBins(t,this.actualItems)}getNearestPoint(t,i){const s=this.inverseTransform(t);if(this.isPointInRange(s)&&this.actualItems)for(let n=0;n<this.actualItems.length;n++){const o=this.actualItems[n];if(o.contains(s)){const a=this.getItem(n);return new _t({series:this,dataPoint:s,position:t,item:a,index:n,text:this.formatDefaultTrackerString(o,s)})}}}async renderLegend(t,i){const s=(i.left+i.right)/2,n=(i.top+i.bottom)/2,o=(i.bottom-i.top)*.8,a=o,l=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness);await t.drawRectangle(new F(s-.5*a,n-.5*o,a,o),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,l)}updateData(){this.itemsSource&&this.updateActualItems()}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.yAxis.isLogarithmic()){const t=this.actualItems?Pt(this.actualItems.map(i=>i.value).filter(i=>i>0),1):1;this.actualBaseLine=Math.max(t/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const t=this.actualItems.map(n=>n.rangeStart),i=this.actualItems.map(n=>n.rangeEnd),s=this.actualItems.map(n=>n.height);this.minX=Math.min(Pt(t),Pt(i)),this.maxX=Math.max(Wt(t),Wt(i)),this.yAxis.isLogarithmic()?(this.minY=Math.max(Pt(s),Number.EPSILON),this.maxY=Wt(s,Number.EPSILON)):(this.minY=Pt(s,0),this.maxY=Wt(s,0))}}updateMaxMin(){super.updateMaxMin();const t=[];if(li(t,this.actualItems.map(i=>d(i.rangeStart,0))),li(t,this.actualItems.map(i=>d(i.rangeEnd,i.height))),this.internalUpdateMaxMin(t),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const i=this.actualItems.map(s=>s.value);this.minValue=Pt(i),this.maxValue=Wt(i)}}getItem(t){const i=this.actualItems;return!this.itemsSource&&i&&t<i.length?i[t]:super.getItem(t)}async renderBins(t,i){const s=this.yAxis,n=s.isLogarithmic()&&!s.isValidValue(this.baseValue);for(const o of i){if(s.isLogarithmic()&&!s.isValidValue(o.height))continue;const a=this.getItemFillColor(o),l=this.getItemStrokeColor(o),h=this.transform(d(o.rangeStart,n?s.clipMinimum:this.baseValue)),m=this.transform(d(o.rangeEnd,o.height)),c=F.fromScreenPoints(h,m),g=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness);await t.drawRectangle(c,a,l,this.strokeThickness,g),this.labelStringFormatter&&await this.renderLabel(t,c,o)}}getItemFillColor(t){return t.color.isAutomatic()?this.colorMapping(t):t.color}getItemStrokeColor(t){return this.negativeStrokeColor.isUndefined()||t.height>=this.baseValue?this.strokeColor:this.negativeStrokeColor}async renderLabel(t,i,s){const n=this.labelStringFormatter(s,[s.value,s.rangeStart,s.rangeEnd,s.area,s.count]);let o,a,l=I.Center;const h=(s.rangeStart+s.rangeEnd)/2,m=Math.sign(s.value);let c=m*this.labelMargin;switch(this.labelPlacement){case lt.Inside:o=d(h,s.value),a=-m;break;case lt.Middle:{const M=this.inverseTransform(i.topLeft),S=this.inverseTransform(i.bottomRight);o=d(h,(M.y+S.y)/2),a=D.Middle;break}case lt.Base:o=d(h,0),c=-c,a=m;break;case lt.Outside:o=d(h,s.value),c=-c,a=m;break;default:throw new Error("Invalid label placement")}const g=J.orientateAlignment(this,l,a);l=g[0],a=g[1];const f=J.orientateVector(this,new pt(0,c)),y=St(this.transform(o),f);await t.drawText(y,n,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,l,a)}isPointInRange(t){return this.updateMaxMinXY(),t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}getDefaultColor(t){return this.negativeFillColor.isUndefined()||t.value>=this.baseValue?this.actualFillColor:this.negativeFillColor}updateActualItems(){if(this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when using the Mapping property");this.clearActualItems(),this._actualItems=this._actualItems||[];for(const t of this.itemsSource)this._actualItems.push(this.mapping(t));return}this.clearActualItems(),this._actualItems=this._actualItems||[];for(const t of this.itemsSource||[])if(t)throw t instanceof Ce&&this._actualItems.push(t),new Error("invalid item type")}};u(yr,"defaultTrackerStringFormatter",e=>`Start: ${e.item.rangeStart}
End: ${e.item.rangeEnd}
Value: ${e.item.value}
Area: ${e.item.area}
Count: ${e.item.count}`);let Ye=yr;function Rh(e){return e&&typeof e.getScatterPoint=="function"}const Mr=class Sr extends It{constructor(t){super(t),u(this,"_points",[]),u(this,"defaultMarkerFillColor",p.Undefined),u(this,"markerFill",p.Automatic),u(this,"markerOutline"),u(this,"markerSize",5),u(this,"markerType",N.Square),u(this,"markerStroke",p.Automatic),u(this,"markerStrokeThickness",1),u(this,"labelStringFormatter"),u(this,"labelMargin",6),u(this,"binSize",0),u(this,"colorAxisKey"),u(this,"dataFieldX"),u(this,"dataFieldY"),u(this,"dataFieldSize"),u(this,"dataFieldTag"),u(this,"dataFieldValue"),u(this,"mapping"),u(this,"colorAxis"),u(this,"itemsSourcePoints"),u(this,"maxValue",0),u(this,"minValue",0),this.markerFill=p.Automatic,this.markerSize=5,this.markerType=N.Square,this.markerStroke=p.Automatic,this.markerStrokeThickness=1,this.labelMargin=6,t&&Object.assign(this,ot(t))}get actualMarkerFillColor(){return this.markerFill.getActualColor(this.defaultMarkerFillColor)}get points(){return this._points}get actualPoints(){return this.itemsSource?this.itemsSourcePoints:this.points}getNearestPoint(t,i){if(!this.xAxis||!this.yAxis||i)return;const s=this.actualPoints;if(!s||s.length===0)return;let n,o=tt,a=0;const l=this.colorAxis?this.colorAxis.title:Sr.defaultColorAxisTitle,h=this.xAxis.clipMinimum,m=this.xAxis.clipMaximum,c=this.yAxis.clipMinimum,g=this.yAxis.clipMaximum;for(const f of s){if(f.x<h||f.x>m||f.y<c||f.y>g){a++;continue}const y=this.transform(d(f.x,f.y)),M=y.x-t.x,S=y.y-t.y,C=M*M+S*S;if(C<o){const v=this.getItem(a)??f;let R;!vt(f.value)&&!isNaN(f.value)&&!qe(f.value)&&(R=f.value);const T=d(f.x,f.y);n=new _t({series:this,dataPoint:T,position:y,item:v,index:a,text:this.formatDefaultTrackerString(v,T,P=>{P.colorAxisTitle=l,P.zValue=R})}),o=C}a++}return n}async render(t){const i=this.actualPoints;if(!i||i.length===0)return;const s=this.getClippingRect(),n=i.length,o=[],a=[],l=[],h=[],m=new Map,c=new Map,g=this.isSelected();for(let y=0;y<n;y++){const M=d(i[y].x,i[y].y);if(!this.isValidPoint(M))continue;let S=NaN,C=NaN;const v=i[y];v&&(vt(v.size)||(S=v.size),vt(v.value)||(C=v.value)),isNaN(S)&&(S=this.markerSize);const R=this.transform(d(M.x,M.y));if(g&&this.isItemSelected(y)){l.push(R),h.push(S);continue}if(this.colorAxis){if(isNaN(C))continue;const T=this.colorAxis.getPaletteIndex(C);m.has(T)||(m.set(T,[]),c.set(T,[])),m.get(T).push(R),c.get(T).push(S)}else o.push(R),a.push(S)}const f=this.transform(d(this.minX,this.maxY));if(this.colorAxis){const y=this.markerType===N.Plus||this.markerType===N.Star||this.markerType===N.Cross;for(const[M,S]of m){const C=this.colorAxis.getColor(M);await _.drawMarkers(t,S,this.markerType,this.markerOutline,c.get(M),this.markerFill.getActualColor(C),y?C:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,f)}}await _.drawMarkers(t,o,this.markerType,this.markerOutline,a,this.actualMarkerFillColor,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,f),await _.drawMarkers(t,l,this.markerType,this.markerOutline,h,this.plotModel.selectionColor,this.plotModel.selectionColor,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,f),this.labelStringFormatter&&await this.renderPointLabels(t,s)}async renderLegend(t,i){const s=(i.left+i.right)/2,n=(i.top+i.bottom)/2,o=A(s,n);await _.drawMarker(t,o,this.markerType,this.markerOutline,this.markerSize,this.isSelected()?this.plotModel.selectionColor:this.actualMarkerFillColor,this.isSelected()?this.plotModel.selectionColor:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){this.markerFill.isAutomatic()&&(this.defaultMarkerFillColor=this.plotModel.getDefaultColor())}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMinValue(this.actualPoints)}async renderPointLabels(t,i){const s=this.actualPoints;if(!s||s.length===0)return;let n=-1;for(const o of s){n++;const a=d(o.x,o.y);if(!this.isValidPoint(a))continue;const l=St(this.transform(a),new pt(0,-this.labelMargin));if(!i.containsPoint(l))continue;const h=this.getItem(n),m=this.labelStringFormatter(h,[o.x,o.y]);await t.drawText(l,m,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,I.Center,D.Bottom)}}internalUpdateMaxMinValue(t){if(!t||t.length===0)return;let i=tt,s=tt,n=tt,o=ut,a=ut,l=ut;isNaN(i)&&(i=tt),isNaN(s)&&(s=tt),isNaN(o)&&(o=ut),isNaN(a)&&(a=ut),isNaN(n)&&(n=ut),isNaN(l)&&(l=ut);for(const h of t){const m=h.x,c=h.y;if(m!==m||c!==c)continue;const g=vt(h.value)?Number.NaN:h.value;m<i&&(i=m),m>o&&(o=m),c<s&&(s=c),c>a&&(a=c),g<n&&(n=g),g>l&&(l=g)}i<tt&&(this.minX=i),s<tt&&(this.minY=s),o>ut&&(this.maxX=o),a>ut&&(this.maxY=a),n<tt&&(this.minValue=n),l>ut&&(this.maxValue=l),this.colorAxis instanceof Bo&&(this.colorAxis.include(this.minValue),this.colorAxis.include(this.maxValue))}clearItemsSourcePoints(){this.itemsSourcePoints&&(this.itemsSourcePoints.length=0)}updateItemsSourcePoints(){var t,i,s;if(this.clearItemsSourcePoints(),this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when mapping is set");this.itemsSourcePoints=this.itemsSourcePoints||[];for(const n of this.itemsSource)this.itemsSourcePoints.push(this.mapping(n));return}this.itemsSourcePoints=this.itemsSourcePoints||[];for(const n of this.itemsSource||[])if(!vt(n)){if(!di(n.x)&&!di(n.y)){(t=this.itemsSourcePoints)==null||t.push(n);continue}if(this.dataFieldX&&this.dataFieldY){const o=this.updateFromDataFields(n);if(!o)continue;(i=this.itemsSourcePoints)==null||i.push(o);continue}if(Rh(n)){const o=n.getScatterPoint();if(!o)continue;(s=this.itemsSourcePoints)==null||s.push(o);continue}throw new Error("Invalid item type")}}updateFromDataFields(t){const i=zt(t,this.dataFieldX,Number.NaN),s=zt(t,this.dataFieldY,Number.NaN);return{x:i,y:s,size:zt(t,this.dataFieldSize,Number.NaN),value:zt(t,this.dataFieldValue,Number.NaN),tag:zt(t,this.dataFieldTag,void 0)}}};u(Mr,"defaultColorAxisTitle","Value");let Ft=Mr;const yo=class bo extends It{constructor(t){super(t),u(this,"_actualItems"),u(this,"defaultColor",p.Undefined),u(this,"defaultLineStyle",k.Solid),u(this,"color"),u(this,"minValue",0),u(this,"maxValue",0),u(this,"arrowHeadLength"),u(this,"arrowHeadWidth"),u(this,"arrowHeadPosition"),u(this,"lineJoin"),u(this,"lineStyle"),u(this,"strokeThickness"),u(this,"minimumSegmentLength"),u(this,"arrowVeeness"),u(this,"arrowStartPosition"),u(this,"arrowLabelPosition"),u(this,"colorAxis"),u(this,"colorAxisKey"),u(this,"labelStringFormatter"),u(this,"trackerStringFormatter"),u(this,"labelFontSize"),u(this,"canTrackerInterpolatePoints",!1),u(this,"mapping"),u(this,"items",[]),this.color=p.Automatic,this.minimumSegmentLength=2,this.strokeThickness=2,this.lineStyle=k.Solid,this.lineJoin=et.Miter,this.arrowHeadLength=3,this.arrowHeadWidth=2,this.arrowHeadPosition=1,this.arrowVeeness=0,this.arrowStartPosition=0,this.arrowLabelPosition=0,this.trackerStringFormatter=bo.DefaultTrackerStringFormatter,this.labelStringFormatter=i=>i.value.toFixed(2),this.labelFontSize=0,t&&Object.assign(this,t)}get actualLineStyle(){return this.lineStyle!=k.Automatic?this.lineStyle:this.defaultLineStyle}get ActualItems(){return this.itemsSource?this._actualItems:this.items}async render(t){const i=this.ActualItems;this.verifyAxes(),await this.renderVectors(t,i)}updateData(){this.itemsSource&&this.updateActualItems()}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}updateActualItems(){if(!this.itemsSource)return;this.clearActualItems(),this._actualItems=this._actualItems||[];let t=this.itemsSource;this.mapping&&(t=this.itemsSource.map(i=>this.mapping(i))),this._actualItems.push(...t)}async renderVectors(t,i){let s=0;for(const n of i){let o;this.colorAxis&&(this.color.isUndefined()||this.color.isAutomatic())?o=Si.getColor(this.colorAxis,n.value):o=this.color.getActualColor(this.defaultColor),o=this.getSelectableColor(o,s);const a=n.direction,l=wa(n.origin,a.times(this.arrowStartPosition)),h=sn(l,a.times(this.arrowLabelPosition));await this.drawVector(t,l,a,o),this.labelFontSize>0&&this.labelStringFormatter&&await t.drawText(this.transform(h),this.labelStringFormatter(n),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,I.Center,D.Middle),s++}}async drawVector(t,i,s,n){const o=[i,sn(i,s)],a=[];_.transformAndInterpolateLines(this,o,a,this.minimumSegmentLength),a.length>=2&&await this.drawArrow(t,a,$t(a[a.length-1],a[a.length-2]),n)}async drawArrow(t,i,s,n){const o=s;o.normalize();const a=new pt(o.y,-o.x),l=this.arrowHeadLength*this.strokeThickness,h=this.arrowHeadWidth*this.strokeThickness,m=Pe(i[i.length-1],o.times(l*this.arrowHeadPosition)),c=o.times(this.arrowVeeness*this.strokeThickness),g=St(m,o.times(l)),f=Pe(St(m,a.times(h)),c),y=Pe(Pe(m,a.times(h)),c),M=this.actualLineStyle,S=Nt.getDashArray(M);if(this.arrowHeadPosition>0&&this.arrowHeadPosition<=1){const C=l*this.arrowHeadPosition*l*this.arrowHeadPosition;for(let v=i.length-1;v>=0;v--)pi(i[v],g)<=C&&i.splice(v,1);i.length>0&&i.push(m)}this.strokeThickness>0&&M!==k.None&&(await t.drawLine(i,n,this.strokeThickness,this.edgeRenderingMode,S,this.lineJoin),await t.drawPolygon([y,g,f,m],n,p.Undefined,0,this.edgeRenderingMode))}getNearestPoint(t,i){const s=this.colorAxis,n=(s==null?void 0:s.title)??bo.DefaultColorAxisTitle;if(!(this.ActualItems&&this.ActualItems.length>0))return;const o=Th(this.ActualItems,h=>pi(this.transform(h.origin),t)),a=o.origin,l=this.formatDefaultTrackerString(o,a,h=>{const m=h;m.colorAxisTitle=n,m.itemDirection=o.direction});return new _t({series:this,dataPoint:a,position:this.transform(a),item:void 0,index:-1,text:l})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){this.color.isAutomatic()&&this.colorAxis===void 0&&(this.defaultLineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateMaxMinXY(){const t=this.ActualItems;t&&t.length>0&&(this.minX=Math.min(...t.map(i=>i.origin.x-i.direction.x*this.arrowStartPosition),...t.map(i=>i.origin.x-i.direction.x*(this.arrowStartPosition-1))),this.maxX=Math.max(...t.map(i=>i.origin.x-i.direction.x*this.arrowStartPosition),...t.map(i=>i.origin.x-i.direction.x*(this.arrowStartPosition-1))),this.minY=Math.min(...t.map(i=>i.origin.y-i.direction.y*this.arrowStartPosition),...t.map(i=>i.origin.y-i.direction.y*(this.arrowStartPosition-1))),this.maxY=Math.max(...t.map(i=>i.origin.y-i.direction.y*this.arrowStartPosition),...t.map(i=>i.origin.y-i.direction.y*(this.arrowStartPosition-1))))}updateMaxMin(){super.updateMaxMin();const t=this.ActualItems,i=[];if(i.push(...t.map(s=>wa(s.origin,s.direction.times(this.arrowStartPosition)))),i.push(...t.map(s=>sn(s.origin,s.direction.times(1-this.arrowStartPosition)))),this.internalUpdateMaxMin(i),this.updateMaxMinXY(),t&&t.length>0){const s=t.map(n=>n.value);this.minValue=Pt(s),this.maxValue=Wt(s)}}updateAxisMaxMin(){if(super.updateAxisMaxMin(),!this.colorAxis)return;const t=this.colorAxis;t.include(this.minValue),t.include(this.maxValue)}};u(yo,"DefaultTrackerStringFormatter",e=>`${e.title}
${e.xTitle}: ${e.xValue}
${e.yTitle}: ${e.yValue}
${e.colorAxisTitle}: ${e.item.value}
Δ${e.xTitle}: ${e.itemDirection.x}
Δ${e.yTitle}: ${e.itemDirection.y}`),u(yo,"DefaultColorAxisTitle","Value");let _o=yo;const Th=(e,t)=>{if(!e)throw new Error("Sequence must be defined.");if(!t)throw new Error("Projection must be defined.");let i,s,n=!0;for(const o of e){const a=t(o);(n||a<s)&&(i=o,s=a,n=!1)}if(n)throw new Error("Sequence must be non-empty.");return i};class we{constructor(t,i){if(u(this,"_minimum"),u(this,"_maximum"),u(this,"_isDefined"),isNaN(t)||isNaN(i))throw new Error("NaN values are not permitted");if(i<t)throw new Error("max must be larger or equal min");this._minimum=t,this._maximum=i,this._isDefined=!0}get minimum(){return this._minimum}get maximum(){return this._maximum}get range(){return this.maximum-this.minimum}isDefined(){return this._isDefined}contains(t){return t>=this.minimum&&t<=this.maximum}intersectsWith(t){return this.isDefined()&&t.isDefined()&&(this.contains(t.minimum)||this.contains(t.maximum)||t.contains(this.minimum)||t.contains(this.maximum))}toString(){return`[${this.minimum}, ${this.maximum}]`}}const Oo=new we(0,0);Oo._isDefined=!1;Object.freeze(Oo);class us extends G{constructor(t){super(t),u(this,"defaultExtrapolationColor",p.Black),u(this,"defaultExtrapolationLineStyle",k.Dash),u(this,"orderedIntervals",[]),u(this,"extrapolationColor"),u(this,"extrapolationDashes"),u(this,"extrapolationLineStyle",k.Solid),u(this,"ignoreExtraplotationForScaling",!1),u(this,"intervals",[]),this.extrapolationColor=p.Black,this.lineStyle=k.Dot,t&&Object.assign(this,t)}get actualExtrapolationColor(){return this.extrapolationColor.getActualColor(this.defaultExtrapolationColor)}get actualExtrapolationLineStyle(){return this.extrapolationLineStyle!==k.Automatic?this.extrapolationLineStyle:this.defaultExtrapolationLineStyle}get actualExtrapolationDashArray(){return this.extrapolationDashes||Nt.getDashArray(this.actualExtrapolationLineStyle)}async renderLegend(t,i){const s=(i.left+i.right)/2,n=(i.top+i.bottom)/2;let o=[A(i.left,n),A(s,n)];await t.drawLine(o,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray),o=[A(s,n),A(i.right,n)],await t.drawLine(o,this.getSelectableColor(this.actualExtrapolationColor),this.strokeThickness,this.edgeRenderingMode,this.actualExtrapolationDashArray);const a=A(s,n);await _.drawMarker(t,a,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}updateData(){super.updateData(),this.orderedIntervals=this.mergeOverlaps(this.intervals)}updateMaxMin(){this.ignoreExtraplotationForScaling&&this.orderedIntervals.length>0?(this.minX=this.points.filter(t=>!this.inAnyInterval(t.x)).map(t=>t.x).filter(t=>!isNaN(t)).reduce((t,i)=>Math.min(t,i),Number.NaN),this.minY=this.points.filter(t=>!this.inAnyInterval(t.x)).map(t=>t.y).filter(t=>!isNaN(t)).reduce((t,i)=>Math.min(t,i),Number.NaN),this.maxX=this.points.filter(t=>!this.inAnyInterval(t.x)).map(t=>t.x).filter(t=>!isNaN(t)).reduce((t,i)=>Math.max(t,i),Number.NaN),this.maxY=this.points.filter(t=>!this.inAnyInterval(t.x)).map(t=>t.y).filter(t=>!isNaN(t)).reduce((t,i)=>Math.max(t,i),Number.NaN)):super.updateMaxMin()}async renderLine(t,i){if(this.strokeThickness<=0||this.actualLineStyle===k.None)return;const s=this.getClippingRect(),n=this.inverseTransform(s.bottomLeft),o=this.inverseTransform(s.topRight),a=Math.min(n.x,o.x),l=Math.max(n.x,o.x),h=Math.min(n.y,o.y),m=Math.max(n.y,o.y),c=this.createClippingRectangles(s,a,l,h,m);for(const g of c){const f=this.inverseTransform(g.center).x,y=this.orderedIntervals&&this.orderedIntervals.some(S=>S.contains(f)),M=_.autoResetClip(t,g);await this.renderLinePart(t,i,y),M.dispose()}}createClippingRectangles(t,i,s,n,o){const a=[];let l=i;const h=J.transform;if(this.orderedIntervals&&this.orderedIntervals.length>0){const m=this.flatten(this.orderedIntervals).filter(c=>c>=i&&c<=s);for(const c of m){const g=F.fromScreenPoints(h(this,l,n),h(this,c,o));a.push(g.clip(t)),l=c}}return a.push(F.fromScreenPoints(h(this,l,n),h(this,s,o)).clip(t)),a}flatten(t){const i=[];for(const s of t)i.push(s.minimum),i.push(s.maximum);return i}async renderLinePart(t,i,s){const n=s?this.extrapolationColor:this.color,o=s?this.actualExtrapolationDashArray:this.actualDashArray;await _.drawReducedLine(t,i,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(n),this.strokeThickness,this.edgeRenderingMode,o,this.lineJoin)}mergeOverlaps(t){const i=[];if(t){const s=t.sort((n,o)=>n.minimum-o.minimum);for(const n of s){const o=i[i.length-1]||Oo;n.intersectsWith(o)?i[i.length-1]=new we(o.minimum,Math.max(o.maximum,n.maximum)):i.push(n)}}return i}inAnyInterval(t){let i=0,s=this.orderedIntervals.length-1;for(;i<=s;){const n=Math.floor((i+s)/2),o=this.compare(this.orderedIntervals[n],t);if(o===0)return!0;o<0?s=n-1:i=n+1}return!1}compare(t,i){return i<t.minimum?-1:i>t.maximum?1:0}}const kr=class Mo extends It{constructor(t){super(t),u(this,"contours"),u(this,"segments",[]),u(this,"defaultColor",p.Undefined),u(this,"color"),u(this,"columnCoordinates",[]),u(this,"contourLevelStep"),u(this,"contourLevels"),u(this,"contourColors",[]),u(this,"data"),u(this,"labelBackground"),u(this,"labelStringFormatter"),u(this,"trackerStringFormatter"),u(this,"labelSpacing"),u(this,"multiLabel"),u(this,"labelStep"),u(this,"lineStyle"),u(this,"rowCoordinates",[]),u(this,"strokeThickness"),u(this,"minimumSegmentLength"),this.contourLevelStep=NaN,this.labelStep=1,this.multiLabel=!1,this.labelSpacing=150,this.labelBackground=r.fromAColor(220,p.White),this.color=p.Automatic,this.strokeThickness=1,this.lineStyle=k.Solid,this.minimumSegmentLength=2,this.trackerStringFormatter=Mo.DefaultTrackerFormatString,t&&Object.assign(this,ot(t))}get actualColor(){return this.color.getActualColor(this.defaultColor)}calculateContours(){if(!this.data)return;let t=this.contourLevels;this.segments=[];const i=(s,n,o,a,l)=>{this.segments.push({startPoint:d(s,n),endPoint:d(o,a),contourLevel:l})};if(!t){let s=this.data[0][0],n=this.data[0][0];for(let a=0;a<this.data.length;a++)for(let l=0;l<this.data[a].length;l++)s=Math.max(s,this.data[a][l]),n=Math.min(n,this.data[a][l]);let o=this.contourLevelStep;if(isNaN(o)){const a=(s-n)/20,l=Math.round(Math.log(Math.abs(a))/Math.LN10);o=Math.pow(10,Math.floor(l)),this.contourLevelStep=o}s=Math.round(o*Math.ceil(s/o)*1e14)/1e14,n=Math.round(o*Math.floor(n/o)*1e14)/1e14,t=qt.createVectorWithStep(n,s,o)}if(_h.contour(this.data,this.columnCoordinates,this.rowCoordinates,t,i),this.joinContourSegments(),this.contourColors&&this.contourColors.length>0)for(const s of this.contours){let n=Mo.indexOf(t,s.contourLevel);n>=0&&(n=n%this.contourColors.length,s.color=this.contourColors[n])}}getNearestPoint(t,i){let s;const n="Z";for(const o of this.contours){const a=i?this.getNearestInterpolatedPointInternal(o.points,0,t):this.getNearestPointInternal(o.points,0,t);a&&(!s||pi(s.position,t)>pi(a.position,t))&&(s=a,s.text=this.formatDefaultTrackerString(o,a.dataPoint,l=>{const h=l;h.zTitle=n,h.contourLevel=o.contourLevel}))}return s}async render(t){if(this.contours||this.calculateContours(),this.contours.length===0)return;this.verifyAxes();const i=[],s=Nt.getDashArray(this.lineStyle);for(const n of this.contours){if(this.strokeThickness<=0||this.lineStyle===k.None)continue;const o=n.points.map(M=>this.transform(M)),a=n.color.getActualColor(this.actualColor);await _.drawReducedLine(t,o,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(a),this.strokeThickness,this.edgeRenderingMode,s,et.Miter);let l=0;for(let M=1;M<o.length;M++)l+=$t(o[M],o[M-1]).length;if(o.length<=10||Math.round(n.contourLevel/this.contourLevelStep)%this.labelStep!==0)continue;if(!this.multiLabel){this.addContourLabels(n,o,i,(o.length-1)*.5);continue}const h=Math.floor(l/this.labelSpacing);if(h===0){this.addContourLabels(n,o,i,(o.length-1)*.5);continue}let m=0,c=0,g=1,f=0;const y=(l-(h-1)*this.labelSpacing)/2;for(let M=0;M<h;M++){let S=0;g===1?f=y:f=y+M*this.labelSpacing;for(let C=g;C<o.length;C++){if(m+=$t(o[C],o[C-1]).length,m>f){S=C-1+(f-c)/(m-c),g=C+1;break}c=m}this.addContourLabels(n,o,i,S)}}for(const n of i)await this.renderLabelBackground(t,n);for(const n of i)await this.renderLabel(t,n)}setDefaultValues(){this.color.isAutomatic()&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateMaxMin(){this.minX=Math.min(...this.columnCoordinates),this.maxX=Math.max(...this.columnCoordinates),this.minY=Math.min(...this.rowCoordinates),this.maxY=Math.max(...this.rowCoordinates)}static indexOf(t,i){let s=tt,n=-1;for(let o=0;o<t.length;o++){const a=Math.abs(t[o]-i);a<s&&(s=a,n=o)}return n}addContourLabels(t,i,s,n){if(i.length<2)return;const o=Math.floor(n),a=o+1,l=i[a].x-i[o].x,h=i[a].y-i[o].y,m=i[o].x+l*(n-o),c=i[o].y+h*(n-o),g=A(m,c);let f=Math.atan2(h,l)*180/Math.PI;f>90&&(f-=180),f<-90&&(f+=180);const y=this.labelStringFormatter?this.labelStringFormatter(t.contourLevel,[]):t.contourLevel.toString();s.push({position:g,angle:f,text:y})}joinContourSegments(t=1e-10){this.contours=new Array;const i=n=>{const o=new Aa(n.startPoint),a=new Aa(n.endPoint);return o.partner=a,a.partner=o,[o,a]},s=zl(this.segments,"contourLevel");for(const n of s){const o=n[0],a=n[1].flatMap(l=>i(l)).sort((l,h)=>l.point.x-h.point.x);for(let l=0;l<a.length-1;l++){const h=a[l];if(h.join)continue;const m=Math.sqrt(Math.pow(h.point.x,2)+Math.pow(h.point.y,2))*t,c=h.point.x+m;let g=l+1,f;for(;;){if(g>=a.length){f=void 0;break}if(f=a[g],g++,!f.join){if(f.point.x>c){f=void 0;break}if(Math.sqrt(Math.pow(f.point.x-h.point.x,2)+Math.pow(f.point.y-h.point.y,2))<m)break}}f&&(h.join=f,f.join=h)}for(const l of a){if(l.processed)continue;let h=l;for(;h.join&&(h=h.join.partner,h!==l););const m=new Array(h.point,h.partner.point);for(h.processed=!0,h=h.partner,h.processed=!0;h.join&&(h=h.join,!h.processed);)h.processed=!0,h=h.partner,h.processed=!0,m.push(h.point);const c=new Ch(m,o);this.contours.push(c)}}}async renderLabel(t,i){this.actualFontSize>0&&await t.drawText(i.position,i.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,i.angle,I.Center,D.Middle)}async renderLabelBackground(t,i){if(this.labelBackground.isInvisible())return;const s=t.measureText(i.text,this.actualFont,this.actualFontSize,this.actualFontWeight),n=i.angle/180*Math.PI,o=Math.cos(n),a=Math.sin(n),l=o*.6,h=a*.6,m=-a*.5,c=o*.5,g=i.position.x,f=i.position.y,y=[A(g-s.width*l-s.height*m,f-s.width*h-s.height*c),A(g+s.width*l-s.height*m,f+s.width*h-s.height*c),A(g+s.width*l+s.height*m,f+s.width*h+s.height*c),A(g-s.width*l+s.height*m,f-s.width*h+s.height*c)];await t.drawPolygon(y,this.labelBackground,p.Undefined,0,this.edgeRenderingMode)}};u(kr,"DefaultTrackerFormatString",e=>`${e.title}
${e.xTitle}: ${e.xValue}
${e.yTitle}: ${e.yValue}
${e.zTitle}: ${e.contourLevel}`);let De=kr;class Aa{constructor(t){u(this,"partner"),u(this,"join"),u(this,"processed"),u(this,"point"),this.point=t,this.processed=!1}}class Ch{constructor(t,i){u(this,"contourLevel"),u(this,"points"),u(this,"color"),this.points=t,this.contourLevel=i,this.color=p.Automatic}}class Ie extends G{constructor(t){super(t),u(this,"verticalStrokeThickness"),u(this,"verticalLineStyle"),this.verticalStrokeThickness=NaN,this.verticalLineStyle=this.lineStyle,t&&Object.assign(this,ot(t))}getNearestPoint(t,i){if(!this.xAxis||!this.yAxis)return;let s=16*16,n=this.getNearestPointInternal(this.actualPoints,0,t);if(!i&&n&&pi(n.position,t)<s)return n.text=this.formatDefaultTrackerString(n.item,n.dataPoint),n;n=void 0;const o=this.actualPoints.length;for(let a=0;a<o;a++){const l=this.actualPoints[a],h=this.actualPoints[a+1<o?a+1:a],m=J.transform(this,l.x,l.y),c=J.transform(this,h.x,l.y),g=c.x-m.x,f=c.y-m.y;let y=(t.x-m.x)*g+(t.y-m.y)*f,M=g*g+f*f;if(g*g+f*f<4&&(y=0,M=1),Math.abs(M)<=0)continue;const S=y/M;if(S<0||S>1)continue;const C=m.x+S*g,v=m.y+S*f,R=t.x-C,T=t.y-v,P=R*R+T*T;if(P>=s)continue;const B=l.x+S*(h.x-l.x),V=l.y,O=this.getItem(a),E=this.formatDefaultTrackerString(O,d(B,V));n=new _t({series:this,dataPoint:d(B,V),position:A(C,v),item:O,index:a,text:E}),s=P}return n}async render(t){if(!this.actualPoints||this.actualPoints.length===0)return;this.verifyAxes();const i=this.actualDashArray,s=Nt.getDashArray(this.verticalLineStyle),n=this.actualLineStyle,o=isNaN(this.verticalStrokeThickness)?this.strokeThickness:this.verticalStrokeThickness,a=this.getSelectableColor(this.actualColor),l=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness),h=async(M,S)=>{if(this.strokeThickness>0&&n!==k.None)if(o!==this.strokeThickness||this.verticalLineStyle!==n){const C=[],v=[];if(M.length>=2){C.push(M[0]),C.push(M[1]);for(let R=1;R+2<M.length;R+=2)v.push(M[R]),v.push(M[R+1]),C.push(M[R+1]),C.push(M[R+2])}await t.drawLineSegments(C,a,this.strokeThickness,l,i,this.lineJoin),await t.drawLineSegments(v,a,o,l,s,this.lineJoin)}else await t.drawLine(M,a,this.strokeThickness,l,i,this.lineJoin);this.markerType!==N.None&&await _.drawMarkers(t,S,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)},m=this.actualPoints;let c=0,g=tt;if(this.isXMonotonic){const M=this.xAxis.clipMinimum;g=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(m,S=>S.x,M,this.windowStartIndex),c=this.windowStartIndex}const f=[],y=[];for(let M=c;M<m.length;){const{valid:S,validOffset:C,endOffset:v}=this.findNextValidSegment(m,M,g);if(!S)break;let R=A(0,0),T=oe,P=!1,B=!1;for(M=C;M<v;++M){const V=m[M];P=P||V.x>T.x,B=B||V.x<T.x,P&&B&&(f.push(this.transform(T)),f.push(this.transform(T)),P=V.x>T.x,B=V.x<T.x),R=this.transform(V),V.y!==T.y&&(isNaN(T.y)||f.push(this.transform(d(V.x,T.y))),f.push(R),P=!1,B=!1),T=V,y.push(R)}M<m.length&&this.xAxis.isValidValue(m[M].x)?f.push(this.transform(d(m[M].x,T.y))):f.push(R),await h(f,y),f.length=0,y.length=0}this.labelStringFormatter&&await this.renderPointLabels(t)}findNextValidSegment(t,i,s){for(;;++i){if(i>=t.length)return{valid:!1,validOffset:0,endOffset:0};const o=t[i];if(o.x>s)return{valid:!1,validOffset:0,endOffset:0};if(this.isValidPoint(o))break}const n=i;for(;!(i>=t.length);++i){const o=t[i];if(!this.isValidPoint(o)||o.x>s)break}return{valid:!0,validOffset:n,endOffset:i}}}const Ar=class Rr extends It{constructor(t){super(t),u(this,"itemsSourceItems",[]),u(this,"trackerStringFormatter"),u(this,"boxWidth"),u(this,"fill"),u(this,"items"),u(this,"lineStyle"),u(this,"medianPointSize"),u(this,"medianThickness"),u(this,"meanPointSize"),u(this,"meanThickness"),u(this,"outlierSize"),u(this,"outlierTrackerStringFormatter"),u(this,"outlierType"),u(this,"outlierOutline"),u(this,"showBox"),u(this,"showMedianAsDot"),u(this,"showMeanAsDot"),u(this,"stroke"),u(this,"strokeThickness"),u(this,"whiskerWidth"),this.items=[],this.trackerStringFormatter=Rr.DefaultTrackerFormatString,this.outlierTrackerStringFormatter=i=>`${i.title||""}
${i.xTitle}: ${i.xValue}
Y: ${i.outlier.toFixed(2)}`,this.title=void 0,this.fill=p.Automatic,this.stroke=p.Black,this.boxWidth=.3,this.strokeThickness=1,this.medianThickness=2,this.meanThickness=2,this.outlierSize=2,this.outlierType=N.Circle,this.medianPointSize=2,this.meanPointSize=2,this.whiskerWidth=.5,this.lineStyle=k.Solid,this.showMedianAsDot=!1,this.showMeanAsDot=!1,this.showBox=!0,t&&Object.assign(this,ot(t))}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getNearestPoint(t,i){if(!this.xAxis||!this.yAxis)return;let s=tt,n;for(const o of this.actualItems){for(const g of o.outliers){const f=J.transform(this,o.x,g),y=$t(f,t).lengthSquared;if(y<s){const M=this.outlierTrackerStringFormatter({item:o,title:this.title,xTitle:this.xAxis.title||It.defaultXAxisTitle,xValue:this.xAxis.getValue(o.x),outlier:g});n=new _t({series:this,dataPoint:d(o.x,g),position:f,item:o,text:M}),s=y}}let a=oe;if(this.getBoxRect(o).containsPoint(t)){const g=this.inverseTransform(t);a=d(o.x,g.y),s=0}const l=J.transform(this,o.x,o.upperWhisker),h=J.transform(this,o.x,o.lowerWhisker),m=me.findPointOnLine(t,l,h),c=$t(m,t).lengthSquared;if(c<s&&(a=this.inverseTransform(m),s=c),hs(a)){const g=this.trackerStringFormatter({item:o,title:this.title,xTitle:this.xAxis.title||It.defaultXAxisTitle,xValue:this.xAxis.getValue(o.x),upperWhisker:this.yAxis.getValue(o.upperWhisker),boxTop:this.yAxis.getValue(o.boxTop),median:this.yAxis.getValue(o.median),boxBottom:this.yAxis.getValue(o.boxBottom),lowerWhisker:this.yAxis.getValue(o.lowerWhisker),mean:this.yAxis.getValue(o.mean!==void 0?o.mean:NaN)});n=new _t({series:this,dataPoint:a,position:this.transform(a),item:o,text:g})}}if(s<tt)return n}isValidPointBoxPlot(t,i,s){const n=Ra(t);return!isNaN(t.x)&&!qe(t.x)&&!n.some(isNaN)&&!n.some(qe)&&i&&i.isValidValue(t.x)&&s&&n.every(o=>s.isValidValue(o))}async render(t){if(this.actualItems.length===0)return;const i=this.getClippingRect(),s=[],n=this.boxWidth*.5,o=n*this.whiskerWidth,a=this.getSelectableColor(this.stroke),l=this.getSelectableFillColor(this.fill),h=Nt.getDashArray(this.lineStyle),m=J.transform,c=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness);for(const g of this.actualItems){const f=g.mean!==void 0?g.mean:NaN;s.push(...g.outliers.map(v=>m(this,g.x,v)));const y=m(this,g.x,g.upperWhisker),M=m(this,g.x,g.boxTop),S=m(this,g.x,g.boxBottom),C=m(this,g.x,g.lowerWhisker);if(this.strokeThickness>0&&this.lineStyle!==k.None&&(await t.drawLine([y,M],a,this.strokeThickness,c,h,et.Miter),await t.drawLine([S,C],a,this.strokeThickness,c,h,et.Miter)),this.whiskerWidth>0){const v=m(this,g.x-o,g.upperWhisker),R=m(this,g.x+o,g.upperWhisker),T=m(this,g.x-o,g.lowerWhisker),P=m(this,g.x+o,g.lowerWhisker);await t.drawLine([v,R],a,this.strokeThickness,c,void 0,et.Miter),await t.drawLine([T,P],a,this.strokeThickness,c,void 0,et.Miter)}if(this.showBox){const v=this.getBoxRect(g);await t.drawRectangle(v,l,a,this.strokeThickness,c)}if(this.showMedianAsDot){const v=m(this,g.x,g.median);if(i.containsPoint(v)){const R=new F(v.x-this.medianPointSize,v.y-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await t.drawEllipse(R,l,p.Undefined,0,this.edgeRenderingMode)}}else{const v=m(this,g.x-n,g.median),R=m(this,g.x+n,g.median);await t.drawLine([v,R],a,this.strokeThickness*this.medianThickness,c,void 0,et.Miter)}if(!this.showMeanAsDot&&!isNaN(f)){const v=m(this,g.x-n,f),R=m(this,g.x+n,f);await t.drawLine([v,R],a,this.strokeThickness*this.meanThickness,c,Nt.getDashArray(k.Dash),et.Miter)}else if(!isNaN(f)){const v=m(this,g.x,f);if(i.containsPoint(v)){const R=new F(v.x-this.meanPointSize,v.y-this.meanPointSize,this.meanPointSize*2,this.meanPointSize*2);await t.drawEllipse(R,l,p.Undefined,0,this.edgeRenderingMode)}}}if(this.outlierType!==N.None){const g=s.map(f=>this.outlierSize);await _.drawMarkers(t,s,this.outlierType,this.outlierOutline,g,l,a,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(t,i){const s=(i.left+i.right)/2,n=i.top+(i.bottom-i.top)*.7,o=i.top+(i.bottom-i.top)*.3,a=(n+o)*.5,l=i.width*.24,h=l*this.whiskerWidth,m=1,c=this.getSelectableColor(this.stroke),g=this.getSelectableFillColor(this.fill),f=Nt.getDashArray(k.Solid),y=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferGeometricAccuracy);if(await t.drawLine([A(s,i.top),A(s,o)],c,m,y,f,et.Miter),await t.drawLine([A(s,n),A(s,i.bottom)],c,m,y,f,et.Miter),this.whiskerWidth>0&&(await t.drawLine([A(s-h,i.bottom),A(s+h,i.bottom)],c,m,y,f,et.Miter),await t.drawLine([A(s-h,i.top),A(s+h,i.top)],c,m,y,f,et.Miter)),this.showBox&&await t.drawRectangle(new F(s-l,o,2*l,n-o),g,c,m,y),!this.showMedianAsDot)await t.drawLine([A(s-l,a),A(s+l,a)],c,m*this.medianThickness,y,f,et.Miter);else{const M=new F(s-this.medianPointSize,a-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await t.drawEllipse(M,g,p.Undefined,0,y)}}updateData(){this.itemsSource&&(this.clearItemsSourceItems(),this.itemsSourceItems.push(...this.itemsSource),this.itemsSourceItems.forEach(t=>{t.mean===void 0&&(t.median=NaN)}))}updateMaxMin(){super.updateMaxMin(),this.internalUpdateBoxPlotMaxMin(this.actualItems)}internalUpdateBoxPlotMaxMin(t){if(!t||t.length===0)return;let i=this.minX,s=this.minY,n=this.maxX,o=this.maxY;for(const a of t){if(!this.isValidPointBoxPlot(a,this.xAxis,this.yAxis))continue;const l=a.x;(l<i||isNaN(i))&&(i=l),(l>n||isNaN(n))&&(n=l);const h=Ra(a);for(const m of h)(m<s||isNaN(s))&&(s=m),(m>o||isNaN(o))&&(o=m)}this.minX=i,this.minY=s,this.maxX=n,this.maxY=o}getItem(t){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(t):this.actualItems[t]}getBoxRect(t){const i=this.boxWidth*.5,s=J.transform(this,t.x-i,t.boxTop),n=J.transform(this,t.x+i,t.boxBottom);return F.fromScreenPoints(s,n)}clearItemsSourceItems(){this.itemsSourceItems.length=0}};u(Ar,"DefaultTrackerFormatString",e=>`${e.title||""}
${e.xTitle}: ${e.xValue}
Upper Whisker: ${e.upperWhisker.toFixed(2)}
Third Quartil: ${e.boxTop.toFixed(2)}
Median: ${e.median.toFixed(2)}
First Quartil: ${e.boxBottom.toFixed(2)}
Lower Whisker: ${e.lowerWhisker.toFixed(2)}
Mean: ${e.mean.toFixed(2)}`);let zo=Ar;function Ra(e){const t=[e.lowerWhisker,e.boxBottom,e.median,e.boxTop,e.upperWhisker];return e.mean!==void 0&&!isNaN(e.mean)&&t.push(e.mean),t.push(...e.outliers),t}class vh extends G{constructor(t){super(t),u(this,"base"),this.base=0,t&&(this.base=t.base??0)}getNearestPoint(t,i){if(!this.xAxis||!this.yAxis||i)return;let s,n=tt;const o=this.actualPoints;for(let a=0;a<o.length;a++){const l=o[a],h=d(l.x,this.base),m=this.transform(l),c=this.transform(h);let g=me.findPositionOnLine(t,m,c);isNaN(g)&&(g=1),(g<0||g>1)&&(g=1);const f=St(m,$t(c,m).times(g)),y=$t(t,f).lengthSquared;if(y<n){const M=this.getItem(a),S=this.formatDefaultTrackerString(M,l);s=new _t({series:this,dataPoint:d(l.x,l.y),position:A(m.x,m.y),item:this.getItem(a),index:a,text:S}),n=y}}return s}async render(t){if(this.actualPoints.length===0)return;this.verifyAxes();const i=this.minimumSegmentLength*this.minimumSegmentLength,s=this.actualDashArray,n=this.getSelectableColor(this.actualColor),o=[],a=this.markerType!==N.None?[]:void 0;for(const l of this.actualPoints)if(this.isValidPoint(l)){if(o[0]=J.transform(this,l.x,this.base),o[1]=J.transform(this,l.x,l.y),this.strokeThickness>0&&this.actualLineStyle!==k.None){const h=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness);await _.drawReducedLine(t,o,i,n,this.strokeThickness,h,s,this.lineJoin)}a&&a.push(o[1])}a&&a.length>0&&await _.drawMarkers(t,a,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}}function Ph(e){return e.fill.getActualColor(e.defaultFillColor)}const Tr=class Cr extends Os{constructor(t){super(t),u(this,"slicePoints",[]),u(this,"total",0),u(this,"angleIncrement"),u(this,"angleSpan"),u(this,"areInsideLabelsAngled",!1),u(this,"colorField"),u(this,"diameter"),u(this,"explodedDistance",0),u(this,"innerDiameter"),u(this,"insideLabelColor"),u(this,"insideLabelFormatter"),u(this,"insideLabelPosition"),u(this,"isExplodedField"),u(this,"labelField"),u(this,"outsideLabelFormatter"),u(this,"slices",[]),u(this,"startAngle"),u(this,"stroke"),u(this,"strokeThickness"),u(this,"tickDistance"),u(this,"tickHorizontalLength"),u(this,"tickLabelDistance"),u(this,"tickRadialLength"),u(this,"valueField"),u(this,"trackerStringFormatter"),this.stroke=p.White,this.strokeThickness=1,this.diameter=1,this.innerDiameter=0,this.startAngle=0,this.angleSpan=360,this.angleIncrement=1,this.outsideLabelFormatter=(i,s)=>`${Gt(s,0)} %`,this.insideLabelColor=p.Automatic,this.insideLabelFormatter=(i,s)=>i.label,this.tickDistance=0,this.tickRadialLength=6,this.tickHorizontalLength=8,this.tickLabelDistance=4,this.insideLabelPosition=.5,this.fontSize=12,this.trackerStringFormatter=Cr.DefaultTrackerStringFormatter,t&&Object.assign(this,ot(t))}getNearestPoint(t,i){const s=this.trackerStringFormatter;for(let n=0;n<this.slicePoints.length;n++)if(me.isPointInPolygon(t,this.slicePoints[n])){const o=this.slices[n],a=this.getItem(n),l=s?s({item:a,title:this.title,xTitle:o.label,xValue:o.value,percent:o.value/this.total*100}):void 0;return new _t({series:this,position:t,item:a,index:n,text:l})}}async render(t){if(this.slicePoints=[],this.slices.length===0||(this.total=this.slices.reduce((l,h)=>l+h.value,0),Math.abs(this.total)<=0))return;const i=Math.min(this.plotModel.plotArea.width,this.plotModel.plotArea.height)/2,s=i*(this.diameter-this.explodedDistance),n=i*this.innerDiameter;let o=this.startAngle;const a=A((this.plotModel.plotArea.left+this.plotModel.plotArea.right)*.5,(this.plotModel.plotArea.top+this.plotModel.plotArea.bottom)*.5);for(const l of this.slices){const h=[],m=[],c=l.value/this.total*this.angleSpan,g=o+c,f=l.isExploded?this.explodedDistance*i:0,y=o+c/2,M=y*Math.PI/180,S=A(a.x+f*Math.cos(M),a.y+f*Math.sin(M));for(;;){let v=!1;o>=g&&(o=g,v=!0);const R=o*Math.PI/180,T=A(S.x+s*Math.cos(R),S.y+s*Math.sin(R));h.push(T);const P=A(S.x+n*Math.cos(R),S.y+n*Math.sin(R));debugger;if(console.log(n+f>0),n+f>0){debugger;m.push(P)}if(v)break;o+=this.angleIncrement}m.reverse(),m.length===0&&m.push(S),m.push(h[0]);const C=[...h,...m];if(await t.drawPolygon(C,Ph(l),this.stroke,this.strokeThickness,this.edgeRenderingMode,void 0,et.Bevel),this.slicePoints.push(C),this.outsideLabelFormatter){const v=this.outsideLabelFormatter(l,l.value/this.total*100),R=Math.sign(Math.cos(M)),T=A(S.x+(s+this.tickDistance)*Math.cos(M),S.y+(s+this.tickDistance)*Math.sin(M)),P=A(T.x+this.tickRadialLength*Math.cos(M),T.y+this.tickRadialLength*Math.sin(M)),B=A(P.x+this.tickHorizontalLength*R,P.y);await t.drawLine([T,P,B],this.actualTextColor,1,this.edgeRenderingMode,void 0,et.Bevel);const V=A(B.x+this.tickLabelDistance*R,B.y);await t.drawText(V,v,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,R>0?I.Left:I.Right,D.Middle)}if(this.insideLabelFormatter&&!this.insideLabelColor.isUndefined()){const v=this.insideLabelFormatter(l,l.value/this.total*100),R=n*(1-this.insideLabelPosition)+s*this.insideLabelPosition,T=A(S.x+R*Math.cos(M),S.y+R*Math.sin(M));let P=0;this.areInsideLabelsAngled&&(P=y,Math.cos(M)<0&&(P+=180));const B=this.insideLabelColor.isAutomatic()?this.actualTextColor:this.insideLabelColor;await t.drawText(T,v,B,this.actualFont,this.actualFontSize,this.actualFontWeight,P,I.Center,D.Middle)}}}async renderLegend(t,i){}areAxesRequired(){return!1}ensureAxes(){}isUsing(t){return!1}setDefaultValues(){for(const t of this.slices)t.fill=t.fill||p.Automatic,t.fill.isAutomatic()&&(t.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){}updateData(){if(this.itemsSource){this.slices=[];for(const t of this.itemsSource){const i=zt(t,this.labelField,""),s=zt(t,this.valueField,NaN),n=zt(t,this.colorField,p.Automatic),o=zt(t,this.isExplodedField,!1);this.slices.push({label:i,value:s,fill:n,isExploded:o})}}}updateMaxMin(){}};u(Tr,"DefaultTrackerStringFormatter",e=>`${e.xTitle}: ${Gt(e.xValue,3)} (${Jl((e.percent||0)/100)})`);let Lh=Tr;class Je extends G{constructor(t){super(t),u(this,"_points2",[]),u(this,"itemsSourcePoints2",[]),u(this,"_actualPoints2"),u(this,"constantY2",0),u(this,"dataFieldX2"),u(this,"dataFieldY2"),u(this,"color2"),u(this,"fill"),u(this,"reverse2",!1),u(this,"windowStartIndex2",0),u(this,"isPoints2Defined",!1),this.reverse2=!0,this.color2=p.Automatic,this.fill=p.Automatic,t&&Object.assign(this,ot(t))}get actualColor2(){return this.color2.getActualColor(this.actualColor)}get actualFill(){return this.fill.getActualColor(r.fromAColor(100,this.actualColor))}get points2(){return this._points2}get actualPoints2(){return this.itemsSource?this.itemsSourcePoints2:this._actualPoints2}getNearestPoint(t,i){const s=this.isXMonotonic?this.windowStartIndex:0,n=this.isXMonotonic?this.windowStartIndex2:0;let o,a;i&&this.canTrackerInterpolatePoints?(o=this.getNearestInterpolatedPointInternal(this.actualPoints,s,t),a=this.getNearestInterpolatedPointInternal(this.actualPoints2,n,t)):(o=this.getNearestPointInternal(this.actualPoints,s,t),a=this.getNearestPointInternal(this.actualPoints2,n,t));let l;if(o&&a){const h=Fe(o.position,t),m=Fe(a.position,t);l=h<m?o:a}else l=o??a;return l&&(l.text=this.formatDefaultTrackerString(l.item,l.dataPoint)),l}async render(t){this.verifyAxes();const i=this.actualPoints;if(!i||i.length===0)return;const s=this.actualPoints2;if(!s||s.length===0)return;let n=0,o=0,a=tt;if(this.isXMonotonic){const g=this.xAxis.clipMinimum;a=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(i,f=>f.x,g,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(s,f=>f.x,g,this.windowStartIndex2),n=this.windowStartIndex,o=this.windowStartIndex2}const l=this.minimumSegmentLength*this.minimumSegmentLength,h={points:i,windowStartIndex:n,xMax:a,renderContext:t,minDistSquared:l,reverse:!1,color:this.actualColor,dashArray:this.actualDashArray},m=await this.renderChunkedPoints(h);h.points=s,h.windowStartIndex=o,h.reverse=this.reverse2,h.color=this.actualColor2;const c=await this.renderChunkedPoints(h);if(m.length===c.length)for(let g=0;g<m.length;g++){const f=m[g],y=c[g],M=[];M.push(...y),M.push(...f),await _.drawReducedPolygon(t,M,l,this.getSelectableFillColor(this.actualFill),p.Undefined,0,this.edgeRenderingMode);const S=[this.markerSize];await _.drawMarkers(t,f,this.markerType,void 0,S,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await _.drawMarkers(t,y,this.markerType,void 0,S,this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}}async renderLegend(t,i){const s=i.top*.2+i.bottom*.8,n=i.top*.4+i.bottom*.6,o=i.top*.8+i.bottom*.2,a=[A(i.left,s),A(i.right,s)],l=[A(i.right,o),A(i.left,n)],h=[...a,...l];if(this.strokeThickness>0&&this.actualLineStyle!==k.None){const m=Nt.getDashArray(this.actualLineStyle);await t.drawLine(a,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,m),await t.drawLine(l,this.getSelectableColor(this.actualColor2),this.strokeThickness,this.edgeRenderingMode,m)}await t.drawPolygon(h,this.getSelectableFillColor(this.actualFill),p.Undefined,0,this.edgeRenderingMode)}updateData(){if(super.updateData(),!this.itemsSource){this.isPoints2Defined=this._points2.length>0,this.isPoints2Defined?this._actualPoints2=this._points2:this._actualPoints2=this.getConstantPoints2();return}if(this.itemsSourcePoints2.length=0,this.isPoints2Defined=!!(this.dataFieldX2&&this.dataFieldY2),this.isPoints2Defined)for(const t of this.itemsSource){if(!t)continue;const i=zt(t,this.dataFieldX2,Number.NaN),s=zt(t,this.dataFieldY2,Number.NaN),n=d(this.xAxis.itemToDouble(i),this.yAxis.itemToDouble(s));this.itemsSourcePoints2.push(n)}else this.itemsSourcePoints2.push(...this.getConstantPoints2())}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints2)}async renderChunkedPoints(t){const i=[];let s=[],n=0;const o=t.points;for(let a=t.windowStartIndex;a<o.length;a++){const l=o[a];if(isNaN(l.y)){if(s.length===0)continue;i.push(await this.renderScreenPoints(t,s)),s=[]}else{const h=J.transform(this,l.x,l.y);s.push(h)}if(n+=l.x>t.xMax?1:0,n>1)break}return s.length>0&&i.push(await this.renderScreenPoints(t,s)),i}async renderScreenPoints(t,i){let s=i;if(t.reverse&&s.reverse(),this.interpolationAlgorithm){const n=me.resamplePoints(s,this.minimumSegmentLength);s=this.interpolationAlgorithm.createSplineSp(n,!1,.25)}return await _.drawReducedLine(t.renderContext,s,t.minDistSquared,this.getSelectableColor(t.color),this.strokeThickness,this.edgeRenderingMode,t.dashArray,this.lineJoin),s}getConstantPoints2(){const t=this.actualPoints,i=[];if(!isNaN(this.constantY2)&&t.length>0){const s=t[0].x,n=t[t.length-1].x;i.push(d(s,this.constantY2)),i.push(d(n,this.constantY2))}return i}}var zs=(e=>(e[e.Center=0]="Center",e[e.Edge=1]="Edge",e))(zs||{}),vr=(e=>(e[e.Bitmap=0]="Bitmap",e[e.Rectangles=1]="Rectangles",e))(vr||{});const So=class vs extends It{constructor(t){super(t),u(this,"dataHash",0),u(this,"colorAxisHash",0),u(this,"image"),u(this,"x0",0),u(this,"x1",0),u(this,"y0",0),u(this,"y1",0),u(this,"data"),u(this,"interpolate",!0),u(this,"minValue",0),u(this,"maxValue",0),u(this,"colorAxis"),u(this,"colorAxisKey"),u(this,"coordinateDefinition",0),u(this,"renderMethod",0),u(this,"labelStringFormatter",i=>i.toFixed(2)),u(this,"labelFontSize",0),this.trackerStringFormatter=vs.DefaultTrackerFormatString,this.interpolate=!0,this.labelFontSize=0,t&&Object.assign(this,ot(t))}invalidate(){this.image=void 0}async render(t){if(!this.data){this.image=void 0;return}if(!this.colorAxis)throw new Error("Color axis not specified.");let i=this.x0,s=this.x1,n=this.y0,o=this.y1;const a=this.data.length,l=this.data[0].length,h=(this.x1-this.x0)/(a-1),m=(this.y1-this.y0)/(l-1);if(this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const v=Math.log(this.x1/this.x0)/(a-1);i*=Math.exp(v/-2),s*=Math.exp(v/2)}else i-=h/2,s+=h/2;if(this.yAxis.isLogarithmic()){const v=Math.log(this.y1/this.y0)/(l-1);n*=Math.exp(v/-2),o*=Math.exp(v/2)}else n-=m/2,o+=m/2}const c=J.transform(this,i,n),g=J.transform(this,s,o),f=F.fromScreenPoints(c,g),y=this.renderMethod===0,M=Ih(this.data),S=this.colorAxis.getElementHashCode();(y&&!this.image||M!==this.dataHash||S!==this.colorAxisHash)&&(y&&await this.updateImage(),this.dataHash=M,this.colorAxisHash=S);const C=J.orientate;if(y)this.image&&await _.drawImage(t,this.image,f.left,f.top,f.width,f.height,1,this.interpolate);else{const v=C(this,c),R=C(this,g),T=(R.x-v.x)/a,P=(R.y-v.y)/l,B=Si.getColor;for(let V=0;V<a;V++)for(let O=0;O<l;O++){const E=B(this.colorAxis,this.data[V][O]),q=C(this,A(v.x+V*T,v.y+O*P)),ft=C(this,A(v.x+(V+1)*T,v.y+(O+1)*P)),Z=F.fromScreenPoints(q,ft);await t.drawRectangle(Z,E,p.Undefined,0,this.edgeRenderingMode)}}this.labelFontSize>0&&await this.renderLabels(t,f)}getNearestPoint(t,i){if(!this.data)return;this.interpolate||(i=!1);let s=this.inverseTransform(t);if(!this.isPointInRange(s))return;let n,o;if(this.xAxis.isLogarithmic()){const c=Math.log(this.x1/this.x0)/(this.data.length-1);n=Math.log(s.x/this.x0)/c}else{const c=(this.x1-this.x0)/(this.data.length-1);n=(s.x-this.x0)/c}if(this.yAxis.isLogarithmic()){const c=Math.log(this.y1/this.y0)/(this.data[0].length-1);o=Math.log(s.y/this.y0)/c}else{const c=(this.y1-this.y0)/(this.data[0].length-1);o=(s.y-this.y0)/c}if(!i){n=Math.round(n),o=Math.round(o);let c,g;if(this.xAxis.isLogarithmic()){const f=Math.log(this.x1/this.x0)/(this.data.length-1);c=this.x0*Math.exp(n*f)}else{const f=(this.x1-this.x0)/(this.data.length-1);c=n*f+this.x0}if(this.yAxis.isLogarithmic()){const f=Math.log(this.y1/this.y0)/(this.data[0].length-1);g=this.y0*Math.exp(o*f)}else{const f=(this.y1-this.y0)/(this.data[0].length-1);g=o*f+this.y0}s=d(c,g),t=this.transform(s)}if(n<-.5||n>this.data.length-.5||o<-.5||o>this.data[0].length-.5)return;const a=vs.getValue(this.data,n,o),l=this.colorAxis,h=(l==null?void 0:l.title)??vs.DefaultColorAxisTitle,m=this.formatDefaultTrackerString(void 0,s,c=>{c.colorAxisTitle=h,c.value=a});return new _t({series:this,dataPoint:s,position:t,item:null,index:-1,text:m})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(!this.data)return;const t=this.data.length,i=this.data[0].length;if(this.minX=Math.min(this.x0,this.x1),this.maxX=Math.max(this.x0,this.x1),this.minY=Math.min(this.y0,this.y1),this.maxY=Math.max(this.y0,this.y1),this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const s=Math.log(this.maxX/this.minX)/(t-1);this.minX*=Math.exp(s/-2),this.maxX*=Math.exp(s/2)}else{const s=(this.maxX-this.minX)/(t-1);this.minX-=s/2,this.maxX+=s/2}if(this.yAxis.isLogarithmic()){const s=Math.log(this.maxY/this.minY)/(i-1);this.minY*=Math.exp(s/-2),this.maxY*=Math.exp(s/2)}else{const s=(this.maxY-this.minY)/(i-1);this.minY-=s/2,this.maxY+=s/2}}}updateMaxMin(){if(super.updateMaxMin(),this.updateMaxMinXY(),!this.data)return;const t=this.data.flat().filter(i=>!isNaN(i));this.minValue=Pt(t),this.maxValue=Wt(t)}updateAxisMaxMin(){super.updateAxisMaxMin();const t=this.colorAxis;t&&(t.include(this.minValue),t.include(this.maxValue))}async renderLabels(t,i){if(!this.data)return;const s=this.data.length,n=this.data[0].length,o=i.height/n*this.labelFontSize,a=this.x0,l=this.x1,h=this.y0,m=this.y1,c=J.orientate,g=J.transform,f=c(this,g(this,a,h)),y=c(this,g(this,l,m)),M=(y.x-f.x)/(s-1),S=(y.y-f.y)/(n-1),C=Si.getColor;for(let v=0;v<s;v++)for(let R=0;R<n;R++){const T=c(this,A(f.x+v*M,f.y+R*S)),P=vs.getValue(this.data,v,R),B=C(this.colorAxis,P),V=xe.toHsv(B)[2]>.6?p.Black:p.White,O=this.getLabel(P,v,R);await t.drawText(T,O,V,this.actualFont,o,500,0,I.Center,D.Middle)}}getLabel(t,i,s){return this.labelStringFormatter(t,[])}static getValue(t,i,s){i=Math.max(i,0),s=Math.max(s,0);const n=Math.floor(i),o=n+1<t.length?n+1:n,a=Math.floor(s),l=a+1<t[0].length?a+1:a;if(i=Math.min(i,o),s=Math.min(s,l),i===n&&s===a)return t[n][a];if(i!==n&&s===a){if(isNaN(t[n][a])||isNaN(t[o][a]))return NaN;const h=i-n;return n!==o?t[n][a]*(1-h)+t[o][a]*h:t[n][a]}if(i===n&&s!==a){if(isNaN(t[n][a])||isNaN(t[n][l]))return NaN;const h=s-a;return a!==l?t[n][a]*(1-h)+t[n][l]*h:t[n][a]}else{if(isNaN(t[n][a])||isNaN(t[o][a])||isNaN(t[n][l])||isNaN(t[o][l]))return NaN;const h=i-n,m=s-a;let c,g;return n!==o?(c=t[n][a]*(1-h)+t[o][a]*h,g=t[n][l]*(1-h)+t[o][l]*h):(c=t[n][a],g=t[n][l]),a!==l?c*(1-m)+g*m:c}}isPointInRange(t){return this.updateMaxMinXY(),t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY}async updateImage(){if(!this.data)return;const t=this.xAxis.transform(this.x0)>this.xAxis.transform(this.x1),i=this.yAxis.transform(this.y0)>this.yAxis.transform(this.y1),s=J.isTransposed(this),n=this.data.length,o=this.data[0].length,a=s?new Be(o,n):new Be(n,o),l=Si.getColor;for(let h=0;h<n;h++){const m=t?n-1-h:h;for(let c=0;c<o;c++){const g=i?o-1-c:c,f=l(this.colorAxis,this.data[m][g]);s?a.set(c,h,f):a.set(h,c,f)}}this.image=await fe.create(a,pe.Png)}};u(So,"DefaultTrackerFormatString",e=>`${e.title}
${e.xTitle}: ${e.xValue}
${e.yTitle}: ${e.yValue}
${e.colorAxisTitle}: ${e.value}`),u(So,"DefaultColorAxisTitle","Value");let je=So;function Ih(e){return $a(e.flat())}const ko=class{constructor(t,i,s,n,o){u(this,"a"),u(this,"b"),u(this,"value"),typeof t=="number"?(this.a=d(t,s),this.b=d(i,n),this.value=o):(this.a=t,this.b=i,this.value=s)}contains(t){return t.x<=this.b.x&&t.x>=this.a.x&&t.y<=this.b.y&&t.y>=this.a.y||t.x<=this.a.x&&t.x>=this.b.x&&t.y<=this.a.y&&t.y>=this.b.y}equals(t){return ya(this.a,t.a)&&ya(this.b,t.b)&&this.value===t.value}toString(){return`${this.a} ${this.b} ${this.value}`}isDefined(){return hs(this.a)&&hs(this.b)&&!isNaN(this.value)}};u(ko,"Undefined",new ko(oe,oe,Number.NaN));let Go=ko;const Ao=class Ro extends It{constructor(t){super(t),u(this,"_actualItems",[]),u(this,"_minValue",0),u(this,"_maxValue",0),u(this,"_colorAxis"),u(this,"colorAxisKey"),u(this,"labelStringFormatter",i=>i.toFixed(2)),u(this,"labelFontSize"),u(this,"mapping"),u(this,"items",[]),this.trackerStringFormatter=Ro.DefaultTrackerFormatString,this.labelFontSize=0,t&&Object.assign(this,ot(t))}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get colorAxis(){return this._colorAxis}set colorAxis(t){this._colorAxis=t}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(t){this.verifyAxes(),await this.renderRectangles(t,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem(t){const i=this.actualItems;return!this.itemsSource&&i&&t<i.length?i[t]:super.getItem(t)}clearActualItems(){this._actualItems.length=0}updateActualItems(){if(this.clearActualItems(),!(!this.itemsSource||this.itemsSource.length==0)){for(const t of this.itemsSource)if(t){if(t instanceof Go){this._actualItems.push(t);continue}if(this.mapping){this._actualItems.push(this.mapping(t));continue}throw new Error("Invalid itemsSource")}}}async renderRectangles(t,i){const s=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness),n=J.transform;for(const o of i){const a=Si.getColor(this.colorAxis,o.value),l=n(this,o.a.x,o.a.y),h=n(this,o.b.x,o.b.y),m=F.fromScreenPoints(l,h);await t.drawRectangle(m,a,p.Undefined,0,s),this.labelFontSize>0&&await t.drawText(m.center,this.labelStringFormatter(o.value,[]),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,I.Center,D.Middle)}}getNearestPoint(t,i){const s=this.inverseTransform(t);if(!this.isPointInRange(s)||!this.actualItems)return;const n=this.colorAxis,o=(n==null?void 0:n.title)??Ro.DefaultColorAxisTitle;for(const a of this.actualItems)if(a.contains(s)){const l=this.formatDefaultTrackerString(a,s,h=>{h.colorAxisTitle=o,h.value=a.value});return new _t({series:this,dataPoint:s,position:t,item:null,index:-1,text:l})}}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const t=Pt(this.actualItems.map(m=>m.a.x)),i=Pt(this.actualItems.map(m=>m.b.x)),s=Wt(this.actualItems.map(m=>m.a.x)),n=Wt(this.actualItems.map(m=>m.b.x)),o=Pt(this.actualItems.map(m=>m.a.y)),a=Pt(this.actualItems.map(m=>m.b.y)),l=Wt(this.actualItems.map(m=>m.a.y)),h=Wt(this.actualItems.map(m=>m.b.y));this.minX=Math.min(t,i),this.maxX=Math.max(s,n),this.minY=Math.min(o,a),this.maxY=Math.max(l,h)}}updateMaxMin(){super.updateMaxMin();const t=[];if(li(t,this.actualItems.map(i=>i.a)),li(t,this.actualItems.map(i=>i.b)),this.internalUpdateMaxMin(t),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const i=this.actualItems.map(s=>s.value);this._minValue=Pt(i),this._maxValue=Pt(i)}}updateAxisMaxMin(){super.updateAxisMaxMin();const t=this.colorAxis;t&&(t.include(this.minValue),t.include(this.maxValue))}isPointInRange(t){return this.updateMaxMinXY(),t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY}};u(Ao,"DefaultTrackerFormatString",e=>`${e.title}
${e.xTitle}: ${e.xValue}
${e.yTitle}: ${e.yValue}
${e.colorAxisTitle}: ${e.value}`),u(Ao,"DefaultColorAxisTitle","Value");let Pr=Ao;class Bh extends G{constructor(t){super(t),u(this,"defaultColorLo",p.Undefined),u(this,"defaultColorHi",p.Undefined),u(this,"colorLo"),u(this,"colorHi"),u(this,"limitHi"),u(this,"limitLo"),u(this,"dashesHi"),u(this,"dashesLo"),u(this,"lineStyleHi"),u(this,"lineStyleLo"),this.limitLo=-5,this.colorLo=r.fromRgb(0,0,255),this.lineStyleLo=k.Solid,this.limitHi=5,this.colorHi=r.fromRgb(255,0,0),this.lineStyleHi=k.Solid,t&&Object.assign(this,ot(t))}get actualColorLo(){return this.colorLo.getActualColor(this.defaultColorLo)}get actualColorHi(){return this.colorHi.getActualColor(this.defaultColorHi)}get actualLineStyleHi(){return this.lineStyleHi!==k.Automatic?this.lineStyleHi:k.Solid}get actualLineStyleLo(){return this.lineStyleLo!==k.Automatic?this.lineStyleLo:k.Solid}get actualDashArrayHi(){return this.dashesHi??Nt.getDashArray(this.actualLineStyleHi)}get actualDashArrayLo(){return this.dashesLo??Nt.getDashArray(this.actualLineStyleLo)}setDefaultValues(){super.setDefaultValues(),this.colorLo.isAutomatic()&&(this.defaultColorLo=this.plotModel.getDefaultColor()),this.lineStyleLo===k.Automatic&&(this.lineStyleLo=this.plotModel.getDefaultLineStyle()),this.colorHi.isAutomatic()&&(this.defaultColorHi=this.plotModel.getDefaultColor()),this.lineStyleHi===k.Automatic&&(this.lineStyleHi=this.plotModel.getDefaultLineStyle())}async renderLine(t,i){const s=this.getClippingRect(),n=this.inverseTransform(s.bottomLeft),o=this.inverseTransform(s.topRight),a=J.transform;let l=a(this,n.x,Math.min(n.y,o.y)),h=a(this,o.x,this.limitLo);const m=F.fromScreenPoints(l,h).clip(s);l=a(this,n.x,this.limitLo),h=a(this,o.x,this.limitHi);const c=F.fromScreenPoints(l,h).clip(s);l=a(this,n.x,Math.max(n.y,o.y)),h=a(this,o.x,this.limitHi);const g=F.fromScreenPoints(l,h).clip(s);if(this.strokeThickness<=0||this.actualLineStyle===k.None)return;const f=async M=>{await _.drawReducedLine(t,i,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(M),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let y=_.autoResetClip(t,c);await f(this.actualColor),y.dispose(),y=_.autoResetClip(t,m),await f(this.actualColorLo),y.dispose(),y=_.autoResetClip(t,g),await f(this.actualColorHi),y.dispose()}}class An extends Je{constructor(t){super(t),u(this,"defaultColor2",p.Undefined),u(this,"abovePoints",[]),u(this,"belowPoints",[]),u(this,"markerStartIndex",0),u(this,"fill2"),u(this,"dashes2"),u(this,"lineStyle2"),u(this,"markerFill2"),u(this,"markerStroke2"),u(this,"limit",0),this.color2=r.fromRgb(0,0,255),this.fill=p.Automatic,this.fill2=p.Automatic,this.markerFill2=p.Automatic,this.markerStroke2=p.Automatic,this.lineStyle2=k.Solid,t&&Object.assign(this,ot(t))}get actualFill2(){return this.fill2.getActualColor(r.fromAColor(100,this.actualColor2))}get actualColor2(){return this.color2.getActualColor(this.defaultColor2)}get actualLineStyle2(){return this.lineStyle2!==k.Automatic?this.lineStyle2:k.Solid}get actualDashArray2(){return this.dashes2??Nt.getDashArray(this.actualLineStyle2)}getNearestPoint(t,i){let s;return i&&this.canTrackerInterpolatePoints?s=this.getNearestInterpolatedPointInternal(this.actualPoints,0,t):s=this.getNearestPointInternal(this.actualPoints,0,t),s&&(s.text=this.formatDefaultTrackerString(s.item,s.dataPoint)),s}async render(t){const i=this.xAxis.clipMinimum,s=this.xAxis.clipMaximum,n=l=>l.x;this.windowStartIndex=this.updateWindowStartIndex(this.abovePoints,n,i,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(this.belowPoints,n,i,this.windowStartIndex2);const o=this.minimumSegmentLength*this.minimumSegmentLength,a={points:this.abovePoints,windowStartIndex:this.windowStartIndex,xMax:s,renderContext:t,minDistSquared:o,reverse:!1,color:this.actualColor,fill:this.actualFill,markerFill:this.actualMarkerFill,markerStroke:this.markerStroke,dashArray:this.actualDashArray,baseline:this.limit};if(await this.renderChunkedPoints(a),a.points=this.belowPoints,a.windowStartIndex=this.windowStartIndex2,a.reverse=this.reverse2,a.color=this.actualColor2,a.fill=this.actualFill2,a.markerFill=this.markerFill2,a.markerStroke=this.markerStroke2,a.dashArray=this.actualDashArray2,this.isPoints2Defined&&(a.baseline=this.constantY2),await this.renderChunkedPoints(a),!this.isPoints2Defined){const l=[this.markerSize],h=this.limit,m=this.actualPoints,c=[],g=[];this.markerStartIndex=this.updateWindowStartIndex(m,n,i,this.markerStartIndex);let f=0;for(let y=this.markerStartIndex;y<m.length;y++){const M=m[y];if((M.y>=h?c:g).push(this.transform(M)),f+=M.x>s?1:0,f>1)break}await _.drawMarkers(t,c,this.markerType,void 0,l,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await _.drawMarkers(t,g,this.markerType,void 0,l,this.markerFill2,this.markerStroke2,this.markerStrokeThickness,this.edgeRenderingMode,1)}}setDefaultValues(){super.setDefaultValues(),this.color2.isAutomatic()&&(this.defaultColor2=this.plotModel.getDefaultColor()),this.lineStyle2===k.Automatic&&(this.lineStyle2=this.plotModel.getDefaultLineStyle())}updateData(){super.updateData(),this.isPoints2Defined?(this.abovePoints=this.actualPoints,this.belowPoints=this.actualPoints2):this.splitPoints(this.actualPoints)}async renderScreenPoints(t,i){const s=await super.renderScreenPoints(t,i),n=t,o=[...this.getConstantScreenPoints2(s,n.baseline),...s],a=t.renderContext;if(await _.drawReducedPolygon(a,o,t.minDistSquared,this.getSelectableFillColor(n.fill),p.Undefined,0,this.edgeRenderingMode),this.isPoints2Defined){const l=[this.markerSize];await _.drawMarkers(a,s,this.markerType,void 0,l,n.markerFill,n.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}return s}splitPoints(t){const i=d(Number.NaN,Number.NaN),s=this.limit;this.abovePoints=new Array,this.belowPoints=new Array;let n=!1,o=null;for(const a of t){const l=a.y>=s;if(o&&l!==n){const h=d(this.getInterpolatedX(o,a,s),s);this.abovePoints.push(l?i:h),this.abovePoints.push(l?h:i),this.belowPoints.push(l?h:i),this.belowPoints.push(l?i:h)}(l?this.abovePoints:this.belowPoints).push(a),o=a,n=l}}getConstantScreenPoints2(t,i){const s=[];if(isNaN(i)||t.length<=0)return s;let n=this.inverseTransform(t[0]);n=d(n.x,i),s.push(this.transform(n));let o=this.inverseTransform(t[t.length-1]);return o=d(o.x,i),s.push(this.transform(o)),this.reverse2&&s.reverse(),s}getInterpolatedX(t,i,s){return(s-t.y)/(i.y-t.y)*(i.x-t.x)+t.x}}class Dh extends G{constructor(t){super(t),u(this,"defaultColor2",p.Undefined),u(this,"color2"),u(this,"limit"),this.limit=0,this.color2=r.fromRgb(0,0,255),t&&Object.assign(this,ot(t))}get actualColor2(){return this.color2.getActualColor(this.defaultColor2)}setDefaultValues(){super.setDefaultValues(),this.color2.isAutomatic()&&(this.defaultColor2=this.plotModel.getDefaultColor())}async renderLine(t,i){const s=this.getClippingRect(),n=this.inverseTransform(s.bottomLeft),o=this.inverseTransform(s.topRight),a=J.transform;let l=a(this,n.x,Math.min(n.y,o.y));const h=a(this,o.x,this.limit),m=F.fromScreenPoints(l,h).clip(s);l=a(this,n.x,Math.max(n.y,o.y));const c=F.fromScreenPoints(l,h).clip(s);if(this.strokeThickness<=0||this.actualLineStyle===k.None)return;const g=async y=>{await _.drawReducedLine(t,i,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(y),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let f=_.autoResetClip(t,m);await g(this.actualColor2),f.dispose(),f=_.autoResetClip(t,c),await g(this.actualColor),f.dispose()}}const To=class Co extends It{constructor(t){super(t),u(this,"_actualItems",[]),u(this,"minValue",0),u(this,"maxValue",0),u(this,"colorAxis"),u(this,"colorAxisKey"),u(this,"labelStringFormatter",(i,s)=>i.value.toFixed(2)),u(this,"labelFontSize",0),u(this,"mapping"),u(this,"items",[]),u(this,"stroke",p.Undefined),u(this,"strokeThickness",2),this.trackerStringFormatter=Co.defaultTrackerStringFormatter,this.strokeThickness=2,t&&Object.assign(this,ot(t))}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(t){this.verifyAxes(),await this.renderPolygons(t,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem(t){const i=this.actualItems;return!this.itemsSource&&i&&t<i.length?i[t]:super.getItem(t)}clearActualItems(){this._actualItems&&(this._actualItems.length=0),this._actualItems=[]}updateActualItems(){this.clearActualItems();for(const t of this.itemsSource||[]){if(Fh(t)){this._actualItems.push(t);continue}if(this.mapping){this._actualItems.push(this.mapping(t));continue}throw new Error("Invalid item")}}async renderPolygons(t,i){const s=[];for(const n of i){const o=Si.getColor(this.colorAxis,n.value),a=_.getActualEdgeRenderingMode(this.edgeRenderingMode,W.PreferSharpness);for(const l of n.outlines)if(s.length=0,s.push(...l.map(h=>this.transform(h))),await t.drawPolygon(s,o,this.stroke,this.strokeThickness,a),this.labelFontSize>0){const h=this.labelStringFormatter(n,[]);await t.drawText(me.getCentroid(s),h,this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,I.Center,D.Middle)}}}getNearestPoint(t,i){const s=this.inverseTransform(t);if(!this.isPointInRange(s))return;const n=this.colorAxis,o=(n==null?void 0:n.title)??Co.defaultColorAxisTitle,a=[],l=this.actualItems;if(l){for(const h of l)for(let m=0;m<h.outlines.length;m++)if(h.bounds[m].contains(s.x,s.y)&&(a.length=0,a.push(...h.outlines[m].map(c=>this.transform(c))),me.isPointInPolygon(t,a))){const c=super.formatDefaultTrackerString(h,s,g=>{g.colorAxisTitle=o});return new _t({series:this,dataPoint:s,position:t,item:h,index:-1,text:c})}}}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin(),this.updateMaxMinXY();const t=this.actualItems;t&&t.length>0&&(this.minValue=Pt(t.map(i=>i.value)),this.maxValue=Wt(t.map(i=>i.value)))}updateAxisMaxMin(){super.updateAxisMaxMin();const t=this.colorAxis;t&&(t.include(this.minValue),t.include(this.maxValue))}updateMaxMinXY(){const t=this.actualItems;if(t&&t.length>0){const i=t.flatMap(s=>s.bounds);this.minX=Pt(i.map(s=>s.left)),this.maxX=Wt(i.map(s=>s.right)),this.minY=Pt(i.map(s=>s.top)),this.maxY=Wt(i.map(s=>s.bottom))}}isPointInRange(t){return this.updateMaxMinXY(),t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY}};u(To,"defaultTrackerStringFormatter",e=>`${e.title}
${e.xTitle}: ${e.xValue}
${e.yTitle}: ${e.yValue}
${e.colorAxisTitle}: ${e.item.value}`),u(To,"defaultColorAxisTitle","Value");let Lr=To;function vo(e,t){if(!e||e.length===0)throw new Error("Outlines does not contain any sub-polygons.");Array.isArray(e[0])||(e=[e]);const i=e.map(n=>n.slice());for(const n of i)for(const o of n)if(mn(o)||qe(o.x)||qe(o.y))throw new Error("Outline contains non-finite elements.");const s=i.map(n=>Nh(n));return{outlines:i,value:t,bounds:s}}function Nh(e){let t=e[0].x,i=e[0].y,s=e[0].x,n=e[0].y;for(let o=1;o<e.length;o++)t=Math.min(t,e[o].x),i=Math.min(i,e[o].y),s=Math.max(s,e[o].x),n=Math.max(n,e[o].y);return new F(t,i,s-t,n-i)}function Fh(e){return e&&e.outlines&&e.value&&e.bounds}class Vh{static convertToFractionString(t,i=1,s,n=1e-6,o){if(Math.abs(t)<n)return"0";t/=i;for(let a=1;a<=64;a++){const l=t*a,h=Math.round(l);if(Math.abs(l-h)<n){const m=!s||h!=1?h.toString():"";return a==1?`${m}${s}`:`${m}${s}/${a}`}}return o?o(t)+(s||""):`${t.toString()}${s||""}`}}class Eh{static splitLines(t){return t.split(/\r?\n/)}}class ce{static isReversible(t){if(t.axes.length===0&&t.series.length===0)return!1;for(const i of t.axes){if(i.position===x.None)return!1;const s=i.__isReversible;if(s!==void 0&&!s)return!1}for(const i of t.series){const s=i.constructor.name;if(!(i instanceof It)||this.NonReversibleSeriesTypes.has(s))return!1}for(const i of t.annotations){const s=i.constructor.name;if(this.NonReversibleDataSpaceAnnotationTypes.has(s))return!1}return!0}static isTransposable(t){if(t.axes.length===0&&t.series.length===0)return!1;for(const i of t.axes)if(i.position===x.None)return!1;for(const i of t.series){const s=i.constructor.name;if(!Ma(i)||this.NonTransposableSeriesTypes.has(s))return!1}for(const i of t.annotations){const s=i.constructor.name;if(!Ma(i)||this.NonTransposableDataSpaceAnnotationTypes.has(s))return!1}return!0}static reverseXAxis(t){t.title&&(t.title+=" (reversed X Axis)");let i=!1;for(const s of t.axes)s.position===x.Bottom&&(s.startPosition=1-s.startPosition,s.endPosition=1-s.endPosition,i=!0);return i||t.axes.push(new w({position:x.Bottom,startPosition:1,endPosition:0})),t}static reverseYAxis(t){t.title&&(t.title+=" (reversed Y Axis)");let i=!1;for(const s of t.axes)s.position===x.Left&&(s.startPosition=1-s.startPosition,s.endPosition=1-s.endPosition,i=!0);return i||t.axes.push(new w({position:x.Left,startPosition:1,endPosition:0})),t}static reverseAllAxes(t){t.title&&(t.title+=" (reversed all Axes)"),t.update(!1);for(const i of t.axes)(i.position===x.Left||i.position===x.Bottom||i.position===x.Right||i.position===x.Top)&&(i.startPosition=1-i.startPosition,i.endPosition=1-i.endPosition);return t}static transpose(t){t.title&&(t.title+=" (transposed)"),t.update(!1);for(const i of t.axes)switch(i.position){case x.Bottom:i.position=x.Left;break;case x.Left:i.position=x.Bottom;break;case x.Right:i.position=x.Top;break;case x.Top:i.position=x.Right;break;case x.None:break;default:throw new Error("Invalid axis position")}for(const i of t.annotations)i.xAxis&&!i.xAxisKey&&(i.xAxis.key||(i.xAxis.key=this.XAXIS_KEY),i.xAxisKey=i.xAxis.key),i.yAxis&&!i.yAxisKey&&(i.yAxis.key||(i.yAxis.key=this.YAXIS_KEY),i.yAxisKey=i.yAxis.key);for(const i of t.series)i instanceof It&&(i.xAxisKey||(i.xAxis?(i.xAxis.key||(i.xAxis.key=this.XAXIS_KEY),i.xAxisKey=i.xAxis.key):i.xAxisKey=this.XAXIS_KEY),i.yAxisKey||(i.yAxis?(i.yAxis.key||(i.yAxis.key=this.YAXIS_KEY),i.yAxisKey=i.yAxis.key):i.yAxisKey=this.YAXIS_KEY));return t}}u(ce,"XAXIS_KEY","x"),u(ce,"YAXIS_KEY","y"),u(ce,"NonReversibleSeriesTypes",new Set),u(ce,"NonReversibleDataSpaceAnnotationTypes",new Set([])),u(ce,"NonTransposableSeriesTypes",new Set(["CandleStickAndVolumeSeries","OldCandleStickSeries"])),u(ce,"NonTransposableDataSpaceAnnotationTypes",new Set);class qt{static createVector(t,i,s){if(s.toFixed(0)!==s.toString())throw new Error("use createVectorWithStep instead");const n=[];for(let o=0;o<s;o++)n[o]=Number((t+(i-t)*o/(s-1)).toFixed(8));return n}static createVectorWithStep(t,i,s){const n=Math.round((i-t)/s),o=[];for(let a=0;a<=n;a++)o[a]=Number((t+a*s).toFixed(8));return o}static evaluate(t,i,s){const n=i.length,o=s.length,a=[];for(let l=0;l<n;l++){a[l]=[];for(let h=0;h<o;h++)a[l][h]=t(i[l],s[h])}return a}static fill(t,i){for(let s=0;s<t.length;s++)t[s]=i}static fill2D(t,i){for(let s=0;s<t.length;s++)for(let n=0;n<t[s].length;n++)t[s][n]=i}}class Ir{static getNearestHit(t,i,s,n,o,a){if(t){if(s||n){const l=t.getNearestPoint(i,!1);if(this.shouldTrackerOpen(l,i,o))return l}if(!n){const l=t.getNearestPoint(i,!0);if(!a||this.shouldTrackerOpen(l,i,o))return l}}}static shouldTrackerOpen(t,i,s){return t!=null&&t.position?Fe(t.position,i)<s:!1}}class _h{static contour(t,i,s,n,o){let a=0,l=0,h=0,m=0;const c=new Array(5),g=new Array(5),f=new Array(5),y=new Array(5),M=0,S=t.length-1,C=0,v=t[0].length-1,R=n.length,T=[0,1,1,0],P=[0,0,1,1],B=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],V=(E,q)=>(c[q]*f[E]-c[E]*f[q])/(c[q]-c[E]),O=(E,q)=>(c[q]*y[E]-c[E]*y[q])/(c[q]-c[E]);for(let E=v-1;E>=C;E--)for(let q=M;q<=S-1;q++){const ft=Math.min(t[q][E],t[q][E+1]),Z=Math.min(t[q+1][E],t[q+1][E+1]),ht=Math.min(ft,Z),Qt=Math.max(t[q][E],t[q][E+1]),Re=Math.max(t[q+1][E],t[q+1][E+1]),te=Math.max(Qt,Re);if(te>=n[0]&&ht<=n[R-1]){for(let ee=0;ee<R;ee++)if(n[ee]>=ht&&n[ee]<=te){for(let kt=4;kt>=0;kt--)kt>0?(c[kt]=t[q+T[kt-1]][E+P[kt-1]]-n[ee],f[kt]=i[q+T[kt-1]],y[kt]=s[E+P[kt-1]]):(c[0]=.25*(c[1]+c[2]+c[3]+c[4]),f[0]=.5*(i[q]+i[q+1]),y[0]=.5*(s[E]+s[E+1])),c[kt]>0?g[kt]=1:c[kt]<0?g[kt]=-1:g[kt]=0;for(let kt=1;kt<=4;kt++){const Rt=kt,Vt=0,ie=kt!==4?kt+1:1,aa=B[g[Rt]+1][g[Vt]+1][g[ie]+1];if(aa!==0){switch(aa){case 1:a=f[Rt],h=y[Rt],l=f[Vt],m=y[Vt];break;case 2:a=f[Vt],h=y[Vt],l=f[ie],m=y[ie];break;case 3:a=f[ie],h=y[ie],l=f[Rt],m=y[Rt];break;case 4:a=f[Rt],h=y[Rt],l=V(Vt,ie),m=O(Vt,ie);break;case 5:a=f[Vt],h=y[Vt],l=V(ie,Rt),m=O(ie,Rt);break;case 6:a=f[ie],h=y[ie],l=V(Rt,Vt),m=O(Rt,Vt);break;case 7:a=V(Rt,Vt),h=O(Rt,Vt),l=V(Vt,ie),m=O(Vt,ie);break;case 8:a=V(Vt,ie),h=O(Vt,ie),l=V(ie,Rt),m=O(ie,Rt);break;case 9:a=V(ie,Rt),h=O(ie,Rt),l=V(Rt,Vt),m=O(Rt,Vt);break}o(a,h,l,m,n[ee])}}}}}}}var ki=(e=>(e[e.RejectOutliers=0]="RejectOutliers",e[e.IgnoreOutliers=1]="IgnoreOutliers",e[e.CountOutliers=2]="CountOutliers",e))(ki||{}),cs=(e=>(e[e.InclusiveLowerBound=0]="InclusiveLowerBound",e[e.InclusiveUpperBound=1]="InclusiveUpperBound",e))(cs||{}),Oi=(e=>(e[e.ExcludeExtremeValues=0]="ExcludeExtremeValues",e[e.IncludeExtremeValues=1]="IncludeExtremeValues",e))(Oi||{});class Rn{constructor(t,i,s){if(this.outlierMode=t,this.intervalType=i,this.extremeValuesMode=s,t!==0&&t!==2&&t!==1)throw new Error("Unsupported binning outlier mode");if(i!==0&&i!==1)throw new Error("Unsupported bin interval type");if(s!==0&&s!==1)throw new Error("Unsupported bin interval type")}}class gi{static createUniformBins(t,i,s){if(s<1)throw new Error("The bin count must be positive.");if(isNaN(t)||!isFinite(t))throw new Error("The start may not be NaN or infinite.");if(isNaN(i)||!isFinite(i))throw new Error("The start may not be NaN or infinite.");if(i<=t)throw new Error("The end must be strictly greater than the start.");const n=[];n.push(t);for(let o=1;o<s;o++)n.push(t+(i-t)*o/s);return n.push(i),n}static collect(t,i,s){if(!t)throw new Error("Samples cannot be undefined.");if(!i)throw new Error("Bin breaks cannot be undefined.");if(!s)throw new Error("Binning options cannot be undefined.");const n=Array.from(new Set(i)).sort((m,c)=>m-c);if(n.length<2)throw new Error("At least 2 distinct bin breaks must be provided.");if(n.some(m=>isNaN(m)||!isFinite(m)))throw new Error("Bin breaks may not be NaN or infinite.");const o=new Array(n.length-1).fill(0);let a=0;function l(m,c){return m-c}for(const m of t){if(isNaN(m)||!isFinite(m))throw new Error("Samples may not be NaN or infinite.");let c=gi.binarySearch(n,m,l),g=!1;if(c>=0?s.intervalType===cs.InclusiveUpperBound?c>0?(o[c-1]+=1,g=!0):s.extremeValuesMode===Oi.IncludeExtremeValues&&(o[c]+=1,g=!0):c<o.length?(o[c]+=1,g=!0):s.extremeValuesMode===Oi.IncludeExtremeValues&&(o[c-1]+=1,g=!0):(c=~c-1,c>=0&&c<o.length&&(o[c]+=1,g=!0)),g)a++;else switch(s.outlierMode){case ki.RejectOutliers:throw new Error(`Sample with value ${m} could not be assigned to any bin.`);case ki.IgnoreOutliers:break;case ki.CountOutliers:a++;break}}a===0&&(a=1);const h=[];for(let m=0;m<n.length-1;m++){const c=o[m];h.push(new Ce(n[m],n[m+1],c/a,c))}return h}static binarySearch(t,i,s){let n=0,o=t.length-1;for(;n<=o;){const a=o+n>>1,l=s(i,t[a]);if(l>0)n=a+1;else if(l<0)o=a-1;else return a}return-n-1}}function Oh(){const e=new b({title:"Tool tips"});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e.annotations.push(new Dt({slope:.1,intercept:1,text:"LineAnnotation",toolTip:"This is a tool tip for the LineAnnotation"})),e.annotations.push(new Xt({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",toolTip:"This is a tooltip for the RectangleAnnotation",fill:r.fromAColor(99,p.Blue),stroke:p.Black,strokeThickness:2})),e.annotations.push(new Rs({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",toolTip:"This is a tool tip for the EllipseAnnotation",textRotation:10,fill:r.fromAColor(99,p.Green),stroke:p.Black,strokeThickness:2})),e.annotations.push(new $e({x:50,y:50,text:"P1",toolTip:"This is a tool tip for the PointAnnotation"})),e.annotations.push(new ns({startPoint:d(8,4),endPoint:d(0,0),color:p.Green,text:"ArrowAnnotation",toolTip:"This is a tool tip for the ArrowAnnotation"})),e.annotations.push(new ue({textPosition:d(60,60),text:"TextAnnotation",toolTip:"This is a tool tip for the TextAnnotation"})),e}const zh="Annotations",Gh={category:zh,tags:["Annotations"],examples:[{title:"Tool tips",example:{model:Oh}}]};function $h(){const e=new b;return e.title="ArrowAnnotations",e.axes.push(new w({position:x.Bottom,minimum:-40,maximum:60})),e.axes.push(new w({position:x.Left,minimum:-10,maximum:10})),e.annotations.push(new ns({startPoint:d(8,4),endPoint:d(0,0),color:p.Green,text:"StartPoint and EndPoint"})),e.annotations.push(new ns({arrowDirection:new pt(30,70),endPoint:d(40,-3),color:p.Blue,text:"ArrowDirection and EndPoint"})),e.annotations.push(new ns({arrowDirection:new pt(30,-70),endPoint:d(10,-3),headLength:14,headWidth:6,veeness:4,color:p.Red,text:"HeadLength = 20, HeadWidth = 10, Veeness = 4"})),e}const jh="ArrowAnnotation",Uh={category:jh,tags:["Annotations"],examples:[{title:"ArrowAnnotation",example:{model:$h}}]};function Hh(){const e=new b({title:"EllipseAnnotation"});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e.annotations.push(new Rs({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",textRotation:10,fill:r.fromAColor(99,p.Green),stroke:p.Black,strokeThickness:2})),e.annotations.push(new Rs({x:20,y:20,width:20,height:20,fill:r.fromAColor(99,p.Green),stroke:p.Black,strokeThickness:2})),e.annotations.push(new Rs({x:30,y:20,width:20,height:20,fill:r.fromAColor(99,p.Red),stroke:p.Black,strokeThickness:2})),e.annotations.push(new Rs({x:25,y:30,width:20,height:20,fill:r.fromAColor(99,p.Blue),stroke:p.Black,strokeThickness:2})),e}const Wh="EllipseAnnotation",Yh={category:Wh,tags:["Annotations"],examples:[{title:"EllipseAnnotation",example:{model:Hh}}]};function Xh(){const e=new b;return e.title="FunctionAnnotation",e.axes.push(new w({position:x.Bottom,minimum:-20,maximum:80})),e.axes.push(new w({position:x.Left,minimum:-10,maximum:10})),e.annotations.push(new xa({equation:Math.sin,strokeThickness:2,color:r.fromAColor(120,p.Blue),text:"f(x)=sin(x)"})),e.annotations.push(new xa({equation:t=>t*t,strokeThickness:2,color:r.fromAColor(120,p.Red),type:Ha.EquationY,text:"f(y)=y^2"})),e}const qh="FunctionAnnotation",Kh={category:qh,tags:["Annotations"],examples:[{title:"FunctionAnnotation",example:{model:Xh}}]};async function Zh(){const e=window.oxyPlotImg;if(!e)throw new Error("window.oxyPlotImg not set");const t=new b({title:"ImageAnnotation",plotMargins:new X(60,4,4,60)});t.axes.push(new w({position:x.Bottom})),t.axes.push(new w({position:x.Left}));const s=await Io().load(e);t.annotations.push(new ve({imageSource:s,opacity:.2,interpolate:!1,x:new nt(.5,j.RelativeToPlotArea),y:new nt(.5,j.RelativeToPlotArea),width:new nt(1,j.RelativeToPlotArea),horizontalAlignment:I.Center,verticalAlignment:D.Middle})),t.annotations.push(new ve({imageSource:s,x:new nt(1,j.RelativeToPlotArea),y:new nt(0,j.RelativeToPlotArea),width:new nt(120,j.ScreenUnits),horizontalAlignment:I.Right,verticalAlignment:D.Top})),t.annotations.push(new ve({imageSource:s,x:new nt(0,j.RelativeToPlotArea),y:new nt(0,j.RelativeToPlotArea),offsetY:new nt(-5,j.ScreenUnits),height:new nt(20,j.ScreenUnits),horizontalAlignment:I.Left,verticalAlignment:D.Bottom})),t.annotations.push(new ve({imageSource:s,x:new nt(50,j.Data),y:new nt(50,j.Data),width:new nt(200,j.ScreenUnits),horizontalAlignment:I.Left,verticalAlignment:D.Top})),t.annotations.push(new ve({imageSource:s,x:new nt(50,j.Data),y:new nt(20,j.Data),width:new nt(50,j.Data),horizontalAlignment:I.Center,verticalAlignment:D.Top})),t.annotations.push(new ve({imageSource:s,x:new nt(.5,j.RelativeToViewport),y:new nt(1,j.RelativeToViewport),offsetY:new nt(-35,j.ScreenUnits),height:new nt(30,j.ScreenUnits),horizontalAlignment:I.Center,verticalAlignment:D.Top}));for(let n=0;n<10;n++)t.annotations.push(new ve({imageSource:s,opacity:(n+1)/10,x:new nt(10,j.Data),y:new nt(n*2,j.Data),width:new nt(100,j.ScreenUnits),horizontalAlignment:I.Center,verticalAlignment:D.Bottom}));return t}async function Jh(){const e=new b({title:"Using ImageAnnotations to draw a gradient backgrounds",subtitle:"But do you really want this? This is called 'chartjunk'!",plotMargins:new X(60,4,4,60)});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const t=256,i=new Be(1,t);for(let a=0;a<t;a++)i.set(0,a,r.interpolate(p.Blue,p.Red,a/(t-1)));const s=await fe.create(i,pe.Png),n=Be.fromArray([[p.Yellow],[p.Gray]]),o=await fe.create(n,pe.Png);return e.annotations.push(new ve({imageSource:o,interpolate:!0,layer:Me.BelowAxes,x:new nt(0,j.RelativeToViewport),y:new nt(0,j.RelativeToViewport),width:new nt(1,j.RelativeToViewport),height:new nt(1,j.RelativeToViewport),horizontalAlignment:I.Left,verticalAlignment:D.Top})),e.annotations.push(new ve({imageSource:s,interpolate:!0,layer:Me.BelowAxes,x:new nt(0,j.RelativeToPlotArea),y:new nt(0,j.RelativeToPlotArea),width:new nt(1,j.RelativeToPlotArea),height:new nt(1,j.RelativeToPlotArea),horizontalAlignment:I.Left,verticalAlignment:D.Top})),e.series.push(new Q({f:Math.sin,x0:0,x1:7,dx:.01})),e}const $o=Be.fromArray([[p.Blue,p.Yellow],[p.Green,p.Red]]);async function Qh(){const e=new b({title:"ImageAnnotation - normal axes"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const t=$o,i=await fe.create(t,pe.Png);return e.annotations.push(new ve({imageSource:i,interpolate:!1,x:new nt(0,j.Data),y:new nt(0,j.Data),width:new nt(80,j.Data),height:new nt(50,j.Data),horizontalAlignment:I.Left,verticalAlignment:D.Bottom})),e}async function tm(){const e=new b({title:"ImageAnnotation - reverse horizontal axis"});e.axes.push(new w({position:x.Bottom,startPosition:1,endPosition:0})),e.axes.push(new w({position:x.Left}));const t=$o,i=await fe.create(t,pe.Png);return e.annotations.push(new ve({imageSource:i,interpolate:!1,x:new nt(100,j.Data),y:new nt(0,j.Data),width:new nt(80,j.Data),height:new nt(50,j.Data),horizontalAlignment:I.Left,verticalAlignment:D.Bottom})),e}async function em(){const e=new b({title:"ImageAnnotation - reverse vertical axis"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left,startPosition:1,endPosition:0}));const t=$o,i=await fe.create(t,pe.Png);return e.annotations.push(new ve({imageSource:i,interpolate:!1,x:new nt(0,j.Data),y:new nt(100,j.Data),width:new nt(80,j.Data),height:new nt(50,j.Data),horizontalAlignment:I.Left,verticalAlignment:D.Bottom})),e}const im="ImageAnnotation",sm={category:im,tags:["Annotations"],examples:[{title:"ImageAnnotation",example:{model:Zh}},{title:"ImageAnnotation - gradient backgrounds",example:{model:Jh}},{title:"ImageAnnotation - normal axes",example:{model:Qh}},{title:"ImageAnnotation - reverse horizontal axis",example:{model:tm}},{title:"ImageAnnotation - reverse vertical axis",example:{model:em}}]};function nm(){const e=new b;e.title="LineAnnotation on linear axes",e.axes.push(new w({position:x.Bottom,minimum:-20,maximum:80})),e.axes.push(new w({position:x.Left,minimum:-10,maximum:10}));const t=xe.changeOpacity(p.White,.75);return e.annotations.push(new Dt({slope:.1,intercept:1,text:"First",borderBackground:t,borderPadding:new X(5)})),e.annotations.push(new Dt({slope:.3,intercept:2,maximumX:40,color:p.Red,text:"Second",borderBackground:t,borderPadding:new X(5)})),e.annotations.push(new Dt({type:de.Vertical,x:4,maximumY:10,color:p.Green,text:"Vertical",borderBackground:t,borderPadding:new X(5)})),e.annotations.push(new Dt({type:de.Horizontal,y:2,maximumX:4,color:p.Gold,text:"Horizontal",borderBackground:t,borderPadding:new X(5)})),e}function om(){const e=new b;return e.title="LineAnnotation on logarithmic axes",e.axes.push(new wt({position:x.Bottom,minimum:1,maximum:80})),e.axes.push(new wt({position:x.Left,minimum:1,maximum:10})),e.annotations.push(new Dt({slope:.1,intercept:1,text:"First",textMargin:40})),e.annotations.push(new Dt({slope:.3,intercept:2,maximumX:40,color:p.Red,text:"Second"})),e.annotations.push(new Dt({type:de.Vertical,x:4,maximumY:10,color:p.Green,text:"Vertical"})),e.annotations.push(new Dt({type:de.Horizontal,y:2,maximumX:4,color:p.Gold,text:"Horizontal"})),e}function am(){const e=new b;return e.title="LineAnnotations",e.subtitle="with TextOrientation specified",e.axes.push(new w({position:x.Bottom,minimum:-20,maximum:80})),e.axes.push(new w({position:x.Left,minimum:-10,maximum:10})),e.annotations.push(new Dt({slope:.1,intercept:1,text:"Horizontal",textOrientation:oi.Horizontal,textVerticalAlignment:D.Bottom})),e.annotations.push(new Dt({slope:.3,intercept:2,maximumX:40,color:p.Red,text:"Vertical",textOrientation:oi.Vertical})),e.annotations.push(new Dt({type:de.Vertical,x:4,maximumY:10,color:p.Green,text:"Horizontal (x=4)",textPadding:8,textOrientation:oi.Horizontal})),e.annotations.push(new Dt({type:de.Vertical,x:45,maximumY:10,color:p.Green,text:"Horizontal (x=45)",textHorizontalAlignment:I.Left,textPadding:8,textOrientation:oi.Horizontal})),e.annotations.push(new Dt({type:de.Horizontal,y:2,maximumX:4,color:p.Gold,text:"Horizontal",textLinePosition:.5,textOrientation:oi.Horizontal})),e}function rm(){const e=new b;return e.title="ClipByAxis property",e.subtitle="This property specifies if the annotation should be clipped by the current axes or by the full plot area.",e.axes.push(new w({position:x.Bottom,minimum:-20,maximum:80,startPosition:0,endPosition:.45,textColor:p.Red})),e.axes.push(new w({position:x.Left,minimum:-10,maximum:10,startPosition:0,endPosition:.45,textColor:p.Green})),e.axes.push(new w({position:x.Bottom,minimum:-20,maximum:80,startPosition:.55,endPosition:1,textColor:p.Blue})),e.axes.push(new w({position:x.Left,minimum:-10,maximum:10,startPosition:.55,endPosition:1,textColor:p.Orange})),e.annotations.push(new Dt({clipByYAxis:!0,type:de.Vertical,x:0,color:p.Green,text:"Vertical, ClipByAxis = true"})),e.annotations.push(new Dt({clipByYAxis:!1,type:de.Vertical,x:20,color:p.Green,text:"Vertical, ClipByAxis = false"})),e.annotations.push(new Dt({clipByXAxis:!0,type:de.Horizontal,y:2,color:p.Gold,text:"Horizontal, ClipByAxis = true"})),e.annotations.push(new Dt({clipByXAxis:!1,type:de.Horizontal,y:8,color:p.Gold,text:"Horizontal, ClipByAxis = false"})),e}function lm(){const e=new b;return e.title="LineAnnotation on reversed axes",e.axes.push(new w({position:x.Bottom,minimum:-20,maximum:80,startPosition:1,endPosition:0})),e.axes.push(new w({position:x.Left,minimum:-10,maximum:10,startPosition:1,endPosition:0})),e.annotations.push(new Dt({slope:.1,intercept:1,text:"First",textHorizontalAlignment:I.Left})),e.annotations.push(new Dt({slope:.3,intercept:2,maximumX:40,color:p.Red,text:"Second",textHorizontalAlignment:I.Left,textVerticalAlignment:D.Bottom})),e.annotations.push(new Dt({type:de.Vertical,x:4,maximumY:10,color:p.Green,text:"Vertical",textHorizontalAlignment:I.Right})),e.annotations.push(new Dt({type:de.Horizontal,y:2,maximumX:4,color:p.Gold,text:"Horizontal",textHorizontalAlignment:I.Left})),e}const hm="LineAnnotation",mm={category:hm,tags:["Annotations"],examples:[{title:"LineAnnotation on linear axes",example:{model:nm}},{title:"LineAnnotation on logarithmic axes",example:{model:om}},{title:"LineAnnotation with text orientation specified",example:{model:am}},{title:"LineAnnotation - ClipByAxis property",example:{model:rm}},{title:"LineAnnotation on reversed axes",example:{model:lm}}]};function um(){const e=new b({title:"PointAnnotation"});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e.annotations.push(new $e({x:50,y:50,text:"P1"})),e}function cm(){const e=new b({title:"PointAnnotation - shapes"});return e.axes.push(new w({position:x.Bottom,maximum:120})),e.axes.push(new w({position:x.Left})),e.annotations.push(new $e({x:20,y:60,text:"Circle",shape:N.Circle,fill:p.LightGray,stroke:p.DarkGray,strokeThickness:1})),e.annotations.push(new $e({x:40,y:60,text:"Square",shape:N.Square,fill:p.LightBlue,stroke:p.DarkBlue,strokeThickness:1})),e.annotations.push(new $e({x:60,y:60,text:"Triangle",shape:N.Triangle,fill:p.IndianRed,stroke:p.Black,strokeThickness:1})),e.annotations.push(new $e({x:80,y:60,text:"Diamond",shape:N.Diamond,fill:p.ForestGreen,stroke:p.Black,strokeThickness:1})),e.annotations.push(new $e({x:100,y:60,text:"Custom",shape:N.Custom,customOutline:[A(-1,-1),A(1,1),A(-1,1),A(1,-1)],stroke:p.Black,fill:p.CadetBlue,strokeThickness:1})),e.annotations.push(new $e({x:20,y:40,text:"Cross",shape:N.Cross,stroke:p.IndianRed,strokeThickness:1})),e.annotations.push(new $e({x:40,y:40,text:"Plus",shape:N.Plus,stroke:p.Navy,strokeThickness:1})),e.annotations.push(new $e({x:60,y:40,text:"Star",shape:N.Star,stroke:p.DarkOliveGreen,strokeThickness:1})),e}function dm(){const e=new b({title:"PointAnnotation - text alignments"});e.axes.push(new w({position:x.Bottom,minimum:-50,maximum:50})),e.axes.push(new w({position:x.Left,minimum:-50,maximum:50}));for(let t=-1;t<=1;t++){const i=t,s=ci(I,i);for(let n=-1;n<=1;n++){const o=n,a=ci(D,o);e.annotations.push(new $e({x:t*20,y:n*20,size:10,text:`${s},${a}`,textHorizontalAlignment:i,textVerticalAlignment:o}))}}return e}const pm="PointAnnotation",gm={category:pm,tags:["Annotations"],examples:[{title:"PointAnnotation",example:{model:um}},{title:"PointAnnotation - shapes",example:{model:cm}},{title:"PointAnnotation - text alignments",example:{model:dm}}]};function xm(){const e=new b({title:"PolygonAnnotation"});e.axes.push(new w({position:x.Bottom,minimum:-20,maximum:20})),e.axes.push(new w({position:x.Left,minimum:-10,maximum:10}));const t=new Ke({text:"Polygon 1"});return t.points.push(d(4,-2),d(8,-4),d(17,7),d(5,8),d(2,5)),e.annotations.push(t),e}function fm(){const e=new b({title:"PolygonAnnotation with fixed text position and alignment"});e.axes.push(new w({position:x.Bottom,minimum:-20,maximum:20})),e.axes.push(new w({position:x.Left,minimum:-10,maximum:10}));const t=new Ke({text:"Polygon 1",textHorizontalAlignment:I.Left,textVerticalAlignment:D.Bottom,textPosition:d(4.1,-1.9)});return t.points.push(d(4,-2),d(8,-2),d(17,7),d(5,8),d(4,5)),e.annotations.push(t),e}function wm(){const e=new b({title:"Annotation Layers"});e.axes.push(new w({position:x.Bottom,minimum:-20,maximum:30,majorGridlineStyle:k.Solid,majorGridlineThickness:1})),e.axes.push(new w({position:x.Left,minimum:-10,maximum:10,majorGridlineStyle:k.Solid,majorGridlineThickness:1}));const t=new Ke({layer:Me.BelowAxes,text:"Layer = BelowAxes",points:[d(-11,-2),d(-7,-4),d(-3,7),d(-10,8),d(-13,5)]});e.annotations.push(t);const i=new Ke({layer:Me.BelowSeries,text:"Layer = BelowSeries",points:[d(4,-2),d(8,-4),d(12,7),d(5,8),d(2,5)]});e.annotations.push(i);const s=new Ke({layer:Me.AboveSeries,text:"Layer = AboveSeries",points:[d(19,-2),d(23,-4),d(27,7),d(20,8),d(17,5)]});return e.annotations.push(s),e.series.push(new Q({f:Math.sin,x0:-20,x1:30,n:400})),e}function ym(){function e(a){return[d(a.x,a.y+1),d(a.x+Math.sin(Math.PI*2/3),a.y+Math.cos(Math.PI*2/3)),d(a.x+Math.sin(Math.PI*4/3),a.y+Math.cos(Math.PI*4/3))]}const t=new b({title:"PolygonAnnotation",plotType:rt.Cartesian});t.axes.push(new w({position:x.Bottom,minimum:-4,maximum:4})),t.axes.push(new w({position:x.Left,minimum:-2,maximum:2}));const i=new Ke({text:"MSL = 4",minimumSegmentLength:4});let s=rn(e(d(-2,0)),8,!0,!0);li(i.points,s),t.annotations.push(i);const n=new Ke({text:"MSL = 2",minimumSegmentLength:2});s=rn(e(d(0,0)),8,!0,!0),li(n.points,s),t.annotations.push(n);const o=new Ke({text:"MSL = 1",minimumSegmentLength:1});return s=rn(e(d(2,0)),8,!0,!0),li(o.points,s),t.annotations.push(o),t}function rn(e,t,i,s){const n=Math.cos(Math.PI/3),o=Math.sin(Math.PI/3);let a=e;for(let l=0;l<t;l++){const h=new Array(s?a.length*4:a.length*4-3);for(let m=0;m<(s?a.length:a.length-1);m++){const c=a[m],g=a[(m+1)%a.length],f=(g.x-c.x)/3,y=(g.y-c.y)/3;let M,S;M=n*f-o*y,S=n*y+o*f,h[m*4]=c,h[m*4+1]=d(c.x+f,c.y+y),h[m*4+2]=d(c.x+f+M,c.y+y+S),h[m*4+3]=d(c.x+f*2,c.y+y*2)}s||(h[h.length-1]=a[a.length-1]),a=h}return a}const Xn={kochFractal:rn},bm="PolygonAnnotation",Mm={category:bm,tags:["Annotations"],examples:[{title:"PolygonAnnotation",example:{model:xm}},{title:"PolygonAnnotation with custom text position and alignment",example:{model:fm}},{title:"AnnotationLayer property",example:{model:wm}},{title:"Koch Snowflakes",example:{model:ym}}]};function Sm(){const e=new b({title:"PolylineAnnotation"});e.axes.push(new w({position:x.Bottom,minimum:0,maximum:30})),e.axes.push(new w({position:x.Left,minimum:0,maximum:30}));const t=new Ps({text:"Polyline"});t.points.push(d(0,10),d(5,5),d(20,1),d(30,20));const i=new Ps({text:"Smooth Polyline",interpolationAlgorithm:Le.CanonicalSpline});return i.points.push(d(0,15),d(3,23),d(9,30),d(20,12),d(30,10)),e.annotations.push(t,i),e}function km(){function e(o){return[d(o.x-1,o.y),d(o.x+1,o.y)]}const t=new b({title:"PolygonAnnotation",plotType:rt.Cartesian});t.axes.push(new w({position:x.Bottom,minimum:-2,maximum:2})),t.axes.push(new w({position:x.Left,minimum:-2,maximum:2}));const i=new Ps({text:"MSL = 4",minimumSegmentLength:4,lineStyle:k.Solid,textPosition:d(0,1)});i.points.push(...Xn.kochFractal(e(d(0,1)),8,!0,!1)),t.annotations.push(i);const s=new Ps({text:"MSL = 2",minimumSegmentLength:2,lineStyle:k.Solid,textPosition:d(0,0)});s.points.push(...Xn.kochFractal(e(d(0,0)),8,!0,!1)),t.annotations.push(s);const n=new Ps({text:"MSL = 1",minimumSegmentLength:1,lineStyle:k.Solid,textPosition:d(0,-1)});return n.points.push(...Xn.kochFractal(e(d(0,-1)),8,!0,!1)),t.annotations.push(n),t}const Am="PolylineAnnotation",Rm={category:Am,tags:["Annotations"],examples:[{title:"PolylineAnnotation",example:{model:Sm}},{title:"Koch Surfaces",example:{model:km}}]};function Tm(){const e=new b({title:"RectangleAnnotation"});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e.annotations.push(new Xt({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",fill:r.fromAColor(99,p.Blue),stroke:p.Black,strokeThickness:2})),e}function Cm(){const e=new b({title:"RectangleAnnotations - vertical limit"});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e.annotations.push(new Xt({maximumY:89.5,text:"Valid area",fill:r.fromAColor(99,p.Black)})),e}function vm(){const e=new b({title:"RectangleAnnotation - horizontal bands"});e.axes.push(new w({position:x.Bottom,minimum:0,maximum:10})),e.axes.push(new w({position:x.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),e.annotations.push(new Xt({minimumY:89.5,maximumY:90.8,text:"Invalid",fill:r.fromAColor(99,p.Red)})),e.annotations.push(new Xt({minimumY:90.8,maximumY:92.1,fill:r.fromAColor(99,p.Orange)})),e.annotations.push(new Xt({minimumY:92.1,maximumY:94.6,fill:r.fromAColor(99,p.Yellow)})),e.annotations.push(new Xt({minimumY:94.6,maximumY:96,text:"Ok",fill:r.fromAColor(99,p.Green)}));const t=new G({color:p.Black,strokeThickness:6,lineJoin:et.Round});return t.points.push(d(.5,90.7)),t.points.push(d(1.5,91.2)),t.points.push(d(2.5,91)),t.points.push(d(3.5,89.5)),t.points.push(d(4.5,92.5)),t.points.push(d(5.5,93.1)),t.points.push(d(6.5,94.5)),t.points.push(d(7.5,95.5)),t.points.push(d(8.5,95.7)),t.points.push(d(9.5,96)),e.series.push(t),e}function Pm(){const e=new b({title:"RectangleAnnotation - vertical bands"});e.axes.push(new w({position:x.Bottom,minimum:0,maximum:10})),e.axes.push(new w({position:x.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),e.annotations.push(new Xt({minimumX:2.5,maximumX:2.8,textRotation:90,text:"Red",fill:r.fromAColor(99,p.Red)})),e.annotations.push(new Xt({minimumX:2.8,maximumX:6.1,textRotation:90,text:"Orange",fill:r.fromAColor(99,p.Orange)})),e.annotations.push(new Xt({minimumX:6.1,maximumX:7.6,textRotation:90,text:"Yellow",fill:r.fromAColor(99,p.Yellow)})),e.annotations.push(new Xt({minimumX:7.6,maximumX:9.7,textRotation:270,text:"Green",fill:r.fromAColor(99,p.Green)}));const t=new G({color:p.Black,strokeThickness:6,lineJoin:et.Round});return t.points.push(d(.5,90.7)),t.points.push(d(1.5,91.2)),t.points.push(d(2.5,91)),t.points.push(d(3.5,89.5)),t.points.push(d(4.5,92.5)),t.points.push(d(5.5,93.1)),t.points.push(d(6.5,94.5)),t.points.push(d(7.5,95.5)),t.points.push(d(8.5,95.7)),t.points.push(d(9.5,96)),e.series.push(t),e}const Lm="RectangleAnnotation",Im={category:Lm,tags:["Annotations"],examples:[{title:"RectangleAnnotation",example:{model:Tm}},{title:"RectangleAnnotations - vertical limit",example:{model:Cm}},{title:"RectangleAnnotation - horizontal bands",example:{model:vm}},{title:"RectangleAnnotation - vertical bands",example:{model:Pm}}]};function Bm(){const e=new b({title:"TextAnnotation"});e.axes.push(new w({position:x.Bottom,minimum:-15,maximum:25})),e.axes.push(new w({position:x.Left,minimum:-5,maximum:18})),e.annotations.push(new ue({textPosition:d(-6,0),text:"Text annotation 1"})),e.annotations.push(new ue({textPosition:d(-7,10),textRotation:80,text:"Text annotation 2"})),e.annotations.push(new ue({textPosition:d(2,2),textRotation:20,textHorizontalAlignment:I.Right,textVerticalAlignment:D.Top,text:"Right/Top"})),e.annotations.push(new ue({textPosition:d(2,4),textRotation:20,textHorizontalAlignment:I.Right,textVerticalAlignment:D.Middle,text:"Right/Middle"})),e.annotations.push(new ue({textPosition:d(2,6),textRotation:20,textHorizontalAlignment:I.Right,textVerticalAlignment:D.Bottom,text:"Right/Bottom"})),e.annotations.push(new ue({textPosition:d(10,2),textRotation:20,textHorizontalAlignment:I.Center,textVerticalAlignment:D.Top,text:"Center/Top"})),e.annotations.push(new ue({textPosition:d(10,4),textRotation:20,textHorizontalAlignment:I.Center,textVerticalAlignment:D.Middle,text:"Center/Middle"})),e.annotations.push(new ue({textPosition:d(10,6),textRotation:20,textHorizontalAlignment:I.Center,textVerticalAlignment:D.Bottom,text:"Center/Bottom"})),e.annotations.push(new ue({textPosition:d(18,2),textRotation:20,textHorizontalAlignment:I.Left,textVerticalAlignment:D.Top,text:"Left/Top"})),e.annotations.push(new ue({textPosition:d(18,4),textRotation:20,textHorizontalAlignment:I.Left,textVerticalAlignment:D.Middle,text:"Left/Middle"})),e.annotations.push(new ue({textPosition:d(18,6),textRotation:20,textHorizontalAlignment:I.Left,textVerticalAlignment:D.Bottom,text:"Left/Bottom"}));const t=.05,i=(s,n)=>{const o=new Ke({layer:Me.BelowAxes,points:[d(s-t,n-t),d(s+t,n-t),d(s+t,n+t),d(s-t,n+t),d(s-t,n-t)]});e.annotations.push(o)};for(const s of[...e.annotations]){const n=s;n&&i(n.textPosition.x,n.textPosition.y)}return e}function Dm(){const e=new b({title:"TextAnnotation Rotations"});e.axes.push(new w({position:x.Bottom,minimum:-5,maximum:45})),e.axes.push(new w({position:x.Left,startPosition:1,endPosition:0,minimum:-1,maximum:8}));for(let t=0;t<360;t+=5)e.annotations.push(new ue({textRotation:t,textPosition:d(t%45,t/45),text:`${t}°`,textVerticalAlignment:D.Middle,textHorizontalAlignment:I.Center}));return e}const Nm="TextAnnotation",Fm={category:Nm,tags:["Annotations"],examples:[{title:"TextAnnotation",example:{model:Bm}},{title:"Rotations",example:{model:Dm}}]},Vm=[Gh,Uh,Yh,Kh,sm,mm,gm,Mm,Rm,Im,Fm];function Em(){const e=new b({title:"Normal distribution",subtitle:"Probability density function"});return e.axes.push(new w({position:x.Left,minimum:-.05,maximum:1.05,majorStep:.2,minorStep:.05,tickStyle:it.Inside})),e.axes.push(new w({position:x.Bottom,minimum:-5.25,maximum:5.25,majorStep:1,minorStep:.25,tickStyle:it.Inside})),e.series.push(Ve(-5,5,0,.2)),e.series.push(Ve(-5,5,0,1)),e.series.push(Ve(-5,5,0,5)),e.series.push(Ve(-5,5,-2,.5)),e}const Ve=(e,t,i,s,n=1001)=>{const o=new G;o.title=`μ=${i}, σ²=${s}`;for(let a=0;a<n;a++){const l=e+(t-e)*a/(n-1),h=1/Math.sqrt(2*Math.PI*s)*Math.exp(-(l-i)*(l-i)/2/s);o.points.push(d(l,h))}return o};function _m(){const e=new b({title:"Average (Mean) monthly temperatures in 2003",plotMargins:new X(60,4,60,40),plotAreaBorderThickness:new X(0),isLegendVisible:!1}),t=m=>`${m.title}: ${Number(m.yValue).toFixed(1)}ºF`,i=new G({title:"Phoenix",lineLegendPosition:as.End,trackerStringFormatter:t}),s=new G({title:"Raleigh",lineLegendPosition:as.End,trackerStringFormatter:t}),n=new G({title:"Minneapolis",lineLegendPosition:as.End,trackerStringFormatter:t}),o=[52.1,55.1,59.7,67.7,76.3,84.6,91.2,89.1,83.8,72.2,59.8,52.5],a=[40.5,42.2,49.2,59.5,67.4,74.4,77.5,76.5,70.6,60.2,50,41.2],l=[12.2,16.5,28.3,45.1,57.1,66.9,71.9,70.2,60,50,32.4,18.6];for(let m=0;m<12;m++)i.points.push(d(m,o[m])),s.points.push(d(m,a[m])),n.points.push(d(m,l[m]));e.series.push(i),e.series.push(s),e.series.push(n);const h=new K({axislineStyle:k.Solid});return h.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),e.axes.push(h),e.axes.push(new w({position:x.Left,title:"Fahrenheit",axislineStyle:k.Solid})),e}const Om="1 ShowCases",zm={category:Om,tags:["Showcase"],examples:[{title:"Normal distribution",example:{model:Em}},{title:"Average (Mean) monthly temperatures in 2003",example:{model:_m}}]};class bt{constructor(t){}next(t,i){return di(t)&&di(i)?Math.random():(t=t||0,i=vt(i)?1:i,Math.floor(Math.random()*(i-t+1))+t)}}function Gm(){return Cn(it.None)}function $m(){return Cn(it.Inside)}function jm(){return Cn(it.Crossing)}function Um(){return Cn(it.Outside)}function Hm(){const e=new b({title:"Color major and minor ticks differently"});return e.axes.push(new w({position:x.Left,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:p.Blue,minorTicklineColor:p.Gray})),e.axes.push(new w({position:x.Bottom,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:p.Blue,minorTicklineColor:p.Gray})),e}function Wm(){const e=new b({title:"No gridlines"});return e.axes.push(new w({position:x.Left})),e.axes.push(new w({position:x.Bottom})),e}function Ym(){const e=new b({title:"Vertical gridlines"});return e.axes.push(new w),e.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Bottom})),e}function Xm(){const e=new b({title:"Horizontal gridlines"});return e.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot})),e.axes.push(new w({position:x.Bottom})),e}function qm(){const e=new b({title:"Horizontal and vertical gridlines"});return e.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot})),e.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Bottom})),e}function Km(){const e=new b;return e.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,title:"Left"})),e.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Bottom,title:"Bottom"})),e}function Zm(){const e=new b;return e.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Right,title:"Right"})),e.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Top,title:"Top"})),e}function Jm(){const e=new b({plotMargins:new X(60,40,60,30)});return e.axes.push(new w({angle:45,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,title:"Left"})),e.axes.push(new w({angle:45,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Bottom,title:"Bottom"})),e}function Qm(){const e=new b({title:"PositionAtZeroCrossing = true",plotAreaBorderThickness:new X(0),plotMargins:new X(10,10,10,10)});return e.axes.push(new w({maximum:50,minimum:-30,positionAtZeroCrossing:!0,axislineStyle:k.Solid,tickStyle:it.Crossing})),e.axes.push(new w({maximum:70,minimum:-50,position:x.Bottom,positionAtZeroCrossing:!0,axislineStyle:k.Solid,tickStyle:it.Crossing})),e}function tu(){const e=new b({title:"Bottom axis: PositionAtZeroCrossing = true"});return e.axes.push(new w({maximum:50,minimum:-30,position:x.Left,positionAtZeroCrossing:!1})),e.axes.push(new w({maximum:70,minimum:-50,position:x.Bottom,positionAtZeroCrossing:!0,axislineStyle:k.Solid})),e}function eu(){const e=new b({title:"Left axis: PositionAtZeroCrossing = true"});return e.axes.push(new w({maximum:50,minimum:-30,position:x.Left,positionAtZeroCrossing:!0,axislineStyle:k.Solid})),e.axes.push(new w({maximum:70,minimum:-50,position:x.Bottom,positionAtZeroCrossing:!1})),e}function iu(){const e=new b({title:"EndPosition = 0, StartPosition = 1"});return e.axes.push(new w({endPosition:0,startPosition:1,maximum:50,minimum:-30,position:x.Left})),e.axes.push(new w({endPosition:0,startPosition:1,maximum:70,minimum:-50,position:x.Bottom})),e}function su(){const e=new b;e.axes.push(new w({endPosition:0,startPosition:1,maximum:1.5,minimum:-1.5,position:x.Left}));const t=new w({startPosition:0,endPosition:.45,maximum:7,minimum:0,position:x.Bottom,key:"x1"});e.axes.push(t);const i=new w({startPosition:.55,endPosition:1,maximum:10,minimum:0,position:x.Bottom,key:"x2"});return e.axes.push(i),e.series.push(new Q({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:t.key})),e.series.push(new Q({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:i.key})),e}function nu(){const e=new b;return e.axes.push(new w({maximum:36,minimum:0,title:"km/h"})),e.axes.push(new w({maximum:10,minimum:0,position:x.Right,title:"m/s"})),e.axes.push(new w({maximum:10,minimum:0,position:x.Bottom,title:"meter"})),e.axes.push(new w({maximum:1e4,minimum:0,position:x.Top,title:"millimeter"})),e}function ou(){const e=new b;return e.axes.push(new w({endPosition:.25,maximum:1,minimum:-1,title:"C1"})),e.axes.push(new w({endPosition:.5,maximum:1,minimum:-1,position:x.Right,startPosition:.25,title:"C2"})),e.axes.push(new w({endPosition:.75,maximum:1,minimum:-1,startPosition:.5,title:"C3"})),e.axes.push(new w({maximum:1,minimum:-1,position:x.Right,startPosition:.75,title:"C4"})),e.axes.push(new w({maximum:100,minimum:0,position:x.Bottom,title:"s"})),e}function au(){const e=new b;return e.axes.push(new wt({maximum:1e6,minimum:1,title:"Log axis",useSuperExponentialFormat:!0})),e.axes.push(new wt({maximum:1e4,minimum:.001,position:x.Bottom,title:"Log axis",useSuperExponentialFormat:!0})),e}const ru=()=>new b({plotType:rt.Cartesian,axes:[new wt({maximum:1e6,minimum:1,title:"Log x axis",useSuperExponentialFormat:!0,majorGridlineStyle:k.Solid,isPanEnabled:!0}),new wt({maximum:1e4,minimum:.001,position:x.Bottom,title:"Log y axis",useSuperExponentialFormat:!0,majorGridlineStyle:k.Solid,isPanEnabled:!0})]});function lu(){const e=new b;return e.axes.push(new w({maximum:6e32,minimum:-1e47,title:"big numbers"})),e.axes.push(new w({maximum:3e50,minimum:-1e40,position:x.Bottom,title:"big numbers"})),e}function hu(){const e=new b;return e.axes.push(new w({maximum:6e32,minimum:-1e47,title:"big numbers",useSuperExponentialFormat:!0})),e.axes.push(new w({maximum:3e50,minimum:-1e40,position:x.Bottom,title:"big numbers",useSuperExponentialFormat:!0})),e}function mu(){const e=new b;return e.axes.push(new w({maximum:6e-15,minimum:-5e-15,title:"small numbers"})),e.axes.push(new w({maximum:3e-15,minimum:-4e-15,position:x.Bottom,title:"small numbers"})),e}function uu(){const e=new b({title:"Default padding"});e.axes.push(new w),e.axes.push(new w({position:x.Bottom}));const t=new G({color:r.fromArgb(255,78,154,6),markerFill:r.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),e.series.push(t),e}function cu(){const e=new b({title:"No padding"});e.axes.push(new w({maximumPadding:0,minimumPadding:0})),e.axes.push(new w({maximumPadding:0,minimumPadding:0,position:x.Bottom}));const t=new G({color:r.fromArgb(255,78,154,6),markerFill:r.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),e.series.push(t),e}function du(){const e=new b({title:"Padding 10%"});e.axes.push(new w({maximumPadding:.1,minimumPadding:.1})),e.axes.push(new w({maximumPadding:.1,minimumPadding:.1,position:x.Bottom}));const t=new G({color:r.fromArgb(255,78,154,6),markerFill:r.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),e.series.push(t),e}function pu(){const e=new b({title:"X-axis MinimumPadding=0.1"});e.axes.push(new w),e.axes.push(new w({minimumPadding:.1,position:x.Bottom}));const t=new G({color:r.fromArgb(255,78,154,6),markerFill:r.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),e.series.push(t),e}function gu(){const e=new b({title:"X-axis MaximumPadding=0.1"});e.axes.push(new w),e.axes.push(new w({maximumPadding:.1,position:x.Bottom}));const t=new G({color:r.fromArgb(255,78,154,6),markerFill:r.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),e.series.push(t),e}function xu(){const e=new b({title:"AbsoluteMinimum=-17, AbsoluteMaximum=63",subtitle:"Zooming and panning is limited to these values."});return e.axes.push(new w({position:x.Bottom,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),e.axes.push(new w({position:x.Left,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),e}function fu(){const e=new b({title:"MinimumRange = 400"});return e.axes.push(new w({position:x.Left,minimumRange:400})),e}function wu(){const e=new b({title:"MaximumRange = 40"});return e.axes.push(new w({position:x.Left,maximumRange:40})),e}function yu(){const e=new b({title:"Axis titles with units"});return e.axes.push(new w({position:x.Bottom,title:"Speed",unit:"km/h"})),e.axes.push(new w({position:x.Left,title:"Temperature",unit:"°C"})),e}function bu(){const e=new b({title:"Invisible vertical axis"});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left,isAxisVisible:!1})),e.series.push(new Q({f:t=>Math.sin(t)/t,x0:-5,x1:5,dx:.1})),e}function Mu(){const e=new b({title:"Invisible horizontal axis"});return e.axes.push(new w({position:x.Bottom,isAxisVisible:!1})),e.axes.push(new w({position:x.Left})),e.series.push(new Q({f:t=>Math.sin(t)*t*t,x0:-5,x1:5,dx:.1})),e}function Su(){const e=new b({title:"Zooming disabled"});return e.axes.push(new w({position:x.Bottom,isZoomEnabled:!1})),e.axes.push(new w({position:x.Left,isZoomEnabled:!1})),e}function ku(){const e=new b({title:"Panning disabled"});return e.axes.push(new w({position:x.Bottom,isPanEnabled:!1})),e.axes.push(new w({position:x.Left,isPanEnabled:!1})),e}function Au(){const e=new b({title:"Dense intervals"});return e.axes.push(new w({position:x.Bottom,intervalLength:30})),e.axes.push(new w({position:x.Left,intervalLength:20})),e}function Ru(){const e=new b({title:"Graph Paper"}),t=p.DarkBlue;return e.plotType=rt.Cartesian,e.axes.push(new w({position:x.Bottom,title:"X",majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e.axes.push(new w({position:x.Left,title:"Y",majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e}function Tu(){const e=new b({title:"Log-Log Paper"}),t=p.DarkBlue;return e.axes.push(new wt({position:x.Bottom,title:"X",minimum:.1,maximum:1e3,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e.axes.push(new wt({position:x.Left,title:"Y",minimum:.1,maximum:1e3,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e}function Cu(){const e=new b({title:"Black background",background:p.Black,textColor:p.White,plotAreaBorderColor:p.White}),t=p.White;return e.plotType=rt.Cartesian,e.series.push(new Q({f:Math.sin,x0:0,x1:Math.PI*2,n:1e3,title:"f(x)=sin(x)"})),e.axes.push(new w({position:x.Bottom,title:"x",majorStep:Math.PI/2,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t),ticklineColor:p.White})),e.axes.push(new w({position:x.Left,title:"f(x)",majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t),ticklineColor:p.White})),e}function vu(){const e=new b({title:"Background and PlotAreaBackground",background:p.Silver,plotAreaBackground:p.Gray,plotAreaBorderColor:p.Black,plotAreaBorderThickness:new X(3)});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function Pu(){const e=new b({title:"Current culture"});return e.axes.push(new w({position:x.Bottom,minimum:-1,maximum:1})),e.axes.push(new w({position:x.Left,minimum:-1,maximum:1})),e.series.push(new Q({f:Math.sin,x0:-1,x1:1,n:100})),e}function Lu(){const e="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",t="The tool tip is "+e,i=new b({title:"Long axis titles (clipped at 90%)"});return i.axes.push(new w({position:x.Left,title:e,toolTip:t})),i.axes.push(new w({position:x.Bottom,title:e,toolTip:t})),i}function Iu(){const e="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",t="The tool tip is "+e,i=new b({title:"Long axis titles (clipped at 100%)"});return i.axes.push(new w({position:x.Left,title:e,toolTip:t,titleClippingLength:1})),i.axes.push(new w({position:x.Bottom,title:e,toolTip:t,titleClippingLength:1})),i}function Bu(){const e="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",t="The tool tip is "+e,i=new b({title:"Long axis titles (not clipped)"});return i.axes.push(new w({position:x.Left,title:e,toolTip:t,clipTitle:!1})),i.axes.push(new w({position:x.Bottom,title:e,toolTip:t,clipTitle:!1})),i}function Du(){const e=new b,t=new w({maximum:1,minimum:-1,title:"PositionTier=0"});e.axes.push(t);const i=new w({axislineStyle:k.Solid,maximum:2,minimum:-2,positionTier:1,title:"PositionTier=1"});e.axes.push(i);const s=new w({maximum:1,minimum:-1,position:x.Right,title:"PositionTier=0"});e.axes.push(s);const n=new w({axislineStyle:k.Solid,maximum:2,minimum:-2,position:x.Right,positionTier:1,title:"PositionTier=1"});e.axes.push(n);const o=new w({maximum:1,minimum:-1,position:x.Top,title:"PositionTier=0"});e.axes.push(o);const a=new w({axislineStyle:k.Solid,maximum:2,minimum:-2,position:x.Top,positionTier:1,title:"PositionTier=1"});e.axes.push(a);const l=new w({axislineStyle:k.Solid,maximum:10,minimum:-10,position:x.Top,positionTier:2,title:"PositionTier=2"});e.axes.push(l);const h=new w({maximum:1,minimum:-1,position:x.Bottom,title:"PositionTier=0"});e.axes.push(h);const m=new w({axislineStyle:k.Solid,maximum:2,minimum:-2,position:x.Bottom,positionTier:1,title:"PositionTier=1"});e.axes.push(m);const c=new w({axislineStyle:k.Solid,maximum:10,minimum:-10,position:x.Bottom,positionTier:2,title:"PositionTier=2"});return e.axes.push(c),e}function Nu(){const e=new b({title:"Custom axis title color"});return e.axes.push(new w({position:x.Bottom,minimum:-1,maximum:1,title:"Bottom axis",titleColor:p.Red})),e.axes.push(new w({position:x.Left,minimum:-1,maximum:1,title:"Left axis",titleColor:p.Blue})),e.series.push(new Q({f:Math.sin,x0:-1,x1:1,n:100})),e}function Fu(){const e=new b({title:"Custom axis label color"});return e.axes.push(new w({position:x.Bottom,minimum:-1,maximum:1,title:"Bottom axis",textColor:p.Red})),e.axes.push(new w({position:x.Left,minimum:-1,maximum:1,title:"Left axis",textColor:p.Blue})),e.series.push(new Q({f:Math.sin,x0:-1,x1:1,n:100})),e}function Vu(){const e=new b({title:"Angled axis numbers"});return e.axes.push(new w({position:x.Bottom,minimum:-1,maximum:1,title:"Bottom axis",angle:45})),e.axes.push(new w({position:x.Left,minimum:-1,maximum:1,title:"Left axis",angle:45})),e.axes.push(new w({position:x.Top,minimum:-1,maximum:1,title:"Top axis",angle:45})),e.axes.push(new w({position:x.Right,minimum:-1,maximum:1,title:"Right axis",angle:45})),e}function Eu(){const e=new b({title:"AxisDistance = 20"});return e.axes.push(new w({axislineStyle:k.Solid,axisDistance:20,position:x.Bottom})),e.axes.push(new w({axislineStyle:k.Solid,axisDistance:20,position:x.Left})),e.axes.push(new w({axislineStyle:k.Solid,axisDistance:20,position:x.Right})),e.axes.push(new w({axislineStyle:k.Solid,axisDistance:20,position:x.Top})),e}function _u(){const e=new b({title:"No axes defined",subtitle:"Bottom and left axes are auto-generated."});return e.series.push(new Q({f:Math.sin,x0:0,x1:10,n:400})),e}function Ou(){const e=new b({title:"LabelFormatter"});e.axes.push(new w({position:x.Bottom,minimum:-10,maximum:10,labelFormatter:i=>Math.abs(i)<Number.EPSILON?"ZERO":i.toString()}));const t=65;return e.axes.push(new w({position:x.Left,minimum:0,maximum:25,majorStep:1,minorStep:1,maximumPadding:0,minimumPadding:0,labelFormatter:i=>String.fromCharCode(i+t)})),e}function zu(){const e=new b({title:"Tool tips"});return e.axes.push(new w({position:x.Left,title:"Left axis",toolTip:"Tool tip for the left axis"})),e.axes.push(new w({position:x.Bottom,title:"Bottom axis",toolTip:"Tool tip for the bottom axis"})),e}function Gu(){const e=new b({title:"Sub- and superscript in axis titles"});return e.axes.push(new w({title:"Title with^{super}_{sub}script"})),e.axes.push(new w({title:"Title with^{super}_{sub}script",position:x.Bottom})),e}function $u(){const e=new b({title:"Axes with MinimumMajorStep"});return e.axes.push(new w({position:x.Bottom,title:"MinimuMajorStep = 1",minimum:0,maximum:2,minimumMajorStep:1})),e.axes.push(new w({position:x.Left,title:"MinimuMajorStep = 10",minimum:0,maximum:15,minimumMajorStep:10})),e.axes.push(new w({position:x.Top,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:2})),e.axes.push(new w({position:x.Right,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:15})),e}function ju(){const e=new b({title:"Axes with MinimumMinorStep"});return e.axes.push(new w({position:x.Bottom,title:"MinimumMinorStep = 1",minimum:0,maximum:20,minimumMinorStep:1})),e.axes.push(new w({position:x.Left,title:"MinimumMinorStep = 10",minimum:0,maximum:150,minimumMinorStep:10})),e.axes.push(new w({position:x.Top,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:20})),e.axes.push(new w({position:x.Right,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:150})),e}function Uu(){const e=new b({title:"AxisTitleDistance = 4 (default)"});return e.axes.push(new w({position:x.Bottom,title:"Bottom",minimum:0,maximum:20})),e.axes.push(new w({position:x.Left,title:"Left",minimum:0,maximum:150})),e.axes.push(new w({position:x.Top,title:"Top",minimum:0,maximum:20})),e.axes.push(new w({position:x.Right,title:"Right",minimum:0,maximum:150})),e}function Hu(){const e=new b({title:"AxisTitleDistance = 40"});return e.axes.push(new w({position:x.Bottom,title:"Bottom",minimum:0,maximum:20,axisTitleDistance:40})),e.axes.push(new w({position:x.Left,title:"Left",minimum:0,maximum:150,axisTitleDistance:40})),e.axes.push(new w({position:x.Top,title:"Top",minimum:0,maximum:20,axisTitleDistance:40})),e.axes.push(new w({position:x.Right,title:"Right",minimum:0,maximum:150,axisTitleDistance:40})),e}function Wu(){const e=new b({title:"MajorGridlineStyle and MajorGridlineThickness"});return e.axes.push(new w({majorGridlineStyle:k.Solid,majorGridlineThickness:10})),e.axes.push(new w({majorGridlineStyle:k.Solid,majorGridlineThickness:10,position:x.Bottom})),e}function Yu(){const e=new b({title:"Gridline cropping"});return e.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,extraGridlines:[46],extraGridlineColor:p.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),e.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,extraGridlines:[46],extraGridlineColor:p.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),e.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Bottom,extraGridlines:[46],extraGridlineColor:p.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),e.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Bottom,extraGridlines:[46],extraGridlineColor:p.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),e}function Xu(){const e="axisY_Temperature",t="axisY_Pressure",i="axisY_Humidity",s=new b({title:"Multi vertical axes with lineSeries"}),n=new H({legendBackground:p.White});s.legends.push(n);const o=new Lt({title:"Time",position:x.Bottom,majorGridlineStyle:k.Solid,fontSize:13});s.axes.push(o);let a=null,l=null,h=null,m=null,c=null,g=null;m=new w({title:"Temperature",position:x.Left,majorGridlineStyle:k.None,positionTier:1,key:e,isAxisVisible:!0}),a=new G({title:"Temperature",color:p.Tomato,lineStyle:k.Solid,markerType:N.Circle,markerSize:3,markerFill:p.Red,yAxisKey:e,isVisible:!0}),s.axes.push(m),s.series.push(a),c=new w({title:"Pressure",position:x.Left,majorGridlineStyle:k.None,positionTier:2,key:t,isAxisVisible:!0}),l=new G({title:"Pressure",color:p.Peru,lineStyle:k.Solid,markerType:N.Circle,markerSize:3,markerFill:p.Sienna,yAxisKey:t,isVisible:!0}),s.axes.push(c),s.series.push(l),g=new w({title:"Humidity",position:x.Left,majorGridlineStyle:k.None,positionTier:3,key:i,isAxisVisible:!0}),h=new G({title:"Humidity",color:p.LightSkyBlue,lineStyle:k.Solid,markerType:N.Circle,markerSize:3,markerFill:p.DeepSkyBlue,yAxisKey:i,isVisible:!0}),s.axes.push(g),s.series.push(h);{a.points.length=0,l.points.length=0,h.points.length=0;const f=Et.fromMilliseconds(1e3),y=Xe();let M=new Date(2018,8,10);const S=100;for(let C=1;C<=S;C++){const v=20+Math.sin(C),R=760+1.5*Math.cos(1.5*C),T=50+2*Math.sin(2*C);a.points.push(Lt.createDataPoint(M,v)),l.points.push(Lt.createDataPoint(M,R)),h.points.push(Lt.createDataPoint(M,T)),M=y.addTimespan(M,f)}m.minimum=10,m.maximum=23,c.minimum=750,c.maximum=770,g.minimum=47,g.maximum=60}return s}function qu(){const e=new b({title:"Auto-adjusting plot margins",subtitle:"When zooming in and out the plot margins should adjust accordingly"});return e.axes.push(new w({position:x.Bottom,title:"X Axis",titleFontSize:16})),e}function Ku(){const e=new b({title:"Manual Margins",subtitle:"PlotMargins = 40",plotMargins:new X(40)});return e.axes.push(new w({position:x.Bottom})),e}function Zu(){const e=new b({title:"Manual Left Margin",subtitle:"PlotMargins = 40,NaN,NaN,NaN",plotMargins:new X(40,NaN,NaN,NaN)});return e.axes.push(new w({position:x.Bottom})),e}function Ju(){const e=new b({title:"Auto-adjusting plot margins - wide axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"});return e.axes.push(Tn()),e}function Qu(){const e=new b({title:"Auto-adjusting plot margins - wide rotated axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"}),t=Tn();return t.angle=-90,e.axes.push(t),e}function tc(){const e=new b({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"When the axis range is fixed there should be no unnecessary space reserved for axis labels"}),t=Tn();return t.isPanEnabled=!1,t.isZoomEnabled=!1,e.axes.push(t),e}function ec(){const e=new b({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"The axis labels should exactly fit in the viewport"}),t=Tn();return t.isPanEnabled=!1,t.isZoomEnabled=!1,t.minimum=-.01,t.maximum=3.01,e.axes.push(t),e}function Tn(){const e=new K({position:x.Bottom});return e.labels.push("Label"),e.labels.push("Long Label"),e.labels.push("Longer Label"),e.labels.push("Even Longer Label"),e}function ic(){const e=new b({title:"Normal distribution",subtitle:"Probability density function"});return e.axes.push(new w({position:x.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:it.Inside})),e.axes.push(new w({position:x.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:it.Inside})),e.series.push(Ve(-5,5,0,.2)),e.series.push(Ve(-5,5,0,1)),e.series.push(Ve(-5,5,0,5)),e.series.push(Ve(-5,5,-2,.5)),e}function sc(){const e=new b({title:"Normal distribution",subtitle:"Probability density function"});return e.axes.push(new w({position:x.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:it.Crossing,axislineStyle:k.Solid,positionAtZeroCrossing:!0})),e.axes.push(new w({position:x.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:it.Crossing,axislineStyle:k.Solid,positionAtZeroCrossing:!0})),e.series.push(Ve(-5,5,0,.2)),e.series.push(Ve(-5,5,0,1)),e.series.push(Ve(-5,5,0,5)),e.series.push(Ve(-5,5,-2,.5)),e}function nc(){const e=new b({title:"Exponentials"});e.axes.push(new wt({position:x.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:it.Inside})),e.axes.push(new wt({position:x.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:it.Inside}));for(let t=1;t<=5;t++)e.series.push(new Q({f:i=>Math.pow(t,i),x0:0,x1:10,dx:.01,title:`${t}^x`}));return e}function oc(){const e=new b({title:"Spiral",plotType:rt.Polar,plotAreaBorderThickness:new X(0)});return e.axes.push(new ae({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),e.axes.push(new Se({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,minimumPadding:0,maximumPadding:0,minimumDataMargin:0,maximumDataMargin:20})),e.series.push(new Q({fx:t=>t,fy:t=>t,t0:0,t1:Math.PI*6,dt:.01})),e}function ac(){const e=new b({title:"YAxes are evenly distributed with a constant gap",plotAreaBorderThickness:new X(0)});e.axes.push(new w({position:x.Bottom,axislineStyle:k.Solid,key:"X"}));const t=4,i=10;for(let s=0;s<t;s++)e.axes.push(new w({position:x.Left,startPosition:s/t,endPosition:(s+1)/t,minimumMargin:s/t*i,maximumMargin:(t-s-1)/t*i,axislineStyle:k.Solid,key:`Y${s}`})),e.series.push(new Q({f:n=>Math.sin(n*(s+1)),x0:1,x1:10,dx:.01,title:`x^${s}`,xAxisKey:"X",yAxisKey:`Y${s}`}));return e}function rc(){const e=new b({title:"Axis Margins Clipping",subtitle:"Data Points and Visual Elements are clipped outside the Clip Bounds"});e.axes.push(new w({position:x.Left,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20})),e.axes.push(new w({position:x.Bottom,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20}));const t=new bt(1),i=new Ft({markerType:N.Diamond});for(let s=0;s<100;s++)i.points.push({x:t.next(),y:t.next()});return e.series.push(i),e}function lc(){const e=new b({title:"Spiral",plotType:rt.Polar,plotAreaBorderThickness:new X(0)});return e.axes.push(new ae({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),e.axes.push(new Se({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,minimumPadding:0,maximumPadding:0,minimumMargin:0,maximumMargin:100})),e.series.push(new Q({fx:t=>t,fy:t=>t,t0:0,t1:Math.PI*6,dt:.01})),e}function hc(){const e=new b({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),t=new w({position:x.Bottom,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dash,cropGridlines:!0});e.axes.push(t);const i=new w({position:x.Left,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dash,cropGridlines:!0});e.axes.push(i);const s=new G;return s.color=p.Green,s.points.push(d(-5,0)),s.points.push(d(-5,20)),s.points.push(d(25,20)),s.points.push(d(25,0)),s.points.push(d(-5,0)),e.series.push(s),Br(e),e}function Br(e){e.annotations.push(new jt(async t=>{const i=_.drawLine;for(const s of e.axes)if(s.isHorizontal()){const n=s;await i(t,n.transform(n.clipMinimum),0,n.transform(n.clipMinimum),e.height,new Ut(p.Blue,1,k.Dot),W.Automatic),await i(t,n.transform(n.clipMaximum),0,n.transform(n.clipMaximum),e.height,new Ut(p.Blue,1,k.Dot),W.Automatic),await i(t,n.transform(n.actualMinimum),0,n.transform(n.actualMinimum),e.height,new Ut(p.Red,1,k.Dot),W.Automatic),await i(t,n.transform(n.actualMaximum),0,n.transform(n.actualMaximum),e.height,new Ut(p.Red,1,k.Dot),W.Automatic),await i(t,n.transform(n.dataMinimum),0,n.transform(n.dataMinimum),e.height,new Ut(p.Green,1,k.Dot),W.Automatic),await i(t,n.transform(n.dataMaximum),0,n.transform(n.dataMaximum),e.height,new Ut(p.Green,1,k.Dot),W.Automatic)}else{const n=s;await i(t,0,n.transform(n.clipMinimum),e.width,n.transform(n.clipMinimum),new Ut(p.Blue,1,k.Dot),W.Automatic),await i(t,0,n.transform(n.clipMaximum),e.width,n.transform(n.clipMaximum),new Ut(p.Blue,1,k.Dot),W.Automatic),await i(t,0,n.transform(n.actualMinimum),e.width,n.transform(n.actualMinimum),new Ut(p.Red,1,k.Dot),W.Automatic),await i(t,0,n.transform(n.actualMaximum),e.width,n.transform(n.actualMaximum),new Ut(p.Red,1,k.Dot),W.Automatic),await i(t,0,n.transform(n.dataMinimum),e.width,n.transform(n.dataMinimum),new Ut(p.Green,1,k.Dot),W.Automatic),await i(t,0,n.transform(n.dataMaximum),e.width,n.transform(n.dataMaximum),new Ut(p.Green,1,k.Dot),W.Automatic)}}))}function mc(){const e=new b({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),t=new w({position:x.Bottom,minimumPadding:.1,maximumPadding:.05,minimumDataMargin:20,maximumDataMargin:10,minimumMargin:30,maximumMargin:15,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dash,cropGridlines:!0});e.axes.push(t);const i=new w({position:x.Left,minimumPadding:.2,maximumPadding:.1,minimumDataMargin:40,maximumDataMargin:20,minimumMargin:60,maximumMargin:30,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dash,cropGridlines:!0});e.axes.push(i);const s=new G;return s.color=p.Green,s.points.push(d(-5,0)),s.points.push(d(-5,20)),s.points.push(d(25,20)),s.points.push(d(25,0)),s.points.push(d(-5,0)),e.series.push(s),Br(e),e}function uc(){const e=new b({title:"MinimumMajorIntervalCount = 10"}),t=new w({position:x.Bottom,minimumMajorIntervalCount:10});e.axes.push(t);const i=new w({position:x.Left,minimumMajorIntervalCount:10});return e.axes.push(i),e}function cc(){const e=new b({title:"MaximumMajorIntervalCount = 5"}),t=new w({position:x.Bottom,maximumMajorIntervalCount:5});e.axes.push(t);const i=new w({position:x.Left,maximumMajorIntervalCount:5});return e.axes.push(i),e}function dc(){const e=new b({title:"MinimumMajorIntervalCount = MaximumMajorIntervalCount = 4"}),t=new w({position:x.Bottom,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});e.axes.push(t);const i=new w({position:x.Left,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});return e.axes.push(i),e}function Cn(e){const t=ci(it,e),i=new b({title:"TickStyle = "+t});return i.axes.push(new w({position:x.Left,tickStyle:e})),i.axes.push(new w({position:x.Bottom,tickStyle:e})),i}const pc="Axis examples",gc={category:pc,tags:["Axes"],examples:[{title:"TickStyle: None",example:{model:Gm}},{title:"TickStyle: Inside",example:{model:$m}},{title:"TickStyle: Crossing",example:{model:jm}},{title:"TickStyle: Outside",example:{model:Um}},{title:"TickStyle: Color major and minor ticks differently",example:{model:Hm}},{title:"GridLinestyle: None (default)",example:{model:Wm}},{title:"GridLinestyle: Vertical",example:{model:Ym}},{title:"GridLinestyle: Horizontal",example:{model:Xm}},{title:"GridLinestyle: Horizontal and vertical",example:{model:qm}},{title:"Axis position left/bottom",example:{model:Km}},{title:"Axis position top/right",example:{model:Zm}},{title:"Axis label angle 45deg",example:{model:Jm}},{title:"Zero crossing axis",example:{model:Qm}},{title:"Horizontal zero crossing axis",example:{model:tu}},{title:"Vertical zero crossing axis",example:{model:eu}},{title:"Reversed",example:{model:iu}},{title:"Sharing Y axis",example:{model:su}},{title:"Four axes",example:{model:nu}},{title:"Five axes",example:{model:ou}},{title:"Logarithmic axes",example:{model:au}},{title:"Logarithmic axes Cartesian Plot",example:{model:ru}},{title:"Big numbers",example:{model:lu}},{title:"Big numbers with super exponential format",example:{model:hu}},{title:"Small numbers",example:{model:mu}},{title:"Default padding",example:{model:uu}},{title:"No padding",example:{model:cu}},{title:"Padding 10%",example:{model:du}},{title:"X-axis MinimumPadding=0.1",example:{model:pu}},{title:"X-axis MaximumPadding=0.1",example:{model:gu}},{title:"AbsoluteMinimum and AbsoluteMaximum",example:{model:xu}},{title:"MinimumRange",example:{model:fu}},{title:"MaximumRange",example:{model:wu}},{title:"Title with unit",example:{model:yu}},{title:"Invisible vertical axis",example:{model:bu}},{title:"Invisible horizontal axis",example:{model:Mu}},{title:"Zooming disabled",example:{model:Su}},{title:"Panning disabled",example:{model:ku}},{title:"Dense intervals",example:{model:Au}},{title:"Graph Paper",example:{model:Ru}},{title:"Log-Log Paper",example:{model:Tu}},{title:"Black background",example:{model:Cu}},{title:"Background and PlotAreaBackground",example:{model:vu}},{title:"Current culture",example:{model:Pu}},{title:"Long axis titles (clipped at 90%)",example:{model:Lu}},{title:"Long axis titles (clipped at 100%)",example:{model:Iu}},{title:"Long axis titles (not clipped)",example:{model:Bu}},{title:"PositionTier",example:{model:Du}},{title:"Custom axis title color",example:{model:Nu}},{title:"Custom axis label color",example:{model:Fu}},{title:"Angled axis numbers",example:{model:Vu}},{title:"Axis distance",example:{model:Eu}},{title:"No axes defined",example:{model:_u}},{title:"LabelFormatter",example:{model:Ou}},{title:"Tool tips",example:{model:zu}},{title:"Sub- and superscript in axis titles",example:{model:Gu}},{title:"MinimumMajorStep",example:{model:$u}},{title:"MinimumMinorStep",example:{model:ju}},{title:"Default AxisTitleDistance",example:{model:Uu}},{title:"Custom AxisTitleDistance",example:{model:Hu}},{title:"MajorGridlineStyle",example:{model:Wu}},{title:"Gridlines Cropping: Horizontal and vertical",example:{model:Yu}},{title:"Multi vertical axes with lineSeries",example:{model:Xu}},{title:"Auto Margins",example:{model:qu}},{title:"Manual Margins",example:{model:Ku}},{title:"Manual Left Margin",example:{model:Zu}},{title:"Auto Margins - Wide Labels",example:{model:Ju}},{title:"Auto Margins - Wide Labels, rotated",example:{model:Qu}},{title:"Auto Margins - Wide Labels, fixed Range",example:{model:tc}},{title:"Auto Margins - Wide Labels, fixed Range 2",example:{model:ec}},{title:"Data Margins",example:{model:ic}},{title:"Data Margins with Zero-Crossing",example:{model:sc}},{title:"Data Margins on Log Axis",example:{model:nc}},{title:"Data Margins on Polar Plot",example:{model:oc}},{title:"Axis Margins",example:{model:ac}},{title:"Axis Margins Clipping",example:{model:rc}},{title:"Axis Margins on Polar Plot",example:{model:lc}},{title:"Axis Margins, Data Margins, and Padding",example:{model:hc}},{title:"Axis Margins, Data Margins, and Padding, Asymmetrical",example:{model:mc}},{title:"Minimum Major Interval Count",example:{model:uc}},{title:"Maximum Major Interval Count",example:{model:cc}},{title:"Minimum and Maximum Major Interval Count",example:{model:dc}}]};function xc(){const e=new b({title:"Trigonometric functions",plotType:rt.Cartesian});return e.series.push(Q.fromDx(Math.sin,-10,10,.1,"sin(x)")),e.series.push(Q.fromDx(Math.cos,-10,10,.1,"cos(x)")),e.series.push(Q.fromFxFyN(t=>5*Math.cos(t),t=>5*Math.sin(t),0,2*Math.PI,1e3,"cos(t),sin(t)")),e}function fc(){const e=new b({title:"Parametric function",plotType:rt.Cartesian});return e.series.push(Q.fromFxFyN(t=>2*Math.cos(2*t)*Math.cos(t),t=>2*Math.cos(2*t)*Math.sin(t),0,Math.PI*2,1e3,"2cos(2t)cos(t) , 2cos(2t)sin(t)")),e}function wc(){const e=new b({title:"Y: AbsoluteMinimum = 0",plotType:rt.Cartesian}),t=p.DarkBlue;return e.axes.push(new w({position:x.Bottom,title:"X-axis",majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e.axes.push(new w({position:x.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e.series.push(ds()),e}function yc(){const e=new b({title:"Y: AbsoluteMinimum = 0",subtitle:"AutoAdjustPlotMargins = false",plotType:rt.Cartesian,plotMargins:new X(60,4,4,40)}),t=p.DarkBlue;return e.axes.push(new w({position:x.Bottom,title:"X-axis",majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e.axes.push(new w({position:x.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e.series.push(ds()),e}function bc(){const e=new b({title:"X: AbsoluteMinimum = -10, Y: AbsoluteMinimum = 0",plotType:rt.Cartesian}),t=p.DarkBlue;return e.axes.push(new w({position:x.Bottom,title:"X-axis",absoluteMinimum:-10,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e.axes.push(new w({position:x.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e.series.push(ds()),e}function Mc(){const e=new b({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2",plotType:rt.Cartesian}),t=p.DarkBlue;return e.axes.push(new w({position:x.Bottom,title:"X-axis",majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e.axes.push(new w({position:x.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e.series.push(ds()),e}function Sc(){const e=new b({title:"Y: AbsoluteMinimum = 0, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:rt.Cartesian}),t=p.DarkBlue;return e.axes.push(new w({position:x.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e.axes.push(new w({position:x.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e.series.push(ds()),e}function kc(){const e=new b({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:rt.Cartesian}),t=p.DarkBlue;return e.axes.push(new w({position:x.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e.axes.push(new w({position:x.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),e.series.push(ds()),e}function ds(){const e=new G;return e.points.push(d(-8,0),d(-7.5,.1),d(-7,.2),d(-6,.4),d(-5,.5),d(-4,.6),d(-3,.7),d(-2,.8),d(-1,.9),d(0,1),d(1,.9),d(2,.8),d(3,.7),d(4,.6),d(5,.5),d(6,.4),d(7,.2),d(7.5,.1),d(8,0),oe,d(-.5,.5),d(-.5,1.5),d(.5,1.5),d(.5,.5),d(-.5,.5)),e}const Ac="Cartesian axes",Rc={category:Ac,tags:["Axes"],examples:[{title:"Trigonometric functions",example:{model:xc}},{title:"Clover",example:{model:fc}},{title:"AbsoluteMinimum Y",example:{model:wc}},{title:"AbsoluteMinimum Y, manual plotmargins",example:{model:yc}},{title:"AbsoluteMinimum X/Y",example:{model:bc}},{title:"AbsoluteMinimum/Maximum Y",example:{model:Mc}},{title:"AbsoluteMinimum Y, AbsoluteMinimum/Maximum X",example:{model:Sc}},{title:"AbsoluteMinimum/Maximum X/Y",example:{model:kc}}]};function Tc(){const e=new b({title:"Standard"}),t=new K;t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),e.axes.push(t);const i=new w({position:x.Left});return e.axes.push(i),e}function Cc(){const e=new b({title:"CategoryAxis with string[] as ItemsSource"});e.axes.push(new K({stringFormatter:i=>`Item ${i}`,itemsSource:["A","B","C"]}));const t=new w({position:x.Left});return e.axes.push(t),e}function vc(){const e=new b({title:"CategoryAxis with int[] as ItemsSource"});e.axes.push(new K({stringFormatter:i=>`Item ${i}`,itemsSource:[10,100,123]}));const t=new w({position:x.Left});return e.axes.push(t),e}function Pc(){const e=new b({title:"Major Step = 4, IsTickCentered = false"}),t=new K({isTickCentered:!1,majorStep:4});t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),e.axes.push(t);const i=new w({position:x.Left});return e.axes.push(i),e}function Lc(){const e=new b({title:"Major Step = 4, IsTickCentered = true"}),t=new K({isTickCentered:!0,majorStep:4});t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),e.axes.push(t);const i=new w({position:x.Left});return e.axes.push(i),e}const Ic="CategoryAxis",Bc={category:Ic,tags:["Axes"],examples:[{title:"Standard",example:{model:Tc}},{title:"ItemsSource - string[]",example:{model:Cc}},{title:"ItemsSource - int[]",example:{model:vc}},{title:"MajorStep",example:{model:Pc}},{title:"MajorStep, TickCentered",example:{model:Lc}}]};function Dc(){const e=new b({title:"CategoryColorAxis"}),t=new qa({key:"ccc",palette:U.blackWhiteRed(12)});t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),e.axes.push(t);const i=new w({position:x.Left}),s=new Ft({colorAxisKey:t.key});return s.points.push({x:0,y:0,size:NaN,value:0}),s.points.push({x:3,y:0,size:NaN,value:3}),e.series.push(s),e.axes.push(i),e}function Nc(){const e=new b({title:"Major Step = 4, IsTickCentered = true"}),t=new qa({palette:U.blackWhiteRed(3),isTickCentered:!0,majorStep:4});t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),e.axes.push(t);const i=new w({position:x.Left});return e.axes.push(i),e}const Fc="CategoryColorAxis",Vc={category:Fc,tags:["Axes"],examples:[{title:"CategoryColorAxis",example:{model:Dc}},{title:"Centered ticks, MajorStep = 4",example:{model:Nc}}]};function Ec(){const e=new b({plotAreaBorderThickness:new X(0),plotMargins:new X(60,60,60,60)});return e.axes.push(new Ta({position:x.Bottom,axislineStyle:k.Solid})),e.axes.push(new Ta({position:x.Left,axislineStyle:k.Solid})),e}class Ta extends w{async render(t,i){await super.render(t,i);const s=[];if(this.isHorizontal()){const n=this.transform(this.actualMaximum);s.push(A(n+4,this.plotModel.plotArea.bottom-4)),s.push(A(n+18,this.plotModel.plotArea.bottom)),s.push(A(n+4,this.plotModel.plotArea.bottom+4))}else{const n=this.transform(this.actualMaximum);s.push(A(this.plotModel.plotArea.left-4,n-4)),s.push(A(this.plotModel.plotArea.left,n-18)),s.push(A(this.plotModel.plotArea.left+4,n-4))}await t.drawPolygon(s,p.Black,p.Undefined,0,this.edgeRenderingMode)}}const _c="Custom axes",Oc={category:_c,tags:["Axes"],examples:[{title:"ArrowAxis",example:{model:Ec}}]};class Ca{static deg2Rad(t){return Math.PI*t/180}static rad2Deg(t){return 180*t/Math.PI}static fixValue(t,i,s){for(;t<i;)t+=s-i;for(;t>=s;)t-=s-i;return t}static calculate(t,i,s,n,o,a=90.5){const l=Te(t).dayOfYear(),h=s/15;let m;n?m=l+(6-h)/24:m=l+(18-h)/24;const c=.9856*m-3.289;let g=c+1.916*Math.sin(this.deg2Rad(c))+.02*Math.sin(this.deg2Rad(2*c))+282.634;g=this.fixValue(g,0,360);let f=this.rad2Deg(Math.atan(.91764*Math.tan(this.deg2Rad(g))));f=this.fixValue(f,0,360);const y=Math.floor(g/90)*90,M=Math.floor(f/90)*90;f=f+(y-M),f=f/15;const S=.39782*Math.sin(this.deg2Rad(g)),C=Math.cos(Math.asin(S)),v=(Math.cos(this.deg2Rad(a))-S*Math.sin(this.deg2Rad(i)))/(C*Math.cos(this.deg2Rad(i)));let R;n?R=360-this.rad2Deg(Math.acos(v)):R=this.rad2Deg(Math.acos(v)),R=R/15;let P=R+f-.06571*m-6.622-h;t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0));const B=new Date(t.getTime()+P*60*60*1e3);return P=(o(B).getTime()-t.getTime())/(60*60*1e3),P=this.fixValue(P,0,24),new Date(t.getTime()+P*60*60*1e3)}}const zc=()=>Dr(7,void 0),Gc=()=>{const e=Xe();return Dr(7,t=>e.format(t,`MMM DD
YYYY`))};function Dr(e,t){const i=new b,s=new Date(2e3,0,1),n=Lt.toDouble(s),o=n+e;return i.axes.push(new Lt({position:x.Bottom,minimum:n,maximum:o,stringFormatter:t})),i.axes.push(new Lt({position:x.Left,minimum:n,maximum:o,stringFormatter:t})),i}function $c(){const e=new b,t=new Lt;t.position=x.Bottom,e.axes.push(t),e.axes.push(new w);const i=new G;i.markerType=N.Circle,e.series.push(i);const s=new Date(Date.UTC(2013,2,31,0,0,0));for(let n=0;n<400;n+=10){const o=new Date(s.getTime()+n*6e4);i.points.push(Lt.createDataPoint(o,n))}return e}function jc(){const e=new Date(2010,0,1),t=new Date(2015,0,1),i=3600*24*14,s=Xe(),n=[];let o=e;const a=new bt;for(;o<=t;)n.push({date:o,value:a.next()}),o=s.addTimespan(o,Et.fromSeconds(i));const l=new b({title:"DateTime axis"}),h=new Lt({firstDayOfWeek:fn.Monday,position:x.Bottom});l.axes.push(h);const m=new w;l.axes.push(m);const c=new G({color:r.fromArgb(255,78,154,6),markerFill:r.fromArgb(255,78,154,6),markerStroke:p.ForestGreen,markerType:N.Plus,strokeThickness:1,dataFieldX:"date",dataFieldY:"value",itemsSource:n});return l.series.push(c),l}function Uc(){const e=new Date().getFullYear(),i=Wc(e,59.91,10.75,h=>{const m=Yc(h)?2:1;return new Date(h.getTime()+m*60*60*1e3)}),s=new b({title:"Sunrise and sunset in Oslo",subtitle:"UTC time"}),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=new Lt({firstDayOfWeek:fn.Monday,intervalType:at.Months,majorGridlineStyle:k.Solid,position:x.Bottom,stringFormatter:h=>n[h.getMonth()]});s.axes.push(o);const a=new Ne({majorGridlineStyle:k.Solid,maximum:86400,minimum:0,stringFormatter:h=>Lo(h,"hh:mm")});s.axes.push(a);const l=new Je({itemsSource:i,dataFieldX:"Day",dataFieldY:"Sunrise",dataFieldX2:"Day",dataFieldY2:"Sunset",fill:r.fromArgb(128,255,255,0),color:p.Black});return s.series.push(l),s}function Hc(){const e=new b({title:"Using LabelFormatter to format labels by day of week"});e.axes.push(new Lt({labelFormatter:i=>Lt.toDateTime(i).getDay().toString().substring(0,3)}));const t=new G;e.series.push(t);for(let i=0;i<7;i++){const s=new Date(2014,9,10);s.setDate(s.getDate()+i);const n=Lt.toDouble(s),o=Math.sin(i*i);t.points.push(d(n,o))}return e}function Wc(e,t,i,s){const n=[];let o=new Date(e,0,1);const a=Et.fromMinutes(o.getTimezoneOffset()),l=Xe();for(;o.getFullYear()===e;){let h=Ca.calculate(o,t,i,!0,s);h=l.addTimespan(h,a);let m=Ca.calculate(o,t,i,!1,s);m=l.addTimespan(m,a),n.push({Day:o,Sunrise:l.diff(h,o),Sunset:l.diff(m,o)}),o=l.addTimespan(o,Et.fromDays(1))}return n}function Yc(e){const t=new Date(e.getFullYear(),2,31,2,0,0);t.setDate(t.getDate()-t.getDay());const i=new Date(e.getFullYear(),9,31,3,0,0);return i.setDate(i.getDate()-i.getDay()),e>=t&&e<=i}const Xc="DateTimeAxis",qc={category:Xc,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:zc}},{title:"StringFormat 'MMM DD\\nYYYY'",example:{model:Gc}},{title:"TimeZone adjustments",example:{model:$c}},{title:"DateTime axis",example:{model:jc}},{title:"Sunrise and sunset in Oslo",example:{model:Uc}},{title:"LabelFormatter",example:{model:Hc}}]};function Kc(){return Nr(123456.78901234567,1.2345678901234567e6,void 0)}function Zc(){return Nr(123456.78901234567,1.2345678901234567e6,(e,t)=>e.toFixed(2))}function Jc(){return vn(it.None)}function Qc(){return vn(it.Crossing)}function td(){return vn(it.Inside)}function ed(){return vn(it.Outside)}function id(){return Pn("None",k.None,k.None)}function sd(){return Pn("Horizontal",k.Solid,k.None)}function nd(){return Pn("Vertical",k.None,k.Solid)}function od(){return Pn("Both",k.Solid,k.Solid)}function Nr(e,t,i){const s=new b;return s.axes.push(new w({position:x.Bottom,minimum:e,maximum:t,stringFormatter:i})),s.axes.push(new w({position:x.Left,minimum:e,maximum:t,stringFormatter:i})),s}function vn(e){const t=new b({title:`TickStyle: ${e}`});return t.axes.push(new w({position:x.Bottom,tickStyle:e,majorGridlineStyle:k.None,minorGridlineStyle:k.None,maximumPadding:0,minimumPadding:0})),t.axes.push(new w({position:x.Left,tickStyle:e,majorGridlineStyle:k.None,minorGridlineStyle:k.None,maximumPadding:0,minimumPadding:0})),t}function Pn(e,t,i){const s=new b({title:`Gridlines: ${e}`});return s.axes.push(new w({position:x.Bottom,majorGridlineStyle:i,minorGridlineStyle:i===k.Solid?k.Dot:k.None,maximumPadding:0,minimumPadding:0})),s.axes.push(new w({position:x.Left,majorGridlineStyle:t,minorGridlineStyle:t===k.Solid?k.Dot:k.None,maximumPadding:0,minimumPadding:0})),s}const ad="LinearAxis",rd={category:ad,tags:["Axes"],examples:[{title:"Default StringFormat ('g6')",example:{model:Kc}},{title:"StringFormat = 'f2'",example:{model:Zc}},{title:"TickStyle: None",example:{model:Jc}},{title:"TickStyle: Crossing",example:{model:Qc}},{title:"TickStyle: Inside",example:{model:td}},{title:"TickStyle: Outside",example:{model:ed}},{title:"Gridlines: None",example:{model:id}},{title:"Gridlines: Horizontal",example:{model:sd}},{title:"Gridlines: Vertical",example:{model:nd}},{title:"Gridlines: Both",example:{model:od}}]};function ld(){return Fr()}function hd(){return Ae("Interpolated",!0)}function md(){const e=Ae("Interpolated, cartesian axes",!0);return e.plotType=rt.Cartesian,e}function ud(){const e=Ae("Interpolated including two NaN values",!0),t=e.series[0];return t.data[0][1]=Number.NaN,t.data[1][0]=Number.NaN,e}function cd(){const e=Ae("Interpolated including two NaN values, otherwise 4.71",!0),i=e.series[0].data,s=4.71;return i[0][0]=s,i[0][1]=s,i[0][2]=s,i[1][0]=s,i[1][1]=s,i[1][2]=s,i[0][1]=Number.NaN,i[1][0]=Number.NaN,e}function dd(){return Ae("Not interpolated values",!1)}function pd(){const e=Ae("Not interpolated values including two NaN values",!1),t=e.axes[0];t.invalidNumberColor=p.Transparent;const i=e.series[0];return i.data[0][1]=Number.NaN,i.data[1][0]=Number.NaN,e}function gd(){const e=Ae("Not interpolated values including two NaN values, otherwise 4.71",!1),t=e.axes[0];t.invalidNumberColor=p.Transparent;const i=e.series[0];if(!i.data)return e;const s=4.71;return i.data[0][0]=s,i.data[0][1]=s,i.data[0][2]=s,i.data[1][0]=s,i.data[1][1]=s,i.data[1][2]=s,i.data[0][1]=Number.NaN,i.data[1][0]=Number.NaN,e}function xd(){const e=Ae("Reversed x-axis",!1);return e.axes.push(new w({position:x.Bottom,startPosition:1,endPosition:0})),e}function fd(){const e=Ae("X0>X1",!1),t=e.series[0],i=t.x0;return t.x0=t.x1,t.x1=i,e}function wd(){const e=Ae("Reversed x-axis, X0>X1",!1);e.axes.push(new w({position:x.Bottom,startPosition:1,endPosition:0}));const t=e.series[0],i=t.x0;return t.x0=t.x1,t.x1=i,e}function yd(){const e=Ae("Reversed y-axis",!1);return e.axes.push(new w({position:x.Left,startPosition:1,endPosition:0})),e}function bd(){const e=Ae("Y0>Y1",!1),t=e.series[0],i=t.y0;return t.y0=t.y1,t.y1=i,e}function Md(){const e=Ae("Reversed y-axis, Y0>Y1",!1);e.axes.push(new w({position:x.Left,startPosition:1,endPosition:0}));const t=e.series[0],i=t.y0;return t.y0=t.y1,t.y1=i,e}function Sd(){const e=Ae("Reversed x- and y-axis",!1);return e.axes.push(new w({position:x.Left,startPosition:1,endPosition:0})),e.axes.push(new w({position:x.Bottom,startPosition:1,endPosition:0})),e}function kd(){const e=[[1,0,0],[0,1,0],[0,0,1]],t=new b({title:"Diagonal (center defined)"});t.axes.push(new Yt({position:x.Right,palette:U.jet(500),highColor:p.Gray,lowColor:p.Black}));const i=new je({coordinateDefinition:zs.Center,x0:.5,x1:2.5,y0:2.5,y1:.5,data:e,interpolate:!1});return t.series.push(i),t}function Ad(){const e=[[1,0,0],[0,1,0],[0,0,1]],t=new b({title:"Diagonal (edge defined)"});t.axes.push(new Yt({position:x.Right,palette:U.jet(500),highColor:p.Gray,lowColor:p.Black}));const i=new je({coordinateDefinition:zs.Edge,x0:0,x1:3,y0:3,y1:0,data:e,interpolate:!1});return t.series.push(i),t}function Rd(){const e=Array(6).fill(Array(6).fill(0));e[0][0]=1,e[1][1]=1,e[2][2]=1,e[3][3]=1,e[4][4]=1,e[5][5]=1;const t=new b({title:"Diagonal 6×6"});t.axes.push(new Yt({position:x.Right,palette:U.jet(500),highColor:p.Gray,lowColor:p.Black}));const i=new je({x0:0,x1:5,y0:5,y1:0,data:e,interpolate:!1});return t.series.push(i),t}function Td(){let e=[[1,0,0],[0,.8,.2],[0,0,1]];e=e[0].map((h,m)=>e.map(c=>c[m]));const t=["class A","class B","class C"],i=new b({title:"Confusion Matrix"}),s=Ot.interpolate(50,p.White,p.Black),n=new Yt({position:x.Right,palette:s,highColor:p.White,lowColor:p.White});i.axes.push(n);const o=new K({position:x.Top,title:"Actual class"});o.labels.push(...t),i.axes.push(o);const a=new K({position:x.Left,title:"Predicted class",angle:-90,startPosition:1,endPosition:0});a.labels.push(...t),i.axes.push(a);const l=new je({data:e,interpolate:!1,labelFontSize:.25,x0:0,x1:e[0].length-1,y0:0,y1:e.length-1});return i.series.push(l),i}function Cd(){const e=Array(11).fill(0).map(()=>Array(21).fill(0)),t=Math.pow(2,.1);for(let n=0;n<11;n++)for(let o=0;o<21;o++)e[n][o]=Math.pow(t,n)*o/40;const i=new b({title:"Logarithmic X, interpolated"});i.axes.push(new wt({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i.axes.push(new Yt({position:x.Right,palette:U.gray(500),highColor:p.White,lowColor:p.Black}));const s=new je({x0:1,x1:2,y0:0,y1:20,data:e,interpolate:!0});return i.series.push(s),i}function vd(){const e=Array(11).fill(0).map(()=>Array(21).fill(0)),t=Math.pow(2,.1);for(let n=0;n<11;n++)for(let o=0;o<21;o++)e[n][o]=Math.pow(t,n)*o/40;const i=new b({title:"Logarithmic X, discrete rectangles"});i.axes.push(new wt({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i.axes.push(new Yt({position:x.Right,palette:U.gray(500),highColor:p.White,lowColor:p.Black}));const s=new je({x0:1,x1:2,y0:0,y1:20,data:e,interpolate:!1,renderMethod:vr.Rectangles,labelFontSize:.4});return i.series.push(s),i}function Pd(){return Ld("Normal 6×4 Heatmap")}function Fr(e,t=!0,i=100){const l=(y,M)=>3*(1-y)*(1-y)*Math.exp(-(y*y)-(M+1)*(M+1))-10*(y/5-y*y*y-M*M*M*M*M)*Math.exp(-y*y-M*M)-.3333333333333333*Math.exp(-(y+1)*(y+1)-M*M),h=qt.createVector(-3.1,3.1,i),m=qt.createVector(-3,3,i),c=qt.evaluate(l,h,m),g=new b({title:"Peaks"});g.axes.push(new Yt({position:x.Right,palette:e??U.jet(500),highColor:p.Gray,lowColor:p.Black}));const f=new je({x0:-3.1,x1:3.1,y0:-3,y1:3,data:c});if(g.series.push(f),t){const y=new De({color:p.Black,fontSize:0,contourLevelStep:1,labelBackground:p.Undefined,columnCoordinates:m,rowCoordinates:h,data:c});g.series.push(y)}return g}function Ld(e){const t=new Be(6,4);for(let s=1;s<=6;s++)for(let n=1;n<=4;n++)t.set(s-1,n-1,s*n);const i=new b({title:e,subtitle:"Note the positions of the axes"});return i.axes.push(new Yt({position:x.Right,palette:U.jet(500),highColor:p.White,lowColor:p.Black})),i.series.push(new je({x0:1,x1:6,y0:1,y1:4,data:t.toArray(),interpolate:!0,labelFontSize:.2})),i}function Ae(e,t){const i=[[0,.2,.4],[.1,.3,.2]],s=new b({title:"HeatMapSeries",subtitle:e});s.axes.push(new Yt({position:x.Right,palette:U.rainbow(500),highColor:p.Gray,lowColor:p.Black}));const n=new je({coordinateDefinition:zs.Center,x0:.5,x1:1.5,y0:.5,y1:2.5,data:i,interpolate:t,labelFontSize:.2});return s.series.push(n),s}const yt={createPeaks:Fr},Id="HeatMapSeries",Bd={category:Id,tags:["Series"],examples:[{title:"Peaks",example:{model:ld}},{title:"2×3, interpolated",example:{model:hd}},{title:"2×3, interpolated, cartesian axes",example:{model:md}},{title:"2×3, interpolated with two NaN values",example:{model:ud}},{title:"2×3, interpolated with two NaN values, flat data",example:{model:cd}},{title:"2×3, not interpolated",example:{model:dd}},{title:"2×3, not interpolated with two NaN values",example:{model:pd}},{title:"2×3, not interpolated with two NaN values, flat data",example:{model:gd}},{title:"2×3, reversed x-axis",example:{model:xd}},{title:"2×3, X0>X1",example:{model:fd}},{title:"2×3, reversed x-axis, X0>X1",example:{model:wd}},{title:"2×3, reversed y-axis",example:{model:yd}},{title:"2×3, Y0>Y1",example:{model:bd}},{title:"2×3, reversed y-axis, Y0>Y1",example:{model:Md}},{title:"2x3, reversed x- and y-axis",example:{model:Sd}},{title:"3×3, diagonal (center defined)",example:{model:kd}},{title:"3×3, diagonal (edge defined)",example:{model:Ad}},{title:"6×6, diagonal",example:{model:Rd}},{title:"Confusion matrix",example:{model:Td}},{title:"Logarithmic X, interpolated",example:{model:Cd}},{title:"Logarithmic X, discrete rectangles",example:{model:vd}},{title:"6×4, not transposed",example:{model:Pd}}]};function Dd(){const e=yt.createPeaks(void 0,!1);return e.axes.length=0,e.axes.push(new Yt({position:x.Right})),e}function Nd(){return yt.createPeaks(U.jet(200),!1)}function Fd(){return yt.createPeaks(U.jet(20),!1)}function Vd(){return yt.createPeaks(U.hue(400),!1)}function Ed(){return yt.createPeaks(U.hueDistinct(200),!1)}function _d(){return yt.createPeaks(U.hueDistinct(200).reverse(),!1)}function Od(){return yt.createPeaks(U.hot(200),!1)}function zd(){return yt.createPeaks(U.hot64,!1)}function Gd(){return yt.createPeaks(U.hot(30),!1)}function $d(){return yt.createPeaks(U.blueWhiteRed(200),!1)}function jd(){return yt.createPeaks(U.blueWhiteRed(40),!1)}function Ud(){return yt.createPeaks(U.blackWhiteRed(500),!1)}function Hd(){return yt.createPeaks(U.blackWhiteRed(3),!1)}function Wd(){return yt.createPeaks(U.cool(200),!1)}function Yd(){return yt.createPeaks(U.rainbow(200),!1)}function Xd(){return yt.createPeaks(U.viridis(),!1)}function qd(){return yt.createPeaks(U.plasma(),!1)}function Kd(){return yt.createPeaks(U.magma(),!1)}function Zd(){return yt.createPeaks(U.inferno(),!1)}function Jd(){return yt.createPeaks(U.cividis(),!1)}function Qd(){return yt.createPeaks(U.viridis(10),!1)}function tp(){return yt.createPeaks(U.rainbow(7),!1)}function ep(){return yt.createPeaks(U.jet(6),!1)}function ip(){const e=yt.createPeaks(U.jet(6),!1),t=e.axes[0];return t.startPosition=1,t.endPosition=0,e}function sp(){const e=yt.createPeaks(U.jet(6),!1),t=e.axes[0];return t.position=x.Top,e}function np(){const e=yt.createPeaks(U.jet(6),!1),t=e.axes[0];return t.position=x.Top,t.startPosition=1,t.endPosition=0,e}function op(){const e=yt.createPeaks(U.jet(1e3),!1),t=e.axes[0];return t.renderAsImage=!0,t.position=x.Top,e}function ap(){const e=yt.createPeaks(U.jet(1e3),!1),t=e.axes[0];return t.renderAsImage=!0,t.position=x.Top,t.startPosition=1,t.endPosition=0,e}function rp(){const e=yt.createPeaks(U.jet(1e3),!1),t=e.axes[0];return t.renderAsImage=!0,e}function lp(){const e=yt.createPeaks(U.jet(1e3),!1),t=e.axes[0];return t.renderAsImage=!0,t.startPosition=1,t.endPosition=0,e}function hp(){const e=yt.createPeaks(U.jet(600),!1),t=e.axes[0];return t.startPosition=.02,t.endPosition=.5,e}function mp(){const e=yt.createPeaks(U.jet(600),!1),t=e.axes[0];return t.position=x.None,e}const up="LinearColorAxis",cp={category:up,tags:["Axes"],examples:[{title:"Default palette",example:{model:Dd}},{title:"Jet (200 colors) palette",example:{model:Nd}},{title:"Jet (20 colors) palette",example:{model:Fd}},{title:"Hue (400 colors) palette",example:{model:Vd}},{title:"Hue distinct (200 colors) palette",example:{model:Ed}},{title:"Hue distinct reversed (200 colors) palette",example:{model:_d}},{title:"Hot (200 colors) palette",example:{model:Od}},{title:"Hot (64 colors) palette",example:{model:zd}},{title:"Hot (30 colors) palette",example:{model:Gd}},{title:"Blue-white-red (200 colors) palette",example:{model:$d}},{title:"Blue-white-red (40 colors) palette",example:{model:jd}},{title:"Black-white-red (500 colors) palette",example:{model:Ud}},{title:"Black-white-red (3 colors) palette",example:{model:Hd}},{title:"Cool (200 colors) palette",example:{model:Wd}},{title:"Rainbow (200 colors) palette",example:{model:Yd}},{title:"Viridis palette",example:{model:Xd}},{title:"Plasma palette",example:{model:qd}},{title:"Magma palette",example:{model:Kd}},{title:"Inferno palette",example:{model:Zd}},{title:"Cividis palette",example:{model:Jd}},{title:"Viridis (10 colors) palette",example:{model:Qd}},{title:"Rainbow (7 colors) palette",example:{model:tp}},{title:"Vertical (6 colors)",example:{model:ep}},{title:"Vertical reverse (6 colors)",example:{model:ip}},{title:"Horizontal (6 colors)",example:{model:sp}},{title:"Horizontal reverse (6 colors)",example:{model:np}},{title:"RenderAsImage (horizontal)",example:{model:op}},{title:"RenderAsImage (horizontal reversed)",example:{model:ap}},{title:"RenderAsImage (vertical)",example:{model:rp}},{title:"RenderAsImage (vertical reversed)",example:{model:lp}},{title:"Short vertical",example:{model:hp}},{title:"Position None",example:{model:mp}}]};function dp(){const e=new b;return e.axes.push(new wt({position:x.Bottom})),e.axes.push(new wt({position:x.Left})),e}function pp(){const e=new b({title:"Amdahl's law"}),t=new H({legendTitle:"Parallel portion"});e.legends.push(t);const i=(n,o)=>1/(1-n+n/o),s=n=>{const o=new G({title:n.toFixed(0)});for(let a=1;a<=65536;a*=2)o.points.push(d(a,i(n,a)));return o};return e.axes.push(new wt({position:x.Bottom,title:"Number of processors",base:2,majorGridlineStyle:k.Solid,tickStyle:it.None})),e.axes.push(new w({position:x.Left,minimum:0,maximum:20,minorStep:2,majorStep:2,title:"Speedup",stringFormatter:n=>n.toFixed(2).toString(),majorGridlineStyle:k.Solid,tickStyle:it.None})),e.series.push(s(.5)),e.series.push(s(.75)),e.series.push(s(.9)),e.series.push(s(.95)),e}function gp(){const e=new b({title:"The Richter magnitude scale",plotMargins:new X(80,0,80,40)}),t=new H({legendPlacement:ct.Inside,legendPosition:z.TopCenter,legendOrientation:At.Horizontal,legendSymbolLength:24});e.legends.push(t),e.axes.push(new w({position:x.Bottom,title:"Richter magnitude scale",majorGridlineStyle:k.None,tickStyle:it.None}));const i=new G({title:"Frequency",color:r.fromUInt32(4282150046),strokeThickness:3,markerStroke:r.fromUInt32(4282150046),markerFill:p.White,markerType:N.Circle,markerSize:4,markerStrokeThickness:3});i.points.push(d(1.5,8e3*365*100)),i.points.push(d(2.5,1e3*365*100)),i.points.push(d(3.5,49e3*100)),i.points.push(d(4.5,6200*100)),i.points.push(d(5.5,800*100)),i.points.push(d(6.5,120*100)),i.points.push(d(7.5,18*100)),i.points.push(d(8.5,1*100)),i.points.push(d(9.5,1/20*100)),e.axes.push(new wt({position:x.Left,title:"Frequency / 100 yr",useSuperExponentialFormat:!0,majorGridlineStyle:k.None,tickStyle:it.Outside})),e.series.push(i);const s=new G({title:"Energy",color:r.fromUInt32(4288572476),strokeThickness:3,markerStroke:r.fromUInt32(4288572476),markerFill:p.White,markerType:N.Circle,markerSize:4,markerStrokeThickness:3});return s.points.push(d(1.5,11e6)),s.points.push(d(2.5,36e7)),s.points.push(d(3.5,11e9)),s.points.push(d(4.5,36e10)),s.points.push(d(5.5,11e12)),s.points.push(d(6.5,36e13)),s.points.push(d(7.5,11e15)),s.points.push(d(8.5,36e16)),s.points.push(d(9.5,11e18)),s.yAxisKey="energyAxis",e.axes.push(new wt({position:x.Right,title:"Energy / J",key:"energyAxis",useSuperExponentialFormat:!0,majorGridlineStyle:k.None,tickStyle:it.Outside})),e.series.push(s),e}const xp=()=>{const e=new b({title:"AbsoluteMaximum = 1000"});return e.axes.push(new wt({position:x.Left,minimum:.1,maximum:1e3,absoluteMaximum:1e3})),e.series.push(new Q({f:Math.exp,x0:0,x1:Math.log(900),n:100})),e},fp=()=>{const e=new b({title:"AxisChanged event handler"});let t=0;const i=new wt({position:x.Left,minimum:.1,maximum:1e3});return i.axisChanged=(s,n)=>{e.subtitle="Changed "+t+++" times. ActualMaximum="+i.actualMaximum},e.axes.push(i),e.series.push(new Q({f:Math.exp,x0:0,x1:Math.log(900),n:100})),e},wp=()=>{const e=new b({title:"LogarithmicAxis",subtitle:"LineSeries with negative values"});return e.axes.push(new wt({position:x.Left})),e.axes.push(new w({position:x.Bottom})),e.series.push(new Q({f:t=>Math.sin(t),x0:0,x1:40,n:1e3})),e};function yp(){const e=new b({title:"Tick calculation for different bases"});return e.axes.push(new wt({title:"Base 10",position:x.Left,minimum:20,maximum:2e4,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),e.axes.push(new wt({title:"Base 7",position:x.Bottom,base:7,minimum:2,maximum:1e4,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),e.axes.push(new wt({title:"Base 5.5",position:x.Top,base:5.5,minimum:1,maximum:100,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),e.axes.push(new wt({title:"Base 2",position:x.Right,base:2,minimum:1,maximum:1e6,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),e}const bp="LogarithmicAxis",Mp={category:bp,tags:["Axes"],examples:[{title:"LogarithmicAxis with default values",example:{model:dp}},{title:"Amdahl's Law",example:{model:pp}},{title:"Richter magnitudes",example:{model:gp}},{title:"LogarithmicAxis with AbsoluteMaximum",example:{model:xp}},{title:"LogarithmicAxis with AxisChanged event handler",example:{model:fp}},{title:"Negative values",example:{model:wp}},{title:"Tick calculation",example:{model:yp}}]};function jo(){const e=new b({title:"Polar plot",subtitle:"Archimedean spiral with equation r(θ) = θ for 0 < θ < 6π",plotType:rt.Polar,plotAreaBorderThickness:new X(0)});return e.axes.push(new ae({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),e.axes.push(new Se({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),e.series.push(new Q({fx:t=>t,fy:t=>t,t0:0,t1:Math.PI*6,dt:.01})),e}function Sp(){const e=jo();e.title+="(reversed angle axis)";const t=e.axes[0];return t.startAngle=360,t.endAngle=0,e}function kp(){const e=jo();e.title+=" (axis Minimum = 10 and Maximum = 20)";const t=e.axes[1];return t.minimum=10,t.maximum=20,e}function Ap(){const e=new b({title:"Offset angle axis",plotType:rt.Polar,plotAreaBorderThickness:new X(0)}),t=new ae({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,stringFormatter:i=>i.toFixed(2),startAngle:30,endAngle:390});return e.axes.push(t),e.axes.push(new Se),e.series.push(new Q({fx:i=>i,fy:i=>i,t0:0,t1:Math.PI*6,dt:.01})),e.mouseDown=(i,s)=>{let n=0;s.changedButton===Mt.Left&&(n=15),s.changedButton===Mt.Right&&(n=-15),Math.abs(n)>Number.EPSILON&&(t.startAngle+=n,t.endAngle+=n,e.invalidatePlot(!1),s.handled=!0)},e}function Rp(){const e=new b({title:"Semi-circle polar plot",plotType:rt.Polar,plotAreaBorderThickness:new X(0)});return e.axes.push(new ae({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),e.axes.push(new Se({minimum:0,maximum:1,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),e.series.push(Ln()),e}function Tp(){const e=new b({title:"Semi-circle polar plot",subtitle:"Angle axis range offset to -180 - 180",plotType:rt.Polar,plotAreaBorderThickness:new X(0)});return e.axes.push(new ae({minimum:-180,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:360,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),e.axes.push(new Se({minimum:0,maximum:1,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),e.series.push(Ln()),e}function Cp(){const e=new b({title:"East/west directions",plotType:rt.Polar,plotAreaBorderThickness:new X(0)});return e.axes.push(new ae({minimum:0,maximum:360,majorStep:30,minorStep:30,startAngle:-90,endAngle:270,labelFormatter:t=>t>0&&t<180?`${t}E`:t>180?`${360-t}W`:t.toString(),majorGridlineStyle:k.Dot,minorGridlineStyle:k.None})),e.axes.push(new Se({minimum:0,maximum:1,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),e.series.push(Ln()),e}function vp(){const e=new b({title:"Semi-circle polar plot filling the plot area",subtitle:"The center can be moved using the right mouse button",plotType:rt.Polar,plotAreaBorderThickness:new X(1)});return e.axes.push(new Wa({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),e.axes.push(new Xa({minimum:0,maximum:1,midShiftH:0,midShiftV:.9,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),e.series.push(Ln()),e}function Pp(){const e=Uo();return e.series.push(new Q({fx:t=>t,fy:t=>t,t0:0,t1:Math.PI*6,dt:.01})),e}function Lp(){const e=Uo();return e.title+=" with a negative minimum",e.series.push(new Q({fx:t=>t,fy:t=>t,t0:-Math.PI*6,t1:Math.PI*6,dt:.01})),e}function Ip(){const e=Uo();return e.title+=" with a positive minimum",e.series.push(new Q({fx:t=>t,fy:t=>t,t0:Math.PI*6,t1:Math.PI*12,dt:.01})),e}function Uo(){const e=new b({title:"Polar plot filling the plot area",subtitle:"The center can be move using the right mouse button",plotType:rt.Polar,plotAreaBorderThickness:new X(1)});return e.axes.push(new Wa({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),e.axes.push(new Xa({midShiftH:-.1,midShiftV:-.25,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),e}const Ln=()=>new Q({fx:e=>Math.sin(e/180*Math.PI),fy:e=>e,t0:0,t1:180,dt:.01}),Bp="Polar Plots",Dp={category:Bp,tags:["Axes"],examples:[{title:"Spiral",example:{model:jo}},{title:"Spiral2",example:{model:Sp}},{title:"Spiral with magnitude axis min and max",example:{model:kp}},{title:"Angle axis with offset angle",example:{model:Ap}},{title:"Semi-circle",example:{model:Rp}},{title:"Semi-circle offset angle axis range",example:{model:Tp}},{title:"East/west directions",example:{model:Cp}},{title:"Semi-circle full plot area",example:{model:vp}},{title:"Spiral full plot area",example:{model:Pp}},{title:"Spiral full plot area with negative minimum",example:{model:Lp}},{title:"Spiral full plot area with positive minimum",example:{model:Ip}}]};function Np(){return In(x.Top,!0)}function Fp(){return In(x.Right,!0)}function Vp(){return In(x.Top,!1)}function Ep(){return In(x.Right,!1)}function In(e,t){const s=t?"ScatterSeries and Reversed RangeColorAxis (n=1000)":"ScatterSeries and RangeColorAxis (n=1000)",n=new b({title:s,background:p.LightGray});n.axes.push(new w({position:x.Bottom})),n.axes.push(new w({position:x.Left}));const o=new sh({position:e,maximum:2,minimum:-2});o.addRange(0,.5,p.Blue),o.addRange(-.2,-.1,p.Red),t&&(o.startPosition=1,o.endPosition=0),n.axes.push(o);const a=new Ft({markerType:N.Square,markerSize:6}),l=new bt;for(let h=0;h<1e3;h++){const m=l.next()*2.2-1.1;a.points.push({x:m,y:l.next(),value:m})}return n.series.push(a),n}const _p="RangeColorAxis",Op={category:_p,tags:["Axes"],examples:[{title:"ScatterSeries with Reversed RangeColorAxis (Horizontal)",example:{model:Np}},{title:"ScatterSeries with Reversed  RangeColorAxis (Vertical)",example:{model:Fp}},{title:"ScatterSeries with RangeColorAxis (Horizontal)",example:{model:Vp}},{title:"ScatterSeries with RangeColorAxis (Vertical)",example:{model:Ep}}]};function zp(){return Vr(void 0)}function Gp(){return Vr(e=>`${Lo(e,"hh:mm")}`)}function Vr(e){const n=[];let o=0;const a=new bt;for(;o<=86400;)n.push({time:o,value:a.next()}),o+=3600;const l=new b({title:"TimeSpan axis"}),h=new Ne({position:x.Bottom,stringFormatter:e});l.axes.push(h);const m=new w({position:x.Left});l.axes.push(m);const c=new G({color:r.fromArgb(255,78,154,6),markerFill:r.fromArgb(255,78,154,6),markerStroke:p.ForestGreen,markerType:N.Plus,strokeThickness:1,dataFieldX:"time",dataFieldY:"value",itemsSource:n});return l.series.push(c),l}const $p="TimeSpanAxis",jp={category:$p,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:zp}},{title:"StringFormat = 'h:mm'",example:{model:Gp}}]},Up=[gc,Rc,Bc,Vc,Oc,qc,rd,cp,Mp,Dp,Op,jp];class Hp{constructor(t,i,s,n){st(this,"x");st(this,"y");st(this,"xError");st(this,"yError");this.x=t||0,this.y=i||0,this.xError=s||0,this.yError=n||0}}class Wp extends It{constructor(){super();st(this,"points",[]);st(this,"color");st(this,"strokeThickness");this.color=p.Black,this.strokeThickness=1}get pointsList(){return this.points}async render(i){const s=this.points;if(s.length===0)return;this.verifyAxes();const n=s.length,o=[];for(let a=0;a<n;a++){const l=this.xAxis.transformPoint(s[a].x,s[a].y,this.yAxis),h=s[a],m=h?h.xError*this.xAxis.scale:0,c=h?h.yError*Math.abs(this.yAxis.scale):0,g=4;if(m>0){const f=A(l.x-m*.5,l.y),y=A(l.x+m*.5,l.y);o.push(f,y,A(f.x,f.y-g),A(f.x,f.y+g),A(y.x,y.y-g),A(y.x,y.y+g))}if(c>0){const f=A(l.x,l.y-c*.5),y=A(l.x,l.y+c*.5);o.push(f,y,A(f.x-g,f.y),A(f.x+g,f.y),A(y.x-g,y.y),A(y.x+g,y.y))}}for(let a=0;a+1<o.length;a+=2)await _.drawReducedLine(i,[o[a],o[a+1]],0,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,et.Bevel)}async renderLegend(i,s){const n=(s.left+s.right)/2,o=(s.top+s.bottom)/2,a=[A(s.left,o),A(s.right,o),A(s.left,o-2),A(s.left,o+3),A(s.right,o-2),A(s.right,o+3),A(n,s.top),A(n,s.bottom),A(n-2,s.top),A(n+3,s.top),A(n-2,s.bottom),A(n+3,s.bottom)];await i.drawLineSegments(a,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,et.Miter)}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin2(this.points,i=>i.x-i.xError,i=>i.x+i.xError,i=>i.y-i.yError,i=>i.y+i.yError)}}class Yp extends Os{constructor(){super();st(this,"symbolPosition",0);st(this,"symbolSize",dt.Empty);st(this,"color");st(this,"maximumX",0);st(this,"minimumX",0);st(this,"symbol");st(this,"_values",[]);st(this,"xAxis");st(this,"xAxisKey");this.color=p.Black,this.fontSize=10,this.symbol="ê",this.font="Wingdings 2",this.trackerStringFormatter=i=>`${i.title}: ${i.item}`}get values(){return this._values}getNearestPoint(i,s){if(this.xAxis)for(const n of this.values){if(isNaN(n)||n<this.xAxis.actualMinimum||n>this.xAxis.actualMaximum)continue;const o=this.xAxis.transform(n);if(new F(o-this.symbolSize.width/2,this.symbolPosition-this.symbolSize.height,this.symbolSize.width,this.symbolSize.height).containsPoint(i)){const l=this.trackerStringFormatter({item:n,title:this.title});return new _t({series:this,dataPoint:d(n,NaN),position:A(o,this.symbolPosition-this.symbolSize.height),text:l})}}}async render(i){if(this.xAxis){this.symbolPosition=this.plotModel.plotArea.bottom,this.symbolSize=i.measureText(this.symbol,this.actualFont,this.actualFontSize,this.actualFontWeight);for(const s of this.values){if(isNaN(s)||s<this.xAxis.clipMinimum||s>this.xAxis.clipMaximum)continue;const n=this.xAxis.transform(s);await i.drawText(A(n,this.symbolPosition),this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,I.Center,D.Bottom)}}}async renderLegend(i,s){await i.drawText(s.center,this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,I.Center,D.Middle)}areAxesRequired(){return!0}ensureAxes(){this.xAxis=this.xAxisKey!==void 0?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis}isUsing(i){return i===this.xAxis}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minimumX),this.xAxis.include(this.maximumX)}updateData(){}updateMaxMin(){this.minimumX=Pt(this.values),this.maximumX=Wt(this.values)}}class va extends G{constructor(){super();st(this,"showVerticals");st(this,"epsilon");this.showVerticals=!0,this.epsilon=1e-8}async render(i){if(this.points.length===0)return;if(this.points.length%2!==0)throw new Error("The number of points should be even.");if(!this.xAxis||!this.yAxis)throw new Error("Axis has not been defined.");const s=this.points.map(o=>this.transform(o)),n=[];for(let o=0;o<s.length;o+=2)pi(s[o],s[o+1])<this.strokeThickness&&(s[o]=A(s[o].x-this.strokeThickness*.5,s[o].y),s[o+1]=A(s[o].x+this.strokeThickness*.5,s[o].y)),this.showVerticals&&o>0&&Math.abs(s[o-1].x-s[o].x)<this.epsilon&&(n.push(s[o-1]),n.push(s[o]));if(this.strokeThickness>0){if(this.lineStyle!==k.None){const o=Nt.getDashArray(this.lineStyle);await i.drawLineSegments(s,this.actualColor,this.strokeThickness,this.edgeRenderingMode,o,this.lineJoin)}await i.drawLineSegments(n,this.actualColor,this.strokeThickness/3,this.edgeRenderingMode,Nt.getDashArray(k.Dash),this.lineJoin)}await _.drawMarkers(i,s,this.markerType,void 0,[this.markerSize],this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}getNearestPoint(i,s){const n=this.points;if(!n)return;let o,a,l=-1,h=Number.MAX_VALUE;for(let m=0;m+1<n.length;m+=2){const c=n[m],g=n[m+1];if(!this.isValidPoint(c)||!this.isValidPoint(g))continue;const f=this.transform(c),y=this.transform(g),M=me.findPointOnLine(i,f,y);if(Ls(M))continue;const S=pi(i,M);if(S<h){const C=Fe(M,f)/Fe(y,f);a=d(c.x+C*(g.x-c.x),c.y+C*(g.y-c.y)),o=M,h=S,l=m+C}}if(h<Number.MAX_VALUE){const m=this.getItem(Math.floor(l));return new _t({series:this,dataPoint:a,position:o,item:m,index:l,text:`${this.title||""}
x: ${m.x}
y: ${m.y}`})}}}class Er extends It{constructor(i){super(i);st(this,"image");st(this,"_matrix");st(this,"gridInterval");st(this,"showDiagonal");st(this,"minimumGridLineDistance");st(this,"gridColor");st(this,"borderColor");st(this,"notZeroColor");st(this,"zeroTolerance");this.gridInterval=1,this.showDiagonal=!1,this.minimumGridLineDistance=4,this.gridColor=p.LightGray,this.borderColor=p.Gray,this.notZeroColor=p.Black,this.zeroTolerance=0,this.trackerStringFormatter=s=>`${s.title||""}
[${s.xValue},${s.yValue}] = ${s.item}`,i&&Object.assign(this,ot(i))}get matrix(){return this._matrix}set matrix(i){this._matrix=i,this.image=void 0}get matrixValue(){return this.matrix}set matrixValue(i){this.image=void 0,this.matrix=i}async render(i){if(!this.matrixValue)return;const s=J.transform,n=this.matrixValue.length,o=this.matrixValue[0].length,a=s(this,0,0),l=s(this,o,n);if(!this.image){const y=new Be(o,n);for(let M=0;M<n;M++)for(let S=0;S<o;S++){const C=Math.abs(this.matrixValue[M][S])<=this.zeroTolerance?p.Transparent:this.notZeroColor;y.set(S,M,C)}this.image=await fe.create(y,pe.Png)}const h=Math.min(a.x,l.x),m=Math.min(a.y,l.y),c=Math.abs(a.x-l.x),g=Math.abs(a.y-l.y);await _.drawImage(i,this.image,h,m,c,g,1,!1);const f=[];if(this.gridInterval>0){const y=s(this,this.gridInterval,this.gridInterval);if(Math.abs(y.y-a.y)>this.minimumGridLineDistance)for(let M=1;M<o;M+=this.gridInterval)f.push(s(this,0,M)),f.push(s(this,o,M));if(Math.abs(y.x-a.x)>this.minimumGridLineDistance)for(let M=1;M<n;M+=this.gridInterval)f.push(s(this,M,0)),f.push(s(this,M,n))}if(this.showDiagonal&&(f.push(s(this,0,0)),f.push(s(this,o,n))),await i.drawLineSegments(f,this.gridColor,1,this.edgeRenderingMode,void 0,et.Miter),this.borderColor.isVisible()){const y=[s(this,0,0),s(this,n,0),s(this,0,o),s(this,n,o),s(this,0,0),s(this,0,o),s(this,n,0),s(this,n,o)];await i.drawLineSegments(y,this.borderColor,1,this.edgeRenderingMode,void 0,et.Miter)}}getNearestPoint(i,s){if(!this.matrix)return;const n=this.inverseTransform(i),o=Math.floor(n.y),a=Math.floor(n.x);if(o>=0&&o<this.matrix.length&&a>=0&&a<this.matrix[0].length){const l=this.matrix[o][a];return new _t({series:this,dataPoint:n,position:i,item:null,index:-1,text:this.trackerStringFormatter({item:l,title:this.title,xValue:a,yValue:o})})}}updateMaxMin(){super.updateMaxMin(),this.matrix&&(this.minX=0,this.maxX=this.matrix[0].length,this.minY=0,this.maxY=this.matrix.length)}}class _r extends It{constructor(i){super(i);st(this,"image");st(this,"pixels");st(this,"imageSize",0);st(this,"angle0",0);st(this,"angle1",0);st(this,"magnitude0",0);st(this,"magnitude1",0);st(this,"data");st(this,"interpolate");st(this,"minValue",0);st(this,"maxValue",0);st(this,"colorAxis");st(this,"colorAxisKey");this.interpolate=!0,i&&Object.assign(this,ot(i))}async render(i){if(!this.data){this.image=void 0;return}this.imageSize>0?await this.renderFixed(i,this.plotModel):await this.renderDynamic(i,this.plotModel)}async renderDynamic(i,s){if(!this.data)return;const n=this.data.length,o=this.data[0].length,a=s.plotArea,l=Math.floor(a.width),h=Math.floor(a.height);if(l===0||h===0)return;(!this.pixels||this.pixels.height!==h||this.pixels.width!==l)&&(this.pixels=new Be(l,h));const m=this.pixels,c=Si.getColor;for(let g=0;g<h;g++)for(let f=0;f<l;f++){const y=A(a.left+f,a.top+g),M=this.inverseTransform(y);let S,C;if(this.plotModel.plotType!==rt.Polar)S=Math.atan2(M.y,M.x)/Math.PI*180,C=Math.sqrt(M.x*M.x+M.y*M.y);else{for(S=M.y/Math.PI*180,C=M.x;S<0;)S+=360;for(;S>360;)S-=360}const v=(S-this.angle0)/(this.angle1-this.angle0)*n,R=(C-this.magnitude0)/(this.magnitude1-this.magnitude0)*o;if(v>=0&&v<n&&R>=0&&R<o){const T=this.getValue(v,R),P=r.fromAColor(160,c(this.colorAxis,T));m.set(f,g,P)}else m.set(f,g,p.Transparent)}this.image=await fe.create(m,pe.Png),await _.drawImage(i,this.image,a.left,a.top,a.width,a.height,1,!1)}async renderFixed(i,s){if(!this.data)return;if(!this.image){const a=this.data.length,l=this.data[0].length,h=this.imageSize,m=this.imageSize;(this.pixels===void 0||this.pixels.height!==m||this.pixels.width!==h)&&(this.pixels=new Be(h,m));const c=Si.getColor,g=this.pixels;for(let f=0;f<m;f++)for(let y=0;y<h;y++){const M=(y-h*.5)/(h*.5)*this.magnitude1,S=-(f-m*.5)/(m*.5)*this.magnitude1;let C=Math.atan2(S,M)/Math.PI*180;const v=Math.sqrt(M*M+S*S);for(;C<0;)C+=360;for(;C>360;)C-=360;const R=(C-this.angle0)/(this.angle1-this.angle0)*a,T=(v-this.magnitude0)/(this.magnitude1-this.magnitude0)*l;if(R>=0&&R<a&&T>=0&&T<l){const P=this.getValue(R,T),B=r.fromAColor(160,c(this.colorAxis,P));g.set(y,f,B)}else g.set(y,f,p.Transparent)}this.image=await fe.create(g,pe.Png)}if(!this.image)return;const n=J.transform;let o;if(this.plotModel.plotType!==rt.Polar){const a=n(this,-this.magnitude1,this.magnitude1),l=n(this,this.magnitude1,-this.magnitude1);o=new F(a.x,a.y,l.x-a.x,l.y-a.y)}else{const a=n(this,this.magnitude1,90),l=n(this,this.magnitude1,270),h=n(this,this.magnitude1,180),m=n(this,this.magnitude1,0);o=new F(h.x,a.y,m.x-h.x,l.y-a.y)}await _.drawImage(i,this.image,o.left,o.top,o.width,o.height,1,!1)}getValue(i,s){if(!this.data)return NaN;if(!this.interpolate){const R=Math.floor(i),T=Math.floor(s);return this.data[R][T]}i-=.5,s-=.5;const n=Math.floor(i),o=Math.floor(s),a=n>0?n:0,l=n+1<this.data.length?n+1:n,h=o>0?o:0,m=o+1<this.data[0].length?o+1:o,c=this.data[a][h],g=this.data[a][m],f=this.data[l][h],y=this.data[l][m],M=i-n,S=s-o,C=c*(1-S)+g*S,v=f*(1-S)+y*S;return C*(1-M)+v*M}getNearestPoint(i,s){}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin();const i=this.getData();this.minValue=Pt(i),this.maxValue=Wt(i);const s=this.colorAxis;s&&(s.include(this.minValue),s.include(this.maxValue))}getData(){if(!this.data)return[];const i=this.data.length,s=[],n=this.data[0].length;for(let o=0;o<i;o++)for(let a=0;a<n;a++)s.push(this.data[o][a]);return s}}function Xp(){const t=new b({title:"ErrorSeries"}),i=new H({legendPosition:z.BottomRight});t.legends.push(i);const s=new Wp;s.title="Measurements";const n=Math.random();let o=0,a=0;for(let l=0;l<20;l++){o+=2+n*10,a+=1+n;const h=1+n*2,m=1+n*2;s.pointsList.push(new Hp(o,a,h,m))}return t.series.push(s),t}function qp(){const e=new b({title:"LineSegmentSeries"}),t=new va;t.title="The first series",t.points.push(d(0,3),d(2,3.2)),t.points.push(d(2,2.7),d(7,2.9)),e.series.push(t);const i=new va;return i.title="The second series",i.points.push(d(1,-3),d(2,10)),i.points.push(d(0,4.8),d(7,2.3)),i.points.push(d(6,4),d(6,4+1e-8)),e.series.push(i),e}function Kp(){const e=new b({title:"FlagSeries"}),t=new Yp;return t.title="Incidents",t.color=p.Red,t.values.push(2,3,5,7,11,13,17,19),e.series.push(t),e}function Zp(){const e=new b,t=[[1,0,0],[0,2,0],[0,0,3],[5,5,5]];return e.axes.push(new w({position:x.Left,startPosition:1,endPosition:0})),e.axes.push(new w({position:x.Bottom})),e.series.push(new Er({matrix:t,showDiagonal:!0})),e}function ps(){const e=new b({title:"Polar heat map",plotMargins:new X(40,80,40,40),plotType:rt.Polar,plotAreaBorderThickness:new X(0)}),t=[[0,2],[1.5,.2]];return e.axes.push(new ae({startAngle:0,endAngle:360,minimum:0,maximum:360,majorStep:30,minorStep:15})),e.axes.push(new Se({minimum:0,maximum:100,majorStep:25,minorStep:5})),e.axes.push(new Yt({position:x.Right,palette:U.rainbow(500),highColor:p.Gray,lowColor:p.Black})),e.series.push(new _r({data:t,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!1})),e}function Jp(){const e=ps();return e.axes[0]=new ae({startAngle:360,endAngle:0,minimum:0,maximum:360,majorStep:30,minorStep:15}),e}function Qp(){const e=ps();return e.axes[0]=new ae({startAngle:90,endAngle:450,minimum:0,maximum:360,majorStep:30,minorStep:15}),e}function t1(){const e=ps();return e.axes[0]=new ae({startAngle:Math.PI,endAngle:Math.PI+360,minimum:0,maximum:360,majorStep:30,minorStep:15}),e}function e1(){const e=ps();return e.title="Polar heat map (interpolated)",e.series[0].interpolate=!0,e}function i1(){const e=ps();return e.title="Polar heat map with fixed size image",e.series[0].imageSize=800,e}function Ho(){const e=new b({title:"Polar heat map on linear axes"}),t=[[0,2],[1.5,.2]];return e.axes.push(new w({position:x.Bottom,minimum:-100,maximum:100})),e.axes.push(new w({position:x.Left,minimum:0,maximum:100})),e.axes.push(new Yt({position:x.Right,palette:U.rainbow(500),highColor:p.Gray,lowColor:p.Black})),e.series.push(new _r({data:t,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!0})),e}function s1(){const e=Ho();return e.title="Polar heat map on linear axes & fixed size image (256x256)",e.series[0].imageSize=256,e}function n1(){const e=Ho();return e.title="Polar heat map on linear axes & fixed size image (1000x1000)",e.series[0].imageSize=1e3,e}function o1(){const e=new Be(7,7,0);e.set(1,0,1),e.set(5,0,1),e.set(3,1,1),e.set(0,2,1),e.set(6,2,1),e.set(4,3,1),e.set(1,4,1),e.set(5,4,1),e.set(2,5,1),e.set(0,6,1),e.set(4,6,1);for(let o=0;o<7;o++)e.set(o,o,-1);const t=new b({title:"Design structure matrix (DSM)"});t.axes.push(new Yt({position:x.None,palette:new Ot([p.White,p.LightGreen]),lowColor:p.Black,minimum:0,isAxisVisible:!1}));const i=new K({position:x.Top});i.labels.push("A","B","C","D","E","F","G"),t.axes.push(i);const s=new K({position:x.Left,startPosition:1,endPosition:0});s.labels.push("Element A","Element B","Element C","Element D","Element E","Element F","Element G"),t.axes.push(s);const n=new a1({data:e.toArray(),interpolate:!1,labelStringFormatter:(o,a)=>`${o||""}`,labelFontSize:.25,x0:0,x1:e.width-1,y0:0,y1:e.height-1});return t.series.push(n),t}class a1 extends je{constructor(t){super(t)}getLabel(t,i,s){return i===s?this.xAxis.labels[i]:super.getLabel(t,i,s)}}const r1="Custom series",l1={category:r1,tags:["Series"],examples:[{title:"ErrorSeries",example:{model:Xp}},{title:"LineSegmentSeries",example:{model:qp}},{title:"FlagSeries",example:{model:Kp}},{title:"MatrixSeries - diagonal matrix",example:{model:Zp}},{title:"PolarHeatMap",example:{model:ps}},{title:"PolarHeatMap Reversed Angle Axis",example:{model:Jp}},{title:"PolarHeatMap Rotated CounterClockwise 90",example:{model:Qp}},{title:"PolarHeatMap Rotated CounterClockwise on PI degrees",example:{model:t1}},{title:"PolarHeatMap (interpolated)",example:{model:e1}},{title:"PolarHeatMap fixed size image",example:{model:i1}},{title:"PolarHeatMap on linear axes",example:{model:Ho}},{title:"PolarHeatMap linear axes, fixed size image (256x256)",example:{model:s1}},{title:"PolarHeatMap linear axes, fixed size image (1000x1000)",example:{model:n1}},{title:"Design structure matrix (DSM)",example:{model:o1}}]},h1=[l1];function m1(){const e=new b;e.title="Invisible contour series";const t=new De;return t.isVisible=!1,t.columnCoordinates=qt.createVectorWithStep(-1,1,.05),t.rowCoordinates=qt.createVectorWithStep(-1,1,.05),t.data=qt.evaluate((i,s)=>i+s,t.columnCoordinates,t.rowCoordinates),e.series.push(t),e}function u1(){const e=new b;return e.title="StairStepSeries NullReferenceException",e.series.push(new Ie),e}function c1(){const e=[[10,0,-10],[0,0,0]],t=new b({title:"HeatMapSeries"});t.axes.push(new Yt({position:x.Right,palette:new Ot([p.Red,p.Green,p.Blue])}));const i=new je({coordinateDefinition:zs.Center,x0:0,x1:3,y0:0,y1:2,data:e,interpolate:!1,labelFontSize:.2});return t.series.push(i),t}function d1(){return yt.createPeaks(void 0,!0,400)}function p1(){const e=yt.createPeaks();e.title="Updating HeatMapSeries",e.subtitle="Click the heat map to change the Maximum of the color axis.";const t=e.axes[0],i=e.series[0];return i.onMouseDown=s=>{t.maximum=isNaN(t.maximum)?10:NaN,e.invalidatePlot(!0)},e}function g1(){const e=yt.createPeaks();e.title="Updating HeatMapSeries",e.subtitle="Click the heat map to change the Maximum of the color axis and invoke the Invalidate method on the HeatMapSeries.";const t=e.axes[0],i=e.series[0];return i.onMouseDown=s=>{t.maximum=isNaN(t.maximum)?10:NaN,i.invalidate(),e.invalidatePlot(!0)},e}function x1(){const e=new b;e.title="Reduced color saturation",e.axes.push(new K({position:x.Bottom})),e.defaultColors=e.defaultColors.map(i=>xe.changeSaturation(i,.5));const t=new bt;for(let i=0;i<e.defaultColors.length;i++){const s=new $;s.items.push(L.fromValue(50+t.next()*50)),s.items.push(L.fromValue(40+t.next()*50)),e.series.push(s)}return e}function f1(){const e=new b;e.title="Medium intensity colors",e.axes.push(new K({position:x.Bottom})),e.defaultColors=[r.fromRgb(114,114,114),r.fromRgb(241,89,95),r.fromRgb(121,195,106),r.fromRgb(89,154,211),r.fromRgb(249,166,90),r.fromRgb(158,102,171),r.fromRgb(205,112,88),r.fromRgb(215,127,179)];const t=new bt;for(let i=0;i<e.defaultColors.length;i++){const s=new $;s.items.push(L.fromValue(50+t.next()*50)),s.items.push(L.fromValue(40+t.next()*50)),e.series.push(s)}return e}function w1(){const e=new b;e.title="Brewer colors (Accent scheme)",e.axes.push(new K({position:x.Bottom})),e.defaultColors=[r.fromRgb(127,201,127),r.fromRgb(190,174,212),r.fromRgb(253,192,134),r.fromRgb(255,255,153)];const t=new bt;for(let i=0;i<e.defaultColors.length;i++){const s=new $;s.items.push(L.fromValue(50+t.next()*50)),s.items.push(L.fromValue(40+t.next()*50)),e.series.push(s)}return e}function y1(){const e=new b;e.title="Brewer colors (Paired scheme)",e.axes.push(new K({position:x.Bottom})),e.defaultColors=[r.fromRgb(166,206,227),r.fromRgb(31,120,180),r.fromRgb(178,223,138),r.fromRgb(51,160,44),r.fromRgb(251,154,153),r.fromRgb(227,26,28)];const t=new bt;for(let i=0;i<e.defaultColors.length;i++){const s=new $;s.items.push(L.fromValue(50+t.next()*50)),s.items.push(L.fromValue(40+t.next()*50)),e.series.push(s)}return e}function b1(){const e=new b;e.title="Same color of LineSeries and axis title & labels";const t=p.IndianRed;return e.axes.push(new w({position:x.Left,title:"Axis 1",titleColor:t,textColor:t})),e.axes.push(new w({position:x.Bottom})),e.series.push(new G({title:"LineSeries 1",color:t,itemsSource:[d(0,0),d(10,3),d(20,2)]})),e}function M1(){const e=new b;return e.title="Custom arrow series",e.plotType=rt.Polar,e.plotAreaBorderColor=p.Undefined,e.axes.push(new ae({minimum:0,maximum:360,majorStep:30,minorStep:30,majorGridlineStyle:k.Dash})),e.axes.push(new Se({minimum:0,maximum:5,majorStep:1,minorStep:1,angle:90,majorGridlineStyle:k.Dash})),e.series.push(new Ss({endPoint:d(1,40)})),e.series.push(new Ss({endPoint:d(2,75)})),e.series.push(new Ss({endPoint:d(3,110)})),e.series.push(new Ss({endPoint:d(4,140)})),e.series.push(new Ss({endPoint:d(5,180)})),e}function S1(){const e=new b({plotType:rt.Cartesian,plotAreaBorderThickness:new X(0)}),t=new H;t.legendSymbolLength=30;const i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=Xe(),n=new Lt({position:x.Bottom,tickStyle:it.None,axislineStyle:k.Solid,axislineColor:r.fromRgb(153,153,153),stringFormatter:(l,h)=>i[l.getMonth()]+s.format(l,"d HH"),intervalType:at.Hours}),o=new w({position:x.Left,minimum:.001,maximum:3,majorGridlineStyle:k.Solid,tickStyle:it.None,intervalLength:50});e.axes.push(n),e.axes.push(o);const a=new G({color:r.fromRgb(44,169,173),strokeThickness:1,markerType:N.Circle,markerStroke:p.Blue,markerFill:p.SkyBlue,markerSize:2,dataFieldX:"Date",dataFieldY:"Value",trackerStringFormatter:l=>`Date: ${s.format(l.xValue,"DD HH")}
Value: ${l.yValue}`});return a.points.push(d(.1,.7)),a.points.push(d(.6,.9)),a.points.push(d(1,.85)),a.points.push(d(1.4,.95)),a.points.push(d(1.8,1.2)),a.points.push(d(2.2,1.7)),a.points.push(d(2.6,1.7)),a.points.push(d(3,.7)),e.series.push(a),e}class Ss extends It{constructor(i){super(i);st(this,"defaultColor",p.Undefined);st(this,"startPoint",Ai);st(this,"endPoint",Ai);st(this,"color");st(this,"strokeThickness");this.color=p.Automatic,this.strokeThickness=2,i&&Object.assign(this,i)}setDefaultValues(){this.color.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor())}get actualColor(){return this.color.getActualColor(this.defaultColor)}async render(i){const s=this.transform(this.startPoint),n=this.transform(this.endPoint),o=$t(n,s),a=new pt(o.y,-o.x),l=St(Pe(n,o.times(.2)),a.times(.1)),h=Pe(Pe(n,o.times(.2)),a.times(.1));await i.drawLineSegments([s,n,n,l,n,h],this.actualColor,this.strokeThickness,this.edgeRenderingMode)}}const k1="Z0 Discussions",A1={category:k1,examples:[{title:"#445576: Invisible contour series",example:{model:m1}},{title:"#461507: StairStepSeries NullReferenceException",example:{model:u1}},{title:"#501409: Heatmap interpolation color",example:{model:c1}},{title:"#522598: Peaks 400x400",example:{model:d1}},{title:"#474875: Updating HeatMapSeries 1",example:{model:p1}},{title:"#474875: Updating HeatMapSeries 2",example:{model:g1}},{title:"#539104: Reduced color saturation",example:{model:x1}},{title:"#539104: Medium intensity colors",example:{model:f1}},{title:"#539104: Brewer colors (4)",example:{model:w1}},{title:"#539104: Brewer colors (6)",example:{model:y1}},{title:"#542701: Same color of LineSeries and axis title & labels",example:{model:b1}},{title:"#549839: Polar plot with custom arrow series",example:{model:M1}},{title:"MarkerType = Circle problem",example:{model:S1}}]},R1=[A1];function T1(){const e=new b({title:"Filtering NaN points"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const t=new G;return t.points.push(d(NaN,NaN)),t.points.push(d(1,0)),t.points.push(d(2,10)),t.points.push(d(NaN,20)),t.points.push(d(3,10)),t.points.push(d(4,0)),t.points.push(d(4.5,NaN)),t.points.push(d(5,0)),t.points.push(d(7,7)),t.points.push(d(NaN,NaN)),t.points.push(d(NaN,NaN)),t.points.push(d(7,0)),t.points.push(d(NaN,NaN)),e.series.push(t),e}function C1(){const e=new b({title:"Filtering NaN points in an AreaSeries"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const t=new Je;return t.points.push(d(1,0)),t.points.push(d(2,10)),t.points.push(d(3,10)),t.points.push(d(4,0)),t.points.push(d(5,0)),t.points.push(d(6,7)),t.points.push(d(7,7)),t.points.push(d(NaN,NaN)),t.points.push(d(NaN,NaN)),t.points.push(d(8,0)),t.points.push(d(9,0)),t.points.push(d(NaN,NaN)),t.points2.push(d(1,10)),t.points2.push(d(2,110)),t.points2.push(d(3,110)),t.points2.push(d(4,10)),t.points2.push(d(5,10)),t.points2.push(d(6,17)),t.points2.push(d(7,17)),t.points2.push(d(NaN,NaN)),t.points2.push(d(NaN,NaN)),t.points2.push(d(8,10)),t.points2.push(d(9,10)),t.points2.push(d(NaN,NaN)),e.series.push(t),e}function v1(){const e=new b({title:"Filtering undefined points"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const t=new G;return t.points.push(oe),t.points.push(d(1,0)),t.points.push(d(2,10)),t.points.push(oe),t.points.push(d(3,10)),t.points.push(d(4,0)),t.points.push(oe),t.points.push(d(5,0)),t.points.push(d(7,7)),t.points.push(oe),t.points.push(oe),t.points.push(d(7,0)),t.points.push(oe),e.series.push(t),e}function P1(){const e=new b({title:"Filtering invalid points on logarithmic axes"});e.axes.push(new wt({position:x.Bottom})),e.axes.push(new wt({position:x.Left}));const t=new G;return t.points.push(d(NaN,NaN)),t.points.push(d(1,1)),t.points.push(d(10,10)),t.points.push(d(0,20)),t.points.push(d(100,2)),t.points.push(d(1e3,12)),t.points.push(d(4.5,0)),t.points.push(d(1e4,4)),t.points.push(d(1e5,14)),t.points.push(d(NaN,NaN)),t.points.push(d(1e6,5)),t.points.push(d(NaN,NaN)),e.series.push(t),e}function L1(){const e=new b({title:"Filtering points outside (-1,1)"});e.axes.push(new w({position:x.Bottom,filterMinValue:-1,filterMaxValue:1})),e.axes.push(new w({position:x.Left,filterMinValue:-1,filterMaxValue:1}));const t=new G;for(let i=0;i<200;i+=.01)t.points.push(d(.01*i*Math.sin(i),.01*i*Math.cos(i)));return e.series.push(t),e}const I1="Filtering data points",B1={category:I1,examples:[{title:"Filtering NaN points",example:{model:T1}},{title:"Filtering NaN points with AreaSeries",example:{model:C1}},{title:"Filtering undefined points",example:{model:v1}},{title:"Filtering invalid points (log axis)",example:{model:P1}},{title:"Filtering points outside (-1,1)",example:{model:L1}}]},Ti=1e5;function D1(){const e=[];for(let i=0;i<Ti;i++){const s=i/(Ti-1);e.push(d(s,Bn(s)))}const t=new b({title:"Using IDataPoint"});return t.series.push(new G({itemsSource:e})),t}function N1(){const e=[];for(let i=0;i<Ti;i++){const s=i/(Ti-1);e.push(new E1(s,Bn(s)))}const t=new b({title:"Items implementing IDataPointProvider"});return t.series.push(new G({itemsSource:e})),t}function F1(){const e=[];for(let i=0;i<Ti;i++){const s=i/(Ti-1);e.push(new Or(s,Bn(s)))}const t=new b({title:"Using Mapping property"});return t.series.push(new G({itemsSource:e,mapping:i=>d(i.abscissa,i.ordinate)})),t}function V1(){const e=[];for(let i=0;i<Ti;i++){const s=i/(Ti-1);e.push(new Or(s,Bn(s)))}const t=new b({title:"Using reflection (slow)"});return t.series.push(new G({itemsSource:e,dataFieldX:"abscissa",dataFieldY:"ordinate"})),t}class E1{constructor(t,i){this.abscissa=t,this.ordinate=i}getDataPoint(){return d(this.abscissa,this.ordinate)}}class Or{constructor(t,i){this.abscissa=t,this.ordinate=i}}function Bn(e){return Math.sin(3/e)*Math.sin(5/(1-e))}const _1="ItemsSource",O1={category:_1,examples:[{title:"List<DataPoint>",example:{model:D1}},{title:"Items implementing IDataPointProvider",example:{model:N1}},{title:"Mapping property",example:{model:F1}},{title:"Using reflection (slow)",example:{model:V1}}]},z1=()=>{const e=Zt(),t=new H({legendPlacement:ct.Inside,legendPosition:z.RightTop,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e},G1=()=>{const e=Zt(),t=new H({legendPlacement:ct.Outside,legendPosition:z.RightTop,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e},$1=()=>{const e=Zt(4),t=new H({legendPlacement:ct.Outside,legendPosition:z.BottomLeft,legendOrientation:At.Horizontal,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e},j1=()=>{const e=Zt(4),t=new H({legendPlacement:ct.Outside,legendPosition:z.TopLeft,legendOrientation:At.Vertical,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e},U1=()=>{const e=Zt(),t=new H;return e.legends.push(t),e},H1=()=>{const e=Zt(),t=new H({legendItemSpacing:100,legendPosition:z.BottomLeft,legendOrientation:At.Horizontal,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e},W1=()=>{const e=Zt(),t=new H({legendLineSpacing:30,legendPosition:z.TopLeft,legendOrientation:At.Vertical,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e},Y1=()=>{const e=Zt(),t=new H({legendLineSpacing:30,legendPosition:z.TopLeft,legendOrientation:At.Horizontal,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e},X1=()=>{const e=Zt(60),t=new H({legendColumnSpacing:100,legendPosition:z.TopRight,legendOrientation:At.Vertical,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e},q1=()=>{const e=Zt(),t=new H({legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e.isLegendVisible=!1,e},K1=()=>{const e=Zt();e.defaultColors=[p.Black,p.Gray];const t=new H({legendSymbolLength:32,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e},Wo=()=>{const e=Zt(1);e.series[0].title="1234567890 abcdefghijklmnopqrstuvwxyzæøå ABCDEFGHIJKLMNOPQRSTUVWXYZÆØÅ 1234567890 abcdefghijklmnopqrstuvwxyzæøå ABCDEFGHIJKLMNOPQRSTUVWXYZÆØÅ";const t=new H({legendPlacement:ct.Inside,legendPosition:z.RightTop,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e},Z1=()=>{const e=Wo();return e.legends[0].legendPlacement=ct.Outside,e.legends[0].legendPosition=z.RightTop,e.legends[0].legendMaxWidth=200,e},J1=()=>{const e=Wo();return e.legends[0].legendPlacement=ct.Outside,e.legends[0].legendPosition=z.TopRight,e};function Zt(e=20){const t=new b;t.title="LineSeries";for(let i=1;i<=e;i++){const s=new G;s.title="Series "+i,t.series.push(s);for(let n=0;n<2*Math.PI;n+=.1)s.points.push(d(n,Math.sin(n*i)/i+i))}return t}const Q1=()=>{const e=Zt(),t=new H({legendPlacement:ct.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Vertical,legendMaxHeight:75,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e},t0=()=>{const e=Zt(),t=new H({legendFontSize:NaN,legendTitle:"Title in DefaultFontSize",legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e.defaultFontSize=20,e},e0=()=>{const e=Zt(21);for(let i=0;i<7;i++)e.series[i].seriesGroupName="group 1";for(let i=7;i<14;i++)e.series[i].seriesGroupName="group 2";for(let i=14;i<21;i++)e.series[i].seriesGroupName="group 3";const t=new H({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black,groupNameFont:"Segoe UI Black",legendPosition:z.TopLeft,legendOrientation:At.Horizontal});return e.legends.push(t),e},i0=()=>{const e=Zt(21);for(let i=0;i<7;i++)e.series[i].seriesGroupName="group 1";for(let i=7;i<14;i++)e.series[i].seriesGroupName="group 2";for(let i=14;i<21;i++)e.series[i].seriesGroupName="group 3";const t=new H({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e},s0=()=>{const e=Zt(21);for(let i=0;i<7;i++)e.series[i].seriesGroupName="group 1";for(let i=7;i<14;i++)e.series[i].seriesGroupName="group 2";for(let i=14;i<21;i++)e.series[i].seriesGroupName="group 3";const t=new H({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black,legendMaxHeight:275});return e.legends.push(t),e},n0=()=>{const e=Zt(21);for(let s=0;s<7;s++)e.series[s].seriesGroupName="group 1",e.series[s].legendKey="Legend 1";for(let s=7;s<14;s++)e.series[s].seriesGroupName="group 2",e.series[s].legendKey="Legend 1";for(let s=14;s<21;s++)e.series[s].seriesGroupName="group 3",e.series[s].legendKey="Legend 2";const t=new H({key:"Legend 1",legendFontSize:NaN,legendTitle:"Legend 1 Series",legendPlacement:ct.Inside,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black}),i=new H({key:"Legend 2",legendFontSize:NaN,legendTitle:"Legend 2 Series",legendPlacement:ct.Outside,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return e.legends.push(t),e.legends.push(i),e},o0=()=>{const e=Zt(21),t=new H({legendPlacement:ct.Outside,legendPosition:z.TopCenter,legendOrientation:At.Horizontal,allowUseFullExtent:!0}),i=new H({legendPlacement:ct.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,allowUseFullExtent:!0});return e.plotMargins=new X(50),e.legends.push(t),e.legends.push(i),e.invalidatePlot(!0),e},a0=()=>{const e=Zt(21),t=new H({legendPlacement:ct.Outside,legendPosition:z.LeftTop,legendOrientation:At.Vertical,allowUseFullExtent:!0}),i=new H({legendPlacement:ct.Outside,legendPosition:z.RightTop,legendOrientation:At.Vertical,allowUseFullExtent:!0});return e.legends.push(t),e.legends.push(i),e},r0=()=>zr(!0),l0=()=>zr(!1),zr=e=>{const t=Zt(),i=new H({showInvisibleSeries:e});t.legends.push(i);for(let s=0;s<t.series.length;s+=2)t.series[s].isVisible=!1;return t.invalidatePlot(!1),t},h0="Legends",m0={category:h0,tags:["Legends"],examples:[{title:"Legend at right top inside",example:{model:z1}},{title:"Legend at right top outside",example:{model:G1}},{title:"Legend at BottomLeft outside horizontal",example:{model:$1}},{title:"Legend at TopLeft outside vertical",example:{model:j1}},{title:"Legend at default position",example:{model:U1}},{title:"LegendItemSpacing (only for horizontal orientation)",example:{model:H1}},{title:"LegendLineSpacing (vertical legend orientation)",example:{model:W1}},{title:"LegendLineSpacing (horizontal legend orientation)",example:{model:Y1}},{title:"LegendColumnSpacing (only for vertical orientation)",example:{model:X1}},{title:"Hidden Legend",example:{model:q1}},{title:"Grayscale colors",example:{model:K1}},{title:"Clipped legends",example:{model:Wo}},{title:"Clipped legends RightTop outside with MaxWidth",example:{model:Z1}},{title:"Clipped legends TopRight outside",example:{model:J1}},{title:"LegendMaxHeight (vertical legend orientation)",example:{model:Q1}},{title:"Legend with DefaultFontSize",example:{model:t0}},{title:"Legend with grouped Series Horizontal",example:{model:e0}},{title:"Legend with grouped Series",example:{model:i0}},{title:"Legend with grouped Series and MaxHeight",example:{model:s0}},{title:"Multiple Legends with grouped Series",example:{model:n0}},{title:"Full width legend",example:{model:o0}},{title:"Full height legend",example:{model:a0}},{title:"Legend showing invisible series",example:{model:r0}},{title:"Legend not showing invisible series",example:{model:l0}}]};function u0(){const e=new b({title:"Mouse events",subtitle:"Left click and drag"}),t=new w({position:x.Left,minimum:-1,maximum:1}),i=new w({position:x.Bottom,minimum:-1,maximum:1});e.axes.push(t),e.axes.push(i);let s;return e.mouseDown=(n,o)=>{o.changedButton===Mt.Left&&(s=new G({title:"LineSeries"+(e.series.length+1),markerType:N.None,strokeThickness:2}),s.points.push(i.inverseTransformPoint(o.position.x,o.position.y,t)),e.series.push(s),e.invalidatePlot(!1),o.handled=!0)},e.mouseMove=(n,o)=>{s!==void 0&&(s.points.push(i.inverseTransformPoint(o.position.x,o.position.y,t)),e.invalidatePlot(!1),o.handled=!0)},e.mouseUp=(n,o)=>{s!==void 0&&(s=void 0,o.handled=!0)},e}function c0(){const e=new b({title:"MouseDown HitTestResult",subtitle:"Reports the index of the nearest point."}),t=new G;t.points.push(d(0,10)),t.points.push(d(10,40)),t.points.push(d(40,20)),t.points.push(d(60,30)),e.series.push(t),t.mouseDown=(s,n)=>{e.subtitle="Index of nearest point in LineSeries: "+Math.round(n.hitTestResult.index||0),e.invalidatePlot(!1)};const i=new Ft;return i.points.push({x:0,y:15}),i.points.push({x:10,y:45}),i.points.push({x:40,y:25}),i.points.push({x:60,y:35}),e.series.push(i),i.mouseDown=(s,n)=>{e.subtitle="Index of nearest point in ScatterSeries: "+Math.round(n.hitTestResult.index||0),e.invalidatePlot(!1)},e}function d0(){const e=new b({title:"MouseDown",subtitle:"Left click to edit or add points."}),t=new G({title:"LineSeries1",markerType:N.Circle,markerSize:6,strokeThickness:1.5});t.points.push(d(0,10)),t.points.push(d(10,40)),t.points.push(d(40,20)),t.points.push(d(60,30)),e.series.push(t);let i=-1;return t.mouseDown=(s,n)=>{if(n.changedButton===Mt.Left){const o=Math.round(n.hitTestResult.index),a=t.transform(t.points[o]);if($t(a,n.position).length<10)i=o;else{const l=n.hitTestResult.index+1;t.points.splice(l,0,t.inverseTransform(n.position)),i=l}t.lineStyle=k.DashDot,e.invalidatePlot(!1),n.handled=!0}},t.mouseMove=(s,n)=>{i>=0&&(t.points[i]=t.inverseTransform(n.position),e.invalidatePlot(!1),n.handled=!0)},t.mouseUp=(s,n)=>{i=-1,t.lineStyle=k.Solid,e.invalidatePlot(!1),n.handled=!0},e.mouseDown=(s,n)=>{n.changedButton===Mt.Left&&(t.points.push(t.inverseTransform(n.position)),i=t.points.length-1,e.invalidatePlot(!1),n.handled=!0)},e}function p0(){const e=new b({title:"Add arrow annotations",subtitle:"Press and drag the left mouse button"}),t=new w({position:x.Bottom}),i=new w({position:x.Left});e.axes.push(t),e.axes.push(i),e.series.push(new Q({f:n=>Math.sin(n/4)*Math.acos(Math.sin(n)),x0:0,x1:Math.PI*8,n:2e3,title:"sin(x/4)*acos(sin(x))"}));let s=null;return e.mouseDown=(n,o)=>{o.changedButton===Mt.Left&&(s=new ns,s.startPoint=s.endPoint=t.inverseTransformPoint(o.position.x,o.position.y,i),e.annotations.push(s),o.handled=!0)},e.mouseMove=(n,o)=>{s&&(s.endPoint=t.inverseTransformPoint(o.position.x,o.position.y,i),s.text=`Y = ${s.endPoint.y.toFixed(3)}`,e.invalidatePlot(!1),o.handled=!0)},e.mouseUp=(n,o)=>{s&&(s=null,o.handled=!0)},e}function g0(){const e=new b({title:"LineAnnotation",subtitle:"Click and drag the annotation line."});e.axes.push(new w({position:x.Bottom,minimum:-20,maximum:80})),e.axes.push(new w({position:x.Left,minimum:-10,maximum:10}));const t=new Dt({type:de.Vertical,x:4});return t.mouseDown=(i,s)=>{s.changedButton===Mt.Left&&(t.strokeThickness*=5,e.invalidatePlot(!1),s.handled=!0)},t.mouseMove=(i,s)=>{t.x=t.inverseTransform(s.position).x,e.invalidatePlot(!1),s.handled=!0},t.mouseUp=(i,s)=>{t.strokeThickness/=5,e.invalidatePlot(!1),s.handled=!0},e.annotations.push(t),e}function x0(){const e=new b({title:"ArrowAnnotation",subtitle:"Click and drag the arrow."});e.axes.push(new w({position:x.Bottom,minimum:-40,maximum:60})),e.axes.push(new w({position:x.Left,minimum:-10,maximum:10}));const t=new ns({startPoint:d(8,4),endPoint:d(0,0),text:"Move me!"});let i=oe,s=!1,n=!1,o=p.White;return t.mouseDown=(a,l)=>{l.changedButton===Mt.Left&&(i=t.inverseTransform(l.position),s=l.hitTestResult.index!==2,n=l.hitTestResult.index!==1,o=t.color,t.color=p.Red,e.invalidatePlot(!1),l.handled=!0)},t.mouseMove=(a,l)=>{const h=t.inverseTransform(l.position),m=h.x-i.x,c=h.y-i.y;s&&(t.startPoint=d(t.startPoint.x+m,t.startPoint.y+c)),n&&(t.endPoint=d(t.endPoint.x+m,t.endPoint.y+c)),i=h,e.invalidatePlot(!1),l.handled=!0},t.mouseUp=(a,l)=>{t.color=o},e.annotations.push(t),e}function f0(){const e=new b({title:"PolygonAnnotation",subtitle:"Click the polygon"});e.axes.push(new w({position:x.Left,minimum:-20,maximum:20})),e.axes.push(new w({position:x.Bottom,minimum:-20,maximum:20}));const t=new Ke({text:"Polygon 1"});t.points.push(d(4,-2),d(8,-4),d(17,7),d(5,8),d(2,5));let i=1;return t.mouseDown=(s,n)=>{n.changedButton===Mt.Left&&(t.text="Hit # "+i++,e.invalidatePlot(!1),n.handled=!0)},e.annotations.push(t),e}function w0(){const e=new b({title:"TextAnnotation",subtitle:"Click the text"});e.axes.push(new w({position:x.Bottom,minimum:-20,maximum:20})),e.axes.push(new w({position:x.Left,minimum:-10,maximum:10}));const t=new ue({textPosition:d(4,-2),text:"Click here"});return t.mouseDown=(i,s)=>{console.log("mouseDown"),s.changedButton===Mt.Left&&(t.background=t.background.isUndefined()?p.LightGreen:p.Undefined,e.invalidatePlot(!1),s.handled=!0)},e.annotations.push(t),e}async function y0(){const e=new b({title:"ImageAnnotation",subtitle:"Click the image"});e.axes.push(new w({position:x.Bottom,minimum:-20,maximum:20})),e.axes.push(new w({position:x.Left,minimum:-10,maximum:10}));const t=window.oxyPlotImg;if(!t)throw new Error("window.oxyPlotImg not set");const i=await Io().load(t),s=new ve({imageSource:i,x:new nt(4,j.Data),y:new nt(2,j.Data),horizontalAlignment:I.Right});return e.annotations.push(s),s.mouseDown=(n,o)=>{o.changedButton===Mt.Left&&(s.horizontalAlignment=s.horizontalAlignment===I.Right?I.Left:I.Right,e.invalidatePlot(!1),o.handled=!0)},e}function b0(){const e=new b({title:"MouseDown",subtitle:"Left click to add series."}),t=new H({legendSymbolLength:40});return e.legends.push(t),e.mouseDown=(i,s)=>{if(s.changedButton===Mt.Left){const n=e.series.length+1;e.series.push(new Q({f:o=>Math.sin(n*o),x0:0,x1:10,n:1e3})),e.invalidatePlot(!0),s.handled=!0}},e}function M0(){const e=new b({title:"Select range",subtitle:"Left click and drag to select a range."});e.series.push(new Q({f:Math.cos,x0:0,x1:40,dx:.1}));const t=new Xt({fill:r.fromAColor(120,p.SkyBlue),minimumX:0,maximumX:0});e.annotations.push(t);let i=Number.NaN;return e.mouseDown=(s,n)=>{n.changedButton===Mt.Left&&(i=t.inverseTransform(n.position).x,t.minimumX=i,t.maximumX=i,e.invalidatePlot(!0),n.handled=!0)},e.mouseMove=(s,n)=>{if(!Number.isNaN(i)){const o=t.inverseTransform(n.position).x;t.minimumX=Math.min(o,i),t.maximumX=Math.max(o,i),t.text=`∫ cos(x) dx =  ${Math.sin(t.maximumX)-Gt(Math.sin(t.minimumX),2)}`,e.subtitle=`Integrating from ${t.minimumX.toFixed(2)} to ${t.maximumX.toFixed(2)}`,e.invalidatePlot(!0),n.handled=!0}},e.mouseUp=(s,n)=>{i=Number.NaN},e}function S0(){const e=new b({title:"Hover"});let t=null;return e.mouseEnter=(i,s)=>{e.subtitle="The mouse entered",t=new G,e.series.push(t),e.invalidatePlot(!1),s.handled=!0},e.mouseMove=(i,s)=>{t&&t.xAxis&&(t.points.push(t.inverseTransform(s.position)),e.invalidatePlot(!1))},e.mouseLeave=(i,s)=>{e.subtitle="The mouse left",e.invalidatePlot(!1),s.handled=!0},e}function k0(){const e=new b({title:"Touch"}),t=new G;return e.series.push(t),e.touchStarted=(i,s)=>{e.subtitle="The touch gesture started",e.invalidatePlot(!1),s.handled=!0},e.touchDelta=(i,s)=>{t.points.push(t.inverseTransform(s.position)),e.invalidatePlot(!1)},e.touchCompleted=(i,s)=>{e.subtitle="The touch gesture completed",e.invalidatePlot(!1),s.handled=!0},e}function A0(){const e=new b({title:"Touch on a LineSeries"}),t=new G;return t.points.push(d(0,0)),t.points.push(d(10,10)),e.series.push(t),t.touchStarted=(i,s)=>{e.subtitle="The touch gesture started on the LineSeries",e.invalidatePlot(!1),s.handled=!0},t.touchDelta=(i,s)=>{t.points.push(t.inverseTransform(s.position)),e.invalidatePlot(!1)},t.touchCompleted=(i,s)=>{e.subtitle="The touch gesture completed",e.invalidatePlot(!1),s.handled=!0},e}function R0(){const e=new b({title:"RectangleAnnotation click"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const t=new Xt({minimumX:10,maximumX:60,minimumY:10,maximumY:20});e.annotations.push(t);let i=0;return t.mouseDown=(s,n)=>{t.text="Clicked "+ ++i+" times.",e.invalidatePlot(!1)},e}function T0(){const e=new b({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const t=new Xt({fill:p.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});e.annotations.push(t);const i=new Xt({fill:p.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});e.annotations.push(i);const s=(n,o)=>{e.subtitle="You clicked "+n.text,e.invalidatePlot(!1)};return t.mouseDown=s,i.mouseDown=s,e}const C0="Mouse Events",v0={category:C0,examples:[{title:"PlotModel mouse events",example:{model:u0}},{title:"MouseDown event and HitTestResult",example:{model:c0}},{title:"LineSeries and PlotModel MouseDown event",example:{model:d0}},{title:"Add arrow annotations",example:{model:p0}},{title:"LineAnnotation",example:{model:g0}},{title:"ArrowAnnotation",example:{model:x0}},{title:"PolygonAnnotation",example:{model:f0}},{title:"TextAnnotation",example:{model:w0}},{title:"ImageAnnotation",example:{model:y0}},{title:"Add Series",example:{model:b0}},{title:"Select range",example:{model:M0}},{title:"Hover",example:{model:S0}},{title:"Touch",example:{model:k0}},{title:"Touch on a LineSeries",example:{model:A0}},{title:"RectangleAnnotation click",example:{model:R0}},{title:"Clicking on an annotation",example:{model:T0}}]};function P0(){const e=new b({title:"LineSeries, 1M points"}),t=new G;return _e(t.points,1e6),e.series.push(t),e}function L0(){const e=new b({title:"LineSeries, 1M points"}),t=new G({edgeRenderingMode:W.PreferSpeed});return _e(t.points,1e6),e.series.push(t),e}function I0(){const e=new b({title:"LineSeries, 100k points"}),t=new G;return _e(t.points,1e5),e.series.push(t),e}function B0(){const e=new b({title:"LineSeries, 100k points",subtitle:"LineStyle = Dash"}),t=new G({lineStyle:k.Dash});return _e(t.points,1e5),e.series.push(t),e}function D0(){const e=new b({title:"LineSeries, 100k points",subtitle:"MarkerType = Square"}),t=new G({markerType:N.Square});return _e(t.points,1e5),e.series.push(t),e}function N0(){const e=new b({title:"LineSeries, 100k points, markers, lower resolution",subtitle:"MarkerType = Square, MarkerResolution = 3"}),t=new G({markerType:N.Square,markerResolution:3});return _e(t.points,1e5),e.series.push(t),e}function F0(){const e=new b({title:"LineSeries, 100k points",subtitle:"LineJoin = Round"}),t=new G({lineJoin:et.Round});return _e(t.points,1e5),e.series.push(t),e}function V0(){const e=new b({title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>"}),t=new G,i=[];return _e(i,1e5),t.itemsSource=i,e.series.push(t),e}function E0(){const e=new b({title:"LineSeries, 100k points by ItemsSource and Mapping",subtitle:"Using the Mapping function"}),t=new G,i=[];_e(i,1e5);const s=i.map(n=>new F(n.x,n.y,0,0));return t.itemsSource=s,t.mapping=n=>d(n.left,n.top),e.series.push(t),e}function _0(){const e=new b({title:"LineSeries, 100k points, ItemsSource with reflection",subtitle:"DataFieldX and DataFieldY"}),t=new G,i=[];_e(i,1e5);const s=i.map(n=>new F(n.x,n.y,0,0));return t.itemsSource=s,t.dataFieldX="left",t.dataFieldY="top",e.series.push(t),e}function O0(){const e=new b({title:"LineSeries, 100k points (thick)",subtitle:"StrokeThickness = 10"}),t=new G({strokeThickness:10});return _e(t.points,1e5),e.series.push(t),e}function z0(){const e=new b({title:"LineSeries, 3k points, miter line joins",subtitle:"LineJoin = Miter"}),t=new G({lineJoin:et.Miter,strokeThickness:8});for(let i=0;i<3e3;i++)t.points.push(d(i,i%2));return e.series.push(t),e}function G0(){const e=new b({title:"LineSeries, 3k points, round line joins",subtitle:"LineJoin = Round"}),t=new G({lineJoin:et.Round,strokeThickness:8});for(let i=0;i<3e3;i++)t.points.push(d(i,i%2));return e.series.push(t),e}function $0(){const e=new b({title:"LineSeries, 3k points, bevel line joins",subtitle:"LineJoin = Bevel"}),t=new G({lineJoin:et.Bevel,strokeThickness:8});for(let i=0;i<3e3;i++)t.points.push(d(i,i%2));return e.series.push(t),e}function j0(){const e=new b({title:"ScatterSeries (squares)"}),t=new Ft;return gs(t.points,2e3),e.series.push(t),e}function U0(){const e=new b({title:"ScatterSeries (squares with outline)",subtitle:"MarkerStroke = Black"}),t=new Ft({markerStroke:p.Black});return gs(t.points,2e3),e.series.push(t),e}function H0(){const e=new b({title:"ScatterSeries (squares without fill color)",subtitle:"MarkerFill = Transparent, MarkerStroke = Black"}),t=new Ft({markerFill:p.Transparent,markerStroke:p.Black});return gs(t.points,2e3),e.series.push(t),e}function W0(){const e=new b({title:"ScatterSeries (by ItemsSource)",subtitle:"DataFieldX = 'X', DataFieldY = 'Y'"});return e.series.push(new Ft({itemsSource:sg(2e3),dataFieldX:"X",dataFieldY:"Y"})),e}function Y0(){const e=new b({title:"ScatterSeries (circles)",subtitle:"MarkerType = Circle"}),t=new Ft({markerType:N.Circle});return gs(t.points,2e3),e.series.push(t),e}function X0(){const e=new b({title:"ScatterSeries (circles with outline)",subtitle:"MarkerType = Circle, MarkerStroke = Black"}),t=new Ft({markerType:N.Circle,markerStroke:p.Black});return gs(t.points,2e3),e.series.push(t),e}function q0(){const e=new b({title:"ScatterSeries (cross)",subtitle:"MarkerType = Cross"}),t=new Ft({markerType:N.Cross,markerFill:p.Undefined,markerStroke:p.Black});return gs(t.points,2e3),e.series.push(t),e}function K0(){const e=new b({title:"LinearAxis (no gridlines)"});return e.axes.push(new w({position:x.Left,minimum:0,maximum:100,majorStep:1,minorStep:1})),e.axes.push(new w({position:x.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1})),e}function Z0(){const e=new b({title:"LinearAxis (solid gridlines)"});return e.axes.push(new w({position:x.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:k.Solid})),e.axes.push(new w({position:x.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:k.Solid})),e}function J0(){const e=new b({title:"LinearAxis (dashed gridlines)"});return e.axes.push(new w({position:x.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:k.Dash})),e.axes.push(new w({position:x.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:k.Dash})),e}function Q0(){const e=new b({title:"LinearAxis (dotted gridlines)"});return e.axes.push(new w({position:x.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:k.Dot})),e.axes.push(new w({position:x.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:k.Dot})),e}function tg(){return Yo(1e4)}function eg(){return Yo(5e4)}function ig(){return Yo(1e5)}function Yo(e){const t=new b({title:"int overflow",subtitle:`n = ${e}`}),i=new G;let s=0;for(let n=0;n<e;n++)i.points.push(d(n,s+=n*n));return t.series.push(i),t}function sg(e){const t=[];return _e(t,e),t}function _e(e,t){for(let i=0;i<t;i++){const s=Math.PI*10*i/(t-1);e.push(d(s*Math.cos(s),s*Math.sin(s)))}}function gs(e,t){for(let i=0;i<t;i++){const s=Math.PI*10*i/(t-1);e.push({x:s*Math.cos(s),y:s*Math.sin(s)})}}const ng="Performance",og={category:ng,examples:[{title:"LineSeries, 1M points",example:{model:P0}},{title:"LineSeries, 1M points, EdgeRenderingMode==PreferSpeed",example:{model:L0}},{title:"LineSeries, 100k points",example:{model:I0}},{title:"LineSeries, 100k points (dashed line)",example:{model:B0}},{title:"LineSeries, 100k points, markers",example:{model:D0}},{title:"LineSeries, 100k points, markers, lower resolution",example:{model:N0}},{title:"LineSeries, 100k points, round line joins",example:{model:F0}},{title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>",example:{model:V0}},{title:"LineSeries, 100k points by ItemsSource and Mapping",example:{model:E0}},{title:"LineSeries, 100k points by ItemsSource and reflection",example:{model:_0}},{title:"LineSeries, 100k points (thick)",example:{model:O0}},{title:"LineSeries, 3k points, miter line joins",example:{model:z0}},{title:"LineSeries, 3k points, round line joins",example:{model:G0}},{title:"LineSeries, 3k points, bevel line joins",example:{model:$0}},{title:"ScatterSeries (squares)",example:{model:j0}},{title:"ScatterSeries (squares with outline)",example:{model:U0}},{title:"ScatterSeries (squares without fill color)",example:{model:H0}},{title:"ScatterSeries by ItemsSource and reflection",example:{model:W0}},{title:"ScatterSeries (circles)",example:{model:Y0}},{title:"ScatterSeries (circles with outline)",example:{model:X0}},{title:"ScatterSeries (cross)",example:{model:q0}},{title:"LinearAxis (no gridlines)",example:{model:K0}},{title:"LinearAxis (solid gridlines)",example:{model:Z0}},{title:"LinearAxis (dashed gridlines)",example:{model:J0}},{title:"LinearAxis (dotted gridlines)",example:{model:Q0}},{title:"int overflow (10k)",example:{model:tg}},{title:"int overflow (50k)",example:{model:eg}},{title:"int overflow (100k)",example:{model:ig}}]};function ag(){const e=new b({title:"Basic Controller example",subtitle:"Panning with left mouse button"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const t=new Gi;return t.unbindAll(),mt.bindMouseDown(t,Mt.Left,Y.panAt),{model:()=>e,controller:()=>t}}function rg(){const e=new b({title:"Show tracker without clicking"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e.series.push(Q.fromFxFyN(i=>Math.cos(i)*5+Math.cos(i*50),i=>Math.sin(i)*5+Math.sin(i*50),0,Math.PI*2,2e4));const t=new Gi;return mt.bindMouseEnter(t,Y.hoverPointsOnlyTrack),{model:()=>e,controller:()=>t}}function lg(){const e=new b({title:"Mouse handling example"}),t=new Ft;e.series.push(t);const i=new gt((n,o,a)=>{a.handled=!0;const l=t.inverseTransform(a.position);t.points.push({x:l.x,y:l.y}),e.invalidatePlot(!0)}),s=new Gi;return mt.bindMouseDown(s,Mt.Left,i),{model:()=>e,controller:()=>s}}function hg(){const e=new b({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const t=new Xt({fill:p.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});e.annotations.push(t);const i=new Xt({fill:p.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});e.annotations.push(i);const s=(a,l)=>{e.subtitle="You clicked "+a.text,e.invalidatePlot(!1)};t.mouseDown=s,i.mouseDown=s;const n=new Gi,o=new gt((a,l,h)=>{const m=new Bs(h.position,10),c=a.actualModel.hitTest(m).find(g=>g.element instanceof Xt);c&&(h.handled=!0,e.subtitle="You clicked "+c.element.text,e.invalidatePlot(!1))});return n.bindMouseDown(new Ri(Mt.Left),o),{model:()=>e,controller:()=>n}}function mg(){function e(s,n,o=1){const a=new ho(s,n.delta*.001*o,lo.isControlDown(n));a.axisPreference=ts.X,a.started(n)}const t=new b({title:"Preferring an axis for manipulation",subtitle:"Mouse wheel over plot area prefers X axis"});t.axes.push(new w({position:x.Bottom})),t.axes.push(new w({position:x.Left})),t.series.push(Q.fromDx(Math.cos,-7,7,.01));const i=new Gi;return i.unbindAll(),mt.bindMouseWheel(i,new gt((s,n,o)=>e(s,o))),mt.bindMouseWheel(i,new gt((s,n,o)=>e(s,o,.1)),xt.Control),{model:()=>t,controller:()=>i}}function ug(){const e=new b({title:"Show/Hide Legend",subtitle:"Click on the rectangles"}),t=3;for(let h=1;h<=t;h++){const m=new G({title:"Series "+h});e.series.push(m);for(let c=0;c<2*Math.PI;c+=.1)m.points.push(d(c,Math.sin(c*h)/h+h))}const i=new H;e.legends.push(i);const s=new Xt({fill:p.Green,text:"Show Legend",minimumX:.5,maximumX:1.5,minimumY:.2,maximumY:.4});e.annotations.push(s);const n=new Xt({fill:p.SkyBlue,text:"Hide Legend",minimumX:.5,maximumX:1.5,minimumY:.6,maximumY:.8});e.annotations.push(n);const o=(h,m)=>{const c=h.text;c==="Show Legend"?e.isLegendVisible=!0:c==="Hide Legend"&&(e.isLegendVisible=!1),e.subtitle="You clicked "+h.text,e.invalidatePlot(!1)};s.mouseDown=o,n.mouseDown=o;const a=new Gi,l=new gt((h,m,c)=>{const g=new Bs(c.position,10),f=h.actualModel.hitTest(g).find(y=>y.element instanceof Xt);f&&(c.handled=!0,e.subtitle="You clicked "+f.element.text,e.invalidatePlot(!1))});return a.bindMouseDown(new Ri(Mt.Left),l),{model:()=>e,controller:()=>a}}const cg="PlotController examples",dg={category:cg,examples:[{title:"Basic controller example",example:ag()},{title:"Show tracker without clicking",example:rg()},{title:"Mouse handling example",example:lg()},{title:"Clicking on an annotation",example:hg()},{title:"Preferring an axis for manipulation",example:mg()},{title:"Show/Hide Legend",example:ug()}]};function pg(){const e=new b({title:"Title"});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function gg(){const e=new b({title:"Title",subtitle:"Subtitle"});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function xg(){const e=new b({title:"Title with^{super}_{sub}script",subtitle:"Subtitle with^{super}_{sub}script"});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function fg(){const e=new b({title:"TitlePadding = 0",subtitle:"This controls the distance between the titles and the plot area. The default value is 6",titlePadding:0});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function wg(){const e=new b({title:"TitlePadding = 100",titlePadding:100});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function yg(){const e=new b({title:"Title",subtitle:"Subtitle",titleHorizontalAlignment:Qa.CenteredWithinView});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function bg(){const e=new b({title:"This is a very long title to illustrate that title clipping is necessary, because currently it's not clipped.",clipTitle:!1});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function Mg(){const e=new b({title:"This is a very long title, that shows that title clippling is working with crrently 60% of title area",titleClippingLength:.6});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function Sg(){const e=new b({title:"Background = Undefined",background:p.Undefined});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function kg(){const e=new b({title:"Background = 50% White",background:r.fromAColor(128,p.White)});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function Ag(){const e=new b({title:"Background = Transparent",background:p.Transparent});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function Rg(){const e=new b({title:"Background = LightSkyBlue",background:p.LightSkyBlue});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function Tg(){const e=new b({title:"Background = White",background:p.White});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function Cg(){const e=new b({title:"Background = Black",background:p.Black,textColor:p.White,titleColor:p.White,plotAreaBorderColor:p.White});return e.axes.push(new w({position:x.Bottom,ticklineColor:p.White})),e.axes.push(new w({position:x.Left,ticklineColor:p.White})),e}function vg(){const e=new b({title:"PlotAreaBorderThickness = 2",plotAreaBorderThickness:new X(2)});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function Pg(){const e=new b({title:"PlotAreaBorderThickness = (1,0,0,1)",plotAreaBorderThickness:new X(1,0,0,1)});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function Lg(){const e=new b({title:"PlotAreaBorderThickness = (4,1,1,4)",plotAreaBorderThickness:new X(4,1,1,4)});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function Ig(){const e=new b({title:"PlotAreaBorderThickness = 0",plotAreaBorderThickness:new X(0)});return e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e}function Bg(){const e=new b({title:"PlotAreaBorderThickness = 0",subtitle:"AxislineThickness = 1, AxislineColor = OxyColors.Blue, AxislineStyle = LineStyle.Solid",plotAreaBorderThickness:new X(0)});return e.axes.push(new w({position:x.Bottom,axislineThickness:1,axislineColor:p.Blue,axislineStyle:k.Solid})),e.axes.push(new w({position:x.Left,axislineThickness:1,axislineColor:p.Blue,axislineStyle:k.Solid})),e}function Dg(){const e=new b;return e.axes.push(new w),e.series.push(new G({xAxisKey:"invalidKey"})),e}function Ng(){const e=new b,t=new jt(i=>{throw i.pushClip(new F(50,50,50,50)),new Error("This Exception should be completely visible and not clipped by the previously pushed clipping rectangle.")});return e.annotations.push(t),e}function Fg(){const e=new b,t=new jt(async i=>{i.pushClip(new F(50,50,50,50))});return e.annotations.push(t),e}function Vg(){const e=new b,t=new jt(async i=>{i.popClip()});return e.annotations.push(t),e}const Eg="PlotModel examples",_g={category:Eg,examples:[{title:"Title",example:{model:pg}},{title:"Title and Subtitle",example:{model:gg}},{title:"Sub- and superscript in titles",example:{model:xg}},{title:"TitlePadding = 0",example:{model:fg}},{title:"TitlePadding = 100",example:{model:wg}},{title:"TitleHorizontalAlignment = CenteredWithinView",example:{model:yg}},{title:"TitleClippingOff",example:{model:bg}},{title:"TitleClipping60",example:{model:Mg}},{title:"Background = Undefined (default)",example:{model:Sg}},{title:"Background = 50% White",example:{model:kg}},{title:"Background = Transparent",example:{model:Ag}},{title:"Background = LightSkyBlue",example:{model:Rg}},{title:"Background = White",example:{model:Tg}},{title:"Background = Black",example:{model:Cg}},{title:"PlotAreaBorderThickness = 2",example:{model:vg}},{title:"PlotAreaBorderThickness = (1,0,0,1)",example:{model:Pg}},{title:"PlotAreaBorderThickness = (4,1,1,4)",example:{model:Lg}},{title:"PlotAreaBorderThickness = 0",example:{model:Ig}},{title:"PlotAreaBorderThickness / AxisLine",example:{model:Bg}},{title:"Exception handling (invalid XAxisKey)",example:{model:Dg}},{title:"Exception handling (with clipping)",example:{model:Ng}},{title:"Unbalanced clipping (push)",example:{model:Fg}},{title:"Unbalanced clipping (pop)",example:{model:Vg}}]};function Og(){const e=new b,t="Arial",i=32,s=he.Bold,n=i*1.6,o=20;let a=20-n;return e.annotations.push(new jt(async l=>{await l.drawText(A(o,a+=n),"Black",p.Black,t,i,s),await l.drawText(A(o,a+=n),"Red",p.Red,t,i,s),await l.drawText(A(o,a+=n),"Green",p.Green,t,i,s),await l.drawText(A(o,a+=n),"Blue",p.Blue,t,i,s),await _.fillRectangle(l,new F(o,a+n+15,200,10),p.Black,W.Adaptive),await l.drawText(A(o,a+n),"Yellow 50%",r.fromAColor(128,p.Yellow),t,i,s)})),e}function zg(){const e=new b,t=20,i=t*1.6,s=20;let n=20-i;return e.annotations.push(new jt(async o=>{await o.drawText(A(s,n+=i),"Default font",p.Black,void 0,t),await o.drawText(A(s,n+=i),"Helvetica",p.Black,"Helvetica",t),await o.drawText(A(s,n+=i),"Arial",p.Black,"Arial",t),await o.drawText(A(s,n+=i),"Courier",p.Black,"Courier",t),await o.drawText(A(s,n+=i),"Courier New",p.Black,"Courier New",t),await o.drawText(A(s,n+=i),"Times",p.Black,"Times",t),await o.drawText(A(s,n+i),"Times New Roman",p.Black,"Times New Roman",t)})),e}function Gg(){const e=new b,t=20;let i=20;return e.annotations.push(new jt(async s=>{for(const n of[10,16,24,36,48])await s.drawText(A(t,i),`${n}pt`,p.Black,"Arial",n),await s.drawText(A(t+200,i),`${n}pt`,p.Black,"Arial",n,he.Bold),i+=n*1.6})),e}function $g(){const e=new b;return e.annotations.push(new jt(async t=>{const i=A(200,200);await _.fillCircle(t,i,3,p.Blue,W.Adaptive);for(let s=0;s<360;s+=45)await t.drawText(i,`Rotation ${s}`,p.Black,void 0,20,void 0,s)})),e}function jg(){const e=new b,t=20;return e.annotations.push(new jt(async i=>{for(let s=I.Left;s<=I.Right;s++)for(let n=D.Top;n<=D.Bottom;n++){const o=A((s+1)*200+20,(n+1)*t*3+20);await _.fillCircle(i,o,3,p.Blue,W.Adaptive);const a=ci(I,s),l=ci(D,n);await i.drawText(o,`${a}-${l}`,p.Black,void 0,t,void 0,0,s,n)}})),e}function Ug(){const e=new b,t=20;return e.annotations.push(new jt(async i=>{for(let s=I.Left;s<=I.Right;s++){const n=ci(I,s);for(let o=D.Top;o<=D.Bottom;o++){const a=ci(D,o),l=(s+1)*200+20,h=(o+1)*t*6+20,m=A(l,h);await _.fillCircle(i,m,3,p.Blue,W.Adaptive),await i.drawText(m,`${n}
${a}`,p.Black,void 0,t,void 0,0,s,o)}}})),e}function Hg(){const e=new b,t="Arial",i=24,s=he.Normal;return e.annotations.push(new jt(async n=>{const o=A(200,200),a=A(400,200);await _.fillCircle(n,o,3,p.Blue,W.Adaptive);for(let l=0;l<360;l+=45){const h="     A_{2}^{3}B";await ne.drawMathText(n,o,h,p.Black,t,i,s,l,I.Left,D.Middle);const m=await ne.measureMathText(n,h,t,i,s),c=co.getPolygon(m,o,l,I.Left,D.Middle);await n.drawPolygon(c,p.Undefined,p.Blue,1,W.Adaptive);const g="     A B";await n.drawText(a,g,p.Red,t,i,s,l,I.Left,D.Middle);const f=n.measureText(g,t,i,s),y=co.getPolygon(f,a,l,I.Left,D.Middle);await n.drawPolygon(y,p.Undefined,p.Blue,1,W.Adaptive)}})),e}function Wg(){const e="A_{2}^{3}B",t=new b,i="Arial",s=20,n=he.Normal;return t.annotations.push(new jt(async o=>{for(let a=I.Left;a<=I.Right;a++)for(let l=D.Top;l<=D.Bottom;l++){const h=A((a+1)*200+20,(l+1)*s*3+20);await _.fillCircle(o,h,3,p.Blue,W.Adaptive),await ne.drawMathText(o,h,e,p.Black,i,s,n,0,a,l)}})),t}function Yg(){const e=new b;return e.annotations.push(new jt(async t=>{for(let i=I.Left;i<=I.Right;i++)for(let s=D.Top;s<=D.Bottom;s++){const n=(i+2)*130,o=(s+2)*130,a=A(n,o);await _.fillCircle(t,a,3,p.Blue,W.Adaptive);for(let l=0;l<360;l+=90)await t.drawText(a,`R${l.toString().padStart(3,"0")}`,p.Black,void 0,20,void 0,l,i,s)}})),e}function Xg(){const e=new b;return e.annotations.push(new jt(async t=>{for(let i=I.Left;i<=I.Right;i++){const s=ci(I,i);for(let n=D.Top;n<=D.Bottom;n++){const o=ci(D,n),a=(i+2)*170,l=(n+2)*170,h=A(a,l);await _.fillCircle(t,h,3,p.Blue,W.Adaptive);for(let m=0;m<360;m+=90)await t.drawText(h,`R${m.toString().padStart(3,"0")}
${s}
${o}`,p.Black,void 0,20,void 0,m,i,n)}}})),e}function qg(){const e=new b,t="Arial",i=32,s=he.Bold,n=i*1.6,o=20,a=200;let l=20;const h=["iii","jjj","OxyPlot","Bottom","100","KML"];return e.annotations.push(new jt(async m=>{for(const c of h){const g=m.measureText(c,t,i,s),f=A(o,l);await m.drawText(f,c,p.Black,t,i,s,void 0,void 0,void 0,g);const y=new F(f.x,f.y,g.width,g.height);await m.drawRectangle(y,p.Undefined,p.Black,1,W.Adaptive);const M=A(a,l),S=new dt(g.width/2,g.height/2);await m.drawText(M,c,p.Black,t,i,s,void 0,void 0,void 0,S);const C=new F(M.x,M.y,S.width,S.height);await m.drawRectangle(C,p.Undefined,p.Black,1,W.Adaptive),l+=n}})),e}function Kg(){const e=new b,t="Arial",i=["OxyPlot","MMM","III","jikq","gh","123","!#$&"],s=[10,20,40,60];return e.annotations.push(new jt(async n=>{let o=5;for(const a of s){let l=5,h=0;for(const m of i){const c=n.measureText(m,t,a,he.Normal);h=Math.max(h,c.width),await n.drawRectangle(new F(o,l,c.width,c.height),p.LightYellow,p.Black,1,W.Adaptive),await n.drawText(A(o,l),m,p.Black,t,a),l+=c.height+20}o+=h+20}})),e}const Zg=()=>{const e=new b;return e.annotations.push(new jt(async t=>{const i=async T=>{const P=new Ut(p.Black,2,k.Dash);await _.drawLine(t,T.left,T.top,T.right,T.top,P,W.Automatic),await _.drawLine(t,T.right,T.top,T.right,T.bottom,P,W.Automatic),await _.drawLine(t,T.right,T.bottom,T.left,T.bottom,P,W.Automatic),await _.drawLine(t,T.left,T.bottom,T.left,T.top,P,W.Automatic)};let s=20;const n=60,o=40,a=20,l=20,h=200;let m=F.Empty;const c=async T=>{await _.drawCircle2(t,T,o*.58,p.CornflowerBlue,p.Undefined,0,W.Automatic)},g=async T=>{const P=A(a+o+l+h,s);await t.drawText(P,T,p.Black,void 0,12,void 0,void 0,void 0,D.Middle)},f=async T=>{const P=A(a+o+l,s);await t.drawText(P,T,p.Black,void 0,12,void 0,void 0,void 0,D.Middle)},y=async(T,P)=>{await t.drawText(A(P,15),T,p.Black,void 0,12,700)},M=()=>{s+=n,m=new F(a,s-o/2,o,o)};await y("Actual",a),await y("Test Case",a+o+l),await y("Expected",a+o+l+h),M(),t.pushClip(m),t.popClip(),await c(m.center),await f(`1. Push clipping rectangle
2. Pop clipping rectangle
3. Draw circle`),await g("The circle should be fully drawn."),M(),t.pushClip(m),await c(m.center),t.popClip(),await i(m),await f(`1. Push clipping rectangle
2. Draw Circle`),await g("The circle should be clipped."),M();let S=m.deflate(new X(m.height*.25));t.pushClip(m),t.pushClip(S),await c(m.center),t.popClip(),t.popClip(),await i(m),await i(S),await f(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await g("The circle should be clipped to the small clipping rectangle."),M(),S=m.deflate(new X(m.height*.25)),t.pushClip(S),t.pushClip(m),await c(m.center),t.popClip(),t.popClip(),await i(m),await i(S),await f(`1. Push small clipping rectangle
2. Push large clipping rectangle
3. Draw Circle`),await g("The circle should be clipped to the small clipping rectangle."),M(),S=m.offset(m.width/2,m.height/2).deflate(new X(m.height*.25)),t.pushClip(m),t.pushClip(S),await c(m.center),t.popClip(),t.popClip(),await i(m),await i(S),await f(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await g("The circle should be clipped to the intersection of the clipping rectangles."),M(),S=m.offset(m.width/2,m.height/2).deflate(new X(m.height*.25)),t.pushClip(m),t.pushClip(S),t.popClip(),await c(m.center),t.popClip(),await i(m),await i(S),await f(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Pop small clipping rectangle
4. Draw Circle`),await g("The circle should be clipped to the large clipping rectangle."),M();const C=m.offset(m.width/3,m.height/3).deflate(new X(m.height*.25)),v=m.offset(-m.width/3,-m.height/3).deflate(new X(m.height*.25));t.pushClip(C),t.pushClip(v),await c(m.center),t.popClip(),t.popClip(),await i(C),await i(v),await f(`1. Push clipping rectangle
2. Push second clipping rectangle
3. Draw Circle`),await g("The circle should not be drawn at all."),M();const R=_.autoResetClip(t,m);await t.drawText(m.center,"OxyPlot",p.CornflowerBlue,void 0,15,void 0,void 0,I.Center,D.Middle),R.dispose(),await i(m),await f(`1. Push clipping rectangle
2. Draw Text`),await g("The text should be clipped.")})),e},Ee=40,Ht=30,Ci=10,vi=.5,Pi=200,Li=20,Xo=p.LightBlue,Jg=()=>{const e=new b;return e.annotations.push(new jt(async t=>{for(let s=0;s<Ci;s++){const n=Pi+s*Ee+Ht/2,o=s*vi;await t.drawText(A(n,Li/2),o.toString(),p.Black,void 0,10,void 0,void 0,I.Center,D.Middle)}const i=zi(W);for(const s of i){const n=Li+s*Ee;await t.drawText(A(10,n+10),W[s],p.Black,void 0,10,void 0,void 0,void 0,D.Middle);for(let o=0;o<Ci;o++){const a=Pi+o*Ee,l=new F(a,n,Ht,Ht),h=o*vi;await t.drawRectangle(l,Xo,p.Black,h,s)}}})),e},Qg=()=>{const e=new b;return e.annotations.push(new jt(async t=>{for(let s=0;s<Ci;s++){const n=Pi+s*Ee+Ht/2,o=s*vi;await t.drawText(A(n,Li/2),o.toString(),p.Black,void 0,10,void 0,void 0,I.Center,D.Middle)}const i=zi(W);for(const s of i){const n=Li+s*Ee;await t.drawText(A(10,n+10),W[s],p.Black,void 0,10,void 0,void 0,void 0,D.Middle);for(let o=0;o<Ci;o++){const a=Pi+o*Ee,l=A(a,n),h=A(a,n+Ht),m=A(a+Ht,n),c=A(a+Ht,n+Ht),g=A(a,n+Ht/2),f=o*vi;await t.drawLine([h,l,m],p.Black,f,s),await t.drawLine([g,c,l],p.Black,f,s,void 0,et.Bevel)}}})),e},tx=()=>{const e=new b;return e.annotations.push(new jt(async t=>{for(let s=0;s<Ci;s++){const n=Pi+s*Ee+Ht/2,o=s*vi;await t.drawText(A(n,Li/2),o.toString(),p.Black,void 0,10,void 0,void 0,I.Center,D.Middle)}const i=zi(W);for(const s of i){const n=Li+s*Ee;await t.drawText(A(10,n+10),W[s],p.Black,void 0,10,void 0,void 0,void 0,D.Middle);for(let o=0;o<Ci;o++){const a=Pi+o*Ee,l=[A(a+Ht*.4,n),A(a+Ht,n+Ht*.2),A(a+Ht*.9,n+Ht*.8),A(a+Ht*.5,n+Ht),A(a,n+Ht*.6)],h=o*vi;await t.drawPolygon(l,Xo,p.Black,h,s)}}})),e},ex=()=>{const e=new b;return e.annotations.push(new jt(async t=>{for(let s=0;s<Ci;s++){const n=Pi+s*Ee+Ht/2,o=s*vi;await t.drawText(A(n,Li/2),o.toString(),p.Black,void 0,10,void 0,void 0,I.Center,D.Middle)}const i=zi(W);for(const s of i){const n=Li+s*Ee;await t.drawText(A(10,n+10),W[s],p.Black,void 0,10,void 0,void 0,void 0,D.Middle);for(let o=0;o<Ci;o++){const a=Pi+o*Ee,l=new F(a,n+Ht*.1,Ht,Ht*.8),h=o*vi;await t.drawEllipse(l,Xo,p.Black,h,s)}}})),e},ix=()=>{const i=[135,90,45,22.5],s=140,n=90,o=50,a=50,l=new b;return l.annotations.push(new jt(async h=>{let m=0,c=0;const g=zi(et);for(const f of g){const y=A(s*(m+.5)+o,a/2);await h.drawText(y,et[f],p.Black,void 0,12,void 0,void 0,I.Center,D.Middle),m++}for(const f of i){m=0;const y=n*c+a,M=f/2/360*2*Math.PI,S=Math.sin(M)*60,C=Math.cos(M)*60,v=A(15,y);await h.drawText(v,f.toString()+"°",p.Black,void 0,12);for(const R of g){const T=s*(m+.5)+o,P=A(T,y),B=A(T-S,y+C),V=A(T+S,y+C);await h.drawLine([B,P,V],p.CornflowerBlue,15,W.PreferGeometricAccuracy,void 0,R),m++}c++}})),l},sx=()=>{const o=new b;return o.annotations.push(new jt(async a=>{const l=new F(60,20,600,200),h=new Array(200),m=(l.left+l.right)/2,c=(l.top+l.bottom)/2,g=(l.right-l.left)/2,f=(l.bottom-l.top)/2;for(let y=0;y<200;y++){const M=Math.PI*2*y/199;h[y]=A(m+g*Math.cos(M),c+f*Math.sin(M))}await a.drawPolygon(h,p.Undefined,p.Black,4,W.PreferGeometricAccuracy),await a.drawEllipse(l,p.Undefined,p.White,2,W.PreferGeometricAccuracy),await a.drawText(A(360,120),"The white ellipse (drawn by Renderer) should match the black ellipse (drawn as Path).",p.Black,void 0,12,void 0,void 0,I.Center,D.Middle)})),o},nx="9 Rendering capabilities",ox={category:nx,examples:[{title:"DrawText - Colors",example:{model:Og}},{title:"DrawText - Fonts",example:{model:zg}},{title:"DrawText - Font sizes",example:{model:Gg}},{title:"DrawText - Rotation",example:{model:$g}},{title:"DrawText - Alignment",example:{model:jg}},{title:"DrawText - Multi-line Alignment",example:{model:Ug}},{title:"DrawMathText - Rotation",example:{model:Hg}},{title:"DrawMathText - Alignment",example:{model:Wg}},{title:"DrawText - Alignment/Rotation",example:{model:Yg}},{title:"DrawText - Multi-line Alignment/Rotation",example:{model:Xg}},{title:"DrawText - MaxSize",example:{model:qg}},{title:"MeasureText",example:{model:Kg}},{title:"Clipping",example:{model:Zg}},{title:"Rectangles - EdgeRenderingMode",example:{model:Jg}},{title:"Lines - EdgeRenderingMode",example:{model:Qg}},{title:"Polygons - EdgeRenderingMode",example:{model:tx}},{title:"Ellipses - EdgeRenderingMode",example:{model:ex}},{title:"LineJoin",example:{model:ix}},{title:"Ellipse Drawing",example:{model:sx}}]};function ax(){const e=new b({title:"No tracker interpolation",subtitle:"Used for discrete values or scatter plots."}),t=new H({legendSymbolLength:30});e.legends.push(t);const i=new G({title:"Series 1",canTrackerInterpolatePoints:!1,color:p.SkyBlue,markerType:N.Circle,markerSize:6,markerStroke:p.White,markerFill:p.SkyBlue,markerStrokeThickness:1.5});for(let s=0;s<63;s++){const n=Math.round(Math.sqrt(s)*Math.cos(s*.1)),o=Math.round(Math.sqrt(s)*Math.sin(s*.1));i.points.push(d(n,o))}return e.series.push(i),e}function rx(){const e=new b({title:"Handling the TrackerChanged event",subtitle:"Press the left mouse button to test the tracker."});return e.series.push(Q.fromN(Math.sin,0,10,100)),e.trackerChanged=(t,i)=>{e.subtitle=i.hitResult?"Tracker item index = "+i.hitResult.index:"Not tracking",e.invalidatePlot(!1)},e}function lx(){const e=new b({title:"Specified distance of the tracker fires",subtitle:"Press the left mouse button to test the tracker."});e.series.push(Q.fromN(Math.sin,0,10,100));const t=new Gi;return t.unbindViewCommand(Y.snapTrack),t.unbindViewCommand(Y.snapTrackTouch),mt.bindMouseDown(t,Mt.Left,new gt((i,s,n)=>s.addMouseManipulator(i,new Fi(i,{snap:!0,pointsOnly:!1,firesDistance:2,checkDistanceBetweenPoints:!0}),n))),mt.bindTouchDown(t,new gt((i,s,n)=>s.addTouchManipulator(i,new mo(i,{snap:!0,pointsOnly:!1,firesDistance:2}),n))),{model:()=>e,controller:()=>t}}const hx="Tracker",mx={category:hx,examples:[{title:"No interpolation",example:{model:ax}},{title:"TrackerChangedEvent",example:{model:rx}},{title:"Specified distance of the tracker fires",example:lx()}]},ux=[B1,O1,m0,v0,og,dg,_g,ox,mx],cx=[{x:589.3649979,y:16.10595703},{x:437.9979935,y:16.10595703},{x:400.4249954,y:16.10595703},{x:399.1255264,y:16.05047607},{x:397.463356,y:15.92333984},{x:393.5852432,y:15.69073486},{x:389.8589859,y:15.88067627},{x:388.3866653,y:16.28186035},{x:387.3529739,y:16.96594238},{x:386.8373489,y:18.53930664},{x:387.2163773,y:20.51794434},{x:387.9814529,y:22.51843262},{x:388.6240005,y:24.15698242},{x:395.958992,y:45.09094238},{x:399.2686234,y:54.89562988},{x:402.1330338,y:64.90338135},{x:404.5822525,y:75.06884766},{x:406.6462479,y:85.34680176},{x:409.7385635,y:106.0593262},{x:411.6500015,y:126.6789551},{x:412.0961685,y:137.0930786},{x:412.0253677,y:147.4713135},{x:411.4655228,y:157.8103638},{x:410.4446182,y:168.1069336},{x:408.9906387,y:178.3577881},{x:407.1315689,y:188.5595703},{x:404.8953629,y:198.7091064},{x:402.3099747,y:208.8029785},{x:392.9860001,y:237.2509766},{x:392.1175613,y:240.0527954},{x:391.2060013,y:243.0959473},{x:390.5509415,y:246.1691284},{x:390.4520035,y:249.0609741},{x:391.406044,y:252.6694336},{x:393.1980057,y:256.0982056},{x:395.3566971,y:259.3631287},{x:397.4109879,y:262.47995},{x:411.7649918,y:287.7079468},{x:426.5997696,y:312.9102173},{x:441.8913651,y:337.8200684},{x:457.3402786,y:362.6333923},{x:472.6469803,y:387.5459595},{x:478.0007401,y:395.7557983},{x:483.6958694,y:403.8400879},{x:489.2894974,y:411.9628296},{x:494.3389969,y:420.2879639},{x:494.9800491,y:421.8480225},{x:495.4455032,y:423.6903687},{x:496.1577225,y:427.7724609},{x:497.0915604,y:431.6355591},{x:497.8341141,y:433.2041321},{x:498.8629837,y:434.3809509},{x:500.0935135,y:434.9877625},{x:501.7391434,y:435.3059082},{x:505.7623367,y:435.3148193},{x:509.9061356,y:434.8848267},{x:511.7024612,y:434.6542969},{x:513.1439896,y:434.4929504},{x:520.0768509,y:434.1251831},{x:527.3961258,y:434.1952209},{x:534.6892776,y:434.728363},{x:541.544014,y:435.7499695},{x:544.2357864,y:436.3025513},{x:547.021492,y:437.0792236},{x:549.6099319,y:438.2590027},{x:551.7099686,y:440.0209656},{x:552.7028275,y:441.4446106},{x:553.2691116,y:442.791626},{x:553.4498978,y:444.0619202},{x:553.2864456,y:445.2554626},{x:552.0910721,y:447.4119873},{x:550.0122147,y:449.2607117},{x:547.3790359,y:450.8010864},{x:544.5206985,y:452.0325928},{x:541.766304,y:452.9547119},{x:539.445015,y:453.5669556},{x:539.445015,y:454.6409607},{x:542.6554031,y:455.4246521},{x:546.0063553,y:455.8735962},{x:549.2799149,y:456.4869385},{x:552.2580032,y:457.7639465},{x:554.3335648,y:459.5966797},{x:555.6600418,y:461.8208313},{x:556.278389,y:464.282959},{x:556.2294998,y:466.8295898},{x:555.55439,y:469.307251},{x:554.2939529,y:471.5625},{x:552.4892044,y:473.4418945},{x:550.1809769,y:474.7919617},{x:547.1414261,y:475.8059387},{x:543.8482132,y:476.5288391},{x:537.2979813,y:477.0559692},{x:535.5239944,y:476.8666077},{x:533.5114822,y:476.5535889},{x:531.5334549,y:476.4162598},{x:529.8629837,y:476.7539673},{x:529.0471268,y:477.3421631},{x:528.5394363,y:478.1289673},{x:528.1448441,y:480.0927124},{x:528.071846,y:482.2338257},{x:527.7129593,y:484.1409607},{x:526.901741,y:485.4877014},{x:525.8139114,y:486.4950867},{x:523.0528641,y:487.6643372},{x:519.9188919,y:487.9933777},{x:516.9010086,y:487.8269653},{x:511.7325516,y:486.9451599},{x:506.4563065,y:485.4539185},{x:501.155159,y:483.4500427},{x:495.912117,y:481.0302124},{x:485.9321365,y:475.3295898},{x:481.3610916,y:472.2423096},{x:477.1800003,y:469.125946},{x:465.3709793,y:459.3179626},{x:464.3509598,y:458.3116455},{x:463.1867142,y:457.1624451},{x:461.9141312,y:456.2180176},{x:460.5689774,y:455.8259583},{x:459.6923904,y:456.0762939},{x:458.8656693,y:456.7503662},{x:457.3631058,y:458.907959},{x:456.063179,y:461.3753052},{x:455.4898758,y:462.436554},{x:454.9679642,y:463.2289734},{x:453.0795364,y:465.3183289},{x:450.8528519,y:467.2734985},{x:448.3575516,y:468.9848328},{x:445.6630936,y:470.3425903},{x:442.83918,y:471.2370605},{x:439.9552689,y:471.5585938},{x:437.0810318,y:471.1974487},{x:434.2859879,y:470.0439453},{x:432.4744034,y:468.6621399},{x:431.3244705,y:467.0726013},{x:430.7551956,y:465.3302612},{x:430.6856155,y:463.4900818},{x:431.0347672,y:461.6070251},{x:431.7216873,y:459.7360229},{x:433.7849808,y:456.2499695},{x:438.1093216,y:450.118988},{x:441.4749832,y:444.3893433},{x:444.0351639,y:438.28302},{x:445.0610428,y:434.845459},{x:445.9430008,y:431.0219727},{x:446.6270218,y:428.7687378},{x:447.4476395,y:426.4767151},{x:447.9032059,y:424.1760559},{x:447.492012,y:421.8969727},{x:445.6156082,y:418.2295837},{x:443.3608475,y:414.6139832},{x:438.1008682,y:407.5364685},{x:432.48069,y:400.6614685},{x:427.2689896,y:393.9859619},{x:389.1699905,y:339.2359619},{x:374.5550003,y:318.3009644},{x:372.5515823,y:314.8404541},{x:370.2787552,y:310.9485779},{x:367.7467728,y:307.2946777},{x:366.3868484,y:305.7660828},{x:364.9659805,y:304.5479736},{x:363.9477615,y:304.0406799},{x:363.082222,y:304.0159912},{x:361.6236038,y:304.9024658},{x:360.2191849,y:306.1834412},{x:359.4213638,y:306.651886},{x:358.4979935,y:306.8349609},{x:356.6694107,y:306.4464722},{x:354.9371109,y:305.5308228},{x:353.2544937,y:304.4515076},{x:351.5749893,y:303.5719604},{x:343.4895706,y:301.1234131},{x:335.0169449,y:299.8048401},{x:326.3076553,y:299.5128174},{x:317.5122147,y:300.1439514},{x:308.7811966,y:301.5948486},{x:300.2651443,y:303.762085},{x:292.1145401,y:306.5422668},{x:284.4799881,y:309.8319702},{x:282.3371964,y:310.7483521},{x:279.925972,y:311.644928},{x:274.7942581,y:313.5763245},{x:270.0769119,y:316.0212708},{x:268.1836319,y:317.559845},{x:266.7659988,y:319.3749695},{x:271.6227798,y:320.1968384},{x:276.5877457,y:321.7830811},{x:281.472847,y:323.7190247},{x:286.090004,y:325.5899658},{x:298.3649979,y:330.7419739},{x:310.3880997,y:336.8226929},{x:321.8024063,y:343.941803},{x:332.2509842,y:352.2089539},{x:339.2033768,y:358.533844},{x:342.4841385,y:361.901825},{x:345.4439774,y:365.5359497},{x:346.445076,y:367.0002136},{x:347.3386307,y:368.7592163},{x:347.6443558,y:370.5680847},{x:347.4267044,y:371.4147034},{x:346.8819962,y:372.1819458},{x:345.387001,y:372.7861023},{x:343.5981216,y:372.4627075},{x:341.8064041,y:371.7001953},{x:340.3029861,y:370.986969},{x:336.1688919,y:369.4472046},{x:331.5998611,y:368.1002197},{x:326.9541702,y:367.1023254},{x:322.5899734,y:366.6099548},{x:324.6785049,y:369.6851501},{x:327.4601212,y:372.3129578},{x:330.467659,y:374.7735291},{x:333.2339859,y:377.3469543},{x:338.3369217,y:383.6273193},{x:342.70298,y:390.7063293},{x:344.4534683,y:394.4726563},{x:345.8323135,y:398.3514099},{x:346.7769547,y:402.3135376},{x:347.2249832,y:406.3299561},{x:346.8078384,y:412.0097046},{x:345.1297989,y:416.5983276},{x:342.383522,y:420.1838074},{x:338.7616043,y:422.8540955},{x:334.4566727,y:424.6971741},{x:329.6613541,y:425.8010559},{x:324.5682449,y:426.2536621},{x:319.3700027,y:426.1429749},{x:315.144783,y:425.6447144},{x:311.0141983,y:424.7691345},{x:303.0388565,y:422.0056763},{x:295.4478226,y:418.0917969},{x:288.2450027,y:413.2668457},{x:281.4342422,y:407.769989},{x:275.0194168,y:401.8405762},{x:269.0043716,y:395.717804},{x:263.393013,y:389.6409607},{x:255.0782547,y:379.5436707},{x:247.6409988,y:368.3999634},{x:244.4098587,y:362.5210571},{x:241.5882645,y:356.4829712},{x:239.2395096,y:350.3198853},{x:237.4270096,y:344.0659485},{x:236.2694168,y:338.2407532},{x:235.5486526,y:332.3677368},{x:235.0773697,y:320.528717},{x:235.3326797,y:308.6495667},{x:235.6340103,y:296.8309631},{x:233.1889725,y:297.9562988},{x:230.9140091,y:299.4570923},{x:226.5090103,y:302.6929626},{x:206.6489944,y:315.875946},{x:157.2670059,y:346.7819519},{x:136.8219986,y:360.059967},{x:132.2092514,y:363.0340881},{x:130.0033798,y:364.6920166},{x:128.1559982,y:366.6599731},{x:127.0190811,y:368.5368958},{x:126.298027,y:370.4631348},{x:125.9532547,y:372.4280701},{x:125.9451218,y:374.4211121},{x:126.7804031,y:378.4490356},{x:128.4870071,y:382.4620972},{x:130.748024,y:386.3754272},{x:133.2466202,y:390.104248},{x:135.6659012,y:393.5636902},{x:137.689003,y:396.6689453},{x:139.2043839,y:400.197052},{x:139.5524673,y:402.0329285},{x:139.5626297,y:403.8374634},{x:139.1861954,y:405.551239},{x:138.3745499,y:407.1148682},{x:137.0790329,y:408.4689026},{x:135.2509995,y:409.5539551},{x:132.8812943,y:410.31427},{x:130.5507584,y:410.5262146},{x:128.270546,y:410.2424316},{x:126.0518265,y:409.5155334},{x:123.9057388,y:408.3982239},{x:121.8434372,y:406.9431458},{x:118.0148697,y:403.2301941},{x:114.6553879,y:398.7979126},{x:111.8542252,y:394.0675049},{x:109.7006912,y:389.4601135},{x:108.2840042,y:385.3969727},{x:107.7778549,y:382.5092468},{x:107.3788681,y:379.2887268},{x:106.6309433,y:376.2470703},{x:105.0779953,y:373.8959656},{x:103.1701126,y:372.6677246},{x:100.7825394,y:371.7599487},{x:95.13137054,y:370.6252136},{x:89.25051117,y:369.9303284},{x:86.57584381,y:369.5724182},{x:84.26599884,y:369.1139526},{x:78.20024872,y:367.3027649},{x:71.70685577,y:364.820343},{x:65.1133194,y:361.6892395},{x:58.74712372,y:357.9318237},{x:52.93579102,y:353.5706482},{x:48.00682831,y:348.6281433},{x:45.97557068,y:345.9458923},{x:44.28772736,y:343.1267395},{x:42.98422241,y:340.1734924},{x:42.10599518,y:337.0889587},{x:41.90753937,y:335.2592163},{x:42.08698273,y:333.7605286},{x:43.18836975,y:331.3730774},{x:44.62782288,y:329.1598206},{x:45.6230011,y:326.3539734},{x:45.62973022,y:324.9945984},{x:45.33054352,y:323.6192627},{x:44.36862183,y:320.8330994},{x:43.98298645,y:319.4284058},{x:43.84563446,y:318.0201111},{x:44.09512329,y:316.6112671},{x:44.86999512,y:315.2049561},{x:45.80908966,y:314.2088623},{x:46.79941559,y:313.5540161},{x:48.9025116,y:313.1113892},{x:51.11682129,y:313.5637512},{x:53.37987518,y:314.5978394},{x:57.8022995,y:317.1580811},{x:59.83672333,y:318.0577087},{x:61.6700058,y:318.2859497},{x:62.82819366,y:317.6254883},{x:63.23600006,y:316.3283386},{x:63.24330902,y:314.8067627},{x:63.20000458,y:313.4729614},{x:63.68109894,y:310.3050232},{x:64.93375397,y:307.6513367},{x:67.09728241,y:305.979187},{x:68.56415558,y:305.6572571},{x:70.31099701,y:305.7559509},{x:73.2078476,y:306.4935913},{x:76.04866791,y:307.6478271},{x:81.46486664,y:310.9243164},{x:86.36489105,y:315.0218811},{x:90.55399323,y:319.3769531},{x:92.14154816,y:321.4163208},{x:93.72263336,y:323.6399536},{x:95.39614105,y:325.7593689},{x:97.26099396,y:327.4859619},{x:98.87421417,y:328.2453918},{x:100.5960007,y:328.4575806},{x:104.1259995,y:328.1189575},{x:107.9671097,y:328.0540771},{x:112.0256271,y:328.345459},{x:116.0258255,y:328.4305725},{x:119.6919937,y:327.7469482},{x:122.6980515,y:326.2321777},{x:125.5723801,y:324.1764526},{x:128.3242722,y:321.9129944},{x:130.9630051,y:319.7749634},{x:158.6139908,y:297.5969543},{x:183.9269943,y:278.8919678},{x:215.7729874,y:251.3609619},{x:222.6591263,y:245.7957153},{x:229.6908646,y:240.2703247},{x:236.5836563,y:234.5932617},{x:243.0529861,y:228.572937},{x:246.137764,y:224.8230591},{x:248.7661209,y:220.4605103},{x:251.0138321,y:215.6484985},{x:252.9567337,y:210.5499878},{x:256.2312393,y:200.1459351},{x:257.7144547,y:195.1665039},{x:259.1959915,y:190.5529785},{x:263.9845047,y:175.0708008},{x:267.8167191,y:159.2056274},{x:270.6394424,y:143.0612183},{x:272.3993607,y:126.7412109},{x:273.043251,y:110.3493042},{x:272.5178299,y:93.98913574},{x:270.7698441,y:77.76446533},{x:267.7460098,y:61.77893066},{x:260.9010086,y:28.45196533},{x:260.3377457,y:25.5088501},{x:259.7099991,y:22.24182129},{x:258.5879898,y:19.265625},{x:257.7073746,y:18.07867432},{x:256.5419998,y:17.19494629},{x:254.5226212,y:16.44396973},{x:252.1078568,y:16.0401001},{x:246.5816116,y:15.96911621},{x:240.9423294,y:16.37298584},{x:238.3862076,y:16.56274414},{x:236.1689835,y:16.64294434},{x:185.1770096,y:17.17895508},{x:0,y:16.64294434},{x:0,y:.53894043},{x:188.9400101,y:.53894043},{x:242.0799942,y:.53894043},{x:244.6571732,y:.474975586},{x:247.5546951,y:.33001709},{x:253.8458633,y:.078552246},{x:260.0235977,y:.347839355},{x:262.779335,y:.853759766},{x:265.1579971,y:1.70098877},{x:266.7366104,y:2.746398926},{x:268.0821915,y:4.172119141},{x:270.1900101,y:7.797119141},{x:271.7128067,y:11.84075928},{x:272.8819962,y:15.56799316},{x:276.034523,y:25.44775391},{x:279.0441055,y:35.50836182},{x:281.6616287,y:45.66326904},{x:283.6380081,y:55.82598877},{x:285.7761917,y:72.32995605},{x:287.0616837,y:88.9072876},{x:287.4597855,y:105.5118408},{x:286.9358597,y:122.0977173},{x:285.4552994,y:138.6187744},{x:282.9833755,y:155.0289917},{x:279.4855118,y:171.2824097},{x:274.9270096,y:187.3329468},{x:271.4097672,y:198.2474976},{x:267.3623734,y:209.4165039},{x:262.4050369,y:220.1444092},{x:259.4664688,y:225.1257324},{x:256.1579971,y:229.7359619},{x:249.3205032,y:237.2365723},{x:241.720253,y:244.1188354},{x:233.794136,y:250.6709595},{x:225.9790115,y:257.1809692},{x:195.5280228,y:282.9415894},{x:164.2490005,y:307.6559448},{x:141.1689987,y:324.8109741},{x:133.2555008,y:330.7440796},{x:129.0609055,y:333.3323975},{x:124.5289993,y:335.2859497},{x:122.1544113,y:335.8482361},{x:119.7157364,y:336.0837402},{x:114.7126236,y:335.969696},{x:109.6527023,y:335.7345581},{x:104.6689987,y:336.1689453},{x:102.779686,y:336.7739563},{x:100.6949997,y:337.5380859},{x:98.61257172,y:337.9761353},{x:96.73000336,y:337.6029663},{x:94.59128571,y:335.8127136},{x:92.66425323,y:333.2740784},{x:90.92359161,y:330.5338745},{x:89.34400177,y:328.1389465},{x:87.08150482,y:325.4346313},{x:84.48600006,y:322.8813171},{x:78.90499115,y:318.3849487},{x:77.3181076,y:317.091217},{x:75.22336578,y:315.5139465},{x:73.02420807,y:314.5059509},{x:72.01151276,y:314.4819031},{x:71.12400055,y:314.9199524},{x:70.59803009,y:315.7275085},{x:70.51831818,y:316.7388916},{x:71.29537201,y:319.0906982},{x:72.65048981,y:321.4106445},{x:73.77899933,y:323.1339722},{x:77.82125092,y:329.0054626},{x:80.16477203,y:331.7309265},{x:82.71099091,y:334.177948},{x:84.92420197,y:335.9799805},{x:87.10187531,y:337.9599609},{x:88.68236542,y:340.2526855},{x:89.07314301,y:341.5584412},{x:89.10399628,y:342.9929504},{x:89.61742401,y:343.8485413},{x:89.34513092,y:344.4684448},{x:88.5472641,y:344.7538757},{x:87.48400116,y:344.605957},{x:85.91378021,y:343.8370972},{x:84.39550018,y:342.7818298},{x:81.58899689,y:340.4889526},{x:78.80124664,y:338.1679382},{x:75.64672089,y:335.4441223},{x:68.57024384,y:329.6803589},{x:64.81476593,y:327.0864868},{x:61.02541351,y:324.9821167},{x:57.28540802,y:323.5902405},{x:53.6780014,y:323.1339722},{x:55.6113739,y:326.1587524},{x:58.03131866,y:328.9006653},{x:63.8632431,y:333.7370911},{x:70.23856354,y:338.0457153},{x:76.22199249,y:342.2289734},{x:77.03455353,y:342.7995605},{x:78.11525726,y:343.5061951},{x:80.57563019,y:345.232605},{x:82.59217072,y:347.217926},{x:83.11811066,y:348.24823},{x:83.15399933,y:349.2719727},{x:82.68766022,y:350.0397949},{x:81.87210846,y:350.3486328},{x:79.6248703,y:349.9825745},{x:77.27544403,y:348.9604797},{x:76.33216095,y:348.4492188},{x:75.68700409,y:348.0689697},{x:66.5876236,y:342.1790771},{x:61.90306854,y:339.4937744},{x:56.897995,y:337.35495},{x:55.17505646,y:336.726532},{x:53.01000214,y:336.1444702},{x:51.04743958,y:336.2538757},{x:50.34353638,y:336.7695007},{x:49.93199921,y:337.6999512},{x:50.0814743,y:339.3566589},{x:51.06142426,y:341.0038757},{x:52.65550232,y:342.6039124},{x:54.64737701,y:344.1190796},{x:58.95914459,y:346.743988},{x:60.84635162,y:347.7783203},{x:62.26599884,y:348.5769653},{x:70.1079483,y:352.9052734},{x:78.1873703,y:356.6586914},{x:86.4916153,y:359.8837585},{x:95.00800323,y:362.6269531},{x:96.84983063,y:363.0866394},{x:98.97579193,y:363.5275574},{x:103.6091232,y:364.5426941},{x:107.965889,y:366.0517273},{x:109.7461472,y:367.1099854},{x:111.1039963,y:368.43396},{x:112.0068741,y:370.5414429},{x:112.4139938,y:373.21521},{x:112.6441269,y:375.9950867},{x:113.0159988,y:378.4209595},{x:113.902565,y:381.2496643},{x:115.2284775,y:384.6081543},{x:116.9393082,y:388.2300415},{x:118.980629,y:391.8488464},{x:121.2979813,y:395.1981506},{x:123.8369522,y:398.0115662},{x:126.5430984,y:400.022644},{x:129.3619919,y:400.9649658},{x:128.5566483,y:397.5397949},{x:126.8852463,y:394.5133362},{x:124.8594742,y:391.6261902},{x:122.9910049,y:388.6189575},{x:120.504631,y:382.5281982},{x:119.1972427,y:376.1178589},{x:119.0547104,y:372.875061},{x:119.2897568,y:369.6510315},{x:119.9299698,y:366.4787292},{x:121.0029984,y:363.3909607},{x:122.9761124,y:359.8041687},{x:125.5510788,y:356.6000061},{x:128.5915298,y:353.7098083},{x:131.9611282,y:351.0648499},{x:139.1423569,y:346.2359619},{x:146.0040054,y:341.5639648},{x:153.3126602,y:336.4172363},{x:160.8510056,y:331.6148376},{x:176.060997,y:322.2139587},{x:223.2120132,y:292.0619507},{x:241.0090103,y:281.0089722},{x:244.4554214,y:278.2832642},{x:248.0213699,y:275.5827026},{x:251.8383865,y:273.5125122},{x:253.8821487,y:272.9029541},{x:256.038002,y:272.677948},{x:255.5765762,y:275.73526},{x:254.4421158,y:278.3285828},{x:252.9171219,y:280.7803345},{x:251.2840042,y:283.4129639},{x:249.1513138,y:287.4288635},{x:247.2273636,y:291.7029724},{x:245.725502,y:296.1263123},{x:244.8589859,y:300.5899658},{x:244.4298477,y:307.2876587},{x:244.5635757,y:313.9535828},{x:245.2291336,y:320.570282},{x:246.3955154,y:327.1204224},{x:248.0315933,y:333.5866089},{x:250.1063919,y:339.951416},{x:252.5888138,y:346.1975098},{x:255.4478531,y:352.3074646},{x:262.1715469,y:364.0494385},{x:270.0290298,y:375.0382385},{x:278.7719803,y:385.1347656},{x:288.1519852,y:394.1999512},{x:294.92173,y:399.6752014},{x:302.1428604,y:404.5257263},{x:309.7718277,y:408.7135925},{x:317.7649918,y:412.2009583},{x:322.0982132,y:413.5901184},{x:326.4935989,y:414.2129517},{x:328.6687698,y:414.1019592},{x:330.8044205,y:413.6372986},{x:332.8823013,y:412.7649841},{x:334.8839798,y:411.4309692},{x:336.700325,y:409.4726868},{x:337.756813,y:407.2593689},{x:338.1652908,y:404.8675537},{x:338.0374832,y:402.3738403},{x:337.4851761,y:399.8547668},{x:336.6201553,y:397.3868713},{x:334.3989944,y:392.9109497},{x:331.2719803,y:388.0760193},{x:327.7468643,y:383.5949097},{x:319.7087479,y:375.5498352},{x:310.6974869,y:368.4870605},{x:301.1259842,y:362.1179504},{x:289.341011,y:355.3789673},{x:288.3749161,y:354.5166321},{x:287.4871292,y:353.3829651},{x:287.1665115,y:352.1690369},{x:287.3716812,y:351.5917053},{x:287.9019852,y:351.0659485},{x:290.0786819,y:350.5000305},{x:292.8593826,y:350.8098145},{x:295.6623917,y:351.5259399},{x:297.9060135,y:352.1789551},{x:300.6676102,y:353.0059814},{x:303.7700882,y:354.0613708},{x:310.5398636,y:356.3453369},{x:313.9782486,y:357.3178101},{x:317.2997208,y:358.0065918},{x:320.3897781,y:358.2836609},{x:323.1339798,y:358.0209656},{x:311.4509048,y:349.4853516},{x:299.2507401,y:341.6953125},{x:286.5124283,y:334.8171387},{x:273.215004,y:329.0169678},{x:258.7229996,y:323.8179626},{x:257.2878494,y:323.337738},{x:255.7744827,y:322.6670837},{x:254.4943924,y:321.7168884},{x:253.7590103,y:320.3979492},{x:253.827034,y:319.0723267},{x:254.5322647,y:317.7234802},{x:255.711647,y:316.3885193},{x:257.2022476,y:315.1045837},{x:260.465126,y:312.8383789},{x:261.9114456,y:311.9303589},{x:263.0170059,y:311.2219543},{x:271.8112259,y:305.8678284},{x:281.198616,y:301.1617126},{x:290.8884659,y:297.0829773},{x:300.590004,y:293.6109619},{x:310.0823746,y:291.1308289},{x:319.4608536,y:289.9150696},{x:328.9314041,y:289.7652893},{x:338.6999893,y:290.4829712},{x:354.2659988,y:293.3499451},{x:355.8602982,y:293.1119995},{x:357.197731,y:292.2803345},{x:358.3595047,y:291.0731506},{x:359.4267349,y:289.7085876},{x:360.4805679,y:288.4048157},{x:361.6021194,y:287.3800049},{x:362.8725357,y:286.8523254},{x:364.3729935,y:287.0399475},{x:365.9158707,y:287.8427734},{x:367.3995438,y:289.0066833},{x:370.1699905,y:292.0510864},{x:372.6456985,y:295.4399109},{x:374.788002,y:298.4399719},{x:394.8579788,y:325.8149719},{x:397.3873978,y:329.0663757},{x:399.9987259,y:332.6233521},{x:402.1026993,y:336.3991089},{x:402.7802811,y:338.3419189},{x:403.109993,y:340.3069458},{x:403.7992325,y:340.2913818},{x:404.1172256,y:340.3743286},{x:404.2001114,y:340.691864},{x:404.1839981,y:341.3799744},{x:405.9170609,y:342.5977478},{x:407.5672379,y:344.3135681},{x:410.6323624,y:348.6974487},{x:413.4063187,y:353.4481201},{x:414.6925125,y:355.6223755},{x:415.9159927,y:357.4819641},{x:446.1409988,y:402.5239563},{x:447.8941116,y:404.6854248},{x:449.9755325,y:406.9086609},{x:454.483345,y:411.5653381},{x:456.5896683,y:414.0111694},{x:458.3842239,y:416.5435791},{x:459.7070389,y:419.1687927},{x:460.3980179,y:421.8929749},{x:460.330513,y:423.2209473},{x:459.8673782,y:424.4043274},{x:458.1563797,y:426.4813232},{x:456.0694046,y:428.4118958},{x:454.4110184,y:430.4839478},{x:453.6341629,y:432.6287231},{x:453.2503738,y:434.9552002},{x:452.6709671,y:439.6079712},{x:451.6133499,y:443.3995361},{x:450.0984573,y:447.2178345},{x:448.1988602,y:450.8544312},{x:445.9870071,y:454.1009521},{x:445.2327957,y:454.9499512},{x:444.120369,y:456.1347046},{x:441.6337357,y:459.0782166},{x:440.6658401,y:460.6203003},{x:440.1524734,y:462.0648193},{x:440.2967911,y:463.3034973},{x:441.3020096,y:464.2279663},{x:443.0089798,y:464.4325867},{x:444.7705154,y:463.7559509},{x:446.3872757,y:462.6180725},{x:447.6599808,y:461.4389648},{x:449.96418,y:458.7336426},{x:451.896492,y:455.7789612},{x:454.7979813,y:449.3179626},{x:455.2873001,y:447.6248474},{x:455.8775101,y:445.8508301},{x:456.8382034,y:444.3796387},{x:458.4389725,y:443.5949707},{x:460.0345535,y:443.7620239},{x:461.7698441,y:444.6128235},{x:463.5780106,y:445.9676208},{x:465.3921585,y:447.6465759},{x:468.7708817,y:451.2580566},{x:470.2016678,y:452.8309631},{x:471.3709793,y:454.0089722},{x:478.8518143,y:460.0104675},{x:486.9943924,y:465.3340759},{x:495.4878006,y:470.1171265},{x:504.0210037,y:474.4969482},{x:509.5540848,y:477.1457214},{x:515.2860184,y:479.3189697},{x:516.4008255,y:479.6032104},{x:517.6022415,y:479.6870728},{x:518.5872879,y:479.3061523},{x:519.0529861,y:478.1959534},{x:518.8626175,y:476.8864441},{x:518.1857986,y:475.7019958},{x:515.84095,y:473.7122192},{x:512.9545975,y:472.234314},{x:510.4629593,y:471.2759705},{x:507.6074905,y:470.256958},{x:504.0599442,y:468.8930969},{x:496.255867,y:465.2143555},{x:492.682869,y:462.9411621},{x:489.7850418,y:460.4066467},{x:487.9041214,y:457.6316223},{x:487.4518509,y:456.1604309},{x:487.3819656,y:454.6369629},{x:491.1286697,y:455.6597595},{x:494.7612381,y:457.2131958},{x:498.3274002,y:458.9732666},{x:501.8750076,y:460.6159668},{x:508.6896439,y:463.2619934},{x:515.7986526,y:465.5415649},{x:523.0577469,y:467.2131042},{x:530.3230057,y:468.0349731},{x:536.5177689,y:468.0764465},{x:542.669014,y:467.3979492},{x:543.9200516,y:466.9833069},{x:545.0242386,y:466.2348328},{x:545.5588455,y:465.2004089},{x:545.1009598,y:463.927948},{x:544.175972,y:463.0953064},{x:542.9511795,y:462.4622803},{x:539.9430008,y:461.6712036},{x:536.7585526,y:461.3072815},{x:534.0799637,y:461.1229553},{x:520.8706131,y:459.9545898},{x:514.2815628,y:459.0859985},{x:507.7789993,y:457.8509521},{x:506.4525833,y:457.5542603},{x:504.8121414,y:457.1582336},{x:501.1944656,y:455.9819641},{x:499.5198441,y:455.1585083},{x:498.1362991,y:454.1494141},{x:497.1952591,y:452.9331055},{x:496.8479691,y:451.4879456},{x:497.117012,y:450.6549377},{x:497.8393021,y:450.1732788},{x:500.1341019,y:449.9840698},{x:502.7133255,y:450.3605652},{x:503.7911453,y:450.5859985},{x:504.557991,y:450.7429504},{x:511.3823318,y:451.3563843},{x:518.3227615,y:451.0169373},{x:525.2244949,y:449.9740295},{x:531.932991,y:448.4769592},{x:532.8128738,y:448.2760315},{x:534.1250076,y:447.9761353},{x:537.3393631,y:447.0833435},{x:538.8882523,y:446.4923706},{x:540.1627884,y:445.8063354},{x:540.9862747,y:445.0262146},{x:541.1820145,y:444.1529541},{x:540.6489334,y:443.4705505},{x:539.4853592,y:443.0022888},{x:537.8792191,y:442.7068176},{x:536.0183792,y:442.5428467},{x:532.2842484,y:442.4439392},{x:530.7866898,y:442.4263916},{x:529.7860184,y:442.3749695},{x:522.7177811,y:441.8120117},{x:515.5401077,y:441.6993408},{x:501.2470169,y:442.2559509},{x:498.6232986,y:442.5908508},{x:495.6024857,y:442.9595947},{x:492.7076492,y:442.7930298},{x:491.4709549,y:442.3311157},{x:490.4619827,y:441.5219727},{x:489.3800125,y:439.9010925},{x:488.6179276,y:438.0290833},{x:487.6418533,y:433.8266907},{x:486.7113724,y:429.5046997},{x:486.0061722,y:427.4831848},{x:485.0039749,y:425.6529541},{x:464.5570145,y:397.51297},{x:441.859993,y:359.0939636},{x:419.5407486,y:322.4837036},{x:397.7539749,y:285.5569458},{x:392.6534195,y:277.3995361},{x:387.2727432,y:269.1647034},{x:382.4174271,y:260.6722412},{x:380.4385147,y:256.2730713},{x:378.8929825,y:251.7419434},{x:378.4342422,y:247.8017578},{x:378.8919754,y:243.618103},{x:379.8762283,y:239.4705811},{x:380.9969864,y:235.6389771},{x:388.6119766,y:208.7999878},{x:391.0815811,y:198.9997559},{x:393.3593521,y:188.8963623},{x:395.3594131,y:178.5748901},{x:396.9958572,y:168.1204834},{x:398.1828384,y:157.6182251},{x:398.8344498,y:147.1533203},{x:398.8647842,y:136.8108521},{x:398.1879959,y:126.6759644},{x:395.2633438,y:103.3844604},{x:393.3301468,y:91.60638428},{x:390.9952469,y:79.85656738},{x:388.1928177,y:68.22253418},{x:384.8570328,y:56.79168701},{x:380.9220352,y:45.65136719},{x:376.3219986,y:34.88897705},{x:371.1558609,y:23.22259521},{x:366.6760025,y:11.27197266},{x:365.8827591,y:9.214355469},{x:365.0445023,y:6.805603027},{x:364.7049942,y:4.406799316},{x:364.892189,y:3.323974609},{x:365.4079971,y:2.378967285},{x:366.5955276,y:1.439331055},{x:368.2348099,y:.826660156},{x:372.3311234,y:.333557129},{x:376.6218643,y:.40246582},{x:378.5041885,y:.4921875},{x:380.0319901,y:.535949707},{x:420.2889786,y:0},{x:527.1040115,y:0},{x:558.0751419,y:.09362793},{x:573.5140457,y:.204589844},{x:588.6629715,y:.352966309},{x:588.6629715,y:.352966309}],Gr=cx.map(e=>d(e.x,e.y));function dx(){return qo("Numeric ODE solvers","y'=y, y(0)=1",0,1,Math.exp,(e,t)=>t)}function px(){return qo("Numeric ODE solvers","y'=x, y(0)=0",0,0,e=>.5*e*e,(e,t)=>e)}function gx(){return qo("Numeric ODE solvers","y'=cos(x), y(0)=0",0,0,Math.sin,(e,t)=>Math.cos(e))}function xx(){const e=new b({title:"Train schedule",subtitle:"Bergensbanen (Oslo-Bergen, Norway)",isLegendVisible:!1,plotAreaBorderColor:p.LightGray}),t=new w({position:x.Left,minimum:-20,maximum:540,title:"Distance from Oslo S",isAxisVisible:!0});e.axes.push(t);const i=new Tx({majorGridlineStyle:k.Solid,majorGridlineColor:p.LightGray,minimum:t.minimum,maximum:t.maximum,position:x.Right,isPanEnabled:!1,isZoomEnabled:!1,majorTickSize:0});t.axisChanged=(c,g)=>{i.minimum=t.actualMinimum,i.maximum=t.actualMaximum},e.axes.push(i),e.axes.push(new Ne({position:x.Bottom,minimum:0,maximum:Ne.toDouble(Et.fromHours(24)),stringFormatter:c=>Math.abs(c.hours).toString().padStart(2,"0"),title:"Time",majorStep:Ne.toDouble(Et.fromHours(1)),minorStep:Ne.toDouble(Et.fromMinutes(10)),tickStyle:it.None,majorGridlineStyle:k.Solid,majorGridlineColor:p.LightGray,minorGridlineStyle:k.Solid,minorGridlineColor:r.fromArgb(255,240,240,240)}));const s=`Stasjon;km;moh;609;61;601;1405;607;603;63;605;62;602;608;604;64;610;1404;606
Oslo;0.00;4.0;0631;0811;1037;;1227;1437;1609;2311;1432;1736;1956;2210;2236;2348;;0626
Lysaker;7.00;7.5;0642;0822;1048;;1238;1448;1620;2322;1420;1724;1944;2158;2224;;;
Asker;23.83;104.6;0653;0832;1059;;1249;1458;1630;2334;1409;1713;1932;2144;2214;2324;;0555
Drammen;52.86;2.2;0708;0846;1115;;1303;1513;1645;2351;1354;1701;1914;2125;2201;2307;;0540
Hokksund;70.22;8.0;;;1136;;1320;1531;;0007;;1638;1854;2111;2140;;;0525
Vikersund;95.91;67.1;;;1158;;1349;1552;;0029;;1617;1833;2048;;;;0503
Hønefoss;124.21;96.8;0804;0937;1222;;1414;1619;1736;0056;1304;1555;1811;2025;2100;2201;;0442
Flå;186.64;155.0;;;1314;;;1712;;;;1503;1715;1934;;2108;;0349
Nesbyen;220.06;168.8;;1045;1340;;1532;1744;1845;0223;1152;1436;1643;1909;1949;2041;;0321
Gol;237.02;207.4;0930;1100;1354;;1545;1800;1900;0239;1141;1423;1630;1858;1938;2028;;0308
Ål;262.85;436.6;0950;1123;1419;1520;1608;1832;1921;0305;1121;1400;1609;1833;1919;2007;1957;0246
Geilo;287.38;794.2;1013;1145;1442;1545;1630;1855;1942;0328;1059;1339;1547;1812;1857;1946;1939;0224
Ustaoset;299.31;990.6;;1156;1454;1556;1643;1905;1953;0341;1048;1326;1536;1800;1845;;1927;0209
Haugastøl;310.14;988.0;1042;;1505;1606;1655;1916;;0352;;1315;1527;1750;;1922;;0158
Finse;336.74;1222.2;1108;1224;1526;1626;1717;1937;2021;0417;1019;1254;1508;1730;1818;1900;1854;0138
Hallingskeid;357.44;1110.1;1123;;1538;1637;1732;1950;;;;1239;1454;1711;;1842;1839;
Myrdal;370.44;866.8;1137;1253;1551;1650;1746;2003;2045;0445;0953;1225;1440;1657;1752;1828;1825;0105
;370.44;866.8;1220;1258;1556;1652;1751;2004;2047;0445;0950;1220;1439;1652;1750;1823;1822;0101
// Upsete;376.79;850.2;;;;;;;;;;;;;;;;
// Mjølfjell;388.86;627.2;;;;;;;;;;;;;;;;
Voss;419.96;56.5;1312;1343;1640;1738;1836;2048;2130;0537;0910;1139;1355;1608;1710;1736;1740;0015
Dale;459;43.4;;;;;1903;;2156;0608;0836;1109;;;;;;2344
Vaksdal;475.17;16.0;;;;;;;;0626;;;;;;;;2326
Arna;501.43;8.0;1410;1441;1740;1840;1935;2155;2228;0644;0806;1037;1248;1506;1606;1618;1637;2307
Bergen;526.64;3.9;1422;1442;1752;1850;1945;2204;2235;0656;0758;1028;1240;1458;1558;1610;1628;2258
`.split(`
`),n=s[0];s.splice(0,1);const o=n.split(";"),a=o.length-3,l=new G({strokeThickness:0,markerType:N.Circle,markerFill:r.fromAColor(200,p.Black),markerSize:4}),h=new Array(a);for(let c=0;c<h.length;c++)h[c]=new G({title:o[3+c],color:r.fromAColor(180,p.Black),strokeThickness:2,trackerStringFormatter:g=>`Train ${g.title}
Time: ${Lo(g.xValue,"hh:mm:ss")}
Distance from Oslo S: ${g.yValue.toFixed(1)} km`}),e.series.push(h[c]);for(const c of s){if(!c||c.startsWith("//"))continue;const g=c.split(";"),f=g[0],y=parseFloat(g[1]);f&&(i.majorTicks.push(y),i.labels.push(f));for(let M=0;M<h.length;M++){const S=g[M+3];if(!S)continue;const C=parseInt(S),v=Et.from(0,Math.floor(C/100),C%100,0),R=Ne.toDouble(v);h[M].points.push(d(R,y)),l.points.push(d(R,y))}}const m=Ne.toDouble(Et.fromHours(24));for(const c of e.series)if(c instanceof Fo){for(let g=0;g+1<c.points.length;g++)if(Math.abs(c.points[g].x-c.points[g+1].x)>m/2){let f=c.points[g].x;f>m/2&&(f-=m);let y=c.points[g+1].x;y>m/2&&(y-=m);const M=c.points[g].y+(c.points[g+1].y-c.points[g].y)/(y-f)*(0-f);c.points.splice(g+1,0,d(f<y?0:m,M)),c.points.splice(g+1,0,d(Number.NaN,M)),c.points.splice(g+1,0,d(f<y?m:0,M)),g+=3}}return console.log(i),e.series.push(l),e}function fx(){const e=new b({title:"La Linea",plotType:rt.Cartesian,background:r.fromRgb(84,98,207)});e.axes.push(new w({position:x.Left,minimum:-500,maximum:1e3}));const t=new Je({fill:p.White,strokeThickness:0});return t.points.push(...Gr),e.series.push(t),e}function wx(){const e=new b({title:"La Linea",plotType:rt.Cartesian,background:r.fromRgb(84,98,207)});e.axes.push(new w({position:x.Left,minimum:-500,maximum:1e3}));const t=new G({color:p.White,strokeThickness:1.5});return t.points.push(...Gr),e.series.push(t),e}function yx(){const e=new b({title:"Conway's Game of Life",subtitle:"Click the mouse to step to the next generation."});e.axes.push(new w({position:x.Left,startPosition:1,endPosition:0})),e.axes.push(new w({position:x.Bottom}));const t=40,i=40;let s=We(i,t,0);const n=new Er({matrix:s}),o=(c,g)=>{s[c][g]=s[c][g+1]=s[c][g+2]=1},a=(c,g)=>{s[c][g]=s[c+1][g+1]=s[c+1][g+2]=s[c+2][g]=s[c+2][g+1]=1},l=(c,g)=>{s[c][g+1]=s[c][g+2]=s[c+1][g]=s[c+1][g+1]=s[c+2][g+1]=1};o(2,10),a(2,2),l(20,20),e.series.push(n);let h=0;const m=()=>{const c=We(i,t,0);for(let g=1;g<t-1;g++)for(let f=1;f<i-1;f++){const y=s[g-1][f-1]+s[g-1][f]+s[g-1][f+1]+s[g][f-1]+s[g][f+1]+s[g+1][f-1]+s[g+1][f]+s[g+1][f+1];if(s[g][f]===0&&y===3){c[g][f]=1;continue}s[g][f]===1&&(y===2||y===3)&&(c[g][f]=1)}h++,n.title="Generation "+h,n.matrix=s=c,e.invalidatePlot(!0)};return e.mouseDown=(c,g)=>{g.changedButton===Mt.Left&&(m(),g.handled=!0)},e}function bx(){const e=Math.sin,t=n=>-27/5*e(3/2-30*n)-16/3*e(9/8-29*n)-29/5*e(5/4-27*n)-8/3*e(1/4-26*n)-25/7*e(1/3-25*n)-31/4*e(4/7-22*n)-25/4*e(4/3-20*n)-33/2*e(2/3-19*n)-67/4*e(6/5-16*n)-100/11*e(1/4-10*n)-425/7*e(1-4*n)+149/4*e(8*n)+1172/3*e(n+21/5)+661/11*e(2*n+3)+471/8*e(3*n+10/7)+211/7*e(5*n+13/4)+39/4*e(6*n+10/7)+139/10*e(7*n+7/6)+77/3*e(9*n+18/7)+135/8*e(11*n+1/2)+23/4*e(12*n+8/5)+95/4*e(13*n+4)+31/4*e(14*n+3/5)+67/11*e(15*n+7/3)+127/21*e(17*n+17/4)+95/8*e(18*n+7/8)+32/11*e(21*n+8/3)+81/10*e(23*n+45/11)+13/3*e(24*n+13/4)+7/4*e(28*n+3/2)+11/5*e(31*n+5/2)+1/3*e(32*n+12/5)+13/4*e(33*n+22/5)+14/3*e(34*n+9/4)+9/5*e(35*n+8/5)+17/9*e(36*n+22/5)+1/3*e(37*n+15/7)+3/2*e(38*n+39/10)+4/3*e(39*n+7/2)+5/3*e(40*n+17/6),i=n=>-13/7*e(1/2-40*n)-31/8*e(1/11-34*n)-12/5*e(1/4-31*n)-9/4*e(4/3-29*n)-5/3*e(4/3-28*n)-11/2*e(6/5-26*n)-17/7*e(3/2-25*n)-5/2*e(1-24*n)-39/7*e(1-19*n)-59/5*e(2/3-18*n)-179/9*e(13/12-12*n)-103/2*e(1/10-9*n)-356/5*e(1-5*n)-429/2*e(20/19-n)+288/5*e(2*n+10/3)+53/6*e(3*n+5/2)+351/7*e(4*n+5/2)+201/4*e(6*n+17/7)+167/3*e(7*n+19/5)+323/5*e(8*n+1/4)+153/7*e(10*n+2/3)+71/5*e(11*n+6/5)+47/12*e(13*n+11/5)+391/26*e(14*n+2)+164/11*e(15*n+1/7)+11/2*e(16*n+2/3)+31/3*e(17*n+1/7)+54/11*e(20*n+1/4)+43/5*e(21*n+13/3)+13/5*e(22*n+3/2)+17/5*e(23*n+11/5)+19/10*e(27*n+4)+15/2*e(30*n+55/18)+4/3*e(32*n+3/5)+5/3*e(33*n+4)+27/7*e(35*n+13/6)+1/4*e(36*n+43/11)+16/5*e(37*n+9/2)+20/19*e(38*n+23/6)+8/3*e(39*n+4/7),s=new b({title:"Elephant curve",plotType:rt.Cartesian});return s.series.push(Q.fromFxFyN(t,i,0,Math.PI*2,1e3)),s}function Mx(){const e=Math.sin,t=n=>17/31*e(235/57-32*n)+19/17*e(192/55-30*n)+47/32*e(69/25-29*n)+35/26*e(75/34-27*n)+6/31*e(23/10-26*n)+35/43*e(10/33-25*n)+126/43*e(421/158-24*n)+143/57*e(35/22-22*n)+106/27*e(84/29-21*n)+88/25*e(23/27-20*n)+74/27*e(53/22-19*n)+44/53*e(117/25-18*n)+126/25*e(88/49-17*n)+79/11*e(43/26-16*n)+43/12*e(41/17-15*n)+47/27*e(244/81-14*n)+8/5*e(79/19-13*n)+373/46*e(109/38-12*n)+1200/31*e(133/74-11*n)+67/24*e(157/61-10*n)+583/28*e(13/8-8*n)+772/35*e(59/16-7*n)+3705/46*e(117/50-6*n)+862/13*e(19/8-5*n)+6555/34*e(157/78-3*n)+6949/13*e(83/27-n)-6805/54*e(2*n+1/145)-5207/37*e(4*n+49/74)-1811/58*e(9*n+55/43)-63/20*e(23*n+2/23)-266/177*e(28*n+13/18)-2/21*e(31*n+7/16),i=n=>70/37*e(65/32-32*n)+11/12*e(98/41-31*n)+26/29*e(35/12-30*n)+54/41*e(18/7-29*n)+177/71*e(51/19-27*n)+59/34*e(125/33-26*n)+49/29*e(18/11-25*n)+151/75*e(59/22-24*n)+52/9*e(118/45-22*n)+52/33*e(133/52-21*n)+37/45*e(61/14-20*n)+143/46*e(144/41-19*n)+254/47*e(19/52-18*n)+246/35*e(92/25-17*n)+722/111*e(176/67-16*n)+136/23*e(3/19-15*n)+273/25*e(32/21-13*n)+229/33*e(117/28-12*n)+19/4*e(43/11-11*n)+135/8*e(23/10-10*n)+205/6*e(33/23-8*n)+679/45*e(55/12-7*n)+101/8*e(11/12-6*n)+2760/59*e(40/11-5*n)+1207/18*e(21/23-4*n)+8566/27*e(39/28-3*n)+12334/29*e(47/37-2*n)+15410/39*e(185/41-n)-596/17*e(9*n+3/26)-247/28*e(14*n+25/21)-458/131*e(23*n+21/37)-41/36*e(28*n+7/8),s=new b({title:"PI curve",plotType:rt.Cartesian});return s.series.push(Q.fromFxFyN(t,i,0,Math.PI*2,1e3)),s}function qo(e,t,i,s,n,o){const a=new b({title:e,subtitle:t}),l=new H({legendPosition:z.BottomCenter,legendPlacement:ct.Outside,legendOrientation:At.Horizontal});a.legends.push(l);const h=Q.fromN(n,0,4,100);Object.assign(h,{title:"Exact solution",strokeThickness:5}),a.series.push(h);const m=new G({title:"Euler, h=0.25",markerType:N.Circle,markerFill:p.Black});m.points.push(...Sx(o,i,s,4,.25)),a.series.push(m);const c=new G({title:"Heun, h=0.25",markerType:N.Circle,markerFill:p.Black});c.points.push(...kx(o,i,s,4,.25)),a.series.push(c);const g=new G({title:"Midpoint, h=0.25",markerType:N.Circle,markerFill:p.Black});g.points.push(...Ax(o,i,s,4,.25)),a.series.push(g);const f=new G({title:"RK4, h=0.25",markerType:N.Circle,markerFill:p.Black});return f.points.push(...Rx(o,i,s,4,.25)),a.series.push(f),a.axes.push(new w({position:x.Left})),a}function Sx(e,t,i,s,n){const o=[];let a=i;for(let l=t;l<s+n/2;l+=n)o.push(d(l,a)),a+=n*e(l,a);return o}function kx(e,t,i,s,n){const o=[];let a=i;for(let l=t;l<s+n/2;l+=n){o.push(d(l,a));const h=a+n*e(l,a);a=a+n/2*(e(l,a)+e(l+n,h))}return o}function Ax(e,t,i,s,n){const o=[];let a=i;for(let l=t;l<s+n/2;l+=n)o.push(d(l,a)),a+=n*e(l+n/2,a+n/2*e(l,a));return o}function Rx(e,t,i,s,n){const o=[];let a=i;for(let l=t;l<s+n/2;l+=n){o.push(d(l,a));const h=n*e(l,a),m=n*e(l+n/2,a+h/2),c=n*e(l+n/2,a+m/2),g=n*e(l+n,a+c);a+=(h+2*m+2*c+g)/6}return o}class Tx extends w{constructor(i){super(i);st(this,"majorTicks",[]);st(this,"minorTicks",[]);st(this,"labels",[])}getTickValues(){const i=this.majorTicks.filter(o=>o>=this.actualMinimum&&o<=this.actualMaximum),s=this.minorTicks.filter(o=>o>=this.actualMinimum&&o<=this.actualMaximum);return{majorTickValues:i,minorTickValues:s,majorLabelValues:i}}formatValueOverride(i){return this.labels[this.majorTicks.indexOf(i)]}}const Cx="Misc",vx={category:Cx,examples:[{title:"Numeric ODE solvers (y'=y)",example:{model:dx}},{title:"Numeric ODE solvers (y'=x)",example:{model:px}},{title:"Numeric ODE solvers (y'=cos(x))",example:{model:gx}},{title:"Train schedule",example:{model:xx}},{title:"La Linea (AreaSeries)",example:{model:fx}},{title:"La Linea (LineSeries)",example:{model:wx}},{title:"Conway's Game of Life",example:{model:yx}},{title:"Elephant curve",example:{model:bx}},{title:"PI curve",example:{model:Mx}}]};function Px(){const e=new b({title:"XKCD style plot",subtitle:"Install the 'Humor Sans' font for the best experience"});e.renderingDecorator=i=>new No(i);const t=Q.fromN(Math.sin,0,10,50,"sin(x)");return e.series.push(t),e}function Lx(){const e=new b({title:"Test #2"});e.renderingDecorator=l=>new No(l),e.axes.push(new w({position:x.Left,minimum:0,maximum:8,title:"INTENSITY"})),e.axes.push(new w({position:x.Bottom,title:"TIME"}));const t=new G({color:p.Cyan,strokeThickness:4}),i=new G({color:p.White,strokeThickness:14}),s=new G({color:p.Red,strokeThickness:4}),n=257,o=1,a=9;for(let l=0;l<n;l++){const h=o+(a-o)*l/(n-1),m=1.5+10*(Math.sin(h)*Math.sin(h)/Math.sqrt(h))*Math.exp(-.5*(h-5)*(h-5)),c=3+10*(Math.sin(h)*Math.sin(h)/Math.sqrt(h))*Math.exp(-.5*(h-7)*(h-7));t.points.push(d(h,m)),i.points.push(d(h,c)),s.points.push(d(h,c))}return e.series.push(t,i,s),e}function Ix(){const e=new b({title:"Test #3"});e.renderingDecorator=a=>new No(a);const t=new H({legendPlacement:ct.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,legendBorderThickness:0});e.legends.push(t);const i=new $({title:"Series 1",isStacked:!1,strokeColor:p.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});i.items.push(new L({value:25})),i.items.push(new L({value:137})),i.items.push(new L({value:18})),i.items.push(new L({value:40}));const s=new $({title:"Series 2",isStacked:!1,strokeColor:p.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});s.items.push(new L({value:12})),s.items.push(new L({value:14})),s.items.push(new L({value:120})),s.items.push(new L({value:26}));const n=new K({position:x.Bottom,key:"y"});n.labels.push("Category A","Category B","Category C","Category D");const o=new w({position:x.Left,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0,key:"x"});return e.series.push(i),e.series.push(s),e.axes.push(n),e.axes.push(o),e}const Bx="XKCD",Dx={category:Bx,examples:[{title:"XKCD Test #1",example:{model:Px}},{title:"XKCD Test #2",example:{model:Lx}},{title:"XKCD Test #3",example:{model:Ix}}]},Nx=[vx,Dx];class Gs{static mrProcess(t,i=100,s=.5,n=.7,o=.01){let a=i;const l=[],h=new Date;for(let m=0;m<t;m++){const c=-o*(a-i)+this.randomNormal(0,s),g=-o*(a-i)+this.randomNormal(0,n),f=-o*(a-i)+this.randomNormal(0,n),y=a,M=a=a+c,S=this.min(y,M,y+g,y+f),C=this.max(y,M,y+g,y+f),v=new Date(h.getTime()+m*1e3),R=Lt.toDouble(v);l.push(rs(R,C,S,y,M))}return l}static min(t,i,s,n){return Math.min(t,Math.min(i,Math.min(s,n)))}static max(t,i,s,n){return Math.max(t,Math.max(i,Math.max(s,n)))}static randomNormal(t,i){return this.inverseCumNormal(this.rand.next(),t,i)}static inverseCumNormal(t,i,s){const n=-39.69683028665376,o=220.9460984245205,a=-275.9285104469687,l=138.357751867269,h=-30.66479806614716,m=2.506628277459239,c=-54.47609879822406,g=161.5858368580409,f=-155.6989798598866,y=66.80131188771972,M=-13.28068155288572,S=-.007784894002430293,C=-.3223964580411365,v=-2.400758277161838,R=-2.549732539343734,T=4.374664141464968,P=2.938163982698783,B=.007784695709041462,V=.3224671290700398,O=2.445134137142996,E=3.754408661907416,q=.02425,ft=1-q;let Z,ht;return t<q?(Z=Math.sqrt(-2*Math.log(t)),Z=(((((S*Z+C)*Z+v)*Z+R)*Z+T)*Z+P)/((((B*Z+V)*Z+O)*Z+E)*Z+1)):t<=ft?(Z=t-.5,ht=Z*Z,Z=(((((n*ht+o)*ht+a)*ht+l)*ht+h)*ht+m)*Z/(((((c*ht+g)*ht+f)*ht+y)*ht+M)*ht+1)):(Z=Math.sqrt(-2*Math.log(1-t)),Z=-(((((S*Z+C)*Z+v)*Z+R)*Z+T)*Z+P)/((((B*Z+V)*Z+O)*Z+E)*Z+1)),ht=(this.cumN0(Z)-t)*Math.sqrt(2)*Math.sqrt(Math.PI)*Math.exp(.5*Z*Z),Z-=ht/(1+.5*Z*ht),i+Z*s}static cumN0(t){const i=.31938153,s=-.356563782,n=1.781477937,o=-1.821255978,a=1.330274429,l=.2316419,h=.39894228;if(t>=0){const m=1/(1+l*t);return 1-h*Math.exp(-t*t/2)*m*(m*(m*(m*(m*a+o)+n)+s)+i)}else{const m=1/(1-l*t);return h*Math.exp(-t*t/2)*m*(m*(m*(m*(m*a+o)+n)+s)+i)}}}st(Gs,"rand",new bt);function Fx(){const e=new b({title:"Large Data Set (wide window)"}),t=new Lt({position:x.Bottom});e.axes.push(t);const i=new w({position:x.Left});e.axes.push(i);const s=1e5,n=Gs.mrProcess(s),o=new kn({color:p.Black,increasingColor:p.DarkGreen,decreasingColor:p.Red,dataFieldX:"Time",dataFieldHigh:"H",dataFieldLow:"L",dataFieldOpen:"O",dataFieldClose:"C",trackerStringFormatter:m=>`High: ${m.high.toFixed(2)}
Low: ${m.low.toFixed(2)}
Open: ${m.open.toFixed(2)}
Close: ${m.close.toFixed(2)}`,itemsSource:n}),a=s-200,l=70;t.minimum=n[a].x,t.maximum=n[a+l].x;const h=n.slice(a,a+l);return i.minimum=Math.min(...h.map(m=>m.low)),i.maximum=Math.max(...h.map(m=>m.high)),e.series.push(o),t.axisChanged=(m,c)=>Ko(o,t,i),e}function Vx(){const e=new b({title:"Large Data Set (narrow window)"}),t=new Lt({position:x.Bottom});e.axes.push(t);const i=new w({position:x.Left});e.axes.push(i);const s=1e5,n=Gs.mrProcess(s),o=new kn({color:p.Black,increasingColor:p.DarkGreen,decreasingColor:p.Red,trackerStringFormatter:a=>`High: ${a.high.toFixed(2)}
Low: ${a.low.toFixed(2)}
Open: ${a.open.toFixed(2)}
Close: ${a.close.toFixed(2)}`,itemsSource:n});return t.minimum=n[0].x,t.maximum=n[29].x,i.minimum=n.slice(0,30).map(a=>a.low).reduce((a,l)=>Math.min(a,l)),i.maximum=n.slice(0,30).map(a=>a.high).reduce((a,l)=>Math.max(a,l)),e.series.push(o),t.axisChanged=(a,l)=>Ko(o,t,i),e}function Ex(){const e=new b({title:"Small Data Set"}),t=new Lt({position:x.Bottom});e.axes.push(t);const i=new w({position:x.Left});e.axes.push(i);const s=100,n=Gs.mrProcess(s),o=new kn({color:p.Black,increasingColor:p.DarkGreen,decreasingColor:p.Red,dataFieldX:"X",dataFieldHigh:"High",dataFieldLow:"Low",dataFieldOpen:"Open",dataFieldClose:"Close",trackerStringFormatter:a=>`High: ${a.high.toFixed(2)}
Low: ${a.low.toFixed(2)}
Open: ${a.open.toFixed(2)}
Close: ${a.close.toFixed(2)}`,itemsSource:n});return e.series.push(o),t.axisChanged=(a,l)=>Ko(o,t,i),e}function _x(){const e=Lt.toDouble(new Date(2016,1,1)),t=new b({title:"Simple CandleStickSeries example"});t.axes.push(new Lt({position:x.Bottom,minimum:e-7,maximum:e+7})),t.axes.push(new w({position:x.Left}));const i=new kn;return i.items.push(rs(e,100,80,92,94)),i.items.push(rs(e+1,102,77,94,93)),i.items.push(rs(e+2,99,85,93,93)),t.series.push(i),t}function Ko(e,t,i){const s=t.actualMinimum,n=t.actualMaximum,o=e.findByX(s),a=e.findByX(n,o);let l=tt,h=ut;for(let g=o;g<=a;g++){const f=e.items[g];l=Math.min(l,f.low),h=Math.max(h,f.high)}const c=(h-l)*.1;i.zoom(l-c,h+c)}const Ox="CandleStickSeries",zx={category:Ox,tags:["Series"],examples:[{title:"Large Data Set (wide window)",example:{model:Fx}},{title:"Large Data Set (narrow window)",example:{model:Vx}},{title:"Small Set",example:{model:Ex}},{title:"Simple CandleStickSeries example",example:{model:_x}}]};function Gx(){const e=new b({title:"HighLowSeries"}),t=new H({legendSymbolLength:24});e.legends.push(t);const i=new Eo({title:"HighLowSeries 1",color:p.Black}),s=new bt(314);let n=100;for(let o=0;o<24;o++){n=n+s.next()+.1;const a=n+10+s.next()*10,l=n-(10+s.next()*10),h=l+s.next()*(a-l),m=l+s.next()*(a-l);i.items.push({x:o,high:a,low:l,open:h,close:m})}return e.series.push(i),e.axes.push(new w({position:x.Left,maximumPadding:.3,minimumPadding:.3})),e}function $x(){const e=new b,t=Lt.toDouble(new Date(2013,5,4)),i=Xe(),s=new Lt({position:x.Bottom,minimum:t-.9,maximum:t+1.9,intervalType:at.Days,majorStep:1,minorStep:1,stringFormatter:o=>i.format(o,"YYYY-MM-DD")});e.axes.push(s);const n=new Eo({trackerStringFormatter:o=>`X: ${i.format(o.xValue,"YYYY-MM-DD")}
High: ${o.high.toFixed(2)}
Low: ${o.low.toFixed(2)}
Open: ${o.open.toFixed(2)}
Close: ${o.close.toFixed(2)}`});return n.items.push(rs(t,14,10,13,12.4)),n.items.push(rs(t+1,17,8,12.4,16.3)),e.series.push(n),e}const jx="HighLowSeries",Ux={category:jx,tags:["Series"],examples:[{title:"HighLowSeries",example:{model:Gx}},{title:"HighLowSeries (DateTime axis)",example:{model:$x}}]};class $r{static mrProcess(t,i=100,s=500,n=.5,o=.75,a=.01){let l=i;const h=[],m=new Date;for(let c=0;c<t;c++){const g=-a*(l-i)+this.randomNormal(0,n),f=l,M=(l=l+g)-f,S=s*Math.exp(Math.abs(M)/n),v=((M<0?-Math.min(-M/o,1):Math.min(M/o,1))+1)/2,R=v*S,T=(1-v)*S,P=new Date(m.getTime()+c*1e3),B=Lt.toDouble(P);h.push(new wo(B,R,T))}return h}static min(t,i,s,n){return Math.min(t,Math.min(i,Math.min(s,n)))}static max(t,i,s,n){return Math.max(t,Math.max(i,Math.max(s,n)))}static randomNormal(t,i){return Gs.inverseCumNormal(this.rand.next(),t,i)}}st($r,"rand",new bt);function Hx(){return xs("Just Volume (combined)",Ze.Combined,!1)}function Wx(){return xs("Just Volume (combined)",Ze.Combined,!0)}function Yx(){return xs("Just Volume (stacked)",Ze.Stacked,!1)}function Xx(){return xs("Just Volume (stacked)",Ze.Stacked,!0)}function qx(){return xs("Just Volume (+/-)",Ze.PositiveNegative,!1)}function Kx(){return xs("Just Volume (+/-)",Ze.PositiveNegative,!0)}function xs(e,t,i=!1,s=1e4){s=201;const n=new b({title:e}),o=new Ah({positiveColor:p.DarkGreen,negativeColor:p.Red,positiveHollow:!1,negativeHollow:!1,volumeStyle:t,title:"VolumeSeries"});for(const f of $r.mrProcess(s))o.append(f);const a=s-200,l=s-120,h=o.items[a].x,m=o.items[l].x,c=new Lt({position:x.Bottom,minimum:h,maximum:m}),g=new w({position:x.Left,startPosition:0,endPosition:1,minimum:i?NaN:0,maximum:i?NaN:1e4});switch(t){case Ze.Combined:case Ze.Stacked:n.axes.push(c),n.axes.push(g);break;case Ze.PositiveNegative:g.minimum=i?NaN:-1e4,n.axes.push(c),n.axes.push(g);break}return n.series.push(o),n}const Zx="VolumeSeries",Jx={category:Zx,tags:["Series"],examples:[{title:"Just Volume (combined), fixed axis",example:{model:Hx}},{title:"Just Volume (combined), natural axis",example:{model:Wx}},{title:"Just Volume (stacked), fixed axis",example:{model:Yx}},{title:"Just Volume (stacked), natural axis",example:{model:Xx}},{title:"Just Volume (+/-), fixed axis",example:{model:qx}},{title:"Just Volume (+/-), natural axis",example:{model:Kx}}]},Qx=[zx,Ux,Jx];function tf(){const e=new b({title:"AreaSeries with default style"});return e.series.push(Zo()),e}function ef(){const e=new b({title:"AreaSeries with different stroke colors"}),t=Zo();return t.color=p.Red,t.color2=p.Blue,e.series.push(t),e}function sf(){const e=new b({title:"AreaSeries with crossing lines"}),t=new Je;return t.points.push(d(0,50)),t.points.push(d(10,140)),t.points.push(d(20,60)),t.points2.push(d(0,60)),t.points2.push(d(5,80)),t.points2.push(d(20,70)),e.series.push(t),e}function nf(){const e=new b({title:"AreaSeries with custom TrackerFormatString"});e.axes.push(new w({position:x.Bottom,title:"X-axis"})),e.axes.push(new w({position:x.Left,title:"Y-axis"}));const t=Zo();return t.title="X={2:0.0} Y={4:0.0}",t.trackerStringFormatter=i=>`X=${i.xValue.toFixed(1)} Y=${i.yValue.toFixed(1)}`,e.series.push(t),e}function of(){const e=new b({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = 0 (default)"}),t=new Je;return t.points.push(d(0,50)),t.points.push(d(10,140)),t.points.push(d(20,60)),e.series.push(t),e}function af(){const e=new b({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = NaN"}),t=new Je;return t.points.push(d(0,50)),t.points.push(d(10,140)),t.points.push(d(20,60)),t.constantY2=Number.NaN,e.series.push(t),e}function rf(){const e=new b({title:"AreaSeries with constant baseline",subtitle:"ItemsSource and DataField2 not set, ConstantY2 = -20"}),t=new Je,i=[d(0,50),d(10,140),d(20,60)];return t.itemsSource=i,t.dataFieldX="x",t.dataFieldY="y",t.constantY2=-20,e.series.push(t),e}function lf(){const e=new b({title:"LineSeries and AreaSeries"}),t=new w({position:x.Bottom});e.axes.push(t);const i=new w;e.axes.push(i);const s=new Je({fill:p.LightBlue,dataFieldX2:"Time",dataFieldY2:"Minimum",color:p.Red,strokeThickness:0,markerFill:p.Transparent,dataFieldX:"Time",dataFieldY:"Maximum"});s.points2.push(d(0,-5.04135905692417)),s.points2.push(d(2.5,-4.91731850813018)),s.points2.push(d(5,-4.45266314658926)),s.points2.push(d(7.5,-3.87303874542613)),s.points2.push(d(10,-3.00101110255393)),s.points2.push(d(12.5,-2.17980725503518)),s.points2.push(d(15,-1.67332229254456)),s.points2.push(d(17.5,-1.10537158549082)),s.points2.push(d(20,-.6145459544447)),s.points2.push(d(22.5,.120028106039404)),s.points2.push(d(25,1.06357270435597)),s.points2.push(d(27.5,1.87301405606466)),s.points2.push(d(30,2.57569854952195)),s.points2.push(d(32.5,3.59165537664278)),s.points2.push(d(35,4.87991958133872)),s.points2.push(d(37.5,6.36214537958714)),s.points2.push(d(40,7.62564585126268)),s.points2.push(d(42.5,8.69606320261772)),s.points2.push(d(45,10.0118704438265)),s.points2.push(d(47.5,11.0434480519236)),s.points2.push(d(50,11.9794171576758)),s.points2.push(d(52.5,12.9591851832621)),s.points2.push(d(55,14.172107889304)),s.points2.push(d(57.5,15.5520057698488)),s.points2.push(d(60,17.2274942386092)),s.points2.push(d(62.5,18.6983982186757)),s.points2.push(d(65,20.4560332001448)),s.points2.push(d(67.5,22.4867327382261)),s.points2.push(d(70,24.5319674302041)),s.points2.push(d(72.5,26.600547815813)),s.points2.push(d(75,28.5210891459701)),s.points2.push(d(77.5,30.6793080755413)),s.points2.push(d(80,33.0546651200646)),s.points2.push(d(82.5,35.3256065179713)),s.points2.push(d(85,37.6336074839968)),s.points2.push(d(87.5,40.2012266359763)),s.points2.push(d(90,42.8923555399256)),s.points2.push(d(92.5,45.8665211907432)),s.points2.push(d(95,48.8200195945427)),s.points2.push(d(97.5,51.8304284402311)),s.points2.push(d(100,54.6969868542147)),s.points2.push(d(102.5,57.7047292990632)),s.points2.push(d(105,60.4216644602929)),s.points2.push(d(107.5,62.926258762519)),s.points2.push(d(110,65.1829734629407)),s.points2.push(d(112.5,67.2365592083133)),s.points2.push(d(115,69.5713628691022)),s.points2.push(d(117.5,71.7267046705944)),s.points2.push(d(120,73.633463102781)),s.points2.push(d(122.5,75.4660150158061)),s.points2.push(d(125,77.5669292504745)),s.points2.push(d(127.5,79.564218544664)),s.points2.push(d(130,81.8631309028078)),s.points2.push(d(132.5,83.9698189969034)),s.points2.push(d(135,86.3847886532009)),s.points2.push(d(137.5,88.5559348267764)),s.points2.push(d(140,91.0455050418365)),s.points2.push(d(142.5,93.6964157585504)),s.points2.push(d(145,96.284336864941)),s.points2.push(d(147.5,98.7508602689723)),s.points2.push(d(150,100.904510594255)),s.points2.push(d(152.5,103.266136681506)),s.points2.push(d(155,105.780951269521)),s.points2.push(d(157.5,108.032859257065)),s.points2.push(d(160,110.035478448093)),s.points2.push(d(162.5,112.10655731615)),s.points2.push(d(165,114.37480786097)),s.points2.push(d(167.5,116.403992550869)),s.points2.push(d(170,118.61663988727)),s.points2.push(d(172.5,120.538730287384)),s.points2.push(d(175,122.515721057177)),s.points2.push(d(177.5,124.474386629124)),s.points2.push(d(180,126.448283293214)),s.points2.push(d(182.5,128.373811322299)),s.points2.push(d(185,130.33627914667)),s.points2.push(d(187.5,132.487933658477)),s.points2.push(d(190,134.716989778456)),s.points2.push(d(192.5,136.817287595392)),s.points2.push(d(195,139.216488664698)),s.points2.push(d(197.5,141.50803227574)),s.points2.push(d(200,143.539586683614)),s.points2.push(d(202.5,145.535911545221)),s.points2.push(d(205,147.516964978686)),s.points2.push(d(207.5,149.592416731684)),s.points2.push(d(210,151.600983566512)),s.points2.push(d(212.5,153.498210993362)),s.points2.push(d(215,155.512606828247)),s.points2.push(d(217.5,157.426564302774)),s.points2.push(d(220,159.364474964172)),s.points2.push(d(222.5,161.152806492128)),s.points2.push(d(225,162.679069434562)),s.points2.push(d(227.5,163.893622036741)),s.points2.push(d(230,165.475827621238)),s.points2.push(d(232.5,167.303960444734)),s.points2.push(d(235,169.259393394952)),s.points2.push(d(237.5,171.265193646758)),s.points2.push(d(240,173.074304345192)),s.points2.push(d(242.5,174.975492766814)),s.points2.push(d(245,176.684088218484)),s.points2.push(d(247.5,178.406887247603)),s.points.push(d(0,5.0184649433561)),s.points.push(d(2.5,5.27685959268215)),s.points.push(d(5,5.81437064628786)),s.points.push(d(7.5,6.51022475040994)),s.points.push(d(10,7.49921246878766)),s.points.push(d(12.5,8.41941631823751)),s.points.push(d(15,9.09826907222079)),s.points.push(d(17.5,9.89500750098145)),s.points.push(d(20,10.6633345249404)),s.points.push(d(22.5,11.6249613445368)),s.points.push(d(25,12.8816391467497)),s.points.push(d(27.5,13.9665185705603)),s.points.push(d(30,14.8501816818724)),s.points.push(d(32.5,16.0683128022441)),s.points.push(d(35,17.5378799723172)),s.points.push(d(37.5,19.1262752954039)),s.points.push(d(40,20.4103953650735)),s.points.push(d(42.5,21.5430627723891)),s.points.push(d(45,22.9105459463366)),s.points.push(d(47.5,23.9802361888719)),s.points.push(d(50,24.8659461235003)),s.points.push(d(52.5,25.7303194442439)),s.points.push(d(55,26.7688545912359)),s.points.push(d(57.5,28.0545112571933)),s.points.push(d(60,29.7036634266394)),s.points.push(d(62.5,31.2273634344467)),s.points.push(d(65,33.1038196356519)),s.points.push(d(67.5,35.2639893610328)),s.points.push(d(70,37.434293559489)),s.points.push(d(72.5,39.7109359368267)),s.points.push(d(75,41.7573881676222)),s.points.push(d(77.5,44.0460374479862)),s.points.push(d(80,46.5098714746581)),s.points.push(d(82.5,48.7754012129155)),s.points.push(d(85,51.1619816926597)),s.points.push(d(87.5,53.9036778414639)),s.points.push(d(90,56.7448825012636)),s.points.push(d(92.5,59.9294987878434)),s.points.push(d(95,63.0148831289797)),s.points.push(d(97.5,66.0721745989622)),s.points.push(d(100,68.8980036274521)),s.points.push(d(102.5,71.7719322611447)),s.points.push(d(105,74.4206055336728)),s.points.push(d(107.5,76.816198386632)),s.points.push(d(110,79.0040432726983)),s.points.push(d(112.5,80.9617606926066)),s.points.push(d(115,83.1345574620341)),s.points.push(d(117.5,85.0701022046479)),s.points.push(d(120,86.8557530286516)),s.points.push(d(122.5,88.5673387745243)),s.points.push(d(125,90.6003321543338)),s.points.push(d(127.5,92.439864576254)),s.points.push(d(130,94.5383744861178)),s.points.push(d(132.5,96.4600166864507)),s.points.push(d(135,98.6091052949006)),s.points.push(d(137.5,100.496459351478)),s.points.push(d(140,102.705767030085)),s.points.push(d(142.5,105.009994476992)),s.points.push(d(145,107.31287026052)),s.points.push(d(147.5,109.584842542272)),s.points.push(d(150,111.641435600837)),s.points.push(d(152.5,113.988459973544)),s.points.push(d(155,116.50349048027)),s.points.push(d(157.5,118.753612704274)),s.points.push(d(160,120.801728924085)),s.points.push(d(162.5,122.902486914165)),s.points.push(d(165,125.104391935796)),s.points.push(d(167.5,127.06056966547)),s.points.push(d(170,129.217086578495)),s.points.push(d(172.5,131.151968896274)),s.points.push(d(175,133.159906275133)),s.points.push(d(177.5,135.065263957561)),s.points.push(d(180,137.041870026822)),s.points.push(d(182.5,138.937477489811)),s.points.push(d(185,140.776914926282)),s.points.push(d(187.5,142.786975776398)),s.points.push(d(190,144.862762377347)),s.points.push(d(192.5,146.89654967049)),s.points.push(d(195,149.204343821204)),s.points.push(d(197.5,151.369748673527)),s.points.push(d(200,153.324438580137)),s.points.push(d(202.5,155.173148715344)),s.points.push(d(205,157.0501827528)),s.points.push(d(207.5,159.109122278359)),s.points.push(d(210,161.044446932778)),s.points.push(d(212.5,162.942364031841)),s.points.push(d(215,164.966769883021)),s.points.push(d(217.5,166.89711806788)),s.points.push(d(220,168.906874949069)),s.points.push(d(222.5,170.85692034995)),s.points.push(d(225,172.602125010408)),s.points.push(d(227.5,173.964258466598)),s.points.push(d(230,175.629908385654)),s.points.push(d(232.5,177.495778359378)),s.points.push(d(235,179.432933300749)),s.points.push(d(237.5,181.400180771342)),s.points.push(d(240,183.232300309899)),s.points.push(d(242.5,185.225502661441)),s.points.push(d(245,186.979590140413)),s.points.push(d(247.5,188.816640077725)),s.title="Maximum/Minimum",e.series.push(s);const n=new G({color:p.Blue,markerFill:p.Transparent,dataFieldX:"Time",dataFieldY:"Value"});return n.points.push(d(0,-.011447056784037)),n.points.push(d(2.5,.179770542275985)),n.points.push(d(5,.6808537498493)),n.points.push(d(7.5,1.31859300249191)),n.points.push(d(10,2.24910068311687)),n.points.push(d(12.5,3.11980453160117)),n.points.push(d(15,3.71247338983811)),n.points.push(d(17.5,4.39481795774531)),n.points.push(d(20,5.02439428524784)),n.points.push(d(22.5,5.87249472528812)),n.points.push(d(25,6.97260592555283)),n.points.push(d(27.5,7.91976631331247)),n.points.push(d(30,8.71294011569719)),n.points.push(d(32.5,9.82998408944345)),n.points.push(d(35,11.208899776828)),n.points.push(d(37.5,12.7442103374955)),n.points.push(d(40,14.0180206081681)),n.points.push(d(42.5,15.1195629875034)),n.points.push(d(45,16.4612081950815)),n.points.push(d(47.5,17.5118421203978)),n.points.push(d(50,18.4226816405881)),n.points.push(d(52.5,19.344752313753)),n.points.push(d(55,20.47048124027)),n.points.push(d(57.5,21.8032585135211)),n.points.push(d(60,23.4655788326243)),n.points.push(d(62.5,24.9628808265612)),n.points.push(d(65,26.7799264178984)),n.points.push(d(67.5,28.8753610496295)),n.points.push(d(70,30.9831304948466)),n.points.push(d(72.5,33.1557418763199)),n.points.push(d(75,35.1392386567962)),n.points.push(d(77.5,37.3626727617638)),n.points.push(d(80,39.7822682973613)),n.points.push(d(82.5,42.0505038654434)),n.points.push(d(85,44.3977945883283)),n.points.push(d(87.5,47.0524522387201)),n.points.push(d(90,49.8186190205946)),n.points.push(d(92.5,52.8980099892933)),n.points.push(d(95,55.9174513617612)),n.points.push(d(97.5,58.9513015195966)),n.points.push(d(100,61.7974952408334)),n.points.push(d(102.5,64.738330780104)),n.points.push(d(105,67.4211349969828)),n.points.push(d(107.5,69.8712285745755)),n.points.push(d(110,72.0935083678195)),n.points.push(d(112.5,74.0991599504599)),n.points.push(d(115,76.3529601655682)),n.points.push(d(117.5,78.3984034376212)),n.points.push(d(120,80.2446080657163)),n.points.push(d(122.5,82.0166768951652)),n.points.push(d(125,84.0836307024042)),n.points.push(d(127.5,86.002041560459)),n.points.push(d(130,88.2007526944628)),n.points.push(d(132.5,90.2149178416771)),n.points.push(d(135,92.4969469740507)),n.points.push(d(137.5,94.5261970891274)),n.points.push(d(140,96.875636035961)),n.points.push(d(142.5,99.3532051177711)),n.points.push(d(145,101.798603562731)),n.points.push(d(147.5,104.167851405622)),n.points.push(d(150,106.272973097546)),n.points.push(d(152.5,108.627298327525)),n.points.push(d(155,111.142220874895)),n.points.push(d(157.5,113.39323598067)),n.points.push(d(160,115.418603686089)),n.points.push(d(162.5,117.504522115157)),n.points.push(d(165,119.739599898383)),n.points.push(d(167.5,121.732281108169)),n.points.push(d(170,123.916863232882)),n.points.push(d(172.5,125.845349591829)),n.points.push(d(175,127.837813666155)),n.points.push(d(177.5,129.769825293343)),n.points.push(d(180,131.745076660018)),n.points.push(d(182.5,133.655644406055)),n.points.push(d(185,135.556597036476)),n.points.push(d(187.5,137.637454717438)),n.points.push(d(190,139.789876077902)),n.points.push(d(192.5,141.856918632941)),n.points.push(d(195,144.210416242951)),n.points.push(d(197.5,146.438890474634)),n.points.push(d(200,148.432012631876)),n.points.push(d(202.5,150.354530130282)),n.points.push(d(205,152.283573865743)),n.points.push(d(207.5,154.350769505022)),n.points.push(d(210,156.322715249645)),n.points.push(d(212.5,158.220287512602)),n.points.push(d(215,160.239688355634)),n.points.push(d(217.5,162.161841185327)),n.points.push(d(220,164.135674956621)),n.points.push(d(222.5,166.004863421039)),n.points.push(d(225,167.640597222485)),n.points.push(d(227.5,168.928940251669)),n.points.push(d(230,170.552868003446)),n.points.push(d(232.5,172.399869402056)),n.points.push(d(235,174.346163347851)),n.points.push(d(237.5,176.33268720905)),n.points.push(d(240,178.153302327545)),n.points.push(d(242.5,180.100497714128)),n.points.push(d(245,181.831839179449)),n.points.push(d(247.5,183.611763662664)),n.title="Average",e.series.push(n),e}function Zo(){const e=new Je;return e.points.push(d(0,50)),e.points.push(d(10,40)),e.points.push(d(20,60)),e.points2.push(d(0,60)),e.points2.push(d(5,80)),e.points2.push(d(20,70)),e}const hf="AreaSeries",mf={category:hf,tags:["Series"],examples:[{title:"Default style",example:{model:tf}},{title:"Different stroke colors",example:{model:ef}},{title:"Crossing lines",example:{model:sf}},{title:"Custom TrackerFormatString",example:{model:nf}},{title:"Constant baseline (empty Points2)",example:{model:of}},{title:"Constant baseline (empty Points2, ConstantY2=NaN)",example:{model:af}},{title:"Constant baseline (ItemsSource and DataField2 not set)",example:{model:rf}},{title:"LineSeries and AreaSeries",example:{model:lf}}]};function jr(){const e=new b;e.title="With labels";const t=(a,l)=>a.value.toString(),i=new bt(1),s=[new $({labelStringFormatter:t,labelPlacement:lt.Base,textColor:p.White,title:"Base"}),new $({labelStringFormatter:t,labelPlacement:lt.Inside,textColor:p.White,title:"Inside"}),new $({labelStringFormatter:t,labelPlacement:lt.Middle,textColor:p.White,title:"Middle"}),new $({labelStringFormatter:t,labelPlacement:lt.Outside,title:"Outside"})];for(let a=0;a<4;a++)for(const l of s)l.items.push(L.fromValue(i.next(-100,100)));const n=new K;n.position=x.Left,n.labels.push("Category A","Category B","Category C","Category D");const o=new w;o.position=x.Bottom,o.minimumPadding=.06,o.maximumPadding=.06,o.extraGridlines=[0];for(const a of s)e.series.push(a);return e.axes.push(n),e.axes.push(o),e}function uf(){const e=jr();for(const t of e.series)t.labelAngle=-45;return e}const cf=()=>$s(!0,"Simple stacked model"),Ur=()=>{const e=new b({title:"Multiple Value Axes"}),t=new K({position:x.Left}),i=new w({title:"Value Axis 1",position:x.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],endPosition:.5,key:"x1"}),s=new w({title:"Value Axis 2",position:x.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],startPosition:.5,key:"x2"});e.axes.push(t,i,s);const n=[new $({xAxisKey:"x1"}),new $({xAxisKey:"x1"}),new $({xAxisKey:"x2"}),new $({xAxisKey:"x2"})],o=new bt(1);for(const a of n){for(let l=0;l<4;l++)a.items.push(L.fromValue(o.next(-100,100)));e.series.push(a)}return e},df=()=>{const e=Ur();e.title=`Stacked, ${e.title}`;for(const t of e.series)t.isStacked=!0;return e},Hr=()=>{const e=new b({title:"Multiple Category Axes"});e.legends.push(new H({isLegendVisible:!0,legendPosition:z.TopLeft,legendPlacement:ct.Inside}));const t=new w({position:x.Bottom,key:"x",extraGridlines:[0]}),i=new K({title:"Category Axis 1",position:x.Left,minimumPadding:.06,maximumPadding:.06,endPosition:.5,key:"y1"}),s=new K({title:"Category Axis 2",position:x.Left,minimumPadding:.06,maximumPadding:.06,startPosition:.5,key:"y2"});e.axes.push(t,i,s);const n=[new $({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1A"}),new $({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1B"}),new $({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2A"}),new $({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2B"})],o=new bt;for(const a of n){for(let l=0;l<4;l++)a.items.push(L.fromValue(o.next(-100,100)));e.series.push(a)}return e},pf=()=>{const e=Hr();e.title=`Stacked, ${e.title}`;for(const t of e.series)t.isStacked=!0;return e},gf=()=>{const e=new b({title:"Empty series"}),t=new $({title:"Series 1"}),i=new $({title:"Series 2"}),s=new K({position:x.Left}),n=new w({position:x.Bottom,minimumPadding:0});return e.series.push(t,i),e.axes.push(s,n),e},xf=()=>{const e=new b({title:"No category axis defined"}),t=new $({title:"Series 1",itemsSource:[L.fromValue(25),L.fromValue(137)]}),i=new $({title:"Series 2",itemsSource:[L.fromValue(52),L.fromValue(317)]}),s=new w({position:x.Bottom,minimumPadding:0});return e.series.push(t,i),e.axes.push(s),e},ff=()=>{const e=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}],t=new b({title:"Binding to ItemsSource"}),i=new H({legendPlacement:ct.Outside});t.legends.push(i);const s=new K({position:x.Left,labelField:"label",itemsSource:e,majorStep:1,minorStep:1});t.axes.push(s);const n=new w({position:x.Bottom,absoluteMinimum:0,minimumPadding:0});t.axes.push(n);const o=new $({fillColor:r.fromArgb(255,78,154,6),valueField:"value1",title:"2009",itemsSource:e});t.series.push(o);const a=new $({fillColor:r.fromArgb(255,200,141,0),valueField:"value2",title:"2010",itemsSource:e});t.series.push(a);const l=new $({fillColor:r.fromArgb(255,204,0,0),valueField:"value3",title:"2011",itemsSource:e});return t.series.push(l),t},wf=()=>{const e=new b({title:"Binding to ItemsSource",subtitle:"The items are defined by an array of BarItem/ColumnItem"});return e.series.push(new $({title:"Series 1",itemsSource:[new L({value:25}),new L({value:137})]})),e.series.push(new $({title:"Series 2",itemsSource:[new L({value:52}),new L({value:317})]})),e.axes.push(new K({position:x.Left})),e.axes.push(new w({position:x.Bottom,minimumPadding:0})),e},yf=()=>{const e=new b({title:"Binding to ItemsSource",subtitle:"The items are defined by a List of BarItem/ColumnItem"});return e.series.push(new $({title:"Series 1",itemsSource:[new L({value:25}),new L({value:137})]})),e.series.push(new $({title:"Series 2",itemsSource:[new L({value:52}),new L({value:317})]})),e.axes.push(new K({position:x.Left})),e.axes.push(new w({position:x.Bottom,minimumPadding:0})),e},bf=()=>{const e=new b({title:"Binding to ItemsSource",subtitle:"Reflect by 'ValueField'"});return e.series.push(new $({title:"Series 1",valueField:"value1",itemsSource:[{value1:25},{value1:137}]})),e.series.push(new $({title:"Series 2",valueField:"value1",itemsSource:[{value1:52},{value1:317}]})),e.axes.push(new K({position:x.Left})),e.axes.push(new w({position:x.Bottom,minimumPadding:0})),e},Mf=()=>{const e=new b({title:"Defined by Items",subtitle:"The items are added to the `Items` property."}),t=new $({title:"Series 1"});t.items.push(new L({value:25}),new L({value:137}));const i=new $({title:"Series 2"});return i.items.push(new L({value:52}),new L({value:317})),e.series.push(t,i),e.axes.push(new K({position:x.Left})),e.axes.push(new w({position:x.Bottom,minimumPadding:0})),e};function Sf(){const e=new b({title:"Empty category axis"}),t=new $({title:"Series 1"});t.items.push(new L({value:25})),t.items.push(new L({value:137})),t.items.push(new L({value:18})),t.items.push(new L({value:40}));const i=new $({title:"Series 2"});i.items.push(new L({value:-12})),i.items.push(new L({value:-14})),i.items.push(new L({value:-120})),i.items.push(new L({value:-26}));const s=new K({position:x.Left}),n=new w({position:x.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:k.Solid,extraGridlineColor:p.Black,extraGridlineThickness:1});return e.series.push(t,i),e.axes.push(s,n),e}function kf(){return Yr(!1,"With negative values")}function Af(){return Yr(!0,"Stacked with negative values")}function Rf(){const e=$s(!1,"Mixed with LineSeries");e.title="Mixed with LineSeries";const t=new G({title:"LineSeries 1"});return t.points.push(d(25,0)),t.points.push(d(137,1)),t.points.push(d(18,2)),t.points.push(d(40,3)),e.series.push(t),e}function Tf(){const e=$s(!1,"No axes defined");return e.axes.length=0,e}function Cf(){const e=$s(!0,"Stacked and no axes defined");return e.axes.length=0,e}function vf(){const e=new b({title:"Logarithmic axis"}),t=new H({legendPlacement:ct.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,legendBorderThickness:0});e.legends.push(t);const i=new $({title:"Series 1",baseValue:.1,strokeColor:p.Black,strokeThickness:1});i.items.push(new L({value:25})),i.items.push(new L({value:37})),i.items.push(new L({value:18})),i.items.push(new L({value:40}));const s=new K({position:x.Left});return s.labels.push("Category A","Category B","Category C","Category D"),e.series.push(i),e.axes.push(s),e.axes.push(new wt({position:x.Bottom,minimum:.1,minimumPadding:0,absoluteMinimum:0})),e}function Pf(){const e=new b({title:"Logarithmic axis"}),t=new H({legendPlacement:ct.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,legendBorderThickness:0});e.legends.push(t);const i=new $({title:"Series 1",baseLine:.1,strokeColor:p.Black,strokeThickness:1});i.items.push(new L({value:25})),i.items.push(new L({value:37})),i.items.push(new L({value:18})),i.items.push(new L({value:40}));const s=new K({position:x.Left});return s.labels.push("Category A","Category B","Category C","Category D"),e.series.push(i),e.axes.push(s),e.axes.push(new wt({position:x.Bottom,minimumPadding:0,absoluteMinimum:0})),e}function Wr(){const e=new b({title:"Logarithmic axis"}),t=new H({legendPlacement:ct.Outside});e.legends.push(t);const i=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}];return e.series.push(new $({title:"2009",itemsSource:i,valueField:"value1"})),e.series.push(new $({title:"2010",itemsSource:i,valueField:"value2"})),e.series.push(new $({title:"2011",itemsSource:i,valueField:"value3"})),e.axes.push(new K({position:x.Left,itemsSource:i,labelField:"label"})),e.axes.push(new wt({position:x.Bottom,minimum:1})),e}function Lf(){const e=Wr();for(const t of e.series)t instanceof $&&(t.isStacked=!0);return e}function If(){return Qo(1e5,5)}function Bf(){return Qo(1e5,20)}function Df(){return Qo(1e5,200)}function Nf(){return Jf(1e5,2e3)}function Ff(){const e=new b({title:"Different colors within the same series"}),t=new $({title:"Series 1"});t.items.push(new L({value:1,color:p.Red})),t.items.push(new L({value:2,color:p.Green})),t.items.push(new L({value:1,color:p.Blue}));const i=new K({title:"Category",position:x.Left});return i.labels.push("A","B","C"),e.axes.push(i),e.series.push(t),e}function Vf(){const e=new b({title:"Stacking groups"}),t=new $({title:"Series 1",stackGroup:"1",isStacked:!0});t.items.push(new L({value:1})),t.items.push(new L({value:2})),e.series.push(t);const i=new $({title:"Series 2",stackGroup:"2",isStacked:!0});i.items.push(new L({value:2})),i.items.push(new L({value:1})),e.series.push(i);const s=new $({title:"Series 3",stackGroup:"1",isStacked:!0});s.items.push(new L({value:3})),s.items.push(new L({value:1})),e.series.push(s);const n=new K({title:"Category",position:x.Left});return n.labels.push("A","B"),e.axes.push(n),e}function Ef(){const e=new b({title:"Different widths",subtitle:"Series1=0.6 and Series2=0.3"}),t=new $({title:"Series 1",barWidth:.6});t.items.push(new L({value:1})),t.items.push(new L({value:2})),e.series.push(t);const i=new $({title:"Series 2",barWidth:.3});i.items.push(new L({value:3})),i.items.push(new L({value:1})),e.series.push(i);const s=new K({title:"Category",position:x.Left});return s.labels.push("A","B"),e.axes.push(s),e}function _f(){const e=new b({title:"Different widths (stacked)"}),t=new $({title:"Series 1",isStacked:!0,barWidth:.6});t.items.push(new L({value:1})),t.items.push(new L({value:2})),e.series.push(t);const i=new $({title:"Series 2",isStacked:!0,barWidth:.3});i.items.push(new L({value:3})),i.items.push(new L({value:1})),e.series.push(i);const s=new K({title:"Category",position:x.Left});return s.labels.push("A","B"),e.axes.push(s),e}function Of(){const e=new b({title:"Invalid values",subtitle:"Series 1 contains a NaN value for category B."}),t=new $({title:"Series 1"});t.items.push(new L({value:1})),t.items.push(new L({value:NaN})),e.series.push(t);const i=new $({title:"Series 2"});i.items.push(new L({value:3})),i.items.push(new L({value:1})),e.series.push(i);const s=new K({title:"Category",position:x.Left});return s.labels.push("A","B"),e.axes.push(s),e}function zf(){const e=new b({title:"Missing values",subtitle:"Series 1 contains only one item with CategoryIndex = 1"}),t=new $({title:"Series 1"});t.items.push(new L({value:1,categoryIndex:1})),e.series.push(t);const i=new $({title:"Series 2"});i.items.push(new L({value:3})),i.items.push(new L({value:1.2})),e.series.push(i);const s=new K({title:"Category",position:x.Left});return s.labels.push("A","B"),e.axes.push(s),e}function Gf(){const e=new b({title:"CategoryIndex",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),t=new $({title:"Series 1",strokeThickness:1});t.items.push(new L({value:1,categoryIndex:0})),t.items.push(new L({value:2,categoryIndex:0})),e.series.push(t);const i=new K({title:"Category",position:x.Left});return i.labels.push("A","B"),e.axes.push(i),e}function $f(){const e=new b({title:"CategoryIndex (stacked)",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),t=new $({title:"Series 1",isStacked:!0,strokeThickness:1});t.items.push(new L({value:1,categoryIndex:0})),t.items.push(new L({value:2,categoryIndex:0})),e.series.push(t);const i=new K({title:"Category",position:x.Left});return i.labels.push("A","B"),e.axes.push(i),e}function jf(){const e=new b({title:"BaseValue",subtitle:"BaseValue = -1"}),t=new $({title:"Series 1",baseValue:-1});t.items.push(new L({value:1})),t.items.push(new L({value:2})),e.series.push(t);const i=new $({title:"Series 2",baseValue:-1});i.items.push(new L({value:4})),i.items.push(new L({value:7})),e.series.push(i);const s=new K({title:"Category",position:x.Left});return s.labels.push("A","B"),e.axes.push(s),e}function Uf(){const e=new b({title:"BaseValue (stacked)",subtitle:"BaseValue = -1"}),t=new $({title:"Series 1",isStacked:!0,baseValue:-1});t.items.push(new L({value:1})),t.items.push(new L({value:2})),e.series.push(t);const i=new $({title:"Series 2",isStacked:!0,baseValue:-1});i.items.push(new L({value:4})),i.items.push(new L({value:7})),e.series.push(i);const s=new K({title:"Category",position:x.Left});return s.labels.push("A","B"),e.axes.push(s),e}function Hf(){const e=new b({title:"BaseValue (overlaping)",subtitle:"BaseValue = -1"}),t=new $({title:"Series 1",isStacked:!0,overlapsStack:!0,baseValue:-1});t.items.push(new L({value:1})),t.items.push(new L({value:2})),e.series.push(t);const i=new $({title:"Series 2",isStacked:!0,overlapsStack:!0,baseValue:-1,barWidth:.5});i.items.push(new L({value:4})),i.items.push(new L({value:7})),e.series.push(i);const s=new K({title:"Category",position:x.Left});return s.labels.push("A","B"),e.axes.push(s),e}function Wf(){const e=new b({title:"BaseValue with Labels"});for(const i of zi(lt)){const s=new $({title:i.toString(),baseValue:-25,labelPlacement:i,labelStringFormatter:ls});s.items.push(new L({value:-40})),s.items.push(new L({value:-25})),s.items.push(new L({value:-10})),s.items.push(new L({value:0})),s.items.push(new L({value:10})),e.series.push(s)}const t=new K({title:"Category",position:x.Left,startPosition:1,endPosition:0});return t.labels.push("A","B","C","D","E"),e.axes.push(t),e.legends.push(new H),e}function Yf(){const e=new b({title:"Stacked with Labels"});let t=0;for(const i of zi(lt)){const s=new K({title:"Category",position:x.Left,startPosition:1-t*.25,endPosition:.75-t*.25,key:`C${t}`}),n=new $({title:i.toString(),labelPlacement:i,labelStringFormatter:ls,isStacked:!0,yAxisKey:s.key});n.items.push(new L({value:5})),n.items.push(new L({value:10})),n.items.push(new L({value:15})),e.series.push(n);const o=new $({title:i.toString(),labelPlacement:i,labelStringFormatter:ls,isStacked:!0,yAxisKey:s.key});o.items.push(new L({value:15})),o.items.push(new L({value:10})),o.items.push(new L({value:5})),e.series.push(o),s.labels.push("A","B","C"),e.axes.push(s),t++}return e.legends.push(new H),e}function Xf(){return Jo(0,"GapWidth 0%")}function qf(){return Jo(1,"GapWidth 100% (default)")}function Kf(){return Jo(2,"GapWidth 200%")}function Zf(){const e=new b({title:"All in one"}),t=new H({legendPlacement:ct.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,legendBorderThickness:0});e.legends.push(t);const i=new K({position:x.Left,gapWidth:.01});i.labels.push("Category A","Category B","Category C","Category D"),e.axes.push(i);const s=new w({position:x.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:k.Solid,extraGridlineColor:p.Black,extraGridlineThickness:1});e.axes.push(s);const n=0,o=1,a=2,l=3,h=new $({title:"Series 1",isStacked:!0,strokeColor:p.Black,strokeThickness:1,stackGroup:"3"});h.items.push(new L({value:25}),new L({value:137}),new L({value:18}),new L({value:40})),e.series.push(h);const m=new $({title:"Series 2",isStacked:!0,strokeColor:p.Black,strokeThickness:1,stackGroup:"3"});m.items.push(new L({value:-12}),new L({value:-14}),new L({value:-120}),new L({value:-26})),e.series.push(m);const c=new $({title:"Series 3",isStacked:!0,strokeColor:p.Black,strokeThickness:1,stackGroup:"5",isVisible:!1});c.items.push(new L({value:21}),new L({value:8}),new L({value:48}),new L({value:3})),e.series.push(c);const g=new $({title:"Series 4",isStacked:!0,strokeColor:p.Black,strokeThickness:1,stackGroup:"5",labelStringFormatter:ls,labelPlacement:lt.Middle});g.items.push(new L({value:-8,categoryIndex:n}),new L({value:-8,categoryIndex:n}),new L({value:-8,categoryIndex:n}),new L({value:-21,categoryIndex:o}),new L({value:-3,categoryIndex:a}),new L({value:-48,categoryIndex:l}),new L({value:8,categoryIndex:n}),new L({value:21,categoryIndex:o}),new L({value:3,categoryIndex:a}),new L({value:48,categoryIndex:l})),e.series.push(g);const f=new $({title:"Series 5",isStacked:!1,strokeColor:p.Black,strokeThickness:1});f.items.push(new L({value:17,categoryIndex:n}),new L({value:179,categoryIndex:o}),new L({value:45,categoryIndex:a}),new L({value:65,categoryIndex:l}),new L({value:97,categoryIndex:n}),new L({value:21,categoryIndex:l})),e.series.push(f);const y=new $({title:"Series 6",isStacked:!1,strokeColor:p.Black,strokeThickness:1,labelStringFormatter:ls,labelPlacement:lt.Base});y.items.push(new L({value:7}),new L({value:54}),new L({value:68}),new L({value:12})),e.series.push(y);const M=new $({title:"Series 7",isStacked:!0,overlapsStack:!0,strokeColor:p.Black,strokeThickness:1,labelStringFormatter:ls,labelPlacement:lt.Base,stackGroup:"3",barWidth:.5});return M.items.push(new L({value:10}),new L({value:80}),new L({value:100,categoryIndex:l})),e.series.push(M),e}const ls=e=>e.value.toString();function Jo(e,t){const i=$s(!1,t);return i.axes[0].gapWidth=e,i}function $s(e,t){const i=new b({title:t}),s=new H({legendPlacement:ct.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,legendBorderThickness:0});i.legends.push(s);const n=new $({title:"Series 1",isStacked:e,strokeColor:p.Black,strokeThickness:1});n.items.push(L.fromValue(25)),n.items.push(L.fromValue(137)),n.items.push(L.fromValue(18)),n.items.push(L.fromValue(40));const o=new $({title:"Series 2",isStacked:e,strokeColor:p.Black,strokeThickness:1});o.items.push(L.fromValue(12)),o.items.push(L.fromValue(14)),o.items.push(L.fromValue(120)),o.items.push(L.fromValue(26));const a=new K({position:x.Left});a.labels.push("Category A","Category B","Category C","Category D");const l=new w({position:x.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return i.series.push(n,o),i.axes.push(a,l),i}function Yr(e,t){const i=new b({title:t}),s=new H({legendPlacement:ct.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,legendBorderThickness:0});i.legends.push(s);const n=new $({title:"Series 1",isStacked:e,strokeColor:p.Black,strokeThickness:1});n.items.push(L.fromValue(25)),n.items.push(L.fromValue(137)),n.items.push(L.fromValue(18)),n.items.push(L.fromValue(40));const o=new $({title:"Series 2",isStacked:e,strokeColor:p.Black,strokeThickness:1});o.items.push(L.fromValue(-12)),o.items.push(L.fromValue(-14)),o.items.push(L.fromValue(-120)),o.items.push(L.fromValue(-26));const a=new $({title:"Series 3",isStacked:e,strokeColor:p.Black,strokeThickness:1});a.items.push(L.fromValue(21)),a.items.push(L.fromValue(8)),a.items.push(L.fromValue(48)),a.items.push(L.fromValue(3));const l=new $({title:"Series 4",isStacked:e,strokeColor:p.Black,strokeThickness:1});l.items.push(L.fromValue(-8)),l.items.push(L.fromValue(-21)),l.items.push(L.fromValue(-3)),l.items.push(L.fromValue(-48));const h=new K({position:x.Left});h.labels.push("Category A","Category B","Category C","Category D");const m=new w({position:x.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:k.Solid,extraGridlineColor:p.Black,extraGridlineThickness:1});return i.series.push(n,o,a,l),i.axes.push(h,m),i}function Qo(e,t){const i=[];for(let a=0;a<t;a++)i.push({label:a.toString(),value:0});const s=new bt;for(let a=0;a<e;a++){const l=s.next(0,t-1);i[l].value++}const n=new b;n.title=`Histogram (bins=${t}, n=${e})`,n.subtitle="Pseudorandom numbers";const o=new $;return o.itemsSource=i,o.valueField="value",t<100&&(o.labelStringFormatter=(a,l)=>l[0].toString()),n.series.push(o),n.axes.push(new K({position:x.Left,itemsSource:i,labelField:"label",gapWidth:0})),n.axes.push(new w({position:x.Bottom,minimumPadding:0,maximumPadding:.1,absoluteMinimum:0})),n}function Jf(e,t){const i=[];for(let m=0;m<t;m++){const c=-10+20*m/(i.length-1);i.push({label:c.toFixed(1),value:0})}const o=new bt(31);for(let m=0;m<e;m++){const c=o.next(),g=o.next(),f=Math.sqrt(-2*Math.log(c))*Math.cos(2*Math.PI*g),y=Math.round((f- -10)/20*(i.length-1));y>=0&&y<i.length&&i[y].value++}const a=new b;a.title=`Histogram (bins=${t}, n=${e})`,a.subtitle="Standard normal distribution by Box-Muller transform";const l=new $;l.itemsSource=i,l.valueField="value",a.series.push(l);const h=new K({position:x.Left,gapWidth:0});return h.labels.push(...i.map(m=>m.label)),h.isAxisVisible=!1,a.axes.push(h),a.axes.push(new w({position:x.Left,minimum:-10,maximum:10})),a.axes.push(new w({position:x.Bottom,minimumPadding:0,absoluteMinimum:0})),a}const Qf="BarSeries",t2={category:Qf,tags:["Series"],examples:[{title:"With labels",example:{model:jr}},{title:"With labels (at an angle)",example:{model:uf}},{title:"Stacked",example:{model:cf}},{title:"Multiple Value Axes",example:{model:Ur}},{title:"Stacked, Multiple Value Axes",example:{model:df}},{title:"Multiple Category Axes",example:{model:Hr}},{title:"Stacked, Multiple Category Axes",example:{model:pf}},{title:"Empty series",example:{model:gf}},{title:"No category axis defined",example:{model:xf}},{title:"Binding to ItemsSource",example:{model:ff}},{title:"Binding to ItemsSource (array)",example:{model:wf}},{title:"Binding to ItemsSource (list)",example:{model:yf}},{title:"Binding to ItemsSource (reflection)",example:{model:bf}},{title:"Defined by Items",example:{model:Mf}},{title:"Empty category axis",example:{model:Sf}},{title:"With negative values",example:{model:kf}},{title:"Stacked with negative values",example:{model:Af}},{title:"Mixed with LineSeries",example:{model:Rf}},{title:"No axes defined",example:{model:Tf}},{title:"Stacked and no axes defined",example:{model:Cf}},{title:"Logarithmic axis (Base Value)",example:{model:vf}},{title:"Logarithmic axis (Base Line)",example:{model:Pf}},{title:"Logarithmic axis (not stacked)",example:{model:Wr}},{title:"Logarithmic axis (stacked series)",example:{model:Lf}},{title:"Histogram (bins=5)",example:{model:If}},{title:"Histogram (bins=20)",example:{model:Bf}},{title:"Histogram (bins=200)",example:{model:Df}},{title:"Histogram (standard normal distribution)",example:{model:Nf}},{title:"Different colors within the same series",example:{model:Ff}},{title:"Different stacking groups",example:{model:Vf}},{title:"Different widths",example:{model:Ef}},{title:"Different widths (stacked)",example:{model:_f}},{title:"Invalid values",example:{model:Of}},{title:"Missing values",example:{model:zf}},{title:"CategoryIndex",example:{model:Gf}},{title:"CategoryIndex (stacked)",example:{model:$f}},{title:"BaseValue",example:{model:jf}},{title:"BaseValue (stacked)",example:{model:Uf}},{title:"BaseValue (overlaping)",example:{model:Hf}},{title:"BaseValue (labels)",example:{model:Wf}},{title:"Stacked (labels)",example:{model:Yf}},{title:"GapWidth 0%",example:{model:Xf}},{title:"GapWidth 100% (default)",example:{model:qf}},{title:"GapWidth 200%",example:{model:Kf}},{title:"All in one",example:{model:Zf}}]};function js(){const t=new b({title:"BoxPlot (n=10)"}),i=new H({legendPlacement:ct.Outside});t.legends.push(i);const s=new zo({title:"BoxPlotSeries",boxWidth:.3}),n=new bt(31);for(let o=0;o<10;o++){const a=o,l=5+n.next(15),h=[];for(let T=0;T<l;T++)h.push(n.next(0,20));h.sort();const m=qn(h),c=h.reduce((T,P)=>T+P,0)/h.length,g=h.length%2,f=qn(h.slice(0,(h.length+g)/2)),y=qn(h.slice((h.length-g)/2)),S=(y-f)*1.5;let C=y+S;C=Wt(h.filter(T=>T<=C));let v=f-S;v=Pt(h.filter(T=>T>=v));const R=[C+n.next(1,10),v-n.next(1,10)];s.items.push({x:a,lowerWhisker:v,boxBottom:f,median:m,boxTop:y,upperWhisker:C,mean:c,outliers:R})}return t.series.push(s),t.axes.push(new w({position:x.Left})),t.axes.push(new w({position:x.Bottom,minimumPadding:.1,maximumPadding:.1})),t}function qn(e){const t=[...e].sort((s,n)=>s-n),i=t.length;return i%2===1?t[(i-1)/2]:.5*t[i/2]+.5*t[i/2-1]}function e2(){const e=js(),t=e.series[0];return t.showMedianAsDot=!0,t.outlierType=N.Cross,t.fill=p.Black,t.showBox=!1,t.whiskerWidth=0,e}function i2(){const e=js(),t=e.series[0];return t.lineStyle=k.Dash,e}function s2(){const e=js(),t=e.series[0];return t.outlierType=N.Cross,e}function n2(){const e=js(),t=e.series[0];return t.outlierType=N.Custom,t.outlierOutline=[A(-1,-1),A(1,1),A(-1,1),A(1,-1)],e}function o2(){const e=new b,t=new zo({title:"Results",stroke:p.Black,strokeThickness:1,outlierSize:2,boxWidth:.4,items:[]});t.items.push({x:0,lowerWhisker:740,boxBottom:850,median:945,boxTop:980,upperWhisker:1070,outliers:[650]}),t.items.push({x:1,lowerWhisker:750,boxBottom:805,median:845,boxTop:890,upperWhisker:970,outliers:[]}),t.items.push({x:2,lowerWhisker:845,boxBottom:847,median:855,boxTop:880,upperWhisker:910,outliers:[640,950,970]}),t.items.push({x:3,lowerWhisker:720,boxBottom:760,median:820,boxTop:870,upperWhisker:910,outliers:[]}),t.items.push({x:4,lowerWhisker:730,boxBottom:805,median:807,boxTop:870,upperWhisker:950,outliers:[]}),e.series.push(t),e.annotations.push(new Dt({type:de.Horizontal,lineStyle:k.Solid,y:792.458,text:"true speed"}));const i=new K({title:"Experiment No."});return i.labels.push("1","2","3","4","5"),e.axes.push(i),e.axes.push(new w({position:x.Left,title:"Speed of light (km/s minus 299,000)",majorStep:100,minorStep:100})),e}function a2(){const e=Xe(),t=new b,i=Lt.toDouble(new Date(2013,5,4));t.axes.push(new Lt({position:x.Bottom,minimum:i-.9,maximum:i+1.9,intervalType:at.Days,majorStep:1,minorStep:1,stringFormatter:n=>e.format(n,"YYYY-MM-DD")}));const s=new zo({trackerStringFormatter:n=>`X: ${e.format(n.xValue,"YYYY-MM-DD")}
Upper Whisker: ${n.upperWhisker.toFixed(2)}
Third Quartil: ${n.boxTop.toFixed(2)}
Median: ${n.median.toFixed(2)}
First Quartil: ${n.boxBottom.toFixed(2)}
Lower Whisker: ${n.lowerWhisker.toFixed(2)}
Mean: ${n.mean.toFixed(2)}`,items:[]});return s.items.push({x:i,lowerWhisker:10,boxBottom:14,median:16,boxTop:20,upperWhisker:22,mean:17,outliers:[23.5]}),s.items.push({x:i+1,lowerWhisker:11,boxBottom:13,median:14,boxTop:15,upperWhisker:18,outliers:[23.4]}),t.series.push(s),t}const r2="BoxPlotSeries",l2={category:r2,tags:["Series"],examples:[{title:"BoxPlot",example:{model:js}},{title:"BoxPlot (minimal data/ink ratio)",example:{model:e2}},{title:"BoxPlot (dashed line)",example:{model:i2}},{title:"Outlier type = Cross",example:{model:s2}},{title:"Outlier type = Custom",example:{model:n2}},{title:"Michelson-Morley experiment",example:{model:o2}},{title:"BoxPlot (DateTime axis)",example:{model:a2}}]},Qe=(e,t)=>3*(1-e)*(1-e)*Math.exp(-(e*e)-(t+1)*(t+1))-10*(e/5-e*e*e-t*t*t*t*t)*Math.exp(-e*e-t*t)-1/3*Math.exp(-(e+1)*(e+1)-t*t),h2=(e,t)=>e*e/(t*t+1)+t*t/(e*e+1),Kt=(e,t,i)=>qt.createVectorWithStep(e,t,i);function m2(){const e=new b({title:"Peaks"}),t=new De({columnCoordinates:Kt(-3,3,.05),rowCoordinates:Kt(-3.1,3.1,.05)});return t.data=qt.evaluate(Qe,t.columnCoordinates,t.rowCoordinates),e.subtitle=`${t.data.length}×${t.data[0].length}`,e.series.push(t),e}function u2(){const e=new b({title:"Peaks LabelStep = 1, ContourLevelStep = PI/2"}),t=new De({columnCoordinates:Kt(-3,3,.05),rowCoordinates:Kt(-3.1,3.1,.05),contourLevelStep:Math.PI/2,labelStep:1});return t.data=qt.evaluate(Qe,t.columnCoordinates,t.rowCoordinates),e.subtitle=`${t.data.length}×${t.data[0].length}`,e.series.push(t),e}function c2(){const e=new b({title:"Peaks LabelStep = 2, ContourLevelStep = 0.5"}),t=new De({columnCoordinates:Kt(-3,3,.05),rowCoordinates:Kt(-3.1,3.1,.05),contourLevelStep:.5,labelStep:2});return t.data=qt.evaluate(Qe,t.columnCoordinates,t.rowCoordinates),e.subtitle=`${t.data.length}×${t.data[0].length}`,e.series.push(t),e}function d2(){const e=new b({title:"Peaks LabelStep = 2, ContourLevelStep = 0.33"}),t=new De({columnCoordinates:Kt(-3,3,.05),rowCoordinates:Kt(-3.1,3.1,.05),contourLevelStep:.33,labelStep:2});return t.data=qt.evaluate(Qe,t.columnCoordinates,t.rowCoordinates),e.subtitle=`${t.data.length}×${t.data[0].length}`,e.series.push(t),e}function p2(){const e=new b({title:"Peaks LabelStep = 3, ContourLevelStep = 1"}),t=new De({columnCoordinates:Kt(-3,3,.05),rowCoordinates:Kt(-3.1,3.1,.05),labelStep:3});return t.data=qt.evaluate(Qe,t.columnCoordinates,t.rowCoordinates),e.subtitle=`${t.data.length}×${t.data[0].length}`,e.series.push(t),e}function g2(){const e=new b({title:"Peaks MultiLabel"}),t=new De({columnCoordinates:Kt(-3,3,.05),rowCoordinates:Kt(-3.1,3.1,.05),multiLabel:!0});return t.data=qt.evaluate(Qe,t.columnCoordinates,t.rowCoordinates),e.subtitle=`${t.data.length}×${t.data[0].length}`,e.series.push(t),e}function x2(){const e=new b({title:"Peaks LabelSpacing = 400"}),t=new De({columnCoordinates:Kt(-3,3,.05),rowCoordinates:Kt(-3.1,3.1,.05),multiLabel:!0,labelSpacing:400});return t.data=qt.evaluate(Qe,t.columnCoordinates,t.rowCoordinates),e.subtitle=`${t.data.length}×${t.data[0].length}`,e.series.push(t),e}function f2(){const e=new b({title:"Peaks"}),t=new De({columnCoordinates:Kt(-3,3,.05),rowCoordinates:Kt(-3.1,3.1,.05),contourColors:[p.SeaGreen,p.RoyalBlue,p.IndianRed]});return t.data=qt.evaluate(Qe,t.columnCoordinates,t.rowCoordinates),e.subtitle=`${t.data.length}×${t.data[0].length}`,e.series.push(t),e}function w2(){const e=new b({title:"Peaks"});e.axes.push(new w({position:x.Left,minimum:-3.16262,maximum:3.162}));const t=new De({columnCoordinates:Kt(-3,3,.05),rowCoordinates:Kt(-1,1,.05)});return t.data=qt.evaluate(Qe,t.columnCoordinates,t.rowCoordinates),e.subtitle=`${t.data.length}×${t.data[0].length}`,e.series.push(t),e}function y2(){const e=new b,t=new De({columnCoordinates:Kt(-3,3,.05),rowCoordinates:Kt(-3,3,.05)});return t.data=qt.evaluate(h2,t.columnCoordinates,t.rowCoordinates),e.series.push(t),e}function b2(){const e=(n,o)=>Qe(Math.log(n)/10,Math.log(o)/10),t=new b,i=Kt(-3,3,.05);for(let n=0;n<i.length;n++)i[n]=Math.exp(i[n]*10);const s=new De({columnCoordinates:i,rowCoordinates:i});return s.data=qt.evaluate(e,s.columnCoordinates,s.rowCoordinates),t.series.push(s),t.axes.push(new wt({position:x.Bottom})),t.axes.push(new wt({position:x.Left})),t}const M2="ContourSeries",S2={category:M2,tags:["Series"],examples:[{title:"Peaks",example:{model:m2}},{title:"Peaks LabelStep = 1, ContourLevelStep = PI/2",example:{model:u2}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.5",example:{model:c2}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.33",example:{model:d2}},{title:"Peaks LabelStep = 3, ContourLevelStep = 1",example:{model:p2}},{title:"Peaks MultiLabel",example:{model:g2}},{title:"Peaks LabelSpacing = 400",example:{model:x2}},{title:"Peaks (different contour colors)",example:{model:f2}},{title:"Peaks (wide array)",example:{model:w2}},{title:"Open Contours",example:{model:y2}},{title:"Logarithmic Peaks",example:{model:b2}}]};function Xr(){const e=new b({title:"ErrorBarSeries"}),t=new H({legendPlacement:ct.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,legendBorderThickness:0});e.legends.push(t);const i=new xo({title:"Series 1",isStacked:!1,strokeColor:p.Black,strokeThickness:1});i.items.push(new wi({value:25,error:2})),i.items.push(new wi({value:137,error:25})),i.items.push(new wi({value:18,error:4})),i.items.push(new wi({value:40,error:29}));const s=new xo({title:"Series 2",isStacked:!1,strokeColor:p.Black,strokeThickness:1});s.items.push(new wi({value:35,error:20})),s.items.push(new wi({value:17,error:7})),s.items.push(new wi({value:118,error:44})),s.items.push(new wi({value:49,error:29}));const n=new K({position:x.Left});n.labels.push("Category A"),n.labels.push("Category B"),n.labels.push("Category C"),n.labels.push("Category D");const o=new w({position:x.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return e.series.push(i),e.series.push(s),e.axes.push(n),e.axes.push(o),e}function k2(){const e=Xr();for(const t of e.series)t instanceof xo&&(t.errorWidth=0,t.errorStrokeThickness=4);return e}const A2="ErrorBarSeries",R2={category:A2,tags:["Series"],examples:[{title:"ErrorBarSeries",example:{model:Xr}},{title:"ErrorBarSeries (thick error lines)",example:{model:k2}}]};function T2(){const e=new b({title:"Line Fit"}),t=new Ft({title:"Data"});t.points.push({x:3,y:1.4}),t.points.push({x:4,y:1.3}),t.points.push({x:5,y:1.6}),t.points.push({x:6,y:2.3}),t.points.push({x:7,y:2.2}),t.points.push({x:8,y:2.5}),t.points.push({x:9,y:2.9}),t.points.push({x:10,y:3.1}),t.points.push({x:11,y:3.1}),t.points.push({x:12,y:3.8}),e.series.push(t);const{slope:i,intercept:s}=Kr(t.points),n=new us({title:"Fit",color:p.Black,lineStyle:k.Solid,extrapolationColor:p.DarkGray,extrapolationLineStyle:k.Dash,strokeThickness:3,ignoreExtraplotationForScaling:!0});n.intervals.push(new we(Number.NEGATIVE_INFINITY,Pt(t.points.map(l=>l.x)))),n.intervals.push(new we(Wt(t.points.map(l=>l.x)),Number.POSITIVE_INFINITY));const o=Array.from({length:200},(l,h)=>h-100).map(l=>d(l,i*l+s));n.points.push(...o),e.series.push(n);const a=new H({legendPosition:z.BottomRight});return e.legends.push(a),e}function qr(){const e=new b({title:"Interpolation"}),t=new us({title:"Third Order Polynomial",color:p.Black,lineStyle:k.Dash,extrapolationColor:p.Gray,extrapolationLineStyle:k.Dot,strokeThickness:3});t.intervals.push(new we(Number.NEGATIVE_INFINITY,-15)),t.intervals.push(new we(10,30)),t.intervals.push(new we(55,Number.POSITIVE_INFINITY));const i=[.1,-6,-12,0],s=(a,l)=>l.reduce((h,m)=>h*a+m,0),n=Array.from({length:100},(a,l)=>l-30).map(a=>d(a,s(a,i)));t.points.push(...n),e.series.push(t);const o=new H({legendPosition:z.TopCenter});return e.legends.push(o),e}function C2(){return ce.reverseYAxis(qr())}function v2(){const e=new b({title:"Intersecting Intervals"}),t=new we(-20,20),i=new we(0,30),s=new we(10,40),n=new us({title:`Overlapping intervals ${t}, ${i}, ${s}`,color:p.Black,lineStyle:k.Solid,extrapolationColor:p.Gray,extrapolationLineStyle:k.Dot,strokeThickness:3});n.intervals.push(t,i,s);const o=[.1,-6,-12,0],a=(m,c)=>c.reduce((g,f)=>g*m+f,0),l=Array.from({length:100},(m,c)=>c-30).map(m=>d(m,a(m,o)));n.points.push(...l),e.series.push(n);const h=new H({legendPosition:z.TopCenter});return e.legends.push(h),e}function P2(){const e=new b({title:"Custom Dashes"}),t=new us({title:"y = 5",color:p.Black,lineStyle:k.Dash,dashes:[5,1],extrapolationColor:p.Gray,extrapolationLineStyle:k.Dot,extrapolationDashes:[1,5],strokeThickness:3});t.intervals.push(new we(Number.NEGATIVE_INFINITY,0));const i=Array.from({length:200},(n,o)=>o-100).map(n=>d(n,5));t.points.push(...i),e.series.push(t);const s=new H({legendPosition:z.TopCenter});return e.legends.push(s),e}function L2(){const e=new b({title:"ManyIntervals"}),t=new us({title:"y = x",color:p.Red,lineStyle:k.Solid,extrapolationLineStyle:k.Solid,strokeThickness:3,ignoreExtraplotationForScaling:!0});t.intervals.push(new we(-1e3,1e4)),Array.from({length:98},(o,a)=>new we(1e3*a,1e3*a+500)).forEach(o=>t.intervals.push(o)),t.intervals.push(new we(2e5,Number.POSITIVE_INFINITY));const s=Array.from({length:1e5},(o,a)=>d(a,a));t.points.push(...s),e.series.push(t);const n=new H({legendPosition:z.TopCenter});return e.legends.push(n),e}function I2(){const e=new b({title:"Moore's Law"}),t=new Ft({title:"Data"});t.points.push(...N2()),e.series.push(t),e.axes.push(new w({title:"Year",position:x.Bottom})),e.axes.push(new wt({title:"Transistors (in thousands)",position:x.Left}));const{slope:i,intercept:s}=Kr(t.points.map(l=>({x:l.x,y:Math.log10(l.y)}))),n=new us({title:"Fit and Extrapolation",color:p.Black,lineStyle:k.Solid,extrapolationColor:p.Blue,extrapolationLineStyle:k.Dot,strokeThickness:3});n.intervals.push(new we(2015,Number.POSITIVE_INFINITY));const o=Array.from({length:55},(l,h)=>h+1970).map(l=>d(l,Math.pow(10,i*l+s)));n.points.push(...o),e.series.push(n);const a=new H({legendPosition:z.TopCenter});return e.legends.push(a),e}function Kr(e){if(e===void 0)throw new Error("points is undefined");if(e.length<2)throw new Error("at least two points required");const t=e.reduce((l,h)=>l+h.x,0)/e.length,i=e.reduce((l,h)=>l+h.y,0)/e.length,s=B2(e,t,i),n=D2(e.map(l=>l.x)),o=s/n,a=i-o*t;return{slope:o,intercept:a}}function B2(e,t,i){let s=e.reduce((n,o)=>n+o.x*o.y,0);return s-=e.length*t*i,s/=e.length-1,s}function D2(e){const t=e.reduce((s,n)=>s+n,0)/e.length;let i=e.reduce((s,n)=>s+n*n,0);return i-=e.length*t*t,i/=e.length-1,i}function N2(){return[{x:1971.875,y:2.30824152676},{x:1972.30769231,y:3.55452235561},{x:1974.32692308,y:6.09756235221},{x:1979.56730769,y:29.1637757405},{x:1982.30769231,y:135.772714211},{x:1985.91346154,y:273.841963426},{x:1986.25,y:109.411381058},{x:1988.65384615,y:121.881418484},{x:1989.47115385,y:1207.90074743},{x:1990.57692308,y:1207.90074743},{x:1992.40384615,y:1207.90074743},{x:1992.69230769,y:3105.90022362},{x:1992.69230769,y:1113.97385999},{x:1993.02884615,y:1715.43789634},{x:1993.41346154,y:3105.90022362},{x:1993.41346154,y:922.239565104},{x:1994.71153846,y:1910.95297497},{x:1994.71153846,y:2788.12666541},{x:1995.43269231,y:9646.61619911},{x:1995.72115385,y:3105.90022362},{x:1996.15384615,y:5473.70326288},{x:1996.34615385,y:6792.52507006},{x:1996.34615385,y:3651.74127255},{x:1996.44230769,y:4293.51021008},{x:1996.82692308,y:9646.61619911},{x:1997.35576923,y:5473.70326288},{x:1997.45192308,y:3554.52235561},{x:1997.54807692,y:8896.4911282},{x:1997.64423077,y:7566.6953714},{x:1998.89423077,y:15261.3780258},{x:1999.13461538,y:9389.79801048},{x:1999.18269231,y:6978.3058486},{x:1999.47115385,y:9389.79801048},{x:1999.47115385,y:21673.9216957},{x:2000.19230769,y:22266.7201035},{x:2000.67307692,y:28387.3596476},{x:2000.67307692,y:37180.2666391},{x:2001.10576923,y:29163.7757405},{x:2001.20192308,y:42550.6550247},{x:2001.68269231,y:25482.9674798},{x:2001.82692308,y:37180.2666391},{x:2002.40384615,y:55730.6040127},{x:2002.78846154,y:38197.1754928},{x:2002.88461538,y:220673.406908},{x:2003.41346154,y:151247.254531},{x:2003.50961538,y:54246.9093701},{x:2003.65384615,y:106498.563535},{x:2004.80769231,y:125214.968907},{x:2004.80769231,y:106498.563535},{x:2004.80769231,y:273841.963426},{x:2005.72115385,y:232909.659246},{x:2005.81730769,y:112403.866377},{x:2005.96153846,y:305052.789027},{x:2006.05769231,y:115478.198469},{x:2006.875,y:378551.524926},{x:2006.875,y:155383.983127},{x:2006.92307692,y:245824.406892},{x:2006.97115385,y:296931.48482},{x:2006.97115385,y:582941.534714},{x:2007.06730769,y:151247.254531},{x:2007.64423077,y:582941.534714},{x:2007.74038462,y:232909.659246},{x:2007.78846154,y:805842.187761},{x:2007.83653846,y:115478.198469},{x:2007.98076923,y:509367.521678},{x:2008.22115385,y:445079.406236},{x:2008.46153846,y:410469.838044},{x:2009.18269231,y:457252.669897},{x:2009.27884615,y:784388.558145},{x:2009.66346154,y:230824152676e-5},{x:2009.71153846,y:191095297497e-5},{x:2010.19230769,y:410469.838044},{x:2010.38461538,y:13097472643e-4},{x:2011.16,y:117e4},{x:2011.32,y:26e5},{x:2011.9,y:12e5},{x:2012.4,y:24e5},{x:2012.41,y:23e5},{x:2012.7,y:21e5},{x:2012.9,y:12e5},{x:2013.4,y:5e6},{x:2013.8,y:43e5},{x:2014.16,y:43e5},{x:2014.5,y:42e5},{x:2014.8,y:26e5},{x:2014.81,y:38e5},{x:2014.82,y:57e5}]}const F2="ExtrapolationLineSeries",V2={category:F2,tags:["Series"],examples:[{title:"Line Fit (Ignore Extrapolation For Scaling)",example:{model:T2}},{title:"Interpolation",example:{model:qr}},{title:"Interpolation (Y Axis reversed)",example:{model:C2}},{title:"Intersecting Intervals",example:{model:v2}},{title:"Custom Dashes",example:{model:P2}},{title:"Many Intervals",example:{model:L2}},{title:"Moore's Law",example:{model:I2}}]};function E2(){return e3(25)}function _2(){return fs(e=>2*Math.cos(2*e)*Math.cos(e),e=>2*Math.cos(2*e)*Math.sin(e),0,Math.PI*2,1e3,"Parametric function","Using the CartesianAxes property","2cos(2t)cos(t) , 2cos(2t)sin(t)")}function O2(){return fs(e=>3*Math.sin(5*e),e=>3*Math.cos(3*e),0,Math.PI*2,1e3,"Parametric function",void 0,"3sin(5t) , 3cos(3t)")}function z2(){return fs(e=>2*Math.cos(e)+Math.cos(8*e),e=>2*Math.sin(e)+Math.sin(8*e),0,Math.PI*2,1e3,"Parametric function",void 0,"2cos(t)+cos(8t) , 2sin(t)+sin(8t)")}function G2(){return fs(t=>1*Math.sqrt(2)*Math.cos(t)/(Math.sin(t)*Math.sin(t)+1),t=>1*Math.sqrt(2)*Math.cos(t)*Math.sin(t)/(Math.sin(t)*Math.sin(t)+1),0,Math.PI*2,1e3,"Lemniscate of Bernoulli")}function $2(){return fs(e=>Math.cos(e),e=>Math.sin(2*e)/2,0,Math.PI*2,1e3,"Lemniscate of Gerono")}function j2(){const i=Math.PI/2;return fs(s=>Math.sin(3*s+i),s=>Math.sin(2*s),0,Math.PI*2,1e3,"Lissajous figure",void 0,"a=3, b=2, δ = π/2")}function U2(){const e=new b({title:"Rose curve",plotType:rt.Polar,plotAreaBorderThickness:new X(0)});e.axes.push(new ae({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:k.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π"})),e.axes.push(new Se({majorGridlineStyle:k.Solid}));const t=4,i=3,s=i/t;return e.series.push(new Q({fx:n=>Math.sin(s*n),fy:n=>n,t0:0,t1:Math.PI*2*t,n:1e3,title:`d=${t}, n=${i}`})),e}function H2(){const e=new b({title:"Limaçon of Pascal",plotType:rt.Cartesian});for(let t=4;t<=4;t++)for(let i=0;i<=10;i++)e.series.push(new Q({fx:s=>t/2+i*Math.cos(s)+t/2*Math.cos(2*s),fy:s=>i*Math.sin(s)+t/2*Math.sin(2*s),t0:0,t1:Math.PI*2,n:1e3,title:`a=${t}, b=${i}`}));return e}function W2(){const e=new b({title:"Folium of Descartes",plotType:rt.Cartesian});e.axes.push(new w({position:x.Left,minimum:-3,maximum:3})),e.axes.push(new w({position:x.Bottom,minimum:-3,maximum:3}));const t=1;return e.series.push(new Q({fx:i=>3*t*i/(Math.pow(i,3)+1),fy:i=>3*t*Math.pow(i,2)/(Math.pow(i,3)+1),t0:-30,t1:30,n:1001,title:`a=${t}`})),e}function Y2(){const e=new b({title:"Trisectrix of Maclaurin",plotType:rt.Cartesian}),t=1;return e.series.push(new Q({fx:i=>t*(i*i-3)/(i*i+1),fy:i=>t*i*(i*i-3)/(i*i+1),t0:-5,t1:5,n:1e3})),e}function X2(){const e=new b({title:"Fermat's spiral",plotType:rt.Cartesian}),t=1;return e.series.push(new Q({fx:i=>t*Math.sqrt(i)*Math.cos(i),fy:i=>t*Math.sqrt(i)*Math.sin(i),t0:0,t1:20,n:1e3})),e.series.push(new Q({fx:i=>-t*Math.sqrt(i)*Math.cos(i),fy:i=>-t*Math.sqrt(i)*Math.sin(i),t0:0,t1:20,n:1e3})),e}function q2(){const e=new b({title:"Fish curve",plotType:rt.Cartesian});for(let t=.1;t<1;t+=.1)e.series.push(new Q({fx:i=>t*(Math.cos(i)-Math.sin(i)*Math.sin(i)/Math.sqrt(2)),fy:i=>t*Math.cos(i)*Math.sin(i),t0:0,t1:2*Math.PI,n:1e3}));return e}function K2(){const e=new b({title:"Heaviside step function",plotType:rt.Cartesian});return e.series.push(new Q({f:t=>Math.abs(t)<1e-8?NaN:t<0?0:1,x0:-2,x1:2,dx:.001})),e.annotations.push(new Dt({type:de.Vertical,color:e.defaultColors[0],x:0,minimumY:0,maximumY:1})),e}function Z2(){const e=new b({title:"Trigonometric functions",subtitle:"Example using the FunctionSeries",plotType:rt.Cartesian,plotAreaBackground:p.White});return e.series.push(new Q({f:Math.sin,x0:-10,x1:10,dx:.1,title:"sin(x)"})),e.series.push(new Q({f:Math.cos,x0:-10,x1:10,dx:.1,title:"cos(x)"})),e.series.push(new Q({fx:t=>5*Math.cos(t),fy:t=>5*Math.sin(t),t0:0,t1:2*Math.PI,n:1e3,title:"cos(t),sin(t)"})),e}function J2(){const e=new b({title:"Squirqle",plotType:rt.Cartesian});return e.series.push(gn(4,1,1)),e}function Q2(){const e=new b({title:"Superellipse",plotType:rt.Cartesian}),t=gn(20,1,1);return t.markerType=N.Circle,e.series.push(t),e}function t3(){const e=new b({title:"Lamé curves",plotType:rt.Cartesian}),t=new H({legendPlacement:ct.Outside});e.legends.push(t);for(let i=.25;i<2;i+=.25)e.series.push(gn(i,1,1));for(let i=2;i<=8+1e-6;i+=1)e.series.push(gn(i,1,1));return e}function e3(e=25){const t=new b({title:"Square wave (Gibbs phenomenon)"}),i=n=>{let o=0;for(let a=0;a<e;a++){const l=a*2+1;o+=Math.sin(l*n)/l}return o},s=new Q({f:i,x0:-10,x1:10,dx:1e-4,title:`sin(x)+sin(3x)/3+sin(5x)/5+...+sin(${2*e-1})/${2*e-1}`});return t.series.push(s),t.subtitle=`n = ${s.points.length}`,t.axes.push(new w({position:x.Left,minimum:-4,maximum:4})),t.axes.push(new w({position:x.Bottom})),t}function gn(e,t,i){return new Q({fx:s=>t*Math.sign(Math.cos(s))*Math.pow(Math.abs(Math.cos(s)),2/e),fy:s=>i*Math.sign(Math.sin(s))*Math.pow(Math.abs(Math.sin(s)),2/e),t0:0,t1:Math.PI*2,n:101,title:`n=${e}, a=${t}, b=${i}`})}function fs(e,t,i,s,n,o,a,l){const h=new b({title:o,subtitle:a,plotType:rt.Cartesian});return h.series.push(new Q({fx:e,fy:t,t0:i,t1:s,n,title:l})),h}const i3="FunctionSeries",s3={category:i3,tags:["Series"],examples:[{title:"Square wave",example:{model:E2}},{title:"Parametric function 1",example:{model:_2}},{title:"Parametric function 2",example:{model:O2}},{title:"Parametric function 3",example:{model:z2}},{title:"Lemniscate of Bernoulli",example:{model:G2}},{title:"Lemniscate of Gerono",example:{model:$2}},{title:"Lissajous figure",example:{model:j2}},{title:"Rose curve",example:{model:U2}},{title:"Limaçon of Pascal",example:{model:H2}},{title:"Folium of Descartes",example:{model:W2}},{title:"Trisectrix of Maclaurin",example:{model:Y2}},{title:"Fermat's spiral",example:{model:X2}},{title:"Fish curve",example:{model:q2}},{title:"Heaviside step function",example:{model:K2}},{title:"FunctionSeries",example:{model:Z2}},{title:"Squirqle",example:{model:J2}},{title:"Superellipse n=20",example:{model:Q2}},{title:"Lamé curves",example:{model:t3}}]};function n3(){return ta()}function o3(){return ta(!0)}function a3(){return ta(!0,1,1e4,.1)}function Zr(){const e=new b({title:"Label Placement"}),t=new Ye({labelPlacement:lt.Base,labelStringFormatter:o=>"Base",strokeThickness:1,labelMargin:5}),i=new Ye({labelPlacement:lt.Inside,labelStringFormatter:o=>"Inside",strokeThickness:1,labelMargin:5}),s=new Ye({labelPlacement:lt.Middle,labelStringFormatter:o=>"Middle",strokeThickness:1,labelMargin:5}),n=new Ye({labelPlacement:lt.Outside,labelStringFormatter:o=>"Outside",strokeThickness:1,labelMargin:5});return t.items.push(new Ce(1,2,4,4)),t.items.push(new Ce(2,3,-4,4)),i.items.push(new Ce(3,4,2,2)),i.items.push(new Ce(4,5,-2,2)),s.items.push(new Ce(5,6,3,3)),s.items.push(new Ce(6,7,-3,3)),n.items.push(new Ce(7,8,1,1)),n.items.push(new Ce(8,9,-1,-1)),e.series.push(t),e.series.push(i),e.series.push(s),e.series.push(n),e}function r3(){const e=Zr();return ce.reverseYAxis(e),e}function l3(){const e=Jr(),t=e.series[0];return t.labelStringFormatter=i=>`Start: ${i.rangeStart.toFixed(2)}
End: ${i.rangeEnd.toFixed(2)}
Value: ${i.value.toFixed(2)}
Area: ${i.area.toFixed(2)}
Count: ${i.count}`,t.labelPlacement=lt.Inside,e}function h3(){return p3()}function m3(){return Jr()}function u3(){return g3()}function c3(){return x3()}function d3(){const e=new b({title:"Custom Item Mapping"}),t=new Ye({mapping:i=>i,trackerStringFormatter:i=>i.item.description});return t.items.push(new tn(1,2,4,4,"Item 1")),t.items.push(new tn(2,3,-4,4,"Item 2")),t.items.push(new tn(3,4,2,2,"Item 3")),t.items.push(new tn(4,5,-2,2,"Item 4")),e.series.push(t),e}class tn extends Ce{constructor(t,i,s,n,o){super(t,i,s,n),this.description=o}}function ta(e=!1,t=1,i=1e4,s=0){const n=new b({title:e?"Exponential Distribution (logarithmic)":"Exponential Distribution",subtitle:`Uniformly distributed bins (${i} samples)`});n.axes.push(e?new wt({position:x.Left,title:"Frequency"}):new w({position:x.Left,title:"Frequency"})),n.axes.push(new w({position:x.Bottom,title:"x"}));const o=new bt(1),a=new Ye,l=new Rn(ki.CountOutliers,cs.InclusiveLowerBound,Oi.ExcludeExtremeValues),h=gi.createUniformBins(0,5,15);return a.items.push(...gi.collect(Qr(o,t,i),h,l)),a.strokeThickness=1,a.baseValue=s,a.negativeFillColor=p.Red,n.series.push(a),n}function p3(e=1,t=5e4){const i=new b({title:"Exponential Distribution",subtitle:`Custom bins (${t} samples)`});i.axes.push(new w({position:x.Left,title:"Frequency"})),i.axes.push(new w({position:x.Bottom,title:"x"}));const s=new bt(1),n=new Ye,o=new Rn(ki.CountOutliers,cs.InclusiveLowerBound,Oi.ExcludeExtremeValues);return n.items.push(...gi.collect(Qr(s,e,t),[0,.1,.2,.3,.4,.5,.75,1,2,3,4,5],o)),n.strokeThickness=1,n.fillColor=p.Purple,i.series.push(n),i}function g3(e=0,t=1,i=1e6){const s=new b({title:`Normal Distribution (μ=${e}, σ=${t})`,subtitle:`95% of the distribution (${i} samples)`});s.axes.push(new w({position:x.Left,title:"Frequency"})),s.axes.push(new w({position:x.Bottom,title:"x"}));const n=new bt(1),o=new Ye,a=new Rn(ki.CountOutliers,cs.InclusiveLowerBound,Oi.ExcludeExtremeValues),l=gi.createUniformBins(-t*4,t*4,100);o.items.push(...gi.collect(w3(n,e,t,i),l,a)),o.strokeThickness=1;const h=e+1.96*t,m=e-1.96*t,c=p.DarkRed,g=p.DarkRed;return o.colorMapping=f=>f.rangeCenter>h?c:f.rangeCenter<m?g:o.actualFillColor,s.series.push(o),s}function Jr(){const e=new b({title:"Disconnected Bins"});e.axes.push(new w({position:x.Left,title:"Representation"})),e.axes.push(new w({position:x.Bottom,title:"x"}));const t=new Ye;return t.items.push(new Ce(0,.5,10,7),new Ce(.75,1,10,7)),t.labelStringFormatter=i=>i.value.toFixed(2),t.labelPlacement=lt.Middle,e.series.push(t),e}function x3(e=1,t=1e4){const i=new b({title:"Individual Bin Colors",subtitle:"Minimum is Red, Maximum is Green"});i.axes.push(new w({position:x.Left,title:"Frequency"})),i.axes.push(new w({position:x.Bottom,title:"Observation"}));const s=new bt(1),n=new Ye({fillColor:p.Gray,renderInLegend:!0,title:"Measurements"}),o=new Rn(ki.CountOutliers,cs.InclusiveLowerBound,Oi.ExcludeExtremeValues),a=gi.createUniformBins(0,10,20),l=gi.collect(b3(s,0,10,1e3),a,o).sort((h,m)=>h.count-m.count);return l[0].color=p.Red,l[l.length-1].color=p.Green,n.items.push(...l),n.strokeThickness=1,i.series.push(n),i}function Qr(e,t,i){const s=[];for(let n=0;n<i;n++)s.push(f3(e,t));return s}function f3(e,t){return Math.log(1-e.next())/-t}function w3(e,t,i,s){const n=[];for(let o=0;o<s;o++)n.push(y3(e,t,i));return n}function y3(e,t,i){const s=1-e.next(),n=e.next();return Math.sqrt(-2*Math.log(s))*Math.cos(2*Math.PI*n)*i+t}function b3(e,t,i,s){const n=[];for(let o=0;o<s;o++)n.push(e.next()*(i-t)+t);return n}const M3="HistogramSeries",S3={category:M3,tags:["Series"],examples:[{title:"Exponential Distribution",example:{model:n3}},{title:"Exponential Distribution (logarithmic)",example:{model:o3}},{title:"Exponential Distribution (logarithmic,with BaseValue)",example:{model:a3}},{title:"Label Placement",example:{model:Zr}},{title:"Label Placement (reversed Y Axis)",example:{model:r3}},{title:"Label formatter",example:{model:l3}},{title:"Custom Bins",example:{model:h3}},{title:"Disconnected Bins",example:{model:m3}},{title:"Normal Distribution Three Colors",example:{model:u3}},{title:"Individual Bin Colors",example:{model:c3}},{title:"Custom Item Mapping",example:{model:d3}}]};function k3(){const e=new b({title:"IntervalBarSeries"}),t=new H({legendPlacement:ct.Outside});e.legends.push(t);const i=new He({title:"IntervalBarSeries 1"});i.items.push(new Bt({start:6,end:8})),i.items.push(new Bt({start:4,end:8})),i.items.push(new Bt({start:5,end:11})),i.items.push(new Bt({start:4,end:12})),e.series.push(i);const s=new He({title:"IntervalBarSeries 2"});s.items.push(new Bt({start:8,end:9})),s.items.push(new Bt({start:8,end:10})),s.items.push(new Bt({start:11,end:12})),s.items.push(new Bt({start:12,end:12.5})),e.series.push(s);const n=new K({position:x.Left});n.labels.push("Activity A"),n.labels.push("Activity B"),n.labels.push("Activity C"),n.labels.push("Activity D");const o=new w({position:x.Bottom,minimumPadding:.1,maximumPadding:.1});return e.axes.push(n),e.axes.push(o),e}function A3(){const e=new b({title:"IntervalBarSeries"}),t=new H({legendPlacement:ct.Outside});e.legends.push(t);const i=new He({title:"IntervalBarSeries 1",labelPlacement:lt.Outside});i.items.push(new Bt({start:6,end:8,categoryIndex:0})),i.items.push(new Bt({start:10,end:12,categoryIndex:0})),e.series.push(i);const s=new He({title:"IntervalBarSeries 2",labelPlacement:lt.Inside});s.items.push(new Bt({start:4,end:8,categoryIndex:1})),s.items.push(new Bt({start:10,end:12,categoryIndex:1})),e.series.push(s);const n=new He({title:"IntervalBarSeries 3",labelPlacement:lt.Middle});n.items.push(new Bt({start:5,end:11,categoryIndex:2})),n.items.push(new Bt({start:13,end:17,categoryIndex:2})),e.series.push(n);const o=new He({title:"IntervalBarSeries 4",labelPlacement:lt.Base,textColor:p.White});o.items.push(new Bt({start:4,end:12,categoryIndex:3})),o.items.push(new Bt({start:13,end:17,categoryIndex:3})),e.series.push(o);const a=new He({title:"IntervalBarSeries 5",labelPlacement:lt.Outside,labelAngle:-45});a.items.push(new Bt({start:6,end:8,categoryIndex:4})),a.items.push(new Bt({start:10,end:12,categoryIndex:4})),e.series.push(a);const l=new He({title:"IntervalBarSeries 6",labelPlacement:lt.Inside,labelAngle:-45});l.items.push(new Bt({start:4,end:8,categoryIndex:5})),l.items.push(new Bt({start:10,end:12,categoryIndex:5})),e.series.push(l);const h=new He({title:"IntervalBarSeries 7",labelPlacement:lt.Middle,labelAngle:-45});h.items.push(new Bt({start:5,end:11,categoryIndex:6})),h.items.push(new Bt({start:13,end:17,categoryIndex:6})),e.series.push(h);const m=new He({title:"IntervalBarSeries 8",labelPlacement:lt.Base,labelAngle:-45});m.items.push(new Bt({start:4,end:12,categoryIndex:7})),m.items.push(new Bt({start:13,end:17,categoryIndex:7})),e.series.push(m);const c=new K({key:"CategoryAxis",position:x.Left,startPosition:1,endPosition:0});c.labels.push("Label Outside"),c.labels.push("Label Inside"),c.labels.push("Label Middle"),c.labels.push("Label Base"),c.labels.push("Label Outside (angled)"),c.labels.push("Label Inside (angled)"),c.labels.push("Label Middle (angled)"),c.labels.push("Label Base (angled)");const g=new w({key:"ValueAxis",position:x.Bottom,minimumPadding:.1,maximumPadding:.1});return e.axes.push(c),e.axes.push(g),e}const R3="IntervalBarSeries",T3={category:R3,tags:["Series"],examples:[{title:"IntervalBarSeries",example:{model:k3}},{title:"IntervalBarSeries with various label types",example:{model:A3}}]};function C3(){const e=new b({title:"LinearBarSeries with default style"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const t=tl();return t.title="LinearBarSeries",e.series.push(t),e}function v3(){const e=new b({title:"LinearBarSeries with stroke"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const t=tl();return t.title="LinearBarSeries",t.fillColor=r.parse("#454CAF50"),t.strokeColor=r.parse("#4CAF50"),t.strokeThickness=1,e.series.push(t),e}function P3(){return Dn()}function L3(){return Dn(!0)}function I3(){return Dn(void 0,50)}function B3(){return Dn(!0,50)}function Dn(e=!1,t=0){const i=new b({title:e?"LinearBarSeries with stroke (logarithmic)":"LinearBarSeries with stroke"});i.axes.push(new w({position:x.Bottom})),i.axes.push(e?new wt({position:x.Left}):new w({position:x.Left}));const s=D3();return s.title="LinearBarSeries",s.fillColor=r.parse("#454CAF50"),s.strokeColor=r.parse("#4CAF50"),s.negativeFillColor=r.parse("#45BF360C"),s.negativeStrokeColor=r.parse("#BF360C"),s.strokeThickness=1,s.baseValue=t,i.series.push(s),i}function tl(){const e=new mr,t=new bt;let i=t.next(10,31);for(let s=0;s<=50;s++)e.points.push(d(s,i)),i+=t.next(-5,5);return e}function D3(){const e=new mr,t=new bt;for(let i=0;i<=50;i++){const s=-200+t.next(0,1e3);e.points.push(d(i,s))}return e}const N3="LinearBarSeries",F3={category:N3,tags:["Series"],examples:[{title:"Default style",example:{model:C3}},{title:"With stroke",example:{model:v3}},{title:"With negative colors",example:{model:P3}},{title:"With negative colors (logaritmic)",example:{model:L3}},{title:"With BaseValue",example:{model:I3}},{title:"With BaseValue (Logarithmic)",example:{model:B3}}]};function V3(){const e=new b({title:"LineSeries with default style"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const t=le();return t.title="LineSeries 1",e.series.push(t),e}function E3(){const e=new b({title:"LineSeries with custom style"}),t=new H({legendSymbolLength:24});e.legends.push(t),e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const i=le();return i.title="LineSeries 1",i.toolTip="This is a tooltip for a LineSeries 1",i.color=p.SkyBlue,i.strokeThickness=3,i.lineStyle=k.Dash,i.markerType=N.Circle,i.markerSize=5,i.markerStroke=p.White,i.markerFill=p.SkyBlue,i.markerStrokeThickness=1.5,e.series.push(i),e}function _3(){const e=new b({title:"Two LineSeries"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const t=le();t.title="LineSeries 1",e.series.push(t);const i=le(41);return i.title="LineSeries 2",e.series.push(i),e}function O3(){const e=new b({title:"LineSeries with IsVisible = false",subtitle:"Click to change the IsVisible property for LineSeries 2"});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left,minimum:0,maximum:50}));const t=le(38);t.title="LineSeries 1",e.series.push(t);const i=le(39);return i.title="LineSeries 2",i.isVisible=!1,e.series.push(i),e.mouseDown=(s,n)=>{i.isVisible=!i.isVisible,e.invalidatePlot(!0)},e}function z3(){const e=new b({title:"LineSeries with custom TrackerFormatString",subtitle:'TrackerFormatString = "X={2:0.0} Y={4:0.0}"'});e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left}));const t=le();return t.trackerStringFormatter=i=>"X="+i.xValue.toFixed(1)+" Y="+i.yValue.toFixed(1),e.series.push(t),e}function G3(){const e=new b({title:"LineSeries with custom markers"}),t=new H({legendSymbolLength:30});e.legends.push(t);const i=6,s=[];for(let o=0;o<i;o++){const a=Math.PI*(4*o/(i-1)-.5),l=1;s[o]=A(Math.cos(a)*l,Math.sin(a)*l)}const n=le(39);return n.title="LineSeries 1",n.markerType=N.Custom,n.markerSize=8,n.markerOutline=s,e.series.push(n),e}function $3(){const e=il("LineSeries with different MarkerType",N.Custom),t=new H({legendBackground:r.fromAColor(220,p.White),legendBorder:p.Black,legendBorderThickness:1});e.legends.push(t);let i=0;for(const s of e.series){const n=s;n.color=p.Red,n.markerStroke=p.Black,n.markerFill=p.Green,n.markerType=i++,n.title=N[n.markerType]}return e}function j3(){const e=new b({title:"LineSeries with labels",subtitle:"Use the 'labelFormatString' property"}),t=new H({legendSymbolLength:24});e.legends.push(t),e.axes.push(new w({position:x.Bottom})),e.axes.push(new w({position:x.Left,maximumPadding:.1}));const i=le();return i.labelStringFormatter=(s,n)=>n[1].toString(),i.markerType=N.Circle,e.series.push(i),e}function U3(){const e=il("LineSeries with LineStyle",k.None),t=new H({legendPlacement:ct.Outside,legendSymbolLength:50});e.legends.push(t);let i=0;for(const s of e.series){const n=s;n.color=p.Red,n.lineStyle=i++,n.title=k[n.lineStyle]}return e}function H3(){const e=new b({title:"LineSeries with interpolation",subtitle:"InterpolationAlgorithm = CanonicalSpline"}),t=new H({legendSymbolLength:24});e.legends.push(t);const i=le();return i.markerType=N.Circle,i.interpolationAlgorithm=Le.CanonicalSpline,e.series.push(i),e}function el(){const e=new b({title:"LineSeries with LineLegendPosition"});e.axes.push(new w({position:x.Bottom,minimumPadding:.05,maximumPadding:.05})),e.axes.push(new w({position:x.Left,minimumPadding:.05,maximumPadding:.05}));const t=le();t.title="Start",t.markerType=N.Circle,t.lineLegendPosition=as.Start,e.series.push(t);const i=le(41);return i.title="End",i.markerType=N.Circle,i.lineLegendPosition=as.End,e.series.push(i),e}function W3(){return ce.reverseXAxis(el())}function Y3(){const e=new b({title:"LineSeries with broken lines"}),t=le();t.points[3]=oe,t.points[7]=oe,t.brokenLineColor=p.Gray,t.brokenLineThickness=.5,t.brokenLineStyle=k.Solid,e.series.push(t);const i=le(49);return i.points[3]=oe,i.points[7]=oe,i.brokenLineColor=p.Automatic,i.brokenLineThickness=1,i.brokenLineStyle=k.Dot,e.series.push(i),e}function X3(){const e=new b({title:"LineSeries without Decimator"}),t=sl();return e.series.push(t),e}function q3(){const e=new b({title:"LineSeries with X Decimator"}),t=sl();return t.decimator=dn.decimate,e.series.push(t),e}function K3(){const e=ea();return new b({title:"Canonical spline interpolation",series:[new G({itemsSource:e,title:"Default (0.5)",interpolationAlgorithm:Le.CanonicalSpline,markerType:N.Circle,markerFill:p.Black}),new G({itemsSource:e,title:"0.1",interpolationAlgorithm:new be(.1)}),new G({itemsSource:e,title:"1.0",interpolationAlgorithm:new be(1)})]})}function Z3(){const e=ea();return new b({title:"Catmull-Rom interpolation",series:[new G({itemsSource:e,title:"Standard",interpolationAlgorithm:Le.CatmullRomSpline,markerType:N.Circle,markerFill:p.Black}),new G({itemsSource:e,title:"Chordal",interpolationAlgorithm:Le.ChordalCatmullRomSpline}),new G({itemsSource:e,title:"Uniform",interpolationAlgorithm:Le.UniformCatmullRomSpline})]})}function J3(){ea();const e=new b({title:"Marker color options"}),t=le(1);t.markerType=N.Circle,e.series.push(t);const i=le(4);i.markerType=N.Square,i.color=p.LightBlue,e.series.push(i);const s=le(13);s.markerType=N.Square,s.markerFill=p.Black,e.series.push(s);const n=le(5);return n.markerType=N.Square,n.markerFill=p.OrangeRed,n.color=p.Orange,e.series.push(n),e}function ea(e=50){const t=new bt,i=[];for(let s=0;s<e;s++)s<5?i.push(d(s,0)):s<10?i.push(d(s,1)):s<12?i.push(d(s,0)):i.push(d(s,t.next()));return i}function le(e=13){const t=new G,i=new bt(e);let s=i.next(10,30);for(let n=0;n<=100;n+=10)t.points.push(d(n,s)),s+=i.next(-5,5);return t}function il(e,t=20){const i=new b({title:e});for(let s=1;s<=t;s++){const n=new G({title:"Series "+s});i.series.push(n);for(let o=0;o<2*Math.PI;o+=.1)n.points.push(d(o,Math.sin(o*s)/(s+1)+s))}return i}function sl(){const e=new G,t=2e4;for(let i=0;i<t;i++)e.points.push(d(i/t,Math.sin(i)));return e}const Q3="LineSeries",t5={category:Q3,tags:["Series"],examples:[{title:"Default style",example:{model:V3}},{title:"Custom style",example:{model:E3}},{title:"Two LineSeries",example:{model:_3}},{title:"Visibility",example:{model:O3}},{title:"Custom TrackerFormatString",example:{model:z3}},{title:"Custom markers",example:{model:G3}},{title:"Marker types",example:{model:$3}},{title:"Labels",example:{model:j3}},{title:"LineStyle",example:{model:U3}},{title:"Interpolation",example:{model:H3}},{title:"LineLegendPosition",example:{model:el}},{title:"LineLegendPosition (reversed X Axis)",example:{model:W3}},{title:"Broken lines",example:{model:Y3}},{title:"Without Decimator",example:{model:X3}},{title:"With X Decimator",example:{model:q3}},{title:"Canonical spline interpolation",example:{model:K3}},{title:"Catmull-Rom interpolation",example:{model:Z3}},{title:"Marker color options",example:{model:J3}}]};function e5(){return ia()}function i5(){const e=ia(),t=e.series[0];return t.insideLabelColor=p.White,e}function s5(){const e=ia(),t=e.series[0];return t.insideLabelColor=p.White,t.innerDiameter=.5,e}function ia(){const e=new b({title:"World population by continent"}),t=new Lh({strokeThickness:2,insideLabelPosition:.8,angleSpan:360,startAngle:0,innerDiameter:.5});return t.slices.push({label:"Africa",value:1030,isExploded:!0}),t.slices.push({label:"Americas",value:929,isExploded:!0}),t.slices.push({label:"Asia",value:4157}),t.slices.push({label:"Europe",value:739,isExploded:!0}),t.slices.push({label:"Oceania",value:35,isExploded:!0}),e.series.push(t),e}const n5="PieSeries",o5={category:n5,tags:["Series"],examples:[{title:"PieSeries",example:{model:e5}},{title:"PieSeries with inside label color",example:{model:i5}},{title:"Doughnut Chart",example:{model:s5}}]};function a5(){const e=new b({title:"Polygon Series",plotType:rt.Cartesian});e.axes.push(new Yt);const t=new Lr,i=[];for(let s=0;s<5;s++)t.items.push(vo(Po(d(s*5,0),2,3+s),s)),i.push(Po(d(s*5,5),2,3+s));return t.items.push(vo(i,10)),e.series.push(t),e}function r5(){const e=new b({title:"Hexagonal Grid"});e.axes.push(new Yt({position:x.Right}));const t=a=>Math.sin(a.x/5)+Math.sqrt(a.y),i=1,s=i*2-Math.cos(Math.PI/3)*i,n=Math.sin(Math.PI/3)*i*2,o=new Lr({stroke:p.Black,strokeThickness:1});for(let a=0;a<40;a++)for(let l=0;l<40;l++){const h=a%2===0?0:n/2,m=d(a*s,l*n+h);o.items.push(vo(Po(m,i,6),t(m)))}return e.series.push(o),e}function Po(e,t,i){const s=new Array(i);for(let n=0;n<s.length;n++){const o=Math.PI*2*n/s.length,a=Math.cos(o)*t,l=Math.sin(o)*t;s[n]=d(e.x+a,e.y+l)}return s}const l5="PolygonSeries",h5={category:l5,tags:["Series"],examples:[{title:"PolygonSeries",example:{model:a5}},{title:"Hexagonal Grid",example:{model:r5}}]};function m5(){const e=new b({title:"RectangleBarSeries"}),t=new H({legendPlacement:ct.Outside});e.legends.push(t);const i=new ka({title:"RectangleBarSeries 1"}),s=o=>(o.color||(o.color=p.Automatic),o);i.items.push(s({x0:2,x1:8,y0:1,y1:4})),i.items.push(s({x0:6,x1:12,y0:6,y1:7})),e.series.push(i);const n=new ka({title:"RectangleBarSeries 2"});return n.items.push(s({x0:2,x1:8,y0:-4,y1:-1})),n.items.push(s({x0:6,x1:12,y0:-7,y1:-6})),e.series.push(n),e}const u5="RectangleBarSeries",c5={category:u5,tags:["Series"],examples:[{title:"RectangleBarSeries",example:{model:m5}}]};function d5(){const t=new b({title:"RectangleSeries"});t.axes.push(new Yt({position:x.Right,palette:U.jet(100)}));const i=new Pr({labelFontSize:12});for(let s=9;s>=0;s--)i.items.push(new Go(-s*.5,s*.5,s*s,s*(s+3),s));return t.series.push(i),t}function p5(){const t=new b({title:"RectangleSeries"});t.axes.push(new Yt({position:x.Right,palette:U.jet(100)}));const i=[];for(let s=0;s<10;s++)i.push({x:s,value:s});return t.series.push(new Pr({itemsSource:i,mapping:s=>{const n=s;return new Go(n.x,n.x*2,n.x,n.x*2,n.value)}})),t}const g5="RectangleSeries",x5={category:g5,tags:["Series"],examples:[{title:"RectangleSeries",example:{model:d5}},{title:"RectangleSeries from ItemsSource and Mapping",example:{model:p5}}]};function f5(){return ow(1e3)}function w5(){return xi(32768,0)}function y5(){return xi(32768,2)}function b5(){return xi(32768,4)}function M5(){return xi(32768,6)}function S5(){return xi(32768,8)}function k5(){return xi(32768,10)}function A5(){const e=new b({title:"Two ScatterSeries (with and without values)",subtitle:"With values (squares), without values (triangles)"}),t=new Yt({position:x.Right,key:"ColorAxis",palette:U.jet(30),minimum:-1,maximum:1});return e.axes.push(t),e.series.push(xn(50,N.Triangle,!1,!1,void 0)),e.series.push(xn(50,N.Square,!1,!0,t)),e}function R5(){const e=new b({title:"ScatterSeries with LabelFormatString"}),t=xn(50,N.Square,!1,!1,void 0);return t.labelStringFormatter=(i,s)=>Gt(s[1],3).toString(),e.series.push(t),e}function xn(e,t,i,s,n){const o=new Ft({markerType:t,markerSize:6,colorAxisKey:n!==void 0?n.key:void 0}),a=new bt;for(let l=0;l<e;l++){let h;i&&(h=a.next()*5+5);let m;s&&(m=a.next()*2.2-1.1);const c={x:a.next()*2.2-1.1,y:a.next(),size:h,value:m};o.points.push(c)}return o}function T5(){return C5(1e3,8)}function C5(e,t){const i=new b({title:`ScatterSeries with random MarkerSize (n=${e})`,subtitle:`BinSize = ${t}`}),s=new Ft({title:"Series 1",markerStrokeThickness:0,binSize:t}),n=new bt;for(let o=0;o<e;o++)s.points.push({x:n.next(),y:n.next(),size:4+10*n.next()});return i.series.push(s),i}function v5(){const t=new b({title:"Random data (n=20)"}),i=new H({legendPosition:z.LeftTop});t.legends.push(i);const s=new Ft({title:"Measurements"}),n=new bt;let o=0,a=0;for(let m=0;m<20;m++){o+=2+n.next()*10,a+=1+n.next();const c={x:o,y:a};s.points.push(c)}t.series.push(s);const[l,h]=P5(s.points);return t.annotations.push(new Dt({slope:l,intercept:h,text:"Least squares fit"})),t}function P5(e){let t=0,i=0,s=0,n=0,o=0;for(const m of e)t+=m.x,i+=m.y,s+=m.x*m.y,n+=m.x*m.x,o++;const a=t*t-o*n,l=1/a*(t*i-o*s),h=1/a*(t*s-n*i);return[l,h]}function L5(){const e=new b({title:"Marker types"}),t=new bt;return e.series.push(Di(t,10,"Circle",N.Circle)),e.series.push(Di(t,10,"Cross",N.Cross)),e.series.push(Di(t,10,"Diamond",N.Diamond)),e.series.push(Di(t,10,"Plus",N.Plus)),e.series.push(Di(t,10,"Square",N.Square)),e.series.push(Di(t,10,"Star",N.Star)),e.series.push(Di(t,10,"Triangle",N.Triangle)),e}function I5(){const e=new b({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are added to the Points collection."}),t=new Ft;return t.points.push(...sa(1e3)),e.series.push(t),e}function B5(){const e=new b({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined in the ItemsSource property."});return e.series.push(new Ft({itemsSource:sa(1e3)})),e}function D5(){const e=new b({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by a mapping from the ItemsSource."});return e.series.push(new Ft({itemsSource:ol(1e3),mapping:t=>t})),e}function N5(){const e=new b({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by reflection from the ItemsSource."});return e.series.push(new Ft({itemsSource:ol(1e3),dataFieldX:"x",dataFieldY:"y"})),e}function F5(){return re(2500,U.rainbow(16),N.Square,x.Right,p.Undefined,p.Undefined)}function V5(){return re(2500,U.hue(30),N.Star,x.Right,p.Undefined,p.Undefined)}function E5(){return re(2500,U.hot(64),N.Triangle,x.Right,p.Undefined,p.Undefined)}function _5(){return re(2500,U.cool(32),N.Circle,x.Right,p.Undefined,p.Undefined)}function O5(){return re(2500,U.gray(32),N.Diamond,x.Right,p.Undefined,p.Undefined)}function z5(){return re(2500,U.jet(32),N.Plus,x.Right,p.Undefined,p.Undefined)}function G5(){return re(2500,U.hot(64),N.Square,x.Right,p.Magenta,p.Green)}function $5(){return re(2500,U.hot(64),N.Cross,x.Top,p.Magenta,p.Green)}function j5(){return re(31e3,U.hot(16),N.Square,x.Right,p.Undefined,p.Undefined)}function U5(){return re(2500,U.blueWhiteRed(3),N.Square,x.Right,p.Undefined,p.Undefined)}function H5(){return re(2500,U.blueWhiteRed(9),N.Square,x.Right,p.Undefined,p.Undefined)}function W5(){return re(2500,U.blueWhiteRed(256),N.Square,x.Right,p.Undefined,p.Undefined)}function Y5(){return re(2500,U.blackWhiteRed(9),N.Square,x.Right,p.Undefined,p.Undefined)}function X5(){return re(2500,U.blackWhiteRed(9),N.Square,x.Top,p.Undefined,p.Undefined)}function q5(){return re(2500,U.viridis(),N.Square,x.Right,p.Undefined,p.Undefined)}function K5(){return re(2500,U.plasma(),N.Square,x.Right,p.Undefined,p.Undefined)}function Z5(){return re(2500,U.magma(),N.Square,x.Right,p.Undefined,p.Undefined)}function J5(){return re(2500,U.inferno(),N.Square,x.Right,p.Undefined,p.Undefined)}function Q5(){return re(2500,U.cividis(),N.Square,x.Right,p.Undefined,p.Undefined)}function tw(){const e=xi(10,8);e.subtitle="Click to select a point",e.selectionColor=p.Red;const t=e.series[0];return t.selectionMode=ri.Single,t.selectItem(3),t.selectItem(5),t.mouseDown=(i,s)=>{const n=s.hitTestResult.index;t.selectItem(n),e.invalidatePlot(!1),s.handled=!0},e.mouseDown=(i,s)=>{t.clearSelection(),e.invalidatePlot(!1),s.handled=!0},e}function ew(){const e=xi(10,8);e.subtitle="Click to toggle point selection",e.selectionColor=p.Red;const t=e.series[0];return t.selectionMode=ri.Multiple,t.selectItem(3),t.selectItem(5),t.mouseDown=(i,s)=>{const n=s.hitTestResult.index;t.isItemSelected(n)?t.unselectItem(n):t.selectItem(n),e.invalidatePlot(!1),s.handled=!0},e.mouseDown=(i,s)=>{t.clearSelection(),e.invalidatePlot(!1),s.handled=!0},e}function iw(){return nl(!1)}function sw(){return nl(!0)}function nw(){const e=new b({title:"TrackerFormatString"}),t=new Ft({trackerStringFormatter:s=>s.item.sum.toString(),dataFieldX:"x",dataFieldY:"y"}),i=[new Kn(10,40),new Kn(40,20),new Kn(60,30)];return t.itemsSource=i,e.series.push(t),e}function nl(e){const t=xi(10,8);t.subtitle="Click to select all points",t.selectionColor=p.Red;const i=t.series[0];return i.selectionMode=ri.All,i.mouseDown=(s,n)=>{i.select(),t.invalidatePlot(!1),n.handled=!e},t.mouseDown=(s,n)=>{n.hitTestResult!==void 0&&e||(i.clearSelection(),t.invalidatePlot(!1),n.handled=!0)},t}class Kn{constructor(t,i){this.x=t,this.y=i}get sum(){return this.x+this.y}}function xi(e,t){const i=new b({title:`ScatterSeries (n=${e})`,subtitle:t>0?`BinSize = ${t}`:"No 'binning'"}),s=new Ft({title:"Series 1",markerType:N.Diamond,markerStrokeThickness:0,binSize:t}),n=new bt;for(let o=0;o<e;o++)s.points.push({x:n.next(),y:n.next()});return i.series.push(s),i}function re(e,t,i,s,n,o){const a=new b({title:`ScatterSeries (n=${e})`,background:p.LightGray}),l=new Yt({position:s,palette:t,minimum:-1,maximum:1,highColor:n,lowColor:o});return a.axes.push(l),a.series.push(xn(e,i,!1,!0,l)),a}function ow(e){const t=new b({title:`Correlated ScatterSeries (n=${e})`}),i=new Ft({title:"Series 1",markerType:N.Diamond,markerStrokeThickness:0}),s=new bt;for(let n=0;n<e;n++){const o=Pa(s),a=2*o*o+Pa(s);i.points.push({x:o,y:a})}return t.series.push(i),t}function Di(e,t,i,s){const n=new Ft({title:i,markerType:s,markerStroke:p.Black,markerStrokeThickness:1});for(let o=0;o<t;o++){const a=e.next()*10,l=e.next()*10,h={x:a,y:l};n.points.push(h)}return n}function Pa(e){const t=e.next(),i=e.next();return Math.sqrt(-2*Math.log(t))*Math.sin(2*Math.PI*i)}function ol(e){return sa(e).map(t=>d(t.x,t.y))}function sa(e){const t=new bt,i=[];for(let s=0;s<e;s++){const n=t.next()*10,o=t.next()*10,a={x:n,y:o};i.push(a)}return i}const aw="ScatterSeries",rw={category:aw,tags:["Series"],examples:[{title:"Correlated points",example:{model:f5}},{title:"Random points",example:{model:w5}},{title:"Random points (BinSize=2)",example:{model:y5}},{title:"Random points (BinSize=4)",example:{model:b5}},{title:"Random points (BinSize=6)",example:{model:M5}},{title:"Random points (BinSize=8)",example:{model:S5}},{title:"Random points (BinSize=10)",example:{model:k5}},{title:"Two ScatterSeries",example:{model:A5}},{title:"LabelFormatString",example:{model:R5}},{title:"Random points with random size",example:{model:T5}},{title:"Random points with least squares fit",example:{model:v5}},{title:"Marker types",example:{model:L5}},{title:"ScatterSeries.Points",example:{model:I5}},{title:"ScatterSeries.ItemsSource",example:{model:B5}},{title:"ScatterSeries.ItemsSource + Mapping",example:{model:D5}},{title:"ScatterSeries.ItemsSource + reflection",example:{model:N5}},{title:"ScatterSeries with ColorAxis Rainbow(16)",example:{model:F5}},{title:"ScatterSeries with ColorAxis Hue(30) Star",example:{model:V5}},{title:"ScatterSeries with ColorAxis Hot(64)",example:{model:E5}},{title:"ScatterSeries with ColorAxis Cool(32)",example:{model:_5}},{title:"ScatterSeries with ColorAxis Gray(32)",example:{model:O5}},{title:"ScatterSeries with ColorAxis Jet(32)",example:{model:z5}},{title:"ScatterSeries with ColorAxis Hot with extreme colors",example:{model:G5}},{title:"ScatterSeries with ColorAxis Hot (top legend)",example:{model:$5}},{title:"ScatterSeries with ColorAxis Hot(16) N=31000",example:{model:j5}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (3)",example:{model:U5}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (9)",example:{model:H5}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (256)",example:{model:W5}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9)",example:{model:Y5}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9) top legend",example:{model:X5}},{title:"ScatterSeries with ColorAxis Viridis",example:{model:q5}},{title:"ScatterSeries with ColorAxis Plasma",example:{model:K5}},{title:"ScatterSeries with ColorAxis Magma",example:{model:Z5}},{title:"ScatterSeries with ColorAxis Inferno",example:{model:J5}},{title:"ScatterSeries with ColorAxis Cividis",example:{model:Q5}},{title:"ScatterSeries with single-selected items",example:{model:tw}},{title:"ScatterSeries with multi-selected items",example:{model:ew}},{title:"ScatterSeries with SelectionMode.All (no tracker)",example:{model:iw}},{title:"ScatterSeries with SelectionMode.All (with tracker)",example:{model:sw}},{title:"TrackerFormatString",example:{model:nw}}]};function lw(){return Us(new Ie)}function hw(){return Us(new Ie({labelStringFormatter:(e,t)=>`${Gt(t[1],2)}`}))}function mw(){return Us(new Ie({color:p.SkyBlue,markerType:N.Circle,markerSize:6,markerStroke:p.White,markerFill:p.SkyBlue,markerStrokeThickness:1.5}))}function uw(){return Us(new Ie({strokeThickness:3,verticalStrokeThickness:.4,markerType:N.None}))}function cw(){return Us(new Ie({verticalLineStyle:k.Dash,markerType:N.None}))}function dw(){const e=new b({title:"StairStepSeries with invalid points",subtitle:"Horizontal lines do not continue"});return al(e,t=>oe),e}function pw(){const e=new b({title:"StairStepSeries with invalid Y",subtitle:"Horizontal lines continue until X of point with invalid Y"});return al(e,t=>d(t,NaN)),e}function gw(){const e=new b({title:"StairStepSeries with non-monotonic X",subtitle:"Lines form a boxed I-beam"}),t=new Ie({markerType:N.Circle,verticalLineStyle:k.Dash,verticalStrokeThickness:4,points:[d(1,1),d(3,1),d(2,3),d(1,3),d(3,3)]});e.series.push(t);const i=new Ie({markerType:N.Circle,verticalLineStyle:k.Dash,verticalStrokeThickness:4,points:[d(1,0),d(2,0),d(0,0),d(4,0),d(4,4)]});e.series.push(i);const s=new Ie({markerType:N.Circle,verticalLineStyle:k.Dash,verticalStrokeThickness:4,points:[d(3,4),d(2,4),d(4,4),d(0,4),d(0,0)]});return e.series.push(s),e}function Us(e){const t=new b({title:"StairStepSeries"}),i=new H({legendSymbolLength:24});t.legends.push(i),e.title="sin(x)";for(let s=0;s<Math.PI*2;s+=.5)e.points.push(d(s,Math.sin(s)));return t.series.push(e),t}function al(e,t){e.legends.push(new H({legendOrientation:At.Horizontal,legendPlacement:ct.Outside,legendPosition:z.BottomCenter}));const i=new Ie({title:"Invalid First Point",markerType:N.Circle,points:[t(0),d(1,3.5),d(2,4),d(3,4.5)]});e.series.push(i);const s=new Ie({title:"Invalid Second Point",markerType:N.Circle,points:[d(0,2),t(1),d(2,3),d(3,3.5)]});e.series.push(s);const n=new Ie({title:"Invalid Penultimate Point",markerType:N.Circle,points:[d(0,1),d(1,1.5),t(2),d(3,2.5)]});e.series.push(n);const o=new Ie({title:"Invalid Last Point",markerType:N.Circle,points:[d(0,0),d(1,.5),d(2,1),t(3)]});e.series.push(o)}const xw="StairStepSeries",fw={category:xw,tags:["Series"],examples:[{title:"StairStepSeries",example:{model:lw}},{title:"StairStepSeries with labels",example:{model:hw}},{title:"StairStepSeries with markers",example:{model:mw}},{title:"StairStepSeries with thin vertical lines",example:{model:uw}},{title:"StairStepSeries with dashed vertical lines",example:{model:cw}},{title:"StairStepSeries with invalid points",example:{model:dw}},{title:"StairStepSeries with invalid Y",example:{model:pw}},{title:"StairStepSeries with non-monotonic X",example:{model:gw}}]};function ww(){return yw(new vh({color:p.SkyBlue,markerType:N.Circle,markerSize:6,markerStroke:p.White,markerStrokeThickness:1.5}))}function yw(e){const t=new b({title:"StemSeries"}),i=new H({legendSymbolLength:24});t.legends.push(i),e.title="sin(x)";for(let s=0;s<Math.PI*2;s+=.1)e.points.push(d(s,Math.sin(s)));return t.series.push(e),t}const bw="StemSeries",Mw={category:bw,tags:["Series"],examples:[{title:"StemSeries",example:{model:ww}}]};function rl(){const e=new b({title:"ThreeColorLineSeries"}),t=new H({legendSymbolLength:24});e.legends.push(t);const i=new Bh({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:n=>`December ${Gt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`,markerSize:4,markerStroke:p.Black,markerStrokeThickness:1.5,markerType:N.Circle,interpolationAlgorithm:Le.CanonicalSpline,strokeThickness:3}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)i.points.push(d(n+1,s[n]));return e.series.push(i),e.axes.push(new w({position:x.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),e.axes.push(new w({position:x.Bottom,title:"Date"})),e}function Sw(){const e=rl();return ce.reverseYAxis(e),e}const kw="ThreeColorLineSeries",Aw={category:kw,tags:["Series"],examples:[{title:"Temperatures",example:{model:rl}},{title:"Temperatures (Y Axis reversed)",example:{model:Sw}}]};function Rw(){const e=new b({title:"Tornado diagram 1"}),t=new H({legendPlacement:ct.Outside});e.legends.push(t);const i=new $({title:"High",isStacked:!0,fillColor:r.fromRgb(216,82,85),baseValue:7,strokeColor:p.Black,strokeThickness:1});i.items.push(new L({value:1})),i.items.push(new L({value:1})),i.items.push(new L({value:4})),i.items.push(new L({value:5}));const s=new $({title:"Low",isStacked:!0,fillColor:r.fromRgb(84,138,209),baseValue:7,strokeColor:p.Black,strokeThickness:1});s.items.push(new L({value:-1})),s.items.push(new L({value:-3})),s.items.push(new L({value:-2})),s.items.push(new L({value:-3}));const n=new K({position:x.Left});n.labels.push("F/X rate"),n.labels.push("Inflation"),n.labels.push("Price"),n.labels.push("Conversion");const o=new w({position:x.Bottom,extraGridlines:[7]});return e.series.push(i),e.series.push(s),e.axes.push(n),e.axes.push(o),e}function Tw(){const e=new b({title:"Tornado diagram 2"}),t=new H({legendPlacement:ct.Outside});e.legends.push(t);const i=new ni({title:"TornadoBarSeries",baseValue:7});i.items.push(new ge({minimum:6,maximum:8})),i.items.push(new ge({minimum:4,maximum:8})),i.items.push(new ge({minimum:5,maximum:11})),i.items.push(new ge({minimum:4,maximum:12}));const s=new K({position:x.Left});s.labels.push("F/X rate"),s.labels.push("Inflation"),s.labels.push("Price"),s.labels.push("Conversion");const n=new w({position:x.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return e.series.push(i),e.axes.push(s),e.axes.push(n),e}function Cw(){const e=new b({title:"Tornado Diagram"}),t=new H({legendPlacement:ct.Outside});e.legends.push(t);const i=new ni({baseValue:7,labelPlacement:lt.Outside});i.items.push(new ge({minimum:6,maximum:8,categoryIndex:0}));const s=new ni({baseValue:7,labelPlacement:lt.Inside});s.items.push(new ge({minimum:4,maximum:8,categoryIndex:1}));const n=new ni({baseValue:7,labelPlacement:lt.Middle});n.items.push(new ge({minimum:5,maximum:11,categoryIndex:2}));const o=new ni({baseValue:7,labelPlacement:lt.Base});o.items.push(new ge({minimum:4,maximum:12,categoryIndex:3}));const a=new ni({baseValue:7,labelPlacement:lt.Outside,labelAngle:-45});a.items.push(new ge({minimum:6,maximum:8,categoryIndex:4}));const l=new ni({baseValue:7,labelPlacement:lt.Inside,labelAngle:-45});l.items.push(new ge({minimum:4,maximum:8,categoryIndex:5}));const h=new ni({baseValue:7,labelPlacement:lt.Middle,labelAngle:-45});h.items.push(new ge({minimum:5,maximum:11,categoryIndex:6}));const m=new ni({baseValue:7,labelPlacement:lt.Base,labelAngle:-45});m.items.push(new ge({minimum:4,maximum:12,categoryIndex:7}));const c=new K({position:x.Left,startPosition:1,endPosition:0});c.labels.push("Labels Outside"),c.labels.push("Labels Inside"),c.labels.push("Labels Middle"),c.labels.push("Labels Base"),c.labels.push("Labels Outside (angled)"),c.labels.push("Labels Inside (angled)"),c.labels.push("Labels Middle (angled)"),c.labels.push("Labels Base (angled)");const g=new w({position:x.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return e.series.push(i),e.series.push(s),e.series.push(n),e.series.push(o),e.series.push(a),e.series.push(l),e.series.push(h),e.series.push(m),e.axes.push(c),e.axes.push(g),e}const vw="TornadoBarSeries",Pw={category:vw,tags:["Series"],examples:[{title:"Tornado diagram 1",example:{model:Rw}},{title:"Tornado diagram 2",example:{model:Tw}},{title:"Tornado diagram with various label types",example:{model:Cw}}]};function Lw(){const e=new b({title:"TwoColorAreaSeries"}),t=new H({legendSymbolLength:24});e.legends.push(t);const i=new An({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:n=>`December ${Gt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`,color:p.Tomato,color2:p.LightBlue,markerFill:p.Tomato,markerFill2:p.LightBlue,strokeThickness:2,limit:-1,markerType:N.Circle,markerSize:3}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)i.points.push(d(n+1,s[n]));return e.series.push(i),e.axes.push(new w({position:x.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),e.axes.push(new w({position:x.Bottom,title:"Date"})),e}function Iw(){const e=new b({title:"TwoColorAreaSeries"}),t=new H({legendSymbolLength:24});e.legends.push(t);const i=new An({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:n=>`December ${Gt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`,color:p.Black,color2:p.Brown,markerFill:p.Red,fill:p.Tomato,fill2:p.LightBlue,markerFill2:p.Blue,markerStroke:p.Brown,markerStroke2:p.Black,strokeThickness:2,limit:0,markerType:N.Circle,markerSize:3}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)i.points.push(d(n+1,s[n]));return e.series.push(i),e.axes.push(new w({position:x.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),e.axes.push(new w({position:x.Bottom,title:"Date"})),e}function Bw(){const e=new b({title:"TwoColorAreaSeries"}),t=new H({legendSymbolLength:24});e.legends.push(t);const i=new An({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:n=>`December ${Gt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`,color:p.Black,color2:p.Brown,markerFill:p.Red,fill:p.Tomato,fill2:p.LightBlue,markerFill2:p.Blue,markerStroke:p.Brown,markerStroke2:p.Black,strokeThickness:1,limit:0,interpolationAlgorithm:Le.CanonicalSpline,markerType:N.Circle,markerSize:1}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)i.points.push(d(n+1,s[n]));return e.series.push(i),e.axes.push(new w({position:x.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),e.axes.push(new w({position:x.Bottom,title:"Date"})),e}function Dw(){const e=new b({title:"Two polygons"}),t=new H({legendSymbolLength:24});e.legends.push(t);const i=new An({color:p.Tomato,color2:p.LightBlue,markerFill:p.Tomato,markerFill2:p.LightBlue,strokeThickness:2,markerType:N.Circle,markerSize:3});return i.points.push(d(0,3),d(1,5),d(2,1),d(3,0),d(4,3)),i.points2.push(d(0,-3),d(1,-1),d(2,0),d(3,-6),d(4,-4)),e.series.push(i),e.axes.push(new w({position:x.Left})),e.axes.push(new w({position:x.Bottom})),e}const Nw="TwoColorAreaSeries",Fw={category:Nw,tags:["Series"],examples:[{title:"Temperatures",example:{model:Lw}},{title:"Temperatures ver2",example:{model:Iw}},{title:"Temperatures ver3",example:{model:Bw}},{title:"Two polygons",example:{model:Dw}}]};function ll(){const e=new b({title:"TwoColorLineSeries"}),t=new H({legendSymbolLength:24});e.legends.push(t);const i=new Dh({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:n=>`December ${Gt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`,color:p.Red,color2:p.LightBlue,strokeThickness:3,limit:0,interpolationAlgorithm:Le.CanonicalSpline,markerType:N.Circle,markerSize:4,markerStroke:p.Black,markerStrokeThickness:1.5}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)i.points.push(d(n+1,s[n]));return e.series.push(i),e.axes.push(new w({position:x.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),e.axes.push(new w({position:x.Bottom,title:"Date"})),e}function Vw(){const e=ll();return ce.reverseYAxis(e),e}const Ew="TwoColorLineSeries",_w={category:Ew,tags:["Series"],examples:[{title:"Temperatures",example:{model:ll}},{title:"Temperatures (Y Axis reversed)",example:{model:Vw}}]};function Ow(){const{model:e}=Nn(!0);return e}function zw(){const{model:e,series:t}=Nn(!0);return t.arrowVeeness=2,e}function Gw(){const{model:e,series:t}=Nn(!0);return t.arrowLabelPosition=.25,t.arrowStartPosition=.5,e}function $w(){const{model:e}=Nn(!1);return e}function jw(){const e=new b({title:"Peaks (Gradient)"}),t=new _o,i=qt.createVectorWithStep(-3,3,.25),s=qt.createVectorWithStep(-3.1,3.1,.25);return t.arrowVeeness=1,t.arrowStartPosition=.5,t.itemsSource=i.flatMap(n=>s.map(o=>({origin:d(n,o),direction:new Mn(Hw(n,o)/40,Ww(n,o)/40),value:NaN}))),e.series.push(t),e}function Uw(){const t=new b({title:"VectorSeries"}),i=new bt,s=100,n=100,o=50;t.axes.push(new Yt({position:x.Right,palette:U.cool(10),minimum:0,maximum:o})),t.axes.push(new w({position:x.Bottom,minimum:-o,maximum:s+o})),t.axes.push(new wt({position:x.Left,minimum:1,maximum:n+o}));const a=new _o({labelFontSize:12});for(let l=99;l>=0;l--){const h=i.next()*Math.PI*2,m=i.next()*o,c=d(i.next()*s,i.next()*n+1),g=new Mn(Math.cos(h)*m,Math.sin(h)*m);a.items.push({origin:c,direction:g,value:m})}return t.series.push(a),t}const Hw=(e,t)=>-10*((1/5-3*Math.pow(e,2))*Math.exp(-Math.pow(e,2)-Math.pow(t,2))-2*e*(e/5-Math.pow(e,3)-Math.pow(t,5))*Math.exp(-Math.pow(e,2)-Math.pow(t,2)))+.6666666666666666*(1+e)*Math.exp(-Math.pow(1+e,2)-Math.pow(t,2))+3*(-2*(1-e)*Math.exp(-Math.pow(e,2)-Math.pow(1+t,2))-2*e*Math.pow(1-e,2)*Math.exp(-Math.pow(e,2)-Math.pow(1+t,2))),Ww=(e,t)=>-10*(-5*Math.pow(t,4)*Math.exp(-Math.pow(e,2)-Math.pow(t,2))-2*t*(e/5-Math.pow(e,3)-Math.pow(t,5))*Math.exp(-Math.pow(e,2)-Math.pow(t,2)))+.6666666666666666*t*Math.exp(-Math.pow(1+e,2)-Math.pow(t,2))-6*Math.pow(1-e,2)*(1+t)*Math.exp(-Math.pow(e,2)-Math.pow(1+t,2));function Nn(e){const i=new b({title:"VectorSeries (Veeness = 2)"}),s=new bt,n=100,o=100,a=10;e&&i.axes.push(new Yt({position:x.Right,palette:new Ot(U.cool(10).colors.map(h=>r.fromAColor(100,h))),minimum:0,maximum:a})),i.axes.push(new w({position:x.Bottom,minimum:-a,maximum:n+a})),i.axes.push(new w({position:x.Left,minimum:-a,maximum:o+a}));const l=new _o({labelFontSize:12});for(let h=99;h>=0;h--){const m=s.next()*Math.PI*2,c=s.next()*a,g=d(s.next()*n,s.next()*o),f=new Mn(Math.cos(m)*c,Math.sin(m)*c);l.items.push({origin:g,direction:f,value:c})}return i.series.push(l),{model:i,series:l}}const Yw="VectorSeries",Xw={category:Yw,tags:["Series"],examples:[{title:"VectorSeries",example:{model:Ow}},{title:"VectorSeries (Veeness = 2)",example:{model:zw}},{title:"VectorSeries (Vector Origin and Label position)",example:{model:Gw}},{title:"VectorSeries (without ColorAxis)",example:{model:$w}},{title:"Vector Field",example:{model:jw}},{title:"VectorSeries on Log Axis",example:{model:Uw}}]},qw=[...Qx,mf,t2,l2,S2,R2,V2,s3,Bd,S3,T3,F3,t5,o5,h5,c5,x5,rw,fw,Mw,Aw,Pw,Fw,_w,Xw];function Kw(){const e=new b({title:"Q1 2003 Calls by Region",plotAreaBorderThickness:new X(0)}),t=new K({axislineStyle:k.Solid,tickStyle:it.None,key:"y"});t.labels.push("North","East","South","West"),e.axes.push(t),e.axes.push(new w({position:x.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:k.Solid,tickStyle:it.Outside,key:"x"}));const i=new $({fillColor:p.Black,xAxisKey:"x",yAxisKey:"y"});return i.items.push(new L({value:3e3})),i.items.push(new L({value:4500})),i.items.push(new L({value:2100})),i.items.push(new L({value:4800})),e.series.push(i),e}function Zw(){const e=new b({title:"2003 Sales",plotAreaBorderThickness:new X(0),isLegendVisible:!1}),t=[1e3,1010,1020,1010,1020,1030,1e3,500,1e3,900,900,1e3],i=[2250,2500,2750,2500,2750,3e3,2500,2750,3100,2800,3100,3500],s=new K({axislineStyle:k.Solid,tickStyle:it.None});s.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov"),e.axes.push(s),e.axes.push(new w({position:x.Left,minimum:0,maximum:4e3,majorStep:500,minorStep:500,axislineStyle:k.Solid,tickStyle:it.Outside}));const n=new G({color:p.Orange});for(let a=0;a<12;a++)n.points.push(d(a,t[a]));const o=new G({color:p.Gray});for(let a=0;a<12;a++)o.points.push(d(a,i[a]));return e.series.push(n),e.series.push(o),e}function Jw(){const e=new b({title:"Headcount",plotAreaBorderThickness:new X(0),plotMargins:new X(100,40,20,40)}),t=new Map([["Manufacturing",240],["Sales",160],["Engineering",50],["Operations",45],["Finance",40],["Info Systems",39],["Legal",25],["Marketing",10]]);return e.axes.push(new K({position:x.Left,itemsSource:Array.from(t),labelField:"0",tickStyle:it.None,axisTickToLabelDistance:10,startPosition:1,endPosition:0})),e.axes.push(new w({position:x.Bottom,minimum:0,maximum:250,majorStep:50,minorStep:50,axislineStyle:k.Solid,tickStyle:it.Outside,minimumPadding:0,maximumPadding:0})),e.series.push(new $({fillColor:p.Black,itemsSource:Array.from(t),valueField:"1"})),e}function Qw(){const e=new b({title:"Regional % of Total Expenses",plotAreaBorderThickness:new X(0)}),t=new K({tickStyle:it.None,gapWidth:0,key:"y"});t.labels.push(`West
34%`,`East
30%`,`North
20%`,`South
16%`),e.axes.push(t),e.axes.push(new w({position:x.Left,minimum:0,maximum:.35+Number.EPSILON,majorStep:.05,minorStep:.05,axislineStyle:k.Solid,tickStyle:it.Outside,stringFormatter:n=>`${Math.round(n*100)}%`,key:"x"}));const i=new $({barWidth:1,strokeColor:p.DarkGray,strokeThickness:1,fillColor:p.Black,xAxisKey:"x",yAxisKey:"y"}),s=[.34,.3,.2,.16];return i.items=s.map(n=>L.fromValue(n)),e.series.push(i),e}function t4(){const e=new b({title:"Actual to Plan Variance",plotAreaBorderThickness:new X(0)}),t=new Map([["Sales",7],["Marketing",-7],["Systems",-2],["HR",-17],["Finance",5]]);return e.axes.push(new K({itemsSource:Array.from(t),labelField:"0",tickStyle:it.None,key:"y"})),e.axes.push(new w({position:x.Left,minimum:-20,maximum:10,minorStep:5,majorStep:5,layer:Ei.AboveSeries,axislineStyle:k.Solid,extraGridlines:[0],extraGridlineColor:p.Black,extraGridlineThickness:3,tickStyle:it.Outside,stringFormatter:i=>(i>0?"+":i<0?"-":"")+Gt(Math.abs(i),0),key:"x"})),e.series.push(new $({fillColor:p.Orange,negativeFillColor:p.Gray,itemsSource:Array.from(t),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),e}function e4(){const e=new b({title:"Order Count by Order Size",plotAreaBorderThickness:new X(0),plotMargins:new X(60,4,4,60)}),t=new Map([[" <$10",5e3],[`>=$10
    &
 <$20`,1500],[`>=$20
    &
 <$30`,1e3],[`>=$40
    &
 <$40`,500],[">=$40",200]]);return e.axes.push(new K({axislineStyle:k.Solid,itemsSource:Array.from(t),labelField:"0",tickStyle:it.None,key:"y"})),e.axes.push(new w({position:x.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:k.Solid,tickStyle:it.Outside,stringFormatter:i=>(i>0?"+":i<0?"-":"")+Gt(Math.abs(i),0),key:"x"})),e.series.push(new $({fillColor:p.Orange,itemsSource:Array.from(t),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),e}function i4(){const e=new b({title:"Correlation of Employee Heights and Salaries",plotAreaBorderThickness:new X(0)}),t=[d(62,39e3),d(66,44e3),d(64,5e4),d(66,49500),d(67,52e3),d(68,5e4),d(66,56e3),d(67,56e3),d(72,56e3),d(68,58e3),d(69,62e3),d(71,63e3),d(65,64e3),d(68,71e3),d(72,72e3),d(74,69e3),d(74,79e3),d(77,81e3)];return e.axes.push(new w({position:x.Left,minimum:3e4,maximum:9e4,majorStep:1e4,minorStep:1e4,axislineStyle:k.Solid,tickStyle:it.Outside})),e.axes.push(new w({position:x.Bottom,minimum:60,maximum:80,majorStep:5,minorStep:5,axislineStyle:k.Solid,tickStyle:it.Outside})),e.series.push(new Ft({itemsSource:t,markerType:N.Circle,markerSize:3,markerFill:p.White,markerStroke:p.Black,dataFieldX:"x",dataFieldY:"y"})),e}const s4="Examples from the book 'Show Me the Numbers'",n4={category:s4,tags:["Showcase"],examples:[{title:"Q1 2003 Calls by Region",example:{model:Kw}},{title:"2003 Sales",example:{model:Zw}},{title:"Headcount",example:{model:Jw}},{title:"Regional % of Total Expenses",example:{model:Qw}},{title:"Actual to Plan Variance",example:{model:t4}},{title:"Order Count by Order Size",example:{model:e4}},{title:"Correlation of Employee Heights and Salaries",example:{model:i4}}]},o4=[zm,n4],a4=[...Vm,...Up,...R1,...h1,...ux,...Nx,...qw,...o4];let Vs=[];for(const e of a4){const t=Vs.find(i=>i.category===e.category);t?t.examples.push(...e.examples):Vs.push(e)}Vs=jl(Vs,[["category","ASC"]]);const La=Vs,r4="/oxyplot-js/assets/OxyPlot-4SQiqpWf.png";var l4=Object.defineProperty,h4=(e,t,i)=>t in e?l4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Tt=(e,t,i)=>(h4(e,typeof t!="symbol"?t+"":t,i),i);function is(e){return{position:fl(e.offsetX,e.offsetY),modifierKeys:c4(e),handled:!1}}function m4(e){const t=is(e);return t.clickCount=e.detail,t.changedButton=d4(e),t}function u4(e){const t=is(e);return t.delta=e.deltaY!=0?-e.deltaY:e.deltaX,t}function c4(e){let t=ys.None;return e.ctrlKey&&(t|=ys.Control),e.shiftKey&&(t|=ys.Shift),e.altKey&&(t|=ys.Alt),e.metaKey&&(t|=ys.Windows),t}function d4(e){return e.button===0?$i.Left:e.button===1?$i.Middle:e.button===2?$i.Right:e.button===3?$i.XButton1:e.button===4?$i.XButton2:$i.None}function hl(e){switch(e){case ws.Default:return"default";case ws.Pan:return"grab";case ws.ZoomRectangle:return"nwse-resize";case ws.ZoomHorizontal:return"ew-resize";case ws.ZoomVertical:return"ns-resize";default:return"default"}}function ml(e,t){e.addEventListener("contextmenu",function(i){i.preventDefault()}),e.addEventListener("resize",async()=>{t.invalidatePlot(!1)}),e.onmousedown=i=>{t.actualController.handleMouseDown(t,m4(i))},e.onmousemove=i=>{t.actualController.handleMouseMove(t,is(i))},e.onmouseup=i=>{t.actualController.handleMouseUp(t,is(i))},e.onmouseenter=i=>{t.actualController.handleMouseEnter(t,is(i))},e.onmouseleave=i=>{t.actualController.handleMouseLeave(t,is(i))},e.onwheel=i=>{t.actualController.handleMouseWheel(t,u4(i))}}let ks=null;function p4(){if(ks)return ks;const e=document.createElement("canvas");if(ks=e==null?void 0:e.getContext("2d"),!ks)throw new Error("Could not get canvas context");return ks}let Zn=null;const g4=(e,t,i)=>(Zn||(Zn=new Fn),Zn.convertFont(e,t,i||Is.Normal));function na(e){e=e||p4();function t(i,s,n,o){if(!e)throw new Error("Could not get canvas context");e.font=g4(s,n,o);const a=e.measureText(i);return new Fa(a.width,n)}return{measureText:t}}class Fn{convertLineJoin(t){switch(t=t||Ys.Miter,t){case Ys.Miter:return"miter";case Ys.Bevel:return"bevel";case Ys.Round:return"round"}}convertStrokeOrFillStyle(t){return t.toRgba()}convertFont(t,i,s){let n="";return(s||Is.Normal)>Is.Normal&&(n+="bold "),n+=`${i||12}px `,t&&(n+=`"${t}" `),n.trim()}}class x4{constructor(){Tt(this,"cache",new Map)}get(t){return this.cache.get(t)}set(t,i){this.cache.set(t,i)}clear(t){t?this.cache.delete(t):this.cache.clear()}}let f4=new x4;function ul(){return f4}class w4 extends Va{constructor(t){super(),Tt(this,"ctx"),Tt(this,"_textMeasurer"),Tt(this,"styleConverter",new Fn),Tt(this,"_ctxInitStyles"),Tt(this,"_renderContextImageCacheService"),this.canvas=t;const i=t.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.ctx=i,this._ctxInitStyles={fillStyle:i.fillStyle,strokeStyle:i.strokeStyle,lineJoin:i.lineJoin,lineWidth:i.lineWidth},this._renderContextImageCacheService=ul(),this._textMeasurer=na(i)}async drawImage(t,i,s,n,o,a,l,h,m,c,g){if(c<=0)return;this.resetStyles();const f=this.ctx,y=await this.getOrCreateImage(t,()=>{const M=new Blob([t.data],{type:"image/png"});return createImageBitmap(M)});f.imageSmoothingEnabled=g,f.drawImage(y,i,s,n,o,Xs(a,0),Xs(l,0),Xs(h,0),Xs(m,0))}async drawLineSegments(t,i,s,n,o,a){if(t.length<2||i.isInvisible()||s==0)return;this.resetStyles();const l=this.ctx;l.beginPath(),this.applyLineStyle(i,s,n,o,a);for(let h=0;h<t.length;h+=2){const m=t[h],c=t[h+1];this.drawPoints([m,c])}l.stroke()}async drawLine(t,i,s,n,o,a){if(t.length<2||i.isInvisible()||s==0)return;this.resetStyles();const l=this.ctx;l.beginPath(),this.applyLineStyle(i,s,n,o,a),this.drawPoints(t),l.stroke()}async drawPolygon(t,i,s,n,o,a,l){if(i.isInvisible()&&!(s.isVisible()||n<=0)||t.length<2)return;this.resetStyles();const h=this.ctx;h.beginPath(),this.applyPolygonStyle(i,s,n,o,a,l),this.drawPoints(t),h.closePath(),i.isVisible()&&h.fill(),s.isVisible()&&n>0&&h.stroke()}async drawPolygons(t,i,s,n,o,a,l){if(i.isInvisible()&&!(s.isVisible()||n<=0)||t.length===0)return;this.resetStyles();const h=this.ctx;this.applyPolygonStyle(i,s,n,o,a,l);for(const m of t)m.length<2||(h.beginPath(),this.drawPoints(m),h.closePath(),i.isVisible()&&h.fill(),s.isVisible()&&n>0&&h.stroke())}async drawText(t,i,s,n,o,a,l,h,m,c){if(!i||s.isInvisible())return;ln(h)&&(h=ss.Left),ln(m)&&(m=bi.Top),this.resetStyles();const g=this.ctx;o=o||12,a=a||Is.Normal,this.applyTextStyle(s,n,o,a),g.save(),g.translate(t.x,t.y),l&&g.rotate(l*(Math.PI/180));const f=Ea.splitLines(i),y=[];for(const C of f){const v=this.measureText(C,n,o,a);y.push(v)}const M=y.reduce((C,v)=>C+v.height,0);let S=0;g.textBaseline="middle",m===bi.Top?S=0:m===bi.Middle?S=-M/2:m===bi.Bottom&&(S=-M);for(let C=0;C<f.length;C++){const v=f[C];let R=0;const T=y[C];h===ss.Center?R=-T.width/2:h===ss.Right&&(R=-T.width),g.fillText(v,R,S+T.height/2,c==null?void 0:c.width),S+=T.height}g.restore()}measureText(t,i,s,n){return this._textMeasurer.measureText(t,i,s,n)}setClip(t){this.ctx.save();const i=new Path2D;i.rect(t.left,t.top,t.width,t.height),this.ctx.clip(i)}resetClip(){this.ctx.restore()}resetStyles(){const t=this.ctx;t.setLineDash([]),Object.assign(t,this._ctxInitStyles)}applyLineStyle(t,i,s,n,o){const a=this.ctx;n&&n.length>0&&a.setLineDash(n),a.lineWidth=i,a.lineJoin=this.styleConverter.convertLineJoin(o),a.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(t)}applyPolygonStyle(t,i,s,n,o,a){i.isVisible()&&s>0&&this.applyLineStyle(i,s,n,o,a),t.isVisible()&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(t))}applyTextStyle(t,i,s,n){const o=this.ctx;o.fillStyle=this.styleConverter.convertStrokeOrFillStyle(t),o.font=this.styleConverter.convertFont(i,s,n)}drawPoints(t){this.ctx.moveTo(t[0].x,t[0].y);for(let i=1;i<t.length;i++){const s=t[i];this.ctx.lineTo(s.x,s.y)}}async getOrCreateImage(t,i){const s=t.getHashCode().toString(),n=this._renderContextImageCacheService.get(s);if(n)return Promise.resolve(n);const o=await i();return this._renderContextImageCacheService.set(s,o),o}}class oa{constructor(){Tt(this,"controller"),Tt(this,"defaultController"),Tt(this,"_zoomRectangle"),Tt(this,"_model"),Tt(this,"_isModelInvalidated",!1),Tt(this,"_updateDataFlag",!1),Tt(this,"_rendering",!1)}get actualController(){return this.controller?this.controller:this.defaultController?this.defaultController:(this.defaultController=new xl,this.defaultController)}get actualModel(){return this._model}get model(){return this._model}set model(t){const i=this._model;this._model=t,this.onModelChanged(i,t)}onModelChanged(t,i){t&&t.attachPlotView(void 0),i&&i.attachPlotView(this),this.invalidatePlot(!0)}invalidatePlot(t){this._isModelInvalidated=!0,this._updateDataFlag=t||!1,this.render()}render(){const t=this._model;t&&(this._isModelInvalidated&&(t.update(this._updateDataFlag),this._isModelInvalidated=!1,this._updateDataFlag=!1),window.requestAnimationFrame(async()=>this.renderSync()))}setClipboardText(t){try{navigator.clipboard.writeText(t)}catch(i){console.error(i)}}setCursorType(t){}hideTracker(){}showTracker(t){}hideZoomRectangle(){this._zoomRectangle=void 0}showZoomRectangle(t){this._zoomRectangle=t}async renderSync(){if(this._model&&!this._rendering){this._rendering=!0;try{await this.renderOverride(this._model)}finally{this._rendering=!1}}}}class y4 extends oa{constructor(t){if(super(),Tt(this,"_view"),Tt(this,"_tooltip"),Tt(this,"_renderContext"),Tt(this,"_drawCtx"),Tt(this,"_styleConverter",new Fn),this._view=t,this._drawCtx=this._view.getContext("2d"),!this._drawCtx)throw new Error("Could not get 2d context");this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",document.body.appendChild(this._tooltip),this._renderContext=new w4(this._view),ml(this._view,this)}get tooltip(){return this._tooltip}get clientArea(){return new Mi(0,0,this._view.width,this._view.height)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(t){if(!(t!=null&&t.position))return;const i=t.toString()||"";if(i.trim().length===0)return;const s=this._view.offsetTop,n=this._view.offsetLeft;this._tooltip.innerText=i,this._tooltip.style.top=`${s+t.position.y}px`,this._tooltip.style.left=`${n+t.position.x}px`,this._tooltip.style.visibility="visible"}setCursorType(t){this._view.style.cursor=hl(t)}async renderOverride(t){this._drawCtx=this._view.getContext("2d");const i=this._view;if(this._drawCtx.reset(),t.background.isUndefined()||(this._drawCtx.fillStyle=this._styleConverter.convertStrokeOrFillStyle(t.background),this._drawCtx.fillRect(0,0,i.width,i.height)),await t.render(this._renderContext,new Mi(0,0,i.width,i.height)),this._zoomRectangle&&this._zoomRectangle.equals(Mi.Empty)){const s=Ia.parse("#40FFFF00"),n=Ba.Black;await this._renderContext.drawRectangle(this._zoomRectangle,s,n,1,Da.Automatic)}}}class b4 extends Va{constructor(t){super(),Tt(this,"_pdf"),Tt(this,"ctx"),Tt(this,"_textMeasurer"),Tt(this,"styleConverter",new Fn),Tt(this,"_ctxInitStyles"),this._pdf=new Na({unit:"px",orientation:t});const i=this._pdf.context2d;this.ctx=i,this._ctxInitStyles={fillStyle:i.fillStyle,strokeStyle:i.strokeStyle,lineJoin:i.lineJoin,lineWidth:i.lineWidth},this._textMeasurer=na()}getPdf(){return this._pdf}async drawImage(t,i,s,n,o,a,l,h,m,c,g){if(c<=0)return;const f=a-i/n*h,y=t.width/n*h,M=l-s/o*m,S=t.height/o*m;this.clearStyles(),this._pdf.addImage(t.data,"PNG",f,M,y,S)}async drawLineSegments(t,i,s,n,o,a){if(t.length<2||i.isInvisible()||s==0)return;this.clearStyles();const l=this.ctx;l.beginPath(),this.applyLineStyle(i,s,n,o,a);for(let h=0;h<t.length;h+=2){const m=t[h],c=t[h+1];this.drawPoints([m,c])}l.stroke()}async drawLine(t,i,s,n,o,a){if(t.length<2||i.isInvisible()||s==0)return;this.clearStyles();const l=this.ctx;l.beginPath(),this.applyLineStyle(i,s,n,o,a),this.drawPoints(t),l.stroke()}async drawPolygon(t,i,s,n,o,a,l){if(i.isInvisible()&&!(s.isVisible()||n<=0)||t.length<2)return;this.clearStyles();const h=this.ctx;if(i.a<255||s.a<255){this._pdf.saveGraphicsState();let m=1,c=1;i.a<255&&(m=i.a/255),s.a<255&&(c=s.a/255),this._pdf.setGState(this._pdf.GState({opacity:m,"stroke-opacity":c}))}h.beginPath(),this.applyPolygonStyle(i,s,n,o,a,l),this.drawPoints(t),h.closePath(),i.isVisible()&&h.fill(),s.isVisible()&&n>0&&h.stroke(),(i.a<255||s.a<255)&&this._pdf.restoreGraphicsState()}async drawPolygons(t,i,s,n,o,a,l){if(i.isInvisible()&&!(s.isVisible()||n<=0)||t.length===0)return;this.clearStyles();const h=this.ctx;this.applyPolygonStyle(i,s,n,o,a,l);for(const m of t)m.length<2||(h.beginPath(),this.drawPoints(m),h.closePath(),i.isVisible()&&h.fill(),s.isVisible()&&n>0&&h.stroke())}async drawText(t,i,s,n,o,a,l,h,m,c){if(!i||s.isInvisible())return;this.clearStyles(),ln(h)&&(h=ss.Left),ln(m)&&(m=bi.Top);const g=this.ctx;o=o||12,a=a||Is.Normal,this.applyTextStyle(s,n,o,a),g.save(),g.translate(t.x,t.y),l&&g.rotate(l*(Math.PI/180));const f=Ea.splitLines(i),y=[];for(const C of f){const v=this.measureText(C,n,o,a);y.push(v)}const M=y.reduce((C,v)=>C+v.height,0);let S=0;g.textBaseline="middle",m===bi.Top?S=0:m===bi.Middle?S=-M/2:m===bi.Bottom&&(S=-M);for(let C=0;C<f.length;C++){const v=f[C];let R=0;const T=y[C];h===ss.Center?R=-T.width/2:h===ss.Right&&(R=-T.width),g.fillText(v,R,S+T.height/2),S+=T.height}g.restore()}measureText(t,i,s,n){return this._textMeasurer.measureText(t,i,s,n)}setClip(t){this.ctx.save(),this.ctx.rect(t.left,t.top,t.width,t.height),this.ctx.clip()}resetClip(){this.ctx.restore()}applyLineStyle(t,i,s,n,o){const a=this.ctx;n&&n.length>0&&a.setLineDash(n),a.lineWidth=i,a.lineJoin=this.styleConverter.convertLineJoin(o),a.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(t)}clearStyles(){this.ctx.setLineDash([])}applyPolygonStyle(t,i,s,n,o,a){i.isVisible()&&s>0&&this.applyLineStyle(i,s,n,o,a),t.isVisible()&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(t))}applyTextStyle(t,i,s,n){const o=this.ctx;o.fillStyle=this.styleConverter.convertStrokeOrFillStyle(t),o.font=this.styleConverter.convertFont(i,s,n)}drawPoints(t){this.ctx.moveTo(t[0].x,t[0].y);for(let i=1;i<t.length;i++){const s=t[i];this.ctx.lineTo(s.x,s.y)}}}class M4 extends oa{constructor(t){super(),Tt(this,"_view"),Tt(this,"_orientation","portrait"),Tt(this,"_clientArea",Mi.Empty),this._view=t,this.calcClientArea()}get orientation(){return this._orientation}set orientation(t){t!==this._orientation&&(this._orientation=t,this.calcClientArea())}calcClientArea(){const t=new Na({unit:"px",orientation:this.orientation}),i=new Fa(t.internal.pageSize.width,t.internal.pageSize.height);t.close(),this._clientArea=Mi.fromScreenPointAndSize(pl,i)}get clientArea(){return this._clientArea}async renderOverride(t){const i=new b4(this.orientation);await t.render(i,this.clientArea);const s=i.getPdf();s.internal.pages.length>1&&s.deletePage(1);const n=s.output("dataurlstring",{filename:t.title+".pdf"});this._view.src="",this._view.src=n}}class S4 extends oa{constructor(t){super(),Tt(this,"_view"),Tt(this,"_tooltip"),Tt(this,"textMeasurer"),this._view=t,this.textMeasurer=na(),this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",document.body.appendChild(this._tooltip),ml(this._view,this)}get tooltip(){return this._tooltip}get clientArea(){return new Mi(0,0,this._view.clientWidth,this._view.clientHeight)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(t){if(!(t!=null&&t.position))return;const i=t.toString()||"";if(i.trim().length===0)return;const s=this._view.offsetTop,n=this._view.offsetLeft;this._tooltip.innerText=i,this._tooltip.style.top=`${s+t.position.y}px`,this._tooltip.style.left=`${n+t.position.x}px`,this._tooltip.style.visibility="visible"}setCursorType(t){this._view.style.cursor=hl(t)}async renderOverride(t){const i=this._view;this._view.innerHTML="";const s=new gl(i.clientWidth,i.clientHeight,!0,this.textMeasurer,t.background);if(t.background.isUndefined()||(this._view.style.backgroundColor=t.background.toString()),await t.render(s,new Mi(0,0,i.clientWidth,i.clientHeight)),this._zoomRectangle&&this._zoomRectangle.equals(Mi.Empty)){const n=Ia.parse("#40FFFF00"),o=Ba.Black;await s.drawRectangle(this._zoomRectangle,n,o,1,Da.Automatic)}s.complete(),this._view.innerHTML=s.getXml()}}const Hs=e=>(Fl("data-v-5aaa3e06"),e=e(),Vl(),e),k4={class:"flex py-4"},A4={class:"w-[300px]"},R4={class:"overflow-x-hidden overflow-y-auto mt-2",style:{"max-height":"calc(100vh - 100px)"}},T4=["onClick"],C4={class:"flex-grow ml-4"},v4={id:"canvasPlotView",class:"border border-gray-200 rounded-lg shadow",style:{width:"800px",height:"600px"}},P4={id:"svgPlotView",class:"border border-gray-200 rounded-lg shadow select-none",style:{width:"800px",height:"600px"}},L4={class:"flex justify-between mt-2"},I4={class:"flex items-center"},B4={class:"relative mt-1"},D4={class:"block truncate"},N4={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},F4=Hs(()=>Ct("span",{class:"ml-4 mr-2"},"landscape",-1)),V4=Hs(()=>Ct("span",{class:"ml-2"},"portrait",-1)),E4={key:0,class:"flex"},_4={key:0,class:"flex items-center"},O4=["disabled"],z4=Hs(()=>Ct("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkTransposed"},"Transposed",-1)),G4={key:1,class:"flex items-center ml-2"},$4=["disabled"],j4=Hs(()=>Ct("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkReversed"},"Reversed",-1)),U4=Hs(()=>Ct("a",{class:"fixed bottom-2 right-2",style:{"font-size":"2rem",color:"rgb(31, 35, 40)"},href:"https://github.com/iniceice88/oxyplot-js",target:"_blank","aria-label":"View GitHub Repo"},[Ct("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},[Ct("path",{fill:"currentColor",d:"M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 0 0 6.838 9.488c.5.087.687-.213.687-.476c0-.237-.013-1.024-.013-1.862c-2.512.463-3.162-.612-3.362-1.175c-.113-.288-.6-1.175-1.025-1.413c-.35-.187-.85-.65-.013-.662c.788-.013 1.35.725 1.538 1.025c.9 1.512 2.338 1.087 2.912.825c.088-.65.35-1.087.638-1.337c-2.225-.25-4.55-1.113-4.55-4.938c0-1.088.387-1.987 1.025-2.688c-.1-.25-.45-1.275.1-2.65c0 0 .837-.262 2.75 1.026a9.28 9.28 0 0 1 2.5-.338c.85 0 1.7.112 2.5.337c1.912-1.3 2.75-1.024 2.75-1.024c.55 1.375.2 2.4.1 2.65c.637.7 1.025 1.587 1.025 2.687c0 3.838-2.337 4.688-4.562 4.938c.362.312.675.912.675 1.85c0 1.337-.013 2.412-.013 2.75c0 .262.188.574.688.474A10.016 10.016 0 0 0 22 12c0-5.525-4.475-10-10-10z"})])],-1)),H4=wl({__name:"App",setup(e){window.oxyPlotImg=r4,Te.extend(yl),Te.extend(bl);const t=ti(null),i=ti(""),s=ti(!1),n=ti(!1),o=ti(!1),a=ti(!1),l=ti("canvas"),h=ti(["canvas","pdf","svg"]),m=ti(!1),c=Ml(()=>{if(!i.value)return La;const R=[],T=i.value.toLowerCase();function P(B,V){return(V.title||"").toLowerCase().includes(T)||(B.tags||[]).some(O=>O.toLowerCase().includes(T))}for(const B of La){const V=B.examples.filter(O=>P(B,O));V.length>0&&R.push({category:B.category,examples:V})}return R});ra([s,o,l],async()=>{if(!t.value)return;const R=await C(t.value);R&&await v(R)}),ra(m,()=>{});let g=null;function f(){if(g)return g;const R=document.getElementById("canvasPlotView"),T=R.clientWidth,P=R.clientHeight,B=window.devicePixelRatio||1;return R.width=T*B,R.height=P*B,R.style.width=T+"px",R.style.height=P+"px",g=R,g}let y={};function M(){if(l.value==="canvas"){const R="canvas";if(y[R])return y[R];const T=f(),P=new y4(T);return y[R]=P,P}if(l.value==="pdf"){const R=m.value?"pdf-portrait":"pdf-landscape";if(y[R])return y[R];const T=new M4(document.getElementById("pdfPlotView"));return T.orientation=m.value?"portrait":"landscape",y[R]=T,T}if(l.value==="svg"){const R="svg";let T=y[R];const P=document.getElementById("svgPlotView");return P.innerHTML="",T||(T=new S4(P),y[R]=T,T)}throw new Error(`Unknown renderer type: ${l.value}`)}async function S(R,T){if(ma(t.value)===T)return;const P=await C(T);P&&(t.value=T,n.value=ce.isTransposable(P.model),a.value=ce.isReversible(P.model),ul().clear(),await v(P))}async function C(R){let T=null;try{T=await R.example.model()}catch(B){return console.error(B),alert(B),null}if(!T)return null;s.value&&ce.isTransposable(T)&&ce.transpose(T),o.value&&ce.isReversible(T)&&ce.reverseAllAxes(T);let P;return R.example.controller&&(P=R.example.controller()),{model:T,controller:P}}async function v(R){const T=R.model;if(!T)return;const P=M();P.model=T,P.controller=R.controller}return(R,T)=>(Oe(),ei(bs,null,[Ct("div",k4,[Ct("div",A4,[ji(Ct("input",{type:"text","onUpdate:modelValue":T[0]||(T[0]=P=>i.value=P),placeholder:"Filter",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[Sl,i.value]]),Ct("div",R4,[(Oe(!0),ei(bs,null,Vn(c.value,P=>(Oe(),ha(Ue(Cl),{as:"div",class:"mt-2 mr-1",key:P.category},{default:si(({open:B})=>[ii(Ue(Rl),{class:"flex w-full justify-between rounded-lg bg-purple-100 px-4 py-2 text-left text-sm font-medium text-purple-900 hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500/75"},{default:si(()=>[Ct("span",null,Ms(P.category)+" ("+Ms(P.examples.length)+")",1),ii(Ue(Al),{class:Bi([B?"rotate-180 transform":"","h-5 w-5 text-purple-500"])},null,8,["class"])]),_:2},1024),ii(Ue(Tl),{class:"px-4 pb-2 text-sm text-gray-500"},{default:si(()=>[Ct("ul",null,[(Oe(!0),ei(bs,null,Vn(P.examples,V=>(Oe(),ei("li",{key:V.title,class:"my-2 cursor-pointer"},[Ct("div",{onClick:O=>S(P,V),class:Bi({"text-sky-500 font-bold":ma(t.value)===V})},Ms(V.title),11,T4)]))),128))])]),_:2},1024)]),_:2},1024))),128))])]),Ct("div",C4,[ji(Ct("iframe",{id:"pdfPlotView",class:Bi(["border border-gray-200 rounded-lg shadow",[m.value?"pdfplotview-portrait":"pdfplotview-landscape"]])},null,2),[[En,l.value==="pdf"]]),ji(Ct("canvas",v4,null,512),[[En,l.value==="canvas"]]),ji(Ct("div",P4,null,512),[[En,l.value==="svg"]]),Ct("div",L4,[Ct("div",I4,[kl(" Renderer: "),ii(Ue(Dl),{modelValue:l.value,"onUpdate:modelValue":T[1]||(T[1]=P=>l.value=P),class:"ml-2",style:{"min-width":"120px"}},{default:si(()=>[Ct("div",B4,[ii(Ue(vl),{class:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:si(()=>[Ct("span",D4,Ms(l.value),1),Ct("span",N4,[ii(Ue(Pl),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),ii(Ll,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:si(()=>[ii(Ue(Il),{class:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},{default:si(()=>[(Oe(!0),ei(bs,null,Vn(h.value,P=>(Oe(),ha(Ue(Bl),{key:P,value:P,as:"template"},{default:si(({active:B,selected:V})=>[Ct("li",{class:Bi([B?"bg-purple-100 text-purple-900":"text-gray-900","relative cursor-default select-none py-2 pl-10 pr-4"])},[Ct("span",{class:Bi([V?"font-medium":"font-normal","block truncate"])},Ms(P),3)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]),l.value==="pdf"?(Oe(),ei(bs,{key:0},[F4,ii(Ue(Nl),{modelValue:m.value,"onUpdate:modelValue":T[2]||(T[2]=P=>m.value=P),class:Bi([m.value?"bg-purple-600":"bg-gray-200","relative inline-flex h-6 w-11 items-center rounded-full"])},{default:si(()=>[Ct("span",{class:Bi([m.value?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition"])},null,2)]),_:1},8,["modelValue","class"]),V4],64)):qs("",!0)]),l.value==="canvas"||l.value==="svg"?(Oe(),ei("div",E4,[t.value?(Oe(),ei("div",_4,[ji(Ct("input",{"onUpdate:modelValue":T[3]||(T[3]=P=>s.value=P),type:"checkbox",disabled:!n.value,id:"chkTransposed",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,O4),[[la,s.value]]),z4])):qs("",!0),t.value?(Oe(),ei("div",G4,[ji(Ct("input",{"onUpdate:modelValue":T[4]||(T[4]=P=>o.value=P),disabled:!a.value,type:"checkbox",id:"chkReversed",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,$4),[[la,o.value]]),j4])):qs("",!0)])):qs("",!0)])])]),U4],64))}}),W4=(e,t)=>{const i=e.__vccOpts||e;for(const[s,n]of t)i[s]=n;return i},Y4=W4(H4,[["__scopeId","data-v-5aaa3e06"]]);El(Y4).mount("#app");
