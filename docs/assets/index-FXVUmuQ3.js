var cl=Object.defineProperty;var dl=(i,t,e)=>t in i?cl(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var nt=(i,t,e)=>(dl(i,typeof t!="symbol"?t+"":t,e),e);import{d as ve,I as Gs,x as pl,E as Ba,a as gl,b as xl,c as fl,r as si,e as wl,w as ra,o as yl,t as la,f as ni,g as Pt,h as ji,v as bl,F as fs,i as Pn,j as Ln,n as Di,k as Sl,l as oi,m as ai,u as He,p as Us,q as ha,s as $e,y as ma,z as ws,A as Ml,X as kl,Y as Al,V as Rl,N as Tl,B as Cl,T as vl,H as Pl,U as Ll,C as Il,D as Bl,G as Dl,J as Nl,K as Fl}from"./oxyplot-js-uDnM52f5.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function e(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=e(n);fetch(n.href,o)}})();var Vl=Object.defineProperty,El=(i,t,e)=>t in i?Vl(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,u=(i,t,e)=>(El(i,typeof t!="symbol"?t+"":t,e),e),hn=(i=>(i[i.Sunday=0]="Sunday",i[i.Monday=1]="Monday",i[i.Tuesday=2]="Tuesday",i[i.Wednesday=3]="Wednesday",i[i.Thursday=4]="Thursday",i[i.Friday=5]="Friday",i[i.Saturday=6]="Saturday",i))(hn||{});function _l(i,t){return Ol(i,e=>e[t])}function Ol(i,t){return i.reduce((e,s)=>{const n=t(s);let o=e.get(n);return o?o.push(s):(o=[s],e.set(n,o)),e},new Map)}function zl(i,t,e=0){for(let s=e;s<i.length;s++)if(t.includes(i[s]))return s;return-1}function $l(i,t){const e=(s,n,o,a)=>s[o]>n[o]?a.toUpperCase()=="DESC"?-1:1:s[o]<n[o]?a.toUpperCase()=="DESC"?1:-1:0;return[...i].sort((s,n)=>{for(const o of t){const a=e(s,n,o[0],o[1]);if(a!==0)return a}return 0})}function qe(i,t,e){const s=Array(i);for(let n=0;n<i;n++)s[n]=new Array(t),e!==void 0&&s[n].fill(e);return s}function js(i,t){const e=i.indexOf(t);return e>-1?(i.splice(e,1),!0):!1}function ua(i,t){let e=0;for(let s=i.length-1;s>=0;s--)t(i[s])&&(i.splice(s,1),e++);return e}function ui(i,t){for(let e=0;e<t.length;e++)i.push(t[e])}function ts(i){if(!i||i.length===0)return[];const t=[];return ui(t,i),t.reverse()}function Xt(i,...t){let e=0;return i.length>=1e5?e=i.reduce(function(s,n){return Math.max(s,n)}):e=Math.max.apply(null,i),!t||t.length===0?e:Math.max(e,...t)}function Lt(i,...t){let e=0;return i.length>=1e5?e=i.reduce(function(s,n){return Math.min(s,n)}):e=Math.min.apply(null,i),!t||t.length===0?e:Math.min(e,...t)}function Gl(i){const t=Array.from(i,e=>String.fromCharCode(e));return btoa(t.join(""))}function gi(i,t){return i[t]}function $i(i){return Object.keys(i).filter(t=>typeof i[t]!="number").map(t=>Number(t))}const Ul=new Date(9999,11,31,23,59,59,999),Ii=new Date(1,0,1,0,0,0,0);Ii.setUTCFullYear(1);Ii.setUTCMonth(0);Ii.setUTCDate(1);Ii.setUTCHours(0);Ii.setUTCMinutes(0);Ii.setUTCSeconds(0);Ii.setUTCMilliseconds(0);function Ao(i,t){let e="";if(t.includes("d")&&(e+=i.days.toString().padStart(2,"0")+":"),t.includes("hh")&&(e+=i.hours.toString().padStart(2,"0")+":"),t.includes("mm")&&(e+=i.minutes.toString().padStart(2,"0")+":"),t.includes("ss")&&(e+=i.seconds.toString().padStart(2,"0")),!e)throw new Error("Invalid format");return e}var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Na(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Fa={exports:{}};(function(i,t){(function(e,s){i.exports=s()})(Da,function(){var e="minute",s=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(o,a,l){var h=a.prototype;l.utc=function(M){var T={date:M,utc:!0,args:arguments};return new a(T)},h.utc=function(M){var T=l(this.toDate(),{locale:this.$L,utc:!0});return M?T.add(this.utcOffset(),e):T},h.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var m=h.parse;h.parse=function(M){M.utc&&(this.$u=!0),this.$utils().u(M.$offset)||(this.$offset=M.$offset),m.call(this,M)};var c=h.init;h.init=function(){if(this.$u){var M=this.$d;this.$y=M.getUTCFullYear(),this.$M=M.getUTCMonth(),this.$D=M.getUTCDate(),this.$W=M.getUTCDay(),this.$H=M.getUTCHours(),this.$m=M.getUTCMinutes(),this.$s=M.getUTCSeconds(),this.$ms=M.getUTCMilliseconds()}else c.call(this)};var g=h.utcOffset;h.utcOffset=function(M,T){var C=this.$utils().u;if(C(M))return this.$u?0:C(this.$offset)?g.call(this):this.$offset;if(typeof M=="string"&&(M=function(I){I===void 0&&(I="");var V=I.match(s);if(!V)return null;var _=(""+V[0]).match(n)||["-",0,0],E=_[0],q=60*+_[1]+ +_[2];return q===0?0:E==="+"?q:-q}(M),M===null))return this;var v=Math.abs(M)<=16?60*M:M,R=this;if(T)return R.$offset=v,R.$u=M===0,R;if(M!==0){var P=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(R=this.local().add(v+P,e)).$offset=v,R.$x.$localOffset=P}else R=this.utc();return R};var f=h.format;h.format=function(M){var T=M||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,T)},h.valueOf=function(){var M=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*M},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var b=h.toDate;h.toDate=function(M){return M==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():b.call(this)};var S=h.diff;h.diff=function(M,T,C){if(M&&this.$u===M.$u)return S.call(this,M,T,C);var v=this.local(),R=l(M).local();return S.call(v,R,T,C)}}})})(Fa);var jl=Fa.exports;const Wl=Na(jl);var Va={exports:{}};(function(i,t){(function(e,s){i.exports=s()})(Da,function(){var e={year:0,month:1,day:2,hour:3,minute:4,second:5},s={};return function(n,o,a){var l,h=function(f,b,S){S===void 0&&(S={});var M=new Date(f),T=function(C,v){v===void 0&&(v={});var R=v.timeZoneName||"short",P=C+"|"+R,I=s[P];return I||(I=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:C,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:R}),s[P]=I),I}(b,S);return T.formatToParts(M)},m=function(f,b){for(var S=h(f,b),M=[],T=0;T<S.length;T+=1){var C=S[T],v=C.type,R=C.value,P=e[v];P>=0&&(M[P]=parseInt(R,10))}var I=M[3],V=I===24?0:I,_=M[0]+"-"+M[1]+"-"+M[2]+" "+V+":"+M[4]+":"+M[5]+":000",E=+f;return(a.utc(_).valueOf()-(E-=E%1e3))/6e4},c=o.prototype;c.tz=function(f,b){f===void 0&&(f=l);var S=this.utcOffset(),M=this.toDate(),T=M.toLocaleString("en-US",{timeZone:f}),C=Math.round((M-new Date(T))/1e3/60),v=a(T,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(M.getTimezoneOffset()/15)-C,!0);if(b){var R=v.utcOffset();v=v.add(S-R,"minute")}return v.$x.$timezone=f,v},c.offsetName=function(f){var b=this.$x.$timezone||a.tz.guess(),S=h(this.valueOf(),b,{timeZoneName:f}).find(function(M){return M.type.toLowerCase()==="timezonename"});return S&&S.value};var g=c.startOf;c.startOf=function(f,b){if(!this.$x||!this.$x.$timezone)return g.call(this,f,b);var S=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return g.call(S,f,b).tz(this.$x.$timezone,!0)},a.tz=function(f,b,S){var M=S&&b,T=S||b||l,C=m(+a(),T);if(typeof f!="string")return a(f).tz(T);var v=function(V,_,E){var q=V-60*_*1e3,yt=m(q,E);if(_===yt)return[q,_];var Z=m(q-=60*(yt-_)*1e3,E);return yt===Z?[q,yt]:[V-60*Math.min(yt,Z)*1e3,Math.max(yt,Z)]}(a.utc(f,M).valueOf(),C,T),R=v[0],P=v[1],I=a(R).utcOffset(P);return I.$x.$timezone=T,I},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(f){l=f}}})})(Va);var Hl=Va.exports;const Yl=Na(Hl);function Ze(){return Xl}ve.extend(Wl);ve.extend(Yl);const Xl={format:(i,t)=>ve(i).format(t),convertTime:(i,t)=>ve(i).tz(t).toDate(),addYears:(i,t)=>ve(i).add(t,"year").toDate(),addMonths:(i,t)=>ve(i).add(t,"month").toDate(),addTimespan:(i,t)=>{let e=ve(i);return t.days&&(e=e.add(t.days,"day")),t.hours&&(e=e.add(t.hours,"hour")),t.minutes&&(e=e.add(t.minutes,"minute")),t.seconds&&(e=e.add(t.seconds,"second")),t.milliseconds&&(e=e.add(t.milliseconds,"millisecond")),e.toDate()},dayOfWeek:i=>ve(i).day(),diff:(i,t)=>{const e=ve(i).diff(ve(t));return _t.fromMilliseconds(e)}};let In=null;function Ro(){return In||(In=new ql,In)}class ql{async decode(t){const e=await Gs.load(t),s=e.height,n=e.width,o=e.data,a=qe(n,s);for(let l=0;l<s;l++)for(let h=0;h<n;h++){let m=l*n+h;const c=o[m++],g=o[m++],f=o[m++],b=o[m++];a[l][h]=r.fromArgb(b,c,g,f)}return a}encode(t){const e=new DataView(new ArrayBuffer(t.imageInfo.width*t.imageInfo.height*4));let s=0;const n=t.pixels;for(let a=0;a<t.imageInfo.height;a++)for(let l=0;l<t.imageInfo.width;l++){const h=n.get(l,a);e.setUint8(s++,h.r),e.setUint8(s++,h.g),e.setUint8(s++,h.b),e.setUint8(s++,h.a)}const o=new Gs(t.imageInfo.width,t.imageInfo.height,new Uint8Array(e.buffer)).toBuffer();return Promise.resolve(o)}async getImageInfo(t){const e=await Gs.load(t);return{width:e.width,height:e.height,bitsPerPixel:e.bitDepth,dpiX:0,dpiY:0,format:fe.getImageFormat(t)}}async load(t){const e=await Gs.load(t),s=e.toBuffer(),n=new fe(s);return n.format=fe.getImageFormat(s),n.width=e.width,n.height=e.height,n}}function xi(i){return i===void 0}function Mt(i){return i==null}function ca(i,...t){if(i)for(const e of t)delete i[e]}function $t(i,t,e){if(!i||!t)return e;const s=i[t];return Mt(s)?e:s}function st(i,t){const e=i;if(Array.isArray(e))return e.forEach(n=>st(n,t)),i;const s=Object.assign({removeNull:!0,removeEmptyStr:!1,deep:1},t);return Object.keys(e).forEach(n=>{const o=e[n];if(o===void 0){delete e[n];return}if(o===null&&s.removeNull){delete e[n];return}if(s.removeEmptyStr&&typeof o=="string"&&o.length==0){delete e[n];return}if(typeof o=="object"&&s.deep>1){const a=Object.assign({},s,{deep:s.deep-1});st(o,a);return}}),i}function Ea(i){let t=0;for(let e=0;e<i.length;e++)t=Math.imul(31,t)+i[e];return t}const ht=-17976931348623157e292,et=Number.MAX_VALUE;function vt(i,t){if(t<0){const e=Math.pow(10,t);return Math.round(i*e)/e}return+(Math.round(+(i+"e+"+t))+"e-"+t)}function Je(i){return!isFinite(i)}function da(i){return i===Number.NEGATIVE_INFINITY}function pa(i){return i===Number.POSITIVE_INFINITY}function Ei(i){return i>=0?i:i>>>0}function Kl(i,t){return isNaN(i)?i:isNaN(t)?t:t===1?NaN:i!==1&&(t===0||Number.POSITIVE_INFINITY===t)?NaN:Math.log(i)/Math.log(t)}function Zl(i,t){let e;if(i>=1e6||i<=-1e6?e=i.toExponential(t):e=i.toString(),e.includes("e")){const s=Number(e.split("e")[0]);return vt(s,t).toString()+"e"+e.split("e")[1]}return vt(i,t).toString()}function Jl(i,t=1){return Mt(i)?"":isNaN(i)?"NaN":vt(i*100,t)+"%"}function Hn(i,t){if(Math.round(i)!==i)throw new Error(`${t||"number"} must be an integer.`)}function Ql(i,t){return i&&i.replace(new RegExp(`^${t}+|${t}+$`,"g"),"")}function Ws(i,t,e){return e===void 0?i.substring(t):i.substring(t,t+e)}const Wi=1e3,Hi=6e4,Yi=36e5,Xi=864e5;class _t{constructor(t){u(this,"_totalMs",0),u(this,"_ms",0),u(this,"_seconds",0),u(this,"_minutes",0),u(this,"_hours",0),u(this,"_days",0),u(this,"toString",()=>`${this._days}day ${this._hours}hour ${this._minutes}minute ${this._seconds}second ${this._ms}ms`),this.ms=t,this._totalMs=t;const e=t<0?-1:1;let s=Math.abs(t);s>=Xi&&(this._days=e*Math.floor(s/Xi),s=s%Xi),s>=Yi&&(this._hours=e*Math.floor(s/Yi),s=s%Yi),s>=Hi&&(this._minutes=e*Math.floor(s/Hi),s=s%Hi),s>=Wi&&(this._seconds=e*Math.floor(s/Wi),s=s%Wi),this._ms=e*s}get milliseconds(){return this._ms}get seconds(){return this._seconds}get minutes(){return this._minutes}get hours(){return this._hours}get days(){return this._days}get totalMs(){return this._totalMs}get totalSeconds(){return this._totalMs/Wi}get totalMinutes(){return this._totalMs/Hi}get totalHours(){return this._totalMs/Yi}get totalDays(){return this._totalMs/Xi}static fromMilliseconds(t){return new _t(t)}static fromSeconds(t){return new _t(t*Wi)}static fromMinutes(t){return new _t(t*Hi)}static fromHours(t){return new _t(t*Yi)}static fromDays(t){return new _t(t*Xi)}static from(t=0,e=0,s=0,n=0,o=0){return new _t(t*Xi+e*Yi+s*Hi+n*Wi+o)}}class Re{constructor(t,e,s){u(this,"_data"),this.columnCount=t,this.rowCount=e,this._data=qe(e,t,s)}static fromArray(t){const e=t.length,s=t[0].length,n=new Re(s,e);for(let o=0;o<e;o++)for(let a=0;a<s;a++)n.set(a,o,t[o][a]);return n}toArray(){const t=qe(this.rowCount,this.columnCount);for(let e=0;e<this.rowCount;e++)for(let s=0;s<this.columnCount;s++)t[e][s]=this.get(s,e);return t}get height(){return this.rowCount}get width(){return this.columnCount}get(t,e){return this._data[e][t]}set(t,e,s){this._data[e][t]=s}}const Ss=class Ge{constructor(t,e,s,n){u(this,"_r"),u(this,"_g"),u(this,"_b"),u(this,"_a"),this._a=bi(t),this._r=bi(e),this._g=bi(s),this._b=bi(n)}get a(){return this._a}get b(){return this._b}get g(){return this._g}get r(){return this._r}static parse(t){if(!t||t.toLowerCase()==="none")return this._undefined;if(t.toLowerCase()==="auto")return this._automatic;if(t=t.trim(),t.startsWith("#")){t=Ql(t,"#"),t.length===3&&(t=`${t[0]}${t[0]}${t[1]}${t[1]}${t[2]}${t[2]}`);let h=parseInt(t,16);return t.length<8&&(h+=4278190080),Ge.fromUInt32(h)}const e=t.split(",");if(e.length<3||e.length>4)throw new Error("Invalid format.");let s=0,n=255;e.length>3&&(n=parseInt(e[s],10),s++);const o=parseInt(e[s],10),a=parseInt(e[s+1],10),l=parseInt(e[s+2],10);return Ge.fromArgb(n,o,a,l)}static colorDifference(t,e){const s=(t.r-e.r)/255,n=(t.g-e.g)/255,o=(t.b-e.b)/255,a=(t.a-e.a)/255,l=s*s+n*n+o*o+a*a;return Math.sqrt(l)}static fromUInt32(t){const e=t>>24&255,s=t>>16&255,n=t>>8&255,o=t&255;return Ge.fromArgb(e,s,n,o)}static fromHsv(t,e,s){let n,o,a=n=o=0;if(e===0)a=n=o=s;else{t===1&&(t=0),t*=6;const l=Math.floor(t),h=t-l,m=s*(1-e),c=s*(1-e*h),g=s*(1-e*(1-h));switch(l){case 0:a=s,n=g,o=m;break;case 1:a=c,n=s,o=m;break;case 2:a=m,n=s,o=g;break;case 3:a=m,n=c,o=s;break;case 4:a=g,n=m,o=s;break;case 5:a=s,n=m,o=c;break}}return Ge.fromRgb(a*255,n*255,o*255)}static fromAColor(t,e){return Ge.fromArgb(t,e.r,e.g,e.b)}static fromArgb(t,e,s,n){return new Ge(t,e,s,n)}static fromRgb(t,e,s){return new Ge(255,t,e,s)}static interpolate(t,e,s){const n=t.a*(1-s)+e.a*s,o=t.r*(1-s)+e.r*s,a=t.g*(1-s)+e.g*s,l=t.b*(1-s)+e.b*s;return Ge.fromArgb(bi(n),bi(o),bi(a),bi(l))}equals(t){return t.a===this.a&&t.r===this.r&&t.g===this.g&&t.b===this.b}toArgb(){return this.toArgbInner("start")}toRgba(){return this.toArgbInner("end")}toRgb(){return this.toArgbInner("none")}toArgbInner(t){const e=n=>n.toString(16).padStart(2,"0"),s=`${e(this.r)}${e(this.g)}${e(this.b)}`;return t==="start"?`#${e(this.a)}${s}`:t==="end"?`#${s}${e(this.a)}`:`#${s}`}toString(){return this.toArgb()}isInvisible(){return this.a===0}isVisible(){return this.a>0}isUndefined(){return this.equals(Ge._undefined)}isAutomatic(){return this.equals(Ge._automatic)}getActualColor(t){return this.isAutomatic()?t:this}};u(Ss,"_undefined",Ss.fromUInt32(0)),u(Ss,"_automatic",Ss.fromUInt32(1));let r=Ss;function bi(i){return Math.round(i)}const p={Undefined:r.fromUInt32(0),Automatic:r.fromUInt32(1),AliceBlue:r.fromUInt32(4293982463),AntiqueWhite:r.fromUInt32(4294634455),Aqua:r.fromUInt32(4278255615),Aquamarine:r.fromUInt32(4286578644),Azure:r.fromUInt32(4293984255),Beige:r.fromUInt32(4294309340),Bisque:r.fromUInt32(4294960324),Black:r.fromUInt32(4278190080),BlanchedAlmond:r.fromUInt32(4294962125),Blue:r.fromUInt32(4278190335),BlueViolet:r.fromUInt32(4287245282),Brown:r.fromUInt32(4289014314),BurlyWood:r.fromUInt32(4292786311),CadetBlue:r.fromUInt32(4284456608),Chartreuse:r.fromUInt32(4286578432),Chocolate:r.fromUInt32(4291979550),Coral:r.fromUInt32(4294934352),CornflowerBlue:r.fromUInt32(4284782061),Cornsilk:r.fromUInt32(4294965468),Crimson:r.fromUInt32(4292613180),Cyan:r.fromUInt32(4278255615),DarkBlue:r.fromUInt32(4278190219),DarkCyan:r.fromUInt32(4278225803),DarkGoldenrod:r.fromUInt32(4290283019),DarkGray:r.fromUInt32(4289309097),DarkGreen:r.fromUInt32(4278215680),DarkKhaki:r.fromUInt32(4290623339),DarkMagenta:r.fromUInt32(4287299723),DarkOliveGreen:r.fromUInt32(4283788079),DarkOrange:r.fromUInt32(4294937600),DarkOrchid:r.fromUInt32(4288230092),DarkRed:r.fromUInt32(4287299584),DarkSalmon:r.fromUInt32(4293498490),DarkSeaGreen:r.fromUInt32(4287609999),DarkSlateBlue:r.fromUInt32(4282924427),DarkSlateGray:r.fromUInt32(4281290575),DarkTurquoise:r.fromUInt32(4278243025),DarkViolet:r.fromUInt32(4287889619),DeepPink:r.fromUInt32(4294907027),DeepSkyBlue:r.fromUInt32(4278239231),DimGray:r.fromUInt32(4285098345),DodgerBlue:r.fromUInt32(4280193279),Firebrick:r.fromUInt32(4289864226),FloralWhite:r.fromUInt32(4294966e3),ForestGreen:r.fromUInt32(4280453922),Fuchsia:r.fromUInt32(4294902015),Gainsboro:r.fromUInt32(4292664540),GhostWhite:r.fromUInt32(4294506751),Gold:r.fromUInt32(4294956800),Goldenrod:r.fromUInt32(4292519200),Gray:r.fromUInt32(4286611584),Green:r.fromUInt32(4278222848),GreenYellow:r.fromUInt32(4289593135),Honeydew:r.fromUInt32(4293984240),HotPink:r.fromUInt32(4294928820),IndianRed:r.fromUInt32(4291648604),Indigo:r.fromUInt32(4283105410),Ivory:r.fromUInt32(4294967280),Khaki:r.fromUInt32(4293977740),Lavender:r.fromUInt32(4293322490),LavenderBlush:r.fromUInt32(4294963445),LawnGreen:r.fromUInt32(4286381056),LemonChiffon:r.fromUInt32(4294965965),LightBlue:r.fromUInt32(4289583334),LightCoral:r.fromUInt32(4293951616),LightCyan:r.fromUInt32(4292935679),LightGoldenrodYellow:r.fromUInt32(4294638290),LightGray:r.fromUInt32(4292072403),LightGreen:r.fromUInt32(4287688336),LightPink:r.fromUInt32(4294948545),LightSalmon:r.fromUInt32(4294942842),LightSeaGreen:r.fromUInt32(4280332970),LightSkyBlue:r.fromUInt32(4287090426),LightSlateGray:r.fromUInt32(4286023833),LightSteelBlue:r.fromUInt32(4289774814),LightYellow:r.fromUInt32(4294967264),Lime:r.fromUInt32(4278255360),LimeGreen:r.fromUInt32(4281519410),Linen:r.fromUInt32(4294635750),Magenta:r.fromUInt32(4294902015),Maroon:r.fromUInt32(4286578688),MediumAquamarine:r.fromUInt32(4284927402),MediumBlue:r.fromUInt32(4278190285),MediumOrchid:r.fromUInt32(4290401747),MediumPurple:r.fromUInt32(4287852763),MediumSeaGreen:r.fromUInt32(4282168177),MediumSlateBlue:r.fromUInt32(4286277870),MediumSpringGreen:r.fromUInt32(4278254234),MediumTurquoise:r.fromUInt32(4282962380),MediumVioletRed:r.fromUInt32(4291237253),MidnightBlue:r.fromUInt32(4279834992),MintCream:r.fromUInt32(4294311930),MistyRose:r.fromUInt32(4294960353),Moccasin:r.fromUInt32(4294960309),NavajoWhite:r.fromUInt32(4294958765),Navy:r.fromUInt32(4278190208),OldLace:r.fromUInt32(4294833638),Olive:r.fromUInt32(4286611456),OliveDrab:r.fromUInt32(4285238819),Orange:r.fromUInt32(4294944e3),OrangeRed:r.fromUInt32(4294919424),Orchid:r.fromUInt32(4292505814),PaleGoldenrod:r.fromUInt32(4293847210),PaleGreen:r.fromUInt32(4288215960),PaleTurquoise:r.fromUInt32(4289720046),PaleVioletRed:r.fromUInt32(4292571283),PapayaWhip:r.fromUInt32(4294963157),PeachPuff:r.fromUInt32(4294957753),Peru:r.fromUInt32(4291659071),Pink:r.fromUInt32(4294951115),Plum:r.fromUInt32(4292714717),PowderBlue:r.fromUInt32(4289781990),Purple:r.fromUInt32(4286578816),Red:r.fromUInt32(4294901760),RosyBrown:r.fromUInt32(4290547599),RoyalBlue:r.fromUInt32(4282477025),SaddleBrown:r.fromUInt32(4287317267),Salmon:r.fromUInt32(4294606962),SandyBrown:r.fromUInt32(4294222944),SeaGreen:r.fromUInt32(4281240407),SeaShell:r.fromUInt32(4294964718),Sienna:r.fromUInt32(4288696877),Silver:r.fromUInt32(4290822336),SkyBlue:r.fromUInt32(4287090411),SlateBlue:r.fromUInt32(4285160141),SlateGray:r.fromUInt32(4285563024),Snow:r.fromUInt32(4294966010),SpringGreen:r.fromUInt32(4278255487),SteelBlue:r.fromUInt32(4282811060),Tan:r.fromUInt32(4291998860),Teal:r.fromUInt32(4278222976),Thistle:r.fromUInt32(4292394968),Tomato:r.fromUInt32(4294927175),Transparent:r.fromUInt32(16777215),Turquoise:r.fromUInt32(4282441936),Violet:r.fromUInt32(4293821166),Wheat:r.fromUInt32(4294303411),White:r.fromUInt32(4294967295),WhiteSmoke:r.fromUInt32(4294309365),Yellow:r.fromUInt32(4294967040),YellowGreen:r.fromUInt32(4288335154)};Object.freeze(p);const Bn=new Map,xe={changeIntensity:(i,t)=>{const e=xe.toHsv(i);return e[2]*=t,e[2]>1&&(e[2]=1),r.fromHsv(e[0],e[1],e[2])},changeSaturation:(i,t)=>{const e=xe.toHsv(i);return e[1]*=t,e[1]>1&&(e[1]=1),r.fromHsv(e[0],e[1],e[2])},changeOpacity:(i,t)=>r.fromAColor(i.a*t,i),complementary:i=>{const t=xe.toHsv(i);let e=t[0]-.5;return e<0&&(e+=1),r.fromHsv(e,t[1],t[2])},toHsv:i=>{const t=i.r,e=i.g,s=i.b,n=Math.min(Math.min(t,e),s),o=Math.max(Math.max(t,e),s),a=o-n,l=o===0?0:a/o;let h=0;l===0?h=0:(t===o?h=(e-s)/a:e===o?h=2+(s-t)/a:s===o&&(h=4+(t-e)/a),h*=60,h<0&&(h+=360));const m=new Array(3);return m[0]=h/360,m[1]=l,m[2]=o/255,m},toUint:i=>{let t=Ei(i.a<<24);return t+=Ei(i.r<<16),t+=Ei(i.g<<8),t+=Ei(i.b),Ei(t)},toByteString:i=>`${i.a},${i.r},${i.g},${i.b}`,getColorName:i=>{const t=xe.toUint(i);if(Bn.has(t))return Bn.get(t);const e=p;for(const s of Object.keys(e)){const n=e[s];if(xe.toUint(n)===t)return Bn.set(t,s),s}},hueDifference:(i,t)=>{const e=xe.toHsv(i),s=xe.toHsv(t);let n=e[0]-s[0];n>.5&&(n-=1),n<-.5&&(n+=1);const o=Math.pow(n,2);return Math.sqrt(o)}};let zt=class Xs{constructor(t){u(this,"colors",[]),t&&(this.colors=[...t],Object.freeze(this.colors))}static interpolate(t,...e){if(!e||e.length===0||t<1)return new Xs([]);const s=[],n=t===1?0:1/(t-1);for(let o=0;o<t;o++){const a=o*n*(e.length-1),l=Math.floor(a),h=l+1<e.length?l+1:l;s[o]=r.interpolate(e[l],e[h],a-l)}return new Xs(s)}reverse(){return new Xs(ts(this.colors))}};class H{static blackWhiteRed(t){return zt.interpolate(t,p.Black,p.White,p.Red)}static blueWhiteRed(t){return zt.interpolate(t,p.Blue,p.White,p.Red)}static cool(t){return zt.interpolate(t,p.Cyan,p.Magenta)}static gray(t){return zt.interpolate(t,p.Black,p.White)}static hot(t){return zt.interpolate(t,p.Black,r.fromRgb(127,0,0),r.fromRgb(255,127,0),r.fromRgb(255,255,127),p.White)}static hue(t){return zt.interpolate(t,p.Red,p.Yellow,p.Green,p.Cyan,p.Blue,p.Magenta,p.Red)}static hueDistinct(t){return zt.interpolate(t,p.Magenta,p.Blue,p.Cyan,p.Green,p.Yellow,p.Red)}static jet(t){return zt.interpolate(t,p.DarkBlue,p.Cyan,p.Yellow,p.Orange,p.DarkRed)}static rainbow(t){return zt.interpolate(t,p.Violet,p.Indigo,p.Blue,p.Green,p.Yellow,p.Orange,p.Red)}static cividis(t=256){return t===Dn.length?new zt(Dn):zt.interpolate(t,...Dn)}static inferno(t=256){return t===Nn.length?new zt(Nn):zt.interpolate(t,...Nn)}static magma(t=256){return t===Fn.length?new zt(Fn):zt.interpolate(t,...Fn)}static plasma(t=256){return t===Vn.length?new zt(Vn):zt.interpolate(t,...Vn)}static viridis(t=256){return t===En.length?new zt(En):zt.interpolate(t,...En)}}u(H,"blueWhiteRed31"),u(H,"hot64"),u(H,"hue64");H.blueWhiteRed31=H.blueWhiteRed(31);H.hot64=H.hot(64);H.hue64=H.hue(64);const Dn=[r.fromRgb(0,32,77),r.fromRgb(0,33,78),r.fromRgb(0,34,80),r.fromRgb(0,34,82),r.fromRgb(0,35,83),r.fromRgb(0,36,85),r.fromRgb(0,37,87),r.fromRgb(0,37,88),r.fromRgb(0,38,90),r.fromRgb(0,39,92),r.fromRgb(0,39,94),r.fromRgb(0,40,96),r.fromRgb(0,41,97),r.fromRgb(0,42,99),r.fromRgb(0,42,101),r.fromRgb(0,43,103),r.fromRgb(0,44,105),r.fromRgb(0,44,106),r.fromRgb(0,45,108),r.fromRgb(0,46,110),r.fromRgb(0,46,111),r.fromRgb(0,47,111),r.fromRgb(0,47,111),r.fromRgb(0,48,111),r.fromRgb(0,48,111),r.fromRgb(0,49,111),r.fromRgb(0,50,111),r.fromRgb(0,51,111),r.fromRgb(0,51,111),r.fromRgb(0,52,111),r.fromRgb(0,53,110),r.fromRgb(1,54,110),r.fromRgb(6,54,110),r.fromRgb(11,55,110),r.fromRgb(15,56,110),r.fromRgb(18,56,109),r.fromRgb(21,57,109),r.fromRgb(24,58,109),r.fromRgb(26,59,109),r.fromRgb(29,59,109),r.fromRgb(31,60,109),r.fromRgb(33,61,109),r.fromRgb(35,62,108),r.fromRgb(36,62,108),r.fromRgb(38,63,108),r.fromRgb(40,64,108),r.fromRgb(42,64,108),r.fromRgb(43,65,108),r.fromRgb(45,66,108),r.fromRgb(46,67,108),r.fromRgb(48,67,108),r.fromRgb(49,68,107),r.fromRgb(50,69,107),r.fromRgb(52,69,107),r.fromRgb(53,70,107),r.fromRgb(54,71,107),r.fromRgb(56,72,107),r.fromRgb(57,72,107),r.fromRgb(58,73,107),r.fromRgb(59,74,107),r.fromRgb(61,74,107),r.fromRgb(62,75,107),r.fromRgb(63,76,107),r.fromRgb(64,77,107),r.fromRgb(65,77,107),r.fromRgb(66,78,107),r.fromRgb(67,79,107),r.fromRgb(68,79,107),r.fromRgb(70,80,107),r.fromRgb(71,81,107),r.fromRgb(72,82,107),r.fromRgb(73,82,107),r.fromRgb(74,83,107),r.fromRgb(75,84,108),r.fromRgb(76,84,108),r.fromRgb(77,85,108),r.fromRgb(78,86,108),r.fromRgb(79,87,108),r.fromRgb(80,87,108),r.fromRgb(81,88,108),r.fromRgb(82,89,108),r.fromRgb(83,89,108),r.fromRgb(84,90,108),r.fromRgb(85,91,109),r.fromRgb(86,92,109),r.fromRgb(87,92,109),r.fromRgb(88,93,109),r.fromRgb(89,94,109),r.fromRgb(89,95,109),r.fromRgb(90,95,109),r.fromRgb(91,96,110),r.fromRgb(92,97,110),r.fromRgb(93,97,110),r.fromRgb(94,98,110),r.fromRgb(95,99,110),r.fromRgb(96,100,111),r.fromRgb(97,100,111),r.fromRgb(98,101,111),r.fromRgb(99,102,111),r.fromRgb(100,102,111),r.fromRgb(100,103,112),r.fromRgb(101,104,112),r.fromRgb(102,105,112),r.fromRgb(103,105,112),r.fromRgb(104,106,113),r.fromRgb(105,107,113),r.fromRgb(106,108,113),r.fromRgb(107,108,113),r.fromRgb(108,109,114),r.fromRgb(108,110,114),r.fromRgb(109,110,114),r.fromRgb(110,111,115),r.fromRgb(111,112,115),r.fromRgb(112,113,115),r.fromRgb(113,113,116),r.fromRgb(114,114,116),r.fromRgb(114,115,116),r.fromRgb(115,116,117),r.fromRgb(116,116,117),r.fromRgb(117,117,117),r.fromRgb(118,118,118),r.fromRgb(119,119,118),r.fromRgb(120,119,119),r.fromRgb(120,120,119),r.fromRgb(121,121,119),r.fromRgb(122,122,120),r.fromRgb(123,122,120),r.fromRgb(124,123,120),r.fromRgb(125,124,120),r.fromRgb(126,125,120),r.fromRgb(127,125,120),r.fromRgb(128,126,121),r.fromRgb(129,127,121),r.fromRgb(130,128,121),r.fromRgb(131,128,121),r.fromRgb(132,129,121),r.fromRgb(132,130,121),r.fromRgb(133,131,121),r.fromRgb(134,131,121),r.fromRgb(135,132,121),r.fromRgb(136,133,121),r.fromRgb(137,134,121),r.fromRgb(138,135,121),r.fromRgb(139,135,121),r.fromRgb(140,136,121),r.fromRgb(141,137,121),r.fromRgb(142,138,121),r.fromRgb(143,138,121),r.fromRgb(144,139,121),r.fromRgb(145,140,120),r.fromRgb(146,141,120),r.fromRgb(147,142,120),r.fromRgb(148,142,120),r.fromRgb(149,143,120),r.fromRgb(150,144,120),r.fromRgb(151,145,120),r.fromRgb(152,146,120),r.fromRgb(153,146,120),r.fromRgb(154,147,119),r.fromRgb(155,148,119),r.fromRgb(156,149,119),r.fromRgb(157,150,119),r.fromRgb(158,150,119),r.fromRgb(159,151,119),r.fromRgb(160,152,119),r.fromRgb(161,153,118),r.fromRgb(162,154,118),r.fromRgb(163,154,118),r.fromRgb(164,155,118),r.fromRgb(165,156,118),r.fromRgb(166,157,117),r.fromRgb(168,158,117),r.fromRgb(169,159,117),r.fromRgb(170,159,117),r.fromRgb(171,160,116),r.fromRgb(172,161,116),r.fromRgb(173,162,116),r.fromRgb(174,163,116),r.fromRgb(175,164,115),r.fromRgb(176,164,115),r.fromRgb(177,165,115),r.fromRgb(178,166,114),r.fromRgb(179,167,114),r.fromRgb(180,168,114),r.fromRgb(181,169,113),r.fromRgb(182,169,113),r.fromRgb(183,170,113),r.fromRgb(184,171,112),r.fromRgb(185,172,112),r.fromRgb(186,173,112),r.fromRgb(187,174,111),r.fromRgb(188,175,111),r.fromRgb(190,175,111),r.fromRgb(191,176,110),r.fromRgb(192,177,110),r.fromRgb(193,178,109),r.fromRgb(194,179,109),r.fromRgb(195,180,109),r.fromRgb(196,181,108),r.fromRgb(197,181,108),r.fromRgb(198,182,107),r.fromRgb(199,183,107),r.fromRgb(200,184,106),r.fromRgb(201,185,106),r.fromRgb(203,186,105),r.fromRgb(204,187,105),r.fromRgb(205,188,104),r.fromRgb(206,188,104),r.fromRgb(207,189,103),r.fromRgb(208,190,103),r.fromRgb(209,191,102),r.fromRgb(210,192,102),r.fromRgb(211,193,101),r.fromRgb(212,194,100),r.fromRgb(214,195,100),r.fromRgb(215,196,99),r.fromRgb(216,197,99),r.fromRgb(217,197,98),r.fromRgb(218,198,97),r.fromRgb(219,199,97),r.fromRgb(220,200,96),r.fromRgb(221,201,95),r.fromRgb(222,202,95),r.fromRgb(224,203,94),r.fromRgb(225,204,93),r.fromRgb(226,205,92),r.fromRgb(227,206,92),r.fromRgb(228,207,91),r.fromRgb(229,208,90),r.fromRgb(230,209,89),r.fromRgb(232,210,89),r.fromRgb(233,211,88),r.fromRgb(234,211,87),r.fromRgb(235,212,86),r.fromRgb(236,213,85),r.fromRgb(237,214,84),r.fromRgb(239,215,83),r.fromRgb(240,216,82),r.fromRgb(241,217,81),r.fromRgb(242,218,80),r.fromRgb(243,219,79),r.fromRgb(244,220,78),r.fromRgb(246,221,77),r.fromRgb(247,222,76),r.fromRgb(248,223,75),r.fromRgb(249,224,74),r.fromRgb(250,225,73),r.fromRgb(251,226,72),r.fromRgb(253,227,70),r.fromRgb(254,228,69),r.fromRgb(255,229,68),r.fromRgb(255,230,66),r.fromRgb(255,231,66),r.fromRgb(255,232,67),r.fromRgb(255,233,68),r.fromRgb(255,234,70)],Nn=[r.fromRgb(0,0,4),r.fromRgb(1,0,5),r.fromRgb(1,1,6),r.fromRgb(1,1,8),r.fromRgb(2,1,10),r.fromRgb(2,2,12),r.fromRgb(2,2,14),r.fromRgb(3,2,16),r.fromRgb(4,3,18),r.fromRgb(4,3,20),r.fromRgb(5,4,23),r.fromRgb(6,4,25),r.fromRgb(7,5,27),r.fromRgb(8,5,29),r.fromRgb(9,6,31),r.fromRgb(10,7,34),r.fromRgb(11,7,36),r.fromRgb(12,8,38),r.fromRgb(13,8,41),r.fromRgb(14,9,43),r.fromRgb(16,9,45),r.fromRgb(17,10,48),r.fromRgb(18,10,50),r.fromRgb(20,11,52),r.fromRgb(21,11,55),r.fromRgb(22,11,57),r.fromRgb(24,12,60),r.fromRgb(25,12,62),r.fromRgb(27,12,65),r.fromRgb(28,12,67),r.fromRgb(30,12,69),r.fromRgb(31,12,72),r.fromRgb(33,12,74),r.fromRgb(35,12,76),r.fromRgb(36,12,79),r.fromRgb(38,12,81),r.fromRgb(40,11,83),r.fromRgb(41,11,85),r.fromRgb(43,11,87),r.fromRgb(45,11,89),r.fromRgb(47,10,91),r.fromRgb(49,10,92),r.fromRgb(50,10,94),r.fromRgb(52,10,95),r.fromRgb(54,9,97),r.fromRgb(56,9,98),r.fromRgb(57,9,99),r.fromRgb(59,9,100),r.fromRgb(61,9,101),r.fromRgb(62,9,102),r.fromRgb(64,10,103),r.fromRgb(66,10,104),r.fromRgb(68,10,104),r.fromRgb(69,10,105),r.fromRgb(71,11,106),r.fromRgb(73,11,106),r.fromRgb(74,12,107),r.fromRgb(76,12,107),r.fromRgb(77,13,108),r.fromRgb(79,13,108),r.fromRgb(81,14,108),r.fromRgb(82,14,109),r.fromRgb(84,15,109),r.fromRgb(85,15,109),r.fromRgb(87,16,110),r.fromRgb(89,16,110),r.fromRgb(90,17,110),r.fromRgb(92,18,110),r.fromRgb(93,18,110),r.fromRgb(95,19,110),r.fromRgb(97,19,110),r.fromRgb(98,20,110),r.fromRgb(100,21,110),r.fromRgb(101,21,110),r.fromRgb(103,22,110),r.fromRgb(105,22,110),r.fromRgb(106,23,110),r.fromRgb(108,24,110),r.fromRgb(109,24,110),r.fromRgb(111,25,110),r.fromRgb(113,25,110),r.fromRgb(114,26,110),r.fromRgb(116,26,110),r.fromRgb(117,27,110),r.fromRgb(119,28,109),r.fromRgb(120,28,109),r.fromRgb(122,29,109),r.fromRgb(124,29,109),r.fromRgb(125,30,109),r.fromRgb(127,30,108),r.fromRgb(128,31,108),r.fromRgb(130,32,108),r.fromRgb(132,32,107),r.fromRgb(133,33,107),r.fromRgb(135,33,107),r.fromRgb(136,34,106),r.fromRgb(138,34,106),r.fromRgb(140,35,105),r.fromRgb(141,35,105),r.fromRgb(143,36,105),r.fromRgb(144,37,104),r.fromRgb(146,37,104),r.fromRgb(147,38,103),r.fromRgb(149,38,103),r.fromRgb(151,39,102),r.fromRgb(152,39,102),r.fromRgb(154,40,101),r.fromRgb(155,41,100),r.fromRgb(157,41,100),r.fromRgb(159,42,99),r.fromRgb(160,42,99),r.fromRgb(162,43,98),r.fromRgb(163,44,97),r.fromRgb(165,44,96),r.fromRgb(166,45,96),r.fromRgb(168,46,95),r.fromRgb(169,46,94),r.fromRgb(171,47,94),r.fromRgb(173,48,93),r.fromRgb(174,48,92),r.fromRgb(176,49,91),r.fromRgb(177,50,90),r.fromRgb(179,50,90),r.fromRgb(180,51,89),r.fromRgb(182,52,88),r.fromRgb(183,53,87),r.fromRgb(185,53,86),r.fromRgb(186,54,85),r.fromRgb(188,55,84),r.fromRgb(189,56,83),r.fromRgb(191,57,82),r.fromRgb(192,58,81),r.fromRgb(193,58,80),r.fromRgb(195,59,79),r.fromRgb(196,60,78),r.fromRgb(198,61,77),r.fromRgb(199,62,76),r.fromRgb(200,63,75),r.fromRgb(202,64,74),r.fromRgb(203,65,73),r.fromRgb(204,66,72),r.fromRgb(206,67,71),r.fromRgb(207,68,70),r.fromRgb(208,69,69),r.fromRgb(210,70,68),r.fromRgb(211,71,67),r.fromRgb(212,72,66),r.fromRgb(213,74,65),r.fromRgb(215,75,63),r.fromRgb(216,76,62),r.fromRgb(217,77,61),r.fromRgb(218,78,60),r.fromRgb(219,80,59),r.fromRgb(221,81,58),r.fromRgb(222,82,56),r.fromRgb(223,83,55),r.fromRgb(224,85,54),r.fromRgb(225,86,53),r.fromRgb(226,87,52),r.fromRgb(227,89,51),r.fromRgb(228,90,49),r.fromRgb(229,92,48),r.fromRgb(230,93,47),r.fromRgb(231,94,46),r.fromRgb(232,96,45),r.fromRgb(233,97,43),r.fromRgb(234,99,42),r.fromRgb(235,100,41),r.fromRgb(235,102,40),r.fromRgb(236,103,38),r.fromRgb(237,105,37),r.fromRgb(238,106,36),r.fromRgb(239,108,35),r.fromRgb(239,110,33),r.fromRgb(240,111,32),r.fromRgb(241,113,31),r.fromRgb(241,115,29),r.fromRgb(242,116,28),r.fromRgb(243,118,27),r.fromRgb(243,120,25),r.fromRgb(244,121,24),r.fromRgb(245,123,23),r.fromRgb(245,125,21),r.fromRgb(246,126,20),r.fromRgb(246,128,19),r.fromRgb(247,130,18),r.fromRgb(247,132,16),r.fromRgb(248,133,15),r.fromRgb(248,135,14),r.fromRgb(248,137,12),r.fromRgb(249,139,11),r.fromRgb(249,140,10),r.fromRgb(249,142,9),r.fromRgb(250,144,8),r.fromRgb(250,146,7),r.fromRgb(250,148,7),r.fromRgb(251,150,6),r.fromRgb(251,151,6),r.fromRgb(251,153,6),r.fromRgb(251,155,6),r.fromRgb(251,157,7),r.fromRgb(252,159,7),r.fromRgb(252,161,8),r.fromRgb(252,163,9),r.fromRgb(252,165,10),r.fromRgb(252,166,12),r.fromRgb(252,168,13),r.fromRgb(252,170,15),r.fromRgb(252,172,17),r.fromRgb(252,174,18),r.fromRgb(252,176,20),r.fromRgb(252,178,22),r.fromRgb(252,180,24),r.fromRgb(251,182,26),r.fromRgb(251,184,29),r.fromRgb(251,186,31),r.fromRgb(251,188,33),r.fromRgb(251,190,35),r.fromRgb(250,192,38),r.fromRgb(250,194,40),r.fromRgb(250,196,42),r.fromRgb(250,198,45),r.fromRgb(249,199,47),r.fromRgb(249,201,50),r.fromRgb(249,203,53),r.fromRgb(248,205,55),r.fromRgb(248,207,58),r.fromRgb(247,209,61),r.fromRgb(247,211,64),r.fromRgb(246,213,67),r.fromRgb(246,215,70),r.fromRgb(245,217,73),r.fromRgb(245,219,76),r.fromRgb(244,221,79),r.fromRgb(244,223,83),r.fromRgb(244,225,86),r.fromRgb(243,227,90),r.fromRgb(243,229,93),r.fromRgb(242,230,97),r.fromRgb(242,232,101),r.fromRgb(242,234,105),r.fromRgb(241,236,109),r.fromRgb(241,237,113),r.fromRgb(241,239,117),r.fromRgb(241,241,121),r.fromRgb(242,242,125),r.fromRgb(242,244,130),r.fromRgb(243,245,134),r.fromRgb(243,246,138),r.fromRgb(244,248,142),r.fromRgb(245,249,146),r.fromRgb(246,250,150),r.fromRgb(248,251,154),r.fromRgb(249,252,157),r.fromRgb(250,253,161),r.fromRgb(252,255,164)],Fn=[r.fromRgb(0,0,4),r.fromRgb(1,0,5),r.fromRgb(1,1,6),r.fromRgb(1,1,8),r.fromRgb(2,1,9),r.fromRgb(2,2,11),r.fromRgb(2,2,13),r.fromRgb(3,3,15),r.fromRgb(3,3,18),r.fromRgb(4,4,20),r.fromRgb(5,4,22),r.fromRgb(6,5,24),r.fromRgb(6,5,26),r.fromRgb(7,6,28),r.fromRgb(8,7,30),r.fromRgb(9,7,32),r.fromRgb(10,8,34),r.fromRgb(11,9,36),r.fromRgb(12,9,38),r.fromRgb(13,10,41),r.fromRgb(14,11,43),r.fromRgb(16,11,45),r.fromRgb(17,12,47),r.fromRgb(18,13,49),r.fromRgb(19,13,52),r.fromRgb(20,14,54),r.fromRgb(21,14,56),r.fromRgb(22,15,59),r.fromRgb(24,15,61),r.fromRgb(25,16,63),r.fromRgb(26,16,66),r.fromRgb(28,16,68),r.fromRgb(29,17,71),r.fromRgb(30,17,73),r.fromRgb(32,17,75),r.fromRgb(33,17,78),r.fromRgb(34,17,80),r.fromRgb(36,18,83),r.fromRgb(37,18,85),r.fromRgb(39,18,88),r.fromRgb(41,17,90),r.fromRgb(42,17,92),r.fromRgb(44,17,95),r.fromRgb(45,17,97),r.fromRgb(47,17,99),r.fromRgb(49,17,101),r.fromRgb(51,16,103),r.fromRgb(52,16,105),r.fromRgb(54,16,107),r.fromRgb(56,16,108),r.fromRgb(57,15,110),r.fromRgb(59,15,112),r.fromRgb(61,15,113),r.fromRgb(63,15,114),r.fromRgb(64,15,116),r.fromRgb(66,15,117),r.fromRgb(68,15,118),r.fromRgb(69,16,119),r.fromRgb(71,16,120),r.fromRgb(73,16,120),r.fromRgb(74,16,121),r.fromRgb(76,17,122),r.fromRgb(78,17,123),r.fromRgb(79,18,123),r.fromRgb(81,18,124),r.fromRgb(82,19,124),r.fromRgb(84,19,125),r.fromRgb(86,20,125),r.fromRgb(87,21,126),r.fromRgb(89,21,126),r.fromRgb(90,22,126),r.fromRgb(92,22,127),r.fromRgb(93,23,127),r.fromRgb(95,24,127),r.fromRgb(96,24,128),r.fromRgb(98,25,128),r.fromRgb(100,26,128),r.fromRgb(101,26,128),r.fromRgb(103,27,128),r.fromRgb(104,28,129),r.fromRgb(106,28,129),r.fromRgb(107,29,129),r.fromRgb(109,29,129),r.fromRgb(110,30,129),r.fromRgb(112,31,129),r.fromRgb(114,31,129),r.fromRgb(115,32,129),r.fromRgb(117,33,129),r.fromRgb(118,33,129),r.fromRgb(120,34,129),r.fromRgb(121,34,130),r.fromRgb(123,35,130),r.fromRgb(124,35,130),r.fromRgb(126,36,130),r.fromRgb(128,37,130),r.fromRgb(129,37,129),r.fromRgb(131,38,129),r.fromRgb(132,38,129),r.fromRgb(134,39,129),r.fromRgb(136,39,129),r.fromRgb(137,40,129),r.fromRgb(139,41,129),r.fromRgb(140,41,129),r.fromRgb(142,42,129),r.fromRgb(144,42,129),r.fromRgb(145,43,129),r.fromRgb(147,43,128),r.fromRgb(148,44,128),r.fromRgb(150,44,128),r.fromRgb(152,45,128),r.fromRgb(153,45,128),r.fromRgb(155,46,127),r.fromRgb(156,46,127),r.fromRgb(158,47,127),r.fromRgb(160,47,127),r.fromRgb(161,48,126),r.fromRgb(163,48,126),r.fromRgb(165,49,126),r.fromRgb(166,49,125),r.fromRgb(168,50,125),r.fromRgb(170,51,125),r.fromRgb(171,51,124),r.fromRgb(173,52,124),r.fromRgb(174,52,123),r.fromRgb(176,53,123),r.fromRgb(178,53,123),r.fromRgb(179,54,122),r.fromRgb(181,54,122),r.fromRgb(183,55,121),r.fromRgb(184,55,121),r.fromRgb(186,56,120),r.fromRgb(188,57,120),r.fromRgb(189,57,119),r.fromRgb(191,58,119),r.fromRgb(192,58,118),r.fromRgb(194,59,117),r.fromRgb(196,60,117),r.fromRgb(197,60,116),r.fromRgb(199,61,115),r.fromRgb(200,62,115),r.fromRgb(202,62,114),r.fromRgb(204,63,113),r.fromRgb(205,64,113),r.fromRgb(207,64,112),r.fromRgb(208,65,111),r.fromRgb(210,66,111),r.fromRgb(211,67,110),r.fromRgb(213,68,109),r.fromRgb(214,69,108),r.fromRgb(216,69,108),r.fromRgb(217,70,107),r.fromRgb(219,71,106),r.fromRgb(220,72,105),r.fromRgb(222,73,104),r.fromRgb(223,74,104),r.fromRgb(224,76,103),r.fromRgb(226,77,102),r.fromRgb(227,78,101),r.fromRgb(228,79,100),r.fromRgb(229,80,100),r.fromRgb(231,82,99),r.fromRgb(232,83,98),r.fromRgb(233,84,98),r.fromRgb(234,86,97),r.fromRgb(235,87,96),r.fromRgb(236,88,96),r.fromRgb(237,90,95),r.fromRgb(238,91,94),r.fromRgb(239,93,94),r.fromRgb(240,95,94),r.fromRgb(241,96,93),r.fromRgb(242,98,93),r.fromRgb(242,100,92),r.fromRgb(243,101,92),r.fromRgb(244,103,92),r.fromRgb(244,105,92),r.fromRgb(245,107,92),r.fromRgb(246,108,92),r.fromRgb(246,110,92),r.fromRgb(247,112,92),r.fromRgb(247,114,92),r.fromRgb(248,116,92),r.fromRgb(248,118,92),r.fromRgb(249,120,93),r.fromRgb(249,121,93),r.fromRgb(249,123,93),r.fromRgb(250,125,94),r.fromRgb(250,127,94),r.fromRgb(250,129,95),r.fromRgb(251,131,95),r.fromRgb(251,133,96),r.fromRgb(251,135,97),r.fromRgb(252,137,97),r.fromRgb(252,138,98),r.fromRgb(252,140,99),r.fromRgb(252,142,100),r.fromRgb(252,144,101),r.fromRgb(253,146,102),r.fromRgb(253,148,103),r.fromRgb(253,150,104),r.fromRgb(253,152,105),r.fromRgb(253,154,106),r.fromRgb(253,155,107),r.fromRgb(254,157,108),r.fromRgb(254,159,109),r.fromRgb(254,161,110),r.fromRgb(254,163,111),r.fromRgb(254,165,113),r.fromRgb(254,167,114),r.fromRgb(254,169,115),r.fromRgb(254,170,116),r.fromRgb(254,172,118),r.fromRgb(254,174,119),r.fromRgb(254,176,120),r.fromRgb(254,178,122),r.fromRgb(254,180,123),r.fromRgb(254,182,124),r.fromRgb(254,183,126),r.fromRgb(254,185,127),r.fromRgb(254,187,129),r.fromRgb(254,189,130),r.fromRgb(254,191,132),r.fromRgb(254,193,133),r.fromRgb(254,194,135),r.fromRgb(254,196,136),r.fromRgb(254,198,138),r.fromRgb(254,200,140),r.fromRgb(254,202,141),r.fromRgb(254,204,143),r.fromRgb(254,205,144),r.fromRgb(254,207,146),r.fromRgb(254,209,148),r.fromRgb(254,211,149),r.fromRgb(254,213,151),r.fromRgb(254,215,153),r.fromRgb(254,216,154),r.fromRgb(253,218,156),r.fromRgb(253,220,158),r.fromRgb(253,222,160),r.fromRgb(253,224,161),r.fromRgb(253,226,163),r.fromRgb(253,227,165),r.fromRgb(253,229,167),r.fromRgb(253,231,169),r.fromRgb(253,233,170),r.fromRgb(253,235,172),r.fromRgb(252,236,174),r.fromRgb(252,238,176),r.fromRgb(252,240,178),r.fromRgb(252,242,180),r.fromRgb(252,244,182),r.fromRgb(252,246,184),r.fromRgb(252,247,185),r.fromRgb(252,249,187),r.fromRgb(252,251,189),r.fromRgb(252,253,191)],Vn=[r.fromRgb(13,8,135),r.fromRgb(16,7,136),r.fromRgb(19,7,137),r.fromRgb(22,7,138),r.fromRgb(25,6,140),r.fromRgb(27,6,141),r.fromRgb(29,6,142),r.fromRgb(32,6,143),r.fromRgb(34,6,144),r.fromRgb(36,6,145),r.fromRgb(38,5,145),r.fromRgb(40,5,146),r.fromRgb(42,5,147),r.fromRgb(44,5,148),r.fromRgb(46,5,149),r.fromRgb(47,5,150),r.fromRgb(49,5,151),r.fromRgb(51,5,151),r.fromRgb(53,4,152),r.fromRgb(55,4,153),r.fromRgb(56,4,154),r.fromRgb(58,4,154),r.fromRgb(60,4,155),r.fromRgb(62,4,156),r.fromRgb(63,4,156),r.fromRgb(65,4,157),r.fromRgb(67,3,158),r.fromRgb(68,3,158),r.fromRgb(70,3,159),r.fromRgb(72,3,159),r.fromRgb(73,3,160),r.fromRgb(75,3,161),r.fromRgb(76,2,161),r.fromRgb(78,2,162),r.fromRgb(80,2,162),r.fromRgb(81,2,163),r.fromRgb(83,2,163),r.fromRgb(85,2,164),r.fromRgb(86,1,164),r.fromRgb(88,1,164),r.fromRgb(89,1,165),r.fromRgb(91,1,165),r.fromRgb(92,1,166),r.fromRgb(94,1,166),r.fromRgb(96,1,166),r.fromRgb(97,0,167),r.fromRgb(99,0,167),r.fromRgb(100,0,167),r.fromRgb(102,0,167),r.fromRgb(103,0,168),r.fromRgb(105,0,168),r.fromRgb(106,0,168),r.fromRgb(108,0,168),r.fromRgb(110,0,168),r.fromRgb(111,0,168),r.fromRgb(113,0,168),r.fromRgb(114,1,168),r.fromRgb(116,1,168),r.fromRgb(117,1,168),r.fromRgb(119,1,168),r.fromRgb(120,1,168),r.fromRgb(122,2,168),r.fromRgb(123,2,168),r.fromRgb(125,3,168),r.fromRgb(126,3,168),r.fromRgb(128,4,168),r.fromRgb(129,4,167),r.fromRgb(131,5,167),r.fromRgb(132,5,167),r.fromRgb(134,6,166),r.fromRgb(135,7,166),r.fromRgb(136,8,166),r.fromRgb(138,9,165),r.fromRgb(139,10,165),r.fromRgb(141,11,165),r.fromRgb(142,12,164),r.fromRgb(143,13,164),r.fromRgb(145,14,163),r.fromRgb(146,15,163),r.fromRgb(148,16,162),r.fromRgb(149,17,161),r.fromRgb(150,19,161),r.fromRgb(152,20,160),r.fromRgb(153,21,159),r.fromRgb(154,22,159),r.fromRgb(156,23,158),r.fromRgb(157,24,157),r.fromRgb(158,25,157),r.fromRgb(160,26,156),r.fromRgb(161,27,155),r.fromRgb(162,29,154),r.fromRgb(163,30,154),r.fromRgb(165,31,153),r.fromRgb(166,32,152),r.fromRgb(167,33,151),r.fromRgb(168,34,150),r.fromRgb(170,35,149),r.fromRgb(171,36,148),r.fromRgb(172,38,148),r.fromRgb(173,39,147),r.fromRgb(174,40,146),r.fromRgb(176,41,145),r.fromRgb(177,42,144),r.fromRgb(178,43,143),r.fromRgb(179,44,142),r.fromRgb(180,46,141),r.fromRgb(181,47,140),r.fromRgb(182,48,139),r.fromRgb(183,49,138),r.fromRgb(184,50,137),r.fromRgb(186,51,136),r.fromRgb(187,52,136),r.fromRgb(188,53,135),r.fromRgb(189,55,134),r.fromRgb(190,56,133),r.fromRgb(191,57,132),r.fromRgb(192,58,131),r.fromRgb(193,59,130),r.fromRgb(194,60,129),r.fromRgb(195,61,128),r.fromRgb(196,62,127),r.fromRgb(197,64,126),r.fromRgb(198,65,125),r.fromRgb(199,66,124),r.fromRgb(200,67,123),r.fromRgb(201,68,122),r.fromRgb(202,69,122),r.fromRgb(203,70,121),r.fromRgb(204,71,120),r.fromRgb(204,73,119),r.fromRgb(205,74,118),r.fromRgb(206,75,117),r.fromRgb(207,76,116),r.fromRgb(208,77,115),r.fromRgb(209,78,114),r.fromRgb(210,79,113),r.fromRgb(211,81,113),r.fromRgb(212,82,112),r.fromRgb(213,83,111),r.fromRgb(213,84,110),r.fromRgb(214,85,109),r.fromRgb(215,86,108),r.fromRgb(216,87,107),r.fromRgb(217,88,106),r.fromRgb(218,90,106),r.fromRgb(218,91,105),r.fromRgb(219,92,104),r.fromRgb(220,93,103),r.fromRgb(221,94,102),r.fromRgb(222,95,101),r.fromRgb(222,97,100),r.fromRgb(223,98,99),r.fromRgb(224,99,99),r.fromRgb(225,100,98),r.fromRgb(226,101,97),r.fromRgb(226,102,96),r.fromRgb(227,104,95),r.fromRgb(228,105,94),r.fromRgb(229,106,93),r.fromRgb(229,107,93),r.fromRgb(230,108,92),r.fromRgb(231,110,91),r.fromRgb(231,111,90),r.fromRgb(232,112,89),r.fromRgb(233,113,88),r.fromRgb(233,114,87),r.fromRgb(234,116,87),r.fromRgb(235,117,86),r.fromRgb(235,118,85),r.fromRgb(236,119,84),r.fromRgb(237,121,83),r.fromRgb(237,122,82),r.fromRgb(238,123,81),r.fromRgb(239,124,81),r.fromRgb(239,126,80),r.fromRgb(240,127,79),r.fromRgb(240,128,78),r.fromRgb(241,129,77),r.fromRgb(241,131,76),r.fromRgb(242,132,75),r.fromRgb(243,133,75),r.fromRgb(243,135,74),r.fromRgb(244,136,73),r.fromRgb(244,137,72),r.fromRgb(245,139,71),r.fromRgb(245,140,70),r.fromRgb(246,141,69),r.fromRgb(246,143,68),r.fromRgb(247,144,68),r.fromRgb(247,145,67),r.fromRgb(247,147,66),r.fromRgb(248,148,65),r.fromRgb(248,149,64),r.fromRgb(249,151,63),r.fromRgb(249,152,62),r.fromRgb(249,154,62),r.fromRgb(250,155,61),r.fromRgb(250,156,60),r.fromRgb(250,158,59),r.fromRgb(251,159,58),r.fromRgb(251,161,57),r.fromRgb(251,162,56),r.fromRgb(252,163,56),r.fromRgb(252,165,55),r.fromRgb(252,166,54),r.fromRgb(252,168,53),r.fromRgb(252,169,52),r.fromRgb(253,171,51),r.fromRgb(253,172,51),r.fromRgb(253,174,50),r.fromRgb(253,175,49),r.fromRgb(253,177,48),r.fromRgb(253,178,47),r.fromRgb(253,180,47),r.fromRgb(253,181,46),r.fromRgb(254,183,45),r.fromRgb(254,184,44),r.fromRgb(254,186,44),r.fromRgb(254,187,43),r.fromRgb(254,189,42),r.fromRgb(254,190,42),r.fromRgb(254,192,41),r.fromRgb(253,194,41),r.fromRgb(253,195,40),r.fromRgb(253,197,39),r.fromRgb(253,198,39),r.fromRgb(253,200,39),r.fromRgb(253,202,38),r.fromRgb(253,203,38),r.fromRgb(252,205,37),r.fromRgb(252,206,37),r.fromRgb(252,208,37),r.fromRgb(252,210,37),r.fromRgb(251,211,36),r.fromRgb(251,213,36),r.fromRgb(251,215,36),r.fromRgb(250,216,36),r.fromRgb(250,218,36),r.fromRgb(249,220,36),r.fromRgb(249,221,37),r.fromRgb(248,223,37),r.fromRgb(248,225,37),r.fromRgb(247,226,37),r.fromRgb(247,228,37),r.fromRgb(246,230,38),r.fromRgb(246,232,38),r.fromRgb(245,233,38),r.fromRgb(245,235,39),r.fromRgb(244,237,39),r.fromRgb(243,238,39),r.fromRgb(243,240,39),r.fromRgb(242,242,39),r.fromRgb(241,244,38),r.fromRgb(241,245,37),r.fromRgb(240,247,36),r.fromRgb(240,249,33)],En=[r.fromRgb(68,1,84),r.fromRgb(68,2,86),r.fromRgb(69,4,87),r.fromRgb(69,5,89),r.fromRgb(70,7,90),r.fromRgb(70,8,92),r.fromRgb(70,10,93),r.fromRgb(70,11,94),r.fromRgb(71,13,96),r.fromRgb(71,14,97),r.fromRgb(71,16,99),r.fromRgb(71,17,100),r.fromRgb(71,19,101),r.fromRgb(72,20,103),r.fromRgb(72,22,104),r.fromRgb(72,23,105),r.fromRgb(72,24,106),r.fromRgb(72,26,108),r.fromRgb(72,27,109),r.fromRgb(72,28,110),r.fromRgb(72,29,111),r.fromRgb(72,31,112),r.fromRgb(72,32,113),r.fromRgb(72,33,115),r.fromRgb(72,35,116),r.fromRgb(72,36,117),r.fromRgb(72,37,118),r.fromRgb(72,38,119),r.fromRgb(72,40,120),r.fromRgb(72,41,121),r.fromRgb(71,42,122),r.fromRgb(71,44,122),r.fromRgb(71,45,123),r.fromRgb(71,46,124),r.fromRgb(71,47,125),r.fromRgb(70,48,126),r.fromRgb(70,50,126),r.fromRgb(70,51,127),r.fromRgb(70,52,128),r.fromRgb(69,53,129),r.fromRgb(69,55,129),r.fromRgb(69,56,130),r.fromRgb(68,57,131),r.fromRgb(68,58,131),r.fromRgb(68,59,132),r.fromRgb(67,61,132),r.fromRgb(67,62,133),r.fromRgb(66,63,133),r.fromRgb(66,64,134),r.fromRgb(66,65,134),r.fromRgb(65,66,135),r.fromRgb(65,68,135),r.fromRgb(64,69,136),r.fromRgb(64,70,136),r.fromRgb(63,71,136),r.fromRgb(63,72,137),r.fromRgb(62,73,137),r.fromRgb(62,74,137),r.fromRgb(62,76,138),r.fromRgb(61,77,138),r.fromRgb(61,78,138),r.fromRgb(60,79,138),r.fromRgb(60,80,139),r.fromRgb(59,81,139),r.fromRgb(59,82,139),r.fromRgb(58,83,139),r.fromRgb(58,84,140),r.fromRgb(57,85,140),r.fromRgb(57,86,140),r.fromRgb(56,88,140),r.fromRgb(56,89,140),r.fromRgb(55,90,140),r.fromRgb(55,91,141),r.fromRgb(54,92,141),r.fromRgb(54,93,141),r.fromRgb(53,94,141),r.fromRgb(53,95,141),r.fromRgb(52,96,141),r.fromRgb(52,97,141),r.fromRgb(51,98,141),r.fromRgb(51,99,141),r.fromRgb(50,100,142),r.fromRgb(50,101,142),r.fromRgb(49,102,142),r.fromRgb(49,103,142),r.fromRgb(49,104,142),r.fromRgb(48,105,142),r.fromRgb(48,106,142),r.fromRgb(47,107,142),r.fromRgb(47,108,142),r.fromRgb(46,109,142),r.fromRgb(46,110,142),r.fromRgb(46,111,142),r.fromRgb(45,112,142),r.fromRgb(45,113,142),r.fromRgb(44,113,142),r.fromRgb(44,114,142),r.fromRgb(44,115,142),r.fromRgb(43,116,142),r.fromRgb(43,117,142),r.fromRgb(42,118,142),r.fromRgb(42,119,142),r.fromRgb(42,120,142),r.fromRgb(41,121,142),r.fromRgb(41,122,142),r.fromRgb(41,123,142),r.fromRgb(40,124,142),r.fromRgb(40,125,142),r.fromRgb(39,126,142),r.fromRgb(39,127,142),r.fromRgb(39,128,142),r.fromRgb(38,129,142),r.fromRgb(38,130,142),r.fromRgb(38,130,142),r.fromRgb(37,131,142),r.fromRgb(37,132,142),r.fromRgb(37,133,142),r.fromRgb(36,134,142),r.fromRgb(36,135,142),r.fromRgb(35,136,142),r.fromRgb(35,137,142),r.fromRgb(35,138,141),r.fromRgb(34,139,141),r.fromRgb(34,140,141),r.fromRgb(34,141,141),r.fromRgb(33,142,141),r.fromRgb(33,143,141),r.fromRgb(33,144,141),r.fromRgb(33,145,140),r.fromRgb(32,146,140),r.fromRgb(32,146,140),r.fromRgb(32,147,140),r.fromRgb(31,148,140),r.fromRgb(31,149,139),r.fromRgb(31,150,139),r.fromRgb(31,151,139),r.fromRgb(31,152,139),r.fromRgb(31,153,138),r.fromRgb(31,154,138),r.fromRgb(30,155,138),r.fromRgb(30,156,137),r.fromRgb(30,157,137),r.fromRgb(31,158,137),r.fromRgb(31,159,136),r.fromRgb(31,160,136),r.fromRgb(31,161,136),r.fromRgb(31,161,135),r.fromRgb(31,162,135),r.fromRgb(32,163,134),r.fromRgb(32,164,134),r.fromRgb(33,165,133),r.fromRgb(33,166,133),r.fromRgb(34,167,133),r.fromRgb(34,168,132),r.fromRgb(35,169,131),r.fromRgb(36,170,131),r.fromRgb(37,171,130),r.fromRgb(37,172,130),r.fromRgb(38,173,129),r.fromRgb(39,173,129),r.fromRgb(40,174,128),r.fromRgb(41,175,127),r.fromRgb(42,176,127),r.fromRgb(44,177,126),r.fromRgb(45,178,125),r.fromRgb(46,179,124),r.fromRgb(47,180,124),r.fromRgb(49,181,123),r.fromRgb(50,182,122),r.fromRgb(52,182,121),r.fromRgb(53,183,121),r.fromRgb(55,184,120),r.fromRgb(56,185,119),r.fromRgb(58,186,118),r.fromRgb(59,187,117),r.fromRgb(61,188,116),r.fromRgb(63,188,115),r.fromRgb(64,189,114),r.fromRgb(66,190,113),r.fromRgb(68,191,112),r.fromRgb(70,192,111),r.fromRgb(72,193,110),r.fromRgb(74,193,109),r.fromRgb(76,194,108),r.fromRgb(78,195,107),r.fromRgb(80,196,106),r.fromRgb(82,197,105),r.fromRgb(84,197,104),r.fromRgb(86,198,103),r.fromRgb(88,199,101),r.fromRgb(90,200,100),r.fromRgb(92,200,99),r.fromRgb(94,201,98),r.fromRgb(96,202,96),r.fromRgb(99,203,95),r.fromRgb(101,203,94),r.fromRgb(103,204,92),r.fromRgb(105,205,91),r.fromRgb(108,205,90),r.fromRgb(110,206,88),r.fromRgb(112,207,87),r.fromRgb(115,208,86),r.fromRgb(117,208,84),r.fromRgb(119,209,83),r.fromRgb(122,209,81),r.fromRgb(124,210,80),r.fromRgb(127,211,78),r.fromRgb(129,211,77),r.fromRgb(132,212,75),r.fromRgb(134,213,73),r.fromRgb(137,213,72),r.fromRgb(139,214,70),r.fromRgb(142,214,69),r.fromRgb(144,215,67),r.fromRgb(147,215,65),r.fromRgb(149,216,64),r.fromRgb(152,216,62),r.fromRgb(155,217,60),r.fromRgb(157,217,59),r.fromRgb(160,218,57),r.fromRgb(162,218,55),r.fromRgb(165,219,54),r.fromRgb(168,219,52),r.fromRgb(170,220,50),r.fromRgb(173,220,48),r.fromRgb(176,221,47),r.fromRgb(178,221,45),r.fromRgb(181,222,43),r.fromRgb(184,222,41),r.fromRgb(186,222,40),r.fromRgb(189,223,38),r.fromRgb(192,223,37),r.fromRgb(194,223,35),r.fromRgb(197,224,33),r.fromRgb(200,224,32),r.fromRgb(202,225,31),r.fromRgb(205,225,29),r.fromRgb(208,225,28),r.fromRgb(210,226,27),r.fromRgb(213,226,26),r.fromRgb(216,226,25),r.fromRgb(218,227,25),r.fromRgb(221,227,24),r.fromRgb(223,227,24),r.fromRgb(226,228,24),r.fromRgb(229,228,25),r.fromRgb(231,228,25),r.fromRgb(234,229,26),r.fromRgb(236,229,27),r.fromRgb(239,229,28),r.fromRgb(241,229,29),r.fromRgb(244,230,30),r.fromRgb(246,230,32),r.fromRgb(248,230,33),r.fromRgb(251,231,35),r.fromRgb(253,231,37)];class Yn{constructor(t){u(this,"parent"),u(this,"keyDown"),u(this,"mouseDown"),u(this,"mouseMove"),u(this,"mouseUp"),u(this,"touchStarted"),u(this,"touchDelta"),u(this,"touchCompleted"),u(this,"selection"),u(this,"selectionChanged"),u(this,"selectable",!0),u(this,"selectionMode",mi.All)}hitTest(t){return this.hitTestOverride(t)}hitTestOverride(t){}onMouseDown(t){this.mouseDown&&this.mouseDown(this,t)}onMouseMove(t){this.mouseMove&&this.mouseMove(this,t)}onKeyDown(t){this.keyDown&&this.keyDown(this,t)}onMouseUp(t){this.mouseUp&&this.mouseUp(this,t)}onTouchStarted(t){this.touchStarted&&this.touchStarted(this,t)}onTouchDelta(t){this.touchDelta&&this.touchDelta(this,t)}onTouchCompleted(t){this.touchCompleted&&this.touchCompleted(this,t)}get actualSelectedColor(){return this.parent?this.parent.selectionColor.getActualColor(Jn.DefaultSelectionColor):Jn.DefaultSelectionColor}isSelected(){return!!this.selection}getSelectedItems(){return this.ensureSelection(),this.selection.getSelectedItems()}clearSelection(){this.selection=void 0,this.onSelectionChanged()}unselect(){this.selection=void 0,this.onSelectionChanged()}isItemSelected(t){return this.selection?t===-1?this.selection.isEverythingSelected():this.selection.isItemSelected(t):!1}select(){this.selection=ba.Everything,this.onSelectionChanged()}selectItem(t){if(this.selectionMode===mi.All)throw new Error("Use the select() method when using SelectionMode.All");this.ensureSelection(),this.selectionMode===mi.Single&&this.selection.clear(),this.selection.select(t),this.onSelectionChanged()}unselectItem(t){if(this.selectionMode===mi.All)throw new Error("Use the unselect() method when using SelectionMode.All");this.ensureSelection(),this.selection.unselect(t),this.onSelectionChanged()}getSelectableColor(t,e=-1){return t.isUndefined()?p.Undefined:this.isItemSelected(e)?this.actualSelectedColor:t}getSelectableFillColor(t,e=-1){return this.getSelectableColor(t,e)}ensureSelection(){this.selection=this.selection||new ba}onSelectionChanged(t){this.selectionChanged&&this.selectionChanged(this,t)}}class mn extends Yn{constructor(t){super(t),u(this,"font"),u(this,"fontSize",NaN),u(this,"fontWeight",Ut.Normal),u(this,"tag"),u(this,"textColor"),u(this,"edgeRenderingMode"),u(this,"toolTip"),u(this,"_plotElementId"),this.fontSize=NaN,this.fontWeight=Ut.Normal,this.textColor=p.Automatic,this.edgeRenderingMode=U.Automatic}get plotModel(){return this.parent}get actualFont(){return this.font||this.plotModel.defaultFont}get actualFontSize(){return isNaN(this.fontSize)?this.plotModel.defaultFontSize:this.fontSize}get actualFontWeight(){return this.fontWeight}get actualTextColor(){return this.textColor.getActualColor(this.plotModel.textColor)}getClippingRect(){return N.Everything}getElementHashCode(){return xi(this._plotElementId)&&(ga++,this._plotElementId=ga),this._plotElementId}}let ga=0;var Me=(i=>(i[i.BelowAxes=0]="BelowAxes",i[i.BelowSeries=1]="BelowSeries",i[i.AboveSeries=2]="AboveSeries",i))(Me||{}),li=(i=>(i[i.Horizontal=0]="Horizontal",i[i.Vertical=1]="Vertical",i[i.AlongLine=2]="AlongLine",i))(li||{});class _a extends mn{constructor(t){super(),u(this,"layer"),u(this,"_xAxis"),u(this,"xAxisKey"),u(this,"_yAxis"),u(this,"clipByXAxis"),u(this,"clipByYAxis"),u(this,"yAxisKey"),this.layer=Me.AboveSeries,this.clipByXAxis=!0,this.clipByYAxis=!0,t&&(t.xAxis&&(this._xAxis=t.xAxis),t.yAxis&&(this._yAxis=t.yAxis))}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}getClippingRect(){const t=this.plotModel.plotArea,e=di.getClippingRect(this);let s=0,n=Number.POSITIVE_INFINITY,o=0,a=Number.POSITIVE_INFINITY;this.clipByXAxis&&(s=e.topLeft.x,n=e.bottomRight.x),this.clipByYAxis&&(o=e.topLeft.y,a=e.bottomRight.y);const l=A(s,o),h=A(n,a),m=N.fromScreenPoints(l,h);return t.clip(m)}transform(t){return di.transform(this,t)}inverseTransform(t){return di.inverseTransform(this,t)}}class Oa extends _a{constructor(t){super(t),Xa(this)}getClippingRect(){const t=this.plotModel.plotArea,e=di.getClippingRect(this);let s=0,n=Number.POSITIVE_INFINITY,o=0,a=Number.POSITIVE_INFINITY;this.clipByXAxis&&(s=J.orientate(this,e.topLeft).x,n=J.orientate(this,e.bottomRight).x),this.clipByYAxis&&(o=J.orientate(this,e.topLeft).y,a=J.orientate(this,e.bottomRight).y);const l=J.orientate(this,A(s,o)),h=J.orientate(this,A(n,a)),m=N.fromScreenPoints(l,h);return t.clip(m)}transform(t){return di.transformOrientated(this,t)}inverseTransform(t){return di.inverseTransformOrientated(this,t)}}class un extends Oa{constructor(t){super(t),u(this,"text"),u(this,"textPosition"),u(this,"textHorizontalAlignment"),u(this,"textVerticalAlignment"),u(this,"textRotation"),this.textHorizontalAlignment=B.Center,this.textVerticalAlignment=D.Middle,this.textPosition=ae,this.textRotation=0}getActualTextPosition(t){return ls(this.textPosition)?this.transform(this.textPosition):t()}getActualTextAlignment(){return[this.textHorizontalAlignment,this.textVerticalAlignment]}}class ue extends un{constructor(t){super(t),u(this,"actualBounds"),u(this,"background"),u(this,"offset",dt.Zero),u(this,"padding"),u(this,"stroke"),u(this,"strokeThickness"),this.stroke=p.Black,this.background=p.Undefined,this.strokeThickness=1,this.textVerticalAlignment=D.Bottom,this.padding=new X(4),t&&Object.assign(this,st(t))}async render(t){if(!this.text)throw new Error("text must be non-undefined before rendering.");const e=bt(this.transform(this.textPosition),J.orientateVector(this,this.offset)),s=t.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),[n,o]=this.getActualTextAlignment();if(this.actualBounds=ue.getTextBounds(e,s,this.padding,this.textRotation,n,o),this.textRotation%90===0){const a=N.fromScreenPoints(this.actualBounds[0],this.actualBounds[2]);await t.drawRectangle(a,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode)}else await t.drawPolygon(this.actualBounds,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode);await oe.drawMathText(t,e,this.text,this.getSelectableFillColor(this.actualTextColor),this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,n,o)}hitTestOverride(t){if(this.actualBounds)return me.isPointInPolygon(t.point,this.actualBounds)?{element:this,nearestHitPoint:t.point}:void 0}static getTextBounds(t,e,s,n,o,a){let l,h,m,c;switch(o){case B.Center:l=-e.width*.5,h=-l;break;case B.Right:l=-e.width,h=0;break;default:l=0,h=e.width;break}switch(a){case D.Middle:m=-e.height*.5,c=-m;break;case D.Bottom:m=-e.height,c=0;break;default:m=0,c=e.height;break}const g=Math.cos(n/180*Math.PI),f=Math.sin(n/180*Math.PI),b=new dt(g,f),S=new dt(-f,g),M=new Array(4);return M[0]=bt(bt(t,b.times(l-s.left)),S.times(m-s.top)),M[1]=bt(bt(t,b.times(h+s.right)),S.times(m-s.top)),M[2]=bt(bt(t,b.times(h+s.right)),S.times(c+s.bottom)),M[3]=bt(bt(t,b.times(l-s.left)),S.times(c+s.bottom)),M}}class Ds extends un{constructor(t){super(t),u(this,"screenPoints"),u(this,"color"),u(this,"lineJoin"),u(this,"lineStyle"),u(this,"maximumX"),u(this,"maximumY"),u(this,"minimumX"),u(this,"minimumY"),u(this,"strokeThickness"),u(this,"textMargin"),u(this,"textPadding",0),u(this,"borderPadding",X.Zero),u(this,"borderBackground",p.Undefined),u(this,"borderStroke",p.Undefined),u(this,"borderStrokeThickness",0),u(this,"textOrientation"),u(this,"textLinePosition"),u(this,"minimumSegmentLength"),u(this,"actualMinimumX",NaN),u(this,"actualMinimumY",NaN),u(this,"actualMaximumX",NaN),u(this,"actualMaximumY",NaN),this.minimumX=ht,this.maximumX=et,this.minimumY=ht,this.maximumY=et,this.color=p.Blue,this.strokeThickness=1,this.lineStyle=k.Dash,this.lineJoin=Q.Miter,this.textLinePosition=1,this.textOrientation=li.AlongLine,this.textMargin=12,this.textHorizontalAlignment=B.Right,this.textVerticalAlignment=D.Top,this.minimumSegmentLength=2}async render(t){if(this.calculateActualMinimumsMaximums(),this.actualMinimumX>this.actualMaximumX||this.actualMinimumY>this.actualMaximumY)return;this.screenPoints=this.getScreenPoints();const e=[],s=Ft.getDashArray(this.lineStyle);this.strokeThickness>0&&this.lineStyle!==k.None&&await O.drawReducedLine(t,this.screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,s,this.lineJoin,void 0,b=>e.push(...b));let n=this.textMargin;const[o,a]=this.getActualTextAlignment(),l=J.isTransposed(this)?this.yAxis.isReversed?1-this.textLinePosition:this.textLinePosition:this.xAxis.isReversed?1-this.textLinePosition:this.textLinePosition;o===B.Center?n=0:n*=l<.5?1:-1;const h=Ds.getPointAtRelativeDistance(e,l,n);if(!h)return;let{position:m,angle:c}=h;switch(c<-90&&(c+=180),c>=90&&(c-=180),this.textOrientation){case li.Horizontal:c=0;break;case li.Vertical:c=-90;break}const g=c/180*Math.PI;let f=1;if(o===B.Right&&(f=-1),o===B.Center&&(f=0),m=bt(m,new dt(f*this.textPadding*Math.cos(g),f*this.textPadding*Math.sin(g))),this.text){const b=this.getActualTextPosition(()=>m);ls(this.textPosition)&&(c=this.textRotation);const S=t.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),M=ue.getTextBounds(m,S,this.borderPadding,c,o,a);if(c%90==0){const T=N.fromScreenPoints(M[0],M[2]);await t.drawRectangle(T,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode)}else await t.drawPolygon(M,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode);await t.drawText(b,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,c,o,a)}}hitTestOverride(t){if(!this.screenPoints)return;const e=me.findNearestPointOnPolyline(t.point,this.screenPoints);if(Gt(t.point,e).length<t.tolerance)return{element:this,nearestHitPoint:e}}calculateActualMinimumsMaximums(){if(!this.xAxis)throw new Error("xAxis is undefined.");if(!this.yAxis)throw new Error("yAxis is undefined.");this.actualMinimumX=Math.max(this.minimumX,this.xAxis.clipMinimum),this.actualMaximumX=Math.min(this.maximumX,this.xAxis.clipMaximum),this.actualMinimumY=Math.max(this.minimumY,this.yAxis.clipMinimum),this.actualMaximumY=Math.min(this.maximumY,this.yAxis.clipMaximum);const t=this.inverseTransform(this.plotModel.plotArea.topLeft),e=this.inverseTransform(this.plotModel.plotArea.bottomRight);this.clipByXAxis||(this.actualMaximumX=Math.max(t.x,e.x),this.actualMinimumX=Math.min(t.x,e.x)),this.clipByYAxis||(this.actualMaximumY=Math.max(t.y,e.y),this.actualMinimumY=Math.min(t.y,e.y))}static getPointAtRelativeDistance(t,e,s){if(!t||t.length===0)return;let n=0;for(let l=1;l<t.length;l++)n+=Gt(t[l],t[l-1]).length;const o=n*e+s,a=1e-8;n=0;for(let l=1;l<t.length;l++){const h=Gt(t[l],t[l-1]).length;if(o>=n-a&&o<=n+h+a){const m=(o-n)/h,c=t[l].x*m+t[l-1].x*(1-m),g=t[l].y*m+t[l-1].y*(1-m),f=A(c,g),b=t[l].x-t[l-1].x,S=t[l].y-t[l-1].y,M=Math.atan2(S,b)/Math.PI*180;return{position:f,angle:M}}n+=h}}}var de=(i=>(i[i.Horizontal=0]="Horizontal",i[i.Vertical=1]="Vertical",i[i.LinearEquation=2]="LinearEquation",i))(de||{});class Nt extends Ds{constructor(t){super(t),u(this,"intercept",0),u(this,"slope",0),u(this,"type"),u(this,"x",0),u(this,"y",0),this.type=2,t&&Object.assign(this,st(t))}getScreenPoints(){let t,e;switch(this.type){case 0:t=n=>this.y;break;case 1:e=n=>this.x;break;default:t=n=>this.slope*n+this.intercept;break}const s=[];if(this.xAxis instanceof w&&this.yAxis instanceof w)if(t)s.push(d(this.actualMinimumX,t(this.actualMinimumX))),s.push(d(this.actualMaximumX,t(this.actualMaximumX)));else if(e)s.push(d(e(this.actualMinimumY),this.actualMinimumY)),s.push(d(e(this.actualMaximumY),this.actualMaximumY));else throw new Error("fx or fy must be non-undefined.");else if(t){const n=(this.actualMaximumX-this.actualMinimumX)/100;for(let o=0;o<=100;o++){const a=this.actualMinimumX+o*n;s.push(d(a,t(a)))}}else if(e){const n=(this.actualMaximumY-this.actualMinimumY)/100;for(let o=0;o<=100;o++){const a=this.actualMinimumY+o*n;s.push(d(e(a),a))}}return s.map(n=>this.transform(n))}}class cn extends un{constructor(t){super(t),u(this,"fill"),u(this,"stroke"),u(this,"strokeThickness",0),this.stroke=p.Black,this.fill=p.LightBlue}}class je extends cn{constructor(t){super(t),u(this,"screenPosition",ye),u(this,"x",0),u(this,"y",0),u(this,"size"),u(this,"textMargin"),u(this,"shape"),u(this,"customOutline"),this.size=4,this.textMargin=2,this.shape=F.Circle,this.textVerticalAlignment=D.Top,t&&Object.assign(this,st(t))}async render(t){if(this.screenPosition=J.transform(this,this.x,this.y),await O.drawMarker(t,this.screenPosition,this.shape,this.customOutline,this.size,this.fill,this.stroke,this.strokeThickness,this.edgeRenderingMode),this.text){const[e,s]=this.getActualTextAlignment(),n=-Number(e)*(this.size+this.textMargin),o=-Number(s)*(this.size+this.textMargin),a=bt(this.screenPosition,new dt(n,o));await t.drawText(a,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,e,s)}}hitTestOverride(t){if(Ve(this.screenPosition,t.point)<this.size)return{element:this,nearestHitPoint:this.screenPosition}}}class xa extends Ds{constructor(t){super(t),u(this,"type"),u(this,"equation"),u(this,"resolution"),this.resolution=400,this.type=0,t&&Object.assign(this,st(t))}getScreenPoints(){let t,e;switch(this.type){case 0:t=this.equation;break;case 1:e=this.equation;break}const s=[];if(t){let n=this.actualMinimumX;const o=(this.actualMaximumX-this.actualMinimumX)/this.resolution;for(;s.push(d(n,t(n))),!(n>this.actualMaximumX);)n+=o}else if(e){let n=this.actualMinimumY;const o=(this.actualMaximumY-this.actualMinimumY)/this.resolution;for(;s.push(d(e(n),n)),!(n>this.actualMaximumY);)n+=o}return s.map(n=>this.transform(n))}}var za=(i=>(i[i.EquationX=0]="EquationX",i[i.EquationY=1]="EquationY",i))(za||{});class ss extends un{constructor(t){super(),u(this,"screenEndPoint",ye),u(this,"screenStartPoint",ye),u(this,"arrowDirection",dt.Zero),u(this,"color"),u(this,"endPoint",Ai),u(this,"headLength"),u(this,"headWidth"),u(this,"lineJoin"),u(this,"lineStyle"),u(this,"startPoint",Ai),u(this,"strokeThickness"),u(this,"veeness",0),this.headLength=10,this.headWidth=3,this.color=p.Blue,this.strokeThickness=2,this.lineStyle=k.Solid,this.lineJoin=Q.Miter,t&&Object.assign(this,st(t))}async render(t){this.screenEndPoint=this.transform(this.endPoint),this.arrowDirection.lengthSquared>0?this.screenStartPoint=ke(this.screenEndPoint,J.orientateVector(this,this.arrowDirection)):this.screenStartPoint=this.transform(this.startPoint);const e=Gt(this.screenEndPoint,this.screenStartPoint);e.normalize();const s=new dt(e.y,-e.x),n=ke(this.screenEndPoint,e.times(this.headLength*this.strokeThickness)),o=bt(n,s.times(this.headWidth*this.strokeThickness)),a=ke(n,s.times(this.headWidth*this.strokeThickness)),l=bt(n,e.times(this.veeness*this.strokeThickness)),h=0,m=Ft.getDashArray(this.lineStyle);if(this.strokeThickness>0&&this.lineStyle!==k.None&&(await O.drawReducedLine(t,[this.screenStartPoint,l],h*h,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,m,this.lineJoin),await O.drawReducedPolygon(t,[a,this.screenEndPoint,o,l],h*h,this.getSelectableColor(this.color),p.Undefined,0,this.edgeRenderingMode)),!this.text)return;let c,g;if(ls(this.textPosition))[c,g]=this.getActualTextAlignment();else{const b=Math.atan2(e.y,e.x),S=Math.PI/8;b<3*S&&b>-3*S?c=B.Right:b>5*S||b<-5*S?c=B.Left:c=B.Center,b>S&&b<7*S?g=D.Bottom:b<-S&&b>-7*S?g=D.Top:g=D.Middle}const f=this.getActualTextPosition(()=>this.screenStartPoint);await t.drawText(f,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,c,g)}hitTestOverride(t){if(Gt(t.point,this.screenStartPoint).length<t.tolerance)return{element:this,nearestHitPoint:this.screenStartPoint,index:0};if(Gt(t.point,this.screenEndPoint).length<t.tolerance)return{element:this,nearestHitPoint:this.screenEndPoint,index:2};const e=me.findPointOnLine(t.point,this.screenStartPoint,this.screenEndPoint);if(Gt(e,t.point).length<t.tolerance)return{element:this,nearestHitPoint:e}}}class jt extends _a{constructor(t){super(),u(this,"rendering"),this.rendering=t}async render(t){await this.rendering(t)}getClippingRect(){return N.Everything}}class Ms extends cn{constructor(t){super(t),u(this,"screenRectangle",N.Empty),u(this,"x",0),u(this,"y",0),u(this,"width",0),u(this,"height",0),this.width=NaN,this.height=NaN,t&&Object.assign(this,st(t))}async render(t){const e=J.transform(this,this.x-this.width/2,this.y-this.height/2),s=J.transform(this,this.x+this.width/2,this.y+this.height/2);if(this.screenRectangle=N.fromScreenPoints(e,s),await t.drawEllipse(this.screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode),this.text){const n=this.getActualTextPosition(()=>this.screenRectangle.center),[o,a]=this.getActualTextAlignment();await t.drawText(n,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,o,a)}}hitTestOverride(t){if(this.screenRectangle.containsPoint(t.point))return{element:this,nearestHitPoint:t.point}}}class Qe extends cn{constructor(t){super(t),u(this,"screenPoints",[]),u(this,"lineJoin"),u(this,"lineStyle"),u(this,"minimumSegmentLength"),u(this,"points",[]),this.lineStyle=k.Solid,this.lineJoin=Q.Miter,this.minimumSegmentLength=2,t&&Object.assign(this,t)}async render(t){if(this.points&&(this.screenPoints=this.points.map(e=>this.transform(e)),this.screenPoints.length!==0&&(await O.drawReducedPolygon(t,this.screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode,this.lineStyle,this.lineJoin),this.text))){const[e,s]=this.getActualTextAlignment(),n=this.getActualTextPosition(()=>me.getCentroid(this.screenPoints));await t.drawText(n,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,e,s)}}hitTestOverride(t){if(!(!this.screenPoints||this.screenPoints.length===0))return me.isPointInPolygon(t.point,this.screenPoints)?{element:this,nearestHitPoint:t.point}:void 0}}class Ts extends Ds{constructor(t){super(t),u(this,"_points",[]),u(this,"interpolationAlgorithm"),t&&Object.assign(this,st(t))}get points(){return this._points}getScreenPoints(){const t=this.points.map(e=>this.transform(e));if(this.interpolationAlgorithm){const e=me.resamplePoints(t,this.minimumSegmentLength);return this.interpolationAlgorithm.createSplineSp(e,!1,.25)}return this.points.map(e=>this.transform(e))}}class qt extends cn{constructor(t){super(t),u(this,"screenRectangle",N.Empty),u(this,"minimumX"),u(this,"maximumX"),u(this,"minimumY"),u(this,"maximumY"),this.minimumX=-1/0,this.maximumX=1/0,this.minimumY=-1/0,this.maximumY=1/0,this.textRotation=0,this.textHorizontalAlignment=B.Center,this.textVerticalAlignment=D.Middle,t&&Object.assign(this,st(t))}async render(t){const e=this.getClippingRect(),s=this.inverseTransform(e.topLeft),n=this.inverseTransform(e.bottomRight),o=this.minimumX===-1/0||isNaN(this.minimumX)?Math.min(s.x,n.x):this.minimumX,a=this.maximumX===1/0||isNaN(this.maximumX)?Math.max(s.x,n.x):this.maximumX,l=this.minimumY===-1/0||isNaN(this.minimumY)?Math.min(s.y,n.y):this.minimumY,h=this.maximumY===1/0||isNaN(this.maximumY)?Math.max(s.y,n.y):this.maximumY,m=J.transform;this.screenRectangle=N.fromScreenPoints(m(this,o,l),m(this,a,h));const c=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);if(await t.drawRectangle(this.screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,c),this.text){const[g,f]=this.getActualTextAlignment(),b=this.getActualTextPosition(()=>this.screenRectangle.center);await t.drawText(b,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,g,f)}}hitTestOverride(t){if(this.screenRectangle.containsPoint(t.point))return{element:this,nearestHitPoint:t.point}}}class Le extends Oa{constructor(t){super(t),u(this,"actualBounds",N.Empty),u(this,"imageSource"),u(this,"horizontalAlignment"),u(this,"x"),u(this,"y"),u(this,"offsetX"),u(this,"offsetY"),u(this,"width"),u(this,"height"),u(this,"opacity"),u(this,"interpolate"),u(this,"verticalAlignment"),this.x=new ot(.5,j.RelativeToPlotArea),this.y=new ot(.5,j.RelativeToPlotArea),this.offsetX=new ot(0,j.ScreenUnits),this.offsetY=new ot(0,j.ScreenUnits),this.width=new ot(NaN,j.ScreenUnits),this.height=new ot(NaN,j.ScreenUnits),this.opacity=1,this.interpolate=!0,this.horizontalAlignment=B.Center,this.verticalAlignment=D.Middle,t&&Object.assign(this,st(t))}async render(t){if(!this.imageSource)throw new Error(`${this.imageSource} must be non-null before rendering.`);const e=this.getPoint(this.x,this.y,this.plotModel),s=this.getVector(this.offsetX,this.offsetY,this.plotModel),n=bt(e,s),o=this.getVector(this.width,this.height,this.plotModel);let a=o.x,l=o.y;isNaN(a)&&isNaN(l)&&(a=this.imageSource.width,l=this.imageSource.height),isNaN(a)&&(a=l/this.imageSource.height*this.imageSource.width),isNaN(l)&&(l=a/this.imageSource.width*this.imageSource.height),a=Math.abs(a),l=Math.abs(l);let h=n.x,m=n.y;const c=this.horizontalAlignment,g=this.verticalAlignment;c===B.Center?h-=a*.5:c===B.Right&&(h-=a),g===D.Middle?m-=l*.5:g===D.Bottom&&(m-=l),this.actualBounds=new N(h,m,a,l),await O.drawImage(t,this.imageSource,h,m,a,l,this.opacity,this.interpolate)}hitTestOverride(t){if(this.actualBounds.containsPoint(t.point))return{element:this,nearestHitPoint:t.point}}getPoint(t,e,s){let n=NaN,o=NaN;if(t.unit===j.Data||e.unit===j.Data){const a=t.unit===j.Data?t.value:NaN,l=e.unit===j.Data?e.value:NaN,h=J.transform(this,a,l);n=h.x,o=h.y}switch(t.unit){case j.Data:break;case j.ScreenUnits:n=t.value;break;case j.RelativeToViewport:n=s.width*t.value;break;case j.RelativeToPlotArea:n=s.plotArea.left+s.plotArea.width*t.value;break;default:throw new Error("Invalid unit")}switch(e.unit){case j.Data:break;case j.ScreenUnits:o=e.value;break;case j.RelativeToViewport:o=s.height*e.value;break;case j.RelativeToPlotArea:o=s.plotArea.top+s.plotArea.height*e.value;break;default:throw new Error("Invalid unit")}return A(n,o)}getVector(t,e,s){let n=NaN,o=NaN;if(t.unit===j.Data||e.unit===j.Data){const a=t.unit===j.Data?t.value:NaN,l=e.unit===j.Data?e.value:NaN,h=J.transform(this,a,l),m=Gt(h,this.transform(Ai));n=m.x,o=m.y}switch(t.unit){case j.Data:break;case j.ScreenUnits:n=t.value;break;case j.RelativeToViewport:n=s.width*t.value;break;case j.RelativeToPlotArea:n=s.plotArea.width*t.value;break;default:throw new Error("Invalid unit")}switch(e.unit){case j.Data:break;case j.ScreenUnits:o=e.value;break;case j.RelativeToViewport:o=s.height*e.value;break;case j.RelativeToPlotArea:o=s.plotArea.height*e.value;break;default:throw new Error("Invalid unit")}return new dt(n,o)}getClippingRect(){return this.x.unit===j.Data||this.y.unit===j.Data?super.getClippingRect():N.Everything}}const Fi=class Xn extends mn{constructor(t){super(t),u(this,"_offset",0),u(this,"_scale",1),u(this,"axisChanged"),u(this,"transformChanged"),u(this,"absoluteMaximum"),u(this,"absoluteMinimum"),u(this,"_actualMajorStep",0),u(this,"minimumMajorIntervalCount"),u(this,"maximumMajorIntervalCount"),u(this,"_actualMaximum",0),u(this,"_actualMinimum",0),u(this,"_clipMaximum",0),u(this,"_clipMinimum",0),u(this,"_actualMinorStep",0),u(this,"_actualStringFormatter"),u(this,"angle"),u(this,"axisTickToLabelDistance"),u(this,"axisTitleDistance"),u(this,"axisDistance"),u(this,"axislineColor"),u(this,"axislineStyle"),u(this,"axislineThickness"),u(this,"clipTitle"),u(this,"cropGridlines",!1),u(this,"_dataMaximum",0),u(this,"_dataMinimum",0),u(this,"endPosition"),u(this,"extraGridlineColor"),u(this,"extraGridlineStyle"),u(this,"extraGridlineThickness"),u(this,"extraGridlines"),u(this,"filterFunction"),u(this,"filterMaxValue"),u(this,"filterMinValue"),u(this,"intervalLength"),u(this,"isAxisVisible"),u(this,"isPanEnabled"),u(this,"isZoomEnabled"),u(this,"key"),u(this,"labelFormatter"),u(this,"layer"),u(this,"majorGridlineColor"),u(this,"majorGridlineStyle"),u(this,"majorGridlineThickness"),u(this,"majorStep"),u(this,"majorTickSize"),u(this,"maximum"),u(this,"maximumPadding"),u(this,"maximumDataMargin"),u(this,"maximumMargin"),u(this,"maximumRange"),u(this,"minimum"),u(this,"minimumMajorStep"),u(this,"minimumMinorStep"),u(this,"minimumPadding"),u(this,"minimumDataMargin"),u(this,"minimumMargin"),u(this,"minimumRange"),u(this,"minorGridlineColor"),u(this,"minorGridlineStyle"),u(this,"minorGridlineThickness"),u(this,"minorStep"),u(this,"minorTicklineColor"),u(this,"minorTickSize"),u(this,"position",x.Left),u(this,"positionAtZeroCrossing",!1),u(this,"positionTier",0),u(this,"_screenMax",nn),u(this,"_screenMin",nn),u(this,"startPosition"),u(this,"stringFormatter"),u(this,"tickStyle"),u(this,"ticklineColor"),u(this,"title"),u(this,"titleClippingLength"),u(this,"titleColor"),u(this,"titleFont"),u(this,"titleFontSize"),u(this,"titleFontWeight"),u(this,"titleFormatter"),u(this,"titlePosition"),u(this,"unit"),u(this,"useSuperExponentialFormat",!1),u(this,"_desiredMargin",X.Zero),u(this,"positionTierMaxShift",0),u(this,"positionTierMinShift",0),u(this,"positionTierSize",0),u(this,"viewMaximum"),u(this,"viewMinimum"),this.position=x.Left,this.positionTier=0,this.isAxisVisible=!0,this.layer=_i.BelowSeries,this.viewMaximum=Number.NaN,this.viewMinimum=Number.NaN,this.absoluteMaximum=et,this.absoluteMinimum=ht,this.minimum=Number.NaN,this.maximum=Number.NaN,this.minorStep=Number.NaN,this.majorStep=Number.NaN,this.minimumMinorStep=0,this.minimumMajorStep=0,this.minimumMajorIntervalCount=2,this.maximumMajorIntervalCount=et,this.minimumPadding=.01,this.maximumPadding=.01,this.minimumRange=0,this.maximumRange=Number.POSITIVE_INFINITY,this.minimumDataMargin=0,this.maximumDataMargin=0,this.minimumMargin=0,this.maximumMargin=0,this.tickStyle=it.Outside,this.ticklineColor=p.Black,this.minorTicklineColor=p.Automatic,this.axislineStyle=k.None,this.axislineColor=p.Black,this.axislineThickness=1,this.majorGridlineStyle=k.None,this.majorGridlineColor=r.fromArgb(64,0,0,0),this.majorGridlineThickness=1,this.minorGridlineStyle=k.None,this.minorGridlineColor=r.fromArgb(32,0,0,0),this.minorGridlineThickness=1,this.extraGridlineStyle=k.Solid,this.extraGridlineColor=p.Black,this.extraGridlineThickness=1,this.minorTickSize=4,this.majorTickSize=7,this.startPosition=0,this.endPosition=1,this.titlePosition=.5,this.titleFormatter=(e,s)=>`${e||""} [${s||""}]`,this.titleClippingLength=.9,this.titleColor=p.Automatic,this.titleFontSize=Number.NaN,this.titleFontWeight=Ut.Normal,this.clipTitle=!0,this.angle=0,this.isZoomEnabled=!0,this.isPanEnabled=!0,this.filterMinValue=ht,this.filterMaxValue=et,this.filterFunction=void 0,this.intervalLength=60,this.axisDistance=0,this.axisTitleDistance=4,this.axisTickToLabelDistance=4,this.dataMaximum=Number.NaN,this.dataMinimum=Number.NaN}get actualMajorStep(){return this._actualMajorStep}set actualMajorStep(t){this._actualMajorStep=t}get actualMaximum(){return this._actualMaximum}set actualMaximum(t){this._actualMaximum=t}get actualMinimum(){return this._actualMinimum}set actualMinimum(t){this._actualMinimum=t}get clipMaximum(){return this._clipMaximum}set clipMaximum(t){this._clipMaximum=t}get clipMinimum(){return this._clipMinimum}set clipMinimum(t){this._clipMinimum=t}get actualMinorStep(){return this._actualMinorStep}set actualMinorStep(t){this._actualMinorStep=t}get actualStringFormatter(){return this._actualStringFormatter}set actualStringFormatter(t){this._actualStringFormatter=t}get actualTitle(){return this.unit?`${this.title} [${this.unit}]`:this.title}get dataMaximum(){return this._dataMaximum}set dataMaximum(t){this._dataMaximum=t}get dataMinimum(){return this._dataMinimum}set dataMinimum(t){this._dataMinimum=t}get isReversed(){return this.startPosition>this.endPosition}get offset(){return this._offset}get scale(){return this._scale}get screenMax(){return this._screenMax}set screenMax(t){this._screenMax=t}get screenMin(){return this._screenMin}set screenMin(t){this._screenMin=t}get desiredMargin(){return this._desiredMargin}set desiredMargin(t){this._desiredMargin=t}get actualTitleColor(){return this.titleColor.getActualColor(this.plotModel.textColor)}get actualTitleFont(){return this.titleFont||this.plotModel.defaultFont}get actualTitleFontSize(){return isNaN(this.titleFontSize)?this.actualFontSize:this.titleFontSize}get actualTitleFontWeight(){return isNaN(this.titleFontWeight)?this.actualFontWeight:this.titleFontWeight}itemToDouble(t){return Number(t)}static inverseTransform(t,e,s){return e.inverseTransformPoint(t.x,t.y,s)}formatValue(t){return this.labelFormatter?this.labelFormatter(t):this.formatValueOverride(t)}getTickValues(){const t=[],e=[],s=[],n=this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep);return e.push(...this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep)),t.push(...e),s.push(...ci.filterRedundantMinorTicks(e,n)),{majorLabelValues:t,majorTickValues:e,minorTickValues:s}}getValue(t){return t}inverseTransformPoint(t,e,s){return d(this.inverseTransform(t),s?s.inverseTransform(e):0)}inverseTransform(t){return t/this._scale+this._offset}isHorizontal(){return this.position===x.Top||this.position===x.Bottom}isValidValue(t){return Number.isFinite(t)&&t<this.filterMaxValue&&t>this.filterMinValue&&(!this.filterFunction||this.filterFunction(t))}isVertical(){return this.position===x.Left||this.position===x.Right}isLogarithmic(){return!1}measure(t){if(this.position===x.None){this.desiredMargin=new X(0);return}const{majorLabelValues:e}=this.getTickValues();let s=new lt;for(const f of e){const b=this.formatValue(f),S=O.measureText(t,b,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle);s=s.include(S)}const n=t.measureText(this.actualTitle||"",this.actualTitleFont,this.actualTitleFontSize,this.actualTitleFontWeight);let o=0,a=0,l=0,h=0;const m=Math.max(0,this.isReversed?this.maximumMargin:this.minimumMargin),c=Math.max(0,this.isReversed?this.minimumMargin:this.maximumMargin);let g=0;switch(this.tickStyle){case it.Outside:g=this.majorTickSize;break;case it.Crossing:g=this.majorTickSize*.75;break}switch(g+=this.axisDistance+this.axisTickToLabelDistance,n.height>0&&(g+=this.axisTitleDistance+n.height),this.position){case x.Left:o=g+s.width;break;case x.Right:l=g+s.width;break;case x.Top:a=g+s.height;break;case x.Bottom:h=g+s.height;break;case x.All:o=l=g+s.width,a=h=g+s.height;break;default:throw new Error("Invalid operation")}if(this.isPanEnabled||this.isZoomEnabled){const f=Math.min(this.startPosition,this.endPosition)<.01,b=Math.max(this.startPosition,this.endPosition)>.99;switch(this.position){case x.Left:case x.Right:f&&(h=Math.max(0,s.height/2-m)),b&&(a=Math.max(0,s.height/2-c));break;case x.Top:case x.Bottom:f&&(o=Math.max(0,s.width/2-m)),b&&(l=Math.max(0,s.width/2-c));break}}else if(e.length>0){const f=Math.min(...e),b=Math.max(...e),S=this.formatValue(f),M=this.formatValue(b);let T=O.measureText(t,S,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),C=O.measureText(t,M,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),v=this.transform(f),R=this.transform(b);v>R&&([v,R]=[R,v],[T,C]=[C,T]);let P=0,I=0,V=0,_=0;switch(this.position){case x.Left:case x.Right:P=Math.min(this.screenMin.y,this.screenMax.y),I=Math.max(this.screenMin.y,this.screenMax.y),a=Math.max(0,P-v+T.height/2-m),h=Math.max(0,R-I+C.height/2-c);break;case x.Top:case x.Bottom:V=Math.min(this.screenMin.x,this.screenMax.x),_=Math.max(this.screenMin.x,this.screenMax.x),o=Math.max(0,V-v+T.width/2-m),l=Math.max(0,R-_+C.width/2-c);break}}this.desiredMargin=new X(o,a,l,h)}pan(t,e){if(typeof t=="number"){this.pan2(t);return}this.pan1(t,e)}pan1(t,e){if(!this.isPanEnabled)return;const s=this.isHorizontal()?e.x-t.x:e.y-t.y;this.pan(s)}pan2(t){if(!this.isPanEnabled)return;const e=this.actualMinimum,s=this.actualMaximum,n=t/this._scale;let o=this.actualMinimum-n,a=this.actualMaximum-n;o<this.absoluteMinimum&&(o=this.absoluteMinimum,a=Math.min(o+this.actualMaximum-this.actualMinimum,this.absoluteMaximum)),a>this.absoluteMaximum&&(a=this.absoluteMaximum,o=Math.max(a-(this.actualMaximum-this.actualMinimum),this.absoluteMinimum)),this.viewMinimum=o,this.viewMaximum=a,this.updateActualMaxMin();const l=this.actualMinimum-e,h=this.actualMaximum-s;this.onAxisChanged({changeType:hi.Pan,deltaMaximum:h,deltaMinimum:l})}async render(t,e){this.position!==x.None&&await new Mi(t,this.plotModel).render(this,e)}reset(){const t=this.actualMinimum,e=this.actualMaximum;this.viewMinimum=NaN,this.viewMaximum=NaN,this.updateActualMaxMin();const s=this.actualMinimum-t,n=this.actualMaximum-e;this.onAxisChanged({changeType:hi.Reset,deltaMinimum:s,deltaMaximum:n})}toString(){return`${this.constructor.name}(${this.position}, ${this.clipMinimum}, ${this.clipMaximum}, ${this.actualMajorStep})`}transformPoint(t,e,s){if(!s)throw new Error("Y axis should not be null when transforming.");return A(this.transform(t),s.transform(e))}transform(t){return(t-this._offset)*this._scale}zoomScale(t){const e=this.actualMinimum,s=this.actualMaximum,n=this.transform(this.actualMaximum),o=this.transform(this.actualMinimum),a=Math.sign(this._scale),l=(this.preTransform(this.actualMaximum)+this.preTransform(this.actualMinimum))/2,h=(this._offset-l)*this._scale/(a*t)+l;this.setTransform(a*t,h);let m=this.inverseTransform(n),c=this.inverseTransform(o);if(c<this.absoluteMinimum&&m>this.absoluteMaximum)c=this.absoluteMinimum,m=this.absoluteMaximum;else if(c<this.absoluteMinimum){const b=m-c;c=this.absoluteMinimum,m=this.absoluteMinimum+b,m>this.absoluteMaximum&&(m=this.absoluteMaximum)}else if(m>this.absoluteMaximum){const b=m-c;m=this.absoluteMaximum,c=this.absoluteMaximum-b,c<this.absoluteMinimum&&(c=this.absoluteMinimum)}this.clipMaximum=this.viewMaximum=m,this.clipMinimum=this.viewMinimum=c,this.updateActualMaxMin();const g=this.actualMinimum-e,f=this.actualMaximum-s;this.actualMaximumAndMinimumChangedOverride(),this.onAxisChanged({changeType:hi.Zoom,deltaMinimum:g,deltaMaximum:f})}zoom(t,e){if(!this.isZoomEnabled)return;const s=this.actualMinimum,n=this.actualMaximum,o=Math.max(Math.min(t,e),this.absoluteMinimum),a=Math.min(Math.max(t,e),this.absoluteMaximum);this.viewMinimum=o,this.viewMaximum=a,this.updateActualMaxMin();const l=this.actualMinimum-s,h=this.actualMaximum-n;this.onAxisChanged({changeType:hi.Zoom,deltaMinimum:l,deltaMaximum:h})}zoomAt(t,e){if(!this.isZoomEnabled)return;const s=this.actualMinimum,n=this.actualMaximum,o=(this.actualMinimum-e)*this._scale,a=(this.actualMaximum-e)*this._scale;this._scale*=t;let l=o/this._scale+e,h=a/this._scale+e;if(h-l>this.maximumRange){const g=(l+h)*.5;h=g+this.maximumRange*.5,l=g-this.maximumRange*.5}if(h-l<this.minimumRange){const g=(l+h)*.5;h=g+this.minimumRange*.5,l=g-this.minimumRange*.5}l=Math.max(l,this.absoluteMinimum),h=Math.min(h,this.absoluteMaximum),this.viewMinimum=l,this.viewMaximum=h,this.updateActualMaxMin();const m=this.actualMinimum-s,c=this.actualMaximum-n;this.onAxisChanged({changeType:hi.Zoom,deltaMinimum:m,deltaMaximum:c})}zoomAtCenter(t){const e=(this.transform(this.clipMaximum)+this.transform(this.clipMinimum))*.5,s=this.inverseTransform(e);this.zoomAt(t,s)}include(t){this.isValidValue(t)&&(this.dataMinimum=isNaN(this.dataMinimum)?t:Math.min(this.dataMinimum,t),this.dataMaximum=isNaN(this.dataMaximum)?t:Math.max(this.dataMaximum,t))}resetDataMaxMin(){this.dataMaximum=this.dataMinimum=this.actualMaximum=this.actualMinimum=NaN}updateActualMaxMin(){isNaN(this.viewMaximum)?isNaN(this.maximum)?this.actualMaximum=this.calculateActualMaximum():this.actualMaximum=this.maximum:this.actualMaximum=this.viewMaximum,isNaN(this.viewMinimum)?isNaN(this.minimum)?this.actualMinimum=this.calculateActualMinimum():this.actualMinimum=this.minimum:this.actualMinimum=this.viewMinimum,this.coerceActualMaxMin()}updateIntervals(t){const e=this.intervalLength;let s=this.isHorizontal()?t.width:t.height;s*=Math.abs(this.endPosition-this.startPosition),this.actualMajorStep=isNaN(this.majorStep)?this.calculateActualInterval(s,e,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount):this.majorStep,this.actualMinorStep=isNaN(this.minorStep)?this.calculateMinorInterval(this.actualMajorStep):this.minorStep,isNaN(this.actualMinorStep)&&(this.actualMinorStep=2),isNaN(this.actualMajorStep)&&(this.actualMajorStep=10),this.actualMinorStep=Math.max(this.actualMinorStep,this.minimumMinorStep),this.actualMajorStep=Math.max(this.actualMajorStep,this.minimumMajorStep),this.actualStringFormatter=this.stringFormatter||this.getDefaultStringFormatter()}updateTransform(t){const e=t.left,s=t.right,n=t.bottom,o=t.top;let a=this.isHorizontal()?e:n,l=this.isHorizontal()?s:o;const h=l-a;l=a+this.endPosition*h,a=a+this.startPosition*h;const m=this.isHorizontal()!=this.isReversed?1:-1;this.minimumMargin>0&&(a+=this.minimumMargin*m),this.maximumMargin>0&&(l-=this.maximumMargin*m),this.isHorizontal()?(this.screenMin=A(a,o),this.screenMax=A(l,n)):this.isVertical()&&(this.screenMin=A(e,l),this.screenMax=A(s,a)),this.minimumDataMargin>0&&(a+=this.minimumDataMargin*m),this.maximumDataMargin>0&&(l-=this.maximumDataMargin*m),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const c=this.preTransform(this.actualMaximum),g=this.preTransform(this.actualMinimum),f=a-l;let b,S;Math.abs(f)>Number.EPSILON?b=a/f*c-l/f*g:b=0;const M=c-g;Math.abs(M)>Number.EPSILON?S=(l-a)/M:S=1,this.setTransform(S,b),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(a-this.minimumDataMargin*m):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(l+this.maximumDataMargin*m):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}actualMaximumAndMinimumChangedOverride(){}getDefaultStringFormatter(){return t=>Zl(t,4)}postInverseTransform(t){return t}preTransform(t){return t}calculateMinorInterval(t){return ci.calculateMinorInterval(t)}createTickValues(t,e,s,n=1e3){return ci.createTickValues(t,e,s,n)}coerceActualMaxMin(){if(this.absoluteMaximum<=this.absoluteMinimum)throw new Error("AbsoluteMaximum must be larger than AbsoluteMinimum.");if(this.absoluteMaximum-this.absoluteMinimum<this.minimumRange)throw new Error("MinimumRange must not be larger than AbsoluteMaximum-AbsoluteMinimum.");if(this.maximumRange<this.minimumRange)throw new Error("MinimumRange must not be larger than MaximumRange.");if((isNaN(this.actualMinimum)||Je(this.actualMinimum))&&(this.actualMinimum=0),(isNaN(this.actualMaximum)||Je(this.actualMaximum))&&(this.actualMaximum=100),this.absoluteMinimum>ht&&this.absoluteMinimum<et&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMinimum),this.maximumRange<et&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMinimum+this.maximumRange))),this.absoluteMaximum>ht&&this.absoluteMaximum<et&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMaximum),this.maximumRange<et&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMaximum-this.maximumRange))),this.actualMaximum-this.actualMinimum<this.minimumRange)if(this.actualMinimum+this.minimumRange<this.absoluteMaximum){const t=(this.actualMaximum+this.actualMinimum)*.5,e=this.minimumRange/2;if(this.actualMinimum=t-e,this.actualMaximum=t+e,this.actualMinimum<this.absoluteMinimum){const s=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=s}if(this.actualMaximum>this.absoluteMaximum){const s=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=s}}else this.absoluteMaximum-this.minimumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.minimumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);if(this.actualMaximum-this.actualMinimum>this.maximumRange)if(this.actualMinimum+this.maximumRange<this.absoluteMaximum){const t=(this.actualMaximum+this.actualMinimum)*.5,e=this.maximumRange/2;if(this.actualMinimum=t-e,this.actualMaximum=t+e,this.actualMinimum<this.absoluteMinimum){const s=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=s}if(this.actualMaximum>this.absoluteMaximum){const s=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=s}}else this.absoluteMaximum-this.maximumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.maximumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum+100)}formatValueOverride(t){let e=this.stringFormatter;if(this.useSuperExponentialFormat&&t!==0){const s=Xn.Exponent(t),n=Xn.Mantissa(t);if(e){if(typeof e=="function")return`${e(t)}·10^{${s}}`}else return Math.abs(n-1)<1e-6?`10^{${s}}`:`${n}·10^{${s}}`;throw new Error("invalid stringFormat")}if(e=this.actualStringFormatter||this.stringFormatter,typeof e=="function")return e(t);if(!e)return t.toString();throw new Error("invalid stringFormat")}calculateActualMaximum(){let t=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<=0){const e=this.dataMaximum>0?this.dataMaximum:1;t+=e*.5}if(!isNaN(this.dataMinimum)&&!isNaN(t)){const e=this.preTransform(t),s=this.preTransform(this.dataMinimum),n=this.maximumPadding*(e-s);return this.postInverseTransform(e+n)}return t}calculateActualMinimum(){let t=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<=0){const e=this.dataMaximum>0?this.dataMaximum:1;t-=e*.5}if(!isNaN(this.actualMaximum)){const e=this.preTransform(this.actualMaximum),s=this.preTransform(t),n=this.maximumPadding,o=this.minimumPadding*((e-s)/(1+n));return this.postInverseTransform(s-o)}return t}setTransform(t,e){this._scale=t,this._offset=e,this.onTransformChanged()}calculateActualInterval(t,e,s,n,o){if(Mt(o)&&(o=Math.abs(this.clipMinimum-this.clipMaximum)),t<=0)return e;if(Math.abs(e)<=0)throw new Error("Maximum interval size cannot be zero.");if(Math.abs(o)<=0)throw new Error("Range cannot be zero.");const a=g=>Math.ceil(Math.log10(g)),l=g=>g/Math.pow(10,a(g)-1);s=Math.max(s,0),n=Math.min(n,t/e),o=Math.abs(o);let h=Math.pow(10,a(o)),m=h;const c=g=>parseFloat(g.toPrecision(14));for(;l(m)===5?m=c(m/2.5):m=c(m/2),!(o/h>=s&&o/m>n||isNaN(m)||Je(m));)h=m;return h}onAxisChanged(t){this.updateActualMaxMin();const e=this.axisChanged;e&&e(this,t)}onTransformChanged(){const t=this.transformChanged;t&&t(this)}};u(Fi,"Exponent",i=>Math.floor(Fi.ThresholdRound(Math.log(Math.abs(i))/Math.LN10))),u(Fi,"Mantissa",i=>Fi.ThresholdRound(i/Math.pow(10,Fi.Exponent(i)))),u(Fi,"ThresholdRound",i=>Math.abs(Math.round(i)-i)<1e-6?Math.round(i):i);let To=Fi;class w extends To{constructor(t){super(),u(this,"formatAsFractions"),u(this,"fractionUnit"),u(this,"fractionUnitSymbol"),this.fractionUnit=1,this.fractionUnitSymbol=void 0,this.formatAsFractions=!1,t&&Object.assign(this,st(t))}isXyAxis(){return!0}isLogarithmic(){return!1}formatValueOverride(t){return this.formatAsFractions?Gh.convertToFractionString(t,this.fractionUnit,this.fractionUnitSymbol,1e-6,this.stringFormatter):super.formatValueOverride(t)}}class re extends w{constructor(t){super(t),u(this,"startAngle"),u(this,"endAngle"),this.position=x.All,this.tickStyle=it.None,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.majorGridlineStyle=k.Solid,this.minorGridlineStyle=k.Solid,this.startAngle=0,this.endAngle=360,t&&Object.assign(this,st(t))}getTickValues(){const t=this.startAngle/this.scale,e=this.endAngle/this.scale;let s=this.createTickValues(t,e,this.actualMinorStep);const n=this.createTickValues(t,e,this.actualMajorStep),o=this.createTickValues(this.minimum,this.maximum,this.actualMajorStep);return s=ci.filterRedundantMinorTicks(n,s),{majorLabelValues:o,majorTickValues:n,minorTickValues:s}}inverseTransformPoint(t,e,s){throw new Error("Angle axis should always be the y-axis.")}isXyAxis(){return!1}async render(t,e){await new eh(t,this.plotModel).render(this,e)}transformPoint(t,e,s){throw new Error("Angle axis should always be the y-axis.")}updateTransform(t){const e=t.left,s=t.right,n=t.bottom,o=t.top;this.screenMin=A(e,o),this.screenMax=A(s,n);const a=(this.endAngle-this.startAngle)/(this.actualMaximum-this.actualMinimum),l=this.actualMinimum-this.startAngle/a;this.setTransform(a,l),this.clipMinimum=this.actualMinimum,this.clipMaximum=this.actualMaximum}}class $a extends re{async render(t,e){await new ih(t,this.plotModel).render(this,e)}}var hi=(i=>(i[i.Zoom=0]="Zoom",i[i.Pan=1]="Pan",i[i.Reset=2]="Reset",i))(hi||{}),_i=(i=>(i[i.BelowSeries=0]="BelowSeries",i[i.AboveSeries=1]="AboveSeries",i))(_i||{}),x=(i=>(i[i.None=0]="None",i[i.Left=1]="Left",i[i.Right=2]="Right",i[i.Top=3]="Top",i[i.Bottom=4]="Bottom",i[i.All=5]="All",i))(x||{});class ci{static calculateMinorInterval(t){return Math.abs((Math.log10(t)+1e3)%1-Math.log10(2))<1e-10?t/4:t/5}static calculateMinorInterval2(t){const e=Math.ceil(Math.log(t)/Math.LN10);return(t/Math.pow(10,e-1)|0)===2?t/4:t/5}static createTickValues(t,e,s,n=1e3){if(s<=0)throw new Error("Step cannot be zero or negative.");e<t&&(s=-s);const o=s*.001;t-=o,e+=o;let a=Math.ceil(t/s)*s;Math.abs(a)<Number.EPSILON&&(a=0);const l=[],h=Math.sign(s);let m=0,c=a;for(;(e-c)*h>=0&&m<n;)l.push(c),c=a+ ++m*s;return l}static filterRedundantMinorTicks(t,e){if(t.length===0||e.length===0)return e;const s=[];let n=0,o=1,a=t.length>1?t[o]:t[0];const l=(c,g)=>Math.abs(c-g)*.001;let h=e.length>1?l(e[0],e[1]):0,m=1;t.length>1&&t[0]>t[1]&&(m=-1);for(let c=0;c<e.length;c++){const g=e[c];for(c>0&&(h=l(g,n));(a-g)*m<0&&o<t.length-1;)a=t[++o];const f=t[o-1];Math.abs(g-a)>h&&Math.abs(g-f)>h&&s.push(g),n=g}return s}}class K extends w{constructor(t){super(t),u(this,"_autoGeneratedLabels",[]),u(this,"_itemsSourceLabels",[]),u(this,"gapWidth"),u(this,"isTickCentered",!1),u(this,"itemsSource"),u(this,"labelField"),u(this,"_labels",[]),this.tickStyle=it.Outside,this.position=x.Bottom,this.minimumPadding=0,this.maximumPadding=0,this.majorStep=1,this.gapWidth=1,t&&Object.assign(this,st(t))}get actualLabels(){return this.itemsSource?this._itemsSourceLabels:this.labels.length>0?this.labels:this._autoGeneratedLabels}get labels(){return this._labels}getTickValues(){const{majorLabelValues:t,majorTickValues:e,minorTickValues:s}=super.getTickValues();if(s.length=0,!this.isTickCentered){let n=[];if(n=t.map(o=>o-.5).filter(o=>o>this.clipMinimum-.001),n.length>0){const o=n[n.length-1]+this.majorStep;o<this.clipMaximum+.001&&n.push(o)}e.length=0,e.push(...n)}return{majorLabelValues:t,majorTickValues:e,minorTickValues:s}}getValue(t){return this.formatValue(t)}updateActualMaxMin(){this.include(-.5);const t=this.actualLabels;t.length>0?this.include(t.length-1+.5):this.include(.5),super.updateActualMaxMin(),this.minorStep=1}updateLabels(t){if(this.itemsSource){this._itemsSourceLabels.length=0;const e=[];for(let s of this.itemsSource||[])s=this.labelField?s[this.labelField]:s,this.stringFormatter?e.push(this.stringFormatter(s)):e.push(s.toString());this._itemsSourceLabels.push(...e);return}if(this.labels.length===0){if(this._autoGeneratedLabels.length===t)return;this._autoGeneratedLabels.length=0,this._autoGeneratedLabels.push(...Array.from({length:t},(e,s)=>(s+1).toString()))}}formatValueOverride(t){const e=Math.floor(t),s=this.actualLabels;return e>=0&&e<s.length?s[e]:""}}function _n(i){return i&&typeof i.getColor=="function"&&typeof i.getPaletteIndex=="function"}class Ae extends w{constructor(t){super(t),u(this,"midPoint",ye),this.position=x.None,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.majorGridlineStyle=k.Solid,this.minorGridlineStyle=k.Solid,t&&Object.assign(this,t)}inverseTransformPoint(t,e,s){if(!(s instanceof re))throw new Error("Polar angle axis not defined!");const n=s;t-=this.midPoint.x,e-=this.midPoint.y,e*=-1;const o=Math.atan2(e,t);return t=Math.sqrt(t*t+e*e)/this.scale+this.offset,e=o/n.scale+n.offset*Math.PI/180,d(t,e)}isXyAxis(){return!1}async render(t,e){await new tn(t,this.plotModel).render(this,e)}transformPoint(t,e,s){if(!(s instanceof re))throw new Error("Polar angle axis not defined!");const n=s,o=(t-this.offset)*this.scale,a=(e-n.offset)*n.scale;return A(this.midPoint.x+o*Math.cos(a/180*Math.PI),this.midPoint.y-o*Math.sin(a/180*Math.PI))}updateTransform(t){const e=t.left,s=t.right,n=t.bottom,o=t.top;this.screenMin=A(e,o),this.screenMax=A(s,n),this.midPoint=A((e+s)/2,(n+o)/2);const a=Math.min(Math.abs(s-e),Math.abs(o-n));let l=0,h=a*.5;const m=h-l;h=l+this.endPosition*m,l=l+this.startPosition*m;const c=this.isReversed?-1:1;this.minimumMargin>0&&(l+=this.minimumMargin*c),this.maximumMargin>0&&(h-=this.maximumMargin*c),this.minimumDataMargin>0&&(l+=this.minimumDataMargin*c),this.maximumDataMargin>0&&(h-=this.maximumDataMargin*c),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const g=this.preTransform(this.actualMaximum),f=this.preTransform(this.actualMinimum),b=l-h;let S,M;Math.abs(b)>Number.EPSILON?S=l/b*g-h/b*f:S=0;const T=g-f;Math.abs(T)>Number.EPSILON?M=(h-l)/T:M=1,this.setTransform(M,S),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(a*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}}var it=(i=>(i[i.Crossing=0]="Crossing",i[i.Inside=1]="Inside",i[i.Outside=2]="Outside",i[i.None=3]="None",i))(it||{});class Ns{constructor(t,e){u(this,"_plot"),u(this,"rc"),u(this,"minorTickValues",[]),u(this,"axislinePen"),u(this,"extraPen"),u(this,"majorLabelValues",[]),u(this,"majorPen"),u(this,"majorTickPen"),u(this,"majorTickValues",[]),u(this,"minorPen"),u(this,"minorTickPen"),u(this,"zeroPen"),this._plot=e,this.rc=t}get plot(){return this._plot}get renderContext(){return this.rc}async render(t,e){if(!t)return;const{majorLabelValues:s,majorTickValues:n,minorTickValues:o}=t.getTickValues();this.majorLabelValues=s,this.majorTickValues=n,this.minorTickValues=o,this.createPens(t)}createPens(t){const e=t.minorTicklineColor.isAutomatic()?t.ticklineColor:t.minorTicklineColor;this.minorPen=Ht.create(t.minorGridlineColor,t.minorGridlineThickness,t.minorGridlineStyle),this.majorPen=Ht.create(t.majorGridlineColor,t.majorGridlineThickness,t.majorGridlineStyle),this.minorTickPen=Ht.create(e,t.minorGridlineThickness),this.majorTickPen=Ht.create(t.ticklineColor,t.majorGridlineThickness),this.zeroPen=Ht.create(t.ticklineColor,t.majorGridlineThickness),this.extraPen=Ht.create(t.extraGridlineColor,t.extraGridlineThickness,t.extraGridlineStyle),this.axislinePen=Ht.create(t.axislineColor,t.axislineThickness,t.axislineStyle)}getTickPositions(t,e,s,n){let o=0,a=0;const l=n===x.Top||n===x.Left?-1:1;switch(e){case it.Crossing:o=-s*l*.75,a=s*l*.75;break;case it.Inside:o=-s*l;break;case it.Outside:a=s*l;break}return[o,a]}isWithin(t,e,s){return t<e?!1:t<=s}}class Mi extends Ns{constructor(t,e){super(t,e)}async render(t,e){await super.render(t,e);let s=!0;const n=t.axisDistance+t.positionTierMinShift,o=t.positionTierSize-this.plot.axisTierDistance,a=this.plot.plotArea.left,l=this.plot.plotArea.right,h=this.plot.plotArea.top,m=this.plot.plotArea.bottom;let c=0,g=0;switch(t.position){case x.Left:c=a-n;break;case x.Right:c=l+n;break;case x.Top:c=h-n;break;case x.Bottom:c=m+n;break}if(t.positionAtZeroCrossing){const f=t.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis;c=f.transform(0);const b=t.isHorizontal()?f.screenMin.y:f.screenMin.x,S=t.isHorizontal()?f.screenMax.y:f.screenMax.x;let M=Math.min(b,S),T=Math.max(b,S);const C=t.isHorizontal()?h:a,v=t.isHorizontal()?m:l;if(M=Math.max(M,C),T=Math.min(T,v),c<M){c=M;const R=t.isHorizontal()?this.plot.plotAreaBorderThickness.top:this.plot.plotAreaBorderThickness.left,P=t.isHorizontal()?this.plot.plotArea.top:this.plot.plotArea.left;c<=P&&R>0&&this.plot.plotAreaBorderColor.isVisible()&&(s=!1)}if(c>T){c=T;const R=t.isHorizontal()?this.plot.plotAreaBorderThickness.bottom:this.plot.plotAreaBorderThickness.right,P=t.isHorizontal()?this.plot.plotArea.bottom:this.plot.plotArea.right;c>=P&&R>0&&this.plot.plotAreaBorderColor.isVisible()&&(s=!1)}}switch(t.position){case x.Left:g=c-o;break;case x.Right:g=c+o;break;case x.Top:g=c-o;break;case x.Bottom:g=c+o;break}switch(t.position){case x.Left:case x.Top:g+=t.axisDistance;break;case x.Right:case x.Bottom:g-=t.axisDistance;break}e==0&&await this.renderMinorItems(t,c),e==1&&(await this.renderMajorItems(t,c,g,s),await this.renderAxisTitle(t,g))}static lerp(t,e,s){return t*(1-s)+e*s}static snapTo(t,e,s=.5){return e>t-s&&e<t+s?t:e}getAxisTitlePositionAndAlignment(t,e){let s=-90,n=B.Center,o=D.Top,a=t.isHorizontal()?Mi.lerp(t.screenMin.x,t.screenMax.x,t.titlePosition):Mi.lerp(t.screenMax.y,t.screenMin.y,t.titlePosition);t.positionAtZeroCrossing&&(a=Mi.lerp(t.transform(t.clipMaximum),t.transform(t.clipMinimum),t.titlePosition));let l=ye;switch(t.position){case x.Left:l=A(e,a);break;case x.Right:o=D.Bottom,l=A(e,a);break;case x.Top:n=B.Center,o=D.Top,s=0,l=A(a,e);break;case x.Bottom:n=B.Center,o=D.Bottom,s=0,l=A(a,e);break;default:throw new Error("Invalid axis position")}return{point:l,angle:s,halign:n,valign:o}}async renderAxisTitle(t,e){if(!t.actualTitle)return;const s=t.isHorizontal();let n;if(t.clipTitle){const m=Math.abs(s?t.screenMax.x-t.screenMin.x:t.screenMax.y-t.screenMin.y);n=new lt(m*t.titleClippingLength,et)}const{point:o,angle:a,halign:l,valign:h}=this.getAxisTitlePositionAndAlignment(t,e);await oe.drawMathText(this.renderContext,o,t.actualTitle,t.actualTitleColor,t.actualTitleFont,t.actualTitleFontSize,t.actualTitleFontWeight,a,l,h,n)}async renderMajorItems(t,e,s,n){const o=t.actualMinorStep*.001,a=t.clipMinimum,l=t.clipMaximum,h=this.plot.plotArea.left,m=this.plot.plotArea.right,c=this.plot.plotArea.top,g=this.plot.plotArea.bottom,f=t.isHorizontal(),b=t.cropGridlines,S=[],M=[],[T,C]=this.getTickPositions(t,t.tickStyle,t.majorTickSize,t.position),v=t.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis,R=t.positionAtZeroCrossing&&(v==null?void 0:v.positionAtZeroCrossing);let P=[];b&&(f?P=this.plot.axes.filter(_=>_.isXyAxis()&&_.isVertical()):P=this.plot.axes.filter(_=>_.isXyAxis()&&_.isHorizontal()));const I=Mi.snapTo;for(const _ of this.majorTickValues){if(R&&Math.abs(_)<o)continue;let E=t.transform(_);f?(E=I(h,E),E=I(m,E)):(E=I(c,E),E=I(g,E)),this.majorPen&&this.addSegments(S,P,f,b,E,h,m,c,g),t.tickStyle!=it.None&&t.majorTickSize>0&&(f?(M.push(A(E,e+T)),M.push(A(E,e+C))):(M.push(A(e+T,E)),M.push(A(e+C,E))))}for(const _ of this.majorLabelValues){if(_<a-o||_>l+o||R&&Math.abs(_)<o)continue;let E=t.transform(_);f?(E=I(h,E),E=I(m,E)):(E=I(c,E),E=I(g,E));let q=ye,yt=[B.Center,D.Middle];switch(t.position){case x.Left:q=A(e+C-t.axisTickToLabelDistance,E),yt=this.getRotatedAlignments(t.angle,-90);break;case x.Right:q=A(e+C+t.axisTickToLabelDistance,E),yt=this.getRotatedAlignments(t.angle,90);break;case x.Top:q=A(E,e+C-t.axisTickToLabelDistance),yt=this.getRotatedAlignments(t.angle,0);break;case x.Bottom:q=A(E,e+C+t.axisTickToLabelDistance),yt=this.getRotatedAlignments(t.angle,-180);break}const[Z,ut]=yt,te=t.formatValue(_);await oe.drawMathText(this.renderContext,q,te,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,t.angle,Z,ut)}const V=O.getActualEdgeRenderingMode(t.edgeRenderingMode,U.PreferSharpness);if(t.extraGridlines&&this.extraPen){const _=[];for(const E of t.extraGridlines){if(!this.isWithin(E,a,l))continue;const q=t.transform(E);this.addSegments(_,P,f,b,q,h,m,c,g)}await O.drawLineSegments(this.renderContext,_,this.extraPen,V)}n&&(f?await O.drawLine(this.renderContext,t.transform(a),e,t.transform(l),e,this.axislinePen,V):await O.drawLine(this.renderContext,e,t.transform(a),e,t.transform(l),this.axislinePen,V)),this.majorPen&&await O.drawLineSegments(this.renderContext,S,this.majorPen,V),this.majorTickPen&&await O.drawLineSegments(this.renderContext,M,this.majorTickPen,V)}async renderMinorItems(t,e){const s=t.actualMinorStep*.001,n=this.plot.plotArea.left,o=this.plot.plotArea.right,a=this.plot.plotArea.top,l=this.plot.plotArea.bottom,h=t.cropGridlines,m=t.isHorizontal(),c=[],g=[];let f=[];h&&(m?f=this.plot.axes.filter(C=>C.isXyAxis()&&C.isVertical()):f=this.plot.axes.filter(C=>C.isXyAxis()&&C.isHorizontal()));const[b,S]=this.getTickPositions(t,t.tickStyle,t.minorTickSize,t.position),M=Mi.snapTo;for(const C of this.minorTickValues){if(t.positionAtZeroCrossing&&Math.abs(C)<s)continue;let v=t.transform(C);m?(v=M(n,v),v=M(o,v)):(v=M(a,v),v=M(l,v)),this.minorPen&&this.addSegments(c,f,m,h,v,n,o,a,l),t.tickStyle!=it.None&&t.minorTickSize>0&&(m?(g.push(A(v,e+b)),g.push(A(v,e+S))):(g.push(A(e+b,v)),g.push(A(e+S,v))))}const T=O.getActualEdgeRenderingMode(t.edgeRenderingMode,U.PreferSharpness);this.minorPen&&await O.drawLineSegments(this.renderContext,c,this.minorPen,T),this.minorTickPen&&await O.drawLineSegments(this.renderContext,g,this.minorTickPen,T)}addSegments(t,e,s,n,o,a,l,h,m){if(s)if(!n)t.push(A(o,h)),t.push(A(o,m));else for(const c of e)t.push(A(o,c.transform(c.clipMinimum))),t.push(A(o,c.transform(c.clipMaximum)));else if(!n)t.push(A(a,o)),t.push(A(l,o));else for(const c of e)t.push(A(c.transform(c.clipMinimum),o)),t.push(A(c.transform(c.clipMaximum),o))}getRotatedAlignments(t,e){const s=(e+360)%360-180;let n=t>=Math.min(e,s)&&t<Math.max(e,s)?B.Left:B.Right,o=D.Middle;return e<0&&(n=n===B.Left?B.Right:B.Left),(Math.abs(t-s)<10||Math.abs(t-e)<10)&&(n=B.Center),Math.abs(t-e)<10&&(o=D.Bottom),Math.abs(t-s)<10&&(o=D.Top),[n,o]}}class Co extends Mi{constructor(t,e){super(t,e),u(this,"left",0),u(this,"top",0),u(this,"size",0),u(this,"minScreenPosition",0),u(this,"maxScreenPosition",0)}initPosition(t){this.size=t.majorTickSize-2;const e=t.axisDistance;switch(this.minScreenPosition=t.transform(t.clipMinimum),this.maxScreenPosition=t.transform(t.clipMaximum),t.position){case x.Left:this.left=t.plotModel.plotArea.left-t.positionTierMinShift-this.size-e,this.top=t.plotModel.plotArea.top;break;case x.Right:this.left=t.plotModel.plotArea.right+t.positionTierMinShift+e,this.top=t.plotModel.plotArea.top;break;case x.Top:this.left=t.plotModel.plotArea.left,this.top=t.plotModel.plotArea.top-t.positionTierMinShift-this.size-e;break;case x.Bottom:this.left=t.plotModel.plotArea.left,this.top=t.plotModel.plotArea.bottom+t.positionTierMinShift+e;break}}async render(t,e){[x.Left,x.Right,x.Top,x.Bottom].includes(t.position)&&(e===0&&(this.initPosition(t),await this.renderColorBlock(t)),await super.render(t,e))}async drawColorRect(t,e,s,n){const o=Math.min(e,s),a=Math.max(e,s)+.5,l=t.isHorizontal()?new N(o,this.top,a-o,this.size):new N(this.left,o,this.size,a-o);await this.renderContext.drawRectangle(l,n,p.Undefined,0,t.edgeRenderingMode)}}class th extends Co{constructor(t,e){super(t,e)}async renderColorBlock(t){const{majorLabelValues:e}=t.getTickValues();for(let s=0;s<t.palette.colors.length;s++){const n=t.transform(t.getLowValue(s,e)),o=t.transform(t.getHighValue(s,e));await this.drawColorRect(t,n,o,t.palette.colors[s])}}}class eh extends Ns{constructor(t,e){super(t,e)}async render(t,e){await super.render(t,e);const s=this.plot.defaultMagnitudeAxis;if(!s)throw new Error("Magnitude axis not defined.");const n=t.startAngle/t.scale,o=t.endAngle/t.scale,a=Math.abs(o-n);if(this.minorPen){const m=Math.abs(a/t.actualMinorStep|0),c=this.minorTickValues.slice(0,m+1).map(g=>s.transformPoint(s.clipMaximum,g,t));for(const g of c)await O.drawLine(this.renderContext,s.midPoint.x,s.midPoint.y,g.x,g.y,this.minorPen,t.edgeRenderingMode)}const l=Math.abs(Math.abs(Math.max(t.endAngle,t.startAngle)-Math.min(t.startAngle,t.endAngle))-360)<.001;let h=a/t.actualMajorStep|0;if(l||h++,this.majorPen){const m=this.majorTickValues.slice(0,h).map(c=>s.transformPoint(s.clipMaximum,c,t));for(const c of m)await O.drawLine(this.renderContext,s.midPoint.x,s.midPoint.y,c.x,c.y,this.majorPen,t.edgeRenderingMode)}for(const m of this.majorLabelValues.slice(0,h)){let c=s.transformPoint(s.clipMaximum,m,t);const g=Math.atan2(c.y-s.midPoint.y,c.x-s.midPoint.x);let{x:f,y:b}=c;f+=Math.cos(g)*t.axisTickToLabelDistance,b+=Math.sin(g)*t.axisTickToLabelDistance,c=A(f,b);let S=g*180/Math.PI;const M=t.formatValue(m);let T=B.Left,C=D.Middle;Math.abs(Math.abs(S)-90)<10?(T=B.Center,C=S>=90?D.Top:D.Bottom,S=0):(S>90||S<-90)&&(S-=180,T=B.Right),await oe.drawMathText(this.renderContext,c,M,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,S,T,C)}}}class tn extends Ns{constructor(t,e){super(t,e)}async render(t,e){await super.render(t,e);const s=this.plot.defaultAngleAxis;if(!s)throw new Error("Angle axis should not be null.");if(s.updateActualMaxMin(),e===0&&this.extraPen){const n=t.extraGridlines;if(n)for(let o=0;o<n.length;o++)await this.renderTick(t,s,n[o],this.extraPen)}if(e===0&&this.minorPen)for(const n of this.minorTickValues)await this.renderTick(t,s,n,this.minorPen);if(e===0&&this.majorPen)for(const n of this.majorTickValues)await this.renderTick(t,s,n,this.majorPen);if(e===1)for(const n of this.majorTickValues)await this.renderTickText(t,n,s)}static getActualAngle(t,e){const s=t.transformPoint(0,e.angle,e),n=t.transformPoint(1,e.angle,e);return Math.atan2(n.y-s.y,n.x-s.x)}static getTickTextAlignment(t){let e=B.Center,s=D.Bottom;return t>3*Math.PI/4||t<-3*Math.PI/4?(e=B.Center,s=D.Top):t<-Math.PI/4?(e=B.Right,s=D.Middle):t>Math.PI/4?(e=B.Left,s=D.Middle):(e=B.Center,s=D.Bottom),[e,s]}async renderTick(t,e,s,n){Math.abs(Math.abs(e.endAngle-e.startAngle)-360)<1e-6&&!n.actualDashArray?await this.renderTickCircle(t,e,s,n):await this.renderTickArc(t,e,s,n)}async renderTickCircle(t,e,s,n){const o=e.offset,a=t.transformPoint(t.clipMinimum,o,e),l=t.transformPoint(s,o,e).x,h=l-a.x,m=h*2,c=l-m,g=a.y-h,f=m;await this.renderContext.drawEllipse(new N(c,g,m,f),p.Undefined,n.color,n.thickness,t.edgeRenderingMode)}async renderTickArc(t,e,s,n){const o=e.clipMinimum,a=e.clipMaximum,l=Math.round(90*Math.abs(e.endAngle-e.startAngle)/360),h=(a-o)/(l-1),m=[];for(let c=0;c<l;c++){const g=o+c*h;m.push(t.transformPoint(s,g,e))}await this.renderContext.drawLine(m,n.color,n.thickness,t.edgeRenderingMode,n.actualDashArray)}async renderTickText(t,e,s){const n=tn.getActualAngle(t,s),o=t.axisTickToLabelDistance*Math.sin(n),a=-t.axisTickToLabelDistance*Math.cos(n),[l,h]=tn.getTickTextAlignment(n);let m=t.transformPoint(e,s.angle,s);m=A(m.x+o,m.y+a);const c=t.formatValue(e);await oe.drawMathText(this.renderContext,m,c,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,t.angle,l,h)}}class ih extends Ns{constructor(t,e){super(t,e)}async render(t,e){await super.render(t,e);const s=this.plot.defaultMagnitudeAxis;if(!s)throw new Error("Magnitude axis not defined.");const n=t.startAngle/t.scale,o=t.endAngle/t.scale,a=Math.abs(o-n);if(this.minorPen){const m=Math.abs(a/t.actualMinorStep),c=this.minorTickValues.slice(0,m+1).map(g=>this.transformToClientRectangle(s.clipMaximum,g,t,this.plot.plotArea,s.midPoint));for(const g of c)await O.drawLine(this.renderContext,s.midPoint.x,s.midPoint.y,g.x,g.y,this.minorPen,t.edgeRenderingMode)}const l=Math.abs(Math.abs(Math.max(t.endAngle,t.startAngle)-Math.min(t.startAngle,t.endAngle))-360)<.001;let h=Math.floor(a/t.actualMajorStep);if(l||h++,this.majorPen){const m=this.majorTickValues.slice(0,h).map(c=>this.transformToClientRectangle(s.clipMaximum,c,t,this.plot.plotArea,s.midPoint));for(const c of m)await O.drawLine(this.renderContext,s.midPoint.x,s.midPoint.y,c.x,c.y,this.majorPen,t.edgeRenderingMode)}for(const m of this.majorLabelValues.slice(0,h)){const c=this.transformToClientRectangle(s.clipMaximum,m,t,this.plot.plotArea,s.midPoint),g=t.formatValue(m);let f=B.Center,b=D.Middle;const S=this.plot.plotArea;let M=c.y,T=c.x;M<=S.top?(f=B.Center,b=D.Top,M+=t.axisTickToLabelDistance):M>=S.bottom?(f=B.Center,b=D.Bottom,M-=t.axisTickToLabelDistance):T<=S.left?(f=B.Left,b=D.Middle,T+=t.axisTickToLabelDistance):T>=S.right&&(f=B.Right,b=D.Middle,T-=t.axisTickToLabelDistance);const C=A(T,M);await oe.drawMathText(this.renderContext,C,g,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,0,f,b)}}transformToClientRectangle(t,e,s,n,o){let a=ye,l=(e-s.offset)*s.scale;l%=360;const h=l/180*Math.PI,m=Math.cos(h),c=-Math.sin(h);if(m!==0){let g=0;m>0?g=n.right-o.x:m<0&&(g=n.left-o.x);const f=g/m;let b=f*m,S=f*c;if(S+o.y>n.bottom||S+o.y<n.top){let M=0;c>0?M=n.bottom-o.y:M=n.top-o.y;const T=M/c;b=T*m,S=T*c,a=A(T*m+o.x,T*c+o.y)}else a=A(b+o.x,S+o.y)}return a}}const Qt=180/Math.PI,fa=Math.PI/180,Ga=class qi extends Ns{constructor(t,e){super(t,e)}async render(t,e){await super.render(t,e);const s=this.plot.defaultAngleAxis,n=this.plot.defaultMagnitudeAxis;if(!s)throw new Error("Angle axis should not be undefined.");s.updateActualMaxMin();const o=Math.abs(t.plotModel.plotArea.top-n.midPoint.y),a=Math.abs(t.plotModel.plotArea.bottom-n.midPoint.y),l=Math.abs(t.plotModel.plotArea.left-n.midPoint.x),h=Math.abs(t.plotModel.plotArea.right-n.midPoint.x),m=t.plotModel.plotArea.offset(-n.midPoint.x,-n.midPoint.y),c=-Qt*Math.atan2(m.top,m.right);let g=-Qt*Math.atan2(m.top,m.left),f=360-Qt*Math.atan2(m.bottom,m.left);const b=360-Qt*Math.atan2(m.bottom,m.right);g<0&&(g+=360),f>360&&(f-=360);const S=Math.sqrt(Math.pow(m.top,2)+Math.pow(m.right,2)),M=Math.sqrt(Math.pow(m.top,2)+Math.pow(m.left,2)),T=Math.sqrt(Math.pow(m.bottom,2)+Math.pow(m.left,2)),C=Math.sqrt(Math.pow(m.bottom,2)+Math.pow(m.right,2));if(e===0&&this.minorPen){const v=this.minorPen;for(const R of this.minorTickValues){const P=t.transform(R);let I=0,V=90,_=90,E=180,q=180,yt=270,Z=270,ut=360;const te=h/P,Ce=o/P,ee=l/P,ie=a/P;P>h&&(ut=360-Qt*Math.acos(te),I=Qt*Math.acos(te)),P>o&&(V=Qt*Math.asin(Ce),_=180-Qt*Math.asin(Ce)),P>l&&(E=180-Qt*Math.acos(ee),q=180+Qt*Math.acos(ee)),P>a&&(yt=180+Qt*Math.asin(ie),Z=360-Qt*Math.asin(ie)),P<=S&&(I<c&&await this.renderTickArc(t,s,R,v,I+s.offset,c+s.offset),c<V&&await this.renderTickArc(t,s,R,v,c+s.offset,V+s.offset)),P<=M&&(_<g&&await this.renderTickArc(t,s,R,v,_+s.offset,g+s.offset),g<E&&await this.renderTickArc(t,s,R,v,g+s.offset,E+s.offset)),P<=T&&(q<f&&await this.renderTickArc(t,s,R,v,q+s.offset,f+s.offset),f<yt&&await this.renderTickArc(t,s,R,v,f+s.offset,yt+s.offset)),P<=C&&(Z<b&&await this.renderTickArc(t,s,R,v,Z+s.offset,b+s.offset),b<ut&&await this.renderTickArc(t,s,R,v,b+s.offset,ut+s.offset))}}if(e===0&&this.majorPen){const v=this.majorPen;for(const R of this.majorTickValues){const P=t.transform(R);let I=0,V=90,_=90,E=180,q=180,yt=270,Z=270,ut=360;const te=h/P,Ce=o/P,ee=l/P,ie=a/P;P>h&&(ut=360-Qt*Math.acos(te),I=Qt*Math.acos(te)),P>o&&(V=Qt*Math.asin(Ce),_=180-Qt*Math.asin(Ce)),P>l&&(E=180-Qt*Math.acos(ee),q=180+Qt*Math.acos(ee)),P>a&&(yt=180+Qt*Math.asin(ie),Z=360-Qt*Math.asin(ie)),P<=S&&(I<c&&await this.renderTickArc(t,s,R,v,I+s.offset,c+s.offset),c<V&&await this.renderTickArc(t,s,R,v,c+s.offset,V+s.offset)),P<=M&&(_<g&&await this.renderTickArc(t,s,R,v,_+s.offset,g+s.offset),g<E&&await this.renderTickArc(t,s,R,v,g+s.offset,E+s.offset)),P<=T&&(q<f&&await this.renderTickArc(t,s,R,v,q+s.offset,f+s.offset),f<yt&&await this.renderTickArc(t,s,R,v,f+s.offset,yt+s.offset)),P<=C&&(Z<b&&await this.renderTickArc(t,s,R,v,Z+s.offset,b+s.offset),b<ut&&await this.renderTickArc(t,s,R,v,b+s.offset,ut+s.offset))}}if(e===1){const v=O.autoResetClip(this.renderContext,N.fromScreenPoints(t.screenMin,t.screenMax));for(const R of this.majorLabelValues)await this.renderTickText(t,R,s);v.dispose()}}static getActualAngle(t,e){const s=t.transformPoint(0,e.angle,e),n=t.transformPoint(1,e.angle,e);return Math.atan2(n.y-s.y,n.x-s.x)}static getTickTextAligment(t){let e=B.Center,s=D.Bottom;return t>3*Math.PI/4||t<-3*Math.PI/4?(e=B.Center,s=D.Top):t<-Math.PI/4?(e=B.Right,s=D.Middle):t>Math.PI/4?(e=B.Left,s=D.Middle):(e=B.Center,s=D.Bottom),[e,s]}async renderTickArc(t,e,s,n,o,a){let l=qi.maxSegments*Math.abs(a-o)/360;(e.fractionUnit===Math.PI||e.actualMaximum===2*Math.PI)&&(l=qi.maxSegments*Math.abs(a-o)/(2*Math.PI),o*=fa,a*=fa),l=Math.max(l,2),l=Math.min(l,qi.maxSegments);const h=Math.abs(a-o)/(l-1),m=[];for(let c=0;c<l;c++){const g=o+c*h,f=t.transformPoint(s,g,e);m.push(f)}await this.renderContext.drawLine(m,n.color,n.thickness,t.edgeRenderingMode,n.actualDashArray)}async renderTickText(t,e,s){const n=qi.getActualAngle(t,s),o=t.axisTickToLabelDistance*Math.sin(n),a=-t.axisTickToLabelDistance*Math.cos(n),[l,h]=qi.getTickTextAligment(n);let m=t.transformPoint(e,s.angle,s);m=A(m.x+o,m.y+a);const c=t.formatValue(e);await oe.drawMathText(this.renderContext,m,c,t.actualTextColor,t.actualFont,t.actualFontSize,t.actualFontWeight,t.angle,l,h)}};u(Ga,"maxSegments",180);let sh=Ga;class nh extends Co{constructor(t,e){super(t,e)}async renderColorBlock(t){const e=t.transform(t.isReversed?t.actualMinimum:t.actualMaximum),s=t.transform(t.isReversed?t.actualMaximum:t.actualMinimum);for(const o of t.ranges){let a=t.transform(o.lowerBound),l=t.transform(o.upperBound);t.isHorizontal()?(a<s&&(a=s),l>e&&(l=e)):(a>s&&(a=s),l<e&&(l=e)),await this.drawColorRect(t,a,l,o.color)}let n=10;if(t.isHorizontal()&&(n*=-1),!t.lowColor.isUndefined()){const o=t.transform(t.actualMinimum);await this.drawColorRect(t,o,o+n,t.lowColor)}if(!t.highColor.isUndefined()){const o=t.transform(t.actualMaximum);await this.drawColorRect(t,o,o-n,t.highColor)}}}class Ua extends Co{constructor(t,e){super(t,e)}async renderColorBlock(t){if(!t.palette)throw new Error("No Palette defined for color axis.");if(t.renderAsImage){const e=t.transform(t.clipMaximum)-t.transform(t.clipMinimum),s=e<0,n=Math.abs(e);if(t.isHorizontal()){const o=await this.generateColorAxisImage(t,s);await O.drawImage(this.renderContext,o,this.left,this.top,n,this.size,1,!0)}else{const o=await this.generateColorAxisImage(t,s);await O.drawImage(this.renderContext,o,this.left,this.top,this.size,n,1,!0)}}else{for(let s=0;s<t.palette.colors.length;s++){const n=this.transform(t,We.getLowValue(t,s)),o=this.transform(t,We.getHighValue(t,s));await this.drawColorRect(t,n,o,t.palette.colors[s])}let e=10;t.isHorizontal()&&(e*=-1),t.lowColor.isUndefined()||await this.drawColorRect(t,this.minScreenPosition,this.minScreenPosition+e,t.lowColor),t.highColor.isUndefined()||await this.drawColorRect(t,this.maxScreenPosition,this.maxScreenPosition-e,t.highColor)}}async generateColorAxisImage(t,e){const s=t.palette.colors.length,n=t.isHorizontal()?new Re(s,1,p.Undefined):new Re(1,s,p.Undefined);for(let o=0;o<s;o++){const a=t.palette.colors[o],l=e?s-1-o:o;t.isHorizontal()?n.set(l,0,a):n.set(0,l,a)}return fe.create(n,pe.Png)}transform(t,e){return this.linearInterpolation(t.clipMinimum,this.minScreenPosition,t.clipMaximum,this.maxScreenPosition,e)}linearInterpolation(t,e,s,n,o){return e+(o-t)*(n-e)/(s-t)}}class wt extends To{constructor(t){super(t),u(this,"base"),u(this,"powerPadding"),u(this,"logActualMaximum",0),u(this,"logActualMinimum",0),u(this,"logClipMaximum",0),u(this,"logClipMinimum",0),this.powerPadding=!0,this.base=10,this.filterMinValue=0,t&&Object.assign(this,st(t))}getTickValues(){let t=[],e=[],s=[];const n=Math.abs(this.logClipMaximum-this.logClipMinimum),o=Math.abs(this.isVertical()?this.screenMax.y-this.screenMin.y:this.screenMax.x-this.screenMin.x)/this.intervalLength/n,a=1/Math.floor(o),l=Math.round(this.base);if(o<.75){const h=Math.pow(2,Math.ceil(Math.log(1/o)/Math.log(2)));t=this.decadeTicks(h),s=this.decadeTicks(Math.ceil(h/8))}else if(Math.abs(this.base-l)>1e-10)t=this.decadeTicks(a),s=this.decadeTicks(.5*a);else if(o<2)t=this.decadeTicks(),s=this.subdividedDecadeTicks();else{if(o>this.base*1.5)return super.getTickValues();{const h=this.logSubdividedDecadeTicks(!1);if(h.length<2)return super.getTickValues();const m=this.logCalculateMinorCandidates(h,a);s=this.powList(m,!0),t=this.alignTicksToCandidates(h,a)}}return e=t,s=ci.filterRedundantMinorTicks(t,s),{majorLabelValues:e,majorTickValues:t,minorTickValues:s}}isXyAxis(){return!0}isLogarithmic(){return!0}pan(t,e){if(!this.isPanEnabled)return;const s=this.isHorizontal(),n=this.inverseTransform(s?t.x:t.y),o=this.inverseTransform(s?e.x:e.y);if(Math.abs(o)<=0)return;const a=this.actualMinimum,l=this.actualMaximum,h=n/o;let m=this.actualMinimum*h,c=this.actualMaximum*h;m<this.absoluteMinimum&&(m=this.absoluteMinimum,c=m*this.actualMaximum/this.actualMinimum),c>this.absoluteMaximum&&(c=this.absoluteMaximum,m=c*this.actualMinimum/this.actualMaximum),this.viewMinimum=m,this.viewMaximum=c;const g=this.actualMinimum-a,f=this.actualMaximum-l;this.onAxisChanged({changeType:hi.Pan,deltaMinimum:g,deltaMaximum:f})}inverseTransform(t){return this.postInverseTransform(t/this.scale+this.offset)}transform(t){return t<=0?-1:(this.preTransform(t)-this.offset)*this.scale}zoomAt(t,e){if(!this.isZoomEnabled)return;const s=this.actualMinimum,n=this.actualMaximum,o=this.preTransform(e),a=this.preTransform(this.actualMinimum)-o,l=this.preTransform(this.actualMaximum)-o,h=this.postInverseTransform(a/t+o),m=this.postInverseTransform(l/t+o),c=Math.max(h,this.absoluteMinimum),g=Math.min(m,this.absoluteMaximum);this.viewMinimum=c,this.viewMaximum=g,this.updateActualMaxMin();const f=this.actualMinimum-s,b=this.actualMaximum-n;this.onAxisChanged({changeType:hi.Zoom,deltaMinimum:f,deltaMaximum:b})}powList(t,e=!1){return t.filter(s=>!e||!(s<this.logClipMinimum)).filter(s=>!e||!(s>this.logClipMaximum)).map(s=>Math.pow(this.base,s))}logList(t,e=!1){return t.filter(s=>!e||!(s<this.clipMinimum)).filter(s=>!e||!(s>this.clipMaximum)).map(s=>Math.log(s)/Math.log(this.base))}decadeTicks(t=1){return this.powList(this.logDecadeTicks(t))}logDecadeTicks(t=1){const e=[];if(t<=0)return e;let s=Number.NaN;for(let n=Math.ceil(this.logClipMinimum);n<=this.logClipMaximum&&!(n<=s);n+=t)s=n,n>=this.logClipMinimum&&e.push(n);return e}logSubdividedDecadeTicks(t=!0){return this.logList(this.subdividedDecadeTicks(t))}subdividedDecadeTicks(t=!0){const e=[];for(let s=Math.floor(this.logClipMinimum);!(s>this.logClipMaximum);s++){const n=Math.pow(this.base,s);for(let o=1;o<this.base;o++){const a=n*o;if(!(t&&a<this.clipMinimum)){if(t&&a>this.clipMaximum)break;e.push(n*o)}}}return e}alignTicksToCandidates(t,e){return this.powList(this.logAlignTicksToCandidates(t,e))}logAlignTicksToCandidates(t,e){const s=[];let n=1,o=Number.NaN;for(let a=Math.floor(this.logClipMinimum);;a+=e){if(a<this.logClipMinimum-e)continue;if(a>this.logClipMaximum+e)break;for(;n<t.length-1&&t[n]<a;)n++;const l=Math.abs(t[n]-a)<Math.abs(t[n-1]-a)?t[n]:t[n-1];l!=o&&l>=this.logClipMinimum&&l<=this.logClipMaximum&&s.push(l),o=l}return s}logCalculateMinorCandidates(t,e){const s=[];for(let n=1;n<t.length;n++){const o=t[n-1],a=t[n];if(!(a<this.logClipMinimum)){if(o>this.logClipMaximum)break;(a-o)/e>2&&this.logSubdivideInterval(s,this.base,o,a),s.push(a)}}return s}logSubdivideInterval(t,e,s,n){let o=1;const a=Math.round(this.base);if(e<2)return;if(Math.abs(this.base-a)>this.base*1e-10)o=Math.round(e);else if(a&a-1)for(a!=10&&(o=a);!(o>=e||(o*=2,o>=e)||(o=Math.round(o*2.5),o>=e));)o*=2;else for(;o<e;)o*=2;const l=Math.pow(this.base,s),h=Math.pow(this.base,n);for(let m=1;m<o;m++){const c=m/o,g=Math.log(l+(h-l)*c)/Math.log(this.base);t.push(g)}}updateActualMaxMin(){if(this.powerPadding){const t=Math.log(this.base),e=Math.floor(Math.log(this.actualMinimum)/t),s=Math.ceil(Math.log(this.actualMaximum)/t);isNaN(this.actualMinimum)||(this.actualMinimum=vt(Math.exp(e*t),14)),isNaN(this.actualMaximum)||(this.actualMaximum=vt(Math.exp(s*t),14))}super.updateActualMaxMin(),this.actualMinimum<=0&&(this.actualMinimum=.1)}actualMaximumAndMinimumChangedOverride(){this.logActualMinimum=this.preTransform(this.actualMinimum),this.logActualMaximum=this.preTransform(this.actualMaximum),this.logClipMinimum=this.preTransform(this.clipMinimum),this.logClipMaximum=this.preTransform(this.clipMaximum)}postInverseTransform(t){return Math.pow(this.base,t)}preTransform(t){if(t<=0)throw new Error("Value should be positive.");return t<=0?0:Kl(t,this.base)}coerceActualMaxMin(){(isNaN(this.actualMinimum)||Je(this.actualMinimum))&&(this.actualMinimum=1),this.actualMinimum<=0&&(this.actualMinimum=1),this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum*100),super.coerceActualMaxMin()}calculateActualMaximum(){let t=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const e=this.dataMaximum>0?this.dataMaximum:1;t+=e*.5}if(!isNaN(this.dataMinimum)&&!isNaN(t)){const e=t,s=this.dataMinimum;return Math.pow(e,this.maximumPadding+1)*(s>Number.EPSILON?Math.pow(s,-this.maximumPadding):1)}return t}calculateActualMinimum(){let t=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const e=this.dataMaximum>0?this.dataMaximum:1;t-=e*.5}if(!isNaN(this.actualMaximum)){const e=this.actualMaximum,s=t,n=this.maximumPadding;return Math.pow(s,1+this.minimumPadding-this.minimumPadding*n/(1+n))*Math.pow(e,-this.minimumPadding/(1+n))}return t}}class oh extends wt{constructor(t){super(t),u(this,"invalidNumberColor"),u(this,"highColor"),u(this,"lowColor"),u(this,"palette"),u(this,"renderAsImage",!1),this.position=x.None,this.axisDistance=20,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.palette=H.viridis(),this.lowColor=p.Undefined,this.highColor=p.Undefined,this.invalidNumberColor=p.Gray,t&&Object.assign(this,st(t))}isXyAxis(){return!1}async render(t,e){await new Ua(t,this.plotModel).render(this,e)}getColor(t){return We.getColorByPaletteIndex(this,t)}getPaletteIndex(t){if(isNaN(t))return ht;if(this.lowColor.isUndefined()&&t<this.clipMinimum)return 0;if(this.highColor.isUndefined()&&t>this.clipMaximum)return this.palette.colors.length+1;const e=this.preTransform(t);let s=1+Math.floor((e-this.logClipMinimum)/(this.logClipMaximum-this.logClipMinimum)*this.palette.colors.length);return s<1&&(s=1),s>this.palette.colors.length&&(s=this.palette.colors.length),s}}var at=(i=>(i[i.Auto=0]="Auto",i[i.Manual=1]="Manual",i[i.Milliseconds=2]="Milliseconds",i[i.Seconds=3]="Seconds",i[i.Minutes=4]="Minutes",i[i.Hours=5]="Hours",i[i.Days=6]="Days",i[i.Weeks=7]="Weeks",i[i.Months=8]="Months",i[i.Years=9]="Years",i))(at||{});const Ki=class be extends w{constructor(t){super(t),u(this,"actualIntervalType",at.Auto),u(this,"actualMinorIntervalType",at.Auto),u(this,"_dateService"),u(this,"firstDayOfWeek"),u(this,"intervalType"),u(this,"minorIntervalType",at.Auto),u(this,"timeZone"),this.position=x.Bottom,this.intervalType=at.Auto,this.firstDayOfWeek=hn.Monday,this._dateService=Ze(),t&&Object.assign(this,st(t))}static createDataPoint(t,e){return d(be.toDouble(t),e)}static toDateTime(t){return isNaN(t)||t<be.MinDayValue||t>be.MaxDayValue?new Date:Ze().addTimespan(be.TimeOrigin,_t.fromDays(t-1))}static toDouble(t){return Ze().diff(t,be.TimeOrigin).totalDays+1}itemToDouble(t){return t instanceof Date?be.toDouble(t):super.itemToDouble(t)}getTickValues(){let t=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep,this.actualMinorIntervalType);const e=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep,this.actualIntervalType),s=e;return t=ci.filterRedundantMinorTicks(e,t),{majorLabelValues:s,majorTickValues:e,minorTickValues:t}}getValue(t){const e=be.toDateTime(t);return this.timeZone?this._dateService.convertTime(e,this.timeZone):e}updateIntervals(t){super.updateIntervals(t);const e=!Mt(this.stringFormatter);switch(this.actualIntervalType){case at.Years:this.actualMinorStep=31,this.actualMinorIntervalType=at.Years,e||(this.actualStringFormatter=s=>this._dateService.format(s,"YYYY"));break;case at.Months:this.actualMinorIntervalType=at.Months,e||(this.actualStringFormatter=s=>this._dateService.format(s,"YYYY-MM-DD"));break;case at.Weeks:this.actualMinorIntervalType=at.Days,this.actualMajorStep=7,this.actualMinorStep=1,e||(this.actualStringFormatter=s=>this._dateService.format(s,"YYYY/ww"));break;case at.Days:this.actualMinorStep=this.actualMajorStep,e||(this.actualStringFormatter=s=>this._dateService.format(s,"YYYY-MM-DD"));break;case at.Hours:this.actualMinorStep=this.actualMajorStep,e||(this.actualStringFormatter=s=>this._dateService.format(s,"HH:mm"));break;case at.Minutes:this.actualMinorStep=this.actualMajorStep,e||(this.actualStringFormatter=s=>this._dateService.format(s,"HH:mm"));break;case at.Seconds:this.actualMinorStep=this.actualMajorStep,e||(this.actualStringFormatter=s=>this._dateService.format(s,"HH:mm:ss"));break;case at.Milliseconds:this.actualMinorStep=this.actualMajorStep,e||(this.actualStringFormatter=s=>this._dateService.format(s,"HH:mm:ss.SSS"));break;case at.Manual:break;case at.Auto:break}}getDefaultStringFormatter(){return t=>this._dateService.format(t,"yyyy-MM-dd")}formatValueOverride(t){let e=be.toDateTime(t);this.timeZone&&(e=this._dateService.convertTime(e,this.timeZone));const s=this.actualStringFormatter;return s?s(e):e.toLocaleDateString()}calculateActualInterval(t,e,s,n,o){const a=.041666666666666664,l=a/60,h=l/60,m=h/1e3;o=Math.abs(this.clipMinimum-this.clipMaximum);const c=[m,2*m,10*m,100*m,h,2*h,5*h,10*h,30*h,l,2*l,5*l,10*l,30*l,a,4*a,8*a,12*a,1,2*1,5*1,7,2*7,30.5,2*30.5,3*30.5,4*30.5,6*30.5,365.25];let g=c[0];for(s=Math.max(s,0),n=Math.min(n,Math.max(Math.floor(t/e),2));!(o/g<n);){let f=c.find(b=>b>g);if(xi(f))throw new Error(`cannot calculate interval,range=${o}`);if(Math.abs(f)<=0&&(f=g*2),o/f<s)break;g=f}if(this.actualIntervalType=this.intervalType,this.actualMinorIntervalType=this.minorIntervalType,this.intervalType===at.Auto&&(this.actualIntervalType=at.Milliseconds,g>=1/24/60/60&&(this.actualIntervalType=at.Seconds),g>=1/24/60&&(this.actualIntervalType=at.Minutes),g>=1/24&&(this.actualIntervalType=at.Hours),g>=1&&(this.actualIntervalType=at.Days),g>=30&&(this.actualIntervalType=at.Months),o>=365.25&&(this.actualIntervalType=at.Years)),this.actualIntervalType===at.Months){const f=o/30.5;g=super.calculateActualInterval(t,e,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,f)}if(this.actualIntervalType===at.Years){const f=o/365.25;g=super.calculateActualInterval(t,e,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,f)}if(this.actualMinorIntervalType===at.Auto)switch(this.actualIntervalType){case at.Years:this.actualMinorIntervalType=at.Months;break;case at.Months:this.actualMinorIntervalType=at.Days;break;case at.Weeks:this.actualMinorIntervalType=at.Days;break;case at.Days:this.actualMinorIntervalType=at.Hours;break;case at.Hours:this.actualMinorIntervalType=at.Minutes;break;default:this.actualMinorIntervalType=at.Days;break}return g}createDateTickValues(t,e,s,n){const o=[];let a=be.toDateTime(t);if(!a)return o;let l=0;switch(n){case at.Weeks:l=this._dateService.dayOfWeek(a),a=this._dateService.addTimespan(a,_t.fromDays(-l+this.firstDayOfWeek));break;case at.Months:a=new Date(a.getFullYear(),a.getMonth(),1);break;case at.Years:a=new Date(a.getFullYear(),0,1);break}const h=this._dateService.addTimespan(be.toDateTime(e),_t.fromMilliseconds(1));if(!h)return o;let m=a;const c=s*.001,g=be.toDateTime(t-c),f=be.toDateTime(e+c);if(!g||!f)return o;for(;m<h;)switch(m>g&&m<f&&o.push(be.toDouble(m)),n){case at.Months:m=this._dateService.addMonths(m,Math.ceil(s));break;case at.Years:m=this._dateService.addYears(m,Math.ceil(s));break;default:m=this._dateService.addTimespan(m,_t.fromDays(s));break}return o}createDateTimeTickValues(t,e,s,n){return n>at.Days?this.createDateTickValues(t,e,s,n):this.createTickValues(t,e,s)}};u(Ki,"TimeOrigin",new Date(Date.UTC(1901,0,1,0,0,0))),u(Ki,"MaxDayValue",_t.fromMilliseconds(Ul.getTime()-Ki.TimeOrigin.getTime()).totalDays),u(Ki,"MinDayValue",_t.fromMilliseconds(Ii.getTime()-Ki.TimeOrigin.getTime()).totalDays);let It=Ki;class Ne extends w{static toDouble(t){return t.totalSeconds}itemToDouble(t){return t instanceof _t?Ne.toDouble(t):super.itemToDouble(t)}static toTimeSpan(t){return _t.fromSeconds(t)}getValue(t){return Ne.toTimeSpan(t)}getDefaultStringFormatter(){function t(e){return e.toString().padStart(2,"0")}return e=>`${e.hours}:${t(e.minutes)}:${t(e.seconds)}`}formatValueOverride(t){const e=Ne.toTimeSpan(t),s=this.actualStringFormatter??this.stringFormatter;return s?s(e):e.toString()}calculateActualInterval(t,e,s,n){const o=Math.abs(this.clipMinimum-this.clipMaximum);let a=1;const l=[1,5,10,30,60,120,300,600,900,1200,1800,3600];for(s=Math.max(s,0),n=Math.min(n,Math.max(Math.floor(t/e),2));!(o/a<n);){let h=l.find(m=>m>a);if(h||(h=a*2),o/h<s)break;a=h}return a}}class Wt extends w{constructor(t){super(t),u(this,"invalidNumberColor"),u(this,"highColor"),u(this,"lowColor"),u(this,"palette"),u(this,"renderAsImage",!1),this.position=x.None,this.axisDistance=20,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.palette=H.viridis(),this.lowColor=p.Undefined,this.highColor=p.Undefined,this.invalidNumberColor=p.Gray,t&&Object.assign(this,st(t))}isXyAxis(){return!1}async render(t,e){return new Ua(t,this.plotModel).render(this,e)}getColor(t){return Hn(t,"paletteIndex"),t===ht?this.invalidNumberColor:t===0?this.lowColor:t===this.palette.colors.length+1?this.highColor:this.palette.colors[t-1]}getPaletteIndex(t){if(isNaN(t))return ht;if(!this.lowColor.isUndefined()&&t<this.clipMinimum)return 0;if(!this.highColor.isUndefined()&&t>this.clipMaximum)return this.palette.colors.length+1;let e=1+Math.floor((t-this.clipMinimum)/(this.clipMaximum-this.clipMinimum)*this.palette.colors.length);return e<1&&(e=1),e>this.palette.colors.length&&(e=this.palette.colors.length),e}}class ah extends w{constructor(t){super(t),u(this,"_ranges",[]),u(this,"invalidNumberColor"),u(this,"highColor"),u(this,"lowColor"),this.position=x.None,this.axisDistance=20,this.lowColor=p.Undefined,this.highColor=p.Undefined,this.invalidNumberColor=p.Gray,this.isPanEnabled=!1,this.isZoomEnabled=!1,t&&Object.assign(this,t)}get ranges(){return this._ranges}addRange(t,e,s){this._ranges.push({lowerBound:t,upperBound:e,color:s})}clearRanges(){this._ranges.length=0}getPaletteIndex(t){if(!this.lowColor.isUndefined()&&t<this._ranges[0].lowerBound)return-1;if(!this.highColor.isUndefined()&&t>this._ranges[this._ranges.length-1].upperBound)return this._ranges.length;for(let e=0;e<this._ranges.length;e++){const s=this._ranges[e];if(s.lowerBound<=t&&s.upperBound>t)return e}return ht}getColor(t){return t===ht?this.invalidNumberColor:t===-1?this.lowColor:t===this._ranges.length?this.highColor:this._ranges[t].color}async render(t,e){return new nh(t,this.plotModel).render(this,e)}}class ja extends Ae{constructor(t){super(t),u(this,"_midShiftH",0),u(this,"_midShiftV",0),this.position=x.None,this.isPanEnabled=!0,this.isZoomEnabled=!1,this.majorGridlineStyle=k.Solid,this.minorGridlineStyle=k.Solid,t&&Object.assign(this,t)}get midShiftH(){return this._midShiftH}set midShiftH(t){this._midShiftH=t,this._midShiftH=Math.max(this._midShiftH,-.5),this._midShiftH=Math.min(this._midShiftH,.5)}get midShiftV(){return this._midShiftV}set midShiftV(t){this._midShiftV=t,this._midShiftV=Math.max(this._midShiftV,-.5),this._midShiftV=Math.min(this._midShiftV,.5)}async render(t,e){await new sh(t,this.plotModel).render(this,e)}getTickValues(){const t=N.fromScreenPoints(this.screenMin,this.screenMax),e=Ve(t.topLeft,this.midPoint),s=Ve(t.topRight,this.midPoint),n=Ve(t.bottomRight,this.midPoint),o=Ve(t.bottomLeft,this.midPoint);let a=Math.max(e,s);a=Math.max(a,n),a=Math.max(a,o);const l=this.inverseTransform(a),h=ci.createTickValues(this.actualMinimum,l,this.actualMajorStep);let m=ci.createTickValues(this.actualMinimum,l,this.actualMinorStep);return m=ci.filterRedundantMinorTicks(h,m),{majorLabelValues:h,majorTickValues:h,minorTickValues:m}}updateTransform(t){const e=t.left,s=t.right,n=t.bottom,o=t.top;this.screenMin=A(e,o),this.screenMax=A(s,n),this.midPoint=A((e+s)/2+this.midShiftH*t.width,(n+o)/2+this.midShiftV*t.height);const a=Math.min(Math.abs(s-e),Math.abs(o-n));let l=0,h=a*.5;const m=h-l;h=l+this.endPosition*m,l=l+this.startPosition*m;const c=this.isReversed?-1:1;this.minimumDataMargin>0&&(l+=this.minimumDataMargin*c),this.maximumDataMargin>0&&(h-=this.maximumDataMargin*c),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const g=this.preTransform(this.actualMaximum),f=this.preTransform(this.actualMinimum),b=l-h;let S,M;Math.abs(b)>Number.EPSILON?S=l/b*g-h/b*f:S=0;const T=g-f;Math.abs(T)>Number.EPSILON?M=(h-l)/T:M=1,this.setTransform(M,S),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(a*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}pan(t,e){if(!this.isPanEnabled)return;const s=e.x-t.x,n=e.y-t.y,o=s/this.plotModel.plotArea.width,a=n/this.plotModel.plotArea.height;this.midShiftH+=o,this.midShiftV+=a,this.onAxisChanged({changeType:hi.Pan,deltaMinimum:0,deltaMaximum:0})}zoomAt(t,e){this.isZoomEnabled&&super.zoomAt(t,0)}}class We{static getColor(t,e){return t.getColor(t.getPaletteIndex(e))}static getHighValue(t,e){return this.getLowValue(t,e+1)}static getLowValue(t,e){return e/t.palette.colors.length*(t.clipMaximum-t.clipMinimum)+t.clipMinimum}static getColorByPaletteIndex(t,e){return e===ht?t.invalidNumberColor:e===0?t.lowColor:e===t.palette.colors.length+1?t.highColor:t.palette.colors[e-1]}}class Wa extends K{constructor(t){super(t),u(this,"invalidCategoryColor",p.Undefined),u(this,"palette"),this.palette=new zt,t&&Object.assign(this,t)}getColor(t){return t===-1?this.invalidCategoryColor:t>=this.palette.colors.length?this.invalidCategoryColor:this.palette.colors[t]}getPaletteIndex(t){return Math.floor(t)}async render(t,e){return new th(t,this.plotModel).render(this,e)}getHighValue(t,e){return t>=this.palette.colors.length-1?this.clipMaximum:(e[t]+e[t+1])/2}getLowValue(t,e){return t===0?this.clipMinimum:(e[t-1]+e[t])/2}}const ae=Object.freeze({x:NaN,y:NaN}),Ai=Object.freeze({x:0,y:0});function en(i){return isNaN(i.x)&&isNaN(i.y)}function ls(i){return!en(i)}function d(i,t){return{x:i,y:t}}function rh(i){return i&&typeof i.x=="number"&&typeof i.y=="number"}function lh(i,t){return new dn(i.x-t.x,i.y-t.y)}function wa(i,t){return d(i.x-t.x,i.y-t.y)}function qs(i,t){return d(i.x+t.x,i.y+t.y)}function ya(i,t){return i.x===t.x&&i.y===t.y}const qn=class ks{constructor(t,e){u(this,"_x"),u(this,"_y"),this._x=t,this._y=e}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}times(t){const e=this;return new ks(e._x*t,e._y*t)}plus(t){const e=this;return new ks(e._x+t._x,e._y+t._y)}minus(t){const e=this;return new ks(e._x-t._x,e._y-t._y)}negate(){const t=this;return new ks(-t._x,-t._y)}equals(t){return this._x===t._x&&this._y===t._y}toString(){return`${this._x} ${this._y}`}isDefined(){return this._x===this._x&&this._y===this._y}};u(qn,"Undefined",new qn(NaN,NaN));let dn=qn;function hh(i){return i.getDataPoint&&typeof i.getDataPoint=="function"}var F=(i=>(i[i.None=0]="None",i[i.Circle=1]="Circle",i[i.Square=2]="Square",i[i.Diamond=3]="Diamond",i[i.Triangle=4]="Triangle",i[i.Cross=5]="Cross",i[i.Plus=6]="Plus",i[i.Star=7]="Star",i[i.Custom=8]="Custom",i))(F||{}),j=(i=>(i[i.Data=0]="Data",i[i.ScreenUnits=1]="ScreenUnits",i[i.RelativeToViewport=2]="RelativeToViewport",i[i.RelativeToPlotArea=3]="RelativeToPlotArea",i))(j||{});class ot{constructor(t,e){u(this,"_unit"),u(this,"_value"),this._value=t,this._unit=e}get value(){return this._value}get unit(){return this._unit}equals(t){return this._value===t.value&&this._unit===t.unit}}var Fe=(i=>(i[i.Default=0]="Default",i[i.Pan=1]="Pan",i[i.ZoomRectangle=2]="ZoomRectangle",i[i.ZoomHorizontal=3]="ZoomHorizontal",i[i.ZoomVertical=4]="ZoomVertical",i))(Fe||{});function Hs(i){const t=[];return new Proxy(t,{deleteProperty:function(e,s){const n=e[s];return n&&n instanceof Yn&&(n.parent=void 0),delete e[s],!0},set:function(e,s,n,o){return e[s]=n,s==="length"||n&&n instanceof Yn&&(n.parent=i),!0}})}class vs{constructor(t,e){u(this,"point"),u(this,"tolerance"),this.point=t,this.tolerance=e}}class mh{constructor(t){u(this,"view"),this.view=t}completed(t){}delta(t){}started(t){}}const Kn=class Zn{constructor(){u(this,"selectionColor"),u(this,"currentMouseEventElement"),u(this,"currentTouchEventElement"),u(this,"keyDown"),u(this,"mouseDown"),u(this,"mouseMove"),u(this,"mouseUp"),u(this,"mouseEnter"),u(this,"mouseLeave"),u(this,"touchStarted"),u(this,"touchDelta"),u(this,"touchCompleted"),this.selectionColor=p.Yellow}hitTest(t){const e=this.getHitTestElements(),s=[];for(const n of e){const o=n.hitTest(t);o&&s.push(o)}return s}handleMouseDown(t,e){const s=new vs(e.position,Zn.mouseHitTolerance);for(const n of this.hitTest(s)){e.hitTestResult=n;const o=n.element;if(o.onMouseDown(e),e.handled){this.currentMouseEventElement=o;return}}e.handled||this.onMouseDown(t,e)}handleMouseMove(t,e){this.currentMouseEventElement&&this.currentMouseEventElement.onMouseMove(e),e.handled||this.onMouseMove(t,e)}handleMouseUp(t,e){this.currentMouseEventElement&&(this.currentMouseEventElement.onMouseUp(e),this.currentMouseEventElement=void 0),e.handled||this.onMouseUp(t,e)}handleMouseEnter(t,e){e.handled||this.onMouseEnter(t,e)}handleMouseLeave(t,e){e.handled||this.onMouseLeave(t,e)}handleTouchStarted(t,e){const s=new vs(e.position,Zn.mouseHitTolerance);for(const n of this.hitTest(s)){const o=n.element;if(o.onTouchStarted(e),e.handled){this.currentTouchEventElement=o;return}}e.handled||this.onTouchStarted(t,e)}handleTouchDelta(t,e){this.currentTouchEventElement&&this.currentTouchEventElement.onTouchDelta(e),e.handled||this.onTouchDelta(t,e)}handleTouchCompleted(t,e){this.currentTouchEventElement&&(this.currentTouchEventElement.onTouchCompleted(e),this.currentTouchEventElement=void 0),e.handled||this.onTouchCompleted(t,e)}handleKeyDown(t,e){for(const s of this.getHitTestElements())if(s.onKeyDown(e),e.handled)break;e.handled||this.onKeyDown(t,e)}onKeyDown(t,e){const s=this.keyDown;s&&s(t,e)}onMouseDown(t,e){const s=this.mouseDown;s&&s(t,e)}onMouseMove(t,e){const s=this.mouseMove;s&&s(t,e)}onMouseUp(t,e){const s=this.mouseUp;s&&s(t,e)}onMouseEnter(t,e){const s=this.mouseEnter;s&&s(t,e)}onMouseLeave(t,e){const s=this.mouseLeave;s&&s(t,e)}onTouchStarted(t,e){const s=this.touchStarted;s&&s(t,e)}onTouchDelta(t,e){const s=this.touchDelta;s&&s(t,e)}onTouchCompleted(t,e){const s=this.touchCompleted;s&&s(t,e)}};u(Kn,"DefaultSelectionColor",p.Yellow),u(Kn,"mouseHitTolerance",10);let Jn=Kn;const Qn=class to{constructor(){u(this,"selection",new Map)}static get Everything(){return to.EverythingSelection}isEverythingSelected(){return this===to.EverythingSelection}getSelectedItems(){return Array.from(this.selection.keys()).map(t=>t.Index)}getSelectedItemsByFeature(t){return Array.from(this.selection.keys()).filter(e=>e.Feature===t).map(e=>e.Index)}clear(){this.selection.clear()}isItemSelected(t,e=null){if(this.isEverythingSelected())return!0;const s=new On(t,e);return this.hasSelection(s)}select(t,e=null){const s=new On(t,e);this.setSelection(s,!0)}unselect(t,e=null){const s=new On(t,e);if(!this.hasSelection(s))throw new Error(`Item ${t} and feature ${e} is not selected. Cannot unselect.`);this.deleteSelection(s)}getSameKey(t){for(const e of this.selection.keys())if(e.equals(t))return e}hasSelection(t){return!!this.getSameKey(t)}deleteSelection(t){const e=this.getSameKey(t);e&&this.selection.delete(e)}setSelection(t,e){const s=this.getSameKey(t)||t;this.selection.set(s,e)}};u(Qn,"EverythingSelection",new Qn);let ba=Qn;class On{constructor(t,e){u(this,"index"),u(this,"feature"),this.index=t,this.feature=e}get Index(){return this.index}get Feature(){return this.feature}equals(t){return t.index===this.index&&t.feature===this.feature}}var mi=(i=>(i[i.All=0]="All",i[i.Single=1]="Single",i[i.Multiple=2]="Multiple",i))(mi||{});class sn{constructor(t,e){u(this,"gesture"),u(this,"command"),this.gesture=t,this.command=e}static fromKeyGesture(t,e,s){return new sn(new hs(t,e),s)}static fromMouseGesture(t,e,s){return new sn(new Ri(t,e),s)}getGesture(){return this.gesture}getCommand(){return this.command}}class uh{constructor(){u(this,"inputCommandBindings",[]),u(this,"mouseDownManipulators",[]),u(this,"mouseHoverManipulators",[]),u(this,"touchManipulators",[])}handleGesture(t,e,s){const n=this.getCommand(e);return this.handleCommand(n,t,s)}handleMouseDown(t,e){if(t.actualModel&&(t.actualModel.handleMouseDown(this,e),e.handled))return!0;const s=this.getCommand(new Ri(e.changedButton,e.modifierKeys,e.clickCount));return this.handleCommand(s,t,e)}handleMouseEnter(t,e){if(t.actualModel&&(t.actualModel.handleMouseEnter(this,e),e.handled))return!0;const s=this.getCommand(new Ps(e.modifierKeys));return this.handleCommand(s,t,e)}handleMouseLeave(t,e){if(t.actualModel&&(t.actualModel.handleMouseLeave(this,e),e.handled))return!0;for(const s of[...this.mouseHoverManipulators])s.completed(e),js(this.mouseHoverManipulators,s);return e.handled}handleMouseMove(t,e){if(t.actualModel&&(t.actualModel.handleMouseMove(this,e),e.handled))return!0;for(const s of this.mouseDownManipulators)s.delta(e);for(const s of this.mouseHoverManipulators)s.delta(e);return e.handled}handleMouseUp(t,e){if(t.actualModel&&(t.actualModel.handleMouseUp(this,e),e.handled))return!0;for(const s of[...this.mouseDownManipulators])s.completed(e),js(this.mouseDownManipulators,s);return e.handled}handleMouseWheel(t,e){const s=this.getCommand(new Ls(e.modifierKeys));return this.handleCommand(s,t,e)}handleTouchStarted(t,e){if(t.actualModel&&(t.actualModel.handleTouchStarted(this,e),e.handled))return!0;const s=this.getCommand(new Is);return this.handleCommand(s,t,e)}handleTouchDelta(t,e){if(t.actualModel&&(t.actualModel.handleTouchDelta(this,e),e.handled))return!0;for(const s of this.touchManipulators)s.delta(e);return e.handled}handleTouchCompleted(t,e){if(t.actualModel&&(t.actualModel.handleTouchCompleted(this,e),e.handled))return!0;for(const s of[...this.touchManipulators])s.completed(e),js(this.touchManipulators,s);return e.handled}handleKeyDown(t,e){if(!t.actualModel)return!1;if(t.actualModel.handleKeyDown(this,e),e.handled)return!0;const s=this.getCommand(new hs(e.key,e.modifierKeys));return this.handleCommand(s,t,e)}addMouseManipulator(t,e,s){this.mouseDownManipulators.push(e),e.started(s)}addHoverManipulator(t,e,s){this.mouseHoverManipulators.push(e),e.started(s)}addTouchManipulator(t,e,s){this.touchManipulators.push(e),e.started(s)}bindMouseDown(t,e){this.bindCore(t,e)}bindMouseEnter(t,e){this.bindCore(t,e)}bindMouseWheel(t,e){this.bindCore(t,e)}bindTouch(t,e){this.bindCore(t,e)}bindKey(t,e){this.bindCore(t,e)}unbindInput(t){ua(this.inputCommandBindings,e=>e.getGesture().equals(t))}unbindViewCommand(t){ua(this.inputCommandBindings,e=>e.getCommand()===t)}unbindAll(){this.inputCommandBindings.length=0}bindCore(t,e){const s=this.inputCommandBindings.find(n=>n.getGesture().equals(t));s&&js(this.inputCommandBindings,s),e&&this.inputCommandBindings.push(new sn(t,e))}getCommand(t){const e=this.inputCommandBindings.find(s=>s.getGesture().equals(t));return e?e.getCommand():void 0}handleCommand(t,e,s){return t?(t.execute(e,this,s),s.handled):!1}}let ct=class{static bindKeyDown(t,e,s,n=gt.None){t.bindKey(new hs(e,n),s)}static bindMouseDown(t,e,s,n=gt.None,o=1){t.bindMouseDown(new Ri(e,n,o),s)}static bindTouchDown(t,e){t.bindTouch(new Is,e)}static bindMouseEnter(t,e){t.bindMouseEnter(new Ps,e)}static bindMouseWheel(t,e,s=gt.None){t.bindMouseWheel(new Ls(s),e)}static unbindMouseDown(t,e,s=gt.None,n=1){t.unbindInput(new Ri(e,s,n))}static unbindKeyDown(t,e,s=gt.None){t.unbindInput(new hs(e,s))}static unbindMouseEnter(t){t.unbindInput(new Ps)}static unbindTouchDown(t){t.unbindInput(new Is)}static unbindMouseWheel(t){t.unbindInput(new Ls)}};class ch{constructor(t){u(this,"handler"),this.handler=t}execute(t,e,s){this.handler(t,e,s)}}var pe=(i=>(i[i.Png=0]="Png",i[i.Bmp=1]="Bmp",i[i.Jpeg=2]="Jpeg",i[i.Unknown=3]="Unknown",i))(pe||{});class fe{constructor(t){u(this,"_data"),u(this,"uri"),u(this,"format",pe.Unknown),u(this,"width",0),u(this,"height",0),u(this,"bitsPerPixel",0),u(this,"dpiX",96),u(this,"dpiY",96),u(this,"_hashCode"),this._data=t}static async create(t,e,s,n){const o=Ro(),a=t.height,l=t.width,h={pixels:t,palette:n,imageInfo:{width:l,height:a,bitsPerPixel:0,dpiX:s==null?void 0:s.dpiX,dpiY:s==null?void 0:s.dpiY,format:e}},m=await o.encode(h),c=new fe(m);return c.width=l,c.height=a,c}get data(){return this._data}static getImageFormat(t){return t.length>=2&&t[0]===255&&t[1]===216?pe.Jpeg:t.length>=2&&t[0]===66&&t[1]===77?pe.Bmp:t.length>=4&&t[0]===137&&t[1]===80&&t[2]===78&&t[3]===71?pe.Png:pe.Unknown}getHashCode(){return this._hashCode===void 0&&(this._hashCode=Ea([...this._data])),this._hashCode}}var ne=(i=>(i[i.Space=0]="Space",i[i.Enter=1]="Enter",i[i.Escape=2]="Escape",i[i.Tab=3]="Tab",i[i.Backspace=4]="Backspace",i[i.Insert=5]="Insert",i[i.Delete=6]="Delete",i[i.Home=7]="Home",i[i.End=8]="End",i[i.Up=9]="Up",i[i.Down=10]="Down",i[i.Left=11]="Left",i[i.Right=12]="Right",i[i.PageUp=13]="PageUp",i[i.PageDown=14]="PageDown",i[i.A=15]="A",i[i.B=16]="B",i[i.C=17]="C",i[i.D=18]="D",i[i.E=19]="E",i[i.F=20]="F",i[i.G=21]="G",i[i.H=22]="H",i[i.I=23]="I",i[i.J=24]="J",i[i.K=25]="K",i[i.L=26]="L",i[i.M=27]="M",i[i.N=28]="N",i[i.O=29]="O",i[i.P=30]="P",i[i.Q=31]="Q",i[i.R=32]="R",i[i.S=33]="S",i[i.T=34]="T",i[i.U=35]="U",i[i.V=36]="V",i[i.W=37]="W",i[i.X=38]="X",i[i.Y=39]="Y",i[i.Z=40]="Z",i[i.D0=41]="D0",i[i.D1=42]="D1",i[i.D2=43]="D2",i[i.D3=44]="D3",i[i.D4=45]="D4",i[i.D5=46]="D5",i[i.D6=47]="D6",i[i.D7=48]="D7",i[i.D8=49]="D8",i[i.D9=50]="D9",i[i.NumPad0=51]="NumPad0",i[i.NumPad1=52]="NumPad1",i[i.NumPad2=53]="NumPad2",i[i.NumPad3=54]="NumPad3",i[i.NumPad4=55]="NumPad4",i[i.NumPad5=56]="NumPad5",i[i.NumPad6=57]="NumPad6",i[i.NumPad7=58]="NumPad7",i[i.NumPad8=59]="NumPad8",i[i.NumPad9=60]="NumPad9",i[i.Add=61]="Add",i[i.Subtract=62]="Subtract",i[i.Multiply=63]="Multiply",i[i.Divide=64]="Divide",i[i.Decimal=65]="Decimal",i[i.F1=66]="F1",i[i.F2=67]="F2",i[i.F3=68]="F3",i[i.F4=69]="F4",i[i.F5=70]="F5",i[i.F6=71]="F6",i[i.F7=72]="F7",i[i.F8=73]="F8",i[i.F9=74]="F9",i[i.F10=75]="F10",i[i.F11=76]="F11",i[i.F12=77]="F12",i[i.Unknown=78]="Unknown",i))(ne||{}),gt=(i=>(i[i.None=0]="None",i[i.Control=1]="Control",i[i.Alt=2]="Alt",i[i.Shift=4]="Shift",i[i.Windows=8]="Windows",i))(gt||{}),xt=(i=>(i[i.None=0]="None",i[i.Left=1]="Left",i[i.Middle=2]="Middle",i[i.Right=3]="Right",i[i.XButton1=4]="XButton1",i[i.XButton2=5]="XButton2",i))(xt||{});class hs{constructor(t,e=gt.None){this.key=t,this.modifiers=e}equals(t){if(!(t instanceof hs))return!1;const e=t;return e.modifiers===this.modifiers&&e.key===this.key}}class Ri{constructor(t,e=gt.None,s=1){this.mouseButton=t,this.modifiers=e,this.clickCount=s}equals(t){if(!(t instanceof Ri))return!1;const e=t;return e.modifiers===this.modifiers&&e.mouseButton===this.mouseButton&&e.clickCount===this.clickCount}}class Ps{constructor(t=gt.None){this.modifiers=t}equals(t){return t instanceof Ps?t.modifiers===this.modifiers:!1}}class Ls{constructor(t=gt.None){this.modifiers=t}equals(t){return t instanceof Ls?t.modifiers===this.modifiers:!1}}class vo{equals(t){return t instanceof vo}}class Is{equals(t){return t instanceof Is}}var pt=(i=>(i[i.Inside=0]="Inside",i[i.Outside=1]="Outside",i))(pt||{}),z=(i=>(i[i.TopLeft=0]="TopLeft",i[i.TopCenter=1]="TopCenter",i[i.TopRight=2]="TopRight",i[i.BottomLeft=3]="BottomLeft",i[i.BottomCenter=4]="BottomCenter",i[i.BottomRight=5]="BottomRight",i[i.LeftTop=6]="LeftTop",i[i.LeftMiddle=7]="LeftMiddle",i[i.LeftBottom=8]="LeftBottom",i[i.RightTop=9]="RightTop",i[i.RightMiddle=10]="RightMiddle",i[i.RightBottom=11]="RightBottom",i))(z||{});const dh=i=>i===6||i===7||i===8,ph=i=>i===9||i===10||i===11,gh=i=>i===0||i===1||i===2,xh=i=>i===3||i===4||i===5;var At=(i=>(i[i.Horizontal=0]="Horizontal",i[i.Vertical=1]="Vertical",i))(At||{}),eo=(i=>(i[i.Normal=0]="Normal",i[i.Reverse=1]="Reverse",i))(eo||{}),Zi=(i=>(i[i.Left=0]="Left",i[i.Right=1]="Right",i))(Zi||{});class fh extends mn{constructor(t){super(t),u(this,"key"),u(this,"isLegendVisible",!1),u(this,"legendOrientation",0),u(this,"legendPadding",0),u(this,"legendSymbolLength",0),u(this,"legendSymbolMargin",0),u(this,"legendSymbolPlacement",0),u(this,"legendTitle"),u(this,"legendTitleColor",p.Undefined),u(this,"legendTitleFont"),u(this,"legendTitleFontSize",0),u(this,"legendTitleFontWeight",0),u(this,"legendArea",N.Empty),u(this,"legendSize",lt.Empty),u(this,"legendBackground",p.Undefined),u(this,"legendBorder",p.Undefined),u(this,"legendBorderThickness",0),u(this,"legendColumnSpacing",0),u(this,"legendFont"),u(this,"legendFontSize",0),u(this,"legendTextColor"),u(this,"legendFontWeight",0),u(this,"legendItemAlignment",B.Left),u(this,"legendItemOrder",0),u(this,"legendItemSpacing",0),u(this,"legendLineSpacing",0),u(this,"legendMargin",0),u(this,"legendMaxWidth",0),u(this,"legendMaxHeight",0),u(this,"legendPlacement",0),u(this,"legendPosition",0),u(this,"allowUseFullExtent",!1),u(this,"showInvisibleSeries",!1)}hitTestOverride(t){return this.legendHitTest(t)}}class W extends fh{constructor(t){super(t),u(this,"legendBox"),u(this,"seriesPosMap",new Map),u(this,"groupNameFont"),u(this,"groupNameFontSize"),u(this,"groupNameFontWeight"),u(this,"seriesInvisibleTextColor"),this.isLegendVisible=!0,this.legendBox=N.Empty,this.key=void 0,this.groupNameFont=void 0,this.groupNameFontWeight=Ut.Normal,this.groupNameFontSize=NaN,this.legendTitleFont=void 0,this.legendTitleFontSize=NaN,this.legendTitleFontWeight=Ut.Bold,this.legendFont=void 0,this.legendFontSize=NaN,this.legendFontWeight=Ut.Normal,this.legendSymbolLength=16,this.legendSymbolMargin=4,this.legendPadding=8,this.legendColumnSpacing=8,this.legendItemSpacing=24,this.legendLineSpacing=0,this.legendMargin=8,this.legendBackground=p.Undefined,this.legendBorder=p.Undefined,this.legendBorderThickness=1,this.legendTextColor=p.Automatic,this.legendTitleColor=p.Automatic,this.legendMaxWidth=NaN,this.legendMaxHeight=NaN,this.legendPlacement=pt.Inside,this.legendPosition=z.RightTop,this.legendOrientation=At.Vertical,this.legendItemOrder=eo.Normal,this.legendItemAlignment=B.Left,this.legendSymbolPlacement=Zi.Left,this.showInvisibleSeries=!0,this.seriesInvisibleTextColor=r.fromAColor(64,this.legendTextColor),this.selectable=!0,this.selectionMode=mi.Single,t&&Object.assign(this,st(t))}legendHitTest(t){if(!this.isLegendVisible||!this.plotModel.isLegendVisible)return;const e=t.point;if(this.isPointInLegend(e)&&this.seriesPosMap&&this.seriesPosMap.size>0){for(const[s,n]of this.seriesPosMap)if(n.containsPoint(e)&&this.showInvisibleSeries){s.isVisible=!s.isVisible,this.plotModel.invalidatePlot(!1);break}}}isPointInLegend(t){return this.legendBox.containsPoint(t)}ensureLegendProperties(){switch(this.legendPosition){case z.LeftTop:case z.LeftMiddle:case z.LeftBottom:case z.RightTop:case z.RightMiddle:case z.RightBottom:this.legendOrientation===At.Horizontal&&(this.legendOrientation=At.Vertical);break}}async renderLegends(t){await this.renderOrMeasureLegends(t,this.legendArea)}async getLegendSize(t,e){const s=e.width,n=e.height;let o=await this.measureLegends(t,new lt(Math.max(0,s),Math.max(0,n)));return o=new lt(Math.max(0,o.width),Math.max(0,o.height)),o}getLegendRectangle(t){let e=0,s=0;if(this.legendPlacement===pt.Outside){switch(this.legendPosition){case z.LeftTop:case z.LeftMiddle:case z.LeftBottom:s=this.plotModel.plotAndAxisArea.left-t.width-this.legendMargin;break;case z.RightTop:case z.RightMiddle:case z.RightBottom:s=this.plotModel.plotAndAxisArea.right+this.legendMargin;break;case z.TopLeft:case z.TopCenter:case z.TopRight:e=this.plotModel.plotAndAxisArea.top-t.height-this.legendMargin;break;case z.BottomLeft:case z.BottomCenter:case z.BottomRight:e=this.plotModel.plotAndAxisArea.bottom+this.legendMargin;break}const n=this.allowUseFullExtent?this.plotModel.plotAndAxisArea:this.plotModel.plotArea;switch(this.legendPosition){case z.TopLeft:case z.BottomLeft:s=n.left;break;case z.TopRight:case z.BottomRight:s=n.right-t.width;break;case z.LeftTop:case z.RightTop:e=n.top;break;case z.LeftBottom:case z.RightBottom:e=n.bottom-t.height;break;case z.LeftMiddle:case z.RightMiddle:e=(n.top+n.bottom-t.height)*.5;break;case z.TopCenter:case z.BottomCenter:s=(n.left+n.right-t.width)*.5;break}}else{switch(this.legendPosition){case z.LeftTop:case z.LeftMiddle:case z.LeftBottom:s=this.plotModel.plotArea.left+this.legendMargin;break;case z.RightTop:case z.RightMiddle:case z.RightBottom:s=this.plotModel.plotArea.right-t.width-this.legendMargin;break;case z.TopLeft:case z.TopCenter:case z.TopRight:e=this.plotModel.plotArea.top+this.legendMargin;break;case z.BottomLeft:case z.BottomCenter:case z.BottomRight:e=this.plotModel.plotArea.bottom-t.height-this.legendMargin;break}switch(this.legendPosition){case z.TopLeft:case z.BottomLeft:s=this.plotModel.plotArea.left+this.legendMargin;break;case z.TopRight:case z.BottomRight:s=this.plotModel.plotArea.right-t.width-this.legendMargin;break;case z.LeftTop:case z.RightTop:e=this.plotModel.plotArea.top+this.legendMargin;break;case z.LeftBottom:case z.RightBottom:e=this.plotModel.plotArea.bottom-t.height-this.legendMargin;break;case z.LeftMiddle:case z.RightMiddle:e=(this.plotModel.plotArea.top+this.plotModel.plotArea.bottom-t.height)*.5;break;case z.TopCenter:case z.BottomCenter:s=(this.plotModel.plotArea.left+this.plotModel.plotArea.right-t.width)*.5;break}}return new N(s,e,t.width,t.height)}async renderLegend(t,e,s){let n=this.legendItemAlignment;this.legendOrientation===At.Horizontal&&(n=B.Left);let o=s.left;switch(n){case B.Center:o=(s.left+s.right)/2,this.legendSymbolPlacement===Zi.Left?o-=(this.legendSymbolLength+this.legendSymbolMargin)/2:o-=(this.legendSymbolLength+this.legendSymbolMargin)/2;break;case B.Right:o=s.right,this.legendSymbolPlacement===Zi.Right&&(o-=this.legendSymbolLength+this.legendSymbolMargin);break}this.legendSymbolPlacement===Zi.Left&&(o+=this.legendSymbolLength+this.legendSymbolMargin);const a=s.top,l=new lt(Math.max(s.width-this.legendSymbolLength-this.legendSymbolMargin,0),s.height),h=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize;let m=e.isVisible?this.legendTextColor:this.seriesInvisibleTextColor;m=m||p.Black,t.setToolTip(e.toolTip);const c=await oe.drawMathText(t,A(o,a),e.title||"",m.getActualColor(this.plotModel.textColor),this.legendFont??this.plotModel.defaultFont,h,this.legendFontWeight,0,n,D.Top,l,!0);this.seriesPosMap.set(e,N.fromScreenPointAndSize(A(o,a),c));let g=o;switch(n){case B.Center:g=o-c.width*.5;break;case B.Right:g=o-c.width;break}if(e.isVisible){const f=new N(this.legendSymbolPlacement===Zi.Right?g+c.width+this.legendSymbolMargin:g-this.legendSymbolMargin-this.legendSymbolLength,s.top,this.legendSymbolLength,c.height);await e.renderLegend(t,f)}t.setToolTip(void 0)}measureLegends(t,e){return this.renderOrMeasureLegends(t,new N(0,0,e.width,e.height),!0)}async renderOrMeasureLegends(t,e,s=!1){if(!s&&e.width>0&&e.height>0){this.legendBox=e;const I=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await t.drawRectangle(e,this.legendBackground,this.legendBorder,this.legendBorderThickness,I)}const n=e.width,o=e.height;let a=this.legendPadding,l=this.legendPadding,h=lt.Empty;const m=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize,c=isNaN(this.legendTitleFontSize)?m:this.legendTitleFontSize,g=isNaN(this.groupNameFontSize)?m:this.groupNameFontSize;if(this.legendTitle){let I;s?I=await oe.measureMathText(t,this.legendTitle,this.legendTitleFont??this.plotModel.defaultFont,c,this.legendTitleFontWeight):I=await oe.drawMathText(t,A(e.left+a,e.top+l),this.legendTitle,this.legendTitleColor.getActualColor(this.plotModel.textColor),this.legendTitleFont??this.plotModel.defaultFont,c,this.legendTitleFontWeight,0,B.Left,D.Top,void 0,!0),l+=I.height,h=new lt(a+I.width+this.legendPadding,l+I.height)}let f=l,b=0;const S=.001;let M=0;const T=ts(this.plotModel.series),C=this.legendItemOrder===eo.Reverse?T.filter(I=>I.renderInLegend&&I.legendKey===this.key):this.plotModel.series.filter(I=>I.renderInLegend&&I.legendKey===this.key),v=[];for(const I of C)v.includes(I.seriesGroupName||"")||v.push(I.seriesGroupName||"");this.seriesPosMap.clear();const R=new Map,P=async()=>{const I=[];for(const[V,_]of R){if(V.seriesGroupName&&!I.includes(V.seriesGroupName)){I.push(V.seriesGroupName);const Z=await oe.measureMathText(t,V.seriesGroupName,this.groupNameFont??this.plotModel.defaultFont,g,this.groupNameFontWeight);let ut=_.top,te=_.left;this.legendOrientation===At.Vertical?ut-=Z.height+this.legendLineSpacing/2:te-=Z.width+this.legendItemSpacing/2,await oe.drawMathText(t,A(te,ut),V.seriesGroupName,this.legendTitleColor.getActualColor(this.plotModel.textColor),this.groupNameFont??this.plotModel.defaultFont,g,this.groupNameFontWeight,0,B.Left,D.Top,void 0,!0)}let E=n;_.left+E+this.legendPadding>e.left+n&&(E=e.left+n-_.left-this.legendPadding);let q=_.height;e.top+q+this.legendPadding>e.top+o&&(q=e.top+o-e.top-this.legendPadding);const yt=new N(_.left,_.top,Math.max(E,0),Math.max(q,0));await this.renderLegend(t,V,yt)}I.length=0,R.clear()};s||t.pushClip(e);for(const I of v){const V=C.filter(q=>(q.seriesGroupName||"")===I);let _=lt.Empty;V.length>0&&I&&(_=await oe.measureMathText(t,I,this.groupNameFont??this.plotModel.defaultFont,g,this.groupNameFontWeight),this.legendOrientation===At.Vertical?f+=_.height:a+=_.width);let E=0;for(const q of V){if(!q.title||!q.renderInLegend||!q.isVisible&&!this.showInvisibleSeries)continue;const yt=await oe.measureMathText(t,q.title,this.legendFont??this.plotModel.defaultFont,m,this.legendFontWeight),Z=this.legendSymbolLength+this.legendSymbolMargin+yt.width,ut=yt.height;this.legendOrientation===At.Horizontal?(a>this.legendPadding&&(a+=this.legendItemSpacing),a+Z>n-this.legendPadding+S&&(a=this.legendPadding,E===0&&_.width>0&&(a+=_.width+this.legendItemSpacing),f+=b+this.legendLineSpacing,b=0),b=Math.max(b,yt.height),s||R.set(q,new N(e.left+a,e.top+f,Z,ut)),a+=Z,a=Math.max(_.width,a),h=new lt(Math.max(h.width,a),Math.max(h.height,f+yt.height))):(f+ut>o-this.legendPadding+S&&(await P(),f=l+_.height,a+=M+this.legendColumnSpacing,M=0),s||R.set(q,new N(e.left+a,e.top+f,Z,ut)),f+=ut+this.legendLineSpacing,M=Math.max(M,Z),h=new lt(Math.max(h.width,a+Z),Math.max(h.height,f))),E++}await P()}return s||t.popClip(),h.width>0&&(h=new lt(h.width+this.legendPadding,h.height)),h.height>0&&(h=new lt(h.width,h.height+this.legendPadding)),h.width>n&&(h=new lt(n,h.height)),h.height>o&&(h=new lt(h.width,o)),!isNaN(this.legendMaxWidth)&&h.width>this.legendMaxWidth&&(h=new lt(this.legendMaxWidth,h.height)),!isNaN(this.legendMaxHeight)&&h.height>this.legendMaxHeight&&(h=new lt(h.width,this.legendMaxHeight)),h}}class io{static isAltDown(t){return(t.modifierKeys&gt.Alt)===gt.Alt}static isControlDown(t){return(t.modifierKeys&gt.Control)===gt.Control}static isShiftDown(t){return(t.modifierKeys&gt.Shift)===gt.Shift}}let Ot=class{constructor(t){u(this,"dataPoint"),u(this,"item"),u(this,"index",0),u(this,"lineExtents"),u(this,"plotModel"),u(this,"position"),u(this,"series"),u(this,"text"),t&&Object.assign(this,st(t))}get xAxis(){return!this.series||!(this.series instanceof Bt)?void 0:this.series.xAxis}get yAxis(){return!this.series||!(this.series instanceof Bt)?void 0:this.series.yAxis}toString(){return this.text?this.text.trim():""}};var es=(i=>(i[i.None=0]="None",i[i.X=1]="X",i[i.Y=2]="Y",i))(es||{});class Ha extends mh{constructor(t){super(t),u(this,"plotView"),u(this,"axisPreference",es.None),u(this,"xAxis"),u(this,"yAxis"),this.plotView=t}inverseTransform(t,e){return this.xAxis?this.xAxis.inverseTransformPoint(t,e,this.yAxis):this.yAxis?d(0,this.yAxis.inverseTransform(e)):Ai}assignAxes(t){let e,s;this.plotView.actualModel?([e,s]=this.plotView.actualModel.getAxesFromPoint(t),this.axisPreference!==es.None&&this.plotView.actualModel.plotArea.containsPoint(t)&&(this.axisPreference===es.X?e&&(s=void 0):this.axisPreference===es.Y&&s&&(e=void 0))):(e=void 0,s=void 0),this.xAxis=e,this.yAxis=s}}class pn extends Ha{constructor(t){super(t),u(this,"startPosition")}started(t){this.assignAxes(t.position),this.startPosition=t.position}}class so extends pn{constructor(t,e,s){super(t),u(this,"fineControl"),u(this,"step"),this.step=e,this.fineControl=s}started(t){if(super.started(t),!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled))return;const e=this.inverseTransform(t.position.x,t.position.y);let s=this.step;this.fineControl&&(s*=3),s>0?s=1+s:s=1/(1-s),this.xAxis&&this.xAxis.zoomAt(s,e.x),this.yAxis&&this.yAxis.zoomAt(s,e.y),this.plotView.invalidatePlot(!1),t.handled=!0}}class wh extends pn{constructor(t){super(t),u(this,"previousPosition",ye),u(this,"isPanEnabled",!1)}completed(t){super.completed(t),this.isPanEnabled&&(this.view.setCursorType(Fe.Default),t.handled=!0)}delta(t){super.delta(t),this.isPanEnabled&&(this.xAxis&&this.xAxis.pan(this.previousPosition,t.position),this.yAxis&&this.yAxis.pan(this.previousPosition,t.position),this.plotView.invalidatePlot(!1),this.previousPosition=t.position,t.handled=!0)}started(t){super.started(t),this.previousPosition=t.position,this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isPanEnabled&&(this.view.setCursorType(Fe.Pan),t.handled=!0)}}class yh extends pn{constructor(t){super(t),u(this,"zoomRectangle",N.Empty),u(this,"isZoomEnabled",!1)}completed(t){if(super.completed(t),!!this.isZoomEnabled){if(this.plotView.setCursorType(Fe.Default),this.plotView.hideZoomRectangle(),this.zoomRectangle.width>10&&this.zoomRectangle.height>10){const e=this.inverseTransform(this.zoomRectangle.left,this.zoomRectangle.top),s=this.inverseTransform(this.zoomRectangle.right,this.zoomRectangle.bottom);this.xAxis&&this.xAxis.zoom(e.x,s.x),this.yAxis&&this.yAxis.zoom(e.y,s.y),this.plotView.invalidatePlot()}t.handled=!0}}delta(t){if(super.delta(t),!this.plotView.actualModel||!this.isZoomEnabled||!this.startPosition)return;const e=this.plotView.actualModel.plotArea;let s=Math.min(this.startPosition.x,t.position.x),n=Math.abs(this.startPosition.x-t.position.x),o=Math.min(this.startPosition.y,t.position.y),a=Math.abs(this.startPosition.y-t.position.y);(this.xAxis===void 0||!this.xAxis.isZoomEnabled)&&(s=e.left,n=e.width),(this.yAxis===void 0||!this.yAxis.isZoomEnabled)&&(o=e.top,a=e.height),this.zoomRectangle=new N(s,o,n,a),this.plotView.showZoomRectangle(this.zoomRectangle),t.handled=!0}started(t){super.started(t),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),this.isZoomEnabled&&this.startPosition&&(this.zoomRectangle=new N(this.startPosition.x,this.startPosition.y,0,0),this.plotView.showZoomRectangle(this.zoomRectangle),this.plotView.setCursorType(this.getCursorType()),t.handled=!0)}getCursorType(){return this.xAxis===void 0?Fe.ZoomVertical:this.yAxis===void 0?Fe.ZoomHorizontal:Fe.ZoomRectangle}}class Ya extends Ha{constructor(t){super(t),u(this,"setHandledForPanOrZoom"),u(this,"isPanEnabled",!1),u(this,"isZoomEnabled",!1),this.setHandledForPanOrZoom=!0}completed(t){super.completed(t),this.setHandledForPanOrZoom&&(t.handled=t.handled||this.isPanEnabled||this.isZoomEnabled)}delta(t){if(super.delta(t),!this.isPanEnabled&&!this.isZoomEnabled)return;const e=t.position,s=ke(e,t.deltaTranslation);this.xAxis&&this.xAxis.pan(s,e),this.yAxis&&this.yAxis.pan(s,e);const n=this.inverseTransform(e.x,e.y);this.xAxis&&this.xAxis.zoomAt(t.deltaScale.x,n.x),this.yAxis&&this.yAxis.zoomAt(t.deltaScale.y,n.y),this.plotView.invalidatePlot(!1),t.handled=!0}started(t){this.assignAxes(t.position),super.started(t),this.setHandledForPanOrZoom&&(this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),t.handled=t.handled||this.isPanEnabled||this.isZoomEnabled)}}class Vi extends pn{constructor(t,e){super(t),u(this,"currentSeries"),u(this,"pointsOnly"),u(this,"snap"),u(this,"lockToInitialSeries"),u(this,"firesDistance"),u(this,"checkDistanceBetweenPoints"),u(this,"isTrackAnnotations",!0),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.isTrackAnnotations=!0,e&&Object.assign(this,st(e))}completed(t){super.completed(t),t.handled=!0,this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(t){var e;if(super.delta(t),t.handled=!0,(!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(e=this.plotView.actualModel)==null?void 0:e.getSeriesFromPoint(t.position,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker(),this.isTrackAnnotations&&this.trackAnnotations(t.position);return}const s=this.plotView.actualModel;if(!s||!s.plotArea.contains(t.position.x,t.position.y))return;const n=Cr.getNearestHit(this.currentSeries,t.position,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);n&&(n.plotModel=this.plotView.actualModel,this.plotView.showTracker(n),this.plotView.actualModel.raiseTrackerChanged(n))}started(t){var e;super.started(t),this.currentSeries=(e=this.plotView.actualModel)==null?void 0:e.getSeriesFromPoint(t.position,this.firesDistance),this.delta(t)}trackAnnotations(t){const e=this.plotView.actualModel;for(const s of e.annotations.filter(n=>n.toolTip).reverse()){if(!s.toolTip)continue;const n=new vs(t,this.firesDistance);if(!s.hitTest(n))continue;const o=s.inverseTransform(t),a=new Ot({position:t,dataPoint:o,text:s.toolTip,plotModel:this.plotView.actualModel});this.plotView.showTracker(a),e.raiseTrackerChanged(a);break}}}class no extends Ya{constructor(t,e){super(t),u(this,"currentSeries"),u(this,"pointsOnly"),u(this,"snap"),u(this,"lockToInitialSeries"),u(this,"firesDistance"),u(this,"checkDistanceBetweenPoints"),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.setHandledForPanOrZoom=!1,e&&Object.assign(this,st(e))}completed(t){super.completed(t),this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(t){super.delta(t),this.plotView.hideTracker()}started(t){var e;super.started(t),this.currentSeries=(e=this.plotView.actualModel)==null?void 0:e.getSeriesFromPoint(t.position,this.firesDistance),this.updateTracker(t.position)}updateTracker(t){var e;if((!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(e=this.plotView.actualModel)==null?void 0:e.getSeriesFromPoint(t,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker();return}const s=this.plotView.actualModel;if(!s||!s.plotArea.contains(t.x,t.y))return;const n=Cr.getNearestHit(this.currentSeries,t,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);n&&(n.plotModel=this.plotView.actualModel,this.plotView.showTracker(n),this.plotView.actualModel.raiseTrackerChanged(n))}}let ft=class extends ch{constructor(t){super((e,s,n)=>t(e,s,n))}};class Y{static init(){this.reset=new ft((t,e,s)=>this.handleReset(t,s)),this.resetAt=new ft((t,e,s)=>this.handleReset(t,s)),this.panAt=new ft((t,e,s)=>e.addMouseManipulator(t,new wh(t),s)),this.zoomRectangle=new ft((t,e,s)=>e.addMouseManipulator(t,new yh(t),s)),this.track=new ft((t,e,s)=>e.addMouseManipulator(t,new Vi(t,{snap:!1,pointsOnly:!1}),s)),this.snapTrack=new ft((t,e,s)=>e.addMouseManipulator(t,new Vi(t,{snap:!0,pointsOnly:!1}),s)),this.pointsOnlyTrack=new ft((t,e,s)=>e.addMouseManipulator(t,new Vi(t,{snap:!1,pointsOnly:!0}),s)),this.zoomWheel=new ft((t,e,s)=>this.handleZoomByWheel(t,s)),this.zoomWheelFine=new ft((t,e,s)=>this.handleZoomByWheel(t,s,.1)),this.zoomInAt=new ft((t,e,s)=>this.handleZoomAt(t,s,.05)),this.zoomOutAt=new ft((t,e,s)=>this.handleZoomAt(t,s,-.05)),this.hoverTrack=new ft((t,e,s)=>e.addHoverManipulator(t,new Vi(t,{lockToInitialSeries:!1,snap:!1,pointsOnly:!1}),s)),this.hoverSnapTrack=new ft((t,e,s)=>e.addHoverManipulator(t,new Vi(t,{lockToInitialSeries:!1,snap:!0,pointsOnly:!1}),s)),this.hoverPointsOnlyTrack=new ft((t,e,s)=>e.addHoverManipulator(t,new Vi(t,{lockToInitialSeries:!1,snap:!1,pointsOnly:!0}),s)),this.snapTrackTouch=new ft((t,e,s)=>e.addTouchManipulator(t,new no(t,{snap:!0,pointsOnly:!1}),s)),this.pointsOnlyTrackTouch=new ft((t,e,s)=>e.addTouchManipulator(t,new no(t,{snap:!0,pointsOnly:!0}),s)),this.panZoomByTouch=new ft((t,e,s)=>e.addTouchManipulator(t,new Ya(t),s)),this.panLeft=new ft((t,e,s)=>this.handlePan(t,s,-.1,0)),this.panRight=new ft((t,e,s)=>this.handlePan(t,s,.1,0)),this.panUp=new ft((t,e,s)=>this.handlePan(t,s,0,-.1)),this.panDown=new ft((t,e,s)=>this.handlePan(t,s,0,.1)),this.panLeftFine=new ft((t,e,s)=>this.handlePan(t,s,-.01,0)),this.panRightFine=new ft((t,e,s)=>this.handlePan(t,s,.01,0)),this.panUpFine=new ft((t,e,s)=>this.handlePan(t,s,0,-.01)),this.panDownFine=new ft((t,e,s)=>this.handlePan(t,s,0,.01)),this.zoomIn=new ft((t,e,s)=>this.handleZoomCenter(t,s,1)),this.zoomOut=new ft((t,e,s)=>this.handleZoomCenter(t,s,-1)),this.zoomInFine=new ft((t,e,s)=>this.handleZoomCenter(t,s,.1)),this.zoomOutFine=new ft((t,e,s)=>this.handleZoomCenter(t,s,-.1))}static handleReset(t,e){t.actualModel&&(e.handled=!0,t.actualModel.resetAllAxes(),t.invalidatePlot(!1))}static handleZoomAt(t,e,s){const n=io.isControlDown(e);new so(t,s,n).started(e)}static handleZoomByWheel(t,e,s=1){const n=io.isControlDown(e);new so(t,e.delta*.001*s,n).started(e)}static handleZoomCenter(t,e,s){t.actualModel&&(e.handled=!0,t.actualModel.zoomAllAxes(1+s*.12),t.invalidatePlot(!1))}static handlePan(t,e,s,n){t.actualModel&&(e.handled=!0,s*=t.actualModel.plotArea.width,n*=t.actualModel.plotArea.height,t.actualModel.panAllAxes(s,n),t.invalidatePlot(!1))}}u(Y,"reset"),u(Y,"resetAt"),u(Y,"panZoomByTouch"),u(Y,"panAt"),u(Y,"zoomRectangle"),u(Y,"zoomWheel"),u(Y,"zoomWheelFine"),u(Y,"track"),u(Y,"snapTrack"),u(Y,"snapTrackTouch"),u(Y,"pointsOnlyTrack"),u(Y,"pointsOnlyTrackTouch"),u(Y,"hoverTrack"),u(Y,"hoverSnapTrack"),u(Y,"hoverPointsOnlyTrack"),u(Y,"panLeft"),u(Y,"panRight"),u(Y,"panUp"),u(Y,"panDown"),u(Y,"panLeftFine"),u(Y,"panRightFine"),u(Y,"panUpFine"),u(Y,"panDownFine"),u(Y,"zoomInAt"),u(Y,"zoomOutAt"),u(Y,"zoomIn"),u(Y,"zoomOut"),u(Y,"zoomInFine"),u(Y,"zoomOutFine");Y.init();class Bi extends uh{constructor(){super(),ct.bindMouseDown(this,xt.Middle,Y.zoomRectangle),ct.bindMouseDown(this,xt.Right,Y.zoomRectangle,gt.Control),ct.bindMouseDown(this,xt.Left,Y.zoomRectangle,gt.Control|gt.Alt),ct.bindMouseDown(this,xt.Middle,Y.resetAt,gt.None,2),ct.bindMouseDown(this,xt.Right,Y.resetAt,gt.Control,2),ct.bindMouseDown(this,xt.Left,Y.resetAt,gt.Control|gt.Alt,2),ct.bindKeyDown(this,ne.A,Y.reset),ct.bindKeyDown(this,ne.Home,Y.reset),this.bindCore(new vo,Y.reset),ct.bindMouseDown(this,xt.Right,Y.panAt),ct.bindMouseDown(this,xt.Left,Y.panAt,gt.Alt),ct.bindKeyDown(this,ne.Left,Y.panLeft),ct.bindKeyDown(this,ne.Right,Y.panRight),ct.bindKeyDown(this,ne.Up,Y.panUp),ct.bindKeyDown(this,ne.Down,Y.panDown),ct.bindKeyDown(this,ne.Left,Y.panLeftFine,gt.Control),ct.bindKeyDown(this,ne.Right,Y.panRightFine,gt.Control),ct.bindKeyDown(this,ne.Up,Y.panUpFine,gt.Control),ct.bindKeyDown(this,ne.Down,Y.panDownFine,gt.Control),ct.bindTouchDown(this,Y.panZoomByTouch),ct.bindMouseDown(this,xt.Left,Y.snapTrack),ct.bindMouseDown(this,xt.Left,Y.track,gt.Control),ct.bindMouseDown(this,xt.Left,Y.pointsOnlyTrack,gt.Shift),ct.bindTouchDown(this,Y.snapTrackTouch),ct.bindMouseDown(this,xt.XButton1,Y.zoomInAt),ct.bindMouseDown(this,xt.XButton2,Y.zoomOutAt),ct.bindMouseWheel(this,Y.zoomWheel),ct.bindMouseWheel(this,Y.zoomWheelFine,gt.Control),ct.bindKeyDown(this,ne.Add,Y.zoomIn),ct.bindKeyDown(this,ne.Subtract,Y.zoomOut),ct.bindKeyDown(this,ne.PageUp,Y.zoomIn),ct.bindKeyDown(this,ne.PageDown,Y.zoomOut),ct.bindKeyDown(this,ne.Add,Y.zoomInFine,gt.Control),ct.bindKeyDown(this,ne.Subtract,Y.zoomOutFine,gt.Control),ct.bindKeyDown(this,ne.PageUp,Y.zoomInFine,gt.Control),ct.bindKeyDown(this,ne.PageDown,Y.zoomOutFine,gt.Control)}}function Sa(i){return i instanceof Object&&"__isTransposable"in i}function Xa(i){i.__isTransposable=!0}let J=class Ks{static inverseTransform(t,e,s){return t.inverseTransform(A(e,s))}static isTransposed(t){return t.xAxis.isVertical()}static orientate(t,e){return Ks.isTransposed(t)?A(e.y,e.x):e}static orientateVector(t,e){return e=new dt(t.xAxis.isReversed?-e.x:e.x,t.yAxis.isReversed?-e.y:e.y),Ks.isTransposed(t)?new dt(-e.y,-e.x):e}static orientateAlignment(t,e,s){if(t.xAxis.isReversed&&(e=-e),t.yAxis.isReversed&&(s=-s),Ks.isTransposed(t)){const n=-s;s=-e,e=n}return[e,s]}static transform(t,e,s){return t.transform(d(e,s))}};class di{static getClippingRect(t){const e=N.fromScreenPoints(t.xAxis.screenMin,t.xAxis.screenMax),s=N.fromScreenPoints(t.yAxis.screenMin,t.yAxis.screenMax);return e.intersect(s)}static inverseTransform(t,e){return t.xAxis.inverseTransformPoint(e.x,e.y,t.yAxis)}static inverseTransformOrientated(t,e){return this.inverseTransform(t,J.orientate(t,e))}static transform(t,e){return t.xAxis.transformPoint(e.x,e.y,t.yAxis)}static transformOrientated(t,e){return J.orientate(t,this.transform(t,e))}}var rt=(i=>(i[i.XY=0]="XY",i[i.Cartesian=1]="Cartesian",i[i.Polar=2]="Polar",i))(rt||{}),qa=(i=>(i[i.CenteredWithinPlotArea=0]="CenteredWithinPlotArea",i[i.CenteredWithinView=1]="CenteredWithinView",i))(qa||{});class y extends Jn{constructor(t){super(),u(this,"barSeriesManagers",[]),u(this,"plotViewReference"),u(this,"currentColorIndex",0),u(this,"isDataUpdated",!1),u(this,"lastPlotException"),u(this,"trackerChanged"),u(this,"updated"),u(this,"updating"),u(this,"defaultFont"),u(this,"defaultFontSize"),u(this,"_actualPlotMargins",X.Zero),u(this,"_annotations"),u(this,"_axes"),u(this,"_legends"),u(this,"background",p.Undefined),u(this,"defaultColors"),u(this,"edgeRenderingMode"),u(this,"assignColorsToInvisibleSeries"),u(this,"isLegendVisible"),u(this,"padding",X.Zero),u(this,"_plotBounds",N.Empty),u(this,"_plotAndAxisArea",N.Empty),u(this,"_plotArea",N.Empty),u(this,"axisTierDistance"),u(this,"plotAreaBackground",p.Undefined),u(this,"plotAreaBorderColor",p.Undefined),u(this,"plotAreaBorderThickness"),u(this,"plotMargins"),u(this,"plotType"),u(this,"_series"),u(this,"renderingDecorator"),u(this,"subtitle"),u(this,"subtitleFont"),u(this,"subtitleFontSize"),u(this,"subtitleFontWeight"),u(this,"textColor",p.Black),u(this,"title"),u(this,"titleToolTip"),u(this,"titleColor",p.Automatic),u(this,"clipTitle"),u(this,"titleClippingLength"),u(this,"subtitleColor",p.Automatic),u(this,"titleHorizontalAlignment",0),u(this,"_titleArea",N.Empty),u(this,"titleFont"),u(this,"titleFontSize"),u(this,"titleFontWeight"),u(this,"titlePadding"),u(this,"_defaultAngleAxis"),u(this,"_defaultMagnitudeAxis"),u(this,"_defaultXAxis"),u(this,"_defaultYAxis"),u(this,"_defaultColorAxis"),this._axes=Hs(this),this._series=Hs(this),this._annotations=Hs(this),this._legends=Hs(this),this.plotType=0,this.plotMargins=new X(NaN),this.padding=new X(8),this.background=p.Undefined,this.plotAreaBackground=p.Undefined,this.textColor=p.Black,this.titleColor=p.Automatic,this.subtitleColor=p.Automatic,this.defaultFont="Segoe UI",this.defaultFontSize=12,this.titleToolTip=void 0,this.titleFont=void 0,this.titleFontSize=18,this.titleFontWeight=Ut.Bold,this.subtitleFont=void 0,this.subtitleFontSize=14,this.subtitleFontWeight=Ut.Normal,this.titlePadding=6,this.clipTitle=!0,this.titleClippingLength=.9,this.plotAreaBorderColor=p.Black,this.plotAreaBorderThickness=new X(1),this.edgeRenderingMode=U.Automatic,this.assignColorsToInvisibleSeries=!0,this.isLegendVisible=!0,this.defaultColors=[r.fromRgb(78,154,6),r.fromRgb(200,141,0),r.fromRgb(204,0,0),r.fromRgb(32,74,135),p.Red,p.Orange,p.Yellow,p.Green,p.Blue,p.Indigo,p.Violet],this.axisTierDistance=4,t&&this.applyOptions(t)}applyOptions(t){ca(t,"_axes","_series","_annotations","_legends"),t.axes&&t.axes.length>0&&this._axes.push(...t.axes),t.series&&t.series.length>0&&this._series.push(...t.series),t.annotations&&t.annotations.length>0&&this._annotations.push(...t.annotations),t.legends&&t.legends.length>0&&this._legends.push(...t.legends),ca(t,"axes","series","annotations","legends"),Object.assign(this,st(t))}get actualPlotMargins(){return this._actualPlotMargins}get plotView(){return this.plotViewReference}get annotations(){return this._annotations}get axes(){return this._axes}get legends(){return this._legends}get plotBounds(){return this._plotBounds}get width(){return this.plotBounds.width}get height(){return this.plotBounds.height}get plotAndAxisArea(){return this._plotAndAxisArea}get plotArea(){return this._plotArea}get series(){return this._series}get titleArea(){return this._titleArea}get defaultAngleAxis(){return this._defaultAngleAxis}get defaultMagnitudeAxis(){return this._defaultMagnitudeAxis}get defaultXAxis(){return this._defaultXAxis}get defaultYAxis(){return this._defaultYAxis}get defaultColorAxis(){return this._defaultColorAxis}get actualTitleFont(){return this.titleFont||this.defaultFont}get actualSubtitleFont(){return this.subtitleFont||this.defaultFont}attachPlotView(t){const e=this.plotView;if(e&&t&&e!==t)throw new Error("This PlotModel is already in use by some other PlotView control.");this.plotViewReference=t}invalidatePlot(t){var e;(e=this.plotView)==null||e.invalidatePlot(t)}getAxesFromPoint(t){let e,s,n,o=0;t.x<this.plotArea.left&&(n=x.Left,o=this.plotArea.left),t.x>this.plotArea.right&&(n=x.Right,o=this.plotArea.right),t.y<this.plotArea.top&&(n=x.Top,o=this.plotArea.top),t.y>this.plotArea.bottom&&(n=x.Bottom,o=this.plotArea.bottom);for(const a of this.axes){if(!a.isAxisVisible||_n(a))continue;if(a instanceof Ae){e=a;continue}if(a instanceof re){s=a;continue}let l=NaN;if(a.isHorizontal()&&(l=a.inverseTransform(t.x)),a.isVertical()&&(l=a.inverseTransform(t.y)),l>=a.clipMinimum&&l<=a.clipMaximum){if(!n)a.isHorizontal()?e||(e=a):a.isVertical()&&(s||(s=a));else if(n===a.position){const h=a.positionTierMinShift,m=a.positionTierMaxShift,c=a.isHorizontal()?t.y:t.x,g=n===x.Top||n===x.Left;(c>=o+h&&c<o+m&&!g||c<=o-h&&c>o-m&&g)&&(a.isHorizontal()?Mt(e)&&(e=a):a.isVertical()&&Mt(s)&&(s=a))}}}return[e,s]}getDefaultColor(){return this.defaultColors[this.currentColorIndex++%this.defaultColors.length]}getDefaultLineStyle(){return this.currentColorIndex/this.defaultColors.length%Number(k.None)}getSeriesFromPoint(t,e=100){let s=et,n;const o=ts(this.series);for(const a of o.filter(l=>l.isVisible)){const l=a.getNearestPoint(t,!0)||a.getNearestPoint(t,!1);if(!(l!=null&&l.position))continue;const h=Ve(t,l.position);h<s&&(n=a,s=h)}if(s<e)return n}toString(){return this.title||""}getLastPlotException(){return this.lastPlotException}update(t){try{this.lastPlotException=null,this.onUpdating(),this.ensureDefaultAxes();const e=this.series.filter(n=>n.isVisible);if(t||!this.isDataUpdated){for(const n of e)n.updateData();this.isDataUpdated=!0}this.updateBarSeriesManagers(),this.updateMaxMin(t),this.updateUnmanagedCategoryAxes();const s=this.assignColorsToInvisibleSeries?this.series:e;this.resetDefaultColor();for(const n of s)n.setDefaultValues();this.onUpdated()}catch(e){console.log(e),this.lastPlotException=e}}getAxis(t){if(!t)throw new Error("Axis key cannot be null.");const e=this.axes.find(s=>s.key===t);if(!e)throw new Error(`Cannot find axis with Key = "${t}"`);return e}getAxisOrDefault(t,e){return t?e:this.axes.find(s=>s.key===t)||e}resetAllAxes(){for(const t of this.axes)t.reset()}panAllAxes(t,e){for(const s of this.axes)s.pan(s.isHorizontal()?t:e)}zoomAllAxes(t){for(const e of this.axes)e.zoomAtCenter(t)}raiseTrackerChanged(t){const e=this.trackerChanged;e&&e(this,{hitResult:t})}onTrackerChanged(t){this.raiseTrackerChanged(t)}getHitTestElements(){const t=[],e=ts(this.axes);for(const o of e.filter(a=>a.isAxisVisible&&a.layer===_i.AboveSeries))t.push(o);const s=ts(this.annotations);for(const o of s.filter(a=>a.layer===Me.AboveSeries))t.push(o);const n=ts(this.series);for(const o of n.filter(a=>a.isVisible))t.push(o);for(const o of s.filter(a=>a.layer===Me.BelowSeries))t.push(o);for(const o of e.filter(a=>a.isAxisVisible&&a.layer===_i.BelowSeries))t.push(o);for(const o of s.filter(a=>a.layer===Me.BelowAxes))t.push(o);for(const o of this.legends)t.push(o);return t}onUpdated(){const t=this.updated;t&&t(this)}onUpdating(){const t=this.updating;t&&t(this)}updateAxisTransforms(){for(const t of this.axes)t.updateTransform(this.plotArea)}enforceCartesianTransforms(){const t=this.axes.filter(s=>!_n(s));let e=Math.min(...t.map(s=>Math.abs(s.scale)));for(const s of t)s.zoomScale(e);e=Math.max(...t.map(s=>Math.abs(s.scale)));for(const s of t)s.zoomScale(e);for(const s of t)s.updateTransform(this.plotArea)}updateIntervals(){for(const t of this.axes)t.updateIntervals(this.plotArea)}ensureDefaultAxes(){const t=this.axes,e=this.series;if(this._defaultXAxis=t.find(s=>s.isHorizontal()&&s.isXyAxis()),this._defaultYAxis=t.find(s=>s.isVertical()&&s.isXyAxis()),this._defaultMagnitudeAxis=t.find(s=>s instanceof Ae),this._defaultAngleAxis=t.find(s=>s instanceof re),this._defaultColorAxis=t.find(s=>_n(s)),Mt(this.defaultXAxis)&&(this._defaultXAxis=this.defaultMagnitudeAxis),Mt(this.defaultYAxis)&&(this._defaultYAxis=this.defaultAngleAxis),this.plotType===2)Mt(this.defaultXAxis)&&(this._defaultXAxis=this._defaultMagnitudeAxis=new Ae),Mt(this.defaultYAxis)&&(this._defaultYAxis=this._defaultAngleAxis=new re);else{let s=!1,n=!1;Mt(this.defaultXAxis)&&(this._defaultXAxis=new w({position:x.Bottom}),s=!0),Mt(this.defaultYAxis)&&(e.some(o=>o.isVisible&&o instanceof G)?this._defaultYAxis=new K({position:x.Left}):(this._defaultYAxis=new w({position:x.Left}),n=!0)),s&&this.defaultXAxis&&this.defaultYAxis instanceof K&&(this.defaultXAxis.minimumPadding=0),n&&this.defaultYAxis&&this.defaultXAxis instanceof K&&(this.defaultYAxis.minimumPadding=0)}e.some(s=>s.isVisible&&s.areAxesRequired())&&(t.includes(this.defaultXAxis)||(console.assert(this.defaultXAxis,"Default x-axis not created."),this.defaultXAxis&&this.axes.push(this.defaultXAxis)),t.includes(this.defaultYAxis)||(console.assert(this.defaultYAxis,"Default y-axis not created."),this.defaultYAxis&&this.axes.push(this.defaultYAxis)));for(const s of this.series)s.isVisible&&s.areAxesRequired()&&s.ensureAxes();for(const s of this.annotations)s.ensureAxes()}resetDefaultColor(){this.currentColorIndex=0}updateMaxMin(t){if(t){for(const e of this.axes)e.resetDataMaxMin();for(const e of this.series.filter(s=>s.isVisible))e.updateMaxMin()}for(const e of this.series.filter(s=>s.isVisible))e.updateAxisMaxMin();for(const e of this.axes)e.updateActualMaxMin()}updateBarSeriesManagers(){this.barSeriesManagers=[];const t=this.series.filter(s=>s.isVisible&&Th(s)).map(s=>s),e=new Map;for(const s of t){const n=[...e.keys()].find(o=>o.ca===s.categoryAxis&&o.va===s.valueAxis);if(n){e.get(n).push(s);continue}e.set({ca:s.categoryAxis,va:s.valueAxis},[s])}e.forEach((s,n)=>{const o=new an(n.ca,n.va,s);o.update(),this.barSeriesManagers.push(o)})}updateUnmanagedCategoryAxes(){const t=this.barSeriesManagers.map(s=>s.categoryAxis),e=this.axes.filter(s=>s instanceof K).map(s=>s).filter(s=>!t.includes(s));for(const s of e){let n=0;!Je(s.dataMaximum)&&!isNaN(s.dataMaximum)&&s.dataMaximum>0&&(n=Math.floor(s.dataMaximum)+1),s.updateLabels(n)}}render(t,e){return this.renderOverride(t,e)}async renderOverride(t,e){var s;const n=t.clipCount;let o=null;try{if(o=O.autoResetClip(t,e),this.lastPlotException){const a=`An exception of type ${this.lastPlotException.constructor.name} was thrown when updating the plot model.\r
${this.lastPlotException.stack}`;await this.renderErrorMessage(t,`OxyPlot exception: ${this.lastPlotException.message}`,a);return}this.renderingDecorator&&(t=this.renderingDecorator(t)),this._plotBounds=e,this._actualPlotMargins=new X(isNaN(this.plotMargins.left)?0:this.plotMargins.left,isNaN(this.plotMargins.top)?0:this.plotMargins.top,isNaN(this.plotMargins.right)?0:this.plotMargins.right,isNaN(this.plotMargins.bottom)?0:this.plotMargins.bottom);for(const a of this.legends)a.ensureLegendProperties();for(let a=0;a<10&&(await this.updatePlotArea(t),this.updateAxisTransforms(),this.updateIntervals(),!!this.adjustPlotMargins(t));a++);if(this.plotType===1&&(this.enforceCartesianTransforms(),this.updateIntervals()),await this.renderBackgrounds(t),await this.renderAnnotations(t,Me.BelowAxes),await this.renderAxes(t,_i.BelowSeries),await this.renderAnnotations(t,Me.BelowSeries),await this.renderSeries(t),await this.renderAnnotations(t,Me.AboveSeries),await this.renderTitle(t),await this.renderBox(t),await this.renderAxes(t,_i.AboveSeries),this.isLegendVisible&&await this.renderLegends(t),t.clipCount!==n+1)throw new Error("Unbalanced calls to IRenderContext.pushClip were made during rendering.")}catch(a){debugger;for(console.log(a);t.clipCount>n;)t.popClip();const l=`An exception of type ${(s=a.constructor)==null?void 0:s.name} was thrown when rendering the plot model.\r
${a.stack}`;this.lastPlotException=a,await this.renderErrorMessage(t,`OxyPlot exception: ${a.message}`,l)}finally{o==null||o.dispose(),t.cleanUp()}}async renderErrorMessage(t,e,s,n=12){const o=A(10,10);await t.drawText(o,e,this.textColor,void 0,n,Ut.Bold),await O.drawMultilineText(t,bt(o,new dt(0,n*1.5)),s,this.textColor,void 0,n,n*1.25)}adjustPlotMargins(t){const e=this.axes.filter(a=>a.isAxisVisible);e.forEach(a=>{a.measure(t)});let s=X.Zero;const n=(a,l)=>{switch(l){case x.Bottom:s=new X(s.left,s.top,s.right,Math.max(s.bottom,a));break;case x.Left:s=new X(Math.max(s.left,a),s.top,s.right,s.bottom);break;case x.Right:s=new X(s.left,s.top,Math.max(s.right,a),s.bottom);break;case x.Top:s=new X(s.left,Math.max(s.top,a),s.right,s.bottom);break}};for(let a=x.Left;a<=x.Bottom;a++){const l=e.filter(m=>m.position===a),h=this.adjustAxesPositions(l);n(h,a)}e.forEach(a=>{s=s.include(a.desiredMargin)});let o=this.plotMargins;return o=new X(isNaN(o.left)?s.left:o.left,isNaN(o.top)?s.top:o.top,isNaN(o.right)?s.right:o.right,isNaN(o.bottom)?s.bottom:o.bottom),o.equals(this.actualPlotMargins)?!1:(this._actualPlotMargins=o,!0)}adjustAxesPositions(t){let e=0;const s=n=>{switch(n.position){case x.Left:return n.desiredMargin.left;case x.Right:return n.desiredMargin.right;case x.Top:return n.desiredMargin.top;case x.Bottom:return n.desiredMargin.bottom;default:throw new Error("We don't do this for polar axes")}};return t.reduce((n,o)=>{const a=o.positionTier,l=n.get(a);return l?l.push(o):n.set(a,[o]),n},new Map).forEach((n,o)=>{const a=Math.max(...n.map(s)),l=e;Math.abs(e)>1e-5&&(e+=this.axisTierDistance),e+=a,n.forEach(h=>{h.positionTierSize=a,h.positionTierMinShift=l,h.positionTierMaxShift=e})}),e}measureTitles(t){const e=t.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),s=t.measureText(this.subtitle||"",this.subtitleFont||this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight),n=e.height+s.height,o=Math.max(e.width,s.width);return new lt(o,n)}renderAnnotations(t,e){return this.renderPlotElements(this.annotations.filter(s=>s.layer===e),t,async s=>s.render(t))}async renderAxes(t,e){for(const s of this.axes.filter(n=>n.isAxisVisible&&n.layer===e))t.setToolTip(s.toolTip),await s.render(t,0);for(const s of this.axes.filter(n=>n.isAxisVisible&&n.layer===e))t.setToolTip(s.toolTip),await s.render(t,1);t.setToolTip(void 0)}async renderLegends(t){if(this.isLegendVisible)return this.legends.filter(e=>e.isLegendVisible).forEach(e=>(t.setToolTip(e.toolTip),e.renderLegends(t)))}async renderBackgrounds(t){this.axes.length>0&&this.plotAreaBackground.isVisible()&&await t.drawRectangle(this.plotArea,this.plotAreaBackground,p.Undefined,0,this.edgeRenderingMode);const e=this.series.filter(s=>s instanceof Bt).map(s=>s).filter(s=>s.isVisible&&s.background.isVisible());for(const s of e)await t.drawRectangle(s.getScreenRectangle(),s.background,p.Undefined,0,this.edgeRenderingMode)}async renderBox(t){if(this.axes.length>0){const e=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await O.drawRectangle(t,this.plotArea,this.plotAreaBorderColor,this.plotAreaBorderThickness,e)}}async renderSeries(t){return this.barSeriesManagers.forEach(e=>{e.initializeRender()}),this.renderPlotElements(this.series.filter(e=>e.isVisible),t,async e=>e.render(t))}async renderPlotElements(t,e,s){let n=N.Everything;for(const o of t){const a=o.getClippingRect();a.equals(n)||(n.equals(N.Everything)||(e.popClip(),n=N.Everything),a.equals(N.Everything)||(e.pushClip(a),n=a)),e.setToolTip(o.toolTip),await s(o)}n.equals(N.Everything)||e.popClip(),e.setToolTip(void 0)}async renderTitle(t){let e;this.clipTitle&&(e=new lt(this.titleArea.width*this.titleClippingLength,et));const s=t.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),n=(this.titleArea.left+this.titleArea.right)*.5;let o=this.titleArea.top;this.title&&(t.setToolTip(this.titleToolTip),await oe.drawMathText(t,A(n,o),this.title,this.titleColor.getActualColor(this.textColor),this.actualTitleFont,this.titleFontSize,this.titleFontWeight,0,B.Center,D.Top,e),o+=s.height,t.setToolTip(void 0)),this.subtitle&&await oe.drawMathText(t,A(n,o),this.subtitle,this.subtitleColor.getActualColor(this.textColor),this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight,0,B.Center,D.Top,e)}async updatePlotArea(t){let e=new N(this.plotBounds.left+this.padding.left,this.plotBounds.top+this.padding.top,Math.max(0,this.width-this.padding.left-this.padding.right),Math.max(0,this.height-this.padding.top-this.padding.bottom));const s=this.measureTitles(t);if(s.height>0){const o=s.height+this.titlePadding;e=new N(e.left,e.top+o,e.width,Math.max(0,e.height-o))}let n=e.deflate(this.actualPlotMargins);if(this.isLegendVisible){let o=new lt(0,0),a=0;const l=this.legends.filter(h=>h.legendPlacement===pt.Outside&&h.isLegendVisible);for(const h of l.filter(m=>dh(m.legendPosition))){const m=h.allowUseFullExtent?e.width:n.width;let c=h.allowUseFullExtent?e.height:n.height;c=isNaN(h.legendMaxHeight)?c:Math.min(c,h.legendMaxHeight);const g=await h.getLegendSize(t,new lt(m,c));h.legendSize=g,o=new lt(Math.max(o.width,g.width),Math.max(o.height,g.height)),h.legendMargin>a&&(a=h.legendMargin)}(o.width>0||o.height>0)&&(n=new N(n.left+o.width+a,n.top,Math.max(0,n.width-(o.width+a)),n.height)),o=new lt(0,0),a=0;for(const h of l.filter(m=>ph(m.legendPosition))){const m=h.allowUseFullExtent?e.width:n.width;let c=h.allowUseFullExtent?e.height:n.height;c=isNaN(h.legendMaxHeight)?c:Math.min(c,h.legendMaxHeight);const g=await h.getLegendSize(t,new lt(m,c));h.legendSize=g,o=new lt(Math.max(o.width,g.width),Math.max(o.height,g.height)),h.legendMargin>a&&(a=h.legendMargin)}(o.width>0||o.height>0)&&(n=new N(n.left,n.top,Math.max(0,n.width-(o.width+a)),n.height)),o=new lt(0,0),a=0;for(const h of l.filter(m=>gh(m.legendPosition))){const m=h.allowUseFullExtent?e.width:n.width;let c=h.allowUseFullExtent?e.height:n.height;c=isNaN(h.legendMaxHeight)?c:Math.min(c,h.legendMaxHeight);const g=await h.getLegendSize(t,new lt(m,c));h.legendSize=g,o=new lt(Math.max(o.width,g.width),Math.max(o.height,g.height)),h.legendMargin>a&&(a=h.legendMargin)}(o.width>0||o.height>0)&&(n=new N(n.left,n.top+o.height+a,n.width,Math.max(0,n.height-(o.height+a)))),o=new lt(0,0),a=0;for(const h of l.filter(m=>xh(m.legendPosition))){const m=h.allowUseFullExtent?e.width:n.width;let c=h.allowUseFullExtent?e.height:n.height;c=isNaN(h.legendMaxHeight)?c:Math.min(c,h.legendMaxHeight);const g=await h.getLegendSize(t,new lt(m,c));h.legendSize=g,o=new lt(Math.max(o.width,g.width),Math.max(o.height,g.height)),h.legendMargin>a&&(a=h.legendMargin)}(o.width>0||o.height>0)&&(n=new N(n.left,n.top,n.width,Math.max(0,n.height-(o.height+a))));for(const h of this.legends.filter(m=>m.legendPlacement===pt.Inside&&m.isLegendVisible)){let m=n.width,c=isNaN(h.legendMaxHeight)?n.height:Math.min(n.height,h.legendMaxHeight);h.legendPlacement===pt.Inside&&(m-=h.legendMargin*2,c-=h.legendMargin*2),h.legendSize=await h.getLegendSize(t,new lt(m,c))}}switch(n.height<0&&(n=new N(n.left,n.top,n.width,1)),n.width<0&&(n=new N(n.left,n.top,1,n.height)),this._plotArea=n,this._plotAndAxisArea=n.inflateAll(this.actualPlotMargins),this.titleHorizontalAlignment){case 1:this._titleArea=new N(this.plotBounds.left,this.plotBounds.top+this.padding.top,this.width,s.height+this.titlePadding*2);break;default:this._titleArea=new N(this.plotArea.left,this.plotBounds.top+this.padding.top,this.plotArea.width,s.height+this.titlePadding*2);break}for(const o of this.legends)o.legendArea=o.getLegendRectangle(o.legendSize)}}class Ut{}u(Ut,"Bold",700),u(Ut,"Normal",400);var B=(i=>(i[i.Left=-1]="Left",i[i.Center=0]="Center",i[i.Right=1]="Right",i))(B||{}),Q=(i=>(i[i.Miter=0]="Miter",i[i.Round=1]="Round",i[i.Bevel=2]="Bevel",i))(Q||{}),k=(i=>(i[i.Solid=0]="Solid",i[i.Dash=1]="Dash",i[i.Dot=2]="Dot",i[i.DashDot=3]="DashDot",i[i.DashDashDot=4]="DashDashDot",i[i.DashDotDot=5]="DashDotDot",i[i.DashDashDotDot=6]="DashDashDotDot",i[i.LongDash=7]="LongDash",i[i.LongDashDot=8]="LongDashDot",i[i.LongDashDotDot=9]="LongDashDotDot",i[i.None=10]="None",i[i.Automatic=11]="Automatic",i))(k||{});class Ft{static getDashArray(t){switch(t){case k.Solid:return;case k.Dash:return[4,1];case k.Dot:return[1,1];case k.DashDot:return[4,1,1,1];case k.DashDashDot:return[4,1,4,1,1,1];case k.DashDotDot:return[4,1,1,1,1,1];case k.DashDashDotDot:return[4,1,4,1,1,1,1,1];case k.LongDash:return[10,1];case k.LongDashDot:return[10,1,1,1];case k.LongDashDotDot:return[10,1,1,1,1,1];default:return}}}class Ht{constructor(t,e=1,s=k.Solid,n=Q.Miter){u(this,"dashArray"),this.color=t,this.thickness=e,this.lineStyle=s,this.lineJoin=n,this.dashArray=Ft.getDashArray(s)}get actualDashArray(){return this.dashArray||Ft.getDashArray(this.lineStyle)}static create(t,e,s=k.Solid,n=Q.Miter){if(!(t.isInvisible()||s===k.None||Math.abs(e)<=0))return new Ht(t,e,s,n)}}const As=class Ue{constructor(t,e,s,n){if(u(this,"_height"),u(this,"_left"),u(this,"_top"),u(this,"_width"),s<0)throw new Error("width;The width should not be negative.");if(n<0)throw new Error("height;The height should not be negative.");this._left=t,this._top=e,this._width=s,this._height=n}static fromScreenPoints(t,e){return new Ue(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.abs(e.x-t.x),Math.abs(e.y-t.y))}static fromScreenPointAndSize(t,e){return new Ue(t.x,t.y,e.width,e.height)}get bottom(){return this._top+this._height}get height(){return this._height}get left(){return this._left}get right(){return this._left+this._width}get top(){return this._top}get width(){return this._width}get center(){return A(this._left+this._width*.5,this._top+this._height*.5)}get topLeft(){return A(this.left,this.top)}get topRight(){return A(this.right,this.top)}get bottomLeft(){return A(this.left,this.bottom)}get bottomRight(){return A(this.right,this.bottom)}static create(t,e,s,n){return new Ue(Math.min(t,s),Math.min(e,n),Math.abs(s-t),Math.abs(n-e))}contains(t,e){return t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom}containsPoint(t){return this.contains(t.x,t.y)}toString(){return`(${this._left}, ${this._top}, ${this._width}, ${this._height})`}equals(t){return this.left===t.left&&this.top===t.top&&this.width===t.width&&this.height===t.height}inflate(t,e){return new Ue(this._left-t,this._top-e,this._width+t*2,this._height+e*2)}inflateAll(t){return new Ue(this._left-t.left,this._top-t.top,this._width+t.left+t.right,this._height+t.top+t.bottom)}intersect(t){const e=Math.max(this.left,t.left),s=Math.max(this.top,t.top),n=Math.min(this.right,t.right),o=Math.min(this.bottom,t.bottom);return n<e||o<s?Ue.Empty:new Ue(e,s,n-e,o-s)}deflate(t){return new Ue(this._left+t.left,this._top+t.top,Math.max(0,this._width-t.left-t.right),Math.max(0,this._height-t.top-t.bottom))}offset(t,e){return new Ue(this._left+t,this._top+e,this._width,this._height)}clip(t){const e=da(t.left)&&pa(t.width)?t.right:1/0,s=da(t.top)&&pa(t.height)?t.bottom:1/0;return Ue.create(Math.max(Math.min(this.left,e),t.left),Math.max(Math.min(this.top,s),t.top),Math.max(Math.min(this.right,e),t.left),Math.max(Math.min(this.bottom,s),t.top))}};u(As,"Everything",new As(0,0,1/0,1/0)),u(As,"Empty",new As(0,0,0,0));let N=As;const oo=class Ka{constructor(t,e){u(this,"_height"),u(this,"_width"),this._width=t||0,this._height=e||0}get height(){return this._height}get width(){return this._width}toString(){return`(${this.width}, ${this.height})`}equals(t){return this.width===t.width&&this.height===t.height}include(t){return new Ka(Math.max(this.width,t.width),Math.max(this.height,t.height))}};u(oo,"Empty",new oo(0,0));let lt=oo;lt.prototype.getBounds=function(i,t,e){return ao.getBounds(this,i,t,e)};class ao{static getBounds(t,e,s,n){const o=s===B.Left?0:s===B.Center?.5:1,a=n===D.Top?0:n===D.Middle?.5:1,l=new dt(o*t.width,a*t.height);if(e===0)return new N(-l.x,-l.y,t.width,t.height);const h=new dt(0,0).minus(l),m=new dt(t.width,0).minus(l),c=new dt(t.width,t.height).minus(l),g=new dt(0,t.height).minus(l),f=e*Math.PI/180,b=Math.cos(f),S=Math.sin(f),M=E=>new dt(b*E.x-S*E.y,S*E.x+b*E.y),T=M(h),C=M(m),v=M(c),R=M(g),P=Math.min(Math.min(T.x,C.x),Math.min(v.x,R.x)),I=Math.min(Math.min(T.y,C.y),Math.min(v.y,R.y)),V=Math.max(Math.max(T.x-P,C.x-P),Math.max(v.x-P,R.x-P)),_=Math.max(Math.max(T.y-I,C.y-I),Math.max(v.y-I,R.y-I));return new N(P,I,V,_)}static getPolygon(t,e,s,n,o){const a=n===B.Left?0:n===B.Center?.5:1,l=o===D.Top?0:o===D.Middle?.5:1,h=new dt(a*t.width,l*t.height);let m=new dt(0,0).minus(h),c=new dt(t.width,0).minus(h),g=new dt(t.width,t.height).minus(h),f=new dt(0,t.height).minus(h);if(s!==0){const b=s*Math.PI/180,S=Math.cos(b),M=Math.sin(b),T=C=>new dt(S*C.x-M*C.y,M*C.x+S*C.y);m=T(m),c=T(c),g=T(g),f=T(f)}return[bt(e,m),bt(e,c),bt(e,g),bt(e,f)]}}const ro=class Za{constructor(t,e,s,n){if(u(this,"_bottom"),u(this,"_left"),u(this,"_right"),u(this,"_top"),Mt(e)&&Mt(s)&&Mt(n))this._left=this._top=this._right=this._bottom=t;else if(!Mt(e)&&!Mt(s)&&!Mt(n))this._left=t,this._top=e,this._right=s,this._bottom=n;else throw new Error("Invalid arguments")}get bottom(){return this._bottom}get left(){return this._left}get right(){return this._right}get top(){return this._top}toString(){return`(${this._left}, ${this._top}, ${this._right}, ${this._bottom})`}equals(t){return this.left===t.left&&this.top===t.top&&this.right===t.right&&this.bottom===t.bottom}include(t){return new Za(Math.max(t.left,this.left),Math.max(t.top,this.top),Math.max(t.right,this.right),Math.max(t.bottom,this.bottom))}};u(ro,"Zero",new ro(0));let X=ro;const nn=Object.freeze({x:NaN,y:NaN}),ye=Object.freeze({x:0,y:0});function A(i,t){return{x:i,y:t}}function bt(i,t){return A(i.x+t.x,i.y+t.y)}function Gt(i,t){return new dt(i.x-t.x,i.y-t.y)}function ke(i,t){return A(i.x-t.x,i.y-t.y)}function Ve(i,t){const e=t.x-i.x,s=t.y-i.y;return Math.sqrt(e*e+s*s)}function fi(i,t){const e=t.x-i.x,s=t.y-i.y;return e*e+s*s}function Cs(i){return isNaN(i.x)&&isNaN(i.y)}function zn(i,t){return i.x===t.x&&i.y===t.y}class me{static findNearestPointOnPolyline(t,e){if(!e)throw new Error("points is null");let s=et,n=ye;for(let o=0;o+1<e.length;o++){const a=e[o],l=e[o+1];if(Cs(a)||Cs(l))continue;const h=me.findPointOnLine(t,a,l);if(Cs(h))continue;const m=Gt(t,h).lengthSquared;m<s&&(n=h,s=m)}return n}static findPointOnLine(t,e,s){const n=s.x-e.x,o=s.y-e.y;let a=me.findPositionOnLine(t,e,s);return isNaN(a)&&(a=0),a<0&&(a=0),a>1&&(a=1),A(e.x+a*n,e.y+a*o)}static findPositionOnLine(t,e,s){const n=s.x-e.x,o=s.y-e.y,a=(t.x-e.x)*n+(t.y-e.y)*o,l=n*n+o*o;return l<1e-6?NaN:a/l}static isPointInPolygon(t,e){if(!e)return!1;const s=e.length;let n=!1;for(let o=0,a=s-1;o<s;a=o++)e[o].y>t.y!=e[a].y>t.y&&t.x<(e[a].x-e[o].x)*((t.y-e[o].y)/(e[a].y-e[o].y))+e[o].x&&(n=!n);return n}static resamplePoints(t,e){const s=e*e,n=t.length,o=[];if(n>0){o.push(t[0]);let a=0;for(let l=1;l<n;l++)fi(t[a],t[l])<s&&l!==n-1||(a=l,o.push(t[l]))}return o}static getCentroid(t){let e=0,s=0,n=0;for(let o=0;o<t.length;o++){const a=(o+1)%t.length,l=t[o].x*t[a].y-t[a].x*t[o].y;e+=(t[o].x+t[a].x)*l,s+=(t[o].y+t[a].y)*l,n+=l}return n*=.5,e/=6*n,s/=6*n,A(e,s)}}const lo=class Ji{constructor(t,e){u(this,"_x"),u(this,"_y"),this._x=t,this._y=e}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}normalize(){if(this===Ji.Zero)throw new Error("Cannot normalize the zero vector");const t=Math.sqrt(this._x*this._x+this._y*this._y);t>0&&(this._x/=t,this._y/=t)}plus(t){const e=this;return new Ji(e.x+t.x,e.y+t.y)}minus(t){const e=this;return new Ji(e.x-t.x,e.y-t.y)}times(t){const e=this;return new Ji(e.x*t,e.y*t)}negate(){const t=this;return new Ji(-t.x,-t.y)}toString(){return`${this._x} ${this._y}`}equals(t){return this._x===t._x&&this._y===t._y}};u(lo,"Zero",Object.freeze(new lo(0,0)));let dt=lo;var D=(i=>(i[i.Top=-1]="Top",i[i.Middle=0]="Middle",i[i.Bottom=1]="Bottom",i))(D||{}),U=(i=>(i[i.Automatic=0]="Automatic",i[i.Adaptive=1]="Adaptive",i[i.PreferSharpness=2]="PreferSharpness",i[i.PreferSpeed=3]="PreferSpeed",i[i.PreferGeometricAccuracy=4]="PreferGeometricAccuracy",i))(U||{});const bh=.6,Sh=.62,Mh=0,kh=.62;class oe{static async drawMathText(t,e,s,n,o,a,l,h,m,c,g,f=!1){if(!s)return lt.Empty;if(s.includes("^{")||s.includes("_{")){const b=e.x,S=e.y,M=await this.internalDrawMathText(t,b,S,0,0,s,n,o,a,l,!0,h);let T=0,C=0;switch(m){case B.Right:T=-M.width;break;case B.Center:T=-M.width*.5;break}switch(c){case D.Bottom:C=-M.height;break;case D.Middle:C=-M.height*.5;break}return await this.internalDrawMathText(t,b,S,T,C,s,n,o,a,l,!1,h),f?M:lt.Empty}return await t.drawText(e,s,n,o,a,l,h,m,c,g),f?t.measureText(s,o,a,l):lt.Empty}static async measureMathText(t,e,s,n,o){return e.includes("^{")||e.includes("_{")?this.internalDrawMathText(t,0,0,0,0,e,p.Black,s,n,o,!0,0):t.measureText(e,s,n,o)}static async internalDrawMathText(t,e,s,n,o,a,l,h,m,c,g,f){let b=0;const S=f*Math.PI/180,M=vt(Math.cos(S),5),T=vt(Math.sin(S),5);let C=e,v=e,R=e;const P=s;let I=s,V=s;const _=m*Mh,E=m*bh,q=m*kh,yt=m*Sh,Z=async(ut,te,Ce,ee)=>{if(!g){const kt=e+(ut-e+n)*M-(te-s+o)*T,Tt=s+(ut-e+n)*T+(te-s+o)*M;await t.drawText(A(kt,Tt),Ce,l,h,ee,c,f)}const ie=t.measureText(Ce,h,ee,c);return new lt(ie.width,ie.height)};for(;b<a.length;){if(b+1<a.length&&a[b]==="^"&&a[b+1]==="{"){const ee=a.indexOf("}",b);if(ee!==-1){const ie=Ws(a,b+2,ee-b-2);b=ee+1;const kt=C,Tt=P+_,Et=await Z(kt,Tt,ie,q);v=Math.max(kt+Et.width,v),I=Math.max(Tt+Et.height,I),R=Math.min(kt,R),V=Math.min(Tt,V);continue}}if(b+1<a.length&&a[b]==="_"&&a[b+1]==="{"){const ee=a.indexOf("}",b);if(ee!==-1){const ie=Ws(a,b+2,ee-b-2);b=ee+1;const kt=C,Tt=P+E,Et=await Z(kt,Tt,ie,yt);v=Math.max(kt+Et.width,v),I=Math.max(Tt+Et.height,I),R=Math.min(kt,R),V=Math.min(Tt,V);continue}}const ut=zl(a.split(""),["^","_"],b+1);let te;ut===-1?(te=Ws(a,b),b=a.length):(te=Ws(a,b,ut-b),b=ut),C=v+2;const Ce=await Z(C,P,te,m);v=Math.max(C+Ce.width,v),I=Math.max(P+Ce.height,I),R=Math.min(C,R),V=Math.min(P,V),C=v}return new lt(v-R,I-V)}}class Oi{constructor(){u(this,"rendersToScreen"),this.rendersToScreen=!0}static isStraightLine(t,e){return Math.abs(t.x-e.x)<1e-5||Math.abs(t.y-e.y)<1e-5}static isStraightLine2(t){for(let e=1;e<t.length;e++)if(!this.isStraightLine(t[e-1],t[e]))return!1;return!0}async drawEllipse(t,e,s,n,o){const a=Oi.createEllipse(t);await this.drawPolygon(a,e,s,n,o,void 0,Q.Miter)}async drawEllipses(t,e,s,n,o){for(const a of t)await this.drawEllipse(a,e,s,n,o)}async drawLineSegments(t,e,s,n,o,a){for(let l=0;l+1<t.length;l+=2)await this.drawLine([t[l],t[l+1]],e,s,n,o,a)}async drawPolygons(t,e,s,n,o,a,l){for(const h of t)await this.drawPolygon(h,e,s,n,o,a,l)}async drawRectangle(t,e,s,n,o){const a=Oi.createRectangle(t);await this.drawPolygon(a,e,s,n,o,void 0,Q.Miter)}async drawRectangles(t,e,s,n,o){for(const a of t)await this.drawRectangle(a,e,s,n,o)}setToolTip(t){}cleanUp(){}static createEllipse(t,e=40){const s=t.center.x,n=t.center.y,o=t.width/2,a=t.height/2,l=new Array(e);for(let h=0;h<e;h++){const m=Math.PI*2*h/e;l[h]=A(s+Math.cos(m)*o,n+Math.sin(m)*a)}return l}static createRectangle(t){return[A(t.left,t.top),A(t.left,t.bottom),A(t.right,t.bottom),A(t.right,t.top)]}shouldUseAntiAliasingForRect(t){switch(t){case U.PreferGeometricAccuracy:return!0;default:return!1}}shouldUseAntiAliasingForEllipse(t){switch(t){case U.PreferSpeed:return!1;default:return!0}}shouldUseAntiAliasingForLine(t,e){switch(t){case U.PreferSpeed:case U.PreferSharpness:return!1;case U.Automatic:if(Oi.isStraightLine2(e))return!1;break;case U.Adaptive:if(Oi.isStraightLine2(e))return!1;break;default:return!0}return!0}}const Qi=class{static getActualEdgeRenderingMode(t,e){return t===U.Automatic?e:t}static async drawReducedLine(t,e,s,n,o,a,l,h,m,c){e.length!==0&&(m?m.length=0:m=[],this.reducePoints(e,s,m),await t.drawLine(m,n,o,a,l,h),m.length=0,ui(m,e),c&&c(m))}static async drawReducedPolygon(t,e,s,n,o,a,l,h=k.Solid,m=Q.Miter){if(e.length===0||h===k.None)return;const c=[];this.reducePoints(e,s,c),await t.drawPolygon(c,n,o,a,l,Ft.getDashArray(h),m)}static async drawImage(t,e,s,n,o,a,l,h){await t.drawImage(e,0,0,e.width,e.height,s,n,o,a,l,h)}static async drawMultilineText(t,e,s,n,o,a=10,l=Ut.Normal,h=12){const m=fn.splitLines(s);for(let c=0;c<m.length;c++)await t.drawText(A(e.x,e.y+c*h),m[c],n,void 0,a,l)}static async drawLine(t,e,s,n,o,a,l){a&&await t.drawLine([A(e,s),A(n,o)],a.color,a.thickness,l,a.actualDashArray,a.lineJoin)}static async drawLineSegments(t,e,s,n){s&&await t.drawLineSegments(e,s.color,s.thickness,n,s.actualDashArray,s.lineJoin)}static async drawMarker(t,e,s,n,o,a,l,h,m){await this.drawMarkers(t,[e],s,n,[o],a,l,h,m)}static async drawMarkers(t,e,s,n,o,a,l,h,m,c=0,g=ye){if(s===F.None)return;const f=[],b=[],S=[],M=[],T=new Set;let C=0;for(const v of e){if(c>1){const P=Math.floor((v.x-g.x)/c),I=Math.floor((v.y-g.y)/c),V=Ei(P<<16)+Ei(I);if(T.has(V)){C++;continue}T.add(V)}const R=C<o.length?C:0;this.addMarkerGeometry(v,s,n,o[R],f,b,S,M),C++}m===U.Automatic&&(m=U.PreferGeometricAccuracy),f.length>0&&await t.drawEllipses(f,a,l,h,m),b.length>0&&await t.drawRectangles(b,a,l,h,m),S.length>0&&await t.drawPolygons(S,a,l,h,m),M.length>0&&await t.drawLineSegments(M,l,h,m)}static async drawCircle(t,e,s,n,o,a,l,h){await t.drawEllipse(new N(e-n,s-n,n*2,n*2),o,a,l,h)}static async drawCircle2(t,e,s,n,o,a,l){await this.drawCircle(t,e.x,e.y,s,n,o,a,l)}static async fillCircle(t,e,s,n,o){await this.drawCircle(t,e.x,e.y,s,n,p.Undefined,0,o)}static async fillRectangle(t,e,s,n){await t.drawRectangle(e,s,p.Undefined,0,n)}static async drawRectangle(t,e,s,n,o){if(n.left===n.right&&n.left===n.top&&n.left===n.bottom){await t.drawRectangle(e,p.Undefined,s,n.left,o);return}const a=e.left-n.left/2+.5,l=e.right+n.right/2-.5,h=e.top-n.top/2+.5,m=e.bottom+n.bottom/2-.5,c=[A(a,e.top),A(l,e.top)],g=[A(e.right,h),A(e.right,m)],f=[A(a,e.bottom),A(l,e.bottom)],b=[A(e.left,h),A(e.left,m)];await t.drawLine(c,s,n.top,o,void 0,Q.Miter),await t.drawLine(g,s,n.right,o,void 0,Q.Miter),await t.drawLine(f,s,n.bottom,o,void 0,Q.Miter),await t.drawLine(b,s,n.left,o,void 0,Q.Miter)}static measureText(t,e,s,n,o,a){const l=t.measureText(e,s,n,o);return this.measureRotatedRectangleBound(l,a)}static autoResetClip(t,e){return new Ah(t,e)}static addMarkerGeometry(t,e,s,n,o,a,l,h){if(e===F.Custom){if(!s)throw new Error("The outline should be set when MarkerType is 'Custom'.");const c=s.map(g=>A(t.x+g.x*n,t.y+g.y*n));l.push(c);return}switch(e){case F.Circle:o.push(new N(t.x-n,t.y-n,n*2,n*2));break;case F.Square:a.push(new N(t.x-n,t.y-n,n*2,n*2));break;case F.Diamond:l.push([A(t.x,t.y-this.M2*n),A(t.x+this.M2*n,t.y),A(t.x,t.y+this.M2*n),A(t.x-this.M2*n,t.y)]);break;case F.Triangle:l.push([A(t.x-n,t.y+this.M1*n),A(t.x+n,t.y+this.M1*n),A(t.x,t.y-this.M2*n)]);break;case F.Plus:case F.Star:h.push(A(t.x-n,t.y)),h.push(A(t.x+n,t.y)),h.push(A(t.x,t.y-n)),h.push(A(t.x,t.y+n));break}const m=this.M3;switch(e){case F.Cross:case F.Star:h.push(A(t.x-n*m,t.y-n*m)),h.push(A(t.x+n*m,t.y+n*m)),h.push(A(t.x-n*m,t.y+n*m)),h.push(A(t.x+n*m,t.y-n*m));break}}static measureRotatedRectangleBound(t,e){const s=t.getBounds(e,B.Center,D.Middle);return new lt(s.width,s.height)}static reducePoints(t,e,s){const n=t.length;if(n===0)return;s.push(t[0]);let o=0;for(let a=1;a<n;a++){const l=t[a],h=l.x-t[o].x,m=l.y-t[o].y;(h*h+m*m>e||a===n-1)&&(s.push(A(l.x,l.y)),o=a)}}static transformAndInterpolateLines(t,e,s,n){const o=t.xAxis,a=t.yAxis;if(o.isLogarithmic()||a.isLogarithmic()){let l=!1,h=!0,m=ae;for(const c of e)if(en(c)||o.isLogarithmic()&&c.x<=0||a.isLogarithmic()&&c.y<=0)h=!0;else{if(h)s.length>0&&s.push(nn),h=!1,l=!0;else if(l){const g=lh(c,m);this.interpolatePoints(f=>t.transform(qs(m,g.times(f))),s,n,l)}m=c}}else{let l=!0;for(const h of e)en(h)?l=!0:(l&&s.length>0&&s.push(nn),s.push(t.transform(h)),l=!1)}}static interpolatePoints(t,e,s,n){const o=s*s,a=[],l=[];a.push(1),l.push(t(1));let h=0,m=t(0);for(n&&e.push(m);a.length>0;){let c=a[a.length-1],g=l[l.length-1];fi(g,m)<o?(h=c,m=g,e.push(g),a.pop(),l.pop()):(c=h+(c-h)/2,g=t(c),a.push(c),l.push(g))}}};u(Qi,"M1",Math.tan(Math.PI/6)),u(Qi,"M2",Math.sqrt(1+Qi.M1*Qi.M1)),u(Qi,"M3",Math.tan(Math.PI/4));let O=Qi;class Ah{constructor(t,e){u(this,"renderContext"),this.renderContext=t,t.pushClip(e)}dispose(){this.renderContext.popClip()}}class Po extends Oi{constructor(){super(...arguments),u(this,"clipStack",[])}popClip(){if(this.clipStack.length===0)throw new Error("Unbalanced call to popClip.");const t=this.clipStack.pop();if(this.clipStack.length>0){const e=this.clipStack[this.clipStack.length-1];t.equals(e)||(this.resetClip(),this.setClip(e))}else this.resetClip()}pushClip(t){if(this.clipStack.length>0){const e=this.clipStack[this.clipStack.length-1],s=t.intersect(e);e.equals(s)||(this.resetClip(),this.setClip(s)),this.clipStack.push(s)}else this.setClip(t),this.clipStack.push(t)}get clipCount(){return this.clipStack.length}}class Lo extends Oi{constructor(t){super(),u(this,"rc"),u(this,"distortionFactor"),u(this,"interpolationDistance"),u(this,"fontFamily"),u(this,"thicknessScale"),this.rc=t,this.rendersToScreen=this.rc.rendersToScreen,this.distortionFactor=7,this.interpolationDistance=10,this.thicknessScale=2,this.fontFamily="Humor Sans"}get clipCount(){return this.rc.clipCount}async drawLine(t,e,s,n,o,a){const l=this.distort(t);await this.rc.drawLine(l,e,s*this.thicknessScale,n,o,a)}async drawPolygon(t,e,s,n,o,a,l){const h=[...t,t[0]],m=this.distort(h);await this.rc.drawPolygon(m,e,s,n*this.thicknessScale,o,a,l)}async drawText(t,e,s,n,o,a,l,h,m,c){await this.rc.drawText(t,e,s,this.getFontFamily(n),o,a,l,h,m,c)}measureText(t,e,s,n){return this.rc.measureText(t,this.getFontFamily(e),s,n)}setToolTip(t){this.rc.setToolTip(t)}cleanUp(){this.rc.cleanUp()}async drawImage(t,e,s,n,o,a,l,h,m,c,g){await this.rc.drawImage(t,e,s,n,o,a,l,h,m,c,g)}pushClip(t){this.rc.pushClip(t)}popClip(){this.rc.popClip()}getFontFamily(t){return this.fontFamily}distort(t){const e=this.interpolate(t,this.interpolationDistance),s=new Array(e.length);let n=this.generateRandomNumbers(e.length);n=this.applyMovingAverage(n,5);const o=this.distortionFactor,a=o/2;for(let l=0;l<e.length;l++){if(l===0||l===e.length-1){s[l]=e[l];continue}const h=Gt(e[l+1],e[l-1]);h.normalize();const m=new dt(h.y,-h.x).times(n[l]*o-a);s[l]=bt(e[l],m)}return s}generateRandomNumbers(t){const e=new Array(t);for(let s=0;s<t;s++)e[s]=Math.random();return e}applyMovingAverage(t,e){const s=t.length,n=new Array(s).fill(0),o=Math.round(e/2);for(let a=0;a<s;a++){const l=Math.max(0,a-o),h=Math.min(s-1,a+o);for(let m=l;m<=h;m++)n[a]+=t[m];n[a]/=e}return n}interpolate(t,e){let s=ye,n=-1,o=e;const a=[];for(const l of t){if(n<0){a.push(l),s=l,n=0;continue}const h=Gt(l,s).length;if(h>0)for(;o>=n&&o<=n+h;){const m=(o-n)/h;a.push(A(s.x*(1-m)+l.x*m,s.y*(1-m)+l.y*m)),o+=e}n+=h,s=l}return a.push(s),a}}class on{static decimate(t,e){if(t===void 0||t.length===0)return;let s=t[0],n=Math.round(s.x),o=Math.round(s.y),a=o,l=o,h=o;for(let m=1;m<t.length;++m){s=t[m];const c=Math.round(s.x),g=Math.round(s.y);if(c!==n){on.addVerticalPoints(e,n,l,h,o,a),l=h=o=a=g,n=c;continue}g<o&&(o=g),g>a&&(a=g),h=g}h=l===o?a:o,on.addVerticalPoints(e,n,l,h,o,a)}static addVerticalPoints(t,e,s,n,o,a){if(t.push(A(e,s)),s===o){o!==a&&t.push(A(e,a)),a!==n&&t.push(A(e,n));return}if(s===a){a!==o&&t.push(A(e,o)),o!==n&&t.push(A(e,n));return}n===o?o!==a&&t.push(A(e,a)):n===a?a!==o&&t.push(A(e,o)):(t.push(A(e,o)),t.push(A(e,a))),t.push(A(e,n))}}class Se{constructor(t){u(this,"tension"),this.tension=t}createSplineDp(t,e,s){return Se.createSplineForDp(t,this.tension,void 0,e,s)}createSplineSp(t,e,s){return Se.createSpline(t,this.tension,void 0,e,s)}static createSplineForDp(t,e,s,n,o){const a=t.map(m=>A(m.x,m.y)),l=Se.createSpline(a,e,s,n,o),h=[];for(const m of l)h.push(d(m.x,m.y));return h}static createSpline(t,e,s,n,o){const a=[];if(!t)return a;const l=t.length;if(l<1)return a;if(l<2)return a.push(...t),a;if(l===2)n?(Se.segment(a,t[1],t[0],t[1],t[0],e,e,o),Se.segment(a,t[0],t[1],t[0],t[1],e,e,o)):Se.segment(a,t[0],t[0],t[1],t[1],e,e,o);else{const h=s&&s.length>0;for(let m=0;m<l;m++){const c=h?s[m%s.length]:e,g=h?s[(m+1)%s.length]:e;m===0?Se.segment(a,n?t[l-1]:t[0],t[0],t[1],t[2],c,g,o):m===l-2?Se.segment(a,t[m-1],t[m],t[m+1],n?t[0]:t[m+1],c,g,o):m===l-1?n&&Se.segment(a,t[m-1],t[m],t[0],t[1],c,g,o):Se.segment(a,t[m-1],t[m],t[m+1],t[m+2],c,g,o)}}return a}static segment(t,e,s,n,o,a,l,h,m=1e3){const c=a*(n.x-e.x),g=a*(n.y-e.y),f=l*(o.x-s.x),b=l*(o.y-s.y),S=c+f+2*s.x-2*n.x,M=g+b+2*s.y-2*n.y,T=-2*c-f-3*s.x+3*n.x,C=-2*g-b-3*s.y+3*n.y,v=c,R=g,P=s.x,I=s.y,V=Math.min(m,Math.round((Math.abs(s.x-n.x)+Math.abs(s.y-n.y))/h));for(let _=1;_<V;_++){const E=_/(V-1),q=A(S*E*E*E+T*E*E+v*E+P,M*E*E*E+C*E*E+R*E+I);t.push(q)}}}class ns{constructor(t){u(this,"alpha"),u(this,"maxSegments"),this.alpha=t,this.maxSegments=100}createSplineDp(t,e,s){return ns.createSplineForDp(t,this.alpha,e,s,this.maxSegments)}createSplineSp(t,e,s){return ns.createSpline(t,this.alpha,e,s,this.maxSegments)}static createSplineForDp(t,e,s,n,o){const a=t.map(m=>A(m.x,m.y)),l=this.createSpline(a,e,s,n,o),h=[];for(const m of l)h.push(d(m.x,m.y));return h}static createSpline(t,e,s,n,o){const a=[];if(t===void 0)return a;const l=t.length;if(l<1)return a;if(l<2)return a.push(...t),a;if(l===2)s?(this.segment(a,t[1],t[0],t[1],t[0],e,n,o),this.segment(a,t[0],t[1],t[0],t[1],e,n,o)):this.segment(a,t[0],t[0],t[1],t[1],e,n,o);else for(let h=0;h<l;h++)h===0?this.segment(a,s?t[l-1]:t[0],t[0],t[1],t[2],e,n,o):h===l-2?this.segment(a,t[h-1],t[h],t[h+1],s?t[0]:t[h+1],e,n,o):h===l-1?s&&this.segment(a,t[h-1],t[h],t[0],t[1],e,n,o):this.segment(a,t[h-1],t[h],t[h+1],t[h+2],e,n,o);return a}static segment(t,e,s,n,o,a,l,h){if(zn(s,n)){t.push(s);return}zn(e,s)&&(e=this.prev(s,n)),zn(n,o)&&(o=this.prev(n,s));const m=0,c=this.getT(m,e,s,a),g=this.getT(c,s,n,a),f=this.getT(g,n,o,a);let b=Math.round((Math.abs(s.x-n.x)+Math.abs(s.y-n.y))/l);b=Math.max(0,b),b=Math.min(h,b);for(let S=c;S<g;S+=(g-c)/b){const M=this.sum(this.mult((c-S)/(c-m),e),this.mult((S-m)/(c-m),s)),T=this.sum(this.mult((g-S)/(g-c),s),this.mult((S-c)/(g-c),n)),C=this.sum(this.mult((f-S)/(f-g),n),this.mult((S-g)/(f-g),o)),v=this.sum(this.mult((g-S)/(g-m),M),this.mult((S-m)/(g-m),T)),R=this.sum(this.mult((f-S)/(f-c),T),this.mult((S-c)/(f-c),C)),P=this.sum(this.mult((g-S)/(g-c),v),this.mult((S-c)/(g-c),R));t.push(P)}}static getT(t,e,s,n){const o=Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2),a=Math.sqrt(o);return Math.pow(a,n)+t}static mult(t,e){return A(e.x*t,e.y*t)}static equals(t,e){return t.x===e.x&&t.y===e.y}static prev(t,e){return A(t.x-1e-4*(e.x-t.x),t.y-1e-4*(e.y-t.y))}static sum(t,e){return A(t.x+e.x,t.y+e.y)}}class Ie{}u(Ie,"CanonicalSpline",new Se(.5)),u(Ie,"CatmullRomSpline",new ns(.5)),u(Ie,"UniformCatmullRomSpline",new ns(0)),u(Ie,"ChordalCatmullRomSpline",new ns(1));class Rh extends mn{constructor(t){super(t),u(this,"background"),u(this,"isVisible"),u(this,"title"),u(this,"legendKey"),u(this,"seriesGroupName"),u(this,"renderInLegend"),u(this,"trackerStringFormatter"),u(this,"trackerKey"),this.isVisible=!0,this.background=p.Undefined,this.renderInLegend=!0}getNearestPoint(t,e){}hitTestOverride(t){const e=this.getNearestPoint(t.point,!0)||this.getNearestPoint(t.point,!1);if(e!=null&&e.position)return Ve(e.position,t.point)>t.tolerance?void 0:{element:this,nearestHitPoint:e.position,item:e.item,index:e.index}}}class Fs extends Rh{constructor(t){super(t),u(this,"itemsSource")}static getItem(t,e){if(!(!t||e<0)&&e<t.length&&e>=0)return t[e]}getItem(t){if(this.itemsSource)return Fs.getItem(this.itemsSource,t)}}const Zs=class Js extends Fs{constructor(t){super(t),u(this,"trackerStringFormatter"),u(this,"_maxX",0),u(this,"_maxY",0),u(this,"_minX",0),u(this,"_minY",0),u(this,"_xAxis"),u(this,"xAxisKey"),u(this,"_yAxis"),u(this,"yAxisKey"),u(this,"isXMonotonic",!1),u(this,"windowStartIndex",0),this.trackerStringFormatter=Js.DefaultTrackerFormatter,Xa(this)}get maxX(){return this._maxX}set maxX(t){this._maxX=t}get maxY(){return this._maxY}set maxY(t){this._maxY=t}get minX(){return this._minX}set minX(t){this._minX=t}get minY(){return this._minY}set minY(t){this._minY=t}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}getClippingRect(){return di.getClippingRect(this)}getScreenRectangle(){return this.getClippingRect()}inverseTransform(t){return di.inverseTransformOrientated(this,t)}async renderLegend(t,e){}transform(t){return di.transformOrientated(this,t)}areAxesRequired(){return!0}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}isUsing(t){return!1}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX),this.yAxis.include(this.minY),this.yAxis.include(this.maxY)}updateData(){this.windowStartIndex=0}updateMaxMin(){this.minX=this.minY=this.maxX=this.maxY=Number.NaN}getNearestInterpolatedPointInternal(t,e,s){if(!this.xAxis||!this.yAxis||!t)return;let n=ye,o=Ai,a=-1,l=et;for(let h=e;h+1<t.length;h++){const m=t[h],c=t[h+1];if(!this.isValidPoint(m)||!this.isValidPoint(c))continue;const g=this.transform(m),f=this.transform(c),b=me.findPointOnLine(s,g,f);if(Cs(b))continue;const S=Gt(s,b).lengthSquared;if(S<l){const M=Gt(f,g).length,T=M>0?Gt(b,g).length/M:0;o=this.inverseTransform(b),n=b,l=S,a=h+T}}if(l<et){const h=this.getItem(Math.round(a));return new Ot({series:this,dataPoint:o,position:n,item:h,index:a})}}getNearestPointInternal(t,e,s){let n=ye,o=Ai,a=-1,l=et,h=e;for(const m of t.slice(e)){if(!this.isValidPoint(m)){h++;continue}const c=J.transform(this,m.x,m.y),g=Gt(c,s).lengthSquared;g<l&&(o=m,n=c,l=g,a=h),h++}if(l<et){const m=this.getItem(Math.round(a));return new Ot({series:this,dataPoint:o,position:n,item:m,index:a})}}isValidPoint(t){return this.isValidPoint2(t.x,t.y)}isValidPoint2(t,e){return!!(this.xAxis&&this.xAxis.isValidValue(t)&&this.yAxis&&this.yAxis.isValidValue(e))}internalUpdateMaxMin(t){if(!t)throw new Error("points is null");if(this.isXMonotonic=!0,t.length===0)return;let e=this.minX,s=this.minY,n=this.maxX,o=this.maxY;isNaN(e)&&(e=et),isNaN(s)&&(s=et),isNaN(n)&&(n=ht),isNaN(o)&&(o=ht);let a=ht;for(const l of t){const h=l.x,m=l.y;this.isValidPoint2(h,m)&&(h<a&&(this.isXMonotonic=!1),h<e&&(e=h),h>n&&(n=h),m<s&&(s=m),m>o&&(o=m),a=h)}e<et&&(this.minX=e),s<et&&(this.minY=s),n>ht&&(this.maxX=n),o>ht&&(this.maxY=o)}internalUpdateMaxMin2(t,e,s,n,o){if(!t)throw new Error("items is null");if(this.isXMonotonic=!0,t.length===0)return;let a=this.minX,l=this.minY,h=this.maxX,m=this.maxY;isNaN(a)&&(a=et),isNaN(l)&&(l=et),isNaN(h)&&(h=ht),isNaN(m)&&(m=ht);let c=ht,g=ht;for(const f of t){const b=e(f),S=s(f),M=n(f),T=o(f);!this.isValidPoint2(b,M)||!this.isValidPoint2(S,T)||((b<c||S<g)&&(this.isXMonotonic=!1),b<a&&(a=b),S>h&&(h=S),M<l&&(l=M),T>m&&(m=T),c=b,g=S)}a<et&&(this.minX=a),l<et&&(this.minY=l),h>ht&&(this.maxX=h),m>ht&&(this.maxY=m)}verifyAxes(){if(!this.xAxis)throw new Error("XAxis not defined.");if(!this.yAxis)throw new Error("YAxis not defined.")}updateWindowStartIndex(t,e,s,n){return n=this.findWindowStartIndex(t,e,s,n),n>0&&n--,n}findWindowStartIndex(t,e,s,n){let o=0,a=t.length-1;for(;a>0&&isNaN(e(t[a]));)a-=1;let l=a,h=Math.max(0,Math.min(l,n));const m=c=>{for(;c<=a;){const g=e(t[c]);if(isNaN(g))c+=1;else return g}return e(t[a])};for(;o<l;){const c=m(h);if(c===s){o=h;break}else c>s?l=h-1:o=h;if(o>=l)break;const g=m(l),f=m(o),b=(l-o+1)/(g-f);h=o+Math.round((s-f)*b),h=Math.max(o+1,Math.min(h,l))}for(;o>0&&e(t[o])>s;)o-=1;return o}formatDefaultTrackerString(t,e,s){var n,o,a,l;if(!this.trackerStringFormatter)return;const h={item:t,title:this.title||""};return e&&(h.xTitle=((n=this.xAxis)==null?void 0:n.title)??Js.defaultXAxisTitle,h.xValue=(o=this.xAxis)==null?void 0:o.getValue(e.x),h.yTitle=((a=this.yAxis)==null?void 0:a.title)??Js.defaultYAxisTitle,h.yValue=(l=this.yAxis)==null?void 0:l.getValue(e.y)),s&&s(h),this.trackerStringFormatter(h)}};u(Zs,"DefaultTrackerFormatter",i=>`${i.title||""}
${i.xTitle}: ${i.xValue}
${i.yTitle}: ${i.yValue}`),u(Zs,"defaultXAxisTitle","X"),u(Zs,"defaultYAxisTitle","Y");let Bt=Zs;class Io extends Bt{constructor(t){super(t),u(this,"_points",[]),u(this,"_itemsSourcePoints",[]),u(this,"canTrackerInterpolatePoints",!1),u(this,"dataFieldX"),u(this,"dataFieldY"),u(this,"mapping"),t&&t.points&&(this._points.push(...t.points),delete t.points)}get points(){return this._points}get actualPoints(){return this.itemsSource?this._itemsSourcePoints:this._points}getNearestPoint(t,e){if(e&&!this.canTrackerInterpolatePoints)return;let s;return e&&(s=this.getNearestInterpolatedPointInternal(this.actualPoints,0,t)),s||(s=this.getNearestPointInternal(this.actualPoints,0,t)),s&&this.trackerStringFormatter&&(s.text=this.formatDefaultTrackerString(s.item,s.dataPoint)),s}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints)}getItem(t){const e=this.actualPoints;return!this.itemsSource&&e&&t<e.length?e[t]:super.getItem(t)}clearItemsSourcePoints(){this._itemsSourcePoints&&(this._itemsSourcePoints.length=0)}updateItemsSourcePoints(){if(!this.itemsSource)return;const t=this.itemsSource;if(this.mapping){this.clearItemsSourcePoints();for(const e of t)this._itemsSourcePoints.push(this.mapping(e));return}this.clearItemsSourcePoints();for(const e of t){const s=this.convertToDataPoint(e);s&&this._itemsSourcePoints.push(s)}}convertToDataPoint(t){if(t){if(rh(t))return t;if(this.dataFieldX&&this.dataFieldY){const e=this.xAxis?this.xAxis.itemToDouble(t[this.dataFieldX]):Number(t[this.dataFieldX]),s=this.yAxis?this.yAxis.itemToDouble(t[this.dataFieldY]):Number(t[this.dataFieldY]);return d(e,s)}if(hh(t))return t.getDataPoint();throw new Error(`Cannot convert item ${t} to DataPoint`)}}}var os=(i=>(i[i.None=0]="None",i[i.Start=1]="Start",i[i.End=2]="End",i))(os||{});const Ja=class Qa extends Io{constructor(t){super(t),u(this,"outputBuffer"),u(this,"contiguousScreenPointsBuffer"),u(this,"decimatorBuffer",[]),u(this,"defaultColor",p.Undefined),u(this,"defaultMarkerFill",p.Undefined),u(this,"defaultLineStyle",k.Solid),u(this,"_smoothedPoints"),u(this,"color"),u(this,"brokenLineColor"),u(this,"brokenLineStyle",k.Solid),u(this,"brokenLineThickness",0),u(this,"dashes"),u(this,"decimator"),u(this,"labelStringFormatter"),u(this,"labelMargin"),u(this,"lineJoin"),u(this,"lineStyle"),u(this,"lineLegendPosition",0),u(this,"markerFill"),u(this,"markerOutline"),u(this,"markerResolution"),u(this,"markerSize"),u(this,"markerStroke"),u(this,"markerStrokeThickness"),u(this,"markerType"),u(this,"minimumSegmentLength"),u(this,"interpolationAlgorithm"),u(this,"strokeThickness"),this.strokeThickness=2,this.lineJoin=Q.Bevel,this.lineStyle=k.Automatic,this.color=p.Automatic,this.brokenLineColor=p.Undefined,this.markerFill=p.Automatic,this.markerStroke=p.Automatic,this.markerResolution=0,this.markerSize=3,this.markerStrokeThickness=1,this.markerType=F.None,this.minimumSegmentLength=2,this.canTrackerInterpolatePoints=!0,this.labelMargin=6,this._smoothedPoints=new Array,t&&Object.assign(this,st(t))}get actualColor(){return this.color.getActualColor(this.defaultColor)}get actualMarkerFill(){return this.markerFill.getActualColor(this.defaultMarkerFill)}get actualLineStyle(){return this.lineStyle!=k.Automatic?this.lineStyle:this.defaultLineStyle}get actualDashArray(){return this.dashes??Ft.getDashArray(this.actualLineStyle)}get smoothedPoints(){return this._smoothedPoints}getNearestPoint(t,e){if(e&&(this.actualColor.isInvisible()||this.strokeThickness===0||!this.canTrackerInterpolatePoints))return;const s=this.trackerStringFormatter;if(e&&this.interpolationAlgorithm){const n=this.getNearestInterpolatedPointInternal(this.smoothedPoints,0,t);return n&&s&&(n.text=s({item:n.item,title:this.title,xTitle:this.xAxis.title??Bt.defaultXAxisTitle,xValue:this.xAxis.getValue(n.dataPoint.x),yTitle:this.yAxis.title??Bt.defaultYAxisTitle,yValue:this.yAxis.getValue(n.dataPoint.y)})),n}return super.getNearestPoint(t,e)}async render(t){const e=this.actualPoints;!e||e.length===0||(this.verifyAxes(),await this.renderPoints(t,e),this.labelStringFormatter&&await this.renderPointLabels(t),this.lineLegendPosition!==0&&this.title&&await this.renderLegendOnLine(t))}async renderLegend(t,e){const s=(e.left+e.right)/2,n=(e.top+e.bottom)/2,o=[A(e.left,n),A(e.right,n)];await t.drawLine(o,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray);const a=A(s,n);await O.drawMarker(t,a,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.lineStyle===k.Automatic&&(this.defaultLineStyle=this.plotModel.getDefaultLineStyle()),this.color.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor()),this.markerFill.isAutomatic()&&(this.defaultMarkerFill=this.color.isAutomatic()?this.defaultColor:this.color)}updateMaxMin(){if(this.interpolationAlgorithm){if(super.updateMaxMin(),this.resetSmoothedPoints(),this.smoothedPoints.every(s=>isNaN(s.x)))return;const t=this.smoothedPoints.filter(s=>!isNaN(s.x)).map(s=>s.x),e=this.smoothedPoints.filter(s=>!isNaN(s.y)).map(s=>s.y);this.minX=Lt(t),this.minY=Lt(e),this.maxX=Xt(t),this.maxY=Xt(e)}else super.updateMaxMin()}async renderPoints(t,e){let s;const n=this.brokenLineThickness>0&&this.brokenLineStyle!==k.None,o=n?Ft.getDashArray(this.brokenLineStyle):void 0,a=n?[]:void 0;this.contiguousScreenPointsBuffer||(this.contiguousScreenPointsBuffer=[]);let l=0,h=et;if(this.isXMonotonic){const m=this.xAxis.clipMinimum;h=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(e,c=>c.x,m,this.windowStartIndex),l=this.windowStartIndex}for(let m=l;m<e.length;m++){const{result:c,pointIdx:g,previousContiguousLineSegmentEndPoint:f}=this.extractNextContiguousLineSegment(e,m,s,h,a,this.contiguousScreenPointsBuffer);if(m=g,s=f,!c)break;if(n){if(a&&a.length>0){const b=this.brokenLineColor.isAutomatic()?this.actualColor:this.brokenLineColor;await t.drawLineSegments(a,b,this.brokenLineThickness,this.edgeRenderingMode,o,this.lineJoin),a.length=0}}else s=void 0;this.decimator?(this.decimatorBuffer?this.decimatorBuffer.length=0:this.decimatorBuffer=[],this.decimator(this.contiguousScreenPointsBuffer,this.decimatorBuffer),await this.renderLineAndMarkers(t,this.decimatorBuffer)):await this.renderLineAndMarkers(t,this.contiguousScreenPointsBuffer),this.contiguousScreenPointsBuffer.length=0}}extractNextContiguousLineSegment(t,e,s,n,o,a){let l=d(0,0),h=!1;for(;e<t.length;e++){if(l=t[e],l.x>n)return{result:!1,pointIdx:e,previousContiguousLineSegmentEndPoint:s};if(h=this.isValidPoint(l),h)break}if(!h)return{result:!1,pointIdx:e,previousContiguousLineSegmentEndPoint:s};let m=this.transform(l);s&&(o.push(s),o.push(m)),a.push(m);let c=0;for(e++;e<t.length&&(l=t[e],c+=l.x>n?1:0,!(c>1||!this.isValidPoint(l)));e++)m=this.transform(l),a.push(m);return s=m,{result:!0,pointIdx:e,previousContiguousLineSegmentEndPoint:s}}async renderPointLabels(t){if(!this.labelStringFormatter)return;let e=-1;for(const s of this.actualPoints){if(e++,!this.isValidPoint(s))continue;const n=bt(this.transform(s),new dt(0,-this.labelMargin)),o=this.getItem(e),a=this.labelStringFormatter(o,[s.x,s.y]);await t.drawText(n,a,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,B.Center,D.Bottom)}}async renderLegendOnLine(t){if(!this.title)return;let e,s,n=D.Middle,o=4;switch(this.lineLegendPosition){case 1:e=this.actualPoints[0],s=B.Right,o=-o;break;case 2:e=this.actualPoints[this.actualPoints.length-1],s=B.Left;break;case 0:return;default:throw new Error("Invalid LineLegendPosition")}const a=J.orientateAlignment(this,s,n);s=a[0],n=a[1];const l=J.orientateVector(this,new dt(o,0)),h=bt(this.transform(e),l);await t.drawText(h,this.title,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,s,n)}async renderLineAndMarkers(t,e){let s=e;if(this.interpolationAlgorithm){const n=me.resamplePoints(e,this.minimumSegmentLength);s=this.interpolationAlgorithm.createSplineSp(n,!1,.25)}if(this.strokeThickness>0&&this.actualLineStyle!==k.None&&await this.renderLine(t,s),this.markerType!==F.None){const n=this.markerResolution>0?J.transform(this,this.minX,this.minY):ye;await O.drawMarkers(t,e,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.markerResolution,n)}}async renderLine(t,e){const s=this.actualDashArray;this.outputBuffer||(this.outputBuffer=[]),await O.drawReducedLine(t,e,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,s,this.lineJoin,this.outputBuffer)}resetSmoothedPoints(){const t=Math.abs(Math.max(this.maxX-this.minX,this.maxY-this.minY)/Qa.ToleranceDivisor);this._smoothedPoints=this.interpolationAlgorithm.createSplineDp(this.actualPoints,!1,t)}};u(Ja,"ToleranceDivisor",200);let $=Ja;class Bo{constructor(t){u(this,"categoryIndex"),this.categoryIndex=-1,t&&(Mt(t.categoryIndex)||(this.categoryIndex=t.categoryIndex))}getCategoryIndex(t){return this.categoryIndex<0?t:this.categoryIndex}}class L extends Bo{constructor(t){super(t),u(this,"color"),u(this,"value",0),this.color=p.Automatic,t&&Object.assign(this,st(t))}static fromValue(t){return new L({value:t})}}class pi extends Bt{constructor(t){super(t),u(this,"barWidth"),u(this,"itemsSourceItems"),u(this,"strokeColor"),u(this,"strokeThickness",0),u(this,"manager"),u(this,"validItems",[]),u(this,"validItemsIndexInversion",new Map),u(this,"labelColor",p.Undefined),u(this,"labelMargin",0),u(this,"labelAngle",0),u(this,"labelPlacement",mt.Outside),u(this,"items",[]),this.strokeColor=p.Black,this.barWidth=1}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getActualBarWidth(){if(!this.manager)return 0;const t=this.getCategoryAxis();return this.barWidth/(1+t.gapWidth)/this.manager.getMaxWidth()}get categoryAxis(){return this.getCategoryAxis()}getCategoryAxis(){if(!(this.yAxis instanceof K))throw new Error("BarSeries requires a CategoryAxis on the Y Axis.");return this.yAxis}get valueAxis(){return this.xAxis}getItem(t){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(t):this.actualItems[t]}clearItemsSourceItems(){this.itemsSourceItems&&(this.itemsSourceItems.length=0)}isUsing(t){return this.xAxis===t||this.yAxis===t}async renderLabel(t,e,s,n,o,a,l,...h){const m=[];if(h.length)m.push(...h);else if(e instanceof L)m.push(e.value);else if(e instanceof Dt)m.push(e.start),m.push(e.end);else throw e instanceof ge?new Error("RenderLabel does not support automatic determination of label values for TornadoBarItem objects. Please populate the labelValues parameter."):new Error(`RenderLabel automatic value determination not implemented for ${this.constructor.name}. Please populate the labelValues parameter.`);const c=l?l(e,m):"";let g;const f=(a+o)/2,b=Math.sign(n-s);let S=new dt(this.labelMargin,0).times(b),M=new dt(0,0);const T=O.measureText(t,c,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle),C=(J.isTransposed(this)?T.height:T.width)/2,v=J.transform;switch(this.labelPlacement){case mt.Inside:g=v(this,n,f),S=S.negate(),M=new dt(-b*C,0);break;case mt.Outside:g=v(this,n,f),M=new dt(b*C,0);break;case mt.Middle:g=v(this,(n+s)/2,f),S=new dt(0,0);break;case mt.Base:g=v(this,s,f),M=new dt(b*C,0);break;default:throw new Error("Invalid label placement")}const R=J.orientateVector;g=bt(bt(g,R(this,S)),R(this,M)),await t.drawText(g,c,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle,B.Center,D.Middle)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX)}updateData(){this.clearItemsSourceItems(),!(!this.itemsSource||this.itemsSource.length==0)&&(this.updateFromDataFields()||(this.itemsSourceItems||(this.itemsSourceItems=[]),this.itemsSourceItems.push(...this.itemsSource)))}updateValidData(){this.validItems.length=0,this.validItemsIndexInversion.clear();const t=this.manager.categories.length;for(let e=0;e<this.actualItems.length;e++){const s=this.actualItems[e];s&&s.getCategoryIndex(e)<t&&this.isValid(s)&&(this.validItemsIndexInversion.set(this.validItems.length,e),this.validItems.push(s))}}}u(pi,"DefaultCategoryAxisTitle","Category"),u(pi,"DefaultValueAxisTitle","Value");const tr=class er extends pi{constructor(t){super(t),u(this,"defaultFillColor",p.Undefined),u(this,"trackerStringFormatter"),u(this,"baseValue"),u(this,"baseLine"),u(this,"actualBaseLine"),u(this,"colorField"),u(this,"fillColor"),u(this,"isStacked",!1),u(this,"overlapsStack",!1),u(this,"labelStringFormatter"),u(this,"negativeFillColor"),u(this,"stackGroup"),u(this,"valueField"),u(this,"actualBarRectangles"),this.fillColor=p.Automatic,this.negativeFillColor=p.Undefined,this.trackerStringFormatter=er.DefaultTrackerFormatter,this.labelMargin=2,this.labelAngle=0,this.stackGroup="",this.strokeThickness=0,this.baseValue=0,this.baseLine=NaN,this.actualBaseLine=NaN,t&&Object.assign(this,st(t))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(t,e){if(!this.actualBarRectangles||this.validItems.length===0)return;let s=0;for(const n of this.actualBarRectangles){if(n.containsPoint(t)){const o=this.validItems[s],a=o.getCategoryIndex(s),l=d(a,this.validItems[s].value),h=this.getItem(this.validItemsIndexInversion.get(s));return new Ot({series:this,dataPoint:l,position:t,item:h,index:s,text:this.getTrackerText(o,h,a)})}s++}}renderLegend(t,e){const s=(e.left+e.right)/2,n=(e.top+e.bottom)/2,o=(e.bottom-e.top)*.8,a=o;return t.drawRectangle(new N(s-.5*a,n-.5*o,a,o),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.xAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.xAxis.isLogarithmic()){const t=(this.actualItems||[]).map(s=>s.value),e=Lt(t.filter(s=>s>0),1);this.actualBaseLine=Math.max(e/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;const t=this.getCategoryAxis();let e=et,s=ht;const n=this.manager;if(this.isStacked){const o=t.actualLabels;for(let a=0;a<o.length;a++){let l=0;const h=this.validItems.filter(S=>S.getCategoryIndex(l++)===a).map(S=>S.value).concat([0]);let m=h.filter(S=>S<=0).reduce((S,M)=>S+M,0),c=h.filter(S=>S>=0).reduce((S,M)=>S+M,0);const g=n.getStackIndex(this.stackGroup),f=n.getCurrentMinValue(g,a);isNaN(f)||(m+=f),n.setCurrentMinValue(g,a,m);const b=n.getCurrentMaxValue(g,a);!this.overlapsStack&&!isNaN(b)&&(c+=b),n.setCurrentMaxValue(g,a,c),e=Math.min(e,m+this.baseValue),s=Math.max(s,c+this.baseValue)}}else{const o=this.validItems.map(a=>a.value).concat([0]);e=Lt(o),s=Xt(o),this.baseValue<e&&(e=this.baseValue),this.baseValue>s&&(s=this.baseValue)}this.minX=e,this.maxX=s}getTrackerText(t,e,s){if(!this.trackerStringFormatter)return;const n=this.getCategoryAxis(),o=this.xAxis;return this.trackerStringFormatter({item:e,title:this.title,category:n.formatValue(s),value:o==null?void 0:o.getValue(t.value)})}isValid(t){return this.xAxis.isValidValue(t.value)}async renderItem(t,e,s,n,o,a){let l=o.color;l.isAutomatic()&&(l=this.actualFillColor,o.value<0&&!this.negativeFillColor.isUndefined()&&(l=this.negativeFillColor));const h=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await t.drawRectangle(a,this.getSelectableFillColor(l),this.strokeColor,this.strokeThickness,h)}async render(t){if(this.actualBarRectangles=[],this.validItems.length===0)return;const e=this.manager,s=this.yAxis,n=this.xAxis,o=J.transform,a=this.getActualBarWidth(),l=this.isStacked?e.getStackIndex(this.stackGroup):0;for(let h=0;h<this.validItems.length;h++){const m=this.validItems[h],c=m.getCategoryIndex(h),g=m.value;let f=NaN;this.isStacked&&!this.overlapsStack&&(f=e.getCurrentBaseValue(l,c,g<0)),isNaN(f)&&(f=this.baseValue);const b=this.isStacked?f+g:g;if(s.isLogarithmic()&&!s.isValidValue(b))continue;let S;this.isStacked?S=e.getCategoryValue(c,l,a):S=c-.5+e.getCurrentBarOffset(c),this.isStacked&&e.setCurrentBaseValue(l,c,g<0,b);const M=n.isLogarithmic()&&!n.isValidValue(f),T=o(this,M?n.clipMinimum:f,S),C=o(this,b,S+a),v=N.fromScreenPoints(T,C);this.actualBarRectangles.push(v),await this.renderItem(t,b,S,a,m,v),this.labelStringFormatter&&await this.renderLabel(t,m,f,b,S,S+a,this.labelStringFormatter),this.isStacked||e.increaseCurrentBarOffset(c,a)}}updateFromDataFields(){if(!this.valueField)return!1;if(!this.itemsSource||this.itemsSource.length==0)return!0;this.itemsSourceItems=this.itemsSourceItems||[];for(const t of this.itemsSource){if(Mt(t))continue;const e=t[this.valueField],s=new L;s.value=Mt(e)?NaN:e;let n=p.Automatic;this.colorField&&t[this.colorField]&&t[this.colorField]instanceof r&&(n=t[this.colorField]),s.color=n,this.itemsSourceItems.push(s)}return!0}};u(tr,"DefaultTrackerFormatter",i=>`${i.title||""}
${i.category}: ${i.value}`);let G=tr;class an{constructor(t,e,s){if(u(this,"currentBarOffset"),u(this,"currentMaxValue"),u(this,"currentMinValue"),u(this,"currentNegativeBaseValues"),u(this,"currentPositiveBaseValues"),u(this,"maxWidth",NaN),u(this,"_categoryAxis"),u(this,"_series"),u(this,"_valueAxis"),u(this,"_barOffset"),u(this,"_stackedBarOffset"),u(this,"_stackIndexMapping",new Map),!t.plotModel)throw new Error("The category axis must be part of a plot model.");this._categoryAxis=t,this._valueAxis=e,this._series=s;for(const n of this._series)n.manager=this}get categoryAxis(){return this._categoryAxis}get managedSeries(){return this._series}get plotModel(){return this.categoryAxis.plotModel}get valueAxis(){return this._valueAxis}get categories(){return this._categoryAxis.actualLabels}get stackIndexMapping(){return this._stackIndexMapping}getCategoryValue(t,e,s){const n=this._stackedBarOffset[e][t],o=this._stackedBarOffset[e+1][t];return t-.5+(o+n-s)*.5}getCurrentBarOffset(t){return this.currentBarOffset?this.currentBarOffset[t]:0}getCurrentBaseValue(t,e,s){return s?this.currentNegativeBaseValues[t][e]:this.currentPositiveBaseValues[t][e]}getCurrentMaxValue(t,e){return this.currentMaxValue?this.currentMaxValue[t][e]:0}getCurrentMinValue(t,e){return this.currentMinValue?this.currentMinValue[t][e]:0}getMaxWidth(){return this.maxWidth}getStackIndex(t){const e=this._stackIndexMapping.get(t);return xi(e)?-1:e}increaseCurrentBarOffset(t,e){this.currentBarOffset&&(this.currentBarOffset[t]+=e)}initializeRender(){this.resetCurrentValues()}setCurrentBaseValue(t,e,s,n){s?this.currentNegativeBaseValues[t][e]=n:this.currentPositiveBaseValues[t][e]=n}setCurrentMaxValue(t,e,s){this.currentMaxValue[t][e]=s}setCurrentMinValue(t,e,s){this.currentMinValue[t][e]=s}update(){this.categoryAxis.updateLabels(Math.max(...this.managedSeries.map(t=>t.actualItems.length))),this.updateBarOffsets(),this.updateValidData(),this.resetCurrentValues()}static hasCategory(t,e){return t.actualItems.length>e&&t.actualItems[e].categoryIndex<0?!0:t.actualItems.some(s=>s.categoryIndex===e)}resetCurrentValues(){this.currentBarOffset=[...this._barOffset||[]];const t=this.categoryAxis.actualLabels,e=this._stackIndexMapping.size;e>0?(this.currentPositiveBaseValues=qe(e,t.length,Number.NaN),this.currentNegativeBaseValues=qe(e,t.length,Number.NaN),this.currentMaxValue=qe(e,t.length,Number.NaN),this.currentMinValue=qe(e,t.length,Number.NaN)):(this.currentPositiveBaseValues=void 0,this.currentNegativeBaseValues=void 0,this.currentMaxValue=void 0,this.currentMinValue=void 0)}updateBarOffsets(){if(this.categories.length===0){this.maxWidth=Number.NaN,this._stackedBarOffset=void 0,this._stackIndexMapping.clear();return}const t=new Array(this.categories.length).fill(0),e=new Map;this._barOffset=new Array(this.categories.length).fill(0);const s=this.managedSeries.filter(l=>Ma(l)).map(l=>l),n=Array.from(s.filter(l=>l.isStacked).reduce((l,h)=>l.set(h.stackGroup,(l.get(h.stackGroup)||[]).concat(h)),new Map).values());for(const l of n){const h=Math.max(...l.map(m=>m.barWidth));e.set(l[0].stackGroup,h);for(let m=0;m<this.categories.length;m++)l.some(c=>an.hasCategory(c,m))&&(t[m]+=h)}for(const l of this.managedSeries.filter(h=>!Ma(h)||!h.isStacked))for(let h=0;h<this.categories.length;h++){let m=l.actualItems.filter(c=>c.categoryIndex===h).length;l.actualItems.length>h&&l.actualItems[h].categoryIndex<0&&m++,t[h]+=l.barWidth*m}this.maxWidth=Math.max(...t),this._stackedBarOffset=qe(n.length+1,this.categories.length,0);const o=1/(1+this.categoryAxis.gapWidth)/this.maxWidth;for(let l=0;l<this.categories.length;l++)this._barOffset[l]=.5-t[l]*o*.5;for(let l=0;l<n.length;l++){const h=n[l];for(let m=0;m<this.categories.length;m++)this._stackedBarOffset[l][m]=this._barOffset[m],h.some(c=>an.hasCategory(c,m))&&(this._barOffset[m]+=e.get(h[0].stackGroup)*o)}for(let l=0;l<this.categories.length;l++)this._stackedBarOffset[n.length][l]=this._barOffset[l];this._stackIndexMapping.clear();let a=0;for(const l of n.map(h=>h[0].stackGroup).sort())this._stackIndexMapping.set(l,a++)}updateValidData(){for(const t of this.managedSeries)t.updateValidData()}}function Th(i){return i&&!Mt(i.barWidth)&&i.categoryAxis}class Dt extends Bo{constructor(t){super(t),u(this,"color"),u(this,"end",0),u(this,"start",0),u(this,"title"),this.color=p.Automatic,t&&Object.assign(this,st(t))}}const ir=class sr extends pi{constructor(t){super(t),u(this,"defaultFillColor",p.Undefined),u(this,"trackerStringFormatter"),u(this,"colorField"),u(this,"endField"),u(this,"fillColor"),u(this,"isStacked",!0),u(this,"overlapsStack",!0),u(this,"labelStringFormatter",(e,s)=>`${s[0]} - ${s[1]}`),u(this,"stackGroup",""),u(this,"startField"),u(this,"actualBarRectangles",[]),this.fillColor=p.Automatic,this.strokeThickness=1,this.trackerStringFormatter=sr.DefaultTrackerStringFormatter,this.labelMargin=4,this.labelPlacement=mt.Middle,t&&Object.assign(this,st(t))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(t,e){for(let s=0;s<this.actualBarRectangles.length;s++){if(!this.actualBarRectangles[s].containsPoint(t))continue;const n=this.getItem(this.validItemsIndexInversion.get(s)),o=n.getCategoryIndex(s),a=(this.validItems[s].start+this.validItems[s].end)/2,l=d(o,a),h=this.getCategoryAxis(),m=this.xAxis,c=this.trackerStringFormatter({item:n,title:this.title,categoryTitle:h.title??pi.DefaultCategoryAxisTitle,categoryValue:h.formatValue(o),valueTitle:m.title??pi.DefaultValueAxisTitle});return new Ot({series:this,dataPoint:l,position:t,item:n,index:s,text:c})}}async renderLegend(t,e){const s=(e.left+e.right)/2,n=(e.top+e.bottom)/2,o=(e.bottom-e.top)*.8,a=o;await t.drawRectangle(new N(s-.5*a,n-.5*o,a,o),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let t=et,e=ht;for(const s of this.validItems)t=Math.min(t,s.start),t=Math.min(t,s.end),e=Math.max(e,s.start),e=Math.max(e,s.end);this.minX=t,this.maxX=e}isValid(t){return this.xAxis.isValidValue(t.start)&&this.xAxis.isValidValue(t.end)}async render(t){if(this.actualBarRectangles=[],this.validItems.length===0)return;const e=this.getActualBarWidth(),s=this.manager.getStackIndex(this.stackGroup),n=J.transform,o=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);for(let a=0;a<this.validItems.length;a++){const l=this.validItems[a],h=l.getCategoryIndex(a),m=this.manager.getCategoryValue(h,s,e),c=n(this,l.start,m),g=n(this,l.end,m+e),f=N.fromScreenPoints(c,g);this.actualBarRectangles.push(f),await t.drawRectangle(f,this.getSelectableFillColor(l.color.getActualColor(this.actualFillColor)),this.strokeColor,this.strokeThickness,o),this.labelStringFormatter&&await this.renderLabel(t,this.getItem(a),l.start,l.end,m,m+e,this.labelStringFormatter)}}updateFromDataFields(){var t;if(!this.startField||!this.endField||!this.itemsSource)return!1;for(const e of this.itemsSource){const s=$t(e,this.startField,NaN),n=$t(e,this.endField,NaN),o=$t(e,this.colorField,p.Automatic);(t=this.itemsSourceItems)==null||t.push(new Dt({start:s,end:n,color:o}))}return!0}};u(ir,"DefaultTrackerStringFormatter",i=>{var t,e;return`${i.title}
${i.categoryTitle}: ${i.categoryValue}
${i.valueTitle}: ${(t=i.item)==null?void 0:t.start} - ${(e=i.item)==null?void 0:e.end}`});let Xe=ir;function Ma(i){return i&&!xi(i.isStacked)&&typeof i.isStacked=="boolean"&&!xi(i.stackGroup)&&typeof i.stackGroup=="string"}var mt=(i=>(i[i.Outside=0]="Outside",i[i.Inside=1]="Inside",i[i.Middle=2]="Middle",i[i.Base=3]="Base",i))(mt||{});class Si extends L{constructor(t){super(t),u(this,"error",0),this.color=p.Automatic,t&&Object.assign(this,st(t))}}const nr=class or extends G{constructor(t){super(t),u(this,"errorStrokeThickness"),u(this,"errorWidth"),this.errorWidth=.4,this.errorStrokeThickness=1,this.trackerStringFormatter=or.DefaultTrackerStringFormatter,t&&Object.assign(this,st(t))}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let t=et,e=ht;if(!this.isStacked){const s=this.validItems.map(o=>o.value-o.error).concat([0]),n=this.validItems.map(o=>o.value+o.error).concat([0]);t=Lt(s),e=Xt(n),this.baseValue<t&&(t=this.baseValue),this.baseValue>e&&(e=this.baseValue)}this.minX=t,this.maxX=e}async renderItem(t,e,s,n,o,a){await super.renderItem(t,e,s,n,o,a);const l=e-o.error,h=e+o.error,m=.5-this.errorWidth/2,c=.5+this.errorWidth/2,g=s+m*n,f=s+.5*n,b=s+c*n,S=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness),M=J.transform,T=M(this,l,f),C=M(this,h,f);if(await t.drawLine([T,C],this.strokeColor,this.errorStrokeThickness,S,void 0,Q.Miter),this.errorWidth>0){const v=M(this,l,g),R=M(this,l,b);await t.drawLine([v,R],this.strokeColor,this.errorStrokeThickness,S,void 0,Q.Miter);const P=M(this,h,g),I=M(this,h,b);await t.drawLine([P,I],this.strokeColor,this.errorStrokeThickness,S,void 0,Q.Miter)}}};u(nr,"DefaultTrackerStringFormatter",i=>`${i.title||""}
${i.category}: ${i.value}, Error: ${vt(i.item.error,3)}`);let ho=nr;class ar extends Io{constructor(t){super(t),u(this,"rectangles",[]),u(this,"rectanglesPointIndexes",[]),u(this,"defaultColor",p.Undefined),u(this,"fillColor"),u(this,"barWidth"),u(this,"strokeThickness"),u(this,"strokeColor"),u(this,"negativeFillColor"),u(this,"negativeStrokeColor"),u(this,"baseValue"),u(this,"baseLine"),u(this,"actualBaseLine"),this.fillColor=p.Automatic,this.barWidth=5,this.strokeColor=p.Black,this.strokeThickness=0,this.negativeFillColor=p.Undefined,this.negativeStrokeColor=p.Undefined,this.baseValue=0,this.baseLine=Number.NaN,this.actualBaseLine=Number.NaN,t&&Object.assign(this,st(t))}get actualColor(){return this.fillColor.getActualColor(this.defaultColor)}getNearestPoint(t,e){const s=this.findRectangleIndex(t);if(s<0||!this.rectangles[s].containsPoint(t))return;const n=this.rectanglesPointIndexes[s],o=this.actualPoints[n],a=this.getItem(n),l=this.formatDefaultTrackerString(a,o);return new Ot({series:this,dataPoint:o,position:t,item:a,index:n,text:l})}async render(t){this.rectangles.length=0,this.rectanglesPointIndexes.length=0;const e=this.actualPoints;!e||e.length===0||(this.verifyAxes(),await this.renderBars(t,e))}async renderLegend(t,e){const s=(e.left+e.right)/2,n=(e.top+e.bottom)/2,o=(e.bottom-e.top)*.8,a=o;await t.drawRectangle(new N(s-.5*a,n-.5*o,a,o),this.getSelectableColor(this.actualColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.yAxis.isLogarithmic()){const t=this.actualPoints?Lt(this.actualPoints.filter(e=>e.y>0).map(e=>e.y),1):1;this.actualBaseLine=Math.max(t/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}findRectangleIndex(t){let e;return J.isTransposed(this)?e=(s,n)=>s.bottom<t.y?1:s.top>t.y?-1:0:e=(s,n)=>s.right<t.x?-1:s.left>t.x?1:0,this.rectangles.findIndex(s=>e(s,N.Empty)===0)}async renderBars(t,e){const s=this.yAxis.isLogarithmic()&&!this.yAxis.isValidValue(this.baseValue),n=this.getBarWidth(e)/2,o=J.orientateVector(this,new dt(n,0)),a=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);for(let l=0;l<e.length;l++){const h=e[l];if(!this.isValidPoint(h))continue;const m=ke(this.transform(h),o),c=this.transform(d(h.x,s?this.yAxis.clipMinimum:this.baseValue)),g=bt(c,o),f=N.fromScreenPoints(g,m);this.rectangles.push(f),this.rectanglesPointIndexes.push(l);const b=this.getBarColors(h.y);await t.drawRectangle(f,b.fillColor,b.strokeColor,this.strokeThickness,a)}}getBarWidth(t){let e=this.barWidth/this.xAxis.scale;for(let s=1;s<t.length;s++){const n=t[s].x-t[s-1].x;n<e&&(e=n)}return e*this.xAxis.scale}getBarColors(t){const e=t>=this.baseValue,s=e||this.negativeFillColor.isUndefined()?this.getSelectableFillColor(this.actualColor):this.negativeFillColor,n=e||this.negativeStrokeColor.isUndefined()?this.strokeColor:this.negativeStrokeColor;return{fillColor:s,strokeColor:n}}}class ge extends Bo{constructor(t){super(t),u(this,"baseValue"),u(this,"maximum"),u(this,"maximumColor"),u(this,"minimum"),u(this,"minimumColor"),this.minimum=NaN,this.maximum=NaN,this.baseValue=NaN,this.minimumColor=p.Automatic,this.maximumColor=p.Automatic,t&&Object.assign(this,st(t))}}const rr=class lr extends pi{constructor(t){super(t),u(this,"defaultMaximumFillColor",p.Undefined),u(this,"defaultMinimumFillColor",p.Undefined),u(this,"baseField"),u(this,"baseValue",NaN),u(this,"maximumColorField"),u(this,"maximumField"),u(this,"maximumFillColor"),u(this,"maximumLabelStringFormatter"),u(this,"minimumColorField"),u(this,"minimumField"),u(this,"minimumFillColor"),u(this,"minimumLabelStringFormatter"),u(this,"actualMaximumBarRectangles",[]),u(this,"actualMinimumBarRectangles",[]),this.maximumFillColor=r.fromRgb(216,82,85),this.minimumFillColor=r.fromRgb(84,138,209),this.strokeColor=p.Black,this.strokeThickness=1,this.trackerStringFormatter=lr.defaultTrackerStringFormatter,this.labelMargin=4,this.minimumLabelStringFormatter=(e,s)=>s[0].toString(),this.maximumLabelStringFormatter=(e,s)=>s[0].toString(),t&&Object.assign(this,st(t))}get actualMaximumFillColor(){return this.maximumFillColor.getActualColor(this.defaultMaximumFillColor)}get actualMinimumFillColor(){return this.minimumFillColor.getActualColor(this.defaultMinimumFillColor)}getNearestPoint(t,e){for(let s=0;s<this.actualMinimumBarRectangles.length;s++){const n=this.actualMinimumBarRectangles[s].containsPoint(t),o=this.actualMaximumBarRectangles[s].containsPoint(t);if(n||o){const a=this.getItem(this.validItemsIndexInversion.get(s)),l=a.getCategoryIndex(s),h=o?this.validItems[s].maximum:this.validItems[s].minimum,m=d(l,h),c=this.getCategoryAxis(),g=this.trackerStringFormatter({item:a,title:this.title,yTitle:c.title??pi.DefaultCategoryAxisTitle,yValue:c.formatValue(l),xTitle:this.xAxis.title??pi.DefaultValueAxisTitle,xValue:this.xAxis.getValue(h)});return new Ot({series:this,dataPoint:m,position:t,item:a,index:s,text:g})}}}async render(t){if(this.actualMinimumBarRectangles=[],this.actualMaximumBarRectangles=[],this.validItems.length===0)return;const e=this.getActualBarWidth();for(let s=0;s<this.validItems.length;s++){const n=this.validItems[s],o=n.getCategoryIndex(s),a=isNaN(n.baseValue)?this.baseValue:n.baseValue,l=this.manager.getCurrentBarOffset(o),h=o-.5+l,m=h+e,c=J.transform,g=c(this,n.minimum,h),f=c(this,n.maximum,h),b=c(this,a,h+e),S=N.fromScreenPoints(g,b),M=N.fromScreenPoints(f,b);this.actualMinimumBarRectangles.push(S),this.actualMaximumBarRectangles.push(M);const T=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await t.drawRectangle(S,n.minimumColor.getActualColor(this.actualMinimumFillColor),this.strokeColor,this.strokeThickness,T),await t.drawRectangle(M,n.maximumColor.getActualColor(this.actualMaximumFillColor),this.strokeColor,this.strokeThickness,T),this.minimumLabelStringFormatter&&await this.renderLabel(t,n,a,n.minimum,h,m,this.minimumLabelStringFormatter,n.minimum),this.maximumLabelStringFormatter&&await this.renderLabel(t,n,a,n.maximum,h,m,this.maximumLabelStringFormatter,n.maximum)}}async renderLegend(t,e){const s=(e.left+e.right)/2,n=(e.top+e.bottom)/2,o=(e.bottom-e.top)*.8,a=o,l=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await t.drawRectangle(new N(s-.5*a,n-.5*o,.5*a,o),this.actualMinimumFillColor,this.strokeColor,this.strokeThickness,l),await t.drawRectangle(new N(s,n-.5*o,.5*a,o),this.actualMaximumFillColor,this.strokeColor,this.strokeThickness,l)}setDefaultValues(){this.maximumFillColor.isAutomatic()&&(this.defaultMaximumFillColor=this.plotModel.getDefaultColor()),this.minimumFillColor.isAutomatic()&&(this.defaultMinimumFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let t=et,e=ht;for(const s of this.validItems)t=Math.min(t,s.minimum),e=Math.max(e,s.maximum);this.minX=t,this.maxX=e}isValid(t){return this.xAxis.isValidValue(t.minimum)&&this.xAxis.isValidValue(t.maximum)}updateFromDataFields(){if(!this.minimumField||!this.maximumField||!this.itemsSource)return!1;this.itemsSourceItems?this.itemsSourceItems.length=0:this.itemsSourceItems=[];for(const t of this.itemsSource){if(!t)continue;if(t instanceof ge){this.itemsSourceItems.push(t);continue}const e=$t(t,this.minimumField,Number.NaN),s=$t(t,this.maximumField,Number.NaN),n=$t(t,this.baseField,Number.NaN),o=$t(t,this.minimumColorField,p.Automatic),a=$t(t,this.maximumColorField,p.Automatic);this.itemsSourceItems.push(new ge({minimum:e,maximum:s,baseValue:n,minimumColor:o,maximumColor:a}))}return!0}};u(rr,"defaultTrackerStringFormatter",i=>`${i.title||""}
${i.yTitle}: ${i.yValue}
${i.xTitle}: ${i.xValue}`);let ri=rr;const hr=class mr extends Bt{constructor(t){super(t),u(this,"defaultFillColor",p.Undefined),u(this,"fillColor"),u(this,"items"),u(this,"labelStringFormatter"),u(this,"strokeColor"),u(this,"strokeThickness"),u(this,"actualBarRectangles",[]),u(this,"actualItems",[]),this.items=[],this.fillColor=p.Automatic,this.strokeColor=p.Black,this.strokeThickness=1,this.trackerStringFormatter=mr.defaultTrackerStringFormatter,this.labelStringFormatter=(e,s)=>`${s[4]||""}`,t&&Object.assign(this,st(t))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(t,e){if(!(!this.actualBarRectangles||!this.actualItems)){for(let s=0;s<this.actualBarRectangles.length;s++)if(this.actualBarRectangles[s].containsPoint(t)){const n=(this.actualItems[s].y0+this.actualItems[s].y1)/2,o=t,a=d(s,n),l=this.actualItems[s],h=this.formatDefaultTrackerString(l,d(this.actualItems[s].x0,this.actualItems[s].y0),m=>{m.x1Value=this.xAxis.getValue(this.actualItems[s].x1),m.y1Value=this.yAxis.getValue(this.actualItems[s].y1)});return new Ot({series:this,dataPoint:a,position:o,item:l,index:s,text:h})}}}async render(t){if(this.items.length===0)return;let e=0,s=et;if(this.actualBarRectangles=[],this.actualItems=[],this.isXMonotonic){const a=this.xAxis.clipMinimum;s=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(this.items,l=>l.x0,a,this.windowStartIndex),e=this.windowStartIndex}const n=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);let o=0;for(let a=e;a<this.items.length;a++){const l=this.items[a];if(!this.isValid(l.x0)||!this.isValid(l.x1)||!this.isValid(l.y0)||!this.isValid(l.y1))continue;const h=J.transform,m=h(this,l.x0,l.y0),c=h(this,l.x1,l.y1),g=N.create(m.x,m.y,c.x,c.y);if(this.actualBarRectangles.push(g),this.actualItems.push(l),await t.drawRectangle(g,this.getSelectableFillColor(l.color.getActualColor(this.actualFillColor)),this.strokeColor,this.strokeThickness,n),this.labelStringFormatter){const f=this.labelStringFormatter(this.getItem(a),[l.x0,l.x1,l.y0,l.y1,l.title]),b=A((g.left+g.right)/2,(g.top+g.bottom)/2);await t.drawText(b,f,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,B.Center,D.Middle)}if(o+=l.x0>s?1:0,o>1)break}}async renderLegend(t,e){const s=(e.left+e.right)/2,n=(e.top+e.bottom)/2,o=(e.bottom-e.top)*.8,a=o;await t.drawRectangle(new N(s-.5*a,n-.5*o,a,o),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource)throw this.items=[],new Error("Not implemented")}updateMaxMin(){if(super.updateMaxMin(),this.isXMonotonic=!0,this.items===null||this.items.length===0)return;let t=et,e=ht,s=et,n=ht,o=ht,a=ht;for(const l of this.items)(l.x0<o||l.x1<a)&&(this.isXMonotonic=!1),t=Math.min(t,Math.min(l.x0,l.x1)),e=Math.max(e,Math.max(l.x1,l.x0)),s=Math.min(s,Math.min(l.y0,l.y1)),n=Math.max(n,Math.max(l.y0,l.y1)),o=l.x0,a=l.x1;this.minX=t,this.maxX=e,this.minY=s,this.maxY=n}isValid(t){return!isNaN(t)&&isFinite(t)}};u(hr,"defaultTrackerStringFormatter",i=>`${i.title}
${i.xTitle}: ${i.xValue} ${i.x1Value}  
${i.yTitle}: ${i.yValue} ${i.y1Value}`);let ka=hr;function as(i,t,e,s=NaN,n=NaN){return{x:i,high:t,low:e,open:s,close:n}}const ur=class cr extends Bt{constructor(t){super(t),u(this,"_items",[]),u(this,"defaultColor",p.Undefined),u(this,"trackerStringFormatter"),u(this,"color"),u(this,"dashes"),u(this,"dataFieldClose"),u(this,"dataFieldHigh"),u(this,"dataFieldLow"),u(this,"dataFieldOpen"),u(this,"dataFieldX"),u(this,"lineJoin",Q.Miter),u(this,"lineStyle",k.Solid),u(this,"mapping"),u(this,"strokeThickness"),u(this,"tickLength"),this.color=p.Automatic,this.tickLength=4,this.strokeThickness=1,this.trackerStringFormatter=cr.DefaultTrackerStringFormatter,t&&Object.assign(this,st(t))}get actualColor(){return this.color.getActualColor(this.defaultColor)}get items(){return this._items}getNearestPoint(t,e){if(!this.xAxis||!this.yAxis||e)return;let s=et,n;const o=(a,l,h)=>{const m=this.transform(a),c=m.x-t.x,g=m.y-t.y,f=c*c+g*g;if(f<s){const b=this.formatHighLowItemTrackerString(l);n=new Ot({series:this,dataPoint:a,position:m,item:l,index:h,text:b}),s=f}};for(let a=0;a<this.items.length;a++){const l=this.items[a];o(d(l.x,l.high),l,a),o(d(l.x,l.low),l,a),o(d(l.x,l.open),l,a),o(d(l.x,l.close),l,a)}if(s<et)return n}formatHighLowItemTrackerString(t){return this.trackerStringFormatter&&this.trackerStringFormatter({item:t,title:this.title||"",xTitle:this.xAxis.title??Bt.defaultXAxisTitle,xValue:this.xAxis.getValue(t.x),high:this.yAxis.getValue(t.high),low:this.yAxis.getValue(t.low),open:this.yAxis.getValue(t.open),close:this.yAxis.getValue(t.close)})||""}isValidItem(t,e,s){return!isNaN(t.x)&&isFinite(t.x)&&!isNaN(t.high)&&isFinite(t.high)&&!isNaN(t.low)&&isFinite(t.low)}async render(t){if(this.items.length===0)return;this.verifyAxes();const e=Ft.getDashArray(this.lineStyle),s=this.getSelectableColor(this.actualColor),n=J.transform;for(const o of this.items)if(this.isValidItem(o,this.xAxis,this.yAxis)&&this.strokeThickness>0&&this.lineStyle!==k.None){const a=n(this,o.x,o.high),l=n(this,o.x,o.low);await t.drawLine([l,a],s,this.strokeThickness,this.edgeRenderingMode,e,this.lineJoin);const h=J.orientateVector(this,new dt(this.tickLength,0));if(!isNaN(o.open)){const m=n(this,o.x,o.open),c=ke(m,h);await t.drawLine([m,c],s,this.strokeThickness,this.edgeRenderingMode,e,this.lineJoin)}if(!isNaN(o.close)){const m=n(this,o.x,o.close),c=bt(m,h);await t.drawLine([m,c],s,this.strokeThickness,this.edgeRenderingMode,e,this.lineJoin)}}}async renderLegend(t,e){const s=(e.left+e.right)/2,n=e.top+(e.bottom-e.top)*.7,o=e.top+(e.bottom-e.top)*.3,a=Ft.getDashArray(this.lineStyle),l=this.getSelectableColor(this.actualColor);this.strokeThickness>0&&this.lineStyle!==k.None&&(await t.drawLine([A(s,e.top),A(s,e.bottom)],l,this.strokeThickness,this.edgeRenderingMode,a,Q.Miter),await t.drawLine([A(s-this.tickLength,n),A(s,n)],l,this.strokeThickness,this.edgeRenderingMode,a,Q.Miter),await t.drawLine([A(s+this.tickLength,o),A(s,o)],l,this.strokeThickness,this.edgeRenderingMode,a,Q.Miter))}setDefaultValues(){this.color.isAutomatic()&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource){if(this._items.length=0,this.mapping){for(const t of this.itemsSource)this._items.push(this.mapping(t));return}for(const t of this.itemsSource){if(!t)continue;if("high"in t&&"low"in t&&"x"in t){this._items.push(t);continue}if(!this.dataFieldX||!this.dataFieldHigh||!this.dataFieldLow)throw new Error("HighLowSeries: dataFieldX, dataFieldHigh and dataFieldLow are required");const e=$t(t,this.dataFieldX,NaN),s=$t(t,this.dataFieldHigh,NaN),n=$t(t,this.dataFieldLow,NaN),o=$t(t,this.dataFieldOpen,NaN),a=$t(t,this.dataFieldClose,NaN);this._items.push({x:e,high:s,low:n,open:o,close:a})}}}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin2(this.items,t=>t.x,t=>t.x,t=>t.low,t=>t.high)}};u(ur,"DefaultTrackerStringFormatter",i=>`${i.title}
${i.xTitle}: ${i.xValue}
High: ${vt(i.high,3)}
Low: ${vt(i.low,3)}
Open: ${vt(i.open,3)}
Close: ${vt(i.close,3)}`);let Do=ur;const mo=class{constructor(t=NaN,e,s){u(this,"x"),u(this,"buyVolume"),u(this,"sellVolume"),this.x=t||NaN,this.buyVolume=e,this.sellVolume=s}static findIndex(t,e,s){let n=0,o=0,a=t.length-1;for(;o<=a;){if(s<o)return n;if(s>a)return a;const l=t[s].x;if(l===e)return s;if(l>e){if(a=s-1,a<o)return n;if(a===o)return a}else o=s+1,n=s;if(o>=a)return n;const h=t[a].x,m=t[o].x,c=(a-o+1)/(h-m);s=o+Math.round((e-m)*c)}return n}isValid(){return!isNaN(this.x)&&!isNaN(this.buyVolume)&&!isNaN(this.sellVolume)}};u(mo,"Undefined",new mo(NaN,NaN,NaN));let uo=mo;var ti=(i=>(i[i.None=0]="None",i[i.Combined=1]="Combined",i[i.Stacked=2]="Stacked",i[i.PositiveNegative=3]="PositiveNegative",i))(ti||{});const dr=class pr extends Bt{constructor(t){super(t),u(this,"data",[]),u(this,"minDx",0),u(this,"winIndex",0),u(this,"volumeStyle"),u(this,"strokeThickness"),u(this,"strokeIntensity"),u(this,"positiveColor"),u(this,"negativeColor"),u(this,"interceptColor"),u(this,"interceptStrokeThickness"),u(this,"interceptLineStyle"),u(this,"positiveHollow"),u(this,"negativeHollow"),u(this,"barWidth"),u(this,"minimumVolume",0),u(this,"maximumVolume",0),u(this,"averageVolume",0),this.positiveColor=p.DarkGreen,this.negativeColor=p.Red,this.barWidth=0,this.strokeThickness=1,this.negativeHollow=!1,this.positiveHollow=!0,this.strokeIntensity=.8,this.volumeStyle=1,this.interceptColor=p.Gray,this.interceptLineStyle=k.Dash,this.interceptStrokeThickness=1,this.trackerStringFormatter=pr.DefaultTrackerStringFormatter,t&&Object.assign(this,st(t))}get items(){return this.data}set items(t){this.data=t}append(t){if(this.data===null&&(this.data=[]),this.data.length>0&&this.data[this.data.length-1].x>t.x)throw new Error("cannot append bar out of order, must be sequential in X");this.data.push(t)}async render(t){if(this.data===null||this.data.length===0)return;const e=this.data,s=this.data.length;this.verifyAxes();const n=this.getClippingRect();this.barWidth>0?this.barWidth:this.minDx*.8;const o=this.getSelectableFillColor(this.positiveColor),a=this.getSelectableFillColor(this.negativeColor),l=this.positiveHollow?p.Transparent:o,h=this.negativeHollow?p.Transparent:a,m=xe.changeIntensity(this.positiveColor,this.strokeIntensity),c=xe.changeIntensity(this.negativeColor,this.strokeIntensity),g=this.getSelectableColor(m),f=this.getSelectableColor(c),b=this.xAxis.clipMinimum,S=this.xAxis.clipMaximum;this.winIndex=uo.findIndex(e,b,this.winIndex);const M=J.transform;for(let T=this.winIndex;T<s;T++){const C=e[T];if(C.x>S)break;if(!C.isValid())continue;const v=this.getBuyBarRect(C),R=this.getSellBarRect(C);switch(this.volumeStyle){case 1:{const P=C.buyVolume>C.sellVolume?l:h,I=C.buyVolume>C.sellVolume?g:f;await t.drawRectangle(v,P,I,this.strokeThickness,this.edgeRenderingMode)}break;case 3:await t.drawRectangle(v,o,g,this.strokeThickness,this.edgeRenderingMode),await t.drawRectangle(R,a,f,this.strokeThickness,this.edgeRenderingMode);break;case 2:{await t.drawRectangle(v,o,g,this.strokeThickness,this.edgeRenderingMode),await t.drawRectangle(R,a,f,this.strokeThickness,this.edgeRenderingMode);break}case 0:break;default:throw new Error("Invalid VolumeStyle")}}if(this.interceptStrokeThickness>0&&this.interceptLineStyle!==k.None){const T=this.inverseTransform(n.bottomLeft),C=this.inverseTransform(n.topRight),v=M(this,T.x,0),R=M(this,C.x,0);await t.drawLine([v,R],this.interceptColor,this.interceptStrokeThickness,this.edgeRenderingMode,Ft.getDashArray(this.interceptLineStyle),Q.Miter)}}getBuyBarRect(t){const e=J.transform,s=(this.barWidth>0?this.barWidth:this.minDx*.8)*.5,n=e(this,t.x-s,0);switch(this.volumeStyle){case 1:{const o=e(this,t.x+s,Math.abs(t.buyVolume-t.sellVolume));return N.fromScreenPoints(n,o)}case 3:{const o=e(this,t.x+s,t.buyVolume);return N.fromScreenPoints(n,o)}case 2:{const o=e(this,t.x+s,t.buyVolume),a=e(this,t.x+s,t.sellVolume),l=e(this,t.x-s,t.buyVolume+t.sellVolume);return t.buyVolume>t.sellVolume?N.fromScreenPoints(a,l):N.fromScreenPoints(n,o)}}throw new Error("Invalid VolumeStyle")}getSellBarRect(t){const e=J.transform,s=(this.barWidth>0?this.barWidth:this.minDx*.8)*.5,n=e(this,t.x-s,0);switch(this.volumeStyle){case 1:{const o=e(this,t.x+s,Math.abs(t.buyVolume-t.sellVolume));return N.fromScreenPoints(n,o)}case 3:{const o=e(this,t.x+s,-t.sellVolume);return N.fromScreenPoints(n,o)}case 2:{const o=e(this,t.x+s,t.buyVolume),a=e(this,t.x+s,t.sellVolume),l=e(this,t.x-s,t.buyVolume+t.sellVolume);return t.buyVolume>t.sellVolume?N.fromScreenPoints(n,a):N.fromScreenPoints(o,l)}}throw new Error("Invalid VolumeStyle")}async renderLegend(t,e){const s=(e.left+e.right)/2,n=e.top+(e.bottom-e.top)*.7,o=e.top+(e.bottom-e.top)*.3,a=Ft.getDashArray(k.Solid),l=this.getSelectableFillColor(this.positiveColor),h=this.getSelectableColor(xe.changeIntensity(this.positiveColor,this.strokeIntensity)),m=e.width*.75;this.strokeThickness>0&&(await t.drawLine([A(s,e.top),A(s,e.bottom)],h,this.strokeThickness,this.edgeRenderingMode,a,Q.Miter),await t.drawRectangle(new N(s-m*.5,o,m,n-o),l,h,this.strokeThickness,this.edgeRenderingMode))}getNearestPoint(t,e){if(!this.xAxis||!this.yAxis||e||!this.data||this.data.length===0)return;const s=this.data.length,n=this.inverseTransform(t),o=n.x;if(o>this.data[s-1].x+this.minDx||o<this.data[0].x-this.minDx)return;const a=uo.findIndex(this.data,o,this.winIndex),l=a+1<this.data.length?a+1:a,h=b=>{const S=b.x-n.x;return S*S},m=h(this.data[a])<=h(this.data[l])?a:l,c=this.data[m];let g=!1;if(this.getBuyBarRect(c).containsPoint(t)&&(g=!0),g||this.getSellBarRect(c).containsPoint(t)&&(g=!0),g)return;const f=this.formatDefaultTrackerString(c,d(c.x,0));return new Ot({series:this,dataPoint:n,position:t,item:c,index:m,text:f})}updateData(){if(super.updateData(),this.winIndex=0,!this.data||this.data.length===0)return;const t=this.data,e=t.length;this.minDx=et;for(let s=1;s<e;s++)if(this.minDx=Math.min(this.minDx,t[s].x-t[s-1].x),this.minDx<0)throw new Error("bars are out of order, must be sequential in x");e<=1&&(this.minDx=1)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX);let t=this.minimumVolume,e=this.maximumVolume;const s=this.averageVolume,n=(e-t)/4;switch(this.volumeStyle){case 3:t=-(s+n/2),e=+(s+n/2);break;case 2:e=s+n,t=0;break;default:e=s+n/2,t=0;break}t=Math.max(this.yAxis.filterMinValue,t),e=Math.min(this.yAxis.filterMaxValue,e),this.yAxis.include(t),this.yAxis.include(e)}updateMaxMin(){super.updateMaxMin();let t=et,e=ht,s=0,n=ht,o=0,a=0;for(const l of this.items)l.isValid()&&(l.sellVolume>0&&o++,l.buyVolume>0&&o++,a+=l.buyVolume,a+=l.sellVolume,t=Math.min(t,l.x),e=Math.max(e,l.x),s=Math.min(s,-l.sellVolume),n=Math.max(n,+l.buyVolume));this.minX=Math.max(this.xAxis.filterMinValue,t),this.maxX=Math.min(this.xAxis.filterMaxValue,e),this.minimumVolume=s,this.maximumVolume=n,this.averageVolume=a/o}};u(dr,"DefaultTrackerStringFormatter",i=>{const t=i.item;return`Time: ${i.xValue}
Buy Volume: ${t.buyVolume}
Sell Volume: ${t.sellVolume}`});let Ch=dr;class gn extends Do{constructor(t){super(),u(this,"minDx",0),u(this,"increasingColor"),u(this,"decreasingColor"),u(this,"candleWidth"),this.increasingColor=p.DarkGreen,this.decreasingColor=p.Red,this.candleWidth=0,t&&Object.assign(this,st(t))}findByX(t,e=-1){return e<0&&(e=this.windowStartIndex),this.findWindowStartIndex(this.items,s=>s.x,t,e)}async render(t){const e=this.items.length,s=this.items;if(e===0||this.strokeThickness<=0||this.lineStyle===k.None)return;this.verifyAxes();const n=Ft.getDashArray(this.lineStyle),o=.5*(this.candleWidth>0?this.candleWidth:this.minDx*.8),a=this.getSelectableFillColor(this.increasingColor),l=this.getSelectableFillColor(this.decreasingColor),h=this.getSelectableColor(xe.changeIntensity(this.increasingColor,.7)),m=this.getSelectableColor(xe.changeIntensity(this.decreasingColor,.7)),c=this.xAxis.clipMinimum,g=this.xAxis.clipMaximum;this.windowStartIndex=this.updateWindowStartIndex(s,b=>b.x,c,this.windowStartIndex);const f=J.transform;for(let b=this.windowStartIndex;b<e;b++){const S=s[b];if(S.x>g)return;if(!this.isValidItem(S,this.xAxis,this.yAxis))continue;const M=S.close>S.open?a:l,T=S.close>S.open?h:m,C=f(this,S.x,S.high),v=f(this,S.x,S.low),R=f(this,S.x,Math.max(S.open,S.close)),P=f(this,S.x,Math.min(S.open,S.close));this.strokeThickness>0&&(await t.drawLine([C,R],T,this.strokeThickness,this.edgeRenderingMode,n,this.lineJoin),await t.drawLine([P,v],T,this.strokeThickness,this.edgeRenderingMode,n,this.lineJoin));const I=f(this,S.x-o,S.open),V=f(this,S.x+o,S.close),_=N.fromScreenPoints(I,V);await t.drawRectangle(_,M,T,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(t,e){const s=(e.left+e.right)/2,n=e.top+(e.bottom-e.top)*.7,o=e.top+(e.bottom-e.top)*.3,a=Ft.getDashArray(this.lineStyle),l=e.width*.75;this.strokeThickness>0&&this.lineStyle!==k.None&&await t.drawLine([A(s,e.top),A(s,e.bottom)],this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,a,Q.Miter),await t.drawRectangle(new N(s-l*.5,o,l,n-o),this.getSelectableFillColor(this.increasingColor),this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode)}getNearestPoint(t,e){if(!this.xAxis||!this.yAxis||e||this.items.length===0)return;const s=this.items.length,n=this.inverseTransform(t),o=n.x;if(o>this.items[s-1].x+this.minDx||o<this.items[0].x-this.minDx)return;const a=this.findWindowStartIndex(this.items,b=>b.x,o,this.windowStartIndex),l=a+1<this.items.length?a+1:a,h=b=>{const S=b.x-n.x,M=b.open-n.y,T=b.high-n.y,C=b.low-n.y,v=b.close-n.y,R=S*S+M*M,P=S*S+T*T,I=S*S+C*C,V=S*S+v*v;return Math.min(R,Math.min(P,Math.min(I,V)))},m=h(this.items[a])<=h(this.items[l])?a:l,c=this.items[m],g=d(c.x,c.close),f=this.formatHighLowItemTrackerString(c);return new Ot({series:this,dataPoint:g,position:this.transform(g),item:c,index:m,text:f})}updateData(){super.updateData();const t=this.items,e=t.length;this.minDx=et;for(let s=1;s<e;s++)if(this.minDx=Math.min(this.minDx,t[s].x-t[s-1].x),this.minDx<0)throw new Error("bars are out of order, must be sequential in x");e<=1&&(this.minDx=1)}}class tt extends ${constructor(t){if(super(t),t.title&&(this.title=t.title),t.f){t.dx?this.f1(t.f,t.x0,t.x1,t.dx):t.n&&this.f2(t.f,t.x0,t.x1,t.n);return}t.fx&&t.fy&&(t.dt?this.f3(t.fx,t.fy,t.t0,t.t1,t.dt):t.n&&this.f4(t.fx,t.fy,t.t0,t.t1,t.n))}static fromDx(t,e,s,n,o){return new tt({f:t,x0:e,x1:s,dx:n,title:o})}static fromN(t,e,s,n,o){return Hn(n,"n"),new tt({f:t,x0:e,x1:s,n,title:o})}static fromFxFyDt(t,e,s,n,o,a){return new tt({fx:t,fy:e,t0:s,t1:n,dt:o,title:a})}static fromFxFyN(t,e,s,n,o,a){return Hn(o,"n"),new tt({fx:t,fy:e,t0:s,t1:n,n:o,title:a})}f1(t,e,s,n){for(let o=e;o<=s+n*.5;o+=n)this.points.push(d(o,t(o)))}f2(t,e,s,n){this.f1(t,e,s,(s-e)/(n-1))}f3(t,e,s,n,o){for(let a=s;a<=n+o*.5;a+=o)this.points.push(d(t(a),e(a)))}f4(t,e,s,n,o){this.f3(t,e,s,n,(n-s)/(o-1))}}class Pe{constructor(t,e,s,n,o=p.Automatic){u(this,"rangeStart"),u(this,"rangeEnd"),u(this,"area"),u(this,"count"),u(this,"color"),this.rangeStart=t,this.rangeEnd=e,this.area=s,this.count=n,this.color=o}get rangeCenter(){return this.rangeStart+(this.rangeEnd-this.rangeStart)/2}get width(){return this.rangeEnd-this.rangeStart}get height(){return this.area/this.width}get value(){return this.height}contains(t){return this.height<0?t.x<=this.rangeEnd&&t.x>=this.rangeStart&&t.y>=this.height&&t.y<=0||t.x<=this.rangeStart&&t.x>=this.rangeEnd&&t.y>=this.height&&t.y<=0:t.x<=this.rangeEnd&&t.x>=this.rangeStart&&t.y<=this.height&&t.y>=0||t.x<=this.rangeStart&&t.x>=this.rangeEnd&&t.y<=this.height&&t.y>=0}toString(){return`${this.rangeStart} ${this.rangeEnd} ${this.area} ${this.count}`}}const gr=class xr extends Bt{constructor(t){super(t),u(this,"defaultFillColor",p.Undefined),u(this,"_actualItems"),u(this,"baseValue"),u(this,"baseLine"),u(this,"actualBaseLine"),u(this,"fillColor"),u(this,"strokeColor"),u(this,"negativeFillColor"),u(this,"negativeStrokeColor"),u(this,"strokeThickness"),u(this,"minValue",0),u(this,"maxValue",0),u(this,"labelStringFormatter"),u(this,"trackerStringFormatter"),u(this,"labelMargin",0),u(this,"labelPlacement"),u(this,"colorMapping"),u(this,"mapping"),u(this,"items",[]),this.fillColor=p.Automatic,this.strokeColor=p.Black,this.strokeThickness=0,this.trackerStringFormatter=xr.defaultTrackerStringFormatter,this.labelPlacement=mt.Outside,this.colorMapping=this.getDefaultColor,this.negativeFillColor=p.Undefined,this.negativeStrokeColor=p.Undefined,this.baseValue=0,this.baseLine=NaN,this.actualBaseLine=NaN,t&&Object.assign(this,st(t))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(t){this.verifyAxes(),await this.renderBins(t,this.actualItems)}getNearestPoint(t,e){const s=this.inverseTransform(t);if(this.isPointInRange(s)&&this.actualItems)for(let n=0;n<this.actualItems.length;n++){const o=this.actualItems[n];if(o.contains(s)){const a=this.getItem(n);return new Ot({series:this,dataPoint:s,position:t,item:a,index:n,text:this.formatDefaultTrackerString(o,s)})}}}async renderLegend(t,e){const s=(e.left+e.right)/2,n=(e.top+e.bottom)/2,o=(e.bottom-e.top)*.8,a=o,l=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await t.drawRectangle(new N(s-.5*a,n-.5*o,a,o),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,l)}updateData(){this.itemsSource&&this.updateActualItems()}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.yAxis.isLogarithmic()){const t=this.actualItems?Lt(this.actualItems.map(e=>e.value).filter(e=>e>0),1):1;this.actualBaseLine=Math.max(t/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const t=this.actualItems.map(n=>n.rangeStart),e=this.actualItems.map(n=>n.rangeEnd),s=this.actualItems.map(n=>n.height);this.minX=Math.min(Lt(t),Lt(e)),this.maxX=Math.max(Xt(t),Xt(e)),this.yAxis.isLogarithmic()?(this.minY=Math.max(Lt(s),Number.EPSILON),this.maxY=Xt(s,Number.EPSILON)):(this.minY=Lt(s,0),this.maxY=Xt(s,0))}}updateMaxMin(){super.updateMaxMin();const t=[];if(ui(t,this.actualItems.map(e=>d(e.rangeStart,0))),ui(t,this.actualItems.map(e=>d(e.rangeEnd,e.height))),this.internalUpdateMaxMin(t),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const e=this.actualItems.map(s=>s.value);this.minValue=Lt(e),this.maxValue=Xt(e)}}getItem(t){const e=this.actualItems;return!this.itemsSource&&e&&t<e.length?e[t]:super.getItem(t)}async renderBins(t,e){const s=this.yAxis,n=s.isLogarithmic()&&!s.isValidValue(this.baseValue);for(const o of e){if(s.isLogarithmic()&&!s.isValidValue(o.height))continue;const a=this.getItemFillColor(o),l=this.getItemStrokeColor(o),h=this.transform(d(o.rangeStart,n?s.clipMinimum:this.baseValue)),m=this.transform(d(o.rangeEnd,o.height)),c=N.fromScreenPoints(h,m),g=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await t.drawRectangle(c,a,l,this.strokeThickness,g),this.labelStringFormatter&&await this.renderLabel(t,c,o)}}getItemFillColor(t){return t.color.isAutomatic()?this.colorMapping(t):t.color}getItemStrokeColor(t){return this.negativeStrokeColor.isUndefined()||t.height>=this.baseValue?this.strokeColor:this.negativeStrokeColor}async renderLabel(t,e,s){const n=this.labelStringFormatter(s,[s.value,s.rangeStart,s.rangeEnd,s.area,s.count]);let o,a,l=B.Center;const h=(s.rangeStart+s.rangeEnd)/2,m=Math.sign(s.value);let c=m*this.labelMargin;switch(this.labelPlacement){case mt.Inside:o=d(h,s.value),a=-m;break;case mt.Middle:{const S=this.inverseTransform(e.topLeft),M=this.inverseTransform(e.bottomRight);o=d(h,(S.y+M.y)/2),a=D.Middle;break}case mt.Base:o=d(h,0),c=-c,a=m;break;case mt.Outside:o=d(h,s.value),c=-c,a=m;break;default:throw new Error("Invalid label placement")}const g=J.orientateAlignment(this,l,a);l=g[0],a=g[1];const f=J.orientateVector(this,new dt(0,c)),b=bt(this.transform(o),f);await t.drawText(b,n,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,l,a)}isPointInRange(t){return this.updateMaxMinXY(),t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}getDefaultColor(t){return this.negativeFillColor.isUndefined()||t.value>=this.baseValue?this.actualFillColor:this.negativeFillColor}updateActualItems(){if(this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when using the Mapping property");this.clearActualItems(),this._actualItems=this._actualItems||[];for(const t of this.itemsSource)this._actualItems.push(this.mapping(t));return}this.clearActualItems(),this._actualItems=this._actualItems||[];for(const t of this.itemsSource||[])if(t)throw t instanceof Pe&&this._actualItems.push(t),new Error("invalid item type")}};u(gr,"defaultTrackerStringFormatter",i=>`Start: ${i.item.rangeStart}
End: ${i.item.rangeEnd}
Value: ${i.item.value}
Area: ${i.item.area}
Count: ${i.item.count}`);let Ke=gr;function vh(i){return i&&typeof i.getScatterPoint=="function"}const fr=class wr extends Bt{constructor(t){super(t),u(this,"_points",[]),u(this,"defaultMarkerFillColor",p.Undefined),u(this,"markerFill",p.Automatic),u(this,"markerOutline"),u(this,"markerSize",5),u(this,"markerType",F.Square),u(this,"markerStroke",p.Automatic),u(this,"markerStrokeThickness",1),u(this,"labelStringFormatter"),u(this,"labelMargin",6),u(this,"binSize",0),u(this,"colorAxisKey"),u(this,"dataFieldX"),u(this,"dataFieldY"),u(this,"dataFieldSize"),u(this,"dataFieldTag"),u(this,"dataFieldValue"),u(this,"mapping"),u(this,"colorAxis"),u(this,"itemsSourcePoints"),u(this,"maxValue",0),u(this,"minValue",0),this.markerFill=p.Automatic,this.markerSize=5,this.markerType=F.Square,this.markerStroke=p.Automatic,this.markerStrokeThickness=1,this.labelMargin=6,t&&Object.assign(this,st(t))}get actualMarkerFillColor(){return this.markerFill.getActualColor(this.defaultMarkerFillColor)}get points(){return this._points}get actualPoints(){return this.itemsSource?this.itemsSourcePoints:this.points}getNearestPoint(t,e){if(!this.xAxis||!this.yAxis||e)return;const s=this.actualPoints;if(!s||s.length===0)return;let n,o=et,a=0;const l=this.colorAxis?this.colorAxis.title:wr.defaultColorAxisTitle,h=this.xAxis.clipMinimum,m=this.xAxis.clipMaximum,c=this.yAxis.clipMinimum,g=this.yAxis.clipMaximum;for(const f of s){if(f.x<h||f.x>m||f.y<c||f.y>g){a++;continue}const b=this.transform(d(f.x,f.y)),S=b.x-t.x,M=b.y-t.y,T=S*S+M*M;if(T<o){const C=this.getItem(a)??f;let v;!Mt(f.value)&&!isNaN(f.value)&&!Je(f.value)&&(v=f.value);const R=d(f.x,f.y);n=new Ot({series:this,dataPoint:R,position:b,item:C,index:a,text:this.formatDefaultTrackerString(C,R,P=>{P.colorAxisTitle=l,P.zValue=v})}),o=T}a++}return n}async render(t){const e=this.actualPoints;if(!e||e.length===0)return;const s=this.getClippingRect(),n=e.length,o=[],a=[],l=[],h=[],m=new Map,c=new Map,g=this.isSelected();for(let b=0;b<n;b++){const S=d(e[b].x,e[b].y);if(!this.isValidPoint(S))continue;let M=NaN,T=NaN;const C=e[b];C&&(Mt(C.size)||(M=C.size),Mt(C.value)||(T=C.value)),isNaN(M)&&(M=this.markerSize);const v=this.transform(d(S.x,S.y));if(g&&this.isItemSelected(b)){l.push(v),h.push(M);continue}if(this.colorAxis){if(isNaN(T))continue;const R=this.colorAxis.getPaletteIndex(T);m.has(R)||(m.set(R,[]),c.set(R,[])),m.get(R).push(v),c.get(R).push(M)}else o.push(v),a.push(M)}const f=this.transform(d(this.minX,this.maxY));if(this.colorAxis){const b=this.markerType===F.Plus||this.markerType===F.Star||this.markerType===F.Cross;for(const[S,M]of m){const T=this.colorAxis.getColor(S);await O.drawMarkers(t,M,this.markerType,this.markerOutline,c.get(S),this.markerFill.getActualColor(T),b?T:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,f)}}await O.drawMarkers(t,o,this.markerType,this.markerOutline,a,this.actualMarkerFillColor,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,f),await O.drawMarkers(t,l,this.markerType,this.markerOutline,h,this.plotModel.selectionColor,this.plotModel.selectionColor,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,f),this.labelStringFormatter&&await this.renderPointLabels(t,s)}async renderLegend(t,e){const s=(e.left+e.right)/2,n=(e.top+e.bottom)/2,o=A(s,n);await O.drawMarker(t,o,this.markerType,this.markerOutline,this.markerSize,this.isSelected()?this.plotModel.selectionColor:this.actualMarkerFillColor,this.isSelected()?this.plotModel.selectionColor:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){this.markerFill.isAutomatic()&&(this.defaultMarkerFillColor=this.plotModel.getDefaultColor())}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMinValue(this.actualPoints)}async renderPointLabels(t,e){const s=this.actualPoints;if(!s||s.length===0)return;let n=-1;for(const o of s){n++;const a=d(o.x,o.y);if(!this.isValidPoint(a))continue;const l=bt(this.transform(a),new dt(0,-this.labelMargin));if(!e.containsPoint(l))continue;const h=this.getItem(n),m=this.labelStringFormatter(h,[o.x,o.y]);await t.drawText(l,m,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,B.Center,D.Bottom)}}internalUpdateMaxMinValue(t){if(!t||t.length===0)return;let e=et,s=et,n=et,o=ht,a=ht,l=ht;isNaN(e)&&(e=et),isNaN(s)&&(s=et),isNaN(o)&&(o=ht),isNaN(a)&&(a=ht),isNaN(n)&&(n=ht),isNaN(l)&&(l=ht);for(const h of t){const m=h.x,c=h.y;if(m!==m||c!==c)continue;const g=Mt(h.value)?Number.NaN:h.value;m<e&&(e=m),m>o&&(o=m),c<s&&(s=c),c>a&&(a=c),g<n&&(n=g),g>l&&(l=g)}e<et&&(this.minX=e),s<et&&(this.minY=s),o>ht&&(this.maxX=o),a>ht&&(this.maxY=a),n<et&&(this.minValue=n),l>ht&&(this.maxValue=l),this.colorAxis instanceof To&&(this.colorAxis.include(this.minValue),this.colorAxis.include(this.maxValue))}clearItemsSourcePoints(){this.itemsSourcePoints&&(this.itemsSourcePoints.length=0)}updateItemsSourcePoints(){var t,e,s;if(this.clearItemsSourcePoints(),this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when mapping is set");this.itemsSourcePoints=this.itemsSourcePoints||[];for(const n of this.itemsSource)this.itemsSourcePoints.push(this.mapping(n));return}this.itemsSourcePoints=this.itemsSourcePoints||[];for(const n of this.itemsSource||[])if(!Mt(n)){if(!xi(n.x)&&!xi(n.y)){(t=this.itemsSourcePoints)==null||t.push(n);continue}if(this.dataFieldX&&this.dataFieldY){const o=this.updateFromDataFields(n);if(!o)continue;(e=this.itemsSourcePoints)==null||e.push(o);continue}if(vh(n)){const o=n.getScatterPoint();if(!o)continue;(s=this.itemsSourcePoints)==null||s.push(o);continue}throw new Error("Invalid item type")}}updateFromDataFields(t){const e=$t(t,this.dataFieldX,Number.NaN),s=$t(t,this.dataFieldY,Number.NaN);return{x:e,y:s,size:$t(t,this.dataFieldSize,Number.NaN),value:$t(t,this.dataFieldValue,Number.NaN),tag:$t(t,this.dataFieldTag,void 0)}}};u(fr,"defaultColorAxisTitle","Value");let Vt=fr;const co=class po extends Bt{constructor(t){super(t),u(this,"_actualItems"),u(this,"defaultColor",p.Undefined),u(this,"defaultLineStyle",k.Solid),u(this,"color"),u(this,"minValue",0),u(this,"maxValue",0),u(this,"arrowHeadLength"),u(this,"arrowHeadWidth"),u(this,"arrowHeadPosition"),u(this,"lineJoin"),u(this,"lineStyle"),u(this,"strokeThickness"),u(this,"minimumSegmentLength"),u(this,"arrowVeeness"),u(this,"arrowStartPosition"),u(this,"arrowLabelPosition"),u(this,"colorAxis"),u(this,"colorAxisKey"),u(this,"labelStringFormatter"),u(this,"trackerStringFormatter"),u(this,"labelFontSize"),u(this,"canTrackerInterpolatePoints",!1),u(this,"mapping"),u(this,"items",[]),this.color=p.Automatic,this.minimumSegmentLength=2,this.strokeThickness=2,this.lineStyle=k.Solid,this.lineJoin=Q.Miter,this.arrowHeadLength=3,this.arrowHeadWidth=2,this.arrowHeadPosition=1,this.arrowVeeness=0,this.arrowStartPosition=0,this.arrowLabelPosition=0,this.trackerStringFormatter=po.DefaultTrackerStringFormatter,this.labelStringFormatter=e=>e.value.toFixed(2),this.labelFontSize=0,t&&Object.assign(this,t)}get actualLineStyle(){return this.lineStyle!=k.Automatic?this.lineStyle:this.defaultLineStyle}get ActualItems(){return this.itemsSource?this._actualItems:this.items}async render(t){const e=this.ActualItems;this.verifyAxes(),await this.renderVectors(t,e)}updateData(){this.itemsSource&&this.updateActualItems()}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}updateActualItems(){if(!this.itemsSource)return;this.clearActualItems(),this._actualItems=this._actualItems||[];let t=this.itemsSource;this.mapping&&(t=this.itemsSource.map(e=>this.mapping(e))),this._actualItems.push(...t)}async renderVectors(t,e){let s=0;for(const n of e){let o;this.colorAxis&&(this.color.isUndefined()||this.color.isAutomatic())?o=We.getColor(this.colorAxis,n.value):o=this.color.getActualColor(this.defaultColor),o=this.getSelectableColor(o,s);const a=n.direction,l=wa(n.origin,a.times(this.arrowStartPosition)),h=qs(l,a.times(this.arrowLabelPosition));await this.drawVector(t,l,a,o),this.labelFontSize>0&&this.labelStringFormatter&&await t.drawText(this.transform(h),this.labelStringFormatter(n),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,B.Center,D.Middle),s++}}async drawVector(t,e,s,n){const o=[e,qs(e,s)],a=[];O.transformAndInterpolateLines(this,o,a,this.minimumSegmentLength),a.length>=2&&await this.drawArrow(t,a,Gt(a[a.length-1],a[a.length-2]),n)}async drawArrow(t,e,s,n){const o=s;o.normalize();const a=new dt(o.y,-o.x),l=this.arrowHeadLength*this.strokeThickness,h=this.arrowHeadWidth*this.strokeThickness,m=ke(e[e.length-1],o.times(l*this.arrowHeadPosition)),c=o.times(this.arrowVeeness*this.strokeThickness),g=bt(m,o.times(l)),f=ke(bt(m,a.times(h)),c),b=ke(ke(m,a.times(h)),c),S=this.actualLineStyle,M=Ft.getDashArray(S);if(this.arrowHeadPosition>0&&this.arrowHeadPosition<=1){const T=l*this.arrowHeadPosition*l*this.arrowHeadPosition;for(let C=e.length-1;C>=0;C--)fi(e[C],g)<=T&&e.splice(C,1);e.length>0&&e.push(m)}this.strokeThickness>0&&S!==k.None&&(await t.drawLine(e,n,this.strokeThickness,this.edgeRenderingMode,M,this.lineJoin),await t.drawPolygon([b,g,f,m],n,p.Undefined,0,this.edgeRenderingMode))}getNearestPoint(t,e){const s=this.colorAxis,n=(s==null?void 0:s.title)??po.DefaultColorAxisTitle;if(!(this.ActualItems&&this.ActualItems.length>0))return;const o=Ph(this.ActualItems,h=>fi(this.transform(h.origin),t)),a=o.origin,l=this.formatDefaultTrackerString(o,a,h=>{const m=h;m.colorAxisTitle=n,m.itemDirection=o.direction});return new Ot({series:this,dataPoint:a,position:this.transform(a),item:void 0,index:-1,text:l})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){this.color.isAutomatic()&&this.colorAxis===void 0&&(this.defaultLineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateMaxMinXY(){const t=this.ActualItems;t&&t.length>0&&(this.minX=Math.min(...t.map(e=>e.origin.x-e.direction.x*this.arrowStartPosition),...t.map(e=>e.origin.x-e.direction.x*(this.arrowStartPosition-1))),this.maxX=Math.max(...t.map(e=>e.origin.x-e.direction.x*this.arrowStartPosition),...t.map(e=>e.origin.x-e.direction.x*(this.arrowStartPosition-1))),this.minY=Math.min(...t.map(e=>e.origin.y-e.direction.y*this.arrowStartPosition),...t.map(e=>e.origin.y-e.direction.y*(this.arrowStartPosition-1))),this.maxY=Math.max(...t.map(e=>e.origin.y-e.direction.y*this.arrowStartPosition),...t.map(e=>e.origin.y-e.direction.y*(this.arrowStartPosition-1))))}updateMaxMin(){super.updateMaxMin();const t=this.ActualItems,e=[];if(e.push(...t.map(s=>wa(s.origin,s.direction.times(this.arrowStartPosition)))),e.push(...t.map(s=>qs(s.origin,s.direction.times(1-this.arrowStartPosition)))),this.internalUpdateMaxMin(e),this.updateMaxMinXY(),t&&t.length>0){const s=t.map(n=>n.value);this.minValue=Lt(s),this.maxValue=Xt(s)}}updateAxisMaxMin(){if(super.updateAxisMaxMin(),!this.colorAxis)return;const t=this.colorAxis;t.include(this.minValue),t.include(this.maxValue)}};u(co,"DefaultTrackerStringFormatter",i=>`${i.title}
${i.xTitle}: ${i.xValue}
${i.yTitle}: ${i.yValue}
${i.colorAxisTitle}: ${i.item.value}
Δ${i.xTitle}: ${i.itemDirection.x}
Δ${i.yTitle}: ${i.itemDirection.y}`),u(co,"DefaultColorAxisTitle","Value");let No=co;const Ph=(i,t)=>{if(!i)throw new Error("Sequence must be defined.");if(!t)throw new Error("Projection must be defined.");let e,s,n=!0;for(const o of i){const a=t(o);(n||a<s)&&(e=o,s=a,n=!1)}if(n)throw new Error("Sequence must be non-empty.");return e};class we{constructor(t,e){if(u(this,"_minimum"),u(this,"_maximum"),u(this,"_isDefined"),isNaN(t)||isNaN(e))throw new Error("NaN values are not permitted");if(e<t)throw new Error("max must be larger or equal min");this._minimum=t,this._maximum=e,this._isDefined=!0}get minimum(){return this._minimum}get maximum(){return this._maximum}get range(){return this.maximum-this.minimum}isDefined(){return this._isDefined}contains(t){return t>=this.minimum&&t<=this.maximum}intersectsWith(t){return this.isDefined()&&t.isDefined()&&(this.contains(t.minimum)||this.contains(t.maximum)||t.contains(this.minimum)||t.contains(this.maximum))}toString(){return`[${this.minimum}, ${this.maximum}]`}}const Fo=new we(0,0);Fo._isDefined=!1;Object.freeze(Fo);class ms extends ${constructor(t){super(t),u(this,"defaultExtrapolationColor",p.Black),u(this,"defaultExtrapolationLineStyle",k.Dash),u(this,"orderedIntervals",[]),u(this,"extrapolationColor"),u(this,"extrapolationDashes"),u(this,"extrapolationLineStyle",k.Solid),u(this,"ignoreExtraplotationForScaling",!1),u(this,"intervals",[]),this.extrapolationColor=p.Black,this.lineStyle=k.Dot,t&&Object.assign(this,t)}get actualExtrapolationColor(){return this.extrapolationColor.getActualColor(this.defaultExtrapolationColor)}get actualExtrapolationLineStyle(){return this.extrapolationLineStyle!==k.Automatic?this.extrapolationLineStyle:this.defaultExtrapolationLineStyle}get actualExtrapolationDashArray(){return this.extrapolationDashes||Ft.getDashArray(this.actualExtrapolationLineStyle)}async renderLegend(t,e){const s=(e.left+e.right)/2,n=(e.top+e.bottom)/2;let o=[A(e.left,n),A(s,n)];await t.drawLine(o,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray),o=[A(s,n),A(e.right,n)],await t.drawLine(o,this.getSelectableColor(this.actualExtrapolationColor),this.strokeThickness,this.edgeRenderingMode,this.actualExtrapolationDashArray);const a=A(s,n);await O.drawMarker(t,a,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}updateData(){super.updateData(),this.orderedIntervals=this.mergeOverlaps(this.intervals)}updateMaxMin(){this.ignoreExtraplotationForScaling&&this.orderedIntervals.length>0?(this.minX=this.points.filter(t=>!this.inAnyInterval(t.x)).map(t=>t.x).filter(t=>!isNaN(t)).reduce((t,e)=>Math.min(t,e),Number.NaN),this.minY=this.points.filter(t=>!this.inAnyInterval(t.x)).map(t=>t.y).filter(t=>!isNaN(t)).reduce((t,e)=>Math.min(t,e),Number.NaN),this.maxX=this.points.filter(t=>!this.inAnyInterval(t.x)).map(t=>t.x).filter(t=>!isNaN(t)).reduce((t,e)=>Math.max(t,e),Number.NaN),this.maxY=this.points.filter(t=>!this.inAnyInterval(t.x)).map(t=>t.y).filter(t=>!isNaN(t)).reduce((t,e)=>Math.max(t,e),Number.NaN)):super.updateMaxMin()}async renderLine(t,e){if(this.strokeThickness<=0||this.actualLineStyle===k.None)return;const s=this.getClippingRect(),n=this.inverseTransform(s.bottomLeft),o=this.inverseTransform(s.topRight),a=Math.min(n.x,o.x),l=Math.max(n.x,o.x),h=Math.min(n.y,o.y),m=Math.max(n.y,o.y),c=this.createClippingRectangles(s,a,l,h,m);for(const g of c){const f=this.inverseTransform(g.center).x,b=this.orderedIntervals&&this.orderedIntervals.some(M=>M.contains(f)),S=O.autoResetClip(t,g);await this.renderLinePart(t,e,b),S.dispose()}}createClippingRectangles(t,e,s,n,o){const a=[];let l=e;const h=J.transform;if(this.orderedIntervals&&this.orderedIntervals.length>0){const m=this.flatten(this.orderedIntervals).filter(c=>c>=e&&c<=s);for(const c of m){const g=N.fromScreenPoints(h(this,l,n),h(this,c,o));a.push(g.clip(t)),l=c}}return a.push(N.fromScreenPoints(h(this,l,n),h(this,s,o)).clip(t)),a}flatten(t){const e=[];for(const s of t)e.push(s.minimum),e.push(s.maximum);return e}async renderLinePart(t,e,s){const n=s?this.extrapolationColor:this.color,o=s?this.actualExtrapolationDashArray:this.actualDashArray;await O.drawReducedLine(t,e,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(n),this.strokeThickness,this.edgeRenderingMode,o,this.lineJoin)}mergeOverlaps(t){const e=[];if(t){const s=t.sort((n,o)=>n.minimum-o.minimum);for(const n of s){const o=e[e.length-1]||Fo;n.intersectsWith(o)?e[e.length-1]=new we(o.minimum,Math.max(o.maximum,n.maximum)):e.push(n)}}return e}inAnyInterval(t){let e=0,s=this.orderedIntervals.length-1;for(;e<=s;){const n=Math.floor((e+s)/2),o=this.compare(this.orderedIntervals[n],t);if(o===0)return!0;o<0?s=n-1:e=n+1}return!1}compare(t,e){return e<t.minimum?-1:e>t.maximum?1:0}}const yr=class go extends Bt{constructor(t){super(t),u(this,"contours"),u(this,"segments",[]),u(this,"defaultColor",p.Undefined),u(this,"color"),u(this,"columnCoordinates",[]),u(this,"contourLevelStep"),u(this,"contourLevels"),u(this,"contourColors",[]),u(this,"data"),u(this,"labelBackground"),u(this,"labelStringFormatter"),u(this,"trackerStringFormatter"),u(this,"labelSpacing"),u(this,"multiLabel"),u(this,"labelStep"),u(this,"lineStyle"),u(this,"rowCoordinates",[]),u(this,"strokeThickness"),u(this,"minimumSegmentLength"),this.contourLevelStep=NaN,this.labelStep=1,this.multiLabel=!1,this.labelSpacing=150,this.labelBackground=r.fromAColor(220,p.White),this.color=p.Automatic,this.strokeThickness=1,this.lineStyle=k.Solid,this.minimumSegmentLength=2,this.trackerStringFormatter=go.DefaultTrackerFormatString,t&&Object.assign(this,st(t))}get actualColor(){return this.color.getActualColor(this.defaultColor)}calculateContours(){if(!this.data)return;let t=this.contourLevels;this.segments=[];const e=(s,n,o,a,l)=>{this.segments.push({startPoint:d(s,n),endPoint:d(o,a),contourLevel:l})};if(!t){let s=this.data[0][0],n=this.data[0][0];for(let a=0;a<this.data.length;a++)for(let l=0;l<this.data[a].length;l++)s=Math.max(s,this.data[a][l]),n=Math.min(n,this.data[a][l]);let o=this.contourLevelStep;if(isNaN(o)){const a=(s-n)/20,l=Math.round(Math.log(Math.abs(a))/Math.LN10);o=Math.pow(10,Math.floor(l)),this.contourLevelStep=o}s=Math.round(o*Math.ceil(s/o)*1e14)/1e14,n=Math.round(o*Math.floor(n/o)*1e14)/1e14,t=Kt.createVectorWithStep(n,s,o)}if(Uh.contour(this.data,this.columnCoordinates,this.rowCoordinates,t,e),this.joinContourSegments(),this.contourColors&&this.contourColors.length>0)for(const s of this.contours){let n=go.indexOf(t,s.contourLevel);n>=0&&(n=n%this.contourColors.length,s.color=this.contourColors[n])}}getNearestPoint(t,e){let s;const n="Z";for(const o of this.contours){const a=e?this.getNearestInterpolatedPointInternal(o.points,0,t):this.getNearestPointInternal(o.points,0,t);a&&(!s||fi(s.position,t)>fi(a.position,t))&&(s=a,s.text=this.formatDefaultTrackerString(o,a.dataPoint,l=>{const h=l;h.zTitle=n,h.contourLevel=o.contourLevel}))}return s}async render(t){if(this.contours||this.calculateContours(),this.contours.length===0)return;this.verifyAxes();const e=[],s=Ft.getDashArray(this.lineStyle);for(const n of this.contours){if(this.strokeThickness<=0||this.lineStyle===k.None)continue;const o=n.points.map(S=>this.transform(S)),a=n.color.getActualColor(this.actualColor);await O.drawReducedLine(t,o,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(a),this.strokeThickness,this.edgeRenderingMode,s,Q.Miter);let l=0;for(let S=1;S<o.length;S++)l+=Gt(o[S],o[S-1]).length;if(o.length<=10||Math.round(n.contourLevel/this.contourLevelStep)%this.labelStep!==0)continue;if(!this.multiLabel){this.addContourLabels(n,o,e,(o.length-1)*.5);continue}const h=Math.floor(l/this.labelSpacing);if(h===0){this.addContourLabels(n,o,e,(o.length-1)*.5);continue}let m=0,c=0,g=1,f=0;const b=(l-(h-1)*this.labelSpacing)/2;for(let S=0;S<h;S++){let M=0;g===1?f=b:f=b+S*this.labelSpacing;for(let T=g;T<o.length;T++){if(m+=Gt(o[T],o[T-1]).length,m>f){M=T-1+(f-c)/(m-c),g=T+1;break}c=m}this.addContourLabels(n,o,e,M)}}for(const n of e)await this.renderLabelBackground(t,n);for(const n of e)await this.renderLabel(t,n)}setDefaultValues(){this.color.isAutomatic()&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateMaxMin(){this.minX=Math.min(...this.columnCoordinates),this.maxX=Math.max(...this.columnCoordinates),this.minY=Math.min(...this.rowCoordinates),this.maxY=Math.max(...this.rowCoordinates)}static indexOf(t,e){let s=et,n=-1;for(let o=0;o<t.length;o++){const a=Math.abs(t[o]-e);a<s&&(s=a,n=o)}return n}addContourLabels(t,e,s,n){if(e.length<2)return;const o=Math.floor(n),a=o+1,l=e[a].x-e[o].x,h=e[a].y-e[o].y,m=e[o].x+l*(n-o),c=e[o].y+h*(n-o),g=A(m,c);let f=Math.atan2(h,l)*180/Math.PI;f>90&&(f-=180),f<-90&&(f+=180);const b=this.labelStringFormatter?this.labelStringFormatter(t.contourLevel,[]):t.contourLevel.toString();s.push({position:g,angle:f,text:b})}joinContourSegments(t=1e-10){this.contours=new Array;const e=n=>{const o=new Aa(n.startPoint),a=new Aa(n.endPoint);return o.partner=a,a.partner=o,[o,a]},s=_l(this.segments,"contourLevel");for(const n of s){const o=n[0],a=n[1].flatMap(l=>e(l)).sort((l,h)=>l.point.x-h.point.x);for(let l=0;l<a.length-1;l++){const h=a[l];if(h.join)continue;const m=Math.sqrt(Math.pow(h.point.x,2)+Math.pow(h.point.y,2))*t,c=h.point.x+m;let g=l+1,f;for(;;){if(g>=a.length){f=void 0;break}if(f=a[g],g++,!f.join){if(f.point.x>c){f=void 0;break}if(Math.sqrt(Math.pow(f.point.x-h.point.x,2)+Math.pow(f.point.y-h.point.y,2))<m)break}}f&&(h.join=f,f.join=h)}for(const l of a){if(l.processed)continue;let h=l;for(;h.join&&(h=h.join.partner,h!==l););const m=new Array(h.point,h.partner.point);for(h.processed=!0,h=h.partner,h.processed=!0;h.join&&(h=h.join,!h.processed);)h.processed=!0,h=h.partner,h.processed=!0,m.push(h.point);const c=new Lh(m,o);this.contours.push(c)}}}async renderLabel(t,e){this.actualFontSize>0&&await t.drawText(e.position,e.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,e.angle,B.Center,D.Middle)}async renderLabelBackground(t,e){if(this.labelBackground.isInvisible())return;const s=t.measureText(e.text,this.actualFont,this.actualFontSize,this.actualFontWeight),n=e.angle/180*Math.PI,o=Math.cos(n),a=Math.sin(n),l=o*.6,h=a*.6,m=-a*.5,c=o*.5,g=e.position.x,f=e.position.y,b=[A(g-s.width*l-s.height*m,f-s.width*h-s.height*c),A(g+s.width*l-s.height*m,f+s.width*h-s.height*c),A(g+s.width*l+s.height*m,f+s.width*h+s.height*c),A(g-s.width*l+s.height*m,f-s.width*h+s.height*c)];await t.drawPolygon(b,this.labelBackground,p.Undefined,0,this.edgeRenderingMode)}};u(yr,"DefaultTrackerFormatString",i=>`${i.title}
${i.xTitle}: ${i.xValue}
${i.yTitle}: ${i.yValue}
${i.zTitle}: ${i.contourLevel}`);let De=yr;class Aa{constructor(t){u(this,"partner"),u(this,"join"),u(this,"processed"),u(this,"point"),this.point=t,this.processed=!1}}class Lh{constructor(t,e){u(this,"contourLevel"),u(this,"points"),u(this,"color"),this.points=t,this.contourLevel=e,this.color=p.Automatic}}class Be extends ${constructor(t){super(t),u(this,"verticalStrokeThickness"),u(this,"verticalLineStyle"),this.verticalStrokeThickness=NaN,this.verticalLineStyle=this.lineStyle,t&&Object.assign(this,st(t))}getNearestPoint(t,e){if(!this.xAxis||!this.yAxis)return;let s=16*16,n=this.getNearestPointInternal(this.actualPoints,0,t);if(!e&&n&&fi(n.position,t)<s)return n.text=this.formatDefaultTrackerString(n.item,n.dataPoint),n;n=void 0;const o=this.actualPoints.length;for(let a=0;a<o;a++){const l=this.actualPoints[a],h=this.actualPoints[a+1<o?a+1:a],m=J.transform(this,l.x,l.y),c=J.transform(this,h.x,l.y),g=c.x-m.x,f=c.y-m.y;let b=(t.x-m.x)*g+(t.y-m.y)*f,S=g*g+f*f;if(g*g+f*f<4&&(b=0,S=1),Math.abs(S)<=0)continue;const M=b/S;if(M<0||M>1)continue;const T=m.x+M*g,C=m.y+M*f,v=t.x-T,R=t.y-C,P=v*v+R*R;if(P>=s)continue;const I=l.x+M*(h.x-l.x),V=l.y,_=this.getItem(a),E=this.formatDefaultTrackerString(_,d(I,V));n=new Ot({series:this,dataPoint:d(I,V),position:A(T,C),item:_,index:a,text:E}),s=P}return n}async render(t){if(!this.actualPoints||this.actualPoints.length===0)return;this.verifyAxes();const e=this.actualDashArray,s=Ft.getDashArray(this.verticalLineStyle),n=this.actualLineStyle,o=isNaN(this.verticalStrokeThickness)?this.strokeThickness:this.verticalStrokeThickness,a=this.getSelectableColor(this.actualColor),l=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness),h=async(S,M)=>{if(this.strokeThickness>0&&n!==k.None)if(o!==this.strokeThickness||this.verticalLineStyle!==n){const T=[],C=[];if(S.length>=2){T.push(S[0]),T.push(S[1]);for(let v=1;v+2<S.length;v+=2)C.push(S[v]),C.push(S[v+1]),T.push(S[v+1]),T.push(S[v+2])}await t.drawLineSegments(T,a,this.strokeThickness,l,e,this.lineJoin),await t.drawLineSegments(C,a,o,l,s,this.lineJoin)}else await t.drawLine(S,a,this.strokeThickness,l,e,this.lineJoin);this.markerType!==F.None&&await O.drawMarkers(t,M,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)},m=this.actualPoints;let c=0,g=et;if(this.isXMonotonic){const S=this.xAxis.clipMinimum;g=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(m,M=>M.x,S,this.windowStartIndex),c=this.windowStartIndex}const f=[],b=[];for(let S=c;S<m.length;){const{valid:M,validOffset:T,endOffset:C}=this.findNextValidSegment(m,S,g);if(!M)break;let v=A(0,0),R=ae,P=!1,I=!1;for(S=T;S<C;++S){const V=m[S];P=P||V.x>R.x,I=I||V.x<R.x,P&&I&&(f.push(this.transform(R)),f.push(this.transform(R)),P=V.x>R.x,I=V.x<R.x),v=this.transform(V),V.y!==R.y&&(isNaN(R.y)||f.push(this.transform(d(V.x,R.y))),f.push(v),P=!1,I=!1),R=V,b.push(v)}S<m.length&&this.xAxis.isValidValue(m[S].x)?f.push(this.transform(d(m[S].x,R.y))):f.push(v),await h(f,b),f.length=0,b.length=0}this.labelStringFormatter&&await this.renderPointLabels(t)}findNextValidSegment(t,e,s){for(;;++e){if(e>=t.length)return{valid:!1,validOffset:0,endOffset:0};const o=t[e];if(o.x>s)return{valid:!1,validOffset:0,endOffset:0};if(this.isValidPoint(o))break}const n=e;for(;!(e>=t.length);++e){const o=t[e];if(!this.isValidPoint(o)||o.x>s)break}return{valid:!0,validOffset:n,endOffset:e}}}const br=class Sr extends Bt{constructor(t){super(t),u(this,"itemsSourceItems",[]),u(this,"trackerStringFormatter"),u(this,"boxWidth"),u(this,"fill"),u(this,"items"),u(this,"lineStyle"),u(this,"medianPointSize"),u(this,"medianThickness"),u(this,"meanPointSize"),u(this,"meanThickness"),u(this,"outlierSize"),u(this,"outlierTrackerStringFormatter"),u(this,"outlierType"),u(this,"outlierOutline"),u(this,"showBox"),u(this,"showMedianAsDot"),u(this,"showMeanAsDot"),u(this,"stroke"),u(this,"strokeThickness"),u(this,"whiskerWidth"),this.items=[],this.trackerStringFormatter=Sr.DefaultTrackerFormatString,this.outlierTrackerStringFormatter=e=>`${e.title||""}
${e.xTitle}: ${e.xValue}
Y: ${e.outlier.toFixed(2)}`,this.title=void 0,this.fill=p.Automatic,this.stroke=p.Black,this.boxWidth=.3,this.strokeThickness=1,this.medianThickness=2,this.meanThickness=2,this.outlierSize=2,this.outlierType=F.Circle,this.medianPointSize=2,this.meanPointSize=2,this.whiskerWidth=.5,this.lineStyle=k.Solid,this.showMedianAsDot=!1,this.showMeanAsDot=!1,this.showBox=!0,t&&Object.assign(this,st(t))}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getNearestPoint(t,e){if(!this.xAxis||!this.yAxis)return;let s=et,n;for(const o of this.actualItems){for(const g of o.outliers){const f=J.transform(this,o.x,g),b=Gt(f,t).lengthSquared;if(b<s){const S=this.outlierTrackerStringFormatter({item:o,title:this.title,xTitle:this.xAxis.title||Bt.defaultXAxisTitle,xValue:this.xAxis.getValue(o.x),outlier:g});n=new Ot({series:this,dataPoint:d(o.x,g),position:f,item:o,text:S}),s=b}}let a=ae;if(this.getBoxRect(o).containsPoint(t)){const g=this.inverseTransform(t);a=d(o.x,g.y),s=0}const l=J.transform(this,o.x,o.upperWhisker),h=J.transform(this,o.x,o.lowerWhisker),m=me.findPointOnLine(t,l,h),c=Gt(m,t).lengthSquared;if(c<s&&(a=this.inverseTransform(m),s=c),ls(a)){const g=this.trackerStringFormatter({item:o,title:this.title,xTitle:this.xAxis.title||Bt.defaultXAxisTitle,xValue:this.xAxis.getValue(o.x),upperWhisker:this.yAxis.getValue(o.upperWhisker),boxTop:this.yAxis.getValue(o.boxTop),median:this.yAxis.getValue(o.median),boxBottom:this.yAxis.getValue(o.boxBottom),lowerWhisker:this.yAxis.getValue(o.lowerWhisker),mean:this.yAxis.getValue(o.mean!==void 0?o.mean:NaN)});n=new Ot({series:this,dataPoint:a,position:this.transform(a),item:o,text:g})}}if(s<et)return n}isValidPointBoxPlot(t,e,s){const n=Ra(t);return!isNaN(t.x)&&!Je(t.x)&&!n.some(isNaN)&&!n.some(Je)&&e&&e.isValidValue(t.x)&&s&&n.every(o=>s.isValidValue(o))}async render(t){if(this.actualItems.length===0)return;const e=this.getClippingRect(),s=[],n=this.boxWidth*.5,o=n*this.whiskerWidth,a=this.getSelectableColor(this.stroke),l=this.getSelectableFillColor(this.fill),h=Ft.getDashArray(this.lineStyle),m=J.transform,c=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);for(const g of this.actualItems){const f=g.mean!==void 0?g.mean:NaN;s.push(...g.outliers.map(C=>m(this,g.x,C)));const b=m(this,g.x,g.upperWhisker),S=m(this,g.x,g.boxTop),M=m(this,g.x,g.boxBottom),T=m(this,g.x,g.lowerWhisker);if(this.strokeThickness>0&&this.lineStyle!==k.None&&(await t.drawLine([b,S],a,this.strokeThickness,c,h,Q.Miter),await t.drawLine([M,T],a,this.strokeThickness,c,h,Q.Miter)),this.whiskerWidth>0){const C=m(this,g.x-o,g.upperWhisker),v=m(this,g.x+o,g.upperWhisker),R=m(this,g.x-o,g.lowerWhisker),P=m(this,g.x+o,g.lowerWhisker);await t.drawLine([C,v],a,this.strokeThickness,c,void 0,Q.Miter),await t.drawLine([R,P],a,this.strokeThickness,c,void 0,Q.Miter)}if(this.showBox){const C=this.getBoxRect(g);await t.drawRectangle(C,l,a,this.strokeThickness,c)}if(this.showMedianAsDot){const C=m(this,g.x,g.median);if(e.containsPoint(C)){const v=new N(C.x-this.medianPointSize,C.y-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await t.drawEllipse(v,l,p.Undefined,0,this.edgeRenderingMode)}}else{const C=m(this,g.x-n,g.median),v=m(this,g.x+n,g.median);await t.drawLine([C,v],a,this.strokeThickness*this.medianThickness,c,void 0,Q.Miter)}if(!this.showMeanAsDot&&!isNaN(f)){const C=m(this,g.x-n,f),v=m(this,g.x+n,f);await t.drawLine([C,v],a,this.strokeThickness*this.meanThickness,c,Ft.getDashArray(k.Dash),Q.Miter)}else if(!isNaN(f)){const C=m(this,g.x,f);if(e.containsPoint(C)){const v=new N(C.x-this.meanPointSize,C.y-this.meanPointSize,this.meanPointSize*2,this.meanPointSize*2);await t.drawEllipse(v,l,p.Undefined,0,this.edgeRenderingMode)}}}if(this.outlierType!==F.None){const g=s.map(f=>this.outlierSize);await O.drawMarkers(t,s,this.outlierType,this.outlierOutline,g,l,a,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(t,e){const s=(e.left+e.right)/2,n=e.top+(e.bottom-e.top)*.7,o=e.top+(e.bottom-e.top)*.3,a=(n+o)*.5,l=e.width*.24,h=l*this.whiskerWidth,m=1,c=this.getSelectableColor(this.stroke),g=this.getSelectableFillColor(this.fill),f=Ft.getDashArray(k.Solid),b=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferGeometricAccuracy);if(await t.drawLine([A(s,e.top),A(s,o)],c,m,b,f,Q.Miter),await t.drawLine([A(s,n),A(s,e.bottom)],c,m,b,f,Q.Miter),this.whiskerWidth>0&&(await t.drawLine([A(s-h,e.bottom),A(s+h,e.bottom)],c,m,b,f,Q.Miter),await t.drawLine([A(s-h,e.top),A(s+h,e.top)],c,m,b,f,Q.Miter)),this.showBox&&await t.drawRectangle(new N(s-l,o,2*l,n-o),g,c,m,b),!this.showMedianAsDot)await t.drawLine([A(s-l,a),A(s+l,a)],c,m*this.medianThickness,b,f,Q.Miter);else{const S=new N(s-this.medianPointSize,a-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await t.drawEllipse(S,g,p.Undefined,0,b)}}updateData(){this.itemsSource&&(this.clearItemsSourceItems(),this.itemsSourceItems.push(...this.itemsSource),this.itemsSourceItems.forEach(t=>{t.mean===void 0&&(t.median=NaN)}))}updateMaxMin(){super.updateMaxMin(),this.internalUpdateBoxPlotMaxMin(this.actualItems)}internalUpdateBoxPlotMaxMin(t){if(!t||t.length===0)return;let e=this.minX,s=this.minY,n=this.maxX,o=this.maxY;for(const a of t){if(!this.isValidPointBoxPlot(a,this.xAxis,this.yAxis))continue;const l=a.x;(l<e||isNaN(e))&&(e=l),(l>n||isNaN(n))&&(n=l);const h=Ra(a);for(const m of h)(m<s||isNaN(s))&&(s=m),(m>o||isNaN(o))&&(o=m)}this.minX=e,this.minY=s,this.maxX=n,this.maxY=o}getItem(t){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(t):this.actualItems[t]}getBoxRect(t){const e=this.boxWidth*.5,s=J.transform(this,t.x-e,t.boxTop),n=J.transform(this,t.x+e,t.boxBottom);return N.fromScreenPoints(s,n)}clearItemsSourceItems(){this.itemsSourceItems.length=0}};u(br,"DefaultTrackerFormatString",i=>`${i.title||""}
${i.xTitle}: ${i.xValue}
Upper Whisker: ${i.upperWhisker.toFixed(2)}
Third Quartil: ${i.boxTop.toFixed(2)}
Median: ${i.median.toFixed(2)}
First Quartil: ${i.boxBottom.toFixed(2)}
Lower Whisker: ${i.lowerWhisker.toFixed(2)}
Mean: ${i.mean.toFixed(2)}`);let Vo=br;function Ra(i){const t=[i.lowerWhisker,i.boxBottom,i.median,i.boxTop,i.upperWhisker];return i.mean!==void 0&&!isNaN(i.mean)&&t.push(i.mean),t.push(...i.outliers),t}class Ih extends ${constructor(t){super(t),u(this,"base"),this.base=0,t&&(this.base=t.base??0)}getNearestPoint(t,e){if(!this.xAxis||!this.yAxis||e)return;let s,n=et;const o=this.actualPoints;for(let a=0;a<o.length;a++){const l=o[a],h=d(l.x,this.base),m=this.transform(l),c=this.transform(h);let g=me.findPositionOnLine(t,m,c);isNaN(g)&&(g=1),(g<0||g>1)&&(g=1);const f=bt(m,Gt(c,m).times(g)),b=Gt(t,f).lengthSquared;if(b<n){const S=this.getItem(a),M=this.formatDefaultTrackerString(S,l);s=new Ot({series:this,dataPoint:d(l.x,l.y),position:A(m.x,m.y),item:this.getItem(a),index:a,text:M}),n=b}}return s}async render(t){if(this.actualPoints.length===0)return;this.verifyAxes();const e=this.minimumSegmentLength*this.minimumSegmentLength,s=this.actualDashArray,n=this.getSelectableColor(this.actualColor),o=[],a=this.markerType!==F.None?[]:void 0;for(const l of this.actualPoints)if(this.isValidPoint(l)){if(o[0]=J.transform(this,l.x,this.base),o[1]=J.transform(this,l.x,l.y),this.strokeThickness>0&&this.actualLineStyle!==k.None){const h=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);await O.drawReducedLine(t,o,e,n,this.strokeThickness,h,s,this.lineJoin)}a&&a.push(o[1])}a&&a.length>0&&await O.drawMarkers(t,a,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}}function Bh(i){return i.fill.getActualColor(i.defaultFillColor)}const Mr=class kr extends Fs{constructor(t){super(t),u(this,"slicePoints",[]),u(this,"total",0),u(this,"angleIncrement"),u(this,"angleSpan"),u(this,"areInsideLabelsAngled",!1),u(this,"colorField"),u(this,"diameter"),u(this,"explodedDistance",0),u(this,"innerDiameter"),u(this,"insideLabelColor"),u(this,"insideLabelFormatter"),u(this,"insideLabelPosition"),u(this,"isExplodedField"),u(this,"labelField"),u(this,"outsideLabelFormatter"),u(this,"slices",[]),u(this,"startAngle"),u(this,"stroke"),u(this,"strokeThickness"),u(this,"tickDistance"),u(this,"tickHorizontalLength"),u(this,"tickLabelDistance"),u(this,"tickRadialLength"),u(this,"valueField"),u(this,"trackerStringFormatter"),this.stroke=p.White,this.strokeThickness=1,this.diameter=1,this.innerDiameter=0,this.startAngle=0,this.angleSpan=360,this.angleIncrement=1,this.outsideLabelFormatter=(e,s)=>`${vt(s,0)} %`,this.insideLabelColor=p.Automatic,this.insideLabelFormatter=(e,s)=>e.label,this.tickDistance=0,this.tickRadialLength=6,this.tickHorizontalLength=8,this.tickLabelDistance=4,this.insideLabelPosition=.5,this.fontSize=12,this.trackerStringFormatter=kr.DefaultTrackerStringFormatter,t&&Object.assign(this,st(t))}getNearestPoint(t,e){const s=this.trackerStringFormatter;for(let n=0;n<this.slicePoints.length;n++)if(me.isPointInPolygon(t,this.slicePoints[n])){const o=this.slices[n],a=this.getItem(n),l=s?s({item:a,title:this.title,xTitle:o.label,xValue:o.value,percent:o.value/this.total*100}):void 0;return new Ot({series:this,position:t,item:a,index:n,text:l})}}async render(t){if(this.slicePoints=[],this.slices.length===0||(this.total=this.slices.reduce((l,h)=>l+h.value,0),Math.abs(this.total)<=0))return;const e=Math.min(this.plotModel.plotArea.width,this.plotModel.plotArea.height)/2,s=e*(this.diameter-this.explodedDistance),n=e*this.innerDiameter;let o=this.startAngle;const a=A((this.plotModel.plotArea.left+this.plotModel.plotArea.right)*.5,(this.plotModel.plotArea.top+this.plotModel.plotArea.bottom)*.5);for(const l of this.slices){const h=[],m=[],c=l.value/this.total*this.angleSpan,g=o+c,f=l.isExploded?this.explodedDistance*e:0,b=o+c/2,S=b*Math.PI/180,M=A(a.x+f*Math.cos(S),a.y+f*Math.sin(S));for(;;){let C=!1;o>=g&&(o=g,C=!0);const v=o*Math.PI/180,R=A(M.x+s*Math.cos(v),M.y+s*Math.sin(v));h.push(R);const P=A(M.x+n*Math.cos(v),M.y+n*Math.sin(v));debugger;if(console.log(n+f>0),n+f>0){debugger;m.push(P)}if(C)break;o+=this.angleIncrement}m.reverse(),m.length===0&&m.push(M),m.push(h[0]);const T=[...h,...m];if(await t.drawPolygon(T,Bh(l),this.stroke,this.strokeThickness,this.edgeRenderingMode,void 0,Q.Bevel),this.slicePoints.push(T),this.outsideLabelFormatter){const C=this.outsideLabelFormatter(l,l.value/this.total*100),v=Math.sign(Math.cos(S)),R=A(M.x+(s+this.tickDistance)*Math.cos(S),M.y+(s+this.tickDistance)*Math.sin(S)),P=A(R.x+this.tickRadialLength*Math.cos(S),R.y+this.tickRadialLength*Math.sin(S)),I=A(P.x+this.tickHorizontalLength*v,P.y);await t.drawLine([R,P,I],this.actualTextColor,1,this.edgeRenderingMode,void 0,Q.Bevel);const V=A(I.x+this.tickLabelDistance*v,I.y);await t.drawText(V,C,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,v>0?B.Left:B.Right,D.Middle)}if(this.insideLabelFormatter&&!this.insideLabelColor.isUndefined()){const C=this.insideLabelFormatter(l,l.value/this.total*100),v=n*(1-this.insideLabelPosition)+s*this.insideLabelPosition,R=A(M.x+v*Math.cos(S),M.y+v*Math.sin(S));let P=0;this.areInsideLabelsAngled&&(P=b,Math.cos(S)<0&&(P+=180));const I=this.insideLabelColor.isAutomatic()?this.actualTextColor:this.insideLabelColor;await t.drawText(R,C,I,this.actualFont,this.actualFontSize,this.actualFontWeight,P,B.Center,D.Middle)}}}async renderLegend(t,e){}areAxesRequired(){return!1}ensureAxes(){}isUsing(t){return!1}setDefaultValues(){for(const t of this.slices)t.fill=t.fill||p.Automatic,t.fill.isAutomatic()&&(t.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){}updateData(){if(this.itemsSource){this.slices=[];for(const t of this.itemsSource){const e=$t(t,this.labelField,""),s=$t(t,this.valueField,NaN),n=$t(t,this.colorField,p.Automatic),o=$t(t,this.isExplodedField,!1);this.slices.push({label:e,value:s,fill:n,isExploded:o})}}}updateMaxMin(){}};u(Mr,"DefaultTrackerStringFormatter",i=>`${i.xTitle}: ${vt(i.xValue,3)} (${Jl((i.percent||0)/100)})`);let Dh=Mr;class ei extends ${constructor(t){super(t),u(this,"_points2",[]),u(this,"itemsSourcePoints2",[]),u(this,"_actualPoints2"),u(this,"constantY2",0),u(this,"dataFieldX2"),u(this,"dataFieldY2"),u(this,"color2"),u(this,"fill"),u(this,"reverse2",!1),u(this,"windowStartIndex2",0),u(this,"isPoints2Defined",!1),this.reverse2=!0,this.color2=p.Automatic,this.fill=p.Automatic,t&&Object.assign(this,st(t))}get actualColor2(){return this.color2.getActualColor(this.actualColor)}get actualFill(){return this.fill.getActualColor(r.fromAColor(100,this.actualColor))}get points2(){return this._points2}get actualPoints2(){return this.itemsSource?this.itemsSourcePoints2:this._actualPoints2}getNearestPoint(t,e){const s=this.isXMonotonic?this.windowStartIndex:0,n=this.isXMonotonic?this.windowStartIndex2:0;let o,a;e&&this.canTrackerInterpolatePoints?(o=this.getNearestInterpolatedPointInternal(this.actualPoints,s,t),a=this.getNearestInterpolatedPointInternal(this.actualPoints2,n,t)):(o=this.getNearestPointInternal(this.actualPoints,s,t),a=this.getNearestPointInternal(this.actualPoints2,n,t));let l;if(o&&a){const h=Ve(o.position,t),m=Ve(a.position,t);l=h<m?o:a}else l=o??a;return l&&(l.text=this.formatDefaultTrackerString(l.item,l.dataPoint)),l}async render(t){this.verifyAxes();const e=this.actualPoints;if(!e||e.length===0)return;const s=this.actualPoints2;if(!s||s.length===0)return;let n=0,o=0,a=et;if(this.isXMonotonic){const g=this.xAxis.clipMinimum;a=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(e,f=>f.x,g,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(s,f=>f.x,g,this.windowStartIndex2),n=this.windowStartIndex,o=this.windowStartIndex2}const l=this.minimumSegmentLength*this.minimumSegmentLength,h={points:e,windowStartIndex:n,xMax:a,renderContext:t,minDistSquared:l,reverse:!1,color:this.actualColor,dashArray:this.actualDashArray},m=await this.renderChunkedPoints(h);h.points=s,h.windowStartIndex=o,h.reverse=this.reverse2,h.color=this.actualColor2;const c=await this.renderChunkedPoints(h);if(m.length===c.length)for(let g=0;g<m.length;g++){const f=m[g],b=c[g],S=[];S.push(...b),S.push(...f),await O.drawReducedPolygon(t,S,l,this.getSelectableFillColor(this.actualFill),p.Undefined,0,this.edgeRenderingMode);const M=[this.markerSize];await O.drawMarkers(t,f,this.markerType,void 0,M,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await O.drawMarkers(t,b,this.markerType,void 0,M,this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}}async renderLegend(t,e){const s=e.top*.2+e.bottom*.8,n=e.top*.4+e.bottom*.6,o=e.top*.8+e.bottom*.2,a=[A(e.left,s),A(e.right,s)],l=[A(e.right,o),A(e.left,n)],h=[...a,...l];if(this.strokeThickness>0&&this.actualLineStyle!==k.None){const m=Ft.getDashArray(this.actualLineStyle);await t.drawLine(a,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,m),await t.drawLine(l,this.getSelectableColor(this.actualColor2),this.strokeThickness,this.edgeRenderingMode,m)}await t.drawPolygon(h,this.getSelectableFillColor(this.actualFill),p.Undefined,0,this.edgeRenderingMode)}updateData(){if(super.updateData(),!this.itemsSource){this.isPoints2Defined=this._points2.length>0,this.isPoints2Defined?this._actualPoints2=this._points2:this._actualPoints2=this.getConstantPoints2();return}if(this.itemsSourcePoints2.length=0,this.isPoints2Defined=!!(this.dataFieldX2&&this.dataFieldY2),this.isPoints2Defined)for(const t of this.itemsSource){if(!t)continue;const e=$t(t,this.dataFieldX2,Number.NaN),s=$t(t,this.dataFieldY2,Number.NaN),n=d(this.xAxis.itemToDouble(e),this.yAxis.itemToDouble(s));this.itemsSourcePoints2.push(n)}else this.itemsSourcePoints2.push(...this.getConstantPoints2())}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints2)}async renderChunkedPoints(t){const e=[];let s=[],n=0;const o=t.points;for(let a=t.windowStartIndex;a<o.length;a++){const l=o[a];if(isNaN(l.y)){if(s.length===0)continue;e.push(await this.renderScreenPoints(t,s)),s=[]}else{const h=J.transform(this,l.x,l.y);s.push(h)}if(n+=l.x>t.xMax?1:0,n>1)break}return s.length>0&&e.push(await this.renderScreenPoints(t,s)),e}async renderScreenPoints(t,e){let s=e;if(t.reverse&&s.reverse(),this.interpolationAlgorithm){const n=me.resamplePoints(s,this.minimumSegmentLength);s=this.interpolationAlgorithm.createSplineSp(n,!1,.25)}return await O.drawReducedLine(t.renderContext,s,t.minDistSquared,this.getSelectableColor(t.color),this.strokeThickness,this.edgeRenderingMode,t.dashArray,this.lineJoin),s}getConstantPoints2(){const t=this.actualPoints,e=[];if(!isNaN(this.constantY2)&&t.length>0){const s=t[0].x,n=t[t.length-1].x;e.push(d(s,this.constantY2)),e.push(d(n,this.constantY2))}return e}}var Vs=(i=>(i[i.Center=0]="Center",i[i.Edge=1]="Edge",i))(Vs||{}),Ar=(i=>(i[i.Bitmap=0]="Bitmap",i[i.Rectangles=1]="Rectangles",i))(Ar||{});const xo=class Rs extends Bt{constructor(t){super(t),u(this,"dataHash",0),u(this,"colorAxisHash",0),u(this,"image"),u(this,"x0",0),u(this,"x1",0),u(this,"y0",0),u(this,"y1",0),u(this,"data"),u(this,"interpolate",!0),u(this,"minValue",0),u(this,"maxValue",0),u(this,"colorAxis"),u(this,"colorAxisKey"),u(this,"coordinateDefinition",0),u(this,"renderMethod",0),u(this,"labelStringFormatter",e=>e.toFixed(2)),u(this,"labelFontSize",0),this.trackerStringFormatter=Rs.DefaultTrackerFormatString,this.interpolate=!0,this.labelFontSize=0,t&&Object.assign(this,st(t))}invalidate(){this.image=void 0}async render(t){if(!this.data){this.image=void 0;return}if(!this.colorAxis)throw new Error("Color axis not specified.");let e=this.x0,s=this.x1,n=this.y0,o=this.y1;const a=this.data.length,l=this.data[0].length,h=(this.x1-this.x0)/(a-1),m=(this.y1-this.y0)/(l-1);if(this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const C=Math.log(this.x1/this.x0)/(a-1);e*=Math.exp(C/-2),s*=Math.exp(C/2)}else e-=h/2,s+=h/2;if(this.yAxis.isLogarithmic()){const C=Math.log(this.y1/this.y0)/(l-1);n*=Math.exp(C/-2),o*=Math.exp(C/2)}else n-=m/2,o+=m/2}const c=J.transform(this,e,n),g=J.transform(this,s,o),f=N.fromScreenPoints(c,g),b=this.renderMethod===0,S=Nh(this.data),M=this.colorAxis.getElementHashCode();(b&&!this.image||S!==this.dataHash||M!==this.colorAxisHash)&&(b&&await this.updateImage(),this.dataHash=S,this.colorAxisHash=M);const T=J.orientate;if(b)this.image&&await O.drawImage(t,this.image,f.left,f.top,f.width,f.height,1,this.interpolate);else{const C=T(this,c),v=T(this,g),R=(v.x-C.x)/a,P=(v.y-C.y)/l,I=We.getColor;for(let V=0;V<a;V++)for(let _=0;_<l;_++){const E=I(this.colorAxis,this.data[V][_]),q=T(this,A(C.x+V*R,C.y+_*P)),yt=T(this,A(C.x+(V+1)*R,C.y+(_+1)*P)),Z=N.fromScreenPoints(q,yt);await t.drawRectangle(Z,E,p.Undefined,0,this.edgeRenderingMode)}}this.labelFontSize>0&&await this.renderLabels(t,f)}getNearestPoint(t,e){if(!this.data)return;this.interpolate||(e=!1);let s=this.inverseTransform(t);if(!this.isPointInRange(s))return;let n,o;if(this.xAxis.isLogarithmic()){const c=Math.log(this.x1/this.x0)/(this.data.length-1);n=Math.log(s.x/this.x0)/c}else{const c=(this.x1-this.x0)/(this.data.length-1);n=(s.x-this.x0)/c}if(this.yAxis.isLogarithmic()){const c=Math.log(this.y1/this.y0)/(this.data[0].length-1);o=Math.log(s.y/this.y0)/c}else{const c=(this.y1-this.y0)/(this.data[0].length-1);o=(s.y-this.y0)/c}if(!e){n=Math.round(n),o=Math.round(o);let c,g;if(this.xAxis.isLogarithmic()){const f=Math.log(this.x1/this.x0)/(this.data.length-1);c=this.x0*Math.exp(n*f)}else{const f=(this.x1-this.x0)/(this.data.length-1);c=n*f+this.x0}if(this.yAxis.isLogarithmic()){const f=Math.log(this.y1/this.y0)/(this.data[0].length-1);g=this.y0*Math.exp(o*f)}else{const f=(this.y1-this.y0)/(this.data[0].length-1);g=o*f+this.y0}s=d(c,g),t=this.transform(s)}if(n<-.5||n>this.data.length-.5||o<-.5||o>this.data[0].length-.5)return;const a=Rs.getValue(this.data,n,o),l=this.colorAxis,h=(l==null?void 0:l.title)??Rs.DefaultColorAxisTitle,m=this.formatDefaultTrackerString(void 0,s,c=>{c.colorAxisTitle=h,c.value=a});return new Ot({series:this,dataPoint:s,position:t,item:null,index:-1,text:m})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(!this.data)return;const t=this.data.length,e=this.data[0].length;if(this.minX=Math.min(this.x0,this.x1),this.maxX=Math.max(this.x0,this.x1),this.minY=Math.min(this.y0,this.y1),this.maxY=Math.max(this.y0,this.y1),this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const s=Math.log(this.maxX/this.minX)/(t-1);this.minX*=Math.exp(s/-2),this.maxX*=Math.exp(s/2)}else{const s=(this.maxX-this.minX)/(t-1);this.minX-=s/2,this.maxX+=s/2}if(this.yAxis.isLogarithmic()){const s=Math.log(this.maxY/this.minY)/(e-1);this.minY*=Math.exp(s/-2),this.maxY*=Math.exp(s/2)}else{const s=(this.maxY-this.minY)/(e-1);this.minY-=s/2,this.maxY+=s/2}}}updateMaxMin(){if(super.updateMaxMin(),this.updateMaxMinXY(),!this.data)return;const t=this.data.flat().filter(e=>!isNaN(e));this.minValue=Lt(t),this.maxValue=Xt(t)}updateAxisMaxMin(){super.updateAxisMaxMin();const t=this.colorAxis;t&&(t.include(this.minValue),t.include(this.maxValue))}async renderLabels(t,e){if(!this.data)return;const s=this.data.length,n=this.data[0].length,o=e.height/n*this.labelFontSize,a=this.x0,l=this.x1,h=this.y0,m=this.y1,c=J.orientate,g=J.transform,f=c(this,g(this,a,h)),b=c(this,g(this,l,m)),S=(b.x-f.x)/(s-1),M=(b.y-f.y)/(n-1),T=We.getColor;for(let C=0;C<s;C++)for(let v=0;v<n;v++){const R=c(this,A(f.x+C*S,f.y+v*M)),P=Rs.getValue(this.data,C,v),I=T(this.colorAxis,P),V=xe.toHsv(I)[2]>.6?p.Black:p.White,_=this.getLabel(P,C,v);await t.drawText(R,_,V,this.actualFont,o,500,0,B.Center,D.Middle)}}getLabel(t,e,s){return this.labelStringFormatter(t,[])}static getValue(t,e,s){e=Math.max(e,0),s=Math.max(s,0);const n=Math.floor(e),o=n+1<t.length?n+1:n,a=Math.floor(s),l=a+1<t[0].length?a+1:a;if(e=Math.min(e,o),s=Math.min(s,l),e===n&&s===a)return t[n][a];if(e!==n&&s===a){if(isNaN(t[n][a])||isNaN(t[o][a]))return NaN;const h=e-n;return n!==o?t[n][a]*(1-h)+t[o][a]*h:t[n][a]}if(e===n&&s!==a){if(isNaN(t[n][a])||isNaN(t[n][l]))return NaN;const h=s-a;return a!==l?t[n][a]*(1-h)+t[n][l]*h:t[n][a]}else{if(isNaN(t[n][a])||isNaN(t[o][a])||isNaN(t[n][l])||isNaN(t[o][l]))return NaN;const h=e-n,m=s-a;let c,g;return n!==o?(c=t[n][a]*(1-h)+t[o][a]*h,g=t[n][l]*(1-h)+t[o][l]*h):(c=t[n][a],g=t[n][l]),a!==l?c*(1-m)+g*m:c}}isPointInRange(t){return this.updateMaxMinXY(),t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY}async updateImage(){if(!this.data)return;const t=this.xAxis.transform(this.x0)>this.xAxis.transform(this.x1),e=this.yAxis.transform(this.y0)>this.yAxis.transform(this.y1),s=J.isTransposed(this),n=this.data.length,o=this.data[0].length,a=s?new Re(o,n):new Re(n,o),l=We.getColor;for(let h=0;h<n;h++){const m=t?n-1-h:h;for(let c=0;c<o;c++){const g=e?o-1-c:c,f=l(this.colorAxis,this.data[m][g]);s?a.set(c,h,f):a.set(h,c,f)}}this.image=await fe.create(a,pe.Png)}};u(xo,"DefaultTrackerFormatString",i=>`${i.title}
${i.xTitle}: ${i.xValue}
${i.yTitle}: ${i.yValue}
${i.colorAxisTitle}: ${i.value}`),u(xo,"DefaultColorAxisTitle","Value");let Oe=xo;function Nh(i){return Ea(i.flat())}const fo=class{constructor(t,e,s,n,o){u(this,"a"),u(this,"b"),u(this,"value"),typeof t=="number"?(this.a=d(t,s),this.b=d(e,n),this.value=o):(this.a=t,this.b=e,this.value=s)}contains(t){return t.x<=this.b.x&&t.x>=this.a.x&&t.y<=this.b.y&&t.y>=this.a.y||t.x<=this.a.x&&t.x>=this.b.x&&t.y<=this.a.y&&t.y>=this.b.y}equals(t){return ya(this.a,t.a)&&ya(this.b,t.b)&&this.value===t.value}toString(){return`${this.a} ${this.b} ${this.value}`}isDefined(){return ls(this.a)&&ls(this.b)&&!isNaN(this.value)}};u(fo,"Undefined",new fo(ae,ae,Number.NaN));let Eo=fo;const wo=class yo extends Bt{constructor(t){super(t),u(this,"_actualItems",[]),u(this,"_minValue",0),u(this,"_maxValue",0),u(this,"_colorAxis"),u(this,"colorAxisKey"),u(this,"labelStringFormatter",e=>e.toFixed(2)),u(this,"labelFontSize"),u(this,"mapping"),u(this,"items",[]),this.trackerStringFormatter=yo.DefaultTrackerFormatString,this.labelFontSize=0,t&&Object.assign(this,st(t))}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get colorAxis(){return this._colorAxis}set colorAxis(t){this._colorAxis=t}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(t){this.verifyAxes(),await this.renderRectangles(t,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem(t){const e=this.actualItems;return!this.itemsSource&&e&&t<e.length?e[t]:super.getItem(t)}clearActualItems(){this._actualItems.length=0}updateActualItems(){if(this.clearActualItems(),!(!this.itemsSource||this.itemsSource.length==0)){for(const t of this.itemsSource)if(t){if(t instanceof Eo){this._actualItems.push(t);continue}if(this.mapping){this._actualItems.push(this.mapping(t));continue}throw new Error("Invalid itemsSource")}}}async renderRectangles(t,e){const s=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness),n=J.transform;for(const o of e){const a=We.getColor(this.colorAxis,o.value),l=n(this,o.a.x,o.a.y),h=n(this,o.b.x,o.b.y),m=N.fromScreenPoints(l,h);await t.drawRectangle(m,a,p.Undefined,0,s),this.labelFontSize>0&&await t.drawText(m.center,this.labelStringFormatter(o.value,[]),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,B.Center,D.Middle)}}getNearestPoint(t,e){const s=this.inverseTransform(t);if(!this.isPointInRange(s)||!this.actualItems)return;const n=this.colorAxis,o=(n==null?void 0:n.title)??yo.DefaultColorAxisTitle;for(const a of this.actualItems)if(a.contains(s)){const l=this.formatDefaultTrackerString(a,s,h=>{h.colorAxisTitle=o,h.value=a.value});return new Ot({series:this,dataPoint:s,position:t,item:null,index:-1,text:l})}}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const t=Lt(this.actualItems.map(m=>m.a.x)),e=Lt(this.actualItems.map(m=>m.b.x)),s=Xt(this.actualItems.map(m=>m.a.x)),n=Xt(this.actualItems.map(m=>m.b.x)),o=Lt(this.actualItems.map(m=>m.a.y)),a=Lt(this.actualItems.map(m=>m.b.y)),l=Xt(this.actualItems.map(m=>m.a.y)),h=Xt(this.actualItems.map(m=>m.b.y));this.minX=Math.min(t,e),this.maxX=Math.max(s,n),this.minY=Math.min(o,a),this.maxY=Math.max(l,h)}}updateMaxMin(){super.updateMaxMin();const t=[];if(ui(t,this.actualItems.map(e=>e.a)),ui(t,this.actualItems.map(e=>e.b)),this.internalUpdateMaxMin(t),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const e=this.actualItems.map(s=>s.value);this._minValue=Lt(e),this._maxValue=Lt(e)}}updateAxisMaxMin(){super.updateAxisMaxMin();const t=this.colorAxis;t&&(t.include(this.minValue),t.include(this.maxValue))}isPointInRange(t){return this.updateMaxMinXY(),t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY}};u(wo,"DefaultTrackerFormatString",i=>`${i.title}
${i.xTitle}: ${i.xValue}
${i.yTitle}: ${i.yValue}
${i.colorAxisTitle}: ${i.value}`),u(wo,"DefaultColorAxisTitle","Value");let Rr=wo;class Fh extends ${constructor(t){super(t),u(this,"defaultColorLo",p.Undefined),u(this,"defaultColorHi",p.Undefined),u(this,"colorLo"),u(this,"colorHi"),u(this,"limitHi"),u(this,"limitLo"),u(this,"dashesHi"),u(this,"dashesLo"),u(this,"lineStyleHi"),u(this,"lineStyleLo"),this.limitLo=-5,this.colorLo=r.fromRgb(0,0,255),this.lineStyleLo=k.Solid,this.limitHi=5,this.colorHi=r.fromRgb(255,0,0),this.lineStyleHi=k.Solid,t&&Object.assign(this,st(t))}get actualColorLo(){return this.colorLo.getActualColor(this.defaultColorLo)}get actualColorHi(){return this.colorHi.getActualColor(this.defaultColorHi)}get actualLineStyleHi(){return this.lineStyleHi!==k.Automatic?this.lineStyleHi:k.Solid}get actualLineStyleLo(){return this.lineStyleLo!==k.Automatic?this.lineStyleLo:k.Solid}get actualDashArrayHi(){return this.dashesHi??Ft.getDashArray(this.actualLineStyleHi)}get actualDashArrayLo(){return this.dashesLo??Ft.getDashArray(this.actualLineStyleLo)}setDefaultValues(){super.setDefaultValues(),this.colorLo.isAutomatic()&&(this.defaultColorLo=this.plotModel.getDefaultColor()),this.lineStyleLo===k.Automatic&&(this.lineStyleLo=this.plotModel.getDefaultLineStyle()),this.colorHi.isAutomatic()&&(this.defaultColorHi=this.plotModel.getDefaultColor()),this.lineStyleHi===k.Automatic&&(this.lineStyleHi=this.plotModel.getDefaultLineStyle())}async renderLine(t,e){const s=this.getClippingRect(),n=this.inverseTransform(s.bottomLeft),o=this.inverseTransform(s.topRight),a=J.transform;let l=a(this,n.x,Math.min(n.y,o.y)),h=a(this,o.x,this.limitLo);const m=N.fromScreenPoints(l,h).clip(s);l=a(this,n.x,this.limitLo),h=a(this,o.x,this.limitHi);const c=N.fromScreenPoints(l,h).clip(s);l=a(this,n.x,Math.max(n.y,o.y)),h=a(this,o.x,this.limitHi);const g=N.fromScreenPoints(l,h).clip(s);if(this.strokeThickness<=0||this.actualLineStyle===k.None)return;const f=async S=>{await O.drawReducedLine(t,e,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(S),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let b=O.autoResetClip(t,c);await f(this.actualColor),b.dispose(),b=O.autoResetClip(t,m),await f(this.actualColorLo),b.dispose(),b=O.autoResetClip(t,g),await f(this.actualColorHi),b.dispose()}}class xn extends ei{constructor(t){super(t),u(this,"defaultColor2",p.Undefined),u(this,"abovePoints",[]),u(this,"belowPoints",[]),u(this,"markerStartIndex",0),u(this,"fill2"),u(this,"dashes2"),u(this,"lineStyle2"),u(this,"markerFill2"),u(this,"markerStroke2"),u(this,"limit",0),this.color2=r.fromRgb(0,0,255),this.fill=p.Automatic,this.fill2=p.Automatic,this.markerFill2=p.Automatic,this.markerStroke2=p.Automatic,this.lineStyle2=k.Solid,t&&Object.assign(this,st(t))}get actualFill2(){return this.fill2.getActualColor(r.fromAColor(100,this.actualColor2))}get actualColor2(){return this.color2.getActualColor(this.defaultColor2)}get actualLineStyle2(){return this.lineStyle2!==k.Automatic?this.lineStyle2:k.Solid}get actualDashArray2(){return this.dashes2??Ft.getDashArray(this.actualLineStyle2)}getNearestPoint(t,e){let s;return e&&this.canTrackerInterpolatePoints?s=this.getNearestInterpolatedPointInternal(this.actualPoints,0,t):s=this.getNearestPointInternal(this.actualPoints,0,t),s&&(s.text=this.formatDefaultTrackerString(s.item,s.dataPoint)),s}async render(t){const e=this.xAxis.clipMinimum,s=this.xAxis.clipMaximum,n=l=>l.x;this.windowStartIndex=this.updateWindowStartIndex(this.abovePoints,n,e,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(this.belowPoints,n,e,this.windowStartIndex2);const o=this.minimumSegmentLength*this.minimumSegmentLength,a={points:this.abovePoints,windowStartIndex:this.windowStartIndex,xMax:s,renderContext:t,minDistSquared:o,reverse:!1,color:this.actualColor,fill:this.actualFill,markerFill:this.actualMarkerFill,markerStroke:this.markerStroke,dashArray:this.actualDashArray,baseline:this.limit};if(await this.renderChunkedPoints(a),a.points=this.belowPoints,a.windowStartIndex=this.windowStartIndex2,a.reverse=this.reverse2,a.color=this.actualColor2,a.fill=this.actualFill2,a.markerFill=this.markerFill2,a.markerStroke=this.markerStroke2,a.dashArray=this.actualDashArray2,this.isPoints2Defined&&(a.baseline=this.constantY2),await this.renderChunkedPoints(a),!this.isPoints2Defined){const l=[this.markerSize],h=this.limit,m=this.actualPoints,c=[],g=[];this.markerStartIndex=this.updateWindowStartIndex(m,n,e,this.markerStartIndex);let f=0;for(let b=this.markerStartIndex;b<m.length;b++){const S=m[b];if((S.y>=h?c:g).push(this.transform(S)),f+=S.x>s?1:0,f>1)break}await O.drawMarkers(t,c,this.markerType,void 0,l,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await O.drawMarkers(t,g,this.markerType,void 0,l,this.markerFill2,this.markerStroke2,this.markerStrokeThickness,this.edgeRenderingMode,1)}}setDefaultValues(){super.setDefaultValues(),this.color2.isAutomatic()&&(this.defaultColor2=this.plotModel.getDefaultColor()),this.lineStyle2===k.Automatic&&(this.lineStyle2=this.plotModel.getDefaultLineStyle())}updateData(){super.updateData(),this.isPoints2Defined?(this.abovePoints=this.actualPoints,this.belowPoints=this.actualPoints2):this.splitPoints(this.actualPoints)}async renderScreenPoints(t,e){const s=await super.renderScreenPoints(t,e),n=t,o=[...this.getConstantScreenPoints2(s,n.baseline),...s],a=t.renderContext;if(await O.drawReducedPolygon(a,o,t.minDistSquared,this.getSelectableFillColor(n.fill),p.Undefined,0,this.edgeRenderingMode),this.isPoints2Defined){const l=[this.markerSize];await O.drawMarkers(a,s,this.markerType,void 0,l,n.markerFill,n.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}return s}splitPoints(t){const e=d(Number.NaN,Number.NaN),s=this.limit;this.abovePoints=new Array,this.belowPoints=new Array;let n=!1,o=null;for(const a of t){const l=a.y>=s;if(o&&l!==n){const h=d(this.getInterpolatedX(o,a,s),s);this.abovePoints.push(l?e:h),this.abovePoints.push(l?h:e),this.belowPoints.push(l?h:e),this.belowPoints.push(l?e:h)}(l?this.abovePoints:this.belowPoints).push(a),o=a,n=l}}getConstantScreenPoints2(t,e){const s=[];if(isNaN(e)||t.length<=0)return s;let n=this.inverseTransform(t[0]);n=d(n.x,e),s.push(this.transform(n));let o=this.inverseTransform(t[t.length-1]);return o=d(o.x,e),s.push(this.transform(o)),this.reverse2&&s.reverse(),s}getInterpolatedX(t,e,s){return(s-t.y)/(e.y-t.y)*(e.x-t.x)+t.x}}class Vh extends ${constructor(t){super(t),u(this,"defaultColor2",p.Undefined),u(this,"color2"),u(this,"limit"),this.limit=0,this.color2=r.fromRgb(0,0,255),t&&Object.assign(this,st(t))}get actualColor2(){return this.color2.getActualColor(this.defaultColor2)}setDefaultValues(){super.setDefaultValues(),this.color2.isAutomatic()&&(this.defaultColor2=this.plotModel.getDefaultColor())}async renderLine(t,e){const s=this.getClippingRect(),n=this.inverseTransform(s.bottomLeft),o=this.inverseTransform(s.topRight),a=J.transform;let l=a(this,n.x,Math.min(n.y,o.y));const h=a(this,o.x,this.limit),m=N.fromScreenPoints(l,h).clip(s);l=a(this,n.x,Math.max(n.y,o.y));const c=N.fromScreenPoints(l,h).clip(s);if(this.strokeThickness<=0||this.actualLineStyle===k.None)return;const g=async b=>{await O.drawReducedLine(t,e,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(b),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let f=O.autoResetClip(t,m);await g(this.actualColor2),f.dispose(),f=O.autoResetClip(t,c),await g(this.actualColor),f.dispose()}}const bo=class So extends Bt{constructor(t){super(t),u(this,"_actualItems",[]),u(this,"minValue",0),u(this,"maxValue",0),u(this,"colorAxis"),u(this,"colorAxisKey"),u(this,"labelStringFormatter",(e,s)=>e.value.toFixed(2)),u(this,"labelFontSize",0),u(this,"mapping"),u(this,"items",[]),u(this,"stroke",p.Undefined),u(this,"strokeThickness",2),this.trackerStringFormatter=So.defaultTrackerStringFormatter,this.strokeThickness=2,t&&Object.assign(this,st(t))}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(t){this.verifyAxes(),await this.renderPolygons(t,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem(t){const e=this.actualItems;return!this.itemsSource&&e&&t<e.length?e[t]:super.getItem(t)}clearActualItems(){this._actualItems&&(this._actualItems.length=0),this._actualItems=[]}updateActualItems(){this.clearActualItems();for(const t of this.itemsSource||[]){if(_h(t)){this._actualItems.push(t);continue}if(this.mapping){this._actualItems.push(this.mapping(t));continue}throw new Error("Invalid item")}}async renderPolygons(t,e){const s=[];for(const n of e){const o=We.getColor(this.colorAxis,n.value),a=O.getActualEdgeRenderingMode(this.edgeRenderingMode,U.PreferSharpness);for(const l of n.outlines)if(s.length=0,s.push(...l.map(h=>this.transform(h))),await t.drawPolygon(s,o,this.stroke,this.strokeThickness,a),this.labelFontSize>0){const h=this.labelStringFormatter(n,[]);await t.drawText(me.getCentroid(s),h,this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,B.Center,D.Middle)}}}getNearestPoint(t,e){const s=this.inverseTransform(t);if(!this.isPointInRange(s))return;const n=this.colorAxis,o=(n==null?void 0:n.title)??So.defaultColorAxisTitle,a=[],l=this.actualItems;if(l){for(const h of l)for(let m=0;m<h.outlines.length;m++)if(h.bounds[m].contains(s.x,s.y)&&(a.length=0,a.push(...h.outlines[m].map(c=>this.transform(c))),me.isPointInPolygon(t,a))){const c=super.formatDefaultTrackerString(h,s,g=>{g.colorAxisTitle=o});return new Ot({series:this,dataPoint:s,position:t,item:h,index:-1,text:c})}}}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin(),this.updateMaxMinXY();const t=this.actualItems;t&&t.length>0&&(this.minValue=Lt(t.map(e=>e.value)),this.maxValue=Xt(t.map(e=>e.value)))}updateAxisMaxMin(){super.updateAxisMaxMin();const t=this.colorAxis;t&&(t.include(this.minValue),t.include(this.maxValue))}updateMaxMinXY(){const t=this.actualItems;if(t&&t.length>0){const e=t.flatMap(s=>s.bounds);this.minX=Lt(e.map(s=>s.left)),this.maxX=Xt(e.map(s=>s.right)),this.minY=Lt(e.map(s=>s.top)),this.maxY=Xt(e.map(s=>s.bottom))}}isPointInRange(t){return this.updateMaxMinXY(),t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY}};u(bo,"defaultTrackerStringFormatter",i=>`${i.title}
${i.xTitle}: ${i.xValue}
${i.yTitle}: ${i.yValue}
${i.colorAxisTitle}: ${i.item.value}`),u(bo,"defaultColorAxisTitle","Value");let Tr=bo;function Mo(i,t){if(!i||i.length===0)throw new Error("Outlines does not contain any sub-polygons.");Array.isArray(i[0])||(i=[i]);const e=i.map(n=>n.slice());for(const n of e)for(const o of n)if(en(o)||Je(o.x)||Je(o.y))throw new Error("Outline contains non-finite elements.");const s=e.map(n=>Eh(n));return{outlines:e,value:t,bounds:s}}function Eh(i){let t=i[0].x,e=i[0].y,s=i[0].x,n=i[0].y;for(let o=1;o<i.length;o++)t=Math.min(t,i[o].x),e=Math.min(e,i[o].y),s=Math.max(s,i[o].x),n=Math.max(n,i[o].y);return new N(t,e,s-t,n-e)}function _h(i){return i&&i.outlines&&i.value&&i.bounds}const Ta="1.0",Ca="utf-8",Ye=i=>{};class Oh{constructor(t){u(this,"_no",0),u(this,"w"),u(this,"_stream"),u(this,"_xml",""),u(this,"_disposed",!1),this._stream=t,this.w=pl.create({version:Ta,encoding:Ca})}close(){}flush(){}getXml(){return this._xml}writeAttributeString(t,e){this._no++,Ye(`${this._no},writeAttributeString,${t},${e}`),this.w.att(t,e)}writeAttributeString2(t,e,s,n){this._no++,Ye(`${this._no},writeAttributeString,${t},${e},${s},${n}`),e=t?`${t}:${e}`:e,this.w.att(s,e,n)}writeDocType(t,e,s,n){this._no++,Ye(`${this._no},writeDocType,${t},${e},${s}`),this.w.dtd({name:t,pubID:e,sysID:s})}writeElementString(t,e){this._no++,Ye(`${this._no},writeElementString,${t},${e}`),this.writeStartElement(t),this.writeString(e)}writeEndDocument(){this._no++,Ye(`${this._no},writeEndDocument`),this._xml=this.w.end({prettyPrint:!0}),this._no=0}writeEndElement(){this._no++,Ye(`${this._no},writeEndElement`),this.w=this.w.up()}writeRaw(t){this._no++,Ye(`${this._no},writeRaw,${t}`),this.w.dat(t)}writeStartDocument(t){this._no++,Ye(`${this._no},writeStartDocument,${t}`),this.w.dec({version:Ta,encoding:Ca,standalone:t})}writeStartElement(t,e){this._no++,Ye(`${this._no},writeStartElement,${t},${e||""}`),e?this.w=this.w.ele(e,t):this.w=this.w.ele(t)}writeString(t){this._no++,Ye(`${this._no},writeString,${t}`),this.w.txt(t)}dispose(){this._disposed||(this._disposed=!0,this.close())}}class zh extends Oh{constructor(t,e,s=!0){super(),u(this,"endIsWritten",!1),u(this,"clipPathNumber",1),u(this,"isDocument"),u(this,"numberFormat"),this.isDocument=s,this.numberFormat=n=>vt(n,4).toString(),this.writeHeader(t,e)}close(){this.endIsWritten||this.complete()}complete(){this.writeEndElement(),this.isDocument&&this.writeEndDocument(),this.endIsWritten=!0}createStyle(t,e,s,n=[],o=Q.Miter){let a="";if(t.isInvisible()?a+="fill:none;":(a+=`fill:${this.colorToString(t)};`,t.a!==255&&(a+=`fill-opacity:${t.a/255};`)),e.isInvisible())a+="stroke:none;";else{const l=this.numberFormat(s);switch(a+=`stroke:${this.colorToString(e)};stroke-width:${l}`,o){case Q.Round:a+=";stroke-linejoin:round";break;case Q.Bevel:a+=";stroke-linejoin:bevel";break}if(e.a!==255&&(a+=`;stroke-opacity:${e.a/255}`),n&&n.length>0){a+=";stroke-dasharray:";for(let h=0;h<n.length;h++)a+=`${h>0?",":""}${n[h]}`}}return a}writeEllipse(t,e,s,n,o,a){this.writeStartElement("ellipse"),this.writeAttributeNumberString("cx",t+s/2),this.writeAttributeNumberString("cy",e+n/2),this.writeAttributeNumberString("rx",s/2),this.writeAttributeNumberString("ry",n/2),this.writeAttributeString("style",o),this.writeEdgeRenderingModeAttribute(a),this.writeEndElement()}beginClip(t,e,s,n){const o="clipPath"+this.clipPathNumber++;this.writeStartElement("defs"),this.writeStartElement("clipPath"),this.writeAttributeString("id",o),this.writeStartElement("rect"),this.writeAttributeNumberString("x",t),this.writeAttributeNumberString("y",e),this.writeAttributeNumberString("width",s),this.writeAttributeNumberString("height",n),this.writeEndElement(),this.writeEndElement(),this.writeEndElement(),this.writeStartElement("g"),this.writeAttributeString("clip-path",`url(#${o})`)}endClip(){this.writeEndElement()}writeImage(t,e,s,n,o,a,l,h,m,c){const g=o-t/s*l,f=m.width/s*l,b=a-e/n*h,S=m.height/n*h;this.beginClip(o,a,l,h),this.writeImage2(g,b,f,S,m,c),this.endClip()}writeImage2(t,e,s,n,o,a){this.writeStartElement("image"),this.writeAttributeNumberString("x",t),this.writeAttributeNumberString("y",e),this.writeAttributeNumberString("width",s),this.writeAttributeNumberString("height",n),this.writeAttributeString("preserveAspectRatio","none"),a||this.writeAttributeString("image-rendering","pixelated");const l="data:image/png;base64,"+Gl(o.data);this.writeAttributeString("xlink:href",l),this.writeEndElement()}writeLine(t,e,s,n){this.writeStartElement("line"),this.writeAttributeNumberString("x1",t.x),this.writeAttributeNumberString("y1",t.y),this.writeAttributeNumberString("x2",e.x),this.writeAttributeNumberString("y2",e.y),this.writeAttributeString("style",s),this.writeEdgeRenderingModeAttribute(n),this.writeEndElement()}writePolygon(t,e,s){this.writeStartElement("polygon"),this.writeAttributeString("points",this.pointsToString(t)),this.writeAttributeString("style",e),this.writeEdgeRenderingModeAttribute(s),this.writeEndElement()}writePolyline(t,e,s){this.writeStartElement("polyline"),this.writeAttributeString("points",this.pointsToString(t)),this.writeAttributeString("style",e),this.writeEdgeRenderingModeAttribute(s),this.writeEndElement()}writeRectangle(t,e,s,n,o,a){this.writeStartElement("rect"),this.writeAttributeNumberString("x",t),this.writeAttributeNumberString("y",e),this.writeAttributeNumberString("width",s),this.writeAttributeNumberString("height",n),this.writeAttributeString("style",o),this.writeEdgeRenderingModeAttribute(a),this.writeEndElement()}writeText(t,e,s,n=null,o=10,a=Ut.Normal,l=0,h=B.Left,m=D.Top){this.writeStartElement("text");let c="hanging";m===D.Middle&&(c="middle"),m===D.Bottom&&(c="baseline"),this.writeAttributeString("dominant-baseline",c);let g="start";h===B.Center&&(g="middle"),h===B.Right&&(g="end"),this.writeAttributeString("text-anchor",g);let f=`translate(${t.x},${t.y})`;Math.abs(l)>0&&(f+=` rotate(${l})`),this.writeAttributeString("transform",f),n&&this.writeAttributeString("font-family",n),o>0&&this.writeAttributeNumberString("font-size",o),a>0&&this.writeAttributeNumberString("font-weight",a),s.isInvisible()?this.writeAttributeString("fill","none"):(this.writeAttributeString("fill",this.colorToString(s)),s.a!==255&&this.writeAttributeNumberString("fill-opacity",s.a/255)),this.writeString(e),this.writeEndElement()}colorToString(t){return t.equals(p.Black)?"black":`rgb(${t.r},${t.g},${t.b})`}writeAttributeNumberString(t,e){this.writeAttributeString(t,this.numberFormat(e))}writeEdgeRenderingModeAttribute(t){let e;switch(t){case U.PreferSharpness:e="crispEdges";break;case U.PreferSpeed:e="optimizeSpeed";break;case U.PreferGeometricAccuracy:e="geometricPrecision";break;default:return}this.writeAttributeString("shape-rendering",e)}getAutoValue(t,e){return isNaN(t)?e:this.numberFormat(t)}pointsToString(t){let e="";for(const s of t)e+=`${this.numberFormat(s.x)},${this.numberFormat(s.y)} `;return e.trim()}writeHeader(t,e){this.isDocument&&(this.writeStartDocument(!1),this.writeDocType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd")),this.writeStartElement("svg","http://www.w3.org/2000/svg"),this.writeAttributeString("width",this.getAutoValue(t,"100%")),this.writeAttributeString("height",this.getAutoValue(e,"100%")),this.writeAttributeString("version","1.1"),this.writeAttributeString("xmlns:xlink","http://www.w3.org/1999/xlink")}}class $h extends Po{constructor(t,e,s,n,o,a=!1){if(super(),u(this,"w"),u(this,"textMeasurer"),u(this,"useVerticalTextAlignmentWorkaround"),u(this,"disposed",!1),!n)throw new Error("A text measuring render context must be provided.");this.w=new zh(t,e,s),this.textMeasurer=n,this.useVerticalTextAlignmentWorkaround=a,o.isVisible()&&this.w.writeRectangle(0,0,t,e,this.w.createStyle(o,p.Undefined,0),U.Adaptive)}close(){this.w.close()}complete(){this.w.complete()}getXml(){return this.w.getXml()}async drawEllipse(t,e,s,n,o){this.w.writeEllipse(t.left,t.top,t.width,t.height,this.w.createStyle(e,s,n),o)}async drawLine(t,e,s,n,o,a){this.w.writePolyline(t,this.w.createStyle(p.Undefined,e,s,o,a),n)}async drawPolygon(t,e,s,n,o,a,l){this.w.writePolygon(t,this.w.createStyle(e,s,n,a,l),o)}async drawRectangle(t,e,s,n,o){this.w.writeRectangle(t.left,t.top,t.width,t.height,this.w.createStyle(e,s,n),o)}async drawText(t,e,s,n,o,a,l,h,m,c){if(!e)return;const g=fn.splitLines(e),f=this.measureText(e,n,o,a).height/g.length,b=new dt(-Math.sin(l/180*Math.PI)*f,+Math.cos(l/180*Math.PI)*f);if(this.useVerticalTextAlignmentWorkaround){const S=m===D.Bottom?1-g.length:m===D.Top?1:1-g.length/2;m=D.Bottom,t=bt(t,b.times(S));for(const M of g)this.w.writeText(t,M,s,n,o,a,l,h,m),t=bt(t,b)}else if(m===D.Bottom)for(let S=g.length-1;S>=0;S--){const M=g[S];this.w.writeText(t,M,s,n,o,a,l,h,m),t=ke(t,b)}else for(const S of g)this.w.writeText(t,S,s,n,o,a,l,h,m),t=bt(t,b)}flush(){this.w.flush()}measureText(t,e,s,n){return t===""?lt.Empty:this.textMeasurer.measureText(t,e,s,n)}async drawImage(t,e,s,n,o,a,l,h,m,c,g){this.w.writeImage(e,s,n,o,a,l,h,m,t,g)}dispose(t){this.disposed||t&&this.w.dispose(),this.disposed=!0}setClip(t){this.w.beginClip(t.left,t.top,t.width,t.height)}resetClip(){this.w.endClip()}}class Gh{static convertToFractionString(t,e=1,s,n=1e-6,o){if(Math.abs(t)<n)return"0";t/=e;for(let a=1;a<=64;a++){const l=t*a,h=Math.round(l);if(Math.abs(l-h)<n){const m=!s||h!=1?h.toString():"";return a==1?`${m}${s}`:`${m}${s}/${a}`}}return o?o(t)+(s||""):`${t.toString()}${s||""}`}}class fn{static splitLines(t){return t.split(/\r?\n/)}}class ce{static isReversible(t){if(t.axes.length===0&&t.series.length===0)return!1;for(const e of t.axes){if(e.position===x.None)return!1;const s=e.__isReversible;if(s!==void 0&&!s)return!1}for(const e of t.series){const s=e.constructor.name;if(!(e instanceof Bt)||this.NonReversibleSeriesTypes.has(s))return!1}for(const e of t.annotations){const s=e.constructor.name;if(this.NonReversibleDataSpaceAnnotationTypes.has(s))return!1}return!0}static isTransposable(t){if(t.axes.length===0&&t.series.length===0)return!1;for(const e of t.axes)if(e.position===x.None)return!1;for(const e of t.series){const s=e.constructor.name;if(!Sa(e)||this.NonTransposableSeriesTypes.has(s))return!1}for(const e of t.annotations){const s=e.constructor.name;if(!Sa(e)||this.NonTransposableDataSpaceAnnotationTypes.has(s))return!1}return!0}static reverseXAxis(t){t.title&&(t.title+=" (reversed X Axis)");let e=!1;for(const s of t.axes)s.position===x.Bottom&&(s.startPosition=1-s.startPosition,s.endPosition=1-s.endPosition,e=!0);return e||t.axes.push(new w({position:x.Bottom,startPosition:1,endPosition:0})),t}static reverseYAxis(t){t.title&&(t.title+=" (reversed Y Axis)");let e=!1;for(const s of t.axes)s.position===x.Left&&(s.startPosition=1-s.startPosition,s.endPosition=1-s.endPosition,e=!0);return e||t.axes.push(new w({position:x.Left,startPosition:1,endPosition:0})),t}static reverseAllAxes(t){t.title&&(t.title+=" (reversed all Axes)"),t.update(!1);for(const e of t.axes)(e.position===x.Left||e.position===x.Bottom||e.position===x.Right||e.position===x.Top)&&(e.startPosition=1-e.startPosition,e.endPosition=1-e.endPosition);return t}static transpose(t){t.title&&(t.title+=" (transposed)"),t.update(!1);for(const e of t.axes)switch(e.position){case x.Bottom:e.position=x.Left;break;case x.Left:e.position=x.Bottom;break;case x.Right:e.position=x.Top;break;case x.Top:e.position=x.Right;break;case x.None:break;default:throw new Error("Invalid axis position")}for(const e of t.annotations)e.xAxis&&!e.xAxisKey&&(e.xAxis.key||(e.xAxis.key=this.XAXIS_KEY),e.xAxisKey=e.xAxis.key),e.yAxis&&!e.yAxisKey&&(e.yAxis.key||(e.yAxis.key=this.YAXIS_KEY),e.yAxisKey=e.yAxis.key);for(const e of t.series)e instanceof Bt&&(e.xAxisKey||(e.xAxis?(e.xAxis.key||(e.xAxis.key=this.XAXIS_KEY),e.xAxisKey=e.xAxis.key):e.xAxisKey=this.XAXIS_KEY),e.yAxisKey||(e.yAxis?(e.yAxis.key||(e.yAxis.key=this.YAXIS_KEY),e.yAxisKey=e.yAxis.key):e.yAxisKey=this.YAXIS_KEY));return t}}u(ce,"XAXIS_KEY","x"),u(ce,"YAXIS_KEY","y"),u(ce,"NonReversibleSeriesTypes",new Set),u(ce,"NonReversibleDataSpaceAnnotationTypes",new Set([])),u(ce,"NonTransposableSeriesTypes",new Set(["CandleStickAndVolumeSeries","OldCandleStickSeries"])),u(ce,"NonTransposableDataSpaceAnnotationTypes",new Set);class Kt{static createVector(t,e,s){if(s.toFixed(0)!==s.toString())throw new Error("use createVectorWithStep instead");const n=[];for(let o=0;o<s;o++)n[o]=Number((t+(e-t)*o/(s-1)).toFixed(8));return n}static createVectorWithStep(t,e,s){const n=Math.round((e-t)/s),o=[];for(let a=0;a<=n;a++)o[a]=Number((t+a*s).toFixed(8));return o}static evaluate(t,e,s){const n=e.length,o=s.length,a=[];for(let l=0;l<n;l++){a[l]=[];for(let h=0;h<o;h++)a[l][h]=t(e[l],s[h])}return a}static fill(t,e){for(let s=0;s<t.length;s++)t[s]=e}static fill2D(t,e){for(let s=0;s<t.length;s++)for(let n=0;n<t[s].length;n++)t[s][n]=e}}class Cr{static getNearestHit(t,e,s,n,o,a){if(t){if(s||n){const l=t.getNearestPoint(e,!1);if(this.shouldTrackerOpen(l,e,o))return l}if(!n){const l=t.getNearestPoint(e,!0);if(!a||this.shouldTrackerOpen(l,e,o))return l}}}static shouldTrackerOpen(t,e,s){return t!=null&&t.position?Ve(t.position,e)<s:!1}}class Uh{static contour(t,e,s,n,o){let a=0,l=0,h=0,m=0;const c=new Array(5),g=new Array(5),f=new Array(5),b=new Array(5),S=0,M=t.length-1,T=0,C=t[0].length-1,v=n.length,R=[0,1,1,0],P=[0,0,1,1],I=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],V=(E,q)=>(c[q]*f[E]-c[E]*f[q])/(c[q]-c[E]),_=(E,q)=>(c[q]*b[E]-c[E]*b[q])/(c[q]-c[E]);for(let E=C-1;E>=T;E--)for(let q=S;q<=M-1;q++){const yt=Math.min(t[q][E],t[q][E+1]),Z=Math.min(t[q+1][E],t[q+1][E+1]),ut=Math.min(yt,Z),te=Math.max(t[q][E],t[q][E+1]),Ce=Math.max(t[q+1][E],t[q+1][E+1]),ee=Math.max(te,Ce);if(ee>=n[0]&&ut<=n[v-1]){for(let ie=0;ie<v;ie++)if(n[ie]>=ut&&n[ie]<=ee){for(let kt=4;kt>=0;kt--)kt>0?(c[kt]=t[q+R[kt-1]][E+P[kt-1]]-n[ie],f[kt]=e[q+R[kt-1]],b[kt]=s[E+P[kt-1]]):(c[0]=.25*(c[1]+c[2]+c[3]+c[4]),f[0]=.5*(e[q]+e[q+1]),b[0]=.5*(s[E]+s[E+1])),c[kt]>0?g[kt]=1:c[kt]<0?g[kt]=-1:g[kt]=0;for(let kt=1;kt<=4;kt++){const Tt=kt,Et=0,se=kt!==4?kt+1:1,aa=I[g[Tt]+1][g[Et]+1][g[se]+1];if(aa!==0){switch(aa){case 1:a=f[Tt],h=b[Tt],l=f[Et],m=b[Et];break;case 2:a=f[Et],h=b[Et],l=f[se],m=b[se];break;case 3:a=f[se],h=b[se],l=f[Tt],m=b[Tt];break;case 4:a=f[Tt],h=b[Tt],l=V(Et,se),m=_(Et,se);break;case 5:a=f[Et],h=b[Et],l=V(se,Tt),m=_(se,Tt);break;case 6:a=f[se],h=b[se],l=V(Tt,Et),m=_(Tt,Et);break;case 7:a=V(Tt,Et),h=_(Tt,Et),l=V(Et,se),m=_(Et,se);break;case 8:a=V(Et,se),h=_(Et,se),l=V(se,Tt),m=_(se,Tt);break;case 9:a=V(se,Tt),h=_(se,Tt),l=V(Tt,Et),m=_(Tt,Et);break}o(a,h,l,m,n[ie])}}}}}}}var ki=(i=>(i[i.RejectOutliers=0]="RejectOutliers",i[i.IgnoreOutliers=1]="IgnoreOutliers",i[i.CountOutliers=2]="CountOutliers",i))(ki||{}),us=(i=>(i[i.InclusiveLowerBound=0]="InclusiveLowerBound",i[i.InclusiveUpperBound=1]="InclusiveUpperBound",i))(us||{}),zi=(i=>(i[i.ExcludeExtremeValues=0]="ExcludeExtremeValues",i[i.IncludeExtremeValues=1]="IncludeExtremeValues",i))(zi||{});class wn{constructor(t,e,s){if(this.outlierMode=t,this.intervalType=e,this.extremeValuesMode=s,t!==0&&t!==2&&t!==1)throw new Error("Unsupported binning outlier mode");if(e!==0&&e!==1)throw new Error("Unsupported bin interval type");if(s!==0&&s!==1)throw new Error("Unsupported bin interval type")}}class wi{static createUniformBins(t,e,s){if(s<1)throw new Error("The bin count must be positive.");if(isNaN(t)||!isFinite(t))throw new Error("The start may not be NaN or infinite.");if(isNaN(e)||!isFinite(e))throw new Error("The start may not be NaN or infinite.");if(e<=t)throw new Error("The end must be strictly greater than the start.");const n=[];n.push(t);for(let o=1;o<s;o++)n.push(t+(e-t)*o/s);return n.push(e),n}static collect(t,e,s){if(!t)throw new Error("Samples cannot be undefined.");if(!e)throw new Error("Bin breaks cannot be undefined.");if(!s)throw new Error("Binning options cannot be undefined.");const n=Array.from(new Set(e)).sort((m,c)=>m-c);if(n.length<2)throw new Error("At least 2 distinct bin breaks must be provided.");if(n.some(m=>isNaN(m)||!isFinite(m)))throw new Error("Bin breaks may not be NaN or infinite.");const o=new Array(n.length-1).fill(0);let a=0;function l(m,c){return m-c}for(const m of t){if(isNaN(m)||!isFinite(m))throw new Error("Samples may not be NaN or infinite.");let c=wi.binarySearch(n,m,l),g=!1;if(c>=0?s.intervalType===us.InclusiveUpperBound?c>0?(o[c-1]+=1,g=!0):s.extremeValuesMode===zi.IncludeExtremeValues&&(o[c]+=1,g=!0):c<o.length?(o[c]+=1,g=!0):s.extremeValuesMode===zi.IncludeExtremeValues&&(o[c-1]+=1,g=!0):(c=~c-1,c>=0&&c<o.length&&(o[c]+=1,g=!0)),g)a++;else switch(s.outlierMode){case ki.RejectOutliers:throw new Error(`Sample with value ${m} could not be assigned to any bin.`);case ki.IgnoreOutliers:break;case ki.CountOutliers:a++;break}}a===0&&(a=1);const h=[];for(let m=0;m<n.length-1;m++){const c=o[m];h.push(new Pe(n[m],n[m+1],c/a,c))}return h}static binarySearch(t,e,s){let n=0,o=t.length-1;for(;n<=o;){const a=o+n>>1,l=s(e,t[a]);if(l>0)n=a+1;else if(l<0)o=a-1;else return a}return-n-1}}function jh(){const i=new y({title:"Tool tips"});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i.annotations.push(new Nt({slope:.1,intercept:1,text:"LineAnnotation",toolTip:"This is a tool tip for the LineAnnotation"})),i.annotations.push(new qt({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",toolTip:"This is a tooltip for the RectangleAnnotation",fill:r.fromAColor(99,p.Blue),stroke:p.Black,strokeThickness:2})),i.annotations.push(new Ms({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",toolTip:"This is a tool tip for the EllipseAnnotation",textRotation:10,fill:r.fromAColor(99,p.Green),stroke:p.Black,strokeThickness:2})),i.annotations.push(new je({x:50,y:50,text:"P1",toolTip:"This is a tool tip for the PointAnnotation"})),i.annotations.push(new ss({startPoint:d(8,4),endPoint:d(0,0),color:p.Green,text:"ArrowAnnotation",toolTip:"This is a tool tip for the ArrowAnnotation"})),i.annotations.push(new ue({textPosition:d(60,60),text:"TextAnnotation",toolTip:"This is a tool tip for the TextAnnotation"})),i}const Wh="Annotations",Hh={category:Wh,tags:["Annotations"],examples:[{title:"Tool tips",example:{model:jh}}]};function Yh(){const i=new y;return i.title="ArrowAnnotations",i.axes.push(new w({position:x.Bottom,minimum:-40,maximum:60})),i.axes.push(new w({position:x.Left,minimum:-10,maximum:10})),i.annotations.push(new ss({startPoint:d(8,4),endPoint:d(0,0),color:p.Green,text:"StartPoint and EndPoint"})),i.annotations.push(new ss({arrowDirection:new dt(30,70),endPoint:d(40,-3),color:p.Blue,text:"ArrowDirection and EndPoint"})),i.annotations.push(new ss({arrowDirection:new dt(30,-70),endPoint:d(10,-3),headLength:14,headWidth:6,veeness:4,color:p.Red,text:"HeadLength = 20, HeadWidth = 10, Veeness = 4"})),i}const Xh="ArrowAnnotation",qh={category:Xh,tags:["Annotations"],examples:[{title:"ArrowAnnotation",example:{model:Yh}}]};function Kh(){const i=new y({title:"EllipseAnnotation"});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i.annotations.push(new Ms({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",textRotation:10,fill:r.fromAColor(99,p.Green),stroke:p.Black,strokeThickness:2})),i.annotations.push(new Ms({x:20,y:20,width:20,height:20,fill:r.fromAColor(99,p.Green),stroke:p.Black,strokeThickness:2})),i.annotations.push(new Ms({x:30,y:20,width:20,height:20,fill:r.fromAColor(99,p.Red),stroke:p.Black,strokeThickness:2})),i.annotations.push(new Ms({x:25,y:30,width:20,height:20,fill:r.fromAColor(99,p.Blue),stroke:p.Black,strokeThickness:2})),i}const Zh="EllipseAnnotation",Jh={category:Zh,tags:["Annotations"],examples:[{title:"EllipseAnnotation",example:{model:Kh}}]};function Qh(){const i=new y;return i.title="FunctionAnnotation",i.axes.push(new w({position:x.Bottom,minimum:-20,maximum:80})),i.axes.push(new w({position:x.Left,minimum:-10,maximum:10})),i.annotations.push(new xa({equation:Math.sin,strokeThickness:2,color:r.fromAColor(120,p.Blue),text:"f(x)=sin(x)"})),i.annotations.push(new xa({equation:t=>t*t,strokeThickness:2,color:r.fromAColor(120,p.Red),type:za.EquationY,text:"f(y)=y^2"})),i}const tm="FunctionAnnotation",em={category:tm,tags:["Annotations"],examples:[{title:"FunctionAnnotation",example:{model:Qh}}]};async function im(){const i=window.oxyPlotImg;if(!i)throw new Error("window.oxyPlotImg not set");const t=new y({title:"ImageAnnotation",plotMargins:new X(60,4,4,60)});t.axes.push(new w({position:x.Bottom})),t.axes.push(new w({position:x.Left}));const s=await Ro().load(i);t.annotations.push(new Le({imageSource:s,opacity:.2,interpolate:!1,x:new ot(.5,j.RelativeToPlotArea),y:new ot(.5,j.RelativeToPlotArea),width:new ot(1,j.RelativeToPlotArea),horizontalAlignment:B.Center,verticalAlignment:D.Middle})),t.annotations.push(new Le({imageSource:s,x:new ot(1,j.RelativeToPlotArea),y:new ot(0,j.RelativeToPlotArea),width:new ot(120,j.ScreenUnits),horizontalAlignment:B.Right,verticalAlignment:D.Top})),t.annotations.push(new Le({imageSource:s,x:new ot(0,j.RelativeToPlotArea),y:new ot(0,j.RelativeToPlotArea),offsetY:new ot(-5,j.ScreenUnits),height:new ot(20,j.ScreenUnits),horizontalAlignment:B.Left,verticalAlignment:D.Bottom})),t.annotations.push(new Le({imageSource:s,x:new ot(50,j.Data),y:new ot(50,j.Data),width:new ot(200,j.ScreenUnits),horizontalAlignment:B.Left,verticalAlignment:D.Top})),t.annotations.push(new Le({imageSource:s,x:new ot(50,j.Data),y:new ot(20,j.Data),width:new ot(50,j.Data),horizontalAlignment:B.Center,verticalAlignment:D.Top})),t.annotations.push(new Le({imageSource:s,x:new ot(.5,j.RelativeToViewport),y:new ot(1,j.RelativeToViewport),offsetY:new ot(-35,j.ScreenUnits),height:new ot(30,j.ScreenUnits),horizontalAlignment:B.Center,verticalAlignment:D.Top}));for(let n=0;n<10;n++)t.annotations.push(new Le({imageSource:s,opacity:(n+1)/10,x:new ot(10,j.Data),y:new ot(n*2,j.Data),width:new ot(100,j.ScreenUnits),horizontalAlignment:B.Center,verticalAlignment:D.Bottom}));return t}async function sm(){const i=new y({title:"Using ImageAnnotations to draw a gradient backgrounds",subtitle:"But do you really want this? This is called 'chartjunk'!",plotMargins:new X(60,4,4,60)});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const t=256,e=new Re(1,t);for(let a=0;a<t;a++)e.set(0,a,r.interpolate(p.Blue,p.Red,a/(t-1)));const s=await fe.create(e,pe.Png),n=Re.fromArray([[p.Yellow],[p.Gray]]),o=await fe.create(n,pe.Png);return i.annotations.push(new Le({imageSource:o,interpolate:!0,layer:Me.BelowAxes,x:new ot(0,j.RelativeToViewport),y:new ot(0,j.RelativeToViewport),width:new ot(1,j.RelativeToViewport),height:new ot(1,j.RelativeToViewport),horizontalAlignment:B.Left,verticalAlignment:D.Top})),i.annotations.push(new Le({imageSource:s,interpolate:!0,layer:Me.BelowAxes,x:new ot(0,j.RelativeToPlotArea),y:new ot(0,j.RelativeToPlotArea),width:new ot(1,j.RelativeToPlotArea),height:new ot(1,j.RelativeToPlotArea),horizontalAlignment:B.Left,verticalAlignment:D.Top})),i.series.push(new tt({f:Math.sin,x0:0,x1:7,dx:.01})),i}const _o=Re.fromArray([[p.Blue,p.Yellow],[p.Green,p.Red]]);async function nm(){const i=new y({title:"ImageAnnotation - normal axes"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const t=_o,e=await fe.create(t,pe.Png);return i.annotations.push(new Le({imageSource:e,interpolate:!1,x:new ot(0,j.Data),y:new ot(0,j.Data),width:new ot(80,j.Data),height:new ot(50,j.Data),horizontalAlignment:B.Left,verticalAlignment:D.Bottom})),i}async function om(){const i=new y({title:"ImageAnnotation - reverse horizontal axis"});i.axes.push(new w({position:x.Bottom,startPosition:1,endPosition:0})),i.axes.push(new w({position:x.Left}));const t=_o,e=await fe.create(t,pe.Png);return i.annotations.push(new Le({imageSource:e,interpolate:!1,x:new ot(100,j.Data),y:new ot(0,j.Data),width:new ot(80,j.Data),height:new ot(50,j.Data),horizontalAlignment:B.Left,verticalAlignment:D.Bottom})),i}async function am(){const i=new y({title:"ImageAnnotation - reverse vertical axis"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left,startPosition:1,endPosition:0}));const t=_o,e=await fe.create(t,pe.Png);return i.annotations.push(new Le({imageSource:e,interpolate:!1,x:new ot(0,j.Data),y:new ot(100,j.Data),width:new ot(80,j.Data),height:new ot(50,j.Data),horizontalAlignment:B.Left,verticalAlignment:D.Bottom})),i}const rm="ImageAnnotation",lm={category:rm,tags:["Annotations"],examples:[{title:"ImageAnnotation",example:{model:im}},{title:"ImageAnnotation - gradient backgrounds",example:{model:sm}},{title:"ImageAnnotation - normal axes",example:{model:nm}},{title:"ImageAnnotation - reverse horizontal axis",example:{model:om}},{title:"ImageAnnotation - reverse vertical axis",example:{model:am}}]};function hm(){const i=new y;i.title="LineAnnotation on linear axes",i.axes.push(new w({position:x.Bottom,minimum:-20,maximum:80})),i.axes.push(new w({position:x.Left,minimum:-10,maximum:10}));const t=xe.changeOpacity(p.White,.75);return i.annotations.push(new Nt({slope:.1,intercept:1,text:"First",borderBackground:t,borderPadding:new X(5)})),i.annotations.push(new Nt({slope:.3,intercept:2,maximumX:40,color:p.Red,text:"Second",borderBackground:t,borderPadding:new X(5)})),i.annotations.push(new Nt({type:de.Vertical,x:4,maximumY:10,color:p.Green,text:"Vertical",borderBackground:t,borderPadding:new X(5)})),i.annotations.push(new Nt({type:de.Horizontal,y:2,maximumX:4,color:p.Gold,text:"Horizontal",borderBackground:t,borderPadding:new X(5)})),i}function mm(){const i=new y;return i.title="LineAnnotation on logarithmic axes",i.axes.push(new wt({position:x.Bottom,minimum:1,maximum:80})),i.axes.push(new wt({position:x.Left,minimum:1,maximum:10})),i.annotations.push(new Nt({slope:.1,intercept:1,text:"First",textMargin:40})),i.annotations.push(new Nt({slope:.3,intercept:2,maximumX:40,color:p.Red,text:"Second"})),i.annotations.push(new Nt({type:de.Vertical,x:4,maximumY:10,color:p.Green,text:"Vertical"})),i.annotations.push(new Nt({type:de.Horizontal,y:2,maximumX:4,color:p.Gold,text:"Horizontal"})),i}function um(){const i=new y;return i.title="LineAnnotations",i.subtitle="with TextOrientation specified",i.axes.push(new w({position:x.Bottom,minimum:-20,maximum:80})),i.axes.push(new w({position:x.Left,minimum:-10,maximum:10})),i.annotations.push(new Nt({slope:.1,intercept:1,text:"Horizontal",textOrientation:li.Horizontal,textVerticalAlignment:D.Bottom})),i.annotations.push(new Nt({slope:.3,intercept:2,maximumX:40,color:p.Red,text:"Vertical",textOrientation:li.Vertical})),i.annotations.push(new Nt({type:de.Vertical,x:4,maximumY:10,color:p.Green,text:"Horizontal (x=4)",textPadding:8,textOrientation:li.Horizontal})),i.annotations.push(new Nt({type:de.Vertical,x:45,maximumY:10,color:p.Green,text:"Horizontal (x=45)",textHorizontalAlignment:B.Left,textPadding:8,textOrientation:li.Horizontal})),i.annotations.push(new Nt({type:de.Horizontal,y:2,maximumX:4,color:p.Gold,text:"Horizontal",textLinePosition:.5,textOrientation:li.Horizontal})),i}function cm(){const i=new y;return i.title="ClipByAxis property",i.subtitle="This property specifies if the annotation should be clipped by the current axes or by the full plot area.",i.axes.push(new w({position:x.Bottom,minimum:-20,maximum:80,startPosition:0,endPosition:.45,textColor:p.Red})),i.axes.push(new w({position:x.Left,minimum:-10,maximum:10,startPosition:0,endPosition:.45,textColor:p.Green})),i.axes.push(new w({position:x.Bottom,minimum:-20,maximum:80,startPosition:.55,endPosition:1,textColor:p.Blue})),i.axes.push(new w({position:x.Left,minimum:-10,maximum:10,startPosition:.55,endPosition:1,textColor:p.Orange})),i.annotations.push(new Nt({clipByYAxis:!0,type:de.Vertical,x:0,color:p.Green,text:"Vertical, ClipByAxis = true"})),i.annotations.push(new Nt({clipByYAxis:!1,type:de.Vertical,x:20,color:p.Green,text:"Vertical, ClipByAxis = false"})),i.annotations.push(new Nt({clipByXAxis:!0,type:de.Horizontal,y:2,color:p.Gold,text:"Horizontal, ClipByAxis = true"})),i.annotations.push(new Nt({clipByXAxis:!1,type:de.Horizontal,y:8,color:p.Gold,text:"Horizontal, ClipByAxis = false"})),i}function dm(){const i=new y;return i.title="LineAnnotation on reversed axes",i.axes.push(new w({position:x.Bottom,minimum:-20,maximum:80,startPosition:1,endPosition:0})),i.axes.push(new w({position:x.Left,minimum:-10,maximum:10,startPosition:1,endPosition:0})),i.annotations.push(new Nt({slope:.1,intercept:1,text:"First",textHorizontalAlignment:B.Left})),i.annotations.push(new Nt({slope:.3,intercept:2,maximumX:40,color:p.Red,text:"Second",textHorizontalAlignment:B.Left,textVerticalAlignment:D.Bottom})),i.annotations.push(new Nt({type:de.Vertical,x:4,maximumY:10,color:p.Green,text:"Vertical",textHorizontalAlignment:B.Right})),i.annotations.push(new Nt({type:de.Horizontal,y:2,maximumX:4,color:p.Gold,text:"Horizontal",textHorizontalAlignment:B.Left})),i}const pm="LineAnnotation",gm={category:pm,tags:["Annotations"],examples:[{title:"LineAnnotation on linear axes",example:{model:hm}},{title:"LineAnnotation on logarithmic axes",example:{model:mm}},{title:"LineAnnotation with text orientation specified",example:{model:um}},{title:"LineAnnotation - ClipByAxis property",example:{model:cm}},{title:"LineAnnotation on reversed axes",example:{model:dm}}]};function xm(){const i=new y({title:"PointAnnotation"});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i.annotations.push(new je({x:50,y:50,text:"P1"})),i}function fm(){const i=new y({title:"PointAnnotation - shapes"});return i.axes.push(new w({position:x.Bottom,maximum:120})),i.axes.push(new w({position:x.Left})),i.annotations.push(new je({x:20,y:60,text:"Circle",shape:F.Circle,fill:p.LightGray,stroke:p.DarkGray,strokeThickness:1})),i.annotations.push(new je({x:40,y:60,text:"Square",shape:F.Square,fill:p.LightBlue,stroke:p.DarkBlue,strokeThickness:1})),i.annotations.push(new je({x:60,y:60,text:"Triangle",shape:F.Triangle,fill:p.IndianRed,stroke:p.Black,strokeThickness:1})),i.annotations.push(new je({x:80,y:60,text:"Diamond",shape:F.Diamond,fill:p.ForestGreen,stroke:p.Black,strokeThickness:1})),i.annotations.push(new je({x:100,y:60,text:"Custom",shape:F.Custom,customOutline:[A(-1,-1),A(1,1),A(-1,1),A(1,-1)],stroke:p.Black,fill:p.CadetBlue,strokeThickness:1})),i.annotations.push(new je({x:20,y:40,text:"Cross",shape:F.Cross,stroke:p.IndianRed,strokeThickness:1})),i.annotations.push(new je({x:40,y:40,text:"Plus",shape:F.Plus,stroke:p.Navy,strokeThickness:1})),i.annotations.push(new je({x:60,y:40,text:"Star",shape:F.Star,stroke:p.DarkOliveGreen,strokeThickness:1})),i}function wm(){const i=new y({title:"PointAnnotation - text alignments"});i.axes.push(new w({position:x.Bottom,minimum:-50,maximum:50})),i.axes.push(new w({position:x.Left,minimum:-50,maximum:50}));for(let t=-1;t<=1;t++){const e=t,s=gi(B,e);for(let n=-1;n<=1;n++){const o=n,a=gi(D,o);i.annotations.push(new je({x:t*20,y:n*20,size:10,text:`${s},${a}`,textHorizontalAlignment:e,textVerticalAlignment:o}))}}return i}const ym="PointAnnotation",bm={category:ym,tags:["Annotations"],examples:[{title:"PointAnnotation",example:{model:xm}},{title:"PointAnnotation - shapes",example:{model:fm}},{title:"PointAnnotation - text alignments",example:{model:wm}}]};function Sm(){const i=new y({title:"PolygonAnnotation"});i.axes.push(new w({position:x.Bottom,minimum:-20,maximum:20})),i.axes.push(new w({position:x.Left,minimum:-10,maximum:10}));const t=new Qe({text:"Polygon 1"});return t.points.push(d(4,-2),d(8,-4),d(17,7),d(5,8),d(2,5)),i.annotations.push(t),i}function Mm(){const i=new y({title:"PolygonAnnotation with fixed text position and alignment"});i.axes.push(new w({position:x.Bottom,minimum:-20,maximum:20})),i.axes.push(new w({position:x.Left,minimum:-10,maximum:10}));const t=new Qe({text:"Polygon 1",textHorizontalAlignment:B.Left,textVerticalAlignment:D.Bottom,textPosition:d(4.1,-1.9)});return t.points.push(d(4,-2),d(8,-2),d(17,7),d(5,8),d(4,5)),i.annotations.push(t),i}function km(){const i=new y({title:"Annotation Layers"});i.axes.push(new w({position:x.Bottom,minimum:-20,maximum:30,majorGridlineStyle:k.Solid,majorGridlineThickness:1})),i.axes.push(new w({position:x.Left,minimum:-10,maximum:10,majorGridlineStyle:k.Solid,majorGridlineThickness:1}));const t=new Qe({layer:Me.BelowAxes,text:"Layer = BelowAxes",points:[d(-11,-2),d(-7,-4),d(-3,7),d(-10,8),d(-13,5)]});i.annotations.push(t);const e=new Qe({layer:Me.BelowSeries,text:"Layer = BelowSeries",points:[d(4,-2),d(8,-4),d(12,7),d(5,8),d(2,5)]});i.annotations.push(e);const s=new Qe({layer:Me.AboveSeries,text:"Layer = AboveSeries",points:[d(19,-2),d(23,-4),d(27,7),d(20,8),d(17,5)]});return i.annotations.push(s),i.series.push(new tt({f:Math.sin,x0:-20,x1:30,n:400})),i}function Am(){function i(a){return[d(a.x,a.y+1),d(a.x+Math.sin(Math.PI*2/3),a.y+Math.cos(Math.PI*2/3)),d(a.x+Math.sin(Math.PI*4/3),a.y+Math.cos(Math.PI*4/3))]}const t=new y({title:"PolygonAnnotation",plotType:rt.Cartesian});t.axes.push(new w({position:x.Bottom,minimum:-4,maximum:4})),t.axes.push(new w({position:x.Left,minimum:-2,maximum:2}));const e=new Qe({text:"MSL = 4",minimumSegmentLength:4});let s=Qs(i(d(-2,0)),8,!0,!0);ui(e.points,s),t.annotations.push(e);const n=new Qe({text:"MSL = 2",minimumSegmentLength:2});s=Qs(i(d(0,0)),8,!0,!0),ui(n.points,s),t.annotations.push(n);const o=new Qe({text:"MSL = 1",minimumSegmentLength:1});return s=Qs(i(d(2,0)),8,!0,!0),ui(o.points,s),t.annotations.push(o),t}function Qs(i,t,e,s){const n=Math.cos(Math.PI/3),o=Math.sin(Math.PI/3);let a=i;for(let l=0;l<t;l++){const h=new Array(s?a.length*4:a.length*4-3);for(let m=0;m<(s?a.length:a.length-1);m++){const c=a[m],g=a[(m+1)%a.length],f=(g.x-c.x)/3,b=(g.y-c.y)/3;let S,M;S=n*f-o*b,M=n*b+o*f,h[m*4]=c,h[m*4+1]=d(c.x+f,c.y+b),h[m*4+2]=d(c.x+f+S,c.y+b+M),h[m*4+3]=d(c.x+f*2,c.y+b*2)}s||(h[h.length-1]=a[a.length-1]),a=h}return a}const $n={kochFractal:Qs},Rm="PolygonAnnotation",Tm={category:Rm,tags:["Annotations"],examples:[{title:"PolygonAnnotation",example:{model:Sm}},{title:"PolygonAnnotation with custom text position and alignment",example:{model:Mm}},{title:"AnnotationLayer property",example:{model:km}},{title:"Koch Snowflakes",example:{model:Am}}]};function Cm(){const i=new y({title:"PolylineAnnotation"});i.axes.push(new w({position:x.Bottom,minimum:0,maximum:30})),i.axes.push(new w({position:x.Left,minimum:0,maximum:30}));const t=new Ts({text:"Polyline"});t.points.push(d(0,10),d(5,5),d(20,1),d(30,20));const e=new Ts({text:"Smooth Polyline",interpolationAlgorithm:Ie.CanonicalSpline});return e.points.push(d(0,15),d(3,23),d(9,30),d(20,12),d(30,10)),i.annotations.push(t,e),i}function vm(){function i(o){return[d(o.x-1,o.y),d(o.x+1,o.y)]}const t=new y({title:"PolygonAnnotation",plotType:rt.Cartesian});t.axes.push(new w({position:x.Bottom,minimum:-2,maximum:2})),t.axes.push(new w({position:x.Left,minimum:-2,maximum:2}));const e=new Ts({text:"MSL = 4",minimumSegmentLength:4,lineStyle:k.Solid,textPosition:d(0,1)});e.points.push(...$n.kochFractal(i(d(0,1)),8,!0,!1)),t.annotations.push(e);const s=new Ts({text:"MSL = 2",minimumSegmentLength:2,lineStyle:k.Solid,textPosition:d(0,0)});s.points.push(...$n.kochFractal(i(d(0,0)),8,!0,!1)),t.annotations.push(s);const n=new Ts({text:"MSL = 1",minimumSegmentLength:1,lineStyle:k.Solid,textPosition:d(0,-1)});return n.points.push(...$n.kochFractal(i(d(0,-1)),8,!0,!1)),t.annotations.push(n),t}const Pm="PolylineAnnotation",Lm={category:Pm,tags:["Annotations"],examples:[{title:"PolylineAnnotation",example:{model:Cm}},{title:"Koch Surfaces",example:{model:vm}}]};function Im(){const i=new y({title:"RectangleAnnotation"});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i.annotations.push(new qt({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",fill:r.fromAColor(99,p.Blue),stroke:p.Black,strokeThickness:2})),i}function Bm(){const i=new y({title:"RectangleAnnotations - vertical limit"});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i.annotations.push(new qt({maximumY:89.5,text:"Valid area",fill:r.fromAColor(99,p.Black)})),i}function Dm(){const i=new y({title:"RectangleAnnotation - horizontal bands"});i.axes.push(new w({position:x.Bottom,minimum:0,maximum:10})),i.axes.push(new w({position:x.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),i.annotations.push(new qt({minimumY:89.5,maximumY:90.8,text:"Invalid",fill:r.fromAColor(99,p.Red)})),i.annotations.push(new qt({minimumY:90.8,maximumY:92.1,fill:r.fromAColor(99,p.Orange)})),i.annotations.push(new qt({minimumY:92.1,maximumY:94.6,fill:r.fromAColor(99,p.Yellow)})),i.annotations.push(new qt({minimumY:94.6,maximumY:96,text:"Ok",fill:r.fromAColor(99,p.Green)}));const t=new $({color:p.Black,strokeThickness:6,lineJoin:Q.Round});return t.points.push(d(.5,90.7)),t.points.push(d(1.5,91.2)),t.points.push(d(2.5,91)),t.points.push(d(3.5,89.5)),t.points.push(d(4.5,92.5)),t.points.push(d(5.5,93.1)),t.points.push(d(6.5,94.5)),t.points.push(d(7.5,95.5)),t.points.push(d(8.5,95.7)),t.points.push(d(9.5,96)),i.series.push(t),i}function Nm(){const i=new y({title:"RectangleAnnotation - vertical bands"});i.axes.push(new w({position:x.Bottom,minimum:0,maximum:10})),i.axes.push(new w({position:x.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),i.annotations.push(new qt({minimumX:2.5,maximumX:2.8,textRotation:90,text:"Red",fill:r.fromAColor(99,p.Red)})),i.annotations.push(new qt({minimumX:2.8,maximumX:6.1,textRotation:90,text:"Orange",fill:r.fromAColor(99,p.Orange)})),i.annotations.push(new qt({minimumX:6.1,maximumX:7.6,textRotation:90,text:"Yellow",fill:r.fromAColor(99,p.Yellow)})),i.annotations.push(new qt({minimumX:7.6,maximumX:9.7,textRotation:270,text:"Green",fill:r.fromAColor(99,p.Green)}));const t=new $({color:p.Black,strokeThickness:6,lineJoin:Q.Round});return t.points.push(d(.5,90.7)),t.points.push(d(1.5,91.2)),t.points.push(d(2.5,91)),t.points.push(d(3.5,89.5)),t.points.push(d(4.5,92.5)),t.points.push(d(5.5,93.1)),t.points.push(d(6.5,94.5)),t.points.push(d(7.5,95.5)),t.points.push(d(8.5,95.7)),t.points.push(d(9.5,96)),i.series.push(t),i}const Fm="RectangleAnnotation",Vm={category:Fm,tags:["Annotations"],examples:[{title:"RectangleAnnotation",example:{model:Im}},{title:"RectangleAnnotations - vertical limit",example:{model:Bm}},{title:"RectangleAnnotation - horizontal bands",example:{model:Dm}},{title:"RectangleAnnotation - vertical bands",example:{model:Nm}}]};function Em(){const i=new y({title:"TextAnnotation"});i.axes.push(new w({position:x.Bottom,minimum:-15,maximum:25})),i.axes.push(new w({position:x.Left,minimum:-5,maximum:18})),i.annotations.push(new ue({textPosition:d(-6,0),text:"Text annotation 1"})),i.annotations.push(new ue({textPosition:d(-7,10),textRotation:80,text:"Text annotation 2"})),i.annotations.push(new ue({textPosition:d(2,2),textRotation:20,textHorizontalAlignment:B.Right,textVerticalAlignment:D.Top,text:"Right/Top"})),i.annotations.push(new ue({textPosition:d(2,4),textRotation:20,textHorizontalAlignment:B.Right,textVerticalAlignment:D.Middle,text:"Right/Middle"})),i.annotations.push(new ue({textPosition:d(2,6),textRotation:20,textHorizontalAlignment:B.Right,textVerticalAlignment:D.Bottom,text:"Right/Bottom"})),i.annotations.push(new ue({textPosition:d(10,2),textRotation:20,textHorizontalAlignment:B.Center,textVerticalAlignment:D.Top,text:"Center/Top"})),i.annotations.push(new ue({textPosition:d(10,4),textRotation:20,textHorizontalAlignment:B.Center,textVerticalAlignment:D.Middle,text:"Center/Middle"})),i.annotations.push(new ue({textPosition:d(10,6),textRotation:20,textHorizontalAlignment:B.Center,textVerticalAlignment:D.Bottom,text:"Center/Bottom"})),i.annotations.push(new ue({textPosition:d(18,2),textRotation:20,textHorizontalAlignment:B.Left,textVerticalAlignment:D.Top,text:"Left/Top"})),i.annotations.push(new ue({textPosition:d(18,4),textRotation:20,textHorizontalAlignment:B.Left,textVerticalAlignment:D.Middle,text:"Left/Middle"})),i.annotations.push(new ue({textPosition:d(18,6),textRotation:20,textHorizontalAlignment:B.Left,textVerticalAlignment:D.Bottom,text:"Left/Bottom"}));const t=.05,e=(s,n)=>{const o=new Qe({layer:Me.BelowAxes,points:[d(s-t,n-t),d(s+t,n-t),d(s+t,n+t),d(s-t,n+t),d(s-t,n-t)]});i.annotations.push(o)};for(const s of[...i.annotations]){const n=s;n&&e(n.textPosition.x,n.textPosition.y)}return i}function _m(){const i=new y({title:"TextAnnotation Rotations"});i.axes.push(new w({position:x.Bottom,minimum:-5,maximum:45})),i.axes.push(new w({position:x.Left,startPosition:1,endPosition:0,minimum:-1,maximum:8}));for(let t=0;t<360;t+=5)i.annotations.push(new ue({textRotation:t,textPosition:d(t%45,t/45),text:`${t}°`,textVerticalAlignment:D.Middle,textHorizontalAlignment:B.Center}));return i}const Om="TextAnnotation",zm={category:Om,tags:["Annotations"],examples:[{title:"TextAnnotation",example:{model:Em}},{title:"Rotations",example:{model:_m}}]},$m=[Hh,qh,Jh,em,lm,gm,bm,Tm,Lm,Vm,zm];function Gm(){const i=new y({title:"Normal distribution",subtitle:"Probability density function"});return i.axes.push(new w({position:x.Left,minimum:-.05,maximum:1.05,majorStep:.2,minorStep:.05,tickStyle:it.Inside})),i.axes.push(new w({position:x.Bottom,minimum:-5.25,maximum:5.25,majorStep:1,minorStep:.25,tickStyle:it.Inside})),i.series.push(Ee(-5,5,0,.2)),i.series.push(Ee(-5,5,0,1)),i.series.push(Ee(-5,5,0,5)),i.series.push(Ee(-5,5,-2,.5)),i}const Ee=(i,t,e,s,n=1001)=>{const o=new $;o.title=`μ=${e}, σ²=${s}`;for(let a=0;a<n;a++){const l=i+(t-i)*a/(n-1),h=1/Math.sqrt(2*Math.PI*s)*Math.exp(-(l-e)*(l-e)/2/s);o.points.push(d(l,h))}return o};function Um(){const i=new y({title:"Average (Mean) monthly temperatures in 2003",plotMargins:new X(60,4,60,40),plotAreaBorderThickness:new X(0),isLegendVisible:!1}),t=m=>`${m.title}: ${Number(m.yValue).toFixed(1)}ºF`,e=new $({title:"Phoenix",lineLegendPosition:os.End,trackerStringFormatter:t}),s=new $({title:"Raleigh",lineLegendPosition:os.End,trackerStringFormatter:t}),n=new $({title:"Minneapolis",lineLegendPosition:os.End,trackerStringFormatter:t}),o=[52.1,55.1,59.7,67.7,76.3,84.6,91.2,89.1,83.8,72.2,59.8,52.5],a=[40.5,42.2,49.2,59.5,67.4,74.4,77.5,76.5,70.6,60.2,50,41.2],l=[12.2,16.5,28.3,45.1,57.1,66.9,71.9,70.2,60,50,32.4,18.6];for(let m=0;m<12;m++)e.points.push(d(m,o[m])),s.points.push(d(m,a[m])),n.points.push(d(m,l[m]));i.series.push(e),i.series.push(s),i.series.push(n);const h=new K({axislineStyle:k.Solid});return h.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),i.axes.push(h),i.axes.push(new w({position:x.Left,title:"Fahrenheit",axislineStyle:k.Solid})),i}const jm="1 ShowCases",Wm={category:jm,tags:["Showcase"],examples:[{title:"Normal distribution",example:{model:Gm}},{title:"Average (Mean) monthly temperatures in 2003",example:{model:Um}}]};class St{constructor(t){}next(t,e){return xi(t)&&xi(e)?Math.random():(t=t||0,e=Mt(e)?1:e,Math.floor(Math.random()*(e-t+1))+t)}}function Hm(){return bn(it.None)}function Ym(){return bn(it.Inside)}function Xm(){return bn(it.Crossing)}function qm(){return bn(it.Outside)}function Km(){const i=new y({title:"Color major and minor ticks differently"});return i.axes.push(new w({position:x.Left,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:p.Blue,minorTicklineColor:p.Gray})),i.axes.push(new w({position:x.Bottom,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:p.Blue,minorTicklineColor:p.Gray})),i}function Zm(){const i=new y({title:"No gridlines"});return i.axes.push(new w({position:x.Left})),i.axes.push(new w({position:x.Bottom})),i}function Jm(){const i=new y({title:"Vertical gridlines"});return i.axes.push(new w),i.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Bottom})),i}function Qm(){const i=new y({title:"Horizontal gridlines"});return i.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot})),i.axes.push(new w({position:x.Bottom})),i}function tu(){const i=new y({title:"Horizontal and vertical gridlines"});return i.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot})),i.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Bottom})),i}function eu(){const i=new y;return i.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,title:"Left"})),i.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Bottom,title:"Bottom"})),i}function iu(){const i=new y;return i.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Right,title:"Right"})),i.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Top,title:"Top"})),i}function su(){const i=new y({plotMargins:new X(60,40,60,30)});return i.axes.push(new w({angle:45,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,title:"Left"})),i.axes.push(new w({angle:45,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Bottom,title:"Bottom"})),i}function nu(){const i=new y({title:"PositionAtZeroCrossing = true",plotAreaBorderThickness:new X(0),plotMargins:new X(10,10,10,10)});return i.axes.push(new w({maximum:50,minimum:-30,positionAtZeroCrossing:!0,axislineStyle:k.Solid,tickStyle:it.Crossing})),i.axes.push(new w({maximum:70,minimum:-50,position:x.Bottom,positionAtZeroCrossing:!0,axislineStyle:k.Solid,tickStyle:it.Crossing})),i}function ou(){const i=new y({title:"Bottom axis: PositionAtZeroCrossing = true"});return i.axes.push(new w({maximum:50,minimum:-30,position:x.Left,positionAtZeroCrossing:!1})),i.axes.push(new w({maximum:70,minimum:-50,position:x.Bottom,positionAtZeroCrossing:!0,axislineStyle:k.Solid})),i}function au(){const i=new y({title:"Left axis: PositionAtZeroCrossing = true"});return i.axes.push(new w({maximum:50,minimum:-30,position:x.Left,positionAtZeroCrossing:!0,axislineStyle:k.Solid})),i.axes.push(new w({maximum:70,minimum:-50,position:x.Bottom,positionAtZeroCrossing:!1})),i}function ru(){const i=new y({title:"EndPosition = 0, StartPosition = 1"});return i.axes.push(new w({endPosition:0,startPosition:1,maximum:50,minimum:-30,position:x.Left})),i.axes.push(new w({endPosition:0,startPosition:1,maximum:70,minimum:-50,position:x.Bottom})),i}function lu(){const i=new y;i.axes.push(new w({endPosition:0,startPosition:1,maximum:1.5,minimum:-1.5,position:x.Left}));const t=new w({startPosition:0,endPosition:.45,maximum:7,minimum:0,position:x.Bottom,key:"x1"});i.axes.push(t);const e=new w({startPosition:.55,endPosition:1,maximum:10,minimum:0,position:x.Bottom,key:"x2"});return i.axes.push(e),i.series.push(new tt({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:t.key})),i.series.push(new tt({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:e.key})),i}function hu(){const i=new y;return i.axes.push(new w({maximum:36,minimum:0,title:"km/h"})),i.axes.push(new w({maximum:10,minimum:0,position:x.Right,title:"m/s"})),i.axes.push(new w({maximum:10,minimum:0,position:x.Bottom,title:"meter"})),i.axes.push(new w({maximum:1e4,minimum:0,position:x.Top,title:"millimeter"})),i}function mu(){const i=new y;return i.axes.push(new w({endPosition:.25,maximum:1,minimum:-1,title:"C1"})),i.axes.push(new w({endPosition:.5,maximum:1,minimum:-1,position:x.Right,startPosition:.25,title:"C2"})),i.axes.push(new w({endPosition:.75,maximum:1,minimum:-1,startPosition:.5,title:"C3"})),i.axes.push(new w({maximum:1,minimum:-1,position:x.Right,startPosition:.75,title:"C4"})),i.axes.push(new w({maximum:100,minimum:0,position:x.Bottom,title:"s"})),i}function uu(){const i=new y;return i.axes.push(new wt({maximum:1e6,minimum:1,title:"Log axis",useSuperExponentialFormat:!0})),i.axes.push(new wt({maximum:1e4,minimum:.001,position:x.Bottom,title:"Log axis",useSuperExponentialFormat:!0})),i}const cu=()=>new y({plotType:rt.Cartesian,axes:[new wt({maximum:1e6,minimum:1,title:"Log x axis",useSuperExponentialFormat:!0,majorGridlineStyle:k.Solid,isPanEnabled:!0}),new wt({maximum:1e4,minimum:.001,position:x.Bottom,title:"Log y axis",useSuperExponentialFormat:!0,majorGridlineStyle:k.Solid,isPanEnabled:!0})]});function du(){const i=new y;return i.axes.push(new w({maximum:6e32,minimum:-1e47,title:"big numbers"})),i.axes.push(new w({maximum:3e50,minimum:-1e40,position:x.Bottom,title:"big numbers"})),i}function pu(){const i=new y;return i.axes.push(new w({maximum:6e32,minimum:-1e47,title:"big numbers",useSuperExponentialFormat:!0})),i.axes.push(new w({maximum:3e50,minimum:-1e40,position:x.Bottom,title:"big numbers",useSuperExponentialFormat:!0})),i}function gu(){const i=new y;return i.axes.push(new w({maximum:6e-15,minimum:-5e-15,title:"small numbers"})),i.axes.push(new w({maximum:3e-15,minimum:-4e-15,position:x.Bottom,title:"small numbers"})),i}function xu(){const i=new y({title:"Default padding"});i.axes.push(new w),i.axes.push(new w({position:x.Bottom}));const t=new $({color:r.fromArgb(255,78,154,6),markerFill:r.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),i.series.push(t),i}function fu(){const i=new y({title:"No padding"});i.axes.push(new w({maximumPadding:0,minimumPadding:0})),i.axes.push(new w({maximumPadding:0,minimumPadding:0,position:x.Bottom}));const t=new $({color:r.fromArgb(255,78,154,6),markerFill:r.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),i.series.push(t),i}function wu(){const i=new y({title:"Padding 10%"});i.axes.push(new w({maximumPadding:.1,minimumPadding:.1})),i.axes.push(new w({maximumPadding:.1,minimumPadding:.1,position:x.Bottom}));const t=new $({color:r.fromArgb(255,78,154,6),markerFill:r.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),i.series.push(t),i}function yu(){const i=new y({title:"X-axis MinimumPadding=0.1"});i.axes.push(new w),i.axes.push(new w({minimumPadding:.1,position:x.Bottom}));const t=new $({color:r.fromArgb(255,78,154,6),markerFill:r.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),i.series.push(t),i}function bu(){const i=new y({title:"X-axis MaximumPadding=0.1"});i.axes.push(new w),i.axes.push(new w({maximumPadding:.1,position:x.Bottom}));const t=new $({color:r.fromArgb(255,78,154,6),markerFill:r.fromArgb(255,78,154,6)});return t.points.push(d(10,4)),t.points.push(d(12,7)),t.points.push(d(16,3)),t.points.push(d(20,9)),i.series.push(t),i}function Su(){const i=new y({title:"AbsoluteMinimum=-17, AbsoluteMaximum=63",subtitle:"Zooming and panning is limited to these values."});return i.axes.push(new w({position:x.Bottom,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),i.axes.push(new w({position:x.Left,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),i}function Mu(){const i=new y({title:"MinimumRange = 400"});return i.axes.push(new w({position:x.Left,minimumRange:400})),i}function ku(){const i=new y({title:"MaximumRange = 40"});return i.axes.push(new w({position:x.Left,maximumRange:40})),i}function Au(){const i=new y({title:"Axis titles with units"});return i.axes.push(new w({position:x.Bottom,title:"Speed",unit:"km/h"})),i.axes.push(new w({position:x.Left,title:"Temperature",unit:"°C"})),i}function Ru(){const i=new y({title:"Invisible vertical axis"});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left,isAxisVisible:!1})),i.series.push(new tt({f:t=>Math.sin(t)/t,x0:-5,x1:5,dx:.1})),i}function Tu(){const i=new y({title:"Invisible horizontal axis"});return i.axes.push(new w({position:x.Bottom,isAxisVisible:!1})),i.axes.push(new w({position:x.Left})),i.series.push(new tt({f:t=>Math.sin(t)*t*t,x0:-5,x1:5,dx:.1})),i}function Cu(){const i=new y({title:"Zooming disabled"});return i.axes.push(new w({position:x.Bottom,isZoomEnabled:!1})),i.axes.push(new w({position:x.Left,isZoomEnabled:!1})),i}function vu(){const i=new y({title:"Panning disabled"});return i.axes.push(new w({position:x.Bottom,isPanEnabled:!1})),i.axes.push(new w({position:x.Left,isPanEnabled:!1})),i}function Pu(){const i=new y({title:"Dense intervals"});return i.axes.push(new w({position:x.Bottom,intervalLength:30})),i.axes.push(new w({position:x.Left,intervalLength:20})),i}function Lu(){const i=new y({title:"Graph Paper"}),t=p.DarkBlue;return i.plotType=rt.Cartesian,i.axes.push(new w({position:x.Bottom,title:"X",majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i.axes.push(new w({position:x.Left,title:"Y",majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i}function Iu(){const i=new y({title:"Log-Log Paper"}),t=p.DarkBlue;return i.axes.push(new wt({position:x.Bottom,title:"X",minimum:.1,maximum:1e3,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i.axes.push(new wt({position:x.Left,title:"Y",minimum:.1,maximum:1e3,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i}function Bu(){const i=new y({title:"Black background",background:p.Black,textColor:p.White,plotAreaBorderColor:p.White}),t=p.White;return i.plotType=rt.Cartesian,i.series.push(new tt({f:Math.sin,x0:0,x1:Math.PI*2,n:1e3,title:"f(x)=sin(x)"})),i.axes.push(new w({position:x.Bottom,title:"x",majorStep:Math.PI/2,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t),ticklineColor:p.White})),i.axes.push(new w({position:x.Left,title:"f(x)",majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t),ticklineColor:p.White})),i}function Du(){const i=new y({title:"Background and PlotAreaBackground",background:p.Silver,plotAreaBackground:p.Gray,plotAreaBorderColor:p.Black,plotAreaBorderThickness:new X(3)});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function Nu(){const i=new y({title:"Current culture"});return i.axes.push(new w({position:x.Bottom,minimum:-1,maximum:1})),i.axes.push(new w({position:x.Left,minimum:-1,maximum:1})),i.series.push(new tt({f:Math.sin,x0:-1,x1:1,n:100})),i}function Fu(){const i="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",t="The tool tip is "+i,e=new y({title:"Long axis titles (clipped at 90%)"});return e.axes.push(new w({position:x.Left,title:i,toolTip:t})),e.axes.push(new w({position:x.Bottom,title:i,toolTip:t})),e}function Vu(){const i="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",t="The tool tip is "+i,e=new y({title:"Long axis titles (clipped at 100%)"});return e.axes.push(new w({position:x.Left,title:i,toolTip:t,titleClippingLength:1})),e.axes.push(new w({position:x.Bottom,title:i,toolTip:t,titleClippingLength:1})),e}function Eu(){const i="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",t="The tool tip is "+i,e=new y({title:"Long axis titles (not clipped)"});return e.axes.push(new w({position:x.Left,title:i,toolTip:t,clipTitle:!1})),e.axes.push(new w({position:x.Bottom,title:i,toolTip:t,clipTitle:!1})),e}function _u(){const i=new y,t=new w({maximum:1,minimum:-1,title:"PositionTier=0"});i.axes.push(t);const e=new w({axislineStyle:k.Solid,maximum:2,minimum:-2,positionTier:1,title:"PositionTier=1"});i.axes.push(e);const s=new w({maximum:1,minimum:-1,position:x.Right,title:"PositionTier=0"});i.axes.push(s);const n=new w({axislineStyle:k.Solid,maximum:2,minimum:-2,position:x.Right,positionTier:1,title:"PositionTier=1"});i.axes.push(n);const o=new w({maximum:1,minimum:-1,position:x.Top,title:"PositionTier=0"});i.axes.push(o);const a=new w({axislineStyle:k.Solid,maximum:2,minimum:-2,position:x.Top,positionTier:1,title:"PositionTier=1"});i.axes.push(a);const l=new w({axislineStyle:k.Solid,maximum:10,minimum:-10,position:x.Top,positionTier:2,title:"PositionTier=2"});i.axes.push(l);const h=new w({maximum:1,minimum:-1,position:x.Bottom,title:"PositionTier=0"});i.axes.push(h);const m=new w({axislineStyle:k.Solid,maximum:2,minimum:-2,position:x.Bottom,positionTier:1,title:"PositionTier=1"});i.axes.push(m);const c=new w({axislineStyle:k.Solid,maximum:10,minimum:-10,position:x.Bottom,positionTier:2,title:"PositionTier=2"});return i.axes.push(c),i}function Ou(){const i=new y({title:"Custom axis title color"});return i.axes.push(new w({position:x.Bottom,minimum:-1,maximum:1,title:"Bottom axis",titleColor:p.Red})),i.axes.push(new w({position:x.Left,minimum:-1,maximum:1,title:"Left axis",titleColor:p.Blue})),i.series.push(new tt({f:Math.sin,x0:-1,x1:1,n:100})),i}function zu(){const i=new y({title:"Custom axis label color"});return i.axes.push(new w({position:x.Bottom,minimum:-1,maximum:1,title:"Bottom axis",textColor:p.Red})),i.axes.push(new w({position:x.Left,minimum:-1,maximum:1,title:"Left axis",textColor:p.Blue})),i.series.push(new tt({f:Math.sin,x0:-1,x1:1,n:100})),i}function $u(){const i=new y({title:"Angled axis numbers"});return i.axes.push(new w({position:x.Bottom,minimum:-1,maximum:1,title:"Bottom axis",angle:45})),i.axes.push(new w({position:x.Left,minimum:-1,maximum:1,title:"Left axis",angle:45})),i.axes.push(new w({position:x.Top,minimum:-1,maximum:1,title:"Top axis",angle:45})),i.axes.push(new w({position:x.Right,minimum:-1,maximum:1,title:"Right axis",angle:45})),i}function Gu(){const i=new y({title:"AxisDistance = 20"});return i.axes.push(new w({axislineStyle:k.Solid,axisDistance:20,position:x.Bottom})),i.axes.push(new w({axislineStyle:k.Solid,axisDistance:20,position:x.Left})),i.axes.push(new w({axislineStyle:k.Solid,axisDistance:20,position:x.Right})),i.axes.push(new w({axislineStyle:k.Solid,axisDistance:20,position:x.Top})),i}function Uu(){const i=new y({title:"No axes defined",subtitle:"Bottom and left axes are auto-generated."});return i.series.push(new tt({f:Math.sin,x0:0,x1:10,n:400})),i}function ju(){const i=new y({title:"LabelFormatter"});i.axes.push(new w({position:x.Bottom,minimum:-10,maximum:10,labelFormatter:e=>Math.abs(e)<Number.EPSILON?"ZERO":e.toString()}));const t=65;return i.axes.push(new w({position:x.Left,minimum:0,maximum:25,majorStep:1,minorStep:1,maximumPadding:0,minimumPadding:0,labelFormatter:e=>String.fromCharCode(e+t)})),i}function Wu(){const i=new y({title:"Tool tips"});return i.axes.push(new w({position:x.Left,title:"Left axis",toolTip:"Tool tip for the left axis"})),i.axes.push(new w({position:x.Bottom,title:"Bottom axis",toolTip:"Tool tip for the bottom axis"})),i}function Hu(){const i=new y({title:"Sub- and superscript in axis titles"});return i.axes.push(new w({title:"Title with^{super}_{sub}script"})),i.axes.push(new w({title:"Title with^{super}_{sub}script",position:x.Bottom})),i}function Yu(){const i=new y({title:"Axes with MinimumMajorStep"});return i.axes.push(new w({position:x.Bottom,title:"MinimuMajorStep = 1",minimum:0,maximum:2,minimumMajorStep:1})),i.axes.push(new w({position:x.Left,title:"MinimuMajorStep = 10",minimum:0,maximum:15,minimumMajorStep:10})),i.axes.push(new w({position:x.Top,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:2})),i.axes.push(new w({position:x.Right,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:15})),i}function Xu(){const i=new y({title:"Axes with MinimumMinorStep"});return i.axes.push(new w({position:x.Bottom,title:"MinimumMinorStep = 1",minimum:0,maximum:20,minimumMinorStep:1})),i.axes.push(new w({position:x.Left,title:"MinimumMinorStep = 10",minimum:0,maximum:150,minimumMinorStep:10})),i.axes.push(new w({position:x.Top,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:20})),i.axes.push(new w({position:x.Right,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:150})),i}function qu(){const i=new y({title:"AxisTitleDistance = 4 (default)"});return i.axes.push(new w({position:x.Bottom,title:"Bottom",minimum:0,maximum:20})),i.axes.push(new w({position:x.Left,title:"Left",minimum:0,maximum:150})),i.axes.push(new w({position:x.Top,title:"Top",minimum:0,maximum:20})),i.axes.push(new w({position:x.Right,title:"Right",minimum:0,maximum:150})),i}function Ku(){const i=new y({title:"AxisTitleDistance = 40"});return i.axes.push(new w({position:x.Bottom,title:"Bottom",minimum:0,maximum:20,axisTitleDistance:40})),i.axes.push(new w({position:x.Left,title:"Left",minimum:0,maximum:150,axisTitleDistance:40})),i.axes.push(new w({position:x.Top,title:"Top",minimum:0,maximum:20,axisTitleDistance:40})),i.axes.push(new w({position:x.Right,title:"Right",minimum:0,maximum:150,axisTitleDistance:40})),i}function Zu(){const i=new y({title:"MajorGridlineStyle and MajorGridlineThickness"});return i.axes.push(new w({majorGridlineStyle:k.Solid,majorGridlineThickness:10})),i.axes.push(new w({majorGridlineStyle:k.Solid,majorGridlineThickness:10,position:x.Bottom})),i}function Ju(){const i=new y({title:"Gridline cropping"});return i.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,extraGridlines:[46],extraGridlineColor:p.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),i.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,extraGridlines:[46],extraGridlineColor:p.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),i.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Bottom,extraGridlines:[46],extraGridlineColor:p.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),i.axes.push(new w({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dot,position:x.Bottom,extraGridlines:[46],extraGridlineColor:p.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),i}function Qu(){const i="axisY_Temperature",t="axisY_Pressure",e="axisY_Humidity",s=new y({title:"Multi vertical axes with lineSeries"}),n=new W({legendBackground:p.White});s.legends.push(n);const o=new It({title:"Time",position:x.Bottom,majorGridlineStyle:k.Solid,fontSize:13});s.axes.push(o);let a=null,l=null,h=null,m=null,c=null,g=null;m=new w({title:"Temperature",position:x.Left,majorGridlineStyle:k.None,positionTier:1,key:i,isAxisVisible:!0}),a=new $({title:"Temperature",color:p.Tomato,lineStyle:k.Solid,markerType:F.Circle,markerSize:3,markerFill:p.Red,yAxisKey:i,isVisible:!0}),s.axes.push(m),s.series.push(a),c=new w({title:"Pressure",position:x.Left,majorGridlineStyle:k.None,positionTier:2,key:t,isAxisVisible:!0}),l=new $({title:"Pressure",color:p.Peru,lineStyle:k.Solid,markerType:F.Circle,markerSize:3,markerFill:p.Sienna,yAxisKey:t,isVisible:!0}),s.axes.push(c),s.series.push(l),g=new w({title:"Humidity",position:x.Left,majorGridlineStyle:k.None,positionTier:3,key:e,isAxisVisible:!0}),h=new $({title:"Humidity",color:p.LightSkyBlue,lineStyle:k.Solid,markerType:F.Circle,markerSize:3,markerFill:p.DeepSkyBlue,yAxisKey:e,isVisible:!0}),s.axes.push(g),s.series.push(h);{a.points.length=0,l.points.length=0,h.points.length=0;const f=_t.fromMilliseconds(1e3),b=Ze();let S=new Date(2018,8,10);const M=100;for(let T=1;T<=M;T++){const C=20+Math.sin(T),v=760+1.5*Math.cos(1.5*T),R=50+2*Math.sin(2*T);a.points.push(It.createDataPoint(S,C)),l.points.push(It.createDataPoint(S,v)),h.points.push(It.createDataPoint(S,R)),S=b.addTimespan(S,f)}m.minimum=10,m.maximum=23,c.minimum=750,c.maximum=770,g.minimum=47,g.maximum=60}return s}function tc(){const i=new y({title:"Auto-adjusting plot margins",subtitle:"When zooming in and out the plot margins should adjust accordingly"});return i.axes.push(new w({position:x.Bottom,title:"X Axis",titleFontSize:16})),i}function ec(){const i=new y({title:"Manual Margins",subtitle:"PlotMargins = 40",plotMargins:new X(40)});return i.axes.push(new w({position:x.Bottom})),i}function ic(){const i=new y({title:"Manual Left Margin",subtitle:"PlotMargins = 40,NaN,NaN,NaN",plotMargins:new X(40,NaN,NaN,NaN)});return i.axes.push(new w({position:x.Bottom})),i}function sc(){const i=new y({title:"Auto-adjusting plot margins - wide axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"});return i.axes.push(yn()),i}function nc(){const i=new y({title:"Auto-adjusting plot margins - wide rotated axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"}),t=yn();return t.angle=-90,i.axes.push(t),i}function oc(){const i=new y({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"When the axis range is fixed there should be no unnecessary space reserved for axis labels"}),t=yn();return t.isPanEnabled=!1,t.isZoomEnabled=!1,i.axes.push(t),i}function ac(){const i=new y({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"The axis labels should exactly fit in the viewport"}),t=yn();return t.isPanEnabled=!1,t.isZoomEnabled=!1,t.minimum=-.01,t.maximum=3.01,i.axes.push(t),i}function yn(){const i=new K({position:x.Bottom});return i.labels.push("Label"),i.labels.push("Long Label"),i.labels.push("Longer Label"),i.labels.push("Even Longer Label"),i}function rc(){const i=new y({title:"Normal distribution",subtitle:"Probability density function"});return i.axes.push(new w({position:x.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:it.Inside})),i.axes.push(new w({position:x.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:it.Inside})),i.series.push(Ee(-5,5,0,.2)),i.series.push(Ee(-5,5,0,1)),i.series.push(Ee(-5,5,0,5)),i.series.push(Ee(-5,5,-2,.5)),i}function lc(){const i=new y({title:"Normal distribution",subtitle:"Probability density function"});return i.axes.push(new w({position:x.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:it.Crossing,axislineStyle:k.Solid,positionAtZeroCrossing:!0})),i.axes.push(new w({position:x.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:it.Crossing,axislineStyle:k.Solid,positionAtZeroCrossing:!0})),i.series.push(Ee(-5,5,0,.2)),i.series.push(Ee(-5,5,0,1)),i.series.push(Ee(-5,5,0,5)),i.series.push(Ee(-5,5,-2,.5)),i}function hc(){const i=new y({title:"Exponentials"});i.axes.push(new wt({position:x.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:it.Inside})),i.axes.push(new wt({position:x.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:it.Inside}));for(let t=1;t<=5;t++)i.series.push(new tt({f:e=>Math.pow(t,e),x0:0,x1:10,dx:.01,title:`${t}^x`}));return i}function mc(){const i=new y({title:"Spiral",plotType:rt.Polar,plotAreaBorderThickness:new X(0)});return i.axes.push(new re({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),i.axes.push(new Ae({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,minimumPadding:0,maximumPadding:0,minimumDataMargin:0,maximumDataMargin:20})),i.series.push(new tt({fx:t=>t,fy:t=>t,t0:0,t1:Math.PI*6,dt:.01})),i}function uc(){const i=new y({title:"YAxes are evenly distributed with a constant gap",plotAreaBorderThickness:new X(0)});i.axes.push(new w({position:x.Bottom,axislineStyle:k.Solid,key:"X"}));const t=4,e=10;for(let s=0;s<t;s++)i.axes.push(new w({position:x.Left,startPosition:s/t,endPosition:(s+1)/t,minimumMargin:s/t*e,maximumMargin:(t-s-1)/t*e,axislineStyle:k.Solid,key:`Y${s}`})),i.series.push(new tt({f:n=>Math.sin(n*(s+1)),x0:1,x1:10,dx:.01,title:`x^${s}`,xAxisKey:"X",yAxisKey:`Y${s}`}));return i}function cc(){const i=new y({title:"Axis Margins Clipping",subtitle:"Data Points and Visual Elements are clipped outside the Clip Bounds"});i.axes.push(new w({position:x.Left,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20})),i.axes.push(new w({position:x.Bottom,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20}));const t=new St(1),e=new Vt({markerType:F.Diamond});for(let s=0;s<100;s++)e.points.push({x:t.next(),y:t.next()});return i.series.push(e),i}function dc(){const i=new y({title:"Spiral",plotType:rt.Polar,plotAreaBorderThickness:new X(0)});return i.axes.push(new re({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),i.axes.push(new Ae({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,minimumPadding:0,maximumPadding:0,minimumMargin:0,maximumMargin:100})),i.series.push(new tt({fx:t=>t,fy:t=>t,t0:0,t1:Math.PI*6,dt:.01})),i}function pc(){const i=new y({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),t=new w({position:x.Bottom,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dash,cropGridlines:!0});i.axes.push(t);const e=new w({position:x.Left,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dash,cropGridlines:!0});i.axes.push(e);const s=new $;return s.color=p.Green,s.points.push(d(-5,0)),s.points.push(d(-5,20)),s.points.push(d(25,20)),s.points.push(d(25,0)),s.points.push(d(-5,0)),i.series.push(s),vr(i),i}function vr(i){i.annotations.push(new jt(async t=>{const e=O.drawLine;for(const s of i.axes)if(s.isHorizontal()){const n=s;await e(t,n.transform(n.clipMinimum),0,n.transform(n.clipMinimum),i.height,new Ht(p.Blue,1,k.Dot),U.Automatic),await e(t,n.transform(n.clipMaximum),0,n.transform(n.clipMaximum),i.height,new Ht(p.Blue,1,k.Dot),U.Automatic),await e(t,n.transform(n.actualMinimum),0,n.transform(n.actualMinimum),i.height,new Ht(p.Red,1,k.Dot),U.Automatic),await e(t,n.transform(n.actualMaximum),0,n.transform(n.actualMaximum),i.height,new Ht(p.Red,1,k.Dot),U.Automatic),await e(t,n.transform(n.dataMinimum),0,n.transform(n.dataMinimum),i.height,new Ht(p.Green,1,k.Dot),U.Automatic),await e(t,n.transform(n.dataMaximum),0,n.transform(n.dataMaximum),i.height,new Ht(p.Green,1,k.Dot),U.Automatic)}else{const n=s;await e(t,0,n.transform(n.clipMinimum),i.width,n.transform(n.clipMinimum),new Ht(p.Blue,1,k.Dot),U.Automatic),await e(t,0,n.transform(n.clipMaximum),i.width,n.transform(n.clipMaximum),new Ht(p.Blue,1,k.Dot),U.Automatic),await e(t,0,n.transform(n.actualMinimum),i.width,n.transform(n.actualMinimum),new Ht(p.Red,1,k.Dot),U.Automatic),await e(t,0,n.transform(n.actualMaximum),i.width,n.transform(n.actualMaximum),new Ht(p.Red,1,k.Dot),U.Automatic),await e(t,0,n.transform(n.dataMinimum),i.width,n.transform(n.dataMinimum),new Ht(p.Green,1,k.Dot),U.Automatic),await e(t,0,n.transform(n.dataMaximum),i.width,n.transform(n.dataMaximum),new Ht(p.Green,1,k.Dot),U.Automatic)}}))}function gc(){const i=new y({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),t=new w({position:x.Bottom,minimumPadding:.1,maximumPadding:.05,minimumDataMargin:20,maximumDataMargin:10,minimumMargin:30,maximumMargin:15,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dash,cropGridlines:!0});i.axes.push(t);const e=new w({position:x.Left,minimumPadding:.2,maximumPadding:.1,minimumDataMargin:40,maximumDataMargin:20,minimumMargin:60,maximumMargin:30,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Dash,cropGridlines:!0});i.axes.push(e);const s=new $;return s.color=p.Green,s.points.push(d(-5,0)),s.points.push(d(-5,20)),s.points.push(d(25,20)),s.points.push(d(25,0)),s.points.push(d(-5,0)),i.series.push(s),vr(i),i}function xc(){const i=new y({title:"MinimumMajorIntervalCount = 10"}),t=new w({position:x.Bottom,minimumMajorIntervalCount:10});i.axes.push(t);const e=new w({position:x.Left,minimumMajorIntervalCount:10});return i.axes.push(e),i}function fc(){const i=new y({title:"MaximumMajorIntervalCount = 5"}),t=new w({position:x.Bottom,maximumMajorIntervalCount:5});i.axes.push(t);const e=new w({position:x.Left,maximumMajorIntervalCount:5});return i.axes.push(e),i}function wc(){const i=new y({title:"MinimumMajorIntervalCount = MaximumMajorIntervalCount = 4"}),t=new w({position:x.Bottom,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});i.axes.push(t);const e=new w({position:x.Left,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});return i.axes.push(e),i}function bn(i){const t=gi(it,i),e=new y({title:"TickStyle = "+t});return e.axes.push(new w({position:x.Left,tickStyle:i})),e.axes.push(new w({position:x.Bottom,tickStyle:i})),e}const yc="Axis examples",bc={category:yc,tags:["Axes"],examples:[{title:"TickStyle: None",example:{model:Hm}},{title:"TickStyle: Inside",example:{model:Ym}},{title:"TickStyle: Crossing",example:{model:Xm}},{title:"TickStyle: Outside",example:{model:qm}},{title:"TickStyle: Color major and minor ticks differently",example:{model:Km}},{title:"GridLinestyle: None (default)",example:{model:Zm}},{title:"GridLinestyle: Vertical",example:{model:Jm}},{title:"GridLinestyle: Horizontal",example:{model:Qm}},{title:"GridLinestyle: Horizontal and vertical",example:{model:tu}},{title:"Axis position left/bottom",example:{model:eu}},{title:"Axis position top/right",example:{model:iu}},{title:"Axis label angle 45deg",example:{model:su}},{title:"Zero crossing axis",example:{model:nu}},{title:"Horizontal zero crossing axis",example:{model:ou}},{title:"Vertical zero crossing axis",example:{model:au}},{title:"Reversed",example:{model:ru}},{title:"Sharing Y axis",example:{model:lu}},{title:"Four axes",example:{model:hu}},{title:"Five axes",example:{model:mu}},{title:"Logarithmic axes",example:{model:uu}},{title:"Logarithmic axes Cartesian Plot",example:{model:cu}},{title:"Big numbers",example:{model:du}},{title:"Big numbers with super exponential format",example:{model:pu}},{title:"Small numbers",example:{model:gu}},{title:"Default padding",example:{model:xu}},{title:"No padding",example:{model:fu}},{title:"Padding 10%",example:{model:wu}},{title:"X-axis MinimumPadding=0.1",example:{model:yu}},{title:"X-axis MaximumPadding=0.1",example:{model:bu}},{title:"AbsoluteMinimum and AbsoluteMaximum",example:{model:Su}},{title:"MinimumRange",example:{model:Mu}},{title:"MaximumRange",example:{model:ku}},{title:"Title with unit",example:{model:Au}},{title:"Invisible vertical axis",example:{model:Ru}},{title:"Invisible horizontal axis",example:{model:Tu}},{title:"Zooming disabled",example:{model:Cu}},{title:"Panning disabled",example:{model:vu}},{title:"Dense intervals",example:{model:Pu}},{title:"Graph Paper",example:{model:Lu}},{title:"Log-Log Paper",example:{model:Iu}},{title:"Black background",example:{model:Bu}},{title:"Background and PlotAreaBackground",example:{model:Du}},{title:"Current culture",example:{model:Nu}},{title:"Long axis titles (clipped at 90%)",example:{model:Fu}},{title:"Long axis titles (clipped at 100%)",example:{model:Vu}},{title:"Long axis titles (not clipped)",example:{model:Eu}},{title:"PositionTier",example:{model:_u}},{title:"Custom axis title color",example:{model:Ou}},{title:"Custom axis label color",example:{model:zu}},{title:"Angled axis numbers",example:{model:$u}},{title:"Axis distance",example:{model:Gu}},{title:"No axes defined",example:{model:Uu}},{title:"LabelFormatter",example:{model:ju}},{title:"Tool tips",example:{model:Wu}},{title:"Sub- and superscript in axis titles",example:{model:Hu}},{title:"MinimumMajorStep",example:{model:Yu}},{title:"MinimumMinorStep",example:{model:Xu}},{title:"Default AxisTitleDistance",example:{model:qu}},{title:"Custom AxisTitleDistance",example:{model:Ku}},{title:"MajorGridlineStyle",example:{model:Zu}},{title:"Gridlines Cropping: Horizontal and vertical",example:{model:Ju}},{title:"Multi vertical axes with lineSeries",example:{model:Qu}},{title:"Auto Margins",example:{model:tc}},{title:"Manual Margins",example:{model:ec}},{title:"Manual Left Margin",example:{model:ic}},{title:"Auto Margins - Wide Labels",example:{model:sc}},{title:"Auto Margins - Wide Labels, rotated",example:{model:nc}},{title:"Auto Margins - Wide Labels, fixed Range",example:{model:oc}},{title:"Auto Margins - Wide Labels, fixed Range 2",example:{model:ac}},{title:"Data Margins",example:{model:rc}},{title:"Data Margins with Zero-Crossing",example:{model:lc}},{title:"Data Margins on Log Axis",example:{model:hc}},{title:"Data Margins on Polar Plot",example:{model:mc}},{title:"Axis Margins",example:{model:uc}},{title:"Axis Margins Clipping",example:{model:cc}},{title:"Axis Margins on Polar Plot",example:{model:dc}},{title:"Axis Margins, Data Margins, and Padding",example:{model:pc}},{title:"Axis Margins, Data Margins, and Padding, Asymmetrical",example:{model:gc}},{title:"Minimum Major Interval Count",example:{model:xc}},{title:"Maximum Major Interval Count",example:{model:fc}},{title:"Minimum and Maximum Major Interval Count",example:{model:wc}}]};function Sc(){const i=new y({title:"Trigonometric functions",plotType:rt.Cartesian});return i.series.push(tt.fromDx(Math.sin,-10,10,.1,"sin(x)")),i.series.push(tt.fromDx(Math.cos,-10,10,.1,"cos(x)")),i.series.push(tt.fromFxFyN(t=>5*Math.cos(t),t=>5*Math.sin(t),0,2*Math.PI,1e3,"cos(t),sin(t)")),i}function Mc(){const i=new y({title:"Parametric function",plotType:rt.Cartesian});return i.series.push(tt.fromFxFyN(t=>2*Math.cos(2*t)*Math.cos(t),t=>2*Math.cos(2*t)*Math.sin(t),0,Math.PI*2,1e3,"2cos(2t)cos(t) , 2cos(2t)sin(t)")),i}function kc(){const i=new y({title:"Y: AbsoluteMinimum = 0",plotType:rt.Cartesian}),t=p.DarkBlue;return i.axes.push(new w({position:x.Bottom,title:"X-axis",majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i.axes.push(new w({position:x.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i.series.push(cs()),i}function Ac(){const i=new y({title:"Y: AbsoluteMinimum = 0",subtitle:"AutoAdjustPlotMargins = false",plotType:rt.Cartesian,plotMargins:new X(60,4,4,40)}),t=p.DarkBlue;return i.axes.push(new w({position:x.Bottom,title:"X-axis",majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i.axes.push(new w({position:x.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i.series.push(cs()),i}function Rc(){const i=new y({title:"X: AbsoluteMinimum = -10, Y: AbsoluteMinimum = 0",plotType:rt.Cartesian}),t=p.DarkBlue;return i.axes.push(new w({position:x.Bottom,title:"X-axis",absoluteMinimum:-10,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i.axes.push(new w({position:x.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i.series.push(cs()),i}function Tc(){const i=new y({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2",plotType:rt.Cartesian}),t=p.DarkBlue;return i.axes.push(new w({position:x.Bottom,title:"X-axis",majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i.axes.push(new w({position:x.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i.series.push(cs()),i}function Cc(){const i=new y({title:"Y: AbsoluteMinimum = 0, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:rt.Cartesian}),t=p.DarkBlue;return i.axes.push(new w({position:x.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i.axes.push(new w({position:x.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i.series.push(cs()),i}function vc(){const i=new y({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:rt.Cartesian}),t=p.DarkBlue;return i.axes.push(new w({position:x.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i.axes.push(new w({position:x.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,majorGridlineColor:r.fromAColor(40,t),minorGridlineColor:r.fromAColor(20,t)})),i.series.push(cs()),i}function cs(){const i=new $;return i.points.push(d(-8,0),d(-7.5,.1),d(-7,.2),d(-6,.4),d(-5,.5),d(-4,.6),d(-3,.7),d(-2,.8),d(-1,.9),d(0,1),d(1,.9),d(2,.8),d(3,.7),d(4,.6),d(5,.5),d(6,.4),d(7,.2),d(7.5,.1),d(8,0),ae,d(-.5,.5),d(-.5,1.5),d(.5,1.5),d(.5,.5),d(-.5,.5)),i}const Pc="Cartesian axes",Lc={category:Pc,tags:["Axes"],examples:[{title:"Trigonometric functions",example:{model:Sc}},{title:"Clover",example:{model:Mc}},{title:"AbsoluteMinimum Y",example:{model:kc}},{title:"AbsoluteMinimum Y, manual plotmargins",example:{model:Ac}},{title:"AbsoluteMinimum X/Y",example:{model:Rc}},{title:"AbsoluteMinimum/Maximum Y",example:{model:Tc}},{title:"AbsoluteMinimum Y, AbsoluteMinimum/Maximum X",example:{model:Cc}},{title:"AbsoluteMinimum/Maximum X/Y",example:{model:vc}}]};function Ic(){const i=new y({title:"Standard"}),t=new K;t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),i.axes.push(t);const e=new w({position:x.Left});return i.axes.push(e),i}function Bc(){const i=new y({title:"CategoryAxis with string[] as ItemsSource"});i.axes.push(new K({stringFormatter:e=>`Item ${e}`,itemsSource:["A","B","C"]}));const t=new w({position:x.Left});return i.axes.push(t),i}function Dc(){const i=new y({title:"CategoryAxis with int[] as ItemsSource"});i.axes.push(new K({stringFormatter:e=>`Item ${e}`,itemsSource:[10,100,123]}));const t=new w({position:x.Left});return i.axes.push(t),i}function Nc(){const i=new y({title:"Major Step = 4, IsTickCentered = false"}),t=new K({isTickCentered:!1,majorStep:4});t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),i.axes.push(t);const e=new w({position:x.Left});return i.axes.push(e),i}function Fc(){const i=new y({title:"Major Step = 4, IsTickCentered = true"}),t=new K({isTickCentered:!0,majorStep:4});t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),i.axes.push(t);const e=new w({position:x.Left});return i.axes.push(e),i}const Vc="CategoryAxis",Ec={category:Vc,tags:["Axes"],examples:[{title:"Standard",example:{model:Ic}},{title:"ItemsSource - string[]",example:{model:Bc}},{title:"ItemsSource - int[]",example:{model:Dc}},{title:"MajorStep",example:{model:Nc}},{title:"MajorStep, TickCentered",example:{model:Fc}}]};function _c(){const i=new y({title:"CategoryColorAxis"}),t=new Wa({key:"ccc",palette:H.blackWhiteRed(12)});t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),i.axes.push(t);const e=new w({position:x.Left}),s=new Vt({colorAxisKey:t.key});return s.points.push({x:0,y:0,size:NaN,value:0}),s.points.push({x:3,y:0,size:NaN,value:3}),i.series.push(s),i.axes.push(e),i}function Oc(){const i=new y({title:"Major Step = 4, IsTickCentered = true"}),t=new Wa({palette:H.blackWhiteRed(3),isTickCentered:!0,majorStep:4});t.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),i.axes.push(t);const e=new w({position:x.Left});return i.axes.push(e),i}const zc="CategoryColorAxis",$c={category:zc,tags:["Axes"],examples:[{title:"CategoryColorAxis",example:{model:_c}},{title:"Centered ticks, MajorStep = 4",example:{model:Oc}}]};function Gc(){const i=new y({plotAreaBorderThickness:new X(0),plotMargins:new X(60,60,60,60)});return i.axes.push(new va({position:x.Bottom,axislineStyle:k.Solid})),i.axes.push(new va({position:x.Left,axislineStyle:k.Solid})),i}class va extends w{async render(t,e){await super.render(t,e);const s=[];if(this.isHorizontal()){const n=this.transform(this.actualMaximum);s.push(A(n+4,this.plotModel.plotArea.bottom-4)),s.push(A(n+18,this.plotModel.plotArea.bottom)),s.push(A(n+4,this.plotModel.plotArea.bottom+4))}else{const n=this.transform(this.actualMaximum);s.push(A(this.plotModel.plotArea.left-4,n-4)),s.push(A(this.plotModel.plotArea.left,n-18)),s.push(A(this.plotModel.plotArea.left+4,n-4))}await t.drawPolygon(s,p.Black,p.Undefined,0,this.edgeRenderingMode)}}const Uc="Custom axes",jc={category:Uc,tags:["Axes"],examples:[{title:"ArrowAxis",example:{model:Gc}}]};class Pa{static deg2Rad(t){return Math.PI*t/180}static rad2Deg(t){return 180*t/Math.PI}static fixValue(t,e,s){for(;t<e;)t+=s-e;for(;t>=s;)t-=s-e;return t}static calculate(t,e,s,n,o,a=90.5){const l=ve(t).dayOfYear(),h=s/15;let m;n?m=l+(6-h)/24:m=l+(18-h)/24;const c=.9856*m-3.289;let g=c+1.916*Math.sin(this.deg2Rad(c))+.02*Math.sin(this.deg2Rad(2*c))+282.634;g=this.fixValue(g,0,360);let f=this.rad2Deg(Math.atan(.91764*Math.tan(this.deg2Rad(g))));f=this.fixValue(f,0,360);const b=Math.floor(g/90)*90,S=Math.floor(f/90)*90;f=f+(b-S),f=f/15;const M=.39782*Math.sin(this.deg2Rad(g)),T=Math.cos(Math.asin(M)),C=(Math.cos(this.deg2Rad(a))-M*Math.sin(this.deg2Rad(e)))/(T*Math.cos(this.deg2Rad(e)));let v;n?v=360-this.rad2Deg(Math.acos(C)):v=this.rad2Deg(Math.acos(C)),v=v/15;let P=v+f-.06571*m-6.622-h;t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0));const I=new Date(t.getTime()+P*60*60*1e3);return P=(o(I).getTime()-t.getTime())/(60*60*1e3),P=this.fixValue(P,0,24),new Date(t.getTime()+P*60*60*1e3)}}const Wc=()=>Pr(7,void 0),Hc=()=>{const i=Ze();return Pr(7,t=>i.format(t,`MMM DD
YYYY`))};function Pr(i,t){const e=new y,s=new Date(2e3,0,1),n=It.toDouble(s),o=n+i;return e.axes.push(new It({position:x.Bottom,minimum:n,maximum:o,stringFormatter:t})),e.axes.push(new It({position:x.Left,minimum:n,maximum:o,stringFormatter:t})),e}function Yc(){const i=new y,t=new It;t.position=x.Bottom,i.axes.push(t),i.axes.push(new w);const e=new $;e.markerType=F.Circle,i.series.push(e);const s=new Date(Date.UTC(2013,2,31,0,0,0));for(let n=0;n<400;n+=10){const o=new Date(s.getTime()+n*6e4);e.points.push(It.createDataPoint(o,n))}return i}function Xc(){const i=new Date(2010,0,1),t=new Date(2015,0,1),e=3600*24*14,s=Ze(),n=[];let o=i;const a=new St;for(;o<=t;)n.push({date:o,value:a.next()}),o=s.addTimespan(o,_t.fromSeconds(e));const l=new y({title:"DateTime axis"}),h=new It({firstDayOfWeek:hn.Monday,position:x.Bottom});l.axes.push(h);const m=new w;l.axes.push(m);const c=new $({color:r.fromArgb(255,78,154,6),markerFill:r.fromArgb(255,78,154,6),markerStroke:p.ForestGreen,markerType:F.Plus,strokeThickness:1,dataFieldX:"date",dataFieldY:"value",itemsSource:n});return l.series.push(c),l}function qc(){const i=new Date().getFullYear(),e=Zc(i,59.91,10.75,h=>{const m=Jc(h)?2:1;return new Date(h.getTime()+m*60*60*1e3)}),s=new y({title:"Sunrise and sunset in Oslo",subtitle:"UTC time"}),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=new It({firstDayOfWeek:hn.Monday,intervalType:at.Months,majorGridlineStyle:k.Solid,position:x.Bottom,stringFormatter:h=>n[h.getMonth()]});s.axes.push(o);const a=new Ne({majorGridlineStyle:k.Solid,maximum:86400,minimum:0,stringFormatter:h=>Ao(h,"hh:mm")});s.axes.push(a);const l=new ei({itemsSource:e,dataFieldX:"Day",dataFieldY:"Sunrise",dataFieldX2:"Day",dataFieldY2:"Sunset",fill:r.fromArgb(128,255,255,0),color:p.Black});return s.series.push(l),s}function Kc(){const i=new y({title:"Using LabelFormatter to format labels by day of week"});i.axes.push(new It({labelFormatter:e=>It.toDateTime(e).getDay().toString().substring(0,3)}));const t=new $;i.series.push(t);for(let e=0;e<7;e++){const s=new Date(2014,9,10);s.setDate(s.getDate()+e);const n=It.toDouble(s),o=Math.sin(e*e);t.points.push(d(n,o))}return i}function Zc(i,t,e,s){const n=[];let o=new Date(i,0,1);const a=_t.fromMinutes(o.getTimezoneOffset()),l=Ze();for(;o.getFullYear()===i;){let h=Pa.calculate(o,t,e,!0,s);h=l.addTimespan(h,a);let m=Pa.calculate(o,t,e,!1,s);m=l.addTimespan(m,a),n.push({Day:o,Sunrise:l.diff(h,o),Sunset:l.diff(m,o)}),o=l.addTimespan(o,_t.fromDays(1))}return n}function Jc(i){const t=new Date(i.getFullYear(),2,31,2,0,0);t.setDate(t.getDate()-t.getDay());const e=new Date(i.getFullYear(),9,31,3,0,0);return e.setDate(e.getDate()-e.getDay()),i>=t&&i<=e}const Qc="DateTimeAxis",td={category:Qc,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:Wc}},{title:"StringFormat 'MMM DD\\nYYYY'",example:{model:Hc}},{title:"TimeZone adjustments",example:{model:Yc}},{title:"DateTime axis",example:{model:Xc}},{title:"Sunrise and sunset in Oslo",example:{model:qc}},{title:"LabelFormatter",example:{model:Kc}}]};function ed(){return Lr(123456.78901234567,1.2345678901234567e6,void 0)}function id(){return Lr(123456.78901234567,1.2345678901234567e6,(i,t)=>i.toFixed(2))}function sd(){return Sn(it.None)}function nd(){return Sn(it.Crossing)}function od(){return Sn(it.Inside)}function ad(){return Sn(it.Outside)}function rd(){return Mn("None",k.None,k.None)}function ld(){return Mn("Horizontal",k.Solid,k.None)}function hd(){return Mn("Vertical",k.None,k.Solid)}function md(){return Mn("Both",k.Solid,k.Solid)}function Lr(i,t,e){const s=new y;return s.axes.push(new w({position:x.Bottom,minimum:i,maximum:t,stringFormatter:e})),s.axes.push(new w({position:x.Left,minimum:i,maximum:t,stringFormatter:e})),s}function Sn(i){const t=new y({title:`TickStyle: ${i}`});return t.axes.push(new w({position:x.Bottom,tickStyle:i,majorGridlineStyle:k.None,minorGridlineStyle:k.None,maximumPadding:0,minimumPadding:0})),t.axes.push(new w({position:x.Left,tickStyle:i,majorGridlineStyle:k.None,minorGridlineStyle:k.None,maximumPadding:0,minimumPadding:0})),t}function Mn(i,t,e){const s=new y({title:`Gridlines: ${i}`});return s.axes.push(new w({position:x.Bottom,majorGridlineStyle:e,minorGridlineStyle:e===k.Solid?k.Dot:k.None,maximumPadding:0,minimumPadding:0})),s.axes.push(new w({position:x.Left,majorGridlineStyle:t,minorGridlineStyle:t===k.Solid?k.Dot:k.None,maximumPadding:0,minimumPadding:0})),s}const ud="LinearAxis",cd={category:ud,tags:["Axes"],examples:[{title:"Default StringFormat ('g6')",example:{model:ed}},{title:"StringFormat = 'f2'",example:{model:id}},{title:"TickStyle: None",example:{model:sd}},{title:"TickStyle: Crossing",example:{model:nd}},{title:"TickStyle: Inside",example:{model:od}},{title:"TickStyle: Outside",example:{model:ad}},{title:"Gridlines: None",example:{model:rd}},{title:"Gridlines: Horizontal",example:{model:ld}},{title:"Gridlines: Vertical",example:{model:hd}},{title:"Gridlines: Both",example:{model:md}}]};function dd(){return Ir()}function pd(){return Te("Interpolated",!0)}function gd(){const i=Te("Interpolated, cartesian axes",!0);return i.plotType=rt.Cartesian,i}function xd(){const i=Te("Interpolated including two NaN values",!0),t=i.series[0];return t.data[0][1]=Number.NaN,t.data[1][0]=Number.NaN,i}function fd(){const i=Te("Interpolated including two NaN values, otherwise 4.71",!0),e=i.series[0].data,s=4.71;return e[0][0]=s,e[0][1]=s,e[0][2]=s,e[1][0]=s,e[1][1]=s,e[1][2]=s,e[0][1]=Number.NaN,e[1][0]=Number.NaN,i}function wd(){return Te("Not interpolated values",!1)}function yd(){const i=Te("Not interpolated values including two NaN values",!1),t=i.axes[0];t.invalidNumberColor=p.Transparent;const e=i.series[0];return e.data[0][1]=Number.NaN,e.data[1][0]=Number.NaN,i}function bd(){const i=Te("Not interpolated values including two NaN values, otherwise 4.71",!1),t=i.axes[0];t.invalidNumberColor=p.Transparent;const e=i.series[0];if(!e.data)return i;const s=4.71;return e.data[0][0]=s,e.data[0][1]=s,e.data[0][2]=s,e.data[1][0]=s,e.data[1][1]=s,e.data[1][2]=s,e.data[0][1]=Number.NaN,e.data[1][0]=Number.NaN,i}function Sd(){const i=Te("Reversed x-axis",!1);return i.axes.push(new w({position:x.Bottom,startPosition:1,endPosition:0})),i}function Md(){const i=Te("X0>X1",!1),t=i.series[0],e=t.x0;return t.x0=t.x1,t.x1=e,i}function kd(){const i=Te("Reversed x-axis, X0>X1",!1);i.axes.push(new w({position:x.Bottom,startPosition:1,endPosition:0}));const t=i.series[0],e=t.x0;return t.x0=t.x1,t.x1=e,i}function Ad(){const i=Te("Reversed y-axis",!1);return i.axes.push(new w({position:x.Left,startPosition:1,endPosition:0})),i}function Rd(){const i=Te("Y0>Y1",!1),t=i.series[0],e=t.y0;return t.y0=t.y1,t.y1=e,i}function Td(){const i=Te("Reversed y-axis, Y0>Y1",!1);i.axes.push(new w({position:x.Left,startPosition:1,endPosition:0}));const t=i.series[0],e=t.y0;return t.y0=t.y1,t.y1=e,i}function Cd(){const i=Te("Reversed x- and y-axis",!1);return i.axes.push(new w({position:x.Left,startPosition:1,endPosition:0})),i.axes.push(new w({position:x.Bottom,startPosition:1,endPosition:0})),i}function vd(){const i=[[1,0,0],[0,1,0],[0,0,1]],t=new y({title:"Diagonal (center defined)"});t.axes.push(new Wt({position:x.Right,palette:H.jet(500),highColor:p.Gray,lowColor:p.Black}));const e=new Oe({coordinateDefinition:Vs.Center,x0:.5,x1:2.5,y0:2.5,y1:.5,data:i,interpolate:!1});return t.series.push(e),t}function Pd(){const i=[[1,0,0],[0,1,0],[0,0,1]],t=new y({title:"Diagonal (edge defined)"});t.axes.push(new Wt({position:x.Right,palette:H.jet(500),highColor:p.Gray,lowColor:p.Black}));const e=new Oe({coordinateDefinition:Vs.Edge,x0:0,x1:3,y0:3,y1:0,data:i,interpolate:!1});return t.series.push(e),t}function Ld(){const i=Array(6).fill(Array(6).fill(0));i[0][0]=1,i[1][1]=1,i[2][2]=1,i[3][3]=1,i[4][4]=1,i[5][5]=1;const t=new y({title:"Diagonal 6×6"});t.axes.push(new Wt({position:x.Right,palette:H.jet(500),highColor:p.Gray,lowColor:p.Black}));const e=new Oe({x0:0,x1:5,y0:5,y1:0,data:i,interpolate:!1});return t.series.push(e),t}function Id(){let i=[[1,0,0],[0,.8,.2],[0,0,1]];i=i[0].map((h,m)=>i.map(c=>c[m]));const t=["class A","class B","class C"],e=new y({title:"Confusion Matrix"}),s=zt.interpolate(50,p.White,p.Black),n=new Wt({position:x.Right,palette:s,highColor:p.White,lowColor:p.White});e.axes.push(n);const o=new K({position:x.Top,title:"Actual class"});o.labels.push(...t),e.axes.push(o);const a=new K({position:x.Left,title:"Predicted class",angle:-90,startPosition:1,endPosition:0});a.labels.push(...t),e.axes.push(a);const l=new Oe({data:i,interpolate:!1,labelFontSize:.25,x0:0,x1:i[0].length-1,y0:0,y1:i.length-1});return e.series.push(l),e}function Bd(){const i=Array(11).fill(0).map(()=>Array(21).fill(0)),t=Math.pow(2,.1);for(let n=0;n<11;n++)for(let o=0;o<21;o++)i[n][o]=Math.pow(t,n)*o/40;const e=new y({title:"Logarithmic X, interpolated"});e.axes.push(new wt({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e.axes.push(new Wt({position:x.Right,palette:H.gray(500),highColor:p.White,lowColor:p.Black}));const s=new Oe({x0:1,x1:2,y0:0,y1:20,data:i,interpolate:!0});return e.series.push(s),e}function Dd(){const i=Array(11).fill(0).map(()=>Array(21).fill(0)),t=Math.pow(2,.1);for(let n=0;n<11;n++)for(let o=0;o<21;o++)i[n][o]=Math.pow(t,n)*o/40;const e=new y({title:"Logarithmic X, discrete rectangles"});e.axes.push(new wt({position:x.Bottom})),e.axes.push(new w({position:x.Left})),e.axes.push(new Wt({position:x.Right,palette:H.gray(500),highColor:p.White,lowColor:p.Black}));const s=new Oe({x0:1,x1:2,y0:0,y1:20,data:i,interpolate:!1,renderMethod:Ar.Rectangles,labelFontSize:.4});return e.series.push(s),e}function Nd(){return Fd("Normal 6×4 Heatmap")}function Ir(i,t=!0,e=100){const l=(S,M)=>3*(1-S)*(1-S)*Math.exp(-(S*S)-(M+1)*(M+1))-10*(S/5-S*S*S-M*M*M*M*M)*Math.exp(-S*S-M*M)-.3333333333333333*Math.exp(-(S+1)*(S+1)-M*M),h=Kt.createVector(-3.1,3.1,e),m=Kt.createVector(-3,3,e),c=Kt.evaluate(l,h,m),g=new y({title:"Peaks"}),f=new Wt({position:x.Right,highColor:p.Gray,lowColor:p.Black,palette:i});g.axes.push(f);const b=new Oe({x0:-3.1,x1:3.1,y0:-3,y1:3,data:c});if(g.series.push(b),t){const S=new De({color:p.Black,fontSize:0,contourLevelStep:1,labelBackground:p.Undefined,columnCoordinates:m,rowCoordinates:h,data:c});g.series.push(S)}return g}function Fd(i){const t=new Re(6,4);for(let s=1;s<=6;s++)for(let n=1;n<=4;n++)t.set(s-1,n-1,s*n);const e=new y({title:i,subtitle:"Note the positions of the axes"});return e.axes.push(new Wt({position:x.Right,palette:H.jet(500),highColor:p.White,lowColor:p.Black})),e.series.push(new Oe({x0:1,x1:6,y0:1,y1:4,data:t.toArray(),interpolate:!0,labelFontSize:.2})),e}function Te(i,t){const e=[[0,.2,.4],[.1,.3,.2]],s=new y({title:"HeatMapSeries",subtitle:i});s.axes.push(new Wt({position:x.Right,palette:H.rainbow(500),highColor:p.Gray,lowColor:p.Black}));const n=new Oe({coordinateDefinition:Vs.Center,x0:.5,x1:1.5,y0:.5,y1:2.5,data:e,interpolate:t,labelFontSize:.2});return s.series.push(n),s}const Rt={createPeaks:Ir},Vd="HeatMapSeries",Ed={category:Vd,tags:["Series"],examples:[{title:"Peaks",example:{model:dd}},{title:"2×3, interpolated",example:{model:pd}},{title:"2×3, interpolated, cartesian axes",example:{model:gd}},{title:"2×3, interpolated with two NaN values",example:{model:xd}},{title:"2×3, interpolated with two NaN values, flat data",example:{model:fd}},{title:"2×3, not interpolated",example:{model:wd}},{title:"2×3, not interpolated with two NaN values",example:{model:yd}},{title:"2×3, not interpolated with two NaN values, flat data",example:{model:bd}},{title:"2×3, reversed x-axis",example:{model:Sd}},{title:"2×3, X0>X1",example:{model:Md}},{title:"2×3, reversed x-axis, X0>X1",example:{model:kd}},{title:"2×3, reversed y-axis",example:{model:Ad}},{title:"2×3, Y0>Y1",example:{model:Rd}},{title:"2×3, reversed y-axis, Y0>Y1",example:{model:Td}},{title:"2x3, reversed x- and y-axis",example:{model:Cd}},{title:"3×3, diagonal (center defined)",example:{model:vd}},{title:"3×3, diagonal (edge defined)",example:{model:Pd}},{title:"6×6, diagonal",example:{model:Ld}},{title:"Confusion matrix",example:{model:Id}},{title:"Logarithmic X, interpolated",example:{model:Bd}},{title:"Logarithmic X, discrete rectangles",example:{model:Dd}},{title:"6×4, not transposed",example:{model:Nd}}]};function Oo(){return Rt.createPeaks(void 0,!1)}function Br(){return Go(Oo())}function zo(){return Rt.createPeaks(H.jet(6),!1)}function Dr(){return Go(zo())}function $o(){const i=Rt.createPeaks(H.jet(600),!1),t=i.axes[0];return t.startPosition=.02,t.endPosition=.5,i}function Nr(){return Go($o())}function Fr(){const i=Rt.createPeaks(H.jet(600),!1),t=i.axes[0];return t.position=x.None,i}function Go(i){const t=i.axes.find(e=>e instanceof Wt);return t.renderAsImage=!0,i.title+=" - RenderAsImage",i}const Gi={peaks:Oo,peaksRenderAsImage:Br,horizontal6:zo,horizontal6RenderAsImage:Dr,short:$o,shortRenderAsImage:Nr,position_None:Fr},_d="LinearColorAxis",Od={category:_d,tags:["Axes"],examples:[{title:"Peaks",example:{model:Oo}},{title:"Peaks - RenderAsImage",example:{model:Br}},{title:"6 Colors",example:{model:zo}},{title:"6 Colors - RenderAsImage",example:{model:Dr}},{title:"Short",example:{model:$o}},{title:"Short - RenderAsImage",example:{model:Nr}},{title:"Position None",example:{model:Fr}}]};function zd(){const i=new y;return i.axes.push(new wt({position:x.Bottom})),i.axes.push(new wt({position:x.Left})),i}function $d(){const i=new y({title:"Amdahl's law"}),t=new W({legendTitle:"Parallel portion"});i.legends.push(t);const e=(n,o)=>1/(1-n+n/o),s=n=>{const o=new $({title:n.toFixed(0)});for(let a=1;a<=65536;a*=2)o.points.push(d(a,e(n,a)));return o};return i.axes.push(new wt({position:x.Bottom,title:"Number of processors",base:2,majorGridlineStyle:k.Solid,tickStyle:it.None})),i.axes.push(new w({position:x.Left,minimum:0,maximum:20,minorStep:2,majorStep:2,title:"Speedup",stringFormatter:n=>n.toFixed(2).toString(),majorGridlineStyle:k.Solid,tickStyle:it.None})),i.series.push(s(.5)),i.series.push(s(.75)),i.series.push(s(.9)),i.series.push(s(.95)),i}function Gd(){const i=new y({title:"The Richter magnitude scale",plotMargins:new X(80,0,80,40)}),t=new W({legendPlacement:pt.Inside,legendPosition:z.TopCenter,legendOrientation:At.Horizontal,legendSymbolLength:24});i.legends.push(t),i.axes.push(new w({position:x.Bottom,title:"Richter magnitude scale",majorGridlineStyle:k.None,tickStyle:it.None}));const e=new $({title:"Frequency",color:r.fromUInt32(4282150046),strokeThickness:3,markerStroke:r.fromUInt32(4282150046),markerFill:p.White,markerType:F.Circle,markerSize:4,markerStrokeThickness:3});e.points.push(d(1.5,8e3*365*100)),e.points.push(d(2.5,1e3*365*100)),e.points.push(d(3.5,49e3*100)),e.points.push(d(4.5,6200*100)),e.points.push(d(5.5,800*100)),e.points.push(d(6.5,120*100)),e.points.push(d(7.5,18*100)),e.points.push(d(8.5,1*100)),e.points.push(d(9.5,1/20*100)),i.axes.push(new wt({position:x.Left,title:"Frequency / 100 yr",useSuperExponentialFormat:!0,majorGridlineStyle:k.None,tickStyle:it.Outside})),i.series.push(e);const s=new $({title:"Energy",color:r.fromUInt32(4288572476),strokeThickness:3,markerStroke:r.fromUInt32(4288572476),markerFill:p.White,markerType:F.Circle,markerSize:4,markerStrokeThickness:3});return s.points.push(d(1.5,11e6)),s.points.push(d(2.5,36e7)),s.points.push(d(3.5,11e9)),s.points.push(d(4.5,36e10)),s.points.push(d(5.5,11e12)),s.points.push(d(6.5,36e13)),s.points.push(d(7.5,11e15)),s.points.push(d(8.5,36e16)),s.points.push(d(9.5,11e18)),s.yAxisKey="energyAxis",i.axes.push(new wt({position:x.Right,title:"Energy / J",key:"energyAxis",useSuperExponentialFormat:!0,majorGridlineStyle:k.None,tickStyle:it.Outside})),i.series.push(s),i}const Ud=()=>{const i=new y({title:"AbsoluteMaximum = 1000"});return i.axes.push(new wt({position:x.Left,minimum:.1,maximum:1e3,absoluteMaximum:1e3})),i.series.push(new tt({f:Math.exp,x0:0,x1:Math.log(900),n:100})),i},jd=()=>{const i=new y({title:"AxisChanged event handler"});let t=0;const e=new wt({position:x.Left,minimum:.1,maximum:1e3});return e.axisChanged=(s,n)=>{i.subtitle="Changed "+t+++" times. ActualMaximum="+e.actualMaximum},i.axes.push(e),i.series.push(new tt({f:Math.exp,x0:0,x1:Math.log(900),n:100})),i},Wd=()=>{const i=new y({title:"LogarithmicAxis",subtitle:"LineSeries with negative values"});return i.axes.push(new wt({position:x.Left})),i.axes.push(new w({position:x.Bottom})),i.series.push(new tt({f:t=>Math.sin(t),x0:0,x1:40,n:1e3})),i};function Hd(){const i=new y({title:"Tick calculation for different bases"});return i.axes.push(new wt({title:"Base 10",position:x.Left,minimum:20,maximum:2e4,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),i.axes.push(new wt({title:"Base 7",position:x.Bottom,base:7,minimum:2,maximum:1e4,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),i.axes.push(new wt({title:"Base 5.5",position:x.Top,base:5.5,minimum:1,maximum:100,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),i.axes.push(new wt({title:"Base 2",position:x.Right,base:2,minimum:1,maximum:1e6,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),i}const Yd="LogarithmicAxis",Xd={category:Yd,tags:["Axes"],examples:[{title:"LogarithmicAxis with default values",example:{model:zd}},{title:"Amdahl's Law",example:{model:$d}},{title:"Richter magnitudes",example:{model:Gd}},{title:"LogarithmicAxis with AbsoluteMaximum",example:{model:Ud}},{title:"LogarithmicAxis with AxisChanged event handler",example:{model:jd}},{title:"Negative values",example:{model:Wd}},{title:"Tick calculation",example:{model:Hd}}]};function qd(){return Ui(Gi.peaks())}function Kd(){return Ui(Gi.peaksRenderAsImage())}function Zd(){return Ui(Gi.horizontal6())}function Jd(){return Ui(Gi.horizontal6RenderAsImage())}function Qd(){return Ui(Gi.short())}function tp(){return Ui(Gi.shortRenderAsImage())}function ep(){return Ui(Gi.position_None())}function Ui(i){const t=i.axes.find(o=>o instanceof Wt),e=i.axes.indexOf(t);e>-1&&i.axes.splice(e,1);const s=new oh({position:t.position,palette:t.palette,startPosition:t.startPosition,endPosition:t.endPosition,highColor:t.highColor,lowColor:t.lowColor,invalidNumberColor:t.invalidNumberColor}),n=i.series.find(o=>o instanceof Oe);if(n.data)for(let o=0;o<n.data.length;o++)for(let a=0;a<n.data[o].length;a++)n.data[o][a]+=6.6;return i.axes.push(s),i}const ip="LogarithmicColorAxis",sp={category:ip,tags:["Axes"],examples:[{title:"Peaks",example:{model:qd}},{title:"Peaks - RenderAsImage",example:{model:Kd}},{title:"6 Colors",example:{model:Zd}},{title:"6 Colors - RenderAsImage",example:{model:Jd}},{title:"Short",example:{model:Qd}},{title:"Short - RenderAsImage",example:{model:tp}},{title:"Position None",example:{model:ep}}]};function Uo(){const i=new y({title:"Polar plot",subtitle:"Archimedean spiral with equation r(θ) = θ for 0 < θ < 6π",plotType:rt.Polar,plotAreaBorderThickness:new X(0)});return i.axes.push(new re({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),i.axes.push(new Ae({majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),i.series.push(new tt({fx:t=>t,fy:t=>t,t0:0,t1:Math.PI*6,dt:.01})),i}function np(){const i=Uo();i.title+="(reversed angle axis)";const t=i.axes[0];return t.startAngle=360,t.endAngle=0,i}function op(){const i=Uo();i.title+=" (axis Minimum = 10 and Maximum = 20)";const t=i.axes[1];return t.minimum=10,t.maximum=20,i}function ap(){const i=new y({title:"Offset angle axis",plotType:rt.Polar,plotAreaBorderThickness:new X(0)}),t=new re({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,stringFormatter:e=>e.toFixed(2),startAngle:30,endAngle:390});return i.axes.push(t),i.axes.push(new Ae),i.series.push(new tt({fx:e=>e,fy:e=>e,t0:0,t1:Math.PI*6,dt:.01})),i.mouseDown=(e,s)=>{let n=0;s.changedButton===xt.Left&&(n=15),s.changedButton===xt.Right&&(n=-15),Math.abs(n)>Number.EPSILON&&(t.startAngle+=n,t.endAngle+=n,i.invalidatePlot(!1),s.handled=!0)},i}function rp(){const i=new y({title:"Semi-circle polar plot",plotType:rt.Polar,plotAreaBorderThickness:new X(0)});return i.axes.push(new re({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),i.axes.push(new Ae({minimum:0,maximum:1,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),i.series.push(kn()),i}function lp(){const i=new y({title:"Semi-circle polar plot",subtitle:"Angle axis range offset to -180 - 180",plotType:rt.Polar,plotAreaBorderThickness:new X(0)});return i.axes.push(new re({minimum:-180,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:360,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),i.axes.push(new Ae({minimum:0,maximum:1,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),i.series.push(kn()),i}function hp(){const i=new y({title:"East/west directions",plotType:rt.Polar,plotAreaBorderThickness:new X(0)});return i.axes.push(new re({minimum:0,maximum:360,majorStep:30,minorStep:30,startAngle:-90,endAngle:270,labelFormatter:t=>t>0&&t<180?`${t}E`:t>180?`${360-t}W`:t.toString(),majorGridlineStyle:k.Dot,minorGridlineStyle:k.None})),i.axes.push(new Ae({minimum:0,maximum:1,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),i.series.push(kn()),i}function mp(){const i=new y({title:"Semi-circle polar plot filling the plot area",subtitle:"The center can be moved using the right mouse button",plotType:rt.Polar,plotAreaBorderThickness:new X(1)});return i.axes.push(new $a({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),i.axes.push(new ja({minimum:0,maximum:1,midShiftH:0,midShiftV:.9,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),i.series.push(kn()),i}function up(){const i=jo();return i.series.push(new tt({fx:t=>t,fy:t=>t,t0:0,t1:Math.PI*6,dt:.01})),i}function cp(){const i=jo();return i.title+=" with a negative minimum",i.series.push(new tt({fx:t=>t,fy:t=>t,t0:-Math.PI*6,t1:Math.PI*6,dt:.01})),i}function dp(){const i=jo();return i.title+=" with a positive minimum",i.series.push(new tt({fx:t=>t,fy:t=>t,t0:Math.PI*6,t1:Math.PI*12,dt:.01})),i}function jo(){const i=new y({title:"Polar plot filling the plot area",subtitle:"The center can be move using the right mouse button",plotType:rt.Polar,plotAreaBorderThickness:new X(1)});return i.axes.push(new $a({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π",minimum:0,maximum:2*Math.PI})),i.axes.push(new ja({midShiftH:-.1,midShiftV:-.25,majorGridlineStyle:k.Solid,minorGridlineStyle:k.Solid})),i}const kn=()=>new tt({fx:i=>Math.sin(i/180*Math.PI),fy:i=>i,t0:0,t1:180,dt:.01}),pp="Polar Plots",gp={category:pp,tags:["Axes"],examples:[{title:"Spiral",example:{model:Uo}},{title:"Spiral2",example:{model:np}},{title:"Spiral with magnitude axis min and max",example:{model:op}},{title:"Angle axis with offset angle",example:{model:ap}},{title:"Semi-circle",example:{model:rp}},{title:"Semi-circle offset angle axis range",example:{model:lp}},{title:"East/west directions",example:{model:hp}},{title:"Semi-circle full plot area",example:{model:mp}},{title:"Spiral full plot area",example:{model:up}},{title:"Spiral full plot area with negative minimum",example:{model:cp}},{title:"Spiral full plot area with positive minimum",example:{model:dp}}]};function xp(){return An(x.Top,!0)}function fp(){return An(x.Right,!0)}function wp(){return An(x.Top,!1)}function yp(){return An(x.Right,!1)}function An(i,t){const s=t?"ScatterSeries and Reversed RangeColorAxis (n=1000)":"ScatterSeries and RangeColorAxis (n=1000)",n=new y({title:s,background:p.LightGray});n.axes.push(new w({position:x.Bottom})),n.axes.push(new w({position:x.Left}));const o=new ah({position:i,maximum:2,minimum:-2});o.addRange(0,.5,p.Blue),o.addRange(-.2,-.1,p.Red),t&&(o.startPosition=1,o.endPosition=0),n.axes.push(o);const a=new Vt({markerType:F.Square,markerSize:6}),l=new St;for(let h=0;h<1e3;h++){const m=l.next()*2.2-1.1;a.points.push({x:m,y:l.next(),value:m})}return n.series.push(a),n}const bp="RangeColorAxis",Sp={category:bp,tags:["Axes"],examples:[{title:"ScatterSeries with Reversed RangeColorAxis (Horizontal)",example:{model:xp}},{title:"ScatterSeries with Reversed  RangeColorAxis (Vertical)",example:{model:fp}},{title:"ScatterSeries with RangeColorAxis (Horizontal)",example:{model:wp}},{title:"ScatterSeries with RangeColorAxis (Vertical)",example:{model:yp}}]};function Mp(){return Vr(void 0)}function kp(){return Vr(i=>`${Ao(i,"hh:mm")}`)}function Vr(i){const n=[];let o=0;const a=new St;for(;o<=86400;)n.push({time:o,value:a.next()}),o+=3600;const l=new y({title:"TimeSpan axis"}),h=new Ne({position:x.Bottom,stringFormatter:i});l.axes.push(h);const m=new w({position:x.Left});l.axes.push(m);const c=new $({color:r.fromArgb(255,78,154,6),markerFill:r.fromArgb(255,78,154,6),markerStroke:p.ForestGreen,markerType:F.Plus,strokeThickness:1,dataFieldX:"time",dataFieldY:"value",itemsSource:n});return l.series.push(c),l}const Ap="TimeSpanAxis",Rp={category:Ap,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:Mp}},{title:"StringFormat = 'h:mm'",example:{model:kp}}]},Tp=[bc,Lc,Ec,$c,jc,td,cd,Od,Xd,sp,gp,Sp,Rp];class Cp{constructor(t,e,s,n){nt(this,"x");nt(this,"y");nt(this,"xError");nt(this,"yError");this.x=t||0,this.y=e||0,this.xError=s||0,this.yError=n||0}}class vp extends Bt{constructor(){super();nt(this,"points",[]);nt(this,"color");nt(this,"strokeThickness");this.color=p.Black,this.strokeThickness=1}get pointsList(){return this.points}async render(e){const s=this.points;if(s.length===0)return;this.verifyAxes();const n=s.length,o=[];for(let a=0;a<n;a++){const l=this.xAxis.transformPoint(s[a].x,s[a].y,this.yAxis),h=s[a],m=h?h.xError*this.xAxis.scale:0,c=h?h.yError*Math.abs(this.yAxis.scale):0,g=4;if(m>0){const f=A(l.x-m*.5,l.y),b=A(l.x+m*.5,l.y);o.push(f,b,A(f.x,f.y-g),A(f.x,f.y+g),A(b.x,b.y-g),A(b.x,b.y+g))}if(c>0){const f=A(l.x,l.y-c*.5),b=A(l.x,l.y+c*.5);o.push(f,b,A(f.x-g,f.y),A(f.x+g,f.y),A(b.x-g,b.y),A(b.x+g,b.y))}}for(let a=0;a+1<o.length;a+=2)await O.drawReducedLine(e,[o[a],o[a+1]],0,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,Q.Bevel)}async renderLegend(e,s){const n=(s.left+s.right)/2,o=(s.top+s.bottom)/2,a=[A(s.left,o),A(s.right,o),A(s.left,o-2),A(s.left,o+3),A(s.right,o-2),A(s.right,o+3),A(n,s.top),A(n,s.bottom),A(n-2,s.top),A(n+3,s.top),A(n-2,s.bottom),A(n+3,s.bottom)];await e.drawLineSegments(a,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,Q.Miter)}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin2(this.points,e=>e.x-e.xError,e=>e.x+e.xError,e=>e.y-e.yError,e=>e.y+e.yError)}}class Pp extends Fs{constructor(){super();nt(this,"symbolPosition",0);nt(this,"symbolSize",lt.Empty);nt(this,"color");nt(this,"maximumX",0);nt(this,"minimumX",0);nt(this,"symbol");nt(this,"_values",[]);nt(this,"xAxis");nt(this,"xAxisKey");this.color=p.Black,this.fontSize=10,this.symbol="ê",this.font="Wingdings 2",this.trackerStringFormatter=e=>`${e.title}: ${e.item}`}get values(){return this._values}getNearestPoint(e,s){if(this.xAxis)for(const n of this.values){if(isNaN(n)||n<this.xAxis.actualMinimum||n>this.xAxis.actualMaximum)continue;const o=this.xAxis.transform(n);if(new N(o-this.symbolSize.width/2,this.symbolPosition-this.symbolSize.height,this.symbolSize.width,this.symbolSize.height).containsPoint(e)){const l=this.trackerStringFormatter({item:n,title:this.title});return new Ot({series:this,dataPoint:d(n,NaN),position:A(o,this.symbolPosition-this.symbolSize.height),text:l})}}}async render(e){if(this.xAxis){this.symbolPosition=this.plotModel.plotArea.bottom,this.symbolSize=e.measureText(this.symbol,this.actualFont,this.actualFontSize,this.actualFontWeight);for(const s of this.values){if(isNaN(s)||s<this.xAxis.clipMinimum||s>this.xAxis.clipMaximum)continue;const n=this.xAxis.transform(s);await e.drawText(A(n,this.symbolPosition),this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,B.Center,D.Bottom)}}}async renderLegend(e,s){await e.drawText(s.center,this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,B.Center,D.Middle)}areAxesRequired(){return!0}ensureAxes(){this.xAxis=this.xAxisKey!==void 0?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis}isUsing(e){return e===this.xAxis}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minimumX),this.xAxis.include(this.maximumX)}updateData(){}updateMaxMin(){this.minimumX=Lt(this.values),this.maximumX=Xt(this.values)}}class La extends ${constructor(){super();nt(this,"showVerticals");nt(this,"epsilon");this.showVerticals=!0,this.epsilon=1e-8}async render(e){if(this.points.length===0)return;if(this.points.length%2!==0)throw new Error("The number of points should be even.");if(!this.xAxis||!this.yAxis)throw new Error("Axis has not been defined.");const s=this.points.map(o=>this.transform(o)),n=[];for(let o=0;o<s.length;o+=2)fi(s[o],s[o+1])<this.strokeThickness&&(s[o]=A(s[o].x-this.strokeThickness*.5,s[o].y),s[o+1]=A(s[o].x+this.strokeThickness*.5,s[o].y)),this.showVerticals&&o>0&&Math.abs(s[o-1].x-s[o].x)<this.epsilon&&(n.push(s[o-1]),n.push(s[o]));if(this.strokeThickness>0){if(this.lineStyle!==k.None){const o=Ft.getDashArray(this.lineStyle);await e.drawLineSegments(s,this.actualColor,this.strokeThickness,this.edgeRenderingMode,o,this.lineJoin)}await e.drawLineSegments(n,this.actualColor,this.strokeThickness/3,this.edgeRenderingMode,Ft.getDashArray(k.Dash),this.lineJoin)}await O.drawMarkers(e,s,this.markerType,void 0,[this.markerSize],this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}getNearestPoint(e,s){const n=this.points;if(!n)return;let o,a,l=-1,h=Number.MAX_VALUE;for(let m=0;m+1<n.length;m+=2){const c=n[m],g=n[m+1];if(!this.isValidPoint(c)||!this.isValidPoint(g))continue;const f=this.transform(c),b=this.transform(g),S=me.findPointOnLine(e,f,b);if(Cs(S))continue;const M=fi(e,S);if(M<h){const T=Ve(S,f)/Ve(b,f);a=d(c.x+T*(g.x-c.x),c.y+T*(g.y-c.y)),o=S,h=M,l=m+T}}if(h<Number.MAX_VALUE){const m=this.getItem(Math.floor(l));return new Ot({series:this,dataPoint:a,position:o,item:m,index:l,text:`${this.title||""}
x: ${m.x}
y: ${m.y}`})}}}class Er extends Bt{constructor(e){super(e);nt(this,"image");nt(this,"_matrix");nt(this,"gridInterval");nt(this,"showDiagonal");nt(this,"minimumGridLineDistance");nt(this,"gridColor");nt(this,"borderColor");nt(this,"notZeroColor");nt(this,"zeroTolerance");this.gridInterval=1,this.showDiagonal=!1,this.minimumGridLineDistance=4,this.gridColor=p.LightGray,this.borderColor=p.Gray,this.notZeroColor=p.Black,this.zeroTolerance=0,this.trackerStringFormatter=s=>`${s.title||""}
[${s.xValue},${s.yValue}] = ${s.item}`,e&&Object.assign(this,st(e))}get matrix(){return this._matrix}set matrix(e){this._matrix=e,this.image=void 0}get matrixValue(){return this.matrix}set matrixValue(e){this.image=void 0,this.matrix=e}async render(e){if(!this.matrixValue)return;const s=J.transform,n=this.matrixValue.length,o=this.matrixValue[0].length,a=s(this,0,0),l=s(this,o,n);if(!this.image){const b=new Re(o,n);for(let S=0;S<n;S++)for(let M=0;M<o;M++){const T=Math.abs(this.matrixValue[S][M])<=this.zeroTolerance?p.Transparent:this.notZeroColor;b.set(M,S,T)}this.image=await fe.create(b,pe.Png)}const h=Math.min(a.x,l.x),m=Math.min(a.y,l.y),c=Math.abs(a.x-l.x),g=Math.abs(a.y-l.y);await O.drawImage(e,this.image,h,m,c,g,1,!1);const f=[];if(this.gridInterval>0){const b=s(this,this.gridInterval,this.gridInterval);if(Math.abs(b.y-a.y)>this.minimumGridLineDistance)for(let S=1;S<o;S+=this.gridInterval)f.push(s(this,0,S)),f.push(s(this,o,S));if(Math.abs(b.x-a.x)>this.minimumGridLineDistance)for(let S=1;S<n;S+=this.gridInterval)f.push(s(this,S,0)),f.push(s(this,S,n))}if(this.showDiagonal&&(f.push(s(this,0,0)),f.push(s(this,o,n))),await e.drawLineSegments(f,this.gridColor,1,this.edgeRenderingMode,void 0,Q.Miter),this.borderColor.isVisible()){const b=[s(this,0,0),s(this,n,0),s(this,0,o),s(this,n,o),s(this,0,0),s(this,0,o),s(this,n,0),s(this,n,o)];await e.drawLineSegments(b,this.borderColor,1,this.edgeRenderingMode,void 0,Q.Miter)}}getNearestPoint(e,s){if(!this.matrix)return;const n=this.inverseTransform(e),o=Math.floor(n.y),a=Math.floor(n.x);if(o>=0&&o<this.matrix.length&&a>=0&&a<this.matrix[0].length){const l=this.matrix[o][a];return new Ot({series:this,dataPoint:n,position:e,item:null,index:-1,text:this.trackerStringFormatter({item:l,title:this.title,xValue:a,yValue:o})})}}updateMaxMin(){super.updateMaxMin(),this.matrix&&(this.minX=0,this.maxX=this.matrix[0].length,this.minY=0,this.maxY=this.matrix.length)}}class _r extends Bt{constructor(e){super(e);nt(this,"image");nt(this,"pixels");nt(this,"imageSize",0);nt(this,"angle0",0);nt(this,"angle1",0);nt(this,"magnitude0",0);nt(this,"magnitude1",0);nt(this,"data");nt(this,"interpolate");nt(this,"minValue",0);nt(this,"maxValue",0);nt(this,"colorAxis");nt(this,"colorAxisKey");this.interpolate=!0,e&&Object.assign(this,st(e))}async render(e){if(!this.data){this.image=void 0;return}this.imageSize>0?await this.renderFixed(e,this.plotModel):await this.renderDynamic(e,this.plotModel)}async renderDynamic(e,s){if(!this.data)return;const n=this.data.length,o=this.data[0].length,a=s.plotArea,l=Math.floor(a.width),h=Math.floor(a.height);if(l===0||h===0)return;(!this.pixels||this.pixels.height!==h||this.pixels.width!==l)&&(this.pixels=new Re(l,h));const m=this.pixels,c=We.getColor;for(let g=0;g<h;g++)for(let f=0;f<l;f++){const b=A(a.left+f,a.top+g),S=this.inverseTransform(b);let M,T;if(this.plotModel.plotType!==rt.Polar)M=Math.atan2(S.y,S.x)/Math.PI*180,T=Math.sqrt(S.x*S.x+S.y*S.y);else{for(M=S.y/Math.PI*180,T=S.x;M<0;)M+=360;for(;M>360;)M-=360}const C=(M-this.angle0)/(this.angle1-this.angle0)*n,v=(T-this.magnitude0)/(this.magnitude1-this.magnitude0)*o;if(C>=0&&C<n&&v>=0&&v<o){const R=this.getValue(C,v),P=r.fromAColor(160,c(this.colorAxis,R));m.set(f,g,P)}else m.set(f,g,p.Transparent)}this.image=await fe.create(m,pe.Png),await O.drawImage(e,this.image,a.left,a.top,a.width,a.height,1,!1)}async renderFixed(e,s){if(!this.data)return;if(!this.image){const a=this.data.length,l=this.data[0].length,h=this.imageSize,m=this.imageSize;(this.pixels===void 0||this.pixels.height!==m||this.pixels.width!==h)&&(this.pixels=new Re(h,m));const c=We.getColor,g=this.pixels;for(let f=0;f<m;f++)for(let b=0;b<h;b++){const S=(b-h*.5)/(h*.5)*this.magnitude1,M=-(f-m*.5)/(m*.5)*this.magnitude1;let T=Math.atan2(M,S)/Math.PI*180;const C=Math.sqrt(S*S+M*M);for(;T<0;)T+=360;for(;T>360;)T-=360;const v=(T-this.angle0)/(this.angle1-this.angle0)*a,R=(C-this.magnitude0)/(this.magnitude1-this.magnitude0)*l;if(v>=0&&v<a&&R>=0&&R<l){const P=this.getValue(v,R),I=r.fromAColor(160,c(this.colorAxis,P));g.set(b,f,I)}else g.set(b,f,p.Transparent)}this.image=await fe.create(g,pe.Png)}if(!this.image)return;const n=J.transform;let o;if(this.plotModel.plotType!==rt.Polar){const a=n(this,-this.magnitude1,this.magnitude1),l=n(this,this.magnitude1,-this.magnitude1);o=new N(a.x,a.y,l.x-a.x,l.y-a.y)}else{const a=n(this,this.magnitude1,90),l=n(this,this.magnitude1,270),h=n(this,this.magnitude1,180),m=n(this,this.magnitude1,0);o=new N(h.x,a.y,m.x-h.x,l.y-a.y)}await O.drawImage(e,this.image,o.left,o.top,o.width,o.height,1,!1)}getValue(e,s){if(!this.data)return NaN;if(!this.interpolate){const v=Math.floor(e),R=Math.floor(s);return this.data[v][R]}e-=.5,s-=.5;const n=Math.floor(e),o=Math.floor(s),a=n>0?n:0,l=n+1<this.data.length?n+1:n,h=o>0?o:0,m=o+1<this.data[0].length?o+1:o,c=this.data[a][h],g=this.data[a][m],f=this.data[l][h],b=this.data[l][m],S=e-n,M=s-o,T=c*(1-M)+g*M,C=f*(1-M)+b*M;return T*(1-S)+C*S}getNearestPoint(e,s){}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin();const e=this.getData();this.minValue=Lt(e),this.maxValue=Xt(e);const s=this.colorAxis;s&&(s.include(this.minValue),s.include(this.maxValue))}getData(){if(!this.data)return[];const e=this.data.length,s=[],n=this.data[0].length;for(let o=0;o<e;o++)for(let a=0;a<n;a++)s.push(this.data[o][a]);return s}}function Lp(){const t=new y({title:"ErrorSeries"}),e=new W({legendPosition:z.BottomRight});t.legends.push(e);const s=new vp;s.title="Measurements";const n=Math.random();let o=0,a=0;for(let l=0;l<20;l++){o+=2+n*10,a+=1+n;const h=1+n*2,m=1+n*2;s.pointsList.push(new Cp(o,a,h,m))}return t.series.push(s),t}function Ip(){const i=new y({title:"LineSegmentSeries"}),t=new La;t.title="The first series",t.points.push(d(0,3),d(2,3.2)),t.points.push(d(2,2.7),d(7,2.9)),i.series.push(t);const e=new La;return e.title="The second series",e.points.push(d(1,-3),d(2,10)),e.points.push(d(0,4.8),d(7,2.3)),e.points.push(d(6,4),d(6,4+1e-8)),i.series.push(e),i}function Bp(){const i=new y({title:"FlagSeries"}),t=new Pp;return t.title="Incidents",t.color=p.Red,t.values.push(2,3,5,7,11,13,17,19),i.series.push(t),i}function Dp(){const i=new y,t=[[1,0,0],[0,2,0],[0,0,3],[5,5,5]];return i.axes.push(new w({position:x.Left,startPosition:1,endPosition:0})),i.axes.push(new w({position:x.Bottom})),i.series.push(new Er({matrix:t,showDiagonal:!0})),i}function ds(){const i=new y({title:"Polar heat map",plotMargins:new X(40,80,40,40),plotType:rt.Polar,plotAreaBorderThickness:new X(0)}),t=[[0,2],[1.5,.2]];return i.axes.push(new re({startAngle:0,endAngle:360,minimum:0,maximum:360,majorStep:30,minorStep:15})),i.axes.push(new Ae({minimum:0,maximum:100,majorStep:25,minorStep:5})),i.axes.push(new Wt({position:x.Right,palette:H.rainbow(500),highColor:p.Gray,lowColor:p.Black})),i.series.push(new _r({data:t,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!1})),i}function Np(){const i=ds();return i.axes[0]=new re({startAngle:360,endAngle:0,minimum:0,maximum:360,majorStep:30,minorStep:15}),i}function Fp(){const i=ds();return i.axes[0]=new re({startAngle:90,endAngle:450,minimum:0,maximum:360,majorStep:30,minorStep:15}),i}function Vp(){const i=ds();return i.axes[0]=new re({startAngle:Math.PI,endAngle:Math.PI+360,minimum:0,maximum:360,majorStep:30,minorStep:15}),i}function Ep(){const i=ds();return i.title="Polar heat map (interpolated)",i.series[0].interpolate=!0,i}function _p(){const i=ds();return i.title="Polar heat map with fixed size image",i.series[0].imageSize=800,i}function Wo(){const i=new y({title:"Polar heat map on linear axes"}),t=[[0,2],[1.5,.2]];return i.axes.push(new w({position:x.Bottom,minimum:-100,maximum:100})),i.axes.push(new w({position:x.Left,minimum:0,maximum:100})),i.axes.push(new Wt({position:x.Right,palette:H.rainbow(500),highColor:p.Gray,lowColor:p.Black})),i.series.push(new _r({data:t,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!0})),i}function Op(){const i=Wo();return i.title="Polar heat map on linear axes & fixed size image (256x256)",i.series[0].imageSize=256,i}function zp(){const i=Wo();return i.title="Polar heat map on linear axes & fixed size image (1000x1000)",i.series[0].imageSize=1e3,i}function $p(){const i=new Re(7,7,0);i.set(1,0,1),i.set(5,0,1),i.set(3,1,1),i.set(0,2,1),i.set(6,2,1),i.set(4,3,1),i.set(1,4,1),i.set(5,4,1),i.set(2,5,1),i.set(0,6,1),i.set(4,6,1);for(let o=0;o<7;o++)i.set(o,o,-1);const t=new y({title:"Design structure matrix (DSM)"});t.axes.push(new Wt({position:x.None,palette:new zt([p.White,p.LightGreen]),lowColor:p.Black,minimum:0,isAxisVisible:!1}));const e=new K({position:x.Top});e.labels.push("A","B","C","D","E","F","G"),t.axes.push(e);const s=new K({position:x.Left,startPosition:1,endPosition:0});s.labels.push("Element A","Element B","Element C","Element D","Element E","Element F","Element G"),t.axes.push(s);const n=new Gp({data:i.toArray(),interpolate:!1,labelStringFormatter:(o,a)=>`${o||""}`,labelFontSize:.25,x0:0,x1:i.width-1,y0:0,y1:i.height-1});return t.series.push(n),t}class Gp extends Oe{constructor(t){super(t)}getLabel(t,e,s){return e===s?this.xAxis.labels[e]:super.getLabel(t,e,s)}}const Up="Custom series",jp={category:Up,tags:["Series"],examples:[{title:"ErrorSeries",example:{model:Lp}},{title:"LineSegmentSeries",example:{model:Ip}},{title:"FlagSeries",example:{model:Bp}},{title:"MatrixSeries - diagonal matrix",example:{model:Dp}},{title:"PolarHeatMap",example:{model:ds}},{title:"PolarHeatMap Reversed Angle Axis",example:{model:Np}},{title:"PolarHeatMap Rotated CounterClockwise 90",example:{model:Fp}},{title:"PolarHeatMap Rotated CounterClockwise on PI degrees",example:{model:Vp}},{title:"PolarHeatMap (interpolated)",example:{model:Ep}},{title:"PolarHeatMap fixed size image",example:{model:_p}},{title:"PolarHeatMap on linear axes",example:{model:Wo}},{title:"PolarHeatMap linear axes, fixed size image (256x256)",example:{model:Op}},{title:"PolarHeatMap linear axes, fixed size image (1000x1000)",example:{model:zp}},{title:"Design structure matrix (DSM)",example:{model:$p}}]},Wp=[jp];function Hp(){const i=new y;i.title="Invisible contour series";const t=new De;return t.isVisible=!1,t.columnCoordinates=Kt.createVectorWithStep(-1,1,.05),t.rowCoordinates=Kt.createVectorWithStep(-1,1,.05),t.data=Kt.evaluate((e,s)=>e+s,t.columnCoordinates,t.rowCoordinates),i.series.push(t),i}function Yp(){const i=new y;return i.title="StairStepSeries NullReferenceException",i.series.push(new Be),i}function Xp(){const i=[[10,0,-10],[0,0,0]],t=new y({title:"HeatMapSeries"});t.axes.push(new Wt({position:x.Right,palette:new zt([p.Red,p.Green,p.Blue])}));const e=new Oe({coordinateDefinition:Vs.Center,x0:0,x1:3,y0:0,y1:2,data:i,interpolate:!1,labelFontSize:.2});return t.series.push(e),t}function qp(){return Rt.createPeaks(void 0,!0,400)}function Kp(){const i=Rt.createPeaks();i.title="Updating HeatMapSeries",i.subtitle="Click the heat map to change the Maximum of the color axis.";const t=i.axes[0],e=i.series[0];return e.onMouseDown=s=>{t.maximum=isNaN(t.maximum)?10:NaN,i.invalidatePlot(!0)},i}function Zp(){const i=Rt.createPeaks();i.title="Updating HeatMapSeries",i.subtitle="Click the heat map to change the Maximum of the color axis and invoke the Invalidate method on the HeatMapSeries.";const t=i.axes[0],e=i.series[0];return e.onMouseDown=s=>{t.maximum=isNaN(t.maximum)?10:NaN,e.invalidate(),i.invalidatePlot(!0)},i}function Jp(){const i=new y;i.title="Reduced color saturation",i.axes.push(new K({position:x.Bottom})),i.defaultColors=i.defaultColors.map(e=>xe.changeSaturation(e,.5));const t=new St;for(let e=0;e<i.defaultColors.length;e++){const s=new G;s.items.push(L.fromValue(50+t.next()*50)),s.items.push(L.fromValue(40+t.next()*50)),i.series.push(s)}return i}function Qp(){const i=new y;i.title="Medium intensity colors",i.axes.push(new K({position:x.Bottom})),i.defaultColors=[r.fromRgb(114,114,114),r.fromRgb(241,89,95),r.fromRgb(121,195,106),r.fromRgb(89,154,211),r.fromRgb(249,166,90),r.fromRgb(158,102,171),r.fromRgb(205,112,88),r.fromRgb(215,127,179)];const t=new St;for(let e=0;e<i.defaultColors.length;e++){const s=new G;s.items.push(L.fromValue(50+t.next()*50)),s.items.push(L.fromValue(40+t.next()*50)),i.series.push(s)}return i}function t1(){const i=new y;i.title="Brewer colors (Accent scheme)",i.axes.push(new K({position:x.Bottom})),i.defaultColors=[r.fromRgb(127,201,127),r.fromRgb(190,174,212),r.fromRgb(253,192,134),r.fromRgb(255,255,153)];const t=new St;for(let e=0;e<i.defaultColors.length;e++){const s=new G;s.items.push(L.fromValue(50+t.next()*50)),s.items.push(L.fromValue(40+t.next()*50)),i.series.push(s)}return i}function e1(){const i=new y;i.title="Brewer colors (Paired scheme)",i.axes.push(new K({position:x.Bottom})),i.defaultColors=[r.fromRgb(166,206,227),r.fromRgb(31,120,180),r.fromRgb(178,223,138),r.fromRgb(51,160,44),r.fromRgb(251,154,153),r.fromRgb(227,26,28)];const t=new St;for(let e=0;e<i.defaultColors.length;e++){const s=new G;s.items.push(L.fromValue(50+t.next()*50)),s.items.push(L.fromValue(40+t.next()*50)),i.series.push(s)}return i}function i1(){const i=new y;i.title="Same color of LineSeries and axis title & labels";const t=p.IndianRed;return i.axes.push(new w({position:x.Left,title:"Axis 1",titleColor:t,textColor:t})),i.axes.push(new w({position:x.Bottom})),i.series.push(new $({title:"LineSeries 1",color:t,itemsSource:[d(0,0),d(10,3),d(20,2)]})),i}function s1(){const i=new y;return i.title="Custom arrow series",i.plotType=rt.Polar,i.plotAreaBorderColor=p.Undefined,i.axes.push(new re({minimum:0,maximum:360,majorStep:30,minorStep:30,majorGridlineStyle:k.Dash})),i.axes.push(new Ae({minimum:0,maximum:5,majorStep:1,minorStep:1,angle:90,majorGridlineStyle:k.Dash})),i.series.push(new ys({endPoint:d(1,40)})),i.series.push(new ys({endPoint:d(2,75)})),i.series.push(new ys({endPoint:d(3,110)})),i.series.push(new ys({endPoint:d(4,140)})),i.series.push(new ys({endPoint:d(5,180)})),i}function n1(){const i=new y({plotType:rt.Cartesian,plotAreaBorderThickness:new X(0)}),t=new W;t.legendSymbolLength=30;const e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=Ze(),n=new It({position:x.Bottom,tickStyle:it.None,axislineStyle:k.Solid,axislineColor:r.fromRgb(153,153,153),stringFormatter:(l,h)=>e[l.getMonth()]+s.format(l,"d HH"),intervalType:at.Hours}),o=new w({position:x.Left,minimum:.001,maximum:3,majorGridlineStyle:k.Solid,tickStyle:it.None,intervalLength:50});i.axes.push(n),i.axes.push(o);const a=new $({color:r.fromRgb(44,169,173),strokeThickness:1,markerType:F.Circle,markerStroke:p.Blue,markerFill:p.SkyBlue,markerSize:2,dataFieldX:"Date",dataFieldY:"Value",trackerStringFormatter:l=>`Date: ${s.format(l.xValue,"DD HH")}
Value: ${l.yValue}`});return a.points.push(d(.1,.7)),a.points.push(d(.6,.9)),a.points.push(d(1,.85)),a.points.push(d(1.4,.95)),a.points.push(d(1.8,1.2)),a.points.push(d(2.2,1.7)),a.points.push(d(2.6,1.7)),a.points.push(d(3,.7)),i.series.push(a),i}class ys extends Bt{constructor(e){super(e);nt(this,"defaultColor",p.Undefined);nt(this,"startPoint",Ai);nt(this,"endPoint",Ai);nt(this,"color");nt(this,"strokeThickness");this.color=p.Automatic,this.strokeThickness=2,e&&Object.assign(this,e)}setDefaultValues(){this.color.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor())}get actualColor(){return this.color.getActualColor(this.defaultColor)}async render(e){const s=this.transform(this.startPoint),n=this.transform(this.endPoint),o=Gt(n,s),a=new dt(o.y,-o.x),l=bt(ke(n,o.times(.2)),a.times(.1)),h=ke(ke(n,o.times(.2)),a.times(.1));await e.drawLineSegments([s,n,n,l,n,h],this.actualColor,this.strokeThickness,this.edgeRenderingMode)}}const o1="Z0 Discussions",a1={category:o1,examples:[{title:"#445576: Invisible contour series",example:{model:Hp}},{title:"#461507: StairStepSeries NullReferenceException",example:{model:Yp}},{title:"#501409: Heatmap interpolation color",example:{model:Xp}},{title:"#522598: Peaks 400x400",example:{model:qp}},{title:"#474875: Updating HeatMapSeries 1",example:{model:Kp}},{title:"#474875: Updating HeatMapSeries 2",example:{model:Zp}},{title:"#539104: Reduced color saturation",example:{model:Jp}},{title:"#539104: Medium intensity colors",example:{model:Qp}},{title:"#539104: Brewer colors (4)",example:{model:t1}},{title:"#539104: Brewer colors (6)",example:{model:e1}},{title:"#542701: Same color of LineSeries and axis title & labels",example:{model:i1}},{title:"#549839: Polar plot with custom arrow series",example:{model:s1}},{title:"MarkerType = Circle problem",example:{model:n1}}]},r1=[a1];function l1(){const i=new y({title:"Filtering NaN points"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const t=new $;return t.points.push(d(NaN,NaN)),t.points.push(d(1,0)),t.points.push(d(2,10)),t.points.push(d(NaN,20)),t.points.push(d(3,10)),t.points.push(d(4,0)),t.points.push(d(4.5,NaN)),t.points.push(d(5,0)),t.points.push(d(7,7)),t.points.push(d(NaN,NaN)),t.points.push(d(NaN,NaN)),t.points.push(d(7,0)),t.points.push(d(NaN,NaN)),i.series.push(t),i}function h1(){const i=new y({title:"Filtering NaN points in an AreaSeries"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const t=new ei;return t.points.push(d(1,0)),t.points.push(d(2,10)),t.points.push(d(3,10)),t.points.push(d(4,0)),t.points.push(d(5,0)),t.points.push(d(6,7)),t.points.push(d(7,7)),t.points.push(d(NaN,NaN)),t.points.push(d(NaN,NaN)),t.points.push(d(8,0)),t.points.push(d(9,0)),t.points.push(d(NaN,NaN)),t.points2.push(d(1,10)),t.points2.push(d(2,110)),t.points2.push(d(3,110)),t.points2.push(d(4,10)),t.points2.push(d(5,10)),t.points2.push(d(6,17)),t.points2.push(d(7,17)),t.points2.push(d(NaN,NaN)),t.points2.push(d(NaN,NaN)),t.points2.push(d(8,10)),t.points2.push(d(9,10)),t.points2.push(d(NaN,NaN)),i.series.push(t),i}function m1(){const i=new y({title:"Filtering undefined points"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const t=new $;return t.points.push(ae),t.points.push(d(1,0)),t.points.push(d(2,10)),t.points.push(ae),t.points.push(d(3,10)),t.points.push(d(4,0)),t.points.push(ae),t.points.push(d(5,0)),t.points.push(d(7,7)),t.points.push(ae),t.points.push(ae),t.points.push(d(7,0)),t.points.push(ae),i.series.push(t),i}function u1(){const i=new y({title:"Filtering invalid points on logarithmic axes"});i.axes.push(new wt({position:x.Bottom})),i.axes.push(new wt({position:x.Left}));const t=new $;return t.points.push(d(NaN,NaN)),t.points.push(d(1,1)),t.points.push(d(10,10)),t.points.push(d(0,20)),t.points.push(d(100,2)),t.points.push(d(1e3,12)),t.points.push(d(4.5,0)),t.points.push(d(1e4,4)),t.points.push(d(1e5,14)),t.points.push(d(NaN,NaN)),t.points.push(d(1e6,5)),t.points.push(d(NaN,NaN)),i.series.push(t),i}function c1(){const i=new y({title:"Filtering points outside (-1,1)"});i.axes.push(new w({position:x.Bottom,filterMinValue:-1,filterMaxValue:1})),i.axes.push(new w({position:x.Left,filterMinValue:-1,filterMaxValue:1}));const t=new $;for(let e=0;e<200;e+=.01)t.points.push(d(.01*e*Math.sin(e),.01*e*Math.cos(e)));return i.series.push(t),i}const d1="Filtering data points",p1={category:d1,examples:[{title:"Filtering NaN points",example:{model:l1}},{title:"Filtering NaN points with AreaSeries",example:{model:h1}},{title:"Filtering undefined points",example:{model:m1}},{title:"Filtering invalid points (log axis)",example:{model:u1}},{title:"Filtering points outside (-1,1)",example:{model:c1}}]},Ti=1e5;function g1(){const i=[];for(let e=0;e<Ti;e++){const s=e/(Ti-1);i.push(d(s,Rn(s)))}const t=new y({title:"Using IDataPoint"});return t.series.push(new $({itemsSource:i})),t}function x1(){const i=[];for(let e=0;e<Ti;e++){const s=e/(Ti-1);i.push(new y1(s,Rn(s)))}const t=new y({title:"Items implementing IDataPointProvider"});return t.series.push(new $({itemsSource:i})),t}function f1(){const i=[];for(let e=0;e<Ti;e++){const s=e/(Ti-1);i.push(new Or(s,Rn(s)))}const t=new y({title:"Using Mapping property"});return t.series.push(new $({itemsSource:i,mapping:e=>d(e.abscissa,e.ordinate)})),t}function w1(){const i=[];for(let e=0;e<Ti;e++){const s=e/(Ti-1);i.push(new Or(s,Rn(s)))}const t=new y({title:"Using reflection (slow)"});return t.series.push(new $({itemsSource:i,dataFieldX:"abscissa",dataFieldY:"ordinate"})),t}class y1{constructor(t,e){this.abscissa=t,this.ordinate=e}getDataPoint(){return d(this.abscissa,this.ordinate)}}class Or{constructor(t,e){this.abscissa=t,this.ordinate=e}}function Rn(i){return Math.sin(3/i)*Math.sin(5/(1-i))}const b1="ItemsSource",S1={category:b1,examples:[{title:"List<DataPoint>",example:{model:g1}},{title:"Items implementing IDataPointProvider",example:{model:x1}},{title:"Mapping property",example:{model:f1}},{title:"Using reflection (slow)",example:{model:w1}}]},M1=()=>{const i=Jt(),t=new W({legendPlacement:pt.Inside,legendPosition:z.RightTop,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i},k1=()=>{const i=Jt(),t=new W({legendPlacement:pt.Outside,legendPosition:z.RightTop,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i},A1=()=>{const i=Jt(4),t=new W({legendPlacement:pt.Outside,legendPosition:z.BottomLeft,legendOrientation:At.Horizontal,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i},R1=()=>{const i=Jt(4),t=new W({legendPlacement:pt.Outside,legendPosition:z.TopLeft,legendOrientation:At.Vertical,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i},T1=()=>{const i=Jt(),t=new W;return i.legends.push(t),i},C1=()=>{const i=Jt(),t=new W({legendItemSpacing:100,legendPosition:z.BottomLeft,legendOrientation:At.Horizontal,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i},v1=()=>{const i=Jt(),t=new W({legendLineSpacing:30,legendPosition:z.TopLeft,legendOrientation:At.Vertical,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i},P1=()=>{const i=Jt(),t=new W({legendLineSpacing:30,legendPosition:z.TopLeft,legendOrientation:At.Horizontal,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i},L1=()=>{const i=Jt(60),t=new W({legendColumnSpacing:100,legendPosition:z.TopRight,legendOrientation:At.Vertical,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i},I1=()=>{const i=Jt(),t=new W({legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i.isLegendVisible=!1,i},B1=()=>{const i=Jt();i.defaultColors=[p.Black,p.Gray];const t=new W({legendSymbolLength:32,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i},Ho=()=>{const i=Jt(1);i.series[0].title="1234567890 abcdefghijklmnopqrstuvwxyzæøå ABCDEFGHIJKLMNOPQRSTUVWXYZÆØÅ 1234567890 abcdefghijklmnopqrstuvwxyzæøå ABCDEFGHIJKLMNOPQRSTUVWXYZÆØÅ";const t=new W({legendPlacement:pt.Inside,legendPosition:z.RightTop,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i},D1=()=>{const i=Ho();return i.legends[0].legendPlacement=pt.Outside,i.legends[0].legendPosition=z.RightTop,i.legends[0].legendMaxWidth=200,i},N1=()=>{const i=Ho();return i.legends[0].legendPlacement=pt.Outside,i.legends[0].legendPosition=z.TopRight,i};function Jt(i=20){const t=new y;t.title="LineSeries";for(let e=1;e<=i;e++){const s=new $;s.title="Series "+e,t.series.push(s);for(let n=0;n<2*Math.PI;n+=.1)s.points.push(d(n,Math.sin(n*e)/e+e))}return t}const F1=()=>{const i=Jt(),t=new W({legendPlacement:pt.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Vertical,legendMaxHeight:75,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i},V1=()=>{const i=Jt(),t=new W({legendFontSize:NaN,legendTitle:"Title in DefaultFontSize",legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i.defaultFontSize=20,i},E1=()=>{const i=Jt(21);for(let e=0;e<7;e++)i.series[e].seriesGroupName="group 1";for(let e=7;e<14;e++)i.series[e].seriesGroupName="group 2";for(let e=14;e<21;e++)i.series[e].seriesGroupName="group 3";const t=new W({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black,groupNameFont:"Segoe UI Black",legendPosition:z.TopLeft,legendOrientation:At.Horizontal});return i.legends.push(t),i},_1=()=>{const i=Jt(21);for(let e=0;e<7;e++)i.series[e].seriesGroupName="group 1";for(let e=7;e<14;e++)i.series[e].seriesGroupName="group 2";for(let e=14;e<21;e++)i.series[e].seriesGroupName="group 3";const t=new W({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i},O1=()=>{const i=Jt(21);for(let e=0;e<7;e++)i.series[e].seriesGroupName="group 1";for(let e=7;e<14;e++)i.series[e].seriesGroupName="group 2";for(let e=14;e<21;e++)i.series[e].seriesGroupName="group 3";const t=new W({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black,legendMaxHeight:275});return i.legends.push(t),i},z1=()=>{const i=Jt(21);for(let s=0;s<7;s++)i.series[s].seriesGroupName="group 1",i.series[s].legendKey="Legend 1";for(let s=7;s<14;s++)i.series[s].seriesGroupName="group 2",i.series[s].legendKey="Legend 1";for(let s=14;s<21;s++)i.series[s].seriesGroupName="group 3",i.series[s].legendKey="Legend 2";const t=new W({key:"Legend 1",legendFontSize:NaN,legendTitle:"Legend 1 Series",legendPlacement:pt.Inside,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black}),e=new W({key:"Legend 2",legendFontSize:NaN,legendTitle:"Legend 2 Series",legendPlacement:pt.Outside,legendBackground:r.fromAColor(200,p.White),legendBorder:p.Black});return i.legends.push(t),i.legends.push(e),i},$1=()=>{const i=Jt(21),t=new W({legendPlacement:pt.Outside,legendPosition:z.TopCenter,legendOrientation:At.Horizontal,allowUseFullExtent:!0}),e=new W({legendPlacement:pt.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,allowUseFullExtent:!0});return i.plotMargins=new X(50),i.legends.push(t),i.legends.push(e),i.invalidatePlot(!0),i},G1=()=>{const i=Jt(21),t=new W({legendPlacement:pt.Outside,legendPosition:z.LeftTop,legendOrientation:At.Vertical,allowUseFullExtent:!0}),e=new W({legendPlacement:pt.Outside,legendPosition:z.RightTop,legendOrientation:At.Vertical,allowUseFullExtent:!0});return i.legends.push(t),i.legends.push(e),i},U1=()=>zr(!0),j1=()=>zr(!1),zr=i=>{const t=Jt(),e=new W({showInvisibleSeries:i});t.legends.push(e);for(let s=0;s<t.series.length;s+=2)t.series[s].isVisible=!1;return t.invalidatePlot(!1),t},W1="Legends",H1={category:W1,tags:["Legends"],examples:[{title:"Legend at right top inside",example:{model:M1}},{title:"Legend at right top outside",example:{model:k1}},{title:"Legend at BottomLeft outside horizontal",example:{model:A1}},{title:"Legend at TopLeft outside vertical",example:{model:R1}},{title:"Legend at default position",example:{model:T1}},{title:"LegendItemSpacing (only for horizontal orientation)",example:{model:C1}},{title:"LegendLineSpacing (vertical legend orientation)",example:{model:v1}},{title:"LegendLineSpacing (horizontal legend orientation)",example:{model:P1}},{title:"LegendColumnSpacing (only for vertical orientation)",example:{model:L1}},{title:"Hidden Legend",example:{model:I1}},{title:"Grayscale colors",example:{model:B1}},{title:"Clipped legends",example:{model:Ho}},{title:"Clipped legends RightTop outside with MaxWidth",example:{model:D1}},{title:"Clipped legends TopRight outside",example:{model:N1}},{title:"LegendMaxHeight (vertical legend orientation)",example:{model:F1}},{title:"Legend with DefaultFontSize",example:{model:V1}},{title:"Legend with grouped Series Horizontal",example:{model:E1}},{title:"Legend with grouped Series",example:{model:_1}},{title:"Legend with grouped Series and MaxHeight",example:{model:O1}},{title:"Multiple Legends with grouped Series",example:{model:z1}},{title:"Full width legend",example:{model:$1}},{title:"Full height legend",example:{model:G1}},{title:"Legend showing invisible series",example:{model:U1}},{title:"Legend not showing invisible series",example:{model:j1}}]};function Y1(){const i=new y({title:"Mouse events",subtitle:"Left click and drag"}),t=new w({position:x.Left,minimum:-1,maximum:1}),e=new w({position:x.Bottom,minimum:-1,maximum:1});i.axes.push(t),i.axes.push(e);let s;return i.mouseDown=(n,o)=>{o.changedButton===xt.Left&&(s=new $({title:"LineSeries"+(i.series.length+1),markerType:F.None,strokeThickness:2}),s.points.push(e.inverseTransformPoint(o.position.x,o.position.y,t)),i.series.push(s),i.invalidatePlot(!1),o.handled=!0)},i.mouseMove=(n,o)=>{s!==void 0&&(s.points.push(e.inverseTransformPoint(o.position.x,o.position.y,t)),i.invalidatePlot(!1),o.handled=!0)},i.mouseUp=(n,o)=>{s!==void 0&&(s=void 0,o.handled=!0)},i}function X1(){const i=new y({title:"MouseDown HitTestResult",subtitle:"Reports the index of the nearest point."}),t=new $;t.points.push(d(0,10)),t.points.push(d(10,40)),t.points.push(d(40,20)),t.points.push(d(60,30)),i.series.push(t),t.mouseDown=(s,n)=>{i.subtitle="Index of nearest point in LineSeries: "+Math.round(n.hitTestResult.index||0),i.invalidatePlot(!1)};const e=new Vt;return e.points.push({x:0,y:15}),e.points.push({x:10,y:45}),e.points.push({x:40,y:25}),e.points.push({x:60,y:35}),i.series.push(e),e.mouseDown=(s,n)=>{i.subtitle="Index of nearest point in ScatterSeries: "+Math.round(n.hitTestResult.index||0),i.invalidatePlot(!1)},i}function q1(){const i=new y({title:"MouseDown",subtitle:"Left click to edit or add points."}),t=new $({title:"LineSeries1",markerType:F.Circle,markerSize:6,strokeThickness:1.5});t.points.push(d(0,10)),t.points.push(d(10,40)),t.points.push(d(40,20)),t.points.push(d(60,30)),i.series.push(t);let e=-1;return t.mouseDown=(s,n)=>{if(n.changedButton===xt.Left){const o=Math.round(n.hitTestResult.index),a=t.transform(t.points[o]);if(Gt(a,n.position).length<10)e=o;else{const l=n.hitTestResult.index+1;t.points.splice(l,0,t.inverseTransform(n.position)),e=l}t.lineStyle=k.DashDot,i.invalidatePlot(!1),n.handled=!0}},t.mouseMove=(s,n)=>{e>=0&&(t.points[e]=t.inverseTransform(n.position),i.invalidatePlot(!1),n.handled=!0)},t.mouseUp=(s,n)=>{e=-1,t.lineStyle=k.Solid,i.invalidatePlot(!1),n.handled=!0},i.mouseDown=(s,n)=>{n.changedButton===xt.Left&&(t.points.push(t.inverseTransform(n.position)),e=t.points.length-1,i.invalidatePlot(!1),n.handled=!0)},i}function K1(){const i=new y({title:"Add arrow annotations",subtitle:"Press and drag the left mouse button"}),t=new w({position:x.Bottom}),e=new w({position:x.Left});i.axes.push(t),i.axes.push(e),i.series.push(new tt({f:n=>Math.sin(n/4)*Math.acos(Math.sin(n)),x0:0,x1:Math.PI*8,n:2e3,title:"sin(x/4)*acos(sin(x))"}));let s=null;return i.mouseDown=(n,o)=>{o.changedButton===xt.Left&&(s=new ss,s.startPoint=s.endPoint=t.inverseTransformPoint(o.position.x,o.position.y,e),i.annotations.push(s),o.handled=!0)},i.mouseMove=(n,o)=>{s&&(s.endPoint=t.inverseTransformPoint(o.position.x,o.position.y,e),s.text=`Y = ${s.endPoint.y.toFixed(3)}`,i.invalidatePlot(!1),o.handled=!0)},i.mouseUp=(n,o)=>{s&&(s=null,o.handled=!0)},i}function Z1(){const i=new y({title:"LineAnnotation",subtitle:"Click and drag the annotation line."});i.axes.push(new w({position:x.Bottom,minimum:-20,maximum:80})),i.axes.push(new w({position:x.Left,minimum:-10,maximum:10}));const t=new Nt({type:de.Vertical,x:4});return t.mouseDown=(e,s)=>{s.changedButton===xt.Left&&(t.strokeThickness*=5,i.invalidatePlot(!1),s.handled=!0)},t.mouseMove=(e,s)=>{t.x=t.inverseTransform(s.position).x,i.invalidatePlot(!1),s.handled=!0},t.mouseUp=(e,s)=>{t.strokeThickness/=5,i.invalidatePlot(!1),s.handled=!0},i.annotations.push(t),i}function J1(){const i=new y({title:"ArrowAnnotation",subtitle:"Click and drag the arrow."});i.axes.push(new w({position:x.Bottom,minimum:-40,maximum:60})),i.axes.push(new w({position:x.Left,minimum:-10,maximum:10}));const t=new ss({startPoint:d(8,4),endPoint:d(0,0),text:"Move me!"});let e=ae,s=!1,n=!1,o=p.White;return t.mouseDown=(a,l)=>{l.changedButton===xt.Left&&(e=t.inverseTransform(l.position),s=l.hitTestResult.index!==2,n=l.hitTestResult.index!==1,o=t.color,t.color=p.Red,i.invalidatePlot(!1),l.handled=!0)},t.mouseMove=(a,l)=>{const h=t.inverseTransform(l.position),m=h.x-e.x,c=h.y-e.y;s&&(t.startPoint=d(t.startPoint.x+m,t.startPoint.y+c)),n&&(t.endPoint=d(t.endPoint.x+m,t.endPoint.y+c)),e=h,i.invalidatePlot(!1),l.handled=!0},t.mouseUp=(a,l)=>{t.color=o},i.annotations.push(t),i}function Q1(){const i=new y({title:"PolygonAnnotation",subtitle:"Click the polygon"});i.axes.push(new w({position:x.Left,minimum:-20,maximum:20})),i.axes.push(new w({position:x.Bottom,minimum:-20,maximum:20}));const t=new Qe({text:"Polygon 1"});t.points.push(d(4,-2),d(8,-4),d(17,7),d(5,8),d(2,5));let e=1;return t.mouseDown=(s,n)=>{n.changedButton===xt.Left&&(t.text="Hit # "+e++,i.invalidatePlot(!1),n.handled=!0)},i.annotations.push(t),i}function t0(){const i=new y({title:"TextAnnotation",subtitle:"Click the text"});i.axes.push(new w({position:x.Bottom,minimum:-20,maximum:20})),i.axes.push(new w({position:x.Left,minimum:-10,maximum:10}));const t=new ue({textPosition:d(4,-2),text:"Click here"});return t.mouseDown=(e,s)=>{console.log("mouseDown"),s.changedButton===xt.Left&&(t.background=t.background.isUndefined()?p.LightGreen:p.Undefined,i.invalidatePlot(!1),s.handled=!0)},i.annotations.push(t),i}async function e0(){const i=new y({title:"ImageAnnotation",subtitle:"Click the image"});i.axes.push(new w({position:x.Bottom,minimum:-20,maximum:20})),i.axes.push(new w({position:x.Left,minimum:-10,maximum:10}));const t=window.oxyPlotImg;if(!t)throw new Error("window.oxyPlotImg not set");const e=await Ro().load(t),s=new Le({imageSource:e,x:new ot(4,j.Data),y:new ot(2,j.Data),horizontalAlignment:B.Right});return i.annotations.push(s),s.mouseDown=(n,o)=>{o.changedButton===xt.Left&&(s.horizontalAlignment=s.horizontalAlignment===B.Right?B.Left:B.Right,i.invalidatePlot(!1),o.handled=!0)},i}function i0(){const i=new y({title:"MouseDown",subtitle:"Left click to add series."}),t=new W({legendSymbolLength:40});return i.legends.push(t),i.mouseDown=(e,s)=>{if(s.changedButton===xt.Left){const n=i.series.length+1;i.series.push(new tt({f:o=>Math.sin(n*o),x0:0,x1:10,n:1e3})),i.invalidatePlot(!0),s.handled=!0}},i}function s0(){const i=new y({title:"Select range",subtitle:"Left click and drag to select a range."});i.series.push(new tt({f:Math.cos,x0:0,x1:40,dx:.1}));const t=new qt({fill:r.fromAColor(120,p.SkyBlue),minimumX:0,maximumX:0});i.annotations.push(t);let e=Number.NaN;return i.mouseDown=(s,n)=>{n.changedButton===xt.Left&&(e=t.inverseTransform(n.position).x,t.minimumX=e,t.maximumX=e,i.invalidatePlot(!0),n.handled=!0)},i.mouseMove=(s,n)=>{if(!Number.isNaN(e)){const o=t.inverseTransform(n.position).x;t.minimumX=Math.min(o,e),t.maximumX=Math.max(o,e),t.text=`∫ cos(x) dx =  ${Math.sin(t.maximumX)-vt(Math.sin(t.minimumX),2)}`,i.subtitle=`Integrating from ${t.minimumX.toFixed(2)} to ${t.maximumX.toFixed(2)}`,i.invalidatePlot(!0),n.handled=!0}},i.mouseUp=(s,n)=>{e=Number.NaN},i}function n0(){const i=new y({title:"Hover"});let t=null;return i.mouseEnter=(e,s)=>{i.subtitle="The mouse entered",t=new $,i.series.push(t),i.invalidatePlot(!1),s.handled=!0},i.mouseMove=(e,s)=>{t&&t.xAxis&&(t.points.push(t.inverseTransform(s.position)),i.invalidatePlot(!1))},i.mouseLeave=(e,s)=>{i.subtitle="The mouse left",i.invalidatePlot(!1),s.handled=!0},i}function o0(){const i=new y({title:"Touch"}),t=new $;return i.series.push(t),i.touchStarted=(e,s)=>{i.subtitle="The touch gesture started",i.invalidatePlot(!1),s.handled=!0},i.touchDelta=(e,s)=>{t.points.push(t.inverseTransform(s.position)),i.invalidatePlot(!1)},i.touchCompleted=(e,s)=>{i.subtitle="The touch gesture completed",i.invalidatePlot(!1),s.handled=!0},i}function a0(){const i=new y({title:"Touch on a LineSeries"}),t=new $;return t.points.push(d(0,0)),t.points.push(d(10,10)),i.series.push(t),t.touchStarted=(e,s)=>{i.subtitle="The touch gesture started on the LineSeries",i.invalidatePlot(!1),s.handled=!0},t.touchDelta=(e,s)=>{t.points.push(t.inverseTransform(s.position)),i.invalidatePlot(!1)},t.touchCompleted=(e,s)=>{i.subtitle="The touch gesture completed",i.invalidatePlot(!1),s.handled=!0},i}function r0(){const i=new y({title:"RectangleAnnotation click"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const t=new qt({minimumX:10,maximumX:60,minimumY:10,maximumY:20});i.annotations.push(t);let e=0;return t.mouseDown=(s,n)=>{t.text="Clicked "+ ++e+" times.",i.invalidatePlot(!1)},i}function l0(){const i=new y({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const t=new qt({fill:p.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});i.annotations.push(t);const e=new qt({fill:p.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});i.annotations.push(e);const s=(n,o)=>{i.subtitle="You clicked "+n.text,i.invalidatePlot(!1)};return t.mouseDown=s,e.mouseDown=s,i}const h0="Mouse Events",m0={category:h0,examples:[{title:"PlotModel mouse events",example:{model:Y1}},{title:"MouseDown event and HitTestResult",example:{model:X1}},{title:"LineSeries and PlotModel MouseDown event",example:{model:q1}},{title:"Add arrow annotations",example:{model:K1}},{title:"LineAnnotation",example:{model:Z1}},{title:"ArrowAnnotation",example:{model:J1}},{title:"PolygonAnnotation",example:{model:Q1}},{title:"TextAnnotation",example:{model:t0}},{title:"ImageAnnotation",example:{model:e0}},{title:"Add Series",example:{model:i0}},{title:"Select range",example:{model:s0}},{title:"Hover",example:{model:n0}},{title:"Touch",example:{model:o0}},{title:"Touch on a LineSeries",example:{model:a0}},{title:"RectangleAnnotation click",example:{model:r0}},{title:"Clicking on an annotation",example:{model:l0}}]};function u0(){const i=new y({title:"LineSeries, 1M points"}),t=new $;return ze(t.points,1e6),i.series.push(t),i}function c0(){const i=new y({title:"LineSeries, 1M points"}),t=new $({edgeRenderingMode:U.PreferSpeed});return ze(t.points,1e6),i.series.push(t),i}function d0(){const i=new y({title:"LineSeries, 100k points"}),t=new $;return ze(t.points,1e5),i.series.push(t),i}function p0(){const i=new y({title:"LineSeries, 100k points",subtitle:"LineStyle = Dash"}),t=new $({lineStyle:k.Dash});return ze(t.points,1e5),i.series.push(t),i}function g0(){const i=new y({title:"LineSeries, 100k points",subtitle:"MarkerType = Square"}),t=new $({markerType:F.Square});return ze(t.points,1e5),i.series.push(t),i}function x0(){const i=new y({title:"LineSeries, 100k points, markers, lower resolution",subtitle:"MarkerType = Square, MarkerResolution = 3"}),t=new $({markerType:F.Square,markerResolution:3});return ze(t.points,1e5),i.series.push(t),i}function f0(){const i=new y({title:"LineSeries, 100k points",subtitle:"LineJoin = Round"}),t=new $({lineJoin:Q.Round});return ze(t.points,1e5),i.series.push(t),i}function w0(){const i=new y({title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>"}),t=new $,e=[];return ze(e,1e5),t.itemsSource=e,i.series.push(t),i}function y0(){const i=new y({title:"LineSeries, 100k points by ItemsSource and Mapping",subtitle:"Using the Mapping function"}),t=new $,e=[];ze(e,1e5);const s=e.map(n=>new N(n.x,n.y,0,0));return t.itemsSource=s,t.mapping=n=>d(n.left,n.top),i.series.push(t),i}function b0(){const i=new y({title:"LineSeries, 100k points, ItemsSource with reflection",subtitle:"DataFieldX and DataFieldY"}),t=new $,e=[];ze(e,1e5);const s=e.map(n=>new N(n.x,n.y,0,0));return t.itemsSource=s,t.dataFieldX="left",t.dataFieldY="top",i.series.push(t),i}function S0(){const i=new y({title:"LineSeries, 100k points (thick)",subtitle:"StrokeThickness = 10"}),t=new $({strokeThickness:10});return ze(t.points,1e5),i.series.push(t),i}function M0(){const i=new y({title:"LineSeries, 3k points, miter line joins",subtitle:"LineJoin = Miter"}),t=new $({lineJoin:Q.Miter,strokeThickness:8});for(let e=0;e<3e3;e++)t.points.push(d(e,e%2));return i.series.push(t),i}function k0(){const i=new y({title:"LineSeries, 3k points, round line joins",subtitle:"LineJoin = Round"}),t=new $({lineJoin:Q.Round,strokeThickness:8});for(let e=0;e<3e3;e++)t.points.push(d(e,e%2));return i.series.push(t),i}function A0(){const i=new y({title:"LineSeries, 3k points, bevel line joins",subtitle:"LineJoin = Bevel"}),t=new $({lineJoin:Q.Bevel,strokeThickness:8});for(let e=0;e<3e3;e++)t.points.push(d(e,e%2));return i.series.push(t),i}function R0(){const i=new y({title:"ScatterSeries (squares)"}),t=new Vt;return ps(t.points,2e3),i.series.push(t),i}function T0(){const i=new y({title:"ScatterSeries (squares with outline)",subtitle:"MarkerStroke = Black"}),t=new Vt({markerStroke:p.Black});return ps(t.points,2e3),i.series.push(t),i}function C0(){const i=new y({title:"ScatterSeries (squares without fill color)",subtitle:"MarkerFill = Transparent, MarkerStroke = Black"}),t=new Vt({markerFill:p.Transparent,markerStroke:p.Black});return ps(t.points,2e3),i.series.push(t),i}function v0(){const i=new y({title:"ScatterSeries (by ItemsSource)",subtitle:"DataFieldX = 'X', DataFieldY = 'Y'"});return i.series.push(new Vt({itemsSource:O0(2e3),dataFieldX:"X",dataFieldY:"Y"})),i}function P0(){const i=new y({title:"ScatterSeries (circles)",subtitle:"MarkerType = Circle"}),t=new Vt({markerType:F.Circle});return ps(t.points,2e3),i.series.push(t),i}function L0(){const i=new y({title:"ScatterSeries (circles with outline)",subtitle:"MarkerType = Circle, MarkerStroke = Black"}),t=new Vt({markerType:F.Circle,markerStroke:p.Black});return ps(t.points,2e3),i.series.push(t),i}function I0(){const i=new y({title:"ScatterSeries (cross)",subtitle:"MarkerType = Cross"}),t=new Vt({markerType:F.Cross,markerFill:p.Undefined,markerStroke:p.Black});return ps(t.points,2e3),i.series.push(t),i}function B0(){const i=new y({title:"LinearAxis (no gridlines)"});return i.axes.push(new w({position:x.Left,minimum:0,maximum:100,majorStep:1,minorStep:1})),i.axes.push(new w({position:x.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1})),i}function D0(){const i=new y({title:"LinearAxis (solid gridlines)"});return i.axes.push(new w({position:x.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:k.Solid})),i.axes.push(new w({position:x.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:k.Solid})),i}function N0(){const i=new y({title:"LinearAxis (dashed gridlines)"});return i.axes.push(new w({position:x.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:k.Dash})),i.axes.push(new w({position:x.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:k.Dash})),i}function F0(){const i=new y({title:"LinearAxis (dotted gridlines)"});return i.axes.push(new w({position:x.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:k.Dot})),i.axes.push(new w({position:x.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:k.Dot})),i}function V0(){return Yo(1e4)}function E0(){return Yo(5e4)}function _0(){return Yo(1e5)}function Yo(i){const t=new y({title:"int overflow",subtitle:`n = ${i}`}),e=new $;let s=0;for(let n=0;n<i;n++)e.points.push(d(n,s+=n*n));return t.series.push(e),t}function O0(i){const t=[];return ze(t,i),t}function ze(i,t){for(let e=0;e<t;e++){const s=Math.PI*10*e/(t-1);i.push(d(s*Math.cos(s),s*Math.sin(s)))}}function ps(i,t){for(let e=0;e<t;e++){const s=Math.PI*10*e/(t-1);i.push({x:s*Math.cos(s),y:s*Math.sin(s)})}}const z0="Performance",$0={category:z0,examples:[{title:"LineSeries, 1M points",example:{model:u0}},{title:"LineSeries, 1M points, EdgeRenderingMode==PreferSpeed",example:{model:c0}},{title:"LineSeries, 100k points",example:{model:d0}},{title:"LineSeries, 100k points (dashed line)",example:{model:p0}},{title:"LineSeries, 100k points, markers",example:{model:g0}},{title:"LineSeries, 100k points, markers, lower resolution",example:{model:x0}},{title:"LineSeries, 100k points, round line joins",example:{model:f0}},{title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>",example:{model:w0}},{title:"LineSeries, 100k points by ItemsSource and Mapping",example:{model:y0}},{title:"LineSeries, 100k points by ItemsSource and reflection",example:{model:b0}},{title:"LineSeries, 100k points (thick)",example:{model:S0}},{title:"LineSeries, 3k points, miter line joins",example:{model:M0}},{title:"LineSeries, 3k points, round line joins",example:{model:k0}},{title:"LineSeries, 3k points, bevel line joins",example:{model:A0}},{title:"ScatterSeries (squares)",example:{model:R0}},{title:"ScatterSeries (squares with outline)",example:{model:T0}},{title:"ScatterSeries (squares without fill color)",example:{model:C0}},{title:"ScatterSeries by ItemsSource and reflection",example:{model:v0}},{title:"ScatterSeries (circles)",example:{model:P0}},{title:"ScatterSeries (circles with outline)",example:{model:L0}},{title:"ScatterSeries (cross)",example:{model:I0}},{title:"LinearAxis (no gridlines)",example:{model:B0}},{title:"LinearAxis (solid gridlines)",example:{model:D0}},{title:"LinearAxis (dashed gridlines)",example:{model:N0}},{title:"LinearAxis (dotted gridlines)",example:{model:F0}},{title:"int overflow (10k)",example:{model:V0}},{title:"int overflow (50k)",example:{model:E0}},{title:"int overflow (100k)",example:{model:_0}}]};function G0(){const i=new y({title:"Basic Controller example",subtitle:"Panning with left mouse button"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const t=new Bi;return t.unbindAll(),ct.bindMouseDown(t,xt.Left,Y.panAt),{model:()=>i,controller:()=>t}}function U0(){const i=new y({title:"Show tracker without clicking"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i.series.push(tt.fromFxFyN(e=>Math.cos(e)*5+Math.cos(e*50),e=>Math.sin(e)*5+Math.sin(e*50),0,Math.PI*2,2e4));const t=new Bi;return ct.bindMouseEnter(t,Y.hoverPointsOnlyTrack),{model:()=>i,controller:()=>t}}function j0(){const i=new y({title:"Mouse handling example"}),t=new Vt;i.series.push(t);const e=new ft((n,o,a)=>{a.handled=!0;const l=t.inverseTransform(a.position);t.points.push({x:l.x,y:l.y}),i.invalidatePlot(!0)}),s=new Bi;return ct.bindMouseDown(s,xt.Left,e),{model:()=>i,controller:()=>s}}function W0(){const i=new y({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const t=new qt({fill:p.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});i.annotations.push(t);const e=new qt({fill:p.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});i.annotations.push(e);const s=(a,l)=>{i.subtitle="You clicked "+a.text,i.invalidatePlot(!1)};t.mouseDown=s,e.mouseDown=s;const n=new Bi,o=new ft((a,l,h)=>{const m=new vs(h.position,10),c=a.actualModel.hitTest(m).find(g=>g.element instanceof qt);c&&(h.handled=!0,i.subtitle="You clicked "+c.element.text,i.invalidatePlot(!1))});return n.bindMouseDown(new Ri(xt.Left),o),{model:()=>i,controller:()=>n}}function H0(){function i(s,n,o=1){const a=new so(s,n.delta*.001*o,io.isControlDown(n));a.axisPreference=es.X,a.started(n)}const t=new y({title:"Preferring an axis for manipulation",subtitle:"Mouse wheel over plot area prefers X axis"});t.axes.push(new w({position:x.Bottom})),t.axes.push(new w({position:x.Left})),t.series.push(tt.fromDx(Math.cos,-7,7,.01));const e=new Bi;return e.unbindAll(),ct.bindMouseWheel(e,new ft((s,n,o)=>i(s,o))),ct.bindMouseWheel(e,new ft((s,n,o)=>i(s,o,.1)),gt.Control),{model:()=>t,controller:()=>e}}function Y0(){const i=new y({title:"Show/Hide Legend",subtitle:"Click on the rectangles"}),t=3;for(let h=1;h<=t;h++){const m=new $({title:"Series "+h});i.series.push(m);for(let c=0;c<2*Math.PI;c+=.1)m.points.push(d(c,Math.sin(c*h)/h+h))}const e=new W;i.legends.push(e);const s=new qt({fill:p.Green,text:"Show Legend",minimumX:.5,maximumX:1.5,minimumY:.2,maximumY:.4});i.annotations.push(s);const n=new qt({fill:p.SkyBlue,text:"Hide Legend",minimumX:.5,maximumX:1.5,minimumY:.6,maximumY:.8});i.annotations.push(n);const o=(h,m)=>{const c=h.text;c==="Show Legend"?i.isLegendVisible=!0:c==="Hide Legend"&&(i.isLegendVisible=!1),i.subtitle="You clicked "+h.text,i.invalidatePlot(!1)};s.mouseDown=o,n.mouseDown=o;const a=new Bi,l=new ft((h,m,c)=>{const g=new vs(c.position,10),f=h.actualModel.hitTest(g).find(b=>b.element instanceof qt);f&&(c.handled=!0,i.subtitle="You clicked "+f.element.text,i.invalidatePlot(!1))});return a.bindMouseDown(new Ri(xt.Left),l),{model:()=>i,controller:()=>a}}const X0="PlotController examples",q0={category:X0,examples:[{title:"Basic controller example",example:G0()},{title:"Show tracker without clicking",example:U0()},{title:"Mouse handling example",example:j0()},{title:"Clicking on an annotation",example:W0()},{title:"Preferring an axis for manipulation",example:H0()},{title:"Show/Hide Legend",example:Y0()}]};function K0(){const i=new y({title:"Title"});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function Z0(){const i=new y({title:"Title",subtitle:"Subtitle"});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function J0(){const i=new y({title:"Title with^{super}_{sub}script",subtitle:"Subtitle with^{super}_{sub}script"});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function Q0(){const i=new y({title:"TitlePadding = 0",subtitle:"This controls the distance between the titles and the plot area. The default value is 6",titlePadding:0});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function tg(){const i=new y({title:"TitlePadding = 100",titlePadding:100});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function eg(){const i=new y({title:"Title",subtitle:"Subtitle",titleHorizontalAlignment:qa.CenteredWithinView});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function ig(){const i=new y({title:"This is a very long title to illustrate that title clipping is necessary, because currently it's not clipped.",clipTitle:!1});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function sg(){const i=new y({title:"This is a very long title, that shows that title clippling is working with crrently 60% of title area",titleClippingLength:.6});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function ng(){const i=new y({title:"Background = Undefined",background:p.Undefined});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function og(){const i=new y({title:"Background = 50% White",background:r.fromAColor(128,p.White)});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function ag(){const i=new y({title:"Background = Transparent",background:p.Transparent});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function rg(){const i=new y({title:"Background = LightSkyBlue",background:p.LightSkyBlue});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function lg(){const i=new y({title:"Background = White",background:p.White});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function hg(){const i=new y({title:"Background = Black",background:p.Black,textColor:p.White,titleColor:p.White,plotAreaBorderColor:p.White});return i.axes.push(new w({position:x.Bottom,ticklineColor:p.White})),i.axes.push(new w({position:x.Left,ticklineColor:p.White})),i}function mg(){const i=new y({title:"PlotAreaBorderThickness = 2",plotAreaBorderThickness:new X(2)});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function ug(){const i=new y({title:"PlotAreaBorderThickness = (1,0,0,1)",plotAreaBorderThickness:new X(1,0,0,1)});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function cg(){const i=new y({title:"PlotAreaBorderThickness = (4,1,1,4)",plotAreaBorderThickness:new X(4,1,1,4)});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function dg(){const i=new y({title:"PlotAreaBorderThickness = 0",plotAreaBorderThickness:new X(0)});return i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left})),i}function pg(){const i=new y({title:"PlotAreaBorderThickness = 0",subtitle:"AxislineThickness = 1, AxislineColor = OxyColors.Blue, AxislineStyle = LineStyle.Solid",plotAreaBorderThickness:new X(0)});return i.axes.push(new w({position:x.Bottom,axislineThickness:1,axislineColor:p.Blue,axislineStyle:k.Solid})),i.axes.push(new w({position:x.Left,axislineThickness:1,axislineColor:p.Blue,axislineStyle:k.Solid})),i}function gg(){const i=new y;return i.axes.push(new w),i.series.push(new $({xAxisKey:"invalidKey"})),i}function xg(){const i=new y,t=new jt(e=>{throw e.pushClip(new N(50,50,50,50)),new Error("This Exception should be completely visible and not clipped by the previously pushed clipping rectangle.")});return i.annotations.push(t),i}function fg(){const i=new y,t=new jt(async e=>{e.pushClip(new N(50,50,50,50))});return i.annotations.push(t),i}function wg(){const i=new y,t=new jt(async e=>{e.popClip()});return i.annotations.push(t),i}const yg="PlotModel examples",bg={category:yg,examples:[{title:"Title",example:{model:K0}},{title:"Title and Subtitle",example:{model:Z0}},{title:"Sub- and superscript in titles",example:{model:J0}},{title:"TitlePadding = 0",example:{model:Q0}},{title:"TitlePadding = 100",example:{model:tg}},{title:"TitleHorizontalAlignment = CenteredWithinView",example:{model:eg}},{title:"TitleClippingOff",example:{model:ig}},{title:"TitleClipping60",example:{model:sg}},{title:"Background = Undefined (default)",example:{model:ng}},{title:"Background = 50% White",example:{model:og}},{title:"Background = Transparent",example:{model:ag}},{title:"Background = LightSkyBlue",example:{model:rg}},{title:"Background = White",example:{model:lg}},{title:"Background = Black",example:{model:hg}},{title:"PlotAreaBorderThickness = 2",example:{model:mg}},{title:"PlotAreaBorderThickness = (1,0,0,1)",example:{model:ug}},{title:"PlotAreaBorderThickness = (4,1,1,4)",example:{model:cg}},{title:"PlotAreaBorderThickness = 0",example:{model:dg}},{title:"PlotAreaBorderThickness / AxisLine",example:{model:pg}},{title:"Exception handling (invalid XAxisKey)",example:{model:gg}},{title:"Exception handling (with clipping)",example:{model:xg}},{title:"Unbalanced clipping (push)",example:{model:fg}},{title:"Unbalanced clipping (pop)",example:{model:wg}}]};function Sg(){const i=new y,t="Arial",e=32,s=Ut.Bold,n=e*1.6,o=20;let a=20-n;return i.annotations.push(new jt(async l=>{await l.drawText(A(o,a+=n),"Black",p.Black,t,e,s),await l.drawText(A(o,a+=n),"Red",p.Red,t,e,s),await l.drawText(A(o,a+=n),"Green",p.Green,t,e,s),await l.drawText(A(o,a+=n),"Blue",p.Blue,t,e,s),await O.fillRectangle(l,new N(o,a+n+15,200,10),p.Black,U.Adaptive),await l.drawText(A(o,a+n),"Yellow 50%",r.fromAColor(128,p.Yellow),t,e,s)})),i}function Mg(){const i=new y,t=20,e=t*1.6,s=20;let n=20-e;return i.annotations.push(new jt(async o=>{await o.drawText(A(s,n+=e),"Default font",p.Black,void 0,t),await o.drawText(A(s,n+=e),"Helvetica",p.Black,"Helvetica",t),await o.drawText(A(s,n+=e),"Arial",p.Black,"Arial",t),await o.drawText(A(s,n+=e),"Courier",p.Black,"Courier",t),await o.drawText(A(s,n+=e),"Courier New",p.Black,"Courier New",t),await o.drawText(A(s,n+=e),"Times",p.Black,"Times",t),await o.drawText(A(s,n+e),"Times New Roman",p.Black,"Times New Roman",t)})),i}function kg(){const i=new y,t=20;let e=20;return i.annotations.push(new jt(async s=>{for(const n of[10,16,24,36,48])await s.drawText(A(t,e),`${n}pt`,p.Black,"Arial",n),await s.drawText(A(t+200,e),`${n}pt`,p.Black,"Arial",n,Ut.Bold),e+=n*1.6})),i}function Ag(){const i=new y;return i.annotations.push(new jt(async t=>{const e=A(200,200);await O.fillCircle(t,e,3,p.Blue,U.Adaptive);for(let s=0;s<360;s+=45)await t.drawText(e,`Rotation ${s}`,p.Black,void 0,20,void 0,s)})),i}function Rg(){const i=new y,t=20;return i.annotations.push(new jt(async e=>{for(let s=B.Left;s<=B.Right;s++)for(let n=D.Top;n<=D.Bottom;n++){const o=A((s+1)*200+20,(n+1)*t*3+20);await O.fillCircle(e,o,3,p.Blue,U.Adaptive);const a=gi(B,s),l=gi(D,n);await e.drawText(o,`${a}-${l}`,p.Black,void 0,t,void 0,0,s,n)}})),i}function Tg(){const i=new y,t=20;return i.annotations.push(new jt(async e=>{for(let s=B.Left;s<=B.Right;s++){const n=gi(B,s);for(let o=D.Top;o<=D.Bottom;o++){const a=gi(D,o),l=(s+1)*200+20,h=(o+1)*t*6+20,m=A(l,h);await O.fillCircle(e,m,3,p.Blue,U.Adaptive),await e.drawText(m,`${n}
${a}`,p.Black,void 0,t,void 0,0,s,o)}}})),i}function Cg(){const i=new y,t="Arial",e=24,s=Ut.Normal;return i.annotations.push(new jt(async n=>{const o=A(200,200),a=A(400,200);await O.fillCircle(n,o,3,p.Blue,U.Adaptive);for(let l=0;l<360;l+=45){const h="     A_{2}^{3}B";await oe.drawMathText(n,o,h,p.Black,t,e,s,l,B.Left,D.Middle);const m=await oe.measureMathText(n,h,t,e,s),c=ao.getPolygon(m,o,l,B.Left,D.Middle);await n.drawPolygon(c,p.Undefined,p.Blue,1,U.Adaptive);const g="     A B";await n.drawText(a,g,p.Red,t,e,s,l,B.Left,D.Middle);const f=n.measureText(g,t,e,s),b=ao.getPolygon(f,a,l,B.Left,D.Middle);await n.drawPolygon(b,p.Undefined,p.Blue,1,U.Adaptive)}})),i}function vg(){const i="A_{2}^{3}B",t=new y,e="Arial",s=20,n=Ut.Normal;return t.annotations.push(new jt(async o=>{for(let a=B.Left;a<=B.Right;a++)for(let l=D.Top;l<=D.Bottom;l++){const h=A((a+1)*200+20,(l+1)*s*3+20);await O.fillCircle(o,h,3,p.Blue,U.Adaptive),await oe.drawMathText(o,h,i,p.Black,e,s,n,0,a,l)}})),t}function Pg(){const i=new y;return i.annotations.push(new jt(async t=>{for(let e=B.Left;e<=B.Right;e++)for(let s=D.Top;s<=D.Bottom;s++){const n=(e+2)*130,o=(s+2)*130,a=A(n,o);await O.fillCircle(t,a,3,p.Blue,U.Adaptive);for(let l=0;l<360;l+=90)await t.drawText(a,`R${l.toString().padStart(3,"0")}`,p.Black,void 0,20,void 0,l,e,s)}})),i}function Lg(){const i=new y;return i.annotations.push(new jt(async t=>{for(let e=B.Left;e<=B.Right;e++){const s=gi(B,e);for(let n=D.Top;n<=D.Bottom;n++){const o=gi(D,n),a=(e+2)*170,l=(n+2)*170,h=A(a,l);await O.fillCircle(t,h,3,p.Blue,U.Adaptive);for(let m=0;m<360;m+=90)await t.drawText(h,`R${m.toString().padStart(3,"0")}
${s}
${o}`,p.Black,void 0,20,void 0,m,e,n)}}})),i}function Ig(){const i=new y,t="Arial",e=32,s=Ut.Bold,n=e*1.6,o=20,a=200;let l=20;const h=["iii","jjj","OxyPlot","Bottom","100","KML"];return i.annotations.push(new jt(async m=>{for(const c of h){const g=m.measureText(c,t,e,s),f=A(o,l);await m.drawText(f,c,p.Black,t,e,s,void 0,void 0,void 0,g);const b=new N(f.x,f.y,g.width,g.height);await m.drawRectangle(b,p.Undefined,p.Black,1,U.Adaptive);const S=A(a,l),M=new lt(g.width/2,g.height/2);await m.drawText(S,c,p.Black,t,e,s,void 0,void 0,void 0,M);const T=new N(S.x,S.y,M.width,M.height);await m.drawRectangle(T,p.Undefined,p.Black,1,U.Adaptive),l+=n}})),i}function Bg(){const i=new y,t="Arial",e=["OxyPlot","MMM","III","jikq","gh","123","!#$&"],s=[10,20,40,60];return i.annotations.push(new jt(async n=>{let o=5;for(const a of s){let l=5,h=0;for(const m of e){const c=n.measureText(m,t,a,Ut.Normal);h=Math.max(h,c.width),await n.drawRectangle(new N(o,l,c.width,c.height),p.LightYellow,p.Black,1,U.Adaptive),await n.drawText(A(o,l),m,p.Black,t,a),l+=c.height+20}o+=h+20}})),i}const Dg=()=>{const i=new y;return i.annotations.push(new jt(async t=>{const e=async R=>{const P=new Ht(p.Black,2,k.Dash);await O.drawLine(t,R.left,R.top,R.right,R.top,P,U.Automatic),await O.drawLine(t,R.right,R.top,R.right,R.bottom,P,U.Automatic),await O.drawLine(t,R.right,R.bottom,R.left,R.bottom,P,U.Automatic),await O.drawLine(t,R.left,R.bottom,R.left,R.top,P,U.Automatic)};let s=20;const n=60,o=40,a=20,l=20,h=200;let m=N.Empty;const c=async R=>{await O.drawCircle2(t,R,o*.58,p.CornflowerBlue,p.Undefined,0,U.Automatic)},g=async R=>{const P=A(a+o+l+h,s);await t.drawText(P,R,p.Black,void 0,12,void 0,void 0,void 0,D.Middle)},f=async R=>{const P=A(a+o+l,s);await t.drawText(P,R,p.Black,void 0,12,void 0,void 0,void 0,D.Middle)},b=async(R,P)=>{await t.drawText(A(P,15),R,p.Black,void 0,12,700)},S=()=>{s+=n,m=new N(a,s-o/2,o,o)};await b("Actual",a),await b("Test Case",a+o+l),await b("Expected",a+o+l+h),S(),t.pushClip(m),t.popClip(),await c(m.center),await f(`1. Push clipping rectangle
2. Pop clipping rectangle
3. Draw circle`),await g("The circle should be fully drawn."),S(),t.pushClip(m),await c(m.center),t.popClip(),await e(m),await f(`1. Push clipping rectangle
2. Draw Circle`),await g("The circle should be clipped."),S();let M=m.deflate(new X(m.height*.25));t.pushClip(m),t.pushClip(M),await c(m.center),t.popClip(),t.popClip(),await e(m),await e(M),await f(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await g("The circle should be clipped to the small clipping rectangle."),S(),M=m.deflate(new X(m.height*.25)),t.pushClip(M),t.pushClip(m),await c(m.center),t.popClip(),t.popClip(),await e(m),await e(M),await f(`1. Push small clipping rectangle
2. Push large clipping rectangle
3. Draw Circle`),await g("The circle should be clipped to the small clipping rectangle."),S(),M=m.offset(m.width/2,m.height/2).deflate(new X(m.height*.25)),t.pushClip(m),t.pushClip(M),await c(m.center),t.popClip(),t.popClip(),await e(m),await e(M),await f(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await g("The circle should be clipped to the intersection of the clipping rectangles."),S(),M=m.offset(m.width/2,m.height/2).deflate(new X(m.height*.25)),t.pushClip(m),t.pushClip(M),t.popClip(),await c(m.center),t.popClip(),await e(m),await e(M),await f(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Pop small clipping rectangle
4. Draw Circle`),await g("The circle should be clipped to the large clipping rectangle."),S();const T=m.offset(m.width/3,m.height/3).deflate(new X(m.height*.25)),C=m.offset(-m.width/3,-m.height/3).deflate(new X(m.height*.25));t.pushClip(T),t.pushClip(C),await c(m.center),t.popClip(),t.popClip(),await e(T),await e(C),await f(`1. Push clipping rectangle
2. Push second clipping rectangle
3. Draw Circle`),await g("The circle should not be drawn at all."),S();const v=O.autoResetClip(t,m);await t.drawText(m.center,"OxyPlot",p.CornflowerBlue,void 0,15,void 0,void 0,B.Center,D.Middle),v.dispose(),await e(m),await f(`1. Push clipping rectangle
2. Draw Text`),await g("The text should be clipped.")})),i},_e=40,Yt=30,Ci=10,vi=.5,Pi=200,Li=20,Xo=p.LightBlue,Ng=()=>{const i=new y;return i.annotations.push(new jt(async t=>{for(let s=0;s<Ci;s++){const n=Pi+s*_e+Yt/2,o=s*vi;await t.drawText(A(n,Li/2),o.toString(),p.Black,void 0,10,void 0,void 0,B.Center,D.Middle)}const e=$i(U);for(const s of e){const n=Li+s*_e;await t.drawText(A(10,n+10),U[s],p.Black,void 0,10,void 0,void 0,void 0,D.Middle);for(let o=0;o<Ci;o++){const a=Pi+o*_e,l=new N(a,n,Yt,Yt),h=o*vi;await t.drawRectangle(l,Xo,p.Black,h,s)}}})),i},Fg=()=>{const i=new y;return i.annotations.push(new jt(async t=>{for(let s=0;s<Ci;s++){const n=Pi+s*_e+Yt/2,o=s*vi;await t.drawText(A(n,Li/2),o.toString(),p.Black,void 0,10,void 0,void 0,B.Center,D.Middle)}const e=$i(U);for(const s of e){const n=Li+s*_e;await t.drawText(A(10,n+10),U[s],p.Black,void 0,10,void 0,void 0,void 0,D.Middle);for(let o=0;o<Ci;o++){const a=Pi+o*_e,l=A(a,n),h=A(a,n+Yt),m=A(a+Yt,n),c=A(a+Yt,n+Yt),g=A(a,n+Yt/2),f=o*vi;await t.drawLine([h,l,m],p.Black,f,s),await t.drawLine([g,c,l],p.Black,f,s,void 0,Q.Bevel)}}})),i},Vg=()=>{const i=new y;return i.annotations.push(new jt(async t=>{for(let s=0;s<Ci;s++){const n=Pi+s*_e+Yt/2,o=s*vi;await t.drawText(A(n,Li/2),o.toString(),p.Black,void 0,10,void 0,void 0,B.Center,D.Middle)}const e=$i(U);for(const s of e){const n=Li+s*_e;await t.drawText(A(10,n+10),U[s],p.Black,void 0,10,void 0,void 0,void 0,D.Middle);for(let o=0;o<Ci;o++){const a=Pi+o*_e,l=[A(a+Yt*.4,n),A(a+Yt,n+Yt*.2),A(a+Yt*.9,n+Yt*.8),A(a+Yt*.5,n+Yt),A(a,n+Yt*.6)],h=o*vi;await t.drawPolygon(l,Xo,p.Black,h,s)}}})),i},Eg=()=>{const i=new y;return i.annotations.push(new jt(async t=>{for(let s=0;s<Ci;s++){const n=Pi+s*_e+Yt/2,o=s*vi;await t.drawText(A(n,Li/2),o.toString(),p.Black,void 0,10,void 0,void 0,B.Center,D.Middle)}const e=$i(U);for(const s of e){const n=Li+s*_e;await t.drawText(A(10,n+10),U[s],p.Black,void 0,10,void 0,void 0,void 0,D.Middle);for(let o=0;o<Ci;o++){const a=Pi+o*_e,l=new N(a,n+Yt*.1,Yt,Yt*.8),h=o*vi;await t.drawEllipse(l,Xo,p.Black,h,s)}}})),i},_g=()=>{const e=[135,90,45,22.5],s=140,n=90,o=50,a=50,l=new y;return l.annotations.push(new jt(async h=>{let m=0,c=0;const g=$i(Q);for(const f of g){const b=A(s*(m+.5)+o,a/2);await h.drawText(b,Q[f],p.Black,void 0,12,void 0,void 0,B.Center,D.Middle),m++}for(const f of e){m=0;const b=n*c+a,S=f/2/360*2*Math.PI,M=Math.sin(S)*60,T=Math.cos(S)*60,C=A(15,b);await h.drawText(C,f.toString()+"°",p.Black,void 0,12);for(const v of g){const R=s*(m+.5)+o,P=A(R,b),I=A(R-M,b+T),V=A(R+M,b+T);await h.drawLine([I,P,V],p.CornflowerBlue,15,U.PreferGeometricAccuracy,void 0,v),m++}c++}})),l},Og=()=>{const o=new y;return o.annotations.push(new jt(async a=>{const l=new N(60,20,600,200),h=new Array(200),m=(l.left+l.right)/2,c=(l.top+l.bottom)/2,g=(l.right-l.left)/2,f=(l.bottom-l.top)/2;for(let b=0;b<200;b++){const S=Math.PI*2*b/199;h[b]=A(m+g*Math.cos(S),c+f*Math.sin(S))}await a.drawPolygon(h,p.Undefined,p.Black,4,U.PreferGeometricAccuracy),await a.drawEllipse(l,p.Undefined,p.White,2,U.PreferGeometricAccuracy),await a.drawText(A(360,120),"The white ellipse (drawn by Renderer) should match the black ellipse (drawn as Path).",p.Black,void 0,12,void 0,void 0,B.Center,D.Middle)})),o},zg="9 Rendering capabilities",$g={category:zg,examples:[{title:"DrawText - Colors",example:{model:Sg}},{title:"DrawText - Fonts",example:{model:Mg}},{title:"DrawText - Font sizes",example:{model:kg}},{title:"DrawText - Rotation",example:{model:Ag}},{title:"DrawText - Alignment",example:{model:Rg}},{title:"DrawText - Multi-line Alignment",example:{model:Tg}},{title:"DrawMathText - Rotation",example:{model:Cg}},{title:"DrawMathText - Alignment",example:{model:vg}},{title:"DrawText - Alignment/Rotation",example:{model:Pg}},{title:"DrawText - Multi-line Alignment/Rotation",example:{model:Lg}},{title:"DrawText - MaxSize",example:{model:Ig}},{title:"MeasureText",example:{model:Bg}},{title:"Clipping",example:{model:Dg}},{title:"Rectangles - EdgeRenderingMode",example:{model:Ng}},{title:"Lines - EdgeRenderingMode",example:{model:Fg}},{title:"Polygons - EdgeRenderingMode",example:{model:Vg}},{title:"Ellipses - EdgeRenderingMode",example:{model:Eg}},{title:"LineJoin",example:{model:_g}},{title:"Ellipse Drawing",example:{model:Og}}]};function Gg(){const i=new y({title:"No tracker interpolation",subtitle:"Used for discrete values or scatter plots."}),t=new W({legendSymbolLength:30});i.legends.push(t);const e=new $({title:"Series 1",canTrackerInterpolatePoints:!1,color:p.SkyBlue,markerType:F.Circle,markerSize:6,markerStroke:p.White,markerFill:p.SkyBlue,markerStrokeThickness:1.5});for(let s=0;s<63;s++){const n=Math.round(Math.sqrt(s)*Math.cos(s*.1)),o=Math.round(Math.sqrt(s)*Math.sin(s*.1));e.points.push(d(n,o))}return i.series.push(e),i}function Ug(){const i=new y({title:"Handling the TrackerChanged event",subtitle:"Press the left mouse button to test the tracker."});return i.series.push(tt.fromN(Math.sin,0,10,100)),i.trackerChanged=(t,e)=>{i.subtitle=e.hitResult?"Tracker item index = "+e.hitResult.index:"Not tracking",i.invalidatePlot(!1)},i}function jg(){const i=new y({title:"Specified distance of the tracker fires",subtitle:"Press the left mouse button to test the tracker."});i.series.push(tt.fromN(Math.sin,0,10,100));const t=new Bi;return t.unbindViewCommand(Y.snapTrack),t.unbindViewCommand(Y.snapTrackTouch),ct.bindMouseDown(t,xt.Left,new ft((e,s,n)=>s.addMouseManipulator(e,new Vi(e,{snap:!0,pointsOnly:!1,firesDistance:2,checkDistanceBetweenPoints:!0}),n))),ct.bindTouchDown(t,new ft((e,s,n)=>s.addTouchManipulator(e,new no(e,{snap:!0,pointsOnly:!1,firesDistance:2}),n))),{model:()=>i,controller:()=>t}}const Wg="Tracker",Hg={category:Wg,examples:[{title:"No interpolation",example:{model:Gg}},{title:"TrackerChangedEvent",example:{model:Ug}},{title:"Specified distance of the tracker fires",example:jg()}]},Yg=[p1,S1,H1,m0,$0,q0,bg,$g,Hg],Xg=[{x:589.3649979,y:16.10595703},{x:437.9979935,y:16.10595703},{x:400.4249954,y:16.10595703},{x:399.1255264,y:16.05047607},{x:397.463356,y:15.92333984},{x:393.5852432,y:15.69073486},{x:389.8589859,y:15.88067627},{x:388.3866653,y:16.28186035},{x:387.3529739,y:16.96594238},{x:386.8373489,y:18.53930664},{x:387.2163773,y:20.51794434},{x:387.9814529,y:22.51843262},{x:388.6240005,y:24.15698242},{x:395.958992,y:45.09094238},{x:399.2686234,y:54.89562988},{x:402.1330338,y:64.90338135},{x:404.5822525,y:75.06884766},{x:406.6462479,y:85.34680176},{x:409.7385635,y:106.0593262},{x:411.6500015,y:126.6789551},{x:412.0961685,y:137.0930786},{x:412.0253677,y:147.4713135},{x:411.4655228,y:157.8103638},{x:410.4446182,y:168.1069336},{x:408.9906387,y:178.3577881},{x:407.1315689,y:188.5595703},{x:404.8953629,y:198.7091064},{x:402.3099747,y:208.8029785},{x:392.9860001,y:237.2509766},{x:392.1175613,y:240.0527954},{x:391.2060013,y:243.0959473},{x:390.5509415,y:246.1691284},{x:390.4520035,y:249.0609741},{x:391.406044,y:252.6694336},{x:393.1980057,y:256.0982056},{x:395.3566971,y:259.3631287},{x:397.4109879,y:262.47995},{x:411.7649918,y:287.7079468},{x:426.5997696,y:312.9102173},{x:441.8913651,y:337.8200684},{x:457.3402786,y:362.6333923},{x:472.6469803,y:387.5459595},{x:478.0007401,y:395.7557983},{x:483.6958694,y:403.8400879},{x:489.2894974,y:411.9628296},{x:494.3389969,y:420.2879639},{x:494.9800491,y:421.8480225},{x:495.4455032,y:423.6903687},{x:496.1577225,y:427.7724609},{x:497.0915604,y:431.6355591},{x:497.8341141,y:433.2041321},{x:498.8629837,y:434.3809509},{x:500.0935135,y:434.9877625},{x:501.7391434,y:435.3059082},{x:505.7623367,y:435.3148193},{x:509.9061356,y:434.8848267},{x:511.7024612,y:434.6542969},{x:513.1439896,y:434.4929504},{x:520.0768509,y:434.1251831},{x:527.3961258,y:434.1952209},{x:534.6892776,y:434.728363},{x:541.544014,y:435.7499695},{x:544.2357864,y:436.3025513},{x:547.021492,y:437.0792236},{x:549.6099319,y:438.2590027},{x:551.7099686,y:440.0209656},{x:552.7028275,y:441.4446106},{x:553.2691116,y:442.791626},{x:553.4498978,y:444.0619202},{x:553.2864456,y:445.2554626},{x:552.0910721,y:447.4119873},{x:550.0122147,y:449.2607117},{x:547.3790359,y:450.8010864},{x:544.5206985,y:452.0325928},{x:541.766304,y:452.9547119},{x:539.445015,y:453.5669556},{x:539.445015,y:454.6409607},{x:542.6554031,y:455.4246521},{x:546.0063553,y:455.8735962},{x:549.2799149,y:456.4869385},{x:552.2580032,y:457.7639465},{x:554.3335648,y:459.5966797},{x:555.6600418,y:461.8208313},{x:556.278389,y:464.282959},{x:556.2294998,y:466.8295898},{x:555.55439,y:469.307251},{x:554.2939529,y:471.5625},{x:552.4892044,y:473.4418945},{x:550.1809769,y:474.7919617},{x:547.1414261,y:475.8059387},{x:543.8482132,y:476.5288391},{x:537.2979813,y:477.0559692},{x:535.5239944,y:476.8666077},{x:533.5114822,y:476.5535889},{x:531.5334549,y:476.4162598},{x:529.8629837,y:476.7539673},{x:529.0471268,y:477.3421631},{x:528.5394363,y:478.1289673},{x:528.1448441,y:480.0927124},{x:528.071846,y:482.2338257},{x:527.7129593,y:484.1409607},{x:526.901741,y:485.4877014},{x:525.8139114,y:486.4950867},{x:523.0528641,y:487.6643372},{x:519.9188919,y:487.9933777},{x:516.9010086,y:487.8269653},{x:511.7325516,y:486.9451599},{x:506.4563065,y:485.4539185},{x:501.155159,y:483.4500427},{x:495.912117,y:481.0302124},{x:485.9321365,y:475.3295898},{x:481.3610916,y:472.2423096},{x:477.1800003,y:469.125946},{x:465.3709793,y:459.3179626},{x:464.3509598,y:458.3116455},{x:463.1867142,y:457.1624451},{x:461.9141312,y:456.2180176},{x:460.5689774,y:455.8259583},{x:459.6923904,y:456.0762939},{x:458.8656693,y:456.7503662},{x:457.3631058,y:458.907959},{x:456.063179,y:461.3753052},{x:455.4898758,y:462.436554},{x:454.9679642,y:463.2289734},{x:453.0795364,y:465.3183289},{x:450.8528519,y:467.2734985},{x:448.3575516,y:468.9848328},{x:445.6630936,y:470.3425903},{x:442.83918,y:471.2370605},{x:439.9552689,y:471.5585938},{x:437.0810318,y:471.1974487},{x:434.2859879,y:470.0439453},{x:432.4744034,y:468.6621399},{x:431.3244705,y:467.0726013},{x:430.7551956,y:465.3302612},{x:430.6856155,y:463.4900818},{x:431.0347672,y:461.6070251},{x:431.7216873,y:459.7360229},{x:433.7849808,y:456.2499695},{x:438.1093216,y:450.118988},{x:441.4749832,y:444.3893433},{x:444.0351639,y:438.28302},{x:445.0610428,y:434.845459},{x:445.9430008,y:431.0219727},{x:446.6270218,y:428.7687378},{x:447.4476395,y:426.4767151},{x:447.9032059,y:424.1760559},{x:447.492012,y:421.8969727},{x:445.6156082,y:418.2295837},{x:443.3608475,y:414.6139832},{x:438.1008682,y:407.5364685},{x:432.48069,y:400.6614685},{x:427.2689896,y:393.9859619},{x:389.1699905,y:339.2359619},{x:374.5550003,y:318.3009644},{x:372.5515823,y:314.8404541},{x:370.2787552,y:310.9485779},{x:367.7467728,y:307.2946777},{x:366.3868484,y:305.7660828},{x:364.9659805,y:304.5479736},{x:363.9477615,y:304.0406799},{x:363.082222,y:304.0159912},{x:361.6236038,y:304.9024658},{x:360.2191849,y:306.1834412},{x:359.4213638,y:306.651886},{x:358.4979935,y:306.8349609},{x:356.6694107,y:306.4464722},{x:354.9371109,y:305.5308228},{x:353.2544937,y:304.4515076},{x:351.5749893,y:303.5719604},{x:343.4895706,y:301.1234131},{x:335.0169449,y:299.8048401},{x:326.3076553,y:299.5128174},{x:317.5122147,y:300.1439514},{x:308.7811966,y:301.5948486},{x:300.2651443,y:303.762085},{x:292.1145401,y:306.5422668},{x:284.4799881,y:309.8319702},{x:282.3371964,y:310.7483521},{x:279.925972,y:311.644928},{x:274.7942581,y:313.5763245},{x:270.0769119,y:316.0212708},{x:268.1836319,y:317.559845},{x:266.7659988,y:319.3749695},{x:271.6227798,y:320.1968384},{x:276.5877457,y:321.7830811},{x:281.472847,y:323.7190247},{x:286.090004,y:325.5899658},{x:298.3649979,y:330.7419739},{x:310.3880997,y:336.8226929},{x:321.8024063,y:343.941803},{x:332.2509842,y:352.2089539},{x:339.2033768,y:358.533844},{x:342.4841385,y:361.901825},{x:345.4439774,y:365.5359497},{x:346.445076,y:367.0002136},{x:347.3386307,y:368.7592163},{x:347.6443558,y:370.5680847},{x:347.4267044,y:371.4147034},{x:346.8819962,y:372.1819458},{x:345.387001,y:372.7861023},{x:343.5981216,y:372.4627075},{x:341.8064041,y:371.7001953},{x:340.3029861,y:370.986969},{x:336.1688919,y:369.4472046},{x:331.5998611,y:368.1002197},{x:326.9541702,y:367.1023254},{x:322.5899734,y:366.6099548},{x:324.6785049,y:369.6851501},{x:327.4601212,y:372.3129578},{x:330.467659,y:374.7735291},{x:333.2339859,y:377.3469543},{x:338.3369217,y:383.6273193},{x:342.70298,y:390.7063293},{x:344.4534683,y:394.4726563},{x:345.8323135,y:398.3514099},{x:346.7769547,y:402.3135376},{x:347.2249832,y:406.3299561},{x:346.8078384,y:412.0097046},{x:345.1297989,y:416.5983276},{x:342.383522,y:420.1838074},{x:338.7616043,y:422.8540955},{x:334.4566727,y:424.6971741},{x:329.6613541,y:425.8010559},{x:324.5682449,y:426.2536621},{x:319.3700027,y:426.1429749},{x:315.144783,y:425.6447144},{x:311.0141983,y:424.7691345},{x:303.0388565,y:422.0056763},{x:295.4478226,y:418.0917969},{x:288.2450027,y:413.2668457},{x:281.4342422,y:407.769989},{x:275.0194168,y:401.8405762},{x:269.0043716,y:395.717804},{x:263.393013,y:389.6409607},{x:255.0782547,y:379.5436707},{x:247.6409988,y:368.3999634},{x:244.4098587,y:362.5210571},{x:241.5882645,y:356.4829712},{x:239.2395096,y:350.3198853},{x:237.4270096,y:344.0659485},{x:236.2694168,y:338.2407532},{x:235.5486526,y:332.3677368},{x:235.0773697,y:320.528717},{x:235.3326797,y:308.6495667},{x:235.6340103,y:296.8309631},{x:233.1889725,y:297.9562988},{x:230.9140091,y:299.4570923},{x:226.5090103,y:302.6929626},{x:206.6489944,y:315.875946},{x:157.2670059,y:346.7819519},{x:136.8219986,y:360.059967},{x:132.2092514,y:363.0340881},{x:130.0033798,y:364.6920166},{x:128.1559982,y:366.6599731},{x:127.0190811,y:368.5368958},{x:126.298027,y:370.4631348},{x:125.9532547,y:372.4280701},{x:125.9451218,y:374.4211121},{x:126.7804031,y:378.4490356},{x:128.4870071,y:382.4620972},{x:130.748024,y:386.3754272},{x:133.2466202,y:390.104248},{x:135.6659012,y:393.5636902},{x:137.689003,y:396.6689453},{x:139.2043839,y:400.197052},{x:139.5524673,y:402.0329285},{x:139.5626297,y:403.8374634},{x:139.1861954,y:405.551239},{x:138.3745499,y:407.1148682},{x:137.0790329,y:408.4689026},{x:135.2509995,y:409.5539551},{x:132.8812943,y:410.31427},{x:130.5507584,y:410.5262146},{x:128.270546,y:410.2424316},{x:126.0518265,y:409.5155334},{x:123.9057388,y:408.3982239},{x:121.8434372,y:406.9431458},{x:118.0148697,y:403.2301941},{x:114.6553879,y:398.7979126},{x:111.8542252,y:394.0675049},{x:109.7006912,y:389.4601135},{x:108.2840042,y:385.3969727},{x:107.7778549,y:382.5092468},{x:107.3788681,y:379.2887268},{x:106.6309433,y:376.2470703},{x:105.0779953,y:373.8959656},{x:103.1701126,y:372.6677246},{x:100.7825394,y:371.7599487},{x:95.13137054,y:370.6252136},{x:89.25051117,y:369.9303284},{x:86.57584381,y:369.5724182},{x:84.26599884,y:369.1139526},{x:78.20024872,y:367.3027649},{x:71.70685577,y:364.820343},{x:65.1133194,y:361.6892395},{x:58.74712372,y:357.9318237},{x:52.93579102,y:353.5706482},{x:48.00682831,y:348.6281433},{x:45.97557068,y:345.9458923},{x:44.28772736,y:343.1267395},{x:42.98422241,y:340.1734924},{x:42.10599518,y:337.0889587},{x:41.90753937,y:335.2592163},{x:42.08698273,y:333.7605286},{x:43.18836975,y:331.3730774},{x:44.62782288,y:329.1598206},{x:45.6230011,y:326.3539734},{x:45.62973022,y:324.9945984},{x:45.33054352,y:323.6192627},{x:44.36862183,y:320.8330994},{x:43.98298645,y:319.4284058},{x:43.84563446,y:318.0201111},{x:44.09512329,y:316.6112671},{x:44.86999512,y:315.2049561},{x:45.80908966,y:314.2088623},{x:46.79941559,y:313.5540161},{x:48.9025116,y:313.1113892},{x:51.11682129,y:313.5637512},{x:53.37987518,y:314.5978394},{x:57.8022995,y:317.1580811},{x:59.83672333,y:318.0577087},{x:61.6700058,y:318.2859497},{x:62.82819366,y:317.6254883},{x:63.23600006,y:316.3283386},{x:63.24330902,y:314.8067627},{x:63.20000458,y:313.4729614},{x:63.68109894,y:310.3050232},{x:64.93375397,y:307.6513367},{x:67.09728241,y:305.979187},{x:68.56415558,y:305.6572571},{x:70.31099701,y:305.7559509},{x:73.2078476,y:306.4935913},{x:76.04866791,y:307.6478271},{x:81.46486664,y:310.9243164},{x:86.36489105,y:315.0218811},{x:90.55399323,y:319.3769531},{x:92.14154816,y:321.4163208},{x:93.72263336,y:323.6399536},{x:95.39614105,y:325.7593689},{x:97.26099396,y:327.4859619},{x:98.87421417,y:328.2453918},{x:100.5960007,y:328.4575806},{x:104.1259995,y:328.1189575},{x:107.9671097,y:328.0540771},{x:112.0256271,y:328.345459},{x:116.0258255,y:328.4305725},{x:119.6919937,y:327.7469482},{x:122.6980515,y:326.2321777},{x:125.5723801,y:324.1764526},{x:128.3242722,y:321.9129944},{x:130.9630051,y:319.7749634},{x:158.6139908,y:297.5969543},{x:183.9269943,y:278.8919678},{x:215.7729874,y:251.3609619},{x:222.6591263,y:245.7957153},{x:229.6908646,y:240.2703247},{x:236.5836563,y:234.5932617},{x:243.0529861,y:228.572937},{x:246.137764,y:224.8230591},{x:248.7661209,y:220.4605103},{x:251.0138321,y:215.6484985},{x:252.9567337,y:210.5499878},{x:256.2312393,y:200.1459351},{x:257.7144547,y:195.1665039},{x:259.1959915,y:190.5529785},{x:263.9845047,y:175.0708008},{x:267.8167191,y:159.2056274},{x:270.6394424,y:143.0612183},{x:272.3993607,y:126.7412109},{x:273.043251,y:110.3493042},{x:272.5178299,y:93.98913574},{x:270.7698441,y:77.76446533},{x:267.7460098,y:61.77893066},{x:260.9010086,y:28.45196533},{x:260.3377457,y:25.5088501},{x:259.7099991,y:22.24182129},{x:258.5879898,y:19.265625},{x:257.7073746,y:18.07867432},{x:256.5419998,y:17.19494629},{x:254.5226212,y:16.44396973},{x:252.1078568,y:16.0401001},{x:246.5816116,y:15.96911621},{x:240.9423294,y:16.37298584},{x:238.3862076,y:16.56274414},{x:236.1689835,y:16.64294434},{x:185.1770096,y:17.17895508},{x:0,y:16.64294434},{x:0,y:.53894043},{x:188.9400101,y:.53894043},{x:242.0799942,y:.53894043},{x:244.6571732,y:.474975586},{x:247.5546951,y:.33001709},{x:253.8458633,y:.078552246},{x:260.0235977,y:.347839355},{x:262.779335,y:.853759766},{x:265.1579971,y:1.70098877},{x:266.7366104,y:2.746398926},{x:268.0821915,y:4.172119141},{x:270.1900101,y:7.797119141},{x:271.7128067,y:11.84075928},{x:272.8819962,y:15.56799316},{x:276.034523,y:25.44775391},{x:279.0441055,y:35.50836182},{x:281.6616287,y:45.66326904},{x:283.6380081,y:55.82598877},{x:285.7761917,y:72.32995605},{x:287.0616837,y:88.9072876},{x:287.4597855,y:105.5118408},{x:286.9358597,y:122.0977173},{x:285.4552994,y:138.6187744},{x:282.9833755,y:155.0289917},{x:279.4855118,y:171.2824097},{x:274.9270096,y:187.3329468},{x:271.4097672,y:198.2474976},{x:267.3623734,y:209.4165039},{x:262.4050369,y:220.1444092},{x:259.4664688,y:225.1257324},{x:256.1579971,y:229.7359619},{x:249.3205032,y:237.2365723},{x:241.720253,y:244.1188354},{x:233.794136,y:250.6709595},{x:225.9790115,y:257.1809692},{x:195.5280228,y:282.9415894},{x:164.2490005,y:307.6559448},{x:141.1689987,y:324.8109741},{x:133.2555008,y:330.7440796},{x:129.0609055,y:333.3323975},{x:124.5289993,y:335.2859497},{x:122.1544113,y:335.8482361},{x:119.7157364,y:336.0837402},{x:114.7126236,y:335.969696},{x:109.6527023,y:335.7345581},{x:104.6689987,y:336.1689453},{x:102.779686,y:336.7739563},{x:100.6949997,y:337.5380859},{x:98.61257172,y:337.9761353},{x:96.73000336,y:337.6029663},{x:94.59128571,y:335.8127136},{x:92.66425323,y:333.2740784},{x:90.92359161,y:330.5338745},{x:89.34400177,y:328.1389465},{x:87.08150482,y:325.4346313},{x:84.48600006,y:322.8813171},{x:78.90499115,y:318.3849487},{x:77.3181076,y:317.091217},{x:75.22336578,y:315.5139465},{x:73.02420807,y:314.5059509},{x:72.01151276,y:314.4819031},{x:71.12400055,y:314.9199524},{x:70.59803009,y:315.7275085},{x:70.51831818,y:316.7388916},{x:71.29537201,y:319.0906982},{x:72.65048981,y:321.4106445},{x:73.77899933,y:323.1339722},{x:77.82125092,y:329.0054626},{x:80.16477203,y:331.7309265},{x:82.71099091,y:334.177948},{x:84.92420197,y:335.9799805},{x:87.10187531,y:337.9599609},{x:88.68236542,y:340.2526855},{x:89.07314301,y:341.5584412},{x:89.10399628,y:342.9929504},{x:89.61742401,y:343.8485413},{x:89.34513092,y:344.4684448},{x:88.5472641,y:344.7538757},{x:87.48400116,y:344.605957},{x:85.91378021,y:343.8370972},{x:84.39550018,y:342.7818298},{x:81.58899689,y:340.4889526},{x:78.80124664,y:338.1679382},{x:75.64672089,y:335.4441223},{x:68.57024384,y:329.6803589},{x:64.81476593,y:327.0864868},{x:61.02541351,y:324.9821167},{x:57.28540802,y:323.5902405},{x:53.6780014,y:323.1339722},{x:55.6113739,y:326.1587524},{x:58.03131866,y:328.9006653},{x:63.8632431,y:333.7370911},{x:70.23856354,y:338.0457153},{x:76.22199249,y:342.2289734},{x:77.03455353,y:342.7995605},{x:78.11525726,y:343.5061951},{x:80.57563019,y:345.232605},{x:82.59217072,y:347.217926},{x:83.11811066,y:348.24823},{x:83.15399933,y:349.2719727},{x:82.68766022,y:350.0397949},{x:81.87210846,y:350.3486328},{x:79.6248703,y:349.9825745},{x:77.27544403,y:348.9604797},{x:76.33216095,y:348.4492188},{x:75.68700409,y:348.0689697},{x:66.5876236,y:342.1790771},{x:61.90306854,y:339.4937744},{x:56.897995,y:337.35495},{x:55.17505646,y:336.726532},{x:53.01000214,y:336.1444702},{x:51.04743958,y:336.2538757},{x:50.34353638,y:336.7695007},{x:49.93199921,y:337.6999512},{x:50.0814743,y:339.3566589},{x:51.06142426,y:341.0038757},{x:52.65550232,y:342.6039124},{x:54.64737701,y:344.1190796},{x:58.95914459,y:346.743988},{x:60.84635162,y:347.7783203},{x:62.26599884,y:348.5769653},{x:70.1079483,y:352.9052734},{x:78.1873703,y:356.6586914},{x:86.4916153,y:359.8837585},{x:95.00800323,y:362.6269531},{x:96.84983063,y:363.0866394},{x:98.97579193,y:363.5275574},{x:103.6091232,y:364.5426941},{x:107.965889,y:366.0517273},{x:109.7461472,y:367.1099854},{x:111.1039963,y:368.43396},{x:112.0068741,y:370.5414429},{x:112.4139938,y:373.21521},{x:112.6441269,y:375.9950867},{x:113.0159988,y:378.4209595},{x:113.902565,y:381.2496643},{x:115.2284775,y:384.6081543},{x:116.9393082,y:388.2300415},{x:118.980629,y:391.8488464},{x:121.2979813,y:395.1981506},{x:123.8369522,y:398.0115662},{x:126.5430984,y:400.022644},{x:129.3619919,y:400.9649658},{x:128.5566483,y:397.5397949},{x:126.8852463,y:394.5133362},{x:124.8594742,y:391.6261902},{x:122.9910049,y:388.6189575},{x:120.504631,y:382.5281982},{x:119.1972427,y:376.1178589},{x:119.0547104,y:372.875061},{x:119.2897568,y:369.6510315},{x:119.9299698,y:366.4787292},{x:121.0029984,y:363.3909607},{x:122.9761124,y:359.8041687},{x:125.5510788,y:356.6000061},{x:128.5915298,y:353.7098083},{x:131.9611282,y:351.0648499},{x:139.1423569,y:346.2359619},{x:146.0040054,y:341.5639648},{x:153.3126602,y:336.4172363},{x:160.8510056,y:331.6148376},{x:176.060997,y:322.2139587},{x:223.2120132,y:292.0619507},{x:241.0090103,y:281.0089722},{x:244.4554214,y:278.2832642},{x:248.0213699,y:275.5827026},{x:251.8383865,y:273.5125122},{x:253.8821487,y:272.9029541},{x:256.038002,y:272.677948},{x:255.5765762,y:275.73526},{x:254.4421158,y:278.3285828},{x:252.9171219,y:280.7803345},{x:251.2840042,y:283.4129639},{x:249.1513138,y:287.4288635},{x:247.2273636,y:291.7029724},{x:245.725502,y:296.1263123},{x:244.8589859,y:300.5899658},{x:244.4298477,y:307.2876587},{x:244.5635757,y:313.9535828},{x:245.2291336,y:320.570282},{x:246.3955154,y:327.1204224},{x:248.0315933,y:333.5866089},{x:250.1063919,y:339.951416},{x:252.5888138,y:346.1975098},{x:255.4478531,y:352.3074646},{x:262.1715469,y:364.0494385},{x:270.0290298,y:375.0382385},{x:278.7719803,y:385.1347656},{x:288.1519852,y:394.1999512},{x:294.92173,y:399.6752014},{x:302.1428604,y:404.5257263},{x:309.7718277,y:408.7135925},{x:317.7649918,y:412.2009583},{x:322.0982132,y:413.5901184},{x:326.4935989,y:414.2129517},{x:328.6687698,y:414.1019592},{x:330.8044205,y:413.6372986},{x:332.8823013,y:412.7649841},{x:334.8839798,y:411.4309692},{x:336.700325,y:409.4726868},{x:337.756813,y:407.2593689},{x:338.1652908,y:404.8675537},{x:338.0374832,y:402.3738403},{x:337.4851761,y:399.8547668},{x:336.6201553,y:397.3868713},{x:334.3989944,y:392.9109497},{x:331.2719803,y:388.0760193},{x:327.7468643,y:383.5949097},{x:319.7087479,y:375.5498352},{x:310.6974869,y:368.4870605},{x:301.1259842,y:362.1179504},{x:289.341011,y:355.3789673},{x:288.3749161,y:354.5166321},{x:287.4871292,y:353.3829651},{x:287.1665115,y:352.1690369},{x:287.3716812,y:351.5917053},{x:287.9019852,y:351.0659485},{x:290.0786819,y:350.5000305},{x:292.8593826,y:350.8098145},{x:295.6623917,y:351.5259399},{x:297.9060135,y:352.1789551},{x:300.6676102,y:353.0059814},{x:303.7700882,y:354.0613708},{x:310.5398636,y:356.3453369},{x:313.9782486,y:357.3178101},{x:317.2997208,y:358.0065918},{x:320.3897781,y:358.2836609},{x:323.1339798,y:358.0209656},{x:311.4509048,y:349.4853516},{x:299.2507401,y:341.6953125},{x:286.5124283,y:334.8171387},{x:273.215004,y:329.0169678},{x:258.7229996,y:323.8179626},{x:257.2878494,y:323.337738},{x:255.7744827,y:322.6670837},{x:254.4943924,y:321.7168884},{x:253.7590103,y:320.3979492},{x:253.827034,y:319.0723267},{x:254.5322647,y:317.7234802},{x:255.711647,y:316.3885193},{x:257.2022476,y:315.1045837},{x:260.465126,y:312.8383789},{x:261.9114456,y:311.9303589},{x:263.0170059,y:311.2219543},{x:271.8112259,y:305.8678284},{x:281.198616,y:301.1617126},{x:290.8884659,y:297.0829773},{x:300.590004,y:293.6109619},{x:310.0823746,y:291.1308289},{x:319.4608536,y:289.9150696},{x:328.9314041,y:289.7652893},{x:338.6999893,y:290.4829712},{x:354.2659988,y:293.3499451},{x:355.8602982,y:293.1119995},{x:357.197731,y:292.2803345},{x:358.3595047,y:291.0731506},{x:359.4267349,y:289.7085876},{x:360.4805679,y:288.4048157},{x:361.6021194,y:287.3800049},{x:362.8725357,y:286.8523254},{x:364.3729935,y:287.0399475},{x:365.9158707,y:287.8427734},{x:367.3995438,y:289.0066833},{x:370.1699905,y:292.0510864},{x:372.6456985,y:295.4399109},{x:374.788002,y:298.4399719},{x:394.8579788,y:325.8149719},{x:397.3873978,y:329.0663757},{x:399.9987259,y:332.6233521},{x:402.1026993,y:336.3991089},{x:402.7802811,y:338.3419189},{x:403.109993,y:340.3069458},{x:403.7992325,y:340.2913818},{x:404.1172256,y:340.3743286},{x:404.2001114,y:340.691864},{x:404.1839981,y:341.3799744},{x:405.9170609,y:342.5977478},{x:407.5672379,y:344.3135681},{x:410.6323624,y:348.6974487},{x:413.4063187,y:353.4481201},{x:414.6925125,y:355.6223755},{x:415.9159927,y:357.4819641},{x:446.1409988,y:402.5239563},{x:447.8941116,y:404.6854248},{x:449.9755325,y:406.9086609},{x:454.483345,y:411.5653381},{x:456.5896683,y:414.0111694},{x:458.3842239,y:416.5435791},{x:459.7070389,y:419.1687927},{x:460.3980179,y:421.8929749},{x:460.330513,y:423.2209473},{x:459.8673782,y:424.4043274},{x:458.1563797,y:426.4813232},{x:456.0694046,y:428.4118958},{x:454.4110184,y:430.4839478},{x:453.6341629,y:432.6287231},{x:453.2503738,y:434.9552002},{x:452.6709671,y:439.6079712},{x:451.6133499,y:443.3995361},{x:450.0984573,y:447.2178345},{x:448.1988602,y:450.8544312},{x:445.9870071,y:454.1009521},{x:445.2327957,y:454.9499512},{x:444.120369,y:456.1347046},{x:441.6337357,y:459.0782166},{x:440.6658401,y:460.6203003},{x:440.1524734,y:462.0648193},{x:440.2967911,y:463.3034973},{x:441.3020096,y:464.2279663},{x:443.0089798,y:464.4325867},{x:444.7705154,y:463.7559509},{x:446.3872757,y:462.6180725},{x:447.6599808,y:461.4389648},{x:449.96418,y:458.7336426},{x:451.896492,y:455.7789612},{x:454.7979813,y:449.3179626},{x:455.2873001,y:447.6248474},{x:455.8775101,y:445.8508301},{x:456.8382034,y:444.3796387},{x:458.4389725,y:443.5949707},{x:460.0345535,y:443.7620239},{x:461.7698441,y:444.6128235},{x:463.5780106,y:445.9676208},{x:465.3921585,y:447.6465759},{x:468.7708817,y:451.2580566},{x:470.2016678,y:452.8309631},{x:471.3709793,y:454.0089722},{x:478.8518143,y:460.0104675},{x:486.9943924,y:465.3340759},{x:495.4878006,y:470.1171265},{x:504.0210037,y:474.4969482},{x:509.5540848,y:477.1457214},{x:515.2860184,y:479.3189697},{x:516.4008255,y:479.6032104},{x:517.6022415,y:479.6870728},{x:518.5872879,y:479.3061523},{x:519.0529861,y:478.1959534},{x:518.8626175,y:476.8864441},{x:518.1857986,y:475.7019958},{x:515.84095,y:473.7122192},{x:512.9545975,y:472.234314},{x:510.4629593,y:471.2759705},{x:507.6074905,y:470.256958},{x:504.0599442,y:468.8930969},{x:496.255867,y:465.2143555},{x:492.682869,y:462.9411621},{x:489.7850418,y:460.4066467},{x:487.9041214,y:457.6316223},{x:487.4518509,y:456.1604309},{x:487.3819656,y:454.6369629},{x:491.1286697,y:455.6597595},{x:494.7612381,y:457.2131958},{x:498.3274002,y:458.9732666},{x:501.8750076,y:460.6159668},{x:508.6896439,y:463.2619934},{x:515.7986526,y:465.5415649},{x:523.0577469,y:467.2131042},{x:530.3230057,y:468.0349731},{x:536.5177689,y:468.0764465},{x:542.669014,y:467.3979492},{x:543.9200516,y:466.9833069},{x:545.0242386,y:466.2348328},{x:545.5588455,y:465.2004089},{x:545.1009598,y:463.927948},{x:544.175972,y:463.0953064},{x:542.9511795,y:462.4622803},{x:539.9430008,y:461.6712036},{x:536.7585526,y:461.3072815},{x:534.0799637,y:461.1229553},{x:520.8706131,y:459.9545898},{x:514.2815628,y:459.0859985},{x:507.7789993,y:457.8509521},{x:506.4525833,y:457.5542603},{x:504.8121414,y:457.1582336},{x:501.1944656,y:455.9819641},{x:499.5198441,y:455.1585083},{x:498.1362991,y:454.1494141},{x:497.1952591,y:452.9331055},{x:496.8479691,y:451.4879456},{x:497.117012,y:450.6549377},{x:497.8393021,y:450.1732788},{x:500.1341019,y:449.9840698},{x:502.7133255,y:450.3605652},{x:503.7911453,y:450.5859985},{x:504.557991,y:450.7429504},{x:511.3823318,y:451.3563843},{x:518.3227615,y:451.0169373},{x:525.2244949,y:449.9740295},{x:531.932991,y:448.4769592},{x:532.8128738,y:448.2760315},{x:534.1250076,y:447.9761353},{x:537.3393631,y:447.0833435},{x:538.8882523,y:446.4923706},{x:540.1627884,y:445.8063354},{x:540.9862747,y:445.0262146},{x:541.1820145,y:444.1529541},{x:540.6489334,y:443.4705505},{x:539.4853592,y:443.0022888},{x:537.8792191,y:442.7068176},{x:536.0183792,y:442.5428467},{x:532.2842484,y:442.4439392},{x:530.7866898,y:442.4263916},{x:529.7860184,y:442.3749695},{x:522.7177811,y:441.8120117},{x:515.5401077,y:441.6993408},{x:501.2470169,y:442.2559509},{x:498.6232986,y:442.5908508},{x:495.6024857,y:442.9595947},{x:492.7076492,y:442.7930298},{x:491.4709549,y:442.3311157},{x:490.4619827,y:441.5219727},{x:489.3800125,y:439.9010925},{x:488.6179276,y:438.0290833},{x:487.6418533,y:433.8266907},{x:486.7113724,y:429.5046997},{x:486.0061722,y:427.4831848},{x:485.0039749,y:425.6529541},{x:464.5570145,y:397.51297},{x:441.859993,y:359.0939636},{x:419.5407486,y:322.4837036},{x:397.7539749,y:285.5569458},{x:392.6534195,y:277.3995361},{x:387.2727432,y:269.1647034},{x:382.4174271,y:260.6722412},{x:380.4385147,y:256.2730713},{x:378.8929825,y:251.7419434},{x:378.4342422,y:247.8017578},{x:378.8919754,y:243.618103},{x:379.8762283,y:239.4705811},{x:380.9969864,y:235.6389771},{x:388.6119766,y:208.7999878},{x:391.0815811,y:198.9997559},{x:393.3593521,y:188.8963623},{x:395.3594131,y:178.5748901},{x:396.9958572,y:168.1204834},{x:398.1828384,y:157.6182251},{x:398.8344498,y:147.1533203},{x:398.8647842,y:136.8108521},{x:398.1879959,y:126.6759644},{x:395.2633438,y:103.3844604},{x:393.3301468,y:91.60638428},{x:390.9952469,y:79.85656738},{x:388.1928177,y:68.22253418},{x:384.8570328,y:56.79168701},{x:380.9220352,y:45.65136719},{x:376.3219986,y:34.88897705},{x:371.1558609,y:23.22259521},{x:366.6760025,y:11.27197266},{x:365.8827591,y:9.214355469},{x:365.0445023,y:6.805603027},{x:364.7049942,y:4.406799316},{x:364.892189,y:3.323974609},{x:365.4079971,y:2.378967285},{x:366.5955276,y:1.439331055},{x:368.2348099,y:.826660156},{x:372.3311234,y:.333557129},{x:376.6218643,y:.40246582},{x:378.5041885,y:.4921875},{x:380.0319901,y:.535949707},{x:420.2889786,y:0},{x:527.1040115,y:0},{x:558.0751419,y:.09362793},{x:573.5140457,y:.204589844},{x:588.6629715,y:.352966309},{x:588.6629715,y:.352966309}],$r=Xg.map(i=>d(i.x,i.y));function qg(){return qo("Numeric ODE solvers","y'=y, y(0)=1",0,1,Math.exp,(i,t)=>t)}function Kg(){return qo("Numeric ODE solvers","y'=x, y(0)=0",0,0,i=>.5*i*i,(i,t)=>i)}function Zg(){return qo("Numeric ODE solvers","y'=cos(x), y(0)=0",0,0,Math.sin,(i,t)=>Math.cos(i))}function Jg(){const i=new y({title:"Train schedule",subtitle:"Bergensbanen (Oslo-Bergen, Norway)",isLegendVisible:!1,plotAreaBorderColor:p.LightGray}),t=new w({position:x.Left,minimum:-20,maximum:540,title:"Distance from Oslo S",isAxisVisible:!0});i.axes.push(t);const e=new lx({majorGridlineStyle:k.Solid,majorGridlineColor:p.LightGray,minimum:t.minimum,maximum:t.maximum,position:x.Right,isPanEnabled:!1,isZoomEnabled:!1,majorTickSize:0});t.axisChanged=(c,g)=>{e.minimum=t.actualMinimum,e.maximum=t.actualMaximum},i.axes.push(e),i.axes.push(new Ne({position:x.Bottom,minimum:0,maximum:Ne.toDouble(_t.fromHours(24)),stringFormatter:c=>Math.abs(c.hours).toString().padStart(2,"0"),title:"Time",majorStep:Ne.toDouble(_t.fromHours(1)),minorStep:Ne.toDouble(_t.fromMinutes(10)),tickStyle:it.None,majorGridlineStyle:k.Solid,majorGridlineColor:p.LightGray,minorGridlineStyle:k.Solid,minorGridlineColor:r.fromArgb(255,240,240,240)}));const s=`Stasjon;km;moh;609;61;601;1405;607;603;63;605;62;602;608;604;64;610;1404;606
Oslo;0.00;4.0;0631;0811;1037;;1227;1437;1609;2311;1432;1736;1956;2210;2236;2348;;0626
Lysaker;7.00;7.5;0642;0822;1048;;1238;1448;1620;2322;1420;1724;1944;2158;2224;;;
Asker;23.83;104.6;0653;0832;1059;;1249;1458;1630;2334;1409;1713;1932;2144;2214;2324;;0555
Drammen;52.86;2.2;0708;0846;1115;;1303;1513;1645;2351;1354;1701;1914;2125;2201;2307;;0540
Hokksund;70.22;8.0;;;1136;;1320;1531;;0007;;1638;1854;2111;2140;;;0525
Vikersund;95.91;67.1;;;1158;;1349;1552;;0029;;1617;1833;2048;;;;0503
Hønefoss;124.21;96.8;0804;0937;1222;;1414;1619;1736;0056;1304;1555;1811;2025;2100;2201;;0442
Flå;186.64;155.0;;;1314;;;1712;;;;1503;1715;1934;;2108;;0349
Nesbyen;220.06;168.8;;1045;1340;;1532;1744;1845;0223;1152;1436;1643;1909;1949;2041;;0321
Gol;237.02;207.4;0930;1100;1354;;1545;1800;1900;0239;1141;1423;1630;1858;1938;2028;;0308
Ål;262.85;436.6;0950;1123;1419;1520;1608;1832;1921;0305;1121;1400;1609;1833;1919;2007;1957;0246
Geilo;287.38;794.2;1013;1145;1442;1545;1630;1855;1942;0328;1059;1339;1547;1812;1857;1946;1939;0224
Ustaoset;299.31;990.6;;1156;1454;1556;1643;1905;1953;0341;1048;1326;1536;1800;1845;;1927;0209
Haugastøl;310.14;988.0;1042;;1505;1606;1655;1916;;0352;;1315;1527;1750;;1922;;0158
Finse;336.74;1222.2;1108;1224;1526;1626;1717;1937;2021;0417;1019;1254;1508;1730;1818;1900;1854;0138
Hallingskeid;357.44;1110.1;1123;;1538;1637;1732;1950;;;;1239;1454;1711;;1842;1839;
Myrdal;370.44;866.8;1137;1253;1551;1650;1746;2003;2045;0445;0953;1225;1440;1657;1752;1828;1825;0105
;370.44;866.8;1220;1258;1556;1652;1751;2004;2047;0445;0950;1220;1439;1652;1750;1823;1822;0101
// Upsete;376.79;850.2;;;;;;;;;;;;;;;;
// Mjølfjell;388.86;627.2;;;;;;;;;;;;;;;;
Voss;419.96;56.5;1312;1343;1640;1738;1836;2048;2130;0537;0910;1139;1355;1608;1710;1736;1740;0015
Dale;459;43.4;;;;;1903;;2156;0608;0836;1109;;;;;;2344
Vaksdal;475.17;16.0;;;;;;;;0626;;;;;;;;2326
Arna;501.43;8.0;1410;1441;1740;1840;1935;2155;2228;0644;0806;1037;1248;1506;1606;1618;1637;2307
Bergen;526.64;3.9;1422;1442;1752;1850;1945;2204;2235;0656;0758;1028;1240;1458;1558;1610;1628;2258
`.split(`
`),n=s[0];s.splice(0,1);const o=n.split(";"),a=o.length-3,l=new $({strokeThickness:0,markerType:F.Circle,markerFill:r.fromAColor(200,p.Black),markerSize:4}),h=new Array(a);for(let c=0;c<h.length;c++)h[c]=new $({title:o[3+c],color:r.fromAColor(180,p.Black),strokeThickness:2,trackerStringFormatter:g=>`Train ${g.title}
Time: ${Ao(g.xValue,"hh:mm:ss")}
Distance from Oslo S: ${g.yValue.toFixed(1)} km`}),i.series.push(h[c]);for(const c of s){if(!c||c.startsWith("//"))continue;const g=c.split(";"),f=g[0],b=parseFloat(g[1]);f&&(e.majorTicks.push(b),e.labels.push(f));for(let S=0;S<h.length;S++){const M=g[S+3];if(!M)continue;const T=parseInt(M),C=_t.from(0,Math.floor(T/100),T%100,0),v=Ne.toDouble(C);h[S].points.push(d(v,b)),l.points.push(d(v,b))}}const m=Ne.toDouble(_t.fromHours(24));for(const c of i.series)if(c instanceof Io){for(let g=0;g+1<c.points.length;g++)if(Math.abs(c.points[g].x-c.points[g+1].x)>m/2){let f=c.points[g].x;f>m/2&&(f-=m);let b=c.points[g+1].x;b>m/2&&(b-=m);const S=c.points[g].y+(c.points[g+1].y-c.points[g].y)/(b-f)*(0-f);c.points.splice(g+1,0,d(f<b?0:m,S)),c.points.splice(g+1,0,d(Number.NaN,S)),c.points.splice(g+1,0,d(f<b?m:0,S)),g+=3}}return console.log(e),i.series.push(l),i}function Qg(){const i=new y({title:"La Linea",plotType:rt.Cartesian,background:r.fromRgb(84,98,207)});i.axes.push(new w({position:x.Left,minimum:-500,maximum:1e3}));const t=new ei({fill:p.White,strokeThickness:0});return t.points.push(...$r),i.series.push(t),i}function tx(){const i=new y({title:"La Linea",plotType:rt.Cartesian,background:r.fromRgb(84,98,207)});i.axes.push(new w({position:x.Left,minimum:-500,maximum:1e3}));const t=new $({color:p.White,strokeThickness:1.5});return t.points.push(...$r),i.series.push(t),i}function ex(){const i=new y({title:"Conway's Game of Life",subtitle:"Click the mouse to step to the next generation."});i.axes.push(new w({position:x.Left,startPosition:1,endPosition:0})),i.axes.push(new w({position:x.Bottom}));const t=40,e=40;let s=qe(e,t,0);const n=new Er({matrix:s}),o=(c,g)=>{s[c][g]=s[c][g+1]=s[c][g+2]=1},a=(c,g)=>{s[c][g]=s[c+1][g+1]=s[c+1][g+2]=s[c+2][g]=s[c+2][g+1]=1},l=(c,g)=>{s[c][g+1]=s[c][g+2]=s[c+1][g]=s[c+1][g+1]=s[c+2][g+1]=1};o(2,10),a(2,2),l(20,20),i.series.push(n);let h=0;const m=()=>{const c=qe(e,t,0);for(let g=1;g<t-1;g++)for(let f=1;f<e-1;f++){const b=s[g-1][f-1]+s[g-1][f]+s[g-1][f+1]+s[g][f-1]+s[g][f+1]+s[g+1][f-1]+s[g+1][f]+s[g+1][f+1];if(s[g][f]===0&&b===3){c[g][f]=1;continue}s[g][f]===1&&(b===2||b===3)&&(c[g][f]=1)}h++,n.title="Generation "+h,n.matrix=s=c,i.invalidatePlot(!0)};return i.mouseDown=(c,g)=>{g.changedButton===xt.Left&&(m(),g.handled=!0)},i}function ix(){const i=Math.sin,t=n=>-27/5*i(3/2-30*n)-16/3*i(9/8-29*n)-29/5*i(5/4-27*n)-8/3*i(1/4-26*n)-25/7*i(1/3-25*n)-31/4*i(4/7-22*n)-25/4*i(4/3-20*n)-33/2*i(2/3-19*n)-67/4*i(6/5-16*n)-100/11*i(1/4-10*n)-425/7*i(1-4*n)+149/4*i(8*n)+1172/3*i(n+21/5)+661/11*i(2*n+3)+471/8*i(3*n+10/7)+211/7*i(5*n+13/4)+39/4*i(6*n+10/7)+139/10*i(7*n+7/6)+77/3*i(9*n+18/7)+135/8*i(11*n+1/2)+23/4*i(12*n+8/5)+95/4*i(13*n+4)+31/4*i(14*n+3/5)+67/11*i(15*n+7/3)+127/21*i(17*n+17/4)+95/8*i(18*n+7/8)+32/11*i(21*n+8/3)+81/10*i(23*n+45/11)+13/3*i(24*n+13/4)+7/4*i(28*n+3/2)+11/5*i(31*n+5/2)+1/3*i(32*n+12/5)+13/4*i(33*n+22/5)+14/3*i(34*n+9/4)+9/5*i(35*n+8/5)+17/9*i(36*n+22/5)+1/3*i(37*n+15/7)+3/2*i(38*n+39/10)+4/3*i(39*n+7/2)+5/3*i(40*n+17/6),e=n=>-13/7*i(1/2-40*n)-31/8*i(1/11-34*n)-12/5*i(1/4-31*n)-9/4*i(4/3-29*n)-5/3*i(4/3-28*n)-11/2*i(6/5-26*n)-17/7*i(3/2-25*n)-5/2*i(1-24*n)-39/7*i(1-19*n)-59/5*i(2/3-18*n)-179/9*i(13/12-12*n)-103/2*i(1/10-9*n)-356/5*i(1-5*n)-429/2*i(20/19-n)+288/5*i(2*n+10/3)+53/6*i(3*n+5/2)+351/7*i(4*n+5/2)+201/4*i(6*n+17/7)+167/3*i(7*n+19/5)+323/5*i(8*n+1/4)+153/7*i(10*n+2/3)+71/5*i(11*n+6/5)+47/12*i(13*n+11/5)+391/26*i(14*n+2)+164/11*i(15*n+1/7)+11/2*i(16*n+2/3)+31/3*i(17*n+1/7)+54/11*i(20*n+1/4)+43/5*i(21*n+13/3)+13/5*i(22*n+3/2)+17/5*i(23*n+11/5)+19/10*i(27*n+4)+15/2*i(30*n+55/18)+4/3*i(32*n+3/5)+5/3*i(33*n+4)+27/7*i(35*n+13/6)+1/4*i(36*n+43/11)+16/5*i(37*n+9/2)+20/19*i(38*n+23/6)+8/3*i(39*n+4/7),s=new y({title:"Elephant curve",plotType:rt.Cartesian});return s.series.push(tt.fromFxFyN(t,e,0,Math.PI*2,1e3)),s}function sx(){const i=Math.sin,t=n=>17/31*i(235/57-32*n)+19/17*i(192/55-30*n)+47/32*i(69/25-29*n)+35/26*i(75/34-27*n)+6/31*i(23/10-26*n)+35/43*i(10/33-25*n)+126/43*i(421/158-24*n)+143/57*i(35/22-22*n)+106/27*i(84/29-21*n)+88/25*i(23/27-20*n)+74/27*i(53/22-19*n)+44/53*i(117/25-18*n)+126/25*i(88/49-17*n)+79/11*i(43/26-16*n)+43/12*i(41/17-15*n)+47/27*i(244/81-14*n)+8/5*i(79/19-13*n)+373/46*i(109/38-12*n)+1200/31*i(133/74-11*n)+67/24*i(157/61-10*n)+583/28*i(13/8-8*n)+772/35*i(59/16-7*n)+3705/46*i(117/50-6*n)+862/13*i(19/8-5*n)+6555/34*i(157/78-3*n)+6949/13*i(83/27-n)-6805/54*i(2*n+1/145)-5207/37*i(4*n+49/74)-1811/58*i(9*n+55/43)-63/20*i(23*n+2/23)-266/177*i(28*n+13/18)-2/21*i(31*n+7/16),e=n=>70/37*i(65/32-32*n)+11/12*i(98/41-31*n)+26/29*i(35/12-30*n)+54/41*i(18/7-29*n)+177/71*i(51/19-27*n)+59/34*i(125/33-26*n)+49/29*i(18/11-25*n)+151/75*i(59/22-24*n)+52/9*i(118/45-22*n)+52/33*i(133/52-21*n)+37/45*i(61/14-20*n)+143/46*i(144/41-19*n)+254/47*i(19/52-18*n)+246/35*i(92/25-17*n)+722/111*i(176/67-16*n)+136/23*i(3/19-15*n)+273/25*i(32/21-13*n)+229/33*i(117/28-12*n)+19/4*i(43/11-11*n)+135/8*i(23/10-10*n)+205/6*i(33/23-8*n)+679/45*i(55/12-7*n)+101/8*i(11/12-6*n)+2760/59*i(40/11-5*n)+1207/18*i(21/23-4*n)+8566/27*i(39/28-3*n)+12334/29*i(47/37-2*n)+15410/39*i(185/41-n)-596/17*i(9*n+3/26)-247/28*i(14*n+25/21)-458/131*i(23*n+21/37)-41/36*i(28*n+7/8),s=new y({title:"PI curve",plotType:rt.Cartesian});return s.series.push(tt.fromFxFyN(t,e,0,Math.PI*2,1e3)),s}function qo(i,t,e,s,n,o){const a=new y({title:i,subtitle:t}),l=new W({legendPosition:z.BottomCenter,legendPlacement:pt.Outside,legendOrientation:At.Horizontal});a.legends.push(l);const h=tt.fromN(n,0,4,100);Object.assign(h,{title:"Exact solution",strokeThickness:5}),a.series.push(h);const m=new $({title:"Euler, h=0.25",markerType:F.Circle,markerFill:p.Black});m.points.push(...nx(o,e,s,4,.25)),a.series.push(m);const c=new $({title:"Heun, h=0.25",markerType:F.Circle,markerFill:p.Black});c.points.push(...ox(o,e,s,4,.25)),a.series.push(c);const g=new $({title:"Midpoint, h=0.25",markerType:F.Circle,markerFill:p.Black});g.points.push(...ax(o,e,s,4,.25)),a.series.push(g);const f=new $({title:"RK4, h=0.25",markerType:F.Circle,markerFill:p.Black});return f.points.push(...rx(o,e,s,4,.25)),a.series.push(f),a.axes.push(new w({position:x.Left})),a}function nx(i,t,e,s,n){const o=[];let a=e;for(let l=t;l<s+n/2;l+=n)o.push(d(l,a)),a+=n*i(l,a);return o}function ox(i,t,e,s,n){const o=[];let a=e;for(let l=t;l<s+n/2;l+=n){o.push(d(l,a));const h=a+n*i(l,a);a=a+n/2*(i(l,a)+i(l+n,h))}return o}function ax(i,t,e,s,n){const o=[];let a=e;for(let l=t;l<s+n/2;l+=n)o.push(d(l,a)),a+=n*i(l+n/2,a+n/2*i(l,a));return o}function rx(i,t,e,s,n){const o=[];let a=e;for(let l=t;l<s+n/2;l+=n){o.push(d(l,a));const h=n*i(l,a),m=n*i(l+n/2,a+h/2),c=n*i(l+n/2,a+m/2),g=n*i(l+n,a+c);a+=(h+2*m+2*c+g)/6}return o}class lx extends w{constructor(e){super(e);nt(this,"majorTicks",[]);nt(this,"minorTicks",[]);nt(this,"labels",[])}getTickValues(){const e=this.majorTicks.filter(o=>o>=this.actualMinimum&&o<=this.actualMaximum),s=this.minorTicks.filter(o=>o>=this.actualMinimum&&o<=this.actualMaximum);return{majorTickValues:e,minorTickValues:s,majorLabelValues:e}}formatValueOverride(e){return this.labels[this.majorTicks.indexOf(e)]}}const hx="Misc",mx={category:hx,examples:[{title:"Numeric ODE solvers (y'=y)",example:{model:qg}},{title:"Numeric ODE solvers (y'=x)",example:{model:Kg}},{title:"Numeric ODE solvers (y'=cos(x))",example:{model:Zg}},{title:"Train schedule",example:{model:Jg}},{title:"La Linea (AreaSeries)",example:{model:Qg}},{title:"La Linea (LineSeries)",example:{model:tx}},{title:"Conway's Game of Life",example:{model:ex}},{title:"Elephant curve",example:{model:ix}},{title:"PI curve",example:{model:sx}}]};function ux(){const i=new y({title:"XKCD style plot",subtitle:"Install the 'Humor Sans' font for the best experience"});i.renderingDecorator=e=>new Lo(e);const t=tt.fromN(Math.sin,0,10,50,"sin(x)");return i.series.push(t),i}function cx(){const i=new y({title:"Test #2"});i.renderingDecorator=l=>new Lo(l),i.axes.push(new w({position:x.Left,minimum:0,maximum:8,title:"INTENSITY"})),i.axes.push(new w({position:x.Bottom,title:"TIME"}));const t=new $({color:p.Cyan,strokeThickness:4}),e=new $({color:p.White,strokeThickness:14}),s=new $({color:p.Red,strokeThickness:4}),n=257,o=1,a=9;for(let l=0;l<n;l++){const h=o+(a-o)*l/(n-1),m=1.5+10*(Math.sin(h)*Math.sin(h)/Math.sqrt(h))*Math.exp(-.5*(h-5)*(h-5)),c=3+10*(Math.sin(h)*Math.sin(h)/Math.sqrt(h))*Math.exp(-.5*(h-7)*(h-7));t.points.push(d(h,m)),e.points.push(d(h,c)),s.points.push(d(h,c))}return i.series.push(t,e,s),i}function dx(){const i=new y({title:"Test #3"});i.renderingDecorator=a=>new Lo(a);const t=new W({legendPlacement:pt.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,legendBorderThickness:0});i.legends.push(t);const e=new G({title:"Series 1",isStacked:!1,strokeColor:p.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});e.items.push(new L({value:25})),e.items.push(new L({value:137})),e.items.push(new L({value:18})),e.items.push(new L({value:40}));const s=new G({title:"Series 2",isStacked:!1,strokeColor:p.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});s.items.push(new L({value:12})),s.items.push(new L({value:14})),s.items.push(new L({value:120})),s.items.push(new L({value:26}));const n=new K({position:x.Bottom,key:"y"});n.labels.push("Category A","Category B","Category C","Category D");const o=new w({position:x.Left,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0,key:"x"});return i.series.push(e),i.series.push(s),i.axes.push(n),i.axes.push(o),i}const px="XKCD",gx={category:px,examples:[{title:"XKCD Test #1",example:{model:ux}},{title:"XKCD Test #2",example:{model:cx}},{title:"XKCD Test #3",example:{model:dx}}]};function xx(){return Rt.createPeaks(void 0,!1)}function fx(){return Rt.createPeaks(H.jet(200),!1)}function wx(){return Rt.createPeaks(H.jet(20),!1)}function yx(){return Rt.createPeaks(H.hue(400),!1)}function bx(){return Rt.createPeaks(H.hueDistinct(200),!1)}function Sx(){return Rt.createPeaks(H.hueDistinct(200).reverse(),!1)}function Mx(){return Rt.createPeaks(H.hot(200),!1)}function kx(){return Rt.createPeaks(H.hot64,!1)}function Ax(){return Rt.createPeaks(H.hot(30),!1)}function Rx(){return Rt.createPeaks(H.blueWhiteRed(200),!1)}function Tx(){return Rt.createPeaks(H.blueWhiteRed(40),!1)}function Cx(){return Rt.createPeaks(H.blackWhiteRed(500),!1)}function vx(){return Rt.createPeaks(H.blackWhiteRed(3),!1)}function Px(){return Rt.createPeaks(H.cool(200),!1)}function Lx(){return Rt.createPeaks(H.rainbow(200),!1)}function Ix(){return Rt.createPeaks(H.viridis(),!1)}function Bx(){return Rt.createPeaks(H.plasma(),!1)}function Dx(){return Rt.createPeaks(H.magma(),!1)}function Nx(){return Rt.createPeaks(H.inferno(),!1)}function Fx(){return Rt.createPeaks(H.cividis(),!1)}function Vx(){return Rt.createPeaks(H.viridis(10),!1)}function Ex(){return Rt.createPeaks(H.rainbow(7),!1)}function _x(){return Rt.createPeaks(H.jet(6),!1)}const Ox="Palettes",zx={category:Ox,tags:["Axes"],examples:[{title:"Default palette",example:{model:xx}},{title:"Jet (200 colors) palette",example:{model:fx}},{title:"Jet (20 colors) palette",example:{model:wx}},{title:"Hue (400 colors) palette",example:{model:yx}},{title:"Hue distinct (200 colors) palette",example:{model:bx}},{title:"Hue distinct reversed (200 colors) palette",example:{model:Sx}},{title:"Hot (200 colors) palette",example:{model:Mx}},{title:"Hot (64 colors) palette",example:{model:kx}},{title:"Hot (30 colors) palette",example:{model:Ax}},{title:"Blue-white-red (200 colors) palette",example:{model:Rx}},{title:"Blue-white-red (40 colors) palette",example:{model:Tx}},{title:"Black-white-red (500 colors) palette",example:{model:Cx}},{title:"Black-white-red (3 colors) palette",example:{model:vx}},{title:"Cool (200 colors) palette",example:{model:Px}},{title:"Rainbow (200 colors) palette",example:{model:Lx}},{title:"Viridis palette",example:{model:Ix}},{title:"Plasma palette",example:{model:Bx}},{title:"Magma palette",example:{model:Dx}},{title:"Inferno palette",example:{model:Nx}},{title:"Cividis palette",example:{model:Fx}},{title:"Viridis (10 colors) palette",example:{model:Vx}},{title:"Rainbow (7 colors) palette",example:{model:Ex}},{title:"Jet (6 colors) palette",example:{model:_x}}]},$x=[mx,gx,zx];class Es{static mrProcess(t,e=100,s=.5,n=.7,o=.01){let a=e;const l=[],h=new Date;for(let m=0;m<t;m++){const c=-o*(a-e)+this.randomNormal(0,s),g=-o*(a-e)+this.randomNormal(0,n),f=-o*(a-e)+this.randomNormal(0,n),b=a,S=a=a+c,M=this.min(b,S,b+g,b+f),T=this.max(b,S,b+g,b+f),C=new Date(h.getTime()+m*1e3),v=It.toDouble(C);l.push(as(v,T,M,b,S))}return l}static min(t,e,s,n){return Math.min(t,Math.min(e,Math.min(s,n)))}static max(t,e,s,n){return Math.max(t,Math.max(e,Math.max(s,n)))}static randomNormal(t,e){return this.inverseCumNormal(this.rand.next(),t,e)}static inverseCumNormal(t,e,s){const n=-39.69683028665376,o=220.9460984245205,a=-275.9285104469687,l=138.357751867269,h=-30.66479806614716,m=2.506628277459239,c=-54.47609879822406,g=161.5858368580409,f=-155.6989798598866,b=66.80131188771972,S=-13.28068155288572,M=-.007784894002430293,T=-.3223964580411365,C=-2.400758277161838,v=-2.549732539343734,R=4.374664141464968,P=2.938163982698783,I=.007784695709041462,V=.3224671290700398,_=2.445134137142996,E=3.754408661907416,q=.02425,yt=1-q;let Z,ut;return t<q?(Z=Math.sqrt(-2*Math.log(t)),Z=(((((M*Z+T)*Z+C)*Z+v)*Z+R)*Z+P)/((((I*Z+V)*Z+_)*Z+E)*Z+1)):t<=yt?(Z=t-.5,ut=Z*Z,Z=(((((n*ut+o)*ut+a)*ut+l)*ut+h)*ut+m)*Z/(((((c*ut+g)*ut+f)*ut+b)*ut+S)*ut+1)):(Z=Math.sqrt(-2*Math.log(1-t)),Z=-(((((M*Z+T)*Z+C)*Z+v)*Z+R)*Z+P)/((((I*Z+V)*Z+_)*Z+E)*Z+1)),ut=(this.cumN0(Z)-t)*Math.sqrt(2)*Math.sqrt(Math.PI)*Math.exp(.5*Z*Z),Z-=ut/(1+.5*Z*ut),e+Z*s}static cumN0(t){const e=.31938153,s=-.356563782,n=1.781477937,o=-1.821255978,a=1.330274429,l=.2316419,h=.39894228;if(t>=0){const m=1/(1+l*t);return 1-h*Math.exp(-t*t/2)*m*(m*(m*(m*(m*a+o)+n)+s)+e)}else{const m=1/(1-l*t);return h*Math.exp(-t*t/2)*m*(m*(m*(m*(m*a+o)+n)+s)+e)}}}nt(Es,"rand",new St);function Gx(){const i=new y({title:"Large Data Set (wide window)"}),t=new It({position:x.Bottom});i.axes.push(t);const e=new w({position:x.Left});i.axes.push(e);const s=1e5,n=Es.mrProcess(s),o=new gn({color:p.Black,increasingColor:p.DarkGreen,decreasingColor:p.Red,dataFieldX:"Time",dataFieldHigh:"H",dataFieldLow:"L",dataFieldOpen:"O",dataFieldClose:"C",trackerStringFormatter:m=>`High: ${m.high.toFixed(2)}
Low: ${m.low.toFixed(2)}
Open: ${m.open.toFixed(2)}
Close: ${m.close.toFixed(2)}`,itemsSource:n}),a=s-200,l=70;t.minimum=n[a].x,t.maximum=n[a+l].x;const h=n.slice(a,a+l);return e.minimum=Math.min(...h.map(m=>m.low)),e.maximum=Math.max(...h.map(m=>m.high)),i.series.push(o),t.axisChanged=(m,c)=>Ko(o,t,e),i}function Ux(){const i=new y({title:"Large Data Set (narrow window)"}),t=new It({position:x.Bottom});i.axes.push(t);const e=new w({position:x.Left});i.axes.push(e);const s=1e5,n=Es.mrProcess(s),o=new gn({color:p.Black,increasingColor:p.DarkGreen,decreasingColor:p.Red,trackerStringFormatter:a=>`High: ${a.high.toFixed(2)}
Low: ${a.low.toFixed(2)}
Open: ${a.open.toFixed(2)}
Close: ${a.close.toFixed(2)}`,itemsSource:n});return t.minimum=n[0].x,t.maximum=n[29].x,e.minimum=n.slice(0,30).map(a=>a.low).reduce((a,l)=>Math.min(a,l)),e.maximum=n.slice(0,30).map(a=>a.high).reduce((a,l)=>Math.max(a,l)),i.series.push(o),t.axisChanged=(a,l)=>Ko(o,t,e),i}function jx(){const i=new y({title:"Small Data Set"}),t=new It({position:x.Bottom});i.axes.push(t);const e=new w({position:x.Left});i.axes.push(e);const s=100,n=Es.mrProcess(s),o=new gn({color:p.Black,increasingColor:p.DarkGreen,decreasingColor:p.Red,dataFieldX:"X",dataFieldHigh:"High",dataFieldLow:"Low",dataFieldOpen:"Open",dataFieldClose:"Close",trackerStringFormatter:a=>`High: ${a.high.toFixed(2)}
Low: ${a.low.toFixed(2)}
Open: ${a.open.toFixed(2)}
Close: ${a.close.toFixed(2)}`,itemsSource:n});return i.series.push(o),t.axisChanged=(a,l)=>Ko(o,t,e),i}function Wx(){const i=It.toDouble(new Date(2016,1,1)),t=new y({title:"Simple CandleStickSeries example"});t.axes.push(new It({position:x.Bottom,minimum:i-7,maximum:i+7})),t.axes.push(new w({position:x.Left}));const e=new gn;return e.items.push(as(i,100,80,92,94)),e.items.push(as(i+1,102,77,94,93)),e.items.push(as(i+2,99,85,93,93)),t.series.push(e),t}function Ko(i,t,e){const s=t.actualMinimum,n=t.actualMaximum,o=i.findByX(s),a=i.findByX(n,o);let l=et,h=ht;for(let g=o;g<=a;g++){const f=i.items[g];l=Math.min(l,f.low),h=Math.max(h,f.high)}const c=(h-l)*.1;e.zoom(l-c,h+c)}const Hx="CandleStickSeries",Yx={category:Hx,tags:["Series"],examples:[{title:"Large Data Set (wide window)",example:{model:Gx}},{title:"Large Data Set (narrow window)",example:{model:Ux}},{title:"Small Set",example:{model:jx}},{title:"Simple CandleStickSeries example",example:{model:Wx}}]};function Xx(){const i=new y({title:"HighLowSeries"}),t=new W({legendSymbolLength:24});i.legends.push(t);const e=new Do({title:"HighLowSeries 1",color:p.Black}),s=new St(314);let n=100;for(let o=0;o<24;o++){n=n+s.next()+.1;const a=n+10+s.next()*10,l=n-(10+s.next()*10),h=l+s.next()*(a-l),m=l+s.next()*(a-l);e.items.push({x:o,high:a,low:l,open:h,close:m})}return i.series.push(e),i.axes.push(new w({position:x.Left,maximumPadding:.3,minimumPadding:.3})),i}function qx(){const i=new y,t=It.toDouble(new Date(2013,5,4)),e=Ze(),s=new It({position:x.Bottom,minimum:t-.9,maximum:t+1.9,intervalType:at.Days,majorStep:1,minorStep:1,stringFormatter:o=>e.format(o,"YYYY-MM-DD")});i.axes.push(s);const n=new Do({trackerStringFormatter:o=>`X: ${e.format(o.xValue,"YYYY-MM-DD")}
High: ${o.high.toFixed(2)}
Low: ${o.low.toFixed(2)}
Open: ${o.open.toFixed(2)}
Close: ${o.close.toFixed(2)}`});return n.items.push(as(t,14,10,13,12.4)),n.items.push(as(t+1,17,8,12.4,16.3)),i.series.push(n),i}const Kx="HighLowSeries",Zx={category:Kx,tags:["Series"],examples:[{title:"HighLowSeries",example:{model:Xx}},{title:"HighLowSeries (DateTime axis)",example:{model:qx}}]};class Gr{static mrProcess(t,e=100,s=500,n=.5,o=.75,a=.01){let l=e;const h=[],m=new Date;for(let c=0;c<t;c++){const g=-a*(l-e)+this.randomNormal(0,n),f=l,S=(l=l+g)-f,M=s*Math.exp(Math.abs(S)/n),C=((S<0?-Math.min(-S/o,1):Math.min(S/o,1))+1)/2,v=C*M,R=(1-C)*M,P=new Date(m.getTime()+c*1e3),I=It.toDouble(P);h.push(new uo(I,v,R))}return h}static min(t,e,s,n){return Math.min(t,Math.min(e,Math.min(s,n)))}static max(t,e,s,n){return Math.max(t,Math.max(e,Math.max(s,n)))}static randomNormal(t,e){return Es.inverseCumNormal(this.rand.next(),t,e)}}nt(Gr,"rand",new St);function Jx(){return gs("Just Volume (combined)",ti.Combined,!1)}function Qx(){return gs("Just Volume (combined)",ti.Combined,!0)}function tf(){return gs("Just Volume (stacked)",ti.Stacked,!1)}function ef(){return gs("Just Volume (stacked)",ti.Stacked,!0)}function sf(){return gs("Just Volume (+/-)",ti.PositiveNegative,!1)}function nf(){return gs("Just Volume (+/-)",ti.PositiveNegative,!0)}function gs(i,t,e=!1,s=1e4){s=201;const n=new y({title:i}),o=new Ch({positiveColor:p.DarkGreen,negativeColor:p.Red,positiveHollow:!1,negativeHollow:!1,volumeStyle:t,title:"VolumeSeries"});for(const f of Gr.mrProcess(s))o.append(f);const a=s-200,l=s-120,h=o.items[a].x,m=o.items[l].x,c=new It({position:x.Bottom,minimum:h,maximum:m}),g=new w({position:x.Left,startPosition:0,endPosition:1,minimum:e?NaN:0,maximum:e?NaN:1e4});switch(t){case ti.Combined:case ti.Stacked:n.axes.push(c),n.axes.push(g);break;case ti.PositiveNegative:g.minimum=e?NaN:-1e4,n.axes.push(c),n.axes.push(g);break}return n.series.push(o),n}const of="VolumeSeries",af={category:of,tags:["Series"],examples:[{title:"Just Volume (combined), fixed axis",example:{model:Jx}},{title:"Just Volume (combined), natural axis",example:{model:Qx}},{title:"Just Volume (stacked), fixed axis",example:{model:tf}},{title:"Just Volume (stacked), natural axis",example:{model:ef}},{title:"Just Volume (+/-), fixed axis",example:{model:sf}},{title:"Just Volume (+/-), natural axis",example:{model:nf}}]},rf=[Yx,Zx,af];function lf(){const i=new y({title:"AreaSeries with default style"});return i.series.push(Zo()),i}function hf(){const i=new y({title:"AreaSeries with different stroke colors"}),t=Zo();return t.color=p.Red,t.color2=p.Blue,i.series.push(t),i}function mf(){const i=new y({title:"AreaSeries with crossing lines"}),t=new ei;return t.points.push(d(0,50)),t.points.push(d(10,140)),t.points.push(d(20,60)),t.points2.push(d(0,60)),t.points2.push(d(5,80)),t.points2.push(d(20,70)),i.series.push(t),i}function uf(){const i=new y({title:"AreaSeries with custom TrackerFormatString"});i.axes.push(new w({position:x.Bottom,title:"X-axis"})),i.axes.push(new w({position:x.Left,title:"Y-axis"}));const t=Zo();return t.title="X={2:0.0} Y={4:0.0}",t.trackerStringFormatter=e=>`X=${e.xValue.toFixed(1)} Y=${e.yValue.toFixed(1)}`,i.series.push(t),i}function cf(){const i=new y({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = 0 (default)"}),t=new ei;return t.points.push(d(0,50)),t.points.push(d(10,140)),t.points.push(d(20,60)),i.series.push(t),i}function df(){const i=new y({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = NaN"}),t=new ei;return t.points.push(d(0,50)),t.points.push(d(10,140)),t.points.push(d(20,60)),t.constantY2=Number.NaN,i.series.push(t),i}function pf(){const i=new y({title:"AreaSeries with constant baseline",subtitle:"ItemsSource and DataField2 not set, ConstantY2 = -20"}),t=new ei,e=[d(0,50),d(10,140),d(20,60)];return t.itemsSource=e,t.dataFieldX="x",t.dataFieldY="y",t.constantY2=-20,i.series.push(t),i}function gf(){const i=new y({title:"LineSeries and AreaSeries"}),t=new w({position:x.Bottom});i.axes.push(t);const e=new w;i.axes.push(e);const s=new ei({fill:p.LightBlue,dataFieldX2:"Time",dataFieldY2:"Minimum",color:p.Red,strokeThickness:0,markerFill:p.Transparent,dataFieldX:"Time",dataFieldY:"Maximum"});s.points2.push(d(0,-5.04135905692417)),s.points2.push(d(2.5,-4.91731850813018)),s.points2.push(d(5,-4.45266314658926)),s.points2.push(d(7.5,-3.87303874542613)),s.points2.push(d(10,-3.00101110255393)),s.points2.push(d(12.5,-2.17980725503518)),s.points2.push(d(15,-1.67332229254456)),s.points2.push(d(17.5,-1.10537158549082)),s.points2.push(d(20,-.6145459544447)),s.points2.push(d(22.5,.120028106039404)),s.points2.push(d(25,1.06357270435597)),s.points2.push(d(27.5,1.87301405606466)),s.points2.push(d(30,2.57569854952195)),s.points2.push(d(32.5,3.59165537664278)),s.points2.push(d(35,4.87991958133872)),s.points2.push(d(37.5,6.36214537958714)),s.points2.push(d(40,7.62564585126268)),s.points2.push(d(42.5,8.69606320261772)),s.points2.push(d(45,10.0118704438265)),s.points2.push(d(47.5,11.0434480519236)),s.points2.push(d(50,11.9794171576758)),s.points2.push(d(52.5,12.9591851832621)),s.points2.push(d(55,14.172107889304)),s.points2.push(d(57.5,15.5520057698488)),s.points2.push(d(60,17.2274942386092)),s.points2.push(d(62.5,18.6983982186757)),s.points2.push(d(65,20.4560332001448)),s.points2.push(d(67.5,22.4867327382261)),s.points2.push(d(70,24.5319674302041)),s.points2.push(d(72.5,26.600547815813)),s.points2.push(d(75,28.5210891459701)),s.points2.push(d(77.5,30.6793080755413)),s.points2.push(d(80,33.0546651200646)),s.points2.push(d(82.5,35.3256065179713)),s.points2.push(d(85,37.6336074839968)),s.points2.push(d(87.5,40.2012266359763)),s.points2.push(d(90,42.8923555399256)),s.points2.push(d(92.5,45.8665211907432)),s.points2.push(d(95,48.8200195945427)),s.points2.push(d(97.5,51.8304284402311)),s.points2.push(d(100,54.6969868542147)),s.points2.push(d(102.5,57.7047292990632)),s.points2.push(d(105,60.4216644602929)),s.points2.push(d(107.5,62.926258762519)),s.points2.push(d(110,65.1829734629407)),s.points2.push(d(112.5,67.2365592083133)),s.points2.push(d(115,69.5713628691022)),s.points2.push(d(117.5,71.7267046705944)),s.points2.push(d(120,73.633463102781)),s.points2.push(d(122.5,75.4660150158061)),s.points2.push(d(125,77.5669292504745)),s.points2.push(d(127.5,79.564218544664)),s.points2.push(d(130,81.8631309028078)),s.points2.push(d(132.5,83.9698189969034)),s.points2.push(d(135,86.3847886532009)),s.points2.push(d(137.5,88.5559348267764)),s.points2.push(d(140,91.0455050418365)),s.points2.push(d(142.5,93.6964157585504)),s.points2.push(d(145,96.284336864941)),s.points2.push(d(147.5,98.7508602689723)),s.points2.push(d(150,100.904510594255)),s.points2.push(d(152.5,103.266136681506)),s.points2.push(d(155,105.780951269521)),s.points2.push(d(157.5,108.032859257065)),s.points2.push(d(160,110.035478448093)),s.points2.push(d(162.5,112.10655731615)),s.points2.push(d(165,114.37480786097)),s.points2.push(d(167.5,116.403992550869)),s.points2.push(d(170,118.61663988727)),s.points2.push(d(172.5,120.538730287384)),s.points2.push(d(175,122.515721057177)),s.points2.push(d(177.5,124.474386629124)),s.points2.push(d(180,126.448283293214)),s.points2.push(d(182.5,128.373811322299)),s.points2.push(d(185,130.33627914667)),s.points2.push(d(187.5,132.487933658477)),s.points2.push(d(190,134.716989778456)),s.points2.push(d(192.5,136.817287595392)),s.points2.push(d(195,139.216488664698)),s.points2.push(d(197.5,141.50803227574)),s.points2.push(d(200,143.539586683614)),s.points2.push(d(202.5,145.535911545221)),s.points2.push(d(205,147.516964978686)),s.points2.push(d(207.5,149.592416731684)),s.points2.push(d(210,151.600983566512)),s.points2.push(d(212.5,153.498210993362)),s.points2.push(d(215,155.512606828247)),s.points2.push(d(217.5,157.426564302774)),s.points2.push(d(220,159.364474964172)),s.points2.push(d(222.5,161.152806492128)),s.points2.push(d(225,162.679069434562)),s.points2.push(d(227.5,163.893622036741)),s.points2.push(d(230,165.475827621238)),s.points2.push(d(232.5,167.303960444734)),s.points2.push(d(235,169.259393394952)),s.points2.push(d(237.5,171.265193646758)),s.points2.push(d(240,173.074304345192)),s.points2.push(d(242.5,174.975492766814)),s.points2.push(d(245,176.684088218484)),s.points2.push(d(247.5,178.406887247603)),s.points.push(d(0,5.0184649433561)),s.points.push(d(2.5,5.27685959268215)),s.points.push(d(5,5.81437064628786)),s.points.push(d(7.5,6.51022475040994)),s.points.push(d(10,7.49921246878766)),s.points.push(d(12.5,8.41941631823751)),s.points.push(d(15,9.09826907222079)),s.points.push(d(17.5,9.89500750098145)),s.points.push(d(20,10.6633345249404)),s.points.push(d(22.5,11.6249613445368)),s.points.push(d(25,12.8816391467497)),s.points.push(d(27.5,13.9665185705603)),s.points.push(d(30,14.8501816818724)),s.points.push(d(32.5,16.0683128022441)),s.points.push(d(35,17.5378799723172)),s.points.push(d(37.5,19.1262752954039)),s.points.push(d(40,20.4103953650735)),s.points.push(d(42.5,21.5430627723891)),s.points.push(d(45,22.9105459463366)),s.points.push(d(47.5,23.9802361888719)),s.points.push(d(50,24.8659461235003)),s.points.push(d(52.5,25.7303194442439)),s.points.push(d(55,26.7688545912359)),s.points.push(d(57.5,28.0545112571933)),s.points.push(d(60,29.7036634266394)),s.points.push(d(62.5,31.2273634344467)),s.points.push(d(65,33.1038196356519)),s.points.push(d(67.5,35.2639893610328)),s.points.push(d(70,37.434293559489)),s.points.push(d(72.5,39.7109359368267)),s.points.push(d(75,41.7573881676222)),s.points.push(d(77.5,44.0460374479862)),s.points.push(d(80,46.5098714746581)),s.points.push(d(82.5,48.7754012129155)),s.points.push(d(85,51.1619816926597)),s.points.push(d(87.5,53.9036778414639)),s.points.push(d(90,56.7448825012636)),s.points.push(d(92.5,59.9294987878434)),s.points.push(d(95,63.0148831289797)),s.points.push(d(97.5,66.0721745989622)),s.points.push(d(100,68.8980036274521)),s.points.push(d(102.5,71.7719322611447)),s.points.push(d(105,74.4206055336728)),s.points.push(d(107.5,76.816198386632)),s.points.push(d(110,79.0040432726983)),s.points.push(d(112.5,80.9617606926066)),s.points.push(d(115,83.1345574620341)),s.points.push(d(117.5,85.0701022046479)),s.points.push(d(120,86.8557530286516)),s.points.push(d(122.5,88.5673387745243)),s.points.push(d(125,90.6003321543338)),s.points.push(d(127.5,92.439864576254)),s.points.push(d(130,94.5383744861178)),s.points.push(d(132.5,96.4600166864507)),s.points.push(d(135,98.6091052949006)),s.points.push(d(137.5,100.496459351478)),s.points.push(d(140,102.705767030085)),s.points.push(d(142.5,105.009994476992)),s.points.push(d(145,107.31287026052)),s.points.push(d(147.5,109.584842542272)),s.points.push(d(150,111.641435600837)),s.points.push(d(152.5,113.988459973544)),s.points.push(d(155,116.50349048027)),s.points.push(d(157.5,118.753612704274)),s.points.push(d(160,120.801728924085)),s.points.push(d(162.5,122.902486914165)),s.points.push(d(165,125.104391935796)),s.points.push(d(167.5,127.06056966547)),s.points.push(d(170,129.217086578495)),s.points.push(d(172.5,131.151968896274)),s.points.push(d(175,133.159906275133)),s.points.push(d(177.5,135.065263957561)),s.points.push(d(180,137.041870026822)),s.points.push(d(182.5,138.937477489811)),s.points.push(d(185,140.776914926282)),s.points.push(d(187.5,142.786975776398)),s.points.push(d(190,144.862762377347)),s.points.push(d(192.5,146.89654967049)),s.points.push(d(195,149.204343821204)),s.points.push(d(197.5,151.369748673527)),s.points.push(d(200,153.324438580137)),s.points.push(d(202.5,155.173148715344)),s.points.push(d(205,157.0501827528)),s.points.push(d(207.5,159.109122278359)),s.points.push(d(210,161.044446932778)),s.points.push(d(212.5,162.942364031841)),s.points.push(d(215,164.966769883021)),s.points.push(d(217.5,166.89711806788)),s.points.push(d(220,168.906874949069)),s.points.push(d(222.5,170.85692034995)),s.points.push(d(225,172.602125010408)),s.points.push(d(227.5,173.964258466598)),s.points.push(d(230,175.629908385654)),s.points.push(d(232.5,177.495778359378)),s.points.push(d(235,179.432933300749)),s.points.push(d(237.5,181.400180771342)),s.points.push(d(240,183.232300309899)),s.points.push(d(242.5,185.225502661441)),s.points.push(d(245,186.979590140413)),s.points.push(d(247.5,188.816640077725)),s.title="Maximum/Minimum",i.series.push(s);const n=new $({color:p.Blue,markerFill:p.Transparent,dataFieldX:"Time",dataFieldY:"Value"});return n.points.push(d(0,-.011447056784037)),n.points.push(d(2.5,.179770542275985)),n.points.push(d(5,.6808537498493)),n.points.push(d(7.5,1.31859300249191)),n.points.push(d(10,2.24910068311687)),n.points.push(d(12.5,3.11980453160117)),n.points.push(d(15,3.71247338983811)),n.points.push(d(17.5,4.39481795774531)),n.points.push(d(20,5.02439428524784)),n.points.push(d(22.5,5.87249472528812)),n.points.push(d(25,6.97260592555283)),n.points.push(d(27.5,7.91976631331247)),n.points.push(d(30,8.71294011569719)),n.points.push(d(32.5,9.82998408944345)),n.points.push(d(35,11.208899776828)),n.points.push(d(37.5,12.7442103374955)),n.points.push(d(40,14.0180206081681)),n.points.push(d(42.5,15.1195629875034)),n.points.push(d(45,16.4612081950815)),n.points.push(d(47.5,17.5118421203978)),n.points.push(d(50,18.4226816405881)),n.points.push(d(52.5,19.344752313753)),n.points.push(d(55,20.47048124027)),n.points.push(d(57.5,21.8032585135211)),n.points.push(d(60,23.4655788326243)),n.points.push(d(62.5,24.9628808265612)),n.points.push(d(65,26.7799264178984)),n.points.push(d(67.5,28.8753610496295)),n.points.push(d(70,30.9831304948466)),n.points.push(d(72.5,33.1557418763199)),n.points.push(d(75,35.1392386567962)),n.points.push(d(77.5,37.3626727617638)),n.points.push(d(80,39.7822682973613)),n.points.push(d(82.5,42.0505038654434)),n.points.push(d(85,44.3977945883283)),n.points.push(d(87.5,47.0524522387201)),n.points.push(d(90,49.8186190205946)),n.points.push(d(92.5,52.8980099892933)),n.points.push(d(95,55.9174513617612)),n.points.push(d(97.5,58.9513015195966)),n.points.push(d(100,61.7974952408334)),n.points.push(d(102.5,64.738330780104)),n.points.push(d(105,67.4211349969828)),n.points.push(d(107.5,69.8712285745755)),n.points.push(d(110,72.0935083678195)),n.points.push(d(112.5,74.0991599504599)),n.points.push(d(115,76.3529601655682)),n.points.push(d(117.5,78.3984034376212)),n.points.push(d(120,80.2446080657163)),n.points.push(d(122.5,82.0166768951652)),n.points.push(d(125,84.0836307024042)),n.points.push(d(127.5,86.002041560459)),n.points.push(d(130,88.2007526944628)),n.points.push(d(132.5,90.2149178416771)),n.points.push(d(135,92.4969469740507)),n.points.push(d(137.5,94.5261970891274)),n.points.push(d(140,96.875636035961)),n.points.push(d(142.5,99.3532051177711)),n.points.push(d(145,101.798603562731)),n.points.push(d(147.5,104.167851405622)),n.points.push(d(150,106.272973097546)),n.points.push(d(152.5,108.627298327525)),n.points.push(d(155,111.142220874895)),n.points.push(d(157.5,113.39323598067)),n.points.push(d(160,115.418603686089)),n.points.push(d(162.5,117.504522115157)),n.points.push(d(165,119.739599898383)),n.points.push(d(167.5,121.732281108169)),n.points.push(d(170,123.916863232882)),n.points.push(d(172.5,125.845349591829)),n.points.push(d(175,127.837813666155)),n.points.push(d(177.5,129.769825293343)),n.points.push(d(180,131.745076660018)),n.points.push(d(182.5,133.655644406055)),n.points.push(d(185,135.556597036476)),n.points.push(d(187.5,137.637454717438)),n.points.push(d(190,139.789876077902)),n.points.push(d(192.5,141.856918632941)),n.points.push(d(195,144.210416242951)),n.points.push(d(197.5,146.438890474634)),n.points.push(d(200,148.432012631876)),n.points.push(d(202.5,150.354530130282)),n.points.push(d(205,152.283573865743)),n.points.push(d(207.5,154.350769505022)),n.points.push(d(210,156.322715249645)),n.points.push(d(212.5,158.220287512602)),n.points.push(d(215,160.239688355634)),n.points.push(d(217.5,162.161841185327)),n.points.push(d(220,164.135674956621)),n.points.push(d(222.5,166.004863421039)),n.points.push(d(225,167.640597222485)),n.points.push(d(227.5,168.928940251669)),n.points.push(d(230,170.552868003446)),n.points.push(d(232.5,172.399869402056)),n.points.push(d(235,174.346163347851)),n.points.push(d(237.5,176.33268720905)),n.points.push(d(240,178.153302327545)),n.points.push(d(242.5,180.100497714128)),n.points.push(d(245,181.831839179449)),n.points.push(d(247.5,183.611763662664)),n.title="Average",i.series.push(n),i}function Zo(){const i=new ei;return i.points.push(d(0,50)),i.points.push(d(10,40)),i.points.push(d(20,60)),i.points2.push(d(0,60)),i.points2.push(d(5,80)),i.points2.push(d(20,70)),i}const xf="AreaSeries",ff={category:xf,tags:["Series"],examples:[{title:"Default style",example:{model:lf}},{title:"Different stroke colors",example:{model:hf}},{title:"Crossing lines",example:{model:mf}},{title:"Custom TrackerFormatString",example:{model:uf}},{title:"Constant baseline (empty Points2)",example:{model:cf}},{title:"Constant baseline (empty Points2, ConstantY2=NaN)",example:{model:df}},{title:"Constant baseline (ItemsSource and DataField2 not set)",example:{model:pf}},{title:"LineSeries and AreaSeries",example:{model:gf}}]};function Ur(){const i=new y;i.title="With labels";const t=(a,l)=>a.value.toString(),e=new St(1),s=[new G({labelStringFormatter:t,labelPlacement:mt.Base,textColor:p.White,title:"Base"}),new G({labelStringFormatter:t,labelPlacement:mt.Inside,textColor:p.White,title:"Inside"}),new G({labelStringFormatter:t,labelPlacement:mt.Middle,textColor:p.White,title:"Middle"}),new G({labelStringFormatter:t,labelPlacement:mt.Outside,title:"Outside"})];for(let a=0;a<4;a++)for(const l of s)l.items.push(L.fromValue(e.next(-100,100)));const n=new K;n.position=x.Left,n.labels.push("Category A","Category B","Category C","Category D");const o=new w;o.position=x.Bottom,o.minimumPadding=.06,o.maximumPadding=.06,o.extraGridlines=[0];for(const a of s)i.series.push(a);return i.axes.push(n),i.axes.push(o),i}function wf(){const i=Ur();for(const t of i.series)t.labelAngle=-45;return i}const yf=()=>_s(!0,"Simple stacked model"),jr=()=>{const i=new y({title:"Multiple Value Axes"}),t=new K({position:x.Left}),e=new w({title:"Value Axis 1",position:x.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],endPosition:.5,key:"x1"}),s=new w({title:"Value Axis 2",position:x.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],startPosition:.5,key:"x2"});i.axes.push(t,e,s);const n=[new G({xAxisKey:"x1"}),new G({xAxisKey:"x1"}),new G({xAxisKey:"x2"}),new G({xAxisKey:"x2"})],o=new St(1);for(const a of n){for(let l=0;l<4;l++)a.items.push(L.fromValue(o.next(-100,100)));i.series.push(a)}return i},bf=()=>{const i=jr();i.title=`Stacked, ${i.title}`;for(const t of i.series)t.isStacked=!0;return i},Wr=()=>{const i=new y({title:"Multiple Category Axes"});i.legends.push(new W({isLegendVisible:!0,legendPosition:z.TopLeft,legendPlacement:pt.Inside}));const t=new w({position:x.Bottom,key:"x",extraGridlines:[0]}),e=new K({title:"Category Axis 1",position:x.Left,minimumPadding:.06,maximumPadding:.06,endPosition:.5,key:"y1"}),s=new K({title:"Category Axis 2",position:x.Left,minimumPadding:.06,maximumPadding:.06,startPosition:.5,key:"y2"});i.axes.push(t,e,s);const n=[new G({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1A"}),new G({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1B"}),new G({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2A"}),new G({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2B"})],o=new St;for(const a of n){for(let l=0;l<4;l++)a.items.push(L.fromValue(o.next(-100,100)));i.series.push(a)}return i},Sf=()=>{const i=Wr();i.title=`Stacked, ${i.title}`;for(const t of i.series)t.isStacked=!0;return i},Mf=()=>{const i=new y({title:"Empty series"}),t=new G({title:"Series 1"}),e=new G({title:"Series 2"}),s=new K({position:x.Left}),n=new w({position:x.Bottom,minimumPadding:0});return i.series.push(t,e),i.axes.push(s,n),i},kf=()=>{const i=new y({title:"No category axis defined"}),t=new G({title:"Series 1",itemsSource:[L.fromValue(25),L.fromValue(137)]}),e=new G({title:"Series 2",itemsSource:[L.fromValue(52),L.fromValue(317)]}),s=new w({position:x.Bottom,minimumPadding:0});return i.series.push(t,e),i.axes.push(s),i},Af=()=>{const i=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}],t=new y({title:"Binding to ItemsSource"}),e=new W({legendPlacement:pt.Outside});t.legends.push(e);const s=new K({position:x.Left,labelField:"label",itemsSource:i,majorStep:1,minorStep:1});t.axes.push(s);const n=new w({position:x.Bottom,absoluteMinimum:0,minimumPadding:0});t.axes.push(n);const o=new G({fillColor:r.fromArgb(255,78,154,6),valueField:"value1",title:"2009",itemsSource:i});t.series.push(o);const a=new G({fillColor:r.fromArgb(255,200,141,0),valueField:"value2",title:"2010",itemsSource:i});t.series.push(a);const l=new G({fillColor:r.fromArgb(255,204,0,0),valueField:"value3",title:"2011",itemsSource:i});return t.series.push(l),t},Rf=()=>{const i=new y({title:"Binding to ItemsSource",subtitle:"The items are defined by an array of BarItem/ColumnItem"});return i.series.push(new G({title:"Series 1",itemsSource:[new L({value:25}),new L({value:137})]})),i.series.push(new G({title:"Series 2",itemsSource:[new L({value:52}),new L({value:317})]})),i.axes.push(new K({position:x.Left})),i.axes.push(new w({position:x.Bottom,minimumPadding:0})),i},Tf=()=>{const i=new y({title:"Binding to ItemsSource",subtitle:"The items are defined by a List of BarItem/ColumnItem"});return i.series.push(new G({title:"Series 1",itemsSource:[new L({value:25}),new L({value:137})]})),i.series.push(new G({title:"Series 2",itemsSource:[new L({value:52}),new L({value:317})]})),i.axes.push(new K({position:x.Left})),i.axes.push(new w({position:x.Bottom,minimumPadding:0})),i},Cf=()=>{const i=new y({title:"Binding to ItemsSource",subtitle:"Reflect by 'ValueField'"});return i.series.push(new G({title:"Series 1",valueField:"value1",itemsSource:[{value1:25},{value1:137}]})),i.series.push(new G({title:"Series 2",valueField:"value1",itemsSource:[{value1:52},{value1:317}]})),i.axes.push(new K({position:x.Left})),i.axes.push(new w({position:x.Bottom,minimumPadding:0})),i},vf=()=>{const i=new y({title:"Defined by Items",subtitle:"The items are added to the `Items` property."}),t=new G({title:"Series 1"});t.items.push(new L({value:25}),new L({value:137}));const e=new G({title:"Series 2"});return e.items.push(new L({value:52}),new L({value:317})),i.series.push(t,e),i.axes.push(new K({position:x.Left})),i.axes.push(new w({position:x.Bottom,minimumPadding:0})),i};function Pf(){const i=new y({title:"Empty category axis"}),t=new G({title:"Series 1"});t.items.push(new L({value:25})),t.items.push(new L({value:137})),t.items.push(new L({value:18})),t.items.push(new L({value:40}));const e=new G({title:"Series 2"});e.items.push(new L({value:-12})),e.items.push(new L({value:-14})),e.items.push(new L({value:-120})),e.items.push(new L({value:-26}));const s=new K({position:x.Left}),n=new w({position:x.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:k.Solid,extraGridlineColor:p.Black,extraGridlineThickness:1});return i.series.push(t,e),i.axes.push(s,n),i}function Lf(){return Yr(!1,"With negative values")}function If(){return Yr(!0,"Stacked with negative values")}function Bf(){const i=_s(!1,"Mixed with LineSeries");i.title="Mixed with LineSeries";const t=new $({title:"LineSeries 1"});return t.points.push(d(25,0)),t.points.push(d(137,1)),t.points.push(d(18,2)),t.points.push(d(40,3)),i.series.push(t),i}function Df(){const i=_s(!1,"No axes defined");return i.axes.length=0,i}function Nf(){const i=_s(!0,"Stacked and no axes defined");return i.axes.length=0,i}function Ff(){const i=new y({title:"Logarithmic axis"}),t=new W({legendPlacement:pt.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,legendBorderThickness:0});i.legends.push(t);const e=new G({title:"Series 1",baseValue:.1,strokeColor:p.Black,strokeThickness:1});e.items.push(new L({value:25})),e.items.push(new L({value:37})),e.items.push(new L({value:18})),e.items.push(new L({value:40}));const s=new K({position:x.Left});return s.labels.push("Category A","Category B","Category C","Category D"),i.series.push(e),i.axes.push(s),i.axes.push(new wt({position:x.Bottom,minimum:.1,minimumPadding:0,absoluteMinimum:0})),i}function Vf(){const i=new y({title:"Logarithmic axis"}),t=new W({legendPlacement:pt.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,legendBorderThickness:0});i.legends.push(t);const e=new G({title:"Series 1",baseLine:.1,strokeColor:p.Black,strokeThickness:1});e.items.push(new L({value:25})),e.items.push(new L({value:37})),e.items.push(new L({value:18})),e.items.push(new L({value:40}));const s=new K({position:x.Left});return s.labels.push("Category A","Category B","Category C","Category D"),i.series.push(e),i.axes.push(s),i.axes.push(new wt({position:x.Bottom,minimumPadding:0,absoluteMinimum:0})),i}function Hr(){const i=new y({title:"Logarithmic axis"}),t=new W({legendPlacement:pt.Outside});i.legends.push(t);const e=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}];return i.series.push(new G({title:"2009",itemsSource:e,valueField:"value1"})),i.series.push(new G({title:"2010",itemsSource:e,valueField:"value2"})),i.series.push(new G({title:"2011",itemsSource:e,valueField:"value3"})),i.axes.push(new K({position:x.Left,itemsSource:e,labelField:"label"})),i.axes.push(new wt({position:x.Bottom,minimum:1})),i}function Ef(){const i=Hr();for(const t of i.series)t instanceof G&&(t.isStacked=!0);return i}function _f(){return Qo(1e5,5)}function Of(){return Qo(1e5,20)}function zf(){return Qo(1e5,200)}function $f(){return o2(1e5,2e3)}function Gf(){const i=new y({title:"Different colors within the same series"}),t=new G({title:"Series 1"});t.items.push(new L({value:1,color:p.Red})),t.items.push(new L({value:2,color:p.Green})),t.items.push(new L({value:1,color:p.Blue}));const e=new K({title:"Category",position:x.Left});return e.labels.push("A","B","C"),i.axes.push(e),i.series.push(t),i}function Uf(){const i=new y({title:"Stacking groups"}),t=new G({title:"Series 1",stackGroup:"1",isStacked:!0});t.items.push(new L({value:1})),t.items.push(new L({value:2})),i.series.push(t);const e=new G({title:"Series 2",stackGroup:"2",isStacked:!0});e.items.push(new L({value:2})),e.items.push(new L({value:1})),i.series.push(e);const s=new G({title:"Series 3",stackGroup:"1",isStacked:!0});s.items.push(new L({value:3})),s.items.push(new L({value:1})),i.series.push(s);const n=new K({title:"Category",position:x.Left});return n.labels.push("A","B"),i.axes.push(n),i}function jf(){const i=new y({title:"Different widths",subtitle:"Series1=0.6 and Series2=0.3"}),t=new G({title:"Series 1",barWidth:.6});t.items.push(new L({value:1})),t.items.push(new L({value:2})),i.series.push(t);const e=new G({title:"Series 2",barWidth:.3});e.items.push(new L({value:3})),e.items.push(new L({value:1})),i.series.push(e);const s=new K({title:"Category",position:x.Left});return s.labels.push("A","B"),i.axes.push(s),i}function Wf(){const i=new y({title:"Different widths (stacked)"}),t=new G({title:"Series 1",isStacked:!0,barWidth:.6});t.items.push(new L({value:1})),t.items.push(new L({value:2})),i.series.push(t);const e=new G({title:"Series 2",isStacked:!0,barWidth:.3});e.items.push(new L({value:3})),e.items.push(new L({value:1})),i.series.push(e);const s=new K({title:"Category",position:x.Left});return s.labels.push("A","B"),i.axes.push(s),i}function Hf(){const i=new y({title:"Invalid values",subtitle:"Series 1 contains a NaN value for category B."}),t=new G({title:"Series 1"});t.items.push(new L({value:1})),t.items.push(new L({value:NaN})),i.series.push(t);const e=new G({title:"Series 2"});e.items.push(new L({value:3})),e.items.push(new L({value:1})),i.series.push(e);const s=new K({title:"Category",position:x.Left});return s.labels.push("A","B"),i.axes.push(s),i}function Yf(){const i=new y({title:"Missing values",subtitle:"Series 1 contains only one item with CategoryIndex = 1"}),t=new G({title:"Series 1"});t.items.push(new L({value:1,categoryIndex:1})),i.series.push(t);const e=new G({title:"Series 2"});e.items.push(new L({value:3})),e.items.push(new L({value:1.2})),i.series.push(e);const s=new K({title:"Category",position:x.Left});return s.labels.push("A","B"),i.axes.push(s),i}function Xf(){const i=new y({title:"CategoryIndex",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),t=new G({title:"Series 1",strokeThickness:1});t.items.push(new L({value:1,categoryIndex:0})),t.items.push(new L({value:2,categoryIndex:0})),i.series.push(t);const e=new K({title:"Category",position:x.Left});return e.labels.push("A","B"),i.axes.push(e),i}function qf(){const i=new y({title:"CategoryIndex (stacked)",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),t=new G({title:"Series 1",isStacked:!0,strokeThickness:1});t.items.push(new L({value:1,categoryIndex:0})),t.items.push(new L({value:2,categoryIndex:0})),i.series.push(t);const e=new K({title:"Category",position:x.Left});return e.labels.push("A","B"),i.axes.push(e),i}function Kf(){const i=new y({title:"BaseValue",subtitle:"BaseValue = -1"}),t=new G({title:"Series 1",baseValue:-1});t.items.push(new L({value:1})),t.items.push(new L({value:2})),i.series.push(t);const e=new G({title:"Series 2",baseValue:-1});e.items.push(new L({value:4})),e.items.push(new L({value:7})),i.series.push(e);const s=new K({title:"Category",position:x.Left});return s.labels.push("A","B"),i.axes.push(s),i}function Zf(){const i=new y({title:"BaseValue (stacked)",subtitle:"BaseValue = -1"}),t=new G({title:"Series 1",isStacked:!0,baseValue:-1});t.items.push(new L({value:1})),t.items.push(new L({value:2})),i.series.push(t);const e=new G({title:"Series 2",isStacked:!0,baseValue:-1});e.items.push(new L({value:4})),e.items.push(new L({value:7})),i.series.push(e);const s=new K({title:"Category",position:x.Left});return s.labels.push("A","B"),i.axes.push(s),i}function Jf(){const i=new y({title:"BaseValue (overlaping)",subtitle:"BaseValue = -1"}),t=new G({title:"Series 1",isStacked:!0,overlapsStack:!0,baseValue:-1});t.items.push(new L({value:1})),t.items.push(new L({value:2})),i.series.push(t);const e=new G({title:"Series 2",isStacked:!0,overlapsStack:!0,baseValue:-1,barWidth:.5});e.items.push(new L({value:4})),e.items.push(new L({value:7})),i.series.push(e);const s=new K({title:"Category",position:x.Left});return s.labels.push("A","B"),i.axes.push(s),i}function Qf(){const i=new y({title:"BaseValue with Labels"});for(const e of $i(mt)){const s=new G({title:e.toString(),baseValue:-25,labelPlacement:e,labelStringFormatter:rs});s.items.push(new L({value:-40})),s.items.push(new L({value:-25})),s.items.push(new L({value:-10})),s.items.push(new L({value:0})),s.items.push(new L({value:10})),i.series.push(s)}const t=new K({title:"Category",position:x.Left,startPosition:1,endPosition:0});return t.labels.push("A","B","C","D","E"),i.axes.push(t),i.legends.push(new W),i}function t2(){const i=new y({title:"Stacked with Labels"});let t=0;for(const e of $i(mt)){const s=new K({title:"Category",position:x.Left,startPosition:1-t*.25,endPosition:.75-t*.25,key:`C${t}`}),n=new G({title:e.toString(),labelPlacement:e,labelStringFormatter:rs,isStacked:!0,yAxisKey:s.key});n.items.push(new L({value:5})),n.items.push(new L({value:10})),n.items.push(new L({value:15})),i.series.push(n);const o=new G({title:e.toString(),labelPlacement:e,labelStringFormatter:rs,isStacked:!0,yAxisKey:s.key});o.items.push(new L({value:15})),o.items.push(new L({value:10})),o.items.push(new L({value:5})),i.series.push(o),s.labels.push("A","B","C"),i.axes.push(s),t++}return i.legends.push(new W),i}function e2(){return Jo(0,"GapWidth 0%")}function i2(){return Jo(1,"GapWidth 100% (default)")}function s2(){return Jo(2,"GapWidth 200%")}function n2(){const i=new y({title:"All in one"}),t=new W({legendPlacement:pt.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,legendBorderThickness:0});i.legends.push(t);const e=new K({position:x.Left,gapWidth:.01});e.labels.push("Category A","Category B","Category C","Category D"),i.axes.push(e);const s=new w({position:x.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:k.Solid,extraGridlineColor:p.Black,extraGridlineThickness:1});i.axes.push(s);const n=0,o=1,a=2,l=3,h=new G({title:"Series 1",isStacked:!0,strokeColor:p.Black,strokeThickness:1,stackGroup:"3"});h.items.push(new L({value:25}),new L({value:137}),new L({value:18}),new L({value:40})),i.series.push(h);const m=new G({title:"Series 2",isStacked:!0,strokeColor:p.Black,strokeThickness:1,stackGroup:"3"});m.items.push(new L({value:-12}),new L({value:-14}),new L({value:-120}),new L({value:-26})),i.series.push(m);const c=new G({title:"Series 3",isStacked:!0,strokeColor:p.Black,strokeThickness:1,stackGroup:"5",isVisible:!1});c.items.push(new L({value:21}),new L({value:8}),new L({value:48}),new L({value:3})),i.series.push(c);const g=new G({title:"Series 4",isStacked:!0,strokeColor:p.Black,strokeThickness:1,stackGroup:"5",labelStringFormatter:rs,labelPlacement:mt.Middle});g.items.push(new L({value:-8,categoryIndex:n}),new L({value:-8,categoryIndex:n}),new L({value:-8,categoryIndex:n}),new L({value:-21,categoryIndex:o}),new L({value:-3,categoryIndex:a}),new L({value:-48,categoryIndex:l}),new L({value:8,categoryIndex:n}),new L({value:21,categoryIndex:o}),new L({value:3,categoryIndex:a}),new L({value:48,categoryIndex:l})),i.series.push(g);const f=new G({title:"Series 5",isStacked:!1,strokeColor:p.Black,strokeThickness:1});f.items.push(new L({value:17,categoryIndex:n}),new L({value:179,categoryIndex:o}),new L({value:45,categoryIndex:a}),new L({value:65,categoryIndex:l}),new L({value:97,categoryIndex:n}),new L({value:21,categoryIndex:l})),i.series.push(f);const b=new G({title:"Series 6",isStacked:!1,strokeColor:p.Black,strokeThickness:1,labelStringFormatter:rs,labelPlacement:mt.Base});b.items.push(new L({value:7}),new L({value:54}),new L({value:68}),new L({value:12})),i.series.push(b);const S=new G({title:"Series 7",isStacked:!0,overlapsStack:!0,strokeColor:p.Black,strokeThickness:1,labelStringFormatter:rs,labelPlacement:mt.Base,stackGroup:"3",barWidth:.5});return S.items.push(new L({value:10}),new L({value:80}),new L({value:100,categoryIndex:l})),i.series.push(S),i}const rs=i=>i.value.toString();function Jo(i,t){const e=_s(!1,t);return e.axes[0].gapWidth=i,e}function _s(i,t){const e=new y({title:t}),s=new W({legendPlacement:pt.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,legendBorderThickness:0});e.legends.push(s);const n=new G({title:"Series 1",isStacked:i,strokeColor:p.Black,strokeThickness:1});n.items.push(L.fromValue(25)),n.items.push(L.fromValue(137)),n.items.push(L.fromValue(18)),n.items.push(L.fromValue(40));const o=new G({title:"Series 2",isStacked:i,strokeColor:p.Black,strokeThickness:1});o.items.push(L.fromValue(12)),o.items.push(L.fromValue(14)),o.items.push(L.fromValue(120)),o.items.push(L.fromValue(26));const a=new K({position:x.Left});a.labels.push("Category A","Category B","Category C","Category D");const l=new w({position:x.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return e.series.push(n,o),e.axes.push(a,l),e}function Yr(i,t){const e=new y({title:t}),s=new W({legendPlacement:pt.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,legendBorderThickness:0});e.legends.push(s);const n=new G({title:"Series 1",isStacked:i,strokeColor:p.Black,strokeThickness:1});n.items.push(L.fromValue(25)),n.items.push(L.fromValue(137)),n.items.push(L.fromValue(18)),n.items.push(L.fromValue(40));const o=new G({title:"Series 2",isStacked:i,strokeColor:p.Black,strokeThickness:1});o.items.push(L.fromValue(-12)),o.items.push(L.fromValue(-14)),o.items.push(L.fromValue(-120)),o.items.push(L.fromValue(-26));const a=new G({title:"Series 3",isStacked:i,strokeColor:p.Black,strokeThickness:1});a.items.push(L.fromValue(21)),a.items.push(L.fromValue(8)),a.items.push(L.fromValue(48)),a.items.push(L.fromValue(3));const l=new G({title:"Series 4",isStacked:i,strokeColor:p.Black,strokeThickness:1});l.items.push(L.fromValue(-8)),l.items.push(L.fromValue(-21)),l.items.push(L.fromValue(-3)),l.items.push(L.fromValue(-48));const h=new K({position:x.Left});h.labels.push("Category A","Category B","Category C","Category D");const m=new w({position:x.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:k.Solid,extraGridlineColor:p.Black,extraGridlineThickness:1});return e.series.push(n,o,a,l),e.axes.push(h,m),e}function Qo(i,t){const e=[];for(let a=0;a<t;a++)e.push({label:a.toString(),value:0});const s=new St;for(let a=0;a<i;a++){const l=s.next(0,t-1);e[l].value++}const n=new y;n.title=`Histogram (bins=${t}, n=${i})`,n.subtitle="Pseudorandom numbers";const o=new G;return o.itemsSource=e,o.valueField="value",t<100&&(o.labelStringFormatter=(a,l)=>l[0].toString()),n.series.push(o),n.axes.push(new K({position:x.Left,itemsSource:e,labelField:"label",gapWidth:0})),n.axes.push(new w({position:x.Bottom,minimumPadding:0,maximumPadding:.1,absoluteMinimum:0})),n}function o2(i,t){const e=[];for(let m=0;m<t;m++){const c=-10+20*m/(e.length-1);e.push({label:c.toFixed(1),value:0})}const o=new St(31);for(let m=0;m<i;m++){const c=o.next(),g=o.next(),f=Math.sqrt(-2*Math.log(c))*Math.cos(2*Math.PI*g),b=Math.round((f- -10)/20*(e.length-1));b>=0&&b<e.length&&e[b].value++}const a=new y;a.title=`Histogram (bins=${t}, n=${i})`,a.subtitle="Standard normal distribution by Box-Muller transform";const l=new G;l.itemsSource=e,l.valueField="value",a.series.push(l);const h=new K({position:x.Left,gapWidth:0});return h.labels.push(...e.map(m=>m.label)),h.isAxisVisible=!1,a.axes.push(h),a.axes.push(new w({position:x.Left,minimum:-10,maximum:10})),a.axes.push(new w({position:x.Bottom,minimumPadding:0,absoluteMinimum:0})),a}const a2="BarSeries",r2={category:a2,tags:["Series"],examples:[{title:"With labels",example:{model:Ur}},{title:"With labels (at an angle)",example:{model:wf}},{title:"Stacked",example:{model:yf}},{title:"Multiple Value Axes",example:{model:jr}},{title:"Stacked, Multiple Value Axes",example:{model:bf}},{title:"Multiple Category Axes",example:{model:Wr}},{title:"Stacked, Multiple Category Axes",example:{model:Sf}},{title:"Empty series",example:{model:Mf}},{title:"No category axis defined",example:{model:kf}},{title:"Binding to ItemsSource",example:{model:Af}},{title:"Binding to ItemsSource (array)",example:{model:Rf}},{title:"Binding to ItemsSource (list)",example:{model:Tf}},{title:"Binding to ItemsSource (reflection)",example:{model:Cf}},{title:"Defined by Items",example:{model:vf}},{title:"Empty category axis",example:{model:Pf}},{title:"With negative values",example:{model:Lf}},{title:"Stacked with negative values",example:{model:If}},{title:"Mixed with LineSeries",example:{model:Bf}},{title:"No axes defined",example:{model:Df}},{title:"Stacked and no axes defined",example:{model:Nf}},{title:"Logarithmic axis (Base Value)",example:{model:Ff}},{title:"Logarithmic axis (Base Line)",example:{model:Vf}},{title:"Logarithmic axis (not stacked)",example:{model:Hr}},{title:"Logarithmic axis (stacked series)",example:{model:Ef}},{title:"Histogram (bins=5)",example:{model:_f}},{title:"Histogram (bins=20)",example:{model:Of}},{title:"Histogram (bins=200)",example:{model:zf}},{title:"Histogram (standard normal distribution)",example:{model:$f}},{title:"Different colors within the same series",example:{model:Gf}},{title:"Different stacking groups",example:{model:Uf}},{title:"Different widths",example:{model:jf}},{title:"Different widths (stacked)",example:{model:Wf}},{title:"Invalid values",example:{model:Hf}},{title:"Missing values",example:{model:Yf}},{title:"CategoryIndex",example:{model:Xf}},{title:"CategoryIndex (stacked)",example:{model:qf}},{title:"BaseValue",example:{model:Kf}},{title:"BaseValue (stacked)",example:{model:Zf}},{title:"BaseValue (overlaping)",example:{model:Jf}},{title:"BaseValue (labels)",example:{model:Qf}},{title:"Stacked (labels)",example:{model:t2}},{title:"GapWidth 0%",example:{model:e2}},{title:"GapWidth 100% (default)",example:{model:i2}},{title:"GapWidth 200%",example:{model:s2}},{title:"All in one",example:{model:n2}}]};function Os(){const t=new y({title:"BoxPlot (n=10)"}),e=new W({legendPlacement:pt.Outside});t.legends.push(e);const s=new Vo({title:"BoxPlotSeries",boxWidth:.3}),n=new St(31);for(let o=0;o<10;o++){const a=o,l=5+n.next(15),h=[];for(let R=0;R<l;R++)h.push(n.next(0,20));h.sort();const m=Gn(h),c=h.reduce((R,P)=>R+P,0)/h.length,g=h.length%2,f=Gn(h.slice(0,(h.length+g)/2)),b=Gn(h.slice((h.length-g)/2)),M=(b-f)*1.5;let T=b+M;T=Xt(h.filter(R=>R<=T));let C=f-M;C=Lt(h.filter(R=>R>=C));const v=[T+n.next(1,10),C-n.next(1,10)];s.items.push({x:a,lowerWhisker:C,boxBottom:f,median:m,boxTop:b,upperWhisker:T,mean:c,outliers:v})}return t.series.push(s),t.axes.push(new w({position:x.Left})),t.axes.push(new w({position:x.Bottom,minimumPadding:.1,maximumPadding:.1})),t}function Gn(i){const t=[...i].sort((s,n)=>s-n),e=t.length;return e%2===1?t[(e-1)/2]:.5*t[e/2]+.5*t[e/2-1]}function l2(){const i=Os(),t=i.series[0];return t.showMedianAsDot=!0,t.outlierType=F.Cross,t.fill=p.Black,t.showBox=!1,t.whiskerWidth=0,i}function h2(){const i=Os(),t=i.series[0];return t.lineStyle=k.Dash,i}function m2(){const i=Os(),t=i.series[0];return t.outlierType=F.Cross,i}function u2(){const i=Os(),t=i.series[0];return t.outlierType=F.Custom,t.outlierOutline=[A(-1,-1),A(1,1),A(-1,1),A(1,-1)],i}function c2(){const i=new y,t=new Vo({title:"Results",stroke:p.Black,strokeThickness:1,outlierSize:2,boxWidth:.4,items:[]});t.items.push({x:0,lowerWhisker:740,boxBottom:850,median:945,boxTop:980,upperWhisker:1070,outliers:[650]}),t.items.push({x:1,lowerWhisker:750,boxBottom:805,median:845,boxTop:890,upperWhisker:970,outliers:[]}),t.items.push({x:2,lowerWhisker:845,boxBottom:847,median:855,boxTop:880,upperWhisker:910,outliers:[640,950,970]}),t.items.push({x:3,lowerWhisker:720,boxBottom:760,median:820,boxTop:870,upperWhisker:910,outliers:[]}),t.items.push({x:4,lowerWhisker:730,boxBottom:805,median:807,boxTop:870,upperWhisker:950,outliers:[]}),i.series.push(t),i.annotations.push(new Nt({type:de.Horizontal,lineStyle:k.Solid,y:792.458,text:"true speed"}));const e=new K({title:"Experiment No."});return e.labels.push("1","2","3","4","5"),i.axes.push(e),i.axes.push(new w({position:x.Left,title:"Speed of light (km/s minus 299,000)",majorStep:100,minorStep:100})),i}function d2(){const i=Ze(),t=new y,e=It.toDouble(new Date(2013,5,4));t.axes.push(new It({position:x.Bottom,minimum:e-.9,maximum:e+1.9,intervalType:at.Days,majorStep:1,minorStep:1,stringFormatter:n=>i.format(n,"YYYY-MM-DD")}));const s=new Vo({trackerStringFormatter:n=>`X: ${i.format(n.xValue,"YYYY-MM-DD")}
Upper Whisker: ${n.upperWhisker.toFixed(2)}
Third Quartil: ${n.boxTop.toFixed(2)}
Median: ${n.median.toFixed(2)}
First Quartil: ${n.boxBottom.toFixed(2)}
Lower Whisker: ${n.lowerWhisker.toFixed(2)}
Mean: ${n.mean.toFixed(2)}`,items:[]});return s.items.push({x:e,lowerWhisker:10,boxBottom:14,median:16,boxTop:20,upperWhisker:22,mean:17,outliers:[23.5]}),s.items.push({x:e+1,lowerWhisker:11,boxBottom:13,median:14,boxTop:15,upperWhisker:18,outliers:[23.4]}),t.series.push(s),t}const p2="BoxPlotSeries",g2={category:p2,tags:["Series"],examples:[{title:"BoxPlot",example:{model:Os}},{title:"BoxPlot (minimal data/ink ratio)",example:{model:l2}},{title:"BoxPlot (dashed line)",example:{model:h2}},{title:"Outlier type = Cross",example:{model:m2}},{title:"Outlier type = Custom",example:{model:u2}},{title:"Michelson-Morley experiment",example:{model:c2}},{title:"BoxPlot (DateTime axis)",example:{model:d2}}]},ii=(i,t)=>3*(1-i)*(1-i)*Math.exp(-(i*i)-(t+1)*(t+1))-10*(i/5-i*i*i-t*t*t*t*t)*Math.exp(-i*i-t*t)-1/3*Math.exp(-(i+1)*(i+1)-t*t),x2=(i,t)=>i*i/(t*t+1)+t*t/(i*i+1),Zt=(i,t,e)=>Kt.createVectorWithStep(i,t,e);function f2(){const i=new y({title:"Peaks"}),t=new De({columnCoordinates:Zt(-3,3,.05),rowCoordinates:Zt(-3.1,3.1,.05)});return t.data=Kt.evaluate(ii,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function w2(){const i=new y({title:"Peaks LabelStep = 1, ContourLevelStep = PI/2"}),t=new De({columnCoordinates:Zt(-3,3,.05),rowCoordinates:Zt(-3.1,3.1,.05),contourLevelStep:Math.PI/2,labelStep:1});return t.data=Kt.evaluate(ii,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function y2(){const i=new y({title:"Peaks LabelStep = 2, ContourLevelStep = 0.5"}),t=new De({columnCoordinates:Zt(-3,3,.05),rowCoordinates:Zt(-3.1,3.1,.05),contourLevelStep:.5,labelStep:2});return t.data=Kt.evaluate(ii,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function b2(){const i=new y({title:"Peaks LabelStep = 2, ContourLevelStep = 0.33"}),t=new De({columnCoordinates:Zt(-3,3,.05),rowCoordinates:Zt(-3.1,3.1,.05),contourLevelStep:.33,labelStep:2});return t.data=Kt.evaluate(ii,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function S2(){const i=new y({title:"Peaks LabelStep = 3, ContourLevelStep = 1"}),t=new De({columnCoordinates:Zt(-3,3,.05),rowCoordinates:Zt(-3.1,3.1,.05),labelStep:3});return t.data=Kt.evaluate(ii,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function M2(){const i=new y({title:"Peaks MultiLabel"}),t=new De({columnCoordinates:Zt(-3,3,.05),rowCoordinates:Zt(-3.1,3.1,.05),multiLabel:!0});return t.data=Kt.evaluate(ii,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function k2(){const i=new y({title:"Peaks LabelSpacing = 400"}),t=new De({columnCoordinates:Zt(-3,3,.05),rowCoordinates:Zt(-3.1,3.1,.05),multiLabel:!0,labelSpacing:400});return t.data=Kt.evaluate(ii,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function A2(){const i=new y({title:"Peaks"}),t=new De({columnCoordinates:Zt(-3,3,.05),rowCoordinates:Zt(-3.1,3.1,.05),contourColors:[p.SeaGreen,p.RoyalBlue,p.IndianRed]});return t.data=Kt.evaluate(ii,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function R2(){const i=new y({title:"Peaks"});i.axes.push(new w({position:x.Left,minimum:-3.16262,maximum:3.162}));const t=new De({columnCoordinates:Zt(-3,3,.05),rowCoordinates:Zt(-1,1,.05)});return t.data=Kt.evaluate(ii,t.columnCoordinates,t.rowCoordinates),i.subtitle=`${t.data.length}×${t.data[0].length}`,i.series.push(t),i}function T2(){const i=new y,t=new De({columnCoordinates:Zt(-3,3,.05),rowCoordinates:Zt(-3,3,.05)});return t.data=Kt.evaluate(x2,t.columnCoordinates,t.rowCoordinates),i.series.push(t),i}function C2(){const i=(n,o)=>ii(Math.log(n)/10,Math.log(o)/10),t=new y,e=Zt(-3,3,.05);for(let n=0;n<e.length;n++)e[n]=Math.exp(e[n]*10);const s=new De({columnCoordinates:e,rowCoordinates:e});return s.data=Kt.evaluate(i,s.columnCoordinates,s.rowCoordinates),t.series.push(s),t.axes.push(new wt({position:x.Bottom})),t.axes.push(new wt({position:x.Left})),t}const v2="ContourSeries",P2={category:v2,tags:["Series"],examples:[{title:"Peaks",example:{model:f2}},{title:"Peaks LabelStep = 1, ContourLevelStep = PI/2",example:{model:w2}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.5",example:{model:y2}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.33",example:{model:b2}},{title:"Peaks LabelStep = 3, ContourLevelStep = 1",example:{model:S2}},{title:"Peaks MultiLabel",example:{model:M2}},{title:"Peaks LabelSpacing = 400",example:{model:k2}},{title:"Peaks (different contour colors)",example:{model:A2}},{title:"Peaks (wide array)",example:{model:R2}},{title:"Open Contours",example:{model:T2}},{title:"Logarithmic Peaks",example:{model:C2}}]};function Xr(){const i=new y({title:"ErrorBarSeries"}),t=new W({legendPlacement:pt.Outside,legendPosition:z.BottomCenter,legendOrientation:At.Horizontal,legendBorderThickness:0});i.legends.push(t);const e=new ho({title:"Series 1",isStacked:!1,strokeColor:p.Black,strokeThickness:1});e.items.push(new Si({value:25,error:2})),e.items.push(new Si({value:137,error:25})),e.items.push(new Si({value:18,error:4})),e.items.push(new Si({value:40,error:29}));const s=new ho({title:"Series 2",isStacked:!1,strokeColor:p.Black,strokeThickness:1});s.items.push(new Si({value:35,error:20})),s.items.push(new Si({value:17,error:7})),s.items.push(new Si({value:118,error:44})),s.items.push(new Si({value:49,error:29}));const n=new K({position:x.Left});n.labels.push("Category A"),n.labels.push("Category B"),n.labels.push("Category C"),n.labels.push("Category D");const o=new w({position:x.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return i.series.push(e),i.series.push(s),i.axes.push(n),i.axes.push(o),i}function L2(){const i=Xr();for(const t of i.series)t instanceof ho&&(t.errorWidth=0,t.errorStrokeThickness=4);return i}const I2="ErrorBarSeries",B2={category:I2,tags:["Series"],examples:[{title:"ErrorBarSeries",example:{model:Xr}},{title:"ErrorBarSeries (thick error lines)",example:{model:L2}}]};function D2(){const i=new y({title:"Line Fit"}),t=new Vt({title:"Data"});t.points.push({x:3,y:1.4}),t.points.push({x:4,y:1.3}),t.points.push({x:5,y:1.6}),t.points.push({x:6,y:2.3}),t.points.push({x:7,y:2.2}),t.points.push({x:8,y:2.5}),t.points.push({x:9,y:2.9}),t.points.push({x:10,y:3.1}),t.points.push({x:11,y:3.1}),t.points.push({x:12,y:3.8}),i.series.push(t);const{slope:e,intercept:s}=Kr(t.points),n=new ms({title:"Fit",color:p.Black,lineStyle:k.Solid,extrapolationColor:p.DarkGray,extrapolationLineStyle:k.Dash,strokeThickness:3,ignoreExtraplotationForScaling:!0});n.intervals.push(new we(Number.NEGATIVE_INFINITY,Lt(t.points.map(l=>l.x)))),n.intervals.push(new we(Xt(t.points.map(l=>l.x)),Number.POSITIVE_INFINITY));const o=Array.from({length:200},(l,h)=>h-100).map(l=>d(l,e*l+s));n.points.push(...o),i.series.push(n);const a=new W({legendPosition:z.BottomRight});return i.legends.push(a),i}function qr(){const i=new y({title:"Interpolation"}),t=new ms({title:"Third Order Polynomial",color:p.Black,lineStyle:k.Dash,extrapolationColor:p.Gray,extrapolationLineStyle:k.Dot,strokeThickness:3});t.intervals.push(new we(Number.NEGATIVE_INFINITY,-15)),t.intervals.push(new we(10,30)),t.intervals.push(new we(55,Number.POSITIVE_INFINITY));const e=[.1,-6,-12,0],s=(a,l)=>l.reduce((h,m)=>h*a+m,0),n=Array.from({length:100},(a,l)=>l-30).map(a=>d(a,s(a,e)));t.points.push(...n),i.series.push(t);const o=new W({legendPosition:z.TopCenter});return i.legends.push(o),i}function N2(){return ce.reverseYAxis(qr())}function F2(){const i=new y({title:"Intersecting Intervals"}),t=new we(-20,20),e=new we(0,30),s=new we(10,40),n=new ms({title:`Overlapping intervals ${t}, ${e}, ${s}`,color:p.Black,lineStyle:k.Solid,extrapolationColor:p.Gray,extrapolationLineStyle:k.Dot,strokeThickness:3});n.intervals.push(t,e,s);const o=[.1,-6,-12,0],a=(m,c)=>c.reduce((g,f)=>g*m+f,0),l=Array.from({length:100},(m,c)=>c-30).map(m=>d(m,a(m,o)));n.points.push(...l),i.series.push(n);const h=new W({legendPosition:z.TopCenter});return i.legends.push(h),i}function V2(){const i=new y({title:"Custom Dashes"}),t=new ms({title:"y = 5",color:p.Black,lineStyle:k.Dash,dashes:[5,1],extrapolationColor:p.Gray,extrapolationLineStyle:k.Dot,extrapolationDashes:[1,5],strokeThickness:3});t.intervals.push(new we(Number.NEGATIVE_INFINITY,0));const e=Array.from({length:200},(n,o)=>o-100).map(n=>d(n,5));t.points.push(...e),i.series.push(t);const s=new W({legendPosition:z.TopCenter});return i.legends.push(s),i}function E2(){const i=new y({title:"ManyIntervals"}),t=new ms({title:"y = x",color:p.Red,lineStyle:k.Solid,extrapolationLineStyle:k.Solid,strokeThickness:3,ignoreExtraplotationForScaling:!0});t.intervals.push(new we(-1e3,1e4)),Array.from({length:98},(o,a)=>new we(1e3*a,1e3*a+500)).forEach(o=>t.intervals.push(o)),t.intervals.push(new we(2e5,Number.POSITIVE_INFINITY));const s=Array.from({length:1e5},(o,a)=>d(a,a));t.points.push(...s),i.series.push(t);const n=new W({legendPosition:z.TopCenter});return i.legends.push(n),i}function _2(){const i=new y({title:"Moore's Law"}),t=new Vt({title:"Data"});t.points.push(...$2()),i.series.push(t),i.axes.push(new w({title:"Year",position:x.Bottom})),i.axes.push(new wt({title:"Transistors (in thousands)",position:x.Left}));const{slope:e,intercept:s}=Kr(t.points.map(l=>({x:l.x,y:Math.log10(l.y)}))),n=new ms({title:"Fit and Extrapolation",color:p.Black,lineStyle:k.Solid,extrapolationColor:p.Blue,extrapolationLineStyle:k.Dot,strokeThickness:3});n.intervals.push(new we(2015,Number.POSITIVE_INFINITY));const o=Array.from({length:55},(l,h)=>h+1970).map(l=>d(l,Math.pow(10,e*l+s)));n.points.push(...o),i.series.push(n);const a=new W({legendPosition:z.TopCenter});return i.legends.push(a),i}function Kr(i){if(i===void 0)throw new Error("points is undefined");if(i.length<2)throw new Error("at least two points required");const t=i.reduce((l,h)=>l+h.x,0)/i.length,e=i.reduce((l,h)=>l+h.y,0)/i.length,s=O2(i,t,e),n=z2(i.map(l=>l.x)),o=s/n,a=e-o*t;return{slope:o,intercept:a}}function O2(i,t,e){let s=i.reduce((n,o)=>n+o.x*o.y,0);return s-=i.length*t*e,s/=i.length-1,s}function z2(i){const t=i.reduce((s,n)=>s+n,0)/i.length;let e=i.reduce((s,n)=>s+n*n,0);return e-=i.length*t*t,e/=i.length-1,e}function $2(){return[{x:1971.875,y:2.30824152676},{x:1972.30769231,y:3.55452235561},{x:1974.32692308,y:6.09756235221},{x:1979.56730769,y:29.1637757405},{x:1982.30769231,y:135.772714211},{x:1985.91346154,y:273.841963426},{x:1986.25,y:109.411381058},{x:1988.65384615,y:121.881418484},{x:1989.47115385,y:1207.90074743},{x:1990.57692308,y:1207.90074743},{x:1992.40384615,y:1207.90074743},{x:1992.69230769,y:3105.90022362},{x:1992.69230769,y:1113.97385999},{x:1993.02884615,y:1715.43789634},{x:1993.41346154,y:3105.90022362},{x:1993.41346154,y:922.239565104},{x:1994.71153846,y:1910.95297497},{x:1994.71153846,y:2788.12666541},{x:1995.43269231,y:9646.61619911},{x:1995.72115385,y:3105.90022362},{x:1996.15384615,y:5473.70326288},{x:1996.34615385,y:6792.52507006},{x:1996.34615385,y:3651.74127255},{x:1996.44230769,y:4293.51021008},{x:1996.82692308,y:9646.61619911},{x:1997.35576923,y:5473.70326288},{x:1997.45192308,y:3554.52235561},{x:1997.54807692,y:8896.4911282},{x:1997.64423077,y:7566.6953714},{x:1998.89423077,y:15261.3780258},{x:1999.13461538,y:9389.79801048},{x:1999.18269231,y:6978.3058486},{x:1999.47115385,y:9389.79801048},{x:1999.47115385,y:21673.9216957},{x:2000.19230769,y:22266.7201035},{x:2000.67307692,y:28387.3596476},{x:2000.67307692,y:37180.2666391},{x:2001.10576923,y:29163.7757405},{x:2001.20192308,y:42550.6550247},{x:2001.68269231,y:25482.9674798},{x:2001.82692308,y:37180.2666391},{x:2002.40384615,y:55730.6040127},{x:2002.78846154,y:38197.1754928},{x:2002.88461538,y:220673.406908},{x:2003.41346154,y:151247.254531},{x:2003.50961538,y:54246.9093701},{x:2003.65384615,y:106498.563535},{x:2004.80769231,y:125214.968907},{x:2004.80769231,y:106498.563535},{x:2004.80769231,y:273841.963426},{x:2005.72115385,y:232909.659246},{x:2005.81730769,y:112403.866377},{x:2005.96153846,y:305052.789027},{x:2006.05769231,y:115478.198469},{x:2006.875,y:378551.524926},{x:2006.875,y:155383.983127},{x:2006.92307692,y:245824.406892},{x:2006.97115385,y:296931.48482},{x:2006.97115385,y:582941.534714},{x:2007.06730769,y:151247.254531},{x:2007.64423077,y:582941.534714},{x:2007.74038462,y:232909.659246},{x:2007.78846154,y:805842.187761},{x:2007.83653846,y:115478.198469},{x:2007.98076923,y:509367.521678},{x:2008.22115385,y:445079.406236},{x:2008.46153846,y:410469.838044},{x:2009.18269231,y:457252.669897},{x:2009.27884615,y:784388.558145},{x:2009.66346154,y:230824152676e-5},{x:2009.71153846,y:191095297497e-5},{x:2010.19230769,y:410469.838044},{x:2010.38461538,y:13097472643e-4},{x:2011.16,y:117e4},{x:2011.32,y:26e5},{x:2011.9,y:12e5},{x:2012.4,y:24e5},{x:2012.41,y:23e5},{x:2012.7,y:21e5},{x:2012.9,y:12e5},{x:2013.4,y:5e6},{x:2013.8,y:43e5},{x:2014.16,y:43e5},{x:2014.5,y:42e5},{x:2014.8,y:26e5},{x:2014.81,y:38e5},{x:2014.82,y:57e5}]}const G2="ExtrapolationLineSeries",U2={category:G2,tags:["Series"],examples:[{title:"Line Fit (Ignore Extrapolation For Scaling)",example:{model:D2}},{title:"Interpolation",example:{model:qr}},{title:"Interpolation (Y Axis reversed)",example:{model:N2}},{title:"Intersecting Intervals",example:{model:F2}},{title:"Custom Dashes",example:{model:V2}},{title:"Many Intervals",example:{model:E2}},{title:"Moore's Law",example:{model:_2}}]};function j2(){return lw(25)}function W2(){return xs(i=>2*Math.cos(2*i)*Math.cos(i),i=>2*Math.cos(2*i)*Math.sin(i),0,Math.PI*2,1e3,"Parametric function","Using the CartesianAxes property","2cos(2t)cos(t) , 2cos(2t)sin(t)")}function H2(){return xs(i=>3*Math.sin(5*i),i=>3*Math.cos(3*i),0,Math.PI*2,1e3,"Parametric function",void 0,"3sin(5t) , 3cos(3t)")}function Y2(){return xs(i=>2*Math.cos(i)+Math.cos(8*i),i=>2*Math.sin(i)+Math.sin(8*i),0,Math.PI*2,1e3,"Parametric function",void 0,"2cos(t)+cos(8t) , 2sin(t)+sin(8t)")}function X2(){return xs(t=>1*Math.sqrt(2)*Math.cos(t)/(Math.sin(t)*Math.sin(t)+1),t=>1*Math.sqrt(2)*Math.cos(t)*Math.sin(t)/(Math.sin(t)*Math.sin(t)+1),0,Math.PI*2,1e3,"Lemniscate of Bernoulli")}function q2(){return xs(i=>Math.cos(i),i=>Math.sin(2*i)/2,0,Math.PI*2,1e3,"Lemniscate of Gerono")}function K2(){const e=Math.PI/2;return xs(s=>Math.sin(3*s+e),s=>Math.sin(2*s),0,Math.PI*2,1e3,"Lissajous figure",void 0,"a=3, b=2, δ = π/2")}function Z2(){const i=new y({title:"Rose curve",plotType:rt.Polar,plotAreaBorderThickness:new X(0)});i.axes.push(new re({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:k.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"π"})),i.axes.push(new Ae({majorGridlineStyle:k.Solid}));const t=4,e=3,s=e/t;return i.series.push(new tt({fx:n=>Math.sin(s*n),fy:n=>n,t0:0,t1:Math.PI*2*t,n:1e3,title:`d=${t}, n=${e}`})),i}function J2(){const i=new y({title:"Limaçon of Pascal",plotType:rt.Cartesian});for(let t=4;t<=4;t++)for(let e=0;e<=10;e++)i.series.push(new tt({fx:s=>t/2+e*Math.cos(s)+t/2*Math.cos(2*s),fy:s=>e*Math.sin(s)+t/2*Math.sin(2*s),t0:0,t1:Math.PI*2,n:1e3,title:`a=${t}, b=${e}`}));return i}function Q2(){const i=new y({title:"Folium of Descartes",plotType:rt.Cartesian});i.axes.push(new w({position:x.Left,minimum:-3,maximum:3})),i.axes.push(new w({position:x.Bottom,minimum:-3,maximum:3}));const t=1;return i.series.push(new tt({fx:e=>3*t*e/(Math.pow(e,3)+1),fy:e=>3*t*Math.pow(e,2)/(Math.pow(e,3)+1),t0:-30,t1:30,n:1001,title:`a=${t}`})),i}function tw(){const i=new y({title:"Trisectrix of Maclaurin",plotType:rt.Cartesian}),t=1;return i.series.push(new tt({fx:e=>t*(e*e-3)/(e*e+1),fy:e=>t*e*(e*e-3)/(e*e+1),t0:-5,t1:5,n:1e3})),i}function ew(){const i=new y({title:"Fermat's spiral",plotType:rt.Cartesian}),t=1;return i.series.push(new tt({fx:e=>t*Math.sqrt(e)*Math.cos(e),fy:e=>t*Math.sqrt(e)*Math.sin(e),t0:0,t1:20,n:1e3})),i.series.push(new tt({fx:e=>-t*Math.sqrt(e)*Math.cos(e),fy:e=>-t*Math.sqrt(e)*Math.sin(e),t0:0,t1:20,n:1e3})),i}function iw(){const i=new y({title:"Fish curve",plotType:rt.Cartesian});for(let t=.1;t<1;t+=.1)i.series.push(new tt({fx:e=>t*(Math.cos(e)-Math.sin(e)*Math.sin(e)/Math.sqrt(2)),fy:e=>t*Math.cos(e)*Math.sin(e),t0:0,t1:2*Math.PI,n:1e3}));return i}function sw(){const i=new y({title:"Heaviside step function",plotType:rt.Cartesian});return i.series.push(new tt({f:t=>Math.abs(t)<1e-8?NaN:t<0?0:1,x0:-2,x1:2,dx:.001})),i.annotations.push(new Nt({type:de.Vertical,color:i.defaultColors[0],x:0,minimumY:0,maximumY:1})),i}function nw(){const i=new y({title:"Trigonometric functions",subtitle:"Example using the FunctionSeries",plotType:rt.Cartesian,plotAreaBackground:p.White});return i.series.push(new tt({f:Math.sin,x0:-10,x1:10,dx:.1,title:"sin(x)"})),i.series.push(new tt({f:Math.cos,x0:-10,x1:10,dx:.1,title:"cos(x)"})),i.series.push(new tt({fx:t=>5*Math.cos(t),fy:t=>5*Math.sin(t),t0:0,t1:2*Math.PI,n:1e3,title:"cos(t),sin(t)"})),i}function ow(){const i=new y({title:"Squirqle",plotType:rt.Cartesian});return i.series.push(rn(4,1,1)),i}function aw(){const i=new y({title:"Superellipse",plotType:rt.Cartesian}),t=rn(20,1,1);return t.markerType=F.Circle,i.series.push(t),i}function rw(){const i=new y({title:"Lamé curves",plotType:rt.Cartesian}),t=new W({legendPlacement:pt.Outside});i.legends.push(t);for(let e=.25;e<2;e+=.25)i.series.push(rn(e,1,1));for(let e=2;e<=8+1e-6;e+=1)i.series.push(rn(e,1,1));return i}function lw(i=25){const t=new y({title:"Square wave (Gibbs phenomenon)"}),e=n=>{let o=0;for(let a=0;a<i;a++){const l=a*2+1;o+=Math.sin(l*n)/l}return o},s=new tt({f:e,x0:-10,x1:10,dx:1e-4,title:`sin(x)+sin(3x)/3+sin(5x)/5+...+sin(${2*i-1})/${2*i-1}`});return t.series.push(s),t.subtitle=`n = ${s.points.length}`,t.axes.push(new w({position:x.Left,minimum:-4,maximum:4})),t.axes.push(new w({position:x.Bottom})),t}function rn(i,t,e){return new tt({fx:s=>t*Math.sign(Math.cos(s))*Math.pow(Math.abs(Math.cos(s)),2/i),fy:s=>e*Math.sign(Math.sin(s))*Math.pow(Math.abs(Math.sin(s)),2/i),t0:0,t1:Math.PI*2,n:101,title:`n=${i}, a=${t}, b=${e}`})}function xs(i,t,e,s,n,o,a,l){const h=new y({title:o,subtitle:a,plotType:rt.Cartesian});return h.series.push(new tt({fx:i,fy:t,t0:e,t1:s,n,title:l})),h}const hw="FunctionSeries",mw={category:hw,tags:["Series"],examples:[{title:"Square wave",example:{model:j2}},{title:"Parametric function 1",example:{model:W2}},{title:"Parametric function 2",example:{model:H2}},{title:"Parametric function 3",example:{model:Y2}},{title:"Lemniscate of Bernoulli",example:{model:X2}},{title:"Lemniscate of Gerono",example:{model:q2}},{title:"Lissajous figure",example:{model:K2}},{title:"Rose curve",example:{model:Z2}},{title:"Limaçon of Pascal",example:{model:J2}},{title:"Folium of Descartes",example:{model:Q2}},{title:"Trisectrix of Maclaurin",example:{model:tw}},{title:"Fermat's spiral",example:{model:ew}},{title:"Fish curve",example:{model:iw}},{title:"Heaviside step function",example:{model:sw}},{title:"FunctionSeries",example:{model:nw}},{title:"Squirqle",example:{model:ow}},{title:"Superellipse n=20",example:{model:aw}},{title:"Lamé curves",example:{model:rw}}]};function uw(){return ta()}function cw(){return ta(!0)}function dw(){return ta(!0,1,1e4,.1)}function Zr(){const i=new y({title:"Label Placement"}),t=new Ke({labelPlacement:mt.Base,labelStringFormatter:o=>"Base",strokeThickness:1,labelMargin:5}),e=new Ke({labelPlacement:mt.Inside,labelStringFormatter:o=>"Inside",strokeThickness:1,labelMargin:5}),s=new Ke({labelPlacement:mt.Middle,labelStringFormatter:o=>"Middle",strokeThickness:1,labelMargin:5}),n=new Ke({labelPlacement:mt.Outside,labelStringFormatter:o=>"Outside",strokeThickness:1,labelMargin:5});return t.items.push(new Pe(1,2,4,4)),t.items.push(new Pe(2,3,-4,4)),e.items.push(new Pe(3,4,2,2)),e.items.push(new Pe(4,5,-2,2)),s.items.push(new Pe(5,6,3,3)),s.items.push(new Pe(6,7,-3,3)),n.items.push(new Pe(7,8,1,1)),n.items.push(new Pe(8,9,-1,-1)),i.series.push(t),i.series.push(e),i.series.push(s),i.series.push(n),i}function pw(){const i=Zr();return ce.reverseYAxis(i),i}function gw(){const i=Jr(),t=i.series[0];return t.labelStringFormatter=e=>`Start: ${e.rangeStart.toFixed(2)}
End: ${e.rangeEnd.toFixed(2)}
Value: ${e.value.toFixed(2)}
Area: ${e.area.toFixed(2)}
Count: ${e.count}`,t.labelPlacement=mt.Inside,i}function xw(){return Sw()}function fw(){return Jr()}function ww(){return Mw()}function yw(){return kw()}function bw(){const i=new y({title:"Custom Item Mapping"}),t=new Ke({mapping:e=>e,trackerStringFormatter:e=>e.item.description});return t.items.push(new Ys(1,2,4,4,"Item 1")),t.items.push(new Ys(2,3,-4,4,"Item 2")),t.items.push(new Ys(3,4,2,2,"Item 3")),t.items.push(new Ys(4,5,-2,2,"Item 4")),i.series.push(t),i}class Ys extends Pe{constructor(t,e,s,n,o){super(t,e,s,n),this.description=o}}function ta(i=!1,t=1,e=1e4,s=0){const n=new y({title:i?"Exponential Distribution (logarithmic)":"Exponential Distribution",subtitle:`Uniformly distributed bins (${e} samples)`});n.axes.push(i?new wt({position:x.Left,title:"Frequency"}):new w({position:x.Left,title:"Frequency"})),n.axes.push(new w({position:x.Bottom,title:"x"}));const o=new St(1),a=new Ke,l=new wn(ki.CountOutliers,us.InclusiveLowerBound,zi.ExcludeExtremeValues),h=wi.createUniformBins(0,5,15);return a.items.push(...wi.collect(Qr(o,t,e),h,l)),a.strokeThickness=1,a.baseValue=s,a.negativeFillColor=p.Red,n.series.push(a),n}function Sw(i=1,t=5e4){const e=new y({title:"Exponential Distribution",subtitle:`Custom bins (${t} samples)`});e.axes.push(new w({position:x.Left,title:"Frequency"})),e.axes.push(new w({position:x.Bottom,title:"x"}));const s=new St(1),n=new Ke,o=new wn(ki.CountOutliers,us.InclusiveLowerBound,zi.ExcludeExtremeValues);return n.items.push(...wi.collect(Qr(s,i,t),[0,.1,.2,.3,.4,.5,.75,1,2,3,4,5],o)),n.strokeThickness=1,n.fillColor=p.Purple,e.series.push(n),e}function Mw(i=0,t=1,e=1e6){const s=new y({title:`Normal Distribution (μ=${i}, σ=${t})`,subtitle:`95% of the distribution (${e} samples)`});s.axes.push(new w({position:x.Left,title:"Frequency"})),s.axes.push(new w({position:x.Bottom,title:"x"}));const n=new St(1),o=new Ke,a=new wn(ki.CountOutliers,us.InclusiveLowerBound,zi.ExcludeExtremeValues),l=wi.createUniformBins(-t*4,t*4,100);o.items.push(...wi.collect(Rw(n,i,t,e),l,a)),o.strokeThickness=1;const h=i+1.96*t,m=i-1.96*t,c=p.DarkRed,g=p.DarkRed;return o.colorMapping=f=>f.rangeCenter>h?c:f.rangeCenter<m?g:o.actualFillColor,s.series.push(o),s}function Jr(){const i=new y({title:"Disconnected Bins"});i.axes.push(new w({position:x.Left,title:"Representation"})),i.axes.push(new w({position:x.Bottom,title:"x"}));const t=new Ke;return t.items.push(new Pe(0,.5,10,7),new Pe(.75,1,10,7)),t.labelStringFormatter=e=>e.value.toFixed(2),t.labelPlacement=mt.Middle,i.series.push(t),i}function kw(i=1,t=1e4){const e=new y({title:"Individual Bin Colors",subtitle:"Minimum is Red, Maximum is Green"});e.axes.push(new w({position:x.Left,title:"Frequency"})),e.axes.push(new w({position:x.Bottom,title:"Observation"}));const s=new St(1),n=new Ke({fillColor:p.Gray,renderInLegend:!0,title:"Measurements"}),o=new wn(ki.CountOutliers,us.InclusiveLowerBound,zi.ExcludeExtremeValues),a=wi.createUniformBins(0,10,20),l=wi.collect(Cw(s,0,10,1e3),a,o).sort((h,m)=>h.count-m.count);return l[0].color=p.Red,l[l.length-1].color=p.Green,n.items.push(...l),n.strokeThickness=1,e.series.push(n),e}function Qr(i,t,e){const s=[];for(let n=0;n<e;n++)s.push(Aw(i,t));return s}function Aw(i,t){return Math.log(1-i.next())/-t}function Rw(i,t,e,s){const n=[];for(let o=0;o<s;o++)n.push(Tw(i,t,e));return n}function Tw(i,t,e){const s=1-i.next(),n=i.next();return Math.sqrt(-2*Math.log(s))*Math.cos(2*Math.PI*n)*e+t}function Cw(i,t,e,s){const n=[];for(let o=0;o<s;o++)n.push(i.next()*(e-t)+t);return n}const vw="HistogramSeries",Pw={category:vw,tags:["Series"],examples:[{title:"Exponential Distribution",example:{model:uw}},{title:"Exponential Distribution (logarithmic)",example:{model:cw}},{title:"Exponential Distribution (logarithmic,with BaseValue)",example:{model:dw}},{title:"Label Placement",example:{model:Zr}},{title:"Label Placement (reversed Y Axis)",example:{model:pw}},{title:"Label formatter",example:{model:gw}},{title:"Custom Bins",example:{model:xw}},{title:"Disconnected Bins",example:{model:fw}},{title:"Normal Distribution Three Colors",example:{model:ww}},{title:"Individual Bin Colors",example:{model:yw}},{title:"Custom Item Mapping",example:{model:bw}}]};function Lw(){const i=new y({title:"IntervalBarSeries"}),t=new W({legendPlacement:pt.Outside});i.legends.push(t);const e=new Xe({title:"IntervalBarSeries 1"});e.items.push(new Dt({start:6,end:8})),e.items.push(new Dt({start:4,end:8})),e.items.push(new Dt({start:5,end:11})),e.items.push(new Dt({start:4,end:12})),i.series.push(e);const s=new Xe({title:"IntervalBarSeries 2"});s.items.push(new Dt({start:8,end:9})),s.items.push(new Dt({start:8,end:10})),s.items.push(new Dt({start:11,end:12})),s.items.push(new Dt({start:12,end:12.5})),i.series.push(s);const n=new K({position:x.Left});n.labels.push("Activity A"),n.labels.push("Activity B"),n.labels.push("Activity C"),n.labels.push("Activity D");const o=new w({position:x.Bottom,minimumPadding:.1,maximumPadding:.1});return i.axes.push(n),i.axes.push(o),i}function Iw(){const i=new y({title:"IntervalBarSeries"}),t=new W({legendPlacement:pt.Outside});i.legends.push(t);const e=new Xe({title:"IntervalBarSeries 1",labelPlacement:mt.Outside});e.items.push(new Dt({start:6,end:8,categoryIndex:0})),e.items.push(new Dt({start:10,end:12,categoryIndex:0})),i.series.push(e);const s=new Xe({title:"IntervalBarSeries 2",labelPlacement:mt.Inside});s.items.push(new Dt({start:4,end:8,categoryIndex:1})),s.items.push(new Dt({start:10,end:12,categoryIndex:1})),i.series.push(s);const n=new Xe({title:"IntervalBarSeries 3",labelPlacement:mt.Middle});n.items.push(new Dt({start:5,end:11,categoryIndex:2})),n.items.push(new Dt({start:13,end:17,categoryIndex:2})),i.series.push(n);const o=new Xe({title:"IntervalBarSeries 4",labelPlacement:mt.Base,textColor:p.White});o.items.push(new Dt({start:4,end:12,categoryIndex:3})),o.items.push(new Dt({start:13,end:17,categoryIndex:3})),i.series.push(o);const a=new Xe({title:"IntervalBarSeries 5",labelPlacement:mt.Outside,labelAngle:-45});a.items.push(new Dt({start:6,end:8,categoryIndex:4})),a.items.push(new Dt({start:10,end:12,categoryIndex:4})),i.series.push(a);const l=new Xe({title:"IntervalBarSeries 6",labelPlacement:mt.Inside,labelAngle:-45});l.items.push(new Dt({start:4,end:8,categoryIndex:5})),l.items.push(new Dt({start:10,end:12,categoryIndex:5})),i.series.push(l);const h=new Xe({title:"IntervalBarSeries 7",labelPlacement:mt.Middle,labelAngle:-45});h.items.push(new Dt({start:5,end:11,categoryIndex:6})),h.items.push(new Dt({start:13,end:17,categoryIndex:6})),i.series.push(h);const m=new Xe({title:"IntervalBarSeries 8",labelPlacement:mt.Base,labelAngle:-45});m.items.push(new Dt({start:4,end:12,categoryIndex:7})),m.items.push(new Dt({start:13,end:17,categoryIndex:7})),i.series.push(m);const c=new K({key:"CategoryAxis",position:x.Left,startPosition:1,endPosition:0});c.labels.push("Label Outside"),c.labels.push("Label Inside"),c.labels.push("Label Middle"),c.labels.push("Label Base"),c.labels.push("Label Outside (angled)"),c.labels.push("Label Inside (angled)"),c.labels.push("Label Middle (angled)"),c.labels.push("Label Base (angled)");const g=new w({key:"ValueAxis",position:x.Bottom,minimumPadding:.1,maximumPadding:.1});return i.axes.push(c),i.axes.push(g),i}const Bw="IntervalBarSeries",Dw={category:Bw,tags:["Series"],examples:[{title:"IntervalBarSeries",example:{model:Lw}},{title:"IntervalBarSeries with various label types",example:{model:Iw}}]};function Nw(){const i=new y({title:"LinearBarSeries with default style"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const t=tl();return t.title="LinearBarSeries",i.series.push(t),i}function Fw(){const i=new y({title:"LinearBarSeries with stroke"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const t=tl();return t.title="LinearBarSeries",t.fillColor=r.parse("#454CAF50"),t.strokeColor=r.parse("#4CAF50"),t.strokeThickness=1,i.series.push(t),i}function Vw(){return Tn()}function Ew(){return Tn(!0)}function _w(){return Tn(void 0,50)}function Ow(){return Tn(!0,50)}function Tn(i=!1,t=0){const e=new y({title:i?"LinearBarSeries with stroke (logarithmic)":"LinearBarSeries with stroke"});e.axes.push(new w({position:x.Bottom})),e.axes.push(i?new wt({position:x.Left}):new w({position:x.Left}));const s=zw();return s.title="LinearBarSeries",s.fillColor=r.parse("#454CAF50"),s.strokeColor=r.parse("#4CAF50"),s.negativeFillColor=r.parse("#45BF360C"),s.negativeStrokeColor=r.parse("#BF360C"),s.strokeThickness=1,s.baseValue=t,e.series.push(s),e}function tl(){const i=new ar,t=new St;let e=t.next(10,31);for(let s=0;s<=50;s++)i.points.push(d(s,e)),e+=t.next(-5,5);return i}function zw(){const i=new ar,t=new St;for(let e=0;e<=50;e++){const s=-200+t.next(0,1e3);i.points.push(d(e,s))}return i}const $w="LinearBarSeries",Gw={category:$w,tags:["Series"],examples:[{title:"Default style",example:{model:Nw}},{title:"With stroke",example:{model:Fw}},{title:"With negative colors",example:{model:Vw}},{title:"With negative colors (logaritmic)",example:{model:Ew}},{title:"With BaseValue",example:{model:_w}},{title:"With BaseValue (Logarithmic)",example:{model:Ow}}]};function Uw(){const i=new y({title:"LineSeries with default style"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const t=he();return t.title="LineSeries 1",i.series.push(t),i}function jw(){const i=new y({title:"LineSeries with custom style"}),t=new W({legendSymbolLength:24});i.legends.push(t),i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const e=he();return e.title="LineSeries 1",e.toolTip="This is a tooltip for a LineSeries 1",e.color=p.SkyBlue,e.strokeThickness=3,e.lineStyle=k.Dash,e.markerType=F.Circle,e.markerSize=5,e.markerStroke=p.White,e.markerFill=p.SkyBlue,e.markerStrokeThickness=1.5,i.series.push(e),i}function Ww(){const i=new y({title:"Two LineSeries"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const t=he();t.title="LineSeries 1",i.series.push(t);const e=he(41);return e.title="LineSeries 2",i.series.push(e),i}function Hw(){const i=new y({title:"LineSeries with IsVisible = false",subtitle:"Click to change the IsVisible property for LineSeries 2"});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left,minimum:0,maximum:50}));const t=he(38);t.title="LineSeries 1",i.series.push(t);const e=he(39);return e.title="LineSeries 2",e.isVisible=!1,i.series.push(e),i.mouseDown=(s,n)=>{e.isVisible=!e.isVisible,i.invalidatePlot(!0)},i}function Yw(){const i=new y({title:"LineSeries with custom TrackerFormatString",subtitle:'TrackerFormatString = "X={2:0.0} Y={4:0.0}"'});i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left}));const t=he();return t.trackerStringFormatter=e=>"X="+e.xValue.toFixed(1)+" Y="+e.yValue.toFixed(1),i.series.push(t),i}function Xw(){const i=new y({title:"LineSeries with custom markers"}),t=new W({legendSymbolLength:30});i.legends.push(t);const e=6,s=[];for(let o=0;o<e;o++){const a=Math.PI*(4*o/(e-1)-.5),l=1;s[o]=A(Math.cos(a)*l,Math.sin(a)*l)}const n=he(39);return n.title="LineSeries 1",n.markerType=F.Custom,n.markerSize=8,n.markerOutline=s,i.series.push(n),i}function qw(){const i=il("LineSeries with different MarkerType",F.Custom),t=new W({legendBackground:r.fromAColor(220,p.White),legendBorder:p.Black,legendBorderThickness:1});i.legends.push(t);let e=0;for(const s of i.series){const n=s;n.color=p.Red,n.markerStroke=p.Black,n.markerFill=p.Green,n.markerType=e++,n.title=F[n.markerType]}return i}function Kw(){const i=new y({title:"LineSeries with labels",subtitle:"Use the 'labelFormatString' property"}),t=new W({legendSymbolLength:24});i.legends.push(t),i.axes.push(new w({position:x.Bottom})),i.axes.push(new w({position:x.Left,maximumPadding:.1}));const e=he();return e.labelStringFormatter=(s,n)=>n[1].toString(),e.markerType=F.Circle,i.series.push(e),i}function Zw(){const i=il("LineSeries with LineStyle",k.None),t=new W({legendPlacement:pt.Outside,legendSymbolLength:50});i.legends.push(t);let e=0;for(const s of i.series){const n=s;n.color=p.Red,n.lineStyle=e++,n.title=k[n.lineStyle]}return i}function Jw(){const i=new y({title:"LineSeries with interpolation",subtitle:"InterpolationAlgorithm = CanonicalSpline"}),t=new W({legendSymbolLength:24});i.legends.push(t);const e=he();return e.markerType=F.Circle,e.interpolationAlgorithm=Ie.CanonicalSpline,i.series.push(e),i}function el(){const i=new y({title:"LineSeries with LineLegendPosition"});i.axes.push(new w({position:x.Bottom,minimumPadding:.05,maximumPadding:.05})),i.axes.push(new w({position:x.Left,minimumPadding:.05,maximumPadding:.05}));const t=he();t.title="Start",t.markerType=F.Circle,t.lineLegendPosition=os.Start,i.series.push(t);const e=he(41);return e.title="End",e.markerType=F.Circle,e.lineLegendPosition=os.End,i.series.push(e),i}function Qw(){return ce.reverseXAxis(el())}function t5(){const i=new y({title:"LineSeries with broken lines"}),t=he();t.points[3]=ae,t.points[7]=ae,t.brokenLineColor=p.Gray,t.brokenLineThickness=.5,t.brokenLineStyle=k.Solid,i.series.push(t);const e=he(49);return e.points[3]=ae,e.points[7]=ae,e.brokenLineColor=p.Automatic,e.brokenLineThickness=1,e.brokenLineStyle=k.Dot,i.series.push(e),i}function e5(){const i=new y({title:"LineSeries without Decimator"}),t=sl();return i.series.push(t),i}function i5(){const i=new y({title:"LineSeries with X Decimator"}),t=sl();return t.decimator=on.decimate,i.series.push(t),i}function s5(){const i=ea();return new y({title:"Canonical spline interpolation",series:[new $({itemsSource:i,title:"Default (0.5)",interpolationAlgorithm:Ie.CanonicalSpline,markerType:F.Circle,markerFill:p.Black}),new $({itemsSource:i,title:"0.1",interpolationAlgorithm:new Se(.1)}),new $({itemsSource:i,title:"1.0",interpolationAlgorithm:new Se(1)})]})}function n5(){const i=ea();return new y({title:"Catmull-Rom interpolation",series:[new $({itemsSource:i,title:"Standard",interpolationAlgorithm:Ie.CatmullRomSpline,markerType:F.Circle,markerFill:p.Black}),new $({itemsSource:i,title:"Chordal",interpolationAlgorithm:Ie.ChordalCatmullRomSpline}),new $({itemsSource:i,title:"Uniform",interpolationAlgorithm:Ie.UniformCatmullRomSpline})]})}function o5(){ea();const i=new y({title:"Marker color options"}),t=he(1);t.markerType=F.Circle,i.series.push(t);const e=he(4);e.markerType=F.Square,e.color=p.LightBlue,i.series.push(e);const s=he(13);s.markerType=F.Square,s.markerFill=p.Black,i.series.push(s);const n=he(5);return n.markerType=F.Square,n.markerFill=p.OrangeRed,n.color=p.Orange,i.series.push(n),i}function ea(i=50){const t=new St,e=[];for(let s=0;s<i;s++)s<5?e.push(d(s,0)):s<10?e.push(d(s,1)):s<12?e.push(d(s,0)):e.push(d(s,t.next()));return e}function he(i=13){const t=new $,e=new St(i);let s=e.next(10,30);for(let n=0;n<=100;n+=10)t.points.push(d(n,s)),s+=e.next(-5,5);return t}function il(i,t=20){const e=new y({title:i});for(let s=1;s<=t;s++){const n=new $({title:"Series "+s});e.series.push(n);for(let o=0;o<2*Math.PI;o+=.1)n.points.push(d(o,Math.sin(o*s)/(s+1)+s))}return e}function sl(){const i=new $,t=2e4;for(let e=0;e<t;e++)i.points.push(d(e/t,Math.sin(e)));return i}const a5="LineSeries",r5={category:a5,tags:["Series"],examples:[{title:"Default style",example:{model:Uw}},{title:"Custom style",example:{model:jw}},{title:"Two LineSeries",example:{model:Ww}},{title:"Visibility",example:{model:Hw}},{title:"Custom TrackerFormatString",example:{model:Yw}},{title:"Custom markers",example:{model:Xw}},{title:"Marker types",example:{model:qw}},{title:"Labels",example:{model:Kw}},{title:"LineStyle",example:{model:Zw}},{title:"Interpolation",example:{model:Jw}},{title:"LineLegendPosition",example:{model:el}},{title:"LineLegendPosition (reversed X Axis)",example:{model:Qw}},{title:"Broken lines",example:{model:t5}},{title:"Without Decimator",example:{model:e5}},{title:"With X Decimator",example:{model:i5}},{title:"Canonical spline interpolation",example:{model:s5}},{title:"Catmull-Rom interpolation",example:{model:n5}},{title:"Marker color options",example:{model:o5}}]};function l5(){return ia()}function h5(){const i=ia(),t=i.series[0];return t.insideLabelColor=p.White,i}function m5(){const i=ia(),t=i.series[0];return t.insideLabelColor=p.White,t.innerDiameter=.5,i}function ia(){const i=new y({title:"World population by continent"}),t=new Dh({strokeThickness:2,insideLabelPosition:.8,angleSpan:360,startAngle:0,innerDiameter:.5});return t.slices.push({label:"Africa",value:1030,isExploded:!0}),t.slices.push({label:"Americas",value:929,isExploded:!0}),t.slices.push({label:"Asia",value:4157}),t.slices.push({label:"Europe",value:739,isExploded:!0}),t.slices.push({label:"Oceania",value:35,isExploded:!0}),i.series.push(t),i}const u5="PieSeries",c5={category:u5,tags:["Series"],examples:[{title:"PieSeries",example:{model:l5}},{title:"PieSeries with inside label color",example:{model:h5}},{title:"Doughnut Chart",example:{model:m5}}]};function d5(){const i=new y({title:"Polygon Series",plotType:rt.Cartesian});i.axes.push(new Wt);const t=new Tr,e=[];for(let s=0;s<5;s++)t.items.push(Mo(ko(d(s*5,0),2,3+s),s)),e.push(ko(d(s*5,5),2,3+s));return t.items.push(Mo(e,10)),i.series.push(t),i}function p5(){const i=new y({title:"Hexagonal Grid"});i.axes.push(new Wt({position:x.Right}));const t=a=>Math.sin(a.x/5)+Math.sqrt(a.y),e=1,s=e*2-Math.cos(Math.PI/3)*e,n=Math.sin(Math.PI/3)*e*2,o=new Tr({stroke:p.Black,strokeThickness:1});for(let a=0;a<40;a++)for(let l=0;l<40;l++){const h=a%2===0?0:n/2,m=d(a*s,l*n+h);o.items.push(Mo(ko(m,e,6),t(m)))}return i.series.push(o),i}function ko(i,t,e){const s=new Array(e);for(let n=0;n<s.length;n++){const o=Math.PI*2*n/s.length,a=Math.cos(o)*t,l=Math.sin(o)*t;s[n]=d(i.x+a,i.y+l)}return s}const g5="PolygonSeries",x5={category:g5,tags:["Series"],examples:[{title:"PolygonSeries",example:{model:d5}},{title:"Hexagonal Grid",example:{model:p5}}]};function f5(){const i=new y({title:"RectangleBarSeries"}),t=new W({legendPlacement:pt.Outside});i.legends.push(t);const e=new ka({title:"RectangleBarSeries 1"}),s=o=>(o.color||(o.color=p.Automatic),o);e.items.push(s({x0:2,x1:8,y0:1,y1:4})),e.items.push(s({x0:6,x1:12,y0:6,y1:7})),i.series.push(e);const n=new ka({title:"RectangleBarSeries 2"});return n.items.push(s({x0:2,x1:8,y0:-4,y1:-1})),n.items.push(s({x0:6,x1:12,y0:-7,y1:-6})),i.series.push(n),i}const w5="RectangleBarSeries",y5={category:w5,tags:["Series"],examples:[{title:"RectangleBarSeries",example:{model:f5}}]};function b5(){const t=new y({title:"RectangleSeries"});t.axes.push(new Wt({position:x.Right,palette:H.jet(100)}));const e=new Rr({labelFontSize:12});for(let s=9;s>=0;s--)e.items.push(new Eo(-s*.5,s*.5,s*s,s*(s+3),s));return t.series.push(e),t}function S5(){const t=new y({title:"RectangleSeries"});t.axes.push(new Wt({position:x.Right,palette:H.jet(100)}));const e=[];for(let s=0;s<10;s++)e.push({x:s,value:s});return t.series.push(new Rr({itemsSource:e,mapping:s=>{const n=s;return new Eo(n.x,n.x*2,n.x,n.x*2,n.value)}})),t}const M5="RectangleSeries",k5={category:M5,tags:["Series"],examples:[{title:"RectangleSeries",example:{model:b5}},{title:"RectangleSeries from ItemsSource and Mapping",example:{model:S5}}]};function A5(){return c3(1e3)}function R5(){return yi(32768,0)}function T5(){return yi(32768,2)}function C5(){return yi(32768,4)}function v5(){return yi(32768,6)}function P5(){return yi(32768,8)}function L5(){return yi(32768,10)}function I5(){const i=new y({title:"Two ScatterSeries (with and without values)",subtitle:"With values (squares), without values (triangles)"}),t=new Wt({position:x.Right,key:"ColorAxis",palette:H.jet(30),minimum:-1,maximum:1});return i.axes.push(t),i.series.push(ln(50,F.Triangle,!1,!1,void 0)),i.series.push(ln(50,F.Square,!1,!0,t)),i}function B5(){const i=new y({title:"ScatterSeries with LabelFormatString"}),t=ln(50,F.Square,!1,!1,void 0);return t.labelStringFormatter=(e,s)=>vt(s[1],3).toString(),i.series.push(t),i}function ln(i,t,e,s,n){const o=new Vt({markerType:t,markerSize:6,colorAxisKey:n!==void 0?n.key:void 0}),a=new St;for(let l=0;l<i;l++){let h;e&&(h=a.next()*5+5);let m;s&&(m=a.next()*2.2-1.1);const c={x:a.next()*2.2-1.1,y:a.next(),size:h,value:m};o.points.push(c)}return o}function D5(){return N5(1e3,8)}function N5(i,t){const e=new y({title:`ScatterSeries with random MarkerSize (n=${i})`,subtitle:`BinSize = ${t}`}),s=new Vt({title:"Series 1",markerStrokeThickness:0,binSize:t}),n=new St;for(let o=0;o<i;o++)s.points.push({x:n.next(),y:n.next(),size:4+10*n.next()});return e.series.push(s),e}function F5(){const t=new y({title:"Random data (n=20)"}),e=new W({legendPosition:z.LeftTop});t.legends.push(e);const s=new Vt({title:"Measurements"}),n=new St;let o=0,a=0;for(let m=0;m<20;m++){o+=2+n.next()*10,a+=1+n.next();const c={x:o,y:a};s.points.push(c)}t.series.push(s);const[l,h]=V5(s.points);return t.annotations.push(new Nt({slope:l,intercept:h,text:"Least squares fit"})),t}function V5(i){let t=0,e=0,s=0,n=0,o=0;for(const m of i)t+=m.x,e+=m.y,s+=m.x*m.y,n+=m.x*m.x,o++;const a=t*t-o*n,l=1/a*(t*e-o*s),h=1/a*(t*s-n*e);return[l,h]}function E5(){const i=new y({title:"Marker types"}),t=new St;return i.series.push(Ni(t,10,"Circle",F.Circle)),i.series.push(Ni(t,10,"Cross",F.Cross)),i.series.push(Ni(t,10,"Diamond",F.Diamond)),i.series.push(Ni(t,10,"Plus",F.Plus)),i.series.push(Ni(t,10,"Square",F.Square)),i.series.push(Ni(t,10,"Star",F.Star)),i.series.push(Ni(t,10,"Triangle",F.Triangle)),i}function _5(){const i=new y({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are added to the Points collection."}),t=new Vt;return t.points.push(...sa(1e3)),i.series.push(t),i}function O5(){const i=new y({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined in the ItemsSource property."});return i.series.push(new Vt({itemsSource:sa(1e3)})),i}function z5(){const i=new y({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by a mapping from the ItemsSource."});return i.series.push(new Vt({itemsSource:ol(1e3),mapping:t=>t})),i}function $5(){const i=new y({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by reflection from the ItemsSource."});return i.series.push(new Vt({itemsSource:ol(1e3),dataFieldX:"x",dataFieldY:"y"})),i}function G5(){return le(2500,H.rainbow(16),F.Square,x.Right,p.Undefined,p.Undefined)}function U5(){return le(2500,H.hue(30),F.Star,x.Right,p.Undefined,p.Undefined)}function j5(){return le(2500,H.hot(64),F.Triangle,x.Right,p.Undefined,p.Undefined)}function W5(){return le(2500,H.cool(32),F.Circle,x.Right,p.Undefined,p.Undefined)}function H5(){return le(2500,H.gray(32),F.Diamond,x.Right,p.Undefined,p.Undefined)}function Y5(){return le(2500,H.jet(32),F.Plus,x.Right,p.Undefined,p.Undefined)}function X5(){return le(2500,H.hot(64),F.Square,x.Right,p.Magenta,p.Green)}function q5(){return le(2500,H.hot(64),F.Cross,x.Top,p.Magenta,p.Green)}function K5(){return le(31e3,H.hot(16),F.Square,x.Right,p.Undefined,p.Undefined)}function Z5(){return le(2500,H.blueWhiteRed(3),F.Square,x.Right,p.Undefined,p.Undefined)}function J5(){return le(2500,H.blueWhiteRed(9),F.Square,x.Right,p.Undefined,p.Undefined)}function Q5(){return le(2500,H.blueWhiteRed(256),F.Square,x.Right,p.Undefined,p.Undefined)}function t3(){return le(2500,H.blackWhiteRed(9),F.Square,x.Right,p.Undefined,p.Undefined)}function e3(){return le(2500,H.blackWhiteRed(9),F.Square,x.Top,p.Undefined,p.Undefined)}function i3(){return le(2500,H.viridis(),F.Square,x.Right,p.Undefined,p.Undefined)}function s3(){return le(2500,H.plasma(),F.Square,x.Right,p.Undefined,p.Undefined)}function n3(){return le(2500,H.magma(),F.Square,x.Right,p.Undefined,p.Undefined)}function o3(){return le(2500,H.inferno(),F.Square,x.Right,p.Undefined,p.Undefined)}function a3(){return le(2500,H.cividis(),F.Square,x.Right,p.Undefined,p.Undefined)}function r3(){const i=yi(10,8);i.subtitle="Click to select a point",i.selectionColor=p.Red;const t=i.series[0];return t.selectionMode=mi.Single,t.selectItem(3),t.selectItem(5),t.mouseDown=(e,s)=>{const n=s.hitTestResult.index;t.selectItem(n),i.invalidatePlot(!1),s.handled=!0},i.mouseDown=(e,s)=>{t.clearSelection(),i.invalidatePlot(!1),s.handled=!0},i}function l3(){const i=yi(10,8);i.subtitle="Click to toggle point selection",i.selectionColor=p.Red;const t=i.series[0];return t.selectionMode=mi.Multiple,t.selectItem(3),t.selectItem(5),t.mouseDown=(e,s)=>{const n=s.hitTestResult.index;t.isItemSelected(n)?t.unselectItem(n):t.selectItem(n),i.invalidatePlot(!1),s.handled=!0},i.mouseDown=(e,s)=>{t.clearSelection(),i.invalidatePlot(!1),s.handled=!0},i}function h3(){return nl(!1)}function m3(){return nl(!0)}function u3(){const i=new y({title:"TrackerFormatString"}),t=new Vt({trackerStringFormatter:s=>s.item.sum.toString(),dataFieldX:"x",dataFieldY:"y"}),e=[new Un(10,40),new Un(40,20),new Un(60,30)];return t.itemsSource=e,i.series.push(t),i}function nl(i){const t=yi(10,8);t.subtitle="Click to select all points",t.selectionColor=p.Red;const e=t.series[0];return e.selectionMode=mi.All,e.mouseDown=(s,n)=>{e.select(),t.invalidatePlot(!1),n.handled=!i},t.mouseDown=(s,n)=>{n.hitTestResult!==void 0&&i||(e.clearSelection(),t.invalidatePlot(!1),n.handled=!0)},t}class Un{constructor(t,e){this.x=t,this.y=e}get sum(){return this.x+this.y}}function yi(i,t){const e=new y({title:`ScatterSeries (n=${i})`,subtitle:t>0?`BinSize = ${t}`:"No 'binning'"}),s=new Vt({title:"Series 1",markerType:F.Diamond,markerStrokeThickness:0,binSize:t}),n=new St;for(let o=0;o<i;o++)s.points.push({x:n.next(),y:n.next()});return e.series.push(s),e}function le(i,t,e,s,n,o){const a=new y({title:`ScatterSeries (n=${i})`,background:p.LightGray}),l=new Wt({position:s,palette:t,minimum:-1,maximum:1,highColor:n,lowColor:o});return a.axes.push(l),a.series.push(ln(i,e,!1,!0,l)),a}function c3(i){const t=new y({title:`Correlated ScatterSeries (n=${i})`}),e=new Vt({title:"Series 1",markerType:F.Diamond,markerStrokeThickness:0}),s=new St;for(let n=0;n<i;n++){const o=Ia(s),a=2*o*o+Ia(s);e.points.push({x:o,y:a})}return t.series.push(e),t}function Ni(i,t,e,s){const n=new Vt({title:e,markerType:s,markerStroke:p.Black,markerStrokeThickness:1});for(let o=0;o<t;o++){const a=i.next()*10,l=i.next()*10,h={x:a,y:l};n.points.push(h)}return n}function Ia(i){const t=i.next(),e=i.next();return Math.sqrt(-2*Math.log(t))*Math.sin(2*Math.PI*e)}function ol(i){return sa(i).map(t=>d(t.x,t.y))}function sa(i){const t=new St,e=[];for(let s=0;s<i;s++){const n=t.next()*10,o=t.next()*10,a={x:n,y:o};e.push(a)}return e}const d3="ScatterSeries",p3={category:d3,tags:["Series"],examples:[{title:"Correlated points",example:{model:A5}},{title:"Random points",example:{model:R5}},{title:"Random points (BinSize=2)",example:{model:T5}},{title:"Random points (BinSize=4)",example:{model:C5}},{title:"Random points (BinSize=6)",example:{model:v5}},{title:"Random points (BinSize=8)",example:{model:P5}},{title:"Random points (BinSize=10)",example:{model:L5}},{title:"Two ScatterSeries",example:{model:I5}},{title:"LabelFormatString",example:{model:B5}},{title:"Random points with random size",example:{model:D5}},{title:"Random points with least squares fit",example:{model:F5}},{title:"Marker types",example:{model:E5}},{title:"ScatterSeries.Points",example:{model:_5}},{title:"ScatterSeries.ItemsSource",example:{model:O5}},{title:"ScatterSeries.ItemsSource + Mapping",example:{model:z5}},{title:"ScatterSeries.ItemsSource + reflection",example:{model:$5}},{title:"ScatterSeries with ColorAxis Rainbow(16)",example:{model:G5}},{title:"ScatterSeries with ColorAxis Hue(30) Star",example:{model:U5}},{title:"ScatterSeries with ColorAxis Hot(64)",example:{model:j5}},{title:"ScatterSeries with ColorAxis Cool(32)",example:{model:W5}},{title:"ScatterSeries with ColorAxis Gray(32)",example:{model:H5}},{title:"ScatterSeries with ColorAxis Jet(32)",example:{model:Y5}},{title:"ScatterSeries with ColorAxis Hot with extreme colors",example:{model:X5}},{title:"ScatterSeries with ColorAxis Hot (top legend)",example:{model:q5}},{title:"ScatterSeries with ColorAxis Hot(16) N=31000",example:{model:K5}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (3)",example:{model:Z5}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (9)",example:{model:J5}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (256)",example:{model:Q5}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9)",example:{model:t3}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9) top legend",example:{model:e3}},{title:"ScatterSeries with ColorAxis Viridis",example:{model:i3}},{title:"ScatterSeries with ColorAxis Plasma",example:{model:s3}},{title:"ScatterSeries with ColorAxis Magma",example:{model:n3}},{title:"ScatterSeries with ColorAxis Inferno",example:{model:o3}},{title:"ScatterSeries with ColorAxis Cividis",example:{model:a3}},{title:"ScatterSeries with single-selected items",example:{model:r3}},{title:"ScatterSeries with multi-selected items",example:{model:l3}},{title:"ScatterSeries with SelectionMode.All (no tracker)",example:{model:h3}},{title:"ScatterSeries with SelectionMode.All (with tracker)",example:{model:m3}},{title:"TrackerFormatString",example:{model:u3}}]};function g3(){return zs(new Be)}function x3(){return zs(new Be({labelStringFormatter:(i,t)=>`${vt(t[1],2)}`}))}function f3(){return zs(new Be({color:p.SkyBlue,markerType:F.Circle,markerSize:6,markerStroke:p.White,markerFill:p.SkyBlue,markerStrokeThickness:1.5}))}function w3(){return zs(new Be({strokeThickness:3,verticalStrokeThickness:.4,markerType:F.None}))}function y3(){return zs(new Be({verticalLineStyle:k.Dash,markerType:F.None}))}function b3(){const i=new y({title:"StairStepSeries with invalid points",subtitle:"Horizontal lines do not continue"});return al(i,t=>ae),i}function S3(){const i=new y({title:"StairStepSeries with invalid Y",subtitle:"Horizontal lines continue until X of point with invalid Y"});return al(i,t=>d(t,NaN)),i}function M3(){const i=new y({title:"StairStepSeries with non-monotonic X",subtitle:"Lines form a boxed I-beam"}),t=new Be({markerType:F.Circle,verticalLineStyle:k.Dash,verticalStrokeThickness:4,points:[d(1,1),d(3,1),d(2,3),d(1,3),d(3,3)]});i.series.push(t);const e=new Be({markerType:F.Circle,verticalLineStyle:k.Dash,verticalStrokeThickness:4,points:[d(1,0),d(2,0),d(0,0),d(4,0),d(4,4)]});i.series.push(e);const s=new Be({markerType:F.Circle,verticalLineStyle:k.Dash,verticalStrokeThickness:4,points:[d(3,4),d(2,4),d(4,4),d(0,4),d(0,0)]});return i.series.push(s),i}function zs(i){const t=new y({title:"StairStepSeries"}),e=new W({legendSymbolLength:24});t.legends.push(e),i.title="sin(x)";for(let s=0;s<Math.PI*2;s+=.5)i.points.push(d(s,Math.sin(s)));return t.series.push(i),t}function al(i,t){i.legends.push(new W({legendOrientation:At.Horizontal,legendPlacement:pt.Outside,legendPosition:z.BottomCenter}));const e=new Be({title:"Invalid First Point",markerType:F.Circle,points:[t(0),d(1,3.5),d(2,4),d(3,4.5)]});i.series.push(e);const s=new Be({title:"Invalid Second Point",markerType:F.Circle,points:[d(0,2),t(1),d(2,3),d(3,3.5)]});i.series.push(s);const n=new Be({title:"Invalid Penultimate Point",markerType:F.Circle,points:[d(0,1),d(1,1.5),t(2),d(3,2.5)]});i.series.push(n);const o=new Be({title:"Invalid Last Point",markerType:F.Circle,points:[d(0,0),d(1,.5),d(2,1),t(3)]});i.series.push(o)}const k3="StairStepSeries",A3={category:k3,tags:["Series"],examples:[{title:"StairStepSeries",example:{model:g3}},{title:"StairStepSeries with labels",example:{model:x3}},{title:"StairStepSeries with markers",example:{model:f3}},{title:"StairStepSeries with thin vertical lines",example:{model:w3}},{title:"StairStepSeries with dashed vertical lines",example:{model:y3}},{title:"StairStepSeries with invalid points",example:{model:b3}},{title:"StairStepSeries with invalid Y",example:{model:S3}},{title:"StairStepSeries with non-monotonic X",example:{model:M3}}]};function R3(){return T3(new Ih({color:p.SkyBlue,markerType:F.Circle,markerSize:6,markerStroke:p.White,markerStrokeThickness:1.5}))}function T3(i){const t=new y({title:"StemSeries"}),e=new W({legendSymbolLength:24});t.legends.push(e),i.title="sin(x)";for(let s=0;s<Math.PI*2;s+=.1)i.points.push(d(s,Math.sin(s)));return t.series.push(i),t}const C3="StemSeries",v3={category:C3,tags:["Series"],examples:[{title:"StemSeries",example:{model:R3}}]};function rl(){const i=new y({title:"ThreeColorLineSeries"}),t=new W({legendSymbolLength:24});i.legends.push(t);const e=new Fh({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:n=>`December ${vt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`,markerSize:4,markerStroke:p.Black,markerStrokeThickness:1.5,markerType:F.Circle,interpolationAlgorithm:Ie.CanonicalSpline,strokeThickness:3}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)e.points.push(d(n+1,s[n]));return i.series.push(e),i.axes.push(new w({position:x.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),i.axes.push(new w({position:x.Bottom,title:"Date"})),i}function P3(){const i=rl();return ce.reverseYAxis(i),i}const L3="ThreeColorLineSeries",I3={category:L3,tags:["Series"],examples:[{title:"Temperatures",example:{model:rl}},{title:"Temperatures (Y Axis reversed)",example:{model:P3}}]};function B3(){const i=new y({title:"Tornado diagram 1"}),t=new W({legendPlacement:pt.Outside});i.legends.push(t);const e=new G({title:"High",isStacked:!0,fillColor:r.fromRgb(216,82,85),baseValue:7,strokeColor:p.Black,strokeThickness:1});e.items.push(new L({value:1})),e.items.push(new L({value:1})),e.items.push(new L({value:4})),e.items.push(new L({value:5}));const s=new G({title:"Low",isStacked:!0,fillColor:r.fromRgb(84,138,209),baseValue:7,strokeColor:p.Black,strokeThickness:1});s.items.push(new L({value:-1})),s.items.push(new L({value:-3})),s.items.push(new L({value:-2})),s.items.push(new L({value:-3}));const n=new K({position:x.Left});n.labels.push("F/X rate"),n.labels.push("Inflation"),n.labels.push("Price"),n.labels.push("Conversion");const o=new w({position:x.Bottom,extraGridlines:[7]});return i.series.push(e),i.series.push(s),i.axes.push(n),i.axes.push(o),i}function D3(){const i=new y({title:"Tornado diagram 2"}),t=new W({legendPlacement:pt.Outside});i.legends.push(t);const e=new ri({title:"TornadoBarSeries",baseValue:7});e.items.push(new ge({minimum:6,maximum:8})),e.items.push(new ge({minimum:4,maximum:8})),e.items.push(new ge({minimum:5,maximum:11})),e.items.push(new ge({minimum:4,maximum:12}));const s=new K({position:x.Left});s.labels.push("F/X rate"),s.labels.push("Inflation"),s.labels.push("Price"),s.labels.push("Conversion");const n=new w({position:x.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return i.series.push(e),i.axes.push(s),i.axes.push(n),i}function N3(){const i=new y({title:"Tornado Diagram"}),t=new W({legendPlacement:pt.Outside});i.legends.push(t);const e=new ri({baseValue:7,labelPlacement:mt.Outside});e.items.push(new ge({minimum:6,maximum:8,categoryIndex:0}));const s=new ri({baseValue:7,labelPlacement:mt.Inside});s.items.push(new ge({minimum:4,maximum:8,categoryIndex:1}));const n=new ri({baseValue:7,labelPlacement:mt.Middle});n.items.push(new ge({minimum:5,maximum:11,categoryIndex:2}));const o=new ri({baseValue:7,labelPlacement:mt.Base});o.items.push(new ge({minimum:4,maximum:12,categoryIndex:3}));const a=new ri({baseValue:7,labelPlacement:mt.Outside,labelAngle:-45});a.items.push(new ge({minimum:6,maximum:8,categoryIndex:4}));const l=new ri({baseValue:7,labelPlacement:mt.Inside,labelAngle:-45});l.items.push(new ge({minimum:4,maximum:8,categoryIndex:5}));const h=new ri({baseValue:7,labelPlacement:mt.Middle,labelAngle:-45});h.items.push(new ge({minimum:5,maximum:11,categoryIndex:6}));const m=new ri({baseValue:7,labelPlacement:mt.Base,labelAngle:-45});m.items.push(new ge({minimum:4,maximum:12,categoryIndex:7}));const c=new K({position:x.Left,startPosition:1,endPosition:0});c.labels.push("Labels Outside"),c.labels.push("Labels Inside"),c.labels.push("Labels Middle"),c.labels.push("Labels Base"),c.labels.push("Labels Outside (angled)"),c.labels.push("Labels Inside (angled)"),c.labels.push("Labels Middle (angled)"),c.labels.push("Labels Base (angled)");const g=new w({position:x.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return i.series.push(e),i.series.push(s),i.series.push(n),i.series.push(o),i.series.push(a),i.series.push(l),i.series.push(h),i.series.push(m),i.axes.push(c),i.axes.push(g),i}const F3="TornadoBarSeries",V3={category:F3,tags:["Series"],examples:[{title:"Tornado diagram 1",example:{model:B3}},{title:"Tornado diagram 2",example:{model:D3}},{title:"Tornado diagram with various label types",example:{model:N3}}]};function E3(){const i=new y({title:"TwoColorAreaSeries"}),t=new W({legendSymbolLength:24});i.legends.push(t);const e=new xn({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:n=>`December ${vt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`,color:p.Tomato,color2:p.LightBlue,markerFill:p.Tomato,markerFill2:p.LightBlue,strokeThickness:2,limit:-1,markerType:F.Circle,markerSize:3}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)e.points.push(d(n+1,s[n]));return i.series.push(e),i.axes.push(new w({position:x.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),i.axes.push(new w({position:x.Bottom,title:"Date"})),i}function _3(){const i=new y({title:"TwoColorAreaSeries"}),t=new W({legendSymbolLength:24});i.legends.push(t);const e=new xn({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:n=>`December ${vt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`,color:p.Black,color2:p.Brown,markerFill:p.Red,fill:p.Tomato,fill2:p.LightBlue,markerFill2:p.Blue,markerStroke:p.Brown,markerStroke2:p.Black,strokeThickness:2,limit:0,markerType:F.Circle,markerSize:3}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)e.points.push(d(n+1,s[n]));return i.series.push(e),i.axes.push(new w({position:x.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),i.axes.push(new w({position:x.Bottom,title:"Date"})),i}function O3(){const i=new y({title:"TwoColorAreaSeries"}),t=new W({legendSymbolLength:24});i.legends.push(t);const e=new xn({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:n=>`December ${vt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`,color:p.Black,color2:p.Brown,markerFill:p.Red,fill:p.Tomato,fill2:p.LightBlue,markerFill2:p.Blue,markerStroke:p.Brown,markerStroke2:p.Black,strokeThickness:1,limit:0,interpolationAlgorithm:Ie.CanonicalSpline,markerType:F.Circle,markerSize:1}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)e.points.push(d(n+1,s[n]));return i.series.push(e),i.axes.push(new w({position:x.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),i.axes.push(new w({position:x.Bottom,title:"Date"})),i}function z3(){const i=new y({title:"Two polygons"}),t=new W({legendSymbolLength:24});i.legends.push(t);const e=new xn({color:p.Tomato,color2:p.LightBlue,markerFill:p.Tomato,markerFill2:p.LightBlue,strokeThickness:2,markerType:F.Circle,markerSize:3});return e.points.push(d(0,3),d(1,5),d(2,1),d(3,0),d(4,3)),e.points2.push(d(0,-3),d(1,-1),d(2,0),d(3,-6),d(4,-4)),i.series.push(e),i.axes.push(new w({position:x.Left})),i.axes.push(new w({position:x.Bottom})),i}const $3="TwoColorAreaSeries",G3={category:$3,tags:["Series"],examples:[{title:"Temperatures",example:{model:E3}},{title:"Temperatures ver2",example:{model:_3}},{title:"Temperatures ver3",example:{model:O3}},{title:"Two polygons",example:{model:z3}}]};function ll(){const i=new y({title:"TwoColorLineSeries"}),t=new W({legendSymbolLength:24});i.legends.push(t);const e=new Vh({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:n=>`December ${vt(n.xValue,0)}: ${n.yValue.toFixed(1)} °C`,color:p.Red,color2:p.LightBlue,strokeThickness:3,limit:0,interpolationAlgorithm:Ie.CanonicalSpline,markerType:F.Circle,markerSize:4,markerStroke:p.Black,markerStrokeThickness:1.5}),s=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let n=0;n<s.length;n++)e.points.push(d(n+1,s[n]));return i.series.push(e),i.axes.push(new w({position:x.Left,title:"Temperature",unit:"°C",extraGridlines:[0]})),i.axes.push(new w({position:x.Bottom,title:"Date"})),i}function U3(){const i=ll();return ce.reverseYAxis(i),i}const j3="TwoColorLineSeries",W3={category:j3,tags:["Series"],examples:[{title:"Temperatures",example:{model:ll}},{title:"Temperatures (Y Axis reversed)",example:{model:U3}}]};function H3(){const{model:i}=Cn(!0);return i}function Y3(){const{model:i,series:t}=Cn(!0);return t.arrowVeeness=2,i}function X3(){const{model:i,series:t}=Cn(!0);return t.arrowLabelPosition=.25,t.arrowStartPosition=.5,i}function q3(){const{model:i}=Cn(!1);return i}function K3(){const i=new y({title:"Peaks (Gradient)"}),t=new No,e=Kt.createVectorWithStep(-3,3,.25),s=Kt.createVectorWithStep(-3.1,3.1,.25);return t.arrowVeeness=1,t.arrowStartPosition=.5,t.itemsSource=e.flatMap(n=>s.map(o=>({origin:d(n,o),direction:new dn(J3(n,o)/40,Q3(n,o)/40),value:NaN}))),i.series.push(t),i}function Z3(){const t=new y({title:"VectorSeries"}),e=new St,s=100,n=100,o=50;t.axes.push(new Wt({position:x.Right,palette:H.cool(10),minimum:0,maximum:o})),t.axes.push(new w({position:x.Bottom,minimum:-o,maximum:s+o})),t.axes.push(new wt({position:x.Left,minimum:1,maximum:n+o}));const a=new No({labelFontSize:12});for(let l=99;l>=0;l--){const h=e.next()*Math.PI*2,m=e.next()*o,c=d(e.next()*s,e.next()*n+1),g=new dn(Math.cos(h)*m,Math.sin(h)*m);a.items.push({origin:c,direction:g,value:m})}return t.series.push(a),t}const J3=(i,t)=>-10*((1/5-3*Math.pow(i,2))*Math.exp(-Math.pow(i,2)-Math.pow(t,2))-2*i*(i/5-Math.pow(i,3)-Math.pow(t,5))*Math.exp(-Math.pow(i,2)-Math.pow(t,2)))+.6666666666666666*(1+i)*Math.exp(-Math.pow(1+i,2)-Math.pow(t,2))+3*(-2*(1-i)*Math.exp(-Math.pow(i,2)-Math.pow(1+t,2))-2*i*Math.pow(1-i,2)*Math.exp(-Math.pow(i,2)-Math.pow(1+t,2))),Q3=(i,t)=>-10*(-5*Math.pow(t,4)*Math.exp(-Math.pow(i,2)-Math.pow(t,2))-2*t*(i/5-Math.pow(i,3)-Math.pow(t,5))*Math.exp(-Math.pow(i,2)-Math.pow(t,2)))+.6666666666666666*t*Math.exp(-Math.pow(1+i,2)-Math.pow(t,2))-6*Math.pow(1-i,2)*(1+t)*Math.exp(-Math.pow(i,2)-Math.pow(1+t,2));function Cn(i){const e=new y({title:"VectorSeries (Veeness = 2)"}),s=new St,n=100,o=100,a=10;i&&e.axes.push(new Wt({position:x.Right,palette:new zt(H.cool(10).colors.map(h=>r.fromAColor(100,h))),minimum:0,maximum:a})),e.axes.push(new w({position:x.Bottom,minimum:-a,maximum:n+a})),e.axes.push(new w({position:x.Left,minimum:-a,maximum:o+a}));const l=new No({labelFontSize:12});for(let h=99;h>=0;h--){const m=s.next()*Math.PI*2,c=s.next()*a,g=d(s.next()*n,s.next()*o),f=new dn(Math.cos(m)*c,Math.sin(m)*c);l.items.push({origin:g,direction:f,value:c})}return e.series.push(l),{model:e,series:l}}const t4="VectorSeries",e4={category:t4,tags:["Series"],examples:[{title:"VectorSeries",example:{model:H3}},{title:"VectorSeries (Veeness = 2)",example:{model:Y3}},{title:"VectorSeries (Vector Origin and Label position)",example:{model:X3}},{title:"VectorSeries (without ColorAxis)",example:{model:q3}},{title:"Vector Field",example:{model:K3}},{title:"VectorSeries on Log Axis",example:{model:Z3}}]},i4=[...rf,ff,r2,g2,P2,B2,U2,mw,Ed,Pw,Dw,Gw,r5,c5,x5,y5,k5,p3,A3,v3,I3,V3,G3,W3,e4];function s4(){const i=new y({title:"Q1 2003 Calls by Region",plotAreaBorderThickness:new X(0)}),t=new K({axislineStyle:k.Solid,tickStyle:it.None,key:"y"});t.labels.push("North","East","South","West"),i.axes.push(t),i.axes.push(new w({position:x.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:k.Solid,tickStyle:it.Outside,key:"x"}));const e=new G({fillColor:p.Black,xAxisKey:"x",yAxisKey:"y"});return e.items.push(new L({value:3e3})),e.items.push(new L({value:4500})),e.items.push(new L({value:2100})),e.items.push(new L({value:4800})),i.series.push(e),i}function n4(){const i=new y({title:"2003 Sales",plotAreaBorderThickness:new X(0),isLegendVisible:!1}),t=[1e3,1010,1020,1010,1020,1030,1e3,500,1e3,900,900,1e3],e=[2250,2500,2750,2500,2750,3e3,2500,2750,3100,2800,3100,3500],s=new K({axislineStyle:k.Solid,tickStyle:it.None});s.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov"),i.axes.push(s),i.axes.push(new w({position:x.Left,minimum:0,maximum:4e3,majorStep:500,minorStep:500,axislineStyle:k.Solid,tickStyle:it.Outside}));const n=new $({color:p.Orange});for(let a=0;a<12;a++)n.points.push(d(a,t[a]));const o=new $({color:p.Gray});for(let a=0;a<12;a++)o.points.push(d(a,e[a]));return i.series.push(n),i.series.push(o),i}function o4(){const i=new y({title:"Headcount",plotAreaBorderThickness:new X(0),plotMargins:new X(100,40,20,40)}),t=new Map([["Manufacturing",240],["Sales",160],["Engineering",50],["Operations",45],["Finance",40],["Info Systems",39],["Legal",25],["Marketing",10]]);return i.axes.push(new K({position:x.Left,itemsSource:Array.from(t),labelField:"0",tickStyle:it.None,axisTickToLabelDistance:10,startPosition:1,endPosition:0})),i.axes.push(new w({position:x.Bottom,minimum:0,maximum:250,majorStep:50,minorStep:50,axislineStyle:k.Solid,tickStyle:it.Outside,minimumPadding:0,maximumPadding:0})),i.series.push(new G({fillColor:p.Black,itemsSource:Array.from(t),valueField:"1"})),i}function a4(){const i=new y({title:"Regional % of Total Expenses",plotAreaBorderThickness:new X(0)}),t=new K({tickStyle:it.None,gapWidth:0,key:"y"});t.labels.push(`West
34%`,`East
30%`,`North
20%`,`South
16%`),i.axes.push(t),i.axes.push(new w({position:x.Left,minimum:0,maximum:.35+Number.EPSILON,majorStep:.05,minorStep:.05,axislineStyle:k.Solid,tickStyle:it.Outside,stringFormatter:n=>`${Math.round(n*100)}%`,key:"x"}));const e=new G({barWidth:1,strokeColor:p.DarkGray,strokeThickness:1,fillColor:p.Black,xAxisKey:"x",yAxisKey:"y"}),s=[.34,.3,.2,.16];return e.items=s.map(n=>L.fromValue(n)),i.series.push(e),i}function r4(){const i=new y({title:"Actual to Plan Variance",plotAreaBorderThickness:new X(0)}),t=new Map([["Sales",7],["Marketing",-7],["Systems",-2],["HR",-17],["Finance",5]]);return i.axes.push(new K({itemsSource:Array.from(t),labelField:"0",tickStyle:it.None,key:"y"})),i.axes.push(new w({position:x.Left,minimum:-20,maximum:10,minorStep:5,majorStep:5,layer:_i.AboveSeries,axislineStyle:k.Solid,extraGridlines:[0],extraGridlineColor:p.Black,extraGridlineThickness:3,tickStyle:it.Outside,stringFormatter:e=>(e>0?"+":e<0?"-":"")+vt(Math.abs(e),0),key:"x"})),i.series.push(new G({fillColor:p.Orange,negativeFillColor:p.Gray,itemsSource:Array.from(t),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),i}function l4(){const i=new y({title:"Order Count by Order Size",plotAreaBorderThickness:new X(0),plotMargins:new X(60,4,4,60)}),t=new Map([[" <$10",5e3],[`>=$10
    &
 <$20`,1500],[`>=$20
    &
 <$30`,1e3],[`>=$40
    &
 <$40`,500],[">=$40",200]]);return i.axes.push(new K({axislineStyle:k.Solid,itemsSource:Array.from(t),labelField:"0",tickStyle:it.None,key:"y"})),i.axes.push(new w({position:x.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:k.Solid,tickStyle:it.Outside,stringFormatter:e=>(e>0?"+":e<0?"-":"")+vt(Math.abs(e),0),key:"x"})),i.series.push(new G({fillColor:p.Orange,itemsSource:Array.from(t),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),i}function h4(){const i=new y({title:"Correlation of Employee Heights and Salaries",plotAreaBorderThickness:new X(0)}),t=[d(62,39e3),d(66,44e3),d(64,5e4),d(66,49500),d(67,52e3),d(68,5e4),d(66,56e3),d(67,56e3),d(72,56e3),d(68,58e3),d(69,62e3),d(71,63e3),d(65,64e3),d(68,71e3),d(72,72e3),d(74,69e3),d(74,79e3),d(77,81e3)];return i.axes.push(new w({position:x.Left,minimum:3e4,maximum:9e4,majorStep:1e4,minorStep:1e4,axislineStyle:k.Solid,tickStyle:it.Outside})),i.axes.push(new w({position:x.Bottom,minimum:60,maximum:80,majorStep:5,minorStep:5,axislineStyle:k.Solid,tickStyle:it.Outside})),i.series.push(new Vt({itemsSource:t,markerType:F.Circle,markerSize:3,markerFill:p.White,markerStroke:p.Black,dataFieldX:"x",dataFieldY:"y"})),i}const m4="Examples from the book 'Show Me the Numbers'",u4={category:m4,tags:["Showcase"],examples:[{title:"Q1 2003 Calls by Region",example:{model:s4}},{title:"2003 Sales",example:{model:n4}},{title:"Headcount",example:{model:o4}},{title:"Regional % of Total Expenses",example:{model:a4}},{title:"Actual to Plan Variance",example:{model:r4}},{title:"Order Count by Order Size",example:{model:l4}},{title:"Correlation of Employee Heights and Salaries",example:{model:h4}}]},c4=[Wm,u4],d4=[...$m,...Tp,...r1,...Wp,...Yg,...$x,...i4,...c4];let Bs=[];for(const i of d4){const t=Bs.find(e=>e.category===i.category);t?t.examples.push(...i.examples):Bs.push(i)}Bs=$l(Bs,[["category","ASC"]]);const jn=Bs,p4="/oxyplot-js/assets/OxyPlot-4SQiqpWf.png";var g4=Object.defineProperty,x4=(i,t,e)=>t in i?g4(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,Ct=(i,t,e)=>(x4(i,typeof t!="symbol"?t+"":t,e),e);class na{constructor(){Ct(this,"controller"),Ct(this,"defaultController"),Ct(this,"_zoomRectangle"),Ct(this,"_model"),Ct(this,"_isModelInvalidated",!1),Ct(this,"_updateDataFlag",!1),Ct(this,"_rendering",!1)}get actualController(){return this.controller?this.controller:this.defaultController?this.defaultController:(this.defaultController=new Bi,this.defaultController)}get actualModel(){return this._model}get model(){return this._model}set model(t){const e=this._model;this._model=t,this.onModelChanged(e,t)}onModelChanged(t,e){t&&t.attachPlotView(void 0),e&&e.attachPlotView(this),this.invalidatePlot(!0)}invalidatePlot(t){this._isModelInvalidated=!0,this._updateDataFlag=t||!1,this.render()}render(){const t=this._model;t&&(this._isModelInvalidated&&(t.update(this._updateDataFlag),this._isModelInvalidated=!1,this._updateDataFlag=!1),window.requestAnimationFrame(async()=>this.renderSync()))}setClipboardText(t){try{navigator.clipboard.writeText(t)}catch(e){console.error(e)}}setCursorType(t){}hideTracker(){}showTracker(t){}hideZoomRectangle(){this._zoomRectangle=void 0}showZoomRectangle(t){this._zoomRectangle=t}async renderSync(){if(this._model&&!this._rendering){this._rendering=!0;try{await this.renderOverride(this._model)}finally{this._rendering=!1}}}}function is(i){return{position:A(i.offsetX,i.offsetY),modifierKeys:y4(i),handled:!1}}function f4(i){const t=is(i);return t.clickCount=i.detail,t.changedButton=b4(i),t}function w4(i){const t=is(i);return t.delta=i.deltaY!=0?-i.deltaY:i.deltaX,t}function y4(i){let t=gt.None;return i.ctrlKey&&(t|=gt.Control),i.shiftKey&&(t|=gt.Shift),i.altKey&&(t|=gt.Alt),i.metaKey&&(t|=gt.Windows),t}function b4(i){return i.button===0?xt.Left:i.button===1?xt.Middle:i.button===2?xt.Right:i.button===3?xt.XButton1:i.button===4?xt.XButton2:xt.None}function hl(i){switch(i){case Fe.Default:return"default";case Fe.Pan:return"grab";case Fe.ZoomRectangle:return"nwse-resize";case Fe.ZoomHorizontal:return"ew-resize";case Fe.ZoomVertical:return"ns-resize";default:return"default"}}function ml(i,t){i.addEventListener("contextmenu",function(e){e.preventDefault()}),i.addEventListener("resize",async()=>{t.invalidatePlot(!1)}),i.onmousedown=e=>{t.actualController.handleMouseDown(t,f4(e))},i.onmousemove=e=>{t.actualController.handleMouseMove(t,is(e))},i.onmouseup=e=>{t.actualController.handleMouseUp(t,is(e))},i.onmouseenter=e=>{t.actualController.handleMouseEnter(t,is(e))},i.onmouseleave=e=>{t.actualController.handleMouseLeave(t,is(e))},i.onwheel=e=>{t.actualController.handleMouseWheel(t,w4(e))}}let bs=null;function S4(){if(bs)return bs;const i=document.createElement("canvas");if(bs=i==null?void 0:i.getContext("2d"),!bs)throw new Error("Could not get canvas context");return bs}let Wn=null;const M4=(i,t,e)=>(Wn||(Wn=new vn),Wn.convertFont(i,t,e||Ut.Normal));function oa(i){i=i||S4();function t(e,s,n,o){if(!i)throw new Error("Could not get canvas context");i.font=M4(s,n,o);const a=i.measureText(e);return new lt(a.width,n)}return{measureText:t}}class vn{convertLineJoin(t){switch(t=t||Q.Miter,t){case Q.Miter:return"miter";case Q.Bevel:return"bevel";case Q.Round:return"round"}}convertStrokeOrFillStyle(t){return t.toRgba()}convertFont(t,e,s){let n="";return(s||Ut.Normal)>Ut.Normal&&(n+="bold "),n+=`${e||12}px `,t&&(n+=`"${t}" `),n.trim()}}class k4{constructor(){Ct(this,"cache",new Map)}get(t){return this.cache.get(t)}set(t,e){this.cache.set(t,e)}clear(t){t?this.cache.delete(t):this.cache.clear()}}let A4=new k4;function ul(){return A4}class R4 extends Po{constructor(t){super(),Ct(this,"ctx"),Ct(this,"_textMeasurer"),Ct(this,"styleConverter",new vn),Ct(this,"_ctxInitStyles"),Ct(this,"_renderContextImageCacheService"),this.canvas=t;const e=t.getContext("2d");if(!e)throw new Error("Could not get canvas context");this.ctx=e,this._ctxInitStyles={fillStyle:e.fillStyle,strokeStyle:e.strokeStyle,lineJoin:e.lineJoin,lineWidth:e.lineWidth},this._renderContextImageCacheService=ul(),this._textMeasurer=oa(e)}async drawImage(t,e,s,n,o,a,l,h,m,c,g){if(c<=0)return;this.resetStyles();const f=this.ctx,b=await this.getOrCreateImage(t,()=>{const S=new Blob([t.data],{type:"image/png"});return createImageBitmap(S)});f.imageSmoothingEnabled=g,f.drawImage(b,e,s,n,o,vt(a,0),vt(l,0),vt(h,0),vt(m,0))}async drawLineSegments(t,e,s,n,o,a){if(t.length<2||e.isInvisible()||s==0)return;this.resetStyles();const l=this.ctx;l.beginPath(),this.applyLineStyle(e,s,n,o,a);for(let h=0;h<t.length;h+=2){const m=t[h],c=t[h+1];this.drawPoints([m,c])}l.stroke()}async drawLine(t,e,s,n,o,a){if(t.length<2||e.isInvisible()||s==0)return;this.resetStyles();const l=this.ctx;l.beginPath(),this.applyLineStyle(e,s,n,o,a),this.drawPoints(t),l.stroke()}async drawPolygon(t,e,s,n,o,a,l){if(e.isInvisible()&&!(s.isVisible()||n<=0)||t.length<2)return;this.resetStyles();const h=this.ctx;h.beginPath(),this.applyPolygonStyle(e,s,n,o,a,l),this.drawPoints(t),h.closePath(),e.isVisible()&&h.fill(),s.isVisible()&&n>0&&h.stroke()}async drawPolygons(t,e,s,n,o,a,l){if(e.isInvisible()&&!(s.isVisible()||n<=0)||t.length===0)return;this.resetStyles();const h=this.ctx;this.applyPolygonStyle(e,s,n,o,a,l);for(const m of t)m.length<2||(h.beginPath(),this.drawPoints(m),h.closePath(),e.isVisible()&&h.fill(),s.isVisible()&&n>0&&h.stroke())}async drawText(t,e,s,n,o,a,l,h,m,c){if(!e||s.isInvisible())return;Mt(h)&&(h=B.Left),Mt(m)&&(m=D.Top),this.resetStyles();const g=this.ctx;o=o||12,a=a||Ut.Normal,this.applyTextStyle(s,n,o,a),g.save(),g.translate(t.x,t.y),l&&g.rotate(l*(Math.PI/180));const f=fn.splitLines(e),b=[];for(const T of f){const C=this.measureText(T,n,o,a);b.push(C)}const S=b.reduce((T,C)=>T+C.height,0);let M=0;g.textBaseline="middle",m===D.Top?M=0:m===D.Middle?M=-S/2:m===D.Bottom&&(M=-S);for(let T=0;T<f.length;T++){const C=f[T];let v=0;const R=b[T];h===B.Center?v=-R.width/2:h===B.Right&&(v=-R.width),g.fillText(C,v,M+R.height/2,c==null?void 0:c.width),M+=R.height}g.restore()}measureText(t,e,s,n){return this._textMeasurer.measureText(t,e,s,n)}setClip(t){this.ctx.save();const e=new Path2D;e.rect(t.left,t.top,t.width,t.height),this.ctx.clip(e)}resetClip(){this.ctx.restore()}resetStyles(){const t=this.ctx;t.setLineDash([]),Object.assign(t,this._ctxInitStyles)}applyLineStyle(t,e,s,n,o){const a=this.ctx;n&&n.length>0&&a.setLineDash(n),a.lineWidth=e,a.lineJoin=this.styleConverter.convertLineJoin(o),a.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(t)}applyPolygonStyle(t,e,s,n,o,a){e.isVisible()&&s>0&&this.applyLineStyle(e,s,n,o,a),t.isVisible()&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(t))}applyTextStyle(t,e,s,n){const o=this.ctx;o.fillStyle=this.styleConverter.convertStrokeOrFillStyle(t),o.font=this.styleConverter.convertFont(e,s,n)}drawPoints(t){this.ctx.moveTo(t[0].x,t[0].y);for(let e=1;e<t.length;e++){const s=t[e];this.ctx.lineTo(s.x,s.y)}}async getOrCreateImage(t,e){const s=t.getHashCode().toString(),n=this._renderContextImageCacheService.get(s);if(n)return Promise.resolve(n);const o=await e();return this._renderContextImageCacheService.set(s,o),o}}class T4 extends na{constructor(t){if(super(),Ct(this,"_view"),Ct(this,"_tooltip"),Ct(this,"_renderContext"),Ct(this,"_drawCtx"),Ct(this,"_styleConverter",new vn),this._view=t,this._drawCtx=this._view.getContext("2d"),!this._drawCtx)throw new Error("Could not get 2d context");this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",document.body.appendChild(this._tooltip),this._renderContext=new R4(this._view),ml(this._view,this)}get tooltip(){return this._tooltip}get clientArea(){return new N(0,0,this._view.width,this._view.height)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(t){if(!(t!=null&&t.position))return;const e=t.toString()||"";if(e.trim().length===0)return;const s=this._view.offsetTop,n=this._view.offsetLeft;this._tooltip.innerText=e,this._tooltip.style.top=`${s+t.position.y}px`,this._tooltip.style.left=`${n+t.position.x}px`,this._tooltip.style.visibility="visible"}setCursorType(t){this._view.style.cursor=hl(t)}async renderOverride(t){this._drawCtx=this._view.getContext("2d");const e=this._view;if(this._drawCtx.reset(),t.background.isUndefined()||(this._drawCtx.fillStyle=this._styleConverter.convertStrokeOrFillStyle(t.background),this._drawCtx.fillRect(0,0,e.width,e.height)),await t.render(this._renderContext,new N(0,0,e.width,e.height)),this._zoomRectangle&&this._zoomRectangle.equals(N.Empty)){const s=r.parse("#40FFFF00"),n=p.Black;await this._renderContext.drawRectangle(this._zoomRectangle,s,n,1,U.Automatic)}}}class C4 extends Po{constructor(t){super(),Ct(this,"_pdf"),Ct(this,"ctx"),Ct(this,"_textMeasurer"),Ct(this,"styleConverter",new vn),Ct(this,"_ctxInitStyles"),this._pdf=new Ba({unit:"px",orientation:t});const e=this._pdf.context2d;this.ctx=e,this._ctxInitStyles={fillStyle:e.fillStyle,strokeStyle:e.strokeStyle,lineJoin:e.lineJoin,lineWidth:e.lineWidth},this._textMeasurer=oa()}getPdf(){return this._pdf}async drawImage(t,e,s,n,o,a,l,h,m,c,g){if(c<=0)return;const f=a-e/n*h,b=t.width/n*h,S=l-s/o*m,M=t.height/o*m;this.clearStyles(),this._pdf.addImage(t.data,"PNG",f,S,b,M)}async drawLineSegments(t,e,s,n,o,a){if(t.length<2||e.isInvisible()||s==0)return;this.clearStyles();const l=this.ctx;l.beginPath(),this.applyLineStyle(e,s,n,o,a);for(let h=0;h<t.length;h+=2){const m=t[h],c=t[h+1];this.drawPoints([m,c])}l.stroke()}async drawLine(t,e,s,n,o,a){if(t.length<2||e.isInvisible()||s==0)return;this.clearStyles();const l=this.ctx;l.beginPath(),this.applyLineStyle(e,s,n,o,a),this.drawPoints(t),l.stroke()}async drawPolygon(t,e,s,n,o,a,l){if(e.isInvisible()&&!(s.isVisible()||n<=0)||t.length<2)return;this.clearStyles();const h=this.ctx;if(e.a<255||s.a<255){this._pdf.saveGraphicsState();let m=1,c=1;e.a<255&&(m=e.a/255),s.a<255&&(c=s.a/255),this._pdf.setGState(this._pdf.GState({opacity:m,"stroke-opacity":c}))}h.beginPath(),this.applyPolygonStyle(e,s,n,o,a,l),this.drawPoints(t),h.closePath(),e.isVisible()&&h.fill(),s.isVisible()&&n>0&&h.stroke(),(e.a<255||s.a<255)&&this._pdf.restoreGraphicsState()}async drawPolygons(t,e,s,n,o,a,l){if(e.isInvisible()&&!(s.isVisible()||n<=0)||t.length===0)return;this.clearStyles();const h=this.ctx;this.applyPolygonStyle(e,s,n,o,a,l);for(const m of t)m.length<2||(h.beginPath(),this.drawPoints(m),h.closePath(),e.isVisible()&&h.fill(),s.isVisible()&&n>0&&h.stroke())}async drawText(t,e,s,n,o,a,l,h,m,c){if(!e||s.isInvisible())return;this.clearStyles(),Mt(h)&&(h=B.Left),Mt(m)&&(m=D.Top);const g=this.ctx;o=o||12,a=a||Ut.Normal,this.applyTextStyle(s,n,o,a),g.save(),g.translate(t.x,t.y),l&&g.rotate(l*(Math.PI/180));const f=fn.splitLines(e),b=[];for(const T of f){const C=this.measureText(T,n,o,a);b.push(C)}const S=b.reduce((T,C)=>T+C.height,0);let M=0;g.textBaseline="middle",m===D.Top?M=0:m===D.Middle?M=-S/2:m===D.Bottom&&(M=-S);for(let T=0;T<f.length;T++){const C=f[T];let v=0;const R=b[T];h===B.Center?v=-R.width/2:h===B.Right&&(v=-R.width),g.fillText(C,v,M+R.height/2),M+=R.height}g.restore()}measureText(t,e,s,n){return this._textMeasurer.measureText(t,e,s,n)}setClip(t){this.ctx.save(),this.ctx.rect(t.left,t.top,t.width,t.height),this.ctx.clip()}resetClip(){this.ctx.restore()}applyLineStyle(t,e,s,n,o){const a=this.ctx;n&&n.length>0&&a.setLineDash(n),a.lineWidth=e,a.lineJoin=this.styleConverter.convertLineJoin(o),a.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(t)}clearStyles(){this.ctx.setLineDash([])}applyPolygonStyle(t,e,s,n,o,a){e.isVisible()&&s>0&&this.applyLineStyle(e,s,n,o,a),t.isVisible()&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(t))}applyTextStyle(t,e,s,n){const o=this.ctx;o.fillStyle=this.styleConverter.convertStrokeOrFillStyle(t),o.font=this.styleConverter.convertFont(e,s,n)}drawPoints(t){this.ctx.moveTo(t[0].x,t[0].y);for(let e=1;e<t.length;e++){const s=t[e];this.ctx.lineTo(s.x,s.y)}}}class v4 extends na{constructor(t){super(),Ct(this,"_view"),Ct(this,"_orientation","portrait"),Ct(this,"_clientArea",N.Empty),this._view=t,this.calcClientArea()}get orientation(){return this._orientation}set orientation(t){t!==this._orientation&&(this._orientation=t,this.calcClientArea())}calcClientArea(){const t=new Ba({unit:"px",orientation:this.orientation}),e=new lt(t.internal.pageSize.width,t.internal.pageSize.height);t.close(),this._clientArea=N.fromScreenPointAndSize(ye,e)}get clientArea(){return this._clientArea}async renderOverride(t){const e=new C4(this.orientation);await t.render(e,this.clientArea);const s=e.getPdf();s.internal.pages.length>1&&s.deletePage(1);const n=s.output("dataurlstring",{filename:t.title+".pdf"});this._view.src="",this._view.src=n}}class P4 extends na{constructor(t){super(),Ct(this,"_view"),Ct(this,"_tooltip"),Ct(this,"textMeasurer"),this._view=t,this.textMeasurer=oa(),this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",document.body.appendChild(this._tooltip),ml(this._view,this)}get tooltip(){return this._tooltip}get clientArea(){return new N(0,0,this._view.clientWidth,this._view.clientHeight)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(t){if(!(t!=null&&t.position))return;const e=t.toString()||"";if(e.trim().length===0)return;const s=this._view.offsetTop,n=this._view.offsetLeft;this._tooltip.innerText=e,this._tooltip.style.top=`${s+t.position.y}px`,this._tooltip.style.left=`${n+t.position.x}px`,this._tooltip.style.visibility="visible"}setCursorType(t){this._view.style.cursor=hl(t)}async renderOverride(t){const e=this._view;this._view.innerHTML="";const s=new $h(e.clientWidth,e.clientHeight,!0,this.textMeasurer,t.background);if(t.background.isUndefined()||(this._view.style.backgroundColor=t.background.toString()),await t.render(s,new N(0,0,e.clientWidth,e.clientHeight)),this._zoomRectangle&&this._zoomRectangle.equals(N.Empty)){const n=r.parse("#40FFFF00"),o=p.Black;await s.drawRectangle(this._zoomRectangle,n,o,1,U.Automatic)}s.complete(),this._view.innerHTML=s.getXml()}}const $s=i=>(Dl("data-v-35d4ddb0"),i=i(),Nl(),i),L4={class:"flex py-4"},I4={class:"w-[300px]"},B4={class:"overflow-x-hidden overflow-y-auto mt-2",style:{"max-height":"calc(100vh - 100px)"}},D4=["onClick"],N4={class:"flex-grow ml-4"},F4={id:"canvasPlotView",class:"border border-gray-200 rounded-lg shadow",style:{width:"800px",height:"600px"}},V4={id:"svgPlotView",class:"border border-gray-200 rounded-lg shadow select-none",style:{width:"800px",height:"600px"}},E4={class:"flex justify-between mt-2"},_4={class:"flex items-center"},O4={class:"relative mt-1"},z4={class:"block truncate"},$4={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},G4=$s(()=>Pt("span",{class:"ml-4 mr-2"},"landscape",-1)),U4=$s(()=>Pt("span",{class:"ml-2"},"portrait",-1)),j4={key:0,class:"flex"},W4={key:0,class:"flex items-center"},H4=["disabled"],Y4=$s(()=>Pt("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkTransposed"},"Transposed",-1)),X4={key:1,class:"flex items-center ml-2"},q4=["disabled"],K4=$s(()=>Pt("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkReversed"},"Reversed",-1)),Z4=$s(()=>Pt("a",{class:"fixed bottom-2 right-2",style:{"font-size":"2rem",color:"rgb(31, 35, 40)"},href:"https://github.com/iniceice88/oxyplot-js",target:"_blank","aria-label":"View GitHub Repo"},[Pt("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},[Pt("path",{fill:"currentColor",d:"M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 0 0 6.838 9.488c.5.087.687-.213.687-.476c0-.237-.013-1.024-.013-1.862c-2.512.463-3.162-.612-3.362-1.175c-.113-.288-.6-1.175-1.025-1.413c-.35-.187-.85-.65-.013-.662c.788-.013 1.35.725 1.538 1.025c.9 1.512 2.338 1.087 2.912.825c.088-.65.35-1.087.638-1.337c-2.225-.25-4.55-1.113-4.55-4.938c0-1.088.387-1.987 1.025-2.688c-.1-.25-.45-1.275.1-2.65c0 0 .837-.262 2.75 1.026a9.28 9.28 0 0 1 2.5-.338c.85 0 1.7.112 2.5.337c1.912-1.3 2.75-1.024 2.75-1.024c.55 1.375.2 2.4.1 2.65c.637.7 1.025 1.587 1.025 2.687c0 3.838-2.337 4.688-4.562 4.938c.362.312.675.912.675 1.85c0 1.337-.013 2.412-.013 2.75c0 .262.188.574.688.474A10.016 10.016 0 0 0 22 12c0-5.525-4.475-10-10-10z"})])],-1)),J4=gl({__name:"App",setup(i){window.oxyPlotImg=p4,ve.extend(xl),ve.extend(fl);const t=si(null),e=si(""),s=si(!1),n=si(!1),o=si(!1),a=si(!1),l=si("canvas"),h=si(["canvas","pdf","svg"]),m=si(!1),c=wl(()=>{if(!e.value)return jn;const R=[],P=e.value.toLowerCase();function I(V,_){return(_.title||"").toLowerCase().includes(P)||(V.tags||[]).some(E=>E.toLowerCase().includes(P))}for(const V of jn){const _=V.examples.filter(E=>I(V,E));_.length>0&&R.push({category:V.category,examples:_})}return R});ra([s,o,l],async()=>{if(!t.value)return;const R=await C(t.value);R&&await v(R)}),ra(m,()=>{}),yl(()=>{let R=window.location.hash;if(R.length>1){if(R=decodeURIComponent(R.substring(1)),!R.includes("	"))return;const[P,I]=R.split("	");g(P,I)}});function g(R,P){const I=jn.find(_=>_.category===R);if(!I)return;const V=I.examples.find(_=>_.title===P);V&&T(I,V)}let f=null;function b(){if(f)return f;const R=document.getElementById("canvasPlotView"),P=R.clientWidth,I=R.clientHeight,V=window.devicePixelRatio||1;return R.width=P*V,R.height=I*V,R.style.width=P+"px",R.style.height=I+"px",f=R,f}let S={};function M(){if(l.value==="canvas"){const R="canvas";if(S[R])return S[R];const P=b(),I=new T4(P);return S[R]=I,I}if(l.value==="pdf"){const R=m.value?"pdf-portrait":"pdf-landscape";if(S[R])return S[R];const P=new v4(document.getElementById("pdfPlotView"));return P.orientation=m.value?"portrait":"landscape",S[R]=P,P}if(l.value==="svg"){const R="svg";let P=S[R];const I=document.getElementById("svgPlotView");return I.innerHTML="",P||(P=new P4(I),S[R]=P,P)}throw new Error(`Unknown renderer type: ${l.value}`)}async function T(R,P){if(la(t.value)===P)return;const I=await C(P);I&&(t.value=P,n.value=ce.isTransposable(I.model),a.value=ce.isReversible(I.model),ul().clear(),await v(I)&&(window.location.hash=encodeURIComponent(`${R.category}	${P.title}`)))}async function C(R){let P=null;try{P=await R.example.model()}catch(V){return console.error(V),alert(V),null}if(!P)return null;s.value&&ce.isTransposable(P)&&ce.transpose(P),o.value&&ce.isReversible(P)&&ce.reverseAllAxes(P);let I;return R.example.controller&&(I=R.example.controller()),{model:P,controller:I}}async function v(R){const P=R.model;if(!P)return!1;const I=M();return I.model=P,I.controller=R.controller,!0}return(R,P)=>($e(),ni(fs,null,[Pt("div",L4,[Pt("div",I4,[ji(Pt("input",{type:"text","onUpdate:modelValue":P[0]||(P[0]=I=>e.value=I),placeholder:"Filter",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[bl,e.value]]),Pt("div",B4,[($e(!0),ni(fs,null,Pn(c.value,I=>($e(),ma(He(Rl),{as:"div",class:"mt-2 mr-1",key:I.category},{default:ai(({open:V})=>[oi(He(kl),{class:"flex w-full justify-between rounded-lg bg-purple-100 px-4 py-2 text-left text-sm font-medium text-purple-900 hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500/75"},{default:ai(()=>[Pt("span",null,ws(I.category)+" ("+ws(I.examples.length)+")",1),oi(He(Ml),{class:Di([V?"rotate-180 transform":"","h-5 w-5 text-purple-500"])},null,8,["class"])]),_:2},1024),oi(He(Al),{class:"px-4 pb-2 text-sm text-gray-500"},{default:ai(()=>[Pt("ul",null,[($e(!0),ni(fs,null,Pn(I.examples,_=>($e(),ni("li",{key:_.title,class:"my-2 cursor-pointer"},[Pt("div",{onClick:E=>T(I,_),class:Di({"text-sky-500 font-bold":la(t.value)===_})},ws(_.title),11,D4)]))),128))])]),_:2},1024)]),_:2},1024))),128))])]),Pt("div",N4,[ji(Pt("iframe",{id:"pdfPlotView",class:Di(["border border-gray-200 rounded-lg shadow",[m.value?"pdfplotview-portrait":"pdfplotview-landscape"]])},null,2),[[Ln,l.value==="pdf"]]),ji(Pt("canvas",F4,null,512),[[Ln,l.value==="canvas"]]),ji(Pt("div",V4,null,512),[[Ln,l.value==="svg"]]),Pt("div",E4,[Pt("div",_4,[Sl(" Renderer: "),oi(He(Il),{modelValue:l.value,"onUpdate:modelValue":P[1]||(P[1]=I=>l.value=I),class:"ml-2",style:{"min-width":"120px"}},{default:ai(()=>[Pt("div",O4,[oi(He(Tl),{class:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:ai(()=>[Pt("span",z4,ws(l.value),1),Pt("span",$4,[oi(He(Cl),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),oi(vl,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:ai(()=>[oi(He(Pl),{class:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},{default:ai(()=>[($e(!0),ni(fs,null,Pn(h.value,I=>($e(),ma(He(Ll),{key:I,value:I,as:"template"},{default:ai(({active:V,selected:_})=>[Pt("li",{class:Di([V?"bg-purple-100 text-purple-900":"text-gray-900","relative cursor-default select-none py-2 pl-10 pr-4"])},[Pt("span",{class:Di([_?"font-medium":"font-normal","block truncate"])},ws(I),3)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]),l.value==="pdf"?($e(),ni(fs,{key:0},[G4,oi(He(Bl),{modelValue:m.value,"onUpdate:modelValue":P[2]||(P[2]=I=>m.value=I),class:Di([m.value?"bg-purple-600":"bg-gray-200","relative inline-flex h-6 w-11 items-center rounded-full"])},{default:ai(()=>[Pt("span",{class:Di([m.value?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition"])},null,2)]),_:1},8,["modelValue","class"]),U4],64)):Us("",!0)]),l.value==="canvas"||l.value==="svg"?($e(),ni("div",j4,[t.value?($e(),ni("div",W4,[ji(Pt("input",{"onUpdate:modelValue":P[3]||(P[3]=I=>s.value=I),type:"checkbox",disabled:!n.value,id:"chkTransposed",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,H4),[[ha,s.value]]),Y4])):Us("",!0),t.value?($e(),ni("div",X4,[ji(Pt("input",{"onUpdate:modelValue":P[4]||(P[4]=I=>o.value=I),disabled:!a.value,type:"checkbox",id:"chkReversed",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,q4),[[ha,o.value]]),K4])):Us("",!0)])):Us("",!0)])])]),Z4],64))}}),Q4=(i,t)=>{const e=i.__vccOpts||i;for(const[s,n]of t)e[s]=n;return e},ty=Q4(J4,[["__scopeId","data-v-35d4ddb0"]]);Fl(ty).mount("#app");
