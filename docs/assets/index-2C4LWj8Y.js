var pc=Object.defineProperty;var mc=(t,e,r)=>e in t?pc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Tn=(t,e,r)=>(mc(t,typeof e!="symbol"?e+"":e,r),r),Ml=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var Qr=(t,e,r)=>(Ml(t,e,"read from private field"),r?r.call(t):e.get(t)),Dl=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},ka=(t,e,r,xe)=>(Ml(t,e,"write to private field"),xe?xe.call(t,r):e.set(t,r),r);var Tl=(t,e,r)=>(Ml(t,e,"access private method"),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const Se of document.querySelectorAll('link[rel="modulepreload"]'))xe(Se);new MutationObserver(Se=>{for(const _e of Se)if(_e.type==="childList")for(const Ae of _e.addedNodes)Ae.tagName==="LINK"&&Ae.rel==="modulepreload"&&xe(Ae)}).observe(document,{childList:!0,subtree:!0});function r(Se){const _e={};return Se.integrity&&(_e.integrity=Se.integrity),Se.referrerPolicy&&(_e.referrerPolicy=Se.referrerPolicy),Se.crossOrigin==="use-credentials"?_e.credentials="include":Se.crossOrigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function xe(Se){if(Se.ep)return;Se.ep=!0;const _e=r(Se);fetch(Se.href,_e)}})();function makeMap(t,e){const r=Object.create(null),xe=t.split(",");for(let Se=0;Se<xe.length;Se++)r[xe[Se]]=!0;return e?Se=>!!r[Se.toLowerCase()]:Se=>!!r[Se]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),isModelListener=t=>t.startsWith("onUpdate:"),extend$3=Object.assign,remove=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn$2=(t,e)=>hasOwnProperty$1.call(t,e),isArray$1=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isFunction=t=>typeof t=="function",isString=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject=t=>t!==null&&typeof t=="object",isPromise=t=>(isObject(t)||isFunction(t))&&isFunction(t.then)&&isFunction(t.catch),objectToString$1=Object.prototype.toString,toTypeString=t=>objectToString$1.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},def=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},looseToNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e},toNumber=t=>{const e=isString(t)?Number(t):NaN;return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(t){if(isArray$1(t)){const e={};for(let r=0;r<t.length;r++){const xe=t[r],Se=isString(xe)?parseStringStyle(xe):normalizeStyle(xe);if(Se)for(const _e in Se)e[_e]=Se[_e]}return e}else if(isString(t)||isObject(t))return t}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(t){const e={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const xe=r.split(propertyDelimiterRE);xe.length>1&&(e[xe[0].trim()]=xe[1].trim())}}),e}function normalizeClass(t){let e="";if(isString(t))e=t;else if(isArray$1(t))for(let r=0;r<t.length;r++){const xe=normalizeClass(t[r]);xe&&(e+=xe+" ")}else if(isObject(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}const toDisplayString=t=>isString(t)?t:t==null?"":isArray$1(t)||isObject(t)&&(t.toString===objectToString$1||!isFunction(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[xe,Se],_e)=>(r[stringifySymbol(xe,_e)+" =>"]=Se,r),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>stringifySymbol(r))}:isSymbol(e)?stringifySymbol(e):isObject(e)&&!isArray$1(e)&&!isPlainObject(e)?String(e):e,stringifySymbol=(t,e="")=>{var r;return isSymbol(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let r,xe;for(r=0,xe=this.effects.length;r<xe;r++)this.effects[r].stop();for(r=0,xe=this.cleanups.length;r<xe;r++)this.cleanups[r]();if(this.scopes)for(r=0,xe=this.scopes.length;r<xe;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const Se=this.parent.scopes.pop();Se&&Se!==this&&(this.parent.scopes[this.index]=Se,Se.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(t,e=activeEffectScope){e&&e.active&&e.effects.push(t)}function getCurrentScope(){return activeEffectScope}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let r=0;for(let xe=0;xe<e.length;xe++){const Se=e[xe];wasTracked(Se)&&!newTracked(Se)?Se.delete(t):e[r++]=Se,Se.w&=~trackOpBit,Se.n&=~trackOpBit}e.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,r=null,xe){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,xe)}run(){if(!this.active)return this.fn();let e=activeEffect,r=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,e,r){if(shouldTrack&&activeEffect){let xe=targetMap.get(t);xe||targetMap.set(t,xe=new Map);let Se=xe.get(r);Se||xe.set(r,Se=createDep()),trackEffects(Se)}}function trackEffects(t,e){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,r=!wasTracked(t)):r=!t.has(activeEffect),r&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger(t,e,r,xe,Se,_e){const Ae=targetMap.get(t);if(!Ae)return;let Ce=[];if(e==="clear")Ce=[...Ae.values()];else if(r==="length"&&isArray$1(t)){const Pe=Number(xe);Ae.forEach((Ee,Oe)=>{(Oe==="length"||!isSymbol(Oe)&&Oe>=Pe)&&Ce.push(Ee)})}else switch(r!==void 0&&Ce.push(Ae.get(r)),e){case"add":isArray$1(t)?isIntegerKey(r)&&Ce.push(Ae.get("length")):(Ce.push(Ae.get(ITERATE_KEY)),isMap(t)&&Ce.push(Ae.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(t)||(Ce.push(Ae.get(ITERATE_KEY)),isMap(t)&&Ce.push(Ae.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&Ce.push(Ae.get(ITERATE_KEY));break}if(Ce.length===1)Ce[0]&&triggerEffects(Ce[0]);else{const Pe=[];for(const Ee of Ce)Ee&&Pe.push(...Ee);triggerEffects(createDep(Pe))}}function triggerEffects(t,e){const r=isArray$1(t)?t:[...t];for(const xe of r)xe.computed&&triggerEffect(xe);for(const xe of r)xe.computed||triggerEffect(xe)}function triggerEffect(t,e){(t!==activeEffect||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const xe=toRaw(this);for(let _e=0,Ae=this.length;_e<Ae;_e++)track(xe,"get",_e+"");const Se=xe[e](...r);return Se===-1||Se===!1?xe[e](...r.map(toRaw)):Se}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){pauseTracking();const xe=toRaw(this)[e].apply(this,r);return resetTracking(),xe}}),t}function hasOwnProperty(t){const e=toRaw(this);return track(e,"has",t),e.hasOwnProperty(t)}class BaseReactiveHandler{constructor(e=!1,r=!1){this._isReadonly=e,this._shallow=r}get(e,r,xe){const Se=this._isReadonly,_e=this._shallow;if(r==="__v_isReactive")return!Se;if(r==="__v_isReadonly")return Se;if(r==="__v_isShallow")return _e;if(r==="__v_raw")return xe===(Se?_e?shallowReadonlyMap:readonlyMap:_e?shallowReactiveMap:reactiveMap).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(xe)?e:void 0;const Ae=isArray$1(e);if(!Se){if(Ae&&hasOwn$2(arrayInstrumentations,r))return Reflect.get(arrayInstrumentations,r,xe);if(r==="hasOwnProperty")return hasOwnProperty}const Ce=Reflect.get(e,r,xe);return(isSymbol(r)?builtInSymbols.has(r):isNonTrackableKeys(r))||(Se||track(e,"get",r),_e)?Ce:isRef(Ce)?Ae&&isIntegerKey(r)?Ce:Ce.value:isObject(Ce)?Se?readonly(Ce):reactive(Ce):Ce}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!1,e)}set(e,r,xe,Se){let _e=e[r];if(!this._shallow){const Pe=isReadonly(_e);if(!isShallow(xe)&&!isReadonly(xe)&&(_e=toRaw(_e),xe=toRaw(xe)),!isArray$1(e)&&isRef(_e)&&!isRef(xe))return Pe?!1:(_e.value=xe,!0)}const Ae=isArray$1(e)&&isIntegerKey(r)?Number(r)<e.length:hasOwn$2(e,r),Ce=Reflect.set(e,r,xe,Se);return e===toRaw(Se)&&(Ae?hasChanged(xe,_e)&&trigger(e,"set",r,xe):trigger(e,"add",r,xe)),Ce}deleteProperty(e,r){const xe=hasOwn$2(e,r);e[r];const Se=Reflect.deleteProperty(e,r);return Se&&xe&&trigger(e,"delete",r,void 0),Se}has(e,r){const xe=Reflect.has(e,r);return(!isSymbol(r)||!builtInSymbols.has(r))&&track(e,"has",r),xe}ownKeys(e){return track(e,"iterate",isArray$1(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function get(t,e,r=!1,xe=!1){t=t.__v_raw;const Se=toRaw(t),_e=toRaw(e);r||(hasChanged(e,_e)&&track(Se,"get",e),track(Se,"get",_e));const{has:Ae}=getProto(Se),Ce=xe?toShallow:r?toReadonly:toReactive;if(Ae.call(Se,e))return Ce(t.get(e));if(Ae.call(Se,_e))return Ce(t.get(_e));t!==Se&&t.get(e)}function has(t,e=!1){const r=this.__v_raw,xe=toRaw(r),Se=toRaw(t);return e||(hasChanged(t,Se)&&track(xe,"has",t),track(xe,"has",Se)),t===Se?r.has(t):r.has(t)||r.has(Se)}function size(t,e=!1){return t=t.__v_raw,!e&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add$1(t){t=toRaw(t);const e=toRaw(this);return getProto(e).has.call(e,t)||(e.add(t),trigger(e,"add",t,t)),this}function set(t,e){e=toRaw(e);const r=toRaw(this),{has:xe,get:Se}=getProto(r);let _e=xe.call(r,t);_e||(t=toRaw(t),_e=xe.call(r,t));const Ae=Se.call(r,t);return r.set(t,e),_e?hasChanged(e,Ae)&&trigger(r,"set",t,e):trigger(r,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:r,get:xe}=getProto(e);let Se=r.call(e,t);Se||(t=toRaw(t),Se=r.call(e,t)),xe&&xe.call(e,t);const _e=e.delete(t);return Se&&trigger(e,"delete",t,void 0),_e}function clear(){const t=toRaw(this),e=t.size!==0,r=t.clear();return e&&trigger(t,"clear",void 0,void 0),r}function createForEach(t,e){return function(xe,Se){const _e=this,Ae=_e.__v_raw,Ce=toRaw(Ae),Pe=e?toShallow:t?toReadonly:toReactive;return!t&&track(Ce,"iterate",ITERATE_KEY),Ae.forEach((Ee,Oe)=>xe.call(Se,Pe(Ee),Pe(Oe),_e))}}function createIterableMethod(t,e,r){return function(...xe){const Se=this.__v_raw,_e=toRaw(Se),Ae=isMap(_e),Ce=t==="entries"||t===Symbol.iterator&&Ae,Pe=t==="keys"&&Ae,Ee=Se[t](...xe),Oe=r?toShallow:e?toReadonly:toReactive;return!e&&track(_e,"iterate",Pe?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:Me,done:De}=Ee.next();return De?{value:Me,done:De}:{value:Ce?[Oe(Me[0]),Oe(Me[1])]:Oe(Me),done:De}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function createInstrumentations(){const t={get(_e){return get(this,_e)},get size(){return size(this)},has,add:add$1,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(_e){return get(this,_e,!1,!0)},get size(){return size(this)},has,add:add$1,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(_e){return get(this,_e,!0)},get size(){return size(this,!0)},has(_e){return has.call(this,_e,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},xe={get(_e){return get(this,_e,!0,!0)},get size(){return size(this,!0)},has(_e){return has.call(this,_e,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(_e=>{t[_e]=createIterableMethod(_e,!1,!1),r[_e]=createIterableMethod(_e,!0,!1),e[_e]=createIterableMethod(_e,!1,!0),xe[_e]=createIterableMethod(_e,!0,!0)}),[t,r,e,xe]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const r=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(xe,Se,_e)=>Se==="__v_isReactive"?!t:Se==="__v_isReadonly"?t:Se==="__v_raw"?xe:Reflect.get(hasOwn$2(r,Se)&&Se in xe?r:xe,Se,_e)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(t,e,r,xe,Se){if(!isObject(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const _e=Se.get(t);if(_e)return _e;const Ae=getTargetType(t);if(Ae===0)return t;const Ce=new Proxy(t,Ae===2?xe:r);return Se.set(t,Ce),Ce}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject(t)?reactive(t):t,toReadonly=t=>isObject(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,e){t=toRaw(t);const r=t.dep;r&&triggerEffects(r)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref(t){return createRef(t,!1)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:toRaw(e),this._value=r?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const r=this.__v_isShallow||isShallow(e)||isReadonly(e);e=r?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:toReactive(e),triggerRefValue(this))}}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,r)=>unref(Reflect.get(t,e,r)),set:(t,e,r,xe)=>{const Se=t[e];return isRef(Se)&&!isRef(r)?(Se.value=r,!0):Reflect.set(t,e,r,xe)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(e,r,xe,Se){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!Se,this.__v_isReadonly=xe}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function computed$1(t,e,r=!1){let xe,Se;const _e=isFunction(t);return _e?(xe=t,Se=NOOP):(xe=t.get,Se=t.set),new ComputedRefImpl(xe,Se,_e||!Se,r)}function warn(t,...e){}function callWithErrorHandling(t,e,r,xe){let Se;try{Se=xe?t(...xe):t()}catch(_e){handleError(_e,e,r)}return Se}function callWithAsyncErrorHandling(t,e,r,xe){if(isFunction(t)){const _e=callWithErrorHandling(t,e,r,xe);return _e&&isPromise(_e)&&_e.catch(Ae=>{handleError(Ae,e,r)}),_e}const Se=[];for(let _e=0;_e<t.length;_e++)Se.push(callWithAsyncErrorHandling(t[_e],e,r,xe));return Se}function handleError(t,e,r,xe=!0){const Se=e?e.vnode:null;if(e){let _e=e.parent;const Ae=e.proxy,Ce=r;for(;_e;){const Ee=_e.ec;if(Ee){for(let Oe=0;Oe<Ee.length;Oe++)if(Ee[Oe](t,Ae,Ce)===!1)return}_e=_e.parent}const Pe=e.appContext.config.errorHandler;if(Pe){callWithErrorHandling(Pe,null,10,[t,Ae,Ce]);return}}logError(t,r,Se,xe)}function logError(t,e,r,xe=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,r=queue.length;for(;e<r;){const xe=e+r>>>1,Se=queue[xe],_e=getId(Se);_e<t||_e===t&&Se.pre?e=xe+1:r=xe}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(t){isArray$1(t)?pendingPostFlushCbs.push(...t):(!activePostFlushCbs||!activePostFlushCbs.includes(t,t.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(t),queueFlush()}function flushPreFlushCbs(t,e,r=isFlushing?flushIndex+1:0){for(;r<queue.length;r++){const xe=queue[r];if(xe&&xe.pre){if(t&&xe.id!==t.uid)continue;queue.splice(r,1),r--,xe()}}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((r,xe)=>getId(r)-getId(xe)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id,comparator=(t,e)=>{const r=getId(t)-getId(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function flushJobs(t){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];e&&e.active!==!1&&callWithErrorHandling(e,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(t,e,...r){if(t.isUnmounted)return;const xe=t.vnode.props||EMPTY_OBJ;let Se=r;const _e=e.startsWith("update:"),Ae=_e&&e.slice(7);if(Ae&&Ae in xe){const Oe=`${Ae==="modelValue"?"model":Ae}Modifiers`,{number:Me,trim:De}=xe[Oe]||EMPTY_OBJ;De&&(Se=r.map(Te=>isString(Te)?Te.trim():Te)),Me&&(Se=r.map(looseToNumber))}let Ce,Pe=xe[Ce=toHandlerKey(e)]||xe[Ce=toHandlerKey(camelize(e))];!Pe&&_e&&(Pe=xe[Ce=toHandlerKey(hyphenate(e))]),Pe&&callWithAsyncErrorHandling(Pe,t,6,Se);const Ee=xe[Ce+"Once"];if(Ee){if(!t.emitted)t.emitted={};else if(t.emitted[Ce])return;t.emitted[Ce]=!0,callWithAsyncErrorHandling(Ee,t,6,Se)}}function normalizeEmitsOptions(t,e,r=!1){const xe=e.emitsCache,Se=xe.get(t);if(Se!==void 0)return Se;const _e=t.emits;let Ae={},Ce=!1;if(!isFunction(t)){const Pe=Ee=>{const Oe=normalizeEmitsOptions(Ee,e,!0);Oe&&(Ce=!0,extend$3(Ae,Oe))};!r&&e.mixins.length&&e.mixins.forEach(Pe),t.extends&&Pe(t.extends),t.mixins&&t.mixins.forEach(Pe)}return!_e&&!Ce?(isObject(t)&&xe.set(t,null),null):(isArray$1(_e)?_e.forEach(Pe=>Ae[Pe]=null):extend$3(Ae,_e),isObject(t)&&xe.set(t,Ae),Ae)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn$2(t,e[0].toLowerCase()+e.slice(1))||hasOwn$2(t,hyphenate(e))||hasOwn$2(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function pushScopeId(t){currentScopeId=t}function popScopeId(){currentScopeId=null}function withCtx(t,e=currentRenderingInstance,r){if(!e||t._n)return t;const xe=(...Se)=>{xe._d&&setBlockTracking(-1);const _e=setCurrentRenderingInstance(e);let Ae;try{Ae=t(...Se)}finally{setCurrentRenderingInstance(_e),xe._d&&setBlockTracking(1)}return Ae};return xe._n=!0,xe._c=!0,xe._d=!0,xe}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:r,proxy:xe,withProxy:Se,props:_e,propsOptions:[Ae],slots:Ce,attrs:Pe,emit:Ee,render:Oe,renderCache:Me,data:De,setupState:Te,ctx:ke,inheritAttrs:Fe}=t;let $e,Be;const Ie=setCurrentRenderingInstance(t);try{if(r.shapeFlag&4){const je=Se||xe,Ve=je;$e=normalizeVNode(Oe.call(Ve,je,Me,_e,Te,De,ke)),Be=Pe}else{const je=e;$e=normalizeVNode(je.length>1?je(_e,{attrs:Pe,slots:Ce,emit:Ee}):je(_e,null)),Be=e.props?Pe:getFunctionalFallthrough(Pe)}}catch(je){blockStack.length=0,handleError(je,t,1),$e=createVNode(Comment)}let Re=$e;if(Be&&Fe!==!1){const je=Object.keys(Be),{shapeFlag:Ve}=Re;je.length&&Ve&7&&(Ae&&je.some(isModelListener)&&(Be=filterModelListeners(Be,Ae)),Re=cloneVNode(Re,Be))}return r.dirs&&(Re=cloneVNode(Re),Re.dirs=Re.dirs?Re.dirs.concat(r.dirs):r.dirs),r.transition&&(Re.transition=r.transition),$e=Re,setCurrentRenderingInstance(Ie),$e}const getFunctionalFallthrough=t=>{let e;for(const r in t)(r==="class"||r==="style"||isOn(r))&&((e||(e={}))[r]=t[r]);return e},filterModelListeners=(t,e)=>{const r={};for(const xe in t)(!isModelListener(xe)||!(xe.slice(9)in e))&&(r[xe]=t[xe]);return r};function shouldUpdateComponent(t,e,r){const{props:xe,children:Se,component:_e}=t,{props:Ae,children:Ce,patchFlag:Pe}=e,Ee=_e.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&Pe>=0){if(Pe&1024)return!0;if(Pe&16)return xe?hasPropsChanged(xe,Ae,Ee):!!Ae;if(Pe&8){const Oe=e.dynamicProps;for(let Me=0;Me<Oe.length;Me++){const De=Oe[Me];if(Ae[De]!==xe[De]&&!isEmitListener(Ee,De))return!0}}}else return(Se||Ce)&&(!Ce||!Ce.$stable)?!0:xe===Ae?!1:xe?Ae?hasPropsChanged(xe,Ae,Ee):!0:!!Ae;return!1}function hasPropsChanged(t,e,r){const xe=Object.keys(e);if(xe.length!==Object.keys(t).length)return!0;for(let Se=0;Se<xe.length;Se++){const _e=xe[Se];if(e[_e]!==t[_e]&&!isEmitListener(r,_e))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(t){return isString(t)?resolveAsset(COMPONENTS,t,!1)||t:t||NULL_DYNAMIC_COMPONENT}function resolveDirective(t){return resolveAsset(DIRECTIVES,t)}function resolveAsset(t,e,r=!0,xe=!1){const Se=currentRenderingInstance||currentInstance;if(Se){const _e=Se.type;if(t===COMPONENTS){const Ce=getComponentName(_e,!1);if(Ce&&(Ce===e||Ce===camelize(e)||Ce===capitalize(camelize(e))))return _e}const Ae=resolve(Se[t]||_e[t],e)||resolve(Se.appContext[t],e);return!Ae&&xe?_e:Ae}}function resolve(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize(camelize(e))])}const isSuspense=t=>t.__isSuspense;function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray$1(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}const INITIAL_WATCHER_VALUE={};function watch(t,e,r){return doWatch(t,e,r)}function doWatch(t,e,{immediate:r,deep:xe,flush:Se,onTrack:_e,onTrigger:Ae}=EMPTY_OBJ){var Ce;const Pe=getCurrentScope()===((Ce=currentInstance)==null?void 0:Ce.scope)?currentInstance:null;let Ee,Oe=!1,Me=!1;if(isRef(t)?(Ee=()=>t.value,Oe=isShallow(t)):isReactive(t)?(Ee=()=>t,xe=!0):isArray$1(t)?(Me=!0,Oe=t.some(je=>isReactive(je)||isShallow(je)),Ee=()=>t.map(je=>{if(isRef(je))return je.value;if(isReactive(je))return traverse(je);if(isFunction(je))return callWithErrorHandling(je,Pe,2)})):isFunction(t)?e?Ee=()=>callWithErrorHandling(t,Pe,2):Ee=()=>{if(!(Pe&&Pe.isUnmounted))return De&&De(),callWithAsyncErrorHandling(t,Pe,3,[Te])}:Ee=NOOP,e&&xe){const je=Ee;Ee=()=>traverse(je())}let De,Te=je=>{De=Ie.onStop=()=>{callWithErrorHandling(je,Pe,4),De=Ie.onStop=void 0}},ke;if(isInSSRComponentSetup)if(Te=NOOP,e?r&&callWithAsyncErrorHandling(e,Pe,3,[Ee(),Me?[]:void 0,Te]):Ee(),Se==="sync"){const je=useSSRContext();ke=je.__watcherHandles||(je.__watcherHandles=[])}else return NOOP;let Fe=Me?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const $e=()=>{if(Ie.active)if(e){const je=Ie.run();(xe||Oe||(Me?je.some((Ve,He)=>hasChanged(Ve,Fe[He])):hasChanged(je,Fe)))&&(De&&De(),callWithAsyncErrorHandling(e,Pe,3,[je,Fe===INITIAL_WATCHER_VALUE?void 0:Me&&Fe[0]===INITIAL_WATCHER_VALUE?[]:Fe,Te]),Fe=je)}else Ie.run()};$e.allowRecurse=!!e;let Be;Se==="sync"?Be=$e:Se==="post"?Be=()=>queuePostRenderEffect($e,Pe&&Pe.suspense):($e.pre=!0,Pe&&($e.id=Pe.uid),Be=()=>queueJob($e));const Ie=new ReactiveEffect(Ee,Be);e?r?$e():Fe=Ie.run():Se==="post"?queuePostRenderEffect(Ie.run.bind(Ie),Pe&&Pe.suspense):Ie.run();const Re=()=>{Ie.stop(),Pe&&Pe.scope&&remove(Pe.scope.effects,Ie)};return ke&&ke.push(Re),Re}function instanceWatch(t,e,r){const xe=this.proxy,Se=isString(t)?t.includes(".")?createPathGetter(xe,t):()=>xe[t]:t.bind(xe,xe);let _e;isFunction(e)?_e=e:(_e=e.handler,r=e);const Ae=currentInstance;setCurrentInstance(this);const Ce=doWatch(Se,_e.bind(xe),r);return Ae?setCurrentInstance(Ae):unsetCurrentInstance(),Ce}function createPathGetter(t,e){const r=e.split(".");return()=>{let xe=t;for(let Se=0;Se<r.length&&xe;Se++)xe=xe[r[Se]];return xe}}function traverse(t,e){if(!isObject(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray$1(t))for(let r=0;r<t.length;r++)traverse(t[r],e);else if(isSet(t)||isMap(t))t.forEach(r=>{traverse(r,e)});else if(isPlainObject(t))for(const r in t)traverse(t[r],e);return t}function withDirectives(t,e){const r=currentRenderingInstance;if(r===null)return t;const xe=getExposeProxy(r)||r.proxy,Se=t.dirs||(t.dirs=[]);for(let _e=0;_e<e.length;_e++){let[Ae,Ce,Pe,Ee=EMPTY_OBJ]=e[_e];Ae&&(isFunction(Ae)&&(Ae={mounted:Ae,updated:Ae}),Ae.deep&&traverse(Ce),Se.push({dir:Ae,instance:xe,value:Ce,oldValue:void 0,arg:Pe,modifiers:Ee}))}return t}function invokeDirectiveHook(t,e,r,xe){const Se=t.dirs,_e=e&&e.dirs;for(let Ae=0;Ae<Se.length;Ae++){const Ce=Se[Ae];_e&&(Ce.oldValue=_e[Ae].value);let Pe=Ce.dir[xe];Pe&&(pauseTracking(),callWithAsyncErrorHandling(Pe,r,8,[t.el,Ce,t,e]),resetTracking())}}const leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(t,{slots:e}){const r=getCurrentInstance(),xe=useTransitionState();let Se;return()=>{const _e=e.default&&getTransitionRawChildren(e.default(),!0);if(!_e||!_e.length)return;let Ae=_e[0];if(_e.length>1){for(const Fe of _e)if(Fe.type!==Comment){Ae=Fe;break}}const Ce=toRaw(t),{mode:Pe}=Ce;if(xe.isLeaving)return emptyPlaceholder(Ae);const Ee=getKeepAliveChild(Ae);if(!Ee)return emptyPlaceholder(Ae);const Oe=resolveTransitionHooks(Ee,Ce,xe,r);setTransitionHooks(Ee,Oe);const Me=r.subTree,De=Me&&getKeepAliveChild(Me);let Te=!1;const{getTransitionKey:ke}=Ee.type;if(ke){const Fe=ke();Se===void 0?Se=Fe:Fe!==Se&&(Se=Fe,Te=!0)}if(De&&De.type!==Comment&&(!isSameVNodeType(Ee,De)||Te)){const Fe=resolveTransitionHooks(De,Ce,xe,r);if(setTransitionHooks(De,Fe),Pe==="out-in")return xe.isLeaving=!0,Fe.afterLeave=()=>{xe.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder(Ae);Pe==="in-out"&&Ee.type!==Comment&&(Fe.delayLeave=($e,Be,Ie)=>{const Re=getLeavingNodesForType(xe,De);Re[String(De.key)]=De,$e[leaveCbKey]=()=>{Be(),$e[leaveCbKey]=void 0,delete Oe.delayedLeave},Oe.delayedLeave=Ie})}return Ae}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:r}=t;let xe=r.get(e.type);return xe||(xe=Object.create(null),r.set(e.type,xe)),xe}function resolveTransitionHooks(t,e,r,xe){const{appear:Se,mode:_e,persisted:Ae=!1,onBeforeEnter:Ce,onEnter:Pe,onAfterEnter:Ee,onEnterCancelled:Oe,onBeforeLeave:Me,onLeave:De,onAfterLeave:Te,onLeaveCancelled:ke,onBeforeAppear:Fe,onAppear:$e,onAfterAppear:Be,onAppearCancelled:Ie}=e,Re=String(t.key),je=getLeavingNodesForType(r,t),Ve=(Ue,We)=>{Ue&&callWithAsyncErrorHandling(Ue,xe,9,We)},He=(Ue,We)=>{const qe=We[1];Ve(Ue,We),isArray$1(Ue)?Ue.every(Ge=>Ge.length<=1)&&qe():Ue.length<=1&&qe()},ze={mode:_e,persisted:Ae,beforeEnter(Ue){let We=Ce;if(!r.isMounted)if(Se)We=Fe||Ce;else return;Ue[leaveCbKey]&&Ue[leaveCbKey](!0);const qe=je[Re];qe&&isSameVNodeType(t,qe)&&qe.el[leaveCbKey]&&qe.el[leaveCbKey](),Ve(We,[Ue])},enter(Ue){let We=Pe,qe=Ee,Ge=Oe;if(!r.isMounted)if(Se)We=$e||Pe,qe=Be||Ee,Ge=Ie||Oe;else return;let Ye=!1;const Qe=Ue[enterCbKey]=Je=>{Ye||(Ye=!0,Je?Ve(Ge,[Ue]):Ve(qe,[Ue]),ze.delayedLeave&&ze.delayedLeave(),Ue[enterCbKey]=void 0)};We?He(We,[Ue,Qe]):Qe()},leave(Ue,We){const qe=String(t.key);if(Ue[enterCbKey]&&Ue[enterCbKey](!0),r.isUnmounting)return We();Ve(Me,[Ue]);let Ge=!1;const Ye=Ue[leaveCbKey]=Qe=>{Ge||(Ge=!0,We(),Qe?Ve(ke,[Ue]):Ve(Te,[Ue]),Ue[leaveCbKey]=void 0,je[qe]===t&&delete je[qe])};je[qe]=t,De?He(De,[Ue,Ye]):Ye()},clone(Ue){return resolveTransitionHooks(Ue,e,r,xe)}};return ze}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getKeepAliveChild(t){return isKeepAlive(t)?t.children?t.children[0]:void 0:t}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?setTransitionHooks(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,r){let xe=[],Se=0;for(let _e=0;_e<t.length;_e++){let Ae=t[_e];const Ce=r==null?Ae.key:String(r)+String(Ae.key!=null?Ae.key:_e);Ae.type===Fragment?(Ae.patchFlag&128&&Se++,xe=xe.concat(getTransitionRawChildren(Ae.children,e,Ce))):(e||Ae.type!==Comment)&&xe.push(Ce!=null?cloneVNode(Ae,{key:Ce}):Ae)}if(Se>1)for(let _e=0;_e<xe.length;_e++)xe[_e].patchFlag=-2;return xe}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(t,e){return isFunction(t)?extend$3({name:t.name},e,{setup:t}):t}const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,r=currentInstance){const xe=t.__wdc||(t.__wdc=()=>{let Se=r;for(;Se;){if(Se.isDeactivated)return;Se=Se.parent}return t()});if(injectHook(e,xe,r),r){let Se=r.parent;for(;Se&&Se.parent;)isKeepAlive(Se.parent.vnode)&&injectToKeepAliveRoot(xe,e,r,Se),Se=Se.parent}}function injectToKeepAliveRoot(t,e,r,xe){const Se=injectHook(e,t,xe,!0);onUnmounted(()=>{remove(xe[e],Se)},r)}function injectHook(t,e,r=currentInstance,xe=!1){if(r){const Se=r[t]||(r[t]=[]),_e=e.__weh||(e.__weh=(...Ae)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const Ce=callWithAsyncErrorHandling(e,r,t,Ae);return unsetCurrentInstance(),resetTracking(),Ce});return xe?Se.unshift(_e):Se.push(_e),_e}}const createHook=t=>(e,r=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(...xe)=>e(...xe),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}function renderList(t,e,r,xe){let Se;const _e=r&&r[xe];if(isArray$1(t)||isString(t)){Se=new Array(t.length);for(let Ae=0,Ce=t.length;Ae<Ce;Ae++)Se[Ae]=e(t[Ae],Ae,void 0,_e&&_e[Ae])}else if(typeof t=="number"){Se=new Array(t);for(let Ae=0;Ae<t;Ae++)Se[Ae]=e(Ae+1,Ae,void 0,_e&&_e[Ae])}else if(isObject(t))if(t[Symbol.iterator])Se=Array.from(t,(Ae,Ce)=>e(Ae,Ce,void 0,_e&&_e[Ce]));else{const Ae=Object.keys(t);Se=new Array(Ae.length);for(let Ce=0,Pe=Ae.length;Ce<Pe;Ce++){const Ee=Ae[Ce];Se[Ce]=e(t[Ee],Ee,Ce,_e&&_e[Ce])}}else Se=[];return r&&(r[xe]=Se),Se}function createSlots(t,e){for(let r=0;r<e.length;r++){const xe=e[r];if(isArray$1(xe))for(let Se=0;Se<xe.length;Se++)t[xe[Se].name]=xe[Se].fn;else xe&&(t[xe.name]=xe.key?(...Se)=>{const _e=xe.fn(...Se);return _e&&(_e.key=xe.key),_e}:xe.fn)}return t}function renderSlot(t,e,r={},xe,Se){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return e!=="default"&&(r.name=e),createVNode("slot",r,xe&&xe());let _e=t[e];_e&&_e._c&&(_e._d=!1),openBlock();const Ae=_e&&ensureValidVNode(_e(r)),Ce=createBlock(Fragment,{key:r.key||Ae&&Ae.key||`_${e}`},Ae||(xe?xe():[]),Ae&&t._===1?64:-2);return!Se&&Ce.scopeId&&(Ce.slotScopeIds=[Ce.scopeId+"-s"]),_e&&_e._c&&(_e._d=!0),Ce}function ensureValidVNode(t){return t.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?t:null}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend$3(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>queueJob(t.update)),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,e)=>t!==EMPTY_OBJ&&!t.__isScriptSetup&&hasOwn$2(t,e),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:r,setupState:xe,data:Se,props:_e,accessCache:Ae,type:Ce,appContext:Pe}=t;let Ee;if(e[0]!=="$"){const Te=Ae[e];if(Te!==void 0)switch(Te){case 1:return xe[e];case 2:return Se[e];case 4:return r[e];case 3:return _e[e]}else{if(hasSetupBinding(xe,e))return Ae[e]=1,xe[e];if(Se!==EMPTY_OBJ&&hasOwn$2(Se,e))return Ae[e]=2,Se[e];if((Ee=t.propsOptions[0])&&hasOwn$2(Ee,e))return Ae[e]=3,_e[e];if(r!==EMPTY_OBJ&&hasOwn$2(r,e))return Ae[e]=4,r[e];shouldCacheAccess&&(Ae[e]=0)}}const Oe=publicPropertiesMap[e];let Me,De;if(Oe)return e==="$attrs"&&track(t,"get",e),Oe(t);if((Me=Ce.__cssModules)&&(Me=Me[e]))return Me;if(r!==EMPTY_OBJ&&hasOwn$2(r,e))return Ae[e]=4,r[e];if(De=Pe.config.globalProperties,hasOwn$2(De,e))return De[e]},set({_:t},e,r){const{data:xe,setupState:Se,ctx:_e}=t;return hasSetupBinding(Se,e)?(Se[e]=r,!0):xe!==EMPTY_OBJ&&hasOwn$2(xe,e)?(xe[e]=r,!0):hasOwn$2(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(_e[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:xe,appContext:Se,propsOptions:_e}},Ae){let Ce;return!!r[Ae]||t!==EMPTY_OBJ&&hasOwn$2(t,Ae)||hasSetupBinding(e,Ae)||(Ce=_e[0])&&hasOwn$2(Ce,Ae)||hasOwn$2(xe,Ae)||hasOwn$2(publicPropertiesMap,Ae)||hasOwn$2(Se.config.globalProperties,Ae)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:hasOwn$2(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function normalizePropsOrEmits(t){return isArray$1(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),r=t.proxy,xe=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:Se,computed:_e,methods:Ae,watch:Ce,provide:Pe,inject:Ee,created:Oe,beforeMount:Me,mounted:De,beforeUpdate:Te,updated:ke,activated:Fe,deactivated:$e,beforeDestroy:Be,beforeUnmount:Ie,destroyed:Re,unmounted:je,render:Ve,renderTracked:He,renderTriggered:ze,errorCaptured:Ue,serverPrefetch:We,expose:qe,inheritAttrs:Ge,components:Ye,directives:Qe,filters:Je}=e;if(Ee&&resolveInjections(Ee,xe,null),Ae)for(const pi in Ae){const ni=Ae[pi];isFunction(ni)&&(xe[pi]=ni.bind(r))}if(Se){const pi=Se.call(r,r);isObject(pi)&&(t.data=reactive(pi))}if(shouldCacheAccess=!0,_e)for(const pi in _e){const ni=_e[pi],di=isFunction(ni)?ni.bind(r,r):isFunction(ni.get)?ni.get.bind(r,r):NOOP,fi=!isFunction(ni)&&isFunction(ni.set)?ni.set.bind(r):NOOP,Pi=computed({get:di,set:fi});Object.defineProperty(xe,pi,{enumerable:!0,configurable:!0,get:()=>Pi.value,set:ci=>Pi.value=ci})}if(Ce)for(const pi in Ce)createWatcher(Ce[pi],xe,r,pi);if(Pe){const pi=isFunction(Pe)?Pe.call(r):Pe;Reflect.ownKeys(pi).forEach(ni=>{provide(ni,pi[ni])})}Oe&&callHook$1(Oe,t,"c");function hi(pi,ni){isArray$1(ni)?ni.forEach(di=>pi(di.bind(r))):ni&&pi(ni.bind(r))}if(hi(onBeforeMount,Me),hi(onMounted,De),hi(onBeforeUpdate,Te),hi(onUpdated,ke),hi(onActivated,Fe),hi(onDeactivated,$e),hi(onErrorCaptured,Ue),hi(onRenderTracked,He),hi(onRenderTriggered,ze),hi(onBeforeUnmount,Ie),hi(onUnmounted,je),hi(onServerPrefetch,We),isArray$1(qe))if(qe.length){const pi=t.exposed||(t.exposed={});qe.forEach(ni=>{Object.defineProperty(pi,ni,{get:()=>r[ni],set:di=>r[ni]=di})})}else t.exposed||(t.exposed={});Ve&&t.render===NOOP&&(t.render=Ve),Ge!=null&&(t.inheritAttrs=Ge),Ye&&(t.components=Ye),Qe&&(t.directives=Qe)}function resolveInjections(t,e,r=NOOP){isArray$1(t)&&(t=normalizeInject(t));for(const xe in t){const Se=t[xe];let _e;isObject(Se)?"default"in Se?_e=inject(Se.from||xe,Se.default,!0):_e=inject(Se.from||xe):_e=inject(Se),isRef(_e)?Object.defineProperty(e,xe,{enumerable:!0,configurable:!0,get:()=>_e.value,set:Ae=>_e.value=Ae}):e[xe]=_e}}function callHook$1(t,e,r){callWithAsyncErrorHandling(isArray$1(t)?t.map(xe=>xe.bind(e.proxy)):t.bind(e.proxy),e,r)}function createWatcher(t,e,r,xe){const Se=xe.includes(".")?createPathGetter(r,xe):()=>r[xe];if(isString(t)){const _e=e[t];isFunction(_e)&&watch(Se,_e)}else if(isFunction(t))watch(Se,t.bind(r));else if(isObject(t))if(isArray$1(t))t.forEach(_e=>createWatcher(_e,e,r,xe));else{const _e=isFunction(t.handler)?t.handler.bind(r):e[t.handler];isFunction(_e)&&watch(Se,_e,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:r,extends:xe}=e,{mixins:Se,optionsCache:_e,config:{optionMergeStrategies:Ae}}=t.appContext,Ce=_e.get(e);let Pe;return Ce?Pe=Ce:!Se.length&&!r&&!xe?Pe=e:(Pe={},Se.length&&Se.forEach(Ee=>mergeOptions(Pe,Ee,Ae,!0)),mergeOptions(Pe,e,Ae)),isObject(e)&&_e.set(e,Pe),Pe}function mergeOptions(t,e,r,xe=!1){const{mixins:Se,extends:_e}=e;_e&&mergeOptions(t,_e,r,!0),Se&&Se.forEach(Ae=>mergeOptions(t,Ae,r,!0));for(const Ae in e)if(!(xe&&Ae==="expose")){const Ce=internalOptionMergeStrats[Ae]||r&&r[Ae];t[Ae]=Ce?Ce(t[Ae],e[Ae]):e[Ae]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend$3(isFunction(t)?t.call(this,this):t,isFunction(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray$1(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend$3(Object.create(null),t,e):e}function mergeEmitsOrPropsOptions(t,e){return t?isArray$1(t)&&isArray$1(e)?[...new Set([...t,...e])]:extend$3(Object.create(null),normalizePropsOrEmits(t),normalizePropsOrEmits(e??{})):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const r=extend$3(Object.create(null),t);for(const xe in e)r[xe]=mergeAsArray(t[xe],e[xe]);return r}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(t,e){return function(xe,Se=null){isFunction(xe)||(xe=extend$3({},xe)),Se!=null&&!isObject(Se)&&(Se=null);const _e=createAppContext(),Ae=new WeakSet;let Ce=!1;const Pe=_e.app={_uid:uid$1++,_component:xe,_props:Se,_container:null,_context:_e,_instance:null,version:version$2,get config(){return _e.config},set config(Ee){},use(Ee,...Oe){return Ae.has(Ee)||(Ee&&isFunction(Ee.install)?(Ae.add(Ee),Ee.install(Pe,...Oe)):isFunction(Ee)&&(Ae.add(Ee),Ee(Pe,...Oe))),Pe},mixin(Ee){return _e.mixins.includes(Ee)||_e.mixins.push(Ee),Pe},component(Ee,Oe){return Oe?(_e.components[Ee]=Oe,Pe):_e.components[Ee]},directive(Ee,Oe){return Oe?(_e.directives[Ee]=Oe,Pe):_e.directives[Ee]},mount(Ee,Oe,Me){if(!Ce){const De=createVNode(xe,Se);return De.appContext=_e,Oe&&e?e(De,Ee):t(De,Ee,Me),Ce=!0,Pe._container=Ee,Ee.__vue_app__=Pe,getExposeProxy(De.component)||De.component.proxy}},unmount(){Ce&&(t(null,Pe._container),delete Pe._container.__vue_app__)},provide(Ee,Oe){return _e.provides[Ee]=Oe,Pe},runWithContext(Ee){currentApp=Pe;try{return Ee()}finally{currentApp=null}}};return Pe}}let currentApp=null;function provide(t,e){if(currentInstance){let r=currentInstance.provides;const xe=currentInstance.parent&&currentInstance.parent.provides;xe===r&&(r=currentInstance.provides=Object.create(xe)),r[t]=e}}function inject(t,e,r=!1){const xe=currentInstance||currentRenderingInstance;if(xe||currentApp){const Se=xe?xe.parent==null?xe.vnode.appContext&&xe.vnode.appContext.provides:xe.parent.provides:currentApp._context.provides;if(Se&&t in Se)return Se[t];if(arguments.length>1)return r&&isFunction(e)?e.call(xe&&xe.proxy):e}}function initProps(t,e,r,xe=!1){const Se={},_e={};def(_e,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,Se,_e);for(const Ae in t.propsOptions[0])Ae in Se||(Se[Ae]=void 0);r?t.props=xe?Se:shallowReactive(Se):t.type.props?t.props=Se:t.props=_e,t.attrs=_e}function updateProps(t,e,r,xe){const{props:Se,attrs:_e,vnode:{patchFlag:Ae}}=t,Ce=toRaw(Se),[Pe]=t.propsOptions;let Ee=!1;if((xe||Ae>0)&&!(Ae&16)){if(Ae&8){const Oe=t.vnode.dynamicProps;for(let Me=0;Me<Oe.length;Me++){let De=Oe[Me];if(isEmitListener(t.emitsOptions,De))continue;const Te=e[De];if(Pe)if(hasOwn$2(_e,De))Te!==_e[De]&&(_e[De]=Te,Ee=!0);else{const ke=camelize(De);Se[ke]=resolvePropValue(Pe,Ce,ke,Te,t,!1)}else Te!==_e[De]&&(_e[De]=Te,Ee=!0)}}}else{setFullProps(t,e,Se,_e)&&(Ee=!0);let Oe;for(const Me in Ce)(!e||!hasOwn$2(e,Me)&&((Oe=hyphenate(Me))===Me||!hasOwn$2(e,Oe)))&&(Pe?r&&(r[Me]!==void 0||r[Oe]!==void 0)&&(Se[Me]=resolvePropValue(Pe,Ce,Me,void 0,t,!0)):delete Se[Me]);if(_e!==Ce)for(const Me in _e)(!e||!hasOwn$2(e,Me))&&(delete _e[Me],Ee=!0)}Ee&&trigger(t,"set","$attrs")}function setFullProps(t,e,r,xe){const[Se,_e]=t.propsOptions;let Ae=!1,Ce;if(e)for(let Pe in e){if(isReservedProp(Pe))continue;const Ee=e[Pe];let Oe;Se&&hasOwn$2(Se,Oe=camelize(Pe))?!_e||!_e.includes(Oe)?r[Oe]=Ee:(Ce||(Ce={}))[Oe]=Ee:isEmitListener(t.emitsOptions,Pe)||(!(Pe in xe)||Ee!==xe[Pe])&&(xe[Pe]=Ee,Ae=!0)}if(_e){const Pe=toRaw(r),Ee=Ce||EMPTY_OBJ;for(let Oe=0;Oe<_e.length;Oe++){const Me=_e[Oe];r[Me]=resolvePropValue(Se,Pe,Me,Ee[Me],t,!hasOwn$2(Ee,Me))}}return Ae}function resolvePropValue(t,e,r,xe,Se,_e){const Ae=t[r];if(Ae!=null){const Ce=hasOwn$2(Ae,"default");if(Ce&&xe===void 0){const Pe=Ae.default;if(Ae.type!==Function&&!Ae.skipFactory&&isFunction(Pe)){const{propsDefaults:Ee}=Se;r in Ee?xe=Ee[r]:(setCurrentInstance(Se),xe=Ee[r]=Pe.call(null,e),unsetCurrentInstance())}else xe=Pe}Ae[0]&&(_e&&!Ce?xe=!1:Ae[1]&&(xe===""||xe===hyphenate(r))&&(xe=!0))}return xe}function normalizePropsOptions(t,e,r=!1){const xe=e.propsCache,Se=xe.get(t);if(Se)return Se;const _e=t.props,Ae={},Ce=[];let Pe=!1;if(!isFunction(t)){const Oe=Me=>{Pe=!0;const[De,Te]=normalizePropsOptions(Me,e,!0);extend$3(Ae,De),Te&&Ce.push(...Te)};!r&&e.mixins.length&&e.mixins.forEach(Oe),t.extends&&Oe(t.extends),t.mixins&&t.mixins.forEach(Oe)}if(!_e&&!Pe)return isObject(t)&&xe.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$1(_e))for(let Oe=0;Oe<_e.length;Oe++){const Me=camelize(_e[Oe]);validatePropName(Me)&&(Ae[Me]=EMPTY_OBJ)}else if(_e)for(const Oe in _e){const Me=camelize(Oe);if(validatePropName(Me)){const De=_e[Oe],Te=Ae[Me]=isArray$1(De)||isFunction(De)?{type:De}:extend$3({},De);if(Te){const ke=getTypeIndex(Boolean,Te.type),Fe=getTypeIndex(String,Te.type);Te[0]=ke>-1,Te[1]=Fe<0||ke<Fe,(ke>-1||hasOwn$2(Te,"default"))&&Ce.push(Me)}}}const Ee=[Ae,Ce];return isObject(t)&&xe.set(t,Ee),Ee}function validatePropName(t){return t[0]!=="$"}function getType$1(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function isSameType(t,e){return getType$1(t)===getType$1(e)}function getTypeIndex(t,e){return isArray$1(e)?e.findIndex(r=>isSameType(r,t)):isFunction(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray$1(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot=(t,e,r)=>{if(e._n)return e;const xe=withCtx((...Se)=>normalizeSlotValue(e(...Se)),r);return xe._c=!1,xe},normalizeObjectSlots=(t,e,r)=>{const xe=t._ctx;for(const Se in t){if(isInternalKey(Se))continue;const _e=t[Se];if(isFunction(_e))e[Se]=normalizeSlot(Se,_e,xe);else if(_e!=null){const Ae=normalizeSlotValue(_e);e[Se]=()=>Ae}}},normalizeVNodeSlots=(t,e)=>{const r=normalizeSlotValue(e);t.slots.default=()=>r},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=toRaw(e),def(e,"_",r)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,r)=>{const{vnode:xe,slots:Se}=t;let _e=!0,Ae=EMPTY_OBJ;if(xe.shapeFlag&32){const Ce=e._;Ce?r&&Ce===1?_e=!1:(extend$3(Se,e),!r&&Ce===1&&delete Se._):(_e=!e.$stable,normalizeObjectSlots(e,Se)),Ae=e}else e&&(normalizeVNodeSlots(t,e),Ae={default:1});if(_e)for(const Ce in Se)!isInternalKey(Ce)&&Ae[Ce]==null&&delete Se[Ce]};function setRef(t,e,r,xe,Se=!1){if(isArray$1(t)){t.forEach((De,Te)=>setRef(De,e&&(isArray$1(e)?e[Te]:e),r,xe,Se));return}if(isAsyncWrapper(xe)&&!Se)return;const _e=xe.shapeFlag&4?getExposeProxy(xe.component)||xe.component.proxy:xe.el,Ae=Se?null:_e,{i:Ce,r:Pe}=t,Ee=e&&e.r,Oe=Ce.refs===EMPTY_OBJ?Ce.refs={}:Ce.refs,Me=Ce.setupState;if(Ee!=null&&Ee!==Pe&&(isString(Ee)?(Oe[Ee]=null,hasOwn$2(Me,Ee)&&(Me[Ee]=null)):isRef(Ee)&&(Ee.value=null)),isFunction(Pe))callWithErrorHandling(Pe,Ce,12,[Ae,Oe]);else{const De=isString(Pe),Te=isRef(Pe);if(De||Te){const ke=()=>{if(t.f){const Fe=De?hasOwn$2(Me,Pe)?Me[Pe]:Oe[Pe]:Pe.value;Se?isArray$1(Fe)&&remove(Fe,_e):isArray$1(Fe)?Fe.includes(_e)||Fe.push(_e):De?(Oe[Pe]=[_e],hasOwn$2(Me,Pe)&&(Me[Pe]=Oe[Pe])):(Pe.value=[_e],t.k&&(Oe[t.k]=Pe.value))}else De?(Oe[Pe]=Ae,hasOwn$2(Me,Pe)&&(Me[Pe]=Ae)):Te&&(Pe.value=Ae,t.k&&(Oe[t.k]=Ae))};Ae?(ke.id=-1,queuePostRenderEffect(ke,r)):ke()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,e){const r=getGlobalThis();r.__VUE__=!0;const{insert:xe,remove:Se,patchProp:_e,createElement:Ae,createText:Ce,createComment:Pe,setText:Ee,setElementText:Oe,parentNode:Me,nextSibling:De,setScopeId:Te=NOOP,insertStaticContent:ke}=t,Fe=(St,ei,ui,ai=null,ii=null,Ci=null,ki=!1,bi=null,Ii=!!ei.dynamicChildren)=>{if(St===ei)return;St&&!isSameVNodeType(St,ei)&&(ai=Mi(St),ci(St,ii,Ci,!0),St=null),ei.patchFlag===-2&&(Ii=!1,ei.dynamicChildren=null);const{type:Bi,ref:Vi,shapeFlag:ji}=ei;switch(Bi){case Text:$e(St,ei,ui,ai);break;case Comment:Be(St,ei,ui,ai);break;case Static:St==null&&Ie(ei,ui,ai,ki);break;case Fragment:Ye(St,ei,ui,ai,ii,Ci,ki,bi,Ii);break;default:ji&1?Ve(St,ei,ui,ai,ii,Ci,ki,bi,Ii):ji&6?Qe(St,ei,ui,ai,ii,Ci,ki,bi,Ii):(ji&64||ji&128)&&Bi.process(St,ei,ui,ai,ii,Ci,ki,bi,Ii,Di)}Vi!=null&&ii&&setRef(Vi,St&&St.ref,Ci,ei||St,!ei)},$e=(St,ei,ui,ai)=>{if(St==null)xe(ei.el=Ce(ei.children),ui,ai);else{const ii=ei.el=St.el;ei.children!==St.children&&Ee(ii,ei.children)}},Be=(St,ei,ui,ai)=>{St==null?xe(ei.el=Pe(ei.children||""),ui,ai):ei.el=St.el},Ie=(St,ei,ui,ai)=>{[St.el,St.anchor]=ke(St.children,ei,ui,ai,St.el,St.anchor)},Re=({el:St,anchor:ei},ui,ai)=>{let ii;for(;St&&St!==ei;)ii=De(St),xe(St,ui,ai),St=ii;xe(ei,ui,ai)},je=({el:St,anchor:ei})=>{let ui;for(;St&&St!==ei;)ui=De(St),Se(St),St=ui;Se(ei)},Ve=(St,ei,ui,ai,ii,Ci,ki,bi,Ii)=>{ki=ki||ei.type==="svg",St==null?He(ei,ui,ai,ii,Ci,ki,bi,Ii):We(St,ei,ii,Ci,ki,bi,Ii)},He=(St,ei,ui,ai,ii,Ci,ki,bi)=>{let Ii,Bi;const{type:Vi,props:ji,shapeFlag:Zi,transition:Wi,dirs:Qi}=St;if(Ii=St.el=Ae(St.type,Ci,ji&&ji.is,ji),Zi&8?Oe(Ii,St.children):Zi&16&&Ue(St.children,Ii,null,ai,ii,Ci&&Vi!=="foreignObject",ki,bi),Qi&&invokeDirectiveHook(St,null,ai,"created"),ze(Ii,St,St.scopeId,ki,ai),ji){for(const tn in ji)tn!=="value"&&!isReservedProp(tn)&&_e(Ii,tn,null,ji[tn],Ci,St.children,ai,ii,Ai);"value"in ji&&_e(Ii,"value",null,ji.value),(Bi=ji.onVnodeBeforeMount)&&invokeVNodeHook(Bi,ai,St)}Qi&&invokeDirectiveHook(St,null,ai,"beforeMount");const wi=needTransition(ii,Wi);wi&&Wi.beforeEnter(Ii),xe(Ii,ei,ui),((Bi=ji&&ji.onVnodeMounted)||wi||Qi)&&queuePostRenderEffect(()=>{Bi&&invokeVNodeHook(Bi,ai,St),wi&&Wi.enter(Ii),Qi&&invokeDirectiveHook(St,null,ai,"mounted")},ii)},ze=(St,ei,ui,ai,ii)=>{if(ui&&Te(St,ui),ai)for(let Ci=0;Ci<ai.length;Ci++)Te(St,ai[Ci]);if(ii){let Ci=ii.subTree;if(ei===Ci){const ki=ii.vnode;ze(St,ki,ki.scopeId,ki.slotScopeIds,ii.parent)}}},Ue=(St,ei,ui,ai,ii,Ci,ki,bi,Ii=0)=>{for(let Bi=Ii;Bi<St.length;Bi++){const Vi=St[Bi]=bi?cloneIfMounted(St[Bi]):normalizeVNode(St[Bi]);Fe(null,Vi,ei,ui,ai,ii,Ci,ki,bi)}},We=(St,ei,ui,ai,ii,Ci,ki)=>{const bi=ei.el=St.el;let{patchFlag:Ii,dynamicChildren:Bi,dirs:Vi}=ei;Ii|=St.patchFlag&16;const ji=St.props||EMPTY_OBJ,Zi=ei.props||EMPTY_OBJ;let Wi;ui&&toggleRecurse(ui,!1),(Wi=Zi.onVnodeBeforeUpdate)&&invokeVNodeHook(Wi,ui,ei,St),Vi&&invokeDirectiveHook(ei,St,ui,"beforeUpdate"),ui&&toggleRecurse(ui,!0);const Qi=ii&&ei.type!=="foreignObject";if(Bi?qe(St.dynamicChildren,Bi,bi,ui,ai,Qi,Ci):ki||ni(St,ei,bi,null,ui,ai,Qi,Ci,!1),Ii>0){if(Ii&16)Ge(bi,ei,ji,Zi,ui,ai,ii);else if(Ii&2&&ji.class!==Zi.class&&_e(bi,"class",null,Zi.class,ii),Ii&4&&_e(bi,"style",ji.style,Zi.style,ii),Ii&8){const wi=ei.dynamicProps;for(let tn=0;tn<wi.length;tn++){const Yi=wi[tn],nn=ji[Yi],Ni=Zi[Yi];(Ni!==nn||Yi==="value")&&_e(bi,Yi,nn,Ni,ii,St.children,ui,ai,Ai)}}Ii&1&&St.children!==ei.children&&Oe(bi,ei.children)}else!ki&&Bi==null&&Ge(bi,ei,ji,Zi,ui,ai,ii);((Wi=Zi.onVnodeUpdated)||Vi)&&queuePostRenderEffect(()=>{Wi&&invokeVNodeHook(Wi,ui,ei,St),Vi&&invokeDirectiveHook(ei,St,ui,"updated")},ai)},qe=(St,ei,ui,ai,ii,Ci,ki)=>{for(let bi=0;bi<ei.length;bi++){const Ii=St[bi],Bi=ei[bi],Vi=Ii.el&&(Ii.type===Fragment||!isSameVNodeType(Ii,Bi)||Ii.shapeFlag&70)?Me(Ii.el):ui;Fe(Ii,Bi,Vi,null,ai,ii,Ci,ki,!0)}},Ge=(St,ei,ui,ai,ii,Ci,ki)=>{if(ui!==ai){if(ui!==EMPTY_OBJ)for(const bi in ui)!isReservedProp(bi)&&!(bi in ai)&&_e(St,bi,ui[bi],null,ki,ei.children,ii,Ci,Ai);for(const bi in ai){if(isReservedProp(bi))continue;const Ii=ai[bi],Bi=ui[bi];Ii!==Bi&&bi!=="value"&&_e(St,bi,Bi,Ii,ki,ei.children,ii,Ci,Ai)}"value"in ai&&_e(St,"value",ui.value,ai.value)}},Ye=(St,ei,ui,ai,ii,Ci,ki,bi,Ii)=>{const Bi=ei.el=St?St.el:Ce(""),Vi=ei.anchor=St?St.anchor:Ce("");let{patchFlag:ji,dynamicChildren:Zi,slotScopeIds:Wi}=ei;Wi&&(bi=bi?bi.concat(Wi):Wi),St==null?(xe(Bi,ui,ai),xe(Vi,ui,ai),Ue(ei.children,ui,Vi,ii,Ci,ki,bi,Ii)):ji>0&&ji&64&&Zi&&St.dynamicChildren?(qe(St.dynamicChildren,Zi,ui,ii,Ci,ki,bi),(ei.key!=null||ii&&ei===ii.subTree)&&traverseStaticChildren(St,ei,!0)):ni(St,ei,ui,Vi,ii,Ci,ki,bi,Ii)},Qe=(St,ei,ui,ai,ii,Ci,ki,bi,Ii)=>{ei.slotScopeIds=bi,St==null?ei.shapeFlag&512?ii.ctx.activate(ei,ui,ai,ki,Ii):Je(ei,ui,ai,ii,Ci,ki,Ii):ri(St,ei,Ii)},Je=(St,ei,ui,ai,ii,Ci,ki)=>{const bi=St.component=createComponentInstance(St,ai,ii);if(isKeepAlive(St)&&(bi.ctx.renderer=Di),setupComponent(bi),bi.asyncDep){if(ii&&ii.registerDep(bi,hi),!St.el){const Ii=bi.subTree=createVNode(Comment);Be(null,Ii,ei,ui)}return}hi(bi,St,ei,ui,ii,Ci,ki)},ri=(St,ei,ui)=>{const ai=ei.component=St.component;if(shouldUpdateComponent(St,ei,ui))if(ai.asyncDep&&!ai.asyncResolved){pi(ai,ei,ui);return}else ai.next=ei,invalidateJob(ai.update),ai.update();else ei.el=St.el,ai.vnode=ei},hi=(St,ei,ui,ai,ii,Ci,ki)=>{const bi=()=>{if(St.isMounted){let{next:Vi,bu:ji,u:Zi,parent:Wi,vnode:Qi}=St,wi=Vi,tn;toggleRecurse(St,!1),Vi?(Vi.el=Qi.el,pi(St,Vi,ki)):Vi=Qi,ji&&invokeArrayFns(ji),(tn=Vi.props&&Vi.props.onVnodeBeforeUpdate)&&invokeVNodeHook(tn,Wi,Vi,Qi),toggleRecurse(St,!0);const Yi=renderComponentRoot(St),nn=St.subTree;St.subTree=Yi,Fe(nn,Yi,Me(nn.el),Mi(nn),St,ii,Ci),Vi.el=Yi.el,wi===null&&updateHOCHostEl(St,Yi.el),Zi&&queuePostRenderEffect(Zi,ii),(tn=Vi.props&&Vi.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(tn,Wi,Vi,Qi),ii)}else{let Vi;const{el:ji,props:Zi}=ei,{bm:Wi,m:Qi,parent:wi}=St,tn=isAsyncWrapper(ei);if(toggleRecurse(St,!1),Wi&&invokeArrayFns(Wi),!tn&&(Vi=Zi&&Zi.onVnodeBeforeMount)&&invokeVNodeHook(Vi,wi,ei),toggleRecurse(St,!0),ji&&Ke){const Yi=()=>{St.subTree=renderComponentRoot(St),Ke(ji,St.subTree,St,ii,null)};tn?ei.type.__asyncLoader().then(()=>!St.isUnmounted&&Yi()):Yi()}else{const Yi=St.subTree=renderComponentRoot(St);Fe(null,Yi,ui,ai,St,ii,Ci),ei.el=Yi.el}if(Qi&&queuePostRenderEffect(Qi,ii),!tn&&(Vi=Zi&&Zi.onVnodeMounted)){const Yi=ei;queuePostRenderEffect(()=>invokeVNodeHook(Vi,wi,Yi),ii)}(ei.shapeFlag&256||wi&&isAsyncWrapper(wi.vnode)&&wi.vnode.shapeFlag&256)&&St.a&&queuePostRenderEffect(St.a,ii),St.isMounted=!0,ei=ui=ai=null}},Ii=St.effect=new ReactiveEffect(bi,()=>queueJob(Bi),St.scope),Bi=St.update=()=>Ii.run();Bi.id=St.uid,toggleRecurse(St,!0),Bi()},pi=(St,ei,ui)=>{ei.component=St;const ai=St.vnode.props;St.vnode=ei,St.next=null,updateProps(St,ei.props,ai,ui),updateSlots(St,ei.children,ui),pauseTracking(),flushPreFlushCbs(St),resetTracking()},ni=(St,ei,ui,ai,ii,Ci,ki,bi,Ii=!1)=>{const Bi=St&&St.children,Vi=St?St.shapeFlag:0,ji=ei.children,{patchFlag:Zi,shapeFlag:Wi}=ei;if(Zi>0){if(Zi&128){fi(Bi,ji,ui,ai,ii,Ci,ki,bi,Ii);return}else if(Zi&256){di(Bi,ji,ui,ai,ii,Ci,ki,bi,Ii);return}}Wi&8?(Vi&16&&Ai(Bi,ii,Ci),ji!==Bi&&Oe(ui,ji)):Vi&16?Wi&16?fi(Bi,ji,ui,ai,ii,Ci,ki,bi,Ii):Ai(Bi,ii,Ci,!0):(Vi&8&&Oe(ui,""),Wi&16&&Ue(ji,ui,ai,ii,Ci,ki,bi,Ii))},di=(St,ei,ui,ai,ii,Ci,ki,bi,Ii)=>{St=St||EMPTY_ARR,ei=ei||EMPTY_ARR;const Bi=St.length,Vi=ei.length,ji=Math.min(Bi,Vi);let Zi;for(Zi=0;Zi<ji;Zi++){const Wi=ei[Zi]=Ii?cloneIfMounted(ei[Zi]):normalizeVNode(ei[Zi]);Fe(St[Zi],Wi,ui,null,ii,Ci,ki,bi,Ii)}Bi>Vi?Ai(St,ii,Ci,!0,!1,ji):Ue(ei,ui,ai,ii,Ci,ki,bi,Ii,ji)},fi=(St,ei,ui,ai,ii,Ci,ki,bi,Ii)=>{let Bi=0;const Vi=ei.length;let ji=St.length-1,Zi=Vi-1;for(;Bi<=ji&&Bi<=Zi;){const Wi=St[Bi],Qi=ei[Bi]=Ii?cloneIfMounted(ei[Bi]):normalizeVNode(ei[Bi]);if(isSameVNodeType(Wi,Qi))Fe(Wi,Qi,ui,null,ii,Ci,ki,bi,Ii);else break;Bi++}for(;Bi<=ji&&Bi<=Zi;){const Wi=St[ji],Qi=ei[Zi]=Ii?cloneIfMounted(ei[Zi]):normalizeVNode(ei[Zi]);if(isSameVNodeType(Wi,Qi))Fe(Wi,Qi,ui,null,ii,Ci,ki,bi,Ii);else break;ji--,Zi--}if(Bi>ji){if(Bi<=Zi){const Wi=Zi+1,Qi=Wi<Vi?ei[Wi].el:ai;for(;Bi<=Zi;)Fe(null,ei[Bi]=Ii?cloneIfMounted(ei[Bi]):normalizeVNode(ei[Bi]),ui,Qi,ii,Ci,ki,bi,Ii),Bi++}}else if(Bi>Zi)for(;Bi<=ji;)ci(St[Bi],ii,Ci,!0),Bi++;else{const Wi=Bi,Qi=Bi,wi=new Map;for(Bi=Qi;Bi<=Zi;Bi++){const dn=ei[Bi]=Ii?cloneIfMounted(ei[Bi]):normalizeVNode(ei[Bi]);dn.key!=null&&wi.set(dn.key,Bi)}let tn,Yi=0;const nn=Zi-Qi+1;let Ni=!1,Xi=0;const an=new Array(nn);for(Bi=0;Bi<nn;Bi++)an[Bi]=0;for(Bi=Wi;Bi<=ji;Bi++){const dn=St[Bi];if(Yi>=nn){ci(dn,ii,Ci,!0);continue}let bn;if(dn.key!=null)bn=wi.get(dn.key);else for(tn=Qi;tn<=Zi;tn++)if(an[tn-Qi]===0&&isSameVNodeType(dn,ei[tn])){bn=tn;break}bn===void 0?ci(dn,ii,Ci,!0):(an[bn-Qi]=Bi+1,bn>=Xi?Xi=bn:Ni=!0,Fe(dn,ei[bn],ui,null,ii,Ci,ki,bi,Ii),Yi++)}const cn=Ni?getSequence(an):EMPTY_ARR;for(tn=cn.length-1,Bi=nn-1;Bi>=0;Bi--){const dn=Qi+Bi,bn=ei[dn],wn=dn+1<Vi?ei[dn+1].el:ai;an[Bi]===0?Fe(null,bn,ui,wn,ii,Ci,ki,bi,Ii):Ni&&(tn<0||Bi!==cn[tn]?Pi(bn,ui,wn,2):tn--)}}},Pi=(St,ei,ui,ai,ii=null)=>{const{el:Ci,type:ki,transition:bi,children:Ii,shapeFlag:Bi}=St;if(Bi&6){Pi(St.component.subTree,ei,ui,ai);return}if(Bi&128){St.suspense.move(ei,ui,ai);return}if(Bi&64){ki.move(St,ei,ui,Di);return}if(ki===Fragment){xe(Ci,ei,ui);for(let ji=0;ji<Ii.length;ji++)Pi(Ii[ji],ei,ui,ai);xe(St.anchor,ei,ui);return}if(ki===Static){Re(St,ei,ui);return}if(ai!==2&&Bi&1&&bi)if(ai===0)bi.beforeEnter(Ci),xe(Ci,ei,ui),queuePostRenderEffect(()=>bi.enter(Ci),ii);else{const{leave:ji,delayLeave:Zi,afterLeave:Wi}=bi,Qi=()=>xe(Ci,ei,ui),wi=()=>{ji(Ci,()=>{Qi(),Wi&&Wi()})};Zi?Zi(Ci,Qi,wi):wi()}else xe(Ci,ei,ui)},ci=(St,ei,ui,ai=!1,ii=!1)=>{const{type:Ci,props:ki,ref:bi,children:Ii,dynamicChildren:Bi,shapeFlag:Vi,patchFlag:ji,dirs:Zi}=St;if(bi!=null&&setRef(bi,null,ui,St,!0),Vi&256){ei.ctx.deactivate(St);return}const Wi=Vi&1&&Zi,Qi=!isAsyncWrapper(St);let wi;if(Qi&&(wi=ki&&ki.onVnodeBeforeUnmount)&&invokeVNodeHook(wi,ei,St),Vi&6)gi(St.component,ui,ai);else{if(Vi&128){St.suspense.unmount(ui,ai);return}Wi&&invokeDirectiveHook(St,null,ei,"beforeUnmount"),Vi&64?St.type.remove(St,ei,ui,ii,Di,ai):Bi&&(Ci!==Fragment||ji>0&&ji&64)?Ai(Bi,ei,ui,!1,!0):(Ci===Fragment&&ji&384||!ii&&Vi&16)&&Ai(Ii,ei,ui),ai&&xi(St)}(Qi&&(wi=ki&&ki.onVnodeUnmounted)||Wi)&&queuePostRenderEffect(()=>{wi&&invokeVNodeHook(wi,ei,St),Wi&&invokeDirectiveHook(St,null,ei,"unmounted")},ui)},xi=St=>{const{type:ei,el:ui,anchor:ai,transition:ii}=St;if(ei===Fragment){yi(ui,ai);return}if(ei===Static){je(St);return}const Ci=()=>{Se(ui),ii&&!ii.persisted&&ii.afterLeave&&ii.afterLeave()};if(St.shapeFlag&1&&ii&&!ii.persisted){const{leave:ki,delayLeave:bi}=ii,Ii=()=>ki(ui,Ci);bi?bi(St.el,Ci,Ii):Ii()}else Ci()},yi=(St,ei)=>{let ui;for(;St!==ei;)ui=De(St),Se(St),St=ui;Se(ei)},gi=(St,ei,ui)=>{const{bum:ai,scope:ii,update:Ci,subTree:ki,um:bi}=St;ai&&invokeArrayFns(ai),ii.stop(),Ci&&(Ci.active=!1,ci(ki,St,ei,ui)),bi&&queuePostRenderEffect(bi,ei),queuePostRenderEffect(()=>{St.isUnmounted=!0},ei),ei&&ei.pendingBranch&&!ei.isUnmounted&&St.asyncDep&&!St.asyncResolved&&St.suspenseId===ei.pendingId&&(ei.deps--,ei.deps===0&&ei.resolve())},Ai=(St,ei,ui,ai=!1,ii=!1,Ci=0)=>{for(let ki=Ci;ki<St.length;ki++)ci(St[ki],ei,ui,ai,ii)},Mi=St=>St.shapeFlag&6?Mi(St.component.subTree):St.shapeFlag&128?St.suspense.next():De(St.anchor||St.el),Fi=(St,ei,ui)=>{St==null?ei._vnode&&ci(ei._vnode,null,null,!0):Fe(ei._vnode||null,St,ei,null,null,null,ui),flushPreFlushCbs(),flushPostFlushCbs(),ei._vnode=St},Di={p:Fe,um:ci,m:Pi,r:xi,mt:Je,mc:Ue,pc:ni,pbc:qe,n:Mi,o:t};let oi,Ke;return e&&([oi,Ke]=e(Di)),{render:Fi,hydrate:oi,createApp:createAppAPI(Fi,oi)}}function toggleRecurse({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function needTransition(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function traverseStaticChildren(t,e,r=!1){const xe=t.children,Se=e.children;if(isArray$1(xe)&&isArray$1(Se))for(let _e=0;_e<xe.length;_e++){const Ae=xe[_e];let Ce=Se[_e];Ce.shapeFlag&1&&!Ce.dynamicChildren&&((Ce.patchFlag<=0||Ce.patchFlag===32)&&(Ce=Se[_e]=cloneIfMounted(Se[_e]),Ce.el=Ae.el),r||traverseStaticChildren(Ae,Ce)),Ce.type===Text&&(Ce.el=Ae.el)}}function getSequence(t){const e=t.slice(),r=[0];let xe,Se,_e,Ae,Ce;const Pe=t.length;for(xe=0;xe<Pe;xe++){const Ee=t[xe];if(Ee!==0){if(Se=r[r.length-1],t[Se]<Ee){e[xe]=Se,r.push(xe);continue}for(_e=0,Ae=r.length-1;_e<Ae;)Ce=_e+Ae>>1,t[r[Ce]]<Ee?_e=Ce+1:Ae=Ce;Ee<t[r[_e]]&&(_e>0&&(e[xe]=r[_e-1]),r[_e]=xe)}}for(_e=r.length,Ae=r[_e-1];_e-- >0;)r[_e]=Ae,Ae=e[Ae];return r}const isTeleport=t=>t.__isTeleport,isTeleportDisabled=t=>t&&(t.disabled||t.disabled===""),isTargetSVG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,resolveTarget=(t,e)=>{const r=t&&t.to;return isString(r)?e?e(r):null:r},TeleportImpl={name:"Teleport",__isTeleport:!0,process(t,e,r,xe,Se,_e,Ae,Ce,Pe,Ee){const{mc:Oe,pc:Me,pbc:De,o:{insert:Te,querySelector:ke,createText:Fe,createComment:$e}}=Ee,Be=isTeleportDisabled(e.props);let{shapeFlag:Ie,children:Re,dynamicChildren:je}=e;if(t==null){const Ve=e.el=Fe(""),He=e.anchor=Fe("");Te(Ve,r,xe),Te(He,r,xe);const ze=e.target=resolveTarget(e.props,ke),Ue=e.targetAnchor=Fe("");ze&&(Te(Ue,ze),Ae=Ae||isTargetSVG(ze));const We=(qe,Ge)=>{Ie&16&&Oe(Re,qe,Ge,Se,_e,Ae,Ce,Pe)};Be?We(r,He):ze&&We(ze,Ue)}else{e.el=t.el;const Ve=e.anchor=t.anchor,He=e.target=t.target,ze=e.targetAnchor=t.targetAnchor,Ue=isTeleportDisabled(t.props),We=Ue?r:He,qe=Ue?Ve:ze;if(Ae=Ae||isTargetSVG(He),je?(De(t.dynamicChildren,je,We,Se,_e,Ae,Ce),traverseStaticChildren(t,e,!0)):Pe||Me(t,e,We,qe,Se,_e,Ae,Ce,!1),Be)Ue?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):moveTeleport(e,r,Ve,Ee,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const Ge=e.target=resolveTarget(e.props,ke);Ge&&moveTeleport(e,Ge,null,Ee,0)}else Ue&&moveTeleport(e,He,ze,Ee,1)}updateCssVars(e)},remove(t,e,r,xe,{um:Se,o:{remove:_e}},Ae){const{shapeFlag:Ce,children:Pe,anchor:Ee,targetAnchor:Oe,target:Me,props:De}=t;if(Me&&_e(Oe),Ae&&_e(Ee),Ce&16){const Te=Ae||!isTeleportDisabled(De);for(let ke=0;ke<Pe.length;ke++){const Fe=Pe[ke];Se(Fe,e,r,Te,!!Fe.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(t,e,r,{o:{insert:xe},m:Se},_e=2){_e===0&&xe(t.targetAnchor,e,r);const{el:Ae,anchor:Ce,shapeFlag:Pe,children:Ee,props:Oe}=t,Me=_e===2;if(Me&&xe(Ae,e,r),(!Me||isTeleportDisabled(Oe))&&Pe&16)for(let De=0;De<Ee.length;De++)Se(Ee[De],e,r,2);Me&&xe(Ce,e,r)}function hydrateTeleport(t,e,r,xe,Se,_e,{o:{nextSibling:Ae,parentNode:Ce,querySelector:Pe}},Ee){const Oe=e.target=resolveTarget(e.props,Pe);if(Oe){const Me=Oe._lpa||Oe.firstChild;if(e.shapeFlag&16)if(isTeleportDisabled(e.props))e.anchor=Ee(Ae(t),e,Ce(t),r,xe,Se,_e),e.targetAnchor=Me;else{e.anchor=Ae(t);let De=Me;for(;De;)if(De=Ae(De),De&&De.nodeType===8&&De.data==="teleport anchor"){e.targetAnchor=De,Oe._lpa=e.targetAnchor&&Ae(e.targetAnchor);break}Ee(Me,e,Oe,r,xe,Se,_e)}updateCssVars(e)}return e.anchor&&Ae(e.anchor)}const Teleport=TeleportImpl;function updateCssVars(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,r,xe,Se,_e){return setupBlock(createBaseVNode(t,e,r,xe,Se,_e,!0))}function createBlock(t,e,r,xe,Se){return setupBlock(createVNode(t,e,r,xe,Se,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t??null,normalizeRef=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?isString(t)||isRef(t)||isFunction(t)?{i:currentRenderingInstance,r:t,k:e,f:!!r}:t:null);function createBaseVNode(t,e=null,r=null,xe=0,Se=null,_e=t===Fragment?0:1,Ae=!1,Ce=!1){const Pe={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:_e,patchFlag:xe,dynamicProps:Se,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return Ce?(normalizeChildren(Pe,r),_e&128&&t.normalize(Pe)):r&&(Pe.shapeFlag|=isString(r)?8:16),isBlockTreeEnabled>0&&!Ae&&currentBlock&&(Pe.patchFlag>0||_e&6)&&Pe.patchFlag!==32&&currentBlock.push(Pe),Pe}const createVNode=_createVNode;function _createVNode(t,e=null,r=null,xe=0,Se=null,_e=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const Ce=cloneVNode(t,e,!0);return r&&normalizeChildren(Ce,r),isBlockTreeEnabled>0&&!_e&&currentBlock&&(Ce.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=Ce:currentBlock.push(Ce)),Ce.patchFlag|=-2,Ce}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:Ce,style:Pe}=e;Ce&&!isString(Ce)&&(e.class=normalizeClass(Ce)),isObject(Pe)&&(isProxy(Pe)&&!isArray$1(Pe)&&(Pe=extend$3({},Pe)),e.style=normalizeStyle(Pe))}const Ae=isString(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject(t)?4:isFunction(t)?2:0;return createBaseVNode(t,e,r,xe,Se,Ae,_e,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend$3({},t):t:null}function cloneVNode(t,e,r=!1){const{props:xe,ref:Se,patchFlag:_e,children:Ae}=t,Ce=e?mergeProps(xe||{},e):xe;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:Ce,key:Ce&&normalizeKey(Ce),ref:e&&e.ref?r&&Se?isArray$1(Se)?Se.concat(normalizeRef(e)):[Se,normalizeRef(e)]:normalizeRef(e):Se,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:Ae,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?_e===-1?16:_e|16:_e,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray$1(t)?createVNode(Fragment,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let r=0;const{shapeFlag:xe}=t;if(e==null)e=null;else if(isArray$1(e))r=16;else if(typeof e=="object")if(xe&65){const Se=e.default;Se&&(Se._c&&(Se._d=!1),normalizeChildren(t,Se()),Se._c&&(Se._d=!0));return}else{r=32;const Se=e._;!Se&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:Se===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction(e)?(e={default:e,_ctx:currentRenderingInstance},r=32):(e=String(e),xe&64?(r=16,e=[createTextVNode(e)]):r=8);t.children=e,t.shapeFlag|=r}function mergeProps(...t){const e={};for(let r=0;r<t.length;r++){const xe=t[r];for(const Se in xe)if(Se==="class")e.class!==xe.class&&(e.class=normalizeClass([e.class,xe.class]));else if(Se==="style")e.style=normalizeStyle([e.style,xe.style]);else if(isOn(Se)){const _e=e[Se],Ae=xe[Se];Ae&&_e!==Ae&&!(isArray$1(_e)&&_e.includes(Ae))&&(e[Se]=_e?[].concat(_e,Ae):Ae)}else Se!==""&&(e[Se]=xe[Se])}return e}function invokeVNodeHook(t,e,r,xe=null){callWithAsyncErrorHandling(t,e,7,[r,xe])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(t,e,r){const xe=t.type,Se=(e?e.appContext:t.appContext)||emptyAppContext,_e={uid:uid++,vnode:t,type:xe,parent:e,appContext:Se,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(Se.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(xe,Se),emitsOptions:normalizeEmitsOptions(xe,Se),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:xe.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return _e.ctx={_:_e},_e.root=e?e.root:_e,_e.emit=emit.bind(null,_e),t.ce&&t.ce(_e),_e}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(t=>currentInstance=t),internalSetCurrentInstance=t=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(e=>e(t)):globalCurrentInstanceSetters[0](t)};const setCurrentInstance=t=>{internalSetCurrentInstance(t),t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:r,children:xe}=t.vnode,Se=isStatefulComponent(t);initProps(t,r,Se,e),initSlots(t,xe);const _e=Se?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,_e}function setupStatefulComponent(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:xe}=r;if(xe){const Se=t.setupContext=xe.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const _e=callWithErrorHandling(xe,t,0,[t.props,Se]);if(resetTracking(),unsetCurrentInstance(),isPromise(_e)){if(_e.then(unsetCurrentInstance,unsetCurrentInstance),e)return _e.then(Ae=>{handleSetupResult(t,Ae,e)}).catch(Ae=>{handleError(Ae,t,0)});t.asyncDep=_e}else handleSetupResult(t,_e,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,r){isFunction(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,r)}let compile;function finishComponentSetup(t,e,r){const xe=t.type;if(!t.render){if(!e&&compile&&!xe.render){const Se=xe.template||resolveMergedOptions(t).template;if(Se){const{isCustomElement:_e,compilerOptions:Ae}=t.appContext.config,{delimiters:Ce,compilerOptions:Pe}=xe,Ee=extend$3(extend$3({isCustomElement:_e,delimiters:Ce},Ae),Pe);xe.render=compile(Se,Ee)}}t.render=xe.render||NOOP}{setCurrentInstance(t),pauseTracking();try{applyOptions(t)}finally{resetTracking(),unsetCurrentInstance()}}}function getAttrsProxy(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return track(t,"get","$attrs"),e[r]}}))}function createSetupContext(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return getAttrsProxy(t)},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](t)},has(e,r){return r in e||r in publicPropertiesMap}}))}function getComponentName(t,e=!0){return isFunction(t)?t.displayName||t.name:t.name||e&&t.__name}function isClassComponent(t){return isFunction(t)&&"__vccOpts"in t}const computed=(t,e)=>computed$1(t,e,isInSSRComponentSetup);function h$1(t,e,r){const xe=arguments.length;return xe===2?isObject(e)&&!isArray$1(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(xe>3?r=Array.prototype.slice.call(arguments,2):xe===3&&isVNode(r)&&(r=[r]),createVNode(t,e,r))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version$2="3.3.13",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,xe)=>{const Se=e?doc.createElementNS(svgNS,t):doc.createElement(t,r?{is:r}:void 0);return t==="select"&&xe&&xe.multiple!=null&&Se.setAttribute("multiple",xe.multiple),Se},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,xe,Se,_e){const Ae=r?r.previousSibling:e.lastChild;if(Se&&(Se===_e||Se.nextSibling))for(;e.insertBefore(Se.cloneNode(!0),r),!(Se===_e||!(Se=Se.nextSibling)););else{templateContainer.innerHTML=xe?`<svg>${t}</svg>`:t;const Ce=templateContainer.content;if(xe){const Pe=Ce.firstChild;for(;Pe.firstChild;)Ce.appendChild(Pe.firstChild);Ce.removeChild(Pe)}e.insertBefore(Ce,r)}return[Ae?Ae.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),Transition=(t,{slots:e})=>h$1(BaseTransition,resolveTransitionProps(t),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend$3({},BaseTransitionPropsValidators,DOMTransitionPropsValidators);const callHook=(t,e=[])=>{isArray$1(t)?t.forEach(r=>r(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray$1(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const Ye in t)Ye in DOMTransitionPropsValidators||(e[Ye]=t[Ye]);if(t.css===!1)return e;const{name:r="v",type:xe,duration:Se,enterFromClass:_e=`${r}-enter-from`,enterActiveClass:Ae=`${r}-enter-active`,enterToClass:Ce=`${r}-enter-to`,appearFromClass:Pe=_e,appearActiveClass:Ee=Ae,appearToClass:Oe=Ce,leaveFromClass:Me=`${r}-leave-from`,leaveActiveClass:De=`${r}-leave-active`,leaveToClass:Te=`${r}-leave-to`}=t,ke=normalizeDuration(Se),Fe=ke&&ke[0],$e=ke&&ke[1],{onBeforeEnter:Be,onEnter:Ie,onEnterCancelled:Re,onLeave:je,onLeaveCancelled:Ve,onBeforeAppear:He=Be,onAppear:ze=Ie,onAppearCancelled:Ue=Re}=e,We=(Ye,Qe,Je)=>{removeTransitionClass(Ye,Qe?Oe:Ce),removeTransitionClass(Ye,Qe?Ee:Ae),Je&&Je()},qe=(Ye,Qe)=>{Ye._isLeaving=!1,removeTransitionClass(Ye,Me),removeTransitionClass(Ye,Te),removeTransitionClass(Ye,De),Qe&&Qe()},Ge=Ye=>(Qe,Je)=>{const ri=Ye?ze:Ie,hi=()=>We(Qe,Ye,Je);callHook(ri,[Qe,hi]),nextFrame(()=>{removeTransitionClass(Qe,Ye?Pe:_e),addTransitionClass(Qe,Ye?Oe:Ce),hasExplicitCallback(ri)||whenTransitionEnds(Qe,xe,Fe,hi)})};return extend$3(e,{onBeforeEnter(Ye){callHook(Be,[Ye]),addTransitionClass(Ye,_e),addTransitionClass(Ye,Ae)},onBeforeAppear(Ye){callHook(He,[Ye]),addTransitionClass(Ye,Pe),addTransitionClass(Ye,Ee)},onEnter:Ge(!1),onAppear:Ge(!0),onLeave(Ye,Qe){Ye._isLeaving=!0;const Je=()=>qe(Ye,Qe);addTransitionClass(Ye,Me),forceReflow(),addTransitionClass(Ye,De),nextFrame(()=>{Ye._isLeaving&&(removeTransitionClass(Ye,Me),addTransitionClass(Ye,Te),hasExplicitCallback(je)||whenTransitionEnds(Ye,xe,$e,Je))}),callHook(je,[Ye,Je])},onEnterCancelled(Ye){We(Ye,!1),callHook(Re,[Ye])},onAppearCancelled(Ye){We(Ye,!0),callHook(Ue,[Ye])},onLeaveCancelled(Ye){qe(Ye),callHook(Ve,[Ye])}})}function normalizeDuration(t){if(t==null)return null;if(isObject(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[vtcKey]||(t[vtcKey]=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(xe=>xe&&t.classList.remove(xe));const r=t[vtcKey];r&&(r.delete(e),r.size||(t[vtcKey]=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,r,xe){const Se=t._endId=++endId,_e=()=>{Se===t._endId&&xe()};if(r)return setTimeout(_e,r);const{type:Ae,timeout:Ce,propCount:Pe}=getTransitionInfo(t,e);if(!Ae)return xe();const Ee=Ae+"end";let Oe=0;const Me=()=>{t.removeEventListener(Ee,De),_e()},De=Te=>{Te.target===t&&++Oe>=Pe&&Me()};setTimeout(()=>{Oe<Pe&&Me()},Ce+1),t.addEventListener(Ee,De)}function getTransitionInfo(t,e){const r=window.getComputedStyle(t),xe=ke=>(r[ke]||"").split(", "),Se=xe(`${TRANSITION}Delay`),_e=xe(`${TRANSITION}Duration`),Ae=getTimeout(Se,_e),Ce=xe(`${ANIMATION}Delay`),Pe=xe(`${ANIMATION}Duration`),Ee=getTimeout(Ce,Pe);let Oe=null,Me=0,De=0;e===TRANSITION?Ae>0&&(Oe=TRANSITION,Me=Ae,De=_e.length):e===ANIMATION?Ee>0&&(Oe=ANIMATION,Me=Ee,De=Pe.length):(Me=Math.max(Ae,Ee),Oe=Me>0?Ae>Ee?TRANSITION:ANIMATION:null,De=Oe?Oe===TRANSITION?_e.length:Pe.length:0);const Te=Oe===TRANSITION&&/\b(transform|all)(,|$)/.test(xe(`${TRANSITION}Property`).toString());return{type:Oe,timeout:Me,propCount:De,hasTransform:Te}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,xe)=>toMs(r)+toMs(t[xe])))}function toMs(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(t,e,r){const xe=t[vtcKey];xe&&(e=(e?[e,...xe]:[...xe]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const vShowOldKey=Symbol("_vod"),vShow={beforeMount(t,{value:e},{transition:r}){t[vShowOldKey]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:xe}){!e!=!r&&(xe?e?(xe.beforeEnter(t),setDisplay(t,!0),xe.enter(t)):xe.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t[vShowOldKey]:"none"}const CSS_VAR_TEXT=Symbol("");function patchStyle(t,e,r){const xe=t.style,Se=isString(r);if(r&&!Se){if(e&&!isString(e))for(const _e in e)r[_e]==null&&setStyle(xe,_e,"");for(const _e in r)setStyle(xe,_e,r[_e])}else{const _e=xe.display;if(Se){if(e!==r){const Ae=xe[CSS_VAR_TEXT];Ae&&(r+=";"+Ae),xe.cssText=r}}else e&&t.removeAttribute("style");vShowOldKey in t&&(xe.display=_e)}}const importantRE=/\s*!important$/;function setStyle(t,e,r){if(isArray$1(r))r.forEach(xe=>setStyle(t,e,xe));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const xe=autoPrefix(t,e);importantRE.test(r)?t.setProperty(hyphenate(xe),r.replace(importantRE,""),"important"):t[xe]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const r=prefixCache[e];if(r)return r;let xe=camelize(e);if(xe!=="filter"&&xe in t)return prefixCache[e]=xe;xe=capitalize(xe);for(let Se=0;Se<prefixes.length;Se++){const _e=prefixes[Se]+xe;if(_e in t)return prefixCache[e]=_e}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,r,xe,Se){if(xe&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,r);else{const _e=isSpecialBooleanAttr(e);r==null||_e&&!includeBooleanAttr(r)?t.removeAttribute(e):t.setAttribute(e,_e?"":r)}}function patchDOMProp(t,e,r,xe,Se,_e,Ae){if(e==="innerHTML"||e==="textContent"){xe&&Ae(xe,Se,_e),t[e]=r??"";return}const Ce=t.tagName;if(e==="value"&&Ce!=="PROGRESS"&&!Ce.includes("-")){t._value=r;const Ee=Ce==="OPTION"?t.getAttribute("value"):t.value,Oe=r??"";Ee!==Oe&&(t.value=Oe),r==null&&t.removeAttribute(e);return}let Pe=!1;if(r===""||r==null){const Ee=typeof t[e];Ee==="boolean"?r=includeBooleanAttr(r):r==null&&Ee==="string"?(r="",Pe=!0):Ee==="number"&&(r=0,Pe=!0)}try{t[e]=r}catch{}Pe&&t.removeAttribute(e)}function addEventListener(t,e,r,xe){t.addEventListener(e,r,xe)}function removeEventListener(t,e,r,xe){t.removeEventListener(e,r,xe)}const veiKey=Symbol("_vei");function patchEvent(t,e,r,xe,Se=null){const _e=t[veiKey]||(t[veiKey]={}),Ae=_e[e];if(xe&&Ae)Ae.value=xe;else{const[Ce,Pe]=parseName(e);if(xe){const Ee=_e[e]=createInvoker(xe,Se);addEventListener(t,Ce,Ee,Pe)}else Ae&&(removeEventListener(t,Ce,Ae,Pe),_e[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let xe;for(;xe=t.match(optionsModifierRE);)t=t.slice(0,t.length-xe[0].length),e[xe[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const r=xe=>{if(!xe._vts)xe._vts=Date.now();else if(xe._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(xe,r.value),e,5,[xe])};return r.value=t,r.attached=getNow(),r}function patchStopImmediatePropagation(t,e){if(isArray$1(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(xe=>Se=>!Se._stopped&&xe&&xe(Se))}else return e}const isNativeOn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,patchProp=(t,e,r,xe,Se=!1,_e,Ae,Ce,Pe)=>{e==="class"?patchClass(t,xe,Se):e==="style"?patchStyle(t,r,xe):isOn(e)?isModelListener(e)||patchEvent(t,e,r,xe,Ae):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,xe,Se))?patchDOMProp(t,e,xe,_e,Ae,Ce,Pe):(e==="true-value"?t._trueValue=xe:e==="false-value"&&(t._falseValue=xe),patchAttr(t,e,xe,Se))};function shouldSetAsProp(t,e,r,xe){if(xe)return!!(e==="innerHTML"||e==="textContent"||e in t&&isNativeOn(e)&&isFunction(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const Se=t.tagName;if(Se==="IMG"||Se==="VIDEO"||Se==="CANVAS"||Se==="SOURCE")return!1}return isNativeOn(e)&&isString(r)?!1:e in t}const getModelAssigner=t=>{const e=t.props["onUpdate:modelValue"]||!1;return isArray$1(e)?r=>invokeArrayFns(e,r):e};function onCompositionStart(t){t.target.composing=!0}function onCompositionEnd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(t,{modifiers:{lazy:e,trim:r,number:xe}},Se){t[assignKey]=getModelAssigner(Se);const _e=xe||Se.props&&Se.props.type==="number";addEventListener(t,e?"change":"input",Ae=>{if(Ae.target.composing)return;let Ce=t.value;r&&(Ce=Ce.trim()),_e&&(Ce=looseToNumber(Ce)),t[assignKey](Ce)}),r&&addEventListener(t,"change",()=>{t.value=t.value.trim()}),e||(addEventListener(t,"compositionstart",onCompositionStart),addEventListener(t,"compositionend",onCompositionEnd),addEventListener(t,"change",onCompositionEnd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:xe,number:Se}},_e){if(t[assignKey]=getModelAssigner(_e),t.composing)return;const Ae=Se||t.type==="number"?looseToNumber(t.value):t.value,Ce=e??"";Ae!==Ce&&(document.activeElement===t&&t.type!=="range"&&(r||xe&&t.value.trim()===Ce)||(t.value=Ce))}},rendererOptions=extend$3({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:r}=e;return e.mount=xe=>{const Se=normalizeContainer(xe);if(!Se)return;const _e=e._component;!isFunction(_e)&&!_e.render&&!_e.template&&(_e.template=Se.innerHTML),Se.innerHTML="";const Ae=r(Se,!1,Se instanceof SVGElement);return Se instanceof Element&&(Se.removeAttribute("v-cloak"),Se.setAttribute("data-v-app","")),Ae},e};function normalizeContainer(t){return isString(t)?document.querySelector(t):t}function _createForOfIteratorHelper$1$1(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray$3$1(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var xe=0,Se=function(){};return{s:Se,n:function(){return xe>=t.length?{done:!0}:{done:!1,value:t[xe++]}},e:function(Ee){throw Ee},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=!0,Ae=!1,Ce;return{s:function(){r=r.call(t)},n:function(){var Ee=r.next();return _e=Ee.done,Ee},e:function(Ee){Ae=!0,Ce=Ee},f:function(){try{!_e&&r.return!=null&&r.return()}finally{if(Ae)throw Ce}}}}function _toConsumableArray$3$1(t){return _arrayWithoutHoles$3$1(t)||_iterableToArray$3$1(t)||_unsupportedIterableToArray$3$1(t)||_nonIterableSpread$3$1()}function _nonIterableSpread$3$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$3$1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$3$1(t){if(Array.isArray(t))return _arrayLikeToArray$3$1(t)}function _typeof$3$1(t){"@babel/helpers - typeof";return _typeof$3$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3$1(t)}function _slicedToArray$1$1(t,e){return _arrayWithHoles$1$1(t)||_iterableToArrayLimit$1$1(t,e)||_unsupportedIterableToArray$3$1(t,e)||_nonIterableRest$1$1()}function _nonIterableRest$1$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3$1(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$3$1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$3$1(t,e)}}function _arrayLikeToArray$3$1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,xe=new Array(e);r<e;r++)xe[r]=t[r];return xe}function _iterableToArrayLimit$1$1(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var xe,Se,_e,Ae,Ce=[],Pe=!0,Ee=!1;try{if(_e=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;Pe=!1}else for(;!(Pe=(xe=_e.call(r)).done)&&(Ce.push(xe.value),Ce.length!==e);Pe=!0);}catch(Oe){Ee=!0,Se=Oe}finally{try{if(!Pe&&r.return!=null&&(Ae=r.return(),Object(Ae)!==Ae))return}finally{if(Ee)throw Se}}return Ce}}function _arrayWithHoles$1$1(t){if(Array.isArray(t))return t}var DomHandler={innerWidth:function(e){if(e){var r=e.offsetWidth,xe=getComputedStyle(e);return r+=parseFloat(xe.paddingLeft)+parseFloat(xe.paddingRight),r}return 0},width:function(e){if(e){var r=e.offsetWidth,xe=getComputedStyle(e);return r-=parseFloat(xe.paddingLeft)+parseFloat(xe.paddingRight),r}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,r){if(e){var xe=e.offsetWidth;if(r){var Se=getComputedStyle(e);xe+=parseFloat(Se.marginLeft)+parseFloat(Se.marginRight)}return xe}return 0},getOuterHeight:function(e,r){if(e){var xe=e.offsetHeight;if(r){var Se=getComputedStyle(e);xe+=parseFloat(Se.marginTop)+parseFloat(Se.marginBottom)}return xe}return 0},getClientHeight:function(e,r){if(e){var xe=e.clientHeight;if(r){var Se=getComputedStyle(e);xe+=parseFloat(Se.marginTop)+parseFloat(Se.marginBottom)}return xe}return 0},getViewport:function(){var e=window,r=document,xe=r.documentElement,Se=r.getElementsByTagName("body")[0],_e=e.innerWidth||xe.clientWidth||Se.clientWidth,Ae=e.innerHeight||xe.clientHeight||Se.clientHeight;return{width:_e,height:Ae}},getOffset:function(e){if(e){var r=e.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var r,xe=(r=this.getParentNode(e))===null||r===void 0?void 0:r.childNodes,Se=0,_e=0;_e<xe.length;_e++){if(xe[_e]===e)return Se;xe[_e].nodeType===1&&Se++}return-1},addMultipleClasses:function(e,r){var xe=this;e&&r&&[r].flat().filter(Boolean).forEach(function(Se){return Se.split(" ").forEach(function(_e){return xe.addClass(e,_e)})})},removeMultipleClasses:function(e,r){var xe=this;e&&r&&[r].flat().filter(Boolean).forEach(function(Se){return Se.split(" ").forEach(function(_e){return xe.removeClass(e,_e)})})},addClass:function(e,r){e&&r&&!this.hasClass(e,r)&&(e.classList?e.classList.add(r):e.className+=" "+r)},removeClass:function(e,r){e&&r&&(e.classList?e.classList.remove(r):e.className=e.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,r){return e?e.classList?e.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(e.className):!1},addStyles:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(r).forEach(function(xe){var Se=_slicedToArray$1$1(xe,2),_e=Se[0],Ae=Se[1];return e.style[_e]=Ae})},find:function(e,r){return this.isElement(e)?e.querySelectorAll(r):[]},findSingle:function(e,r){return this.isElement(e)?e.querySelector(r):null},createElement:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var xe=document.createElement(e);this.setAttributes(xe,r);for(var Se=arguments.length,_e=new Array(Se>2?Se-2:0),Ae=2;Ae<Se;Ae++)_e[Ae-2]=arguments[Ae];return xe.append.apply(xe,_e),xe}},setAttribute:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",xe=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&xe!==null&&xe!==void 0&&e.setAttribute(r,xe)},setAttributes:function(e){var r=this,xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var Se=function _e(Ae,Ce){var Pe,Ee,Oe=e!=null&&(Pe=e.$attrs)!==null&&Pe!==void 0&&Pe[Ae]?[e==null||(Ee=e.$attrs)===null||Ee===void 0?void 0:Ee[Ae]]:[];return[Ce].flat().reduce(function(Me,De){if(De!=null){var Te=_typeof$3$1(De);if(Te==="string"||Te==="number")Me.push(De);else if(Te==="object"){var ke=Array.isArray(De)?_e(Ae,De):Object.entries(De).map(function(Fe){var $e=_slicedToArray$1$1(Fe,2),Be=$e[0],Ie=$e[1];return Ae==="style"&&(Ie||Ie===0)?"".concat(Be.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(Ie):Ie?Be:void 0});Me=ke.length?Me.concat(ke.filter(function(Fe){return!!Fe})):Me}}return Me},Oe)};Object.entries(xe).forEach(function(_e){var Ae=_slicedToArray$1$1(_e,2),Ce=Ae[0],Pe=Ae[1];if(Pe!=null){var Ee=Ce.match(/^on(.+)/);Ee?e.addEventListener(Ee[1].toLowerCase(),Pe):Ce==="p-bind"?r.setAttributes(e,Pe):(Pe=Ce==="class"?_toConsumableArray$3$1(new Set(Se("class",Pe))).join(" ").trim():Ce==="style"?Se("style",Pe).join(";").trim():Pe,(e.$attrs=e.$attrs||{})&&(e.$attrs[Ce]=Pe),e.setAttribute(Ce,Pe))}})}},getAttribute:function(e,r){if(this.isElement(e)){var xe=e.getAttribute(r);return isNaN(xe)?xe==="true"||xe==="false"?xe==="true":xe:+xe}},isAttributeEquals:function(e,r,xe){return this.isElement(e)?this.getAttribute(e,r)===xe:!1},isAttributeNotEquals:function(e,r,xe){return!this.isAttributeEquals(e,r,xe)},getHeight:function(e){if(e){var r=e.offsetHeight,xe=getComputedStyle(e);return r-=parseFloat(xe.paddingTop)+parseFloat(xe.paddingBottom)+parseFloat(xe.borderTopWidth)+parseFloat(xe.borderBottomWidth),r}return 0},getWidth:function(e){if(e){var r=e.offsetWidth,xe=getComputedStyle(e);return r-=parseFloat(xe.paddingLeft)+parseFloat(xe.paddingRight)+parseFloat(xe.borderLeftWidth)+parseFloat(xe.borderRightWidth),r}return 0},absolutePosition:function(e,r){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var Se=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),_e=Se.height,Ae=Se.width,Ce=r.offsetHeight,Pe=r.offsetWidth,Ee=r.getBoundingClientRect(),Oe=this.getWindowScrollTop(),Me=this.getWindowScrollLeft(),De=this.getViewport(),Te,ke,Fe="top";Ee.top+Ce+_e>De.height?(Te=Ee.top+Oe-_e,Fe="bottom",Te<0&&(Te=Oe)):Te=Ce+Ee.top+Oe,Ee.left+Ae>De.width?ke=Math.max(0,Ee.left+Me+Pe-Ae):ke=Ee.left+Me,e.style.top=Te+"px",e.style.left=ke+"px",e.style.transformOrigin=Fe,xe&&(e.style.marginTop=Fe==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,r){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var Se=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),_e=r.offsetHeight,Ae=r.getBoundingClientRect(),Ce=this.getViewport(),Pe,Ee,Oe="top";Ae.top+_e+Se.height>Ce.height?(Pe=-1*Se.height,Oe="bottom",Ae.top+Pe<0&&(Pe=-1*Ae.top)):Pe=_e,Se.width>Ce.width?Ee=Ae.left*-1:Ae.left+Se.width>Ce.width?Ee=(Ae.left+Se.width-Ce.width)*-1:Ee=0,e.style.top=Pe+"px",e.style.left=Ee+"px",e.style.transformOrigin=Oe,xe&&(e.style.marginTop=Oe==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,r){if(e){var xe=e.parentElement,Se=this.getOffset(xe),_e=this.getViewport(),Ae=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),Ce=this.getOuterWidth(xe.children[0]),Pe;parseInt(Se.left,10)+Ce+Ae>_e.width-this.calculateScrollbarWidth()?parseInt(Se.left,10)<Ae?r%2===1?Pe=parseInt(Se.left,10)?"-"+parseInt(Se.left,10)+"px":"100%":r%2===0&&(Pe=_e.width-Ae-this.calculateScrollbarWidth()+"px"):Pe="-100%":Pe="100%",e.style.top="0px",e.style.left=Pe}},getParentNode:function(e){var r=e==null?void 0:e.parentNode;return r&&r instanceof ShadowRoot&&r.host&&(r=r.host),r},getParents:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],xe=this.getParentNode(e);return xe===null?r:this.getParents(xe,r.concat([xe]))},getScrollableParents:function(e){var r=[];if(e){var xe=this.getParents(e),Se=/(auto|scroll)/,_e=function($e){try{var Be=window.getComputedStyle($e,null);return Se.test(Be.getPropertyValue("overflow"))||Se.test(Be.getPropertyValue("overflowX"))||Se.test(Be.getPropertyValue("overflowY"))}catch{return!1}},Ae=_createForOfIteratorHelper$1$1(xe),Ce;try{for(Ae.s();!(Ce=Ae.n()).done;){var Pe=Ce.value,Ee=Pe.nodeType===1&&Pe.dataset.scrollselectors;if(Ee){var Oe=Ee.split(","),Me=_createForOfIteratorHelper$1$1(Oe),De;try{for(Me.s();!(De=Me.n()).done;){var Te=De.value,ke=this.findSingle(Pe,Te);ke&&_e(ke)&&r.push(ke)}}catch(Fe){Me.e(Fe)}finally{Me.f()}}Pe.nodeType!==9&&_e(Pe)&&r.push(Pe)}}catch(Fe){Ae.e(Fe)}finally{Ae.f()}}return r},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var r=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",r}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var r=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",r}return 0},getHiddenElementDimensions:function(e){if(e){var r={};return e.style.visibility="hidden",e.style.display="block",r.width=e.offsetWidth,r.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",r}return 0},fadeIn:function(e,r){if(e){e.style.opacity=0;var xe=+new Date,Se=0,_e=function Ae(){Se=+e.style.opacity+(new Date().getTime()-xe)/r,e.style.opacity=Se,xe=+new Date,+Se<1&&(window.requestAnimationFrame&&requestAnimationFrame(Ae)||setTimeout(Ae,16))};_e()}},fadeOut:function(e,r){if(e)var xe=1,Se=50,_e=r,Ae=Se/_e,Ce=setInterval(function(){xe-=Ae,xe<=0&&(xe=0,clearInterval(Ce)),e.style.opacity=xe},Se)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,r){if(this.isElement(r))r.appendChild(e);else if(r.el&&r.elElement)r.elElement.appendChild(e);else throw new Error("Cannot append "+r+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":_typeof$3$1(HTMLElement))==="object"?e instanceof HTMLElement:e&&_typeof$3$1(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,r){var xe=getComputedStyle(e).getPropertyValue("borderTopWidth"),Se=xe?parseFloat(xe):0,_e=getComputedStyle(e).getPropertyValue("paddingTop"),Ae=_e?parseFloat(_e):0,Ce=e.getBoundingClientRect(),Pe=r.getBoundingClientRect(),Ee=Pe.top+document.body.scrollTop-(Ce.top+document.body.scrollTop)-Se-Ae,Oe=e.scrollTop,Me=e.clientHeight,De=this.getOuterHeight(r);Ee<0?e.scrollTop=Oe+Ee:Ee+De>Me&&(e.scrollTop=Oe+Ee-Me+De)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var r=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=r,r},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,r,xe){e[r].apply(e,xe)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,r){e&&document.activeElement!==e&&e.focus(r)},isFocusableElement:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)):!1},getFocusableElements:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",xe=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),Se=[],_e=_createForOfIteratorHelper$1$1(xe),Ae;try{for(_e.s();!(Ae=_e.n()).done;){var Ce=Ae.value;getComputedStyle(Ce).display!="none"&&getComputedStyle(Ce).visibility!="hidden"&&Se.push(Ce)}}catch(Pe){_e.e(Pe)}finally{_e.f()}return Se},getFirstFocusableElement:function(e,r){var xe=this.getFocusableElements(e,r);return xe.length>0?xe[0]:null},getLastFocusableElement:function(e,r){var xe=this.getFocusableElements(e,r);return xe.length>0?xe[xe.length-1]:null},getNextFocusableElement:function(e,r,xe){var Se=this.getFocusableElements(e,xe),_e=Se.length>0?Se.findIndex(function(Ce){return Ce===r}):-1,Ae=_e>-1&&Se.length>=_e+1?_e+1:-1;return Ae>-1?Se[Ae]:null},getPreviousElementSibling:function(e,r){for(var xe=e.previousElementSibling;xe;){if(xe.matches(r))return xe;xe=xe.previousElementSibling}return null},getNextElementSibling:function(e,r){for(var xe=e.nextElementSibling;xe;){if(xe.matches(r))return xe;xe=xe.nextElementSibling}return null},isClickable:function(e){if(e){var r=e.nodeName,xe=e.parentElement&&e.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||xe==="INPUT"||xe==="TEXTAREA"||xe==="BUTTON"||xe==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,r){if(typeof r=="string")e.style.cssText=r;else for(var xe in r)e.style[xe]=r[xe]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var r=getComputedStyle(e),xe=parseFloat(r.getPropertyValue("animation-duration")||"0");return xe>0}return!1},hasCSSTransition:function(e){if(e){var r=getComputedStyle(e),xe=parseFloat(r.getPropertyValue("transition-duration")||"0");return xe>0}return!1},exportCSV:function(e,r){var xe=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(xe,r+".csv");else{var Se=document.createElement("a");Se.download!==void 0?(Se.setAttribute("href",URL.createObjectURL(xe)),Se.setAttribute("download",r+".csv"),Se.style.display="none",document.body.appendChild(Se),Se.click(),document.body.removeChild(Se)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function _typeof$2$1(t){"@babel/helpers - typeof";return _typeof$2$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2$1(t)}function _classCallCheck$1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(t,e){for(var r=0;r<e.length;r++){var xe=e[r];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(t,_toPropertyKey$1$3(xe.key),xe)}}function _createClass$1(t,e,r){return e&&_defineProperties$1(t.prototype,e),r&&_defineProperties$1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$1$3(t){var e=_toPrimitive$1$3(t,"string");return _typeof$2$1(e)=="symbol"?e:String(e)}function _toPrimitive$1$3(t,e){if(_typeof$2$1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$2$1(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ConnectedOverlayScrollHandler=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};_classCallCheck$1(this,t),this.element=e,this.listener=r}return _createClass$1(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=DomHandler.getScrollableParents(this.element);for(var r=0;r<this.scrollableParents.length;r++)this.scrollableParents[r].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var r=0;r<this.scrollableParents.length;r++)this.scrollableParents[r].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function primebus(){var t=new Map;return{on:function(r,xe){var Se=t.get(r);Se?Se.push(xe):Se=[xe],t.set(r,Se)},off:function(r,xe){var Se=t.get(r);Se&&Se.splice(Se.indexOf(xe)>>>0,1)},emit:function(r,xe){var Se=t.get(r);Se&&Se.slice().map(function(_e){_e(xe)})}}}function _slicedToArray$3(t,e){return _arrayWithHoles$3(t)||_iterableToArrayLimit$3(t,e)||_unsupportedIterableToArray$2$1(t,e)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$3(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var xe,Se,_e,Ae,Ce=[],Pe=!0,Ee=!1;try{if(_e=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;Pe=!1}else for(;!(Pe=(xe=_e.call(r)).done)&&(Ce.push(xe.value),Ce.length!==e);Pe=!0);}catch(Oe){Ee=!0,Se=Oe}finally{try{if(!Pe&&r.return!=null&&(Ae=r.return(),Object(Ae)!==Ae))return}finally{if(Ee)throw Se}}return Ce}}function _arrayWithHoles$3(t){if(Array.isArray(t))return t}function _toConsumableArray$2$1(t){return _arrayWithoutHoles$2$1(t)||_iterableToArray$2$1(t)||_unsupportedIterableToArray$2$1(t)||_nonIterableSpread$2$1()}function _nonIterableSpread$2$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$2$1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$2$1(t){if(Array.isArray(t))return _arrayLikeToArray$2$1(t)}function _createForOfIteratorHelper$2(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray$2$1(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var xe=0,Se=function(){};return{s:Se,n:function(){return xe>=t.length?{done:!0}:{done:!1,value:t[xe++]}},e:function(Ee){throw Ee},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=!0,Ae=!1,Ce;return{s:function(){r=r.call(t)},n:function(){var Ee=r.next();return _e=Ee.done,Ee},e:function(Ee){Ae=!0,Ce=Ee},f:function(){try{!_e&&r.return!=null&&r.return()}finally{if(Ae)throw Ce}}}}function _unsupportedIterableToArray$2$1(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$2$1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$2$1(t,e)}}function _arrayLikeToArray$2$1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,xe=new Array(e);r<e;r++)xe[r]=t[r];return xe}function _typeof$1$3(t){"@babel/helpers - typeof";return _typeof$1$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1$3(t)}var ObjectUtils={equals:function(e,r,xe){return xe?this.resolveFieldData(e,xe)===this.resolveFieldData(r,xe):this.deepEquals(e,r)},deepEquals:function(e,r){if(e===r)return!0;if(e&&r&&_typeof$1$3(e)=="object"&&_typeof$1$3(r)=="object"){var xe=Array.isArray(e),Se=Array.isArray(r),_e,Ae,Ce;if(xe&&Se){if(Ae=e.length,Ae!=r.length)return!1;for(_e=Ae;_e--!==0;)if(!this.deepEquals(e[_e],r[_e]))return!1;return!0}if(xe!=Se)return!1;var Pe=e instanceof Date,Ee=r instanceof Date;if(Pe!=Ee)return!1;if(Pe&&Ee)return e.getTime()==r.getTime();var Oe=e instanceof RegExp,Me=r instanceof RegExp;if(Oe!=Me)return!1;if(Oe&&Me)return e.toString()==r.toString();var De=Object.keys(e);if(Ae=De.length,Ae!==Object.keys(r).length)return!1;for(_e=Ae;_e--!==0;)if(!Object.prototype.hasOwnProperty.call(r,De[_e]))return!1;for(_e=Ae;_e--!==0;)if(Ce=De[_e],!this.deepEquals(e[Ce],r[Ce]))return!1;return!0}return e!==e&&r!==r},resolveFieldData:function(e,r){if(!e||!r)return null;try{var xe=e[r];if(this.isNotEmpty(xe))return xe}catch{}if(Object.keys(e).length){if(this.isFunction(r))return r(e);if(r.indexOf(".")===-1)return e[r];for(var Se=r.split("."),_e=e,Ae=0,Ce=Se.length;Ae<Ce;++Ae){if(_e==null)return null;_e=_e[Se[Ae]]}return _e}return null},getItemValue:function(e){for(var r=arguments.length,xe=new Array(r>1?r-1:0),Se=1;Se<r;Se++)xe[Se-1]=arguments[Se];return this.isFunction(e)?e.apply(void 0,xe):e},filter:function(e,r,xe){var Se=[];if(e){var _e=_createForOfIteratorHelper$2(e),Ae;try{for(_e.s();!(Ae=_e.n()).done;){var Ce=Ae.value,Pe=_createForOfIteratorHelper$2(r),Ee;try{for(Pe.s();!(Ee=Pe.n()).done;){var Oe=Ee.value;if(String(this.resolveFieldData(Ce,Oe)).toLowerCase().indexOf(xe.toLowerCase())>-1){Se.push(Ce);break}}}catch(Me){Pe.e(Me)}finally{Pe.f()}}}catch(Me){_e.e(Me)}finally{_e.f()}}return Se},reorderArray:function(e,r,xe){e&&r!==xe&&(xe>=e.length&&(xe%=e.length,r%=e.length),e.splice(xe,0,e.splice(r,1)[0]))},findIndexInList:function(e,r){var xe=-1;if(r){for(var Se=0;Se<r.length;Se++)if(r[Se]===e){xe=Se;break}}return xe},contains:function(e,r){if(e!=null&&r&&r.length){var xe=_createForOfIteratorHelper$2(r),Se;try{for(xe.s();!(Se=xe.n()).done;){var _e=Se.value;if(this.equals(e,_e))return!0}}catch(Ae){xe.e(Ae)}finally{xe.f()}}return!1},insertIntoOrderedArray:function(e,r,xe,Se){if(xe.length>0){for(var _e=!1,Ae=0;Ae<xe.length;Ae++){var Ce=this.findIndexInList(xe[Ae],Se);if(Ce>r){xe.splice(Ae,0,e),_e=!0;break}}_e||xe.push(e)}else xe.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,r){if(e){var xe=e.props;if(xe){var Se=r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),_e=Object.prototype.hasOwnProperty.call(xe,Se)?Se:r;return e.type.extends.props[r].type===Boolean&&xe[_e]===""?!0:xe[_e]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(r,xe){return xe===0?r:"-"+r.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&_typeof$1$3(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(r||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(r||e.length!==0)},isString:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(r||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,r){var xe;if(this.isNotEmpty(e))try{xe=e.findLast(r)}catch{xe=_toConsumableArray$2$1(e).reverse().find(r)}return xe},findLastIndex:function(e,r){var xe=-1;if(this.isNotEmpty(e))try{xe=e.findLastIndex(r)}catch{xe=e.lastIndexOf(_toConsumableArray$2$1(e).reverse().find(r))}return xe},sort:function(e,r){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Se=arguments.length>3?arguments[3]:void 0,_e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,Ae=this.compare(e,r,Se,xe),Ce=xe;return(this.isEmpty(e)||this.isEmpty(r))&&(Ce=_e===1?xe:_e),Ce*Ae},compare:function(e,r,xe){var Se=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,_e=-1,Ae=this.isEmpty(e),Ce=this.isEmpty(r);return Ae&&Ce?_e=0:Ae?_e=Se:Ce?_e=-Se:typeof e=="string"&&typeof r=="string"?_e=xe(e,r):_e=e<r?-1:e>r?1:0,_e},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(r).reduce(function(Se,_e){var Ae=_slicedToArray$3(_e,2),Ce=Ae[0],Pe=Ae[1],Ee=xe?"".concat(xe,".").concat(Ce):Ce;return e.isObject(Pe)?Se=Se.concat(e.nestedKeys(Pe,Ee)):Se.push(Ee),Se},[])},stringify:function(e){var r=this,xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,_e=" ".repeat(Se),Ae=" ".repeat(Se+xe);return this.isArray(e)?"["+e.map(function(Ce){return r.stringify(Ce,xe,Se+xe)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(Ce){var Pe=_slicedToArray$3(Ce,2),Ee=Pe[0],Oe=Pe[1];return"".concat(Ae).concat(Ee,": ").concat(r.stringify(Oe,xe,Se+xe))}).join(`,
`)+`
`.concat(_e)+"}":JSON.stringify(e)}},lastId=0;function UniqueComponentId(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return lastId++,"".concat(t).concat(lastId)}function _toConsumableArray$5(t){return _arrayWithoutHoles$5(t)||_iterableToArray$6(t)||_unsupportedIterableToArray$9(t)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$9(t,e)}}function _iterableToArray$6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$5(t){if(Array.isArray(t))return _arrayLikeToArray$9(t)}function _arrayLikeToArray$9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,xe=new Array(e);r<e;r++)xe[r]=t[r];return xe}function handler(){var t=[],e=function(Ce,Pe){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,Oe=Se(Ce,Pe,Ee),Me=Oe.value+(Oe.key===Ce?0:Ee)+1;return t.push({key:Ce,value:Me}),Me},r=function(Ce){t=t.filter(function(Pe){return Pe.value!==Ce})},xe=function(Ce,Pe){return Se(Ce,Pe).value},Se=function(Ce,Pe){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return _toConsumableArray$5(t).reverse().find(function(Oe){return Pe?!0:Oe.key===Ce})||{key:Ce,value:Ee}},_e=function(Ce){return Ce&&parseInt(Ce.style.zIndex,10)||0};return{get:_e,set:function(Ce,Pe,Ee){Pe&&(Pe.style.zIndex=String(e(Ce,!0,Ee)))},clear:function(Ce){Ce&&(r(_e(Ce)),Ce.style.zIndex="")},getCurrent:function(Ce){return xe(Ce,!0)}}}var ZIndexUtils=handler();function _typeof$f(t){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$f(t)}function ownKeys$d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$d(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$d(Object(r),!0).forEach(function(xe){_defineProperty$e(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$d(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$e(t,e,r){return e=_toPropertyKey$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$e(t){var e=_toPrimitive$e(t,"string");return _typeof$f(e)=="symbol"?e:String(e)}function _toPrimitive$e(t,e){if(_typeof$f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$f(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tryOnMounted(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;getCurrentInstance()?onMounted(t):e?t():nextTick(t)}var _id=0;function useStyle(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=ref(!1),xe=ref(t),Se=ref(null),_e=DomHandler.isClient()?window.document:void 0,Ae=e.document,Ce=Ae===void 0?_e:Ae,Pe=e.immediate,Ee=Pe===void 0?!0:Pe,Oe=e.manual,Me=Oe===void 0?!1:Oe,De=e.name,Te=De===void 0?"style_".concat(++_id):De,ke=e.id,Fe=ke===void 0?void 0:ke,$e=e.media,Be=$e===void 0?void 0:$e,Ie=e.nonce,Re=Ie===void 0?void 0:Ie,je=e.props,Ve=je===void 0?{}:je,He=function(){},ze=function(qe){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ce){var Ye=_objectSpread$d(_objectSpread$d({},Ve),Ge),Qe=Ye.name||Te,Je=Ye.id||Fe,ri=Ye.nonce||Re;Se.value=Ce.querySelector('style[data-primevue-style-id="'.concat(Qe,'"]'))||Ce.getElementById(Je)||Ce.createElement("style"),Se.value.isConnected||(xe.value=qe||t,DomHandler.setAttributes(Se.value,{type:"text/css",id:Je,media:Be,nonce:ri}),Ce.head.appendChild(Se.value),DomHandler.setAttribute(Se.value,"data-primevue-style-id",Te),DomHandler.setAttributes(Se.value,Ye)),!r.value&&(He=watch(xe,function(hi){Se.value.textContent=hi},{immediate:!0}),r.value=!0)}},Ue=function(){!Ce||!r.value||(He(),DomHandler.isExist(Se.value)&&Ce.head.removeChild(Se.value),r.value=!1)};return Ee&&!Me&&tryOnMounted(ze),{id:Fe,name:Te,css:xe,unload:Ue,load:ze,isLoaded:readonly(r)}}function _typeof$e(t){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$e(t)}function _slicedToArray$2(t,e){return _arrayWithHoles$2(t)||_iterableToArrayLimit$2(t,e)||_unsupportedIterableToArray$8(t,e)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$8(t,e)}}function _arrayLikeToArray$8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,xe=new Array(e);r<e;r++)xe[r]=t[r];return xe}function _iterableToArrayLimit$2(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var xe,Se,_e,Ae,Ce=[],Pe=!0,Ee=!1;try{if(_e=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;Pe=!1}else for(;!(Pe=(xe=_e.call(r)).done)&&(Ce.push(xe.value),Ce.length!==e);Pe=!0);}catch(Oe){Ee=!0,Se=Oe}finally{try{if(!Pe&&r.return!=null&&(Ae=r.return(),Object(Ae)!==Ae))return}finally{if(Ee)throw Se}}return Ce}}function _arrayWithHoles$2(t){if(Array.isArray(t))return t}function ownKeys$c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$c(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$c(Object(r),!0).forEach(function(xe){_defineProperty$d(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$c(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$d(t,e,r){return e=_toPropertyKey$d(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$d(t){var e=_toPrimitive$d(t,"string");return _typeof$e(e)=="symbol"?e:String(e)}function _toPrimitive$d(t,e){if(_typeof$e(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$e(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var css$2=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,classes$b={},inlineStyles$1={},BaseStyle={name:"base",css:css$2,classes:classes$b,inlineStyles:inlineStyles$1,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?useStyle(this.css,_objectSpread$c({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var xe=Object.entries(r).reduce(function(Se,_e){var Ae=_slicedToArray$2(_e,2),Ce=Ae[0],Pe=Ae[1];return Se.push("".concat(Ce,'="').concat(Pe,'"'))&&Se},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(xe,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return _objectSpread$c(_objectSpread$c({},this),{},{css:void 0},e)}};function _typeof$1$2(t){"@babel/helpers - typeof";return _typeof$1$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1$2(t)}function ownKeys$1$2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$1$2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1$2(Object(r),!0).forEach(function(xe){_defineProperty$1$2(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$1$2(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$1$2(t,e,r){return e=_toPropertyKey$1$2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$1$2(t){var e=_toPrimitive$1$2(t,"string");return _typeof$1$2(e)=="symbol"?e:String(e)}function _toPrimitive$1$2(t,e){if(_typeof$1$2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$1$2(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BaseComponentStyle=BaseStyle.extend({name:"common",loadGlobalStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return useStyle(e,_objectSpread$1$2({name:"global"},r))}});function _typeof$d(t){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$d(t)}function _toArray(t){return _arrayWithHoles$1(t)||_iterableToArray$5(t)||_unsupportedIterableToArray$7(t)||_nonIterableRest$1()}function _iterableToArray$5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _slicedToArray$1(t,e){return _arrayWithHoles$1(t)||_iterableToArrayLimit$1(t,e)||_unsupportedIterableToArray$7(t,e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$7(t,e)}}function _arrayLikeToArray$7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,xe=new Array(e);r<e;r++)xe[r]=t[r];return xe}function _iterableToArrayLimit$1(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var xe,Se,_e,Ae,Ce=[],Pe=!0,Ee=!1;try{if(_e=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;Pe=!1}else for(;!(Pe=(xe=_e.call(r)).done)&&(Ce.push(xe.value),Ce.length!==e);Pe=!0);}catch(Oe){Ee=!0,Se=Oe}finally{try{if(!Pe&&r.return!=null&&(Ae=r.return(),Object(Ae)!==Ae))return}finally{if(Ee)throw Se}}return Ce}}function _arrayWithHoles$1(t){if(Array.isArray(t))return t}function ownKeys$b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$b(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$b(Object(r),!0).forEach(function(xe){_defineProperty$c(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$b(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$c(t,e,r){return e=_toPropertyKey$c(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$c(t){var e=_toPrimitive$c(t,"string");return _typeof$d(e)=="symbol"?e:String(e)}function _toPrimitive$c(t,e){if(_typeof$d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$d(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var script$t={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var r,xe;BaseComponentStyle.loadStyle({nonce:(r=this.$config)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(xe=this.$config)===null||xe===void 0||(xe=xe.csp)===null||xe===void 0?void 0:xe.nonce})}}}},beforeCreate:function(){var e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me,De=(e=this.pt)===null||e===void 0?void 0:e._usept,Te=De?(r=this.pt)===null||r===void 0||(r=r.originalValue)===null||r===void 0?void 0:r[this.$.type.name]:void 0,ke=De?(xe=this.pt)===null||xe===void 0||(xe=xe.value)===null||xe===void 0?void 0:xe[this.$.type.name]:this.pt;(Se=ke||Te)===null||Se===void 0||(Se=Se.hooks)===null||Se===void 0||(_e=Se.onBeforeCreate)===null||_e===void 0||_e.call(Se);var Fe=(Ae=this.$config)===null||Ae===void 0||(Ae=Ae.pt)===null||Ae===void 0?void 0:Ae._usept,$e=Fe?(Ce=this.$primevue)===null||Ce===void 0||(Ce=Ce.config)===null||Ce===void 0||(Ce=Ce.pt)===null||Ce===void 0?void 0:Ce.originalValue:void 0,Be=Fe?(Pe=this.$primevue)===null||Pe===void 0||(Pe=Pe.config)===null||Pe===void 0||(Pe=Pe.pt)===null||Pe===void 0?void 0:Pe.value:(Ee=this.$primevue)===null||Ee===void 0||(Ee=Ee.config)===null||Ee===void 0?void 0:Ee.pt;(Oe=Be||$e)===null||Oe===void 0||(Oe=Oe[this.$.type.name])===null||Oe===void 0||(Oe=Oe.hooks)===null||Oe===void 0||(Me=Oe.onBeforeCreate)===null||Me===void 0||Me.call(Oe)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;BaseStyle.loadStyle({nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var r=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),xe=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));r==null||r(),xe==null||xe()}},_mergeProps:function(e){for(var r=arguments.length,xe=new Array(r>1?r-1:0),Se=1;Se<r;Se++)xe[Se-1]=arguments[Se];return ObjectUtils.isFunction(e)?e.apply(void 0,xe):mergeProps.apply(void 0,xe)},_loadGlobalStyles:function(){var e,r=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);ObjectUtils.isNotEmpty(r)&&BaseComponentStyle.loadGlobalStyle(r,{nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var r;return this[e]||((r=this._getHostInstance(this))===null||r===void 0?void 0:r[e])},_getOptionValue:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Se=ObjectUtils.toFlatCase(r).split("."),_e=Se.shift();return _e?ObjectUtils.isObject(e)?this._getOptionValue(ObjectUtils.getItemValue(e[Object.keys(e).find(function(Ae){return ObjectUtils.toFlatCase(Ae)===_e})||""],xe),Se.join("."),xe):void 0:ObjectUtils.getItemValue(e,xe)},_getPTValue:function(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,Ae=/./g.test(xe)&&!!Se[xe.split(".")[0]],Ce=this._getPropValue("ptOptions")||((e=this.$config)===null||e===void 0?void 0:e.ptOptions)||{},Pe=Ce.mergeSections,Ee=Pe===void 0?!0:Pe,Oe=Ce.mergeProps,Me=Oe===void 0?!1:Oe,De=_e?Ae?this._useGlobalPT(this._getPTClassValue,xe,Se):this._useDefaultPT(this._getPTClassValue,xe,Se):void 0,Te=Ae?void 0:this._getPTSelf(r,this._getPTClassValue,xe,_objectSpread$b(_objectSpread$b({},Se),{},{global:De||{}})),ke=this._getPTDatasets(xe);return Ee||!Ee&&Te?Me?this._mergeProps(Me,De,Te,ke):_objectSpread$b(_objectSpread$b(_objectSpread$b({},De),Te),ke):_objectSpread$b(_objectSpread$b({},Te),ke)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length,xe=new Array(r>1?r-1:0),Se=1;Se<r;Se++)xe[Se-1]=arguments[Se];return mergeProps(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(xe)),this._usePT.apply(this,[this.$_attrsPT].concat(xe)))},_getPTDatasets:function(){var e,r,xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Se="data-pc-",_e=xe==="root"&&ObjectUtils.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return xe!=="transition"&&_objectSpread$b(_objectSpread$b({},xe==="root"&&_objectSpread$b(_defineProperty$c({},"".concat(Se,"name"),ObjectUtils.toFlatCase(_e?(r=this.pt)===null||r===void 0?void 0:r["data-pc-section"]:this.$.type.name)),_e&&_defineProperty$c({},"".concat(Se,"extend"),ObjectUtils.toFlatCase(this.$.type.name)))),{},_defineProperty$c({},"".concat(Se,"section"),ObjectUtils.toFlatCase(xe)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return ObjectUtils.isString(e)||ObjectUtils.isArray(e)?{class:e}:e},_getPT:function(e){var r=this,xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Se=arguments.length>2?arguments[2]:void 0,_e=function(Ce){var Pe,Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Oe=Se?Se(Ce):Ce,Me=ObjectUtils.toFlatCase(xe),De=ObjectUtils.toFlatCase(r.$name);return(Pe=Ee?Me!==De?Oe==null?void 0:Oe[Me]:void 0:Oe==null?void 0:Oe[Me])!==null&&Pe!==void 0?Pe:Oe};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:_e(e.originalValue),value:_e(e.value)}:_e(e,!0)},_usePT:function(e,r,xe,Se){var _e=function(Fe){return r(Fe,xe,Se)};if(e!=null&&e.hasOwnProperty("_usept")){var Ae,Ce=e._usept||((Ae=this.$config)===null||Ae===void 0?void 0:Ae.ptOptions)||{},Pe=Ce.mergeSections,Ee=Pe===void 0?!0:Pe,Oe=Ce.mergeProps,Me=Oe===void 0?!1:Oe,De=_e(e.originalValue),Te=_e(e.value);return De===void 0&&Te===void 0?void 0:ObjectUtils.isString(Te)?Te:ObjectUtils.isString(De)?De:Ee||!Ee&&Te?Me?this._mergeProps(Me,De,Te):_objectSpread$b(_objectSpread$b({},De),Te):Te}return _e(e)},_useGlobalPT:function(e,r,xe){return this._usePT(this.globalPT,e,r,xe)},_useDefaultPT:function(e,r,xe){return this._usePT(this.defaultPT,e,r,xe)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,_objectSpread$b(_objectSpread$b({},this.$params),r))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mergeProps(this.$_attrsNoPT,this.ptm(e,r))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,r,_objectSpread$b({instance:this},xe),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,_objectSpread$b(_objectSpread$b({},this.$params),r))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r){var Se=this._getOptionValue(this.$style.inlineStyles,e,_objectSpread$b(_objectSpread$b({},this.$params),xe)),_e=this._getOptionValue(BaseComponentStyle.inlineStyles,e,_objectSpread$b(_objectSpread$b({},this.$params),xe));return[_e,Se]}}},computed:{globalPT:function(){var e,r=this;return this._getPT((e=this.$config)===null||e===void 0?void 0:e.pt,void 0,function(xe){return ObjectUtils.getItemValue(xe,{instance:r})})},defaultPT:function(){var e,r=this;return this._getPT((e=this.$config)===null||e===void 0?void 0:e.pt,void 0,function(xe){return r._getOptionValue(xe,r.$name,_objectSpread$b({},r.$params))||ObjectUtils.getItemValue(xe,_objectSpread$b({},r.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$config)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return _objectSpread$b(_objectSpread$b({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$config:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var r=_slicedToArray$1(e,1),xe=r[0];return xe==null?void 0:xe.startsWith("pt:")}).reduce(function(e,r){var xe=_slicedToArray$1(r,2),Se=xe[0],_e=xe[1],Ae=Se.split(":"),Ce=_toArray(Ae),Pe=Ce.slice(1);return Pe==null||Pe.reduce(function(Ee,Oe,Me,De){return!Ee[Oe]&&(Ee[Oe]=Me===De.length-1?_e:{}),Ee[Oe]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var r=_slicedToArray$1(e,1),xe=r[0];return!(xe!=null&&xe.startsWith("pt:"))}).reduce(function(e,r){var xe=_slicedToArray$1(r,2),Se=xe[0],_e=xe[1];return e[Se]=_e,e},{})}}},css$1=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,BaseIconStyle=BaseStyle.extend({name:"baseicon",css:css$1});function _typeof$c(t){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$c(t)}function ownKeys$a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$a(Object(r),!0).forEach(function(xe){_defineProperty$b(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$a(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$b(t,e,r){return e=_toPropertyKey$b(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$b(t){var e=_toPrimitive$b(t,"string");return _typeof$c(e)=="symbol"?e:String(e)}function _toPrimitive$b(t,e){if(_typeof$c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$c(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var script$s={name:"BaseIcon",extends:script$t,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:BaseIconStyle,methods:{pti:function(){var e=ObjectUtils.isEmpty(this.label);return _objectSpread$a(_objectSpread$a({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},script$r={name:"ChevronLeftIcon",extends:script$s},_hoisted_1$q=createBaseVNode("path",{d:"M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z",fill:"currentColor"},null,-1),_hoisted_2$n=[_hoisted_1$q];function render$q(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("svg",mergeProps({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_hoisted_2$n,16)}script$r.render=render$q;var script$q={name:"ChevronRightIcon",extends:script$s},_hoisted_1$p=createBaseVNode("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),_hoisted_2$m=[_hoisted_1$p];function render$p(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("svg",mergeProps({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_hoisted_2$m,16)}script$q.render=render$p;function _typeof$b(t){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$b(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray$6(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$6(t,e)}}function _arrayLikeToArray$6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,xe=new Array(e);r<e;r++)xe[r]=t[r];return xe}function _iterableToArrayLimit(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var xe,Se,_e,Ae,Ce=[],Pe=!0,Ee=!1;try{if(_e=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;Pe=!1}else for(;!(Pe=(xe=_e.call(r)).done)&&(Ce.push(xe.value),Ce.length!==e);Pe=!0);}catch(Oe){Ee=!0,Se=Oe}finally{try{if(!Pe&&r.return!=null&&(Ae=r.return(),Object(Ae)!==Ae))return}finally{if(Ee)throw Se}}return Ce}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function ownKeys$9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$9(Object(r),!0).forEach(function(xe){_defineProperty$a(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$9(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$a(t,e,r){return e=_toPropertyKey$a(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$a(t){var e=_toPrimitive$a(t,"string");return _typeof$b(e)=="symbol"?e:String(e)}function _toPrimitive$a(t,e){if(_typeof$b(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$b(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BaseDirective={_getMeta:function(){return[ObjectUtils.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],ObjectUtils.getItemValue(ObjectUtils.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,r){var xe,Se,_e;return(xe=(e==null||(Se=e.instance)===null||Se===void 0?void 0:Se.$primevue)||(r==null||(_e=r.ctx)===null||_e===void 0||(_e=_e.appContext)===null||_e===void 0||(_e=_e.config)===null||_e===void 0||(_e=_e.globalProperties)===null||_e===void 0?void 0:_e.$primevue))===null||xe===void 0?void 0:xe.config},_getOptionValue:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Se=ObjectUtils.toFlatCase(r).split("."),_e=Se.shift();return _e?ObjectUtils.isObject(e)?BaseDirective._getOptionValue(ObjectUtils.getItemValue(e[Object.keys(e).find(function(Ae){return ObjectUtils.toFlatCase(Ae)===_e})||""],xe),Se.join("."),xe):void 0:ObjectUtils.getItemValue(e,xe)},_getPTValue:function(){var e,r,xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",Ae=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Ce=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,Pe=function(){var Ie=BaseDirective._getOptionValue.apply(BaseDirective,arguments);return ObjectUtils.isString(Ie)||ObjectUtils.isArray(Ie)?{class:Ie}:Ie},Ee=((e=xe.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((r=xe.$config)===null||r===void 0?void 0:r.ptOptions)||{},Oe=Ee.mergeSections,Me=Oe===void 0?!0:Oe,De=Ee.mergeProps,Te=De===void 0?!1:De,ke=Ce?BaseDirective._useDefaultPT(xe,xe.defaultPT(),Pe,_e,Ae):void 0,Fe=BaseDirective._usePT(xe,BaseDirective._getPT(Se,xe.$name),Pe,_e,_objectSpread$9(_objectSpread$9({},Ae),{},{global:ke||{}})),$e=BaseDirective._getPTDatasets(xe,_e);return Me||!Me&&Fe?Te?BaseDirective._mergeProps(xe,Te,ke,Fe,$e):_objectSpread$9(_objectSpread$9(_objectSpread$9({},ke),Fe),$e):_objectSpread$9(_objectSpread$9({},Fe),$e)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",xe="data-pc-";return _objectSpread$9(_objectSpread$9({},r==="root"&&_defineProperty$a({},"".concat(xe,"name"),ObjectUtils.toFlatCase(e.$name))),{},_defineProperty$a({},"".concat(xe,"section"),ObjectUtils.toFlatCase(r)))},_getPT:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",xe=arguments.length>2?arguments[2]:void 0,Se=function(Ae){var Ce,Pe=xe?xe(Ae):Ae,Ee=ObjectUtils.toFlatCase(r);return(Ce=Pe==null?void 0:Pe[Ee])!==null&&Ce!==void 0?Ce:Pe};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:Se(e.originalValue),value:Se(e.value)}:Se(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,xe=arguments.length>2?arguments[2]:void 0,Se=arguments.length>3?arguments[3]:void 0,_e=arguments.length>4?arguments[4]:void 0,Ae=function($e){return xe($e,Se,_e)};if(r!=null&&r.hasOwnProperty("_usept")){var Ce,Pe=r._usept||((Ce=e.$config)===null||Ce===void 0?void 0:Ce.ptOptions)||{},Ee=Pe.mergeSections,Oe=Ee===void 0?!0:Ee,Me=Pe.mergeProps,De=Me===void 0?!1:Me,Te=Ae(r.originalValue),ke=Ae(r.value);return Te===void 0&&ke===void 0?void 0:ObjectUtils.isString(ke)?ke:ObjectUtils.isString(Te)?Te:Oe||!Oe&&ke?De?BaseDirective._mergeProps(e,De,Te,ke):_objectSpread$9(_objectSpread$9({},Te),ke):ke}return Ae(r)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xe=arguments.length>2?arguments[2]:void 0,Se=arguments.length>3?arguments[3]:void 0,_e=arguments.length>4?arguments[4]:void 0;return BaseDirective._usePT(e,r,xe,Se,_e)},_hook:function(e,r,xe,Se,_e,Ae){var Ce,Pe,Ee="on".concat(ObjectUtils.toCapitalCase(r)),Oe=BaseDirective._getConfig(Se,_e),Me=xe==null?void 0:xe.$instance,De=BaseDirective._usePT(Me,BaseDirective._getPT(Se==null||(Ce=Se.value)===null||Ce===void 0?void 0:Ce.pt,e),BaseDirective._getOptionValue,"hooks.".concat(Ee)),Te=BaseDirective._useDefaultPT(Me,Oe==null||(Pe=Oe.pt)===null||Pe===void 0||(Pe=Pe.directives)===null||Pe===void 0?void 0:Pe[e],BaseDirective._getOptionValue,"hooks.".concat(Ee)),ke={el:xe,binding:Se,vnode:_e,prevVnode:Ae};De==null||De(Me,ke),Te==null||Te(Me,ke)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,r=arguments.length,xe=new Array(r>2?r-2:0),Se=2;Se<r;Se++)xe[Se-2]=arguments[Se];return ObjectUtils.isFunction(e)?e.apply(void 0,xe):mergeProps.apply(void 0,xe)},_extend:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xe=function(_e,Ae,Ce,Pe,Ee){var Oe,Me;Ae._$instances=Ae._$instances||{};var De=BaseDirective._getConfig(Ce,Pe),Te=Ae._$instances[e]||{},ke=ObjectUtils.isEmpty(Te)?_objectSpread$9(_objectSpread$9({},r),r==null?void 0:r.methods):{};Ae._$instances[e]=_objectSpread$9(_objectSpread$9({},Te),{},{$name:e,$host:Ae,$binding:Ce,$modifiers:Ce==null?void 0:Ce.modifiers,$value:Ce==null?void 0:Ce.value,$el:Te.$el||Ae||void 0,$style:_objectSpread$9({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},r==null?void 0:r.style),$config:De,defaultPT:function(){return BaseDirective._getPT(De==null?void 0:De.pt,void 0,function($e){var Be;return $e==null||(Be=$e.directives)===null||Be===void 0?void 0:Be[e]})},isUnstyled:function(){var $e,Be;return(($e=Ae.$instance)===null||$e===void 0||($e=$e.$binding)===null||$e===void 0||($e=$e.value)===null||$e===void 0?void 0:$e.unstyled)!==void 0?(Be=Ae.$instance)===null||Be===void 0||(Be=Be.$binding)===null||Be===void 0||(Be=Be.value)===null||Be===void 0?void 0:Be.unstyled:De==null?void 0:De.unstyled},ptm:function(){var $e,Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return BaseDirective._getPTValue(Ae.$instance,($e=Ae.$instance)===null||$e===void 0||($e=$e.$binding)===null||$e===void 0||($e=$e.value)===null||$e===void 0?void 0:$e.pt,Be,_objectSpread$9({},Ie))},ptmo:function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return BaseDirective._getPTValue(Ae.$instance,$e,Be,Ie,!1)},cx:function(){var $e,Be,Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return($e=Ae.$instance)!==null&&$e!==void 0&&$e.isUnstyled()?void 0:BaseDirective._getOptionValue((Be=Ae.$instance)===null||Be===void 0||(Be=Be.$style)===null||Be===void 0?void 0:Be.classes,Ie,_objectSpread$9({},Re))},sx:function(){var $e,Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ie?BaseDirective._getOptionValue(($e=Ae.$instance)===null||$e===void 0||($e=$e.$style)===null||$e===void 0?void 0:$e.inlineStyles,Be,_objectSpread$9({},Re)):void 0}},ke),Ae.$instance=Ae._$instances[e],(Oe=(Me=Ae.$instance)[_e])===null||Oe===void 0||Oe.call(Me,Ae,Ce,Pe,Ee),Ae["$".concat(e)]=Ae.$instance,BaseDirective._hook(e,_e,Ae,Ce,Pe,Ee)};return{created:function(_e,Ae,Ce,Pe){xe("created",_e,Ae,Ce,Pe)},beforeMount:function(_e,Ae,Ce,Pe){var Ee,Oe,Me,De,Te=BaseDirective._getConfig(Ae,Ce);BaseStyle.loadStyle({nonce:Te==null||(Ee=Te.csp)===null||Ee===void 0?void 0:Ee.nonce}),!((Oe=_e.$instance)!==null&&Oe!==void 0&&Oe.isUnstyled())&&((Me=_e.$instance)===null||Me===void 0||(Me=Me.$style)===null||Me===void 0||Me.loadStyle({nonce:Te==null||(De=Te.csp)===null||De===void 0?void 0:De.nonce})),xe("beforeMount",_e,Ae,Ce,Pe)},mounted:function(_e,Ae,Ce,Pe){var Ee,Oe,Me,De,Te=BaseDirective._getConfig(Ae,Ce);BaseStyle.loadStyle({nonce:Te==null||(Ee=Te.csp)===null||Ee===void 0?void 0:Ee.nonce}),!((Oe=_e.$instance)!==null&&Oe!==void 0&&Oe.isUnstyled())&&((Me=_e.$instance)===null||Me===void 0||(Me=Me.$style)===null||Me===void 0||Me.loadStyle({nonce:Te==null||(De=Te.csp)===null||De===void 0?void 0:De.nonce})),xe("mounted",_e,Ae,Ce,Pe)},beforeUpdate:function(_e,Ae,Ce,Pe){xe("beforeUpdate",_e,Ae,Ce,Pe)},updated:function(_e,Ae,Ce,Pe){xe("updated",_e,Ae,Ce,Pe)},beforeUnmount:function(_e,Ae,Ce,Pe){xe("beforeUnmount",_e,Ae,Ce,Pe)},unmounted:function(_e,Ae,Ce,Pe){xe("unmounted",_e,Ae,Ce,Pe)}}},extend:function(){var e=BaseDirective._getMeta.apply(BaseDirective,arguments),r=_slicedToArray(e,2),xe=r[0],Se=r[1];return _objectSpread$9({extend:function(){var Ae=BaseDirective._getMeta.apply(BaseDirective,arguments),Ce=_slicedToArray(Ae,2),Pe=Ce[0],Ee=Ce[1];return BaseDirective.extend(Pe,_objectSpread$9(_objectSpread$9(_objectSpread$9({},Se),Se==null?void 0:Se.methods),Ee))}},BaseDirective._extend(xe,Se))}},classes$a={root:"p-ink"},RippleStyle=BaseStyle.extend({name:"ripple",classes:classes$a}),BaseRipple=BaseDirective.extend({style:RippleStyle});function _toConsumableArray$4(t){return _arrayWithoutHoles$4(t)||_iterableToArray$4(t)||_unsupportedIterableToArray$5(t)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$5(t,e)}}function _iterableToArray$4(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$4(t){if(Array.isArray(t))return _arrayLikeToArray$5(t)}function _arrayLikeToArray$5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,xe=new Array(e);r<e;r++)xe[r]=t[r];return xe}var Ripple=BaseRipple.extend("ripple",{mounted:function(e){var r,xe=e==null||(r=e.$instance)===null||r===void 0?void 0:r.$config;xe&&xe.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var r=DomHandler.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(r),this.$el=r},remove:function(e){var r=this.getInk(e);r&&(this.unbindEvents(e),r.removeEventListener("animationend",this.onAnimationEnd),r.remove())},onMouseDown:function(e){var r=this,xe=e.currentTarget,Se=this.getInk(xe);if(!(!Se||getComputedStyle(Se,null).display==="none")){if(!this.isUnstyled()&&DomHandler.removeClass(Se,"p-ink-active"),Se.setAttribute("data-p-ink-active","false"),!DomHandler.getHeight(Se)&&!DomHandler.getWidth(Se)){var _e=Math.max(DomHandler.getOuterWidth(xe),DomHandler.getOuterHeight(xe));Se.style.height=_e+"px",Se.style.width=_e+"px"}var Ae=DomHandler.getOffset(xe),Ce=e.pageX-Ae.left+document.body.scrollTop-DomHandler.getWidth(Se)/2,Pe=e.pageY-Ae.top+document.body.scrollLeft-DomHandler.getHeight(Se)/2;Se.style.top=Pe+"px",Se.style.left=Ce+"px",!this.isUnstyled()&&DomHandler.addClass(Se,"p-ink-active"),Se.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){Se&&(!r.isUnstyled()&&DomHandler.removeClass(Se,"p-ink-active"),Se.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&DomHandler.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?_toConsumableArray$4(e.children).find(function(r){return DomHandler.getAttribute(r,"data-pc-name")==="ripple"}):void 0}}}),classes$9={root:function(e){var r=e.props;return["p-tabview p-component",{"p-tabview-scrollable":r.scrollable}]},navContainer:"p-tabview-nav-container",previousButton:"p-tabview-nav-prev p-tabview-nav-btn p-link",navContent:"p-tabview-nav-content",nav:"p-tabview-nav",tab:{header:function(e){var r=e.instance,xe=e.tab,Se=e.index;return["p-tabview-header",r.getTabProp(xe,"headerClass"),{"p-highlight":r.d_activeIndex===Se,"p-disabled":r.getTabProp(xe,"disabled")}]},headerAction:"p-tabview-nav-link p-tabview-header-action",headerTitle:"p-tabview-title",content:function(e){var r=e.instance,xe=e.tab;return["p-tabview-panel",r.getTabProp(xe,"contentClass")]}},inkbar:"p-tabview-ink-bar",nextButton:"p-tabview-nav-next p-tabview-nav-btn p-link",panelContainer:"p-tabview-panels"},TabViewStyle=BaseStyle.extend({name:"tabview",classes:classes$9}),script$1$c={name:"BaseTabView",extends:script$t,props:{activeIndex:{type:Number,default:0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1},previousButtonProps:{type:null,default:null},nextButtonProps:{type:null,default:null},prevIcon:{type:String,default:void 0},nextIcon:{type:String,default:void 0}},style:TabViewStyle,provide:function(){return{$parentInstance:this}}},script$p={name:"TabView",extends:script$1$c,inheritAttrs:!1,emits:["update:activeIndex","tab-change","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex,isPrevButtonDisabled:!0,isNextButtonDisabled:!1}},watch:{"$attrs.id":function(e){this.id=e||UniqueComponentId()},activeIndex:function(e){this.d_activeIndex=e,this.scrollInView({index:e})}},mounted:function(){this.id=this.id||UniqueComponentId(),this.updateInkBar(),this.scrollable&&this.updateButtonState()},updated:function(){this.updateInkBar(),this.scrollable&&this.updateButtonState()},methods:{isTabPanel:function(e){return e.type.name==="TabPanel"},isTabActive:function(e){return this.d_activeIndex===e},getTabProp:function(e,r){return e.props?e.props[r]:void 0},getKey:function(e,r){return this.getTabProp(e,"header")||r},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,r,xe){var Se=this.tabs.length,_e={props:e.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:xe,count:Se,first:xe===0,last:xe===Se-1,active:this.isTabActive(xe)}};return mergeProps(this.ptm("tab.".concat(r),{tab:_e}),this.ptm("tabpanel.".concat(r),{tabpanel:_e}),this.ptm("tabpanel.".concat(r),_e),this.ptmo(this.getTabProp(e,"pt"),r,_e))},onScroll:function(e){this.scrollable&&this.updateButtonState(),e.preventDefault()},onPrevButtonClick:function(){var e=this.$refs.content,r=DomHandler.getWidth(e),xe=e.scrollLeft-r;e.scrollLeft=xe<=0?0:xe},onNextButtonClick:function(){var e=this.$refs.content,r=DomHandler.getWidth(e)-this.getVisibleButtonWidths(),xe=e.scrollLeft+r,Se=e.scrollWidth-r;e.scrollLeft=xe>=Se?Se:xe},onTabClick:function(e,r,xe){this.changeActiveIndex(e,r,xe),this.$emit("tab-click",{originalEvent:e,index:xe})},onTabKeyDown:function(e,r,xe){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,r,xe);break}},onTabArrowRightKey:function(e){var r=this.findNextHeaderAction(e.target.parentElement);r?this.changeFocusedTab(e,r):this.onTabHomeKey(e),e.preventDefault()},onTabArrowLeftKey:function(e){var r=this.findPrevHeaderAction(e.target.parentElement);r?this.changeFocusedTab(e,r):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var r=this.findFirstHeaderAction();this.changeFocusedTab(e,r),e.preventDefault()},onTabEndKey:function(e){var r=this.findLastHeaderAction();this.changeFocusedTab(e,r),e.preventDefault()},onPageDownKey:function(e){this.scrollInView({index:this.$refs.nav.children.length-2}),e.preventDefault()},onPageUpKey:function(e){this.scrollInView({index:0}),e.preventDefault()},onTabEnterKey:function(e,r,xe){this.changeActiveIndex(e,r,xe),e.preventDefault()},findNextHeaderAction:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,xe=r?e:e.nextElementSibling;return xe?DomHandler.getAttribute(xe,"data-p-disabled")||DomHandler.getAttribute(xe,"data-pc-section")==="inkbar"?this.findNextHeaderAction(xe):DomHandler.findSingle(xe,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,xe=r?e:e.previousElementSibling;return xe?DomHandler.getAttribute(xe,"data-p-disabled")||DomHandler.getAttribute(xe,"data-pc-section")==="inkbar"?this.findPrevHeaderAction(xe):DomHandler.findSingle(xe,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$refs.nav.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$refs.nav.lastElementChild,!0)},changeActiveIndex:function(e,r,xe){!this.getTabProp(r,"disabled")&&this.d_activeIndex!==xe&&(this.d_activeIndex=xe,this.$emit("update:activeIndex",xe),this.$emit("tab-change",{originalEvent:e,index:xe}),this.scrollInView({index:xe}))},changeFocusedTab:function(e,r){if(r&&(DomHandler.focus(r),this.scrollInView({element:r}),this.selectOnFocus)){var xe=parseInt(r.parentElement.dataset.pcIndex,10),Se=this.tabs[xe];this.changeActiveIndex(e,Se,xe)}},scrollInView:function(e){var r=e.element,xe=e.index,Se=xe===void 0?-1:xe,_e=r||this.$refs.nav.children[Se];_e&&_e.scrollIntoView&&_e.scrollIntoView({block:"nearest"})},updateInkBar:function(){var e=this.$refs.nav.children[this.d_activeIndex];this.$refs.inkbar.style.width=DomHandler.getWidth(e)+"px",this.$refs.inkbar.style.left=DomHandler.getOffset(e).left-DomHandler.getOffset(this.$refs.nav).left+"px"},updateButtonState:function(){var e=this.$refs.content,r=e.scrollLeft,xe=e.scrollWidth,Se=DomHandler.getWidth(e);this.isPrevButtonDisabled=r===0,this.isNextButtonDisabled=parseInt(r)===xe-Se},getVisibleButtonWidths:function(){var e=this.$refs,r=e.prevBtn,xe=e.nextBtn;return[r,xe].reduce(function(Se,_e){return _e?Se+DomHandler.getWidth(_e):Se},0)}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(r,xe){return e.isTabPanel(xe)?r.push(xe):xe.children&&xe.children instanceof Array&&xe.children.forEach(function(Se){e.isTabPanel(Se)&&r.push(Se)}),r},[])},prevButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0}},directives:{ripple:Ripple},components:{ChevronLeftIcon:script$r,ChevronRightIcon:script$q}};function _typeof$a(t){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$a(t)}function ownKeys$8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$8(Object(r),!0).forEach(function(xe){_defineProperty$9(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$8(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$9(t,e,r){return e=_toPropertyKey$9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$9(t){var e=_toPrimitive$9(t,"string");return _typeof$a(e)=="symbol"?e:String(e)}function _toPrimitive$9(t,e){if(_typeof$a(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$a(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _hoisted_1$o=["tabindex","aria-label"],_hoisted_2$l=["data-p-highlight","data-p-disabled","data-pc-index","data-p-active"],_hoisted_3$9=["id","tabindex","aria-disabled","aria-selected","aria-controls","onClick","onKeydown"],_hoisted_4$9=["tabindex","aria-label"],_hoisted_5$6=["id","aria-labelledby","data-pc-index","data-p-active"];function render$o(t,e,r,xe,Se,_e){var Ae=resolveDirective("ripple");return openBlock(),createElementBlock("div",mergeProps({class:t.cx("root"),role:"tablist"},t.ptmi("root")),[createBaseVNode("div",mergeProps({class:t.cx("navContainer")},t.ptm("navContainer")),[t.scrollable&&!Se.isPrevButtonDisabled?withDirectives((openBlock(),createElementBlock("button",mergeProps({key:0,ref:"prevBtn",type:"button",class:t.cx("previousButton"),tabindex:t.tabindex,"aria-label":_e.prevButtonAriaLabel,onClick:e[0]||(e[0]=function(){return _e.onPrevButtonClick&&_e.onPrevButtonClick.apply(_e,arguments)})},_objectSpread$8(_objectSpread$8({},t.previousButtonProps),t.ptm("previousButton")),{"data-pc-group-section":"navbutton"}),[renderSlot(t.$slots,"previousicon",{},function(){return[(openBlock(),createBlock(resolveDynamicComponent(t.prevIcon?"span":"ChevronLeftIcon"),mergeProps({"aria-hidden":"true",class:t.prevIcon},t.ptm("previousIcon")),null,16,["class"]))]})],16,_hoisted_1$o)),[[Ae]]):createCommentVNode("",!0),createBaseVNode("div",mergeProps({ref:"content",class:t.cx("navContent"),onScroll:e[1]||(e[1]=function(){return _e.onScroll&&_e.onScroll.apply(_e,arguments)})},t.ptm("navContent")),[createBaseVNode("ul",mergeProps({ref:"nav",class:t.cx("nav")},t.ptm("nav")),[(openBlock(!0),createElementBlock(Fragment,null,renderList(_e.tabs,function(Ce,Pe){return openBlock(),createElementBlock("li",mergeProps({key:_e.getKey(Ce,Pe),style:_e.getTabProp(Ce,"headerStyle"),class:t.cx("tab.header",{tab:Ce,index:Pe}),role:"presentation"},_objectSpread$8(_objectSpread$8(_objectSpread$8({},_e.getTabProp(Ce,"headerProps")),_e.getTabPT(Ce,"root",Pe)),_e.getTabPT(Ce,"header",Pe)),{"data-pc-name":"tabpanel","data-p-highlight":Se.d_activeIndex===Pe,"data-p-disabled":_e.getTabProp(Ce,"disabled"),"data-pc-index":Pe,"data-p-active":Se.d_activeIndex===Pe}),[withDirectives((openBlock(),createElementBlock("a",mergeProps({id:_e.getTabHeaderActionId(Pe),class:t.cx("tab.headerAction"),tabindex:_e.getTabProp(Ce,"disabled")||!_e.isTabActive(Pe)?-1:t.tabindex,role:"tab","aria-disabled":_e.getTabProp(Ce,"disabled"),"aria-selected":_e.isTabActive(Pe),"aria-controls":_e.getTabContentId(Pe),onClick:function(Oe){return _e.onTabClick(Oe,Ce,Pe)},onKeydown:function(Oe){return _e.onTabKeyDown(Oe,Ce,Pe)}},_objectSpread$8(_objectSpread$8({},_e.getTabProp(Ce,"headerActionProps")),_e.getTabPT(Ce,"headerAction",Pe))),[Ce.props&&Ce.props.header?(openBlock(),createElementBlock("span",mergeProps({key:0,class:t.cx("tab.headerTitle")},_e.getTabPT(Ce,"headerTitle",Pe)),toDisplayString(Ce.props.header),17)):createCommentVNode("",!0),Ce.children&&Ce.children.header?(openBlock(),createBlock(resolveDynamicComponent(Ce.children.header),{key:1})):createCommentVNode("",!0)],16,_hoisted_3$9)),[[Ae]])],16,_hoisted_2$l)}),128)),createBaseVNode("li",mergeProps({ref:"inkbar",class:t.cx("inkbar"),role:"presentation","aria-hidden":"true"},t.ptm("inkbar")),null,16)],16)],16),t.scrollable&&!Se.isNextButtonDisabled?withDirectives((openBlock(),createElementBlock("button",mergeProps({key:1,ref:"nextBtn",type:"button",class:t.cx("nextButton"),tabindex:t.tabindex,"aria-label":_e.nextButtonAriaLabel,onClick:e[2]||(e[2]=function(){return _e.onNextButtonClick&&_e.onNextButtonClick.apply(_e,arguments)})},_objectSpread$8(_objectSpread$8({},t.nextButtonProps),t.ptm("nextButton")),{"data-pc-group-section":"navbutton"}),[renderSlot(t.$slots,"nexticon",{},function(){return[(openBlock(),createBlock(resolveDynamicComponent(t.nextIcon?"span":"ChevronRightIcon"),mergeProps({"aria-hidden":"true",class:t.nextIcon},t.ptm("nextIcon")),null,16,["class"]))]})],16,_hoisted_4$9)),[[Ae]]):createCommentVNode("",!0)],16),createBaseVNode("div",mergeProps({class:t.cx("panelContainer")},t.ptm("panelContainer")),[(openBlock(!0),createElementBlock(Fragment,null,renderList(_e.tabs,function(Ce,Pe){return openBlock(),createElementBlock(Fragment,{key:_e.getKey(Ce,Pe)},[!t.lazy||_e.isTabActive(Pe)?withDirectives((openBlock(),createElementBlock("div",mergeProps({key:0,id:_e.getTabContentId(Pe),style:_e.getTabProp(Ce,"contentStyle"),class:t.cx("tab.content",{tab:Ce}),role:"tabpanel","aria-labelledby":_e.getTabHeaderActionId(Pe)},_objectSpread$8(_objectSpread$8(_objectSpread$8({},_e.getTabProp(Ce,"contentProps")),_e.getTabPT(Ce,"root",Pe)),_e.getTabPT(Ce,"content",Pe)),{"data-pc-name":"tabpanel","data-pc-index":Pe,"data-p-active":Se.d_activeIndex===Pe}),[(openBlock(),createBlock(resolveDynamicComponent(Ce)))],16,_hoisted_5$6)),[[vShow,t.lazy?!0:_e.isTabActive(Pe)]]):createCommentVNode("",!0)],64)}),128))],16)],16)}script$p.render=render$o;var TabPanelStyle={},script$1$b={name:"BaseTabPanel",extends:script$t,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:TabPanelStyle},script$o={name:"TabPanel",extends:script$1$b};function render$n(t,e,r,xe,Se,_e){return renderSlot(t.$slots,"default")}script$o.render=render$n;var script$n={name:"ChevronDownIcon",extends:script$s},_hoisted_1$n=createBaseVNode("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),_hoisted_2$k=[_hoisted_1$n];function render$m(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("svg",mergeProps({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_hoisted_2$k,16)}script$n.render=render$m;var classes$8={root:"p-accordion p-component",tab:{root:function(e){var r=e.instance,xe=e.index;return["p-accordion-tab",{"p-accordion-tab-active":r.isTabActive(xe)}]},header:function(e){var r=e.instance,xe=e.tab,Se=e.index;return["p-accordion-header",{"p-highlight":r.isTabActive(Se),"p-disabled":r.getTabProp(xe,"disabled")}]},headerAction:"p-accordion-header-link p-accordion-header-action",headerIcon:"p-accordion-toggle-icon",headerTitle:"p-accordion-header-text",toggleableContent:"p-toggleable-content",content:"p-accordion-content"}},AccordionStyle=BaseStyle.extend({name:"accordion",classes:classes$8}),script$1$a={name:"BaseAccordion",extends:script$t,props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:AccordionStyle,provide:function(){return{$parentInstance:this}}},script$m={name:"Accordion",extends:script$1$a,inheritAttrs:!1,emits:["update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex}},watch:{"$attrs.id":function(e){this.id=e||UniqueComponentId()},activeIndex:function(e){this.d_activeIndex=e}},mounted:function(){this.id=this.id||UniqueComponentId()},methods:{isAccordionTab:function(e){return e.type.name==="AccordionTab"},isTabActive:function(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp:function(e,r){return e.props?e.props[r]:void 0},getKey:function(e,r){return this.getTabProp(e,"header")||r},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,r,xe){var Se=this.tabs.length,_e={props:e.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:xe,count:Se,first:xe===0,last:xe===Se-1,active:this.isTabActive(xe)}};return mergeProps(this.ptm("tab.".concat(r),{tab:_e}),this.ptm("accordiontab.".concat(r),{accordiontab:_e}),this.ptm("accordiontab.".concat(r),_e),this.ptmo(this.getTabProp(e,"pt"),r,_e))},onTabClick:function(e,r,xe){this.changeActiveIndex(e,r,xe),this.$emit("tab-click",{originalEvent:e,index:xe})},onTabKeyDown:function(e,r,xe){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,r,xe);break}},onTabArrowDownKey:function(e){var r=this.findNextHeaderAction(e.target.parentElement.parentElement);r?this.changeFocusedTab(e,r):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey:function(e){var r=this.findPrevHeaderAction(e.target.parentElement.parentElement);r?this.changeFocusedTab(e,r):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var r=this.findFirstHeaderAction();this.changeFocusedTab(e,r),e.preventDefault()},onTabEndKey:function(e){var r=this.findLastHeaderAction();this.changeFocusedTab(e,r),e.preventDefault()},onTabEnterKey:function(e,r,xe){this.changeActiveIndex(e,r,xe),e.preventDefault()},findNextHeaderAction:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,xe=r?e:e.nextElementSibling,Se=DomHandler.findSingle(xe,'[data-pc-section="header"]');return Se?DomHandler.getAttribute(Se,"data-p-disabled")?this.findNextHeaderAction(Se.parentElement):DomHandler.findSingle(Se,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,xe=r?e:e.previousElementSibling,Se=DomHandler.findSingle(xe,'[data-pc-section="header"]');return Se?DomHandler.getAttribute(Se,"data-p-disabled")?this.findPrevHeaderAction(Se.parentElement):DomHandler.findSingle(Se,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex:function(e,r,xe){if(!this.getTabProp(r,"disabled")){var Se=this.isTabActive(xe),_e=Se?"tab-close":"tab-open";this.multiple?Se?this.d_activeIndex=this.d_activeIndex.filter(function(Ae){return Ae!==xe}):this.d_activeIndex?this.d_activeIndex.push(xe):this.d_activeIndex=[xe]:this.d_activeIndex=this.d_activeIndex===xe?null:xe,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(_e,{originalEvent:e,index:xe})}},changeFocusedTab:function(e,r){if(r&&(DomHandler.focus(r),this.selectOnFocus)){var xe=parseInt(r.parentElement.parentElement.dataset.pcIndex,10),Se=this.tabs[xe];this.changeActiveIndex(e,Se,xe)}}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(r,xe){return e.isAccordionTab(xe)?r.push(xe):xe.children&&xe.children instanceof Array&&xe.children.forEach(function(Se){e.isAccordionTab(Se)&&r.push(Se)}),r},[])}},components:{ChevronDownIcon:script$n,ChevronRightIcon:script$q},directives:{ripple:Ripple}};function _typeof$9(t){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$9(t)}function ownKeys$7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$7(Object(r),!0).forEach(function(xe){_defineProperty$8(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$7(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$8(t,e,r){return e=_toPropertyKey$8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$8(t){var e=_toPrimitive$8(t,"string");return _typeof$9(e)=="symbol"?e:String(e)}function _toPrimitive$8(t,e){if(_typeof$9(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$9(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _hoisted_1$m=["data-pc-index","data-p-active"],_hoisted_2$j=["data-p-highlight","data-p-disabled"],_hoisted_3$8=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],_hoisted_4$8=["id","aria-labelledby"];function render$l(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("div",mergeProps({class:t.cx("root")},t.ptmi("root")),[(openBlock(!0),createElementBlock(Fragment,null,renderList(_e.tabs,function(Ae,Ce){return openBlock(),createElementBlock("div",mergeProps({key:_e.getKey(Ae,Ce),class:t.cx("tab.root",{tab:Ae,index:Ce})},_e.getTabPT(Ae,"root",Ce),{"data-pc-name":"accordiontab","data-pc-index":Ce,"data-p-active":_e.isTabActive(Ce)}),[createBaseVNode("div",mergeProps({style:_e.getTabProp(Ae,"headerStyle"),class:[t.cx("tab.header",{tab:Ae,index:Ce}),_e.getTabProp(Ae,"headerClass")]},_objectSpread$7(_objectSpread$7({},_e.getTabProp(Ae,"headerProps")),_e.getTabPT(Ae,"header",Ce)),{"data-p-highlight":_e.isTabActive(Ce),"data-p-disabled":_e.getTabProp(Ae,"disabled")}),[createBaseVNode("a",mergeProps({id:_e.getTabHeaderActionId(Ce),class:t.cx("tab.headerAction"),tabindex:_e.getTabProp(Ae,"disabled")?-1:t.tabindex,role:"button","aria-disabled":_e.getTabProp(Ae,"disabled"),"aria-expanded":_e.isTabActive(Ce),"aria-controls":_e.getTabContentId(Ce),onClick:function(Ee){return _e.onTabClick(Ee,Ae,Ce)},onKeydown:function(Ee){return _e.onTabKeyDown(Ee,Ae,Ce)}},_objectSpread$7(_objectSpread$7({},_e.getTabProp(Ae,"headeractionprops")),_e.getTabPT(Ae,"headeraction",Ce))),[Ae.children&&Ae.children.headericon?(openBlock(),createBlock(resolveDynamicComponent(Ae.children.headericon),{key:0,isTabActive:_e.isTabActive(Ce),active:_e.isTabActive(Ce),index:Ce},null,8,["isTabActive","active","index"])):_e.isTabActive(Ce)?(openBlock(),createBlock(resolveDynamicComponent(t.$slots.collapseicon?t.$slots.collapseicon:t.collapseIcon?"span":"ChevronDownIcon"),mergeProps({key:1,class:[t.cx("tab.headerIcon"),t.collapseIcon],"aria-hidden":"true"},_e.getTabPT(Ae,"headericon",Ce)),null,16,["class"])):(openBlock(),createBlock(resolveDynamicComponent(t.$slots.expandicon?t.$slots.expandicon:t.expandIcon?"span":"ChevronRightIcon"),mergeProps({key:2,class:[t.cx("tab.headerIcon"),t.expandIcon],"aria-hidden":"true"},_e.getTabPT(Ae,"headericon",Ce)),null,16,["class"])),Ae.props&&Ae.props.header?(openBlock(),createElementBlock("span",mergeProps({key:3,class:t.cx("tab.headerTitle")},_e.getTabPT(Ae,"headertitle",Ce)),toDisplayString(Ae.props.header),17)):createCommentVNode("",!0),Ae.children&&Ae.children.header?(openBlock(),createBlock(resolveDynamicComponent(Ae.children.header),{key:4})):createCommentVNode("",!0)],16,_hoisted_3$8)],16,_hoisted_2$j),createVNode(Transition,mergeProps({name:"p-toggleable-content"},_e.getTabPT(Ae,"transition",Ce)),{default:withCtx(function(){return[!t.lazy||_e.isTabActive(Ce)?withDirectives((openBlock(),createElementBlock("div",mergeProps({key:0,id:_e.getTabContentId(Ce),style:_e.getTabProp(Ae,"contentStyle"),class:[t.cx("tab.toggleableContent"),_e.getTabProp(Ae,"contentClass")],role:"region","aria-labelledby":_e.getTabHeaderActionId(Ce)},_objectSpread$7(_objectSpread$7({},_e.getTabProp(Ae,"contentProps")),_e.getTabPT(Ae,"toggleablecontent",Ce))),[createBaseVNode("div",mergeProps({class:t.cx("tab.content")},_e.getTabPT(Ae,"content",Ce)),[(openBlock(),createBlock(resolveDynamicComponent(Ae)))],16)],16,_hoisted_4$8)),[[vShow,t.lazy?!0:_e.isTabActive(Ce)]]):createCommentVNode("",!0)]}),_:2},1040)],16,_hoisted_1$m)}),128))],16)}script$m.render=render$l;var AccordionTabStyle={},script$1$9={name:"BaseAccordionTab",extends:script$t,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:AccordionTabStyle,provide:function(){return{$parentInstance:this}}},script$l={name:"AccordionTab",extends:script$1$9,inheritAttrs:!1};function render$k(t,e,r,xe,Se,_e){return renderSlot(t.$slots,"default")}script$l.render=render$k;var FilterMatchMode={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function _createForOfIteratorHelper$1(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray$4(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var xe=0,Se=function(){};return{s:Se,n:function(){return xe>=t.length?{done:!0}:{done:!1,value:t[xe++]}},e:function(Ee){throw Ee},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=!0,Ae=!1,Ce;return{s:function(){r=r.call(t)},n:function(){var Ee=r.next();return _e=Ee.done,Ee},e:function(Ee){Ae=!0,Ce=Ee},f:function(){try{!_e&&r.return!=null&&r.return()}finally{if(Ae)throw Ce}}}}function _unsupportedIterableToArray$4(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$4(t,e)}}function _arrayLikeToArray$4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,xe=new Array(e);r<e;r++)xe[r]=t[r];return xe}var FilterService={filter:function(e,r,xe,Se,_e){var Ae=[];if(!e)return Ae;var Ce=_createForOfIteratorHelper$1(e),Pe;try{for(Ce.s();!(Pe=Ce.n()).done;){var Ee=Pe.value;if(typeof Ee=="string"){if(this.filters[Se](Ee,xe,_e)){Ae.push(Ee);continue}}else{var Oe=_createForOfIteratorHelper$1(r),Me;try{for(Oe.s();!(Me=Oe.n()).done;){var De=Me.value,Te=ObjectUtils.resolveFieldData(Ee,De);if(this.filters[Se](Te,xe,_e)){Ae.push(Ee);break}}}catch(ke){Oe.e(ke)}finally{Oe.f()}}}}catch(ke){Ce.e(ke)}finally{Ce.f()}return Ae},filters:{startsWith:function(e,r,xe){if(r==null||r==="")return!0;if(e==null)return!1;var Se=ObjectUtils.removeAccents(r.toString()).toLocaleLowerCase(xe),_e=ObjectUtils.removeAccents(e.toString()).toLocaleLowerCase(xe);return _e.slice(0,Se.length)===Se},contains:function(e,r,xe){if(r==null||r==="")return!0;if(e==null)return!1;var Se=ObjectUtils.removeAccents(r.toString()).toLocaleLowerCase(xe),_e=ObjectUtils.removeAccents(e.toString()).toLocaleLowerCase(xe);return _e.indexOf(Se)!==-1},notContains:function(e,r,xe){if(r==null||r==="")return!0;if(e==null)return!1;var Se=ObjectUtils.removeAccents(r.toString()).toLocaleLowerCase(xe),_e=ObjectUtils.removeAccents(e.toString()).toLocaleLowerCase(xe);return _e.indexOf(Se)===-1},endsWith:function(e,r,xe){if(r==null||r==="")return!0;if(e==null)return!1;var Se=ObjectUtils.removeAccents(r.toString()).toLocaleLowerCase(xe),_e=ObjectUtils.removeAccents(e.toString()).toLocaleLowerCase(xe);return _e.indexOf(Se,_e.length-Se.length)!==-1},equals:function(e,r,xe){return r==null||r===""?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()===r.getTime():ObjectUtils.removeAccents(e.toString()).toLocaleLowerCase(xe)==ObjectUtils.removeAccents(r.toString()).toLocaleLowerCase(xe)},notEquals:function(e,r,xe){return r==null||r===""?!1:e==null?!0:e.getTime&&r.getTime?e.getTime()!==r.getTime():ObjectUtils.removeAccents(e.toString()).toLocaleLowerCase(xe)!=ObjectUtils.removeAccents(r.toString()).toLocaleLowerCase(xe)},in:function(e,r){if(r==null||r.length===0)return!0;for(var xe=0;xe<r.length;xe++)if(ObjectUtils.equals(e,r[xe]))return!0;return!1},between:function(e,r){return r==null||r[0]==null||r[1]==null?!0:e==null?!1:e.getTime?r[0].getTime()<=e.getTime()&&e.getTime()<=r[1].getTime():r[0]<=e&&e<=r[1]},lt:function(e,r){return r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()<r.getTime():e<r},lte:function(e,r){return r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()<=r.getTime():e<=r},gt:function(e,r){return r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()>r.getTime():e>r},gte:function(e,r){return r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()>=r.getTime():e>=r},dateIs:function(e,r){return r==null?!0:e==null?!1:e.toDateString()===r.toDateString()},dateIsNot:function(e,r){return r==null?!0:e==null?!1:e.toDateString()!==r.toDateString()},dateBefore:function(e,r){return r==null?!0:e==null?!1:e.getTime()<r.getTime()},dateAfter:function(e,r){return r==null?!0:e==null?!1:e.getTime()>r.getTime()}},register:function(e,r){this.filters[e]=r}},script$k={name:"SearchIcon",extends:script$s},_hoisted_1$l=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),_hoisted_2$i=[_hoisted_1$l];function render$j(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("svg",mergeProps({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_hoisted_2$i,16)}script$k.render=render$j;var script$j={name:"SpinnerIcon",extends:script$s},_hoisted_1$k=createBaseVNode("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),_hoisted_2$h=[_hoisted_1$k];function render$i(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("svg",mergeProps({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_hoisted_2$h,16)}script$j.render=render$i;var css=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,VirtualScrollerStyle=BaseStyle.extend({name:"virtualscroller",css}),script$1$8={name:"BaseVirtualScroller",extends:script$t,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:VirtualScrollerStyle,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;VirtualScrollerStyle.loadStyle({nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function _typeof$8(t){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$8(t)}function ownKeys$6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$6(Object(r),!0).forEach(function(xe){_defineProperty$7(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$6(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$7(t,e,r){return e=_toPropertyKey$7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$7(t){var e=_toPrimitive$7(t,"string");return _typeof$8(e)=="symbol"?e:String(e)}function _toPrimitive$7(t,e){if(_typeof$8(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$8(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var script$i={name:"VirtualScroller",extends:script$1$8,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,r){this.lazy&&e!==r&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,r){(!r||r.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){DomHandler.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=DomHandler.getWidth(this.element),this.defaultHeight=DomHandler.getHeight(this.element),this.defaultContentWidth=DomHandler.getWidth(this.content),this.defaultContentHeight=DomHandler.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var r=this,xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",Se=this.isBoth(),_e=this.isHorizontal(),Ae=Se?e.every(function(ze){return ze>-1}):e>-1;if(Ae){var Ce=this.first,Pe=this.element,Ee=Pe.scrollTop,Oe=Ee===void 0?0:Ee,Me=Pe.scrollLeft,De=Me===void 0?0:Me,Te=this.calculateNumItems(),ke=Te.numToleratedItems,Fe=this.getContentPosition(),$e=this.itemSize,Be=function(){var Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,We=arguments.length>1?arguments[1]:void 0;return Ue<=We?0:Ue},Ie=function(Ue,We,qe){return Ue*We+qe},Re=function(){var Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:Ue,top:We,behavior:xe})},je=Se?{rows:0,cols:0}:0,Ve=!1,He=!1;Se?(je={rows:Be(e[0],ke[0]),cols:Be(e[1],ke[1])},Re(Ie(je.cols,$e[1],Fe.left),Ie(je.rows,$e[0],Fe.top)),He=this.lastScrollPos.top!==Oe||this.lastScrollPos.left!==De,Ve=je.rows!==Ce.rows||je.cols!==Ce.cols):(je=Be(e,ke),_e?Re(Ie(je,$e,Fe.left),Oe):Re(De,Ie(je,$e,Fe.top)),He=this.lastScrollPos!==(_e?De:Oe),Ve=je!==Ce),this.isRangeChanged=Ve,He&&(this.first=je)}},scrollInView:function(e,r){var xe=this,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(r){var _e=this.isBoth(),Ae=this.isHorizontal(),Ce=_e?e.every(function($e){return $e>-1}):e>-1;if(Ce){var Pe=this.getRenderedRange(),Ee=Pe.first,Oe=Pe.viewport,Me=function(){var Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return xe.scrollTo({left:Be,top:Ie,behavior:Se})},De=r==="to-start",Te=r==="to-end";if(De){if(_e)Oe.first.rows-Ee.rows>e[0]?Me(Oe.first.cols*this.itemSize[1],(Oe.first.rows-1)*this.itemSize[0]):Oe.first.cols-Ee.cols>e[1]&&Me((Oe.first.cols-1)*this.itemSize[1],Oe.first.rows*this.itemSize[0]);else if(Oe.first-Ee>e){var ke=(Oe.first-1)*this.itemSize;Ae?Me(ke,0):Me(0,ke)}}else if(Te){if(_e)Oe.last.rows-Ee.rows<=e[0]+1?Me(Oe.first.cols*this.itemSize[1],(Oe.first.rows+1)*this.itemSize[0]):Oe.last.cols-Ee.cols<=e[1]+1&&Me((Oe.first.cols+1)*this.itemSize[1],Oe.first.rows*this.itemSize[0]);else if(Oe.last-Ee<=e+1){var Fe=(Oe.first+1)*this.itemSize;Ae?Me(Fe,0):Me(0,Fe)}}}}else this.scrollToIndex(e,Se)},getRenderedRange:function(){var e=function(Me,De){return Math.floor(Me/(De||Me))},r=this.first,xe=0;if(this.element){var Se=this.isBoth(),_e=this.isHorizontal(),Ae=this.element,Ce=Ae.scrollTop,Pe=Ae.scrollLeft;if(Se)r={rows:e(Ce,this.itemSize[0]),cols:e(Pe,this.itemSize[1])},xe={rows:r.rows+this.numItemsInViewport.rows,cols:r.cols+this.numItemsInViewport.cols};else{var Ee=_e?Pe:Ce;r=e(Ee,this.itemSize),xe=r+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:r,last:xe}}},calculateNumItems:function(){var e=this.isBoth(),r=this.isHorizontal(),xe=this.itemSize,Se=this.getContentPosition(),_e=this.element?this.element.offsetWidth-Se.left:0,Ae=this.element?this.element.offsetHeight-Se.top:0,Ce=function(De,Te){return Math.ceil(De/(Te||De))},Pe=function(De){return Math.ceil(De/2)},Ee=e?{rows:Ce(Ae,xe[0]),cols:Ce(_e,xe[1])}:Ce(r?_e:Ae,xe),Oe=this.d_numToleratedItems||(e?[Pe(Ee.rows),Pe(Ee.cols)]:Pe(Ee));return{numItemsInViewport:Ee,numToleratedItems:Oe}},calculateOptions:function(){var e=this,r=this.isBoth(),xe=this.first,Se=this.calculateNumItems(),_e=Se.numItemsInViewport,Ae=Se.numToleratedItems,Ce=function(Oe,Me,De){var Te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(Oe+Me+(Oe<De?2:3)*De,Te)},Pe=r?{rows:Ce(xe.rows,_e.rows,Ae[0]),cols:Ce(xe.cols,_e.cols,Ae[1],!0)}:Ce(xe,_e,Ae);this.last=Pe,this.numItemsInViewport=_e,this.d_numToleratedItems=Ae,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=r?Array.from({length:_e.rows}).map(function(){return Array.from({length:_e.cols})}):Array.from({length:_e})),this.lazy&&Promise.resolve().then(function(){var Ee;e.lazyLoadState={first:e.step?r?{rows:0,cols:xe.cols}:0:xe,last:Math.min(e.step?e.step:Pe,((Ee=e.items)===null||Ee===void 0?void 0:Ee.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var r=e.isBoth(),xe=e.isHorizontal(),Se=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var _e=[DomHandler.getWidth(e.element),DomHandler.getHeight(e.element)],Ae=_e[0],Ce=_e[1];(r||xe)&&(e.element.style.width=Ae<e.defaultWidth?Ae+"px":e.scrollWidth||e.defaultWidth+"px"),(r||Se)&&(e.element.style.height=Ce<e.defaultHeight?Ce+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,r,xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Se=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(Se?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((r=this.items)===null||r===void 0?void 0:r.length)||0,xe):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),r=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),xe=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),Se=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),_e=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:r,right:xe,top:Se,bottom:_e,x:r+xe,y:Se+_e}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var r=this.isBoth(),xe=this.isHorizontal(),Se=this.element.parentElement,_e=this.scrollWidth||"".concat(this.element.offsetWidth||Se.offsetWidth,"px"),Ae=this.scrollHeight||"".concat(this.element.offsetHeight||Se.offsetHeight,"px"),Ce=function(Ee,Oe){return e.element.style[Ee]=Oe};r||xe?(Ce("height",Ae),Ce("width",_e)):Ce("height",Ae)}},setSpacerSize:function(){var e=this,r=this.items;if(r){var xe=this.isBoth(),Se=this.isHorizontal(),_e=this.getContentPosition(),Ae=function(Pe,Ee,Oe){var Me=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=_objectSpread$6(_objectSpread$6({},e.spacerStyle),_defineProperty$7({},"".concat(Pe),(Ee||[]).length*Oe+Me+"px"))};xe?(Ae("height",r,this.itemSize[0],_e.y),Ae("width",this.columns||r[1],this.itemSize[1],_e.x)):Se?Ae("width",this.columns||r,this.itemSize,_e.x):Ae("height",r,this.itemSize,_e.y)}},setContentPosition:function(e){var r=this;if(this.content&&!this.appendOnly){var xe=this.isBoth(),Se=this.isHorizontal(),_e=e?e.first:this.first,Ae=function(Oe,Me){return Oe*Me},Ce=function(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.contentStyle=_objectSpread$6(_objectSpread$6({},r.contentStyle),{transform:"translate3d(".concat(Oe,"px, ").concat(Me,"px, 0)")})};if(xe)Ce(Ae(_e.cols,this.itemSize[1]),Ae(_e.rows,this.itemSize[0]));else{var Pe=Ae(_e,this.itemSize);Se?Ce(Pe,0):Ce(0,Pe)}}},onScrollPositionChange:function(e){var r=this,xe=e.target,Se=this.isBoth(),_e=this.isHorizontal(),Ae=this.getContentPosition(),Ce=function(Ge,Ye){return Ge?Ge>Ye?Ge-Ye:Ge:0},Pe=function(Ge,Ye){return Math.floor(Ge/(Ye||Ge))},Ee=function(Ge,Ye,Qe,Je,ri,hi){return Ge<=ri?ri:hi?Qe-Je-ri:Ye+ri-1},Oe=function(Ge,Ye,Qe,Je,ri,hi,pi){return Ge<=hi?0:Math.max(0,pi?Ge<Ye?Qe:Ge-hi:Ge>Ye?Qe:Ge-2*hi)},Me=function(Ge,Ye,Qe,Je,ri,hi){var pi=Ye+Je+2*ri;return Ge>=ri&&(pi+=ri+1),r.getLast(pi,hi)},De=Ce(xe.scrollTop,Ae.top),Te=Ce(xe.scrollLeft,Ae.left),ke=Se?{rows:0,cols:0}:0,Fe=this.last,$e=!1,Be=this.lastScrollPos;if(Se){var Ie=this.lastScrollPos.top<=De,Re=this.lastScrollPos.left<=Te;if(!this.appendOnly||this.appendOnly&&(Ie||Re)){var je={rows:Pe(De,this.itemSize[0]),cols:Pe(Te,this.itemSize[1])},Ve={rows:Ee(je.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],Ie),cols:Ee(je.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],Re)};ke={rows:Oe(je.rows,Ve.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],Ie),cols:Oe(je.cols,Ve.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],Re)},Fe={rows:Me(je.rows,ke.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:Me(je.cols,ke.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},$e=ke.rows!==this.first.rows||Fe.rows!==this.last.rows||ke.cols!==this.first.cols||Fe.cols!==this.last.cols||this.isRangeChanged,Be={top:De,left:Te}}}else{var He=_e?Te:De,ze=this.lastScrollPos<=He;if(!this.appendOnly||this.appendOnly&&ze){var Ue=Pe(He,this.itemSize),We=Ee(Ue,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,ze);ke=Oe(Ue,We,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,ze),Fe=Me(Ue,ke,this.last,this.numItemsInViewport,this.d_numToleratedItems),$e=ke!==this.first||Fe!==this.last||this.isRangeChanged,Be=He}}return{first:ke,last:Fe,isRangeChanged:$e,scrollPos:Be}},onScrollChange:function(e){var r=this.onScrollPositionChange(e),xe=r.first,Se=r.last,_e=r.isRangeChanged,Ae=r.scrollPos;if(_e){var Ce={first:xe,last:Se};if(this.setContentPosition(Ce),this.first=xe,this.last=Se,this.lastScrollPos=Ae,this.$emit("scroll-index-change",Ce),this.lazy&&this.isPageChanged(xe)){var Pe,Ee,Oe={first:this.step?Math.min(this.getPageByFirst(xe)*this.step,(((Pe=this.items)===null||Pe===void 0?void 0:Pe.length)||0)-this.step):xe,last:Math.min(this.step?(this.getPageByFirst(xe)+1)*this.step:Se,((Ee=this.items)===null||Ee===void 0?void 0:Ee.length)||0)},Me=this.lazyLoadState.first!==Oe.first||this.lazyLoadState.last!==Oe.last;Me&&this.$emit("lazy-load",Oe),this.lazyLoadState=Oe}}},onScroll:function(e){var r=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var xe=this.onScrollPositionChange(e),Se=xe.isRangeChanged,_e=Se||(this.step?this.isPageChanged():!1);_e&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){r.onScrollChange(e),r.d_loading&&r.showLoader&&(!r.lazy||r.loading===void 0)&&(r.d_loading=!1,r.page=r.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(DomHandler.isVisible(e.element)){var r=e.isBoth(),xe=e.isVertical(),Se=e.isHorizontal(),_e=[DomHandler.getWidth(e.element),DomHandler.getHeight(e.element)],Ae=_e[0],Ce=_e[1],Pe=Ae!==e.defaultWidth,Ee=Ce!==e.defaultHeight,Oe=r?Pe||Ee:Se?Pe:xe?Ee:!1;Oe&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=Ae,e.defaultHeight=Ce,e.defaultContentWidth=DomHandler.getWidth(e.content),e.defaultContentHeight=DomHandler.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var r=(this.items||[]).length,xe=this.isBoth()?this.first.rows+e:this.first+e;return{index:xe,count:r,first:xe===0,last:xe===r-1,even:xe%2===0,odd:xe%2!==0}},getLoaderOptions:function(e,r){var xe=this.loaderArr.length;return _objectSpread$6({index:e,count:xe,first:e===0,last:e===xe-1,even:e%2===0,odd:e%2!==0},r)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||DomHandler.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(r){return e.columns?r:r.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),r=this.isHorizontal();if(e||r)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:script$j}},_hoisted_1$j=["tabindex"];function render$h(t,e,r,xe,Se,_e){var Ae=resolveComponent("SpinnerIcon");return t.disabled?(openBlock(),createElementBlock(Fragment,{key:1},[renderSlot(t.$slots,"default"),renderSlot(t.$slots,"content",{items:t.items,rows:t.items,columns:_e.loadedColumns})],64)):(openBlock(),createElementBlock("div",mergeProps({key:0,ref:_e.elementRef,class:_e.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return _e.onScroll&&_e.onScroll.apply(_e,arguments)})},t.ptmi("root")),[renderSlot(t.$slots,"content",{styleClass:_e.contentClass,items:_e.loadedItems,getItemOptions:_e.getOptions,loading:Se.d_loading,getLoaderOptions:_e.getLoaderOptions,itemSize:t.itemSize,rows:_e.loadedRows,columns:_e.loadedColumns,contentRef:_e.contentRef,spacerStyle:Se.spacerStyle,contentStyle:Se.contentStyle,vertical:_e.isVertical(),horizontal:_e.isHorizontal(),both:_e.isBoth()},function(){return[createBaseVNode("div",mergeProps({ref:_e.contentRef,class:_e.contentClass,style:Se.contentStyle},t.ptm("content")),[(openBlock(!0),createElementBlock(Fragment,null,renderList(_e.loadedItems,function(Ce,Pe){return renderSlot(t.$slots,"item",{key:Pe,item:Ce,options:_e.getOptions(Pe)})}),128))],16)]}),t.showSpacer?(openBlock(),createElementBlock("div",mergeProps({key:0,class:"p-virtualscroller-spacer",style:Se.spacerStyle},t.ptm("spacer")),null,16)):createCommentVNode("",!0),!t.loaderDisabled&&t.showLoader&&Se.d_loading?(openBlock(),createElementBlock("div",mergeProps({key:1,class:_e.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(Se.loaderArr,function(Ce,Pe){return renderSlot(t.$slots,"loader",{key:Pe,options:_e.getLoaderOptions(Pe,_e.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):createCommentVNode("",!0),renderSlot(t.$slots,"loadingicon",{},function(){return[createVNode(Ae,mergeProps({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):createCommentVNode("",!0)],16,_hoisted_1$j))}script$i.render=render$h;var classes$7={root:function(e){e.instance;var r=e.props;return["p-listbox p-component",{"p-disabled":r.disabled,"p-invalid":r.invalid}]},header:"p-listbox-header",filterContainer:"p-listbox-filter-container",filterInput:"p-listbox-filter p-inputtext p-component",filterIcon:"p-listbox-filter-icon",wrapper:"p-listbox-list-wrapper",list:"p-listbox-list",itemGroup:"p-listbox-item-group",item:function(e){var r=e.instance,xe=e.option,Se=e.index,_e=e.getItemOptions;return["p-listbox-item",{"p-highlight":r.isSelected(xe),"p-focus":r.focusedOptionIndex===r.getOptionIndex(Se,_e),"p-disabled":r.isOptionDisabled(xe)}]},emptyMessage:"p-listbox-empty-message"},ListboxStyle=BaseStyle.extend({name:"listbox",classes:classes$7}),script$1$7={name:"BaseListbox",extends:script$t,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,listStyle:null,invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,multiple:{type:Boolean,default:!1},metaKeySelection:{type:Boolean,default:!1},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},filterInputProps:null,virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!0},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},filterIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:ListboxStyle,provide:function(){return{$parentInstance:this}}};function _toConsumableArray$3(t){return _arrayWithoutHoles$3(t)||_iterableToArray$3(t)||_unsupportedIterableToArray$3(t)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$3(t,e)}}function _iterableToArray$3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$3(t){if(Array.isArray(t))return _arrayLikeToArray$3(t)}function _arrayLikeToArray$3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,xe=new Array(e);r<e;r++)xe[r]=t[r];return xe}var script$h={name:"Listbox",extends:script$1$7,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","filter"],list:null,virtualScroller:null,optionTouched:!1,startRangeIndex:-1,searchTimeout:null,searchValue:"",data:function(){return{id:this.$attrs.id,filterValue:null,focused:!1,focusedOptionIndex:-1}},watch:{"$attrs.id":function(e){this.id=e||UniqueComponentId()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||UniqueComponentId(),this.autoUpdateModel()},methods:{getOptionIndex:function(e,r){return this.virtualScrollerDisabled?e:r&&r(e).index},getOptionLabel:function(e){return this.optionLabel?ObjectUtils.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?ObjectUtils.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,r){return(this.dataKey?ObjectUtils.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+r},getPTOptions:function(e,r,xe,Se){return this.ptm(Se,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(xe,r),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?ObjectUtils.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return ObjectUtils.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return ObjectUtils.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var r=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(xe){return r.isOptionGroup(xe)}).length:e)+1},onFirstHiddenFocus:function(){DomHandler.focus(this.list);var e=DomHandler.getFirstFocusableElement(this.$el,':not([data-p-hidden-focusable="true"])');this.$refs.lastHiddenFocusableElement.tabIndex=DomHandler.isElement(e)?void 0:-1,this.$refs.firstHiddenFocusableElement.tabIndex=-1},onLastHiddenFocus:function(e){var r=e.relatedTarget;if(r===this.list){var xe=DomHandler.getFirstFocusableElement(this.$el,':not([data-p-hidden-focusable="true"])');DomHandler.focus(xe),this.$refs.firstHiddenFocusableElement.tabIndex=void 0}else DomHandler.focus(this.$refs.firstHiddenFocusableElement);this.$refs.lastHiddenFocusableElement.tabIndex=-1},onFocusout:function(e){!this.$el.contains(e.relatedTarget)&&this.$refs.lastHiddenFocusableElement&&this.$refs.firstHiddenFocusableElement&&(this.$refs.lastHiddenFocusableElement.tabIndex=this.$refs.firstHiddenFocusableElement.tabIndex=void 0)},onListFocus:function(e){this.focused=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.autoUpdateModel(),this.$emit("focus",e)},onListBlur:function(e){this.focused=!1,this.focusedOptionIndex=this.startRangeIndex=-1,this.searchValue="",this.$emit("blur",e)},onListKeyDown:function(e){var r=this,xe=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onSpaceKey(e);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(this.multiple&&e.code==="KeyA"&&xe){var Se=this.visibleOptions.filter(function(_e){return r.isValidOption(_e)}).map(function(_e){return r.getOptionValue(_e)});this.updateModel(e,Se),e.preventDefault();break}!xe&&ObjectUtils.isPrintableCharacter(e.key)&&(this.searchOptions(e,e.key),e.preventDefault());break}},onOptionSelect:function(e,r){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;this.disabled||this.isOptionDisabled(r)||(this.multiple?this.onOptionSelectMultiple(e,r):this.onOptionSelectSingle(e,r),this.optionTouched=!1,xe!==-1&&(this.focusedOptionIndex=xe))},onOptionMouseDown:function(e,r){this.changeFocusedOptionIndex(e,r)},onOptionMouseMove:function(e,r){this.focusOnHover&&this.focused&&this.changeFocusedOptionIndex(e,r)},onOptionTouchEnd:function(){this.disabled||(this.optionTouched=!0)},onOptionSelectSingle:function(e,r){var xe=this.isSelected(r),Se=!1,_e=null,Ae=this.optionTouched?!1:this.metaKeySelection;if(Ae){var Ce=e&&(e.metaKey||e.ctrlKey);xe?Ce&&(_e=null,Se=!0):(_e=this.getOptionValue(r),Se=!0)}else _e=xe?null:this.getOptionValue(r),Se=!0;Se&&this.updateModel(e,_e)},onOptionSelectMultiple:function(e,r){var xe=this.isSelected(r),Se=null,_e=this.optionTouched?!1:this.metaKeySelection;if(_e){var Ae=e.metaKey||e.ctrlKey;xe?Se=Ae?this.removeOption(r):[this.getOptionValue(r)]:(Se=Ae?this.modelValue||[]:[],Se=[].concat(_toConsumableArray$3(Se),[this.getOptionValue(r)]))}else Se=xe?this.removeOption(r):[].concat(_toConsumableArray$3(this.modelValue||[]),[this.getOptionValue(r)]);this.updateModel(e,Se)},onOptionSelectRange:function(e){var r=this,xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(xe===-1&&(xe=this.findNearestSelectedOptionIndex(Se,!0)),Se===-1&&(Se=this.findNearestSelectedOptionIndex(xe)),xe!==-1&&Se!==-1){var _e=Math.min(xe,Se),Ae=Math.max(xe,Se),Ce=this.visibleOptions.slice(_e,Ae+1).filter(function(Pe){return r.isValidOption(Pe)}).map(function(Pe){return r.getOptionValue(Pe)});this.updateModel(e,Ce)}},onFilterChange:function(e){this.$emit("filter",{originalEvent:e,value:e.target.value}),this.focusedOptionIndex=this.startRangeIndex=-1},onFilterBlur:function(){this.focusedOptionIndex=this.startRangeIndex=-1},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break}},onArrowDownKey:function(e){var r=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.findFirstFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,r),this.changeFocusedOptionIndex(e,r),e.preventDefault()},onArrowUpKey:function(e){var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.findLastFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),e.preventDefault()},onArrowLeftKey:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r)e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex=-1;else{var xe=e.metaKey||e.ctrlKey,Se=this.findFirstOptionIndex();this.multiple&&e.shiftKey&&xe&&this.onOptionSelectRange(e,Se,this.startRangeIndex),this.changeFocusedOptionIndex(e,Se)}e.preventDefault()},onEndKey:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r){var xe=e.currentTarget,Se=xe.value.length;xe.setSelectionRange(Se,Se),this.focusedOptionIndex=-1}else{var _e=e.metaKey||e.ctrlKey,Ae=this.findLastOptionIndex();this.multiple&&e.shiftKey&&_e&&this.onOptionSelectRange(e,this.startRangeIndex,Ae),this.changeFocusedOptionIndex(e,Ae)}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.focusedOptionIndex!==-1&&(this.multiple&&e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]))},onSpaceKey:function(e){this.onEnterKey(e)},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},isOptionMatched:function(e){var r;return this.isValidOption(e)&&((r=this.getOptionLabel(e))===null||r===void 0?void 0:r.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return ObjectUtils.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,r){return ObjectUtils.equals(e,r,this.equalityKey)},isSelected:function(e){var r=this,xe=this.getOptionValue(e);return this.multiple?(this.modelValue||[]).some(function(Se){return r.isEquals(Se,xe)}):this.isEquals(this.modelValue,xe)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(r){return e.isValidOption(r)})},findLastOptionIndex:function(){var e=this;return ObjectUtils.findLastIndex(this.visibleOptions,function(r){return e.isValidOption(r)})},findNextOptionIndex:function(e){var r=this,xe=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(Se){return r.isValidOption(Se)}):-1;return xe>-1?xe+e+1:e},findPrevOptionIndex:function(e){var r=this,xe=e>0?ObjectUtils.findLastIndex(this.visibleOptions.slice(0,e),function(Se){return r.isValidOption(Se)}):-1;return xe>-1?xe:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption)if(this.multiple){for(var r=function(){var Ae=e.modelValue[Se],Ce=e.visibleOptions.findIndex(function(Pe){return e.isValidSelectedOption(Pe)&&e.isEquals(Ae,e.getOptionValue(Pe))});if(Ce>-1)return{v:Ce}},xe,Se=this.modelValue.length-1;Se>=0;Se--)if(xe=r(),xe)return xe.v}else return this.visibleOptions.findIndex(function(_e){return e.isValidSelectedOption(_e)});return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(r){return e.isValidSelectedOption(r)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?ObjectUtils.findLastIndex(this.visibleOptions,function(r){return e.isValidSelectedOption(r)}):-1},findNextSelectedOptionIndex:function(e){var r=this,xe=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(Se){return r.isValidSelectedOption(Se)}):-1;return xe>-1?xe+e+1:-1},findPrevSelectedOptionIndex:function(e){var r=this,xe=this.hasSelectedOption&&e>0?ObjectUtils.findLastIndex(this.visibleOptions.slice(0,e),function(Se){return r.isValidSelectedOption(Se)}):-1;return xe>-1?xe:-1},findNearestSelectedOptionIndex:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,xe=-1;return this.hasSelectedOption&&(r?(xe=this.findPrevSelectedOptionIndex(e),xe=xe===-1?this.findNextSelectedOptionIndex(e):xe):(xe=this.findNextSelectedOptionIndex(e),xe=xe===-1?this.findPrevSelectedOptionIndex(e):xe)),xe>-1?xe:e},findFirstFocusedOptionIndex:function(){var e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,r){var xe=this;this.searchValue=(this.searchValue||"")+r;var Se=-1;ObjectUtils.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(Se=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(_e){return xe.isOptionMatched(_e)}),Se=Se===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(_e){return xe.isOptionMatched(_e)}):Se+this.focusedOptionIndex):Se=this.visibleOptions.findIndex(function(_e){return xe.isOptionMatched(_e)}),Se===-1&&this.focusedOptionIndex===-1&&(Se=this.findFirstFocusedOptionIndex()),Se!==-1&&this.changeFocusedOptionIndex(e,Se)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){xe.searchValue="",xe.searchTimeout=null},500)},removeOption:function(e){var r=this;return this.modelValue.filter(function(xe){return!ObjectUtils.equals(xe,r.getOptionValue(e),r.equalityKey)})},changeFocusedOptionIndex:function(e,r){this.focusedOptionIndex!==r&&(this.focusedOptionIndex=r,this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(e,this.visibleOptions[r]))},scrollInView:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var xe=r!==-1?"".concat(e.id,"_").concat(r):e.focusedOptionId,Se=DomHandler.findSingle(e.list,'li[id="'.concat(xe,'"]'));Se?Se.scrollIntoView&&Se.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(r!==-1?r:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&!this.multiple&&this.focused&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex]))},updateModel:function(e,r){this.$emit("update:modelValue",r),this.$emit("change",{originalEvent:e,value:r})},flatOptions:function(e){var r=this;return(e||[]).reduce(function(xe,Se,_e){xe.push({optionGroup:Se,group:!0,index:_e});var Ae=r.getOptionGroupChildren(Se);return Ae&&Ae.forEach(function(Ce){return xe.push(Ce)}),xe},[])},listRef:function(e,r){this.list=e,r&&r(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];return this.filterValue?FilterService.filter(e,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale):e},hasSelectedOption:function(){return ObjectUtils.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return ObjectUtils.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue.length:"1"):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(r){return!e.isOptionGroup(r)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Ripple},components:{VirtualScroller:script$i,SearchIcon:script$k}};function _typeof$7(t){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$7(t)}function ownKeys$5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$5(Object(r),!0).forEach(function(xe){_defineProperty$6(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$5(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$6(t,e,r){return e=_toPropertyKey$6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$6(t){var e=_toPrimitive$6(t,"string");return _typeof$7(e)=="symbol"?e:String(e)}function _toPrimitive$6(t,e){if(_typeof$7(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$7(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _hoisted_1$i=["id"],_hoisted_2$g=["tabindex"],_hoisted_3$7=["placeholder","aria-owns","aria-activedescendant","tabindex"],_hoisted_4$7=["id","aria-multiselectable","aria-label","aria-labelledby","aria-activedescendant","aria-disabled"],_hoisted_5$5=["id"],_hoisted_6$4=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousedown","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"],_hoisted_7$3=["tabindex"];function render$g(t,e,r,xe,Se,_e){var Ae=resolveComponent("VirtualScroller"),Ce=resolveDirective("ripple");return openBlock(),createElementBlock("div",mergeProps({id:Se.id,class:t.cx("root"),onFocusout:e[10]||(e[10]=function(){return _e.onFocusout&&_e.onFocusout.apply(_e,arguments)})},t.ptmi("root")),[createBaseVNode("span",mergeProps({ref:"firstHiddenFocusableElement",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:t.disabled?-1:t.tabindex,onFocus:e[0]||(e[0]=function(){return _e.onFirstHiddenFocus&&_e.onFirstHiddenFocus.apply(_e,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16,_hoisted_2$g),renderSlot(t.$slots,"header",{value:t.modelValue,options:_e.visibleOptions}),t.filter?(openBlock(),createElementBlock("div",mergeProps({key:0,class:t.cx("header")},t.ptm("header")),[createBaseVNode("div",mergeProps({class:t.cx("filterContainer")},t.ptm("filterContainer")),[withDirectives(createBaseVNode("input",mergeProps({ref:"filterInput","onUpdate:modelValue":e[1]||(e[1]=function(Pe){return Se.filterValue=Pe}),type:"text",class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":Se.id+"_list","aria-activedescendant":_e.focusedOptionId,tabindex:!t.disabled&&!Se.focused?t.tabindex:-1,onInput:e[2]||(e[2]=function(){return _e.onFilterChange&&_e.onFilterChange.apply(_e,arguments)}),onBlur:e[3]||(e[3]=function(){return _e.onFilterBlur&&_e.onFilterBlur.apply(_e,arguments)}),onKeydown:e[4]||(e[4]=function(){return _e.onFilterKeyDown&&_e.onFilterKeyDown.apply(_e,arguments)})},_objectSpread$5(_objectSpread$5({},t.filterInputProps),t.ptm("filterInput"))),null,16,_hoisted_3$7),[[vModelText,Se.filterValue]]),renderSlot(t.$slots,"filtericon",{class:normalizeClass(t.cx("filterIcon"))},function(){return[(openBlock(),createBlock(resolveDynamicComponent(t.filterIcon?"span":"SearchIcon"),mergeProps({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),createBaseVNode("span",mergeProps({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),toDisplayString(_e.filterResultMessageText),17)],16)):createCommentVNode("",!0),createBaseVNode("div",mergeProps({ref:"listWrapper",class:t.cx("wrapper"),style:t.listStyle},t.ptm("wrapper")),[createVNode(Ae,mergeProps({ref:_e.virtualScrollerRef},t.virtualScrollerOptions,{style:t.listStyle,items:_e.visibleOptions,tabindex:-1,disabled:_e.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),createSlots({content:withCtx(function(Pe){var Ee=Pe.styleClass,Oe=Pe.contentRef,Me=Pe.items,De=Pe.getItemOptions,Te=Pe.contentStyle,ke=Pe.itemSize;return[createBaseVNode("ul",mergeProps({ref:function($e){return _e.listRef($e,Oe)},id:Se.id+"_list",class:[t.cx("list"),Ee],style:Te,tabindex:-1,role:"listbox","aria-multiselectable":t.multiple,"aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-activedescendant":Se.focused?_e.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[6]||(e[6]=function(){return _e.onListFocus&&_e.onListFocus.apply(_e,arguments)}),onBlur:e[7]||(e[7]=function(){return _e.onListBlur&&_e.onListBlur.apply(_e,arguments)}),onKeydown:e[8]||(e[8]=function(){return _e.onListKeyDown&&_e.onListKeyDown.apply(_e,arguments)})},t.ptm("list")),[(openBlock(!0),createElementBlock(Fragment,null,renderList(Me,function(Fe,$e){return openBlock(),createElementBlock(Fragment,{key:_e.getOptionRenderKey(Fe,_e.getOptionIndex($e,De))},[_e.isOptionGroup(Fe)?(openBlock(),createElementBlock("li",mergeProps({key:0,id:Se.id+"_"+_e.getOptionIndex($e,De),style:{height:ke?ke+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[renderSlot(t.$slots,"optiongroup",{option:Fe.optionGroup,index:_e.getOptionIndex($e,De)},function(){return[createTextVNode(toDisplayString(_e.getOptionGroupLabel(Fe.optionGroup)),1)]})],16,_hoisted_5$5)):withDirectives((openBlock(),createElementBlock("li",mergeProps({key:1,id:Se.id+"_"+_e.getOptionIndex($e,De),style:{height:ke?ke+"px":void 0},class:t.cx("item",{option:Fe,index:$e,getItemOptions:De}),role:"option","aria-label":_e.getOptionLabel(Fe),"aria-selected":_e.isSelected(Fe),"aria-disabled":_e.isOptionDisabled(Fe),"aria-setsize":_e.ariaSetSize,"aria-posinset":_e.getAriaPosInset(_e.getOptionIndex($e,De)),onClick:function(Ie){return _e.onOptionSelect(Ie,Fe,_e.getOptionIndex($e,De))},onMousedown:function(Ie){return _e.onOptionMouseDown(Ie,_e.getOptionIndex($e,De))},onMousemove:function(Ie){return _e.onOptionMouseMove(Ie,_e.getOptionIndex($e,De))},onTouchend:e[5]||(e[5]=function(Be){return _e.onOptionTouchEnd()})},_e.getPTOptions(Fe,De,$e,"item"),{"data-p-highlight":_e.isSelected(Fe),"data-p-focused":Se.focusedOptionIndex===_e.getOptionIndex($e,De),"data-p-disabled":_e.isOptionDisabled(Fe)}),[renderSlot(t.$slots,"option",{option:Fe,index:_e.getOptionIndex($e,De)},function(){return[createTextVNode(toDisplayString(_e.getOptionLabel(Fe)),1)]})],16,_hoisted_6$4)),[[Ce]])],64)}),128)),Se.filterValue&&(!Me||Me&&Me.length===0)?(openBlock(),createElementBlock("li",mergeProps({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[renderSlot(t.$slots,"emptyfilter",{},function(){return[createTextVNode(toDisplayString(_e.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(openBlock(),createElementBlock("li",mergeProps({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[renderSlot(t.$slots,"empty",{},function(){return[createTextVNode(toDisplayString(_e.emptyMessageText),1)]})],16)):createCommentVNode("",!0)],16,_hoisted_4$7)]}),_:2},[t.$slots.loader?{name:"loader",fn:withCtx(function(Pe){var Ee=Pe.options;return[renderSlot(t.$slots,"loader",{options:Ee})]}),key:"0"}:void 0]),1040,["style","items","disabled","pt"])],16),renderSlot(t.$slots,"footer",{value:t.modelValue,options:_e.visibleOptions}),!t.options||t.options&&t.options.length===0?(openBlock(),createElementBlock("span",mergeProps({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),toDisplayString(_e.emptyMessageText),17)):createCommentVNode("",!0),createBaseVNode("span",mergeProps({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),toDisplayString(_e.selectedMessageText),17),createBaseVNode("span",mergeProps({ref:"lastHiddenFocusableElement",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:t.disabled?-1:t.tabindex,onFocus:e[9]||(e[9]=function(){return _e.onLastHiddenFocus&&_e.onLastHiddenFocus.apply(_e,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16,_hoisted_7$3)],16,_hoisted_1$i)}script$h.render=render$g;var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function xe(){return this instanceof xe?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(xe){var Se=Object.getOwnPropertyDescriptor(t,xe);Object.defineProperty(r,xe,Se.get?Se:{enumerable:!0,get:function(){return t[xe]}})}),r}var dayjs_min={exports:{}};(function(t,e){(function(r,xe){t.exports=xe()})(commonjsGlobal$1,function(){var r=1e3,xe=6e4,Se=36e5,_e="millisecond",Ae="second",Ce="minute",Pe="hour",Ee="day",Oe="week",Me="month",De="quarter",Te="year",ke="date",Fe="Invalid Date",$e=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Be=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ie={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Je){var ri=["th","st","nd","rd"],hi=Je%100;return"["+Je+(ri[(hi-20)%10]||ri[hi]||ri[0])+"]"}},Re=function(Je,ri,hi){var pi=String(Je);return!pi||pi.length>=ri?Je:""+Array(ri+1-pi.length).join(hi)+Je},je={s:Re,z:function(Je){var ri=-Je.utcOffset(),hi=Math.abs(ri),pi=Math.floor(hi/60),ni=hi%60;return(ri<=0?"+":"-")+Re(pi,2,"0")+":"+Re(ni,2,"0")},m:function Je(ri,hi){if(ri.date()<hi.date())return-Je(hi,ri);var pi=12*(hi.year()-ri.year())+(hi.month()-ri.month()),ni=ri.clone().add(pi,Me),di=hi-ni<0,fi=ri.clone().add(pi+(di?-1:1),Me);return+(-(pi+(hi-ni)/(di?ni-fi:fi-ni))||0)},a:function(Je){return Je<0?Math.ceil(Je)||0:Math.floor(Je)},p:function(Je){return{M:Me,y:Te,w:Oe,d:Ee,D:ke,h:Pe,m:Ce,s:Ae,ms:_e,Q:De}[Je]||String(Je||"").toLowerCase().replace(/s$/,"")},u:function(Je){return Je===void 0}},Ve="en",He={};He[Ve]=Ie;var ze="$isDayjsObject",Ue=function(Je){return Je instanceof Ye||!(!Je||!Je[ze])},We=function Je(ri,hi,pi){var ni;if(!ri)return Ve;if(typeof ri=="string"){var di=ri.toLowerCase();He[di]&&(ni=di),hi&&(He[di]=hi,ni=di);var fi=ri.split("-");if(!ni&&fi.length>1)return Je(fi[0])}else{var Pi=ri.name;He[Pi]=ri,ni=Pi}return!pi&&ni&&(Ve=ni),ni||!pi&&Ve},qe=function(Je,ri){if(Ue(Je))return Je.clone();var hi=typeof ri=="object"?ri:{};return hi.date=Je,hi.args=arguments,new Ye(hi)},Ge=je;Ge.l=We,Ge.i=Ue,Ge.w=function(Je,ri){return qe(Je,{locale:ri.$L,utc:ri.$u,x:ri.$x,$offset:ri.$offset})};var Ye=function(){function Je(hi){this.$L=We(hi.locale,null,!0),this.parse(hi),this.$x=this.$x||hi.x||{},this[ze]=!0}var ri=Je.prototype;return ri.parse=function(hi){this.$d=function(pi){var ni=pi.date,di=pi.utc;if(ni===null)return new Date(NaN);if(Ge.u(ni))return new Date;if(ni instanceof Date)return new Date(ni);if(typeof ni=="string"&&!/Z$/i.test(ni)){var fi=ni.match($e);if(fi){var Pi=fi[2]-1||0,ci=(fi[7]||"0").substring(0,3);return di?new Date(Date.UTC(fi[1],Pi,fi[3]||1,fi[4]||0,fi[5]||0,fi[6]||0,ci)):new Date(fi[1],Pi,fi[3]||1,fi[4]||0,fi[5]||0,fi[6]||0,ci)}}return new Date(ni)}(hi),this.init()},ri.init=function(){var hi=this.$d;this.$y=hi.getFullYear(),this.$M=hi.getMonth(),this.$D=hi.getDate(),this.$W=hi.getDay(),this.$H=hi.getHours(),this.$m=hi.getMinutes(),this.$s=hi.getSeconds(),this.$ms=hi.getMilliseconds()},ri.$utils=function(){return Ge},ri.isValid=function(){return this.$d.toString()!==Fe},ri.isSame=function(hi,pi){var ni=qe(hi);return this.startOf(pi)<=ni&&ni<=this.endOf(pi)},ri.isAfter=function(hi,pi){return qe(hi)<this.startOf(pi)},ri.isBefore=function(hi,pi){return this.endOf(pi)<qe(hi)},ri.$g=function(hi,pi,ni){return Ge.u(hi)?this[pi]:this.set(ni,hi)},ri.unix=function(){return Math.floor(this.valueOf()/1e3)},ri.valueOf=function(){return this.$d.getTime()},ri.startOf=function(hi,pi){var ni=this,di=!!Ge.u(pi)||pi,fi=Ge.p(hi),Pi=function(Di,oi){var Ke=Ge.w(ni.$u?Date.UTC(ni.$y,oi,Di):new Date(ni.$y,oi,Di),ni);return di?Ke:Ke.endOf(Ee)},ci=function(Di,oi){return Ge.w(ni.toDate()[Di].apply(ni.toDate("s"),(di?[0,0,0,0]:[23,59,59,999]).slice(oi)),ni)},xi=this.$W,yi=this.$M,gi=this.$D,Ai="set"+(this.$u?"UTC":"");switch(fi){case Te:return di?Pi(1,0):Pi(31,11);case Me:return di?Pi(1,yi):Pi(0,yi+1);case Oe:var Mi=this.$locale().weekStart||0,Fi=(xi<Mi?xi+7:xi)-Mi;return Pi(di?gi-Fi:gi+(6-Fi),yi);case Ee:case ke:return ci(Ai+"Hours",0);case Pe:return ci(Ai+"Minutes",1);case Ce:return ci(Ai+"Seconds",2);case Ae:return ci(Ai+"Milliseconds",3);default:return this.clone()}},ri.endOf=function(hi){return this.startOf(hi,!1)},ri.$set=function(hi,pi){var ni,di=Ge.p(hi),fi="set"+(this.$u?"UTC":""),Pi=(ni={},ni[Ee]=fi+"Date",ni[ke]=fi+"Date",ni[Me]=fi+"Month",ni[Te]=fi+"FullYear",ni[Pe]=fi+"Hours",ni[Ce]=fi+"Minutes",ni[Ae]=fi+"Seconds",ni[_e]=fi+"Milliseconds",ni)[di],ci=di===Ee?this.$D+(pi-this.$W):pi;if(di===Me||di===Te){var xi=this.clone().set(ke,1);xi.$d[Pi](ci),xi.init(),this.$d=xi.set(ke,Math.min(this.$D,xi.daysInMonth())).$d}else Pi&&this.$d[Pi](ci);return this.init(),this},ri.set=function(hi,pi){return this.clone().$set(hi,pi)},ri.get=function(hi){return this[Ge.p(hi)]()},ri.add=function(hi,pi){var ni,di=this;hi=Number(hi);var fi=Ge.p(pi),Pi=function(yi){var gi=qe(di);return Ge.w(gi.date(gi.date()+Math.round(yi*hi)),di)};if(fi===Me)return this.set(Me,this.$M+hi);if(fi===Te)return this.set(Te,this.$y+hi);if(fi===Ee)return Pi(1);if(fi===Oe)return Pi(7);var ci=(ni={},ni[Ce]=xe,ni[Pe]=Se,ni[Ae]=r,ni)[fi]||1,xi=this.$d.getTime()+hi*ci;return Ge.w(xi,this)},ri.subtract=function(hi,pi){return this.add(-1*hi,pi)},ri.format=function(hi){var pi=this,ni=this.$locale();if(!this.isValid())return ni.invalidDate||Fe;var di=hi||"YYYY-MM-DDTHH:mm:ssZ",fi=Ge.z(this),Pi=this.$H,ci=this.$m,xi=this.$M,yi=ni.weekdays,gi=ni.months,Ai=ni.meridiem,Mi=function(oi,Ke,St,ei){return oi&&(oi[Ke]||oi(pi,di))||St[Ke].slice(0,ei)},Fi=function(oi){return Ge.s(Pi%12||12,oi,"0")},Di=Ai||function(oi,Ke,St){var ei=oi<12?"AM":"PM";return St?ei.toLowerCase():ei};return di.replace(Be,function(oi,Ke){return Ke||function(St){switch(St){case"YY":return String(pi.$y).slice(-2);case"YYYY":return Ge.s(pi.$y,4,"0");case"M":return xi+1;case"MM":return Ge.s(xi+1,2,"0");case"MMM":return Mi(ni.monthsShort,xi,gi,3);case"MMMM":return Mi(gi,xi);case"D":return pi.$D;case"DD":return Ge.s(pi.$D,2,"0");case"d":return String(pi.$W);case"dd":return Mi(ni.weekdaysMin,pi.$W,yi,2);case"ddd":return Mi(ni.weekdaysShort,pi.$W,yi,3);case"dddd":return yi[pi.$W];case"H":return String(Pi);case"HH":return Ge.s(Pi,2,"0");case"h":return Fi(1);case"hh":return Fi(2);case"a":return Di(Pi,ci,!0);case"A":return Di(Pi,ci,!1);case"m":return String(ci);case"mm":return Ge.s(ci,2,"0");case"s":return String(pi.$s);case"ss":return Ge.s(pi.$s,2,"0");case"SSS":return Ge.s(pi.$ms,3,"0");case"Z":return fi}return null}(oi)||fi.replace(":","")})},ri.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ri.diff=function(hi,pi,ni){var di,fi=this,Pi=Ge.p(pi),ci=qe(hi),xi=(ci.utcOffset()-this.utcOffset())*xe,yi=this-ci,gi=function(){return Ge.m(fi,ci)};switch(Pi){case Te:di=gi()/12;break;case Me:di=gi();break;case De:di=gi()/3;break;case Oe:di=(yi-xi)/6048e5;break;case Ee:di=(yi-xi)/864e5;break;case Pe:di=yi/Se;break;case Ce:di=yi/xe;break;case Ae:di=yi/r;break;default:di=yi}return ni?di:Ge.a(di)},ri.daysInMonth=function(){return this.endOf(Me).$D},ri.$locale=function(){return He[this.$L]},ri.locale=function(hi,pi){if(!hi)return this.$L;var ni=this.clone(),di=We(hi,pi,!0);return di&&(ni.$L=di),ni},ri.clone=function(){return Ge.w(this.$d,this)},ri.toDate=function(){return new Date(this.valueOf())},ri.toJSON=function(){return this.isValid()?this.toISOString():null},ri.toISOString=function(){return this.$d.toISOString()},ri.toString=function(){return this.$d.toUTCString()},Je}(),Qe=Ye.prototype;return qe.prototype=Qe,[["$ms",_e],["$s",Ae],["$m",Ce],["$H",Pe],["$W",Ee],["$M",Me],["$y",Te],["$D",ke]].forEach(function(Je){Qe[Je[1]]=function(ri){return this.$g(ri,Je[0],Je[1])}}),qe.extend=function(Je,ri){return Je.$i||(Je(ri,Ye,qe),Je.$i=!0),qe},qe.locale=We,qe.isDayjs=Ue,qe.unix=function(Je){return qe(1e3*Je)},qe.en=He[Ve],qe.Ls=He,qe.p={},qe})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs$1(dayjs_minExports),bitMethods={getBit(t){return this.data[getSlot(t)]&1<<getShift(t)?1:0},setBit(t){this.data[getSlot(t)]|=1<<getShift(t)},clearBit(t){this.data[getSlot(t)]&=~(1<<getShift(t))},toggleBit(t){this.data[getSlot(t)]^=1<<getShift(t)},getBitXY(t,e){return t>=this.width||e>=this.height?0:this.getBit(e*this.width+t)},setBitXY(t,e){this.setBit(e*this.width+t)},clearBitXY(t,e){this.clearBit(e*this.width+t)},toggleBitXY(t,e){this.toggleBit(e*this.width+t)}};function getSlot(t){return t>>3}function getShift(t){return 7-(t&7)}function setBitMethods(t){for(const e in bitMethods)t.prototype[e]=bitMethods[e]}function checkProcessable(t,e={}){let{bitDepth:r,alpha:xe,colorModel:Se,components:_e,channels:Ae}=e;if(typeof t!="string"||t.length===0)throw new TypeError("processName must be a string");if(r&&(Array.isArray(r)||(r=[r]),!r.includes(this.bitDepth)))throw new TypeError(`The process: ${t} can only be applied if bit depth is in: ${r}`);if(xe&&(Array.isArray(xe)||(xe=[xe]),!xe.includes(this.alpha)))throw new TypeError(`The process: ${t} can only be applied if alpha is in: ${xe}`);if(Se&&(Array.isArray(Se)||(Se=[Se]),!Se.includes(this.colorModel)))throw new TypeError(`The process: ${t} can only be applied if color model is in: ${Se}`);if(_e&&(Array.isArray(_e)||(_e=[_e]),!_e.includes(this.components))){let Ce=`The process: ${t} can only be applied if the number of components is in: ${_e}`;throw _e.length===1&&_e[0]===1?new TypeError(`${Ce}.\rYou should transform your image using "image.grey()" before applying the algorithm.`):new TypeError(Ce)}if(Ae&&(Array.isArray(Ae)||(Ae=[Ae]),!Ae.includes(this.channels)))throw new TypeError(`The process: ${t} can only be applied if the number of channels is in: ${Ae}`)}function createBlob(t,e){t=t||[],e=e||{},typeof e=="string"&&(e={type:e});try{return new Blob(t,e)}catch(_e){if(_e.name!=="TypeError")throw _e;for(var r=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,xe=new r,Se=0;Se<t.length;Se+=1)xe.append(t[Se]);return xe.getBlob(e.type)}}function dataURLToBlob(t){var e=t.match(/data:([^;]+)/)[1],r=t.replace(/^[^,]+,/,""),xe=binaryStringToArrayBuffer(atob(r));return createBlob([xe],{type:e})}function canvasToBlob(t,e,r){return typeof t.toBlob=="function"?new Promise(function(xe){t.toBlob(xe,e,r)}):Promise.resolve(dataURLToBlob(t.toDataURL(e,r)))}function binaryStringToArrayBuffer(t){for(var e=t.length,r=new ArrayBuffer(e),xe=new Uint8Array(r),Se=-1;++Se<e;)xe[Se]=t.charCodeAt(Se);return r}(function(t){if(t.TextEncoder&&t.TextDecoder)return!1;function e(xe="utf-8"){if(xe!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${xe}') is invalid.`)}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(xe,Se={stream:!1}){if(Se.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let _e=0;const Ae=xe.length;let Ce=0,Pe=Math.max(32,Ae+(Ae>>1)+7),Ee=new Uint8Array(Pe>>3<<3);for(;_e<Ae;){let Oe=xe.charCodeAt(_e++);if(Oe>=55296&&Oe<=56319){if(_e<Ae){const Me=xe.charCodeAt(_e);(Me&64512)===56320&&(++_e,Oe=((Oe&1023)<<10)+(Me&1023)+65536)}if(Oe>=55296&&Oe<=56319)continue}if(Ce+4>Ee.length){Pe+=8,Pe*=1+_e/xe.length*2,Pe=Pe>>3<<3;const Me=new Uint8Array(Pe);Me.set(Ee),Ee=Me}if(Oe&4294967168)if(!(Oe&4294965248))Ee[Ce++]=Oe>>6&31|192;else if(!(Oe&4294901760))Ee[Ce++]=Oe>>12&15|224,Ee[Ce++]=Oe>>6&63|128;else if(!(Oe&4292870144))Ee[Ce++]=Oe>>18&7|240,Ee[Ce++]=Oe>>12&63|128,Ee[Ce++]=Oe>>6&63|128;else continue;else{Ee[Ce++]=Oe;continue}Ee[Ce++]=Oe&63|128}return Ee.slice(0,Ce)};function r(xe="utf-8",Se={fatal:!1}){if(xe!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${xe}') is invalid.`);if(Se.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1}),r.prototype.decode=function(xe,Se={stream:!1}){if(Se.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const _e=new Uint8Array(xe);let Ae=0;const Ce=_e.length,Pe=[];for(;Ae<Ce;){const Ee=_e[Ae++];if(Ee===0)break;if(!(Ee&128))Pe.push(Ee);else if((Ee&224)===192){const Oe=_e[Ae++]&63;Pe.push((Ee&31)<<6|Oe)}else if((Ee&240)===224){const Oe=_e[Ae++]&63,Me=_e[Ae++]&63;Pe.push((Ee&31)<<12|Oe<<6|Me)}else if((Ee&248)===240){const Oe=_e[Ae++]&63,Me=_e[Ae++]&63,De=_e[Ae++]&63;let Te=(Ee&7)<<18|Oe<<12|Me<<6|De;Te>65535&&(Te-=65536,Pe.push(Te>>>10&1023|55296),Te=56320|Te&1023),Pe.push(Te)}}return String.fromCharCode.apply(null,Pe)},t.TextEncoder=e,t.TextDecoder=r})(typeof window<"u"?window:typeof self<"u"?self:void 0);function decode$5(t,e="utf8"){return new TextDecoder(e).decode(t)}const encoder$1=new TextEncoder;function encode$3(t){return encoder$1.encode(t)}const defaultByteLength$1=1024*8,hostBigEndian=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};let IOBuffer$4=class vu{constructor(e=defaultByteLength$1,r={}){let xe=!1;typeof e=="number"?e=new ArrayBuffer(e):(xe=!0,this.lastWrittenByte=e.byteLength);const Se=r.offset?r.offset>>>0:0,_e=e.byteLength-Se;let Ae=Se;(ArrayBuffer.isView(e)||e instanceof vu)&&(e.byteLength!==e.buffer.byteLength&&(Ae=e.byteOffset+Se),e=e.buffer),xe?this.lastWrittenByte=_e:this.lastWrittenByte=0,this.buffer=e,this.length=_e,this.byteLength=_e,this.byteOffset=Ae,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,Ae,_e),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const xe=(this.offset+e)*2,Se=new Uint8Array(xe);Se.set(new Uint8Array(this.buffer)),this.buffer=Se.buffer,this.length=this.byteLength=xe,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const xe=typedArrays[r].BYTES_PER_ELEMENT*e,Se=this.byteOffset+this.offset,_e=this.buffer.slice(Se,Se+xe);if(this.littleEndian===hostBigEndian&&r!=="uint8"&&r!=="int8"){const Ce=new Uint8Array(this.buffer.slice(Se,Se+xe));Ce.reverse();const Pe=new typedArrays[r](Ce.buffer);return this.offset+=xe,Pe.reverse(),Pe}const Ae=new typedArrays[r](_e);return this.offset+=xe,Ae}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let xe=0;xe<e;xe++)r+=this.readChar();return r}readUtf8(e=1){return decode$5(this.readBytes(e))}decodeText(e=1,r="utf-8"){return decode$5(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(encode$3(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};const IOBuffer$5=Object.freeze(Object.defineProperty({__proto__:null,IOBuffer:IOBuffer$4},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(IOBuffer$5);var constants$4={BITMAPV5HEADER:{LogicalColorSpace:{LCS_CALIBRATED_RGB:0,LCS_sRGB:1934772034,LCS_WINDOWS_COLOR_SPACE:1466527264},Compression:{BI_RGB:0,BI_RLE8:1,BI_RLE4:2,BI_BITFIELDS:3,BI_JPEG:4,BI_PNG:5,BI_CMYK:11,BI_CMYKRLE8:12,BI_CMYKRLE4:13},GamutMappingIntent:{LCS_GM_ABS_COLORIMETRIC:8,LCS_GM_BUSINESS:1,LCS_GM_GRAPHICS:2,LCS_GM_IMAGES:4}}};const{IOBuffer:IOBuffer$3}=require$$0$3,constants$3=constants$4,tableLeft=[];for(let t=0;t<=8;t++)tableLeft.push(255<<t);class BMPEncoder extends IOBuffer$3{constructor(e){if(e.bitDepth!==1)throw new Error("Only bitDepth of 1 is supported");if(!e.height||!e.width)throw new Error("ImageData width and height are required");super(e.data),this.width=e.width,this.height=e.height,this.bitDepth=e.bitDepth,this.channels=e.channels,this.components=e.components}encode(){this.encoded=new IOBuffer$3,this.encoded.skip(14),this.writeBitmapV5Header(),this.writeColorTable();const e=this.encoded.offset;return this.writePixelArray(),this.encoded.rewind(),this.writeBitmapFileHeader(e),this.encoded.toArray()}writePixelArray(){let e=this.encoded;const r=Math.floor((this.bitDepth*this.width+31)/32)*4,xe=Math.ceil(this.bitDepth*this.width/8),Se=r-xe,_e=this.bitDepth*this.width%8,Ae=_e===0?0:8-_e,Ce=r*this.height;let Pe,Ee,Oe=0,Me=0,De=8;e.mark(),Ee=this.readUint8();for(let Te=this.height-1;Te>=0;Te--){const ke=Te===0;e.reset(),e.skip(Te*r);for(let Fe=0;Fe<xe;Fe++){const $e=Fe===xe-1;Me<=Ae&&$e?(e.writeByte(Ee<<Me),(Ae===0||Ae===Me)&&!ke&&(Pe=Ee,Ee=this.readByte())):Me===0?(Pe=Ee,Ee=this.readUint8(),e.writeByte(Pe)):(Pe=Ee,Ee=this.readUint8(),e.writeByte(Pe<<Me&tableLeft[Me]|Ee>>De)),$e&&(Oe+=_e||0,e.skip(Se),Me=Oe%8,De=8-Me)}}r>xe&&(e.reset(),e.skip(Ce-1),e.writeUint8(0))}writeColorTable(){this.encoded.writeUint32(0).writeUint32(16777215)}writeBitmapFileHeader(e){this.encoded.writeChars("BM").writeInt32(this.encoded.lastWrittenByte).writeUint16(0).writeUint16(0).writeUint32(e)}writeBitmapV5Header(){const r=Math.floor((this.bitDepth*this.width+31)/32)*4*this.height;this.encoded.writeUint32(124).writeInt32(this.width).writeInt32(this.height).writeUint16(1).writeUint16(this.bitDepth).writeUint32(constants$3.BITMAPV5HEADER.Compression.BI_RGB).writeUint32(r).writeInt32(0).writeInt32(0).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(4278190080).writeUint32(16711680).writeUint32(65280).writeUint32(255).writeUint32(constants$3.BITMAPV5HEADER.LogicalColorSpace.LCS_sRGB).skip(36).skip(12).writeUint32(constants$3.BITMAPV5HEADER.GamutMappingIntent.LCS_GM_IMAGES).skip(12)}}var BMPEncoder_1=BMPEncoder;const Encoder=BMPEncoder_1;var encode$2=function(e){return new Encoder(e).encode()};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(t){let e=t.length;for(;--e>=0;)t[e]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(t,e,r,xe,Se){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=xe,this.max_length=Se,this.has_stree=t&&t.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const d_code=t=>t<256?_dist_code[t]:_dist_code[256+(t>>>7)],put_short=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},send_bits=(t,e,r)=>{t.bi_valid>Buf_size-r?(t.bi_buf|=e<<t.bi_valid&65535,put_short(t,t.bi_buf),t.bi_buf=e>>Buf_size-t.bi_valid,t.bi_valid+=r-Buf_size):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},send_code=(t,e,r)=>{send_bits(t,r[e*2],r[e*2+1])},bi_reverse=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},bi_flush=t=>{t.bi_valid===16?(put_short(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},gen_bitlen=(t,e)=>{const r=e.dyn_tree,xe=e.max_code,Se=e.stat_desc.static_tree,_e=e.stat_desc.has_stree,Ae=e.stat_desc.extra_bits,Ce=e.stat_desc.extra_base,Pe=e.stat_desc.max_length;let Ee,Oe,Me,De,Te,ke,Fe=0;for(De=0;De<=MAX_BITS$1;De++)t.bl_count[De]=0;for(r[t.heap[t.heap_max]*2+1]=0,Ee=t.heap_max+1;Ee<HEAP_SIZE$1;Ee++)Oe=t.heap[Ee],De=r[r[Oe*2+1]*2+1]+1,De>Pe&&(De=Pe,Fe++),r[Oe*2+1]=De,!(Oe>xe)&&(t.bl_count[De]++,Te=0,Oe>=Ce&&(Te=Ae[Oe-Ce]),ke=r[Oe*2],t.opt_len+=ke*(De+Te),_e&&(t.static_len+=ke*(Se[Oe*2+1]+Te)));if(Fe!==0){do{for(De=Pe-1;t.bl_count[De]===0;)De--;t.bl_count[De]--,t.bl_count[De+1]+=2,t.bl_count[Pe]--,Fe-=2}while(Fe>0);for(De=Pe;De!==0;De--)for(Oe=t.bl_count[De];Oe!==0;)Me=t.heap[--Ee],!(Me>xe)&&(r[Me*2+1]!==De&&(t.opt_len+=(De-r[Me*2+1])*r[Me*2],r[Me*2+1]=De),Oe--)}},gen_codes=(t,e,r)=>{const xe=new Array(MAX_BITS$1+1);let Se=0,_e,Ae;for(_e=1;_e<=MAX_BITS$1;_e++)Se=Se+r[_e-1]<<1,xe[_e]=Se;for(Ae=0;Ae<=e;Ae++){let Ce=t[Ae*2+1];Ce!==0&&(t[Ae*2]=bi_reverse(xe[Ce]++,Ce))}},tr_static_init=()=>{let t,e,r,xe,Se;const _e=new Array(MAX_BITS$1+1);for(r=0,xe=0;xe<LENGTH_CODES$1-1;xe++)for(base_length[xe]=r,t=0;t<1<<extra_lbits[xe];t++)_length_code[r++]=xe;for(_length_code[r-1]=xe,Se=0,xe=0;xe<16;xe++)for(base_dist[xe]=Se,t=0;t<1<<extra_dbits[xe];t++)_dist_code[Se++]=xe;for(Se>>=7;xe<D_CODES$1;xe++)for(base_dist[xe]=Se<<7,t=0;t<1<<extra_dbits[xe]-7;t++)_dist_code[256+Se++]=xe;for(e=0;e<=MAX_BITS$1;e++)_e[e]=0;for(t=0;t<=143;)static_ltree[t*2+1]=8,t++,_e[8]++;for(;t<=255;)static_ltree[t*2+1]=9,t++,_e[9]++;for(;t<=279;)static_ltree[t*2+1]=7,t++,_e[7]++;for(;t<=287;)static_ltree[t*2+1]=8,t++,_e[8]++;for(gen_codes(static_ltree,L_CODES$1+1,_e),t=0;t<D_CODES$1;t++)static_dtree[t*2+1]=5,static_dtree[t*2]=bi_reverse(t,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=t=>{let e;for(e=0;e<L_CODES$1;e++)t.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$1;e++)t.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$1;e++)t.bl_tree[e*2]=0;t.dyn_ltree[END_BLOCK*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},bi_windup=t=>{t.bi_valid>8?put_short(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},smaller=(t,e,r,xe)=>{const Se=e*2,_e=r*2;return t[Se]<t[_e]||t[Se]===t[_e]&&xe[e]<=xe[r]},pqdownheap=(t,e,r)=>{const xe=t.heap[r];let Se=r<<1;for(;Se<=t.heap_len&&(Se<t.heap_len&&smaller(e,t.heap[Se+1],t.heap[Se],t.depth)&&Se++,!smaller(e,xe,t.heap[Se],t.depth));)t.heap[r]=t.heap[Se],r=Se,Se<<=1;t.heap[r]=xe},compress_block=(t,e,r)=>{let xe,Se,_e=0,Ae,Ce;if(t.sym_next!==0)do xe=t.pending_buf[t.sym_buf+_e++]&255,xe+=(t.pending_buf[t.sym_buf+_e++]&255)<<8,Se=t.pending_buf[t.sym_buf+_e++],xe===0?send_code(t,Se,e):(Ae=_length_code[Se],send_code(t,Ae+LITERALS$1+1,e),Ce=extra_lbits[Ae],Ce!==0&&(Se-=base_length[Ae],send_bits(t,Se,Ce)),xe--,Ae=d_code(xe),send_code(t,Ae,r),Ce=extra_dbits[Ae],Ce!==0&&(xe-=base_dist[Ae],send_bits(t,xe,Ce)));while(_e<t.sym_next);send_code(t,END_BLOCK,e)},build_tree=(t,e)=>{const r=e.dyn_tree,xe=e.stat_desc.static_tree,Se=e.stat_desc.has_stree,_e=e.stat_desc.elems;let Ae,Ce,Pe=-1,Ee;for(t.heap_len=0,t.heap_max=HEAP_SIZE$1,Ae=0;Ae<_e;Ae++)r[Ae*2]!==0?(t.heap[++t.heap_len]=Pe=Ae,t.depth[Ae]=0):r[Ae*2+1]=0;for(;t.heap_len<2;)Ee=t.heap[++t.heap_len]=Pe<2?++Pe:0,r[Ee*2]=1,t.depth[Ee]=0,t.opt_len--,Se&&(t.static_len-=xe[Ee*2+1]);for(e.max_code=Pe,Ae=t.heap_len>>1;Ae>=1;Ae--)pqdownheap(t,r,Ae);Ee=_e;do Ae=t.heap[1],t.heap[1]=t.heap[t.heap_len--],pqdownheap(t,r,1),Ce=t.heap[1],t.heap[--t.heap_max]=Ae,t.heap[--t.heap_max]=Ce,r[Ee*2]=r[Ae*2]+r[Ce*2],t.depth[Ee]=(t.depth[Ae]>=t.depth[Ce]?t.depth[Ae]:t.depth[Ce])+1,r[Ae*2+1]=r[Ce*2+1]=Ee,t.heap[1]=Ee++,pqdownheap(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],gen_bitlen(t,e),gen_codes(r,Pe,t.bl_count)},scan_tree=(t,e,r)=>{let xe,Se=-1,_e,Ae=e[0*2+1],Ce=0,Pe=7,Ee=4;for(Ae===0&&(Pe=138,Ee=3),e[(r+1)*2+1]=65535,xe=0;xe<=r;xe++)_e=Ae,Ae=e[(xe+1)*2+1],!(++Ce<Pe&&_e===Ae)&&(Ce<Ee?t.bl_tree[_e*2]+=Ce:_e!==0?(_e!==Se&&t.bl_tree[_e*2]++,t.bl_tree[REP_3_6*2]++):Ce<=10?t.bl_tree[REPZ_3_10*2]++:t.bl_tree[REPZ_11_138*2]++,Ce=0,Se=_e,Ae===0?(Pe=138,Ee=3):_e===Ae?(Pe=6,Ee=3):(Pe=7,Ee=4))},send_tree=(t,e,r)=>{let xe,Se=-1,_e,Ae=e[0*2+1],Ce=0,Pe=7,Ee=4;for(Ae===0&&(Pe=138,Ee=3),xe=0;xe<=r;xe++)if(_e=Ae,Ae=e[(xe+1)*2+1],!(++Ce<Pe&&_e===Ae)){if(Ce<Ee)do send_code(t,_e,t.bl_tree);while(--Ce!==0);else _e!==0?(_e!==Se&&(send_code(t,_e,t.bl_tree),Ce--),send_code(t,REP_3_6,t.bl_tree),send_bits(t,Ce-3,2)):Ce<=10?(send_code(t,REPZ_3_10,t.bl_tree),send_bits(t,Ce-3,3)):(send_code(t,REPZ_11_138,t.bl_tree),send_bits(t,Ce-11,7));Ce=0,Se=_e,Ae===0?(Pe=138,Ee=3):_e===Ae?(Pe=6,Ee=3):(Pe=7,Ee=4)}},build_bl_tree=t=>{let e;for(scan_tree(t,t.dyn_ltree,t.l_desc.max_code),scan_tree(t,t.dyn_dtree,t.d_desc.max_code),build_tree(t,t.bl_desc),e=BL_CODES$1-1;e>=3&&t.bl_tree[bl_order[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},send_all_trees=(t,e,r,xe)=>{let Se;for(send_bits(t,e-257,5),send_bits(t,r-1,5),send_bits(t,xe-4,4),Se=0;Se<xe;Se++)send_bits(t,t.bl_tree[bl_order[Se]*2+1],3);send_tree(t,t.dyn_ltree,e-1),send_tree(t,t.dyn_dtree,r-1)},detect_data_type=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return Z_BINARY;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Z_TEXT;for(r=32;r<LITERALS$1;r++)if(t.dyn_ltree[r*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=t=>{static_init_done||(tr_static_init(),static_init_done=!0),t.l_desc=new TreeDesc(t.dyn_ltree,static_l_desc),t.d_desc=new TreeDesc(t.dyn_dtree,static_d_desc),t.bl_desc=new TreeDesc(t.bl_tree,static_bl_desc),t.bi_buf=0,t.bi_valid=0,init_block(t)},_tr_stored_block$1=(t,e,r,xe)=>{send_bits(t,(STORED_BLOCK<<1)+(xe?1:0),3),bi_windup(t),put_short(t,r),put_short(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},_tr_align$1=t=>{send_bits(t,STATIC_TREES<<1,3),send_code(t,END_BLOCK,static_ltree),bi_flush(t)},_tr_flush_block$1=(t,e,r,xe)=>{let Se,_e,Ae=0;t.level>0?(t.strm.data_type===Z_UNKNOWN$1&&(t.strm.data_type=detect_data_type(t)),build_tree(t,t.l_desc),build_tree(t,t.d_desc),Ae=build_bl_tree(t),Se=t.opt_len+3+7>>>3,_e=t.static_len+3+7>>>3,_e<=Se&&(Se=_e)):Se=_e=r+5,r+4<=Se&&e!==-1?_tr_stored_block$1(t,e,r,xe):t.strategy===Z_FIXED$1||_e===Se?(send_bits(t,(STATIC_TREES<<1)+(xe?1:0),3),compress_block(t,static_ltree,static_dtree)):(send_bits(t,(DYN_TREES<<1)+(xe?1:0),3),send_all_trees(t,t.l_desc.max_code+1,t.d_desc.max_code+1,Ae+1),compress_block(t,t.dyn_ltree,t.dyn_dtree)),init_block(t),xe&&bi_windup(t)},_tr_tally$1=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(_length_code[r]+LITERALS$1+1)*2]++,t.dyn_dtree[d_code(e)*2]++),t.sym_next===t.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(t,e,r,xe)=>{let Se=t&65535|0,_e=t>>>16&65535|0,Ae=0;for(;r!==0;){Ae=r>2e3?2e3:r,r-=Ae;do Se=Se+e[xe++]|0,_e=_e+Se|0;while(--Ae);Se%=65521,_e%=65521}return Se|_e<<16|0};var adler32_1=adler32;const makeTable=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var xe=0;xe<8;xe++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},crcTable$1=new Uint32Array(makeTable()),crc32=(t,e,r,xe)=>{const Se=crcTable$1,_e=xe+r;t^=-1;for(let Ae=xe;Ae<_e;Ae++)t=t>>>8^Se[(t^e[Ae])&255];return t^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(t,e)=>(t.msg=messages[e],e),rank=t=>t*2-(t>4?9:0),zero=t=>{let e=t.length;for(;--e>=0;)t[e]=0},slide_hash=t=>{let e,r,xe,Se=t.w_size;e=t.hash_size,xe=e;do r=t.head[--xe],t.head[xe]=r>=Se?r-Se:0;while(--e);e=Se,xe=e;do r=t.prev[--xe],t.prev[xe]=r>=Se?r-Se:0;while(--e)};let HASH_ZLIB=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,HASH=HASH_ZLIB;const flush_pending=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},flush_block_only=(t,e)=>{_tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,flush_pending(t.strm)},put_byte=(t,e)=>{t.pending_buf[t.pending++]=e},putShortMSB=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},read_buf=(t,e,r,xe)=>{let Se=t.avail_in;return Se>xe&&(Se=xe),Se===0?0:(t.avail_in-=Se,e.set(t.input.subarray(t.next_in,t.next_in+Se),r),t.state.wrap===1?t.adler=adler32_1(t.adler,e,Se,r):t.state.wrap===2&&(t.adler=crc32_1(t.adler,e,Se,r)),t.next_in+=Se,t.total_in+=Se,Se)},longest_match=(t,e)=>{let r=t.max_chain_length,xe=t.strstart,Se,_e,Ae=t.prev_length,Ce=t.nice_match;const Pe=t.strstart>t.w_size-MIN_LOOKAHEAD?t.strstart-(t.w_size-MIN_LOOKAHEAD):0,Ee=t.window,Oe=t.w_mask,Me=t.prev,De=t.strstart+MAX_MATCH;let Te=Ee[xe+Ae-1],ke=Ee[xe+Ae];t.prev_length>=t.good_match&&(r>>=2),Ce>t.lookahead&&(Ce=t.lookahead);do if(Se=e,!(Ee[Se+Ae]!==ke||Ee[Se+Ae-1]!==Te||Ee[Se]!==Ee[xe]||Ee[++Se]!==Ee[xe+1])){xe+=2,Se++;do;while(Ee[++xe]===Ee[++Se]&&Ee[++xe]===Ee[++Se]&&Ee[++xe]===Ee[++Se]&&Ee[++xe]===Ee[++Se]&&Ee[++xe]===Ee[++Se]&&Ee[++xe]===Ee[++Se]&&Ee[++xe]===Ee[++Se]&&Ee[++xe]===Ee[++Se]&&xe<De);if(_e=MAX_MATCH-(De-xe),xe=De-MAX_MATCH,_e>Ae){if(t.match_start=e,Ae=_e,_e>=Ce)break;Te=Ee[xe+Ae-1],ke=Ee[xe+Ae]}}while((e=Me[e&Oe])>Pe&&--r!==0);return Ae<=t.lookahead?Ae:t.lookahead},fill_window=t=>{const e=t.w_size;let r,xe,Se;do{if(xe=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-MIN_LOOKAHEAD)&&(t.window.set(t.window.subarray(e,e+e-xe),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),slide_hash(t),xe+=e),t.strm.avail_in===0)break;if(r=read_buf(t.strm,t.window,t.strstart+t.lookahead,xe),t.lookahead+=r,t.lookahead+t.insert>=MIN_MATCH)for(Se=t.strstart-t.insert,t.ins_h=t.window[Se],t.ins_h=HASH(t,t.ins_h,t.window[Se+1]);t.insert&&(t.ins_h=HASH(t,t.ins_h,t.window[Se+MIN_MATCH-1]),t.prev[Se&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=Se,Se++,t.insert--,!(t.lookahead+t.insert<MIN_MATCH)););}while(t.lookahead<MIN_LOOKAHEAD&&t.strm.avail_in!==0)},deflate_stored=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,xe,Se,_e,Ae=0,Ce=t.strm.avail_in;do{if(xe=65535,_e=t.bi_valid+42>>3,t.strm.avail_out<_e||(_e=t.strm.avail_out-_e,Se=t.strstart-t.block_start,xe>Se+t.strm.avail_in&&(xe=Se+t.strm.avail_in),xe>_e&&(xe=_e),xe<r&&(xe===0&&e!==Z_FINISH$3||e===Z_NO_FLUSH$2||xe!==Se+t.strm.avail_in)))break;Ae=e===Z_FINISH$3&&xe===Se+t.strm.avail_in?1:0,_tr_stored_block(t,0,0,Ae),t.pending_buf[t.pending-4]=xe,t.pending_buf[t.pending-3]=xe>>8,t.pending_buf[t.pending-2]=~xe,t.pending_buf[t.pending-1]=~xe>>8,flush_pending(t.strm),Se&&(Se>xe&&(Se=xe),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+Se),t.strm.next_out),t.strm.next_out+=Se,t.strm.avail_out-=Se,t.strm.total_out+=Se,t.block_start+=Se,xe-=Se),xe&&(read_buf(t.strm,t.strm.output,t.strm.next_out,xe),t.strm.next_out+=xe,t.strm.avail_out-=xe,t.strm.total_out+=xe)}while(Ae===0);return Ce-=t.strm.avail_in,Ce&&(Ce>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=Ce&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-Ce,t.strm.next_in),t.strstart),t.strstart+=Ce,t.insert+=Ce>t.w_size-t.insert?t.w_size-t.insert:Ce),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),Ae?BS_FINISH_DONE:e!==Z_NO_FLUSH$2&&e!==Z_FINISH$3&&t.strm.avail_in===0&&t.strstart===t.block_start?BS_BLOCK_DONE:(_e=t.window_size-t.strstart,t.strm.avail_in>_e&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,_e+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),_e>t.strm.avail_in&&(_e=t.strm.avail_in),_e&&(read_buf(t.strm,t.window,t.strstart,_e),t.strstart+=_e,t.insert+=_e>t.w_size-t.insert?t.w_size-t.insert:_e),t.high_water<t.strstart&&(t.high_water=t.strstart),_e=t.bi_valid+42>>3,_e=t.pending_buf_size-_e>65535?65535:t.pending_buf_size-_e,r=_e>t.w_size?t.w_size:_e,Se=t.strstart-t.block_start,(Se>=r||(Se||e===Z_FINISH$3)&&e!==Z_NO_FLUSH$2&&t.strm.avail_in===0&&Se<=_e)&&(xe=Se>_e?_e:Se,Ae=e===Z_FINISH$3&&t.strm.avail_in===0&&xe===Se?1:0,_tr_stored_block(t,t.block_start,xe,Ae),t.block_start+=xe,flush_pending(t.strm)),Ae?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(t,e)=>{let r,xe;for(;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(r=0,t.lookahead>=MIN_MATCH&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,r)),t.match_length>=MIN_MATCH)if(xe=_tr_tally(t,t.strstart-t.match_start,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=MIN_MATCH){t.match_length--;do t.strstart++,t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+1]);else xe=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(xe&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(t,e)=>{let r,xe,Se;for(;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(r=0,t.lookahead>=MIN_MATCH&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=MIN_MATCH-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,r),t.match_length<=5&&(t.strategy===Z_FILTERED||t.match_length===MIN_MATCH&&t.strstart-t.match_start>4096)&&(t.match_length=MIN_MATCH-1)),t.prev_length>=MIN_MATCH&&t.match_length<=t.prev_length){Se=t.strstart+t.lookahead-MIN_MATCH,xe=_tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-MIN_MATCH),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=Se&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=MIN_MATCH-1,t.strstart++,xe&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}else if(t.match_available){if(xe=_tr_tally(t,0,t.window[t.strstart-1]),xe&&flush_block_only(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return BS_NEED_MORE}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(xe=_tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(t,e)=>{let r,xe,Se,_e;const Ae=t.window;for(;;){if(t.lookahead<=MAX_MATCH){if(fill_window(t),t.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=MIN_MATCH&&t.strstart>0&&(Se=t.strstart-1,xe=Ae[Se],xe===Ae[++Se]&&xe===Ae[++Se]&&xe===Ae[++Se])){_e=t.strstart+MAX_MATCH;do;while(xe===Ae[++Se]&&xe===Ae[++Se]&&xe===Ae[++Se]&&xe===Ae[++Se]&&xe===Ae[++Se]&&xe===Ae[++Se]&&xe===Ae[++Se]&&xe===Ae[++Se]&&Se<_e);t.match_length=MAX_MATCH-(_e-Se),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=MIN_MATCH?(r=_tr_tally(t,1,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(fill_window(t),t.lookahead===0)){if(e===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(t.match_length=0,r=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(t,e,r,xe,Se){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=xe,this.func=Se}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=t=>{t.window_size=2*t.w_size,zero(t.head),t.max_lazy_match=configuration_table[t.level].max_lazy,t.good_match=configuration_table[t.level].good_length,t.nice_match=configuration_table[t.level].nice_length,t.max_chain_length=configuration_table[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=MIN_MATCH-1,t.match_available=0,t.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==INIT_STATE&&e.status!==GZIP_STATE&&e.status!==EXTRA_STATE&&e.status!==NAME_STATE&&e.status!==COMMENT_STATE&&e.status!==HCRC_STATE&&e.status!==BUSY_STATE&&e.status!==FINISH_STATE?1:0},deflateResetKeep=t=>{if(deflateStateCheck(t))return err(t,Z_STREAM_ERROR$2);t.total_in=t.total_out=0,t.data_type=Z_UNKNOWN;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?GZIP_STATE:e.wrap?INIT_STATE:BUSY_STATE,t.adler=e.wrap===2?0:1,e.last_flush=-2,_tr_init(e),Z_OK$3},deflateReset=t=>{const e=deflateResetKeep(t);return e===Z_OK$3&&lm_init(t.state),e},deflateSetHeader=(t,e)=>deflateStateCheck(t)||t.state.wrap!==2?Z_STREAM_ERROR$2:(t.state.gzhead=e,Z_OK$3),deflateInit2=(t,e,r,xe,Se,_e)=>{if(!t)return Z_STREAM_ERROR$2;let Ae=1;if(e===Z_DEFAULT_COMPRESSION$1&&(e=6),xe<0?(Ae=0,xe=-xe):xe>15&&(Ae=2,xe-=16),Se<1||Se>MAX_MEM_LEVEL||r!==Z_DEFLATED$2||xe<8||xe>15||e<0||e>9||_e<0||_e>Z_FIXED||xe===8&&Ae!==1)return err(t,Z_STREAM_ERROR$2);xe===8&&(xe=9);const Ce=new DeflateState;return t.state=Ce,Ce.strm=t,Ce.status=INIT_STATE,Ce.wrap=Ae,Ce.gzhead=null,Ce.w_bits=xe,Ce.w_size=1<<Ce.w_bits,Ce.w_mask=Ce.w_size-1,Ce.hash_bits=Se+7,Ce.hash_size=1<<Ce.hash_bits,Ce.hash_mask=Ce.hash_size-1,Ce.hash_shift=~~((Ce.hash_bits+MIN_MATCH-1)/MIN_MATCH),Ce.window=new Uint8Array(Ce.w_size*2),Ce.head=new Uint16Array(Ce.hash_size),Ce.prev=new Uint16Array(Ce.w_size),Ce.lit_bufsize=1<<Se+6,Ce.pending_buf_size=Ce.lit_bufsize*4,Ce.pending_buf=new Uint8Array(Ce.pending_buf_size),Ce.sym_buf=Ce.lit_bufsize,Ce.sym_end=(Ce.lit_bufsize-1)*3,Ce.level=e,Ce.strategy=_e,Ce.method=r,deflateReset(t)},deflateInit=(t,e)=>deflateInit2(t,e,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(t,e)=>{if(deflateStateCheck(t)||e>Z_BLOCK$1||e<0)return t?err(t,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===FINISH_STATE&&e!==Z_FINISH$3)return err(t,t.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const xe=r.last_flush;if(r.last_flush=e,r.pending!==0){if(flush_pending(t),t.avail_out===0)return r.last_flush=-1,Z_OK$3}else if(t.avail_in===0&&rank(e)<=rank(xe)&&e!==Z_FINISH$3)return err(t,Z_BUF_ERROR$1);if(r.status===FINISH_STATE&&t.avail_in!==0)return err(t,Z_BUF_ERROR$1);if(r.status===INIT_STATE&&r.wrap===0&&(r.status=BUSY_STATE),r.status===INIT_STATE){let Se=Z_DEFLATED$2+(r.w_bits-8<<4)<<8,_e=-1;if(r.strategy>=Z_HUFFMAN_ONLY||r.level<2?_e=0:r.level<6?_e=1:r.level===6?_e=2:_e=3,Se|=_e<<6,r.strstart!==0&&(Se|=PRESET_DICT),Se+=31-Se%31,putShortMSB(r,Se),r.strstart!==0&&(putShortMSB(r,t.adler>>>16),putShortMSB(r,t.adler&65535)),t.adler=1,r.status=BUSY_STATE,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(r.status===GZIP_STATE){if(t.adler=0,put_byte(r,31),put_byte(r,139),put_byte(r,8),r.gzhead)put_byte(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),put_byte(r,r.gzhead.time&255),put_byte(r,r.gzhead.time>>8&255),put_byte(r,r.gzhead.time>>16&255),put_byte(r,r.gzhead.time>>24&255),put_byte(r,r.level===9?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(put_byte(r,r.gzhead.extra.length&255),put_byte(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=EXTRA_STATE;else if(put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,r.level===9?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,OS_CODE),r.status=BUSY_STATE,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(r.status===EXTRA_STATE){if(r.gzhead.extra){let Se=r.pending,_e=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+_e>r.pending_buf_size;){let Ce=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+Ce),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>Se&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-Se,Se)),r.gzindex+=Ce,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3;Se=0,_e-=Ce}let Ae=new Uint8Array(r.gzhead.extra);r.pending_buf.set(Ae.subarray(r.gzindex,r.gzindex+_e),r.pending),r.pending+=_e,r.gzhead.hcrc&&r.pending>Se&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-Se,Se)),r.gzindex=0}r.status=NAME_STATE}if(r.status===NAME_STATE){if(r.gzhead.name){let Se=r.pending,_e;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>Se&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-Se,Se)),flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3;Se=0}r.gzindex<r.gzhead.name.length?_e=r.gzhead.name.charCodeAt(r.gzindex++)&255:_e=0,put_byte(r,_e)}while(_e!==0);r.gzhead.hcrc&&r.pending>Se&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-Se,Se)),r.gzindex=0}r.status=COMMENT_STATE}if(r.status===COMMENT_STATE){if(r.gzhead.comment){let Se=r.pending,_e;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>Se&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-Se,Se)),flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3;Se=0}r.gzindex<r.gzhead.comment.length?_e=r.gzhead.comment.charCodeAt(r.gzindex++)&255:_e=0,put_byte(r,_e)}while(_e!==0);r.gzhead.hcrc&&r.pending>Se&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-Se,Se))}r.status=HCRC_STATE}if(r.status===HCRC_STATE){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(flush_pending(t),r.pending!==0))return r.last_flush=-1,Z_OK$3;put_byte(r,t.adler&255),put_byte(r,t.adler>>8&255),t.adler=0}if(r.status=BUSY_STATE,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(t.avail_in!==0||r.lookahead!==0||e!==Z_NO_FLUSH$2&&r.status!==FINISH_STATE){let Se=r.level===0?deflate_stored(r,e):r.strategy===Z_HUFFMAN_ONLY?deflate_huff(r,e):r.strategy===Z_RLE?deflate_rle(r,e):configuration_table[r.level].func(r,e);if((Se===BS_FINISH_STARTED||Se===BS_FINISH_DONE)&&(r.status=FINISH_STATE),Se===BS_NEED_MORE||Se===BS_FINISH_STARTED)return t.avail_out===0&&(r.last_flush=-1),Z_OK$3;if(Se===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?_tr_align(r):e!==Z_BLOCK$1&&(_tr_stored_block(r,0,0,!1),e===Z_FULL_FLUSH$1&&(zero(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),flush_pending(t),t.avail_out===0))return r.last_flush=-1,Z_OK$3}return e!==Z_FINISH$3?Z_OK$3:r.wrap<=0?Z_STREAM_END$3:(r.wrap===2?(put_byte(r,t.adler&255),put_byte(r,t.adler>>8&255),put_byte(r,t.adler>>16&255),put_byte(r,t.adler>>24&255),put_byte(r,t.total_in&255),put_byte(r,t.total_in>>8&255),put_byte(r,t.total_in>>16&255),put_byte(r,t.total_in>>24&255)):(putShortMSB(r,t.adler>>>16),putShortMSB(r,t.adler&65535)),flush_pending(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=t=>{if(deflateStateCheck(t))return Z_STREAM_ERROR$2;const e=t.state.status;return t.state=null,e===BUSY_STATE?err(t,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(t,e)=>{let r=e.length;if(deflateStateCheck(t))return Z_STREAM_ERROR$2;const xe=t.state,Se=xe.wrap;if(Se===2||Se===1&&xe.status!==INIT_STATE||xe.lookahead)return Z_STREAM_ERROR$2;if(Se===1&&(t.adler=adler32_1(t.adler,e,r,0)),xe.wrap=0,r>=xe.w_size){Se===0&&(zero(xe.head),xe.strstart=0,xe.block_start=0,xe.insert=0);let Pe=new Uint8Array(xe.w_size);Pe.set(e.subarray(r-xe.w_size,r),0),e=Pe,r=xe.w_size}const _e=t.avail_in,Ae=t.next_in,Ce=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,fill_window(xe);xe.lookahead>=MIN_MATCH;){let Pe=xe.strstart,Ee=xe.lookahead-(MIN_MATCH-1);do xe.ins_h=HASH(xe,xe.ins_h,xe.window[Pe+MIN_MATCH-1]),xe.prev[Pe&xe.w_mask]=xe.head[xe.ins_h],xe.head[xe.ins_h]=Pe,Pe++;while(--Ee);xe.strstart=Pe,xe.lookahead=MIN_MATCH-1,fill_window(xe)}return xe.strstart+=xe.lookahead,xe.block_start=xe.strstart,xe.insert=xe.lookahead,xe.lookahead=0,xe.match_length=xe.prev_length=MIN_MATCH-1,xe.match_available=0,t.next_in=Ae,t.input=Ce,t.avail_in=_e,xe.wrap=Se,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var assign=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const xe in r)_has(r,xe)&&(t[xe]=r[xe])}}return t},flattenChunks=t=>{let e=0;for(let xe=0,Se=t.length;xe<Se;xe++)e+=t[xe].length;const r=new Uint8Array(e);for(let xe=0,Se=0,_e=t.length;xe<_e;xe++){let Ae=t[xe];r.set(Ae,Se),Se+=Ae.length}return r},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let t=0;t<256;t++)_utf8len[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,xe,Se,_e,Ae=t.length,Ce=0;for(Se=0;Se<Ae;Se++)r=t.charCodeAt(Se),(r&64512)===55296&&Se+1<Ae&&(xe=t.charCodeAt(Se+1),(xe&64512)===56320&&(r=65536+(r-55296<<10)+(xe-56320),Se++)),Ce+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(Ce),_e=0,Se=0;_e<Ce;Se++)r=t.charCodeAt(Se),(r&64512)===55296&&Se+1<Ae&&(xe=t.charCodeAt(Se+1),(xe&64512)===56320&&(r=65536+(r-55296<<10)+(xe-56320),Se++)),r<128?e[_e++]=r:r<2048?(e[_e++]=192|r>>>6,e[_e++]=128|r&63):r<65536?(e[_e++]=224|r>>>12,e[_e++]=128|r>>>6&63,e[_e++]=128|r&63):(e[_e++]=240|r>>>18,e[_e++]=128|r>>>12&63,e[_e++]=128|r>>>6&63,e[_e++]=128|r&63);return e};const buf2binstring=(t,e)=>{if(e<65534&&t.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let xe=0;xe<e;xe++)r+=String.fromCharCode(t[xe]);return r};var buf2string=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let xe,Se;const _e=new Array(r*2);for(Se=0,xe=0;xe<r;){let Ae=t[xe++];if(Ae<128){_e[Se++]=Ae;continue}let Ce=_utf8len[Ae];if(Ce>4){_e[Se++]=65533,xe+=Ce-1;continue}for(Ae&=Ce===2?31:Ce===3?15:7;Ce>1&&xe<r;)Ae=Ae<<6|t[xe++]&63,Ce--;if(Ce>1){_e[Se++]=65533;continue}Ae<65536?_e[Se++]=Ae:(Ae-=65536,_e[Se++]=55296|Ae>>10&1023,_e[Se++]=56320|Ae&1023)}return buf2binstring(_e,Se)},utf8border=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+_utf8len[t[r]]>e?r:e},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(t){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=deflate_1$2.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Z_OK$2)throw new Error(messages[r]);if(e.header&&deflate_1$2.deflateSetHeader(this.strm,e.header),e.dictionary){let xe;if(typeof e.dictionary=="string"?xe=strings.string2buf(e.dictionary):toString$1$1.call(e.dictionary)==="[object ArrayBuffer]"?xe=new Uint8Array(e.dictionary):xe=e.dictionary,r=deflate_1$2.deflateSetDictionary(this.strm,xe),r!==Z_OK$2)throw new Error(messages[r]);this._dict_set=!0}}Deflate$1.prototype.push=function(t,e){const r=this.strm,xe=this.options.chunkSize;let Se,_e;if(this.ended)return!1;for(e===~~e?_e=e:_e=e===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof t=="string"?r.input=strings.string2buf(t):toString$1$1.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(xe),r.next_out=0,r.avail_out=xe),(_e===Z_SYNC_FLUSH||_e===Z_FULL_FLUSH)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(Se=deflate_1$2.deflate(r,_e),Se===Z_STREAM_END$2)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),Se=deflate_1$2.deflateEnd(this.strm),this.onEnd(Se),this.ended=!0,Se===Z_OK$2;if(r.avail_out===0){this.onData(r.output);continue}if(_e>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(t){this.chunks.push(t)};Deflate$1.prototype.onEnd=function(t){t===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function deflate$1(t,e){const r=new Deflate$1(e);if(r.push(t,!0),r.err)throw r.msg||messages[r.err];return r.result}function deflateRaw$1(t,e){return e=e||{},e.raw=!0,deflate$1(t,e)}function gzip$1(t,e){return e=e||{},e.gzip=!0,deflate$1(t,e)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,constants$1=constants$2,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1,constants:constants$1};const BAD$1=16209,TYPE$1=16191;var inffast=function(e,r){let xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe,$e,Be,Ie,Re,je,Ve,He,ze,Ue,We,qe;const Ge=e.state;xe=e.next_in,We=e.input,Se=xe+(e.avail_in-5),_e=e.next_out,qe=e.output,Ae=_e-(r-e.avail_out),Ce=_e+(e.avail_out-257),Pe=Ge.dmax,Ee=Ge.wsize,Oe=Ge.whave,Me=Ge.wnext,De=Ge.window,Te=Ge.hold,ke=Ge.bits,Fe=Ge.lencode,$e=Ge.distcode,Be=(1<<Ge.lenbits)-1,Ie=(1<<Ge.distbits)-1;e:do{ke<15&&(Te+=We[xe++]<<ke,ke+=8,Te+=We[xe++]<<ke,ke+=8),Re=Fe[Te&Be];t:for(;;){if(je=Re>>>24,Te>>>=je,ke-=je,je=Re>>>16&255,je===0)qe[_e++]=Re&65535;else if(je&16){Ve=Re&65535,je&=15,je&&(ke<je&&(Te+=We[xe++]<<ke,ke+=8),Ve+=Te&(1<<je)-1,Te>>>=je,ke-=je),ke<15&&(Te+=We[xe++]<<ke,ke+=8,Te+=We[xe++]<<ke,ke+=8),Re=$e[Te&Ie];i:for(;;){if(je=Re>>>24,Te>>>=je,ke-=je,je=Re>>>16&255,je&16){if(He=Re&65535,je&=15,ke<je&&(Te+=We[xe++]<<ke,ke+=8,ke<je&&(Te+=We[xe++]<<ke,ke+=8)),He+=Te&(1<<je)-1,He>Pe){e.msg="invalid distance too far back",Ge.mode=BAD$1;break e}if(Te>>>=je,ke-=je,je=_e-Ae,He>je){if(je=He-je,je>Oe&&Ge.sane){e.msg="invalid distance too far back",Ge.mode=BAD$1;break e}if(ze=0,Ue=De,Me===0){if(ze+=Ee-je,je<Ve){Ve-=je;do qe[_e++]=De[ze++];while(--je);ze=_e-He,Ue=qe}}else if(Me<je){if(ze+=Ee+Me-je,je-=Me,je<Ve){Ve-=je;do qe[_e++]=De[ze++];while(--je);if(ze=0,Me<Ve){je=Me,Ve-=je;do qe[_e++]=De[ze++];while(--je);ze=_e-He,Ue=qe}}}else if(ze+=Me-je,je<Ve){Ve-=je;do qe[_e++]=De[ze++];while(--je);ze=_e-He,Ue=qe}for(;Ve>2;)qe[_e++]=Ue[ze++],qe[_e++]=Ue[ze++],qe[_e++]=Ue[ze++],Ve-=3;Ve&&(qe[_e++]=Ue[ze++],Ve>1&&(qe[_e++]=Ue[ze++]))}else{ze=_e-He;do qe[_e++]=qe[ze++],qe[_e++]=qe[ze++],qe[_e++]=qe[ze++],Ve-=3;while(Ve>2);Ve&&(qe[_e++]=qe[ze++],Ve>1&&(qe[_e++]=qe[ze++]))}}else if(je&64){e.msg="invalid distance code",Ge.mode=BAD$1;break e}else{Re=$e[(Re&65535)+(Te&(1<<je)-1)];continue i}break}}else if(je&64)if(je&32){Ge.mode=TYPE$1;break e}else{e.msg="invalid literal/length code",Ge.mode=BAD$1;break e}else{Re=Fe[(Re&65535)+(Te&(1<<je)-1)];continue t}break}}while(xe<Se&&_e<Ce);Ve=ke>>3,xe-=Ve,ke-=Ve<<3,Te&=(1<<ke)-1,e.next_in=xe,e.next_out=_e,e.avail_in=xe<Se?5+(Se-xe):5-(xe-Se),e.avail_out=_e<Ce?257+(Ce-_e):257-(_e-Ce),Ge.hold=Te,Ge.bits=ke};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(t,e,r,xe,Se,_e,Ae,Ce)=>{const Pe=Ce.bits;let Ee=0,Oe=0,Me=0,De=0,Te=0,ke=0,Fe=0,$e=0,Be=0,Ie=0,Re,je,Ve,He,ze,Ue=null,We;const qe=new Uint16Array(MAXBITS+1),Ge=new Uint16Array(MAXBITS+1);let Ye=null,Qe,Je,ri;for(Ee=0;Ee<=MAXBITS;Ee++)qe[Ee]=0;for(Oe=0;Oe<xe;Oe++)qe[e[r+Oe]]++;for(Te=Pe,De=MAXBITS;De>=1&&qe[De]===0;De--);if(Te>De&&(Te=De),De===0)return Se[_e++]=1<<24|64<<16|0,Se[_e++]=1<<24|64<<16|0,Ce.bits=1,0;for(Me=1;Me<De&&qe[Me]===0;Me++);for(Te<Me&&(Te=Me),$e=1,Ee=1;Ee<=MAXBITS;Ee++)if($e<<=1,$e-=qe[Ee],$e<0)return-1;if($e>0&&(t===CODES$1||De!==1))return-1;for(Ge[1]=0,Ee=1;Ee<MAXBITS;Ee++)Ge[Ee+1]=Ge[Ee]+qe[Ee];for(Oe=0;Oe<xe;Oe++)e[r+Oe]!==0&&(Ae[Ge[e[r+Oe]]++]=Oe);if(t===CODES$1?(Ue=Ye=Ae,We=20):t===LENS$1?(Ue=lbase,Ye=lext,We=257):(Ue=dbase,Ye=dext,We=0),Ie=0,Oe=0,Ee=Me,ze=_e,ke=Te,Fe=0,Ve=-1,Be=1<<Te,He=Be-1,t===LENS$1&&Be>ENOUGH_LENS$1||t===DISTS$1&&Be>ENOUGH_DISTS$1)return 1;for(;;){Qe=Ee-Fe,Ae[Oe]+1<We?(Je=0,ri=Ae[Oe]):Ae[Oe]>=We?(Je=Ye[Ae[Oe]-We],ri=Ue[Ae[Oe]-We]):(Je=96,ri=0),Re=1<<Ee-Fe,je=1<<ke,Me=je;do je-=Re,Se[ze+(Ie>>Fe)+je]=Qe<<24|Je<<16|ri|0;while(je!==0);for(Re=1<<Ee-1;Ie&Re;)Re>>=1;if(Re!==0?(Ie&=Re-1,Ie+=Re):Ie=0,Oe++,--qe[Ee]===0){if(Ee===De)break;Ee=e[r+Ae[Oe]]}if(Ee>Te&&(Ie&He)!==Ve){for(Fe===0&&(Fe=Te),ze+=Me,ke=Ee-Fe,$e=1<<ke;ke+Fe<De&&($e-=qe[ke+Fe],!($e<=0));)ke++,$e<<=1;if(Be+=1<<ke,t===LENS$1&&Be>ENOUGH_LENS$1||t===DISTS$1&&Be>ENOUGH_DISTS$1)return 1;Ve=Ie&He,Se[Ve]=Te<<24|ke<<16|ze-_e|0}}return Ie!==0&&(Se[ze+Ie]=Ee-Fe<<24|64<<16|0),Ce.bits=Te,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<HEAD||e.mode>SYNC?1:0},inflateResetKeep=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ENOUGH_LENS),e.distcode=e.distdyn=new Int32Array(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK$1},inflateReset=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep(t)},inflateReset2=(t,e)=>{let r;if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const xe=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Z_STREAM_ERROR$1:(xe.window!==null&&xe.wbits!==e&&(xe.window=null),xe.wrap=r,xe.wbits=e,inflateReset(t))},inflateInit2=(t,e)=>{if(!t)return Z_STREAM_ERROR$1;const r=new InflateState;t.state=r,r.strm=t,r.window=null,r.mode=HEAD;const xe=inflateReset2(t,e);return xe!==Z_OK$1&&(t.state=null),xe},inflateInit=t=>inflateInit2(t,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=t=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(inftrees(LENS,t.lens,0,288,lenfix,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;inftrees(DISTS,t.lens,0,32,distfix,0,t.work,{bits:5}),virgin=!1}t.lencode=lenfix,t.lenbits=9,t.distcode=distfix,t.distbits=5},updatewindow=(t,e,r,xe)=>{let Se;const _e=t.state;return _e.window===null&&(_e.wsize=1<<_e.wbits,_e.wnext=0,_e.whave=0,_e.window=new Uint8Array(_e.wsize)),xe>=_e.wsize?(_e.window.set(e.subarray(r-_e.wsize,r),0),_e.wnext=0,_e.whave=_e.wsize):(Se=_e.wsize-_e.wnext,Se>xe&&(Se=xe),_e.window.set(e.subarray(r-xe,r-xe+Se),_e.wnext),xe-=Se,xe?(_e.window.set(e.subarray(r-xe,r),0),_e.wnext=xe,_e.whave=_e.wsize):(_e.wnext+=Se,_e.wnext===_e.wsize&&(_e.wnext=0),_e.whave<_e.wsize&&(_e.whave+=Se))),0},inflate$2=(t,e)=>{let r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe,$e=0,Be,Ie,Re,je,Ve,He,ze,Ue;const We=new Uint8Array(4);let qe,Ge;const Ye=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(t)||!t.output||!t.input&&t.avail_in!==0)return Z_STREAM_ERROR$1;r=t.state,r.mode===TYPE&&(r.mode=TYPEDO),Ae=t.next_out,Se=t.output,Pe=t.avail_out,_e=t.next_in,xe=t.input,Ce=t.avail_in,Ee=r.hold,Oe=r.bits,Me=Ce,De=Pe,Ue=Z_OK$1;e:for(;;)switch(r.mode){case HEAD:if(r.wrap===0){r.mode=TYPEDO;break}for(;Oe<16;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}if(r.wrap&2&&Ee===35615){r.wbits===0&&(r.wbits=15),r.check=0,We[0]=Ee&255,We[1]=Ee>>>8&255,r.check=crc32_1(r.check,We,2,0),Ee=0,Oe=0,r.mode=FLAGS;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((Ee&255)<<8)+(Ee>>8))%31){t.msg="incorrect header check",r.mode=BAD;break}if((Ee&15)!==Z_DEFLATED){t.msg="unknown compression method",r.mode=BAD;break}if(Ee>>>=4,Oe-=4,ze=(Ee&15)+8,r.wbits===0&&(r.wbits=ze),ze>15||ze>r.wbits){t.msg="invalid window size",r.mode=BAD;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=Ee&512?DICTID:TYPE,Ee=0,Oe=0;break;case FLAGS:for(;Oe<16;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}if(r.flags=Ee,(r.flags&255)!==Z_DEFLATED){t.msg="unknown compression method",r.mode=BAD;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=BAD;break}r.head&&(r.head.text=Ee>>8&1),r.flags&512&&r.wrap&4&&(We[0]=Ee&255,We[1]=Ee>>>8&255,r.check=crc32_1(r.check,We,2,0)),Ee=0,Oe=0,r.mode=TIME;case TIME:for(;Oe<32;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}r.head&&(r.head.time=Ee),r.flags&512&&r.wrap&4&&(We[0]=Ee&255,We[1]=Ee>>>8&255,We[2]=Ee>>>16&255,We[3]=Ee>>>24&255,r.check=crc32_1(r.check,We,4,0)),Ee=0,Oe=0,r.mode=OS;case OS:for(;Oe<16;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}r.head&&(r.head.xflags=Ee&255,r.head.os=Ee>>8),r.flags&512&&r.wrap&4&&(We[0]=Ee&255,We[1]=Ee>>>8&255,r.check=crc32_1(r.check,We,2,0)),Ee=0,Oe=0,r.mode=EXLEN;case EXLEN:if(r.flags&1024){for(;Oe<16;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}r.length=Ee,r.head&&(r.head.extra_len=Ee),r.flags&512&&r.wrap&4&&(We[0]=Ee&255,We[1]=Ee>>>8&255,r.check=crc32_1(r.check,We,2,0)),Ee=0,Oe=0}else r.head&&(r.head.extra=null);r.mode=EXTRA;case EXTRA:if(r.flags&1024&&(Te=r.length,Te>Ce&&(Te=Ce),Te&&(r.head&&(ze=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(xe.subarray(_e,_e+Te),ze)),r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,xe,Te,_e)),Ce-=Te,_e+=Te,r.length-=Te),r.length))break e;r.length=0,r.mode=NAME;case NAME:if(r.flags&2048){if(Ce===0)break e;Te=0;do ze=xe[_e+Te++],r.head&&ze&&r.length<65536&&(r.head.name+=String.fromCharCode(ze));while(ze&&Te<Ce);if(r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,xe,Te,_e)),Ce-=Te,_e+=Te,ze)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=COMMENT;case COMMENT:if(r.flags&4096){if(Ce===0)break e;Te=0;do ze=xe[_e+Te++],r.head&&ze&&r.length<65536&&(r.head.comment+=String.fromCharCode(ze));while(ze&&Te<Ce);if(r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,xe,Te,_e)),Ce-=Te,_e+=Te,ze)break e}else r.head&&(r.head.comment=null);r.mode=HCRC;case HCRC:if(r.flags&512){for(;Oe<16;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}if(r.wrap&4&&Ee!==(r.check&65535)){t.msg="header crc mismatch",r.mode=BAD;break}Ee=0,Oe=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=TYPE;break;case DICTID:for(;Oe<32;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}t.adler=r.check=zswap32(Ee),Ee=0,Oe=0,r.mode=DICT;case DICT:if(r.havedict===0)return t.next_out=Ae,t.avail_out=Pe,t.next_in=_e,t.avail_in=Ce,r.hold=Ee,r.bits=Oe,Z_NEED_DICT$1;t.adler=r.check=1,r.mode=TYPE;case TYPE:if(e===Z_BLOCK||e===Z_TREES)break e;case TYPEDO:if(r.last){Ee>>>=Oe&7,Oe-=Oe&7,r.mode=CHECK;break}for(;Oe<3;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}switch(r.last=Ee&1,Ee>>>=1,Oe-=1,Ee&3){case 0:r.mode=STORED;break;case 1:if(fixedtables(r),r.mode=LEN_,e===Z_TREES){Ee>>>=2,Oe-=2;break e}break;case 2:r.mode=TABLE;break;case 3:t.msg="invalid block type",r.mode=BAD}Ee>>>=2,Oe-=2;break;case STORED:for(Ee>>>=Oe&7,Oe-=Oe&7;Oe<32;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}if((Ee&65535)!==(Ee>>>16^65535)){t.msg="invalid stored block lengths",r.mode=BAD;break}if(r.length=Ee&65535,Ee=0,Oe=0,r.mode=COPY_,e===Z_TREES)break e;case COPY_:r.mode=COPY;case COPY:if(Te=r.length,Te){if(Te>Ce&&(Te=Ce),Te>Pe&&(Te=Pe),Te===0)break e;Se.set(xe.subarray(_e,_e+Te),Ae),Ce-=Te,_e+=Te,Pe-=Te,Ae+=Te,r.length-=Te;break}r.mode=TYPE;break;case TABLE:for(;Oe<14;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}if(r.nlen=(Ee&31)+257,Ee>>>=5,Oe-=5,r.ndist=(Ee&31)+1,Ee>>>=5,Oe-=5,r.ncode=(Ee&15)+4,Ee>>>=4,Oe-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=BAD;break}r.have=0,r.mode=LENLENS;case LENLENS:for(;r.have<r.ncode;){for(;Oe<3;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}r.lens[Ye[r.have++]]=Ee&7,Ee>>>=3,Oe-=3}for(;r.have<19;)r.lens[Ye[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,qe={bits:r.lenbits},Ue=inftrees(CODES,r.lens,0,19,r.lencode,0,r.work,qe),r.lenbits=qe.bits,Ue){t.msg="invalid code lengths set",r.mode=BAD;break}r.have=0,r.mode=CODELENS;case CODELENS:for(;r.have<r.nlen+r.ndist;){for(;$e=r.lencode[Ee&(1<<r.lenbits)-1],Be=$e>>>24,Ie=$e>>>16&255,Re=$e&65535,!(Be<=Oe);){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}if(Re<16)Ee>>>=Be,Oe-=Be,r.lens[r.have++]=Re;else{if(Re===16){for(Ge=Be+2;Oe<Ge;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}if(Ee>>>=Be,Oe-=Be,r.have===0){t.msg="invalid bit length repeat",r.mode=BAD;break}ze=r.lens[r.have-1],Te=3+(Ee&3),Ee>>>=2,Oe-=2}else if(Re===17){for(Ge=Be+3;Oe<Ge;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}Ee>>>=Be,Oe-=Be,ze=0,Te=3+(Ee&7),Ee>>>=3,Oe-=3}else{for(Ge=Be+7;Oe<Ge;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}Ee>>>=Be,Oe-=Be,ze=0,Te=11+(Ee&127),Ee>>>=7,Oe-=7}if(r.have+Te>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=BAD;break}for(;Te--;)r.lens[r.have++]=ze}}if(r.mode===BAD)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=BAD;break}if(r.lenbits=9,qe={bits:r.lenbits},Ue=inftrees(LENS,r.lens,0,r.nlen,r.lencode,0,r.work,qe),r.lenbits=qe.bits,Ue){t.msg="invalid literal/lengths set",r.mode=BAD;break}if(r.distbits=6,r.distcode=r.distdyn,qe={bits:r.distbits},Ue=inftrees(DISTS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,qe),r.distbits=qe.bits,Ue){t.msg="invalid distances set",r.mode=BAD;break}if(r.mode=LEN_,e===Z_TREES)break e;case LEN_:r.mode=LEN;case LEN:if(Ce>=6&&Pe>=258){t.next_out=Ae,t.avail_out=Pe,t.next_in=_e,t.avail_in=Ce,r.hold=Ee,r.bits=Oe,inffast(t,De),Ae=t.next_out,Se=t.output,Pe=t.avail_out,_e=t.next_in,xe=t.input,Ce=t.avail_in,Ee=r.hold,Oe=r.bits,r.mode===TYPE&&(r.back=-1);break}for(r.back=0;$e=r.lencode[Ee&(1<<r.lenbits)-1],Be=$e>>>24,Ie=$e>>>16&255,Re=$e&65535,!(Be<=Oe);){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}if(Ie&&!(Ie&240)){for(je=Be,Ve=Ie,He=Re;$e=r.lencode[He+((Ee&(1<<je+Ve)-1)>>je)],Be=$e>>>24,Ie=$e>>>16&255,Re=$e&65535,!(je+Be<=Oe);){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}Ee>>>=je,Oe-=je,r.back+=je}if(Ee>>>=Be,Oe-=Be,r.back+=Be,r.length=Re,Ie===0){r.mode=LIT;break}if(Ie&32){r.back=-1,r.mode=TYPE;break}if(Ie&64){t.msg="invalid literal/length code",r.mode=BAD;break}r.extra=Ie&15,r.mode=LENEXT;case LENEXT:if(r.extra){for(Ge=r.extra;Oe<Ge;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}r.length+=Ee&(1<<r.extra)-1,Ee>>>=r.extra,Oe-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=DIST;case DIST:for(;$e=r.distcode[Ee&(1<<r.distbits)-1],Be=$e>>>24,Ie=$e>>>16&255,Re=$e&65535,!(Be<=Oe);){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}if(!(Ie&240)){for(je=Be,Ve=Ie,He=Re;$e=r.distcode[He+((Ee&(1<<je+Ve)-1)>>je)],Be=$e>>>24,Ie=$e>>>16&255,Re=$e&65535,!(je+Be<=Oe);){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}Ee>>>=je,Oe-=je,r.back+=je}if(Ee>>>=Be,Oe-=Be,r.back+=Be,Ie&64){t.msg="invalid distance code",r.mode=BAD;break}r.offset=Re,r.extra=Ie&15,r.mode=DISTEXT;case DISTEXT:if(r.extra){for(Ge=r.extra;Oe<Ge;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}r.offset+=Ee&(1<<r.extra)-1,Ee>>>=r.extra,Oe-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=BAD;break}r.mode=MATCH;case MATCH:if(Pe===0)break e;if(Te=De-Pe,r.offset>Te){if(Te=r.offset-Te,Te>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=BAD;break}Te>r.wnext?(Te-=r.wnext,ke=r.wsize-Te):ke=r.wnext-Te,Te>r.length&&(Te=r.length),Fe=r.window}else Fe=Se,ke=Ae-r.offset,Te=r.length;Te>Pe&&(Te=Pe),Pe-=Te,r.length-=Te;do Se[Ae++]=Fe[ke++];while(--Te);r.length===0&&(r.mode=LEN);break;case LIT:if(Pe===0)break e;Se[Ae++]=r.length,Pe--,r.mode=LEN;break;case CHECK:if(r.wrap){for(;Oe<32;){if(Ce===0)break e;Ce--,Ee|=xe[_e++]<<Oe,Oe+=8}if(De-=Pe,t.total_out+=De,r.total+=De,r.wrap&4&&De&&(t.adler=r.check=r.flags?crc32_1(r.check,Se,De,Ae-De):adler32_1(r.check,Se,De,Ae-De)),De=Pe,r.wrap&4&&(r.flags?Ee:zswap32(Ee))!==r.check){t.msg="incorrect data check",r.mode=BAD;break}Ee=0,Oe=0}r.mode=LENGTH;case LENGTH:if(r.wrap&&r.flags){for(;Oe<32;){if(Ce===0)break e;Ce--,Ee+=xe[_e++]<<Oe,Oe+=8}if(r.wrap&4&&Ee!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=BAD;break}Ee=0,Oe=0}r.mode=DONE;case DONE:Ue=Z_STREAM_END$1;break e;case BAD:Ue=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return t.next_out=Ae,t.avail_out=Pe,t.next_in=_e,t.avail_in=Ce,r.hold=Ee,r.bits=Oe,(r.wsize||De!==t.avail_out&&r.mode<BAD&&(r.mode<CHECK||e!==Z_FINISH$1))&&updatewindow(t,t.output,t.next_out,De-t.avail_out),Me-=t.avail_in,De-=t.avail_out,t.total_in+=Me,t.total_out+=De,r.total+=De,r.wrap&4&&De&&(t.adler=r.check=r.flags?crc32_1(r.check,Se,De,t.next_out-De):adler32_1(r.check,Se,De,t.next_out-De)),t.data_type=r.bits+(r.last?64:0)+(r.mode===TYPE?128:0)+(r.mode===LEN_||r.mode===COPY_?256:0),(Me===0&&De===0||e===Z_FINISH$1)&&Ue===Z_OK$1&&(Ue=Z_BUF_ERROR),Ue},inflateEnd=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;let e=t.state;return e.window&&(e.window=null),t.state=null,Z_OK$1},inflateGetHeader=(t,e)=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(t,e)=>{const r=e.length;let xe,Se,_e;return inflateStateCheck(t)||(xe=t.state,xe.wrap!==0&&xe.mode!==DICT)?Z_STREAM_ERROR$1:xe.mode===DICT&&(Se=1,Se=adler32_1(Se,e,r,0),Se!==xe.check)?Z_DATA_ERROR$1:(_e=updatewindow(t,e,r,r),_e?(xe.mode=MEM,Z_MEM_ERROR$1):(xe.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$3=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(t){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=inflate_1$2.inflateInit2(this.strm,e.windowBits);if(r!==Z_OK)throw new Error(messages[r]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings.string2buf(e.dictionary):toString$3.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=inflate_1$2.inflateSetDictionary(this.strm,e.dictionary),r!==Z_OK)))throw new Error(messages[r])}Inflate$1.prototype.push=function(t,e){const r=this.strm,xe=this.options.chunkSize,Se=this.options.dictionary;let _e,Ae,Ce;if(this.ended)return!1;for(e===~~e?Ae=e:Ae=e===!0?Z_FINISH:Z_NO_FLUSH,toString$3.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(xe),r.next_out=0,r.avail_out=xe),_e=inflate_1$2.inflate(r,Ae),_e===Z_NEED_DICT&&Se&&(_e=inflate_1$2.inflateSetDictionary(r,Se),_e===Z_OK?_e=inflate_1$2.inflate(r,Ae):_e===Z_DATA_ERROR&&(_e=Z_NEED_DICT));r.avail_in>0&&_e===Z_STREAM_END&&r.state.wrap>0&&t[r.next_in]!==0;)inflate_1$2.inflateReset(r),_e=inflate_1$2.inflate(r,Ae);switch(_e){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(_e),this.ended=!0,!1}if(Ce=r.avail_out,r.next_out&&(r.avail_out===0||_e===Z_STREAM_END))if(this.options.to==="string"){let Pe=strings.utf8border(r.output,r.next_out),Ee=r.next_out-Pe,Oe=strings.buf2string(r.output,Pe);r.next_out=Ee,r.avail_out=xe-Ee,Ee&&r.output.set(r.output.subarray(Pe,Pe+Ee),0),this.onData(Oe)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(_e===Z_OK&&Ce===0)){if(_e===Z_STREAM_END)return _e=inflate_1$2.inflateEnd(this.strm),this.onEnd(_e),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(t){this.chunks.push(t)};Inflate$1.prototype.onEnd=function(t){t===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function inflate$1(t,e){const r=new Inflate$1(e);if(r.push(t),r.err)throw r.msg||messages[r.err];return r.result}function inflateRaw$1(t,e){return e=e||{},e.raw=!0,inflate$1(t,e)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var deflate_1=deflate,Inflate_1=Inflate,inflate_1=inflate;const pngSignature=[137,80,78,71,13,10,26,10],crcTable=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;crcTable[t]=e}const initialCrc=4294967295;function updateCrc(t,e,r){let xe=t;for(let Se=0;Se<r;Se++)xe=crcTable[(xe^e[Se])&255]^xe>>>8;return xe}function crc(t,e){return(updateCrc(initialCrc,t,e)^initialCrc)>>>0}var ColorType;(function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.GREYSCALE=0]="GREYSCALE",t[t.TRUECOLOUR=2]="TRUECOLOUR",t[t.INDEXED_COLOUR=3]="INDEXED_COLOUR",t[t.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",t[t.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"})(ColorType||(ColorType={}));var CompressionMethod;(function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.DEFLATE=0]="DEFLATE"})(CompressionMethod||(CompressionMethod={}));var FilterMethod;(function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.ADAPTIVE=0]="ADAPTIVE"})(FilterMethod||(FilterMethod={}));var InterlaceMethod;(function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.NO_INTERLACE=0]="NO_INTERLACE",t[t.ADAM7=1]="ADAM7"})(InterlaceMethod||(InterlaceMethod={}));const empty=new Uint8Array(0),NULL="\0",uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255;class PngDecoder extends IOBuffer$4{constructor(e,r={}){super(e);const{checkCrc:xe=!1}=r;this._checkCrc=xe,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=ColorType.UNKNOWN,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let e=0;e<pngSignature.length;e++)if(this.readUint8()!==pngSignature[e])throw new Error(`wrong PNG signature. Byte at ${e} should be ${pngSignature[e]}.`)}decodeChunk(){const e=this.readUint32(),r=this.readChars(4),xe=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case"tEXt":this.decodetEXt(e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-xe!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);if(this._checkCrc){const Se=this.readUint32(),_e=e+4,Ae=crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-_e-4,_e),_e);if(Ae!==Se)throw new Error(`CRC mismatch for chunk ${r}. Expected ${Se}, found ${Ae}`)}else this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=checkBitDepth(this.readUint8());const r=this.readUint8();this._colorType=r;let xe;switch(r){case ColorType.GREYSCALE:xe=1;break;case ColorType.TRUECOLOUR:xe=3;break;case ColorType.INDEXED_COLOUR:xe=1;break;case ColorType.GREYSCALE_ALPHA:xe=2;break;case ColorType.TRUECOLOUR_ALPHA:xe=4;break;default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=xe,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const xe=[];this._palette=xe;for(let Se=0;Se<r;Se++)xe.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,e)),this.skip(e)}decodetRNS(e){switch(this._colorType){case ColorType.GREYSCALE:case ColorType.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case ColorType.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const xe=this.readByte();this._palette[r].push(xe)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){let r="",xe;for(;(xe=this.readChar())!==NULL;)r+=xe;const Se=this.readUint8();if(Se!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${Se}`);const _e=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:inflate_1(_e)}}decodetEXt(e){let r="",xe;for(;(xe=this.readChar())!==NULL;)r+=xe;this._png.text[r]=this.readChars(e-r.length-1)}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),xe=this.readByte();this._png.resolution={x:e,y:r,unit:xe}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this.decodeInterlaceNull(e);else throw new Error(`Interlace method ${this._interlaceMethod} not supported`)}decodeInterlaceNull(e){const r=this._png.height,xe=this._png.channels*this._png.depth/8,Se=this._png.width*xe,_e=new Uint8Array(this._png.height*Se);let Ae=empty,Ce=0,Pe,Ee;for(let Oe=0;Oe<r;Oe++){switch(Pe=e.subarray(Ce+1,Ce+1+Se),Ee=_e.subarray(Oe*Se,(Oe+1)*Se),e[Ce]){case 0:unfilterNone(Pe,Ee,Se);break;case 1:unfilterSub(Pe,Ee,Se,xe);break;case 2:unfilterUp(Pe,Ee,Ae,Se);break;case 3:unfilterAverage(Pe,Ee,Ae,Se,xe);break;case 4:unfilterPaeth(Pe,Ee,Ae,Se,xe);break;default:throw new Error(`Unsupported filter: ${e[Ce]}`)}Ae=Ee,Ce+=Se+1}if(this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency),this._png.depth===16){const Oe=new Uint16Array(_e.buffer);if(osIsLittleEndian)for(let Me=0;Me<Oe.length;Me++)Oe[Me]=swap16(Oe[Me]);this._png.data=Oe}else this._png.data=_e}}function unfilterNone(t,e,r){for(let xe=0;xe<r;xe++)e[xe]=t[xe]}function unfilterSub(t,e,r,xe){let Se=0;for(;Se<xe;Se++)e[Se]=t[Se];for(;Se<r;Se++)e[Se]=t[Se]+e[Se-xe]&255}function unfilterUp(t,e,r,xe){let Se=0;if(r.length===0)for(;Se<xe;Se++)e[Se]=t[Se];else for(;Se<xe;Se++)e[Se]=t[Se]+r[Se]&255}function unfilterAverage(t,e,r,xe,Se){let _e=0;if(r.length===0){for(;_e<Se;_e++)e[_e]=t[_e];for(;_e<xe;_e++)e[_e]=t[_e]+(e[_e-Se]>>1)&255}else{for(;_e<Se;_e++)e[_e]=t[_e]+(r[_e]>>1)&255;for(;_e<xe;_e++)e[_e]=t[_e]+(e[_e-Se]+r[_e]>>1)&255}}function unfilterPaeth(t,e,r,xe,Se){let _e=0;if(r.length===0){for(;_e<Se;_e++)e[_e]=t[_e];for(;_e<xe;_e++)e[_e]=t[_e]+e[_e-Se]&255}else{for(;_e<Se;_e++)e[_e]=t[_e]+r[_e]&255;for(;_e<xe;_e++)e[_e]=t[_e]+paethPredictor(e[_e-Se],r[_e],r[_e-Se])&255}}function paethPredictor(t,e,r){const xe=t+e-r,Se=Math.abs(xe-t),_e=Math.abs(xe-e),Ae=Math.abs(xe-r);return Se<=_e&&Se<=Ae?t:_e<=Ae?e:r}function swap16(t){return(t&255)<<8|t>>8&255}function checkBitDepth(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}const defaultZlibOptions={level:3};class PngEncoder extends IOBuffer$4{constructor(e,r={}){super(),this._colorType=ColorType.UNKNOWN,this._zlibOptions={...defaultZlibOptions,...r.zlib},this._png=this._checkData(e),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(pngSignature)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(CompressionMethod.DEFLATE),this.writeByte(FilterMethod.ADAPTIVE),this.writeByte(InterlaceMethod.NO_INTERLACE),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT(e){this.writeUint32(e.length),this.writeChars("IDAT"),this.writeBytes(e),this.writeCrc(e.length+4)}encodeData(){const{width:e,height:r,channels:xe,depth:Se,data:_e}=this._png,Ae=xe*e,Ce=new IOBuffer$4().setBigEndian();let Pe=0;for(let Me=0;Me<r;Me++)if(Ce.writeByte(0),Se===8)Pe=writeDataBytes(_e,Ce,Ae,Pe);else if(Se===16)Pe=writeDataUint16(_e,Ce,Ae,Pe);else throw new Error("unreachable");const Ee=Ce.toArray(),Oe=deflate_1(Ee,this._zlibOptions);this.encodeIDAT(Oe)}_checkData(e){const{colorType:r,channels:xe,depth:Se}=getColorType(e),_e={width:checkInteger(e.width,"width"),height:checkInteger(e.height,"height"),channels:xe,data:e.data,depth:Se,text:{}};this._colorType=r;const Ae=_e.width*_e.height*xe;if(_e.data.length!==Ae)throw new RangeError(`wrong data size. Found ${_e.data.length}, expected ${Ae}`);return _e}writeCrc(e){this.writeUint32(crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-e,e),e))}}function checkInteger(t,e){if(Number.isInteger(t)&&t>0)return t;throw new TypeError(`${e} must be a positive integer`)}function getColorType(t){const{channels:e=4,depth:r=8}=t;if(e!==4&&e!==3&&e!==2&&e!==1)throw new RangeError(`unsupported number of channels: ${e}`);if(r!==8&&r!==16)throw new RangeError(`unsupported bit depth: ${r}`);const xe={channels:e,depth:r,colorType:ColorType.UNKNOWN};switch(e){case 4:xe.colorType=ColorType.TRUECOLOUR_ALPHA;break;case 3:xe.colorType=ColorType.TRUECOLOUR;break;case 1:xe.colorType=ColorType.GREYSCALE;break;case 2:xe.colorType=ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return xe}function writeDataBytes(t,e,r,xe){for(let Se=0;Se<r;Se++)e.writeByte(t[xe++]);return xe}function writeDataUint16(t,e,r,xe){for(let Se=0;Se<r;Se++)e.writeUint16(t[xe++]);return xe}var ResolutionUnitSpecifier;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng(t,e){return new PngDecoder(t,e).decode()}function encodePng$1(t,e){return new PngEncoder(t,e).encode()}var encoder={exports:{}};(function(t){function e(xe){var Se=Math.floor,_e=new Array(64),Ae=new Array(64),Ce=new Array(64),Pe=new Array(64),Ee,Oe,Me,De,Te=new Array(65535),ke=new Array(65535),Fe=new Array(64),$e=new Array(64),Be=[],Ie=0,Re=7,je=new Array(64),Ve=new Array(64),He=new Array(64),ze=new Array(256),Ue=new Array(2048),We,qe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ge=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Ye=[0,1,2,3,4,5,6,7,8,9,10,11],Qe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Je=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ri=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],hi=[0,1,2,3,4,5,6,7,8,9,10,11],pi=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ni=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function di(bi){for(var Ii=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Bi=0;Bi<64;Bi++){var Vi=Se((Ii[Bi]*bi+50)/100);Vi<1?Vi=1:Vi>255&&(Vi=255),_e[qe[Bi]]=Vi}for(var ji=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Zi=0;Zi<64;Zi++){var Wi=Se((ji[Zi]*bi+50)/100);Wi<1?Wi=1:Wi>255&&(Wi=255),Ae[qe[Zi]]=Wi}for(var Qi=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],wi=0,tn=0;tn<8;tn++)for(var Yi=0;Yi<8;Yi++)Ce[wi]=1/(_e[qe[wi]]*Qi[tn]*Qi[Yi]*8),Pe[wi]=1/(Ae[qe[wi]]*Qi[tn]*Qi[Yi]*8),wi++}function fi(bi,Ii){for(var Bi=0,Vi=0,ji=new Array,Zi=1;Zi<=16;Zi++){for(var Wi=1;Wi<=bi[Zi];Wi++)ji[Ii[Vi]]=[],ji[Ii[Vi]][0]=Bi,ji[Ii[Vi]][1]=Zi,Vi++,Bi++;Bi*=2}return ji}function Pi(){Ee=fi(Ge,Ye),Oe=fi(ri,hi),Me=fi(Qe,Je),De=fi(pi,ni)}function ci(){for(var bi=1,Ii=2,Bi=1;Bi<=15;Bi++){for(var Vi=bi;Vi<Ii;Vi++)ke[32767+Vi]=Bi,Te[32767+Vi]=[],Te[32767+Vi][1]=Bi,Te[32767+Vi][0]=Vi;for(var ji=-(Ii-1);ji<=-bi;ji++)ke[32767+ji]=Bi,Te[32767+ji]=[],Te[32767+ji][1]=Bi,Te[32767+ji][0]=Ii-1+ji;bi<<=1,Ii<<=1}}function xi(){for(var bi=0;bi<256;bi++)Ue[bi]=19595*bi,Ue[bi+256>>0]=38470*bi,Ue[bi+512>>0]=7471*bi+32768,Ue[bi+768>>0]=-11059*bi,Ue[bi+1024>>0]=-21709*bi,Ue[bi+1280>>0]=32768*bi+8421375,Ue[bi+1536>>0]=-27439*bi,Ue[bi+1792>>0]=-5329*bi}function yi(bi){for(var Ii=bi[0],Bi=bi[1]-1;Bi>=0;)Ii&1<<Bi&&(Ie|=1<<Re),Bi--,Re--,Re<0&&(Ie==255?(gi(255),gi(0)):gi(Ie),Re=7,Ie=0)}function gi(bi){Be.push(bi)}function Ai(bi){gi(bi>>8&255),gi(bi&255)}function Mi(bi,Ii){var Bi,Vi,ji,Zi,Wi,Qi,wi,tn,Yi=0,nn,Ni=8,Xi=64;for(nn=0;nn<Ni;++nn){Bi=bi[Yi],Vi=bi[Yi+1],ji=bi[Yi+2],Zi=bi[Yi+3],Wi=bi[Yi+4],Qi=bi[Yi+5],wi=bi[Yi+6],tn=bi[Yi+7];var an=Bi+tn,cn=Bi-tn,dn=Vi+wi,bn=Vi-wi,wn=ji+Qi,Sn=ji-Qi,kn=Zi+Wi,Ln=Zi-Wi,jn=an+kn,Rn=an-kn,Fn=dn+wn,On=dn-wn;bi[Yi]=jn+Fn,bi[Yi+4]=jn-Fn;var Vn=(On+Rn)*.707106781;bi[Yi+2]=Rn+Vn,bi[Yi+6]=Rn-Vn,jn=Ln+Sn,Fn=Sn+bn,On=bn+cn;var un=(jn-On)*.382683433,Si=.5411961*jn+un,Hi=1.306562965*On+un,Ji=Fn*.707106781,rn=cn+Ji,vn=cn-Ji;bi[Yi+5]=vn+Si,bi[Yi+3]=vn-Si,bi[Yi+1]=rn+Hi,bi[Yi+7]=rn-Hi,Yi+=8}for(Yi=0,nn=0;nn<Ni;++nn){Bi=bi[Yi],Vi=bi[Yi+8],ji=bi[Yi+16],Zi=bi[Yi+24],Wi=bi[Yi+32],Qi=bi[Yi+40],wi=bi[Yi+48],tn=bi[Yi+56];var An=Bi+tn,zn=Bi-tn,In=Vi+wi,Hn=Vi-wi,Yn=ji+Qi,Rr=ji-Qi,er=Zi+Wi,dr=Zi-Wi,Kn=An+er,or=An-er,tr=In+Yn,ar=In-Yn;bi[Yi]=Kn+tr,bi[Yi+32]=Kn-tr;var vr=(ar+or)*.707106781;bi[Yi+16]=or+vr,bi[Yi+48]=or-vr,Kn=dr+Rr,tr=Rr+Hn,ar=Hn+zn;var xr=(Kn-ar)*.382683433,Ur=.5411961*Kn+xr,no=1.306562965*ar+xr,ro=tr*.707106781,oo=zn+ro,Io=zn-ro;bi[Yi+40]=Io+Ur,bi[Yi+24]=Io-Ur,bi[Yi+8]=oo+no,bi[Yi+56]=oo-no,Yi++}var xo;for(nn=0;nn<Xi;++nn)xo=bi[nn]*Ii[nn],Fe[nn]=xo>0?xo+.5|0:xo-.5|0;return Fe}function Fi(){Ai(65504),Ai(16),gi(74),gi(70),gi(73),gi(70),gi(0),gi(1),gi(1),gi(0),Ai(1),Ai(1),gi(0),gi(0)}function Di(bi){if(bi){Ai(65505),bi[0]===69&&bi[1]===120&&bi[2]===105&&bi[3]===102?Ai(bi.length+2):(Ai(bi.length+5+2),gi(69),gi(120),gi(105),gi(102),gi(0));for(var Ii=0;Ii<bi.length;Ii++)gi(bi[Ii])}}function oi(bi,Ii){Ai(65472),Ai(17),gi(8),Ai(Ii),Ai(bi),gi(3),gi(1),gi(17),gi(0),gi(2),gi(17),gi(1),gi(3),gi(17),gi(1)}function Ke(){Ai(65499),Ai(132),gi(0);for(var bi=0;bi<64;bi++)gi(_e[bi]);gi(1);for(var Ii=0;Ii<64;Ii++)gi(Ae[Ii])}function St(){Ai(65476),Ai(418),gi(0);for(var bi=0;bi<16;bi++)gi(Ge[bi+1]);for(var Ii=0;Ii<=11;Ii++)gi(Ye[Ii]);gi(16);for(var Bi=0;Bi<16;Bi++)gi(Qe[Bi+1]);for(var Vi=0;Vi<=161;Vi++)gi(Je[Vi]);gi(1);for(var ji=0;ji<16;ji++)gi(ri[ji+1]);for(var Zi=0;Zi<=11;Zi++)gi(hi[Zi]);gi(17);for(var Wi=0;Wi<16;Wi++)gi(pi[Wi+1]);for(var Qi=0;Qi<=161;Qi++)gi(ni[Qi])}function ei(bi){typeof bi>"u"||bi.constructor!==Array||bi.forEach(Ii=>{if(typeof Ii=="string"){Ai(65534);var Bi=Ii.length;Ai(Bi+2);var Vi;for(Vi=0;Vi<Bi;Vi++)gi(Ii.charCodeAt(Vi))}})}function ui(){Ai(65498),Ai(12),gi(3),gi(1),gi(0),gi(2),gi(17),gi(3),gi(17),gi(0),gi(63),gi(0)}function ai(bi,Ii,Bi,Vi,ji){for(var Zi=ji[0],Wi=ji[240],Qi,wi=16,tn=63,Yi=64,nn=Mi(bi,Ii),Ni=0;Ni<Yi;++Ni)$e[qe[Ni]]=nn[Ni];var Xi=$e[0]-Bi;Bi=$e[0],Xi==0?yi(Vi[0]):(Qi=32767+Xi,yi(Vi[ke[Qi]]),yi(Te[Qi]));for(var an=63;an>0&&$e[an]==0;an--);if(an==0)return yi(Zi),Bi;for(var cn=1,dn;cn<=an;){for(var bn=cn;$e[cn]==0&&cn<=an;++cn);var wn=cn-bn;if(wn>=wi){dn=wn>>4;for(var Sn=1;Sn<=dn;++Sn)yi(Wi);wn=wn&15}Qi=32767+$e[cn],yi(ji[(wn<<4)+ke[Qi]]),yi(Te[Qi]),cn++}return an!=tn&&yi(Zi),Bi}function ii(){for(var bi=String.fromCharCode,Ii=0;Ii<256;Ii++)ze[Ii]=bi(Ii)}this.encode=function(bi,Ii){new Date().getTime(),Ii&&Ci(Ii),Be=new Array,Ie=0,Re=7,Ai(65496),Fi(),ei(bi.comments),Di(bi.exifBuffer),Ke(),oi(bi.width,bi.height),St(),ui();var Bi=0,Vi=0,ji=0;Ie=0,Re=7,this.encode.displayName="_encode_";for(var Zi=bi.data,Wi=bi.width,Qi=bi.height,wi=Wi*4,tn,Yi=0,nn,Ni,Xi,an,cn,dn,bn,wn;Yi<Qi;){for(tn=0;tn<wi;){for(an=wi*Yi+tn,cn=an,dn=-1,bn=0,wn=0;wn<64;wn++)bn=wn>>3,dn=(wn&7)*4,cn=an+bn*wi+dn,Yi+bn>=Qi&&(cn-=wi*(Yi+1+bn-Qi)),tn+dn>=wi&&(cn-=tn+dn-wi+4),nn=Zi[cn++],Ni=Zi[cn++],Xi=Zi[cn++],je[wn]=(Ue[nn]+Ue[Ni+256>>0]+Ue[Xi+512>>0]>>16)-128,Ve[wn]=(Ue[nn+768>>0]+Ue[Ni+1024>>0]+Ue[Xi+1280>>0]>>16)-128,He[wn]=(Ue[nn+1280>>0]+Ue[Ni+1536>>0]+Ue[Xi+1792>>0]>>16)-128;Bi=ai(je,Ce,Bi,Ee,Me),Vi=ai(Ve,Pe,Vi,Oe,De),ji=ai(He,Pe,ji,Oe,De),tn+=32}Yi+=8}if(Re>=0){var Sn=[];Sn[1]=Re+1,Sn[0]=(1<<Re+1)-1,yi(Sn)}return Ai(65497),Buffer.from(Be)};function Ci(bi){if(bi<=0&&(bi=1),bi>100&&(bi=100),We!=bi){var Ii=0;bi<50?Ii=Math.floor(5e3/bi):Ii=Math.floor(200-bi*2),di(Ii),We=bi}}function ki(){var bi=new Date().getTime();xe||(xe=50),ii(),Pi(),ci(),xi(),Ci(xe),new Date().getTime()-bi}ki()}t.exports=r;function r(xe,Se){typeof Se>"u"&&(Se=50);var _e=new e(Se),Ae=_e.encode(xe,Se);return{data:Ae,width:xe.width,height:xe.height}}})(encoder);var encoderExports=encoder.exports,decoder={exports:{}};(function(t){var e=function(){var Se=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),_e=4017,Ae=799,Ce=3406,Pe=2276,Ee=1567,Oe=3784,Me=5793,De=2896;function Te(){}function ke(Ve,He){for(var ze=0,Ue=[],We,qe,Ge=16;Ge>0&&!Ve[Ge-1];)Ge--;Ue.push({children:[],index:0});var Ye=Ue[0],Qe;for(We=0;We<Ge;We++){for(qe=0;qe<Ve[We];qe++){for(Ye=Ue.pop(),Ye.children[Ye.index]=He[ze];Ye.index>0;){if(Ue.length===0)throw new Error("Could not recreate Huffman Table");Ye=Ue.pop()}for(Ye.index++,Ue.push(Ye);Ue.length<=We;)Ue.push(Qe={children:[],index:0}),Ye.children[Ye.index]=Qe.children,Ye=Qe;ze++}We+1<Ge&&(Ue.push(Qe={children:[],index:0}),Ye.children[Ye.index]=Qe.children,Ye=Qe)}return Ue[0].children}function Fe(Ve,He,ze,Ue,We,qe,Ge,Ye,Qe,Je){ze.precision,ze.samplesPerLine,ze.scanLines;var ri=ze.mcusPerLine,hi=ze.progressive;ze.maxH,ze.maxV;var pi=He,ni=0,di=0;function fi(){if(di>0)return di--,ni>>di&1;if(ni=Ve[He++],ni==255){var Qi=Ve[He++];if(Qi)throw new Error("unexpected marker: "+(ni<<8|Qi).toString(16))}return di=7,ni>>>7}function Pi(Qi){for(var wi=Qi,tn;(tn=fi())!==null;){if(wi=wi[tn],typeof wi=="number")return wi;if(typeof wi!="object")throw new Error("invalid huffman sequence")}return null}function ci(Qi){for(var wi=0;Qi>0;){var tn=fi();if(tn===null)return;wi=wi<<1|tn,Qi--}return wi}function xi(Qi){var wi=ci(Qi);return wi>=1<<Qi-1?wi:wi+(-1<<Qi)+1}function yi(Qi,wi){var tn=Pi(Qi.huffmanTableDC),Yi=tn===0?0:xi(tn);wi[0]=Qi.pred+=Yi;for(var nn=1;nn<64;){var Ni=Pi(Qi.huffmanTableAC),Xi=Ni&15,an=Ni>>4;if(Xi===0){if(an<15)break;nn+=16;continue}nn+=an;var cn=Se[nn];wi[cn]=xi(Xi),nn++}}function gi(Qi,wi){var tn=Pi(Qi.huffmanTableDC),Yi=tn===0?0:xi(tn)<<Qe;wi[0]=Qi.pred+=Yi}function Ai(Qi,wi){wi[0]|=fi()<<Qe}var Mi=0;function Fi(Qi,wi){if(Mi>0){Mi--;return}for(var tn=qe,Yi=Ge;tn<=Yi;){var nn=Pi(Qi.huffmanTableAC),Ni=nn&15,Xi=nn>>4;if(Ni===0){if(Xi<15){Mi=ci(Xi)+(1<<Xi)-1;break}tn+=16;continue}tn+=Xi;var an=Se[tn];wi[an]=xi(Ni)*(1<<Qe),tn++}}var Di=0,oi;function Ke(Qi,wi){for(var tn=qe,Yi=Ge,nn=0;tn<=Yi;){var Ni=Se[tn],Xi=wi[Ni]<0?-1:1;switch(Di){case 0:var an=Pi(Qi.huffmanTableAC),cn=an&15,nn=an>>4;if(cn===0)nn<15?(Mi=ci(nn)+(1<<nn),Di=4):(nn=16,Di=1);else{if(cn!==1)throw new Error("invalid ACn encoding");oi=xi(cn),Di=nn?2:3}continue;case 1:case 2:wi[Ni]?wi[Ni]+=(fi()<<Qe)*Xi:(nn--,nn===0&&(Di=Di==2?3:0));break;case 3:wi[Ni]?wi[Ni]+=(fi()<<Qe)*Xi:(wi[Ni]=oi<<Qe,Di=0);break;case 4:wi[Ni]&&(wi[Ni]+=(fi()<<Qe)*Xi);break}tn++}Di===4&&(Mi--,Mi===0&&(Di=0))}function St(Qi,wi,tn,Yi,nn){var Ni=tn/ri|0,Xi=tn%ri,an=Ni*Qi.v+Yi,cn=Xi*Qi.h+nn;Qi.blocks[an]===void 0&&Je.tolerantDecoding||wi(Qi,Qi.blocks[an][cn])}function ei(Qi,wi,tn){var Yi=tn/Qi.blocksPerLine|0,nn=tn%Qi.blocksPerLine;Qi.blocks[Yi]===void 0&&Je.tolerantDecoding||wi(Qi,Qi.blocks[Yi][nn])}var ui=Ue.length,ai,ii,Ci,ki,bi,Ii;hi?qe===0?Ii=Ye===0?gi:Ai:Ii=Ye===0?Fi:Ke:Ii=yi;var Bi=0,Vi,ji;ui==1?ji=Ue[0].blocksPerLine*Ue[0].blocksPerColumn:ji=ri*ze.mcusPerColumn,We||(We=ji);for(var Zi,Wi;Bi<ji;){for(ii=0;ii<ui;ii++)Ue[ii].pred=0;if(Mi=0,ui==1)for(ai=Ue[0],bi=0;bi<We;bi++)ei(ai,Ii,Bi),Bi++;else for(bi=0;bi<We;bi++){for(ii=0;ii<ui;ii++)for(ai=Ue[ii],Zi=ai.h,Wi=ai.v,Ci=0;Ci<Wi;Ci++)for(ki=0;ki<Zi;ki++)St(ai,Ii,Bi,Ci,ki);if(Bi++,Bi===ji)break}if(Bi===ji)do{if(Ve[He]===255&&Ve[He+1]!==0)break;He+=1}while(He<Ve.length-2);if(di=0,Vi=Ve[He]<<8|Ve[He+1],Vi<65280)throw new Error("marker was not found");if(Vi>=65488&&Vi<=65495)He+=2;else break}return He-pi}function $e(Ve,He){var ze=[],Ue=He.blocksPerLine,We=He.blocksPerColumn,qe=Ue<<3,Ge=new Int32Array(64),Ye=new Uint8Array(64);function Qe(ci,xi,yi){var gi=He.quantizationTable,Ai,Mi,Fi,Di,oi,Ke,St,ei,ui,ai=yi,ii;for(ii=0;ii<64;ii++)ai[ii]=ci[ii]*gi[ii];for(ii=0;ii<8;++ii){var Ci=8*ii;if(ai[1+Ci]==0&&ai[2+Ci]==0&&ai[3+Ci]==0&&ai[4+Ci]==0&&ai[5+Ci]==0&&ai[6+Ci]==0&&ai[7+Ci]==0){ui=Me*ai[0+Ci]+512>>10,ai[0+Ci]=ui,ai[1+Ci]=ui,ai[2+Ci]=ui,ai[3+Ci]=ui,ai[4+Ci]=ui,ai[5+Ci]=ui,ai[6+Ci]=ui,ai[7+Ci]=ui;continue}Ai=Me*ai[0+Ci]+128>>8,Mi=Me*ai[4+Ci]+128>>8,Fi=ai[2+Ci],Di=ai[6+Ci],oi=De*(ai[1+Ci]-ai[7+Ci])+128>>8,ei=De*(ai[1+Ci]+ai[7+Ci])+128>>8,Ke=ai[3+Ci]<<4,St=ai[5+Ci]<<4,ui=Ai-Mi+1>>1,Ai=Ai+Mi+1>>1,Mi=ui,ui=Fi*Oe+Di*Ee+128>>8,Fi=Fi*Ee-Di*Oe+128>>8,Di=ui,ui=oi-St+1>>1,oi=oi+St+1>>1,St=ui,ui=ei+Ke+1>>1,Ke=ei-Ke+1>>1,ei=ui,ui=Ai-Di+1>>1,Ai=Ai+Di+1>>1,Di=ui,ui=Mi-Fi+1>>1,Mi=Mi+Fi+1>>1,Fi=ui,ui=oi*Pe+ei*Ce+2048>>12,oi=oi*Ce-ei*Pe+2048>>12,ei=ui,ui=Ke*Ae+St*_e+2048>>12,Ke=Ke*_e-St*Ae+2048>>12,St=ui,ai[0+Ci]=Ai+ei,ai[7+Ci]=Ai-ei,ai[1+Ci]=Mi+St,ai[6+Ci]=Mi-St,ai[2+Ci]=Fi+Ke,ai[5+Ci]=Fi-Ke,ai[3+Ci]=Di+oi,ai[4+Ci]=Di-oi}for(ii=0;ii<8;++ii){var ki=ii;if(ai[8+ki]==0&&ai[16+ki]==0&&ai[24+ki]==0&&ai[32+ki]==0&&ai[40+ki]==0&&ai[48+ki]==0&&ai[56+ki]==0){ui=Me*yi[ii+0]+8192>>14,ai[0+ki]=ui,ai[8+ki]=ui,ai[16+ki]=ui,ai[24+ki]=ui,ai[32+ki]=ui,ai[40+ki]=ui,ai[48+ki]=ui,ai[56+ki]=ui;continue}Ai=Me*ai[0+ki]+2048>>12,Mi=Me*ai[32+ki]+2048>>12,Fi=ai[16+ki],Di=ai[48+ki],oi=De*(ai[8+ki]-ai[56+ki])+2048>>12,ei=De*(ai[8+ki]+ai[56+ki])+2048>>12,Ke=ai[24+ki],St=ai[40+ki],ui=Ai-Mi+1>>1,Ai=Ai+Mi+1>>1,Mi=ui,ui=Fi*Oe+Di*Ee+2048>>12,Fi=Fi*Ee-Di*Oe+2048>>12,Di=ui,ui=oi-St+1>>1,oi=oi+St+1>>1,St=ui,ui=ei+Ke+1>>1,Ke=ei-Ke+1>>1,ei=ui,ui=Ai-Di+1>>1,Ai=Ai+Di+1>>1,Di=ui,ui=Mi-Fi+1>>1,Mi=Mi+Fi+1>>1,Fi=ui,ui=oi*Pe+ei*Ce+2048>>12,oi=oi*Ce-ei*Pe+2048>>12,ei=ui,ui=Ke*Ae+St*_e+2048>>12,Ke=Ke*_e-St*Ae+2048>>12,St=ui,ai[0+ki]=Ai+ei,ai[56+ki]=Ai-ei,ai[8+ki]=Mi+St,ai[48+ki]=Mi-St,ai[16+ki]=Fi+Ke,ai[40+ki]=Fi-Ke,ai[24+ki]=Di+oi,ai[32+ki]=Di-oi}for(ii=0;ii<64;++ii){var bi=128+(ai[ii]+8>>4);xi[ii]=bi<0?0:bi>255?255:bi}}je(qe*We*8);for(var Je,ri,hi=0;hi<We;hi++){var pi=hi<<3;for(Je=0;Je<8;Je++)ze.push(new Uint8Array(qe));for(var ni=0;ni<Ue;ni++){Qe(He.blocks[hi][ni],Ye,Ge);var di=0,fi=ni<<3;for(ri=0;ri<8;ri++){var Pi=ze[pi+ri];for(Je=0;Je<8;Je++)Pi[fi+Je]=Ye[di++]}}}return ze}function Be(Ve){return Ve<0?0:Ve>255?255:Ve}Te.prototype={load:function(He){var ze=new XMLHttpRequest;ze.open("GET",He,!0),ze.responseType="arraybuffer",ze.onload=(function(){var Ue=new Uint8Array(ze.response||ze.mozResponseArrayBuffer);this.parse(Ue),this.onload&&this.onload()}).bind(this),ze.send(null)},parse:function(He){var ze=this.opts.maxResolutionInMP*1e3*1e3,Ue=0;He.length;function We(){var Xi=He[Ue]<<8|He[Ue+1];return Ue+=2,Xi}function qe(){var Xi=We(),an=He.subarray(Ue,Ue+Xi-2);return Ue+=an.length,an}function Ge(Xi){var an=1,cn=1,dn,bn;for(bn in Xi.components)Xi.components.hasOwnProperty(bn)&&(dn=Xi.components[bn],an<dn.h&&(an=dn.h),cn<dn.v&&(cn=dn.v));var wn=Math.ceil(Xi.samplesPerLine/8/an),Sn=Math.ceil(Xi.scanLines/8/cn);for(bn in Xi.components)if(Xi.components.hasOwnProperty(bn)){dn=Xi.components[bn];var kn=Math.ceil(Math.ceil(Xi.samplesPerLine/8)*dn.h/an),Ln=Math.ceil(Math.ceil(Xi.scanLines/8)*dn.v/cn),jn=wn*dn.h,Rn=Sn*dn.v,Fn=Rn*jn,On=[];je(Fn*256);for(var Vn=0;Vn<Rn;Vn++){for(var un=[],Si=0;Si<jn;Si++)un.push(new Int32Array(64));On.push(un)}dn.blocksPerLine=kn,dn.blocksPerColumn=Ln,dn.blocks=On}Xi.maxH=an,Xi.maxV=cn,Xi.mcusPerLine=wn,Xi.mcusPerColumn=Sn}var Ye=null,Qe=null,Je,ri,hi=[],pi=[],ni=[],di=[],fi=We(),Pi=-1;if(this.comments=[],fi!=65496)throw new Error("SOI not found");for(fi=We();fi!=65497;){var ci,xi;switch(fi){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var yi=qe();if(fi===65534){var gi=String.fromCharCode.apply(null,yi);this.comments.push(gi)}fi===65504&&yi[0]===74&&yi[1]===70&&yi[2]===73&&yi[3]===70&&yi[4]===0&&(Ye={version:{major:yi[5],minor:yi[6]},densityUnits:yi[7],xDensity:yi[8]<<8|yi[9],yDensity:yi[10]<<8|yi[11],thumbWidth:yi[12],thumbHeight:yi[13],thumbData:yi.subarray(14,14+3*yi[12]*yi[13])}),fi===65505&&yi[0]===69&&yi[1]===120&&yi[2]===105&&yi[3]===102&&yi[4]===0&&(this.exifBuffer=yi.subarray(5,yi.length)),fi===65518&&yi[0]===65&&yi[1]===100&&yi[2]===111&&yi[3]===98&&yi[4]===101&&yi[5]===0&&(Qe={version:yi[6],flags0:yi[7]<<8|yi[8],flags1:yi[9]<<8|yi[10],transformCode:yi[11]});break;case 65499:for(var Ai=We(),Mi=Ai+Ue-2;Ue<Mi;){var Fi=He[Ue++];je(256);var Di=new Int32Array(64);if(Fi>>4)if(Fi>>4===1)for(xi=0;xi<64;xi++){var oi=Se[xi];Di[oi]=We()}else throw new Error("DQT: invalid table spec");else for(xi=0;xi<64;xi++){var oi=Se[xi];Di[oi]=He[Ue++]}hi[Fi&15]=Di}break;case 65472:case 65473:case 65474:We(),Je={},Je.extended=fi===65473,Je.progressive=fi===65474,Je.precision=He[Ue++],Je.scanLines=We(),Je.samplesPerLine=We(),Je.components={},Je.componentsOrder=[];var Ke=Je.scanLines*Je.samplesPerLine;if(Ke>ze){var St=Math.ceil((Ke-ze)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${St}MP`)}var ei=He[Ue++],ui;for(ci=0;ci<ei;ci++){ui=He[Ue];var ai=He[Ue+1]>>4,ii=He[Ue+1]&15,Ci=He[Ue+2];if(ai<=0||ii<=0)throw new Error("Invalid sampling factor, expected values above 0");Je.componentsOrder.push(ui),Je.components[ui]={h:ai,v:ii,quantizationIdx:Ci},Ue+=3}Ge(Je),pi.push(Je);break;case 65476:var ki=We();for(ci=2;ci<ki;){var bi=He[Ue++],Ii=new Uint8Array(16),Bi=0;for(xi=0;xi<16;xi++,Ue++)Bi+=Ii[xi]=He[Ue];je(16+Bi);var Vi=new Uint8Array(Bi);for(xi=0;xi<Bi;xi++,Ue++)Vi[xi]=He[Ue];ci+=17+Bi,(bi>>4?ni:di)[bi&15]=ke(Ii,Vi)}break;case 65501:We(),ri=We();break;case 65500:We(),We();break;case 65498:We();var ji=He[Ue++],Zi=[],Wi;for(ci=0;ci<ji;ci++){Wi=Je.components[He[Ue++]];var Qi=He[Ue++];Wi.huffmanTableDC=di[Qi>>4],Wi.huffmanTableAC=ni[Qi&15],Zi.push(Wi)}var wi=He[Ue++],tn=He[Ue++],Yi=He[Ue++],nn=Fe(He,Ue,Je,Zi,ri,wi,tn,Yi>>4,Yi&15,this.opts);Ue+=nn;break;case 65535:He[Ue]!==255&&Ue--;break;default:if(He[Ue-3]==255&&He[Ue-2]>=192&&He[Ue-2]<=254){Ue-=3;break}else if(fi===224||fi==225){if(Pi!==-1)throw new Error(`first unknown JPEG marker at offset ${Pi.toString(16)}, second unknown JPEG marker ${fi.toString(16)} at offset ${(Ue-1).toString(16)}`);Pi=Ue-1;const Xi=We();if(He[Ue+Xi-2]===255){Ue+=Xi-2;break}}throw new Error("unknown JPEG marker "+fi.toString(16))}fi=We()}if(pi.length!=1)throw new Error("only single frame JPEGs supported");for(var ci=0;ci<pi.length;ci++){var Ni=pi[ci].components;for(var xi in Ni)Ni[xi].quantizationTable=hi[Ni[xi].quantizationIdx],delete Ni[xi].quantizationIdx}this.width=Je.samplesPerLine,this.height=Je.scanLines,this.jfif=Ye,this.adobe=Qe,this.components=[];for(var ci=0;ci<Je.componentsOrder.length;ci++){var Wi=Je.components[Je.componentsOrder[ci]];this.components.push({lines:$e(Je,Wi),scaleX:Wi.h/Je.maxH,scaleY:Wi.v/Je.maxV})}},getData:function(He,ze){var Ue=this.width/He,We=this.height/ze,qe,Ge,Ye,Qe,Je,ri,hi,pi,ni,di,fi=0,Pi,ci,xi,yi,gi,Ai,Mi,Fi,Di,oi,Ke,St=He*ze*this.components.length;je(St);var ei=new Uint8Array(St);switch(this.components.length){case 1:for(qe=this.components[0],di=0;di<ze;di++)for(Je=qe.lines[0|di*qe.scaleY*We],ni=0;ni<He;ni++)Pi=Je[0|ni*qe.scaleX*Ue],ei[fi++]=Pi;break;case 2:for(qe=this.components[0],Ge=this.components[1],di=0;di<ze;di++)for(Je=qe.lines[0|di*qe.scaleY*We],ri=Ge.lines[0|di*Ge.scaleY*We],ni=0;ni<He;ni++)Pi=Je[0|ni*qe.scaleX*Ue],ei[fi++]=Pi,Pi=ri[0|ni*Ge.scaleX*Ue],ei[fi++]=Pi;break;case 3:for(Ke=!0,this.adobe&&this.adobe.transformCode?Ke=!0:typeof this.opts.colorTransform<"u"&&(Ke=!!this.opts.colorTransform),qe=this.components[0],Ge=this.components[1],Ye=this.components[2],di=0;di<ze;di++)for(Je=qe.lines[0|di*qe.scaleY*We],ri=Ge.lines[0|di*Ge.scaleY*We],hi=Ye.lines[0|di*Ye.scaleY*We],ni=0;ni<He;ni++)Ke?(Pi=Je[0|ni*qe.scaleX*Ue],ci=ri[0|ni*Ge.scaleX*Ue],xi=hi[0|ni*Ye.scaleX*Ue],Fi=Be(Pi+1.402*(xi-128)),Di=Be(Pi-.3441363*(ci-128)-.71413636*(xi-128)),oi=Be(Pi+1.772*(ci-128))):(Fi=Je[0|ni*qe.scaleX*Ue],Di=ri[0|ni*Ge.scaleX*Ue],oi=hi[0|ni*Ye.scaleX*Ue]),ei[fi++]=Fi,ei[fi++]=Di,ei[fi++]=oi;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(Ke=!1,this.adobe&&this.adobe.transformCode?Ke=!0:typeof this.opts.colorTransform<"u"&&(Ke=!!this.opts.colorTransform),qe=this.components[0],Ge=this.components[1],Ye=this.components[2],Qe=this.components[3],di=0;di<ze;di++)for(Je=qe.lines[0|di*qe.scaleY*We],ri=Ge.lines[0|di*Ge.scaleY*We],hi=Ye.lines[0|di*Ye.scaleY*We],pi=Qe.lines[0|di*Qe.scaleY*We],ni=0;ni<He;ni++)Ke?(Pi=Je[0|ni*qe.scaleX*Ue],ci=ri[0|ni*Ge.scaleX*Ue],xi=hi[0|ni*Ye.scaleX*Ue],yi=pi[0|ni*Qe.scaleX*Ue],gi=255-Be(Pi+1.402*(xi-128)),Ai=255-Be(Pi-.3441363*(ci-128)-.71413636*(xi-128)),Mi=255-Be(Pi+1.772*(ci-128))):(gi=Je[0|ni*qe.scaleX*Ue],Ai=ri[0|ni*Ge.scaleX*Ue],Mi=hi[0|ni*Ye.scaleX*Ue],yi=pi[0|ni*Qe.scaleX*Ue]),ei[fi++]=255-gi,ei[fi++]=255-Ai,ei[fi++]=255-Mi,ei[fi++]=255-yi;break;default:throw new Error("Unsupported color mode")}return ei},copyToImageData:function(He,ze){var Ue=He.width,We=He.height,qe=He.data,Ge=this.getData(Ue,We),Ye=0,Qe=0,Je,ri,hi,pi,ni,di,fi,Pi,ci;switch(this.components.length){case 1:for(ri=0;ri<We;ri++)for(Je=0;Je<Ue;Je++)hi=Ge[Ye++],qe[Qe++]=hi,qe[Qe++]=hi,qe[Qe++]=hi,ze&&(qe[Qe++]=255);break;case 3:for(ri=0;ri<We;ri++)for(Je=0;Je<Ue;Je++)fi=Ge[Ye++],Pi=Ge[Ye++],ci=Ge[Ye++],qe[Qe++]=fi,qe[Qe++]=Pi,qe[Qe++]=ci,ze&&(qe[Qe++]=255);break;case 4:for(ri=0;ri<We;ri++)for(Je=0;Je<Ue;Je++)ni=Ge[Ye++],di=Ge[Ye++],hi=Ge[Ye++],pi=Ge[Ye++],fi=255-Be(ni*(1-pi/255)+pi),Pi=255-Be(di*(1-pi/255)+pi),ci=255-Be(hi*(1-pi/255)+pi),qe[Qe++]=fi,qe[Qe++]=Pi,qe[Qe++]=ci,ze&&(qe[Qe++]=255);break;default:throw new Error("Unsupported color mode")}}};var Ie=0,Re=0;function je(Ve=0){var He=Ie+Ve;if(He>Re){var ze=Math.ceil((He-Re)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${ze}MB`)}Ie=He}return Te.resetMaxMemoryUsage=function(Ve){Ie=0,Re=Ve},Te.getBytesAllocated=function(){return Ie},Te.requestMemoryAllocation=je,Te}();t.exports=r;function r(xe,Se={}){var _e={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},Ae={..._e,...Se},Ce=new Uint8Array(xe),Pe=new e;Pe.opts=Ae,e.resetMaxMemoryUsage(Ae.maxMemoryUsageInMB*1024*1024),Pe.parse(Ce);var Ee=Ae.formatAsRGBA?4:3,Oe=Pe.width*Pe.height*Ee;try{e.requestMemoryAllocation(Oe);var Me={width:Pe.width,height:Pe.height,exifBuffer:Pe.exifBuffer,data:Ae.useTArray?new Uint8Array(Oe):Buffer.alloc(Oe)};Pe.comments.length>0&&(Me.comments=Pe.comments)}catch(De){throw De instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+Oe):De instanceof ReferenceError&&De.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):De}return Pe.copyToImageData(Me,Ae.formatAsRGBA),Me}})(decoder);var decoderExports=decoder.exports,encode$1=encoderExports,decode$4=decoderExports,jpegJs={encode:encode$1,decode:decode$4};let chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(let t=0;t<chars.length;t++)lookup[chars.charCodeAt(t)]=t;function encode(t){let e,r=t.length,xe="";for(e=0;e<r;e+=3)xe+=chars[t[e]>>2],xe+=chars[(t[e]&3)<<4|t[e+1]>>4],xe+=chars[(t[e+1]&15)<<2|t[e+2]>>6],xe+=chars[t[e+2]&63];return r%3===2?xe=`${xe.substring(0,xe.length-1)}=`:r%3===1&&(xe=`${xe.substring(0,xe.length-2)}==`),xe}function decode$3(t){let e=t.length*.75,r=t.length,xe=0,Se,_e,Ae,Ce;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const Pe=new Uint8Array(e);for(let Ee=0;Ee<r;Ee+=4)Se=lookup[t.charCodeAt(Ee)],_e=lookup[t.charCodeAt(Ee+1)],Ae=lookup[t.charCodeAt(Ee+2)],Ce=lookup[t.charCodeAt(Ee+3)],Pe[xe++]=Se<<2|_e>>4,Pe[xe++]=(_e&15)<<4|Ae>>2,Pe[xe++]=(Ae&3)<<6|Ce&63;return Pe}function toBase64URL(t,e){const r=encode(t);return`data:${e};base64,${r}`}const ImageData=self.ImageData,DOMImage=self.Image;function createCanvas(t,e){let r=self.document.createElement("canvas");return r.width=t,r.height=e,r}function fetchBinary(t,{withCredentials:e=!1}={}){return new Promise(function(r,xe){let Se=new self.XMLHttpRequest;Se.open("GET",t,!0),Se.responseType="arraybuffer",Se.withCredentials=e,Se.onload=function(_e){this.status!==200?xe(_e):r(this.response)},Se.onerror=xe,Se.send()})}function createWriteStream(){throw new Error("createWriteStream does not exist in the browser")}function writeFile(){throw new Error("writeFile does not exist in the browser")}function getType(t){return t.includes("/")||(t=`image/${t}`),t}function encodeJpeg(t,e={}){const r={width:t.width,height:t.height,data:t.getRGBAData()};return jpegJs.encode(r,e.quality).data}function encodePng(t,e){const r={width:t.width,height:t.height,channels:t.channels,depth:t.bitDepth,data:t.data};return(r.depth===1||r.depth===32)&&(r.depth=8,r.channels=4,r.data=t.getRGBAData()),encodePng$1(r,e)}const exportMethods={save(t,e={}){const{useCanvas:r=!1,encoder:xe=void 0}=e;let{format:Se}=e;if(!Se){const _e=/\.(?<format>[a-zA-Z]+)$/.exec(t);_e&&(Se=_e.groups.format.toLowerCase())}if(!Se)throw new Error("file format not provided");return new Promise((_e,Ae)=>{let Ce,Pe;switch(Se.toLowerCase()){case"png":{r?Ce=this.getCanvas().pngStream():Pe=encodePng(this,xe);break}case"jpg":case"jpeg":r?Ce=this.getCanvas().jpegStream():Pe=encodeJpeg(this,xe);break;case"bmp":Pe=encode$2(this,xe);break;default:throw new RangeError(`invalid output format: ${Se}`)}if(Ce){let Ee=createWriteStream();Ee.on("finish",_e),Ee.on("error",Ae),Ce.pipe(Ee)}else Pe&&writeFile()})},toDataURL(t="image/png",e={}){typeof t=="object"&&(e=t,t="image/png");const{useCanvas:r=!1,encoder:xe=void 0}=e;t=getType(t);function Se(_e,Ae){const Ce=_e(Ae,xe);return toBase64URL(Ce,t)}return t==="image/bmp"?Se(encode$2,this):t==="image/png"&&!r?Se(encodePng,this):t==="image/jpeg"&&!r?Se(encodeJpeg,this):this.getCanvas().toDataURL(t)},toBuffer(t={}){const{format:e="png",encoder:r=void 0}=t;switch(e.toLowerCase()){case"png":return encodePng(this,r);case"jpeg":case"jpg":return encodeJpeg(this,r);case"bmp":return encode$2(this,r);default:throw new RangeError(`invalid output format: ${e}`)}},toBase64(t="image/png",e={}){if(e.async)return this.toDataURL(t,e).then(function(r){return r.substring(r.indexOf(",")+1)});{const r=this.toDataURL(t,e);return r.substring(r.indexOf(",")+1)}},toBlob(t="image/png",e=.8){return canvasToBlob(this.getCanvas(),t,e)},getCanvas(){const t=new ImageData(this.getRGBAData({clamped:!0}),this.width,this.height);let e=createCanvas(this.width,this.height);return e.getContext("2d").putImageData(t,0,0),e}};function setExportMethods(t){for(const e in exportMethods)t.prototype[e]=exportMethods[e]}var hasOwn$1={exports:{}};const name="has-own",version$1="1.0.1",description="A safer .hasOwnProperty() - hasOwn(name, obj)",main="index.js",scripts={test:"make test"},author="Aaron Heckmann <aaron.heckmann+github@gmail.com>",license="MIT",repository={type:"git",url:"git://github.com/aheckmann/has-own.git"},homepage="https://github.com/aheckmann/has-own/",devDependencies={mocha:"^6.2.2"},require$$0$2={name,version:version$1,description,main,scripts,author,license,repository,homepage,devDependencies};(function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=e=function(Se,_e){return r.call(_e,Se)},e.version=require$$0$2.version})(hasOwn$1,hasOwn$1.exports);var hasOwnExports=hasOwn$1.exports;const hasOwn=getDefaultExportFromCjs$1(hasOwnExports);let computedPropertyDescriptor$1={configurable:!0,enumerable:!1,get:void 0};function extendMethod(t,e,r={}){let{inPlace:xe=!1,returnThis:Se=!0,partialArgs:_e=[]}=r;return xe?Image$1.prototype[t]=function(...Ae){this.computed=null;let Ce=e.apply(this,[..._e,...Ae]);return Se?this:Ce}:Image$1.prototype[t]=function(...Ae){return e.apply(this,[..._e,...Ae])},Image$1}function extendProperty(t,e,r={}){let{partialArgs:xe=[]}=r;return computedPropertyDescriptor$1.get=function(){if(this.computed===null)this.computed={};else if(hasOwn(t,this.computed))return this.computed[t];let Se=e.apply(this,xe);return this.computed[t]=Se,Se},Object.defineProperty(Image$1.prototype,t,computedPropertyDescriptor$1),Image$1}const GREY$1="GREY",RGB$1="RGB",HSL="HSL",HSV="HSV",CMYK$1="CMYK",ColorModel=Object.freeze(Object.defineProperty({__proto__:null,CMYK:CMYK$1,GREY:GREY$1,HSL,HSV,RGB:RGB$1},Symbol.toStringTag,{value:"Module"}));function getRGBAData(t={}){const{clamped:e}=t;this.checkProcessable("getRGBAData",{components:[1,3],bitDepth:[1,8,16,32]});const r=this.width*this.height*4;let xe=e?new Uint8ClampedArray(r):new Uint8Array(r);return this.bitDepth===1?fillDataFromBinary(this,xe):this.bitDepth===32?(this.checkProcessable("getRGBAData",{alpha:0}),this.components===1?fillDataFromGrey32(this,xe):this.components===3&&(this.checkProcessable("getRGBAData",{colorModel:[RGB$1]}),fillDataFromRGB32(this,xe))):this.components===1?fillDataFromGrey(this,xe):this.components===3&&(this.checkProcessable("getRGBAData",{colorModel:[RGB$1]}),fillDataFromRGB(this,xe)),this.alpha===1?(this.checkProcessable("getRGBAData",{bitDepth:[8,16]}),copyAlpha(this,xe)):fillAlpha(this,xe),xe}function fillDataFromBinary(t,e){for(let r=0;r<t.size;r++){const xe=t.getBit(r);e[r*4]=xe*255,e[r*4+1]=xe*255,e[r*4+2]=xe*255}}function fillDataFromGrey32(t,e){const r=t.min[0],Se=t.max[0]-r;for(let _e=0;_e<t.size;_e++){const Ae=Math.floor(255*(t.data[_e]-r)/Se);e[_e*4]=Ae,e[_e*4+1]=Ae,e[_e*4+2]=Ae}}function fillDataFromRGB32(t,e){const r=Math.min(...t.min),Se=Math.max(...t.max)-r;for(let _e=0;_e<t.size;_e++){const Ae=Math.floor(255*(t.data[_e*3]-r)/Se),Ce=Math.floor(255*(t.data[_e*3+1]-r)/Se),Pe=Math.floor(255*(t.data[_e*3+2]-r)/Se);e[_e*4]=Ae,e[_e*4+1]=Ce,e[_e*4+2]=Pe}}function fillDataFromGrey(t,e){for(let r=0;r<t.size;r++)e[r*4]=t.data[r*t.channels]>>>t.bitDepth-8,e[r*4+1]=t.data[r*t.channels]>>>t.bitDepth-8,e[r*4+2]=t.data[r*t.channels]>>>t.bitDepth-8}function fillDataFromRGB(t,e){for(let r=0;r<t.size;r++)e[r*4]=t.data[r*t.channels]>>>t.bitDepth-8,e[r*4+1]=t.data[r*t.channels+1]>>>t.bitDepth-8,e[r*4+2]=t.data[r*t.channels+2]>>>t.bitDepth-8}function copyAlpha(t,e){for(let r=0;r<t.size;r++)e[r*4+3]=t.data[r*t.channels+t.components]>>t.bitDepth-8}function fillAlpha(t,e){for(let r=0;r<t.size;r++)e[r*4+3]=255}const BINARY="BINARY",GREY="GREY",GREYA="GREYA",RGB="RGB",RGBA="RGBA",CMYK="CMYK",CMYKA="CMYKA",kinds={};kinds[BINARY]={components:1,alpha:0,bitDepth:1,colorModel:GREY$1};kinds[GREYA]={components:1,alpha:1,bitDepth:8,colorModel:GREY$1};kinds[GREY]={components:1,alpha:0,bitDepth:8,colorModel:GREY$1};kinds[RGBA]={components:3,alpha:1,bitDepth:8,colorModel:RGB$1};kinds[RGB]={components:3,alpha:0,bitDepth:8,colorModel:RGB$1};kinds[CMYK]={components:4,alpha:0,bitDepth:8,colorModel:CMYK$1};kinds[CMYKA]={components:4,alpha:1,bitDepth:8,colorModel:CMYK$1};function getKind(t){const e=kinds[t];if(!e)throw new RangeError(`invalid image kind: ${t}`);return e}const validBitDepth=[1,8,16,32];function verifyKindDefinition(t){const{components:e,alpha:r,bitDepth:xe,colorModel:Se}=t;if(!Number.isInteger(e)||e<=0)throw new RangeError(`invalid components: ${e}. Must be a positive integer`);if(r!==0&&r!==1&&typeof r!="boolean")throw new TypeError(`invalid alpha: ${r}: must be a boolean, 0 or 1`);if(!validBitDepth.includes(xe))throw new RangeError(`invalid bitDepth: ${xe}. Must be one of ${validBitDepth.join(", ")}`);if(!ColorModel[Se])throw new RangeError(`invalid colorModel: ${Se}. Must be one of ${Object.keys(ColorModel).join(", ")}`)}function getTheoreticalPixelArraySize(t,e,r){let xe=e*t;return r===1&&(xe=Math.ceil(xe/8)),xe}function createPixelArray(t,e,r,xe,Se,_e){const Ae=xe*t;let Ce;switch(Se){case 1:Ce=new Uint8Array(Math.ceil(Ae/8));break;case 8:Ce=new Uint8Array(Ae);break;case 16:Ce=new Uint16Array(Ae);break;case 32:Ce=new Float32Array(Ae);break;default:throw new Error(`Cannot create pixel array for bit depth ${Se}`)}if(r)for(let Pe=e;Pe<Ce.length;Pe+=xe)Ce[Pe]=_e;return Ce}const defaultByteLength=1024*8,charArray=[];let IOBuffer$2=class{constructor(e,r){r=r||{},e===void 0&&(e=defaultByteLength),typeof e=="number"&&(e=new ArrayBuffer(e));let xe=e.byteLength;const Se=r.offset?r.offset>>>0:0;e.buffer&&(xe=e.byteLength-Se,e.byteLength!==e.buffer.byteLength?e=e.buffer.slice(e.byteOffset+Se,e.byteOffset+e.byteLength):Se?e=e.buffer.slice(Se):e=e.buffer),this.buffer=e,this.length=xe,this.byteLength=xe,this.byteOffset=0,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer),this._increment=xe||defaultByteLength,this._mark=0}available(e){return e===void 0&&(e=1),this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){this.littleEndian=!0}isBigEndian(){return!this.littleEndian}setBigEndian(){this.littleEndian=!1}skip(e){e===void 0&&(e=1),this.offset+=e}seek(e){this.offset=e}mark(){this._mark=this.offset}reset(){this.offset=this._mark}rewind(){this.offset=0}ensureAvailable(e){if(e===void 0&&(e=1),!this.available(e)){const r=this._increment+this._increment;this._increment=r;const xe=this.length+r,Se=new Uint8Array(xe);Se.set(new Uint8Array(this.buffer)),this.buffer=Se.buffer,this.length=xe,this._data=new DataView(this.buffer)}}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e){e===void 0&&(e=1);for(var r=new Uint8Array(e),xe=0;xe<e;xe++)r[xe]=this.readByte();return r}readInt16(){var e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){var e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){var e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){var e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){var e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){var e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e){e===void 0&&(e=1),charArray.length=e;for(var r=0;r<e;r++)charArray[r]=this.readChar();return charArray.join("")}writeBoolean(e){this.writeUint8(e?255:0)}writeInt8(e){this.ensureAvailable(1),this._data.setInt8(this.offset++,e)}writeUint8(e){this.ensureAvailable(1),this._data.setUint8(this.offset++,e)}writeByte(e){this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(var r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r])}writeInt16(e){this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2}writeUint16(e){this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2}writeInt32(e){this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4}writeUint32(e){this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4}writeFloat32(e){this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4}writeFloat64(e){this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8}writeChar(e){this.writeUint8(e.charCodeAt(0))}writeChars(e){for(var r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r))}toArray(){return new Uint8Array(this.buffer,0,this.offset)}};var IOBuffer_1=IOBuffer$2,src$3={};const tagsById$5={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName$5={};for(var i$4 in tagsById$5)tagsByName$5[tagsById$5[i$4]]=i$4;var standard$1={tagsById:tagsById$5,tagsByName:tagsByName$5};const tagsById$4={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$4={};for(var i$3 in tagsById$4)tagsByName$4[tagsById$4[i$3]]=i$3;var exif$1={tagsById:tagsById$4,tagsByName:tagsByName$4};const tagsById$3={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$3={};for(var i$2 in tagsById$3)tagsByName$3[tagsById$3[i$2]]=i$2;var gps$1={tagsById:tagsById$3,tagsByName:tagsByName$3};const tags$1={standard:standard$1,exif:exif$1,gps:gps$1};let IFD$2=class{constructor(e){if(!e)throw new Error("missing kind");this.data=null,this.fields=new Map,this.kind=e,this._map=null}get(e){if(typeof e=="number")return this.fields.get(e);if(typeof e=="string")return this.fields.get(tags$1[this.kind].tagsByName[e]);throw new Error("expected a number or string")}get map(){if(!this._map){this._map={};const r=tags$1[this.kind].tagsById;for(var e of this.fields.keys())r[e]&&(this._map[r[e]]=this.fields.get(e))}return this._map}};var ifd=IFD$2;const Ifd=ifd,dateTimeRegex$1=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;let TiffIfd$1=class extends Ifd{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){var e=new Date,r=dateTimeRegex$1.exec(this.dateTime);return e.setFullYear(r[1],r[2]-1,r[3]),e.setHours(r[4],r[5],r[6]),e}get newSubfileType(){return this.get(254)}get imageWidth(){return this.get(256)}get imageLength(){return this.get(257)}get bitsPerSample(){return this.get(258)}get compression(){return this.get(259)||1}get type(){return this.get(262)}get fillOrder(){return this.get(266)||1}get documentName(){return this.get(269)}get imageDescription(){return this.get(270)}get stripOffsets(){return alwaysArray$1(this.get(273))}get orientation(){return this.get(274)}get samplesPerPixel(){return this.get(277)}get rowsPerStrip(){return this.get(278)}get stripByteCounts(){return alwaysArray$1(this.get(279))}get minSampleValue(){return this.get(280)||0}get maxSampleValue(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get(282)}get yResolution(){return this.get(283)}get planarConfiguration(){return this.get(284)||1}get resolutionUnit(){return this.get(296)||2}get dateTime(){return this.get(306)}get predictor(){return this.get(317)||1}get sampleFormat(){return this.get(339)||1}get sMinSampleValue(){return this.get(340)||this.minSampleValue}get sMaxSampleValue(){return this.get(341)||this.maxSampleValue}};function alwaysArray$1(t){return typeof t=="number"?[t]:t}var tiffIfd=TiffIfd$1,ifdValue={},types$1=new Map([[1,[1,readByte$1]],[2,[1,readASCII$1]],[3,[2,readShort$1]],[4,[4,readLong$1]],[5,[8,readRational$1]],[6,[1,readSByte$1]],[7,[1,readByte$1]],[8,[2,readSShort$1]],[9,[4,readSLong$1]],[10,[8,readSRational$1]],[11,[4,readFloat$1]],[12,[8,readDouble$1]]]);ifdValue.getByteLength=function(t,e){return types$1.get(t)[0]*e};ifdValue.readData=function(t,e,r){return types$1.get(e)[1](t,r)};function readByte$1(t,e){if(e===1)return t.readUint8();for(var r=new Uint8Array(e),xe=0;xe<e;xe++)r[xe]=t.readUint8();return r}function readASCII$1(t,e){for(var r=[],xe="",Se=0;Se<e;Se++){var _e=String.fromCharCode(t.readUint8());_e==="\0"?(r.push(xe),xe=""):xe+=_e}return r.length===1?r[0]:r}function readShort$1(t,e){if(e===1)return t.readUint16();for(var r=new Uint16Array(e),xe=0;xe<e;xe++)r[xe]=t.readUint16();return r}function readLong$1(t,e){if(e===1)return t.readUint32();for(var r=new Uint32Array(e),xe=0;xe<e;xe++)r[xe]=t.readUint32();return r}function readRational$1(t,e){if(e===1)return t.readUint32()/t.readUint32();for(var r=new Array(e),xe=0;xe<e;xe++)r[xe]=t.readUint32()/t.readUint32();return r}function readSByte$1(t,e){if(e===1)return t.readInt8();for(var r=new Int8Array(e),xe=0;xe<e;xe++)r[xe]=t.readInt8();return r}function readSShort$1(t,e){if(e===1)return t.readInt16();for(var r=new Int16Array(e),xe=0;xe<e;xe++)r[xe]=t.readInt16();return r}function readSLong$1(t,e){if(e===1)return t.readInt32();for(var r=new Int32Array(e),xe=0;xe<e;xe++)r[xe]=t.readInt32();return r}function readSRational$1(t,e){if(e===1)return t.readInt32()/t.readInt32();for(var r=new Array(e),xe=0;xe<e;xe++)r[xe]=t.readInt32()/t.readInt32();return r}function readFloat$1(t,e){if(e===1)return t.readFloat32();for(var r=new Float32Array(e),xe=0;xe<e;xe++)r[xe]=t.readFloat32();return r}function readDouble$1(t,e){if(e===1)return t.readFloat64();for(var r=new Float64Array(e),xe=0;xe<e;xe++)r[xe]=t.readFloat64();return r}const IOBuffer$1=IOBuffer_1,IFD$1=ifd,TiffIFD=tiffIfd,IFDValue=ifdValue,defaultOptions$e={ignoreImageData:!1,onlyFirst:!1};let TIFFDecoder$2=class extends IOBuffer$1{constructor(e,r){super(e,r),this._nextIFD=0}decode(e){e=Object.assign({},defaultOptions$e,e);const r=[];for(this.decodeHeader();this._nextIFD;)if(r.push(this.decodeIFD(e)),e.onlyFirst)return r[0];return r}decodeHeader(){let e=this.readUint16();if(e===18761)this.setLittleEndian();else if(e===19789)this.setBigEndian();else throw new Error("invalid byte order: 0x"+e.toString(16));if(e=this.readUint16(),e!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(e){this.seek(this._nextIFD);var r;e.kind?r=new IFD$1(e.kind):r=new TiffIFD;const xe=this.readUint16();for(var Se=0;Se<xe;Se++)this.decodeIFDEntry(r);return e.ignoreImageData||this.decodeImageData(r),this._nextIFD=this.readUint32(),r}decodeIFDEntry(e){const r=this.offset,xe=this.readUint16(),Se=this.readUint16(),_e=this.readUint32();if(Se<1||Se>12){this.skip(4);return}IFDValue.getByteLength(Se,_e)>4&&this.seek(this.readUint32());const Ce=IFDValue.readData(this,Se,_e);if(e.fields.set(xe,Ce),xe===34665||xe===34853){let Pe=this.offset,Ee;xe===34665?Ee="exif":xe===34853&&(Ee="gps"),this._nextIFD=Ce,e[Ee]=this.decodeIFD({kind:Ee,ignoreImageData:!0}),this.offset=Pe}this.seek(r),this.skip(12)}decodeImageData(e){const r=e.orientation;switch(r&&r!==1&&unsupported$1("orientation",r),e.type){case 1:case 2:this.readStripData(e);break;default:unsupported$1("image type",e.type);break}}readStripData(e){const r=e.width,xe=e.height,Se=validateBitDepth(e.bitsPerSample),_e=e.sampleFormat;let Ae=r*xe;const Ce=getDataArray$1(Ae,1,Se,_e),Pe=e.compression,Oe=e.rowsPerStrip*r,Me=e.stripOffsets,De=e.stripByteCounts;for(var Te=0,ke=0;ke<Me.length;ke++){var Fe=this.getStripData(Pe,Me[ke],De[ke]),$e=Ae>Oe?Oe:Ae;Ae-=$e,Se===8?Te=fill8bit$1(Ce,Fe,Te,$e):Se===16?Te=fill16bit$1(Ce,Fe,Te,$e,this.isLittleEndian()):Se===32&&_e===3?Te=fillFloat32$1(Ce,Fe,Te,$e,this.isLittleEndian()):unsupported$1("bitDepth",Se)}e.data=Ce}getStripData(e,r,xe){switch(e){case 1:return new DataView(this.buffer,r,xe);case 2:case 32773:return unsupported$1("Compression",e);default:throw new Error("invalid compression: "+e)}}};var tiffDecoder=TIFFDecoder$2;function getDataArray$1(t,e,r,xe){return r===8?new Uint8Array(t*e):r===16?new Uint16Array(t*e):r===32&&xe===3?new Float32Array(t*e):unsupported$1("bit depth / sample format",r+" / "+xe)}function fill8bit$1(t,e,r,xe){for(var Se=0;Se<xe;Se++)t[r++]=e.getUint8(Se);return r}function fill16bit$1(t,e,r,xe,Se){for(var _e=0;_e<xe*2;_e+=2)t[r++]=e.getUint16(_e,Se);return r}function fillFloat32$1(t,e,r,xe,Se){for(var _e=0;_e<xe*4;_e+=4)t[r++]=e.getFloat32(_e,Se);return r}function unsupported$1(t,e){throw new Error("Unsupported "+t+": "+e)}function validateBitDepth(t){if(t.length){const r=t;t=r[0];for(var e=0;e<r.length;e++)r[e]!==t&&unsupported$1("bit depth",r)}return t}const TIFFDecoder$1=tiffDecoder;var decode$2=function(e,r){return new TIFFDecoder$1(e,r).decode(r)};src$3.decode=decode$2;const IOBuffer=IOBuffer_1,tiff=src$3;function decode$1(t){const e=new IOBuffer(t),r={};if(e.setBigEndian(),e.readUint16()!==65496)throw new Error("SOI marker not found. Not a valid JPEG file");if(e.readUint16()===65505){e.readUint16();const _e=e.readBytes(6);if(_e[0]===69&&_e[1]===120&&_e[2]===105&&_e[3]===102&&_e[4]===0&&_e[5]===0){const Ae=tiff.decode(e,{onlyFirst:!0,ignoreImageData:!0,offset:e.offset});r.exif=Ae}}return r}var decode_1=decode$1,decode=decode_1,imageType$2={exports:{}},fileType$1={exports:{}};(function(module){const toBytes=t=>[...t].map(e=>e.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(t,e=0){let r=t[e],xe=1,Se=0;for(;++Se<8;)xe*=256,r+=t[e+Se]*xe;return r}const fileType=t=>{if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof t}\``);const e=t instanceof Uint8Array?t:new Uint8Array(t);if(!(e&&e.length>1))return null;const r=(Se,_e)=>{_e=Object.assign({offset:0},_e);for(let Ae=0;Ae<Se.length;Ae++)if(_e.mask){if(Se[Ae]!==(_e.mask[Ae]&e[Ae+_e.offset]))return!1}else if(Se[Ae]!==e[Ae+_e.offset])return!1;return!0},xe=(Se,_e)=>r(toBytes(Se),_e);if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(r([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((r([73,73,42,0])||r([77,77,0,42]))&&r([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r([73,73,42,0])||r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(r([80,75,3,4])){if(r([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(r(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(xe("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(xe("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(xe("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const Se=(Pe,Ee=0)=>Pe.findIndex((Oe,Me,De)=>Me>=Ee&&De[Me]===80&&De[Me+1]===75&&De[Me+2]===3&&De[Me+3]===4);let _e=0,Ae=!1,Ce=null;do{const Pe=_e+30;if(Ae||(Ae=r(oxmlContentTypes,{offset:Pe})||r(oxmlRels,{offset:Pe})),Ce||(xe("word/",{offset:Pe})?Ce={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:xe("ppt/",{offset:Pe})?Ce={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:xe("xl/",{offset:Pe})&&(Ce={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),Ae&&Ce)return Ce;_e=Se(e,Pe)}while(_e>=0);if(Ce)return Ce}if(r([80,75])&&(e[2]===3||e[2]===5||e[2]===7)&&(e[3]===4||e[3]===6||e[3]===8))return{ext:"zip",mime:"application/zip"};if(r([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(r([82,97,114,33,26,7])&&(e[6]===0||e[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([51,103,112,53])||r([0,0,0])&&r([102,116,121,112],{offset:4})&&(r([109,112,52,49],{offset:8})||r([109,112,52,50],{offset:8})||r([105,115,111,109],{offset:8})||r([105,115,111,50],{offset:8})||r([109,109,112,52],{offset:8})||r([77,52,86],{offset:8})||r([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(r([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(r([26,69,223,163])){const Se=e.subarray(4,4100),_e=Se.findIndex((Ae,Ce,Pe)=>Pe[Ce]===66&&Pe[Ce+1]===130);if(_e!==-1){const Ae=_e+3,Ce=Pe=>[...Pe].every((Ee,Oe)=>Se[Ae+Oe]===Ee.charCodeAt(0));if(Ce("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(Ce("webm"))return{ext:"webm",mime:"video/webm"}}}if(r([0,0,0,20,102,116,121,112,113,116,32,32])||r([102,114,101,101],{offset:4})||r([102,116,121,112,113,116,32,32],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(r([48,38,178,117,142,102,207,17,166,217])){let Se=30;do{const _e=readUInt64LE(e,Se+16);if(r([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:Se})){if(r([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:Se+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(r([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:Se+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}Se+=_e}while(Se+24<=e.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(r([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let Se=0;Se<2&&Se<e.length-16;Se++){if(r([73,68,51],{offset:Se})||r([255,226],{offset:Se,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([255,228],{offset:Se,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,248],{offset:Se,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,240],{offset:Se,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(r([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(r([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(r([79,103,103,83]))return r([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:r([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:r([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:r([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:r([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(r([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(r([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(r([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(r([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(r([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((e[0]===67||e[0]===70)&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([119,79,70,70])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(r([119,79,70,50])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(r([37,33]))return{ext:"ps",mime:"application/postscript"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(r([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(r([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(r([77,83,67,70])||r([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(r([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(r([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(r([0,0,0,12,106,80,32,32,13,10,135,10])){if(r([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(r([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(r([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(r([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(r([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(xe("<?xml "))return{ext:"xml",mime:"application/xml"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(r([102,116,121,112],{offset:4})){if(r([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(r([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(r([104,101,105,99],{offset:8})||r([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(r([104,101,118,99],{offset:8})||r([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return r([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:r([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:r([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:r([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:r([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:r([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:r([212,195,178,161])||r([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const t=new stream.PassThrough,e=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{t.fileType=fileType(e)}catch(r){reject(r)}readableStream.unshift(e),stream.pipeline?resolve(stream.pipeline(readableStream,t,()=>{})):resolve(readableStream.pipe(t))})})})(fileType$1);var fileTypeExports=fileType$1.exports;const fileType=fileTypeExports,imageExts=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),imageType=t=>{const e=fileType(t);return imageExts.has(e&&e.ext)?e:null};imageType$2.exports=imageType;imageType$2.exports.default=imageType;Object.defineProperty(imageType,"minimumBytes",{value:fileType.minimumBytes});var imageTypeExports=imageType$2.exports;const imageType$1=getDefaultExportFromCjs$1(imageTypeExports);function guessStripByteCounts(t){if(t.compression!==1)throw new Error("missing mandatory StripByteCounts field in compressed image");const e=t.rowsPerStrip*t.width*t.samplesPerPixel*(t.bitsPerSample/8);return new Array(t.stripOffsets.length).fill(e)}function applyHorizontalDifferencing8Bit(t,e,r){let xe=0;for(;xe<t.length;){for(let Se=r;Se<e*r;Se+=r)for(let _e=0;_e<r;_e++)t[xe+Se+_e]=t[xe+Se+_e]+t[xe+Se-(r-_e)]&255;xe+=e*r}}function applyHorizontalDifferencing16Bit(t,e,r){let xe=0;for(;xe<t.length;){for(let Se=r;Se<e*r;Se+=r)for(let _e=0;_e<r;_e++)t[xe+Se+_e]=t[xe+Se+_e]+t[xe+Se-(r-_e)]&65535;xe+=e*r}}const tagsById$2={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$2={};for(let t in tagsById$2)tagsByName$2[tagsById$2[t]]=Number(t);const exif=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$2,tagsByName:tagsByName$2},Symbol.toStringTag,{value:"Module"})),tagsById$1={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$1={};for(let t in tagsById$1)tagsByName$1[tagsById$1[t]]=Number(t);const gps=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$1,tagsByName:tagsByName$1},Symbol.toStringTag,{value:"Module"})),tagsById={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName={};for(let t in tagsById)tagsByName[tagsById[t]]=Number(t);const standard=Object.freeze(Object.defineProperty({__proto__:null,tagsById,tagsByName},Symbol.toStringTag,{value:"Module"})),tags={standard,exif,gps};class IFD{constructor(e){if(!e)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=e,this._hasMap=!1,this._map={}}get(e){if(typeof e=="number")return this.fields.get(e);if(typeof e=="string")return this.fields.get(tags[this.kind].tagsByName[e]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const e=tags[this.kind].tagsById;for(let r of this.fields.keys())e[r]&&(this._map[e[r]]=this.fields.get(r));this._hasMap=!0}return this._map}}let types=new Map([[1,[1,readByte]],[2,[1,readASCII]],[3,[2,readShort]],[4,[4,readLong]],[5,[8,readRational]],[6,[1,readSByte]],[7,[1,readByte]],[8,[2,readSShort]],[9,[4,readSLong]],[10,[8,readSRational]],[11,[4,readFloat]],[12,[8,readDouble]]]);function getByteLength(t,e){const r=types.get(t);if(!r)throw new Error(`type not found: ${t}`);return r[0]*e}function readData(t,e,r){const xe=types.get(e);if(!xe)throw new Error(`type not found: ${e}`);return xe[1](t,r)}function readByte(t,e){if(e===1)return t.readUint8();let r=new Uint8Array(e);for(let xe=0;xe<e;xe++)r[xe]=t.readUint8();return r}function readASCII(t,e){let r=[],xe="";for(let Se=0;Se<e;Se++){let _e=String.fromCharCode(t.readUint8());_e==="\0"?(r.push(xe),xe=""):xe+=_e}return r.length===1?r[0]:r}function readShort(t,e){if(e===1)return t.readUint16();let r=new Uint16Array(e);for(let xe=0;xe<e;xe++)r[xe]=t.readUint16();return r}function readLong(t,e){if(e===1)return t.readUint32();let r=new Uint32Array(e);for(let xe=0;xe<e;xe++)r[xe]=t.readUint32();return r}function readRational(t,e){if(e===1)return t.readUint32()/t.readUint32();let r=new Array(e);for(let xe=0;xe<e;xe++)r[xe]=t.readUint32()/t.readUint32();return r}function readSByte(t,e){if(e===1)return t.readInt8();let r=new Int8Array(e);for(let xe=0;xe<e;xe++)r[xe]=t.readInt8();return r}function readSShort(t,e){if(e===1)return t.readInt16();let r=new Int16Array(e);for(let xe=0;xe<e;xe++)r[xe]=t.readInt16();return r}function readSLong(t,e){if(e===1)return t.readInt32();let r=new Int32Array(e);for(let xe=0;xe<e;xe++)r[xe]=t.readInt32();return r}function readSRational(t,e){if(e===1)return t.readInt32()/t.readInt32();let r=new Array(e);for(let xe=0;xe<e;xe++)r[xe]=t.readInt32()/t.readInt32();return r}function readFloat(t,e){if(e===1)return t.readFloat32();let r=new Float32Array(e);for(let xe=0;xe<e;xe++)r[xe]=t.readFloat32();return r}function readDouble(t,e){if(e===1)return t.readFloat64();let r=new Float64Array(e);for(let xe=0;xe<e;xe++)r[xe]=t.readFloat64();return r}const CLEAR_CODE=256,EOI_CODE=257,TABLE_START=258,MIN_BIT_LENGTH=9;let stringTable=[];function initializeStringTable(){if(stringTable.length===0){for(let e=0;e<256;e++)stringTable.push([e]);const t=[];for(let e=256;e<4096;e++)stringTable.push(t)}}const andTable=[511,1023,2047,4095],bitJumps=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095];class LzwDecoder{constructor(e){this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH,this.stripArray=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),this.outData=new IOBuffer$4(e.byteLength),this.initializeTable()}decode(){let e=0,r=0;for(;(e=this.getNextCode())!==EOI_CODE;)if(e===CLEAR_CODE){if(this.initializeTable(),e=this.getNextCode(),e===EOI_CODE)break;this.writeString(this.stringFromCode(e)),r=e}else if(this.isInTable(e))this.writeString(this.stringFromCode(e)),this.addStringToTable(this.stringFromCode(r).concat(this.stringFromCode(e)[0])),r=e;else{const Se=this.stringFromCode(r).concat(this.stringFromCode(r)[0]);this.writeString(Se),this.addStringToTable(Se),r=e}const xe=this.outData.toArray();return new DataView(xe.buffer,xe.byteOffset,xe.byteLength)}initializeTable(){initializeStringTable(),this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH}writeString(e){this.outData.writeBytes(e)}stringFromCode(e){return stringTable[e]}isInTable(e){return e<this.tableLength}addStringToTable(e){if(stringTable[this.tableLength++]=e,stringTable.length>4096)throw stringTable=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===bitJumps[this.currentBitLength]&&this.currentBitLength++}getNextCode(){this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8);const e=this.nextData>>this.nextBits-this.currentBitLength&andTable[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:e}}function decompressLzw(t){return new LzwDecoder(t).decode()}const dateTimeRegex=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class TiffIfd extends IFD{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){let e=new Date,r=dateTimeRegex.exec(this.dateTime);if(r===null)throw new Error(`invalid dateTime: ${this.dateTime}`);return e.setFullYear(Number(r[1]),Number(r[2])-1,Number(r[3])),e.setHours(Number(r[4]),Number(r[5]),Number(r[6])),e}get newSubfileType(){return this.get("NewSubfileType")}get imageWidth(){return this.get("ImageWidth")}get imageLength(){return this.get("ImageLength")}get bitsPerSample(){const e=this.get("BitsPerSample");return e&&typeof e!="number"?e[0]:e}get alpha(){const e=this.extraSamples;return e?e[0]!==0:!1}get associatedAlpha(){const e=this.extraSamples;return e?e[0]===1:!1}get extraSamples(){return alwaysArray(this.get("ExtraSamples"))}get compression(){return this.get("Compression")||1}get type(){return this.get("PhotometricInterpretation")}get fillOrder(){return this.get("FillOrder")||1}get documentName(){return this.get("DocumentName")}get imageDescription(){return this.get("ImageDescription")}get stripOffsets(){return alwaysArray(this.get("StripOffsets"))}get orientation(){return this.get("Orientation")}get samplesPerPixel(){return this.get("SamplesPerPixel")||1}get rowsPerStrip(){return this.get("RowsPerStrip")}get stripByteCounts(){return alwaysArray(this.get("StripByteCounts"))}get minSampleValue(){return this.get("MinSampleValue")||0}get maxSampleValue(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get("XResolution")}get yResolution(){return this.get("YResolution")}get planarConfiguration(){return this.get("PlanarConfiguration")||1}get resolutionUnit(){return this.get("ResolutionUnit")||2}get dateTime(){return this.get("DateTime")}get predictor(){return this.get("Predictor")||1}get sampleFormat(){return this.get("SampleFormat")||1}get sMinSampleValue(){return this.get("SMinSampleValue")||this.minSampleValue}get sMaxSampleValue(){return this.get("SMaxSampleValue")||this.maxSampleValue}get palette(){const e=2**this.bitsPerSample,r=this.get("ColorMap");if(!r)return;if(r.length!==3*e)throw new Error(`ColorMap size must be ${e}`);const xe=[];for(let Se=0;Se<e;Se++)xe.push([r[Se],r[Se+e],r[Se+2*e]]);return xe}}function alwaysArray(t){return typeof t=="number"?[t]:t}function decompressZlib(t){const e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),r=inflate_1(e);return new DataView(r.buffer,r.byteOffset,r.byteLength)}const defaultOptions$d={ignoreImageData:!1,onlyFirst:!1};class TIFFDecoder extends IOBuffer$4{constructor(e){super(e),this._nextIFD=0}get isMultiPage(){let e=0;for(this.decodeHeader();this._nextIFD;)if(e++,this.decodeIFD({ignoreImageData:!0},!0),e===2)return!0;if(e===1)return!1;throw unsupported("ifdCount",e)}get pageCount(){let e=0;for(this.decodeHeader();this._nextIFD;)e++,this.decodeIFD({ignoreImageData:!0},!0);if(e>0)return e;throw unsupported("ifdCount",e)}decode(e={}){e=Object.assign({},defaultOptions$d,e);const r=[];for(this.decodeHeader();this._nextIFD;)if(r.push(this.decodeIFD(e,!0)),e.onlyFirst)return[r[0]];return r}decodeHeader(){const e=this.readUint16();if(e===18761)this.setLittleEndian();else if(e===19789)this.setBigEndian();else throw new Error(`invalid byte order: 0x${e.toString(16)}`);if(this.readUint16()!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(e,r){this.seek(this._nextIFD);let xe;if(r)xe=new TiffIfd;else{if(!e.kind)throw new Error("kind is missing");xe=new IFD(e.kind)}const Se=this.readUint16();for(let _e=0;_e<Se;_e++)this.decodeIFDEntry(xe);if(!e.ignoreImageData){if(!(xe instanceof TiffIfd))throw new Error("must be a tiff ifd");this.decodeImageData(xe)}return this._nextIFD=this.readUint32(),xe}decodeIFDEntry(e){const r=this.offset,xe=this.readUint16(),Se=this.readUint16(),_e=this.readUint32();if(Se<1||Se>12){this.skip(4);return}getByteLength(Se,_e)>4&&this.seek(this.readUint32());const Ce=readData(this,Se,_e);if(e.fields.set(xe,Ce),xe===34665||xe===34853){let Pe=this.offset,Ee="exif";xe===34665?Ee="exif":xe===34853&&(Ee="gps"),this._nextIFD=Ce,e[Ee]=this.decodeIFD({kind:Ee,ignoreImageData:!0},!1),this.offset=Pe}this.seek(r),this.skip(12)}decodeImageData(e){const r=e.orientation;if(r&&r!==1)throw unsupported("orientation",r);switch(e.type){case 0:case 1:case 2:case 3:this.readStripData(e);break;default:throw unsupported("image type",e.type)}if(this.applyPredictor(e),this.convertAlpha(e),e.type===0){const xe=e.bitsPerSample,Se=Math.pow(2,xe)-1;for(let _e=0;_e<e.data.length;_e++)e.data[_e]=Se-e.data[_e]}}readStripData(e){const r=e.width,xe=e.height,Se=e.bitsPerSample,_e=e.sampleFormat,Ae=r*xe*e.samplesPerPixel,Ce=getDataArray(Ae,Se,_e),Ee=e.rowsPerStrip*r*e.samplesPerPixel,Oe=e.stripOffsets,Me=e.stripByteCounts||guessStripByteCounts(e);let De=Ae,Te=0;for(let ke=0;ke<Oe.length;ke++){let Fe=new DataView(this.buffer,this.byteOffset+Oe[ke],Me[ke]),$e=De>Ee?Ee:De;De-=$e;let Be=Fe;switch(e.compression){case 1:break;case 5:{Be=decompressLzw(Fe);break}case 8:{Be=decompressZlib(Fe);break}case 2:throw unsupported("Compression","CCITT Group 3");case 32773:throw unsupported("Compression","PackBits");default:throw unsupported("Compression",e.compression)}Te=this.fillUncompressed(Se,_e,Ce,Be,Te,$e)}e.data=Ce}fillUncompressed(e,r,xe,Se,_e,Ae){if(e===8)return fill8bit(xe,Se,_e,Ae);if(e===16)return fill16bit(xe,Se,_e,Ae,this.isLittleEndian());if(e===32&&r===3)return fillFloat32(xe,Se,_e,Ae,this.isLittleEndian());throw unsupported("bitDepth",e)}applyPredictor(e){const r=e.bitsPerSample;switch(e.predictor){case 1:break;case 2:{if(r===8)applyHorizontalDifferencing8Bit(e.data,e.width,e.components);else if(r===16)applyHorizontalDifferencing16Bit(e.data,e.width,e.components);else throw new Error(`Horizontal differencing is only supported for images with a bit depth of ${r}`);break}default:throw new Error(`invalid predictor: ${e.predictor}`)}}convertAlpha(e){if(e.alpha&&e.associatedAlpha){const{data:r,components:xe,maxSampleValue:Se}=e;for(let _e=0;_e<r.length;_e+=xe){const Ae=r[_e+xe-1];for(let Ce=0;Ce<xe-1;Ce++)r[_e+Ce]=Math.round(r[_e+Ce]*Se/Ae)}}}}function getDataArray(t,e,r){if(e===8)return new Uint8Array(t);if(e===16)return new Uint16Array(t);if(e===32&&r===3)return new Float32Array(t);throw unsupported("bit depth / sample format",`${e} / ${r}`)}function fill8bit(t,e,r,xe){for(let Se=0;Se<xe;Se++)t[r++]=e.getUint8(Se);return r}function fill16bit(t,e,r,xe,Se){for(let _e=0;_e<xe*2;_e+=2)t[r++]=e.getUint16(_e,Se);return r}function fillFloat32(t,e,r,xe,Se){for(let _e=0;_e<xe*4;_e+=4)t[r++]=e.getFloat32(_e,Se);return r}function unsupported(t,e){return new Error(`Unsupported ${t}: ${e}`)}function decodeTIFF(t,e){return new TIFFDecoder(t).decode(e)}function matchAndCrop(t={}){let{algorithm:e="matchToPrevious",ignoreBorder:r=[0,0]}=t;this.checkProcessable("matchAndCrop",{bitDepth:[8,16]});let xe=e==="matchToPrevious",Se=this[0],_e=[];_e[0]={position:[0,0],image:this[0]};let Ae=[0,0];for(let De=1;De<this.length;De++){let Te=Se.getBestMatch(this[De],{border:r});_e[De]={position:[Te[0]+Ae[0],Te[1]+Ae[1]],image:this[De]},xe&&(Ae[0]+=Te[0],Ae[1]+=Te[1],Se=this[De])}let Ce=0,Pe=0,Ee=0,Oe=0;for(let De=0;De<_e.length;De++){let Te=_e[De];Te.position[0]>Ce&&(Ce=Te.position[0]),Te.position[0]<Pe&&(Pe=Te.position[0]),Te.position[1]>Ee&&(Ee=Te.position[1]),Te.position[1]<Oe&&(Oe=Te.position[1])}Pe=0-Pe,Oe=0-Oe;for(let De=0;De<_e.length;De++){let Te=_e[De];Te.crop=Te.image.crop({x:Ce-Te.position[0],y:Ee-Te.position[1],width:Se.width-Pe-Ce,height:Se.height-Oe-Ee})}let Me=[];for(let De=0;De<_e.length;De++)Me[De]=_e[De].crop;return new Stack(Me)}function min$2(){this.checkProcessable("min",{bitDepth:[8,16]});let t=this[0].min;for(let e=1;e<this.length;e++)for(let r=0;r<t.length;r++)t[r]=Math.min(t[r],this[e].min[r]);return t}function max$3(){this.checkProcessable("min",{bitDepth:[8,16]});let t=this[0].max;for(let e=1;e<this.length;e++)for(let r=0;r<t.length;r++)t[r]=Math.max(t[r],this[e].max[r]);return t}function median$2(t){let e=t.reduce((Ae,Ce)=>Ae+Ce);if(e===0)throw new Error("unreachable");let r=0,xe=0,Se=e/2,_e;for(;;){if(t[r]>0){if(_e!==void 0)return(_e+r)/2;if(xe+=t[r],xe>Se)return r;xe===Se&&(_e=r)}r++}}function mean$2(t){let e=0,r=0;for(let xe=0;xe<t.length;xe++)e+=t[xe],r+=t[xe]*xe;return e===0?0:r/e}function median$1(){this.checkProcessable("median",{bitDepth:[8,16]});let t=this.getHistograms({maxSlots:this[0].maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let xe=t[r];e[r]=median$2(xe)}return e}function histogram(t){this.checkProcessable("min",{bitDepth:[8,16]});let e=this[0].getHistogram(t);for(let r=1;r<this.length;r++){let xe=this[r].getHistogram(t);for(let Se=0;Se<e.length;Se++)e[Se]+=xe[Se]}return e}function histograms(t){this.checkProcessable("min",{bitDepth:[8,16]});let e=this[0].getHistograms(t),r=e[0].length;for(let xe=1;xe<this.length;xe++){let Se=this[xe].getHistograms(t);for(let _e=0;_e<e.length;_e++)for(let Ae=0;Ae<r;Ae++)e[_e][Ae]+=Se[_e][Ae]}return e}function averageImage(){this.checkProcessable("averageImage",{bitDepth:[8,16]});let t=new Uint32Array(this[0].data.length);for(let xe=0;xe<this.length;xe++){let Se=this[xe];for(let _e=0;_e<this[0].data.length;_e++)t[_e]+=Se.data[_e]}let e=Image$1.createFrom(this[0]),r=e.data;for(let xe=0;xe<this[0].data.length;xe++)r[xe]=t[xe]/this.length;return e}function maxImage(){this.checkProcessable("max",{bitDepth:[8,16]});let t=Image$1.createFrom(this[0]);t.data.fill(0);for(const e of this)for(let r=0;r<t.data.length;r++)t.data[r]=Math.max(e.data[r],t.data[r]);return t}function minImage(){this.checkProcessable("max",{bitDepth:[8,16]});let t=Image$1.createFrom(this[0]);t.data.fill(t.maxValue);for(const e of this)for(let r=0;r<t.data.length;r++)t.data[r]=Math.min(e.data[r],t.data[r]);return t}function extend$2(t){t.extendMethod("matchAndCrop",matchAndCrop),t.extendMethod("getMin",min$2),t.extendMethod("getMax",max$3),t.extendMethod("getMedian",median$1),t.extendMethod("getHistogram",histogram),t.extendMethod("getHistograms",histograms),t.extendMethod("getAverage",averageImage),t.extendMethod("getAverageImage",averageImage),t.extendMethod("getMaxImage",maxImage),t.extendMethod("getMinImage",minImage)}let computedPropertyDescriptor={configurable:!0,enumerable:!1,get:void 0};class Stack extends Array{constructor(e){if(Array.isArray(e)){super(e.length);for(let r=0;r<e.length;r++)this[r]=e[r]}else typeof e=="number"?super(e):super();this.computed=null}static load(e){return Promise.all(e.map(Image$1.load)).then(r=>new Stack(r))}static extendMethod(e,r,xe={}){let{inPlace:Se=!1,returnThis:_e=!0,partialArgs:Ae=[]}=xe;return Se?Stack.prototype[e]=function(...Ce){this.computed=null;let Pe=r.apply(this,[...Ae,...Ce]);return _e?this:Pe}:Stack.prototype[e]=function(...Ce){return r.apply(this,[...Ae,...Ce])},Stack}static extendProperty(e,r,xe={}){let{partialArgs:Se=[]}=xe;return computedPropertyDescriptor.get=function(){if(this.computed===null)this.computed={};else if(hasOwn(e,this.computed))return this.computed[e];let _e=r.apply(this,Se);return this.computed[e]=_e,_e},Object.defineProperty(Stack.prototype,e,computedPropertyDescriptor),Stack}checkProcessable(e,r={}){if(typeof e!="string")throw new TypeError("checkProcessable requires as first parameter the processName (a string)");if(this.size===0)throw new TypeError(`The process: ${e} can not be applied on an empty stack`);this[0].checkProcessable(e,r);for(let xe=1;xe<this.length;xe++){if((r.sameSize===void 0||r.sameSize)&&this[0].width!==this[xe].width)throw new TypeError(`The process: ${e} can not be applied if width is not identical in all images`);if((r.sameSize===void 0||r.sameSize)&&this[0].height!==this[xe].height)throw new TypeError(`The process: ${e} can not be applied if height is not identical in all images`);if((r.sameAlpha===void 0||r.sameAlpha)&&this[0].alpha!==this[xe].alpha)throw new TypeError(`The process: ${e} can not be applied if alpha is not identical in all images`);if((r.sameBitDepth===void 0||r.sameBitDepth)&&this[0].bitDepth!==this[xe].bitDepth)throw new TypeError(`The process: ${e} can not be applied if bitDepth is not identical in all images`);if((r.sameColorModel===void 0||r.sameColorModel)&&this[0].colorModel!==this[xe].colorModel)throw new TypeError(`The process: ${e} can not be applied if colorModel is not identical in all images`);if((r.sameNumberChannels===void 0||r.sameNumberChannels)&&this[0].channels!==this[xe].channels)throw new TypeError(`The process: ${e} can not be applied if channels is not identical in all images`)}}}Array[Symbol.species]||(Stack.prototype.map=function(t,e){if(typeof t!="function")throw new TypeError(`${t} is not a function`);let r=new Stack(this.length);for(let xe=0;xe<this.length;xe++)r[xe]=t.call(e,this[xe],xe,this);return r});extend$2(Stack);const isDataURL=/^data:[a-z]+\/(?:[a-z]+);base64,/;function load(t,e){if(typeof t=="string")return loadURL(t,e);if(t instanceof ArrayBuffer)return Promise.resolve(loadBinary(new Uint8Array(t),void 0,e&&e.ignorePalette));if(t.buffer)return Promise.resolve(loadBinary(t,void 0,e&&e.ignorePalette));throw new Error('argument to "load" must be a string or buffer.')}function loadBinary(t,e,r){const xe=imageType$1(t);if(xe)switch(xe.mime){case"image/png":return loadPNG(t);case"image/jpeg":return loadJPEG(t);case"image/tiff":return loadTIFF(t,r);default:return loadGeneric(Se(xe.mime))}return loadGeneric(Se("application/octet-stream"));function Se(_e){return e||toBase64URL(t,_e)}}function loadURL(t,e){const r=t.slice(0,64).match(isDataURL);let xe;return r!==null?xe=Promise.resolve(decode$3(t.slice(r[0].length))):xe=fetchBinary(t,e),xe.then(Se=>{const _e=new Uint8Array(Se);return loadBinary(_e,r?t:void 0,e&&e.ignorePalette)})}function loadPNG(t){const e=decodePng(t);let r=e.channels,xe,Se=0;return r===2||r===4?(xe=r-1,Se=1):xe=r,e.palette?loadPNGFromPalette(e):new Image$1(e.width,e.height,e.data,{components:xe,alpha:Se,bitDepth:e.depth})}function loadPNGFromPalette(t){const e=t.width*t.height,r=t.palette[0].length,xe=new Uint8Array(e*r),Se=8/t.depth,_e=t.depth<8?Se:1,Ae=parseInt("1".repeat(t.depth),2),Ce=r===4;let Pe=0;for(let Ee=0;Ee<e;Ee++){const Oe=Math.floor(Ee/_e);let Me=t.data[Oe];t.depth<8&&(Me=Me>>>t.depth*(Se-1-Ee%Se)&Ae);const De=t.palette[Me];xe[Pe++]=De[0],xe[Pe++]=De[1],xe[Pe++]=De[2],Ce&&(xe[Pe++]=De[3])}return new Image$1(t.width,t.height,xe,{components:3,alpha:Ce,bitDepth:8})}function loadJPEG(t){const e=decode(t);let r;e.exif&&(r=getMetadata(e.exif));const xe=jpegJs.decode(t,{useTArray:!0,maxMemoryUsageInMB:1024});let Se=new Image$1(xe.width,xe.height,xe.data,{meta:r});if(r&&r.tiff.tags.Orientation){const _e=r.tiff.tags.Orientation;_e>2&&(Se=Se.rotate({3:180,4:180,5:90,6:90,7:270,8:270}[_e])),[2,4,5,7].includes(_e)&&(Se=Se.flipX())}return Se}function loadTIFF(t,e){let r=decodeTIFF(t);return r.length===1?getImageFromIFD(r[0],e):new Stack(r.map(function(xe){return getImageFromIFD(xe,e)}))}function getMetadata(t){const e={tiff:{fields:t.fields,tags:t.map}};return t.exif&&(e.exif=t.exif),t.gps&&(e.gps=t.gps),e}function getImageFromIFD(t,e){if(!e&&t.type===3){const r=new Uint16Array(3*t.width*t.height),xe=t.palette;let Se=0;for(let _e=0;_e<t.data.length;_e++){const Ae=t.data[_e],Ce=xe[Ae];r[Se++]=Ce[0],r[Se++]=Ce[1],r[Se++]=Ce[2]}return new Image$1(t.width,t.height,r,{components:3,alpha:t.alpha,colorModel:RGB$1,bitDepth:16,meta:getMetadata(t)})}else return new Image$1(t.width,t.height,t.data,{components:t.type===2?3:1,alpha:t.alpha,colorModel:t.type===2?RGB$1:GREY$1,bitDepth:t.bitsPerSample.length?t.bitsPerSample[0]:t.bitsPerSample,meta:getMetadata(t)})}function loadGeneric(t,e){return e=e||{},new Promise(function(r,xe){let Se=new DOMImage;Se.onload=function(){let _e=Se.width,Ae=Se.height,Pe=createCanvas(_e,Ae).getContext("2d");Pe.drawImage(Se,0,0,_e,Ae);let Ee=Pe.getImageData(0,0,_e,Ae).data;r(new Image$1(_e,Ae,Ee,e))},Se.onerror=function(){xe(new Error(`Could not load ${t}`))},Se.src=t})}const valueMethods={getValueXY(t,e,r){return this.data[(e*this.width+t)*this.channels+r]},setValueXY(t,e,r,xe){return this.data[(e*this.width+t)*this.channels+r]=xe,this.computed=null,this},getValue(t,e){return this.data[t*this.channels+e]},setValue(t,e,r){return this.data[t*this.channels+e]=r,this.computed=null,this},getPixelXY(t,e){return this.getPixel(e*this.width+t)},setPixelXY(t,e,r){return this.setPixel(e*this.width+t,r)},getPixel(t){const e=new Array(this.channels),r=t*this.channels;for(let xe=0;xe<this.channels;xe++)e[xe]=this.data[r+xe];return e},setPixel(t,e){const r=t*this.channels;for(let xe=0;xe<e.length;xe++)this.data[r+xe]=e[xe];return this.computed=null,this}};function setValueMethods(t){for(const e in valueMethods)t.prototype[e]=valueMethods[e]}function getImageParameters(t){return{width:t.width,height:t.height,components:t.components,alpha:t.alpha,colorModel:t.colorModel,bitDepth:t.bitDepth}}function getOutputImage(t,e,r,xe={}){const{out:Se}=e;if(Se===void 0)return xe.copy?t.clone():Image$1.createFrom(t,r);{if(!Image$1.isImage(Se))throw new TypeError("out must be an Image object");const _e=Object.assign(getImageParameters(t),r);for(const Ae in _e)if(Se[Ae]!==_e[Ae])throw new RangeError(`cannot use out. Its ${Ae} must be "${_e[Ae]}" (found "${Se[Ae]}")`);return Se}}function getOutputImageOrInPlace(t,e,r){if(e.inPlace!==void 0&&typeof e.inPlace!="boolean")throw new TypeError("inPlace option must be a boolean");if(e.inPlace){if(e.out!==void 0)throw new TypeError("out option must not be set if inPlace option is true");return t}return getOutputImage(t,e,null,r)}function abs(t={}){this.checkProcessable("abs",{bitDepth:[32]});const e=getOutputImageOrInPlace(this,t);return absolute(this,e),e}function absolute(t,e){for(let r=0;r<t.data.length;r++)e.data[r]=Math.abs(t.data[r])}function copyAlphaChannel(t,e){if(t.alpha===1&&e.alpha===1)for(let r=0;r<t.size;r++)e.data[r*e.channels+e.components]=t.data[r*t.channels+t.components]}function invert(t={}){this.checkProcessable("invert",{bitDepth:[1,8,16]});const e=getOutputImageOrInPlace(this,t);return this.bitDepth===1?invertBinary(this,e):(invertColor(this,e),this!==e&&copyAlphaChannel(this,e)),e}function invertBinary(t,e){for(let r=0;r<t.data.length;r++)e.data[r]=~t.data[r]}function invertColor(t,e){for(let r=0;r<t.data.length;r+=t.channels)for(let xe=0;xe<t.components;xe++)e.data[r+xe]=t.maxValue-t.data[r+xe]}function flipX(){this.checkProcessable("flipX",{bitDepth:[8,16]});for(let t=0;t<this.height;t++){let e=t*this.width*this.channels;for(let r=0;r<Math.floor(this.width/2);r++){let xe=r*this.channels+e,Se=(this.width-r-1)*this.channels+e;for(let _e=0;_e<this.channels;_e++){let Ae=this.data[xe+_e];this.data[xe+_e]=this.data[Se+_e],this.data[Se+_e]=Ae}}}return this}function flipY(){this.checkProcessable("flipY",{bitDepth:[8,16]});for(let t=0;t<Math.floor(this.height/2);t++)for(let e=0;e<this.width;e++){let r=e*this.channels+t*this.width*this.channels,xe=e*this.channels+(this.height-1-t)*this.channels*this.width;for(let Se=0;Se<this.channels;Se++){let _e=this.data[r+Se];this.data[r+Se]=this.data[xe+Se],this.data[xe+Se]=_e}}return this}function blurFilter(t={}){const{radius:e=1}=t;if(e<1)throw new Error("radius must be greater than 1");const r=2*e+1,xe=new Array(r);for(let Se=0;Se<r;Se++){xe[Se]=new Array(r);for(let _e=0;_e<r;_e++)xe[Se][_e]=1/(r*r)}return this.convolution(xe)}var medianQuickselect_min={exports:{}};(function(t){(function(){function e(Se){for(var _e=0,Ae=Se.length-1,Ce=void 0,Pe=void 0,Ee=void 0,Oe=xe(_e,Ae);;){if(Ae<=_e)return Se[Oe];if(Ae==_e+1)return Se[_e]>Se[Ae]&&r(Se,_e,Ae),Se[Oe];for(Ce=xe(_e,Ae),Se[Ce]>Se[Ae]&&r(Se,Ce,Ae),Se[_e]>Se[Ae]&&r(Se,_e,Ae),Se[Ce]>Se[_e]&&r(Se,Ce,_e),r(Se,Ce,_e+1),Pe=_e+1,Ee=Ae;;){do Pe++;while(Se[_e]>Se[Pe]);do Ee--;while(Se[Ee]>Se[_e]);if(Ee<Pe)break;r(Se,Pe,Ee)}r(Se,_e,Ee),Ee<=Oe&&(_e=Pe),Ee>=Oe&&(Ae=Ee-1)}}var r=function(_e,Ae,Ce){var Pe;return Pe=[_e[Ce],_e[Ae]],_e[Ae]=Pe[0],_e[Ce]=Pe[1],Pe},xe=function(_e,Ae){return~~((_e+Ae)/2)};t.exports?t.exports=e:window.median=e})()})(medianQuickselect_min);var medianQuickselect_minExports=medianQuickselect_min.exports;const quickSelectMedian=getDefaultExportFromCjs$1(medianQuickselect_minExports);function validateArrayOfChannels(t,e={}){let{channels:r,allowAlpha:xe,defaultAlpha:Se}=e;return typeof xe!="boolean"&&(xe=!0),typeof r>"u"?allChannels(t,Se):validateChannels(t,r,xe)}function allChannels(t,e){let r=e?t.channels:t.components,xe=new Array(r);for(let Se=0;Se<r;Se++)xe[Se]=Se;return xe}function validateChannels(t,e,r){Array.isArray(e)||(e=[e]);for(let xe=0;xe<e.length;xe++)e[xe]=validateChannel(t,e[xe],r);return e}function validateChannel(t,e,r=!0){if(e===void 0)throw new RangeError(`validateChannel : the channel has to be >=0 and <${t.channels}`);if(typeof e=="string"){switch(t.colorModel){case GREY$1:break;case RGB$1:if("rgb".includes(e))switch(e){case"r":e=0;break;case"g":e=1;break;case"b":e=2;break}break;case HSL:if("hsl".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"l":e=2;break}break;case HSV:if("hsv".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"v":e=2;break}break;case CMYK$1:if("cmyk".includes(e))switch(e){case"c":e=0;break;case"m":e=1;break;case"y":e=2;break;case"k":e=3;break}break;default:throw new Error(`Unexpected color model: ${t.colorModel}`)}if(e==="a"){if(!t.alpha)throw new Error("validateChannel : the image does not contain alpha channel");e=t.components}if(typeof e=="string")throw new Error(`validateChannel : undefined channel: ${e}`)}if(e>=t.channels)throw new RangeError(`validateChannel : the channel has to be >=0 and <${t.channels}`);if(!r&&e>=t.components)throw new RangeError("validateChannel : alpha channel may not be selected");return e}function medianFilter(t={}){let{radius:e=1,border:r="copy",channels:xe}=t;if(this.checkProcessable("medianFilter",{bitDepth:[8,16]}),e<1)throw new Error("radius must be greater than 0");xe=validateArrayOfChannels(this,xe);let Se=e,_e=e,Ae=Image$1.createFrom(this),Ce=(Se*2+1)*(_e*2+1),Pe=new Array(Ce);for(let Ee=0;Ee<xe.length;Ee++){let Oe=xe[Ee];for(let Me=_e;Me<this.height-_e;Me++)for(let De=Se;De<this.width-Se;De++){let Te=0;for(let Fe=-_e;Fe<=_e;Fe++)for(let $e=-Se;$e<=Se;$e++){let Be=((Me+Fe)*this.width+De+$e)*this.channels+Oe;Pe[Te++]=this.data[Be]}let ke=(Me*this.width+De)*this.channels+Oe;Ae.data[ke]=quickSelectMedian(Pe)}}if(this.alpha&&!xe.includes(this.channels))for(let Ee=this.components;Ee<this.data.length;Ee=Ee+this.channels)Ae.data[Ee]=this.data[Ee];return Ae.setBorder({size:[Se,_e],algorithm:r}),Ae}function gaussianFilter(t={}){let{radius:e=1,sigma:r,channels:xe,border:Se="copy"}=t;this.checkProcessable("gaussian",{bitDepth:[8,16]});const _e=getKernel(e,r);return this.convolution([_e,_e],{border:Se,channels:xe,algorithm:"separable"})}function getKernel(t,e){const r=t*2+1,xe=new Array(r),Se=e||((r-1)*.5-1)*.3+.8,_e=-.5/(Se*Se);let Ae=0;for(let Ce=0;Ce<r;Ce++){const Pe=Ce-t,Ee=Math.exp(_e*Pe*Pe);xe[Ce]=Ee,Ae+=Ee}for(let Ce=0;Ce<r;Ce++)xe[Ce]/=Ae;return xe}const SOBEL_X=[[-1,0,1],[-2,0,2],[-1,0,1]],SOBEL_Y=[[-1,-2,-1],[0,0,0],[1,2,1]],SCHARR_X=[[3,0,-3],[10,0,-10],[3,0,-3]],SCHARR_Y=[[3,10,3],[0,0,0],[-3,-10,-3]];var src$2={},fftlib={};(function(t){(function(){var e;e=t;var r={release:"0.3.0",date:"2013-03"};e.toString=function(){return"version "+r.release+", released "+r.date};for(var xe=0,Se=null,_e=null,Ae={init:function(Ee){if(Ee!==0&&!(Ee&Ee-1))xe=Ee,Ae._initArray(),Ae._makeBitReversalTable(),Ae._makeCosSinTable();else throw new Error("init: radix-2 required")},fft1d:function(Ee,Oe){Ae.fft(Ee,Oe,1)},ifft1d:function(Ee,Oe){var Me=1/xe;Ae.fft(Ee,Oe,-1);for(var De=0;De<xe;De++)Ee[De]*=Me,Oe[De]*=Me},bt1d:function(Ee,Oe){Ae.fft(Ee,Oe,-1)},fft2d:function(Ee,Oe){for(var Me=[],De=[],Te=0,ke=0;ke<xe;ke++){Te=ke*xe;for(var Fe=0;Fe<xe;Fe++)Me[Fe]=Ee[Fe+Te],De[Fe]=Oe[Fe+Te];Ae.fft1d(Me,De);for(var $e=0;$e<xe;$e++)Ee[$e+Te]=Me[$e],Oe[$e+Te]=De[$e]}for(var Be=0;Be<xe;Be++){for(var Ie=0;Ie<xe;Ie++)Te=Be+Ie*xe,Me[Ie]=Ee[Te],De[Ie]=Oe[Te];Ae.fft1d(Me,De);for(var Re=0;Re<xe;Re++)Te=Be+Re*xe,Ee[Te]=Me[Re],Oe[Te]=De[Re]}},ifft2d:function(Ee,Oe){for(var Me=[],De=[],Te=0,ke=0;ke<xe;ke++){Te=ke*xe;for(var Fe=0;Fe<xe;Fe++)Me[Fe]=Ee[Fe+Te],De[Fe]=Oe[Fe+Te];Ae.ifft1d(Me,De);for(var $e=0;$e<xe;$e++)Ee[$e+Te]=Me[$e],Oe[$e+Te]=De[$e]}for(var Be=0;Be<xe;Be++){for(var Ie=0;Ie<xe;Ie++)Te=Be+Ie*xe,Me[Ie]=Ee[Te],De[Ie]=Oe[Te];Ae.ifft1d(Me,De);for(var Re=0;Re<xe;Re++)Te=Be+Re*xe,Ee[Te]=Me[Re],Oe[Te]=De[Re]}},fft:function(Ee,Oe,Me){for(var De,Te,ke,Fe,$e,Be,Ie,Re,je,Ve=xe>>2,He=0;He<xe;He++)Fe=Se[He],He<Fe&&($e=Ee[He],Ee[He]=Ee[Fe],Ee[Fe]=$e,$e=Oe[He],Oe[He]=Oe[Fe],Oe[Fe]=$e);for(var ze=1;ze<xe;ze<<=1){Te=0,De=xe/(ze<<1);for(var Ue=0;Ue<ze;Ue++){Be=_e[Te+Ve],Ie=Me*_e[Te];for(var We=Ue;We<xe;We+=ze<<1)ke=We+ze,Re=Be*Ee[ke]+Ie*Oe[ke],je=Be*Oe[ke]-Ie*Ee[ke],Ee[ke]=Ee[We]-Re,Ee[We]+=Re,Oe[ke]=Oe[We]-je,Oe[We]+=je;Te+=De}}},_initArray:function(){typeof Uint32Array<"u"?Se=new Uint32Array(xe):Se=[],typeof Float64Array<"u"?_e=new Float64Array(xe*1.25):_e=[]},_paddingZero:function(){},_makeBitReversalTable:function(){var Ee=0,Oe=0,Me=0;for(Se[0]=0;++Ee<xe;){for(Me=xe>>1;Me<=Oe;)Oe-=Me,Me>>=1;Oe+=Me,Se[Ee]=Oe}},_makeCosSinTable:function(){var Ee=xe>>1,Oe=xe>>2,Me=xe>>3,De=Ee+Oe,Te=Math.sin(Math.PI/xe),ke=2*Te*Te,Fe=Math.sqrt(ke*(2-ke)),$e=_e[Oe]=1,Be=_e[0]=0;Te=2*ke;for(var Ie=1;Ie<Me;Ie++)$e-=ke,ke+=Te*$e,Be+=Fe,Fe-=Te*Be,_e[Ie]=Be,_e[Oe-Ie]=$e;Me!==0&&(_e[Me]=Math.sqrt(.5));for(var Re=0;Re<Oe;Re++)_e[Ee-Re]=_e[Re];for(var je=0;je<De;je++)_e[je+Ee]=-_e[je]}},Ce=["init","fft1d","ifft1d","fft2d","ifft2d"],Pe=0;Pe<Ce.length;Pe++)e[Ce[Pe]]=Ae[Ce[Pe]];return e.bt=Ae.bt1d,e.fft=Ae.fft1d,e.ifft=Ae.ifft1d,e}).call(commonjsGlobal$1)})(fftlib);var FFT$1=fftlib,FFTUtils$1={DEBUG:!1,ifft2DArray:function(t,e,r){var xe=new Array(e*r),Se=e/2,_e=(r-1)*2;FFT$1.init(Se);for(var Ae={re:new Array(Se),im:new Array(Se)},Ce=0;Ce<r;Ce++){for(var Pe=Se-1;Pe>=0;Pe--)Ae.re[Pe]=t[Pe*2*r+Ce],Ae.im[Pe]=t[(Pe*2+1)*r+Ce];FFT$1.bt(Ae.re,Ae.im);for(var Pe=Se-1;Pe>=0;Pe--)xe[Pe*2*r+Ce]=Ae.re[Pe],xe[(Pe*2+1)*r+Ce]=Ae.im[Pe]}var Ee=new Array(Se*_e);FFT$1.init(_e);for(var Oe={re:new Array(_e),im:new Array(_e)},Me=_e*Se,Pe=0;Pe<e;Pe+=2){Oe.re[0]=xe[Pe*r],Oe.im[0]=xe[(Pe+1)*r];for(var Ce=1;Ce<r;Ce++)Oe.re[Ce]=xe[Pe*r+Ce],Oe.im[Ce]=xe[(Pe+1)*r+Ce],Oe.re[_e-Ce]=xe[Pe*r+Ce],Oe.im[_e-Ce]=-xe[(Pe+1)*r+Ce];FFT$1.bt(Oe.re,Oe.im);for(var De=Pe/2*_e,Ce=_e-1;Ce>=0;Ce--)Ee[De+Ce]=Oe.re[Ce]/Me}return Ee},fft2DArray:function(t,e,r,xe){Object.assign({},{inplace:!0});var Se=r/2+1,_e=e*2,Ae=new Array(_e*Se);FFT$1.init(r);for(var Ce={re:new Array(r),im:new Array(r)},Pe={re:new Array(r),im:new Array(r)},Ee={re:new Array(r),im:new Array(r)},Oe,Me,De,Te,ke,Fe=0;Fe<e/2;Fe++){Oe=Fe*2*r,Ce.re=t.slice(Oe,Oe+r),Oe=(Fe*2+1)*r,Ce.im=t.slice(Oe,Oe+r),FFT$1.fft1d(Ce.re,Ce.im),this.reconstructTwoRealFFT(Ce,Pe,Ee),Me=Fe*4*Se,De=(Fe*4+1)*Se,Te=(Fe*4+2)*Se,ke=(Fe*4+3)*Se;for(var $e=Se-1;$e>=0;$e--)Ae[Me+$e]=Pe.re[$e],Ae[De+$e]=Pe.im[$e],Ae[Te+$e]=Ee.re[$e],Ae[ke+$e]=Ee.im[$e]}Pe=null,Ee=null;var Be=new Array(_e*Se);FFT$1.init(e);for(var Ie={re:new Array(e),im:new Array(e)},Re=Se-1;Re>=0;Re--){for(var Fe=e-1;Fe>=0;Fe--)Ie.re[Fe]=Ae[Fe*2*Se+Re],Ie.im[Fe]=Ae[(Fe*2+1)*Se+Re],isNaN(Ie.re[Fe])&&(Ie.re[Fe]=0),isNaN(Ie.im[Fe])&&(Ie.im[Fe]=0);FFT$1.fft1d(Ie.re,Ie.im);for(var Fe=e-1;Fe>=0;Fe--)Be[Fe*2*Se+Re]=Ie.re[Fe],Be[(Fe*2+1)*Se+Re]=Ie.im[Fe]}return Be},reconstructTwoRealFFT:function(t,e,r){var xe=t.re.length;e.re[0]=t.re[0],e.im[0]=0,r.re[0]=t.im[0],r.im[0]=0;for(var Se,_e,Ae,Ce,Pe,Ee=xe/2;Ee>0;Ee--)Pe=xe-Ee,Se=.5*(t.re[Ee]-t.re[Pe]),_e=.5*(t.re[Ee]+t.re[Pe]),Ae=.5*(t.im[Ee]-t.im[Pe]),Ce=.5*(t.im[Ee]+t.im[Pe]),e.re[Ee]=_e,e.im[Ee]=Ae,e.re[Pe]=_e,e.im[Pe]=-Ae,r.re[Ee]=Ce,r.im[Ee]=-Se,r.re[Pe]=Ce,r.im[Pe]=Se},convolute2DI:function(t,e,r,xe){for(var Se,_e,Ae=0;Ae<r/2;Ae++)for(var Ce=0;Ce<xe;Ce++)Se=t[Ae*2*xe+Ce]*e[Ae*2*xe+Ce]-t[(Ae*2+1)*xe+Ce]*e[(Ae*2+1)*xe+Ce],_e=t[Ae*2*xe+Ce]*e[(Ae*2+1)*xe+Ce]+t[(Ae*2+1)*xe+Ce]*e[Ae*2*xe+Ce],t[Ae*2*xe+Ce]=Se,t[(Ae*2+1)*xe+Ce]=_e},convolute:function(t,e,r,xe,Se){for(var _e=new Array(xe*r),Ae=0;Ae<r*xe;Ae++)_e[Ae]=t[Ae];_e=this.fft2DArray(_e,r,xe);for(var Ce=e.length,Pe=e[0].length,Ee=new Array(xe*r),Ae=0;Ae<xe*r;Ae++)Ee[Ae]=0;for(var Oe,Me,De=Math.floor((Ce-1)/2),Te=Math.floor((Pe-1)/2),ke=0;ke<Ce;ke++){Oe=(ke-De+r)%r;for(var Fe=0;Fe<Pe;Fe++)Me=(Fe-Te+xe)%xe,Ee[Oe*xe+Me]=e[ke][Fe]}Ee=this.fft2DArray(Ee,r,xe);var $e=r*2,Be=xe/2+1;return this.convolute2DI(_e,Ee,$e,Be),this.ifft2DArray(_e,$e,Be)},toRadix2:function(t,e,r){var xe,Se,_e,Ae,Ce=r,Pe=e;if(!(r!==0&&!(r&r-1))){for(Ce=0;r>>++Ce;);Ce=1<<Ce}if(!(e!==0&&!(e&e-1))){for(Pe=0;e>>++Pe;);Pe=1<<Pe}if(Pe==e&&Ce==r)return{data:t,rows:e,cols:r};var Ee=new Array(Pe*Ce),Oe=Math.floor((Pe-e)/2)-e,Me=Math.floor((Ce-r)/2)-r;for(xe=0;xe<Pe;xe++)for(_e=xe*Ce,Ae=(xe-Oe)%e*r,Se=0;Se<Ce;Se++)Ee[_e+Se]=t[Ae+(Se-Me)%r];return{data:Ee,rows:Pe,cols:Ce}},crop:function(t,e,r,xe,Se,_e){if(e==xe&&r==Se)return t;Object.assign({},_e);var Ae=new Array(Se*xe),Ce=Math.floor((e-xe)/2),Pe=Math.floor((r-Se)/2),Ee,Oe,Me,De;for(Me=0;Me<xe;Me++)for(Ee=Me*Se,Oe=(Me+Ce)*r,De=0;De<Se;De++)Ae[Ee+De]=t[Oe+(De+Pe)];return Ae}},FFTUtils_1=FFTUtils$1;src$2.FFTUtils=FFTUtils_1;src$2.FFT=fftlib;var FFTUtils=src$2.FFTUtils;function convolutionFFT(t,e,r){var xe=matrix2Array(t),Se=xe.data,_e=Object.assign({normalize:!1,divisor:1,rows:xe.rows,cols:xe.cols},r),Ae,Ce;if(_e.rows&&_e.cols)Ae=_e.rows,Ce=_e.cols;else throw new Error("Invalid number of rows or columns "+Ae+" "+Ce);var Pe=_e.divisor,Ee,Oe,Me=e.length,De=e[0].length;if(_e.normalize)for(Pe=0,Ee=0;Ee<Me;Ee++)for(Oe=0;Oe<De;Oe++)Pe+=e[Ee][Oe];if(Pe===0)throw new RangeError("convolution: The divisor is equal to zero");var Te=FFTUtils.toRadix2(Se,Ae,Ce),ke=FFTUtils.convolute(Te.data,e,Te.rows,Te.cols);if(ke=FFTUtils.crop(ke,Te.rows,Te.cols,Ae,Ce),Pe!=0&&Pe!=1)for(Ee=0;Ee<ke.length;Ee++)ke[Ee]/=Pe;return ke}function convolutionDirect(t,e,r){var xe=matrix2Array(t),Se=xe.data,_e=Object.assign({normalize:!1,divisor:1,rows:xe.rows,cols:xe.cols},r),Ae,Ce;if(_e.rows&&_e.cols)Ae=_e.rows,Ce=_e.cols;else throw new Error("Invalid number of rows or columns "+Ae+" "+Ce);var Pe=_e.divisor,Ee=e.length,Oe=e[0].length,Me,De,Te,ke,Fe,$e,Be,Ie,Re;if(_e.normalize)for(Pe=0,Me=0;Me<Ee;Me++)for(De=0;De<Oe;De++)Pe+=e[Me][De];if(Pe===0)throw new RangeError("convolution: The divisor is equal to zero");var je=new Array(Ae*Ce),Ve=Math.floor(Ee/2),He=Math.floor(Oe/2);for(ke=0;ke<Ae;ke++)for(Te=0;Te<Ce;Te++){for($e=0,De=0;De<Ee;De++)for(Me=0;Me<Oe;Me++)Be=e[Ee-De-1][Oe-Me-1],Ie=(ke+De-Ve+Ae)%Ae,Re=(Te+Me-He+Ce)%Ce,Fe=Ie*Ce+Re,$e+=Se[Fe]*Be;Fe=ke*Ce+Te,je[Fe]=$e/Pe}return je}function LoG(t,e,r){var xe=1e3;r&&r.factor&&(xe=r.factor);var Se=new Array(e),_e,Ae,Ce,Pe;xe*=-1;var Ee=(e-1)/2,Oe=2*t*t;for(_e=0;_e<e;_e++)for(Se[_e]=new Array(e),Pe=(_e-Ee)*(_e-Ee),Ae=0;Ae<e;Ae++)Ce=-((Ae-Ee)*(Ae-Ee)+Pe)/Oe,Se[_e][Ae]=Math.round(xe*(1+Ce)*Math.exp(Ce));return Se}function matrix2Array(t){var e=t,r,xe;if(typeof t[0]!="number"){r=t.length,xe=t[0].length,e=new Array(r*xe);for(var Se=0;Se<r;Se++)for(var _e=0;_e<xe;_e++)e[Se*xe+_e]=t[Se][_e]}else{var Ae=Math.sqrt(t.length);Number.isInteger(Ae)&&(r=Ae,xe=Ae)}return{data:e,rows:r,cols:xe}}var src$1={fft:convolutionFFT,direct:convolutionDirect,kernelFactory:{LoG},matrix2Array},_isFinite=Number.isFinite||function(t){return!(typeof t!="number"||t!==t||t===1/0||t===-1/0)},isFinite$1=_isFinite,isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite$1(t)&&Math.floor(t)===t};const isInteger$1=getDefaultExportFromCjs$1(isInteger);function validateKernel(t){let e,r;if(Array.isArray(t))if(Array.isArray(t[0])){if(!(t.length&1)||!(t[0].length&1))throw new RangeError("validateKernel: Kernel rows and columns should be odd numbers");e=Math.floor(t.length/2),r=Math.floor(t[0].length/2)}else{let xe=Math.sqrt(t.length);if(isInteger$1(xe))r=e=Math.floor(Math.sqrt(t.length)/2);else throw new RangeError("validateKernel: Kernel array should be a square");let Se=new Array(xe);for(let _e=0;_e<xe;_e++){Se[_e]=new Array(xe);for(let Ae=0;Ae<xe;Ae++)Se[_e][Ae]=t[_e*xe+Ae]}t=Se}else throw new Error(`validateKernel: Invalid Kernel: ${t}`);return{kernel:t,kWidth:r,kHeight:e}}function clamp(t,e){return Math.round(Math.min(Math.max(t,0),e.maxValue))}function directConvolution(t,e,r){if(r===void 0){const _e=t.length+e.length-1;r=new Array(_e)}fill(r);for(var xe=0;xe<t.length;xe++)for(var Se=0;Se<e.length;Se++)r[xe+Se]+=t[xe]*e[Se];return r}function fill(t){for(var e=0;e<t.length;e++)t[e]=0}function FFT(t){if(this.size=t|0,this.size<=1||this.size&this.size-1)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=t<<1;for(var e=new Array(this.size*2),r=0;r<e.length;r+=2){const Pe=Math.PI*r/this.size;e[r]=Math.cos(Pe),e[r+1]=-Math.sin(Pe)}this.table=e;for(var xe=0,Se=1;this.size>Se;Se<<=1)xe++;this._width=xe%2===0?xe-1:xe,this._bitrev=new Array(1<<this._width);for(var _e=0;_e<this._bitrev.length;_e++){this._bitrev[_e]=0;for(var Ae=0;Ae<this._width;Ae+=2){var Ce=this._width-Ae-2;this._bitrev[_e]|=(_e>>>Ae&3)<<Ce}}this._out=null,this._data=null,this._inv=0}FFT.prototype.fromComplexArray=function t(e,r){for(var xe=r||new Array(e.length>>>1),Se=0;Se<e.length;Se+=2)xe[Se>>>1]=e[Se];return xe};FFT.prototype.createComplexArray=function t(){const e=new Array(this._csize);for(var r=0;r<e.length;r++)e[r]=0;return e};FFT.prototype.toComplexArray=function t(e,r){for(var xe=r||this.createComplexArray(),Se=0;Se<xe.length;Se+=2)xe[Se]=e[Se>>>1],xe[Se+1]=0;return xe};FFT.prototype.completeSpectrum=function t(e){for(var r=this._csize,xe=r>>>1,Se=2;Se<xe;Se+=2)e[r-Se]=e[Se],e[r-Se+1]=-e[Se+1]};FFT.prototype.transform=function t(e,r){if(e===r)throw new Error("Input and output buffers must be different");this._out=e,this._data=r,this._inv=0,this._transform4(),this._out=null,this._data=null};FFT.prototype.realTransform=function t(e,r){if(e===r)throw new Error("Input and output buffers must be different");this._out=e,this._data=r,this._inv=0,this._realTransform4(),this._out=null,this._data=null};FFT.prototype.inverseTransform=function t(e,r){if(e===r)throw new Error("Input and output buffers must be different");this._out=e,this._data=r,this._inv=1,this._transform4();for(var xe=0;xe<e.length;xe++)e[xe]/=this.size;this._out=null,this._data=null};FFT.prototype._transform4=function t(){var e=this._out,r=this._csize,xe=this._width,Se=1<<xe,_e=r/Se<<1,Ae,Ce,Pe=this._bitrev;if(_e===4)for(Ae=0,Ce=0;Ae<r;Ae+=_e,Ce++){const Fe=Pe[Ce];this._singleTransform2(Ae,Fe,Se)}else for(Ae=0,Ce=0;Ae<r;Ae+=_e,Ce++){const Fe=Pe[Ce];this._singleTransform4(Ae,Fe,Se)}var Ee=this._inv?-1:1,Oe=this.table;for(Se>>=2;Se>=2;Se>>=2){_e=r/Se<<1;var Me=_e>>>2;for(Ae=0;Ae<r;Ae+=_e)for(var De=Ae+Me,Te=Ae,ke=0;Te<De;Te+=2,ke+=Se){const Fe=Te,$e=Fe+Me,Be=$e+Me,Ie=Be+Me,Re=e[Fe],je=e[Fe+1],Ve=e[$e],He=e[$e+1],ze=e[Be],Ue=e[Be+1],We=e[Ie],qe=e[Ie+1],Ge=Re,Ye=je,Qe=Oe[ke],Je=Ee*Oe[ke+1],ri=Ve*Qe-He*Je,hi=Ve*Je+He*Qe,pi=Oe[2*ke],ni=Ee*Oe[2*ke+1],di=ze*pi-Ue*ni,fi=ze*ni+Ue*pi,Pi=Oe[3*ke],ci=Ee*Oe[3*ke+1],xi=We*Pi-qe*ci,yi=We*ci+qe*Pi,gi=Ge+di,Ai=Ye+fi,Mi=Ge-di,Fi=Ye-fi,Di=ri+xi,oi=hi+yi,Ke=Ee*(ri-xi),St=Ee*(hi-yi),ei=gi+Di,ui=Ai+oi,ai=gi-Di,ii=Ai-oi,Ci=Mi+St,ki=Fi-Ke,bi=Mi-St,Ii=Fi+Ke;e[Fe]=ei,e[Fe+1]=ui,e[$e]=Ci,e[$e+1]=ki,e[Be]=ai,e[Be+1]=ii,e[Ie]=bi,e[Ie+1]=Ii}}};FFT.prototype._singleTransform2=function t(e,r,xe){const Se=this._out,_e=this._data,Ae=_e[r],Ce=_e[r+1],Pe=_e[r+xe],Ee=_e[r+xe+1],Oe=Ae+Pe,Me=Ce+Ee,De=Ae-Pe,Te=Ce-Ee;Se[e]=Oe,Se[e+1]=Me,Se[e+2]=De,Se[e+3]=Te};FFT.prototype._singleTransform4=function t(e,r,xe){const Se=this._out,_e=this._data,Ae=this._inv?-1:1,Ce=xe*2,Pe=xe*3,Ee=_e[r],Oe=_e[r+1],Me=_e[r+xe],De=_e[r+xe+1],Te=_e[r+Ce],ke=_e[r+Ce+1],Fe=_e[r+Pe],$e=_e[r+Pe+1],Be=Ee+Te,Ie=Oe+ke,Re=Ee-Te,je=Oe-ke,Ve=Me+Fe,He=De+$e,ze=Ae*(Me-Fe),Ue=Ae*(De-$e),We=Be+Ve,qe=Ie+He,Ge=Re+Ue,Ye=je-ze,Qe=Be-Ve,Je=Ie-He,ri=Re-Ue,hi=je+ze;Se[e]=We,Se[e+1]=qe,Se[e+2]=Ge,Se[e+3]=Ye,Se[e+4]=Qe,Se[e+5]=Je,Se[e+6]=ri,Se[e+7]=hi};FFT.prototype._realTransform4=function t(){var e=this._out,r=this._csize,xe=this._width,Se=1<<xe,_e=r/Se<<1,Ae,Ce,Pe=this._bitrev;if(_e===4)for(Ae=0,Ce=0;Ae<r;Ae+=_e,Ce++){const cn=Pe[Ce];this._singleRealTransform2(Ae,cn>>>1,Se>>>1)}else for(Ae=0,Ce=0;Ae<r;Ae+=_e,Ce++){const cn=Pe[Ce];this._singleRealTransform4(Ae,cn>>>1,Se>>>1)}var Ee=this._inv?-1:1,Oe=this.table;for(Se>>=2;Se>=2;Se>>=2){_e=r/Se<<1;var Me=_e>>>1,De=Me>>>1,Te=De>>>1;for(Ae=0;Ae<r;Ae+=_e)for(var ke=0,Fe=0;ke<=Te;ke+=2,Fe+=Se){var $e=Ae+ke,Be=$e+De,Ie=Be+De,Re=Ie+De,je=e[$e],Ve=e[$e+1],He=e[Be],ze=e[Be+1],Ue=e[Ie],We=e[Ie+1],qe=e[Re],Ge=e[Re+1],Ye=je,Qe=Ve,Je=Oe[Fe],ri=Ee*Oe[Fe+1],hi=He*Je-ze*ri,pi=He*ri+ze*Je,ni=Oe[2*Fe],di=Ee*Oe[2*Fe+1],fi=Ue*ni-We*di,Pi=Ue*di+We*ni,ci=Oe[3*Fe],xi=Ee*Oe[3*Fe+1],yi=qe*ci-Ge*xi,gi=qe*xi+Ge*ci,Ai=Ye+fi,Mi=Qe+Pi,Fi=Ye-fi,Di=Qe-Pi,oi=hi+yi,Ke=pi+gi,St=Ee*(hi-yi),ei=Ee*(pi-gi),ui=Ai+oi,ai=Mi+Ke,ii=Fi+ei,Ci=Di-St;if(e[$e]=ui,e[$e+1]=ai,e[Be]=ii,e[Be+1]=Ci,ke===0){var ki=Ai-oi,bi=Mi-Ke;e[Ie]=ki,e[Ie+1]=bi;continue}if(ke!==Te){var Ii=Fi,Bi=-Di,Vi=Ai,ji=-Mi,Zi=-Ee*ei,Wi=-Ee*St,Qi=-Ee*Ke,wi=-Ee*oi,tn=Ii+Zi,Yi=Bi+Wi,nn=Vi+wi,Ni=ji-Qi,Xi=Ae+De-ke,an=Ae+Me-ke;e[Xi]=tn,e[Xi+1]=Yi,e[an]=nn,e[an+1]=Ni}}}};FFT.prototype._singleRealTransform2=function t(e,r,xe){const Se=this._out,_e=this._data,Ae=_e[r],Ce=_e[r+xe],Pe=Ae+Ce,Ee=Ae-Ce;Se[e]=Pe,Se[e+1]=0,Se[e+2]=Ee,Se[e+3]=0};FFT.prototype._singleRealTransform4=function t(e,r,xe){const Se=this._out,_e=this._data,Ae=this._inv?-1:1,Ce=xe*2,Pe=xe*3,Ee=_e[r],Oe=_e[r+xe],Me=_e[r+Ce],De=_e[r+Pe],Te=Ee+Me,ke=Ee-Me,Fe=Oe+De,$e=Ae*(Oe-De),Be=Te+Fe,Ie=ke,Re=-$e,je=Te-Fe,Ve=ke,He=$e;Se[e]=Be,Se[e+1]=0,Se[e+2]=Ie,Se[e+3]=Re,Se[e+4]=je,Se[e+5]=0,Se[e+6]=Ve,Se[e+7]=He};function convolutionSeparable(t,e,r,xe){const Se=new Array(t.length);let _e,Ae,Ce,Pe;Pe=e[1],Ce=(Pe.length-1)/2,Ae=new Array(r+Pe.length-1),_e=new Array(r);for(let Ee=0;Ee<xe;Ee++){for(let Oe=0;Oe<r;Oe++)_e[Oe]=t[Ee*r+Oe];directConvolution(_e,Pe,Ae);for(let Oe=0;Oe<r;Oe++)Se[Ee*r+Oe]=Ae[Ce+Oe]}Pe=e[0],Ce=(Pe.length-1)/2,Ae=new Array(xe+Pe.length-1),_e=new Array(xe);for(let Ee=0;Ee<r;Ee++){for(let Oe=0;Oe<xe;Oe++)_e[Oe]=Se[Oe*r+Ee];directConvolution(_e,Pe,Ae);for(let Oe=0;Oe<xe;Oe++)Se[Oe*r+Ee]=Ae[Ce+Oe]}return Se}var matrix={};const toString$2=Object.prototype.toString;function isAnyArray$1(t){const e=toString$2.call(t);return e.endsWith("Array]")&&!e.includes("Big")}const libEsm=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:isAnyArray$1},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(libEsm);function max$2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray$1(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var r=e.fromIndex,xe=r===void 0?0:r,Se=e.toIndex,_e=Se===void 0?t.length:Se;if(xe<0||xe>=t.length||!Number.isInteger(xe))throw new Error("fromIndex must be a positive integer smaller than length");if(_e<=xe||_e>t.length||!Number.isInteger(_e))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var Ae=t[xe],Ce=xe+1;Ce<_e;Ce++)t[Ce]>Ae&&(Ae=t[Ce]);return Ae}function min$1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray$1(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var r=e.fromIndex,xe=r===void 0?0:r,Se=e.toIndex,_e=Se===void 0?t.length:Se;if(xe<0||xe>=t.length||!Number.isInteger(xe))throw new Error("fromIndex must be a positive integer smaller than length");if(_e<=xe||_e>t.length||!Number.isInteger(_e))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var Ae=t[xe],Ce=xe+1;Ce<_e;Ce++)t[Ce]<Ae&&(Ae=t[Ce]);return Ae}function rescale$1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(isAnyArray$1(t)){if(t.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var r;if(e.output!==void 0){if(!isAnyArray$1(e.output))throw new TypeError("output option must be an array if specified");r=e.output}else r=new Array(t.length);var xe=min$1(t),Se=max$2(t);if(xe===Se)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var _e=e.min,Ae=_e===void 0?e.autoMinMax?xe:0:_e,Ce=e.max,Pe=Ce===void 0?e.autoMinMax?Se:1:Ce;if(Ae>=Pe)throw new RangeError("min option must be smaller than max option");for(var Ee=(Pe-Ae)/(Se-xe),Oe=0;Oe<t.length;Oe++)r[Oe]=(t[Oe]-xe)*Ee+Ae;return r}const libEs6=Object.freeze(Object.defineProperty({__proto__:null,default:rescale$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(libEs6);Object.defineProperty(matrix,"__esModule",{value:!0});var isAnyArray=require$$0$1,rescale=require$$1;const indent=" ".repeat(2),indentData=" ".repeat(4);function inspectMatrix(){return inspectMatrixWithOptions(this)}function inspectMatrixWithOptions(t,e={}){const{maxRows:r=15,maxColumns:xe=10,maxNumSize:Se=8,padMinus:_e="auto"}=e;return`${t.constructor.name} {
${indent}[
${indentData}${inspectData(t,r,xe,Se,_e)}
${indent}]
${indent}rows: ${t.rows}
${indent}columns: ${t.columns}
}`}function inspectData(t,e,r,xe,Se){const{rows:_e,columns:Ae}=t,Ce=Math.min(_e,e),Pe=Math.min(Ae,r),Ee=[];if(Se==="auto"){Se=!1;e:for(let Oe=0;Oe<Ce;Oe++)for(let Me=0;Me<Pe;Me++)if(t.get(Oe,Me)<0){Se=!0;break e}}for(let Oe=0;Oe<Ce;Oe++){let Me=[];for(let De=0;De<Pe;De++)Me.push(formatNumber(t.get(Oe,De),xe,Se));Ee.push(`${Me.join(" ")}`)}return Pe!==Ae&&(Ee[Ee.length-1]+=` ... ${Ae-r} more columns`),Ce!==_e&&Ee.push(`... ${_e-e} more rows`),Ee.join(`
${indentData}`)}function formatNumber(t,e,r){return(t>=0&&r?` ${formatNumber2(t,e-1)}`:formatNumber2(t,e)).padEnd(e)}function formatNumber2(t,e){let r=t.toString();if(r.length<=e)return r;let xe=t.toFixed(e);if(xe.length>e&&(xe=t.toFixed(Math.max(0,e-(xe.length-e)))),xe.length<=e&&!xe.startsWith("0.000")&&!xe.startsWith("-0.000"))return xe;let Se=t.toExponential(e);return Se.length>e&&(Se=t.toExponential(Math.max(0,e-(Se.length-e)))),Se.slice(0)}function installMathOperations(t,e){t.prototype.add=function(xe){return typeof xe=="number"?this.addS(xe):this.addM(xe)},t.prototype.addS=function(xe){for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)+xe);return this},t.prototype.addM=function(xe){if(xe=e.checkMatrix(xe),this.rows!==xe.rows||this.columns!==xe.columns)throw new RangeError("Matrices dimensions must be equal");for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)+xe.get(Se,_e));return this},t.add=function(xe,Se){return new e(xe).add(Se)},t.prototype.sub=function(xe){return typeof xe=="number"?this.subS(xe):this.subM(xe)},t.prototype.subS=function(xe){for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)-xe);return this},t.prototype.subM=function(xe){if(xe=e.checkMatrix(xe),this.rows!==xe.rows||this.columns!==xe.columns)throw new RangeError("Matrices dimensions must be equal");for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)-xe.get(Se,_e));return this},t.sub=function(xe,Se){return new e(xe).sub(Se)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(xe){return typeof xe=="number"?this.mulS(xe):this.mulM(xe)},t.prototype.mulS=function(xe){for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)*xe);return this},t.prototype.mulM=function(xe){if(xe=e.checkMatrix(xe),this.rows!==xe.rows||this.columns!==xe.columns)throw new RangeError("Matrices dimensions must be equal");for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)*xe.get(Se,_e));return this},t.mul=function(xe,Se){return new e(xe).mul(Se)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(xe){return typeof xe=="number"?this.divS(xe):this.divM(xe)},t.prototype.divS=function(xe){for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)/xe);return this},t.prototype.divM=function(xe){if(xe=e.checkMatrix(xe),this.rows!==xe.rows||this.columns!==xe.columns)throw new RangeError("Matrices dimensions must be equal");for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)/xe.get(Se,_e));return this},t.div=function(xe,Se){return new e(xe).div(Se)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(xe){return typeof xe=="number"?this.modS(xe):this.modM(xe)},t.prototype.modS=function(xe){for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)%xe);return this},t.prototype.modM=function(xe){if(xe=e.checkMatrix(xe),this.rows!==xe.rows||this.columns!==xe.columns)throw new RangeError("Matrices dimensions must be equal");for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)%xe.get(Se,_e));return this},t.mod=function(xe,Se){return new e(xe).mod(Se)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(xe){return typeof xe=="number"?this.andS(xe):this.andM(xe)},t.prototype.andS=function(xe){for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)&xe);return this},t.prototype.andM=function(xe){if(xe=e.checkMatrix(xe),this.rows!==xe.rows||this.columns!==xe.columns)throw new RangeError("Matrices dimensions must be equal");for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)&xe.get(Se,_e));return this},t.and=function(xe,Se){return new e(xe).and(Se)},t.prototype.or=function(xe){return typeof xe=="number"?this.orS(xe):this.orM(xe)},t.prototype.orS=function(xe){for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)|xe);return this},t.prototype.orM=function(xe){if(xe=e.checkMatrix(xe),this.rows!==xe.rows||this.columns!==xe.columns)throw new RangeError("Matrices dimensions must be equal");for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)|xe.get(Se,_e));return this},t.or=function(xe,Se){return new e(xe).or(Se)},t.prototype.xor=function(xe){return typeof xe=="number"?this.xorS(xe):this.xorM(xe)},t.prototype.xorS=function(xe){for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)^xe);return this},t.prototype.xorM=function(xe){if(xe=e.checkMatrix(xe),this.rows!==xe.rows||this.columns!==xe.columns)throw new RangeError("Matrices dimensions must be equal");for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)^xe.get(Se,_e));return this},t.xor=function(xe,Se){return new e(xe).xor(Se)},t.prototype.leftShift=function(xe){return typeof xe=="number"?this.leftShiftS(xe):this.leftShiftM(xe)},t.prototype.leftShiftS=function(xe){for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)<<xe);return this},t.prototype.leftShiftM=function(xe){if(xe=e.checkMatrix(xe),this.rows!==xe.rows||this.columns!==xe.columns)throw new RangeError("Matrices dimensions must be equal");for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)<<xe.get(Se,_e));return this},t.leftShift=function(xe,Se){return new e(xe).leftShift(Se)},t.prototype.signPropagatingRightShift=function(xe){return typeof xe=="number"?this.signPropagatingRightShiftS(xe):this.signPropagatingRightShiftM(xe)},t.prototype.signPropagatingRightShiftS=function(xe){for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)>>xe);return this},t.prototype.signPropagatingRightShiftM=function(xe){if(xe=e.checkMatrix(xe),this.rows!==xe.rows||this.columns!==xe.columns)throw new RangeError("Matrices dimensions must be equal");for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)>>xe.get(Se,_e));return this},t.signPropagatingRightShift=function(xe,Se){return new e(xe).signPropagatingRightShift(Se)},t.prototype.rightShift=function(xe){return typeof xe=="number"?this.rightShiftS(xe):this.rightShiftM(xe)},t.prototype.rightShiftS=function(xe){for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)>>>xe);return this},t.prototype.rightShiftM=function(xe){if(xe=e.checkMatrix(xe),this.rows!==xe.rows||this.columns!==xe.columns)throw new RangeError("Matrices dimensions must be equal");for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,this.get(Se,_e)>>>xe.get(Se,_e));return this},t.rightShift=function(xe,Se){return new e(xe).rightShift(Se)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,~this.get(xe,Se));return this},t.not=function(xe){return new e(xe).not()},t.prototype.abs=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.abs(this.get(xe,Se)));return this},t.abs=function(xe){return new e(xe).abs()},t.prototype.acos=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.acos(this.get(xe,Se)));return this},t.acos=function(xe){return new e(xe).acos()},t.prototype.acosh=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.acosh(this.get(xe,Se)));return this},t.acosh=function(xe){return new e(xe).acosh()},t.prototype.asin=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.asin(this.get(xe,Se)));return this},t.asin=function(xe){return new e(xe).asin()},t.prototype.asinh=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.asinh(this.get(xe,Se)));return this},t.asinh=function(xe){return new e(xe).asinh()},t.prototype.atan=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.atan(this.get(xe,Se)));return this},t.atan=function(xe){return new e(xe).atan()},t.prototype.atanh=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.atanh(this.get(xe,Se)));return this},t.atanh=function(xe){return new e(xe).atanh()},t.prototype.cbrt=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.cbrt(this.get(xe,Se)));return this},t.cbrt=function(xe){return new e(xe).cbrt()},t.prototype.ceil=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.ceil(this.get(xe,Se)));return this},t.ceil=function(xe){return new e(xe).ceil()},t.prototype.clz32=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.clz32(this.get(xe,Se)));return this},t.clz32=function(xe){return new e(xe).clz32()},t.prototype.cos=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.cos(this.get(xe,Se)));return this},t.cos=function(xe){return new e(xe).cos()},t.prototype.cosh=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.cosh(this.get(xe,Se)));return this},t.cosh=function(xe){return new e(xe).cosh()},t.prototype.exp=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.exp(this.get(xe,Se)));return this},t.exp=function(xe){return new e(xe).exp()},t.prototype.expm1=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.expm1(this.get(xe,Se)));return this},t.expm1=function(xe){return new e(xe).expm1()},t.prototype.floor=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.floor(this.get(xe,Se)));return this},t.floor=function(xe){return new e(xe).floor()},t.prototype.fround=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.fround(this.get(xe,Se)));return this},t.fround=function(xe){return new e(xe).fround()},t.prototype.log=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.log(this.get(xe,Se)));return this},t.log=function(xe){return new e(xe).log()},t.prototype.log1p=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.log1p(this.get(xe,Se)));return this},t.log1p=function(xe){return new e(xe).log1p()},t.prototype.log10=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.log10(this.get(xe,Se)));return this},t.log10=function(xe){return new e(xe).log10()},t.prototype.log2=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.log2(this.get(xe,Se)));return this},t.log2=function(xe){return new e(xe).log2()},t.prototype.round=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.round(this.get(xe,Se)));return this},t.round=function(xe){return new e(xe).round()},t.prototype.sign=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.sign(this.get(xe,Se)));return this},t.sign=function(xe){return new e(xe).sign()},t.prototype.sin=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.sin(this.get(xe,Se)));return this},t.sin=function(xe){return new e(xe).sin()},t.prototype.sinh=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.sinh(this.get(xe,Se)));return this},t.sinh=function(xe){return new e(xe).sinh()},t.prototype.sqrt=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.sqrt(this.get(xe,Se)));return this},t.sqrt=function(xe){return new e(xe).sqrt()},t.prototype.tan=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.tan(this.get(xe,Se)));return this},t.tan=function(xe){return new e(xe).tan()},t.prototype.tanh=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.tanh(this.get(xe,Se)));return this},t.tanh=function(xe){return new e(xe).tanh()},t.prototype.trunc=function(){for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.set(xe,Se,Math.trunc(this.get(xe,Se)));return this},t.trunc=function(xe){return new e(xe).trunc()},t.pow=function(xe,Se){return new e(xe).pow(Se)},t.prototype.pow=function(xe){return typeof xe=="number"?this.powS(xe):this.powM(xe)},t.prototype.powS=function(xe){for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,Math.pow(this.get(Se,_e),xe));return this},t.prototype.powM=function(xe){if(xe=e.checkMatrix(xe),this.rows!==xe.rows||this.columns!==xe.columns)throw new RangeError("Matrices dimensions must be equal");for(let Se=0;Se<this.rows;Se++)for(let _e=0;_e<this.columns;_e++)this.set(Se,_e,Math.pow(this.get(Se,_e),xe.get(Se,_e)));return this}}function checkRowIndex(t,e,r){let xe=r?t.rows:t.rows-1;if(e<0||e>xe)throw new RangeError("Row index out of range")}function checkColumnIndex(t,e,r){let xe=r?t.columns:t.columns-1;if(e<0||e>xe)throw new RangeError("Column index out of range")}function checkRowVector(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function checkColumnVector(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function checkRowIndices(t,e){if(!isAnyArray.isAnyArray(e))throw new TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.rows)throw new RangeError("row indices are out of range")}function checkColumnIndices(t,e){if(!isAnyArray.isAnyArray(e))throw new TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.columns)throw new RangeError("column indices are out of range")}function checkRange(t,e,r,xe,Se){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(checkNumber("startRow",e),checkNumber("endRow",r),checkNumber("startColumn",xe),checkNumber("endColumn",Se),e>r||xe>Se||e<0||e>=t.rows||r<0||r>=t.rows||xe<0||xe>=t.columns||Se<0||Se>=t.columns)throw new RangeError("Submatrix indices are out of range")}function newArray$2(t,e=0){let r=[];for(let xe=0;xe<t;xe++)r.push(e);return r}function checkNumber(t,e){if(typeof e!="number")throw new TypeError(`${t} must be a number`)}function checkNonEmpty(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}function sumByRow(t){let e=newArray$2(t.rows);for(let r=0;r<t.rows;++r)for(let xe=0;xe<t.columns;++xe)e[r]+=t.get(r,xe);return e}function sumByColumn(t){let e=newArray$2(t.columns);for(let r=0;r<t.rows;++r)for(let xe=0;xe<t.columns;++xe)e[xe]+=t.get(r,xe);return e}function sumAll(t){let e=0;for(let r=0;r<t.rows;r++)for(let xe=0;xe<t.columns;xe++)e+=t.get(r,xe);return e}function productByRow(t){let e=newArray$2(t.rows,1);for(let r=0;r<t.rows;++r)for(let xe=0;xe<t.columns;++xe)e[r]*=t.get(r,xe);return e}function productByColumn(t){let e=newArray$2(t.columns,1);for(let r=0;r<t.rows;++r)for(let xe=0;xe<t.columns;++xe)e[xe]*=t.get(r,xe);return e}function productAll(t){let e=1;for(let r=0;r<t.rows;r++)for(let xe=0;xe<t.columns;xe++)e*=t.get(r,xe);return e}function varianceByRow(t,e,r){const xe=t.rows,Se=t.columns,_e=[];for(let Ae=0;Ae<xe;Ae++){let Ce=0,Pe=0,Ee=0;for(let Oe=0;Oe<Se;Oe++)Ee=t.get(Ae,Oe)-r[Ae],Ce+=Ee,Pe+=Ee*Ee;e?_e.push((Pe-Ce*Ce/Se)/(Se-1)):_e.push((Pe-Ce*Ce/Se)/Se)}return _e}function varianceByColumn(t,e,r){const xe=t.rows,Se=t.columns,_e=[];for(let Ae=0;Ae<Se;Ae++){let Ce=0,Pe=0,Ee=0;for(let Oe=0;Oe<xe;Oe++)Ee=t.get(Oe,Ae)-r[Ae],Ce+=Ee,Pe+=Ee*Ee;e?_e.push((Pe-Ce*Ce/xe)/(xe-1)):_e.push((Pe-Ce*Ce/xe)/xe)}return _e}function varianceAll(t,e,r){const xe=t.rows,Se=t.columns,_e=xe*Se;let Ae=0,Ce=0,Pe=0;for(let Ee=0;Ee<xe;Ee++)for(let Oe=0;Oe<Se;Oe++)Pe=t.get(Ee,Oe)-r,Ae+=Pe,Ce+=Pe*Pe;return e?(Ce-Ae*Ae/_e)/(_e-1):(Ce-Ae*Ae/_e)/_e}function centerByRow(t,e){for(let r=0;r<t.rows;r++)for(let xe=0;xe<t.columns;xe++)t.set(r,xe,t.get(r,xe)-e[r])}function centerByColumn(t,e){for(let r=0;r<t.rows;r++)for(let xe=0;xe<t.columns;xe++)t.set(r,xe,t.get(r,xe)-e[xe])}function centerAll(t,e){for(let r=0;r<t.rows;r++)for(let xe=0;xe<t.columns;xe++)t.set(r,xe,t.get(r,xe)-e)}function getScaleByRow(t){const e=[];for(let r=0;r<t.rows;r++){let xe=0;for(let Se=0;Se<t.columns;Se++)xe+=Math.pow(t.get(r,Se),2)/(t.columns-1);e.push(Math.sqrt(xe))}return e}function scaleByRow(t,e){for(let r=0;r<t.rows;r++)for(let xe=0;xe<t.columns;xe++)t.set(r,xe,t.get(r,xe)/e[r])}function getScaleByColumn(t){const e=[];for(let r=0;r<t.columns;r++){let xe=0;for(let Se=0;Se<t.rows;Se++)xe+=Math.pow(t.get(Se,r),2)/(t.rows-1);e.push(Math.sqrt(xe))}return e}function scaleByColumn(t,e){for(let r=0;r<t.rows;r++)for(let xe=0;xe<t.columns;xe++)t.set(r,xe,t.get(r,xe)/e[xe])}function getScaleAll(t){const e=t.size-1;let r=0;for(let xe=0;xe<t.columns;xe++)for(let Se=0;Se<t.rows;Se++)r+=Math.pow(t.get(Se,xe),2)/e;return Math.sqrt(r)}function scaleAll(t,e){for(let r=0;r<t.rows;r++)for(let xe=0;xe<t.columns;xe++)t.set(r,xe,t.get(r,xe)/e)}class AbstractMatrix{static from1DArray(e,r,xe){if(e*r!==xe.length)throw new RangeError("data length does not match given dimensions");let _e=new Matrix$3(e,r);for(let Ae=0;Ae<e;Ae++)for(let Ce=0;Ce<r;Ce++)_e.set(Ae,Ce,xe[Ae*r+Ce]);return _e}static rowVector(e){let r=new Matrix$3(1,e.length);for(let xe=0;xe<e.length;xe++)r.set(0,xe,e[xe]);return r}static columnVector(e){let r=new Matrix$3(e.length,1);for(let xe=0;xe<e.length;xe++)r.set(xe,0,e[xe]);return r}static zeros(e,r){return new Matrix$3(e,r)}static ones(e,r){return new Matrix$3(e,r).fill(1)}static rand(e,r,xe={}){if(typeof xe!="object")throw new TypeError("options must be an object");const{random:Se=Math.random}=xe;let _e=new Matrix$3(e,r);for(let Ae=0;Ae<e;Ae++)for(let Ce=0;Ce<r;Ce++)_e.set(Ae,Ce,Se());return _e}static randInt(e,r,xe={}){if(typeof xe!="object")throw new TypeError("options must be an object");const{min:Se=0,max:_e=1e3,random:Ae=Math.random}=xe;if(!Number.isInteger(Se))throw new TypeError("min must be an integer");if(!Number.isInteger(_e))throw new TypeError("max must be an integer");if(Se>=_e)throw new RangeError("min must be smaller than max");let Ce=_e-Se,Pe=new Matrix$3(e,r);for(let Ee=0;Ee<e;Ee++)for(let Oe=0;Oe<r;Oe++){let Me=Se+Math.round(Ae()*Ce);Pe.set(Ee,Oe,Me)}return Pe}static eye(e,r,xe){r===void 0&&(r=e),xe===void 0&&(xe=1);let Se=Math.min(e,r),_e=this.zeros(e,r);for(let Ae=0;Ae<Se;Ae++)_e.set(Ae,Ae,xe);return _e}static diag(e,r,xe){let Se=e.length;r===void 0&&(r=Se),xe===void 0&&(xe=r);let _e=Math.min(Se,r,xe),Ae=this.zeros(r,xe);for(let Ce=0;Ce<_e;Ce++)Ae.set(Ce,Ce,e[Ce]);return Ae}static min(e,r){e=this.checkMatrix(e),r=this.checkMatrix(r);let xe=e.rows,Se=e.columns,_e=new Matrix$3(xe,Se);for(let Ae=0;Ae<xe;Ae++)for(let Ce=0;Ce<Se;Ce++)_e.set(Ae,Ce,Math.min(e.get(Ae,Ce),r.get(Ae,Ce)));return _e}static max(e,r){e=this.checkMatrix(e),r=this.checkMatrix(r);let xe=e.rows,Se=e.columns,_e=new this(xe,Se);for(let Ae=0;Ae<xe;Ae++)for(let Ce=0;Ce<Se;Ce++)_e.set(Ae,Ce,Math.max(e.get(Ae,Ce),r.get(Ae,Ce)));return _e}static checkMatrix(e){return AbstractMatrix.isMatrix(e)?e:new Matrix$3(e)}static isMatrix(e){return e!=null&&e.klass==="Matrix"}get size(){return this.rows*this.columns}apply(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(let r=0;r<this.rows;r++)for(let xe=0;xe<this.columns;xe++)e.call(this,r,xe);return this}to1DArray(){let e=[];for(let r=0;r<this.rows;r++)for(let xe=0;xe<this.columns;xe++)e.push(this.get(r,xe));return e}to2DArray(){let e=[];for(let r=0;r<this.rows;r++){e.push([]);for(let xe=0;xe<this.columns;xe++)e[r].push(this.get(r,xe))}return e}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let r=0;r<=e;r++)if(this.get(e,r)!==this.get(r,e))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let e=0;e<this.rows;e++)if(this.get(e,e)!==0)return!1;return!0}isEchelonForm(){let e=0,r=0,xe=-1,Se=!0,_e=!1;for(;e<this.rows&&Se;){for(r=0,_e=!1;r<this.columns&&_e===!1;)this.get(e,r)===0?r++:this.get(e,r)===1&&r>xe?(_e=!0,xe=r):(Se=!1,_e=!0);e++}return Se}isReducedEchelonForm(){let e=0,r=0,xe=-1,Se=!0,_e=!1;for(;e<this.rows&&Se;){for(r=0,_e=!1;r<this.columns&&_e===!1;)this.get(e,r)===0?r++:this.get(e,r)===1&&r>xe?(_e=!0,xe=r):(Se=!1,_e=!0);for(let Ae=r+1;Ae<this.rows;Ae++)this.get(e,Ae)!==0&&(Se=!1);e++}return Se}echelonForm(){let e=this.clone(),r=0,xe=0;for(;r<e.rows&&xe<e.columns;){let Se=r;for(let _e=r;_e<e.rows;_e++)e.get(_e,xe)>e.get(Se,xe)&&(Se=_e);if(e.get(Se,xe)===0)xe++;else{e.swapRows(r,Se);let _e=e.get(r,xe);for(let Ae=xe;Ae<e.columns;Ae++)e.set(r,Ae,e.get(r,Ae)/_e);for(let Ae=r+1;Ae<e.rows;Ae++){let Ce=e.get(Ae,xe)/e.get(r,xe);e.set(Ae,xe,0);for(let Pe=xe+1;Pe<e.columns;Pe++)e.set(Ae,Pe,e.get(Ae,Pe)-e.get(r,Pe)*Ce)}r++,xe++}}return e}reducedEchelonForm(){let e=this.echelonForm(),r=e.columns,xe=e.rows,Se=xe-1;for(;Se>=0;)if(e.maxRow(Se)===0)Se--;else{let _e=0,Ae=!1;for(;_e<xe&&Ae===!1;)e.get(Se,_e)===1?Ae=!0:_e++;for(let Ce=0;Ce<Se;Ce++){let Pe=e.get(Ce,_e);for(let Ee=_e;Ee<r;Ee++){let Oe=e.get(Ce,Ee)-Pe*e.get(Se,Ee);e.set(Ce,Ee,Oe)}}Se--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{rows:r=1,columns:xe=1}=e;if(!Number.isInteger(r)||r<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(xe)||xe<=0)throw new TypeError("columns must be a positive integer");let Se=new Matrix$3(this.rows*r,this.columns*xe);for(let _e=0;_e<r;_e++)for(let Ae=0;Ae<xe;Ae++)Se.setSubMatrix(this,this.rows*_e,this.columns*Ae);return Se}fill(e){for(let r=0;r<this.rows;r++)for(let xe=0;xe<this.columns;xe++)this.set(r,xe,e);return this}neg(){return this.mulS(-1)}getRow(e){checkRowIndex(this,e);let r=[];for(let xe=0;xe<this.columns;xe++)r.push(this.get(e,xe));return r}getRowVector(e){return Matrix$3.rowVector(this.getRow(e))}setRow(e,r){checkRowIndex(this,e),r=checkRowVector(this,r);for(let xe=0;xe<this.columns;xe++)this.set(e,xe,r[xe]);return this}swapRows(e,r){checkRowIndex(this,e),checkRowIndex(this,r);for(let xe=0;xe<this.columns;xe++){let Se=this.get(e,xe);this.set(e,xe,this.get(r,xe)),this.set(r,xe,Se)}return this}getColumn(e){checkColumnIndex(this,e);let r=[];for(let xe=0;xe<this.rows;xe++)r.push(this.get(xe,e));return r}getColumnVector(e){return Matrix$3.columnVector(this.getColumn(e))}setColumn(e,r){checkColumnIndex(this,e),r=checkColumnVector(this,r);for(let xe=0;xe<this.rows;xe++)this.set(xe,e,r[xe]);return this}swapColumns(e,r){checkColumnIndex(this,e),checkColumnIndex(this,r);for(let xe=0;xe<this.rows;xe++){let Se=this.get(xe,e);this.set(xe,e,this.get(xe,r)),this.set(xe,r,Se)}return this}addRowVector(e){e=checkRowVector(this,e);for(let r=0;r<this.rows;r++)for(let xe=0;xe<this.columns;xe++)this.set(r,xe,this.get(r,xe)+e[xe]);return this}subRowVector(e){e=checkRowVector(this,e);for(let r=0;r<this.rows;r++)for(let xe=0;xe<this.columns;xe++)this.set(r,xe,this.get(r,xe)-e[xe]);return this}mulRowVector(e){e=checkRowVector(this,e);for(let r=0;r<this.rows;r++)for(let xe=0;xe<this.columns;xe++)this.set(r,xe,this.get(r,xe)*e[xe]);return this}divRowVector(e){e=checkRowVector(this,e);for(let r=0;r<this.rows;r++)for(let xe=0;xe<this.columns;xe++)this.set(r,xe,this.get(r,xe)/e[xe]);return this}addColumnVector(e){e=checkColumnVector(this,e);for(let r=0;r<this.rows;r++)for(let xe=0;xe<this.columns;xe++)this.set(r,xe,this.get(r,xe)+e[r]);return this}subColumnVector(e){e=checkColumnVector(this,e);for(let r=0;r<this.rows;r++)for(let xe=0;xe<this.columns;xe++)this.set(r,xe,this.get(r,xe)-e[r]);return this}mulColumnVector(e){e=checkColumnVector(this,e);for(let r=0;r<this.rows;r++)for(let xe=0;xe<this.columns;xe++)this.set(r,xe,this.get(r,xe)*e[r]);return this}divColumnVector(e){e=checkColumnVector(this,e);for(let r=0;r<this.rows;r++)for(let xe=0;xe<this.columns;xe++)this.set(r,xe,this.get(r,xe)/e[r]);return this}mulRow(e,r){checkRowIndex(this,e);for(let xe=0;xe<this.columns;xe++)this.set(e,xe,this.get(e,xe)*r);return this}mulColumn(e,r){checkColumnIndex(this,e);for(let xe=0;xe<this.rows;xe++)this.set(xe,e,this.get(xe,e)*r);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{const r=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.get(xe,Se)>r[xe]&&(r[xe]=this.get(xe,Se));return r}case"column":{const r=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.get(xe,Se)>r[Se]&&(r[Se]=this.get(xe,Se));return r}case void 0:{let r=this.get(0,0);for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.get(xe,Se)>r&&(r=this.get(xe,Se));return r}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){checkNonEmpty(this);let e=this.get(0,0),r=[0,0];for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.get(xe,Se)>e&&(e=this.get(xe,Se),r[0]=xe,r[1]=Se);return r}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{const r=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.get(xe,Se)<r[xe]&&(r[xe]=this.get(xe,Se));return r}case"column":{const r=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.get(xe,Se)<r[Se]&&(r[Se]=this.get(xe,Se));return r}case void 0:{let r=this.get(0,0);for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.get(xe,Se)<r&&(r=this.get(xe,Se));return r}default:throw new Error(`invalid option: ${e}`)}}minIndex(){checkNonEmpty(this);let e=this.get(0,0),r=[0,0];for(let xe=0;xe<this.rows;xe++)for(let Se=0;Se<this.columns;Se++)this.get(xe,Se)<e&&(e=this.get(xe,Se),r[0]=xe,r[1]=Se);return r}maxRow(e){if(checkRowIndex(this,e),this.isEmpty())return NaN;let r=this.get(e,0);for(let xe=1;xe<this.columns;xe++)this.get(e,xe)>r&&(r=this.get(e,xe));return r}maxRowIndex(e){checkRowIndex(this,e),checkNonEmpty(this);let r=this.get(e,0),xe=[e,0];for(let Se=1;Se<this.columns;Se++)this.get(e,Se)>r&&(r=this.get(e,Se),xe[1]=Se);return xe}minRow(e){if(checkRowIndex(this,e),this.isEmpty())return NaN;let r=this.get(e,0);for(let xe=1;xe<this.columns;xe++)this.get(e,xe)<r&&(r=this.get(e,xe));return r}minRowIndex(e){checkRowIndex(this,e),checkNonEmpty(this);let r=this.get(e,0),xe=[e,0];for(let Se=1;Se<this.columns;Se++)this.get(e,Se)<r&&(r=this.get(e,Se),xe[1]=Se);return xe}maxColumn(e){if(checkColumnIndex(this,e),this.isEmpty())return NaN;let r=this.get(0,e);for(let xe=1;xe<this.rows;xe++)this.get(xe,e)>r&&(r=this.get(xe,e));return r}maxColumnIndex(e){checkColumnIndex(this,e),checkNonEmpty(this);let r=this.get(0,e),xe=[0,e];for(let Se=1;Se<this.rows;Se++)this.get(Se,e)>r&&(r=this.get(Se,e),xe[0]=Se);return xe}minColumn(e){if(checkColumnIndex(this,e),this.isEmpty())return NaN;let r=this.get(0,e);for(let xe=1;xe<this.rows;xe++)this.get(xe,e)<r&&(r=this.get(xe,e));return r}minColumnIndex(e){checkColumnIndex(this,e),checkNonEmpty(this);let r=this.get(0,e),xe=[0,e];for(let Se=1;Se<this.rows;Se++)this.get(Se,e)<r&&(r=this.get(Se,e),xe[0]=Se);return xe}diag(){let e=Math.min(this.rows,this.columns),r=[];for(let xe=0;xe<e;xe++)r.push(this.get(xe,xe));return r}norm(e="frobenius"){switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${e}`)}}cumulativeSum(){let e=0;for(let r=0;r<this.rows;r++)for(let xe=0;xe<this.columns;xe++)e+=this.get(r,xe),this.set(r,xe,e);return this}dot(e){AbstractMatrix.isMatrix(e)&&(e=e.to1DArray());let r=this.to1DArray();if(r.length!==e.length)throw new RangeError("vectors do not have the same size");let xe=0;for(let Se=0;Se<r.length;Se++)xe+=r[Se]*e[Se];return xe}mmul(e){e=Matrix$3.checkMatrix(e);let r=this.rows,xe=this.columns,Se=e.columns,_e=new Matrix$3(r,Se),Ae=new Float64Array(xe);for(let Ce=0;Ce<Se;Ce++){for(let Pe=0;Pe<xe;Pe++)Ae[Pe]=e.get(Pe,Ce);for(let Pe=0;Pe<r;Pe++){let Ee=0;for(let Oe=0;Oe<xe;Oe++)Ee+=this.get(Pe,Oe)*Ae[Oe];_e.set(Pe,Ce,Ee)}}return _e}strassen2x2(e){e=Matrix$3.checkMatrix(e);let r=new Matrix$3(2,2);const xe=this.get(0,0),Se=e.get(0,0),_e=this.get(0,1),Ae=e.get(0,1),Ce=this.get(1,0),Pe=e.get(1,0),Ee=this.get(1,1),Oe=e.get(1,1),Me=(xe+Ee)*(Se+Oe),De=(Ce+Ee)*Se,Te=xe*(Ae-Oe),ke=Ee*(Pe-Se),Fe=(xe+_e)*Oe,$e=(Ce-xe)*(Se+Ae),Be=(_e-Ee)*(Pe+Oe),Ie=Me+ke-Fe+Be,Re=Te+Fe,je=De+ke,Ve=Me-De+Te+$e;return r.set(0,0,Ie),r.set(0,1,Re),r.set(1,0,je),r.set(1,1,Ve),r}strassen3x3(e){e=Matrix$3.checkMatrix(e);let r=new Matrix$3(3,3);const xe=this.get(0,0),Se=this.get(0,1),_e=this.get(0,2),Ae=this.get(1,0),Ce=this.get(1,1),Pe=this.get(1,2),Ee=this.get(2,0),Oe=this.get(2,1),Me=this.get(2,2),De=e.get(0,0),Te=e.get(0,1),ke=e.get(0,2),Fe=e.get(1,0),$e=e.get(1,1),Be=e.get(1,2),Ie=e.get(2,0),Re=e.get(2,1),je=e.get(2,2),Ve=(xe+Se+_e-Ae-Ce-Oe-Me)*$e,He=(xe-Ae)*(-Te+$e),ze=Ce*(-De+Te+Fe-$e-Be-Ie+je),Ue=(-xe+Ae+Ce)*(De-Te+$e),We=(Ae+Ce)*(-De+Te),qe=xe*De,Ge=(-xe+Ee+Oe)*(De-ke+Be),Ye=(-xe+Ee)*(ke-Be),Qe=(Ee+Oe)*(-De+ke),Je=(xe+Se+_e-Ce-Pe-Ee-Oe)*Be,ri=Oe*(-De+ke+Fe-$e-Be-Ie+Re),hi=(-_e+Oe+Me)*($e+Ie-Re),pi=(_e-Me)*($e-Re),ni=_e*Ie,di=(Oe+Me)*(-Ie+Re),fi=(-_e+Ce+Pe)*(Be+Ie-je),Pi=(_e-Pe)*(Be-je),ci=(Ce+Pe)*(-Ie+je),xi=Se*Fe,yi=Pe*Re,gi=Ae*ke,Ai=Ee*Te,Mi=Me*je,Fi=qe+ni+xi,Di=Ve+Ue+We+qe+hi+ni+di,oi=qe+Ge+Qe+Je+ni+fi+ci,Ke=He+ze+Ue+qe+ni+fi+Pi,St=He+Ue+We+qe+yi,ei=ni+fi+Pi+ci+gi,ui=qe+Ge+Ye+ri+hi+pi+ni,ai=hi+pi+ni+di+Ai,ii=qe+Ge+Ye+Qe+Mi;return r.set(0,0,Fi),r.set(0,1,Di),r.set(0,2,oi),r.set(1,0,Ke),r.set(1,1,St),r.set(1,2,ei),r.set(2,0,ui),r.set(2,1,ai),r.set(2,2,ii),r}mmulStrassen(e){e=Matrix$3.checkMatrix(e);let r=this.clone(),xe=r.rows,Se=r.columns,_e=e.rows,Ae=e.columns;Se!==_e&&console.warn(`Multiplying ${xe} x ${Se} and ${_e} x ${Ae} matrix: dimensions do not match.`);function Ce(Me,De,Te){let ke=Me.rows,Fe=Me.columns;if(ke===De&&Fe===Te)return Me;{let $e=AbstractMatrix.zeros(De,Te);return $e=$e.setSubMatrix(Me,0,0),$e}}let Pe=Math.max(xe,_e),Ee=Math.max(Se,Ae);r=Ce(r,Pe,Ee),e=Ce(e,Pe,Ee);function Oe(Me,De,Te,ke){if(Te<=512||ke<=512)return Me.mmul(De);Te%2===1&&ke%2===1?(Me=Ce(Me,Te+1,ke+1),De=Ce(De,Te+1,ke+1)):Te%2===1?(Me=Ce(Me,Te+1,ke),De=Ce(De,Te+1,ke)):ke%2===1&&(Me=Ce(Me,Te,ke+1),De=Ce(De,Te,ke+1));let Fe=parseInt(Me.rows/2,10),$e=parseInt(Me.columns/2,10),Be=Me.subMatrix(0,Fe-1,0,$e-1),Ie=De.subMatrix(0,Fe-1,0,$e-1),Re=Me.subMatrix(0,Fe-1,$e,Me.columns-1),je=De.subMatrix(0,Fe-1,$e,De.columns-1),Ve=Me.subMatrix(Fe,Me.rows-1,0,$e-1),He=De.subMatrix(Fe,De.rows-1,0,$e-1),ze=Me.subMatrix(Fe,Me.rows-1,$e,Me.columns-1),Ue=De.subMatrix(Fe,De.rows-1,$e,De.columns-1),We=Oe(AbstractMatrix.add(Be,ze),AbstractMatrix.add(Ie,Ue),Fe,$e),qe=Oe(AbstractMatrix.add(Ve,ze),Ie,Fe,$e),Ge=Oe(Be,AbstractMatrix.sub(je,Ue),Fe,$e),Ye=Oe(ze,AbstractMatrix.sub(He,Ie),Fe,$e),Qe=Oe(AbstractMatrix.add(Be,Re),Ue,Fe,$e),Je=Oe(AbstractMatrix.sub(Ve,Be),AbstractMatrix.add(Ie,je),Fe,$e),ri=Oe(AbstractMatrix.sub(Re,ze),AbstractMatrix.add(He,Ue),Fe,$e),hi=AbstractMatrix.add(We,Ye);hi.sub(Qe),hi.add(ri);let pi=AbstractMatrix.add(Ge,Qe),ni=AbstractMatrix.add(qe,Ye),di=AbstractMatrix.sub(We,qe);di.add(Ge),di.add(Je);let fi=AbstractMatrix.zeros(2*hi.rows,2*hi.columns);return fi=fi.setSubMatrix(hi,0,0),fi=fi.setSubMatrix(pi,hi.rows,0),fi=fi.setSubMatrix(ni,0,hi.columns),fi=fi.setSubMatrix(di,hi.rows,hi.columns),fi.subMatrix(0,Te-1,0,ke-1)}return Oe(r,e,Pe,Ee)}scaleRows(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:r=0,max:xe=1}=e;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(xe))throw new TypeError("max must be a number");if(r>=xe)throw new RangeError("min must be smaller than max");let Se=new Matrix$3(this.rows,this.columns);for(let _e=0;_e<this.rows;_e++){const Ae=this.getRow(_e);Ae.length>0&&rescale(Ae,{min:r,max:xe,output:Ae}),Se.setRow(_e,Ae)}return Se}scaleColumns(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:r=0,max:xe=1}=e;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(xe))throw new TypeError("max must be a number");if(r>=xe)throw new RangeError("min must be smaller than max");let Se=new Matrix$3(this.rows,this.columns);for(let _e=0;_e<this.columns;_e++){const Ae=this.getColumn(_e);Ae.length&&rescale(Ae,{min:r,max:xe,output:Ae}),Se.setColumn(_e,Ae)}return Se}flipRows(){const e=Math.ceil(this.columns/2);for(let r=0;r<this.rows;r++)for(let xe=0;xe<e;xe++){let Se=this.get(r,xe),_e=this.get(r,this.columns-1-xe);this.set(r,xe,_e),this.set(r,this.columns-1-xe,Se)}return this}flipColumns(){const e=Math.ceil(this.rows/2);for(let r=0;r<this.columns;r++)for(let xe=0;xe<e;xe++){let Se=this.get(xe,r),_e=this.get(this.rows-1-xe,r);this.set(xe,r,_e),this.set(this.rows-1-xe,r,Se)}return this}kroneckerProduct(e){e=Matrix$3.checkMatrix(e);let r=this.rows,xe=this.columns,Se=e.rows,_e=e.columns,Ae=new Matrix$3(r*Se,xe*_e);for(let Ce=0;Ce<r;Ce++)for(let Pe=0;Pe<xe;Pe++)for(let Ee=0;Ee<Se;Ee++)for(let Oe=0;Oe<_e;Oe++)Ae.set(Se*Ce+Ee,_e*Pe+Oe,this.get(Ce,Pe)*e.get(Ee,Oe));return Ae}kroneckerSum(e){if(e=Matrix$3.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let r=this.rows,xe=e.rows,Se=this.kroneckerProduct(Matrix$3.eye(xe,xe)),_e=Matrix$3.eye(r,r).kroneckerProduct(e);return Se.add(_e)}transpose(){let e=new Matrix$3(this.columns,this.rows);for(let r=0;r<this.rows;r++)for(let xe=0;xe<this.columns;xe++)e.set(xe,r,this.get(r,xe));return e}sortRows(e=compareNumbers){for(let r=0;r<this.rows;r++)this.setRow(r,this.getRow(r).sort(e));return this}sortColumns(e=compareNumbers){for(let r=0;r<this.columns;r++)this.setColumn(r,this.getColumn(r).sort(e));return this}subMatrix(e,r,xe,Se){checkRange(this,e,r,xe,Se);let _e=new Matrix$3(r-e+1,Se-xe+1);for(let Ae=e;Ae<=r;Ae++)for(let Ce=xe;Ce<=Se;Ce++)_e.set(Ae-e,Ce-xe,this.get(Ae,Ce));return _e}subMatrixRow(e,r,xe){if(r===void 0&&(r=0),xe===void 0&&(xe=this.columns-1),r>xe||r<0||r>=this.columns||xe<0||xe>=this.columns)throw new RangeError("Argument out of range");let Se=new Matrix$3(e.length,xe-r+1);for(let _e=0;_e<e.length;_e++)for(let Ae=r;Ae<=xe;Ae++){if(e[_e]<0||e[_e]>=this.rows)throw new RangeError(`Row index out of range: ${e[_e]}`);Se.set(_e,Ae-r,this.get(e[_e],Ae))}return Se}subMatrixColumn(e,r,xe){if(r===void 0&&(r=0),xe===void 0&&(xe=this.rows-1),r>xe||r<0||r>=this.rows||xe<0||xe>=this.rows)throw new RangeError("Argument out of range");let Se=new Matrix$3(xe-r+1,e.length);for(let _e=0;_e<e.length;_e++)for(let Ae=r;Ae<=xe;Ae++){if(e[_e]<0||e[_e]>=this.columns)throw new RangeError(`Column index out of range: ${e[_e]}`);Se.set(Ae-r,_e,this.get(Ae,e[_e]))}return Se}setSubMatrix(e,r,xe){if(e=Matrix$3.checkMatrix(e),e.isEmpty())return this;let Se=r+e.rows-1,_e=xe+e.columns-1;checkRange(this,r,Se,xe,_e);for(let Ae=0;Ae<e.rows;Ae++)for(let Ce=0;Ce<e.columns;Ce++)this.set(r+Ae,xe+Ce,e.get(Ae,Ce));return this}selection(e,r){checkRowIndices(this,e),checkColumnIndices(this,r);let xe=new Matrix$3(e.length,r.length);for(let Se=0;Se<e.length;Se++){let _e=e[Se];for(let Ae=0;Ae<r.length;Ae++){let Ce=r[Ae];xe.set(Se,Ae,this.get(_e,Ce))}}return xe}trace(){let e=Math.min(this.rows,this.columns),r=0;for(let xe=0;xe<e;xe++)r+=this.get(xe,xe);return r}clone(){return this.constructor.copy(this,new Matrix$3(this.rows,this.columns))}static copy(e,r){for(const[xe,Se,_e]of e.entries())r.set(xe,Se,_e);return r}sum(e){switch(e){case"row":return sumByRow(this);case"column":return sumByColumn(this);case void 0:return sumAll(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return productByRow(this);case"column":return productByColumn(this);case void 0:return productAll(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){const r=this.sum(e);switch(e){case"row":{for(let xe=0;xe<this.rows;xe++)r[xe]/=this.columns;return r}case"column":{for(let xe=0;xe<this.columns;xe++)r[xe]/=this.rows;return r}case void 0:return r/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,r={}){if(typeof e=="object"&&(r=e,e=void 0),typeof r!="object")throw new TypeError("options must be an object");const{unbiased:xe=!0,mean:Se=this.mean(e)}=r;if(typeof xe!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!isAnyArray.isAnyArray(Se))throw new TypeError("mean must be an array");return varianceByRow(this,xe,Se)}case"column":{if(!isAnyArray.isAnyArray(Se))throw new TypeError("mean must be an array");return varianceByColumn(this,xe,Se)}case void 0:{if(typeof Se!="number")throw new TypeError("mean must be a number");return varianceAll(this,xe,Se)}default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,r){typeof e=="object"&&(r=e,e=void 0);const xe=this.variance(e,r);if(e===void 0)return Math.sqrt(xe);for(let Se=0;Se<xe.length;Se++)xe[Se]=Math.sqrt(xe[Se]);return xe}center(e,r={}){if(typeof e=="object"&&(r=e,e=void 0),typeof r!="object")throw new TypeError("options must be an object");const{center:xe=this.mean(e)}=r;switch(e){case"row":{if(!isAnyArray.isAnyArray(xe))throw new TypeError("center must be an array");return centerByRow(this,xe),this}case"column":{if(!isAnyArray.isAnyArray(xe))throw new TypeError("center must be an array");return centerByColumn(this,xe),this}case void 0:{if(typeof xe!="number")throw new TypeError("center must be a number");return centerAll(this,xe),this}default:throw new Error(`invalid option: ${e}`)}}scale(e,r={}){if(typeof e=="object"&&(r=e,e=void 0),typeof r!="object")throw new TypeError("options must be an object");let xe=r.scale;switch(e){case"row":{if(xe===void 0)xe=getScaleByRow(this);else if(!isAnyArray.isAnyArray(xe))throw new TypeError("scale must be an array");return scaleByRow(this,xe),this}case"column":{if(xe===void 0)xe=getScaleByColumn(this);else if(!isAnyArray.isAnyArray(xe))throw new TypeError("scale must be an array");return scaleByColumn(this,xe),this}case void 0:{if(xe===void 0)xe=getScaleAll(this);else if(typeof xe!="number")throw new TypeError("scale must be a number");return scaleAll(this,xe),this}default:throw new Error(`invalid option: ${e}`)}}toString(e){return inspectMatrixWithOptions(this,e)}[Symbol.iterator](){return this.entries()}*entries(){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)yield[e,r,this.get(e,r)]}*values(){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)yield this.get(e,r)}}AbstractMatrix.prototype.klass="Matrix";typeof Symbol<"u"&&(AbstractMatrix.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspectMatrix);function compareNumbers(t,e){return t-e}function isArrayOfNumbers(t){return t.every(e=>typeof e=="number")}AbstractMatrix.random=AbstractMatrix.rand;AbstractMatrix.randomInt=AbstractMatrix.randInt;AbstractMatrix.diagonal=AbstractMatrix.diag;AbstractMatrix.prototype.diagonal=AbstractMatrix.prototype.diag;AbstractMatrix.identity=AbstractMatrix.eye;AbstractMatrix.prototype.negate=AbstractMatrix.prototype.neg;AbstractMatrix.prototype.tensorProduct=AbstractMatrix.prototype.kroneckerProduct;var zs,kl,ds;let Matrix$3=(ds=class extends AbstractMatrix{constructor(r,xe){super();Dl(this,zs);Tn(this,"data");if(ds.isMatrix(r))Tl(this,zs,kl).call(this,r.rows,r.columns),ds.copy(r,this);else if(Number.isInteger(r)&&r>=0)Tl(this,zs,kl).call(this,r,xe);else if(isAnyArray.isAnyArray(r)){const Se=r;if(r=Se.length,xe=r?Se[0].length:0,typeof xe!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let _e=0;_e<r;_e++){if(Se[_e].length!==xe)throw new RangeError("Inconsistent array dimensions");if(!isArrayOfNumbers(Se[_e]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(Se[_e]))}this.rows=r,this.columns=xe}else throw new TypeError("First argument must be a positive number or an array")}set(r,xe,Se){return this.data[r][xe]=Se,this}get(r,xe){return this.data[r][xe]}removeRow(r){return checkRowIndex(this,r),this.data.splice(r,1),this.rows-=1,this}addRow(r,xe){return xe===void 0&&(xe=r,r=this.rows),checkRowIndex(this,r,!0),xe=Float64Array.from(checkRowVector(this,xe)),this.data.splice(r,0,xe),this.rows+=1,this}removeColumn(r){checkColumnIndex(this,r);for(let xe=0;xe<this.rows;xe++){const Se=new Float64Array(this.columns-1);for(let _e=0;_e<r;_e++)Se[_e]=this.data[xe][_e];for(let _e=r+1;_e<this.columns;_e++)Se[_e-1]=this.data[xe][_e];this.data[xe]=Se}return this.columns-=1,this}addColumn(r,xe){typeof xe>"u"&&(xe=r,r=this.columns),checkColumnIndex(this,r,!0),xe=checkColumnVector(this,xe);for(let Se=0;Se<this.rows;Se++){const _e=new Float64Array(this.columns+1);let Ae=0;for(;Ae<r;Ae++)_e[Ae]=this.data[Se][Ae];for(_e[Ae++]=xe[Se];Ae<this.columns+1;Ae++)_e[Ae]=this.data[Se][Ae-1];this.data[Se]=_e}return this.columns+=1,this}},zs=new WeakSet,kl=function(r,xe){if(this.data=[],Number.isInteger(xe)&&xe>=0)for(let Se=0;Se<r;Se++)this.data.push(new Float64Array(xe));else throw new TypeError("nColumns must be a positive integer");this.rows=r,this.columns=xe},ds);installMathOperations(AbstractMatrix,Matrix$3);var Pr;const Ba=class Ba extends AbstractMatrix{constructor(r){super();Dl(this,Pr,void 0);if(Matrix$3.isMatrix(r)){if(!r.isSymmetric())throw new TypeError("not symmetric data");ka(this,Pr,Matrix$3.copy(r,new Matrix$3(r.rows,r.rows)))}else if(Number.isInteger(r)&&r>=0)ka(this,Pr,new Matrix$3(r,r));else if(ka(this,Pr,new Matrix$3(r)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return Qr(this,Pr).size}get rows(){return Qr(this,Pr).rows}get columns(){return Qr(this,Pr).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(r){return Matrix$3.isMatrix(r)&&r.klassType==="SymmetricMatrix"}static zeros(r){return new this(r)}static ones(r){return new this(r).fill(1)}clone(){const r=new Ba(this.diagonalSize);for(const[xe,Se,_e]of this.upperRightEntries())r.set(xe,Se,_e);return r}toMatrix(){return new Matrix$3(this)}get(r,xe){return Qr(this,Pr).get(r,xe)}set(r,xe,Se){return Qr(this,Pr).set(r,xe,Se),Qr(this,Pr).set(xe,r,Se),this}removeCross(r){return Qr(this,Pr).removeRow(r),Qr(this,Pr).removeColumn(r),this}addCross(r,xe){xe===void 0&&(xe=r,r=this.diagonalSize);const Se=xe.slice();return Se.splice(r,1),Qr(this,Pr).addRow(r,Se),Qr(this,Pr).addColumn(r,xe),this}applyMask(r){if(r.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const xe=[];for(const[Se,_e]of r.entries())_e||xe.push(Se);xe.reverse();for(const Se of xe)this.removeCross(Se);return this}toCompact(){const{diagonalSize:r}=this,xe=new Array(r*(r+1)/2);for(let Se=0,_e=0,Ae=0;Ae<xe.length;Ae++)xe[Ae]=this.get(_e,Se),++Se>=r&&(Se=++_e);return xe}static fromCompact(r){const xe=r.length,Se=(Math.sqrt(8*xe+1)-1)/2;if(!Number.isInteger(Se))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(r)}`);const _e=new Ba(Se);for(let Ae=0,Ce=0,Pe=0;Pe<xe;Pe++)_e.set(Ae,Ce,r[Pe]),++Ae>=Se&&(Ae=++Ce);return _e}*upperRightEntries(){for(let r=0,xe=0;r<this.diagonalSize;void 0){const Se=this.get(r,xe);yield[r,xe,Se],++xe>=this.diagonalSize&&(xe=++r)}}*upperRightValues(){for(let r=0,xe=0;r<this.diagonalSize;void 0)yield this.get(r,xe),++xe>=this.diagonalSize&&(xe=++r)}};Pr=new WeakMap;let SymmetricMatrix=Ba;SymmetricMatrix.prototype.klassType="SymmetricMatrix";class DistanceMatrix extends SymmetricMatrix{static isDistanceMatrix(e){return SymmetricMatrix.isSymmetricMatrix(e)&&e.klassSubType==="DistanceMatrix"}constructor(e){if(super(e),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(e,r,xe){return e===r&&(xe=0),super.set(e,r,xe)}addCross(e,r){return r===void 0&&(r=e,e=this.diagonalSize),r=r.slice(),r[e]=0,super.addCross(e,r)}toSymmetricMatrix(){return new SymmetricMatrix(this)}clone(){const e=new DistanceMatrix(this.diagonalSize);for(const[r,xe,Se]of this.upperRightEntries())r!==xe&&e.set(r,xe,Se);return e}toCompact(){const{diagonalSize:e}=this,r=(e-1)*e/2,xe=new Array(r);for(let Se=1,_e=0,Ae=0;Ae<xe.length;Ae++)xe[Ae]=this.get(_e,Se),++Se>=e&&(Se=++_e+1);return xe}static fromCompact(e){const r=e.length,xe=(Math.sqrt(8*r+1)+1)/2;if(!Number.isInteger(xe))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(e)}`);const Se=new this(xe);for(let _e=1,Ae=0,Ce=0;Ce<r;Ce++)Se.set(_e,Ae,e[Ce]),++_e>=xe&&(_e=++Ae+1);return Se}}DistanceMatrix.prototype.klassSubType="DistanceMatrix";class BaseView extends AbstractMatrix{constructor(e,r,xe){super(),this.matrix=e,this.rows=r,this.columns=xe}}class MatrixColumnView extends BaseView{constructor(e,r){checkColumnIndex(e,r),super(e,e.rows,1),this.column=r}set(e,r,xe){return this.matrix.set(e,this.column,xe),this}get(e){return this.matrix.get(e,this.column)}}class MatrixColumnSelectionView extends BaseView{constructor(e,r){checkColumnIndices(e,r),super(e,e.rows,r.length),this.columnIndices=r}set(e,r,xe){return this.matrix.set(e,this.columnIndices[r],xe),this}get(e,r){return this.matrix.get(e,this.columnIndices[r])}}class MatrixFlipColumnView extends BaseView{constructor(e){super(e,e.rows,e.columns)}set(e,r,xe){return this.matrix.set(e,this.columns-r-1,xe),this}get(e,r){return this.matrix.get(e,this.columns-r-1)}}class MatrixFlipRowView extends BaseView{constructor(e){super(e,e.rows,e.columns)}set(e,r,xe){return this.matrix.set(this.rows-e-1,r,xe),this}get(e,r){return this.matrix.get(this.rows-e-1,r)}}class MatrixRowView extends BaseView{constructor(e,r){checkRowIndex(e,r),super(e,1,e.columns),this.row=r}set(e,r,xe){return this.matrix.set(this.row,r,xe),this}get(e,r){return this.matrix.get(this.row,r)}}class MatrixRowSelectionView extends BaseView{constructor(e,r){checkRowIndices(e,r),super(e,r.length,e.columns),this.rowIndices=r}set(e,r,xe){return this.matrix.set(this.rowIndices[e],r,xe),this}get(e,r){return this.matrix.get(this.rowIndices[e],r)}}class MatrixSelectionView extends BaseView{constructor(e,r,xe){checkRowIndices(e,r),checkColumnIndices(e,xe),super(e,r.length,xe.length),this.rowIndices=r,this.columnIndices=xe}set(e,r,xe){return this.matrix.set(this.rowIndices[e],this.columnIndices[r],xe),this}get(e,r){return this.matrix.get(this.rowIndices[e],this.columnIndices[r])}}class MatrixSubView extends BaseView{constructor(e,r,xe,Se,_e){checkRange(e,r,xe,Se,_e),super(e,xe-r+1,_e-Se+1),this.startRow=r,this.startColumn=Se}set(e,r,xe){return this.matrix.set(this.startRow+e,this.startColumn+r,xe),this}get(e,r){return this.matrix.get(this.startRow+e,this.startColumn+r)}}let MatrixTransposeView$1=class extends BaseView{constructor(e){super(e,e.columns,e.rows)}set(e,r,xe){return this.matrix.set(r,e,xe),this}get(e,r){return this.matrix.get(r,e)}};class WrapperMatrix1D extends AbstractMatrix{constructor(e,r={}){const{rows:xe=1}=r;if(e.length%xe!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=xe,this.columns=e.length/xe,this.data=e}set(e,r,xe){let Se=this._calculateIndex(e,r);return this.data[Se]=xe,this}get(e,r){let xe=this._calculateIndex(e,r);return this.data[xe]}_calculateIndex(e,r){return e*this.columns+r}}class WrapperMatrix2D extends AbstractMatrix{constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,r,xe){return this.data[e][r]=xe,this}get(e,r){return this.data[e][r]}}function wrap(t,e){if(isAnyArray.isAnyArray(t))return t[0]&&isAnyArray.isAnyArray(t[0])?new WrapperMatrix2D(t):new WrapperMatrix1D(t,e);throw new Error("the argument is not an array")}class LuDecomposition{constructor(e){e=WrapperMatrix2D.checkMatrix(e);let r=e.clone(),xe=r.rows,Se=r.columns,_e=new Float64Array(xe),Ae=1,Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe;for(Ce=0;Ce<xe;Ce++)_e[Ce]=Ce;for(ke=new Float64Array(xe),Pe=0;Pe<Se;Pe++){for(Ce=0;Ce<xe;Ce++)ke[Ce]=r.get(Ce,Pe);for(Ce=0;Ce<xe;Ce++){for(Fe=Math.min(Ce,Pe),Me=0,Ee=0;Ee<Fe;Ee++)Me+=r.get(Ce,Ee)*ke[Ee];ke[Ce]-=Me,r.set(Ce,Pe,ke[Ce])}for(Oe=Pe,Ce=Pe+1;Ce<xe;Ce++)Math.abs(ke[Ce])>Math.abs(ke[Oe])&&(Oe=Ce);if(Oe!==Pe){for(Ee=0;Ee<Se;Ee++)De=r.get(Oe,Ee),r.set(Oe,Ee,r.get(Pe,Ee)),r.set(Pe,Ee,De);Te=_e[Oe],_e[Oe]=_e[Pe],_e[Pe]=Te,Ae=-Ae}if(Pe<xe&&r.get(Pe,Pe)!==0)for(Ce=Pe+1;Ce<xe;Ce++)r.set(Ce,Pe,r.get(Ce,Pe)/r.get(Pe,Pe))}this.LU=r,this.pivotVector=_e,this.pivotSign=Ae}isSingular(){let e=this.LU,r=e.columns;for(let xe=0;xe<r;xe++)if(e.get(xe,xe)===0)return!0;return!1}solve(e){e=Matrix$3.checkMatrix(e);let r=this.LU;if(r.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let Se=e.columns,_e=e.subMatrixRow(this.pivotVector,0,Se-1),Ae=r.columns,Ce,Pe,Ee;for(Ee=0;Ee<Ae;Ee++)for(Ce=Ee+1;Ce<Ae;Ce++)for(Pe=0;Pe<Se;Pe++)_e.set(Ce,Pe,_e.get(Ce,Pe)-_e.get(Ee,Pe)*r.get(Ce,Ee));for(Ee=Ae-1;Ee>=0;Ee--){for(Pe=0;Pe<Se;Pe++)_e.set(Ee,Pe,_e.get(Ee,Pe)/r.get(Ee,Ee));for(Ce=0;Ce<Ee;Ce++)for(Pe=0;Pe<Se;Pe++)_e.set(Ce,Pe,_e.get(Ce,Pe)-_e.get(Ee,Pe)*r.get(Ce,Ee))}return _e}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let r=this.pivotSign,xe=e.columns;for(let Se=0;Se<xe;Se++)r*=e.get(Se,Se);return r}get lowerTriangularMatrix(){let e=this.LU,r=e.rows,xe=e.columns,Se=new Matrix$3(r,xe);for(let _e=0;_e<r;_e++)for(let Ae=0;Ae<xe;Ae++)_e>Ae?Se.set(_e,Ae,e.get(_e,Ae)):_e===Ae?Se.set(_e,Ae,1):Se.set(_e,Ae,0);return Se}get upperTriangularMatrix(){let e=this.LU,r=e.rows,xe=e.columns,Se=new Matrix$3(r,xe);for(let _e=0;_e<r;_e++)for(let Ae=0;Ae<xe;Ae++)_e<=Ae?Se.set(_e,Ae,e.get(_e,Ae)):Se.set(_e,Ae,0);return Se}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function hypotenuse$1(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):e!==0?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}class QrDecomposition{constructor(e){e=WrapperMatrix2D.checkMatrix(e);let r=e.clone(),xe=e.rows,Se=e.columns,_e=new Float64Array(Se),Ae,Ce,Pe,Ee;for(Pe=0;Pe<Se;Pe++){let Oe=0;for(Ae=Pe;Ae<xe;Ae++)Oe=hypotenuse$1(Oe,r.get(Ae,Pe));if(Oe!==0){for(r.get(Pe,Pe)<0&&(Oe=-Oe),Ae=Pe;Ae<xe;Ae++)r.set(Ae,Pe,r.get(Ae,Pe)/Oe);for(r.set(Pe,Pe,r.get(Pe,Pe)+1),Ce=Pe+1;Ce<Se;Ce++){for(Ee=0,Ae=Pe;Ae<xe;Ae++)Ee+=r.get(Ae,Pe)*r.get(Ae,Ce);for(Ee=-Ee/r.get(Pe,Pe),Ae=Pe;Ae<xe;Ae++)r.set(Ae,Ce,r.get(Ae,Ce)+Ee*r.get(Ae,Pe))}}_e[Pe]=-Oe}this.QR=r,this.Rdiag=_e}solve(e){e=Matrix$3.checkMatrix(e);let r=this.QR,xe=r.rows;if(e.rows!==xe)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let Se=e.columns,_e=e.clone(),Ae=r.columns,Ce,Pe,Ee,Oe;for(Ee=0;Ee<Ae;Ee++)for(Pe=0;Pe<Se;Pe++){for(Oe=0,Ce=Ee;Ce<xe;Ce++)Oe+=r.get(Ce,Ee)*_e.get(Ce,Pe);for(Oe=-Oe/r.get(Ee,Ee),Ce=Ee;Ce<xe;Ce++)_e.set(Ce,Pe,_e.get(Ce,Pe)+Oe*r.get(Ce,Ee))}for(Ee=Ae-1;Ee>=0;Ee--){for(Pe=0;Pe<Se;Pe++)_e.set(Ee,Pe,_e.get(Ee,Pe)/this.Rdiag[Ee]);for(Ce=0;Ce<Ee;Ce++)for(Pe=0;Pe<Se;Pe++)_e.set(Ce,Pe,_e.get(Ce,Pe)-_e.get(Ee,Pe)*r.get(Ce,Ee))}return _e.subMatrix(0,Ae-1,0,Se-1)}isFullRank(){let e=this.QR.columns;for(let r=0;r<e;r++)if(this.Rdiag[r]===0)return!1;return!0}get upperTriangularMatrix(){let e=this.QR,r=e.columns,xe=new Matrix$3(r,r),Se,_e;for(Se=0;Se<r;Se++)for(_e=0;_e<r;_e++)Se<_e?xe.set(Se,_e,e.get(Se,_e)):Se===_e?xe.set(Se,_e,this.Rdiag[Se]):xe.set(Se,_e,0);return xe}get orthogonalMatrix(){let e=this.QR,r=e.rows,xe=e.columns,Se=new Matrix$3(r,xe),_e,Ae,Ce,Pe;for(Ce=xe-1;Ce>=0;Ce--){for(_e=0;_e<r;_e++)Se.set(_e,Ce,0);for(Se.set(Ce,Ce,1),Ae=Ce;Ae<xe;Ae++)if(e.get(Ce,Ce)!==0){for(Pe=0,_e=Ce;_e<r;_e++)Pe+=e.get(_e,Ce)*Se.get(_e,Ae);for(Pe=-Pe/e.get(Ce,Ce),_e=Ce;_e<r;_e++)Se.set(_e,Ae,Se.get(_e,Ae)+Pe*e.get(_e,Ce))}}return Se}}let SingularValueDecomposition$1=class{constructor(e,r={}){if(e=WrapperMatrix2D.checkMatrix(e),e.isEmpty())throw new Error("Matrix must be non-empty");let xe=e.rows,Se=e.columns;const{computeLeftSingularVectors:_e=!0,computeRightSingularVectors:Ae=!0,autoTranspose:Ce=!1}=r;let Pe=!!_e,Ee=!!Ae,Oe=!1,Me;if(xe<Se)if(!Ce)Me=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{Me=e.transpose(),xe=Me.rows,Se=Me.columns,Oe=!0;let qe=Pe;Pe=Ee,Ee=qe}else Me=e.clone();let De=Math.min(xe,Se),Te=Math.min(xe+1,Se),ke=new Float64Array(Te),Fe=new Matrix$3(xe,De),$e=new Matrix$3(Se,Se),Be=new Float64Array(Se),Ie=new Float64Array(xe),Re=new Float64Array(Te);for(let qe=0;qe<Te;qe++)Re[qe]=qe;let je=Math.min(xe-1,Se),Ve=Math.max(0,Math.min(Se-2,xe)),He=Math.max(je,Ve);for(let qe=0;qe<He;qe++){if(qe<je){ke[qe]=0;for(let Ge=qe;Ge<xe;Ge++)ke[qe]=hypotenuse$1(ke[qe],Me.get(Ge,qe));if(ke[qe]!==0){Me.get(qe,qe)<0&&(ke[qe]=-ke[qe]);for(let Ge=qe;Ge<xe;Ge++)Me.set(Ge,qe,Me.get(Ge,qe)/ke[qe]);Me.set(qe,qe,Me.get(qe,qe)+1)}ke[qe]=-ke[qe]}for(let Ge=qe+1;Ge<Se;Ge++){if(qe<je&&ke[qe]!==0){let Ye=0;for(let Qe=qe;Qe<xe;Qe++)Ye+=Me.get(Qe,qe)*Me.get(Qe,Ge);Ye=-Ye/Me.get(qe,qe);for(let Qe=qe;Qe<xe;Qe++)Me.set(Qe,Ge,Me.get(Qe,Ge)+Ye*Me.get(Qe,qe))}Be[Ge]=Me.get(qe,Ge)}if(Pe&&qe<je)for(let Ge=qe;Ge<xe;Ge++)Fe.set(Ge,qe,Me.get(Ge,qe));if(qe<Ve){Be[qe]=0;for(let Ge=qe+1;Ge<Se;Ge++)Be[qe]=hypotenuse$1(Be[qe],Be[Ge]);if(Be[qe]!==0){Be[qe+1]<0&&(Be[qe]=0-Be[qe]);for(let Ge=qe+1;Ge<Se;Ge++)Be[Ge]/=Be[qe];Be[qe+1]+=1}if(Be[qe]=-Be[qe],qe+1<xe&&Be[qe]!==0){for(let Ge=qe+1;Ge<xe;Ge++)Ie[Ge]=0;for(let Ge=qe+1;Ge<xe;Ge++)for(let Ye=qe+1;Ye<Se;Ye++)Ie[Ge]+=Be[Ye]*Me.get(Ge,Ye);for(let Ge=qe+1;Ge<Se;Ge++){let Ye=-Be[Ge]/Be[qe+1];for(let Qe=qe+1;Qe<xe;Qe++)Me.set(Qe,Ge,Me.get(Qe,Ge)+Ye*Ie[Qe])}}if(Ee)for(let Ge=qe+1;Ge<Se;Ge++)$e.set(Ge,qe,Be[Ge])}}let ze=Math.min(Se,xe+1);if(je<Se&&(ke[je]=Me.get(je,je)),xe<ze&&(ke[ze-1]=0),Ve+1<ze&&(Be[Ve]=Me.get(Ve,ze-1)),Be[ze-1]=0,Pe){for(let qe=je;qe<De;qe++){for(let Ge=0;Ge<xe;Ge++)Fe.set(Ge,qe,0);Fe.set(qe,qe,1)}for(let qe=je-1;qe>=0;qe--)if(ke[qe]!==0){for(let Ge=qe+1;Ge<De;Ge++){let Ye=0;for(let Qe=qe;Qe<xe;Qe++)Ye+=Fe.get(Qe,qe)*Fe.get(Qe,Ge);Ye=-Ye/Fe.get(qe,qe);for(let Qe=qe;Qe<xe;Qe++)Fe.set(Qe,Ge,Fe.get(Qe,Ge)+Ye*Fe.get(Qe,qe))}for(let Ge=qe;Ge<xe;Ge++)Fe.set(Ge,qe,-Fe.get(Ge,qe));Fe.set(qe,qe,1+Fe.get(qe,qe));for(let Ge=0;Ge<qe-1;Ge++)Fe.set(Ge,qe,0)}else{for(let Ge=0;Ge<xe;Ge++)Fe.set(Ge,qe,0);Fe.set(qe,qe,1)}}if(Ee)for(let qe=Se-1;qe>=0;qe--){if(qe<Ve&&Be[qe]!==0)for(let Ge=qe+1;Ge<Se;Ge++){let Ye=0;for(let Qe=qe+1;Qe<Se;Qe++)Ye+=$e.get(Qe,qe)*$e.get(Qe,Ge);Ye=-Ye/$e.get(qe+1,qe);for(let Qe=qe+1;Qe<Se;Qe++)$e.set(Qe,Ge,$e.get(Qe,Ge)+Ye*$e.get(Qe,qe))}for(let Ge=0;Ge<Se;Ge++)$e.set(Ge,qe,0);$e.set(qe,qe,1)}let Ue=ze-1,We=Number.EPSILON;for(;ze>0;){let qe,Ge;for(qe=ze-2;qe>=-1&&qe!==-1;qe--){const Ye=Number.MIN_VALUE+We*Math.abs(ke[qe]+Math.abs(ke[qe+1]));if(Math.abs(Be[qe])<=Ye||Number.isNaN(Be[qe])){Be[qe]=0;break}}if(qe===ze-2)Ge=4;else{let Ye;for(Ye=ze-1;Ye>=qe&&Ye!==qe;Ye--){let Qe=(Ye!==ze?Math.abs(Be[Ye]):0)+(Ye!==qe+1?Math.abs(Be[Ye-1]):0);if(Math.abs(ke[Ye])<=We*Qe){ke[Ye]=0;break}}Ye===qe?Ge=3:Ye===ze-1?Ge=1:(Ge=2,qe=Ye)}switch(qe++,Ge){case 1:{let Ye=Be[ze-2];Be[ze-2]=0;for(let Qe=ze-2;Qe>=qe;Qe--){let Je=hypotenuse$1(ke[Qe],Ye),ri=ke[Qe]/Je,hi=Ye/Je;if(ke[Qe]=Je,Qe!==qe&&(Ye=-hi*Be[Qe-1],Be[Qe-1]=ri*Be[Qe-1]),Ee)for(let pi=0;pi<Se;pi++)Je=ri*$e.get(pi,Qe)+hi*$e.get(pi,ze-1),$e.set(pi,ze-1,-hi*$e.get(pi,Qe)+ri*$e.get(pi,ze-1)),$e.set(pi,Qe,Je)}break}case 2:{let Ye=Be[qe-1];Be[qe-1]=0;for(let Qe=qe;Qe<ze;Qe++){let Je=hypotenuse$1(ke[Qe],Ye),ri=ke[Qe]/Je,hi=Ye/Je;if(ke[Qe]=Je,Ye=-hi*Be[Qe],Be[Qe]=ri*Be[Qe],Pe)for(let pi=0;pi<xe;pi++)Je=ri*Fe.get(pi,Qe)+hi*Fe.get(pi,qe-1),Fe.set(pi,qe-1,-hi*Fe.get(pi,Qe)+ri*Fe.get(pi,qe-1)),Fe.set(pi,Qe,Je)}break}case 3:{const Ye=Math.max(Math.abs(ke[ze-1]),Math.abs(ke[ze-2]),Math.abs(Be[ze-2]),Math.abs(ke[qe]),Math.abs(Be[qe])),Qe=ke[ze-1]/Ye,Je=ke[ze-2]/Ye,ri=Be[ze-2]/Ye,hi=ke[qe]/Ye,pi=Be[qe]/Ye,ni=((Je+Qe)*(Je-Qe)+ri*ri)/2,di=Qe*ri*(Qe*ri);let fi=0;(ni!==0||di!==0)&&(ni<0?fi=0-Math.sqrt(ni*ni+di):fi=Math.sqrt(ni*ni+di),fi=di/(ni+fi));let Pi=(hi+Qe)*(hi-Qe)+fi,ci=hi*pi;for(let xi=qe;xi<ze-1;xi++){let yi=hypotenuse$1(Pi,ci);yi===0&&(yi=Number.MIN_VALUE);let gi=Pi/yi,Ai=ci/yi;if(xi!==qe&&(Be[xi-1]=yi),Pi=gi*ke[xi]+Ai*Be[xi],Be[xi]=gi*Be[xi]-Ai*ke[xi],ci=Ai*ke[xi+1],ke[xi+1]=gi*ke[xi+1],Ee)for(let Mi=0;Mi<Se;Mi++)yi=gi*$e.get(Mi,xi)+Ai*$e.get(Mi,xi+1),$e.set(Mi,xi+1,-Ai*$e.get(Mi,xi)+gi*$e.get(Mi,xi+1)),$e.set(Mi,xi,yi);if(yi=hypotenuse$1(Pi,ci),yi===0&&(yi=Number.MIN_VALUE),gi=Pi/yi,Ai=ci/yi,ke[xi]=yi,Pi=gi*Be[xi]+Ai*ke[xi+1],ke[xi+1]=-Ai*Be[xi]+gi*ke[xi+1],ci=Ai*Be[xi+1],Be[xi+1]=gi*Be[xi+1],Pe&&xi<xe-1)for(let Mi=0;Mi<xe;Mi++)yi=gi*Fe.get(Mi,xi)+Ai*Fe.get(Mi,xi+1),Fe.set(Mi,xi+1,-Ai*Fe.get(Mi,xi)+gi*Fe.get(Mi,xi+1)),Fe.set(Mi,xi,yi)}Be[ze-2]=Pi;break}case 4:{if(ke[qe]<=0&&(ke[qe]=ke[qe]<0?-ke[qe]:0,Ee))for(let Ye=0;Ye<=Ue;Ye++)$e.set(Ye,qe,-$e.get(Ye,qe));for(;qe<Ue&&!(ke[qe]>=ke[qe+1]);){let Ye=ke[qe];if(ke[qe]=ke[qe+1],ke[qe+1]=Ye,Ee&&qe<Se-1)for(let Qe=0;Qe<Se;Qe++)Ye=$e.get(Qe,qe+1),$e.set(Qe,qe+1,$e.get(Qe,qe)),$e.set(Qe,qe,Ye);if(Pe&&qe<xe-1)for(let Qe=0;Qe<xe;Qe++)Ye=Fe.get(Qe,qe+1),Fe.set(Qe,qe+1,Fe.get(Qe,qe)),Fe.set(Qe,qe,Ye);qe++}ze--;break}}}if(Oe){let qe=$e;$e=Fe,Fe=qe}this.m=xe,this.n=Se,this.s=ke,this.U=Fe,this.V=$e}solve(e){let r=e,xe=this.threshold,Se=this.s.length,_e=Matrix$3.zeros(Se,Se);for(let De=0;De<Se;De++)Math.abs(this.s[De])<=xe?_e.set(De,De,0):_e.set(De,De,1/this.s[De]);let Ae=this.U,Ce=this.rightSingularVectors,Pe=Ce.mmul(_e),Ee=Ce.rows,Oe=Ae.rows,Me=Matrix$3.zeros(Ee,Oe);for(let De=0;De<Ee;De++)for(let Te=0;Te<Oe;Te++){let ke=0;for(let Fe=0;Fe<Se;Fe++)ke+=Pe.get(De,Fe)*Ae.get(Te,Fe);Me.set(De,Te,ke)}return Me.mmul(r)}solveForDiagonal(e){return this.solve(Matrix$3.diag(e))}inverse(){let e=this.V,r=this.threshold,xe=e.rows,Se=e.columns,_e=new Matrix$3(xe,this.s.length);for(let Oe=0;Oe<xe;Oe++)for(let Me=0;Me<Se;Me++)Math.abs(this.s[Me])>r&&_e.set(Oe,Me,e.get(Oe,Me)/this.s[Me]);let Ae=this.U,Ce=Ae.rows,Pe=Ae.columns,Ee=new Matrix$3(xe,Ce);for(let Oe=0;Oe<xe;Oe++)for(let Me=0;Me<Ce;Me++){let De=0;for(let Te=0;Te<Pe;Te++)De+=_e.get(Oe,Te)*Ae.get(Me,Te);Ee.set(Oe,Me,De)}return Ee}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,xe=this.s;for(let Se=0,_e=xe.length;Se<_e;Se++)xe[Se]>e&&r++;return r}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Matrix$3.diag(this.s)}};function inverse$1(t,e=!1){return t=WrapperMatrix2D.checkMatrix(t),e?new SingularValueDecomposition$1(t).inverse():solve$1(t,Matrix$3.eye(t.rows))}function solve$1(t,e,r=!1){return t=WrapperMatrix2D.checkMatrix(t),e=WrapperMatrix2D.checkMatrix(e),r?new SingularValueDecomposition$1(t).solve(e):t.isSquare()?new LuDecomposition(t).solve(e):new QrDecomposition(t).solve(e)}function determinant(t){if(t=Matrix$3.checkMatrix(t),t.isSquare()){if(t.columns===0)return 1;let e,r,xe,Se;if(t.columns===2)return e=t.get(0,0),r=t.get(0,1),xe=t.get(1,0),Se=t.get(1,1),e*Se-r*xe;if(t.columns===3){let _e,Ae,Ce;return _e=new MatrixSelectionView(t,[1,2],[1,2]),Ae=new MatrixSelectionView(t,[1,2],[0,2]),Ce=new MatrixSelectionView(t,[1,2],[0,1]),e=t.get(0,0),r=t.get(0,1),xe=t.get(0,2),e*determinant(_e)-r*determinant(Ae)+xe*determinant(Ce)}else return new LuDecomposition(t).determinant}else throw Error("determinant can only be calculated for a square matrix")}function xrange(t,e){let r=[];for(let xe=0;xe<t;xe++)xe!==e&&r.push(xe);return r}function dependenciesOneRow(t,e,r,xe=1e-9,Se=1e-9){if(t>Se)return new Array(e.rows+1).fill(0);{let _e=e.addRow(r,[0]);for(let Ae=0;Ae<_e.rows;Ae++)Math.abs(_e.get(Ae,0))<xe&&_e.set(Ae,0,0);return _e.to1DArray()}}function linearDependencies(t,e={}){const{thresholdValue:r=1e-9,thresholdError:xe=1e-9}=e;t=Matrix$3.checkMatrix(t);let Se=t.rows,_e=new Matrix$3(Se,Se);for(let Ae=0;Ae<Se;Ae++){let Ce=Matrix$3.columnVector(t.getRow(Ae)),Pe=t.subMatrixRow(xrange(Se,Ae)).transpose(),Oe=new SingularValueDecomposition$1(Pe).solve(Ce),Me=Matrix$3.sub(Ce,Pe.mmul(Oe)).abs().max();_e.setRow(Ae,dependenciesOneRow(Me,Oe,Ae,r,xe))}return _e}function pseudoInverse(t,e=Number.EPSILON){if(t=Matrix$3.checkMatrix(t),t.isEmpty())return t.transpose();let r=new SingularValueDecomposition$1(t,{autoTranspose:!0}),xe=r.leftSingularVectors,Se=r.rightSingularVectors,_e=r.diagonal;for(let Ae=0;Ae<_e.length;Ae++)Math.abs(_e[Ae])>e?_e[Ae]=1/_e[Ae]:_e[Ae]=0;return Se.mmul(Matrix$3.diag(_e).mmul(xe.transpose()))}function covariance$1(t,e=t,r={}){t=new Matrix$3(t);let xe=!1;if(typeof e=="object"&&!Matrix$3.isMatrix(e)&&!isAnyArray.isAnyArray(e)?(r=e,e=t,xe=!0):e=new Matrix$3(e),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:Se=!0}=r;Se&&(t=t.center("column"),xe||(e=e.center("column")));const _e=t.transpose().mmul(e);for(let Ae=0;Ae<_e.rows;Ae++)for(let Ce=0;Ce<_e.columns;Ce++)_e.set(Ae,Ce,_e.get(Ae,Ce)*(1/(t.rows-1)));return _e}function correlation(t,e=t,r={}){t=new Matrix$3(t);let xe=!1;if(typeof e=="object"&&!Matrix$3.isMatrix(e)&&!isAnyArray.isAnyArray(e)?(r=e,e=t,xe=!0):e=new Matrix$3(e),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:Se=!0,scale:_e=!0}=r;Se&&(t.center("column"),xe||e.center("column")),_e&&(t.scale("column"),xe||e.scale("column"));const Ae=t.standardDeviation("column",{unbiased:!0}),Ce=xe?Ae:e.standardDeviation("column",{unbiased:!0}),Pe=t.transpose().mmul(e);for(let Ee=0;Ee<Pe.rows;Ee++)for(let Oe=0;Oe<Pe.columns;Oe++)Pe.set(Ee,Oe,Pe.get(Ee,Oe)*(1/(Ae[Ee]*Ce[Oe]))*(1/(t.rows-1)));return Pe}class EigenvalueDecomposition{constructor(e,r={}){const{assumeSymmetric:xe=!1}=r;if(e=WrapperMatrix2D.checkMatrix(e),!e.isSquare())throw new Error("Matrix is not a square matrix");if(e.isEmpty())throw new Error("Matrix must be non-empty");let Se=e.columns,_e=new Matrix$3(Se,Se),Ae=new Float64Array(Se),Ce=new Float64Array(Se),Pe=e,Ee,Oe,Me=!1;if(xe?Me=!0:Me=e.isSymmetric(),Me){for(Ee=0;Ee<Se;Ee++)for(Oe=0;Oe<Se;Oe++)_e.set(Ee,Oe,Pe.get(Ee,Oe));tred2(Se,Ce,Ae,_e),tql2(Se,Ce,Ae,_e)}else{let De=new Matrix$3(Se,Se),Te=new Float64Array(Se);for(Oe=0;Oe<Se;Oe++)for(Ee=0;Ee<Se;Ee++)De.set(Ee,Oe,Pe.get(Ee,Oe));orthes(Se,De,Te,_e),hqr2(Se,Ce,Ae,_e,De)}this.n=Se,this.e=Ce,this.d=Ae,this.V=_e}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let e=this.n,r=this.e,xe=this.d,Se=new Matrix$3(e,e),_e,Ae;for(_e=0;_e<e;_e++){for(Ae=0;Ae<e;Ae++)Se.set(_e,Ae,0);Se.set(_e,_e,xe[_e]),r[_e]>0?Se.set(_e,_e+1,r[_e]):r[_e]<0&&Se.set(_e,_e-1,r[_e])}return Se}}function tred2(t,e,r,xe){let Se,_e,Ae,Ce,Pe,Ee,Oe,Me;for(Pe=0;Pe<t;Pe++)r[Pe]=xe.get(t-1,Pe);for(Ce=t-1;Ce>0;Ce--){for(Me=0,Ae=0,Ee=0;Ee<Ce;Ee++)Me=Me+Math.abs(r[Ee]);if(Me===0)for(e[Ce]=r[Ce-1],Pe=0;Pe<Ce;Pe++)r[Pe]=xe.get(Ce-1,Pe),xe.set(Ce,Pe,0),xe.set(Pe,Ce,0);else{for(Ee=0;Ee<Ce;Ee++)r[Ee]/=Me,Ae+=r[Ee]*r[Ee];for(Se=r[Ce-1],_e=Math.sqrt(Ae),Se>0&&(_e=-_e),e[Ce]=Me*_e,Ae=Ae-Se*_e,r[Ce-1]=Se-_e,Pe=0;Pe<Ce;Pe++)e[Pe]=0;for(Pe=0;Pe<Ce;Pe++){for(Se=r[Pe],xe.set(Pe,Ce,Se),_e=e[Pe]+xe.get(Pe,Pe)*Se,Ee=Pe+1;Ee<=Ce-1;Ee++)_e+=xe.get(Ee,Pe)*r[Ee],e[Ee]+=xe.get(Ee,Pe)*Se;e[Pe]=_e}for(Se=0,Pe=0;Pe<Ce;Pe++)e[Pe]/=Ae,Se+=e[Pe]*r[Pe];for(Oe=Se/(Ae+Ae),Pe=0;Pe<Ce;Pe++)e[Pe]-=Oe*r[Pe];for(Pe=0;Pe<Ce;Pe++){for(Se=r[Pe],_e=e[Pe],Ee=Pe;Ee<=Ce-1;Ee++)xe.set(Ee,Pe,xe.get(Ee,Pe)-(Se*e[Ee]+_e*r[Ee]));r[Pe]=xe.get(Ce-1,Pe),xe.set(Ce,Pe,0)}}r[Ce]=Ae}for(Ce=0;Ce<t-1;Ce++){if(xe.set(t-1,Ce,xe.get(Ce,Ce)),xe.set(Ce,Ce,1),Ae=r[Ce+1],Ae!==0){for(Ee=0;Ee<=Ce;Ee++)r[Ee]=xe.get(Ee,Ce+1)/Ae;for(Pe=0;Pe<=Ce;Pe++){for(_e=0,Ee=0;Ee<=Ce;Ee++)_e+=xe.get(Ee,Ce+1)*xe.get(Ee,Pe);for(Ee=0;Ee<=Ce;Ee++)xe.set(Ee,Pe,xe.get(Ee,Pe)-_e*r[Ee])}}for(Ee=0;Ee<=Ce;Ee++)xe.set(Ee,Ce+1,0)}for(Pe=0;Pe<t;Pe++)r[Pe]=xe.get(t-1,Pe),xe.set(t-1,Pe,0);xe.set(t-1,t-1,1),e[0]=0}function tql2(t,e,r,xe){let Se,_e,Ae,Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe,$e,Be,Ie,Re;for(Ae=1;Ae<t;Ae++)e[Ae-1]=e[Ae];e[t-1]=0;let je=0,Ve=0,He=Number.EPSILON;for(Ee=0;Ee<t;Ee++){for(Ve=Math.max(Ve,Math.abs(r[Ee])+Math.abs(e[Ee])),Oe=Ee;Oe<t&&!(Math.abs(e[Oe])<=He*Ve);)Oe++;if(Oe>Ee)do{for(Se=r[Ee],Me=(r[Ee+1]-Se)/(2*e[Ee]),De=hypotenuse$1(Me,1),Me<0&&(De=-De),r[Ee]=e[Ee]/(Me+De),r[Ee+1]=e[Ee]*(Me+De),Te=r[Ee+1],_e=Se-r[Ee],Ae=Ee+2;Ae<t;Ae++)r[Ae]-=_e;for(je=je+_e,Me=r[Oe],ke=1,Fe=ke,$e=ke,Be=e[Ee+1],Ie=0,Re=0,Ae=Oe-1;Ae>=Ee;Ae--)for($e=Fe,Fe=ke,Re=Ie,Se=ke*e[Ae],_e=ke*Me,De=hypotenuse$1(Me,e[Ae]),e[Ae+1]=Ie*De,Ie=e[Ae]/De,ke=Me/De,Me=ke*r[Ae]-Ie*Se,r[Ae+1]=_e+Ie*(ke*Se+Ie*r[Ae]),Pe=0;Pe<t;Pe++)_e=xe.get(Pe,Ae+1),xe.set(Pe,Ae+1,Ie*xe.get(Pe,Ae)+ke*_e),xe.set(Pe,Ae,ke*xe.get(Pe,Ae)-Ie*_e);Me=-Ie*Re*$e*Be*e[Ee]/Te,e[Ee]=Ie*Me,r[Ee]=ke*Me}while(Math.abs(e[Ee])>He*Ve);r[Ee]=r[Ee]+je,e[Ee]=0}for(Ae=0;Ae<t-1;Ae++){for(Pe=Ae,Me=r[Ae],Ce=Ae+1;Ce<t;Ce++)r[Ce]<Me&&(Pe=Ce,Me=r[Ce]);if(Pe!==Ae)for(r[Pe]=r[Ae],r[Ae]=Me,Ce=0;Ce<t;Ce++)Me=xe.get(Ce,Ae),xe.set(Ce,Ae,xe.get(Ce,Pe)),xe.set(Ce,Pe,Me)}}function orthes(t,e,r,xe){let Se=0,_e=t-1,Ae,Ce,Pe,Ee,Oe,Me,De;for(Me=Se+1;Me<=_e-1;Me++){for(De=0,Ee=Me;Ee<=_e;Ee++)De=De+Math.abs(e.get(Ee,Me-1));if(De!==0){for(Pe=0,Ee=_e;Ee>=Me;Ee--)r[Ee]=e.get(Ee,Me-1)/De,Pe+=r[Ee]*r[Ee];for(Ce=Math.sqrt(Pe),r[Me]>0&&(Ce=-Ce),Pe=Pe-r[Me]*Ce,r[Me]=r[Me]-Ce,Oe=Me;Oe<t;Oe++){for(Ae=0,Ee=_e;Ee>=Me;Ee--)Ae+=r[Ee]*e.get(Ee,Oe);for(Ae=Ae/Pe,Ee=Me;Ee<=_e;Ee++)e.set(Ee,Oe,e.get(Ee,Oe)-Ae*r[Ee])}for(Ee=0;Ee<=_e;Ee++){for(Ae=0,Oe=_e;Oe>=Me;Oe--)Ae+=r[Oe]*e.get(Ee,Oe);for(Ae=Ae/Pe,Oe=Me;Oe<=_e;Oe++)e.set(Ee,Oe,e.get(Ee,Oe)-Ae*r[Oe])}r[Me]=De*r[Me],e.set(Me,Me-1,De*Ce)}}for(Ee=0;Ee<t;Ee++)for(Oe=0;Oe<t;Oe++)xe.set(Ee,Oe,Ee===Oe?1:0);for(Me=_e-1;Me>=Se+1;Me--)if(e.get(Me,Me-1)!==0){for(Ee=Me+1;Ee<=_e;Ee++)r[Ee]=e.get(Ee,Me-1);for(Oe=Me;Oe<=_e;Oe++){for(Ce=0,Ee=Me;Ee<=_e;Ee++)Ce+=r[Ee]*xe.get(Ee,Oe);for(Ce=Ce/r[Me]/e.get(Me,Me-1),Ee=Me;Ee<=_e;Ee++)xe.set(Ee,Oe,xe.get(Ee,Oe)+Ce*r[Ee])}}}function hqr2(t,e,r,xe,Se){let _e=t-1,Ae=0,Ce=t-1,Pe=Number.EPSILON,Ee=0,Oe=0,Me=0,De=0,Te=0,ke=0,Fe=0,$e=0,Be,Ie,Re,je,Ve,He,ze,Ue,We,qe,Ge,Ye,Qe,Je,ri;for(Be=0;Be<t;Be++)for((Be<Ae||Be>Ce)&&(r[Be]=Se.get(Be,Be),e[Be]=0),Ie=Math.max(Be-1,0);Ie<t;Ie++)Oe=Oe+Math.abs(Se.get(Be,Ie));for(;_e>=Ae;){for(je=_e;je>Ae&&(ke=Math.abs(Se.get(je-1,je-1))+Math.abs(Se.get(je,je)),ke===0&&(ke=Oe),!(Math.abs(Se.get(je,je-1))<Pe*ke));)je--;if(je===_e)Se.set(_e,_e,Se.get(_e,_e)+Ee),r[_e]=Se.get(_e,_e),e[_e]=0,_e--,$e=0;else if(je===_e-1){if(ze=Se.get(_e,_e-1)*Se.get(_e-1,_e),Me=(Se.get(_e-1,_e-1)-Se.get(_e,_e))/2,De=Me*Me+ze,Fe=Math.sqrt(Math.abs(De)),Se.set(_e,_e,Se.get(_e,_e)+Ee),Se.set(_e-1,_e-1,Se.get(_e-1,_e-1)+Ee),Ue=Se.get(_e,_e),De>=0){for(Fe=Me>=0?Me+Fe:Me-Fe,r[_e-1]=Ue+Fe,r[_e]=r[_e-1],Fe!==0&&(r[_e]=Ue-ze/Fe),e[_e-1]=0,e[_e]=0,Ue=Se.get(_e,_e-1),ke=Math.abs(Ue)+Math.abs(Fe),Me=Ue/ke,De=Fe/ke,Te=Math.sqrt(Me*Me+De*De),Me=Me/Te,De=De/Te,Ie=_e-1;Ie<t;Ie++)Fe=Se.get(_e-1,Ie),Se.set(_e-1,Ie,De*Fe+Me*Se.get(_e,Ie)),Se.set(_e,Ie,De*Se.get(_e,Ie)-Me*Fe);for(Be=0;Be<=_e;Be++)Fe=Se.get(Be,_e-1),Se.set(Be,_e-1,De*Fe+Me*Se.get(Be,_e)),Se.set(Be,_e,De*Se.get(Be,_e)-Me*Fe);for(Be=Ae;Be<=Ce;Be++)Fe=xe.get(Be,_e-1),xe.set(Be,_e-1,De*Fe+Me*xe.get(Be,_e)),xe.set(Be,_e,De*xe.get(Be,_e)-Me*Fe)}else r[_e-1]=Ue+Me,r[_e]=Ue+Me,e[_e-1]=Fe,e[_e]=-Fe;_e=_e-2,$e=0}else{if(Ue=Se.get(_e,_e),We=0,ze=0,je<_e&&(We=Se.get(_e-1,_e-1),ze=Se.get(_e,_e-1)*Se.get(_e-1,_e)),$e===10){for(Ee+=Ue,Be=Ae;Be<=_e;Be++)Se.set(Be,Be,Se.get(Be,Be)-Ue);ke=Math.abs(Se.get(_e,_e-1))+Math.abs(Se.get(_e-1,_e-2)),Ue=We=.75*ke,ze=-.4375*ke*ke}if($e===30&&(ke=(We-Ue)/2,ke=ke*ke+ze,ke>0)){for(ke=Math.sqrt(ke),We<Ue&&(ke=-ke),ke=Ue-ze/((We-Ue)/2+ke),Be=Ae;Be<=_e;Be++)Se.set(Be,Be,Se.get(Be,Be)-ke);Ee+=ke,Ue=We=ze=.964}for($e=$e+1,Ve=_e-2;Ve>=je&&(Fe=Se.get(Ve,Ve),Te=Ue-Fe,ke=We-Fe,Me=(Te*ke-ze)/Se.get(Ve+1,Ve)+Se.get(Ve,Ve+1),De=Se.get(Ve+1,Ve+1)-Fe-Te-ke,Te=Se.get(Ve+2,Ve+1),ke=Math.abs(Me)+Math.abs(De)+Math.abs(Te),Me=Me/ke,De=De/ke,Te=Te/ke,!(Ve===je||Math.abs(Se.get(Ve,Ve-1))*(Math.abs(De)+Math.abs(Te))<Pe*(Math.abs(Me)*(Math.abs(Se.get(Ve-1,Ve-1))+Math.abs(Fe)+Math.abs(Se.get(Ve+1,Ve+1))))));)Ve--;for(Be=Ve+2;Be<=_e;Be++)Se.set(Be,Be-2,0),Be>Ve+2&&Se.set(Be,Be-3,0);for(Re=Ve;Re<=_e-1&&(Je=Re!==_e-1,Re!==Ve&&(Me=Se.get(Re,Re-1),De=Se.get(Re+1,Re-1),Te=Je?Se.get(Re+2,Re-1):0,Ue=Math.abs(Me)+Math.abs(De)+Math.abs(Te),Ue!==0&&(Me=Me/Ue,De=De/Ue,Te=Te/Ue)),Ue!==0);Re++)if(ke=Math.sqrt(Me*Me+De*De+Te*Te),Me<0&&(ke=-ke),ke!==0){for(Re!==Ve?Se.set(Re,Re-1,-ke*Ue):je!==Ve&&Se.set(Re,Re-1,-Se.get(Re,Re-1)),Me=Me+ke,Ue=Me/ke,We=De/ke,Fe=Te/ke,De=De/Me,Te=Te/Me,Ie=Re;Ie<t;Ie++)Me=Se.get(Re,Ie)+De*Se.get(Re+1,Ie),Je&&(Me=Me+Te*Se.get(Re+2,Ie),Se.set(Re+2,Ie,Se.get(Re+2,Ie)-Me*Fe)),Se.set(Re,Ie,Se.get(Re,Ie)-Me*Ue),Se.set(Re+1,Ie,Se.get(Re+1,Ie)-Me*We);for(Be=0;Be<=Math.min(_e,Re+3);Be++)Me=Ue*Se.get(Be,Re)+We*Se.get(Be,Re+1),Je&&(Me=Me+Fe*Se.get(Be,Re+2),Se.set(Be,Re+2,Se.get(Be,Re+2)-Me*Te)),Se.set(Be,Re,Se.get(Be,Re)-Me),Se.set(Be,Re+1,Se.get(Be,Re+1)-Me*De);for(Be=Ae;Be<=Ce;Be++)Me=Ue*xe.get(Be,Re)+We*xe.get(Be,Re+1),Je&&(Me=Me+Fe*xe.get(Be,Re+2),xe.set(Be,Re+2,xe.get(Be,Re+2)-Me*Te)),xe.set(Be,Re,xe.get(Be,Re)-Me),xe.set(Be,Re+1,xe.get(Be,Re+1)-Me*De)}}}if(Oe!==0){for(_e=t-1;_e>=0;_e--)if(Me=r[_e],De=e[_e],De===0)for(je=_e,Se.set(_e,_e,1),Be=_e-1;Be>=0;Be--){for(ze=Se.get(Be,Be)-Me,Te=0,Ie=je;Ie<=_e;Ie++)Te=Te+Se.get(Be,Ie)*Se.get(Ie,_e);if(e[Be]<0)Fe=ze,ke=Te;else if(je=Be,e[Be]===0?Se.set(Be,_e,ze!==0?-Te/ze:-Te/(Pe*Oe)):(Ue=Se.get(Be,Be+1),We=Se.get(Be+1,Be),De=(r[Be]-Me)*(r[Be]-Me)+e[Be]*e[Be],He=(Ue*ke-Fe*Te)/De,Se.set(Be,_e,He),Se.set(Be+1,_e,Math.abs(Ue)>Math.abs(Fe)?(-Te-ze*He)/Ue:(-ke-We*He)/Fe)),He=Math.abs(Se.get(Be,_e)),Pe*He*He>1)for(Ie=Be;Ie<=_e;Ie++)Se.set(Ie,_e,Se.get(Ie,_e)/He)}else if(De<0)for(je=_e-1,Math.abs(Se.get(_e,_e-1))>Math.abs(Se.get(_e-1,_e))?(Se.set(_e-1,_e-1,De/Se.get(_e,_e-1)),Se.set(_e-1,_e,-(Se.get(_e,_e)-Me)/Se.get(_e,_e-1))):(ri=cdiv(0,-Se.get(_e-1,_e),Se.get(_e-1,_e-1)-Me,De),Se.set(_e-1,_e-1,ri[0]),Se.set(_e-1,_e,ri[1])),Se.set(_e,_e-1,0),Se.set(_e,_e,1),Be=_e-2;Be>=0;Be--){for(qe=0,Ge=0,Ie=je;Ie<=_e;Ie++)qe=qe+Se.get(Be,Ie)*Se.get(Ie,_e-1),Ge=Ge+Se.get(Be,Ie)*Se.get(Ie,_e);if(ze=Se.get(Be,Be)-Me,e[Be]<0)Fe=ze,Te=qe,ke=Ge;else if(je=Be,e[Be]===0?(ri=cdiv(-qe,-Ge,ze,De),Se.set(Be,_e-1,ri[0]),Se.set(Be,_e,ri[1])):(Ue=Se.get(Be,Be+1),We=Se.get(Be+1,Be),Ye=(r[Be]-Me)*(r[Be]-Me)+e[Be]*e[Be]-De*De,Qe=(r[Be]-Me)*2*De,Ye===0&&Qe===0&&(Ye=Pe*Oe*(Math.abs(ze)+Math.abs(De)+Math.abs(Ue)+Math.abs(We)+Math.abs(Fe))),ri=cdiv(Ue*Te-Fe*qe+De*Ge,Ue*ke-Fe*Ge-De*qe,Ye,Qe),Se.set(Be,_e-1,ri[0]),Se.set(Be,_e,ri[1]),Math.abs(Ue)>Math.abs(Fe)+Math.abs(De)?(Se.set(Be+1,_e-1,(-qe-ze*Se.get(Be,_e-1)+De*Se.get(Be,_e))/Ue),Se.set(Be+1,_e,(-Ge-ze*Se.get(Be,_e)-De*Se.get(Be,_e-1))/Ue)):(ri=cdiv(-Te-We*Se.get(Be,_e-1),-ke-We*Se.get(Be,_e),Fe,De),Se.set(Be+1,_e-1,ri[0]),Se.set(Be+1,_e,ri[1]))),He=Math.max(Math.abs(Se.get(Be,_e-1)),Math.abs(Se.get(Be,_e))),Pe*He*He>1)for(Ie=Be;Ie<=_e;Ie++)Se.set(Ie,_e-1,Se.get(Ie,_e-1)/He),Se.set(Ie,_e,Se.get(Ie,_e)/He)}for(Be=0;Be<t;Be++)if(Be<Ae||Be>Ce)for(Ie=Be;Ie<t;Ie++)xe.set(Be,Ie,Se.get(Be,Ie));for(Ie=t-1;Ie>=Ae;Ie--)for(Be=Ae;Be<=Ce;Be++){for(Fe=0,Re=Ae;Re<=Math.min(Ie,Ce);Re++)Fe=Fe+xe.get(Be,Re)*Se.get(Re,Ie);xe.set(Be,Ie,Fe)}}}function cdiv(t,e,r,xe){let Se,_e;return Math.abs(r)>Math.abs(xe)?(Se=xe/r,_e=r+Se*xe,[(t+Se*e)/_e,(e-Se*t)/_e]):(Se=r/xe,_e=xe+Se*r,[(Se*t+e)/_e,(Se*e-t)/_e])}class CholeskyDecomposition{constructor(e){if(e=WrapperMatrix2D.checkMatrix(e),!e.isSymmetric())throw new Error("Matrix is not symmetric");let r=e,xe=r.rows,Se=new Matrix$3(xe,xe),_e=!0,Ae,Ce,Pe;for(Ce=0;Ce<xe;Ce++){let Ee=0;for(Pe=0;Pe<Ce;Pe++){let Oe=0;for(Ae=0;Ae<Pe;Ae++)Oe+=Se.get(Pe,Ae)*Se.get(Ce,Ae);Oe=(r.get(Ce,Pe)-Oe)/Se.get(Pe,Pe),Se.set(Ce,Pe,Oe),Ee=Ee+Oe*Oe}for(Ee=r.get(Ce,Ce)-Ee,_e&=Ee>0,Se.set(Ce,Ce,Math.sqrt(Math.max(Ee,0))),Pe=Ce+1;Pe<xe;Pe++)Se.set(Ce,Pe,0)}this.L=Se,this.positiveDefinite=!!_e}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=WrapperMatrix2D.checkMatrix(e);let r=this.L,xe=r.rows;if(e.rows!==xe)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let Se=e.columns,_e=e.clone(),Ae,Ce,Pe;for(Pe=0;Pe<xe;Pe++)for(Ce=0;Ce<Se;Ce++){for(Ae=0;Ae<Pe;Ae++)_e.set(Pe,Ce,_e.get(Pe,Ce)-_e.get(Ae,Ce)*r.get(Pe,Ae));_e.set(Pe,Ce,_e.get(Pe,Ce)/r.get(Pe,Pe))}for(Pe=xe-1;Pe>=0;Pe--)for(Ce=0;Ce<Se;Ce++){for(Ae=Pe+1;Ae<xe;Ae++)_e.set(Pe,Ce,_e.get(Pe,Ce)-_e.get(Ae,Ce)*r.get(Ae,Pe));_e.set(Pe,Ce,_e.get(Pe,Ce)/r.get(Pe,Pe))}return _e}get lowerTriangularMatrix(){return this.L}}class nipals{constructor(e,r={}){e=WrapperMatrix2D.checkMatrix(e);let{Y:xe}=r;const{scaleScores:Se=!1,maxIterations:_e=1e3,terminationCriteria:Ae=1e-10}=r;let Ce;if(xe){if(isAnyArray.isAnyArray(xe)&&typeof xe[0]=="number"?xe=Matrix$3.columnVector(xe):xe=WrapperMatrix2D.checkMatrix(xe),xe.rows!==e.rows)throw new Error("Y should have the same number of rows as X");Ce=xe.getColumnVector(0)}else Ce=e.getColumnVector(0);let Pe=1,Ee,Oe,Me,De;for(let Te=0;Te<_e&&Pe>Ae;Te++)Me=e.transpose().mmul(Ce).div(Ce.transpose().mmul(Ce).get(0,0)),Me=Me.div(Me.norm()),Ee=e.mmul(Me).div(Me.transpose().mmul(Me).get(0,0)),Te>0&&(Pe=Ee.clone().sub(De).pow(2).sum()),De=Ee.clone(),xe?(Oe=xe.transpose().mmul(Ee).div(Ee.transpose().mmul(Ee).get(0,0)),Oe=Oe.div(Oe.norm()),Ce=xe.mmul(Oe).div(Oe.transpose().mmul(Oe).get(0,0))):Ce=Ee;if(xe){let Te=e.transpose().mmul(Ee).div(Ee.transpose().mmul(Ee).get(0,0));Te=Te.div(Te.norm());let ke=e.clone().sub(Ee.clone().mmul(Te.transpose())),Fe=Ce.transpose().mmul(Ee).div(Ee.transpose().mmul(Ee).get(0,0)),$e=xe.clone().sub(Ee.clone().mulS(Fe.get(0,0)).mmul(Oe.transpose()));this.t=Ee,this.p=Te.transpose(),this.w=Me.transpose(),this.q=Oe,this.u=Ce,this.s=Ee.transpose().mmul(Ee),this.xResidual=ke,this.yResidual=$e,this.betas=Fe}else this.w=Me.transpose(),this.s=Ee.transpose().mmul(Ee).sqrt(),Se?this.t=Ee.clone().div(this.s.get(0,0)):this.t=Ee,this.xResidual=e.sub(Ee.mmul(Me.transpose()))}}matrix.AbstractMatrix=AbstractMatrix;matrix.CHO=CholeskyDecomposition;matrix.CholeskyDecomposition=CholeskyDecomposition;matrix.DistanceMatrix=DistanceMatrix;matrix.EVD=EigenvalueDecomposition;matrix.EigenvalueDecomposition=EigenvalueDecomposition;matrix.LU=LuDecomposition;matrix.LuDecomposition=LuDecomposition;var Matrix_1=matrix.Matrix=Matrix$3;matrix.MatrixColumnSelectionView=MatrixColumnSelectionView;matrix.MatrixColumnView=MatrixColumnView;matrix.MatrixFlipColumnView=MatrixFlipColumnView;matrix.MatrixFlipRowView=MatrixFlipRowView;matrix.MatrixRowSelectionView=MatrixRowSelectionView;matrix.MatrixRowView=MatrixRowView;matrix.MatrixSelectionView=MatrixSelectionView;matrix.MatrixSubView=MatrixSubView;matrix.MatrixTransposeView=MatrixTransposeView$1;matrix.NIPALS=nipals;matrix.Nipals=nipals;matrix.QR=QrDecomposition;matrix.QrDecomposition=QrDecomposition;var SVD$1=matrix.SVD=SingularValueDecomposition$1,SingularValueDecomposition_1=matrix.SingularValueDecomposition=SingularValueDecomposition$1;matrix.SymmetricMatrix=SymmetricMatrix;matrix.WrapperMatrix1D=WrapperMatrix1D;matrix.WrapperMatrix2D=WrapperMatrix2D;matrix.correlation=correlation;matrix.covariance=covariance$1;var _default=matrix.default=Matrix$3;matrix.determinant=determinant;var inverse_1=matrix.inverse=inverse$1;matrix.linearDependencies=linearDependencies;matrix.pseudoInverse=pseudoInverse;var solve_1=matrix.solve=solve$1;matrix.wrap=wrap;const Matrix$2=Matrix_1,SVD=SVD$1,SingularValueDecomposition=SingularValueDecomposition_1;_default.Matrix&&_default.Matrix;const inverse=inverse_1,solve=solve_1;function getSeparatedKernel(t){const e=new SVD(t,{autoTranspose:!0});if(e.rank!==1)return null;const r=Math.sqrt(e.s[0]),xe=e.U.to2DArray().map(_e=>_e[0]*r),Se=e.V.to2DArray().map(_e=>_e[0]*r);return[xe,Se]}function convolution(t,e={}){let{channels:r,bitDepth:xe,normalize:Se=!1,divisor:_e=1,border:Ae="copy",algorithm:Ce="auto"}=e,Pe={};xe&&(Pe.bitDepth=xe);let Ee=Image$1.createFrom(this,Pe);if(r=validateArrayOfChannels(this,r),Ce!=="separable")({kernel:t}=validateKernel(t));else if(!Array.isArray(t)||t.length!==2)throw new RangeError("separable convolution requires two arrays of numbers to represent the kernel");if(Ce==="auto"){let je=getSeparatedKernel(t);je!==null?(Ce="separable",t=je):(t.length>9||t[0].length>9)&&this.width<=4096&&this.height<=4096?Ce="fft":Ce="direct"}let Oe,Me;Ce==="separable"?(Oe=Math.floor(t[0].length/2),Me=Math.floor(t[1].length/2)):(Oe=Math.floor(t.length/2),Me=Math.floor(t[0].length/2));let De=Ee.isClamped,Te=new Array(this.height*this.width),ke,Fe,$e,Be,Ie,Re;for(Be=0;Be<r.length;Be++){for(Ie=r[Be],$e=0;$e<this.height;$e++)for(Fe=0;Fe<this.width;Fe++)ke=$e*this.width+Fe,Te[ke]=this.data[ke*this.channels+Ie];if(Ce==="direct")Re=src$1.direct(Te,t,{rows:this.height,cols:this.width,normalize:Se,divisor:_e});else if(Ce==="separable"){if(Re=convolutionSeparable(Te,t,this.width,this.height),Se){_e=0;for(let je=0;je<t[0].length;je++)for(let Ve=0;Ve<t[1].length;Ve++)_e+=t[0][je]*t[1][Ve]}if(_e!==1)for(let je=0;je<Re.length;je++)Re[je]/=_e}else Re=src$1.fft(Te,t,{rows:this.height,cols:this.width,normalize:Se,divisor:_e});for($e=0;$e<this.height;$e++)for(Fe=0;Fe<this.width;Fe++)ke=$e*this.width+Fe,De?Ee.data[ke*this.channels+Ie]=clamp(Re[ke],Ee):Ee.data[ke*this.channels+Ie]=Re[ke]}if(this.alpha&&!r.includes(this.channels))for(Fe=this.components;Fe<this.data.length;Fe=Fe+this.channels)Ee.data[Fe]=this.data[Fe];return Ae!=="periodic"&&Ee.setBorder({size:[Me,Oe],algorithm:Ae}),Ee}function gradientFilter(t={}){let{direction:e="xy",border:r="copy",kernelX:xe,kernelY:Se,channels:_e,bitDepth:Ae=this.bitDepth}=t;switch(this.checkProcessable("gradientFilter",{bitDepth:[8,16]}),e){case"x":if(!xe)throw new Error("kernelX option is missing");return convolution.call(this,xe,{channels:_e,border:r,bitDepth:Ae});case"y":if(!Se)throw new Error("kernelY option is missing");return convolution.call(this,Se,{channels:_e,border:r,bitDepth:Ae});case"xy":{if(!xe)throw new Error("kernelX option is missing");if(!Se)throw new Error("kernelY option is missing");const Ce=convolution.call(this,xe,{channels:_e,border:r,bitDepth:32}),Pe=convolution.call(this,Se,{channels:_e,border:r,bitDepth:32});return Ce.hypotenuse(Pe,{bitDepth:Ae,channels:_e})}default:throw new Error(`Unknown parameter direction: ${e}`)}}function sobelFilter(t){return gradientFilter.call(this,Object.assign({},t,{kernelX:SOBEL_X,kernelY:SOBEL_Y}))}function scharrFilter(t){return gradientFilter.call(this,Object.assign({},t,{kernelX:SCHARR_X,kernelY:SCHARR_Y}))}var newArray_1=newArray;function newArray(t,e){t=t||0;for(var r=new Array(t),xe=0;xe<t;xe++)r[xe]=e;return r}const newArray$1=getDefaultExportFromCjs$1(newArray_1);function level(t={}){let{algorithm:e="range",channels:r,min:xe=this.min,max:Se=this.max}=t;switch(this.checkProcessable("level",{bitDepth:[8,16,32]}),r=validateArrayOfChannels(this,{channels:r}),r.length!==this.channel&&(Array.isArray(xe)&&xe.length===this.channels&&(xe=xe.filter((_e,Ae)=>r.includes(Ae))),Array.isArray(Se)&&Se.length===this.channels&&(Se=Se.filter((_e,Ae)=>r.includes(Ae)))),e){case"range":xe<0&&(xe=0),Se>this.maxValue&&(Se=this.maxValue),Array.isArray(xe)||(xe=newArray$1(r.length,xe)),Array.isArray(Se)||(Se=newArray$1(r.length,Se)),processImage(this,xe,Se,r);break;default:throw new Error(`level: algorithm not implement: ${e}`)}return this}function processImage(t,e,r,xe){let Se=1e-5,_e=new Array(xe.length);for(let Ae=0;Ae<xe.length;Ae++)e[Ae]===0&&r[Ae]===t.maxValue||r[Ae]===e[Ae]?_e[Ae]=0:_e[Ae]=(t.maxValue+1-Se)/(r[Ae]-e[Ae]),e[Ae]+=(.5-Se/2)/_e[Ae];for(let Ae=0;Ae<xe.length;Ae++){let Ce=xe[Ae];if(_e[Ae]!==0)for(let Pe=0;Pe<t.data.length;Pe+=t.channels)t.data[Pe+Ce]=Math.min(Math.max(0,(t.data[Pe+Ce]-e[Ae])*_e[Ae]+.5|0),t.maxValue)}}var toString$1=Object.prototype.toString,isArrayType=function t(e){return toString$1.call(e).substr(-6,5)==="Array"};const isArray=getDefaultExportFromCjs$1(isArrayType);function checkNumberArray(t){if(isNaN(t)){if(t instanceof Image$1)return t.data;if(!isArray(t))throw new Error("checkNumberArray: the value should be either a number, array or Image");return t}else{if(t<=0)throw new Error("checkNumberArray: the value must be greater than 0");return t}}function add(t,e={}){let{channels:r}=e;if(this.checkProcessable("add",{bitDepth:[8,16]}),r=validateArrayOfChannels(this,{channels:r}),t=checkNumberArray(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("add: the data size is different");for(let xe=0;xe<r.length;xe++){let Se=r[xe];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+Se]=Math.max(0,Math.min(this.maxValue,this.data[_e+Se]+t[_e+Se]>>0))}}else for(let xe=0;xe<r.length;xe++){let Se=r[xe];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+Se]=Math.min(this.maxValue,this.data[_e+Se]+t>>0)}return this}function subtract(t,e={}){let{channels:r}=e;if(this.checkProcessable("subtract",{bitDepth:[8,16]}),r=validateArrayOfChannels(this,{channels:r}),t=checkNumberArray(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("subtract: the data size is different");for(let xe=0;xe<r.length;xe++){let Se=r[xe];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+Se]=Math.max(0,Math.min(this.maxValue,this.data[_e+Se]-t[_e+Se]>>0))}}else for(let xe=0;xe<r.length;xe++){let Se=r[xe];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+Se]=Math.max(0,this.data[_e+Se]-t>>0)}return this}function subtractImage(t,e={}){let{channels:r,absolute:xe=!1}=e;if(this.checkProcessable("subtractImage",{bitDepth:[8,16]}),this.width!==t.width||this.height!==t.height)throw new Error("subtractImage: both images must have the same size");if(this.alpha!==t.alpha||this.bitDepth!==t.bitDepth)throw new Error("subtractImage: both images must have the same alpha and bitDepth");if(this.channels!==t.channels)throw new Error("subtractImage: both images must have the same number of channels");let Se=this.clone();r=validateArrayOfChannels(this,{channels:r});for(let _e=0;_e<r.length;_e++){let Ae=r[_e];for(let Ce=Ae;Ce<this.data.length;Ce+=this.channels){let Pe=this.data[Ce]-t.data[Ce];xe?Se.data[Ce]=Math.abs(Pe):Se.data[Ce]=Math.max(Pe,0)}}return Se}function hypotenuse(t,e={}){let{bitDepth:r=this.bitDepth,channels:xe}=e;if(this.checkProcessable("hypotenuse",{bitDepth:[8,16,32]}),this.width!==t.width||this.height!==t.height)throw new Error("hypotenuse: both images must have the same size");if(this.alpha!==t.alpha||this.bitDepth!==t.bitDepth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(this.channels!==t.channels)throw new Error("hypotenuse: both images must have the same number of channels");let Se=Image$1.createFrom(this,{bitDepth:r});xe=validateArrayOfChannels(this,{channels:xe});let _e=Se.isClamped;for(let Ae=0;Ae<xe.length;Ae++){let Ce=xe[Ae];for(let Pe=Ce;Pe<this.data.length;Pe+=this.channels){let Ee=Math.hypot(this.data[Pe],t.data[Pe]);_e?Se.data[Pe]=Math.min(Math.max(Math.round(Ee),0),Se.maxValue):Se.data[Pe]=Ee}}return Se}function multiply(t,e={}){let{channels:r}=e;if(this.checkProcessable("multiply",{bitDepth:[8,16]}),t<=0)throw new Error("multiply: the value must be greater than 0");if(r=validateArrayOfChannels(this,{channels:r}),t=checkNumberArray(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("multiply: the data size is different");for(let xe=0;xe<r.length;xe++){let Se=r[xe];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+Se]=Math.max(0,Math.min(this.maxValue,this.data[_e+Se]*t[_e+Se]>>0))}}else for(let xe=0;xe<r.length;xe++){let Se=r[xe];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+Se]=Math.min(this.maxValue,this.data[_e+Se]*t>>0)}return this}function divide(t,e={}){let{channels:r}=e;if(this.checkProcessable("divide",{bitDepth:[8,16]}),r=validateArrayOfChannels(this,{channels:r}),t=checkNumberArray(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("divide: the: the data size is different");for(let xe=0;xe<r.length;xe++){let Se=r[xe];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+Se]=Math.max(0,Math.min(this.maxValue,this.data[_e+Se]/t[_e+Se]>>0))}}else for(let xe=0;xe<r.length;xe++){let Se=r[xe];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+Se]=Math.min(this.maxValue,this.data[_e+Se]/t>>0)}return this}class BaseRegression{constructor(){if(new.target===BaseRegression)throw new Error("BaseRegression must be subclassed")}predict(e){if(typeof e=="number")return this._predict(e);if(isAnyArray$1(e)){const r=[];for(let xe=0;xe<e.length;xe++)r.push(this._predict(e[xe]));return r}else throw new TypeError("x must be a number or array")}_predict(){throw new Error("_predict must be implemented")}train(){}toString(){return""}toLaTeX(){return""}score(e,r){if(!isAnyArray$1(e)||!isAnyArray$1(r)||e.length!==r.length)throw new Error("x and y must be arrays of the same length");const xe=e.length,Se=new Array(xe);for(let Te=0;Te<xe;Te++)Se[Te]=this._predict(e[Te]);let _e=0,Ae=0,Ce=0,Pe=0,Ee=0,Oe=0,Me=0;for(let Te=0;Te<xe;Te++)_e+=Se[Te],Ae+=r[Te],Ee+=Se[Te]*Se[Te],Oe+=r[Te]*r[Te],Me+=Se[Te]*r[Te],r[Te]!==0&&(Ce+=(r[Te]-Se[Te])*(r[Te]-Se[Te])/r[Te]),Pe+=(r[Te]-Se[Te])*(r[Te]-Se[Te]);const De=(xe*Me-_e*Ae)/Math.sqrt((xe*Ee-_e*_e)*(xe*Oe-Ae*Ae));return{r:De,r2:De*De,chi2:Ce,rmsd:Math.sqrt(Pe/xe)}}}function squaredEuclidean$4(t,e){let r=0;for(let xe=0;xe<t.length;xe++)r+=(t[xe]-e[xe])*(t[xe]-e[xe]);return r}function euclidean$2(t,e){return Math.sqrt(squaredEuclidean$4(t,e))}const euclidean$3=Object.freeze(Object.defineProperty({__proto__:null,euclidean:euclidean$2,squaredEuclidean:squaredEuclidean$4},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(euclidean$3),{squaredEuclidean:squaredEuclidean$3}=require$$0,defaultOptions$c={sigma:1};let GaussianKernel$1=class{constructor(e){e=Object.assign({},defaultOptions$c,e),this.sigma=e.sigma,this.divisor=2*e.sigma*e.sigma}compute(e,r){const xe=squaredEuclidean$3(e,r);return Math.exp(-xe/this.divisor)}};var gaussianKernel=GaussianKernel$1;const defaultOptions$b={degree:1,constant:1,scale:1};let PolynomialKernel$1=class{constructor(e){e=Object.assign({},defaultOptions$b,e),this.degree=e.degree,this.constant=e.constant,this.scale=e.scale}compute(e,r){for(var xe=0,Se=0;Se<e.length;Se++)xe+=e[Se]*r[Se];return Math.pow(this.scale*xe+this.constant,this.degree)}};var polynomialKernel=PolynomialKernel$1;const defaultOptions$a={alpha:.01,constant:-Math.E};let SigmoidKernel$1=class{constructor(e){e=Object.assign({},defaultOptions$a,e),this.alpha=e.alpha,this.constant=e.constant}compute(e,r){for(var xe=0,Se=0;Se<e.length;Se++)xe+=e[Se]*r[Se];return Math.tanh(this.alpha*xe+this.constant)}};var sigmoidKernel=SigmoidKernel$1;const defaultOptions$9={sigma:1,degree:1};let ANOVAKernel$1=class{constructor(e){e=Object.assign({},defaultOptions$9,e),this.sigma=e.sigma,this.degree=e.degree}compute(e,r){for(var xe=0,Se=Math.min(e.length,r.length),_e=1;_e<=Se;++_e)xe+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(e[_e-1],_e)-Math.pow(r[_e-1],_e),2)),this.degree);return xe}};var anovaKernel=ANOVAKernel$1;const{squaredEuclidean:squaredEuclidean$2}=require$$0,defaultOptions$8={sigma:1};let CauchyKernel$1=class{constructor(e){e=Object.assign({},defaultOptions$8,e),this.sigma=e.sigma}compute(e,r){return 1/(1+squaredEuclidean$2(e,r)/(this.sigma*this.sigma))}};var cauchyKernel=CauchyKernel$1;const{euclidean:euclidean$1}=require$$0,defaultOptions$7={sigma:1};let ExponentialKernel$1=class{constructor(e){e=Object.assign({},defaultOptions$7,e),this.sigma=e.sigma,this.divisor=2*e.sigma*e.sigma}compute(e,r){const xe=euclidean$1(e,r);return Math.exp(-xe/this.divisor)}};var exponentialKernel=ExponentialKernel$1;class HistogramIntersectionKernel{compute(e,r){for(var xe=Math.min(e.length,r.length),Se=0,_e=0;_e<xe;++_e)Se+=Math.min(e[_e],r[_e]);return Se}}var histogramIntersectionKernel=HistogramIntersectionKernel;const{euclidean}=require$$0,defaultOptions$6={sigma:1};let LaplacianKernel$1=class{constructor(e){e=Object.assign({},defaultOptions$6,e),this.sigma=e.sigma}compute(e,r){const xe=euclidean(e,r);return Math.exp(-xe/this.sigma)}};var laplacianKernel=LaplacianKernel$1;const{squaredEuclidean:squaredEuclidean$1}=require$$0,defaultOptions$5={constant:1};let MultiquadraticKernel$1=class{constructor(e){e=Object.assign({},defaultOptions$5,e),this.constant=e.constant}compute(e,r){return Math.sqrt(squaredEuclidean$1(e,r)+this.constant*this.constant)}};var multiquadraticKernel=MultiquadraticKernel$1;const{squaredEuclidean}=require$$0,defaultOptions$4={constant:1};class RationalQuadraticKernel{constructor(e){e=Object.assign({},defaultOptions$4,e),this.constant=e.constant}compute(e,r){const xe=squaredEuclidean(e,r);return 1-xe/(xe+this.constant)}}var rationalQuadraticKernel=RationalQuadraticKernel;const{Matrix:Matrix$1,MatrixTransposeView}=matrix,GaussianKernel=gaussianKernel,PolynomialKernel=polynomialKernel,SigmoidKernel=sigmoidKernel,ANOVAKernel=anovaKernel,CauchyKernel=cauchyKernel,ExponentialKernel=exponentialKernel,HistogramKernel=histogramIntersectionKernel,LaplacianKernel=laplacianKernel,MultiquadraticKernel=multiquadraticKernel,RationalKernel=rationalQuadraticKernel,kernelType={gaussian:GaussianKernel,rbf:GaussianKernel,polynomial:PolynomialKernel,poly:PolynomialKernel,anova:ANOVAKernel,cauchy:CauchyKernel,exponential:ExponentialKernel,histogram:HistogramKernel,min:HistogramKernel,laplacian:LaplacianKernel,multiquadratic:MultiquadraticKernel,rational:RationalKernel,sigmoid:SigmoidKernel,mlp:SigmoidKernel};class Kernel{constructor(e,r){if(this.kernelType=e,e!=="linear")if(typeof e=="string"){e=e.toLowerCase();var xe=kernelType[e];if(xe)this.kernelFunction=new xe(r);else throw new Error(`unsupported kernel type: ${e}`)}else if(typeof e=="object"&&typeof e.compute=="function")this.kernelFunction=e;else throw new TypeError("first argument must be a valid kernel type or instance")}compute(e,r){if(e=Matrix$1.checkMatrix(e),r===void 0?r=e:r=Matrix$1.checkMatrix(r),this.kernelType==="linear")return e.mmul(new MatrixTransposeView(r));const xe=new Matrix$1(e.rows,r.rows);if(e===r)for(let Se=0;Se<e.rows;Se++)for(let _e=Se;_e<e.rows;_e++){const Ae=this.kernelFunction.compute(e.getRow(Se),e.getRow(_e));xe.set(Se,_e,Ae),xe.set(_e,Se,Ae)}else for(let Se=0;Se<e.rows;Se++)for(let _e=0;_e<r.rows;_e++)xe.set(Se,_e,this.kernelFunction.compute(e.getRow(Se),r.getRow(_e)));return xe}}var kernel=Kernel;const Kernel$1=getDefaultExportFromCjs$1(kernel),defaultOptions$3={lambda:.1,kernelType:"gaussian",kernelOptions:{},computeCoefficient:!1};class KernelRidgeRegression extends BaseRegression{constructor(e,r,xe){if(super(),e===!0)this.alpha=r.alpha,this.inputs=r.inputs,this.kernelType=r.kernelType,this.kernelOptions=r.kernelOptions,this.kernel=new Kernel$1(r.kernelType,r.kernelOptions);else{e=Matrix$2.checkMatrix(e),xe=Object.assign({},defaultOptions$3,xe);const Se=new Kernel$1(xe.kernelType,xe.kernelOptions),_e=Se.compute(e),Ae=e.rows;_e.add(Matrix$2.eye(Ae,Ae).mul(xe.lambda)),this.alpha=solve(_e,r),this.inputs=e,this.kernelType=xe.kernelType,this.kernelOptions=xe.kernelOptions,this.kernel=Se}}_predict(e){return this.kernel.compute([e],this.inputs).mmul(this.alpha).getRow(0)}toJSON(){return{name:"kernelRidgeRegression",alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}static load(e){if(e.name!=="kernelRidgeRegression")throw new TypeError("not a KRR model");return new KernelRidgeRegression(!0,e)}}function background$1(t,e,r){const xe=new KernelRidgeRegression(t,e,r),Se=new Array(this.size);for(let Ce=0;Ce<this.width;Ce++)for(let Pe=0;Pe<this.height;Pe++)Se[Pe*this.width+Ce]=[Ce,Pe];const _e=xe.predict(Se),Ae=Image$1.createFrom(this);for(let Ce=0;Ce<this.size;Ce++)Ae.data[Ce]=Math.min(this.maxValue,Math.max(0,_e[Ce][0]));return Ae}function dilate(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("dilate",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("dilate: The number of rows and columns of the kernel must be odd");let xe=!0;e:for(const _e of e)for(const Ae of _e)if(Ae!==1){xe=!1;break e}let Se=this;for(let _e=0;_e<r;_e++)if(this.bitDepth===1)if(xe){const Ae=Se.clone();Se=dilateOnceBinaryOnlyOnes(Se,Ae,e.length,e[0].length)}else{const Ae=Image$1.createFrom(Se);Se=dilateOnceBinary(Se,Ae,e)}else if(xe){const Ae=Image$1.createFrom(Se);Se=dilateOnceGreyOnlyOnes(Se,Ae,e.length,e[0].length)}else{const Ae=Image$1.createFrom(Se);Se=dilateOnceGrey(Se,Ae,e)}return Se}function dilateOnceGrey(t,e,r){const xe=r.length,Se=r[0].length;let _e=(xe-1)/2,Ae=(Se-1)/2;for(let Ce=0;Ce<t.height;Ce++)for(let Pe=0;Pe<t.width;Pe++){let Ee=0;for(let Oe=0;Oe<Se;Oe++)for(let Me=0;Me<xe;Me++){if(r[Me][Oe]!==1)continue;let De=Me-_e+Pe,Te=Oe-Ae+Ce;if(De<0||Te<0||De>=t.width||Te>=t.height)continue;const ke=t.getValueXY(De,Te,0);ke>Ee&&(Ee=ke)}e.setValueXY(Pe,Ce,0,Ee)}return e}function dilateOnceGreyOnlyOnes(t,e,r,xe){const Se=(r-1)/2,_e=(xe-1)/2,Ae=[];for(let Ce=0;Ce<t.width;Ce++)Ae.push(0);for(let Ce=0;Ce<t.height;Ce++){for(let Pe=0;Pe<t.width;Pe++){let Ee=0;for(let Oe=Math.max(0,Ce-_e);Oe<Math.min(t.height,Ce+_e+1);Oe++){const Me=t.getValueXY(Pe,Oe,0);Me>Ee&&(Ee=Me)}Ae[Pe]=Ee}for(let Pe=0;Pe<t.width;Pe++){let Ee=0;for(let Oe=Math.max(0,Pe-Se);Oe<Math.min(t.width,Pe+Se+1);Oe++)Ae[Oe]>Ee&&(Ee=Ae[Oe]);e.setValueXY(Pe,Ce,0,Ee)}}return e}function dilateOnceBinary(t,e,r){const xe=r.length,Se=r[0].length;let _e=(xe-1)/2,Ae=(Se-1)/2;for(let Ce=0;Ce<t.height;Ce++)for(let Pe=0;Pe<t.width;Pe++){let Ee=0;e:for(let Oe=0;Oe<Se;Oe++)for(let Me=0;Me<xe;Me++){if(r[Me][Oe]!==1)continue;let De=Me-_e+Pe,Te=Oe-Ae+Ce;if(Te<0||De<0||De>=t.width||Te>=t.height)continue;if(t.getBitXY(De,Te)===1){Ee=1;break e}}Ee===1&&e.setBitXY(Pe,Ce)}return e}function dilateOnceBinaryOnlyOnes(t,e,r,xe){const Se=(r-1)/2,_e=(xe-1)/2,Ae=[];for(let Ce=0;Ce<t.width;Ce++)Ae.push(1);for(let Ce=0;Ce<t.height;Ce++){for(let Pe=0;Pe<t.width;Pe++){Ae[Pe]=0;for(let Ee=Math.max(0,Ce-_e);Ee<Math.min(t.height,Ce+_e+1);Ee++)if(t.getBitXY(Pe,Ee)===1){Ae[Pe]=1;break}}for(let Pe=0;Pe<t.width;Pe++)if(e.getBitXY(Pe,Ce)!==1){for(let Ee=Math.max(0,Pe-Se);Ee<Math.min(t.width,Pe+Se+1);Ee++)if(Ae[Ee]===1){e.setBitXY(Pe,Ce);break}}}return e}function erode(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("erode",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("erode: The number of rows and columns of the kernel must be odd");let xe=!0;e:for(const _e of e)for(const Ae of _e)if(Ae!==1){xe=!1;break e}let Se=this;for(let _e=0;_e<r;_e++)if(this.bitDepth===1)if(xe){const Ae=Se.clone();Se=erodeOnceBinaryOnlyOnes(Se,Ae,e.length,e[0].length)}else{const Ae=Image$1.createFrom(Se);Se=erodeOnceBinary(Se,Ae,e)}else if(xe){const Ae=Image$1.createFrom(Se);Se=erodeOnceGreyOnlyOnes(Se,Ae,e.length,e[0].length)}else{const Ae=Image$1.createFrom(Se);Se=erodeOnceGrey(Se,Ae,e)}return Se}function erodeOnceGrey(t,e,r){const xe=r.length,Se=r[0].length;let _e=(xe-1)/2,Ae=(Se-1)/2;for(let Ce=0;Ce<t.height;Ce++)for(let Pe=0;Pe<t.width;Pe++){let Ee=t.maxValue;for(let Oe=0;Oe<Se;Oe++)for(let Me=0;Me<xe;Me++){if(r[Me][Oe]!==1)continue;let De=Me-_e+Pe,Te=Oe-Ae+Ce;if(De<0||Te<0||De>=t.width||Te>=t.height)continue;const ke=t.getValueXY(De,Te,0);ke<Ee&&(Ee=ke)}e.setValueXY(Pe,Ce,0,Ee)}return e}function erodeOnceGreyOnlyOnes(t,e,r,xe){const Se=(r-1)/2,_e=(xe-1)/2,Ae=[];for(let Ce=0;Ce<t.width;Ce++)Ae.push(0);for(let Ce=0;Ce<t.height;Ce++){for(let Pe=0;Pe<t.width;Pe++){let Ee=t.maxValue;for(let Oe=Math.max(0,Ce-_e);Oe<Math.min(t.height,Ce+_e+1);Oe++){const Me=t.getValueXY(Pe,Oe,0);Me<Ee&&(Ee=Me)}Ae[Pe]=Ee}for(let Pe=0;Pe<t.width;Pe++){let Ee=t.maxValue;for(let Oe=Math.max(0,Pe-Se);Oe<Math.min(t.width,Pe+Se+1);Oe++)Ae[Oe]<Ee&&(Ee=Ae[Oe]);e.setValueXY(Pe,Ce,0,Ee)}}return e}function erodeOnceBinary(t,e,r){const xe=r.length,Se=r[0].length;let _e=(xe-1)/2,Ae=(Se-1)/2;for(let Ce=0;Ce<t.height;Ce++)for(let Pe=0;Pe<t.width;Pe++){let Ee=1;e:for(let Oe=0;Oe<Se;Oe++)for(let Me=0;Me<xe;Me++){if(r[Me][Oe]!==1)continue;let De=Me-_e+Pe,Te=Oe-Ae+Ce;if(Te<0||De<0||De>=t.width||Te>=t.height)continue;if(t.getBitXY(De,Te)===0){Ee=0;break e}}Ee===1&&e.setBitXY(Pe,Ce)}return e}function erodeOnceBinaryOnlyOnes(t,e,r,xe){const Se=(r-1)/2,_e=(xe-1)/2,Ae=[];for(let Ce=0;Ce<t.width;Ce++)Ae.push(0);for(let Ce=0;Ce<t.height;Ce++){for(let Pe=0;Pe<t.width;Pe++){Ae[Pe]=1;for(let Ee=Math.max(0,Ce-_e);Ee<Math.min(t.height,Ce+_e+1);Ee++)if(t.getBitXY(Pe,Ee)===0){Ae[Pe]=0;break}}for(let Pe=0;Pe<t.width;Pe++)if(e.getBitXY(Pe,Ce)!==0){for(let Ee=Math.max(0,Pe-Se);Ee<Math.min(t.width,Pe+Se+1);Ee++)if(Ae[Ee]===0){e.clearBitXY(Pe,Ce);break}}}return e}function open$1(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("open",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("open: The number of rows and columns of the kernel must be odd");let xe=this;for(let Se=0;Se<r;Se++)xe=xe.erode({kernel:e}),xe=xe.dilate({kernel:e});return xe}function close(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("close",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("close: The number of rows and columns of the kernel must be odd");let xe=this;for(let Se=0;Se<r;Se++)xe=xe.dilate({kernel:e}).erode({kernel:e});return xe}function topHat(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("topHat",{bitDepth:[8,16],components:1,alpha:0}),e.length%2===0||e[0].length%2===0)throw new TypeError("topHat: The number of rows and columns of the kernel must be odd");let xe=this;for(let Se=0;Se<r;Se++)xe=xe.open({kernel:e}).subtractImage(xe,{absolute:!0});return xe}function blackHat(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("blackHat",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("blackHat: The number of rows and columns of the kernel must be odd");let xe=this;for(let Se=0;Se<r;Se++)xe=xe.close({kernel:e}).subtractImage(xe,{absolute:!0});return xe}function morphologicalGradient(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("morphologicalGradient",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("morphologicalGradient: The number of rows and columns of the kernel must be odd");let xe=this;for(let Se=0;Se<r;Se++){let _e=xe.dilate({kernel:e}),Ae=xe.erode({kernel:e});xe=_e.subtractImage(Ae,{absolute:!0})}return xe}function order4Points(t){let e=0,r=0,xe=0,Se=0,_e=t[0][0],Ae=0;for(let Ee=1;Ee<t.length;Ee++)t[Ee][0]<_e&&(_e=t[Ee][0],Ae=Ee);let Ce=t[(Ae+1)%t.length][0],Pe=(Ae+1)%t.length;for(let Ee=1;Ee<t.length;Ee++)t[Ee][0]<Ce&&Ee!==Ae&&(Ce=t[Ee][0],Pe=Ee);return t[Pe][1]<t[Ae][1]?(e=t[Pe],Se=t[Ae],Ae!==(Pe+1)%4?(r=t[(Pe+1)%4],xe=t[(Pe+2)%4]):(r=t[(Pe+2)%4],xe=t[(Pe+3)%4])):(Se=t[Pe],e=t[Ae],Pe!==(Ae+1)%4?(r=t[(Ae+1)%4],xe=t[(Ae+2)%4]):(r=t[(Ae+2)%4],xe=t[(Ae+3)%4])),[e,r,xe,Se]}function distance2Points(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function crossVect(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function dotVect(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function computeWidthAndHeigth(t,e,r,xe,Se,_e){let Ae=Math.max(distance2Points(t,e),distance2Points(xe,r)),Ce=Math.max(distance2Points(t,xe),distance2Points(e,r)),Pe=0,Ee=0,Oe=Math.ceil(Se/2),Me=Math.ceil(_e/2),De=Ae/Ce,Te=[t[0],t[1],1],ke=[e[0],e[1],1],Fe=[xe[0],xe[1],1],$e=[r[0],r[1],1],Be=dotVect(crossVect(Te,$e),Fe)/dotVect(crossVect(ke,$e),Fe),Ie=dotVect(crossVect(Te,$e),ke)/dotVect(crossVect(Fe,$e),ke),Re=[Be*ke[0]-Te[0],Be*ke[1]-Te[1],Be*ke[2]-Te[2]],je=[Ie*Fe[0]-Te[0],Ie*Fe[1]-Te[1],Ie*Fe[2]-Te[2]],Ve=Re[0],He=Re[1],ze=Re[2],Ue=je[0],We=je[1],qe=je[2],Ge=1/(ze*qe)*(Ve*Ue-(Ve*qe+ze*Ue)*Oe+ze*qe*Oe*Oe+(He*We-(He*qe+ze*We)*Me+ze*qe*Me*Me));Ge>=0?Ge=Math.sqrt(Ge):Ge=Math.sqrt(-Ge);let Ye=new Matrix$2([[Ge,0,Oe],[0,Ge,Me],[0,0,1]]),Qe=Ye.transpose(),Je=inverse(Qe),ri=inverse(Ye),hi=Matrix$2.rowVector(Re),pi=Matrix$2.rowVector(je),ni=Math.sqrt(dotVect(hi.mmul(Je).mmul(ri).to1DArray(),Re)/dotVect(pi.mmul(Je).mmul(ri).to1DArray(),je));return ni===0||De===0?(Pe=Math.ceil(Ae),Ee=Math.ceil(Ce)):ni<De?(Pe=Math.ceil(Ae),Ee=Math.ceil(Pe/ni)):(Ee=Math.ceil(Ce),Pe=Math.ceil(ni*Ee)),[Pe,Ee]}function projectionPoint(t,e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me){let[De,Te]=[(r*t+xe*e+Se)/(Pe*t+Ee*e+1),(_e*t+Ae*e+Ce)/(Pe*t+Ee*e+1)];return Oe.getValueXY(Math.floor(De),Math.floor(Te),Me)}function warpingFourPoints(t,e={}){let{calculateRatio:r=!0}=e;if(t.length!==4)throw new Error(`The array pts must have four elements, which are the four corners. Currently, pts have ${t.length} elements`);let[xe,Se,_e,Ae]=t,Ce=[xe,Se,_e,Ae],[Pe,Ee,Oe,Me]=order4Points(Ce),De,Te;r?[De,Te]=computeWidthAndHeigth(Pe,Ee,Oe,Me,this.width,this.height):(De=Math.ceil(Math.max(distance2Points(Pe,Ee),distance2Points(Me,Oe))),Te=Math.ceil(Math.max(distance2Points(Pe,Me),distance2Points(Ee,Oe))));let ke=Image$1.createFrom(this,{width:De,height:Te}),[Fe,$e]=Pe,[Be,Ie]=Ee,[Re,je]=Oe,[Ve,He]=Me,[ze,Ue]=[0,0],[We,qe]=[0,De-1],[Ge,Ye]=[Te-1,De-1],[Qe,Je]=[Te-1,0],ri=new Matrix$2([[ze,Ue,1,0,0,0,-ze*Fe,-Ue*Fe],[We,qe,1,0,0,0,-We*Be,-qe*Be],[Ge,Ye,1,0,0,0,-Ge*Re,-Ue*Re],[Qe,Je,1,0,0,0,-Qe*Ve,-Je*Ve],[0,0,0,ze,Ue,1,-ze*$e,-Ue*$e],[0,0,0,We,qe,1,-We*Ie,-qe*Ie],[0,0,0,Ge,Ye,1,-Ge*je,-Ye*je],[0,0,0,Qe,Je,1,-Qe*He,-Je*He]]),hi=Matrix$2.columnVector([Fe,Be,Re,Ve,$e,Ie,je,He]),ni=new SingularValueDecomposition(ri).solve(hi),[di,fi,Pi,ci,xi,yi,gi,Ai]=ni.to1DArray(),Mi=new Matrix$2(Te,De);for(let Fi=0;Fi<this.channels;Fi++){for(let Di=0;Di<Te;Di++)for(let oi=0;oi<De;oi++)Mi.set(Di,oi,projectionPoint(Di,oi,di,fi,Pi,ci,xi,yi,gi,Ai,this,Fi));ke.setMatrix(Mi,{channel:Fi})}return ke}function crop(t={}){let{x:e=0,y:r=0,width:xe=this.width-e,height:Se=this.height-r}=t;if(this.checkProcessable("crop",{bitDepth:[1,8,16]}),e=Math.round(e),r=Math.round(r),xe=Math.round(xe),Se=Math.round(Se),e>this.width-1||r>this.height-1)throw new RangeError(`crop: origin (x:${e}, y:${r}) out of range (${this.width-1}; ${this.height-1})`);if(xe<=0||Se<=0)throw new RangeError(`crop: width and height (width:${xe}; height:${Se}) must be positive numbers`);if(e<0||r<0)throw new RangeError(`crop: x and y (x:${e}, y:${r}) must be positive numbers`);if(xe>this.width-e||Se>this.height-r)throw new RangeError(`crop: (x: ${e}, y:${r}, width:${xe}, height:${Se}) size is out of range`);let _e=this;if(this.bitDepth===1){const Ae=new Image$1(xe,Se,{kind:"BINARY",parent:this});_e=cropBinary(this,Ae,e,r,xe,Se)}else{const Ae=Image$1.createFrom(this,{width:xe,height:Se,position:[e,r]});_e=cropDefault(this,Ae,e,r,xe,Se)}return _e}function cropDefault(t,e,r,xe,Se,_e){let Ae=Se*t.channels,Ce=xe+_e,Pe=0,Ee=r*t.channels;for(let Oe=xe;Oe<Ce;Oe++){let Me=Oe*t.width*t.channels+Ee,De=Me+Ae;for(;Me<De;Me++)e.data[Pe++]=t.data[Me]}return e}function cropBinary(t,e,r,xe,Se,_e){let Ae=Se*t.channels,Ce=xe+_e,Pe=0,Ee=r*t.channels;for(let Oe=xe;Oe<Ce;Oe++){let Me=Oe*t.width*t.channels+Ee,De=Me+Ae;for(;Me<De;Me++)t.getBit(Me)&&e.setBit(Pe),++Pe}return e}function cropAlpha(t={}){this.checkProcessable("cropAlpha",{alpha:1});const{threshold:e=this.maxValue}=t;let r=findLeft(this,e,this.components);if(r===-1)throw new Error("Could not find new dimensions. Threshold may be too high.");let xe=findTop(this,e,this.components,r),Se=findBottom(this,e,this.components,r),_e=findRight(this,e,this.components,r,xe,Se);return this.crop({x:r,y:xe,width:_e-r+1,height:Se-xe+1})}function findLeft(t,e,r){for(let xe=0;xe<t.width;xe++)for(let Se=0;Se<t.height;Se++)if(t.getValueXY(xe,Se,r)>=e)return xe;return-1}function findTop(t,e,r,xe){for(let Se=0;Se<t.height;Se++)for(let _e=xe;_e<t.width;_e++)if(t.getValueXY(_e,Se,r)>=e)return Se;return-1}function findBottom(t,e,r,xe){for(let Se=t.height-1;Se>=0;Se--)for(let _e=xe;_e<t.width;_e++)if(t.getValueXY(_e,Se,r)>=e)return Se;return-1}function findRight(t,e,r,xe,Se,_e){for(let Ae=t.width-1;Ae>=xe;Ae--)for(let Ce=Se;Ce<=_e;Ce++)if(t.getValueXY(Ae,Ce,r)>=e)return Ae;return-1}function getFactor(t){if(typeof t=="string"){const e=t[t.length-1];t=parseFloat(t),e==="%"&&(t/=100)}return t}function getThreshold$1(t,e){if(!e)throw Error("getThreshold : the maxValue should be specified");if(typeof t=="string"){if(t[t.length-1]!=="%")throw Error("getThreshold : if the value is a string it must finish by %");return parseFloat(t)/100*e}else{if(typeof t=="number")return t<1?t*e:t;throw Error("getThreshold : the value is not valid")}}function factorDimensions(t,e,r){t=getFactor(t);let xe=Math.round(t*e),Se=Math.round(t*r);return xe<=0&&(xe=1),Se<=0&&(Se=1),{width:xe,height:Se}}function checkRow(t,e){if(e<0||e>=t.height)throw new RangeError(`row must be included between 0 and ${t.height-1}. Current value: ${e}`)}function checkColumn(t,e){if(e<0||e>=t.width)throw new RangeError(`column must be included between 0 and ${t.width-1}. Current value: ${e}`)}function checkChannel(t,e){if(e<0||e>=t.channels)throw new RangeError(`channel must be included between 0 and ${t.channels-1}. Current value: ${e}`)}const validInterpolations={nearestneighbor:"nearestNeighbor",nearestneighbour:"nearestNeighbor",bilinear:"bilinear"};function checkInterpolation(t){if(typeof t!="string")throw new TypeError("interpolation must be a string");if(t=t.toLowerCase(),!validInterpolations[t])throw new RangeError(`invalid interpolation algorithm: ${t}`);return validInterpolations[t]}function nearestNeighbor(t,e,r){const xe=this.width/e,Se=this.height/r;if(this.bitDepth>1)for(let _e=0;_e<e;_e++){const Ae=Math.floor((_e+.5)*xe);for(let Ce=0;Ce<r;Ce++){const Pe=Math.floor((Ce+.5)*Se);for(let Ee=0;Ee<this.channels;Ee++)t.setValueXY(_e,Ce,Ee,this.getValueXY(Ae,Pe,Ee))}}else for(let _e=0;_e<e;_e++){const Ae=Math.floor((_e+.5)*xe);for(let Ce=0;Ce<r;Ce++){const Pe=Math.floor((Ce+.5)*Se);this.getBitXY(Ae,Pe)&&t.setBitXY(_e,Ce)}}}function resize(t={}){const{factor:e=1,interpolation:r=validInterpolations.nearestneighbor,preserveAspectRatio:xe=!0}=t,Se=checkInterpolation(r);let _e=t.width,Ae=t.height;if(_e||(Ae&&xe?_e=Math.round(Ae*(this.width/this.height)):_e=this.width),Ae||(xe?Ae=Math.round(_e*(this.height/this.width)):Ae=this.height),{width:_e,height:Ae}=factorDimensions(e,_e,Ae),_e===this.width&&Ae===this.height){const Oe=this.clone();return Oe.position=[0,0],Oe}let Ce=Math.round((this.width-_e)/2),Pe=Math.round((this.height-Ae)/2);const Ee=Image$1.createFrom(this,{width:_e,height:Ae,position:[Ce,Pe]});switch(Se){case validInterpolations.nearestneighbor:nearestNeighbor.call(this,Ee,_e,Ae);break;default:throw new Error(`unsupported resize interpolation: ${Se}`)}return Ee}function hsv(){this.checkProcessable("hsv",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let t=Image$1.createFrom(this,{colorModel:HSV}),e=0,r=this.data;for(let xe=0;xe<r.length;xe+=this.channels){let Se=r[xe],_e=r[xe+1],Ae=r[xe+2],Ce=Math.min(Se,_e,Ae),Pe=Math.max(Se,_e,Ae),Ee=Pe-Ce,Oe=0,Me=Pe===0?0:Ee/Pe,De=Pe;if(Pe!==Ce){switch(Pe){case Se:Oe=(_e-Ae)/Ee+(_e<Ae?6:0);break;case _e:Oe=(Ae-Se)/Ee+2;break;case Ae:Oe=(Se-_e)/Ee+4;break;default:throw new Error("unreachable")}Oe/=6}t.data[e++]=Oe*this.maxValue,t.data[e++]=Me*this.maxValue,t.data[e++]=De,this.alpha&&(t.data[e++]=r[xe+3])}return t}function hsl$1(){this.checkProcessable("hsl",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let t=Image$1.createFrom(this,{colorModel:HSL}),e=Math.floor(this.maxValue/2),r=0,xe=this.data;for(let Se=0;Se<xe.length;Se+=this.channels){let _e=xe[Se],Ae=xe[Se+1],Ce=xe[Se+2],Pe=Math.max(_e,Ae,Ce),Ee=Math.min(_e,Ae,Ce),Oe=0,Me=0,De=(Pe+Ee)/2;if(Pe!==Ee){let Te=Pe-Ee;switch(Me=De>e?Te/(2-Pe-Ee):Te/(Pe+Ee),Pe){case _e:Oe=(Ae-Ce)/Te+(Ae<Ce?6:0);break;case Ae:Oe=(Ce-_e)/Te+2;break;case Ce:Oe=(_e-Ae)/Te+4;break;default:throw new Error("unreachable")}Oe/=6}t.data[r++]=Oe*this.maxValue,t.data[r++]=Me*this.maxValue,t.data[r++]=De,this.alpha&&(t.data[r++]=xe[Se+3])}return t}function cmyk(){this.checkProcessable("cmyk",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let t=Image$1.createFrom(this,{components:4,colorModel:CMYK$1}),e=0,r=this.data;for(let xe=0;xe<r.length;xe+=this.channels){let Se=r[xe],_e=r[xe+1],Ae=r[xe+2],Ce=Math.min(this.maxValue-Se,this.maxValue-_e,this.maxValue-Ae),Pe=(this.maxValue-Se-Ce)/(1-Ce/this.maxValue),Ee=(this.maxValue-_e-Ce)/(1-Ce/this.maxValue),Oe=(this.maxValue-Ae-Ce)/(1-Ce/this.maxValue);t.data[e++]=Math.round(Pe),t.data[e++]=Math.round(Ee),t.data[e++]=Math.round(Oe),t.data[e++]=Math.round(Ce),this.alpha&&(t.data[e++]=r[xe+3])}return t}function rgba8(){return new Image$1(this.width,this.height,this.getRGBAData(),{kind:"RGBA",parent:this})}const methods$1={luma709(t,e,r){return t*6966+e*23436+r*2366>>15},luma601(t,e,r){return t*9798+e*19235+r*3735>>15},maximum(t,e,r){return Math.max(t,e,r)},minimum(t,e,r){return Math.min(t,e,r)},average(t,e,r){return(t+e+r)/3>>0},minmax(t,e,r){return(Math.max(t,e,r)+Math.min(t,e,r))/2},red(t){return t},green(t,e){return e},blue(t,e,r){return r},cyan(t,e,r,xe){let Se=methods$1.black(t,e,r,xe);return(xe.maxValue-t-Se)/(1-Se/xe.maxValue)>>0},magenta(t,e,r,xe){let Se=methods$1.black(t,e,r,xe);return(xe.maxValue-e-Se)/(1-Se/xe.maxValue)>>0},yellow(t,e,r,xe){let Se=methods$1.black(t,e,r,xe);return(xe.maxValue-r-Se)/(1-Se/xe.maxValue)>>0},black(t,e,r,xe){return Math.min(xe.maxValue-t,xe.maxValue-e,xe.maxValue-r)},hue(t,e,r,xe){let Se=methods$1.min(t,e,r),_e=methods$1.max(t,e,r);if(_e===Se)return 0;let Ae=0,Ce=_e-Se;switch(_e){case t:Ae=(e-r)/Ce+(e<r?6:0);break;case e:Ae=(r-t)/Ce+2;break;case r:Ae=(t-e)/Ce+4;break;default:throw new Error("unreachable")}return Ae/6*xe.maxValue>>0},saturation(t,e,r,xe){let Se=methods$1.min(t,e,r),_e=methods$1.max(t,e,r),Ae=_e-Se;return _e===0?0:Ae/_e*xe.maxValue},lightness(t,e,r){let xe=methods$1.min(t,e,r);return(methods$1.max(t,e,r)+xe)/2}};Object.defineProperty(methods$1,"luminosity",{enumerable:!1,value:methods$1.lightness});Object.defineProperty(methods$1,"luminance",{enumerable:!1,value:methods$1.lightness});Object.defineProperty(methods$1,"min",{enumerable:!1,value:methods$1.minimum});Object.defineProperty(methods$1,"max",{enumerable:!1,value:methods$1.maximum});Object.defineProperty(methods$1,"brightness",{enumerable:!1,value:methods$1.maximum});Object.keys(methods$1).forEach(t=>{});function grey(t={}){let{algorithm:e="luma709",keepAlpha:r=!1,mergeAlpha:xe=!0}=t;if(typeof e!="string"&&typeof e!="function")throw new TypeError("algorithm must be a string or a function");this.checkProcessable("grey",{bitDepth:[8,16],alpha:[0,1]}),this.components===1&&(e="red"),r&=this.alpha,xe&=this.alpha,r&&(xe=!1);let Se=getOutputImage(this,t,{components:1,alpha:r,colorModel:GREY$1}),_e;if(typeof e=="function")_e=e;else if(_e=methods$1[e.toLowerCase()],!_e)throw new Error(`unsupported grey algorithm: ${e}`);let Ae=0;for(let Ce=0;Ce<this.data.length;Ce+=this.channels)xe?Se.data[Ae++]=clamp(_e(this.data[Ce],this.data[Ce+1],this.data[Ce+2],this)*this.data[Ce+this.components]/this.maxValue,this):(Se.data[Ae++]=clamp(_e(this.data[Ce],this.data[Ce+1],this.data[Ce+2],this),this),Se.alpha&&(Se.data[Ae++]=this.data[Ce+this.components]));return Se}function huang(t){let e=0;for(let Oe=0;Oe<t.length;Oe++)if(t[Oe]!==0){e=Oe;break}let r=t.length-1;for(let Oe=t.length-1;Oe>=e;Oe--)if(t[Oe]!==0){r=Oe;break}let xe=1/(r-e),Se=new Array(t.length),_e=0,Ae=0;for(let Oe=e;Oe<t.length;Oe++)_e+=Oe*t[Oe],Ae+=t[Oe],Se[Oe]=_e/Ae;let Ce=new Array(t.length);_e=Ae=0;for(let Oe=r;Oe>0;Oe--)_e+=Oe*t[Oe],Ae+=t[Oe],Ce[Oe-1]=_e/Ae;let Pe=-1,Ee=Number.MAX_VALUE;for(let Oe=0;Oe<t.length;Oe++){let Me=0,De;for(let Te=0;Te<=Oe;Te++)De=1/(1+xe*Math.abs(Te-Se[Oe])),De<1e-6||De>.999999||(Me+=t[Te]*(-De*Math.log(De)-(1-De)*Math.log(1-De)));for(let Te=Oe+1;Te<t.length;Te++)De=1/(1+xe*Math.abs(Te-Ce[Oe])),De<1e-6||De>.999999||(Me+=t[Te]*(-De*Math.log(De)-(1-De)*Math.log(1-De)));Me<Ee&&(Ee=Me,Pe=Oe)}return Pe}function intermodes(t){let e=t.slice(),r=0;for(;!bimodalTest$1(e);){let Se=0,_e=0,Ae=e[0];for(let Ce=0;Ce<t.length-1;Ce++)Se=_e,_e=Ae,Ae=e[Ce+1],e[Ce]=(Se+_e+Ae)/3;if(e[t.length-1]=(_e+Ae)/3,r++,r>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}let xe=0;for(let Se=1;Se<t.length-1;Se++)e[Se-1]<e[Se]&&e[Se+1]<e[Se]&&(xe+=Se);return Math.floor(xe/2)}function bimodalTest$1(t){let e=!1,r=0;for(let xe=1;xe<t.length-1;xe++)if(t[xe-1]<t[xe]&&t[xe+1]<t[xe]&&(r++,r>2))return!1;return r===2&&(e=!0),e}function isodata(t){let e,r,xe,Se,_e=0;for(let Ae=1;Ae<t.length;Ae++)if(t[Ae]>0){_e=Ae+1;break}for(;;){e=0,xe=0;for(let Ae=0;Ae<_e;Ae++)xe=xe+t[Ae],e=e+t[Ae]*Ae;Se=0,r=0;for(let Ae=_e+1;Ae<t.length;Ae++)r+=t[Ae],Se+=t[Ae]*Ae;if(xe>0&&r>0&&(e/=xe,Se/=r,_e===Math.round((e+Se)/2)))break;if(_e++,_e>t.length-2)throw new Error("Threshold not found")}return _e}function li(t,e){let r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me,De,Te;De=.5,Me=0;for(let ke=0;ke<t.length;ke++)Me+=ke*t[ke];Me/=e,Pe=Me;do{Ce=Pe,r=Ce+.5|0,xe=0,_e=0;for(let ke=0;ke<=r;ke++)xe+=ke*t[ke],_e+=t[ke];Ee=_e===0?0:xe/_e,Se=0,Ae=0;for(let ke=r+1;ke<t.length;ke++)Se+=ke*t[ke],Ae+=t[ke];Oe=Ae===0?0:Se/Ae,Te=(Ee-Oe)/(Math.log(Ee)-Math.log(Oe)),Te<-Number.EPSILON?Pe=Te-.5|0:Pe=Te+.5|0}while(Math.abs(Pe-Ce)>De);return r}function maxEntropy(t,e){let r=new Array(t.length);for(let De=0;De<t.length;De++)r[De]=t[De]/e;let xe=new Array(t.length),Se=new Array(t.length);xe[0]=r[0],Se[0]=1-xe[0];for(let De=1;De<t.length;De++)xe[De]=xe[De-1]+r[De],Se[De]=1-xe[De];let _e=0;for(let De=0;De<t.length;De++)if(Math.abs(xe[De])>=Number.EPSILON){_e=De;break}let Ae=t.length-1;for(let De=t.length-1;De>=_e;De--)if(Math.abs(Se[De])>=Number.EPSILON){Ae=De;break}let Ce=-1,Pe,Ee=Number.MIN_VALUE,Oe,Me;for(let De=_e;De<=Ae;De++){Oe=0;for(let Te=0;Te<=De;Te++)t[Te]!==0&&(Oe-=r[Te]/xe[De]*Math.log(r[Te]/xe[De]));Me=0;for(let Te=De+1;Te<t.length;Te++)t[Te]!==0&&(Me-=r[Te]/Se[De]*Math.log(r[Te]/Se[De]));Pe=Oe+Me,Ee<Pe&&(Ee=Pe,Ce=De)}return Ce}function mean$1(t,e){let r=0;for(let xe=0;xe<t.length;xe++)r+=xe*t[xe];return Math.floor(r/e)}function minError(t,e){let r,xe=-2,Se,_e,Ae,Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe=0;for(let $e=0;$e<t.length;$e++)Fe+=$e*t[$e];for(Fe/=e,r=Fe;r!==xe;){let $e=sumA(t,r),Be=sumA(t,t.length-1),Ie=sumB(t,r),Re=sumB(t,t.length-1),je=sumC(t,r),Ve=sumC(t,t.length-1);if(Se=Ie/$e,_e=(Re-Ie)/(Be-$e),Ae=$e/Be,Ce=(Be-$e)/Be,Pe=je/$e-Se*Se,Ee=(Ve-je)/(Be-$e)-_e*_e,Oe=1/Pe-1/Ee,Me=Se/Pe-_e/Ee,De=Se*Se/Pe-_e*_e/Ee+Math.log10(Pe*(Ce*Ce)/(Ee*(Ae*Ae))),Te=Me*Me-Oe*De,Te<0)return r;xe=r,ke=(Me+Math.sqrt(Te))/Oe,isNaN(ke)?r=xe:r=Math.floor(ke)}return r}function sumA(t,e){let r=0;for(let xe=0;xe<=e;xe++)r+=t[xe];return r}function sumB(t,e){let r=0;for(let xe=0;xe<=e;xe++)r+=xe*t[xe];return r}function sumC(t,e){let r=0;for(let xe=0;xe<=e;xe++)r+=xe*xe*t[xe];return r}function minimum(t){if(t.length<2)return 0;let e=0,r=-1,xe=-1,Se=new Array(t.length);for(let _e=0;_e<t.length;_e++)Se[_e]=t[_e],t[_e]>0&&(xe=_e);for(;!bimodalTest(Se);)if(Se=smoothed(Se),e++,e>1e4)return r;return r=minimumBetweenPeeks(Se,xe),r}function smoothed(t){let e=new Array(t.length);for(let r=1;r<t.length-1;r++)e[r]=(t[r-1]+t[r]+t[r+1])/3;return e[0]=(t[0]+t[1])/3,e[t.length-1]=(t[t.length-2]+t[t.length-1])/3,e}function minimumBetweenPeeks(t,e){let r;for(let xe=1;xe<e;xe++)if(t[xe-1]>t[xe]&&t[xe+1]>=t[xe]){r=xe;break}return r}function bimodalTest(t){let e=t.length,r=!1,xe=0;for(let Se=1;Se<e-1;Se++)if(t[Se-1]<t[Se]&&t[Se+1]<t[Se]&&(xe++,xe>2))return!1;return xe===2&&(r=!0),r}function moments(t,e){let r=1,xe=0,Se=0,_e=0,Ae=0,Ce,Pe,Ee,Oe,Me,De,Te=-1,ke=t.length,Fe=new Array(ke);for(let $e=0;$e<ke;$e++)Fe[$e]=t[$e]/e;for(let $e=0;$e<ke;$e++)xe+=$e*Fe[$e],Se+=$e*$e*Fe[$e],_e+=$e*$e*$e*Fe[$e];Pe=r*Se-xe*xe,Ee=(-Se*Se+xe*_e)/Pe,Oe=(r*-_e+Se*xe)/Pe,Me=.5*(-Oe-Math.sqrt(Oe*Oe-4*Ee)),De=.5*(-Oe+Math.sqrt(Oe*Oe-4*Ee)),Ce=(De-xe)/(De-Me);for(let $e=0;$e<ke;$e++)if(Ae+=Fe[$e],Ae>Ce){Te=$e;break}return Te}function otsu(t,e){let r=0,xe=0,Se=0,_e=0,Ae=0;for(let Ce=0;Ce<t.length;Ce++)Ae+=Ce*t[Ce];for(let Ce=0;Ce<t.length;Ce++){xe=xe+t[Ce];const Pe=e-xe;if(xe===0||Pe===0)continue;r=r+Ce*t[Ce];const Ee=(Ae-r)/Pe,Oe=xe*Pe*(r/xe-Ee)*(r/xe-Ee);Oe>=Se&&(_e=Ce,Se=Oe)}return _e}function percentile(t){let e=-1,r=.5,xe=new Array(t.length),Se=partialSum(t,t.length-1),_e=1;for(let Ae=0;Ae<t.length;Ae++)xe[Ae]=Math.abs(partialSum(t,Ae)/Se-r),xe[Ae]<_e&&(_e=xe[Ae],e=Ae);return e}function partialSum(t,e){let r=0;for(let xe=0;xe<=e;xe++)r+=t[xe];return r}function renyiEntropy(t,e){let r,xe,Se,_e=new Array(t.length),Ae=new Array(t.length),Ce=new Array(t.length),Pe=0,Ee=0,Oe=0,Me=0,De=0,Te=0,Fe=1/(1-.5),Be=1/(1-2);for(let Ve=0;Ve<t.length;Ve++)_e[Ve]=t[Ve]/e;Ae[0]=_e[0],Ce[0]=1-Ae[0];for(let Ve=1;Ve<t.length;Ve++)Ae[Ve]=Ae[Ve-1]+_e[Ve],Ce[Ve]=1-Ae[Ve];xe=0;for(let Ve=0;Ve<t.length;Ve++)if(Math.abs(Ae[Ve])>=Number.EPSILON){xe=Ve;break}Se=t.length-1;for(let Ve=t.length-1;Ve>=xe;Ve--)if(Math.abs(Ce[Ve])>=Number.EPSILON){Se=Ve;break}for(let Ve=xe;Ve<=Se;Ve++){let He=0,ze=0,Ue=0;for(let ri=0;ri<=Ve;ri++)t[ri]!==0&&(He-=_e[ri]/Ae[Ve]*Math.log(_e[ri]/Ae[Ve])),ze+=Math.sqrt(_e[ri]/Ae[Ve]),Ue+=_e[ri]*_e[ri]/(Ae[Ve]*Ae[Ve]);let We=0,qe=0,Ge=0;for(let ri=Ve+1;ri<t.length;ri++)t[ri]!==0&&(We-=_e[ri]/Ce[Ve]*Math.log(_e[ri]/Ce[Ve])),qe+=Math.sqrt(_e[ri]/Ce[Ve]),Ge+=_e[ri]*_e[ri]/(Ce[Ve]*Ce[Ve]);let Ye=He+We,Qe=Fe*(ze*qe>0?Math.log(ze*qe):0),Je=Be*(Ue*Ge>0?Math.log(Ue*Ge):0);Ye>Me&&(Me=Ye,Pe=Ve),Qe>De&&(De=Qe,Ee=Ve),Je>Te&&(Te=Je,Oe=Ve)}let Ie=[Pe,Ee,Oe];Ie.sort((Ve,He)=>Ve-He);let Re;Math.abs(Ie[0]-Ie[1])<=5?Math.abs(Ie[1]-Ie[2])<=5?Re=[1,2,1]:Re=[0,1,3]:Math.abs(Ie[1]-Ie[2])<=5?Re=[3,1,0]:Re=[1,2,1];let je=Ae[Ie[2]]-Ae[Ie[0]];return r=Math.round(Ie[0]*(Ae[Ie[0]]+.25*je*Re[0])+.25*Ie[1]*je*Re[1]+Ie[2]*(Ce[Ie[2]]+.25*je*Re[2])),r}function shanbhag(t,e){let r=new Array(t.length);for(let Te=0;Te<t.length;Te++)r[Te]=t[Te]/e;let xe=new Array(t.length),Se=new Array(t.length);xe[0]=r[0],Se[0]=1-xe[0];for(let Te=1;Te<t.length;Te++)xe[Te]=xe[Te-1]+r[Te],Se[Te]=1-xe[Te];let _e=0;for(let Te=0;Te<t.length;Te++)if(Math.abs(xe[Te])>=Number.EPSILON){_e=Te;break}let Ae=t.length-1;for(let Te=t.length-1;Te>=_e;Te--)if(Math.abs(Se[Te])>=Number.EPSILON){Ae=Te;break}let Ce=-1,Pe=Number.MAX_VALUE,Ee,Oe,Me,De;for(let Te=_e;Te<=Ae;Te++){Me=0,Ee=.5/xe[Te];for(let ke=1;ke<=Te;ke++)Me-=r[ke]*Math.log(1-Ee*xe[ke-1]);Me*=Ee,De=0,Ee=.5/Se[Te];for(let ke=Te+1;ke<t.length;ke++)De-=r[ke]*Math.log(1-Ee*Se[ke]);De*=Ee,Oe=Math.abs(Me-De),Oe<Pe&&(Pe=Oe,Ce=Te)}return Ce}function triangle$1(t){let e=0,r=0,xe=0,Se=0;for(let Me=0;Me<t.length;Me++)if(t[Me]>0){e=Me;break}e>0&&e--;for(let Me=t.length-1;Me>0;Me--)if(t[Me]>0){Se=Me;break}Se<t.length-1&&Se++;for(let Me=0;Me<t.length;Me++)t[Me]>r&&(xe=Me,r=t[Me]);let _e=!1;if(xe-e<Se-xe){_e=!0;let Me=0,De=t.length-1;for(;Me<De;){let Te=t[Me];t[Me]=t[De],t[De]=Te,Me++,De--}e=t.length-1-Se,xe=t.length-1-xe}if(e===xe)return e;let Ae,Ce,Pe;Ae=t[xe],Ce=e-xe,Pe=Math.sqrt(Ae*Ae+Ce*Ce),Ae/=Pe,Ce/=Pe,Pe=Ae*e+Ce*t[e];let Ee=e,Oe=0;for(let Me=e+1;Me<=xe;Me++){let De=Ae*Me+Ce*t[Me]-Pe;De>Oe&&(Ee=Me,Oe=De)}if(Ee--,_e){let Me=0,De=t.length-1;for(;Me<De;){let Te=t[Me];t[Me]=t[De],t[De]=Te,Me++,De--}return t.length-1-Ee}else return Ee}function yen(t,e){let r=new Array(t.length);for(let Ee=0;Ee<t.length;Ee++)r[Ee]=t[Ee]/e;let xe=new Array(t.length);xe[0]=r[0];for(let Ee=1;Ee<t.length;Ee++)xe[Ee]=xe[Ee-1]+r[Ee];let Se=new Array(t.length);Se[0]=r[0]*r[0];for(let Ee=1;Ee<t.length;Ee++)Se[Ee]=Se[Ee-1]+r[Ee]*r[Ee];let _e=new Array(t.length);_e[t.length-1]=0;for(let Ee=t.length-2;Ee>=0;Ee--)_e[Ee]=_e[Ee+1]+r[Ee+1]*r[Ee+1];let Ae=-1,Ce=Number.MIN_VALUE,Pe;for(let Ee=0;Ee<t.length;Ee++)Pe=-1*(Se[Ee]*_e[Ee]>0?Math.log(Se[Ee]*_e[Ee]):0)+2*(xe[Ee]*(1-xe[Ee])>0?Math.log(xe[Ee]*(1-xe[Ee])):0),Pe>Ce&&(Ce=Pe,Ae=Ee);return Ae}const methods={huang,intermodes,isodata,li,maxentropy:maxEntropy,mean:mean$1,minerror:minError,minimum,moments,otsu,percentile,renyientropy:renyiEntropy,shanbhag,triangle:triangle$1,yen},names={};Object.keys(methods).forEach(t=>{names[t]=t});function getThreshold(t={}){let{algorithm:e=names.otsu}=t;this.checkProcessable("getThreshold",{components:1,bitDepth:[8,16]});let r=methods[e.toLowerCase()];if(r){let xe=this.getHistogram();return r(xe,this.size)}else throw new Error(`unknown thresholding algorithm: ${e}`)}const THRESHOLD="threshold";function mask(t={}){let{algorithm:e=THRESHOLD,threshold:r=.5,useAlpha:xe=!0,invert:Se=!1}=t;this.checkProcessable("mask",{components:1,bitDepth:[8,16]}),e===THRESHOLD?r=getThreshold$1(r,this.maxValue):r=getThreshold.call(this,t);let _e=new Image$1(this.width,this.height,{kind:"BINARY",parent:this}),Ae=0;if(this.alpha&&xe)for(let Ce=0;Ce<this.data.length;Ce+=this.channels){let Pe=this.data[Ce]+(this.maxValue-this.data[Ce])*(this.maxValue-this.data[Ce+1])/this.maxValue;(Se&&Pe<=r||!Se&&Pe>=r)&&_e.setBit(Ae),Ae++}else for(let Ce=0;Ce<this.data.length;Ce+=this.channels)(Se&&this.data[Ce]<=r||!Se&&this.data[Ce]>=r)&&_e.setBit(Ae),Ae++;return _e}function copyImage(t,e,r,xe){let Se=t.width,_e=t.height,Ae=e.width,Ce=t.channels;for(let Pe=0;Pe<Se;Pe++)for(let Ee=0;Ee<_e;Ee++)for(let Oe=0;Oe<Ce;Oe++){let Me=(Ee*Se+Pe)*Ce+Oe,De=((xe+Ee)*Ae+r+Pe)*Ce+Oe;e.data[De]=t.data[Me]}}function pad(t={}){let{size:e=0,algorithm:r="copy",color:xe}=t;if(this.checkProcessable("pad",{bitDepth:[8,16]}),r==="set"){if(xe.length!==this.channels)throw new Error(`pad: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let Pe=0;Pe<xe.length;Pe++)xe[Pe]===0&&(xe[Pe]=.001)}else xe=newArray$1(this.channels,null);Array.isArray(e)||(e=[e,e]);let Se=this.width+e[0]*2,_e=this.height+e[1]*2,Ae=this.channels,Ce=Image$1.createFrom(this,{width:Se,height:_e});copyImage(this,Ce,e[0],e[1]);for(let Pe=e[0];Pe<Se-e[0];Pe++)for(let Ee=0;Ee<Ae;Ee++){let Oe=xe[Ee]||Ce.data[(e[1]*Se+Pe)*Ae+Ee];for(let Me=0;Me<e[1];Me++)Ce.data[(Me*Se+Pe)*Ae+Ee]=Oe;Oe=xe[Ee]||Ce.data[((_e-e[1]-1)*Se+Pe)*Ae+Ee];for(let Me=_e-e[1];Me<_e;Me++)Ce.data[(Me*Se+Pe)*Ae+Ee]=Oe}for(let Pe=0;Pe<_e;Pe++)for(let Ee=0;Ee<Ae;Ee++){let Oe=xe[Ee]||Ce.data[(Pe*Se+e[0])*Ae+Ee];for(let Me=0;Me<e[0];Me++)Ce.data[(Pe*Se+Me)*Ae+Ee]=Oe;Oe=xe[Ee]||Ce.data[(Pe*Se+Se-e[0]-1)*Ae+Ee];for(let Me=Se-e[0];Me<Se;Me++)Ce.data[(Pe*Se+Me)*Ae+Ee]=Oe}return Ce}function colorDepth(t=8){if(this.checkProcessable("colorDepth",{bitDepth:[1,8,16]}),![8,16].includes(t))throw Error("You need to specify the new colorDepth as 8 or 16");if(this.bitDepth===t)return this.clone();let e=Image$1.createFrom(this,{bitDepth:t});switch(t){case 8:if(this.bitDepth===1)for(let r=0;r<this.size;r++)this.getBit(r)&&(e.data[r]=255);else for(let r=0;r<this.data.length;r++)e.data[r]=this.data[r]>>8;break;case 16:if(this.bitDepth===1)for(let r=0;r<this.size;r++)this.getBit(r)&&(e.data[r]=65535);else for(let r=0;r<this.data.length;r++)e.data[r]=this.data[r]<<8|this.data[r];break;default:throw new Error("colorDepth conversion unexpected case")}return e}function rotateFree(t,e={}){const{interpolation:r=validInterpolations.nearestneighbor,width:xe=this.width,height:Se=this.height}=e;if(typeof t!="number")throw new TypeError("degrees must be a number");const _e=checkInterpolation(r),Ae=t*Math.PI/180,Ce=Math.floor(Math.abs(xe*Math.cos(Ae))+Math.abs(Se*Math.sin(Ae))),Pe=Math.floor(Math.abs(Se*Math.cos(Ae))+Math.abs(xe*Math.sin(Ae))),Ee=Math.cos(-Ae),Oe=Math.sin(-Ae);let Me=Ce/2,De=Pe/2;Ce%2===0?(Me=Me-.5,Pe%2===0?De=De-.5:De=Math.floor(De)):(Me=Math.floor(Me),Pe%2===0?De=De-.5:De=Math.floor(De));const Te=Math.floor(xe/2-Me),ke=Math.floor(Se/2-De);if(this.bitDepth===1){const Fe=new Image$1(Ce,Pe,{kind:"BINARY",parent:this});switch(_e){case validInterpolations.nearestneighbor:return rotateBinaryNearestNeighbor(this,Fe,Te,ke,Me,De,Ee,Oe);case validInterpolations.bilinear:return rotateBinaryBilinear(this,Fe,Te,ke,Me,De,Ee,Oe);default:throw new Error(`unsupported rotate interpolation: ${_e}`)}}else{const Fe=Image$1.createFrom(this,{width:Ce,height:Pe});switch(_e){case validInterpolations.nearestneighbor:return rotateNearestNeighbor(this,Fe,Te,ke,Me,De,Ee,Oe);case validInterpolations.bilinear:return rotateBilinear(this,Fe,Te,ke,Me,De,Ee,Oe);default:throw new Error(`unsupported rotate interpolation: ${_e}`)}}}function rotateNearestNeighbor(t,e,r,xe,Se,_e,Ae,Ce){for(let Pe=0;Pe<e.width;Pe+=1)for(let Ee=0;Ee<e.height;Ee+=1)for(let Oe=0;Oe<t.channels;Oe++){let Me=Math.round((Pe-Se)*Ae-(Ee-_e)*Ce+Se)+r,De=Math.round((Ee-_e)*Ae+(Pe-Se)*Ce+_e)+xe;Me<0||Me>=t.width||De<0||De>=t.height?t.alpha===1&&Oe===t.channels-1?e.setValueXY(Pe,Ee,Oe,0):e.setValueXY(Pe,Ee,Oe,t.maxValue):e.setValueXY(Pe,Ee,Oe,t.getValueXY(Me,De,Oe))}return e}function rotateBinaryNearestNeighbor(t,e,r,xe,Se,_e,Ae,Ce){for(let Pe=0;Pe<e.width;Pe+=1)for(let Ee=0;Ee<e.height;Ee+=1){let Oe=Math.round((Pe-Se)*Ae-(Ee-_e)*Ce+Se)+r,Me=Math.round((Ee-_e)*Ae+(Pe-Se)*Ce+_e)+xe;(Oe<0||Oe>=t.width||Me<0||Me>=t.height||t.getBitXY(Oe,Me))&&e.setBitXY(Pe,Ee)}return e}function rotateBilinear(t,e,r,xe,Se,_e,Ae,Ce){let Pe=t.width*t.channels;for(let Ee=0;Ee<e.height;Ee++)for(let Oe=0;Oe<e.width;Oe++){let Me=(Oe-Se)*Ae-(Ee-_e)*Ce+Se+r,De=(Ee-_e)*Ae+(Oe-Se)*Ce+_e+xe,Te=Me|0,ke=De|0,Fe=Me-Te,$e=De-ke;for(let Be=0;Be<t.channels;Be++)if(Me<0||Me>=t.width||De<0||De>=t.height)t.alpha===1&&Be===t.channels-1?e.setValueXY(Oe,Ee,Be,0):e.setValueXY(Oe,Ee,Be,t.maxValue);else{let Ie=(ke*t.width+Te)*t.channels+Be,Re=t.data[Ie],je=t.data[Ie+t.channels],Ve=t.data[Ie+Pe],He=t.data[Ie+Pe+t.channels],ze=Re+Fe*(je-Re)+$e*(Ve-Re)+Fe*$e*(Re-je-Ve+He)|0;e.setValueXY(Oe,Ee,Be,ze)}}return e}function rotateBinaryBilinear(t,e,r,xe,Se,_e,Ae,Ce){let Pe=t.width;for(let Ee=0;Ee<e.height;Ee++)for(let Oe=0;Oe<e.width;Oe++){let Me=(Oe-Se)*Ae-(Ee-_e)*Ce+Se+r,De=(Ee-_e)*Ae+(Oe-Se)*Ce+_e+xe,Te=Me|0,ke=De|0,Fe=Me-Te,$e=De-ke;if(Me<0||Me>=t.width||De<0||De>=t.height)e.setBitXY(Oe,Ee);else{let Be=ke*t.width+Te,Ie=t.getBit(Be),Re=t.getBit(Be+1),je=t.getBit(Be+Pe),Ve=t.getBit(Be+1+Pe);(Ie|Fe&Re-Ie|$e&je-Ie|Fe&$e&Ie-Re-je+Ve)>0&&e.setBitXY(Oe,Ee)}}return e}function rotate$1(t,e){if(this.checkProcessable("rotate",{bitDepth:[1,8,16]}),typeof t!="number")throw new TypeError("angle must be a number");switch(t<0&&(t=Math.ceil(-t/360)*360+t),t%360){case 0:return this.clone();case 90:return rotateRight.call(this);case 180:return rotate180.call(this);case 270:return rotateLeft.call(this);default:return rotateFree.call(this,t,e)}}function rotateLeft(){if(this.bitDepth===1){const t=new Image$1(this.height,this.width,{kind:"BINARY",parent:this}),e=t.height-1;for(let r=0;r<this.height;r++)for(let xe=0;xe<this.width;xe++)this.getBitXY(xe,r)&&t.setBitXY(r,e-xe);return t}else{const t=Image$1.createFrom(this,{width:this.height,height:this.width}),e=t.height-1;for(let r=0;r<this.height;r++)for(let xe=0;xe<this.width;xe++)for(let Se=0;Se<this.channels;Se++)t.setValueXY(r,e-xe,Se,this.getValueXY(xe,r,Se));return t}}function rotateRight(){if(this.bitDepth===1){const t=new Image$1(this.height,this.width,{kind:"BINARY",parent:this}),e=t.width-1;for(let r=0;r<this.height;r++)for(let xe=0;xe<this.width;xe++)this.getBitXY(xe,r)&&t.setBitXY(e-r,xe);return t}else{const t=Image$1.createFrom(this,{width:this.height,height:this.width}),e=t.width-1;for(let r=0;r<this.height;r++)for(let xe=0;xe<this.width;xe++)for(let Se=0;Se<this.channels;Se++)t.setValueXY(e-r,xe,Se,this.getValueXY(xe,r,Se));return t}}function rotate180(){if(this.bitDepth===1){const t=new Image$1(this.width,this.height,{kind:"BINARY",parent:this}),e=t.width-1,r=t.height-1;for(let xe=0;xe<this.height;xe++)for(let Se=0;Se<this.width;Se++)this.getBitXY(Se,xe)&&t.setBitXY(e-Se,r-xe);return t}else{const t=Image$1.createFrom(this),e=t.width-1,r=t.height-1;for(let xe=0;xe<this.height;xe++)for(let Se=0;Se<this.width;Se++)for(let _e=0;_e<this.channels;_e++)t.setValueXY(e-Se,r-xe,_e,this.getValueXY(Se,xe,_e));return t}}function insert(t,e={}){const r=getImageParameters(t);this.checkProcessable("insert",r);let{x:xe=0,y:Se=0}=e;const _e=getOutputImageOrInPlace(this,e,{copy:!0}),Ae=Math.min(_e.height,Se+t.height),Ce=Math.min(_e.width,xe+t.width);if(_e.bitDepth===1)for(let Pe=Se;Pe<Ae;Pe++)for(let Ee=xe;Ee<Ce;Ee++)t.getBitXY(Ee-xe,Pe-Se)?_e.setBitXY(Ee,Pe):_e.clearBitXY(Ee,Pe);else for(let Pe=Se;Pe<Ae;Pe++)for(let Ee=xe;Ee<Ce;Ee++)_e.setPixelXY(Ee,Pe,t.getPixelXY(Ee-xe,Pe-Se));return _e}function setBorder(t={}){let{size:e=0,algorithm:r="copy",color:xe}=t;if(this.checkProcessable("setBorder",{bitDepth:[8,16,32,64]}),r==="set"){if(xe.length!==this.channels)throw new Error(`setBorder: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let Ce=0;Ce<xe.length;Ce++)xe[Ce]===0&&(xe[Ce]=.001)}else xe=newArray$1(this.channels,null);Array.isArray(e)||(e=[e,e]);let Se=e[0],_e=e[1],Ae=this.channels;for(let Ce=Se;Ce<this.width-Se;Ce++)for(let Pe=0;Pe<Ae;Pe++){let Ee=xe[Pe]||this.data[(Ce+this.width*_e)*Ae+Pe];for(let Oe=0;Oe<_e;Oe++)this.data[(Oe*this.width+Ce)*Ae+Pe]=Ee;Ee=xe[Pe]||this.data[(Ce+this.width*(this.height-_e-1))*Ae+Pe];for(let Oe=this.height-_e;Oe<this.height;Oe++)this.data[(Oe*this.width+Ce)*Ae+Pe]=Ee}for(let Ce=0;Ce<this.height;Ce++)for(let Pe=0;Pe<Ae;Pe++){let Ee=xe[Pe]||this.data[(Ce*this.width+Se)*Ae+Pe];for(let Oe=0;Oe<Se;Oe++)this.data[(Ce*this.width+Oe)*Ae+Pe]=Ee;Ee=xe[Pe]||this.data[(Ce*this.width+this.width-Se-1)*Ae+Pe];for(let Oe=this.width-Se;Oe<this.width;Oe++)this.data[(Ce*this.width+Oe)*Ae+Pe]=Ee}return this}function split(t={}){let{preserveAlpha:e=!0}=t;if(this.checkProcessable("split",{bitDepth:[8,16]}),this.components===1)return new Stack([this.clone()]);let r=new Stack,xe=this.data;if(this.alpha&&e)for(let Se=0;Se<this.components;Se++){let _e=Image$1.createFrom(this,{components:1,alpha:!0,colorModel:GREY$1}),Ae=0;for(let Ce=0;Ce<xe.length;Ce+=this.channels)_e.data[Ae++]=xe[Ce+Se],_e.data[Ae++]=xe[Ce+this.components];r.push(_e)}else for(let Se=0;Se<this.channels;Se++){let _e=Image$1.createFrom(this,{components:1,alpha:!1,colorModel:GREY$1}),Ae=0;for(let Ce=0;Ce<xe.length;Ce+=this.channels)_e.data[Ae++]=xe[Ce+Se];r.push(_e)}return r}function getChannel(t,e={}){let{keepAlpha:r=!1,mergeAlpha:xe=!1}=e;r&=this.alpha,xe&=this.alpha,this.checkProcessable("getChannel",{bitDepth:[8,16]}),t=validateChannel(this,t);let Se=Image$1.createFrom(this,{components:1,alpha:r,colorModel:GREY$1}),_e=0;for(let Ae=0;Ae<this.data.length;Ae+=this.channels)xe?Se.data[_e++]=this.data[Ae+t]*this.data[Ae+this.components]/this.maxValue:(Se.data[_e++]=this.data[Ae+t],r&&(Se.data[_e++]=this.data[Ae+this.components]));return Se}function combineChannels(t=defaultCombineMethod,e={}){let{mergeAlpha:r=!1,keepAlpha:xe=!1}=e;r&=this.alpha,xe&=this.alpha,this.checkProcessable("combineChannels",{bitDepth:[8,16]});let Se=Image$1.createFrom(this,{components:1,alpha:xe,colorModel:GREY$1}),_e=0;for(let Ae=0;Ae<this.size;Ae++){let Ce=t(this.getPixel(Ae));r?Se.data[_e++]=Ce*this.data[Ae*this.channels+this.components]/this.maxValue:(Se.data[_e++]=Ce,xe&&(Se.data[_e++]=this.data[Ae*this.channels+this.components]))}return Se}function defaultCombineMethod(t){return(t[0]+t[1]+t[2])/3}function setChannel(t,e){if(this.checkProcessable("setChannel",{bitDepth:[8,16]}),e.checkProcessable("setChannel (image parameter check)",{bitDepth:[this.bitDepth],alpha:[0],components:[1]}),e.width!==this.width||e.height!==this.height)throw new Error("Images must have exactly the same width and height");t=validateChannel(this,t);let r=t;for(let xe=0;xe<e.data.length;xe++)this.data[r]=e.data[xe],r+=this.channels;return this}function getSimilarity(t,e={}){let{shift:r=[0,0],average:xe,channels:Se,defaultAlpha:_e,normalize:Ae,border:Ce=[0,0]}=e;if(this.checkProcessable("getSimilarity",{bitDepth:[8,16]}),Array.isArray(Ce)||(Ce=[Ce,Ce]),Se=validateArrayOfChannels(this,{channels:Se,defaultAlpha:_e}),this.bitDepth!==t.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==t.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==t.colorModel)throw new Error("Both images must have the same colorModel");typeof xe>"u"&&(xe=!0);let Pe=Math.max(Ce[0],-r[0]),Ee=Math.min(this.width-Ce[0],this.width-r[0]),Oe=Math.max(Ce[1],-r[1]),Me=Math.min(this.height-Ce[1],this.height-r[1]),De=newArray$1(Se.length,0);for(let Te=0;Te<Se.length;Te++){let ke=Se[Te],Fe=Ae?this.sum[ke]:Math.max(this.sum[ke],t.sum[ke]),$e=Ae?t.sum[ke]:Math.max(this.sum[ke],t.sum[ke]);if(Fe!==0&&$e!==0)for(let Be=Pe;Be<Ee;Be++)for(let Ie=Oe;Ie<Me;Ie++){let Re=Be*this.multiplierX+Ie*this.multiplierY+ke,je=Re+r[0]*this.multiplierX+r[1]*this.multiplierY;De[Te]+=Math.min(this.data[Re]/Fe,t.data[je]/$e)}}return xe?De.reduce((Te,ke)=>Te+ke)/De.length:De}function getPixelsGrid(t={}){let{sampling:e=[10,10],painted:r=!1,mask:xe}=t;this.checkProcessable("getPixelsGrid",{bitDepth:[8,16],channels:1}),Array.isArray(e)||(e=[e,e]);const Se=e[0],_e=e[1],Ae=[],Ce=[],Pe=this.width/Se,Ee=this.height/_e;let Oe=Math.floor(Pe/2);for(let De=0;De<Se;De++){let Te=Math.floor(Ee/2);for(let ke=0;ke<_e;ke++){let Fe=Math.round(Oe),$e=Math.round(Te);(!xe||xe.getBitXY(Fe,$e))&&(Ae.push([Fe,$e]),Ce.push(this.getPixelXY(Fe,$e))),Te+=Ee}Oe+=Pe}const Me={xyS:Ae,zS:Ce};return r&&(Me.painted=this.rgba8().paintPoints(Ae)),Me}function Matrix(t,e,r){const xe=new Array(t);for(let Se=0;Se<t;Se++)xe[Se]=new Array(e);if(r)for(let Se=0;Se<t;Se++)for(let _e=0;_e<e;_e++)xe[Se][_e]=r;return xe.width=t,xe.height=e,Object.setPrototypeOf(xe,Matrix.prototype),xe}Matrix.prototype.localMin=function(t,e){let r=this[t][e],xe=[t,e];for(let Se=Math.max(0,t-1);Se<Math.min(this.length,t+2);Se++)for(let _e=Math.max(0,e-1);_e<Math.min(this[0].length,e+2);_e++)this[Se][_e]<r&&(r=this[Se][_e],xe=[Se,_e]);return{position:xe,value:r}};Matrix.prototype.localMax=function(t,e){let r=this[t][e],xe=[t,e];for(let Se=Math.max(0,t-1);Se<Math.min(this.length,t+2);Se++)for(let _e=Math.max(0,e-1);_e<Math.min(this[0].length,e+2);_e++)this[Se][_e]>r&&(r=this[Se][_e],xe=[Se,_e]);return{position:xe,value:r}};Matrix.prototype.localSearch=function(t,e,r){let xe=[];for(let Se=Math.max(0,t-1);Se<Math.min(this.length,t+2);Se++)for(let _e=Math.max(0,e-1);_e<Math.min(this[0].length,e+2);_e++)this[Se][_e]===r&&xe.push([Se,_e]);return xe};function getBestMatch(t,e={}){let{border:r}=e;if(this.checkProcessable("getChannel",{bitDepth:[8,16]}),this.bitDepth!==t.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==t.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==t.colorModel)throw new Error("Both images must have the same colorModel");let xe=new Matrix(t.width,t.height,-1/0),Se=Math.floor(t.width/2),_e=Math.floor(t.height/2),Ae=Se,Ce=_e,Pe=!1;for(;!Pe;){let Ee=xe.localSearch(Se,_e,-1/0);for(let Me=0;Me<Ee.length;Me++){let De=Ee[Me],Te=this.getSimilarity(t,{border:r,shift:[Ae-De[0],Ce-De[1]]});xe[De[0]][De[1]]=Te}let Oe=xe.localMax(Se,_e);Oe.position[0]!==Se||Oe.position[1]!==_e?(Se=Oe.position[0],_e=Oe.position[1]):Pe=!0}return[Se-Ae,_e-Ce]}function getRow(t,e=0){this.checkProcessable("getRow",{bitDepth:[8,16]}),checkRow(this,t),checkChannel(this,e);let r=new Array(this.width),xe=0,Se=t*this.width*this.channels+e,_e=Se+this.width*this.channels;for(let Ae=Se;Ae<_e;Ae+=this.channels)r[xe++]=this.data[Ae];return r}function getColumn(t,e=0){this.checkProcessable("getColumn",{bitDepth:[8,16]}),checkColumn(this,t),checkChannel(this,e);let r=new Array(this.height),xe=0,Se=this.width*this.channels;for(let _e=e+t*this.channels;_e<this.data.length;_e+=Se)r[xe++]=this.data[_e];return r}function getMatrix(t={}){let{channel:e}=t;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),e===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");e=0}let r=new Matrix$2(this.height,this.width);for(let xe=0;xe<this.height;xe++)for(let Se=0;Se<this.width;Se++)r.set(xe,Se,this.getValueXY(Se,xe,e));return r}function setMatrix(t,e={}){t=new Matrix$2(t);let{channel:r}=e;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),r===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");r=0}if(this.width!==t.columns||this.height!==t.rows)throw new RangeError("The size of the matrix must be equal to the size of the image");for(let xe=0;xe<this.height;xe++)for(let Se=0;Se<this.width;Se++)this.setValueXY(Se,xe,r,t.get(xe,Se));return this}function getPixelsArray(){this.checkProcessable("getPixelsArray",{bitDepth:[8,16,32]});let t=new Array(this.size),e=0;for(let r=0;r<this.data.length;r+=this.channels){let xe=new Array(this.components);for(let Se=0;Se<this.components;Se++)xe[Se]=this.data[r+Se];t[e++]=xe}return t}function getIntersection(t){let e=this,r=e.getClosestCommonParent(t),xe=e.getRelativePosition(r,{defaultFurther:!0}),Se=getRelativePositionForAllPixels(e,xe),_e=t.getRelativePosition(r,{defaultFurther:!0}),Ae=getRelativePositionForAllPixels(t,_e),Ce=getCommonSurface(Se,Ae),Pe={whitePixelsMask1:[],whitePixelsMask2:[],commonWhitePixels:[]};for(let Ee=0;Ee<Ce.length;Ee++){let Oe=Ce[Ee],Me=[Oe[0]-xe[0],Oe[1]-xe[1]],De=[Oe[0]-_e[0],Oe[1]-_e[1]],Te=e.getBitXY(Me[0],Me[1]),ke=t.getBitXY(De[0],De[1]);Te===1&&ke===1&&Pe.commonWhitePixels.push(Oe)}for(let Ee=0;Ee<Se.length;Ee++){let Oe,Me;Ee!==0&&(Oe=Math.floor(Ee/e.width),Me=Ee%e.width),e.getBitXY(Oe,Me)===1&&Pe.whitePixelsMask1.push(Se[Ee])}for(let Ee=0;Ee<Ae.length;Ee++){let Oe=0,Me=0;Ee!==0&&(Oe=Math.floor(Ee/t.width),Me=Ee%t.width),t.getBitXY(Oe,Me)===1&&Pe.whitePixelsMask2.push(Ae[Ee])}return Pe}function getRelativePositionForAllPixels(t,e){let r=[];for(let xe=0;xe<t.height;xe++)for(let Se=0;Se<t.width;Se++){let _e=[xe,Se];r.push([_e[0]+e[0],_e[1]+e[1]])}return r}function getCommonSurface(t,e){let r=0,xe=0,Se=[];for(;r<t.length&&xe<e.length;)t[r][0]===e[xe][0]&&t[r][1]===e[xe][1]?(Se.push(t[r]),r++,xe++):t[r][0]<e[xe][0]||t[r][0]===e[xe][0]&&t[r][1]<e[xe][1]?r++:xe++;return Se}function getClosestCommonParent(t){let e=getDepth(this),r=getDepth(t),xe;if(e>=r?xe=getFurthestParent(this,e):xe=getFurthestParent(t,r),e===0||r===0)return xe;let Se=this,_e=t;for(;e!==r;)if(e>r){if(Se=Se.parent,Se===null)return xe;e=e-1}else{if(_e=_e.parent,_e===null)return xe;r=r-1}for(;Se!==_e&&Se!==null&&_e!==null;)if(Se=Se.parent,_e=_e.parent,Se===null||_e===null)return xe;return Se!==_e?xe:Se}function getDepth(t){let e=0,r=t;for(;r.parent!=null;)r=r.parent,e++;return e}function getFurthestParent(t,e){let r=t;for(;e>0;)r=r.parent,e=e-1;return r}const defaultOptions$2={lowThreshold:10,highThreshold:30,gaussianBlur:1.1},Gx=[[-1,0,1],[-2,0,2],[-1,0,1]],Gy=[[-1,-2,-1],[0,0,0],[1,2,1]],convOptions={bitDepth:32,mode:"periodic"};function cannyEdgeDetector(t,e){t.checkProcessable("Canny edge detector",{bitDepth:8,channels:1,components:1}),e=Object.assign({},defaultOptions$2,e);const r=t.width,xe=t.height,Se=t.maxValue,_e={sigma:e.gaussianBlur,radius:3},Ae=t.gaussianFilter(_e),Ce=Ae.convolution(Gy,convOptions),Pe=Ae.convolution(Gx,convOptions),Ee=Pe.hypotenuse(Ce),Oe=t.constructor,Me=new Oe(r,xe,{kind:"GREY",bitDepth:32}),De=new Oe(r,xe,{kind:"GREY",bitDepth:32}),Te=new Oe(r,xe,{kind:"GREY"});for(var ke=1;ke<r-1;ke++)for(var Fe=1;Fe<xe-1;Fe++){var $e=(Math.round(Math.atan2(Pe.getValueXY(ke,Fe,0),Ce.getValueXY(ke,Fe,0))*(5/Math.PI))+5)%5;$e===0&&(Ee.getValueXY(ke,Fe,0)<=Ee.getValueXY(ke,Fe-1,0)||Ee.getValueXY(ke,Fe,0)<=Ee.getValueXY(ke,Fe+1,0))||$e===1&&(Ee.getValueXY(ke,Fe,0)<=Ee.getValueXY(ke-1,Fe+1,0)||Ee.getValueXY(ke,Fe,0)<=Ee.getValueXY(ke+1,Fe-1,0))||$e===2&&(Ee.getValueXY(ke,Fe,0)<=Ee.getValueXY(ke-1,Fe,0)||Ee.getValueXY(ke,Fe,0)<=Ee.getValueXY(ke+1,Fe,0))||$e===3&&(Ee.getValueXY(ke,Fe,0)<=Ee.getValueXY(ke-1,Fe-1,0)||Ee.getValueXY(ke,Fe,0)<=Ee.getValueXY(ke+1,Fe+1,0))||Me.setValueXY(ke,Fe,0,Ee.getValueXY(ke,Fe,0))}for(ke=0;ke<r*xe;++ke){var Be=Me.data[ke],Ie=0;Be>e.highThreshold&&(Ie++,Te.data[ke]=Se),Be>e.lowThreshold&&Ie++,De.data[ke]=Ie}var Re=[];for(ke=1;ke<r-1;++ke)for(Fe=1;Fe<xe-1;++Fe)if(De.getValueXY(ke,Fe,0)===1){e:for(var je=ke-1;je<ke+2;++je)for(var Ve=Fe-1;Ve<Fe+2;++Ve)if(De.getValueXY(je,Ve,0)===2){Re.push([ke,Fe]),Te.setValueXY(ke,Fe,0,Se);break e}}for(;Re.length>0;){var He=[];for(ke=0;ke<Re.length;++ke)for(Fe=-1;Fe<2;++Fe)for(je=-1;je<2;++je)if(!(Fe===0&&je===0)){var ze=Re[ke][0]+Fe,Ue=Re[ke][1]+je;De.getValueXY(ze,Ue,0)===1&&Te.getValueXY(ze,Ue,0)===0&&(He.push([ze,Ue]),Te.setValueXY(ze,Ue,0,Se))}Re=He}return Te}function cannyEdge(t){return cannyEdgeDetector(this,t)}function extract(t,e={}){let{position:r}=e;if(this.checkProcessable("extract",{bitDepth:[1,8,16]}),!r&&(r=t.getRelativePosition(this),!r))throw new Error("extract : can not extract an image because the relative position can not be determined, try to specify manually the position as an array of 2 elements [x,y].");if(this.bitDepth>1){let xe=Image$1.createFrom(this,{width:t.width,height:t.height,alpha:1,position:r,parent:this});for(let Se=0;Se<t.width;Se++)for(let _e=0;_e<t.height;_e++){for(let Ae=0;Ae<this.channels;Ae++){let Ce=this.getValueXY(Se+r[0],_e+r[1],Ae);xe.setValueXY(Se,_e,Ae,Ce)}t.getBitXY(Se,_e)||xe.setValueXY(Se,_e,this.components,0)}return xe}else{let xe=Image$1.createFrom(this,{width:t.width,height:t.height,position:r,parent:this});for(let Se=0;Se<t.height;Se++)for(let _e=0;_e<t.width;_e++)t.getBitXY(_e,Se)&&this.getBitXY(_e+r[0],Se+r[1])&&xe.setBitXY(_e,Se);return xe}}var fastList={exports:{}};(function(t,e){(function(){function r(Se,_e,Ae){this.next=Ae,Ae&&(Ae.prev=this),this.prev=_e,_e&&(_e.next=this),this.data=Se}function xe(){if(!(this instanceof xe))return new xe;this._head=null,this._tail=null,this.length=0}xe.prototype={push:function(Se){this._tail=new r(Se,this._tail,null),this._head||(this._head=this._tail),this.length++},pop:function(){if(this.length!==0){var Se=this._tail;return this._tail=Se.prev,Se.prev&&(Se.prev=this._tail.next=null),this.length--,this.length===1?this._head=this._tail:this.length===0&&(this._head=this._tail=null),Se.data}},unshift:function(Se){this._head=new r(Se,null,this._head),this._tail||(this._tail=this._head),this.length++},shift:function(){if(this.length!==0){var Se=this._head;return this._head=Se.next,Se.next&&(Se.next=this._head.prev=null),this.length--,this.length===1?this._tail=this._head:this.length===0&&(this._head=this._tail=null),Se.data}},item:function(Se){Se<0&&(Se=this.length+Se);for(var _e=this._head;Se-- >0&&_e;)_e=_e.next;return _e?_e.data:void 0},slice:function(Se,_e){if(Se||(Se=0),_e||(_e=this.length),_e<0&&(_e=this.length+_e),Se<0&&(Se=this.length+Se),_e===Se)return[];if(_e<Se)throw new Error("invalid offset: "+Se+","+_e+" (length="+this.length+")");for(var Ae=_e-Se,Ce=new Array(Ae),Pe=0,Ee=this._head;Se-- >0&&Ee;)Ee=Ee.next;for(;Pe<Ae&&Ee;)Ce[Pe++]=Ee.data,Ee=Ee.next;return Ce},drop:function(){xe.call(this)},forEach:function(Se,_e){for(var Ae=this._head,Ce=0,Pe=this.length;Ce<Pe&&Ae;)Se.call(_e||this,Ae.data,Ce,this),Ae=Ae.next,Ce++},map:function(Se,_e){var Ae=new xe;return this.forEach(function(Ce,Pe,Ee){Ae.push(Se.call(_e||Ee,Ce,Pe,Ee))}),Ae},filter:function(Se,_e){var Ae=new xe;return this.forEach(function(Ce,Pe,Ee){Se.call(_e||Ee,Ce,Pe,Ee)&&Ae.push(Ce)}),Ae},reduce:function(Se,_e,Ae){var Ce=0,Pe=this._head,Ee=this.length;for(_e||(Ce=1,_e=Pe&&Pe.data,Pe=Pe&&Pe.next);Ce<Ee&&Pe;)_e=Se.call(Ae||this,_e,Pe.data,this),Ce++,Pe=Pe.next;return _e}},t.exports=xe})()})(fastList);var fastListExports=fastList.exports;const LinkedList=getDefaultExportFromCjs$1(fastListExports);function floodFill(t={}){const{x:e=0,y:r=0,inPlace:xe=!0}=t,Se=xe?this:Image$1.createFrom(this);if(this.checkProcessable("floodFill",{bitDepth:1}),this.getBitXY(e,r))return Se;const Ae=new LinkedList;for(Ae.push(new Node(e,r));Ae.length>0;){const Ce=Ae.shift();Se.setBitXY(Ce.x,Ce.y);for(let Pe=Ce.x+1;Pe<this.width&&(!Se.getBitXY(Pe,Ce.y)&&!this.getBitXY(Pe,Ce.y));Pe++)Se.setBitXY(Pe,Ce.y),Ce.y+1<this.height&&!this.getBitXY(Pe,Ce.y+1)&&Ae.push(new Node(Pe,Ce.y+1)),Ce.y-1>=0&&!this.getBitXY(Pe,Ce.y-1)&&Ae.push(new Node(Pe,Ce.y-1));for(let Pe=Ce.x-1;Pe>=0&&(!Se.getBitXY(Pe,Ce.y)&&!this.getBitXY(Pe,Ce.y));Pe++)Se.setBitXY(Pe,Ce.y),Ce.y+1<this.height&&!this.getBitXY(Pe,Ce.y+1)&&Ae.push(new Node(Pe,Ce.y+1)),Ce.y-1>=0&&!this.getBitXY(Pe,Ce.y-1)&&Ae.push(new Node(Pe,Ce.y-1))}return Se}function Node(t,e){this.x=t,this.y=e}function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var xe in r)Object.prototype.hasOwnProperty.call(r,xe)&&(t[xe]=r[xe])}return t},_extends.apply(this,arguments)}function hsv2rgb(t,e,r){e=e/100,r=r/100;var xe=[],Se=r*e,_e=t/60,Ae=Se*(1-Math.abs(_e%2-1)),Ce=r-Se;return _e>=0&&_e<1?xe=[Se,Ae,0]:_e>=1&&_e<2?xe=[Ae,Se,0]:_e>=2&&_e<3?xe=[0,Se,Ae]:t>=3&&_e<4?xe=[0,Ae,Se]:t>=4&&_e<5?xe=[Ae,0,Se]:t>=5&&_e<=6?xe=[Se,0,Ae]:xe=[0,0,0],{r:Math.round(255*(xe[0]+Ce)),g:Math.round(255*(xe[1]+Ce)),b:Math.round(255*(xe[2]+Ce))}}function hsl2hsv(t,e,r){return e*=(r<50?r:100-r)/100,{h:t,s:2*e/(r+e)*100,v:r+e}}function hsl2rgb$1(t,e,r){var xe=hsl2hsv(t,e,r);return hsv2rgb(xe.h,xe.s,xe.v)}var colors={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]};function parse(t){return named(t)||hex3(t)||hex6(t)||rgb(t)||rgba$1(t)||hsl(t)||hsla(t)}function named(t){var e=colors[t.toLowerCase()];if(e)return{r:e[0],g:e[1],b:e[2],a:100}}function rgb(t){var e=t.match(/rgb\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */).map(Number);return{r:r[0],g:r[1],b:r[2],a:100}}}function rgba$1(t){var e=t.match(/rgba\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */).map(Number);return{r:r[0],g:r[1],b:r[2],a:r[3]*100}}}function hex6(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:100}}function hex3(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:100}}function hsl(t){var e=t.match(/hsl\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */),xe=parseInt(r[0],10),Se=parseInt(r[1],10),_e=parseInt(r[2],10),Ae=hsl2rgb$1(xe,Se,_e);return _extends({},Ae,{a:100})}}function hsla(t){var e=t.match(/hsla\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */),xe=parseInt(r[0],10),Se=parseInt(r[1],10),_e=parseInt(r[2],10),Ae=parseInt(parseFloat(r[3])*100,10),Ce=hsl2rgb$1(xe,Se,_e);return _extends({},Ce,{a:Ae})}}function css2array(t){let e=parse(t);return[e.r,e.g,e.b,Math.round(e.a*255/100)]}function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hsl2rgb(t,e,r){let xe,Se,_e,Ae,Ce,Pe;return e/=100,r/=100,e===0?Ae=Ce=Pe=r*255:(r<=.5?Se=r*(e+1):Se=r+e-r*e,xe=r*2-Se,_e=t/360,Ae=hue2rgb(xe,Se,_e+1/3),Ce=hue2rgb(xe,Se,_e),Pe=hue2rgb(xe,Se,_e-1/3)),{r:Ae,g:Ce,b:Pe}}function getDistinctColors(t){let e=new Array(t),r=0;for(let xe=0;xe<360;xe+=360/t){r++;let Se=hsl2rgb(xe,100,30+r%4*15);e[r-1]=[Math.round(Se.r*255),Math.round(Se.g*255),Math.round(Se.b*255)]}return e}function getRandomColor(){return[Math.floor(Math.random()*256),Math.floor(Math.random()*256),Math.floor(Math.random()*256)]}function getColors(t){let{color:e,colors:r,randomColors:xe,numberColors:Se=50}=t;if(e&&!Array.isArray(e)&&(e=css2array(e)),e)return[e];if(r)return r=r.map(function(_e){return Array.isArray(_e)?_e:css2array(_e)}),r;if(xe){r=new Array(Se);for(let _e=0;_e<Se;_e++)r[_e]=getRandomColor()}return getDistinctColors(Se)}function paintLabels(t,e,r={}){let{color:xe="blue",colors:Se,font:_e="12px Helvetica",rotate:Ae=0}=r;if(this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:RGB$1}),!Array.isArray(t))throw Error("paintLabels: labels must be an array");if(!Array.isArray(e))throw Error("paintLabels: positions must be an array");if(xe&&!Array.isArray(xe)&&(xe=css2array(xe)),Se?Se=Se.map(function(Ee){return Array.isArray(Ee)?Ee:css2array(Ee)}):Se=[xe],t.length!==e.length)throw Error("paintLabels: positions and labels must be arrays from the same size");Array.isArray(_e)||(_e=[_e]),Array.isArray(Ae)||(Ae=[Ae]);let Pe=this.getCanvas().getContext("2d");for(let Ee=0;Ee<t.length;Ee++){Pe.save();let Oe=Se[Ee%Se.length];Pe.fillStyle=`rgba(${Oe[0]},${Oe[1]},${Oe[2]},${Oe[3]/this.maxValue})`,Pe.font=_e[Ee%_e.length];let Me=e[Ee];Pe.translate(Me[0],Me[1]),Pe.rotate(Ae[Ee%Ae.length]/180*Math.PI),Pe.fillText(t[Ee],0,0),Pe.restore()}return this.data=Uint8Array.from(Pe.getImageData(0,0,this.width,this.height).data),this}function paintMasks(t,e={}){let{alpha:r=255,labels:xe=[],labelsPosition:Se=[],labelColor:_e="blue",labelFont:Ae="12px Helvetica"}=e;this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:RGB$1});let Ce=getColors(Object.assign({},e,{numberColors:t.length}));Array.isArray(t)||(t=[t]);for(let Pe=0;Pe<t.length;Pe++){let Ee=t[Pe],Oe=Ce[Pe%Ce.length];for(let Me=0;Me<Ee.width;Me++)for(let De=0;De<Ee.height;De++)if(Ee.getBitXY(Me,De))for(let Te=0;Te<Math.min(this.components,Oe.length);Te++)if(r===255)this.setValueXY(Me+Ee.position[0],De+Ee.position[1],Te,Oe[Te]);else{let ke=this.getValueXY(Me+Ee.position[0],De+Ee.position[1],Te);ke=Math.round((ke*(255-r)+Oe[Te]*r)/255),this.setValueXY(Me+Ee.position[0],De+Ee.position[1],Te,ke)}}if(Array.isArray(xe)&&xe.length>0){let Ee=this.getCanvas().getContext("2d");Ee.fillStyle=_e,Ee.font=Ae;for(let Oe=0;Oe<Math.min(t.length,xe.length);Oe++){let Me=Se[Oe]?Se[Oe]:t[Oe].position;Ee.fillText(xe[Oe],Me[0],Me[1])}this.data=Uint8Array.from(Ee.getImageData(0,0,this.width,this.height).data)}return this}function zerosMatrix(t,e){let r=new Array(t);for(let xe=0;xe<t;xe++)r[xe]=new Array(e).fill(0);return r}const cross=[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0]],smallCross=[[0,1,0],[1,1,1],[0,1,0]];class Shape{constructor(e={}){let{kind:r="cross",shape:xe,size:Se,width:_e,height:Ae,filled:Ce=!0}=e;if(Se&&(_e=Se,Ae=Se),xe)switch(xe.toLowerCase()){case"square":case"rectangle":this.matrix=rectangle(_e,Ae,{filled:Ce});break;case"circle":case"ellipse":this.matrix=ellipse(_e,Ae,{filled:Ce});break;case"triangle":this.matrix=triangle(_e,Ae,{filled:Ce});break;default:throw new Error(`Shape: unexpected shape: ${xe}`)}else if(r)switch(r.toLowerCase()){case"cross":this.matrix=cross;break;case"smallcross":this.matrix=smallCross;break;default:throw new Error(`Shape: unexpected kind: ${r}`)}else throw new Error("Shape: expected a kind or a shape option");this.height=this.matrix.length,this.width=this.matrix[0].length,this.halfHeight=this.height/2>>0,this.halfWidth=this.width/2>>0}getPoints(){let e=this.matrix,r=[];for(let xe=0;xe<e.length;xe++)for(let Se=0;Se<e[0].length;Se++)e[xe][Se]&&r.push([Se-this.halfWidth,xe-this.halfHeight]);return r}getMask(){let e=new Image$1(this.width,this.height,{kind:BINARY});for(let r=0;r<this.matrix.length;r++)for(let xe=0;xe<this.matrix[0].length;xe++)this.matrix[r][xe]&&e.setBitXY(xe,r);return e}}function rectangle(t,e,r){const xe=zerosMatrix(e,t);if(r.filled)for(let Se=0;Se<e;Se++)for(let _e=0;_e<t;_e++)xe[Se][_e]=1;else{for(let Se of[0,e-1])for(let _e=0;_e<t;_e++)xe[Se][_e]=1;for(let Se=0;Se<e;Se++)for(let _e of[0,t-1])xe[Se][_e]=1}return xe}function ellipse(t,e,r){const xe=zerosMatrix(e,t);let Se=1-e%2,_e=1-t%2,Ae=Math.floor((t-1)/2),Ce=Math.floor((e-1)/2),Pe=Ae*Ae,Ee=Ce*Ce;if(r.filled)for(let Oe=0;Oe<=Ce;Oe++){let Me=Math.floor(Math.sqrt(Pe-Pe*Oe*Oe/Ee));for(let De=Ae-Me;De<=Ae;De++)xe[Ce-Oe][De]=1,xe[Ce+Oe+Se][De]=1,xe[Ce-Oe][t-De-1]=1,xe[Ce+Oe+Se][t-De-1]=1}else{for(let Oe=0;Oe<=Ce;Oe++){let Me=Math.floor(Math.sqrt(Pe-Pe*Oe*Oe/Ee)),De=Ae-Me;xe[Ce-Oe][De]=1,xe[Ce+Oe+Se][De]=1,xe[Ce-Oe][t-De-1]=1,xe[Ce+Oe+Se][t-De-1]=1}for(let Oe=0;Oe<=Ae;Oe++){let Me=Math.floor(Math.sqrt(Ee-Ee*Oe*Oe/Pe)),De=Ce-Me;xe[De][Ae-Oe]=1,xe[De][Ae+Oe+_e]=1,xe[e-De-1][Ae-Oe]=1,xe[e-De-1][Ae+Oe+_e]=1}}return xe}function triangle(t,e,r){if(!r.filled)throw new Error("Non filled triangle is not implemented");const xe=zerosMatrix(e,t);for(let Se=0;Se<e;Se++){let _e=Math.floor((1-Se/e)*t/2);for(let Ae=_e;Ae<t-_e;Ae++)xe[Se][Ae]=1}return xe}function paintPoints(t,e={}){let{shape:r}=e;this.checkProcessable("paintPoints",{bitDepth:[8,16]});let xe=getColors(Object.assign({},e,{numberColors:t.length})),Se=new Shape(r).getPoints(),_e=Math.min(this.channels,xe[0].length);for(let Ae=0;Ae<t.length;Ae++){let Ce=xe[Ae%xe.length],Pe=t[Ae][0],Ee=t[Ae][1];for(let Oe=0;Oe<Se.length;Oe++){let Me=Se[Oe][0],De=Se[Oe][1];if(Pe+Me>=0&&Ee+De>=0&&Pe+Me<this.width&&Ee+De<this.height){let Te=(Pe+Me+(Ee+De)*this.width)*this.channels;for(let ke=0;ke<_e;ke++)this.data[Te+ke]=Ce[ke]}}}return this}function paintPolyline(t,e={}){let{color:r=[this.maxValue,0,0],closed:xe=!1}=e;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]});let Se=Math.min(this.channels,r.length);for(let _e=0;_e<t.length-1+xe;_e++){let Ae=t[_e],Ce=t[(_e+1)%t.length],Pe=Ce[0]-Ae[0],Ee=Ce[1]-Ae[1],Oe=Math.max(Math.abs(Pe),Math.abs(Ee)),Me=Pe/Oe,De=Ee/Oe,Te=Ae[0],ke=Ae[1];for(let Fe=0;Fe<=Oe;Fe++){let $e=Math.round(Te),Be=Math.round(ke);if($e>=0&&Be>=0&&$e<this.width&&Be<this.height)if(this.bitDepth===1)this.setBitXY($e,Be);else{let Ie=($e+Be*this.width)*this.channels;for(let Re=0;Re<Se;Re++)this.data[Ie+Re]=r[Re]}Te=Te+Me,ke=ke+De}}return this}function paintPolylines(t,e={}){let r=Object.assign({},e);this.checkProcessable("paintPolylines",{bitDepth:[8,16]});let xe=getColors(Object.assign({},e,{numberColors:t.length}));for(let Se=0;Se<t.length;Se++)r.color=xe[Se%xe.length],this.paintPolyline(t[Se],r);return this}function paintPolygon(t,e={}){let{color:r=[this.maxValue,0,0],filled:xe=!1}=e;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]}),e.closed=!0;let Se=deleteDouble(t);if(xe===!1)return this.paintPolyline(t,e);{let _e=Array(this.height);for(let Ae=0;Ae<this.height;Ae++){_e[Ae]=[];for(let Ce=0;Ce<this.width;Ce++)_e[Ae].push(0)}for(let Ae=0;Ae<Se.length;Ae++){const Ce=lineBetweenTwoPoints(Se[Ae],Se[(Ae+1)%Se.length]);for(let Pe=0;Pe<this.height;Pe++)for(let Ee=0;Ee<this.width;Ee++)isAtTheRightOfTheLine(Ee,Pe,Ce,this.height)&&(_e[Pe][Ee]=_e[Pe][Ee]===0?1:0)}for(let Ae=0;Ae<this.height;Ae++)for(let Ce=0;Ce<this.width;Ce++)if(_e[Ae][Ce]===1)if(this.bitDepth===1)this.setBitXY(Ce,Ae);else{let Pe=Math.min(this.channels,r.length),Ee=(Ce+Ae*this.width)*this.channels;for(let Oe=0;Oe<Pe;Oe++)this.data[Ee+Oe]=r[Oe]}return this.paintPolyline(t,e)}}function deleteDouble(t){let e=[];for(let r=0;r<t.length;r++)if(!(t[r][0]===t[(r+1)%t.length][0]&&t[r][1]===t[(r+1)%t.length][1])){if(t[r][0]===t[(r-1+t.length)%t.length][0]&&t[r][1]===t[(r-1+t.length)%t.length][1])continue;if(t[(r+1)%t.length][0]===t[(r-1+t.length)%t.length][0]&&t[(r-1+t.length)%t.length][1]===t[(r+1)%t.length][1])continue;e.push(t[r])}return e}function lineBetweenTwoPoints(t,e){if(t[0]===e[0])return{a:0,b:t[0],vertical:!0};{const r=(e[1]-t[1])/(e[0]-t[0]),xe=t[1]-r*t[0];return{a:r,b:xe,vertical:!1}}}function isAtTheRightOfTheLine(t,e,r,xe){if(r.vertical===!0)return r.b<=t;if(r.a===0)return!1;{const Se=(e-r.b)/r.a;return Se<t&&Se>=0&&Se<=xe}}function paintPolygons(t,e={}){let r=Object.assign({},e);this.checkProcessable("paintPolygons",{bitDepth:[8,16]});let xe=getColors(Object.assign({},e,{numberColors:t.length}));for(let Se=0;Se<t.length;Se++)r.color=xe[Se%xe.length],this.paintPolygon(t[Se],r);return this}function getHistogram(t={}){let{maxSlots:e=256,channel:r,useAlpha:xe=!0}=t;if(this.checkProcessable("getHistogram",{bitDepth:[1,8,16]}),r===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");r=0}return getChannelHistogram.call(this,r,{useAlpha:xe,maxSlots:e})}function getHistograms(t={}){const{maxSlots:e=256,useAlpha:r=!0}=t;this.checkProcessable("getHistograms",{bitDepth:[8,16]});let xe=new Array(r?this.components:this.channels);for(let Se=0;Se<xe.length;Se++)xe[Se]=getChannelHistogram.call(this,Se,{useAlpha:r,maxSlots:e});return xe}function getChannelHistogram(t,e){let{useAlpha:r,maxSlots:xe}=e;if(this.bitDepth===1){let Pe=[0,0];for(let Ee=0;Ee<this.height;Ee++)for(let Oe=0;Oe<this.width;Oe++){let Me=this.getBitXY(Ee,Oe);Me===0?Pe[0]+=1:Me===1&&(Pe[1]+=1)}return Pe}let Se=Math.log2(xe);if(!isInteger$1(Se))throw new RangeError("maxSlots must be a power of 2, for example: 64, 256, 1024");let _e=0;this.bitDepth>Se&&(_e=this.bitDepth-Se);let Ae=this.data,Ce=newArray$1(Math.pow(2,Math.min(this.bitDepth,Se)),0);if(r&&this.alpha){let Pe=this.channels-t-1;for(let Ee=t;Ee<Ae.length;Ee+=this.channels)Ce[Ae[Ee]>>_e]+=Ae[Ee+Pe]/this.maxValue}else for(let Pe=t;Pe<Ae.length;Pe+=this.channels)Ce[Ae[Pe]>>_e]++;return Ce}function getColorHistogram(t={}){let{useAlpha:e=!0,nbSlots:r=512}=t;this.checkProcessable("getColorHistogram",{bitDepth:[8,16],components:[3]});let xe=Math.log(r)/Math.log(8);if(xe!==Math.floor(xe))throw new RangeError("nbSlots must be a power of 8. Usually 8, 64, 512 or 4096");let Se=this.bitDepth-xe,_e=this.data,Ae=newArray$1(Math.pow(8,xe),0),Ce=Math.pow(2,xe*2),Pe=Math.pow(2,xe);for(let Ee=0;Ee<_e.length;Ee+=this.channels){let Oe=(_e[Ee]>>Se)*Ce+(_e[Ee+1]>>Se)*Pe+(_e[Ee+2]>>Se);e&&this.alpha?Ae[Oe]+=_e[Ee+this.channels-1]/this.maxValue:Ae[Oe]++}return Ae}function min(){this.checkProcessable("min",{bitDepth:[8,16,32]});let t=newArray$1(this.channels,1/0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)this.data[e+r]<t[r]&&(t[r]=this.data[e+r]);return t}function max$1(){this.checkProcessable("max",{bitDepth:[8,16,32]});let t=newArray$1(this.channels,-1/0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)this.data[e+r]>t[r]&&(t[r]=this.data[e+r]);return t}function sum(){this.checkProcessable("sum",{bitDepth:[8,16]});let t=newArray$1(this.channels,0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)t[r]+=this.data[e+r];return t}function getMoment(t=0,e=0){this.checkProcessable("getMoment",{bitDepth:[1]});let r=0;for(let xe=0;xe<this.width;xe++)for(let Se=0;Se<this.height;Se++)this.getBitXY(xe,Se)===1&&(r+=xe**t*Se**e);return r}function localMaxima(t={}){let{mask:e,region:r=3,removeClosePoints:xe=0,invert:Se=!1,maxEquals:_e=2}=t,Ae=this;this.checkProcessable("localMaxima",{bitDepth:[8,16],components:1}),r*=4;let Ce=Se?0:1,Pe=[1,0,-1,0,1,1,-1,-1,2,0,-2,0,2,2,-2,-2],Ee=[0,1,0,-1,1,-1,1,-1,0,2,0,-2,2,-2,2,-2],Oe=r<=8?1:2,Me=[];for(let De=Oe;De<Ae.height-Oe;De++)for(let Te=Oe;Te<Ae.width-Oe;Te++){if(e&&e.getBitXY(Te,De)!==Ce)continue;let ke=0,Fe=0,$e=Ae.data[Te+De*Ae.width];for(let Be=0;Be<r;Be++)Se?Ae.data[Te+Pe[Be]+(De+Ee[Be])*Ae.width]>$e&&ke++:Ae.data[Te+Pe[Be]+(De+Ee[Be])*Ae.width]<$e&&ke++,Ae.data[Te+Pe[Be]+(De+Ee[Be])*Ae.width]===$e&&Fe++;ke+Fe===r&&Fe<=_e&&Me.push([Te,De])}if(xe>0)for(let De=0;De<Me.length;De++)for(let Te=De+1;Te<Me.length;Te++)Math.sqrt(Math.pow(Me[De][0]-Me[Te][0],2)+Math.pow(Me[De][1]-Me[Te][1],2))<xe&&(Me[De][0]=Me[De][0]+Me[Te][0]>>1,Me[De][1]=Me[De][1]+Me[Te][1]>>1,Me.splice(Te,1),Te--);return Me}function mean(){let t=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let xe=t[r];e[r]=mean$2(xe)}return e}function median(){let t=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let xe=t[r];e[r]=median$2(xe)}return e}function points$1(){this.checkProcessable("points",{bitDepth:[1]});const t=[];for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++)this.getBitXY(e,r)===1&&t.push([e,r]);return t}function extendedPoints(){this.checkProcessable("extendedPoints",{bitDepth:[1]});const t=[];for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++)if(this.getBitXY(r,e)===1)for(t.push([r,e]),this.getBitXY(r+1,e)!==1?(t.push([r+1,e]),t.push([r+1,e+1]),this.getBitXY(r,e+1)!==1&&t.push([r,e+1])):this.getBitXY(r,e+1)!==1&&(t.push([r,e+1]),t.push([r+1,e+1]));r<this.width-2&&this.getBitXY(r+1,e)===1&&this.getBitXY(r+2,e)===1;)r++;return t}function getRelativePosition(t,e={}){if(this===t)return[0,0];let r=[0,0],xe=this;for(;xe;){if(xe===t)return r;xe.position&&(r[0]+=xe.position[0],r[1]+=xe.position[1]),xe=xe.parent}return e.defaultFurther?r:!1}function countAlphaPixels(t={}){let{alpha:e=1}=t;this.checkProcessable("countAlphaPixels",{bitDepth:[8,16],alpha:1});let r=0;if(e!==void 0){for(let xe=this.components;xe<this.data.length;xe+=this.channels)this.data[xe]===e&&r++;return r}else return this.size}function monotoneChainConvexHull$1(t,e={}){const{sorted:r}=e;r||(t=t.slice().sort(byXThenY));const xe=t.length,Se=new Array(xe*2);let _e=0;for(let Ce=0;Ce<xe;Ce++){const Pe=t[Ce];for(;_e>=2&&cw(Se[_e-2],Se[_e-1],Pe)<=0;)_e--;Se[_e++]=Pe}const Ae=_e+1;for(let Ce=xe-2;Ce>=0;Ce--){const Pe=t[Ce];for(;_e>=Ae&&cw(Se[_e-2],Se[_e-1],Pe)<=0;)_e--;Se[_e++]=Pe}return Se.slice(0,_e-1)}function cw(t,e,r){return(e[1]-t[1])*(r[0]-t[0])-(e[0]-t[0])*(r[1]-t[1])}function byXThenY(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function monotoneChainConvexHull(){return monotoneChainConvexHull$1(this.extendedPoints,{sorted:!1})}function round$1(t){for(let e=0;e<t.length;e++)t[e][0]=Math.round(t[e][0]),t[e][1]=Math.round(t[e][1]);return t}function difference(t,e){return[t[0]-e[0],t[1]-e[1]]}function normalize(t){let e=Math.sqrt(t[0]**2+t[1]**2);return[t[0]/e,t[1]/e]}function rotate(t,e,r){r===void 0&&(r=new Array(e.length));let xe=Math.cos(t),Se=Math.sin(t);for(let _e=0;_e<r.length;++_e)r[_e]=[xe*e[_e][0]-Se*e[_e][1],Se*e[_e][0]+xe*e[_e][1]];return r}function perimeter(t){let e=0;for(let r=0;r<t.length;r++){let xe=t[r][0],Se=t[r][1],_e=t[r===t.length-1?0:r+1][0],Ae=t[r===t.length-1?0:r+1][1];e+=Math.sqrt((_e-xe)**2+(Ae-Se)**2)}return e}function surface(t){let e=0;for(let r=0;r<t.length;r++){let xe=t[r][0],Se=t[r===t.length-1?0:r+1][1],_e=t[r===t.length-1?0:r+1][0],Ae=t[r][1];e+=xe*Se*.5,e-=_e*Ae*.5}return Math.abs(e)}function minMax(t){let e=1/0,r=1/0,xe=-1/0,Se=-1/0;for(let _e=0;_e<t.length;_e++)t[_e][0]<e&&(e=t[_e][0]),t[_e][0]>xe&&(xe=t[_e][0]),t[_e][1]<r&&(r=t[_e][1]),t[_e][1]>Se&&(Se=t[_e][1]);return[[e,r],[xe,Se]]}function moveToZeroZero(t,e){e===void 0&&(e=new Array(t.length).fill(0).map(()=>[]));let r=minMax(t),xe=r[0][0],Se=r[0][1];for(let _e=0;_e<t.length;_e++)e[_e][0]=t[_e][0]-xe,e[_e][1]=t[_e][1]-Se;return e}function minimalBoundingRectangle(t={}){const{originalPoints:e=monotoneChainConvexHull.call(this)}=t;if(e.length===0)return[];if(e.length===1)return[e[0],e[0],e[0],e[0]];const r=new Array(e.length);let xe=1/0,Se=0,_e;for(let Ae=0;Ae<r.length;Ae++){let Ce=getAngle$1(e[Ae],e[(Ae+1)%r.length]);rotate(-Ce,e,r);let Pe=r[Ae][0],Ee=r[Ae][1],Oe=r[(Ae+1)%r.length][0],Me=r[(Ae+1)%r.length][1],De=!0,Te=0,ke=0,Fe=0;for(let Re=0;Re<r.length;Re++){let je=r[Re][0],Ve=r[Re][1],He=(je-Pe)/(Oe-Pe);De===!0?(De=!1,Te=He,ke=He):(He<Te&&(Te=He),He>ke&&(ke=He));let ze=(-(Oe-Pe)*Ve+Oe*Ee-Me*Pe)/(Oe-Pe);Math.abs(ze)>Math.abs(Fe)&&(Fe=ze)}let $e=[Pe+Te*(Oe-Pe),Ee],Be=[Pe+ke*(Oe-Pe),Ee],Ie=Math.abs(Fe*(Te-ke)*(Oe-Pe));Ie<xe&&(Se=Ce,xe=Ie,_e=[$e,Be,[Be[0],Be[1]-Fe],[$e[0],$e[1]-Fe]])}return rotate(Se,_e,_e),_e}function getAngle$1(t,e){let r=difference(e,t),xe=normalize(r),Se=Math.acos(xe[0]);return xe[1]<0?-Se:Se}function extend$1(t){let e={inPlace:!0};t.extendMethod("invert",invert),t.extendMethod("abs",abs),t.extendMethod("level",level,e),t.extendMethod("add",add,e),t.extendMethod("subtract",subtract,e),t.extendMethod("subtractImage",subtractImage),t.extendMethod("multiply",multiply,e),t.extendMethod("divide",divide,e),t.extendMethod("hypotenuse",hypotenuse),t.extendMethod("background",background$1),t.extendMethod("flipX",flipX),t.extendMethod("flipY",flipY),t.extendMethod("blurFilter",blurFilter),t.extendMethod("medianFilter",medianFilter),t.extendMethod("gaussianFilter",gaussianFilter),t.extendMethod("sobelFilter",sobelFilter),t.extendMethod("gradientFilter",gradientFilter),t.extendMethod("scharrFilter",scharrFilter),t.extendMethod("dilate",dilate),t.extendMethod("erode",erode),t.extendMethod("open",open$1),t.extendMethod("close",close),t.extendMethod("topHat",topHat),t.extendMethod("blackHat",blackHat),t.extendMethod("morphologicalGradient",morphologicalGradient),t.extendMethod("warpingFourPoints",warpingFourPoints),t.extendMethod("crop",crop),t.extendMethod("cropAlpha",cropAlpha),t.extendMethod("resize",resize).extendMethod("scale",resize),t.extendMethod("hsv",hsv),t.extendMethod("hsl",hsl$1),t.extendMethod("cmyk",cmyk),t.extendMethod("rgba8",rgba8),t.extendMethod("grey",grey).extendMethod("gray",grey),t.extendMethod("mask",mask),t.extendMethod("pad",pad),t.extendMethod("colorDepth",colorDepth),t.extendMethod("setBorder",setBorder,e),t.extendMethod("rotate",rotate$1),t.extendMethod("rotateLeft",rotateLeft),t.extendMethod("rotateRight",rotateRight),t.extendMethod("insert",insert),t.extendMethod("getRow",getRow),t.extendMethod("getColumn",getColumn),t.extendMethod("getMatrix",getMatrix),t.extendMethod("setMatrix",setMatrix),t.extendMethod("getPixelsArray",getPixelsArray),t.extendMethod("getIntersection",getIntersection),t.extendMethod("getClosestCommonParent",getClosestCommonParent),t.extendMethod("getThreshold",getThreshold),t.extendMethod("split",split),t.extendMethod("getChannel",getChannel),t.extendMethod("combineChannels",combineChannels),t.extendMethod("setChannel",setChannel),t.extendMethod("getSimilarity",getSimilarity),t.extendMethod("getPixelsGrid",getPixelsGrid),t.extendMethod("getBestMatch",getBestMatch),t.extendMethod("cannyEdge",cannyEdge),t.extendMethod("convolution",convolution),t.extendMethod("extract",extract),t.extendMethod("floodFill",floodFill),t.extendMethod("paintLabels",paintLabels,e),t.extendMethod("paintMasks",paintMasks,e),t.extendMethod("paintPoints",paintPoints,e),t.extendMethod("paintPolyline",paintPolyline,e),t.extendMethod("paintPolylines",paintPolylines,e),t.extendMethod("paintPolygon",paintPolygon,e),t.extendMethod("paintPolygons",paintPolygons,e),t.extendMethod("countAlphaPixels",countAlphaPixels),t.extendMethod("monotoneChainConvexHull",monotoneChainConvexHull),t.extendMethod("minimalBoundingRectangle",minimalBoundingRectangle),t.extendMethod("getHistogram",getHistogram).extendProperty("histogram",getHistogram),t.extendMethod("getHistograms",getHistograms).extendProperty("histograms",getHistograms),t.extendMethod("getColorHistogram",getColorHistogram).extendProperty("colorHistogram",getColorHistogram),t.extendMethod("getMin",min).extendProperty("min",min),t.extendMethod("getMax",max$1).extendProperty("max",max$1),t.extendMethod("getSum",sum).extendProperty("sum",sum),t.extendMethod("getMoment",getMoment).extendProperty("moment",getMoment),t.extendMethod("getLocalMaxima",localMaxima),t.extendMethod("getMedian",median).extendProperty("median",median),t.extendMethod("getMean",mean).extendProperty("mean",mean),t.extendMethod("getPoints",points$1).extendProperty("points",points$1),t.extendMethod("getExtendedPoints",extendedPoints).extendProperty("extendedPoints",extendedPoints),t.extendMethod("getRelativePosition",getRelativePosition)}var quantities={exports:{}};(function(t,e){(function(r,xe){t.exports=xe()})(commonjsGlobal$1,function(){function r(Si){return typeof Si=="string"||Si instanceof String}var xe=Number.isFinite||window.isFinite;function Se(Si){return xe(Si)}function _e(Si){return Si}function Ae(Si){var Hi={};return Si.filter(function(Ji){return Hi.hasOwnProperty(Ji)?!1:Hi[Ji]=!0})}function Ce(Si,Hi){if(Hi.length!==Si.length)return!1;for(var Ji=0;Ji<Si.length;Ji++)if(Hi[Ji].compareArray&&!Hi[Ji].compareArray(Si[Ji])||Hi[Ji]!==Si[Ji])return!1;return!0}function Pe(Si,Hi){Object.keys(Hi).forEach(function(Ji){Si[Ji]=Hi[Ji]})}function Ee(){for(var Si=1,Hi=0,Ji=0;Ji<arguments.length;Ji++){var rn=arguments[Ji];Hi=Hi+De(rn),Si*=rn}return Hi!==0?Me(Si,Hi):Si}function Oe(Si,Hi){if(Hi===0)throw new Error("Divide by zero");var Ji=Math.pow(10,De(Hi)),rn=Ji/(Ji*Hi);return Ee(Si,rn)}function Me(Si,Hi){return Math.round(Si*Math.pow(10,Hi))/Math.pow(10,Hi)}function De(Si){if(!isFinite(Si))return 0;for(var Hi=0;Si%1!==0;)Si*=10,Hi++;return Hi}function Te(){var Si;if(!this)return Si=Object.create(Te.prototype),Te.apply(Si,arguments),Si;Si=Error.apply(this,arguments),this.name="QtyError",this.message=Si.message,this.stack=Si.stack}Te.prototype=Object.create(Error.prototype,{constructor:{value:Te}});function ke(Si,Hi){throw new Te("Incompatible units: "+Si+" and "+Hi)}var Fe={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","","","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1302773e20,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1660538921e-36,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1660538921e-36,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["t","tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oilbarrel","oilbarrels","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beerbarrel","beerbarrels","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beerbarrel-imp","beerbarrels-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<Gal>":[["Gal"],.01,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],3600*24,"time",["<second>"]],"<week>":[["wk","week","weeks"],7*3600*24,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"molar_concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"molar_concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],16667e-19,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","",""],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules","Joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<electronvolt>":[["eV","electronvolt","electronvolts"],1602176634e-28,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<arcminute>":[["arcmin","arcminute","arcminutes"],Math.PI/10800,"angle",["<radian>"]],"<arcsecond>":[["arcsec","arcsecond","arcseconds"],Math.PI/648e3,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppb>":[["ppb"],1e-9,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-12,"prefix_only",["<1>"]],"<ppq>":[["ppq"],1e-15,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},$e=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],Be="<1>",Ie=[Be];function Re(Si,Hi){var Ji=Hi[1],rn=Hi[3]||[],vn=Hi[4]||[];if(!Se(Ji))throw new Te(Si+": Invalid unit definition. 'scalar' must be a number");rn.forEach(function(An){if(Fe[An]===void 0)throw new Te(Si+": Invalid unit definition. Unit "+An+" in 'numerator' is not recognized")}),vn.forEach(function(An){if(Fe[An]===void 0)throw new Te(Si+": Invalid unit definition. Unit "+An+" in 'denominator' is not recognized")})}var je={},Ve={},He={},ze={},Ue={};for(var We in Fe)if(Fe.hasOwnProperty(We)){var qe=Fe[We];if(qe[2]==="prefix"){je[We]=qe[1];for(var Ge=0;Ge<qe[0].length;Ge++)Ve[qe[0][Ge]]=We}else{Re(We,qe),He[We]={scalar:qe[1],numerator:qe[3],denominator:qe[4]};for(var Ye=0;Ye<qe[0].length;Ye++)ze[qe[0][Ye]]=We}Ue[We]=qe[0][0]}function Qe(Si){var Hi,Ji=[],rn=Object.keys(Fe);if(typeof Si>"u")for(Hi=0;Hi<rn.length;Hi++)["","prefix"].indexOf(Fe[rn[Hi]][2])===-1&&Ji.push(rn[Hi].substr(1,rn[Hi].length-2));else{if(this.getKinds().indexOf(Si)===-1)throw new Te("Kind not recognized");for(Hi=0;Hi<rn.length;Hi++)Fe[rn[Hi]][2]===Si&&Ji.push(rn[Hi].substr(1,rn[Hi].length-2))}return Ji.sort(function(vn,An){return vn.toLowerCase()<An.toLowerCase()?-1:vn.toLowerCase()>An.toLowerCase()?1:0})}function Je(Si){if(!ze[Si])throw new Te("Unit not recognized");return Fe[ze[Si]][0]}var ri=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function hi(){if(this.signature)return this.signature;for(var Si=pi.call(this),Hi=0;Hi<Si.length;Hi++)Si[Hi]*=Math.pow(20,Hi);return Si.reduce(function(Ji,rn){return Ji+rn},0)}function pi(){if(!this.isBase())return pi.call(this.toBase());for(var Si=new Array(ri.length),Hi=0;Hi<Si.length;Hi++)Si[Hi]=0;for(var Ji,rn,vn=0;vn<this.numerator.length;vn++)(Ji=Fe[this.numerator[vn]])&&(rn=ri.indexOf(Ji[2]),rn>=0&&(Si[rn]=Si[rn]+1));for(var An=0;An<this.denominator.length;An++)(Ji=Fe[this.denominator[An]])&&(rn=ri.indexOf(Ji[2]),rn>=0&&(Si[rn]=Si[rn]-1));return Si}var ni="[+-]",di="\\d+",fi=ni+"?"+di,Pi="\\."+di,ci="(?:"+di+"(?:"+Pi+")?)|(?:"+Pi+")",xi="[Ee]"+fi,yi="(?:"+ci+")(?:"+xi+")?",gi=ni+"?\\s*"+yi,Ai="("+gi+")?\\s*([^/]*)(?:/(.+))?",Mi=new RegExp("^"+Ai+"$"),Fi="\\^|\\*{2}",Di="[01234]",oi=new RegExp("([^ \\*\\d]+?)(?:"+Fi+")?(-?"+Di+"(?![a-zA-Z]))"),Ke=new RegExp("([^ \\*\\d]+?)(?:"+Fi+")?("+Di+"(?![a-zA-Z]))");function St(Si){r(Si)||(Si=Si.toString()),Si=Si.trim();var Hi=Mi.exec(Si);if(!Hi)throw new Te(Si+": Quantity not recognized");var Ji=Hi[1];Ji?(Ji=Ji.replace(/\s/g,""),this.scalar=parseFloat(Ji)):this.scalar=1;for(var rn=Hi[2],vn=Hi[3],An,zn,In;Hi=oi.exec(rn);){if(An=parseFloat(Hi[2]),isNaN(An))throw new Te("Unit exponent is not a number");if(An===0&&!Ci.test(Hi[1]))throw new Te("Unit not recognized");zn=Hi[1]+" ",In="";for(var Hn=0;Hn<Math.abs(An);Hn++)In+=zn;An>=0?rn=rn.replace(Hi[0],In):(vn=vn?vn+In:In,rn=rn.replace(Hi[0],""))}for(;Hi=Ke.exec(vn);){if(An=parseFloat(Hi[2]),isNaN(An))throw new Te("Unit exponent is not a number");if(An===0&&!Ci.test(Hi[1]))throw new Te("Unit not recognized");zn=Hi[1]+" ",In="";for(var Yn=0;Yn<An;Yn++)In+=zn;vn=vn.replace(Hi[0],In)}rn&&(this.numerator=Ii(rn.trim())),vn&&(this.denominator=Ii(vn.trim()))}var ei=Object.keys(Ve).sort(function(Si,Hi){return Hi.length-Si.length}).join("|"),ui=Object.keys(ze).sort(function(Si,Hi){return Hi.length-Si.length}).join("|"),ai="\\b|$",ii="("+ei+")??("+ui+")(?:"+ai+")",Ci=new RegExp("^\\s*("+ii+"[\\s\\*]*)+$"),ki=new RegExp(ii,"g"),bi={};function Ii(Si){var Hi=bi[Si];if(Hi)return Hi;var Ji,rn=[];if(!Ci.test(Si))throw new Te("Unit not recognized");for(;Ji=ki.exec(Si);)rn.push(Ji.slice(1));return rn=rn.map(function(vn){return Ve[vn[0]]?[Ve[vn[0]],ze[vn[1]]]:[ze[vn[1]]]}),rn=rn.reduce(function(vn,An){return vn.concat(An)},[]),rn=rn.filter(function(vn){return vn}),bi[Si]=rn,rn}function Bi(Si){if(!r(Si))throw new Te("Argument should be a string");try{return this(Si)}catch{return null}}function Vi(Si){return Si instanceof ji}function ji(Si,Hi){if(Zi.apply(null,arguments),!Vi(this))return new ji(Si,Hi);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=Ie,this.denominator=Ie,Wi(Si)?(this.scalar=Si.scalar,this.numerator=Si.numerator&&Si.numerator.length!==0?Si.numerator:Ie,this.denominator=Si.denominator&&Si.denominator.length!==0?Si.denominator:Ie):Hi?(St.call(this,Hi),this.scalar=Si):St.call(this,Si),this.denominator.join("*").indexOf("temp")>=0)throw new Te("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new Te("Cannot multiply by temperatures");if(!Ce(this.denominator,Ie))throw new Te("Cannot divide with temperatures")}if(this.initValue=Si,Qi.call(this),this.isTemperature()&&this.baseScalar<0)throw new Te("Temperatures must not be less than absolute zero")}ji.prototype={constructor:ji};function Zi(Si,Hi){if(Hi){if(!(Se(Si)&&r(Hi)))throw new Te("Only number accepted as initialization value when units are explicitly provided")}else if(!(r(Si)||Se(Si)||Vi(Si)||Wi(Si)))throw new Te("Only string, number or quantity accepted as single initialization value")}function Wi(Si){return Si&&typeof Si=="object"&&Si.hasOwnProperty("scalar")}function Qi(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=hi.call(this);else{var Si=this.toBase();this.baseScalar=Si.scalar,this.signature=Si.signature}}var wi={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8e3:"mass",152020:"radiation_exposure",159999:"magnetism",16e4:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",32e5:"substance",63999998:"illuminance",64e6:"luminous_power",128e7:"currency","25599999980":"information_rate","25600000000":"information","511999999980":"angular_velocity","512000000000":"angle"};function tn(){return Ae(Object.keys(wi).map(function(Si){return wi[Si]}))}ji.prototype.kind=function(){return wi[this.signature.toString()]},Pe(ji.prototype,{isDegrees:function(){return(this.signature===null||this.signature===400)&&this.numerator.length===1&&Ce(this.denominator,Ie)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}});function Yi(Si,Hi){var Ji=Si.units(),rn=Hi.to(Ji),vn=ji(Xi(Ji));return ji({scalar:Si.scalar-rn.scalar,numerator:vn.numerator,denominator:vn.denominator})}function nn(Si,Hi){var Ji=Hi.to(Xi(Si.units()));return ji({scalar:Si.scalar-Ji.scalar,numerator:Si.numerator,denominator:Si.denominator})}function Ni(Si,Hi){var Ji=Hi.to(Xi(Si.units()));return ji({scalar:Si.scalar+Ji.scalar,numerator:Si.numerator,denominator:Si.denominator})}function Xi(Si){if(Si==="tempK")return"degK";if(Si==="tempC")return"degC";if(Si==="tempF")return"degF";if(Si==="tempR")return"degR";throw new Te("Unknown type for temp conversion from: "+Si)}function an(Si,Hi){var Ji=cn(Si),rn=Hi.units(),vn;if(rn==="degK")vn=Ji.scalar;else if(rn==="degC")vn=Ji.scalar;else if(rn==="degF")vn=Ji.scalar*9/5;else if(rn==="degR")vn=Ji.scalar*9/5;else throw new Te("Unknown type for degree conversion to: "+rn);return ji({scalar:vn,numerator:Hi.numerator,denominator:Hi.denominator})}function cn(Si){var Hi=Si.units(),Ji;if(Hi.match(/(deg)[CFRK]/))Ji=Si.baseScalar;else if(Hi==="tempK")Ji=Si.scalar;else if(Hi==="tempC")Ji=Si.scalar;else if(Hi==="tempF")Ji=Si.scalar*5/9;else if(Hi==="tempR")Ji=Si.scalar*5/9;else throw new Te("Unknown type for temp conversion from: "+Hi);return ji({scalar:Ji,numerator:["<kelvin>"],denominator:Ie})}function dn(Si,Hi){var Ji=Hi.units(),rn;if(Ji==="tempK")rn=Si.baseScalar;else if(Ji==="tempC")rn=Si.baseScalar-273.15;else if(Ji==="tempF")rn=Si.baseScalar*9/5-459.67;else if(Ji==="tempR")rn=Si.baseScalar*9/5;else throw new Te("Unknown type for temp conversion to: "+Ji);return ji({scalar:rn,numerator:Hi.numerator,denominator:Hi.denominator})}function bn(Si){var Hi=Si.units(),Ji;if(Hi.match(/(deg)[CFRK]/))Ji=Si.baseScalar;else if(Hi==="tempK")Ji=Si.scalar;else if(Hi==="tempC")Ji=Si.scalar+273.15;else if(Hi==="tempF")Ji=(Si.scalar+459.67)*5/9;else if(Hi==="tempR")Ji=Si.scalar*5/9;else throw new Te("Unknown type for temp conversion from: "+Hi);return ji({scalar:Ji,numerator:["<temp-K>"],denominator:Ie})}Pe(ji.prototype,{to:function(Si){var Hi,Ji;if(Si==null)return this;if(!r(Si))return this.to(Si.units());if(Hi=this._conversionCache[Si],Hi)return Hi;if(Ji=ji(Si),Ji.units()===this.units())return this;if(!this.isCompatible(Ji))this.isInverse(Ji)?Ji=this.inverse().to(Si):ke(this.units(),Ji.units());else if(Ji.isTemperature())Ji=dn(this,Ji);else if(Ji.isDegrees())Ji=an(this,Ji);else{var rn=Oe(this.baseScalar,Ji.baseScalar);Ji=ji({scalar:rn,numerator:Ji.numerator,denominator:Ji.denominator})}return this._conversionCache[Si]=Ji,Ji},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return bn(this);var Si=Sn[this.units()];return Si||(Si=kn(this.numerator,this.denominator),Sn[this.units()]=Si),Si.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new Te("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(Si){if(r(Si)&&(Si=ji(Si)),Se(Si)&&(Si=ji(Si+" "+this.units())),this.isUnitless()?Si.isUnitless()||ke(this.units(),Si.units()):Si=Si.to(this.units()),Si.scalar===0)throw new Te("Divide by zero");var Hi=Ee(Math.round(this.scalar/Si.scalar),Si.scalar);return ji(Hi+this.units())}});function wn(Si,Hi){var Ji=ji(Si),rn=ji(Hi);if(Ji.eq(rn))return _e;var vn;return Ji.isTemperature()?vn=function(An){return Ji.mul(An).to(rn).scalar}:vn=function(An){return An*Ji.baseScalar/rn.baseScalar},function(zn){var In,Hn,Yn;if(Array.isArray(zn)){for(Hn=zn.length,Yn=[],In=0;In<Hn;In++)Yn.push(vn(zn[In]));return Yn}else return vn(zn)}}var Sn={};function kn(Si,Hi){for(var Ji=[],rn=[],vn=1,An,zn=0;zn<Si.length;zn++)An=Si[zn],je[An]?vn=Ee(vn,je[An]):He[An]&&(vn*=He[An].scalar,He[An].numerator&&Ji.push(He[An].numerator),He[An].denominator&&rn.push(He[An].denominator));for(var In=0;In<Hi.length;In++)An=Hi[In],je[An]?vn/=je[An]:He[An]&&(vn/=He[An].scalar,He[An].numerator&&rn.push(He[An].numerator),He[An].denominator&&Ji.push(He[An].denominator));return Ji=Ji.reduce(function(Hn,Yn){return Hn.concat(Yn)},[]),rn=rn.reduce(function(Hn,Yn){return Hn.concat(Yn)},[]),ji({scalar:vn,numerator:Ji,denominator:rn})}ji.parse=Bi,ji.getUnits=Qe,ji.getAliases=Je,ji.mulSafe=Ee,ji.divSafe=Oe,ji.getKinds=tn,ji.swiftConverter=wn,ji.Error=Te,Pe(ji.prototype,{add:function(Si){if(r(Si)&&(Si=ji(Si)),this.isCompatible(Si)||ke(this.units(),Si.units()),this.isTemperature()&&Si.isTemperature())throw new Te("Cannot add two temperatures");return this.isTemperature()?Ni(this,Si):Si.isTemperature()?Ni(Si,this):ji({scalar:this.scalar+Si.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(Si){if(r(Si)&&(Si=ji(Si)),this.isCompatible(Si)||ke(this.units(),Si.units()),this.isTemperature()&&Si.isTemperature())return Yi(this,Si);if(this.isTemperature())return nn(this,Si);if(Si.isTemperature())throw new Te("Cannot subtract a temperature from a differential degree unit");return ji({scalar:this.scalar-Si.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(Si){if(Se(Si))return ji({scalar:Ee(this.scalar,Si),numerator:this.numerator,denominator:this.denominator});if(r(Si)&&(Si=ji(Si)),(this.isTemperature()||Si.isTemperature())&&!(this.isUnitless()||Si.isUnitless()))throw new Te("Cannot multiply by temperatures");var Hi=this,Ji=Si;Hi.isCompatible(Ji)&&Hi.signature!==400&&(Ji=Ji.to(Hi));var rn=Ln(Hi.numerator,Hi.denominator,Ji.numerator,Ji.denominator);return ji({scalar:Ee(Hi.scalar,Ji.scalar,rn[2]),numerator:rn[0],denominator:rn[1]})},div:function(Si){if(Se(Si)){if(Si===0)throw new Te("Divide by zero");return ji({scalar:this.scalar/Si,numerator:this.numerator,denominator:this.denominator})}else r(Si)&&(Si=ji(Si));if(Si.scalar===0)throw new Te("Divide by zero");if(Si.isTemperature())throw new Te("Cannot divide with temperatures");if(this.isTemperature()&&!Si.isUnitless())throw new Te("Cannot divide with temperatures");var Hi=this,Ji=Si;Hi.isCompatible(Ji)&&Hi.signature!==400&&(Ji=Ji.to(Hi));var rn=Ln(Hi.numerator,Hi.denominator,Ji.denominator,Ji.numerator);return ji({scalar:Ee(Hi.scalar,rn[2])/Ji.scalar,numerator:rn[0],denominator:rn[1]})},inverse:function(){if(this.isTemperature())throw new Te("Cannot divide with temperatures");if(this.scalar===0)throw new Te("Divide by zero");return ji({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}});function Ln(Si,Hi,Ji,rn){function vn(Kn){return Kn!==Be}Si=Si.filter(vn),Ji=Ji.filter(vn),Hi=Hi.filter(vn),rn=rn.filter(vn);var An={};function zn(Kn,or){for(var tr,ar,vr,xr=0;xr<Kn.length;xr++)if(je[Kn[xr]]?(tr=Kn[xr+1],ar=Kn[xr],vr=je[ar],xr++):(tr=Kn[xr],ar=null,vr=1),tr&&tr!==Be)if(An[tr]){An[tr][0]+=or;var Ur=An[tr][2]?je[An[tr][2]]:1;An[tr][or===1?3:4]*=Oe(vr,Ur)}else An[tr]=[or,tr,ar,1,1]}zn(Si,1),zn(Hi,-1),zn(Ji,1),zn(rn,-1);var In=[],Hn=[],Yn=1;for(var Rr in An)if(An.hasOwnProperty(Rr)){var er=An[Rr],dr;if(er[0]>0)for(dr=0;dr<er[0];dr++)In.push(er[2]===null?er[1]:[er[2],er[1]]);else if(er[0]<0)for(dr=0;dr<-er[0];dr++)Hn.push(er[2]===null?er[1]:[er[2],er[1]]);Yn*=Oe(er[3],er[4])}return In.length===0&&(In=Ie),Hn.length===0&&(Hn=Ie),In=In.reduce(function(Kn,or){return Kn.concat(or)},[]),Hn=Hn.reduce(function(Kn,or){return Kn.concat(or)},[]),[In,Hn,Yn]}Pe(ji.prototype,{eq:function(Si){return this.compareTo(Si)===0},lt:function(Si){return this.compareTo(Si)===-1},lte:function(Si){return this.eq(Si)||this.lt(Si)},gt:function(Si){return this.compareTo(Si)===1},gte:function(Si){return this.eq(Si)||this.gt(Si)},compareTo:function(Si){if(r(Si))return this.compareTo(ji(Si));if(this.isCompatible(Si)||ke(this.units(),Si.units()),this.baseScalar<Si.baseScalar)return-1;if(this.baseScalar===Si.baseScalar)return 0;if(this.baseScalar>Si.baseScalar)return 1},same:function(Si){return this.scalar===Si.scalar&&this.units()===Si.units()}}),Pe(ji.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every(function(Si){return Ce(Si,Ie)})},isCompatible:function(Si){return r(Si)?this.isCompatible(ji(Si)):Vi(Si)&&Si.signature!==void 0?this.signature===Si.signature:!1},isInverse:function(Si){return this.inverse().isCompatible(Si)},isBase:function(){return this._isBase!==void 0?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach(function(Si){Si!==Be&&$e.indexOf(Si)===-1&&(this._isBase=!1)},this),this._isBase===!1?this._isBase:(this._isBase=!0,this._isBase))}});function jn(){}jn.prototype.get=function(Si){return arguments.length>1&&(Si=Array.apply(null,arguments)),Si.reduce(function(Hi,Ji,rn){if(Hi){var vn=Hi[Ji];return rn===Si.length-1?vn?vn.data:void 0:vn}},this)},jn.prototype.set=function(Si,Hi){return arguments.length>2&&(Si=Array.prototype.slice.call(arguments,0,-1),Hi=arguments[arguments.length-1]),Si.reduce(function(Ji,rn,vn){var An=Ji[rn];return An===void 0&&(An=Ji[rn]={}),vn===Si.length-1?(An.data=Hi,Hi):An},this)};function Rn(Si,Hi){return(Si+" "+Hi).trim()}ji.formatter=Rn,Pe(ji.prototype,{units:function(){if(this._units!==void 0)return this._units;var Si=Ce(this.numerator,Ie),Hi=Ce(this.denominator,Ie);if(Si&&Hi)return this._units="",this._units;var Ji=On(this.numerator),rn=On(this.denominator);return this._units=Ji+(Hi?"":"/"+rn),this._units},toString:function(Si,Hi){var Ji;if(Se(Si))Ji=this.units(),Hi=Si;else if(r(Si))Ji=Si;else if(Vi(Si))return this.toPrec(Si).toString(Hi);var rn=this.to(Ji),vn=Hi!==void 0?Me(rn.scalar,Hi):rn.scalar;return rn=(vn+" "+rn.units()).trim(),rn},format:function(Si,Hi){arguments.length===1&&typeof Si=="function"&&(Hi=Si,Si=void 0),Hi=Hi||ji.formatter;var Ji=this.to(Si);return Hi.call(this,Ji.scalar,Ji.units())}});var Fn=new jn;function On(Si){var Hi=Fn.get(Si);if(Hi)return Hi;var Ji=Ce(Si,Ie);return Ji?Hi="1":Hi=un(Vn(Si)).join("*"),Fn.set(Si,Hi),Hi}function Vn(Si){for(var Hi=[],Ji,rn,vn=0;vn<Si.length;vn++)Ji=Si[vn],rn=Si[vn+1],je[Ji]?(Hi.push(Ue[Ji]+Ue[rn]),vn++):Hi.push(Ue[Ji]);return Hi}function un(Si){var Hi=Si.reduce(function(Ji,rn){var vn=Ji[rn];return vn||Ji.push(vn=Ji[rn]=[rn,0]),vn[1]++,Ji},[]);return Hi.map(function(Ji){return Ji[0]+(Ji[1]>1?Ji[1]:"")})}return ji.version="1.8.0",ji})})(quantities);var quantitiesExports=quantities.exports;const Qty=getDefaultExportFromCjs$1(quantitiesExports);function deepValue(t,e=""){let r=e.split(".");for(let xe of r){if(t[xe]===void 0)return;t=t[xe]}return t}var orientation={exports:{}},twoProduct_1=twoProduct$1,SPLITTER=+(Math.pow(2,27)+1);function twoProduct$1(t,e,r){var xe=t*e,Se=SPLITTER*t,_e=Se-t,Ae=Se-_e,Ce=t-Ae,Pe=SPLITTER*e,Ee=Pe-e,Oe=Pe-Ee,Me=e-Oe,De=xe-Ae*Oe,Te=De-Ce*Oe,ke=Te-Ae*Me,Fe=Ce*Me-ke;return r?(r[0]=Fe,r[1]=xe,r):[Fe,xe]}var robustSum=linearExpansionSum;function scalarScalar$1(t,e){var r=t+e,xe=r-t,Se=r-xe,_e=e-xe,Ae=t-Se,Ce=Ae+_e;return Ce?[Ce,r]:[r]}function linearExpansionSum(t,e){var r=t.length|0,xe=e.length|0;if(r===1&&xe===1)return scalarScalar$1(t[0],e[0]);var Se=r+xe,_e=new Array(Se),Ae=0,Ce=0,Pe=0,Ee=Math.abs,Oe=t[Ce],Me=Ee(Oe),De=e[Pe],Te=Ee(De),ke,Fe;Me<Te?(Fe=Oe,Ce+=1,Ce<r&&(Oe=t[Ce],Me=Ee(Oe))):(Fe=De,Pe+=1,Pe<xe&&(De=e[Pe],Te=Ee(De))),Ce<r&&Me<Te||Pe>=xe?(ke=Oe,Ce+=1,Ce<r&&(Oe=t[Ce],Me=Ee(Oe))):(ke=De,Pe+=1,Pe<xe&&(De=e[Pe],Te=Ee(De)));for(var $e=ke+Fe,Be=$e-ke,Ie=Fe-Be,Re=Ie,je=$e,Ve,He,ze,Ue,We;Ce<r&&Pe<xe;)Me<Te?(ke=Oe,Ce+=1,Ce<r&&(Oe=t[Ce],Me=Ee(Oe))):(ke=De,Pe+=1,Pe<xe&&(De=e[Pe],Te=Ee(De))),Fe=Re,$e=ke+Fe,Be=$e-ke,Ie=Fe-Be,Ie&&(_e[Ae++]=Ie),Ve=je+$e,He=Ve-je,ze=Ve-He,Ue=$e-He,We=je-ze,Re=We+Ue,je=Ve;for(;Ce<r;)ke=Oe,Fe=Re,$e=ke+Fe,Be=$e-ke,Ie=Fe-Be,Ie&&(_e[Ae++]=Ie),Ve=je+$e,He=Ve-je,ze=Ve-He,Ue=$e-He,We=je-ze,Re=We+Ue,je=Ve,Ce+=1,Ce<r&&(Oe=t[Ce]);for(;Pe<xe;)ke=De,Fe=Re,$e=ke+Fe,Be=$e-ke,Ie=Fe-Be,Ie&&(_e[Ae++]=Ie),Ve=je+$e,He=Ve-je,ze=Ve-He,Ue=$e-He,We=je-ze,Re=We+Ue,je=Ve,Pe+=1,Pe<xe&&(De=e[Pe]);return Re&&(_e[Ae++]=Re),je&&(_e[Ae++]=je),Ae||(_e[Ae++]=0),_e.length=Ae,_e}var twoSum$1=fastTwoSum;function fastTwoSum(t,e,r){var xe=t+e,Se=xe-t,_e=xe-Se,Ae=e-Se,Ce=t-_e;return r?(r[0]=Ce+Ae,r[1]=xe,r):[Ce+Ae,xe]}var twoProduct=twoProduct_1,twoSum=twoSum$1,robustScale=scaleLinearExpansion;function scaleLinearExpansion(t,e){var r=t.length;if(r===1){var xe=twoProduct(t[0],e);return xe[0]?xe:[xe[1]]}var Se=new Array(2*r),_e=[.1,.1],Ae=[.1,.1],Ce=0;twoProduct(t[0],e,_e),_e[0]&&(Se[Ce++]=_e[0]);for(var Pe=1;Pe<r;++Pe){twoProduct(t[Pe],e,Ae);var Ee=_e[1];twoSum(Ee,Ae[0],_e),_e[0]&&(Se[Ce++]=_e[0]);var Oe=Ae[1],Me=_e[1],De=Oe+Me,Te=De-Oe,ke=Me-Te;_e[1]=De,ke&&(Se[Ce++]=ke)}return _e[1]&&(Se[Ce++]=_e[1]),Ce===0&&(Se[Ce++]=0),Se.length=Ce,Se}var robustDiff=robustSubtract;function scalarScalar(t,e){var r=t+e,xe=r-t,Se=r-xe,_e=e-xe,Ae=t-Se,Ce=Ae+_e;return Ce?[Ce,r]:[r]}function robustSubtract(t,e){var r=t.length|0,xe=e.length|0;if(r===1&&xe===1)return scalarScalar(t[0],-e[0]);var Se=r+xe,_e=new Array(Se),Ae=0,Ce=0,Pe=0,Ee=Math.abs,Oe=t[Ce],Me=Ee(Oe),De=-e[Pe],Te=Ee(De),ke,Fe;Me<Te?(Fe=Oe,Ce+=1,Ce<r&&(Oe=t[Ce],Me=Ee(Oe))):(Fe=De,Pe+=1,Pe<xe&&(De=-e[Pe],Te=Ee(De))),Ce<r&&Me<Te||Pe>=xe?(ke=Oe,Ce+=1,Ce<r&&(Oe=t[Ce],Me=Ee(Oe))):(ke=De,Pe+=1,Pe<xe&&(De=-e[Pe],Te=Ee(De)));for(var $e=ke+Fe,Be=$e-ke,Ie=Fe-Be,Re=Ie,je=$e,Ve,He,ze,Ue,We;Ce<r&&Pe<xe;)Me<Te?(ke=Oe,Ce+=1,Ce<r&&(Oe=t[Ce],Me=Ee(Oe))):(ke=De,Pe+=1,Pe<xe&&(De=-e[Pe],Te=Ee(De))),Fe=Re,$e=ke+Fe,Be=$e-ke,Ie=Fe-Be,Ie&&(_e[Ae++]=Ie),Ve=je+$e,He=Ve-je,ze=Ve-He,Ue=$e-He,We=je-ze,Re=We+Ue,je=Ve;for(;Ce<r;)ke=Oe,Fe=Re,$e=ke+Fe,Be=$e-ke,Ie=Fe-Be,Ie&&(_e[Ae++]=Ie),Ve=je+$e,He=Ve-je,ze=Ve-He,Ue=$e-He,We=je-ze,Re=We+Ue,je=Ve,Ce+=1,Ce<r&&(Oe=t[Ce]);for(;Pe<xe;)ke=De,Fe=Re,$e=ke+Fe,Be=$e-ke,Ie=Fe-Be,Ie&&(_e[Ae++]=Ie),Ve=je+$e,He=Ve-je,ze=Ve-He,Ue=$e-He,We=je-ze,Re=We+Ue,je=Ve,Pe+=1,Pe<xe&&(De=-e[Pe]);return Re&&(_e[Ae++]=Re),je&&(_e[Ae++]=je),Ae||(_e[Ae++]=0),_e.length=Ae,_e}(function(t){var e=twoProduct_1,r=robustSum,xe=robustScale,Se=robustDiff,_e=5,Ae=11102230246251565e-32,Ce=(3+16*Ae)*Ae,Pe=(7+56*Ae)*Ae;function Ee(Re,je,Ve,He){return function(Ue,We,qe){var Ge=Re(Re(je(We[1],qe[0]),je(-qe[1],We[0])),Re(je(Ue[1],We[0]),je(-We[1],Ue[0]))),Ye=Re(je(Ue[1],qe[0]),je(-qe[1],Ue[0])),Qe=He(Ge,Ye);return Qe[Qe.length-1]}}function Oe(Re,je,Ve,He){return function(Ue,We,qe,Ge){var Ye=Re(Re(Ve(Re(je(qe[1],Ge[0]),je(-Ge[1],qe[0])),We[2]),Re(Ve(Re(je(We[1],Ge[0]),je(-Ge[1],We[0])),-qe[2]),Ve(Re(je(We[1],qe[0]),je(-qe[1],We[0])),Ge[2]))),Re(Ve(Re(je(We[1],Ge[0]),je(-Ge[1],We[0])),Ue[2]),Re(Ve(Re(je(Ue[1],Ge[0]),je(-Ge[1],Ue[0])),-We[2]),Ve(Re(je(Ue[1],We[0]),je(-We[1],Ue[0])),Ge[2])))),Qe=Re(Re(Ve(Re(je(qe[1],Ge[0]),je(-Ge[1],qe[0])),Ue[2]),Re(Ve(Re(je(Ue[1],Ge[0]),je(-Ge[1],Ue[0])),-qe[2]),Ve(Re(je(Ue[1],qe[0]),je(-qe[1],Ue[0])),Ge[2]))),Re(Ve(Re(je(We[1],qe[0]),je(-qe[1],We[0])),Ue[2]),Re(Ve(Re(je(Ue[1],qe[0]),je(-qe[1],Ue[0])),-We[2]),Ve(Re(je(Ue[1],We[0]),je(-We[1],Ue[0])),qe[2])))),Je=He(Ye,Qe);return Je[Je.length-1]}}function Me(Re,je,Ve,He){return function(Ue,We,qe,Ge,Ye){var Qe=Re(Re(Re(Ve(Re(Ve(Re(je(Ge[1],Ye[0]),je(-Ye[1],Ge[0])),qe[2]),Re(Ve(Re(je(qe[1],Ye[0]),je(-Ye[1],qe[0])),-Ge[2]),Ve(Re(je(qe[1],Ge[0]),je(-Ge[1],qe[0])),Ye[2]))),We[3]),Re(Ve(Re(Ve(Re(je(Ge[1],Ye[0]),je(-Ye[1],Ge[0])),We[2]),Re(Ve(Re(je(We[1],Ye[0]),je(-Ye[1],We[0])),-Ge[2]),Ve(Re(je(We[1],Ge[0]),je(-Ge[1],We[0])),Ye[2]))),-qe[3]),Ve(Re(Ve(Re(je(qe[1],Ye[0]),je(-Ye[1],qe[0])),We[2]),Re(Ve(Re(je(We[1],Ye[0]),je(-Ye[1],We[0])),-qe[2]),Ve(Re(je(We[1],qe[0]),je(-qe[1],We[0])),Ye[2]))),Ge[3]))),Re(Ve(Re(Ve(Re(je(qe[1],Ge[0]),je(-Ge[1],qe[0])),We[2]),Re(Ve(Re(je(We[1],Ge[0]),je(-Ge[1],We[0])),-qe[2]),Ve(Re(je(We[1],qe[0]),je(-qe[1],We[0])),Ge[2]))),-Ye[3]),Re(Ve(Re(Ve(Re(je(Ge[1],Ye[0]),je(-Ye[1],Ge[0])),We[2]),Re(Ve(Re(je(We[1],Ye[0]),je(-Ye[1],We[0])),-Ge[2]),Ve(Re(je(We[1],Ge[0]),je(-Ge[1],We[0])),Ye[2]))),Ue[3]),Ve(Re(Ve(Re(je(Ge[1],Ye[0]),je(-Ye[1],Ge[0])),Ue[2]),Re(Ve(Re(je(Ue[1],Ye[0]),je(-Ye[1],Ue[0])),-Ge[2]),Ve(Re(je(Ue[1],Ge[0]),je(-Ge[1],Ue[0])),Ye[2]))),-We[3])))),Re(Re(Ve(Re(Ve(Re(je(We[1],Ye[0]),je(-Ye[1],We[0])),Ue[2]),Re(Ve(Re(je(Ue[1],Ye[0]),je(-Ye[1],Ue[0])),-We[2]),Ve(Re(je(Ue[1],We[0]),je(-We[1],Ue[0])),Ye[2]))),Ge[3]),Re(Ve(Re(Ve(Re(je(We[1],Ge[0]),je(-Ge[1],We[0])),Ue[2]),Re(Ve(Re(je(Ue[1],Ge[0]),je(-Ge[1],Ue[0])),-We[2]),Ve(Re(je(Ue[1],We[0]),je(-We[1],Ue[0])),Ge[2]))),-Ye[3]),Ve(Re(Ve(Re(je(qe[1],Ge[0]),je(-Ge[1],qe[0])),We[2]),Re(Ve(Re(je(We[1],Ge[0]),je(-Ge[1],We[0])),-qe[2]),Ve(Re(je(We[1],qe[0]),je(-qe[1],We[0])),Ge[2]))),Ue[3]))),Re(Ve(Re(Ve(Re(je(qe[1],Ge[0]),je(-Ge[1],qe[0])),Ue[2]),Re(Ve(Re(je(Ue[1],Ge[0]),je(-Ge[1],Ue[0])),-qe[2]),Ve(Re(je(Ue[1],qe[0]),je(-qe[1],Ue[0])),Ge[2]))),-We[3]),Re(Ve(Re(Ve(Re(je(We[1],Ge[0]),je(-Ge[1],We[0])),Ue[2]),Re(Ve(Re(je(Ue[1],Ge[0]),je(-Ge[1],Ue[0])),-We[2]),Ve(Re(je(Ue[1],We[0]),je(-We[1],Ue[0])),Ge[2]))),qe[3]),Ve(Re(Ve(Re(je(We[1],qe[0]),je(-qe[1],We[0])),Ue[2]),Re(Ve(Re(je(Ue[1],qe[0]),je(-qe[1],Ue[0])),-We[2]),Ve(Re(je(Ue[1],We[0]),je(-We[1],Ue[0])),qe[2]))),-Ge[3]))))),Je=Re(Re(Re(Ve(Re(Ve(Re(je(Ge[1],Ye[0]),je(-Ye[1],Ge[0])),qe[2]),Re(Ve(Re(je(qe[1],Ye[0]),je(-Ye[1],qe[0])),-Ge[2]),Ve(Re(je(qe[1],Ge[0]),je(-Ge[1],qe[0])),Ye[2]))),Ue[3]),Ve(Re(Ve(Re(je(Ge[1],Ye[0]),je(-Ye[1],Ge[0])),Ue[2]),Re(Ve(Re(je(Ue[1],Ye[0]),je(-Ye[1],Ue[0])),-Ge[2]),Ve(Re(je(Ue[1],Ge[0]),je(-Ge[1],Ue[0])),Ye[2]))),-qe[3])),Re(Ve(Re(Ve(Re(je(qe[1],Ye[0]),je(-Ye[1],qe[0])),Ue[2]),Re(Ve(Re(je(Ue[1],Ye[0]),je(-Ye[1],Ue[0])),-qe[2]),Ve(Re(je(Ue[1],qe[0]),je(-qe[1],Ue[0])),Ye[2]))),Ge[3]),Ve(Re(Ve(Re(je(qe[1],Ge[0]),je(-Ge[1],qe[0])),Ue[2]),Re(Ve(Re(je(Ue[1],Ge[0]),je(-Ge[1],Ue[0])),-qe[2]),Ve(Re(je(Ue[1],qe[0]),je(-qe[1],Ue[0])),Ge[2]))),-Ye[3]))),Re(Re(Ve(Re(Ve(Re(je(qe[1],Ye[0]),je(-Ye[1],qe[0])),We[2]),Re(Ve(Re(je(We[1],Ye[0]),je(-Ye[1],We[0])),-qe[2]),Ve(Re(je(We[1],qe[0]),je(-qe[1],We[0])),Ye[2]))),Ue[3]),Ve(Re(Ve(Re(je(qe[1],Ye[0]),je(-Ye[1],qe[0])),Ue[2]),Re(Ve(Re(je(Ue[1],Ye[0]),je(-Ye[1],Ue[0])),-qe[2]),Ve(Re(je(Ue[1],qe[0]),je(-qe[1],Ue[0])),Ye[2]))),-We[3])),Re(Ve(Re(Ve(Re(je(We[1],Ye[0]),je(-Ye[1],We[0])),Ue[2]),Re(Ve(Re(je(Ue[1],Ye[0]),je(-Ye[1],Ue[0])),-We[2]),Ve(Re(je(Ue[1],We[0]),je(-We[1],Ue[0])),Ye[2]))),qe[3]),Ve(Re(Ve(Re(je(We[1],qe[0]),je(-qe[1],We[0])),Ue[2]),Re(Ve(Re(je(Ue[1],qe[0]),je(-qe[1],Ue[0])),-We[2]),Ve(Re(je(Ue[1],We[0]),je(-We[1],Ue[0])),qe[2]))),-Ye[3])))),ri=He(Qe,Je);return ri[ri.length-1]}}function De(Re){var je=Re===3?Ee:Re===4?Oe:Me;return je(r,e,xe,Se)}var Te=De(3),ke=De(4),Fe=[function(){return 0},function(){return 0},function(je,Ve){return Ve[0]-je[0]},function(je,Ve,He){var ze=(je[1]-He[1])*(Ve[0]-He[0]),Ue=(je[0]-He[0])*(Ve[1]-He[1]),We=ze-Ue,qe;if(ze>0){if(Ue<=0)return We;qe=ze+Ue}else if(ze<0){if(Ue>=0)return We;qe=-(ze+Ue)}else return We;var Ge=Ce*qe;return We>=Ge||We<=-Ge?We:Te(je,Ve,He)},function(je,Ve,He,ze){var Ue=je[0]-ze[0],We=Ve[0]-ze[0],qe=He[0]-ze[0],Ge=je[1]-ze[1],Ye=Ve[1]-ze[1],Qe=He[1]-ze[1],Je=je[2]-ze[2],ri=Ve[2]-ze[2],hi=He[2]-ze[2],pi=We*Qe,ni=qe*Ye,di=qe*Ge,fi=Ue*Qe,Pi=Ue*Ye,ci=We*Ge,xi=Je*(pi-ni)+ri*(di-fi)+hi*(Pi-ci),yi=(Math.abs(pi)+Math.abs(ni))*Math.abs(Je)+(Math.abs(di)+Math.abs(fi))*Math.abs(ri)+(Math.abs(Pi)+Math.abs(ci))*Math.abs(hi),gi=Pe*yi;return xi>gi||-xi>gi?xi:ke(je,Ve,He,ze)}];function $e(Re){var je=Fe[Re.length];return je||(je=Fe[Re.length]=De(Re.length)),je.apply(void 0,Re)}function Be(Re,je,Ve,He,ze,Ue,We){return function(Ge,Ye,Qe,Je,ri){switch(arguments.length){case 0:case 1:return 0;case 2:return He(Ge,Ye);case 3:return ze(Ge,Ye,Qe);case 4:return Ue(Ge,Ye,Qe,Je);case 5:return We(Ge,Ye,Qe,Je,ri)}for(var hi=new Array(arguments.length),pi=0;pi<arguments.length;++pi)hi[pi]=arguments[pi];return Re(hi)}}function Ie(){for(;Fe.length<=_e;)Fe.push(De(Fe.length));t.exports=Be.apply(void 0,[$e].concat(Fe));for(var Re=0;Re<=_e;++Re)t.exports[Re]=Fe[Re]}Ie()})(orientation);var orientationExports=orientation.exports,robustPnp=robustPointInPolygon,orient=orientationExports;function robustPointInPolygon(t,e){for(var r=e[0],xe=e[1],Se=t.length,_e=1,Ae=Se,Ce=0,Pe=Se-1;Ce<Ae;Pe=Ce++){var Ee=t[Ce],Oe=t[Pe],Me=Ee[1],De=Oe[1];if(De<Me){if(De<xe&&xe<Me){var Te=orient(Ee,Oe,e);if(Te===0)return 0;_e^=0<Te|0}else if(xe===Me){var ke=t[(Ce+1)%Se],Fe=ke[1];if(Me<Fe){var Te=orient(Ee,Oe,e);if(Te===0)return 0;_e^=0<Te|0}}}else if(Me<De){if(Me<xe&&xe<De){var Te=orient(Ee,Oe,e);if(Te===0)return 0;_e^=Te<0|0}else if(xe===Me){var ke=t[(Ce+1)%Se],Fe=ke[1];if(Fe<Me){var Te=orient(Ee,Oe,e);if(Te===0)return 0;_e^=Te<0|0}}}else if(xe===Me){var $e=Math.min(Ee[0],Oe[0]),Be=Math.max(Ee[0],Oe[0]);if(Ce===0){for(;Pe>0;){var Ie=(Pe+Se-1)%Se,Re=t[Ie];if(Re[1]!==xe)break;var je=Re[0];$e=Math.min($e,je),Be=Math.max(Be,je),Pe=Ie}if(Pe===0)return $e<=r&&r<=Be?0:1;Ae=Pe+1}for(var Ve=t[(Pe+Se-1)%Se][1];Ce+1<Ae;){var Re=t[Ce+1];if(Re[1]!==xe)break;var je=Re[0];$e=Math.min($e,je),Be=Math.max(Be,je),Ce+=1}if($e<=r&&r<=Be)return 0;var He=t[(Ce+1)%Se][1];r<$e&&Ve<xe!=He<xe&&(_e^=1)}}return 2*_e-1}const robustPointInPolygon$1=getDefaultExportFromCjs$1(robustPnp);function feretDiameters(t={}){const{originalPoints:e=monotoneChainConvexHull.call(this)}=t;if(e.length===0)return{min:0,max:0,minLine:[],maxLine:[],aspectRatio:1};if(e.length===1)return{min:1,max:1,minLine:[e[0],e[0]],maxLine:[e[0],e[0]],aspectRatio:1};const r=new Array(e.length);let xe=1/0,Se=0,_e=[];for(let Ee=0;Ee<e.length;Ee++){let Oe=getAngle(e[Ee],e[(Ee+1)%e.length]);rotate(-Oe,e,r);let Me=0,De=[];for(let Te=0;Te<e.length;Te++){let ke=Math.abs(r[Ee][1]-r[Te][1]);ke>Me&&(Me=ke,De=[],De.push([r[Te][0],r[Ee][1]],[r[Te][0],r[Te][1]]))}Me<xe&&(xe=Me,Se=Oe,_e=De)}rotate(Se,_e,_e);let Ae=0,Ce=[],Pe=0;for(let Ee=0;Ee<e.length-1;Ee++)for(let Oe=Ee+1;Oe<e.length;Oe++){let Me=(e[Ee][0]-e[Oe][0])**2+(e[Ee][1]-e[Oe][1])**2;Me>Pe&&(Pe=Me,Ae=Math.sqrt(Me),Ce=[e[Ee],e[Oe]])}return{min:xe,minLine:_e,max:Ae,maxLine:Ce,aspectRatio:xe/Ae}}function getAngle(t,e){let r=difference(e,t),xe=normalize(r),Se=Math.acos(xe[0]);return xe[1]<0?-Se:Se}class Roi{constructor(e,r){this.map=e,this.id=r,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,this.meanX=0,this.meanY=0,this.surface=0,this.computed={}}getMask(e={}){const{scale:r=1,kind:xe=""}=e;let Se;switch(xe){case"contour":Se=this.contourMask;break;case"box":Se=this.boxMask;break;case"filled":Se=this.filledMask;break;case"center":Se=this.centerMask;break;case"mbr":Se=this.mbrFilledMask;break;case"hull":Se=this.convexHullFilledMask;break;case"hullContour":Se=this.convexHullMask;break;case"mbrContour":Se=this.mbrMask;break;case"feret":Se=this.feretMask;break;default:Se=this.mask}return r<1&&(Se=Se.resize({factor:r}),Se.parent=this.mask.parent,Se.position[0]+=this.minX,Se.position[1]+=this.minY),Se}get mean(){throw new Error("Roi mean not implemented yet")}get center(){return this.computed.center||(this.computed.center=[this.width/2>>0,this.height/2>>0]),this.computed.center}get ratio(){return this.width/this.height}get width(){return this.maxX-this.minX+1}get height(){return this.maxY-this.minY+1}_computExternalIDs(){let e=this.borderIDs,r=this.borderLengths;this.computed.externalIDs=[],this.computed.externalLengths=[];let xe=this.internalIDs;for(let Se=0;Se<e.length;Se++)xe.includes(e[Se])||(this.computed.externalIDs.push(e[Se]),this.computed.externalLengths.push(r[Se]))}get externalIDs(){return this.computed.externalIDs?this.computed.externalIDs:(this._computExternalIDs(),this.computed.externalIDs)}get externalLengths(){return this.computed.externalLengths?this.computed.externalLengths:(this._computExternalIDs(),this.computed.externalLengths)}_computeBorderIDs(){let e=getBorders(this);this.computed.borderIDs=e.ids,this.computed.borderLengths=e.lengths}get borderIDs(){return this.computed.borderIDs?this.computed.borderIDs:(this._computeBorderIDs(),this.computed.borderIDs)}get borderLengths(){return this.computed.borderLengths?this.computed.borderLengths:(this._computeBorderIDs(),this.computed.borderLengths)}get boxIDs(){return this.computed.boxIDs||(this.computed.boxIDs=getBoxIDs(this)),this.computed.boxIDs}get internalIDs(){return this.computed.internalIDs||(this.computed.internalIDs=getInternalIDs(this)),this.computed.internalIDs}get box(){return this.computed.box||(this.computed.box=getBox(this)),this.computed.box}get external(){return this.computed.external||(this.computed.external=getExternal(this)),this.computed.external}get holesInfo(){return this.computed.holesInfo||(this.computed.holesInfo=getHolesInfo(this)),this.computed.holesInfo}get border(){return this.computed.border||(this.computed.border=getBorder(this)),this.computed.border}get contourMask(){if(!this.computed.contourMask){let e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let r=0;r<this.width;r++)for(let xe=0;xe<this.height;xe++)this.map.data[r+this.minX+(xe+this.minY)*this.map.width]===this.id&&(r>0&&r<this.width-1&&xe>0&&xe<this.height-1?(this.map.data[r-1+this.minX+(xe+this.minY)*this.map.width]!==this.id||this.map.data[r+1+this.minX+(xe+this.minY)*this.map.width]!==this.id||this.map.data[r+this.minX+(xe-1+this.minY)*this.map.width]!==this.id||this.map.data[r+this.minX+(xe+1+this.minY)*this.map.width]!==this.id)&&e.setBitXY(r,xe):e.setBitXY(r,xe));this.computed.contourMask=e}return this.computed.contourMask}get boxMask(){if(!this.computed.boxMask){let e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let r=0;r<this.width;r++)e.setBitXY(r,0),e.setBitXY(r,this.height-1);for(let r=0;r<this.height;r++)e.setBitXY(0,r),e.setBitXY(this.width-1,r);this.computed.boxMask=e}return this.computed.boxMask}get mask(){if(!this.computed.mask){let e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let r=0;r<this.width;r++)for(let xe=0;xe<this.height;xe++)this.map.data[r+this.minX+(xe+this.minY)*this.map.width]===this.id&&e.setBitXY(r,xe);this.computed.mask=e}return this.computed.mask}get filledMask(){if(!this.computed.filledMask){let e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let r=0;r<this.width;r++)for(let xe=0;xe<this.height;xe++){let Se=r+this.minX+(xe+this.minY)*this.map.width;this.internalIDs.includes(this.map.data[Se])&&e.setBitXY(r,xe)}this.computed.filledMask=e}return this.computed.filledMask}get centerMask(){if(!this.computed.centerMask){let e=new Shape({kind:"smallCross"}).getMask();e.parent=this.map.parent,e.position=[this.minX+this.center[0]-1,this.minY+this.center[1]-1],this.computed.centerMask=e}return this.computed.centerMask}get convexHull(){if(!this.computed.convexHull){const e=[];for(let xe=0;xe<this.width;xe++)for(let Se=0;Se<this.height;Se++)this.map.data[xe+this.minX+(Se+this.minY)*this.map.width]===this.id&&(xe>0&&xe<this.width-1&&Se>0&&Se<this.height-1?(this.map.data[xe-1+this.minX+(Se+this.minY)*this.map.width]!==this.id||this.map.data[xe+1+this.minX+(Se+this.minY)*this.map.width]!==this.id||this.map.data[xe+this.minX+(Se-1+this.minY)*this.map.width]!==this.id||this.map.data[xe+this.minX+(Se+1+this.minY)*this.map.width]!==this.id)&&(e.push([xe,Se]),e.push([xe+1,Se]),e.push([xe,Se+1]),e.push([xe+1,Se+1])):(e.push([xe,Se]),e.push([xe+1,Se]),e.push([xe,Se+1]),e.push([xe+1,Se+1])));const r=monotoneChainConvexHull$1(e);this.computed.convexHull={polyline:r,surface:surface(r),perimeter:perimeter(r)}}return this.computed.convexHull}get convexHullMask(){if(!this.computed.convexHullMask){const e=this.convexHull,r=new Image$1(this.width+1,this.height+1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});r.paintPolyline(e.polyline,{closed:!0}),this.computed.convexHullMask=r}return this.computed.convexHullMask}get convexHullFilledMask(){if(!this.computed.convexHullFilledMask){const e=this.convexHull,r=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let xe=0;xe<this.width;xe++)for(let Se=0;Se<this.height;Se++)robustPointInPolygon$1(e.polyline,[xe,Se])!==1&&r.setBitXY(xe,Se);this.computed.convexHullFilledMask=r}return this.computed.convexHullFilledMask}get mbr(){if(!this.computed.mbr){let e=minimalBoundingRectangle({originalPoints:this.convexHull.polyline});if(e.length===0)this.computed.mbr={width:0,height:0,surface:0,perimeter:0,rectangle:e};else{let r=e[0],xe=e[1],Se=e[2],_e=Math.sqrt((r[0]-xe[0])**2+(r[1]-xe[1])**2),Ae=Math.sqrt((Se[0]-xe[0])**2+(Se[1]-xe[1])**2);this.computed.mbr={width:_e,height:Ae,elongation:1-_e/Ae,aspectRatio:_e/Ae,surface:_e*Ae,perimeter:(_e+Ae)*2,rectangle:e}}}return this.computed.mbr}get fillRatio(){return this.surface/(this.surface+this.holesInfo.surface)}get feretDiameters(){return this.computed.feretDiameters||(this.computed.feretDiameters=feretDiameters({originalPoints:this.convexHull.polyline})),this.computed.feretDiameters}get eqpc(){return this.computed.eqpc||(this.computed.eqpc=2*Math.sqrt(this.surface/Math.PI)),this.computed.eqpc}get perimeterInfo(){return this.computed.perimeterInfo||(this.computed.perimeterInfo=getPerimeterInfo(this)),this.computed.perimeterInfo}get perimeter(){let e=this.perimeterInfo,r=2-Math.sqrt(2);return e.one+e.two*2+e.three*3+e.four*4-r*(e.two+e.three*2+e.four)}get ped(){return this.computed.ped||(this.computed.ped=this.perimeter/Math.PI),this.computed.ped}get feretMask(){if(!this.computed.feretMask){const e=new Image$1(this.width+1,this.height+1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});e.paintPolyline(this.feretDiameters.minLine),e.paintPolyline(this.feretDiameters.maxLine),this.computed.feretMask=e}return this.computed.feretMask}get mbrMask(){if(!this.computed.mbrMask){let e=round$1(this.mbr.rectangle);if(e.length>0){const r=minMax(e),xe=new Image$1(r[1][0]-r[0][0]+1,r[1][1]-r[0][1]+1,{kind:BINARY,position:[this.minX+r[0][0],this.minY+r[0][1]],parent:this.map.parent});e=moveToZeroZero(e),xe.paintPolyline(e,{closed:!0}),this.computed.mbrMask=xe}else this.computed.mbrMask=new Image$1(1,1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent})}return this.computed.mbrMask}get mbrFilledMask(){if(!this.computed.mbrFilledMask){const e=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent}),r=this.mask.minimalBoundingRectangle();for(let xe=0;xe<this.width;xe++)for(let Se=0;Se<this.height;Se++)robustPointInPolygon$1(r,[xe,Se])!==1&&e.setBitXY(xe,Se);this.computed.mbrFilledMask=e}return this.computed.mbrFilledMask}get points(){if(!this.computed.points){let e=[];for(let r=0;r<this.height;r++)for(let xe=0;xe<this.width;xe++){let Se=(r+this.minY)*this.map.width+xe+this.minX;this.map.data[Se]===this.id&&e.push([xe,r])}this.computed.points=e}return this.computed.points}get maxLengthPoints(){if(!this.computed.maxLengthPoints){let e=0,r;const xe=this.points;for(let Se=0;Se<xe.length;Se++)for(let _e=Se+1;_e<xe.length;_e++){let Ae=Math.pow(xe[Se][0]-xe[_e][0],2)+Math.pow(xe[Se][1]-xe[_e][1],2);Ae>=e&&(e=Ae,r=[xe[Se],xe[_e]])}this.computed.maxLengthPoints=r}return this.computed.maxLengthPoints}get maxLength(){if(!this.computed.maxLength){let e=Math.sqrt(Math.pow(this.maxLengthPoints[0][0]-this.maxLengthPoints[1][0],2)+Math.pow(this.maxLengthPoints[0][1]-this.maxLengthPoints[1][1],2));this.computed.maxLength=e}return this.computed.maxLength}get roundness(){return 4*this.surface/(Math.PI*this.feretDiameters.max**2)}get sphericity(){return 2*Math.sqrt(this.surface*Math.PI)/this.perimeter}get solidity(){return this.surface/this.convexHull.surface}get angle(){if(!this.computed.angle){let e=this.maxLengthPoints,r=-Math.atan2(e[0][1]-e[1][1],e[0][0]-e[1][0])*180/Math.PI;this.computed.angle=r}return this.computed.angle}toJSON(){return{id:this.id,minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,meanX:this.meanX,meanY:this.meanY,height:this.height,width:this.width,surface:this.surface,mbrWidth:this.mbr.width,mbrHeight:this.mbr.height,mbrSurface:this.mbr.surface,eqpc:this.eqpc,ped:this.ped,feretDiameterMin:this.feretDiameters.min,feretDiameterMax:this.feretDiameters.max,aspectRatio:this.feretDiameters.aspectRatio,fillRatio:this.fillRatio,sphericity:this.sphericity,roundness:this.roundness,solidity:this.solidity,perimeter:this.perimeter}}}function getBorders(t){let e=t.map,r=e.data,xe=new Set,Se=new Map,_e=new Set,Ae=[1,0,-1,0],Ce=[0,1,0,-1];for(let Oe=t.minX;Oe<=t.maxX;Oe++)for(let Me=t.minY;Me<=t.maxY;Me++){let De=Oe+Me*e.width;if(r[De]===t.id)for(let Te=0;Te<4;Te++){let ke=Oe+Ae[Te],Fe=Me+Ce[Te];if(ke>=0&&Fe>=0&&ke<e.width&&Fe<e.height){let $e=ke+Fe*e.width;if(r[$e]!==t.id&&!_e.has($e)){_e.add($e),xe.add(r[$e]);let Be=Se.get(r[$e]);Be?Se.set(r[$e],++Be):Se.set(r[$e],1)}}}}let Pe=Array.from(xe),Ee=Pe.map(function(Oe){return Se.get(Oe)});return{ids:Pe,lengths:Ee}}function getBoxIDs(t){let e=new Set,r=t.map,xe=r.data;for(let Se of[0,t.height-1])for(let _e=0;_e<t.width;_e++){let Ae=(Se+t.minY)*r.width+_e+t.minX;if(_e-t.minX>0&&xe[Ae]===t.id&&xe[Ae-1]!==t.id){let Ce=xe[Ae-1];e.add(Ce)}if(r.width-_e-t.minX>1&&xe[Ae]===t.id&&xe[Ae+1]!==t.id){let Ce=xe[Ae+1];e.add(Ce)}}for(let Se of[0,t.width-1])for(let _e=0;_e<t.height;_e++){let Ae=(_e+t.minY)*r.width+Se+t.minX;if(_e-t.minY>0&&xe[Ae]===t.id&&xe[Ae-r.width]!==t.id){let Ce=xe[Ae-r.width];e.add(Ce)}if(r.height-_e-t.minY>1&&xe[Ae]===t.id&&xe[Ae+r.width]!==t.id){let Ce=xe[Ae+r.width];e.add(Ce)}}return Array.from(e)}function getBox(t){let e=0,r=t.map,xe=r.data,Se=[0];t.height>1&&(Se[1]=t.height-1);for(let Ae of Se)for(let Ce=1;Ce<t.width-1;Ce++){let Pe=(Ae+t.minY)*r.width+Ce+t.minX;xe[Pe]===t.id&&e++}let _e=[0];t.width>1&&(_e[1]=t.width-1);for(let Ae of _e)for(let Ce=0;Ce<t.height;Ce++){let Pe=(Ce+t.minY)*r.width+Ae+t.minX;xe[Pe]===t.id&&e++}return e}function getBorder(t){let e=0,r=t.map,xe=r.data;for(let Se=1;Se<t.width-1;Se++)for(let _e=1;_e<t.height-1;_e++){let Ae=(_e+t.minY)*r.width+Se+t.minX;xe[Ae]===t.id&&(xe[Ae-1]!==t.id||xe[Ae+1]!==t.id||xe[Ae-r.width]!==t.id||xe[Ae+r.width]!==t.id)&&e++}return e+t.box}function getPerimeterInfo(t){let e=t.map,r=e.data,xe=0,Se=0,_e=0,Ae=0;for(let Ce=0;Ce<t.width;Ce++)for(let Pe=0;Pe<t.height;Pe++){let Ee=(Pe+t.minY)*e.width+Ce+t.minX;if(r[Ee]===t.id){let Oe=0;switch((Ce===0||t.externalIDs.includes(r[Ee-1]))&&Oe++,(Ce===t.width-1||t.externalIDs.includes(r[Ee+1]))&&Oe++,(Pe===0||t.externalIDs.includes(r[Ee-e.width]))&&Oe++,(Pe===t.height-1||t.externalIDs.includes(r[Ee+e.width]))&&Oe++,Oe){case 1:xe++;break;case 2:Se++;break;case 3:_e++;break;case 4:Ae++;break}}}return{one:xe,two:Se,three:_e,four:Ae}}function getExternal(t){let e=0,r=t.map,xe=r.data;for(let Se=1;Se<t.width-1;Se++)for(let _e=1;_e<t.height-1;_e++){let Ae=(_e+t.minY)*r.width+Se+t.minX;xe[Ae]===t.id&&(t.externalIDs.includes(xe[Ae-1])||t.externalIDs.includes(xe[Ae+1])||t.externalIDs.includes(xe[Ae-r.width])||t.externalIDs.includes(xe[Ae+r.width]))&&e++}return e+t.box}function getHolesInfo(t){let e=0,r=t.map.width,xe=t.map.data;for(let Se=1;Se<t.width-1;Se++)for(let _e=1;_e<t.height-1;_e++){let Ae=(_e+t.minY)*r+Se+t.minX;t.internalIDs.includes(xe[Ae])&&xe[Ae]!==t.id&&e++}return{number:t.internalIDs.length-1,surface:e}}function getInternalIDs(t){let e=[t.id],r=t.map,xe=r.data;if(t.height>2)for(let _e=0;_e<t.width;_e++){let Ae=t.minY*r.width+_e+t.minX;if(e.includes(xe[Ae])){let Ce=xe[Ae+r.width];!e.includes(Ce)&&!t.boxIDs.includes(Ce)&&e.push(Ce)}}let Se=new Array(4);for(let _e=1;_e<t.width-1;_e++)for(let Ae=1;Ae<t.height-1;Ae++){let Ce=(Ae+t.minY)*r.width+_e+t.minX;if(e.includes(xe[Ce])){Se[0]=xe[Ce-1],Se[1]=xe[Ce+1],Se[2]=xe[Ce-r.width],Se[3]=xe[Ce+r.width];for(let Pe=0;Pe<4;Pe++){let Ee=Se[Pe];!e.includes(Ee)&&!t.boxIDs.includes(Ee)&&e.push(Ee)}}}return e}class RoiLayer{constructor(e,r){this.roiMap=e,this.options=r,this.roi=this.createRoi()}createRoi(){let e=this.roiMap.data,r={};this.roiMap.positive=0,this.roiMap.negative=0;for(let Ce=0;Ce<e.length;Ce++)e[Ce]&&!r[e[Ce]]&&(r[e[Ce]]=!0,e[Ce]>0?this.roiMap.positive++:this.roiMap.negative++);let xe={};for(let Ce in r)xe[Ce]=new Roi(this.roiMap,Ce*1);let Se=this.roiMap.width,_e=this.roiMap.height;for(let Ce=0;Ce<_e;Ce++)for(let Pe=0;Pe<Se;Pe++){let Ee=Ce*Se+Pe;if(e[Ee]!==0){const Oe=e[Ee],Me=xe[Oe];Pe<Me.minX&&(Me.minX=Pe),Pe>Me.maxX&&(Me.maxX=Pe),Ce<Me.minY&&(Me.minY=Ce),Ce>Me.maxY&&(Me.maxY=Ce),Me.meanX+=Pe,Me.meanY+=Ce,Me.surface++}}let Ae=[];for(let Ce in r)xe[Ce].meanX/=xe[Ce].surface,xe[Ce].meanY/=xe[Ce].surface,Ae.push(xe[Ce]);return Ae}}function commonBorderLength(t){let e=t.data,r=[1,0,-1,0],xe=[0,1,0,-1],Se=t.minMax,_e=-Se.min,Ae=Se.max+_e,Ce=[];for(let Ee=0;Ee<=Ae;Ee++)Ce.push(Object.create(null));for(let Ee=0;Ee<t.width;Ee++)for(let Oe=0;Oe<t.height;Oe++){let Me=Ee+Oe*t.width,De=e[Me];if(De!==0){let Te=Object.create(null),ke=!1;for(let Fe=0;Fe<4;Fe++){let $e=Ee+r[Fe],Be=Oe+xe[Fe];if($e>=0&&Be>=0&&$e<t.width&&Be<t.height){let Ie=e[$e+Be*t.width];De!==Ie&&(ke=!0,Ie!==0&&Te[Ie]===void 0&&(Te[Ie]=!0,Ce[Ie+_e][De]?Ce[Ie+_e][De]++:Ce[Ie+_e][De]=1))}else ke=!0}ke&&(Ce[De+_e][De]?Ce[De+_e][De]++:Ce[De+_e][De]=1)}}let Pe={};for(let Ee=0;Ee<Ce.length;Ee++)Object.keys(Ce[Ee]).length>0&&(Pe[Ee-_e]=Ce[Ee]);return Pe}function mergeRoi(t={}){const{algorithm:e="commonBorderLength",minCommonBorderLength:r=5,maxCommonBorderLength:xe=100,minCommonBorderRatio:Se=.3,maxCommonBorderRatio:_e=1}=t;let Ae=function($e,Be,Ie){return $e[Ie]>=r&&$e[Ie]<=xe};typeof e=="function"&&(Ae=e),e.toLowerCase()==="commonborderratio"&&(Ae=function($e,Be,Ie){let Re=Math.min($e[Ie]/$e[Be],1);return Re>=Se&&Re<=_e});const Ce=this,Pe=Ce.commonBorderLength;let Ee={},Oe={};for(let $e of Object.keys(Pe)){let Be=Pe[$e],Ie=Object.keys(Be);for(let Re of Ie)if(Re!==$e&&Ae(Be,$e,Re)){let je=Re;Oe[Re]&&(je=Oe[Re]);let Ve=$e;if(Oe[$e]&&(Ve=Oe[$e]),Number(je)!==Ve){let He=Math.min(je,Ve),ze=Math.max(je,Ve);if(Ee[He]||(Ee[He]={}),Ee[He][ze]=!0,Oe[ze]=He,Ee[ze]){for(let Ue of Object.keys(Ee[ze]))Ee[He][Ue]=!0,Oe[Ue]=He;delete Ee[ze]}}}}let Me=Ce.minMax,De=-Me.min,Te=Me.max+De,ke=new Array(Te+1).fill(0);for(let $e of Object.keys(Oe))ke[Number($e)+De]=Oe[$e];let Fe=Ce.data;for(let $e=0;$e<Fe.length;$e++){let Be=Fe[$e];if(Be!==0){let Ie=ke[Be+De];Ie!==0&&(Fe[$e]=Ie)}}return Ce.computed={},Ce}class RoiMap{constructor(e,r){this.parent=e,this.width=e.width,this.height=e.height,this.data=r,this.negative=0,this.positive=0}get total(){return this.negative+this.positive}get minMax(){let e=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;for(let xe=0;xe<this.data.length;xe++)this.data[xe]<e&&(e=this.data[xe]),this.data[xe]>r&&(r=this.data[xe]);return{min:e,max:r}}get commonBorderLength(){return commonBorderLength(this)}mergeRoi(e={}){return mergeRoi.call(this,e)}mergeRois(e){const r=e[0],xe=e.slice(1);for(let Se=0;Se<this.data.length;Se++)xe.includes(this.data[Se])&&(this.data[Se]=r)}rowsInfo(){let e=new Array(this.height),r=0;for(let xe=0;xe<this.data.length;xe+=this.width){let Se={row:r,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};e[r++]=Se;let _e={},Ae={},Ce=[],Pe=this.data[xe],Ee=0;for(let Oe=xe;Oe<xe+this.width;Oe++){let Me=this.data[Oe];Pe!==Me&&(Pe=Me,Ce.push(Ee),Ee=0),Ee++,Me>0?(Se.positivePixel++,_e[Me]||(_e[Me]=!0)):Me<0?(Se.negativePixel++,Ae[Me]||(Ae[Me]=!0)):Se.zeroPixel++}Ce.push(Ee),Se.medianChange=Ce.sort((Oe,Me)=>Oe-Me)[Math.floor(Ce.length/2)],Se.positiveRoiIDs=Object.keys(_e),Se.negativeRoiIDs=Object.keys(Ae),Se.positiveRoi=Se.positiveRoiIDs.length,Se.negativeRoi=Se.negativeRoiIDs.length}return e}colsInfo(){let e=new Array(this.width),r=0;for(let xe=0;xe<this.width;xe++){let Se={col:r,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};e[r++]=Se;let _e={},Ae={},Ce=[],Pe=this.data[xe],Ee=0;for(let Oe=xe;Oe<xe+this.data.length;Oe+=this.width){let Me=this.data[Oe];Pe!==Me&&(Pe=Me,Ce.push(Ee),Ee=0),Ee++,Me>0?(Se.positivePixel++,_e[Me]||(_e[Me]=!0)):Me<0?(Se.negativePixel++,Ae[Me]||(Ae[Me]=!0)):Se.zeroPixel++}Ce.push(Ee),Se.medianChange=Ce.sort((Oe,Me)=>Oe-Me)[Math.floor(Ce.length/2)],Se.positiveRoiIDs=Object.keys(_e),Se.negativeRoiIDs=Object.keys(Ae),Se.positiveRoi=Se.positiveRoiIDs.length,Se.negativeRoi=Se.negativeRoiIDs.length}return e}}function fromMask(t,e={}){const{allowCorners:r=!1}=e,xe=65535;let Se=new Int16Array(t.size),_e=0,Ae=0,Ce=new Uint16Array(xe+1),Pe=new Uint16Array(xe+1);for(let Oe=0;Oe<t.width;Oe++)for(let Me=0;Me<t.height;Me++)Se[Me*t.width+Oe]===0&&Ee(Oe,Me);function Ee(Oe,Me){let De=0,Te=0,ke=t.getBitXY(Oe,Me),Fe=ke?++_e:--Ae;if(_e>32767||Ae<-32768)throw new Error("Too many regions of interest");for(Ce[0]=Oe,Pe[0]=Me;De<=Te;){let $e=Ce[De&xe],Be=Pe[De&xe];if(Se[Be*t.width+$e]=Fe,$e>0&&Se[Be*t.width+$e-1]===0&&t.getBitXY($e-1,Be)===ke&&(Te++,Ce[Te&xe]=$e-1,Pe[Te&xe]=Be,Se[Be*t.width+$e-1]=-32768),Be>0&&Se[(Be-1)*t.width+$e]===0&&t.getBitXY($e,Be-1)===ke&&(Te++,Ce[Te&xe]=$e,Pe[Te&xe]=Be-1,Se[(Be-1)*t.width+$e]=-32768),$e<t.width-1&&Se[Be*t.width+$e+1]===0&&t.getBitXY($e+1,Be)===ke&&(Te++,Ce[Te&xe]=$e+1,Pe[Te&xe]=Be,Se[Be*t.width+$e+1]=-32768),Be<t.height-1&&Se[(Be+1)*t.width+$e]===0&&t.getBitXY($e,Be+1)===ke&&(Te++,Ce[Te&xe]=$e,Pe[Te&xe]=Be+1,Se[(Be+1)*t.width+$e]=-32768),r&&($e>0&&Be>0&&Se[(Be-1)*t.width+$e-1]===0&&t.getBitXY($e-1,Be-1)===ke&&(Te++,Ce[Te&xe]=$e-1,Pe[Te&xe]=Be-1,Se[(Be-1)*t.width+$e-1]=-32768),$e<t.width-1&&Be>0&&Se[(Be-1)*t.width+$e+1]===0&&t.getBitXY($e+1,Be-1)===ke&&(Te++,Ce[Te&xe]=$e+1,Pe[Te&xe]=Be-1,Se[(Be-1)*t.width+$e+1]=-32768),$e>0&&Be<t.height-1&&Se[(Be+1)*t.width+$e-1]===0&&t.getBitXY($e-1,Be+1)===ke&&(Te++,Ce[Te&xe]=$e-1,Pe[Te&xe]=Be+1,Se[(Be+1)*t.width+$e-1]=-32768),$e<t.width-1&&Be<t.height-1&&Se[(Be+1)*t.width+$e+1]===0&&t.getBitXY($e+1,Be+1)===ke&&(Te++,Ce[Te&xe]=$e+1,Pe[Te&xe]=Be+1,Se[(Be+1)*t.width+$e+1]=-32768)),De++,Te-De>xe)throw new Error("analyseMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new RoiMap(t,Se)}class DisjointSet{constructor(){this.nodes=new Map}add(e){var r=this.nodes.get(e);return r||(r=new DisjointSetNode(e),this.nodes.set(e,r)),r}union(e,r){const xe=this.find(e),Se=this.find(r);xe!==Se&&(xe.rank<Se.rank?xe.parent=Se:xe.rank>Se.rank?Se.parent=xe:(Se.parent=xe,xe.rank++))}find(e){for(var r=e;r.parent!==null;)r=r.parent;for(var xe=e;xe.parent!==null;){var Se=xe;xe=xe.parent,Se.parent=r}return r}connected(e,r){return this.find(e)===this.find(r)}}var DisjointSet_1=DisjointSet;function DisjointSetNode(t){this.value=t,this.parent=null,this.rank=0}const DisjointSet$1=getDefaultExportFromCjs$1(DisjointSet_1),direction4X=[-1,0],direction4Y=[0,-1],neighbours4=[null,null],direction8X=[-1,-1,0,1],direction8Y=[0,-1,-1,-1],neighbours8=[null,null,null,null];function fromMaskConnectedComponentLabelingAlgorithm(t,e={}){const{allowCorners:r=!1}=e;let xe=4;r&&(xe=8);let Se,_e,Ae;if(xe===8)Se=direction8X,_e=direction8Y,Ae=neighbours8;else if(xe===4)Se=direction4X,_e=direction4Y,Ae=neighbours4;else throw new RangeError(`unsupported neighbours count: ${xe}`);const Ce=t.size,Pe=t.width,Ee=t.height,Oe=new Array(Ce),Me=new Uint32Array(Ce),De=new DisjointSet$1;let Te=1;for(let ke=0;ke<Ee;ke++)for(let Fe=0;Fe<Pe;Fe++){const $e=Fe+ke*Pe;if(t.getBit($e)){let Be=null;for(let Ie=0;Ie<Ae.length;Ie++){const Re=Fe+Se[Ie],je=ke+_e[Ie];if(Re>=0&&je>=0&&Re<Pe&&je<Ee){const Ve=Re+je*Pe;let He=Oe[Ve];He?(Ae[Ie]=He,(!Be||Ae[Ie].value<Be.value)&&(Be=Ae[Ie])):Ae[Ie]=null}}if(!Be)Oe[$e]=De.add(Te++);else{Oe[$e]=Be;for(let Ie=0;Ie<Ae.length;Ie++)Ae[Ie]&&Ae[Ie]!==Be&&De.union(Be,Ae[Ie])}}}for(let ke=0;ke<Ee;ke++)for(let Fe=0;Fe<Pe;Fe++){const $e=Fe+ke*Pe;t.getBit($e)&&(Me[$e]=De.find(Oe[$e]).value)}return new RoiMap(t,Me)}function fromMaxima(t={}){let{allowCorner:e=!0,onlyTop:r=!1,invert:xe=!1}=t,Se=this;Se.checkProcessable("fromMaxima",{components:[1]});const _e=1,Ae=2;let Ce=0,Pe=0,Ee=new Int16Array(Se.size),Oe=new Int8Array(Se.size),Me=new Float32Array(Se.size),De=1048575,Te=new Uint16Array(De+1),ke=new Uint16Array(De+1),Fe=0,$e=0,Be=new Uint16Array(De+1),Ie=new Uint16Array(De+1),Re=0,je=0;for(Ve(Se);Fe<$e;){let Ue=Te[Fe&De],We=ke[Fe&De];ze(Ue,We,Ae),Fe++}return new RoiMap(Se,Ee);function Ve({maxima:Ue=!0}){for(let We=1;We<Se.height-1;We++)for(let qe=1;qe<Se.width-1;qe++){let Ge=qe+We*Se.width;if(Oe[Ge]===0){let Ye=Ue?Se.data[Ge]:-Se.data[qe+We*Se.width];if(Se.data[We*Se.width+qe-1]>Ye||Se.data[We*Se.width+qe+1]>Ye||Se.data[(We-1)*Se.width+qe]>Ye||Se.data[(We+1)*Se.width+qe]>Ye||e&&(Se.data[(We-1)*Se.width+qe-1]>Ye||Se.data[(We-1)*Se.width+qe+1]>Ye||Se.data[(We+1)*Se.width+qe-1]>Ye||Se.data[(We+1)*Se.width+qe+1]>Ye))continue;Ee[Ge]=Ue?++Ce:--Pe,He(qe,We)||(Ue?--Ce:++Pe)}}}function He(Ue,We){let qe=$e;Re=0,je=1,Be[0]=Ue,Ie[0]=We;let Ge=!0;for(;Re<je;){let Ye=Be[Re&De],Qe=Ie[Re&De];Ge&=ze(Ye,Qe,_e),Re++}if(!Ge){for(let Ye=0;Ye<je;Ye++){let Qe=Be[Ye&De],ri=Ie[Ye&De]*Se.width+Qe;Ee[ri]=0}$e=qe}return Ge}function ze(Ue,We,qe){let Ge=Ee[We*Se.width+Ue],Ye=Se.data[We*Se.width+Ue];for(let Qe=We-1;Qe<=We+1;Qe++)for(let Je=Ue-1;Je<=Ue+1;Je++){let ri=Qe*Se.width+Je;if(Oe[ri]===0)switch(Oe[ri]=1,Me[ri]=Se.data[ri]-Ye,qe){case _e:if(Me[ri]===0){if(Je===0||Qe===0||Je===Se.width-1||Qe===Se.height-1)return!1;Ee[ri]=Ge,Be[je&De]=Je,Ie[je&De]=Qe,je++}else{if(Me[ri]>0)return!1;r||(Ee[ri]=Ge,Te[$e&De]=Je,ke[$e&De]=Qe,$e++)}break;case Ae:Me[ri]<=0&&(Ee[ri]=Ge,Te[$e&De]=Je,ke[$e&De]=Qe,$e++);break;default:throw new Error("unreachable")}}return!0}}function fromPoints(t,e={}){let r=new Shape(e),xe=new Int16Array(this.size),Se=0,_e=r.getPoints();for(let Ae=0;Ae<t.length;Ae++){Se++;let Ce=t[Ae][0],Pe=t[Ae][1];for(let Ee=0;Ee<_e.length;Ee++){let Oe=_e[Ee][0],Me=_e[Ee][1];Ce+Oe>=0&&Pe+Me>=0&&Ce+Oe<this.width&&Pe+Me<this.height&&(xe[Ce+Oe+(Pe+Me)*this.width]=Se)}}return new RoiMap(this,xe)}function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var priorityQueue={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(){return function r(xe,Se,_e){function Ae(Ee,Oe){if(!Se[Ee]){if(!xe[Ee]){var Me=typeof commonjsRequire=="function"&&commonjsRequire;if(!Oe&&Me)return Me(Ee,!0);if(Ce)return Ce(Ee,!0);var De=new Error("Cannot find module '"+Ee+"'");throw De.code="MODULE_NOT_FOUND",De}var Te=Se[Ee]={exports:{}};xe[Ee][0].call(Te.exports,function(ke){var Fe=xe[Ee][1][ke];return Ae(Fe||ke)},Te,Te.exports,r,xe,Se,_e)}return Se[Ee].exports}for(var Ce=typeof commonjsRequire=="function"&&commonjsRequire,Pe=0;Pe<_e.length;Pe++)Ae(_e[Pe]);return Ae}({1:[function(r,xe,Se){var _e,Ae,Ce,Pe,Ee,Oe=function(De,Te){for(var ke in Te)Me.call(Te,ke)&&(De[ke]=Te[ke]);function Fe(){this.constructor=De}return Fe.prototype=Te.prototype,De.prototype=new Fe,De.__super__=Te.prototype,De},Me={}.hasOwnProperty;_e=r("./PriorityQueue/AbstractPriorityQueue"),Ae=r("./PriorityQueue/ArrayStrategy"),Pe=r("./PriorityQueue/BinaryHeapStrategy"),Ce=r("./PriorityQueue/BHeapStrategy"),Ee=function(De){Oe(Te,De);function Te(ke){ke||(ke={}),ke.strategy||(ke.strategy=Pe),ke.comparator||(ke.comparator=function(Fe,$e){return(Fe||0)-($e||0)}),Te.__super__.constructor.call(this,ke)}return Te}(_e),Ee.ArrayStrategy=Ae,Ee.BinaryHeapStrategy=Pe,Ee.BHeapStrategy=Ce,xe.exports=Ee},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(r,xe,Se){xe.exports=function(){function _e(Ae){var Ce;if((Ae!=null?Ae.strategy:void 0)==null)throw"Must pass options.strategy, a strategy";if((Ae!=null?Ae.comparator:void 0)==null)throw"Must pass options.comparator, a comparator";this.priv=new Ae.strategy(Ae),this.length=(Ae!=null&&(Ce=Ae.initialValues)!=null?Ce.length:void 0)||0}return _e.prototype.queue=function(Ae){this.length++,this.priv.queue(Ae)},_e.prototype.dequeue=function(Ae){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},_e.prototype.peek=function(Ae){if(!this.length)throw"Empty queue";return this.priv.peek()},_e.prototype.clear=function(){return this.length=0,this.priv.clear()},_e}()},{}],3:[function(r,xe,Se){var _e;_e=function(Ae,Ce,Pe){var Ee,Oe,Me;for(Oe=0,Ee=Ae.length;Oe<Ee;)Me=Oe+Ee>>>1,Pe(Ae[Me],Ce)>=0?Oe=Me+1:Ee=Me;return Oe},xe.exports=function(){function Ae(Ce){var Pe;this.options=Ce,this.comparator=this.options.comparator,this.data=((Pe=this.options.initialValues)!=null?Pe.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return Ae.prototype.queue=function(Ce){var Pe;Pe=_e(this.data,Ce,this.comparator),this.data.splice(Pe,0,Ce)},Ae.prototype.dequeue=function(){return this.data.pop()},Ae.prototype.peek=function(){return this.data[this.data.length-1]},Ae.prototype.clear=function(){this.data.length=0},Ae}()},{}],4:[function(r,xe,Se){xe.exports=function(){function _e(Ae){var Ce,Pe,Ee,Oe,Me,De,Te,ke;for(this.comparator=(Ae!=null?Ae.comparator:void 0)||function(Fe,$e){return Fe-$e},this.pageSize=(Ae!=null?Ae.pageSize:void 0)||512,this.length=0,Te=0;1<<Te<this.pageSize;)Te+=1;if(1<<Te!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=Te,this._emptyMemoryPageTemplate=Ce=[],Pe=0,Me=this.pageSize;0<=Me?Pe<Me:Pe>Me;0<=Me?++Pe:--Pe)Ce.push(null);if(this._memory=[],this._mask=this.pageSize-1,Ae.initialValues)for(De=Ae.initialValues,Ee=0,Oe=De.length;Ee<Oe;Ee++)ke=De[Ee],this.queue(ke)}return _e.prototype.queue=function(Ae){this.length+=1,this._write(this.length,Ae),this._bubbleUp(this.length,Ae)},_e.prototype.dequeue=function(){var Ae,Ce;return Ae=this._read(1),Ce=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,Ce),this._bubbleDown(1,Ce)),Ae},_e.prototype.peek=function(){return this._read(1)},_e.prototype.clear=function(){this.length=0,this._memory.length=0},_e.prototype._write=function(Ae,Ce){var Pe;for(Pe=Ae>>this._shift;Pe>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[Pe][Ae&this._mask]=Ce},_e.prototype._read=function(Ae){return this._memory[Ae>>this._shift][Ae&this._mask]},_e.prototype._bubbleUp=function(Ae,Ce){var Pe,Ee,Oe,Me;for(Pe=this.comparator;Ae>1&&(Ee=Ae&this._mask,Ae<this.pageSize||Ee>3?Oe=Ae&~this._mask|Ee>>1:Ee<2?(Oe=Ae-this.pageSize>>this._shift,Oe+=Oe&~(this._mask>>1),Oe|=this.pageSize>>1):Oe=Ae-2,Me=this._read(Oe),!(Pe(Me,Ce)<0));)this._write(Oe,Ce),this._write(Ae,Me),Ae=Oe},_e.prototype._bubbleDown=function(Ae,Ce){var Pe,Ee,Oe,Me,De;for(De=this.comparator;Ae<this.length;)if(Ae>this._mask&&!(Ae&this._mask-1)?Pe=Ee=Ae+2:Ae&this.pageSize>>1?(Pe=(Ae&~this._mask)>>1,Pe|=Ae&this._mask>>1,Pe=Pe+1<<this._shift,Ee=Pe+1):(Pe=Ae+(Ae&this._mask),Ee=Pe+1),Pe!==Ee&&Ee<=this.length)if(Oe=this._read(Pe),Me=this._read(Ee),De(Oe,Ce)<0&&De(Oe,Me)<=0)this._write(Pe,Ce),this._write(Ae,Oe),Ae=Pe;else if(De(Me,Ce)<0)this._write(Ee,Ce),this._write(Ae,Me),Ae=Ee;else break;else if(Pe<=this.length)if(Oe=this._read(Pe),De(Oe,Ce)<0)this._write(Pe,Ce),this._write(Ae,Oe),Ae=Pe;else break;else break},_e}()},{}],5:[function(r,xe,Se){xe.exports=function(){function _e(Ae){var Ce;this.comparator=(Ae!=null?Ae.comparator:void 0)||function(Pe,Ee){return Pe-Ee},this.length=0,this.data=((Ce=Ae.initialValues)!=null?Ce.slice(0):void 0)||[],this._heapify()}return _e.prototype._heapify=function(){var Ae,Ce,Pe;if(this.data.length>0)for(Ae=Ce=1,Pe=this.data.length;1<=Pe?Ce<Pe:Ce>Pe;Ae=1<=Pe?++Ce:--Ce)this._bubbleUp(Ae)},_e.prototype.queue=function(Ae){this.data.push(Ae),this._bubbleUp(this.data.length-1)},_e.prototype.dequeue=function(){var Ae,Ce;return Ce=this.data[0],Ae=this.data.pop(),this.data.length>0&&(this.data[0]=Ae,this._bubbleDown(0)),Ce},_e.prototype.peek=function(){return this.data[0]},_e.prototype.clear=function(){this.length=0,this.data.length=0},_e.prototype._bubbleUp=function(Ae){for(var Ce,Pe;Ae>0&&(Ce=Ae-1>>>1,this.comparator(this.data[Ae],this.data[Ce])<0);)Pe=this.data[Ce],this.data[Ce]=this.data[Ae],this.data[Ae]=Pe,Ae=Ce},_e.prototype._bubbleDown=function(Ae){var Ce,Pe,Ee,Oe,Me;for(Ce=this.data.length-1;Pe=(Ae<<1)+1,Oe=Pe+1,Ee=Ae,Pe<=Ce&&this.comparator(this.data[Pe],this.data[Ee])<0&&(Ee=Pe),Oe<=Ce&&this.comparator(this.data[Oe],this.data[Ee])<0&&(Ee=Oe),Ee!==Ae;)Me=this.data[Ee],this.data[Ee]=this.data[Ae],this.data[Ae]=Me,Ae=Ee},_e}()},{}]},{},[1])(1)})})(priorityQueue);var priorityQueueExports=priorityQueue.exports;const PriorityQueue=getDefaultExportFromCjs$1(priorityQueueExports),dxs=[1,0,-1,0,1,1,-1,-1],dys=[0,1,0,-1,1,-1,1,-1];function fromWaterShed(t={}){let{points:e,mask:r,image:xe,fillMaxValue:Se=this.maxValue,invert:_e=!1}=t,Ae=xe||this;Ae.checkProcessable("fromWaterShed",{bitDepth:[8,16],components:1}),_e=!_e,e||(e=Ae.getLocalMaxima({invert:_e,mask:r}));let Ce=_e?0:1,Pe=new Int16Array(Ae.size),Ee=Ae.width,Oe=Ae.height,Me=new PriorityQueue({comparator:(De,Te)=>De[2]-Te[2],strategy:PriorityQueue.BinaryHeapStrategy});for(let De=0;De<e.length;De++){let Te=e[De][0]+e[De][1]*Ee;Pe[Te]=De+1;let ke=Ae.data[Te];(_e&&ke<=Se||!_e&&ke>=Se)&&Me.queue([e[De][0],e[De][1],ke])}for(;Me.length>0;){let De=Me.dequeue(),Te=De[0]+De[1]*Ee;for(let ke=0;ke<4;ke++){let Fe=De[0]+dxs[ke],$e=De[1]+dys[ke];if(Fe>=0&&$e>=0&&Fe<Ee&&$e<Oe){let Be=Fe+$e*Ee;if(!r||r.getBit(Be)===Ce){let Ie=Ae.data[Be];(_e&&Ie<=Se||!_e&&Ie>=Se)&&Pe[Be]===0&&(Pe[Be]=Pe[Te],Me.queue([De[0]+dxs[ke],De[1]+dys[ke],Ie]))}}}}return new RoiMap(Ae,Pe)}class RoiManager{constructor(e,r={}){this._image=e,this._options=r,this._options.label||(this._options.label="default"),this._layers={},this._painted=null}fromMaxima(e={}){let r=Object.assign({},this._options,e),xe=fromMaxima.call(this._image,e);this._layers[r.label]=new RoiLayer(xe,r)}fromPoints(e,r={}){let xe=Object.assign({},this._options,r),Se=fromPoints.call(this._image,e,r);return this._layers[xe.label]=new RoiLayer(Se,xe),this}putMap(e,r={}){let xe=new RoiMap(this._image,e),Se=Object.assign({},this._options,r);return this._layers[Se.label]=new RoiLayer(xe,Se),this}fromWaterShed(e={}){let r=Object.assign({},this._options,e),xe=fromWaterShed.call(this._image,e);this._layers[r.label]=new RoiLayer(xe,r)}fromMask(e,r={}){let xe=Object.assign({},this._options,r),Se=fromMask.call(this._image,e,r);return this._layers[xe.label]=new RoiLayer(Se,xe),this}fromMaskConnectedComponentLabelingAlgorithm(e,r={}){let xe=Object.assign({},this._options,r),Se=fromMaskConnectedComponentLabelingAlgorithm.call(this._image,e,r);return this._layers[xe.label]=new RoiLayer(Se,xe),this}getMap(e={}){let r=Object.assign({},this._options,e);return this._assertLayerWithLabel(r.label),this._layers[r.label].roiMap}rowsInfo(e={}){return this.getMap(e).rowsInfo()}colsInfo(e={}){return this.getMap(e).rowsInfo()}getRoiIds(e={}){let r=this.getRois(e);if(r){let xe=new Array(r.length);for(let Se=0;Se<r.length;Se++)xe[Se]=r[Se].id;return xe}throw new Error("ROIs not found")}getRois(e={}){let{label:r=this._options.label,positive:xe=!0,negative:Se=!0,minSurface:_e=0,maxSurface:Ae=Number.POSITIVE_INFINITY,minWidth:Ce=0,maxWidth:Pe=Number.POSITIVE_INFINITY,minHeight:Ee=0,maxHeight:Oe=Number.POSITIVE_INFINITY,minRatio:Me=0,maxRatio:De=Number.POSITIVE_INFINITY}=e;if(!this._layers[r])throw new Error(`this Roi layer (${r}) does not exist`);const Te=this._layers[r].roi,ke=[];for(const Fe of Te)(Fe.id<0&&Se||Fe.id>0&&xe)&&Fe.surface>=_e&&Fe.surface<=Ae&&Fe.width>=Ce&&Fe.width<=Pe&&Fe.height>=Ee&&Fe.height<=Oe&&Fe.ratio>=Me&&Fe.ratio<=De&&ke.push(Fe);return ke}getRoi(e,r={}){const{label:xe=this._options.label}=r;if(!this._layers[xe])throw new Error(`this Roi layer (${xe}) does not exist`);const Se=this._layers[xe].roi.find(_e=>_e.id===e);if(!Se)throw new Error(`found no Roi with id ${e}`);return Se}getMasks(e={}){let r=this.getRois(e),xe=new Array(r.length);for(let Se=0;Se<r.length;Se++)xe[Se]=r[Se].getMask(e);return xe}getAnalysisMasks(e={}){const{analysisProperty:r}=e;let xe=`${r}Mask`,Se=this.getRois(e);return Se.length===0||!Se[0][xe]?[]:Se.map(_e=>_e[xe])}getData(e={}){let r=Object.assign({},this._options,e);return this._assertLayerWithLabel(r.label),this._layers[r.label].roiMap.data}paint(e={}){let{labelProperty:r,analysisProperty:xe}=e;this._painted||(this._painted=this._image.rgba8());let Se=this.getMasks(e);if(r){const _e=this.getRois(e);e.labels=_e.map(Ee=>deepValue(Ee,r));const Ae=Math.max(...e.labels);let Ce=!1,Pe=!1;if(r.includes("surface")?Ce=!0:/(?:perimeter|min|max|external|width|height|length)/.test(r)&&(Pe=!0),isFinite(Ae)){let Ee="";if(e.unit!=="pixel"&&e.pixelSize&&(Pe||Ce)){Ee=Ce?`${e.unit}^2`:e.unit;let Oe=Ce?"m^2":"m",Me=Ce?e.pixelSize**2:e.pixelSize;const De=Qty.swiftConverter(Oe,Ee);e.labels=e.labels.map(Te=>De(Me*Te))}Ae>50?e.labels=e.labels.map(Oe=>Math.round(Oe)+Ee):Ae>10?e.labels=e.labels.map(Oe=>Oe.toFixed(1)+Ee):e.labels=e.labels.map(Oe=>Oe.toFixed(2)+Ee)}e.labelsPosition=_e.map(Ee=>[Ee.meanX,Ee.meanY])}if(this._painted.paintMasks(Se,e),xe){let _e=this.getAnalysisMasks(e);this._painted.paintMasks(_e,{color:e.analysisColor,alpha:e.analysisAlpha})}return this._painted}getMask(e={}){let r=new Image$1(this._image.width,this._image.height,{kind:"BINARY"}),xe=this.getMasks(e);for(let Se=0;Se<xe.length;Se++){let _e=xe[Se];for(let Ae=0;Ae<_e.width;Ae++)for(let Ce=0;Ce<_e.height;Ce++)_e.getBitXY(Ae,Ce)&&r.setBitXY(Ae+_e.position[0],Ce+_e.position[1])}return r}resetPainted(e={}){const{image:r}=e;r?this._painted=this.image.rgba8():this._painted=this._image.rgba8()}mergeRoi(e={}){const r=this.getMap(e);return r.mergeRoi(e),this.putMap(r.data,e),this}mergeRois(e,r={}){if(!Array.isArray(e)||e.some(Se=>!Number.isInteger(Se)))throw new Error("Roi ids must be an array of integers");if(e.length<2)throw new Error("Roi ids must have at least two elements");if(new Set(e).size!==e.length)throw new Error("Roi ids must be all different");e.forEach(Se=>this.getRoi(Se));const xe=this.getMap(r);return xe.mergeRois(e),this.putMap(xe.data,r),this}findCorrespondingRoi(e,r={}){let xe=this.getRois(r),Se=[];for(let _e=0;_e<xe.length;_e++){let Ae=xe[_e],Ce=Ae.minX,Pe=Ae.minY,Ee=Ae.points,Oe=Math.sign(Ae.id),Me=correspondingRoisInformation(Ce,Pe,Ee,e,Oe);Se.push(Me)}return Se}_assertLayerWithLabel(e){if(!this._layers[e])throw new Error(`no layer with label ${e}`)}}function correspondingRoisInformation(t,e,r,xe,Se){let _e={id:[],surface:[],roiSurfaceCovered:[],same:0,opposite:0,total:0};for(let Ae=0;Ae<r.length;Ae++){let Ce=r[Ae],Pe=Ce[0],Ee=Ce[1],Oe=Pe+t+(Ee+e)*xe.width,Me=xe.data[Oe];(Me>0||Me<0)&&(_e.id.includes(Me)?_e.surface[_e.id.indexOf(Me)]+=1:(_e.id.push(Me),_e.surface.push(1)))}for(let Ae=0;Ae<_e.id.length;Ae++)Math.sign(_e.id[Ae])===Se?_e.same+=_e.surface[Ae]:_e.opposite+=_e.surface[Ae],_e.roiSurfaceCovered[Ae]=_e.surface[Ae]/r.length;return _e.total=_e.opposite+_e.same,_e}const objectToString=Object.prototype.toString;let Image$1=class La{constructor(e,r,xe,Se){if(arguments.length===1?(Se=e,{width:e,height:r,data:xe}=Se):xe&&!xe.length&&(Se=xe,{data:xe}=Se),e===void 0&&(e=1),r===void 0&&(r=1),Se===void 0&&(Se={}),typeof Se!="object"||Se===null)throw new TypeError("options must be an object");if(!Number.isInteger(e)||e<=0)throw new RangeError("width must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new RangeError("height must be a positive integer");const{kind:_e=RGBA}=Se;if(typeof _e!="string")throw new TypeError("kind must be a string");const Ae=getKind(_e),Ce=Object.assign({},Se);for(const Fe in Ae)Ce[Fe]===void 0&&(Ce[Fe]=Ae[Fe]);verifyKindDefinition(Ce);const{components:Pe,bitDepth:Ee,colorModel:Oe}=Ce,Me=Ce.alpha+0,De=e*r,Te=Pe+Me,ke=Ee===32?Number.MAX_VALUE:2**Ee-1;if(xe===void 0)xe=createPixelArray(De,Pe,Me,Te,Ee,ke);else{const Fe=getTheoreticalPixelArraySize(De,Te,Ee);if(xe.length!==Fe)throw new RangeError(`incorrect data size: ${xe.length}. Should be ${Fe}`)}this.width=e,this.height=r,this.data=xe,this.size=De,this.components=Pe,this.alpha=Me,this.bitDepth=Ee,this.maxValue=ke,this.colorModel=Oe,this.channels=Te,this.meta=Se.meta||{},Object.defineProperty(this,"parent",{enumerable:!1,writable:!0,configurable:!0,value:Se.parent||null}),this.position=Se.position||[0,0],this.computed=null,this.sizes=[this.width,this.height],this.multiplierX=this.channels,this.multiplierY=this.channels*this.width,this.isClamped=this.bitDepth<32,this.borderSizes=[0,0]}get[Symbol.toStringTag](){return"IJSImage"}static isImage(e){return objectToString.call(e)==="[object IJSImage]"}static fromCanvas(e){const xe=e.getContext("2d").getImageData(0,0,e.width,e.height);return new La(xe.width,xe.height,xe.data)}static createFrom(e,r){const xe=getImageParameters(e);return Object.assign(xe,{parent:e,position:[0,0]},r),new La(xe)}getRoiManager(e){return new RoiManager(this,e)}clone(){const e=this.data.slice();return new La(this.width,this.height,e,this)}apply(e){for(let r=0;r<this.height;r++)for(let xe=0;xe<this.width;xe++){let Se=(r*this.width+xe)*this.channels;e.call(this,Se)}}};setValueMethods(Image$1);setBitMethods(Image$1);setExportMethods(Image$1);Image$1.prototype.checkProcessable=checkProcessable;Image$1.prototype.getRGBAData=getRGBAData;Image$1.load=load;Image$1.extendMethod=extendMethod;Image$1.extendProperty=extendProperty;extend$1(Image$1);var workerTemplate$1={},worker$1=function(){self.window=self;function t(){this._listeners={}}t.prototype.on=function(r,xe){if(this._listeners[r])throw new RangeError("there is already a listener for "+r);if(typeof xe!="function")throw new TypeError("callback argument must be a function");this._listeners[r]=xe},t.prototype._send=function(r,xe,Se){Se===void 0?Se=[]:Array.isArray(Se)||(Se=[Se]),self.postMessage({id:r,data:xe},Se)},t.prototype._trigger=function(r,xe){if(!this._listeners[r])throw new Error("event "+r+" is not defined");this._listeners[r].apply(null,xe)};var e=new t;self.onmessage=function(r){switch(r.data.action){case"exec":r.data.args.unshift(function(xe,Se){e._send(r.data.id,xe,Se)}),e._trigger(r.data.event,r.data.args);break;case"ping":e._send(r.data.id,"pong");break;default:throw new Error("unexpected action: "+r.data.action)}}},workerStr=worker$1.toString().split('"CODE";');workerTemplate$1.newWorkerURL=function t(e,r){var xe=new Blob(["(",workerStr[0],"importScripts.apply(self, "+JSON.stringify(r)+`);
`,"(",e,")();",workerStr[1],")();"],{type:"application/javascript"});return URL.createObjectURL(xe)};var workerTemplate=workerTemplate$1,CORES=navigator.hardwareConcurrency||1;function WorkerManager(t,e){if(typeof t!="string"&&typeof t!="function")throw new TypeError("func argument must be a function");if(e===void 0&&(e={}),typeof e!="object"||e===null)throw new TypeError("options argument must be an object");this._workerCode=t.toString(),e.maxWorkers===void 0||e.maxWorkers==="auto"?this._numWorkers=Math.min(CORES-1,1):e.maxWorkers>0?this._numWorkers=Math.min(e.maxWorkers,CORES):this._numWorkers=CORES,this._workers=new Map,this._timeout=e.timeout||0,this._terminateOnError=!!e.terminateOnError;var r=e.deps;typeof r=="string"&&(r=[r]),Array.isArray(r)||(r=void 0),this._id=0,this._terminated=!1,this._working=0,this._waiting=[],this._init(r)}WorkerManager.prototype._init=function(t){for(var e=workerTemplate.newWorkerURL(this._workerCode,t),r=0;r<this._numWorkers;r++){var xe=new Worker(e);xe.onmessage=this._onmessage.bind(this,xe),xe.onerror=this._onerror.bind(this,xe),xe.running=!1,xe.id=r,this._workers.set(xe,null)}URL.revokeObjectURL(e)};WorkerManager.prototype._onerror=function(t,e){if(!this._terminated){this._working--,t.running=!1;var r=this._workers.get(t);r&&r[1](e.message),this._workers.set(t,null),this._terminateOnError?this.terminate():this._exec()}};WorkerManager.prototype._onmessage=function(t,e){if(!this._terminated){this._working--,t.running=!1;var r=this._workers.get(t);r&&r[0](e.data.data),this._workers.set(t,null),this._exec()}};WorkerManager.prototype._exec=function(){for(var t of this._workers.keys()){if(this._working===this._numWorkers||this._waiting.length===0)return;if(!t.running)for(var e=0;e<this._waiting.length;e++){var r=this._waiting[e];if(!(typeof r[4]=="number"&&r[4]!==t.id)){this._waiting.splice(e,1),t.postMessage({action:"exec",event:r[0],args:r[1]},r[2]),t.running=!0,t.time=Date.now(),this._workers.set(t,r[3]),this._working++;break}}}};WorkerManager.prototype.terminate=function(){if(!this._terminated){for(var t of this._workers)t[0].terminate(),t[1]&&t[1][1](new Error("Terminated"));this._workers.clear(),this._waiting=[],this._working=0,this._terminated=!0}};WorkerManager.prototype.postAll=function(t,e){if(this._terminated)throw new Error("Cannot post (terminated)");var r=[];for(var xe of this._workers.keys())r.push(this.post(t,e,[],xe.id));return Promise.all(r)};WorkerManager.prototype.post=function(t,e,r,xe){e===void 0&&(e=[]),r===void 0&&(r=[]),Array.isArray(e)||(e=[e]),Array.isArray(r)||(r=[r]);var Se=this;return new Promise(function(_e,Ae){if(Se._terminated)throw new Error("Cannot post (terminated)");Se._waiting.push([t,e,r,[_e,Ae],xe]),Se._exec()})};var src=WorkerManager;const WorkerManager$1=getDefaultExportFromCjs$1(src),defaultOptions$1={regression:{kernelType:"polynomial",kernelOptions:{degree:2,constant:1}},threshold:.02,roi:{minSurface:100,positive:!1},sampling:20,include:[]};function run(t,e,r){e=Object.assign({},defaultOptions$1,e);const xe=this.manager;return Array.isArray(t)?Promise.all(t.map(function(Se){const _e=runOnce(xe,Se,e);return typeof r=="function"&&_e.then(r),_e})):runOnce(xe,t,e)}function runOnce(t,e,r){return t.post("data",[e,r]).then(function(xe){for(let Se in xe)xe[Se]=new Image$1(xe[Se]);return xe})}function work(){worker.on("data",function(t,e,r){e=new IJS(e);const xe={},Se=[],_e=e.grey(),Ae=_e.sobelFilter();Te("sobel",Ae);const Ce=Ae.level().mask({threshold:r.threshold});Te("mask",Ce);const Pe=Ae.getRoiManager();Pe.fromMask(Ce);const Ee=Pe.getMask(r.roi);Te("realMask",Ee);const Oe=_e.getPixelsGrid({sampling:r.sampling,mask:Ee}),Me=e.getBackground(Oe.xyS,Oe.zS,r.regression);Te("background",Me);const De=e.subtract(Me);xe.result=De,Se.push(De.data.buffer),t(xe,Se);function Te(ke,Fe){r.include.includes(ke)&&(xe[ke]=Fe,Se.push(Fe.data.buffer))}})}const background={run,work};function extend(t){t.extendMethod("background",background)}let Worker$1=class Su{constructor(){this._url=null,this._deps=[null]}checkUrl(){if(this._url===null)throw new Error("image worker must be initialized with an URL")}get url(){return this._url}set url(e){if(typeof e!="string")throw new TypeError("worker URL must be a string");this._url=e,this._deps[0]=e}static extendMethod(e,r){let xe,Se,_e={};function Ae(...Ce){return xe||(this.checkUrl(),Se=this.url,xe=new WorkerManager$1(r.work,{deps:Se}),_e.manager=xe),r.run.call(_e,...Ce)}Ae.reset=function(){xe&&(xe.terminate(),xe=new WorkerManager$1(r.work,{deps:Se}),_e.manager=xe)},Su.prototype[e]=Ae}};extend(Worker$1);var xmlbuilder2_min={exports:{}};(function(t,e){(function(r,xe){t.exports=xe()})(commonjsGlobal$1,function(){return function(r){var xe={};function Se(_e){if(xe[_e])return xe[_e].exports;var Ae=xe[_e]={i:_e,l:!1,exports:{}};return r[_e].call(Ae.exports,Ae,Ae.exports,Se),Ae.l=!0,Ae.exports}return Se.m=r,Se.c=xe,Se.d=function(_e,Ae,Ce){Se.o(_e,Ae)||Object.defineProperty(_e,Ae,{enumerable:!0,get:Ce})},Se.r=function(_e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_e,"__esModule",{value:!0})},Se.t=function(_e,Ae){if(1&Ae&&(_e=Se(_e)),8&Ae||4&Ae&&typeof _e=="object"&&_e&&_e.__esModule)return _e;var Ce=Object.create(null);if(Se.r(Ce),Object.defineProperty(Ce,"default",{enumerable:!0,value:_e}),2&Ae&&typeof _e!="string")for(var Pe in _e)Se.d(Ce,Pe,(function(Ee){return _e[Ee]}).bind(null,Pe));return Ce},Se.n=function(_e){var Ae=_e&&_e.__esModule?function(){return _e.default}:function(){return _e};return Se.d(Ae,"a",Ae),Ae},Se.o=function(_e,Ae){return Object.prototype.hasOwnProperty.call(_e,Ae)},Se.p="",Se(Se.s=184)}([function(r,xe,Se){function _e(Ae){for(var Ce in Ae)xe.hasOwnProperty(Ce)||(xe[Ce]=Ae[Ce])}Object.defineProperty(xe,"__esModule",{value:!0}),_e(Se(240)),_e(Se(251)),_e(Se(175)),_e(Se(107)),_e(Se(29)),_e(Se(73)),_e(Se(106)),_e(Se(30)),_e(Se(252)),_e(Se(52)),_e(Se(97)),_e(Se(253)),_e(Se(37)),_e(Se(51)),_e(Se(173)),_e(Se(176)),_e(Se(172)),_e(Se(108)),_e(Se(254)),_e(Se(255)),_e(Se(256)),_e(Se(72)),_e(Se(177)),_e(Se(105)),_e(Se(17)),_e(Se(257)),_e(Se(12)),_e(Se(174))},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0}),function(_e){_e[_e.Before=0]="Before",_e[_e.Equal=1]="Equal",_e[_e.After=2]="After"}(xe.BoundaryPosition||(xe.BoundaryPosition={})),function(_e){_e[_e.None=0]="None",_e[_e.Capturing=1]="Capturing",_e[_e.AtTarget=2]="AtTarget",_e[_e.Bubbling=3]="Bubbling"}(xe.EventPhase||(xe.EventPhase={})),function(_e){_e[_e.Element=1]="Element",_e[_e.Attribute=2]="Attribute",_e[_e.Text=3]="Text",_e[_e.CData=4]="CData",_e[_e.EntityReference=5]="EntityReference",_e[_e.Entity=6]="Entity",_e[_e.ProcessingInstruction=7]="ProcessingInstruction",_e[_e.Comment=8]="Comment",_e[_e.Document=9]="Document",_e[_e.DocumentType=10]="DocumentType",_e[_e.DocumentFragment=11]="DocumentFragment",_e[_e.Notation=12]="Notation"}(xe.NodeType||(xe.NodeType={})),function(_e){_e[_e.Disconnected=1]="Disconnected",_e[_e.Preceding=2]="Preceding",_e[_e.Following=4]="Following",_e[_e.Contains=8]="Contains",_e[_e.ContainedBy=16]="ContainedBy",_e[_e.ImplementationSpecific=32]="ImplementationSpecific"}(xe.Position||(xe.Position={})),function(_e){_e[_e.Accept=1]="Accept",_e[_e.Reject=2]="Reject",_e[_e.Skip=3]="Skip"}(xe.FilterResult||(xe.FilterResult={})),function(_e){_e[_e.All=4294967295]="All",_e[_e.Element=1]="Element",_e[_e.Attribute=2]="Attribute",_e[_e.Text=4]="Text",_e[_e.CDataSection=8]="CDataSection",_e[_e.EntityReference=16]="EntityReference",_e[_e.Entity=32]="Entity",_e[_e.ProcessingInstruction=64]="ProcessingInstruction",_e[_e.Comment=128]="Comment",_e[_e.Document=256]="Document",_e[_e.DocumentType=512]="DocumentType",_e[_e.DocumentFragment=1024]="DocumentFragment",_e[_e.Notation=2048]="Notation"}(xe.WhatToShow||(xe.WhatToShow={})),function(_e){_e[_e.StartToStart=0]="StartToStart",_e[_e.StartToEnd=1]="StartToEnd",_e[_e.EndToEnd=2]="EndToEnd",_e[_e.EndToStart=3]="EndToStart"}(xe.HowToCompare||(xe.HowToCompare={}))},function(r,xe,Se){var _e=this&&this.__values||function(Re){var je=typeof Symbol=="function"&&Symbol.iterator,Ve=je&&Re[je],He=0;if(Ve)return Ve.call(Re);if(Re&&typeof Re.length=="number")return{next:function(){return Re&&He>=Re.length&&(Re=void 0),{value:Re&&Re[He++],done:!Re}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(212);xe.FixedSizeSet=Ae.FixedSizeSet;var Ce=Se(213);xe.ObjectCache=Ce.ObjectCache;var Pe=Se(214);xe.CompareCache=Pe.CompareCache;var Ee=Se(215);xe.Lazy=Ee.Lazy;var Oe=Se(216);function Me(Re,je,Ve){if(Be(Re))Re.forEach(function(ze,Ue){return je.call(Ve,Ue,ze)});else for(var He in Re)Re.hasOwnProperty(He)&&je.call(Ve,He,Re[He])}function De(Re){var je,Ve;if(Te(Re))return Re;if(Fe(Re)){var He=[];try{for(var ze=_e(Re),Ue=ze.next();!Ue.done;Ue=ze.next()){var We=Ue.value;He.push(De(We))}}catch(Ye){je={error:Ye}}finally{try{Ue&&!Ue.done&&(Ve=ze.return)&&Ve.call(ze)}finally{if(je)throw je.error}}return He}if(ke(Re)){He={};for(var qe in Re)if(Re.hasOwnProperty(qe)){var Ge=Re[qe];He[qe]=De(Ge)}return He}return Re}function Te(Re){return!!Re&&Object.prototype.toString.call(Re)==="[object Function]"}function ke(Re){var je=typeof Re;return!!Re&&(je==="function"||je==="object")}function Fe(Re){return Array.isArray(Re)}function $e(Re){return Re instanceof Set}function Be(Re){return Re instanceof Map}function Ie(Re){if(ke(Re)){var je=Object.getPrototypeOf(Re),Ve=je.constructor;return je&&Ve&&typeof Ve=="function"&&Ve instanceof Ve&&Function.prototype.toString.call(Ve)===Function.prototype.toString.call(Object)}return!1}xe.StringWalker=Oe.StringWalker,xe.applyMixin=function(Re,je){for(var Ve=[],He=2;He<arguments.length;He++)Ve[He-2]=arguments[He];Object.getOwnPropertyNames(je.prototype).forEach(function(ze){if(ze!=="constructor"){if(Ve.indexOf(ze)!==-1){var Ue=Object.getOwnPropertyDescriptor(Re.prototype,ze);Ue&&Object.defineProperty(Re.prototype,"_"+ze,Ue)}var We=Object.getOwnPropertyDescriptor(je.prototype,ze);We&&Object.defineProperty(Re.prototype,ze,We)}})},xe.applyDefaults=function Re(je,Ve,He){He===void 0&&(He=!1);var ze=De(je||{});return Me(Ve,function(Ue,We){Ie(We)?ze[Ue]=Re(ze[Ue],We,He):(He||ze[Ue]===void 0)&&(ze[Ue]=We)}),ze},xe.forEachArray=function(Re,je,Ve){Re.forEach(je,Ve)},xe.forEachObject=Me,xe.arrayLength=function(Re){return $e(Re)?Re.size:Re.length},xe.objectLength=function(Re){return Be(Re)?Re.size:Object.keys(Re).length},xe.getObjectValue=function(Re,je){return Be(Re)?Re.get(je):Re[je]},xe.removeObjectValue=function(Re,je){Be(Re)?Re.delete(je):delete Re[je]},xe.clone=De,xe.isBoolean=function(Re){return typeof Re=="boolean"},xe.isNumber=function(Re){return typeof Re=="number"},xe.isString=function(Re){return typeof Re=="string"},xe.isFunction=Te,xe.isObject=ke,xe.isArray=Fe,xe.isSet=$e,xe.isMap=Be,xe.isEmpty=function(Re){if(Fe(Re))return!Re.length;if($e(Re)||Be(Re))return!Re.size;if(ke(Re)){for(var je in Re)if(Re.hasOwnProperty(je))return!1;return!0}return!1},xe.isPlainObject=Ie,xe.isIterable=function(Re){return Re&&typeof Re[Symbol.iterator]=="function"},xe.getValue=function(Re){return Te(Re.valueOf)?Re.valueOf():Re},xe.utf8Encode=function(Re){for(var je=new Uint8Array(4*Re.length),Ve=0,He=0;He<Re.length;He++){var ze=Re.charCodeAt(He);if(ze<128)je[Ve++]=ze;else{if(ze<2048)je[Ve++]=ze>>6|192;else{if(ze>55295&&ze<56320){if(++He>=Re.length)throw new Error("Incomplete surrogate pair.");var Ue=Re.charCodeAt(He);if(Ue<56320||Ue>57343)throw new Error("Invalid surrogate character.");ze=65536+((1023&ze)<<10)+(1023&Ue),je[Ve++]=ze>>18|240,je[Ve++]=ze>>12&63|128}else je[Ve++]=ze>>12|224;je[Ve++]=ze>>6&63|128}je[Ve++]=63&ze|128}}return je.subarray(0,Ve)},xe.utf8Decode=function(Re){for(var je="",Ve=0;Ve<Re.length;){var He=Re[Ve++];if(He>127)if(He>191&&He<224){if(Ve>=Re.length)throw new Error("Incomplete 2-byte sequence.");He=(31&He)<<6|63&Re[Ve++]}else if(He>223&&He<240){if(Ve+1>=Re.length)throw new Error("Incomplete 3-byte sequence.");He=(15&He)<<12|(63&Re[Ve++])<<6|63&Re[Ve++]}else{if(!(He>239&&He<248))throw new Error("Unknown multi-byte start.");if(Ve+2>=Re.length)throw new Error("Incomplete 4-byte sequence.");He=(7&He)<<18|(63&Re[Ve++])<<12|(63&Re[Ve++])<<6|63&Re[Ve++]}if(He<=65535)je+=String.fromCharCode(He);else{if(!(He<=1114111))throw new Error("Code point exceeds UTF-16 limit.");He-=65536,je+=String.fromCharCode(He>>10|55296),je+=String.fromCharCode(1023&He|56320)}}return je}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(241);xe.Cast=_e.Cast;var Ae=Se(150);xe.Guard=Ae.Guard;var Ce=Se(242);xe.EmptySet=Ce.EmptySet},function(r,xe,Se){var _e=Se(11),Ae=Se(55).f,Ce=Se(21),Pe=Se(25),Ee=Se(80),Oe=Se(119),Me=Se(123);r.exports=function(De,Te){var ke,Fe,$e,Be,Ie,Re=De.target,je=De.global,Ve=De.stat;if(ke=je?_e:Ve?_e[Re]||Ee(Re,{}):(_e[Re]||{}).prototype)for(Fe in Te){if(Be=Te[Fe],$e=De.noTargetGet?(Ie=Ae(ke,Fe))&&Ie.value:ke[Fe],!Me(je?Fe:Re+(Ve?".":"#")+Fe,De.forced)&&$e!==void 0){if(typeof Be==typeof $e)continue;Oe(Be,$e)}(De.sham||$e&&$e.sham)&&Ce(Be,"sham",!0),Pe(ke,Fe,Be,De)}}},function(r,xe,Se){var _e=Se(11),Ae=Se(81),Ce=Se(14),Pe=Se(58),Ee=Se(86),Oe=Se(124),Me=Ae("wks"),De=_e.Symbol,Te=Oe?De:De&&De.withoutSetter||Pe;r.exports=function(ke){return Ce(Me,ke)||(Ee&&Ce(De,ke)?Me[ke]=De[ke]:Me[ke]=Te("Symbol."+ke)),Me[ke]}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(2),Ae=Se(29),Ce=function(){function Pe(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new _e.CompareCache,this._rangeList=new _e.FixedSizeSet}return Pe.prototype.setFeatures=function(Ee){if(Ee===void 0&&(Ee=!0),_e.isObject(Ee))for(var Oe in Ee)this._features[Oe]=Ee[Oe]||!1;else for(var Oe in this._features)this._features[Oe]=Ee},Object.defineProperty(Pe.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(Pe.prototype,"window",{get:function(){return this._window===null&&(this._window=Ae.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(Pe.prototype,"compareCache",{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(Pe.prototype,"rangeList",{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(Pe,"instance",{get:function(){return Pe._instance||(Pe._instance=new Pe),Pe._instance},enumerable:!0,configurable:!0}),Pe}();xe.dom=Ce.instance},function(r,xe,Se){var _e=this&&this.__importStar||function(Ie){if(Ie&&Ie.__esModule)return Ie;var Re={};if(Ie!=null)for(var je in Ie)Object.hasOwnProperty.call(Ie,je)&&(Re[je]=Ie[je]);return Re.default=Ie,Re};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=_e(Se(228));xe.base64=Ae;var Ce=_e(Se(146));xe.byte=Ce;var Pe=_e(Se(147));xe.byteSequence=Pe;var Ee=_e(Se(96));xe.codePoint=Ee;var Oe=_e(Se(232));xe.json=Oe;var Me=_e(Se(233));xe.list=Me;var De=_e(Se(234));xe.map=De;var Te=_e(Se(235));xe.namespace=Te;var ke=_e(Se(236));xe.queue=ke;var Fe=_e(Se(237));xe.set=Fe;var $e=_e(Se(238));xe.stack=$e;var Be=_e(Se(239));xe.string=Be},function(r,xe){r.exports=function(Se){try{return!!Se()}catch{return!0}}},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(ni,di){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fi,Pi){fi.__proto__=Pi}||function(fi,Pi){for(var ci in Pi)Pi.hasOwnProperty(ci)&&(fi[ci]=Pi[ci])})(ni,di)},function(ni,di){function fi(){this.constructor=ni}_e(ni,di),ni.prototype=di===null?Object.create(di):(fi.prototype=di.prototype,new fi)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=function(ni){function di(fi,Pi){Pi===void 0&&(Pi="");var ci=ni.call(this,Pi)||this;return ci.name=fi,ci}return Ae(di,ni),di}(Error);xe.DOMException=Ce;var Pe=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"DOMStringSizeError",fi)||this}return Ae(di,ni),di}(Ce);xe.DOMStringSizeError=Pe;var Ee=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"WrongDocumentError","The object is in the wrong document. "+fi)||this}return Ae(di,ni),di}(Ce);xe.WrongDocumentError=Ee;var Oe=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"NoDataAllowedError",fi)||this}return Ae(di,ni),di}(Ce);xe.NoDataAllowedError=Oe;var Me=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"NoModificationAllowedError","The object can not be modified. "+fi)||this}return Ae(di,ni),di}(Ce);xe.NoModificationAllowedError=Me;var De=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"NotSupportedError","The operation is not supported. "+fi)||this}return Ae(di,ni),di}(Ce);xe.NotSupportedError=De;var Te=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"InUseAttributeError",fi)||this}return Ae(di,ni),di}(Ce);xe.InUseAttributeError=Te;var ke=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"InvalidStateError","The object is in an invalid state. "+fi)||this}return Ae(di,ni),di}(Ce);xe.InvalidStateError=ke;var Fe=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"InvalidModificationError","The object can not be modified in this way. "+fi)||this}return Ae(di,ni),di}(Ce);xe.InvalidModificationError=Fe;var $e=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"NamespaceError","The operation is not allowed by Namespaces in XML. [XMLNS] "+fi)||this}return Ae(di,ni),di}(Ce);xe.NamespaceError=$e;var Be=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"InvalidAccessError","The object does not support the operation or argument. "+fi)||this}return Ae(di,ni),di}(Ce);xe.InvalidAccessError=Be;var Ie=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"ValidationError",fi)||this}return Ae(di,ni),di}(Ce);xe.ValidationError=Ie;var Re=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"TypeMismatchError",fi)||this}return Ae(di,ni),di}(Ce);xe.TypeMismatchError=Re;var je=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"SecurityError","The operation is insecure. "+fi)||this}return Ae(di,ni),di}(Ce);xe.SecurityError=je;var Ve=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"NetworkError","A network error occurred. "+fi)||this}return Ae(di,ni),di}(Ce);xe.NetworkError=Ve;var He=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"AbortError","The operation was aborted. "+fi)||this}return Ae(di,ni),di}(Ce);xe.AbortError=He;var ze=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"URLMismatchError","The given URL does not match another URL. "+fi)||this}return Ae(di,ni),di}(Ce);xe.URLMismatchError=ze;var Ue=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"QuotaExceededError","The quota has been exceeded. "+fi)||this}return Ae(di,ni),di}(Ce);xe.QuotaExceededError=Ue;var We=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"TimeoutError","The operation timed out. "+fi)||this}return Ae(di,ni),di}(Ce);xe.TimeoutError=We;var qe=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"InvalidNodeTypeError","The supplied node is incorrect or has an incorrect ancestor for this operation. "+fi)||this}return Ae(di,ni),di}(Ce);xe.InvalidNodeTypeError=qe;var Ge=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"DataCloneError","The object can not be cloned. "+fi)||this}return Ae(di,ni),di}(Ce);xe.DataCloneError=Ge;var Ye=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"NotImplementedError","The DOM method is not implemented by this module. "+fi)||this}return Ae(di,ni),di}(Ce);xe.NotImplementedError=Ye;var Qe=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"HierarchyRequestError","The operation would yield an incorrect node tree. "+fi)||this}return Ae(di,ni),di}(Ce);xe.HierarchyRequestError=Qe;var Je=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"NotFoundError","The object can not be found here. "+fi)||this}return Ae(di,ni),di}(Ce);xe.NotFoundError=Je;var ri=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"IndexSizeError","The index is not in the allowed range. "+fi)||this}return Ae(di,ni),di}(Ce);xe.IndexSizeError=ri;var hi=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"SyntaxError","The string did not match the expected pattern. "+fi)||this}return Ae(di,ni),di}(Ce);xe.SyntaxError=hi;var pi=function(ni){function di(fi){return fi===void 0&&(fi=""),ni.call(this,"InvalidCharacterError","The string contains invalid characters. "+fi)||this}return Ae(di,ni),di}(Ce);xe.InvalidCharacterError=pi},function(r,xe,Se){var _e=Se(53),Ae=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],Ce=["scalar","sequence","mapping"];r.exports=function(Pe,Ee){var Oe,Me;if(Ee=Ee||{},Object.keys(Ee).forEach(function(De){if(Ae.indexOf(De)===-1)throw new _e('Unknown option "'+De+'" is met in definition of "'+Pe+'" YAML type.')}),this.tag=Pe,this.kind=Ee.kind||null,this.resolve=Ee.resolve||function(){return!0},this.construct=Ee.construct||function(De){return De},this.instanceOf=Ee.instanceOf||null,this.predicate=Ee.predicate||null,this.represent=Ee.represent||null,this.defaultStyle=Ee.defaultStyle||null,this.styleAliases=(Oe=Ee.styleAliases||null,Me={},Oe!==null&&Object.keys(Oe).forEach(function(De){Oe[De].forEach(function(Te){Me[String(Te)]=De})}),Me),Ce.indexOf(this.kind)===-1)throw new _e('Unknown kind "'+this.kind+'" is specified for "'+Pe+'" YAML type.')}},function(r,xe,Se){(function(_e){var Ae=function(Ce){return Ce&&Ce.Math==Math&&Ce};r.exports=Ae(typeof globalThis=="object"&&globalThis)||Ae(typeof window=="object"&&window)||Ae(typeof self=="object"&&self)||Ae(typeof _e=="object"&&_e)||Function("return this")()}).call(this,Se(78))},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0}),xe.idl_defineConst=function(_e,Ae,Ce){Object.defineProperty(_e,Ae,{writable:!1,enumerable:!0,configurable:!1,value:Ce})}},function(r,xe){r.exports=function(Se){return typeof Se=="object"?Se!==null:typeof Se=="function"}},function(r,xe){var Se={}.hasOwnProperty;r.exports=function(_e,Ae){return Se.call(_e,Ae)}},function(r,xe,Se){var _e=Se(16),Ae=Se(115),Ce=Se(18),Pe=Se(56),Ee=Object.defineProperty;xe.f=_e?Ee:function(Oe,Me,De){if(Ce(Oe),Me=Pe(Me,!0),Ce(De),Ae)try{return Ee(Oe,Me,De)}catch{}if("get"in De||"set"in De)throw TypeError("Accessors not supported");return"value"in De&&(Oe[Me]=De.value),Oe}},function(r,xe,Se){var _e=Se(8);r.exports=!_e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(r,xe,Se){var _e=this&&this.__values||function(Re){var je=typeof Symbol=="function"&&Symbol.iterator,Ve=je&&Re[je],He=0;if(Ve)return Ve.call(Re);if(Re&&typeof Re.length=="number")return{next:function(){return Re&&He>=Re.length&&(Re=void 0),{value:Re&&Re[He++],done:!Re}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(3),Ce=Se(1);function Pe(Re,je,Ve){if(Ve===void 0&&(Ve=!1),Ve&&Ae.Guard.isElementNode(je)&&Ae.Guard.isShadowRoot(je.shadowRoot)&&je.shadowRoot._firstChild)return je.shadowRoot._firstChild;if(je._firstChild)return je._firstChild;if(je===Re)return null;if(je._nextSibling)return je._nextSibling;for(var He=je._parent;He&&He!==Re;){if(He._nextSibling)return He._nextSibling;He=He._parent}return null}function Ee(){var Re;return(Re={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},Re}function Oe(Re,je,Ve,He){je===void 0&&(je=!1),Ve===void 0&&(Ve=!1);for(var ze=je?Re:Pe(Re,Re,Ve);ze&&He&&!He(ze);)ze=Pe(Re,ze,Ve);return ze}function Me(Re,je,Ve,He,ze){He===void 0&&(He=!1);for(var Ue=Pe(Re,je,He);Ue&&ze&&!ze(Ue);)Ue=Pe(Re,Ue,He);return Ue}function De(Re,je,Ve,He){var ze;return je===void 0&&(je=!1),Ve===void 0&&(Ve=!1),je||Re._children.size!==0?((ze={})[Symbol.iterator]=function(){var Ue=je?Re:Pe(Re,Re,Ve);return{next:function(){for(;Ue&&He&&!He(Ue);)Ue=Pe(Re,Ue,Ve);if(Ue===null)return{done:!0,value:null};var We={done:!1,value:Ue};return Ue=Pe(Re,Ue,Ve),We}}},ze):Ee()}function Te(Re,je,Ve){je===void 0&&(je=!1);for(var He=je?Re:Re._parent;He&&Ve&&!Ve(He);)He=He._parent;return He}function ke(Re,je,Ve,He){for(var ze=je._parent;ze&&He&&!He(ze);)ze=ze._parent;return ze}function Fe(Re){return Ae.Guard.isDocumentTypeNode(Re)?0:Ae.Guard.isCharacterDataNode(Re)?Re._data.length:Re._children.size}function $e(Re,je){if(je===void 0&&(je=!1),je){var Ve=$e(Re,!1);return Ae.Guard.isShadowRoot(Ve)?$e(Ve._host,!0):Ve}return Re._parent?$e(Re._parent):Re}function Be(Re,je,Ve,He){Ve===void 0&&(Ve=!1),He===void 0&&(He=!1);for(var ze=Ve?Re:He&&Ae.Guard.isShadowRoot(Re)?Re._host:Re._parent;ze!==null;){if(ze===je)return!0;ze=He&&Ae.Guard.isShadowRoot(ze)?ze._host:ze._parent}return!1}function Ie(Re){for(var je=$e(Re),Ve=0,He=Oe(je);He!==null;){if(Ve++,He===Re)return Ve;He=Me(je,He)}return-1}xe.tree_getFirstDescendantNode=Oe,xe.tree_getNextDescendantNode=Me,xe.tree_getDescendantNodes=De,xe.tree_getDescendantElements=function(Re,je,Ve,He){var ze;return je===void 0&&(je=!1),Ve===void 0&&(Ve=!1),je||Re._children.size!==0?((ze={})[Symbol.iterator]=function(){var Ue=De(Re,je,Ve,function(qe){return Ae.Guard.isElementNode(qe)})[Symbol.iterator](),We=Ue.next().value;return{next:function(){for(;We&&He&&!He(We);)We=Ue.next().value;if(We===null)return{done:!0,value:null};var qe={done:!1,value:We};return We=Ue.next().value,qe}}},ze):Ee()},xe.tree_getSiblingNodes=function(Re,je,Ve){var He;return je===void 0&&(je=!1),Re._parent&&Re._parent._children.size!==0?((He={})[Symbol.iterator]=function(){var ze=Re._parent?Re._parent._firstChild:null;return{next:function(){for(;ze&&(Ve&&!Ve(ze)||!je&&ze===Re);)ze=ze._nextSibling;if(ze===null)return{done:!0,value:null};var Ue={done:!1,value:ze};return ze=ze._nextSibling,Ue}}},He):Ee()},xe.tree_getFirstAncestorNode=Te,xe.tree_getNextAncestorNode=ke,xe.tree_getAncestorNodes=function(Re,je,Ve){var He;return je===void 0&&(je=!1),je||Re._parent?((He={})[Symbol.iterator]=function(){var ze=Te(Re,je,Ve);return{next:function(){if(ze===null)return{done:!0,value:null};var Ue={done:!1,value:ze};return ze=ke(0,ze,je,Ve),Ue}}},He):Ee()},xe.tree_getCommonAncestor=function(Re,je){if(Re===je)return Re._parent;for(var Ve=[],He=[],ze=Te(Re,!0);ze!==null;)Ve.push(ze),ze=ke(0,ze);for(var Ue=Te(je,!0);Ue!==null;)He.push(Ue),Ue=ke(0,Ue);for(var We=Ve.length,qe=He.length,Ge=null,Ye=Math.min(We,qe);Ye>0;Ye--){var Qe=Ve[--We];if(Qe!==He[--qe])break;Ge=Qe}return Ge},xe.tree_getFollowingNode=function(Re,je){if(je._firstChild)return je._firstChild;if(je._nextSibling)return je._nextSibling;for(;;){var Ve=je._parent;if(Ve===null||Ve===Re)return null;if(Ve._nextSibling)return Ve._nextSibling;je=Ve}},xe.tree_getPrecedingNode=function(Re,je){return je===Re?null:je._previousSibling?(je=je._previousSibling)._lastChild?je._lastChild:je:je._parent},xe.tree_isConstrained=function Re(je){var Ve,He,ze,Ue,We,qe;switch(je._nodeType){case Ce.NodeType.Document:var Ge=!1,Ye=!1;try{for(var Qe=_e(je._children),Je=Qe.next();!Je.done;Je=Qe.next())switch(Je.value._nodeType){case Ce.NodeType.ProcessingInstruction:case Ce.NodeType.Comment:break;case Ce.NodeType.DocumentType:if(Ge||Ye)return!1;Ge=!0;break;case Ce.NodeType.Element:if(Ye)return!1;Ye=!0;break;default:return!1}}catch(di){Ve={error:di}}finally{try{Je&&!Je.done&&(He=Qe.return)&&He.call(Qe)}finally{if(Ve)throw Ve.error}}break;case Ce.NodeType.DocumentFragment:case Ce.NodeType.Element:try{for(var ri=_e(je._children),hi=ri.next();!hi.done;hi=ri.next())switch(hi.value._nodeType){case Ce.NodeType.Element:case Ce.NodeType.Text:case Ce.NodeType.ProcessingInstruction:case Ce.NodeType.CData:case Ce.NodeType.Comment:break;default:return!1}}catch(di){ze={error:di}}finally{try{hi&&!hi.done&&(Ue=ri.return)&&Ue.call(ri)}finally{if(ze)throw ze.error}}break;case Ce.NodeType.DocumentType:case Ce.NodeType.Text:case Ce.NodeType.ProcessingInstruction:case Ce.NodeType.CData:case Ce.NodeType.Comment:return!je.hasChildNodes()}try{for(var pi=_e(je._children),ni=pi.next();!ni.done;ni=pi.next())if(!Re(ni.value))return!1}catch(di){We={error:di}}finally{try{ni&&!ni.done&&(qe=pi.return)&&qe.call(pi)}finally{if(We)throw We.error}}return!0},xe.tree_nodeLength=Fe,xe.tree_isEmpty=function(Re){return Fe(Re)===0},xe.tree_rootNode=$e,xe.tree_isDescendantOf=function(Re,je,Ve,He){Ve===void 0&&(Ve=!1),He===void 0&&(He=!1);for(var ze=Oe(Re,Ve,He);ze!==null;){if(ze===je)return!0;ze=Me(Re,ze,Ve,He)}return!1},xe.tree_isAncestorOf=Be,xe.tree_isHostIncludingAncestorOf=function Re(je,Ve,He){if(He===void 0&&(He=!1),Be(je,Ve,He))return!0;var ze=$e(je);return!(!Ae.Guard.isDocumentFragmentNode(ze)||ze._host===null||!Re(ze._host,Ve,He))},xe.tree_isSiblingOf=function(Re,je,Ve){return Ve===void 0&&(Ve=!1),Re!==je?Re._parent!==null&&Re._parent===je._parent:!!Ve},xe.tree_isPreceding=function(Re,je){var Ve=Ie(Re),He=Ie(je);return Ve!==-1&&He!==-1&&$e(Re)===$e(je)&&He<Ve},xe.tree_isFollowing=function(Re,je){var Ve=Ie(Re),He=Ie(je);return Ve!==-1&&He!==-1&&$e(Re)===$e(je)&&He>Ve},xe.tree_isParentOf=function(Re,je){return Re._parent===je},xe.tree_isChildOf=function(Re,je){return je._parent===Re},xe.tree_previousSibling=function(Re){return Re._previousSibling},xe.tree_nextSibling=function(Re){return Re._nextSibling},xe.tree_firstChild=function(Re){return Re._firstChild},xe.tree_lastChild=function(Re){return Re._lastChild},xe.tree_treePosition=Ie,xe.tree_index=function(Re){for(var je=0;Re._previousSibling!==null;)je++,Re=Re._previousSibling;return je},xe.tree_retarget=function(Re,je){for(;;){if(!Re||!Ae.Guard.isNode(Re))return Re;var Ve=$e(Re);if(!Ae.Guard.isShadowRoot(Ve)||je&&Ae.Guard.isNode(je)&&Be(Ve,je,!0,!0))return Re;Re=Ve.host}}},function(r,xe,Se){var _e=Se(13);r.exports=function(Ae){if(!_e(Ae))throw TypeError(String(Ae)+" is not an object");return Ae}},function(r,xe,Se){var _e=Se(24),Ae=Se(130),Ce=Se(49),Pe=Se(43),Ee=Se(88),Oe=Pe.set,Me=Pe.getterFor("Array Iterator");r.exports=Ee(Array,"Array",function(De,Te){Oe(this,{type:"Array Iterator",target:_e(De),index:0,kind:Te})},function(){var De=Me(this),Te=De.target,ke=De.kind,Fe=De.index++;return!Te||Fe>=Te.length?(De.target=void 0,{value:void 0,done:!0}):ke=="keys"?{value:Fe,done:!1}:ke=="values"?{value:Te[Fe],done:!1}:{value:[Fe,Te[Fe]],done:!1}},"values"),Ce.Arguments=Ce.Array,Ae("keys"),Ae("values"),Ae("entries")},function(r,xe,Se){var _e=Se(90),Ae=Se(25),Ce=Se(202);_e||Ae(Object.prototype,"toString",Ce,{unsafe:!0})},function(r,xe,Se){var _e=Se(16),Ae=Se(15),Ce=Se(40);r.exports=_e?function(Pe,Ee,Oe){return Ae.f(Pe,Ee,Ce(1,Oe))}:function(Pe,Ee,Oe){return Pe[Ee]=Oe,Pe}},function(r,xe,Se){var _e=Se(137).charAt,Ae=Se(43),Ce=Se(88),Pe=Ae.set,Ee=Ae.getterFor("String Iterator");Ce(String,"String",function(Oe){Pe(this,{type:"String Iterator",string:String(Oe),index:0})},function(){var Oe,Me=Ee(this),De=Me.string,Te=Me.index;return Te>=De.length?{value:void 0,done:!0}:(Oe=_e(De,Te),Me.index+=Oe.length,{value:Oe,done:!1})})},function(r,xe,Se){var _e=Se(11),Ae=Se(203),Ce=Se(19),Pe=Se(21),Ee=Se(5),Oe=Ee("iterator"),Me=Ee("toStringTag"),De=Ce.values;for(var Te in Ae){var ke=_e[Te],Fe=ke&&ke.prototype;if(Fe){if(Fe[Oe]!==De)try{Pe(Fe,Oe,De)}catch{Fe[Oe]=De}if(Fe[Me]||Pe(Fe,Me,Te),Ae[Te]){for(var $e in Ce)if(Fe[$e]!==Ce[$e])try{Pe(Fe,$e,Ce[$e])}catch{Fe[$e]=Ce[$e]}}}}},function(r,xe,Se){var _e=Se(41),Ae=Se(35);r.exports=function(Ce){return _e(Ae(Ce))}},function(r,xe,Se){var _e=Se(11),Ae=Se(21),Ce=Se(14),Pe=Se(80),Ee=Se(117),Oe=Se(43),Me=Oe.get,De=Oe.enforce,Te=String(String).split("String");(r.exports=function(ke,Fe,$e,Be){var Ie=!!Be&&!!Be.unsafe,Re=!!Be&&!!Be.enumerable,je=!!Be&&!!Be.noTargetGet;typeof $e=="function"&&(typeof Fe!="string"||Ce($e,"name")||Ae($e,"name",Fe),De($e).source=Te.join(typeof Fe=="string"?Fe:"")),ke!==_e?(Ie?!je&&ke[Fe]&&(Re=!0):delete ke[Fe],Re?ke[Fe]=$e:Ae(ke,Fe,$e)):Re?ke[Fe]=$e:Pe(Fe,$e)})(Function.prototype,"toString",function(){return typeof this=="function"&&Me(this).source||Ee(this)})},function(r,xe,Se){var _e=Se(47),Ae=Math.min;r.exports=function(Ce){return Ce>0?Ae(_e(Ce),9007199254740991):0}},function(r,xe,Se){var _e=Se(35);r.exports=function(Ae){return Object(_e(Ae))}},function(r,xe,Se){var _e=Se(16),Ae=Se(8),Ce=Se(14),Pe=Object.defineProperty,Ee={},Oe=function(Me){throw Me};r.exports=function(Me,De){if(Ce(Ee,Me))return Ee[Me];De||(De={});var Te=[][Me],ke=!!Ce(De,"ACCESSORS")&&De.ACCESSORS,Fe=Ce(De,0)?De[0]:Oe,$e=Ce(De,1)?De[1]:void 0;return Ee[Me]=!!Te&&!Ae(function(){if(ke&&!_e)return!0;var Be={length:-1};ke?Pe(Be,1,{enumerable:!0,get:Oe}):Be[1]=1,Te.call(Be,Fe,$e)})}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(148),Ae=Se(149),Ce=Se(151),Pe=Se(98),Ee=Se(153),Oe=Se(154),Me=Se(155),De=Se(99),Te=Se(100),ke=Se(156),Fe=Se(157),$e=Se(101),Be=Se(158),Ie=Se(159),Re=Se(160),je=Se(161),Ve=Se(162),He=Se(163),ze=Se(164),Ue=Se(165),We=Se(166),qe=Se(167),Ge=Se(168),Ye=Se(169),Qe=Se(170);xe.create_domImplementation=function(Je){return _e.DOMImplementationImpl._create(Je)},xe.create_window=function(){return Ae.WindowImpl._create()},xe.create_xmlDocument=function(){return new Ce.XMLDocumentImpl},xe.create_document=function(){return new Pe.DocumentImpl},xe.create_abortController=function(){return new Ee.AbortControllerImpl},xe.create_abortSignal=function(){return Oe.AbortSignalImpl._create()},xe.create_documentType=function(Je,ri,hi,pi){return Me.DocumentTypeImpl._create(Je,ri,hi,pi)},xe.create_element=function(Je,ri,hi,pi){return De.ElementImpl._create(Je,ri,hi,pi)},xe.create_htmlElement=function(Je,ri,hi,pi){return De.ElementImpl._create(Je,ri,hi,pi)},xe.create_htmlUnknownElement=function(Je,ri,hi,pi){return De.ElementImpl._create(Je,ri,hi,pi)},xe.create_documentFragment=function(Je){return Te.DocumentFragmentImpl._create(Je)},xe.create_shadowRoot=function(Je,ri){return ke.ShadowRootImpl._create(Je,ri)},xe.create_attr=function(Je,ri){return Fe.AttrImpl._create(Je,ri)},xe.create_text=function(Je,ri){return $e.TextImpl._create(Je,ri)},xe.create_cdataSection=function(Je,ri){return Be.CDATASectionImpl._create(Je,ri)},xe.create_comment=function(Je,ri){return Ie.CommentImpl._create(Je,ri)},xe.create_processingInstruction=function(Je,ri,hi){return Re.ProcessingInstructionImpl._create(Je,ri,hi)},xe.create_htmlCollection=function(Je,ri){return ri===void 0&&(ri=function(){return!0}),je.HTMLCollectionImpl._create(Je,ri)},xe.create_nodeList=function(Je){return Ve.NodeListImpl._create(Je)},xe.create_nodeListStatic=function(Je,ri){return He.NodeListStaticImpl._create(Je,ri)},xe.create_namedNodeMap=function(Je){return ze.NamedNodeMapImpl._create(Je)},xe.create_range=function(Je,ri){return Ue.RangeImpl._create(Je,ri)},xe.create_nodeIterator=function(Je,ri,hi){return We.NodeIteratorImpl._create(Je,ri,hi)},xe.create_treeWalker=function(Je,ri){return qe.TreeWalkerImpl._create(Je,ri)},xe.create_nodeFilter=function(){return Ge.NodeFilterImpl._create()},xe.create_mutationRecord=function(Je,ri,hi,pi,ni,di,fi,Pi,ci){return Ye.MutationRecordImpl._create(Je,ri,hi,pi,ni,di,fi,Pi,ci)},xe.create_domTokenList=function(Je,ri){return Qe.DOMTokenListImpl._create(Je,ri)}},function(r,xe,Se){var _e=this&&this.__values||function(Fe){var $e=typeof Symbol=="function"&&Symbol.iterator,Be=$e&&Fe[$e],Ie=0;if(Be)return Be.call(Fe);if(Fe&&typeof Fe.length=="number")return{next:function(){return Fe&&Ie>=Fe.length&&(Fe=void 0),{value:Fe&&Fe[Ie++],done:!Fe}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(6),Ce=Se(17),Pe=Se(3),Ee=Se(72),Oe=new Map;function Me(Fe,$e){if($e!==Fe._root&&Ce.tree_isAncestorOf(Fe._reference,$e,!0)){if(Fe._pointerBeforeReference)for(;;){var Be=Ce.tree_getFollowingNode(Fe._root,$e);if(Be!==null&&Ce.tree_isDescendantOf(Fe._root,Be,!0)&&!Ce.tree_isDescendantOf($e,Be,!0))return void(Fe._reference=Be);if(Be===null)return void(Fe._pointerBeforeReference=!1)}if($e._previousSibling===null)$e._parent!==null&&(Fe._reference=$e._parent);else{for(var Ie=$e._previousSibling,Re=Ce.tree_getFirstDescendantNode($e._previousSibling,!0,!1);Re!==null;)Re!==null&&(Ie=Re),Re=Ce.tree_getNextDescendantNode($e._previousSibling,Re,!0,!1);Fe._reference=Ie}}}function De(Fe,$e,Be,Ie,Re){if(Pe.Guard.isSlot(Fe)&&$e==="name"&&Re===null){if(Ie===Be||Ie===null&&Be===""||Ie===""&&Be===null)return;Fe._name=Ie===null||Ie===""?"":Ie,Ee.shadowTree_assignSlotablesForATree(Ce.tree_rootNode(Fe))}}function Te(Fe,$e,Be,Ie,Re){if(Pe.Guard.isSlotable(Fe)&&$e==="slot"&&Re===null){if(Ie===Be||Ie===null&&Be===""||Ie===""&&Be===null)return;Fe._name=Ie===null||Ie===""?"":Ie,Ee.shadowTree_isAssigned(Fe)&&Ee.shadowTree_assignSlotables(Fe._assignedSlot),Ee.shadowTree_assignASlot(Fe)}}function ke(Fe,$e,Be,Ie){$e==="id"&&Ie===null&&(Fe._uniqueIdentifier=Be||void 0)}xe.dom_runRemovingSteps=function(Fe,$e){},xe.dom_runCloningSteps=function(Fe,$e,Be,Ie){},xe.dom_runAdoptingSteps=function(Fe,$e){},xe.dom_runAttributeChangeSteps=function(Fe,$e,Be,Ie,Re){var je,Ve;Ae.dom.features.slots&&(Te.call(Fe,Fe,$e,Be,Ie,Re),De.call(Fe,Fe,$e,Be,Ie,Re)),ke.call(Fe,Fe,$e,Ie,Re);try{for(var He=_e(Fe._attributeChangeSteps),ze=He.next();!ze.done;ze=He.next())ze.value.call(Fe,Fe,$e,Be,Ie,Re)}catch(Ue){je={error:Ue}}finally{try{ze&&!ze.done&&(Ve=He.return)&&Ve.call(He)}finally{if(je)throw je.error}}},xe.dom_runInsertionSteps=function(Fe){},xe.dom_runNodeIteratorPreRemovingSteps=function(Fe,$e){Me.call(Fe,Fe,$e)},xe.dom_hasSupportedTokens=function(Fe){return Oe.has(Fe)},xe.dom_getSupportedTokens=function(Fe){return Oe.get(Fe)||new Set},xe.dom_runEventConstructingSteps=function(Fe){},xe.dom_runChildTextContentChangeSteps=function(Fe){}},function(r,xe,Se){var _e=Se(4),Ae=Se(11),Ce=Se(46),Pe=Se(44),Ee=Se(16),Oe=Se(86),Me=Se(124),De=Se(8),Te=Se(14),ke=Se(59),Fe=Se(13),$e=Se(18),Be=Se(27),Ie=Se(24),Re=Se(56),je=Se(40),Ve=Se(60),He=Se(61),ze=Se(82),Ue=Se(190),We=Se(85),qe=Se(55),Ge=Se(15),Ye=Se(79),Qe=Se(21),Je=Se(25),ri=Se(81),hi=Se(57),pi=Se(45),ni=Se(58),di=Se(5),fi=Se(125),Pi=Se(126),ci=Se(62),xi=Se(43),yi=Se(36).forEach,gi=hi("hidden"),Ai=di("toPrimitive"),Mi=xi.set,Fi=xi.getterFor("Symbol"),Di=Object.prototype,oi=Ae.Symbol,Ke=Ce("JSON","stringify"),St=qe.f,ei=Ge.f,ui=Ue.f,ai=Ye.f,ii=ri("symbols"),Ci=ri("op-symbols"),ki=ri("string-to-symbol-registry"),bi=ri("symbol-to-string-registry"),Ii=ri("wks"),Bi=Ae.QObject,Vi=!Bi||!Bi.prototype||!Bi.prototype.findChild,ji=Ee&&De(function(){return Ve(ei({},"a",{get:function(){return ei(this,"a",{value:7}).a}})).a!=7})?function(Xi,an,cn){var dn=St(Di,an);dn&&delete Di[an],ei(Xi,an,cn),dn&&Xi!==Di&&ei(Di,an,dn)}:ei,Zi=function(Xi,an){var cn=ii[Xi]=Ve(oi.prototype);return Mi(cn,{type:"Symbol",tag:Xi,description:an}),Ee||(cn.description=an),cn},Wi=Me?function(Xi){return typeof Xi=="symbol"}:function(Xi){return Object(Xi)instanceof oi},Qi=function(Xi,an,cn){Xi===Di&&Qi(Ci,an,cn),$e(Xi);var dn=Re(an,!0);return $e(cn),Te(ii,dn)?(cn.enumerable?(Te(Xi,gi)&&Xi[gi][dn]&&(Xi[gi][dn]=!1),cn=Ve(cn,{enumerable:je(0,!1)})):(Te(Xi,gi)||ei(Xi,gi,je(1,{})),Xi[gi][dn]=!0),ji(Xi,dn,cn)):ei(Xi,dn,cn)},wi=function(Xi,an){$e(Xi);var cn=Ie(an),dn=He(cn).concat(Ni(cn));return yi(dn,function(bn){Ee&&!tn.call(cn,bn)||Qi(Xi,bn,cn[bn])}),Xi},tn=function(Xi){var an=Re(Xi,!0),cn=ai.call(this,an);return!(this===Di&&Te(ii,an)&&!Te(Ci,an))&&(!(cn||!Te(this,an)||!Te(ii,an)||Te(this,gi)&&this[gi][an])||cn)},Yi=function(Xi,an){var cn=Ie(Xi),dn=Re(an,!0);if(cn!==Di||!Te(ii,dn)||Te(Ci,dn)){var bn=St(cn,dn);return!bn||!Te(ii,dn)||Te(cn,gi)&&cn[gi][dn]||(bn.enumerable=!0),bn}},nn=function(Xi){var an=ui(Ie(Xi)),cn=[];return yi(an,function(dn){Te(ii,dn)||Te(pi,dn)||cn.push(dn)}),cn},Ni=function(Xi){var an=Xi===Di,cn=ui(an?Ci:Ie(Xi)),dn=[];return yi(cn,function(bn){!Te(ii,bn)||an&&!Te(Di,bn)||dn.push(ii[bn])}),dn};Oe||(Je((oi=function(){if(this instanceof oi)throw TypeError("Symbol is not a constructor");var Xi=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,an=ni(Xi),cn=function(dn){this===Di&&cn.call(Ci,dn),Te(this,gi)&&Te(this[gi],an)&&(this[gi][an]=!1),ji(this,an,je(1,dn))};return Ee&&Vi&&ji(Di,an,{configurable:!0,set:cn}),Zi(an,Xi)}).prototype,"toString",function(){return Fi(this).tag}),Je(oi,"withoutSetter",function(Xi){return Zi(ni(Xi),Xi)}),Ye.f=tn,Ge.f=Qi,qe.f=Yi,ze.f=Ue.f=nn,We.f=Ni,fi.f=function(Xi){return Zi(di(Xi),Xi)},Ee&&(ei(oi.prototype,"description",{configurable:!0,get:function(){return Fi(this).description}}),Pe||Je(Di,"propertyIsEnumerable",tn,{unsafe:!0}))),_e({global:!0,wrap:!0,forced:!Oe,sham:!Oe},{Symbol:oi}),yi(He(Ii),function(Xi){Pi(Xi)}),_e({target:"Symbol",stat:!0,forced:!Oe},{for:function(Xi){var an=String(Xi);if(Te(ki,an))return ki[an];var cn=oi(an);return ki[an]=cn,bi[cn]=an,cn},keyFor:function(Xi){if(!Wi(Xi))throw TypeError(Xi+" is not a symbol");if(Te(bi,Xi))return bi[Xi]},useSetter:function(){Vi=!0},useSimple:function(){Vi=!1}}),_e({target:"Object",stat:!0,forced:!Oe,sham:!Ee},{create:function(Xi,an){return an===void 0?Ve(Xi):wi(Ve(Xi),an)},defineProperty:Qi,defineProperties:wi,getOwnPropertyDescriptor:Yi}),_e({target:"Object",stat:!0,forced:!Oe},{getOwnPropertyNames:nn,getOwnPropertySymbols:Ni}),_e({target:"Object",stat:!0,forced:De(function(){We.f(1)})},{getOwnPropertySymbols:function(Xi){return We.f(Be(Xi))}}),Ke&&_e({target:"JSON",stat:!0,forced:!Oe||De(function(){var Xi=oi();return Ke([Xi])!="[null]"||Ke({a:Xi})!="{}"||Ke(Object(Xi))!="{}"})},{stringify:function(Xi,an,cn){for(var dn,bn=[Xi],wn=1;arguments.length>wn;)bn.push(arguments[wn++]);if(dn=an,(Fe(an)||Xi!==void 0)&&!Wi(Xi))return ke(an)||(an=function(Sn,kn){if(typeof dn=="function"&&(kn=dn.call(this,Sn,kn)),!Wi(kn))return kn}),bn[1]=an,Ke.apply(null,bn)}}),oi.prototype[Ai]||Qe(oi.prototype,Ai,oi.prototype.valueOf),ci(oi,"Symbol"),pi[gi]=!0},function(r,xe,Se){var _e=Se(4),Ae=Se(16),Ce=Se(11),Pe=Se(14),Ee=Se(13),Oe=Se(15).f,Me=Se(119),De=Ce.Symbol;if(Ae&&typeof De=="function"&&(!("description"in De.prototype)||De().description!==void 0)){var Te={},ke=function(){var Re=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),je=this instanceof ke?new De(Re):Re===void 0?De():De(Re);return Re===""&&(Te[je]=!0),je};Me(ke,De);var Fe=ke.prototype=De.prototype;Fe.constructor=ke;var $e=Fe.toString,Be=String(De("test"))=="Symbol(test)",Ie=/^Symbol\((.*)\)[^)]+$/;Oe(Fe,"description",{configurable:!0,get:function(){var Re=Ee(this)?this.valueOf():this,je=$e.call(Re);if(Pe(Te,Re))return"";var Ve=Be?je.slice(7,-1):je.replace(Ie,"$1");return Ve===""?void 0:Ve}}),_e({global:!0,forced:!0},{Symbol:ke})}},function(r,xe,Se){Se(126)("iterator")},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Be,Ie){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Re,je){Re.__proto__=je}||function(Re,je){for(var Ve in je)je.hasOwnProperty(Ve)&&(Re[Ve]=je[Ve])})(Be,Ie)},function(Be,Ie){function Re(){this.constructor=Be}_e(Be,Ie),Be.prototype=Ie===null?Object.create(Ie):(Re.prototype=Ie.prototype,new Re)}),Ce=this&&this.__values||function(Be){var Ie=typeof Symbol=="function"&&Symbol.iterator,Re=Ie&&Be[Ie],je=0;if(Re)return Re.call(Be);if(Be&&typeof Be.length=="number")return{next:function(){return Be&&je>=Be.length&&(Be=void 0),{value:Be&&Be[je++],done:!Be}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Pe=Se(6),Ee=Se(1),Oe=Se(70),Me=Se(3),De=Se(9),Te=Se(0),ke=Se(152),Fe=Se(12),$e=function(Be){function Ie(){var Re=Be.call(this)||this;return Re._parent=null,Re._firstChild=null,Re._lastChild=null,Re._previousSibling=null,Re._nextSibling=null,Re}return Ae(Ie,Be),Object.defineProperty(Ie.prototype,"_childNodes",{get:function(){return this.__childNodes||(this.__childNodes=Te.create_nodeList(this))},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverride||Pe.dom.window._associatedDocument},set:function(Re){this._nodeDocumentOverride=Re},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"_registeredObserverList",{get:function(){return this.__registeredObserverList||(this.__registeredObserverList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"nodeType",{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"nodeName",{get:function(){return Me.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:Me.Guard.isAttrNode(this)?this._qualifiedName:Me.Guard.isExclusiveTextNode(this)?"#text":Me.Guard.isCDATASectionNode(this)?"#cdata-section":Me.Guard.isProcessingInstructionNode(this)?this._target:Me.Guard.isCommentNode(this)?"#comment":Me.Guard.isDocumentNode(this)?"#document":Me.Guard.isDocumentTypeNode(this)?this._name:Me.Guard.isDocumentFragmentNode(this)?"#document-fragment":""},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"baseURI",{get:function(){return ke.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"isConnected",{get:function(){return Me.Guard.isElementNode(this)&&Te.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"ownerDocument",{get:function(){return this._nodeType===Ee.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),Ie.prototype.getRootNode=function(Re){return Te.tree_rootNode(this,!!Re&&Re.composed)},Object.defineProperty(Ie.prototype,"parentNode",{get:function(){return this._nodeType===Ee.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"parentElement",{get:function(){return this._parent&&Me.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),Ie.prototype.hasChildNodes=function(){return this._firstChild!==null},Object.defineProperty(Ie.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"nodeValue",{get:function(){return Me.Guard.isAttrNode(this)?this._value:Me.Guard.isCharacterDataNode(this)?this._data:null},set:function(Re){Re===null&&(Re=""),Me.Guard.isAttrNode(this)?Te.attr_setAnExistingAttributeValue(this,Re):Me.Guard.isCharacterDataNode(this)&&Te.characterData_replaceData(this,0,this._data.length,Re)},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"textContent",{get:function(){return Me.Guard.isDocumentFragmentNode(this)||Me.Guard.isElementNode(this)?Te.text_descendantTextContent(this):Me.Guard.isAttrNode(this)?this._value:Me.Guard.isCharacterDataNode(this)?this._data:null},set:function(Re){Re===null&&(Re=""),Me.Guard.isDocumentFragmentNode(this)||Me.Guard.isElementNode(this)?Te.node_stringReplaceAll(Re,this):Me.Guard.isAttrNode(this)?Te.attr_setAnExistingAttributeValue(this,Re):Me.Guard.isCharacterDataNode(this)&&Te.characterData_replaceData(this,0,Te.tree_nodeLength(this),Re)},enumerable:!0,configurable:!0}),Ie.prototype.normalize=function(){for(var Re,je,Ve,He,ze=[],Ue=Te.tree_getFirstDescendantNode(this,!1,!1,function(yi){return Me.Guard.isExclusiveTextNode(yi)});Ue!==null;)ze.push(Ue),Ue=Te.tree_getNextDescendantNode(this,Ue,!1,!1,function(yi){return Me.Guard.isExclusiveTextNode(yi)});for(var We=0;We<ze.length;We++){var qe=ze[We];if(qe._parent!==null){var Ge=Te.tree_nodeLength(qe);if(Ge!==0){var Ye=[],Qe="";try{for(var Je=(Re=void 0,Ce(Te.text_contiguousExclusiveTextNodes(qe))),ri=Je.next();!ri.done;ri=Je.next()){var hi=ri.value;Ye.push(hi),Qe+=hi._data}}catch(yi){Re={error:yi}}finally{try{ri&&!ri.done&&(je=Je.return)&&je.call(Je)}finally{if(Re)throw Re.error}}if(Te.characterData_replaceData(qe,Ge,0,Qe),Pe.dom.rangeList.size!==0)for(var pi=qe._nextSibling;pi!==null&&Me.Guard.isExclusiveTextNode(pi);){var ni=pi,di=Te.tree_index(ni);try{for(var fi=(Ve=void 0,Ce(Pe.dom.rangeList)),Pi=fi.next();!Pi.done;Pi=fi.next()){var ci=Pi.value;ci._start[0]===ni&&(ci._start[0]=qe,ci._start[1]+=Ge),ci._end[0]===ni&&(ci._end[0]=qe,ci._end[1]+=Ge),ci._start[0]===ni._parent&&ci._start[1]===di&&(ci._start[0]=qe,ci._start[1]=Ge),ci._end[0]===ni._parent&&ci._end[1]===di&&(ci._end[0]=qe,ci._end[1]=Ge)}}catch(yi){Ve={error:yi}}finally{try{Pi&&!Pi.done&&(He=fi.return)&&He.call(fi)}finally{if(Ve)throw Ve.error}}Ge+=Te.tree_nodeLength(pi),pi=pi._nextSibling}for(var xi=0;xi<Ye.length;xi++)(hi=Ye[xi])._parent!==null&&Te.mutation_remove(hi,hi._parent)}else Te.mutation_remove(qe,qe._parent)}}},Ie.prototype.cloneNode=function(Re){if(Re===void 0&&(Re=!1),Me.Guard.isShadowRoot(this))throw new De.NotSupportedError;return Te.node_clone(this,null,Re)},Ie.prototype.isEqualNode=function(Re){return Re===void 0&&(Re=null),Re!==null&&Te.node_equals(this,Re)},Ie.prototype.isSameNode=function(Re){return Re===void 0&&(Re=null),this===Re},Ie.prototype.compareDocumentPosition=function(Re){if(Re===this)return 0;var je=Re,Ve=this,He=null,ze=null;if(Me.Guard.isAttrNode(je)&&(je=(He=je)._element),Me.Guard.isAttrNode(Ve)&&(Ve=(ze=Ve)._element,He&&je&&je===Ve))for(var Ue=0;Ue<Ve._attributeList.length;Ue++){var We=Ve._attributeList[Ue];if(Te.node_equals(We,He))return Ee.Position.ImplementationSpecific|Ee.Position.Preceding;if(Te.node_equals(We,ze))return Ee.Position.ImplementationSpecific|Ee.Position.Following}return je===null||Ve===null||Te.tree_rootNode(je)!==Te.tree_rootNode(Ve)?Ee.Position.Disconnected|Ee.Position.ImplementationSpecific|(Pe.dom.compareCache.check(this,Re)?Ee.Position.Preceding:Ee.Position.Following):!He&&Te.tree_isAncestorOf(Ve,je)||ze&&je===Ve?Ee.Position.Contains|Ee.Position.Preceding:!ze&&Te.tree_isDescendantOf(Ve,je)||He&&je===Ve?Ee.Position.ContainedBy|Ee.Position.Following:Te.tree_isPreceding(Ve,je)?Ee.Position.Preceding:Ee.Position.Following},Ie.prototype.contains=function(Re){return Re!==null&&Te.tree_isDescendantOf(this,Re,!0)},Ie.prototype.lookupPrefix=function(Re){return Re?Me.Guard.isElementNode(this)?Te.node_locateANamespacePrefix(this,Re):Me.Guard.isDocumentNode(this)?this.documentElement===null?null:Te.node_locateANamespacePrefix(this.documentElement,Re):Me.Guard.isDocumentTypeNode(this)||Me.Guard.isDocumentFragmentNode(this)?null:Me.Guard.isAttrNode(this)?this._element===null?null:Te.node_locateANamespacePrefix(this._element,Re):this._parent!==null&&Me.Guard.isElementNode(this._parent)?Te.node_locateANamespacePrefix(this._parent,Re):null:null},Ie.prototype.lookupNamespaceURI=function(Re){return Te.node_locateANamespace(this,Re||null)},Ie.prototype.isDefaultNamespace=function(Re){return Re||(Re=null),Te.node_locateANamespace(this,null)===Re},Ie.prototype.insertBefore=function(Re,je){return Te.mutation_preInsert(Re,this,je)},Ie.prototype.appendChild=function(Re){return Te.mutation_append(Re,this)},Ie.prototype.replaceChild=function(Re,je){return Te.mutation_replace(je,Re,this)},Ie.prototype.removeChild=function(Re){return Te.mutation_preRemove(Re,this)},Ie.prototype._getTheParent=function(Re){return Me.Guard.isSlotable(this)&&Te.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},Ie.ELEMENT_NODE=1,Ie.ATTRIBUTE_NODE=2,Ie.TEXT_NODE=3,Ie.CDATA_SECTION_NODE=4,Ie.ENTITY_REFERENCE_NODE=5,Ie.ENTITY_NODE=6,Ie.PROCESSING_INSTRUCTION_NODE=7,Ie.COMMENT_NODE=8,Ie.DOCUMENT_NODE=9,Ie.DOCUMENT_TYPE_NODE=10,Ie.DOCUMENT_FRAGMENT_NODE=11,Ie.NOTATION_NODE=12,Ie.DOCUMENT_POSITION_DISCONNECTED=1,Ie.DOCUMENT_POSITION_PRECEDING=2,Ie.DOCUMENT_POSITION_FOLLOWING=4,Ie.DOCUMENT_POSITION_CONTAINS=8,Ie.DOCUMENT_POSITION_CONTAINED_BY=16,Ie.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,Ie}(Oe.EventTargetImpl);xe.NodeImpl=$e,$e.prototype._children=new Me.EmptySet,Fe.idl_defineConst($e.prototype,"ELEMENT_NODE",1),Fe.idl_defineConst($e.prototype,"ATTRIBUTE_NODE",2),Fe.idl_defineConst($e.prototype,"TEXT_NODE",3),Fe.idl_defineConst($e.prototype,"CDATA_SECTION_NODE",4),Fe.idl_defineConst($e.prototype,"ENTITY_REFERENCE_NODE",5),Fe.idl_defineConst($e.prototype,"ENTITY_NODE",6),Fe.idl_defineConst($e.prototype,"PROCESSING_INSTRUCTION_NODE",7),Fe.idl_defineConst($e.prototype,"COMMENT_NODE",8),Fe.idl_defineConst($e.prototype,"DOCUMENT_NODE",9),Fe.idl_defineConst($e.prototype,"DOCUMENT_TYPE_NODE",10),Fe.idl_defineConst($e.prototype,"DOCUMENT_FRAGMENT_NODE",11),Fe.idl_defineConst($e.prototype,"NOTATION_NODE",12),Fe.idl_defineConst($e.prototype,"DOCUMENT_POSITION_DISCONNECTED",1),Fe.idl_defineConst($e.prototype,"DOCUMENT_POSITION_PRECEDING",2),Fe.idl_defineConst($e.prototype,"DOCUMENT_POSITION_FOLLOWING",4),Fe.idl_defineConst($e.prototype,"DOCUMENT_POSITION_CONTAINS",8),Fe.idl_defineConst($e.prototype,"DOCUMENT_POSITION_CONTAINED_BY",16),Fe.idl_defineConst($e.prototype,"DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC",32)},function(r,xe){r.exports=function(Se){if(Se==null)throw TypeError("Can't call method on "+Se);return Se}},function(r,xe,Se){var _e=Se(87),Ae=Se(41),Ce=Se(27),Pe=Se(26),Ee=Se(128),Oe=[].push,Me=function(De){var Te=De==1,ke=De==2,Fe=De==3,$e=De==4,Be=De==6,Ie=De==5||Be;return function(Re,je,Ve,He){for(var ze,Ue,We=Ce(Re),qe=Ae(We),Ge=_e(je,Ve,3),Ye=Pe(qe.length),Qe=0,Je=He||Ee,ri=Te?Je(Re,Ye):ke?Je(Re,0):void 0;Ye>Qe;Qe++)if((Ie||Qe in qe)&&(Ue=Ge(ze=qe[Qe],Qe,We),De)){if(Te)ri[Qe]=Ue;else if(Ue)switch(De){case 3:return!0;case 5:return ze;case 6:return Qe;case 2:Oe.call(ri,ze)}else if($e)return!1}return Be?-1:Fe||$e?$e:ri}};r.exports={forEach:Me(0),map:Me(1),filter:Me(2),some:Me(3),every:Me(4),find:Me(5),findIndex:Me(6)}},function(r,xe,Se){var _e=this&&this.__values||function(We){var qe=typeof Symbol=="function"&&Symbol.iterator,Ge=qe&&We[qe],Ye=0;if(Ge)return Ge.call(We);if(We&&typeof We.length=="number")return{next:function(){return We&&Ye>=We.length&&(We=void 0),{value:We&&We[Ye++],done:!We}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")},Ae=this&&this.__read||function(We,qe){var Ge=typeof Symbol=="function"&&We[Symbol.iterator];if(!Ge)return We;var Ye,Qe,Je=Ge.call(We),ri=[];try{for(;(qe===void 0||qe-- >0)&&!(Ye=Je.next()).done;)ri.push(Ye.value)}catch(hi){Qe={error:hi}}finally{try{Ye&&!Ye.done&&(Ge=Je.return)&&Ge.call(Je)}finally{if(Qe)throw Qe.error}}return ri},Ce=this&&this.__spread||function(){for(var We=[],qe=0;qe<arguments.length;qe++)We=We.concat(Ae(arguments[qe]));return We};Object.defineProperty(xe,"__esModule",{value:!0});var Pe=Se(6),Ee=Se(9),Oe=Se(1),Me=Se(3),De=Se(2),Te=Se(7),ke=Se(73),Fe=Se(17),$e=Se(172),Be=Se(72),Ie=Se(51),Re=Se(30),je=Se(106);function Ve(We,qe,Ge){var Ye,Qe,Je,ri,hi,pi,ni,di,fi=qe._nodeType,Pi=We._nodeType,ci=Ge?Ge._nodeType:null;if(fi!==Oe.NodeType.Document&&fi!==Oe.NodeType.DocumentFragment&&fi!==Oe.NodeType.Element)throw new Ee.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+qe.nodeName+".");if(Fe.tree_isHostIncludingAncestorOf(qe,We,!0))throw new Ee.HierarchyRequestError("The node to be inserted cannot be an inclusive ancestor of parent node. Node is "+We.nodeName+", parent node is "+qe.nodeName+".");if(Ge!==null&&Ge._parent!==qe)throw new Ee.NotFoundError("The reference child node cannot be found under parent node. Child node is "+Ge.nodeName+", parent node is "+qe.nodeName+".");if(Pi!==Oe.NodeType.DocumentFragment&&Pi!==Oe.NodeType.DocumentType&&Pi!==Oe.NodeType.Element&&Pi!==Oe.NodeType.Text&&Pi!==Oe.NodeType.ProcessingInstruction&&Pi!==Oe.NodeType.CData&&Pi!==Oe.NodeType.Comment)throw new Ee.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+We.nodeName+".");if(Pi===Oe.NodeType.Text&&fi===Oe.NodeType.Document)throw new Ee.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+We.nodeName+".");if(Pi===Oe.NodeType.DocumentType&&fi!==Oe.NodeType.Document)throw new Ee.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+qe.nodeName+".");if(fi===Oe.NodeType.Document){if(Pi===Oe.NodeType.DocumentFragment){var xi=0;try{for(var yi=_e(We._children),gi=yi.next();!gi.done;gi=yi.next()){var Ai=gi.value;if(Ai._nodeType===Oe.NodeType.Element)xi++;else if(Ai._nodeType===Oe.NodeType.Text)throw new Ee.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+Ai.nodeName+".")}}catch(ai){Ye={error:ai}}finally{try{gi&&!gi.done&&(Qe=yi.return)&&Qe.call(yi)}finally{if(Ye)throw Ye.error}}if(xi>1)throw new Ee.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+xi+" element nodes.");if(xi===1){try{for(var Mi=_e(qe._children),Fi=Mi.next();!Fi.done;Fi=Mi.next())if(Fi.value._nodeType===Oe.NodeType.Element)throw new Ee.HierarchyRequestError("The document node already has a document element node.")}catch(ai){Je={error:ai}}finally{try{Fi&&!Fi.done&&(ri=Mi.return)&&ri.call(Mi)}finally{if(Je)throw Je.error}}if(Ge){if(ci===Oe.NodeType.DocumentType)throw new Ee.HierarchyRequestError("Cannot insert an element node before a document type node.");for(var Di=Ge._nextSibling;Di;){if(Di._nodeType===Oe.NodeType.DocumentType)throw new Ee.HierarchyRequestError("Cannot insert an element node before a document type node.");Di=Di._nextSibling}}}}else if(Pi===Oe.NodeType.Element){try{for(var oi=_e(qe._children),Ke=oi.next();!Ke.done;Ke=oi.next())if(Ke.value._nodeType===Oe.NodeType.Element)throw new Ee.HierarchyRequestError("Document already has a document element node. Node is "+We.nodeName+".")}catch(ai){hi={error:ai}}finally{try{Ke&&!Ke.done&&(pi=oi.return)&&pi.call(oi)}finally{if(hi)throw hi.error}}if(Ge){if(ci===Oe.NodeType.DocumentType)throw new Ee.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+We.nodeName+".");for(Di=Ge._nextSibling;Di;){if(Di._nodeType===Oe.NodeType.DocumentType)throw new Ee.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+We.nodeName+".");Di=Di._nextSibling}}}else if(Pi===Oe.NodeType.DocumentType){try{for(var St=_e(qe._children),ei=St.next();!ei.done;ei=St.next())if(ei.value._nodeType===Oe.NodeType.DocumentType)throw new Ee.HierarchyRequestError("Document already has a document type node. Node is "+We.nodeName+".")}catch(ai){ni={error:ai}}finally{try{ei&&!ei.done&&(di=St.return)&&di.call(St)}finally{if(ni)throw ni.error}}if(Ge)for(var ui=Ge._previousSibling;ui;){if(ui._nodeType===Oe.NodeType.Element)throw new Ee.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+We.nodeName+".");ui=ui._previousSibling}else for(ui=qe._firstChild;ui;){if(ui._nodeType===Oe.NodeType.Element)throw new Ee.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+We.nodeName+".");ui=ui._nextSibling}}}}function He(We,qe,Ge){Ve(We,qe,Ge);var Ye=Ge;return Ye===We&&(Ye=We._nextSibling),je.document_adopt(We,qe._nodeDocument),ze(We,qe,Ye),We}function ze(We,qe,Ge,Ye){var Qe,Je;if(Ge!==null||We._nodeType===Oe.NodeType.DocumentFragment){var ri=We._nodeType===Oe.NodeType.DocumentFragment?We._children.size:1;if(Ge!==null&&Pe.dom.rangeList.size!==0){var hi=Fe.tree_index(Ge);try{for(var pi=_e(Pe.dom.rangeList),ni=pi.next();!ni.done;ni=pi.next()){var di=ni.value;di._start[0]===qe&&di._start[1]>hi&&(di._start[1]+=ri),di._end[0]===qe&&di._end[1]>hi&&(di._end[1]+=ri)}}catch(Fi){Qe={error:Fi}}finally{try{ni&&!ni.done&&(Je=pi.return)&&Je.call(pi)}finally{if(Qe)throw Qe.error}}}var fi=We._nodeType===Oe.NodeType.DocumentFragment?new(Array.bind.apply(Array,Ce([void 0],We._children))):[We];if(We._nodeType===Oe.NodeType.DocumentFragment)for(;We._firstChild;)Ue(We._firstChild,We,!0);Pe.dom.features.mutationObservers&&We._nodeType===Oe.NodeType.DocumentFragment&&Ie.observer_queueTreeMutationRecord(We,[],fi,null,null);for(var Pi=Ge?Ge._previousSibling:qe._lastChild,ci=Ge===null?-1:Fe.tree_index(Ge),xi=0;xi<fi.length;xi++){var yi=fi[xi];if(Me.Guard.isElementNode(yi)&&(Me.Guard.isDocumentNode(qe)&&(qe._documentElement=yi),yi._nodeDocument._hasNamespaces||yi._namespace===null&&yi._namespacePrefix===null||(yi._nodeDocument._hasNamespaces=!0)),yi._parent=qe,Ge===null?Te.set.append(qe._children,yi):(Te.set.insert(qe._children,yi,ci),ci++),qe._firstChild===null)yi._previousSibling=null,yi._nextSibling=null,qe._firstChild=yi,qe._lastChild=yi;else{var gi=Ge?Ge._previousSibling:qe._lastChild,Ai=Ge||null;yi._previousSibling=gi,yi._nextSibling=Ai,gi&&(gi._nextSibling=yi),Ai&&(Ai._previousSibling=yi),gi||(qe._firstChild=yi),Ai||(qe._lastChild=yi)}Pe.dom.features.slots&&qe._shadowRoot!==null&&Me.Guard.isSlotable(yi)&&Be.shadowTree_assignASlot(yi),Pe.dom.features.steps&&Me.Guard.isTextNode(yi)&&Re.dom_runChildTextContentChangeSteps(qe),Pe.dom.features.slots&&Me.Guard.isShadowRoot(Fe.tree_rootNode(qe))&&Me.Guard.isSlot(qe)&&De.isEmpty(qe._assignedNodes)&&Be.shadowTree_signalASlotChange(qe),Pe.dom.features.slots&&Be.shadowTree_assignSlotablesForATree(Fe.tree_rootNode(yi));for(var Mi=Fe.tree_getFirstDescendantNode(yi,!0,!0);Mi!==null;)Pe.dom.features.steps&&Re.dom_runInsertionSteps(Mi),Pe.dom.features.customElements&&Me.Guard.isElementNode(Mi)&&Be.shadowTree_isConnected(Mi)&&(Me.Guard.isCustomElementNode(Mi)?ke.customElement_enqueueACustomElementCallbackReaction(Mi,"connectedCallback",[]):ke.customElement_tryToUpgrade(Mi)),Mi=Fe.tree_getNextDescendantNode(yi,Mi,!0,!0)}Pe.dom.features.mutationObservers&&(Ye||Ie.observer_queueTreeMutationRecord(qe,fi,[],Pi,Ge))}else(function(Fi,Di,oi){var Ke=Di._lastChild;if(Me.Guard.isElementNode(Fi)&&(Me.Guard.isDocumentNode(Di)&&(Di._documentElement=Fi),Fi._nodeDocument._hasNamespaces||Fi._namespace===null&&Fi._namespacePrefix===null||(Fi._nodeDocument._hasNamespaces=!0)),Fi._parent=Di,Di._children.add(Fi),Di._firstChild===null)Fi._previousSibling=null,Fi._nextSibling=null,Di._firstChild=Fi,Di._lastChild=Fi;else{var St=Di._lastChild;Fi._previousSibling=St,Fi._nextSibling=null,St&&(St._nextSibling=Fi),St||(Di._firstChild=Fi),Di._lastChild=Fi}Pe.dom.features.slots&&Di._shadowRoot!==null&&Me.Guard.isSlotable(Fi)&&Be.shadowTree_assignASlot(Fi),Pe.dom.features.steps&&Me.Guard.isTextNode(Fi)&&Re.dom_runChildTextContentChangeSteps(Di),Pe.dom.features.slots&&Me.Guard.isShadowRoot(Fe.tree_rootNode(Di))&&Me.Guard.isSlot(Di)&&De.isEmpty(Di._assignedNodes)&&Be.shadowTree_signalASlotChange(Di),Pe.dom.features.slots&&Be.shadowTree_assignSlotablesForATree(Fe.tree_rootNode(Fi)),Pe.dom.features.steps&&Re.dom_runInsertionSteps(Fi),Pe.dom.features.customElements&&Me.Guard.isElementNode(Fi)&&Be.shadowTree_isConnected(Fi)&&(Me.Guard.isCustomElementNode(Fi)?ke.customElement_enqueueACustomElementCallbackReaction(Fi,"connectedCallback",[]):ke.customElement_tryToUpgrade(Fi)),Pe.dom.features.mutationObservers&&(oi||Ie.observer_queueTreeMutationRecord(Di,[Fi],[],Ke,null))})(We,qe,Ye)}function Ue(We,qe,Ge){var Ye,Qe,Je,ri,hi,pi,ni,di;if(Pe.dom.rangeList.size!==0){var fi=Fe.tree_index(We);try{for(var Pi=_e(Pe.dom.rangeList),ci=Pi.next();!ci.done;ci=Pi.next()){var xi=ci.value;Fe.tree_isDescendantOf(We,xi._start[0],!0)&&(xi._start=[qe,fi]),Fe.tree_isDescendantOf(We,xi._end[0],!0)&&(xi._end=[qe,fi]),xi._start[0]===qe&&xi._start[1]>fi&&xi._start[1]--,xi._end[0]===qe&&xi._end[1]>fi&&xi._end[1]--}}catch(ki){Ye={error:ki}}finally{try{ci&&!ci.done&&(Qe=Pi.return)&&Qe.call(Pi)}finally{if(Ye)throw Ye.error}}try{for(var yi=_e(Pe.dom.rangeList),gi=yi.next();!gi.done;gi=yi.next())(xi=gi.value)._start[0]===qe&&xi._start[1]>fi&&(xi._start[1]-=1),xi._end[0]===qe&&xi._end[1]>fi&&(xi._end[1]-=1)}catch(ki){Je={error:ki}}finally{try{gi&&!gi.done&&(ri=yi.return)&&ri.call(yi)}finally{if(Je)throw Je.error}}}if(Pe.dom.features.steps)try{for(var Ai=_e($e.nodeIterator_iteratorList()),Mi=Ai.next();!Mi.done;Mi=Ai.next()){var Fi=Mi.value;Fi._root._nodeDocument===We._nodeDocument&&Re.dom_runNodeIteratorPreRemovingSteps(Fi,We)}}catch(ki){hi={error:ki}}finally{try{Mi&&!Mi.done&&(pi=Ai.return)&&pi.call(Ai)}finally{if(hi)throw hi.error}}var Di=We._previousSibling,oi=We._nextSibling;Me.Guard.isDocumentNode(qe)&&Me.Guard.isElementNode(We)&&(qe._documentElement=null),We._parent=null,qe._children.delete(We);var Ke=We._previousSibling,St=We._nextSibling;We._previousSibling=null,We._nextSibling=null,Ke&&(Ke._nextSibling=St),St&&(St._previousSibling=Ke),Ke||(qe._firstChild=St),St||(qe._lastChild=Ke),Pe.dom.features.slots&&Me.Guard.isSlotable(We)&&We._assignedSlot!==null&&Be.shadowTree_isAssigned(We)&&Be.shadowTree_assignSlotables(We._assignedSlot),Pe.dom.features.slots&&Me.Guard.isShadowRoot(Fe.tree_rootNode(qe))&&Me.Guard.isSlot(qe)&&De.isEmpty(qe._assignedNodes)&&Be.shadowTree_signalASlotChange(qe),Pe.dom.features.slots&&Fe.tree_getFirstDescendantNode(We,!0,!1,function(ki){return Me.Guard.isSlot(ki)})!==null&&(Be.shadowTree_assignSlotablesForATree(Fe.tree_rootNode(qe)),Be.shadowTree_assignSlotablesForATree(We)),Pe.dom.features.steps&&Re.dom_runRemovingSteps(We,qe),Pe.dom.features.customElements&&Me.Guard.isCustomElementNode(We)&&ke.customElement_enqueueACustomElementCallbackReaction(We,"disconnectedCallback",[]);for(var ei=Fe.tree_getFirstDescendantNode(We,!1,!0);ei!==null;)Pe.dom.features.steps&&Re.dom_runRemovingSteps(ei,We),Pe.dom.features.customElements&&Me.Guard.isCustomElementNode(ei)&&ke.customElement_enqueueACustomElementCallbackReaction(ei,"disconnectedCallback",[]),ei=Fe.tree_getNextDescendantNode(We,ei,!1,!0);if(Pe.dom.features.mutationObservers)for(var ui=Fe.tree_getFirstAncestorNode(qe,!0);ui!==null;){try{for(var ai=(ni=void 0,_e(ui._registeredObserverList)),ii=ai.next();!ii.done;ii=ai.next()){var Ci=ii.value;Ci.options.subtree&&We._registeredObserverList.push({observer:Ci.observer,options:Ci.options,source:Ci})}}catch(ki){ni={error:ki}}finally{try{ii&&!ii.done&&(di=ai.return)&&di.call(ai)}finally{if(ni)throw ni.error}}ui=Fe.tree_getNextAncestorNode(qe,ui,!0)}Pe.dom.features.mutationObservers&&(Ge||Ie.observer_queueTreeMutationRecord(qe,[],[We],Di,oi)),Pe.dom.features.steps&&Me.Guard.isTextNode(We)&&Re.dom_runChildTextContentChangeSteps(qe)}xe.mutation_ensurePreInsertionValidity=Ve,xe.mutation_preInsert=He,xe.mutation_insert=ze,xe.mutation_append=function(We,qe){return He(We,qe,null)},xe.mutation_replace=function(We,qe,Ge){var Ye,Qe,Je,ri,hi,pi,ni,di;if(Ge._nodeType!==Oe.NodeType.Document&&Ge._nodeType!==Oe.NodeType.DocumentFragment&&Ge._nodeType!==Oe.NodeType.Element)throw new Ee.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+Ge.nodeName+".");if(Fe.tree_isHostIncludingAncestorOf(Ge,qe,!0))throw new Ee.HierarchyRequestError("The node to be inserted cannot be an ancestor of parent node. Node is "+qe.nodeName+", parent node is "+Ge.nodeName+".");if(We._parent!==Ge)throw new Ee.NotFoundError("The reference child node cannot be found under parent node. Child node is "+We.nodeName+", parent node is "+Ge.nodeName+".");if(qe._nodeType!==Oe.NodeType.DocumentFragment&&qe._nodeType!==Oe.NodeType.DocumentType&&qe._nodeType!==Oe.NodeType.Element&&qe._nodeType!==Oe.NodeType.Text&&qe._nodeType!==Oe.NodeType.ProcessingInstruction&&qe._nodeType!==Oe.NodeType.CData&&qe._nodeType!==Oe.NodeType.Comment)throw new Ee.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+qe.nodeName+".");if(qe._nodeType===Oe.NodeType.Text&&Ge._nodeType===Oe.NodeType.Document)throw new Ee.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+qe.nodeName+".");if(qe._nodeType===Oe.NodeType.DocumentType&&Ge._nodeType!==Oe.NodeType.Document)throw new Ee.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+Ge.nodeName+".");if(Ge._nodeType===Oe.NodeType.Document){if(qe._nodeType===Oe.NodeType.DocumentFragment){var fi=0;try{for(var Pi=_e(qe._children),ci=Pi.next();!ci.done;ci=Pi.next()){var xi=ci.value;if(xi._nodeType===Oe.NodeType.Element)fi++;else if(xi._nodeType===Oe.NodeType.Text)throw new Ee.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+xi.nodeName+".")}}catch(Ci){Ye={error:Ci}}finally{try{ci&&!ci.done&&(Qe=Pi.return)&&Qe.call(Pi)}finally{if(Ye)throw Ye.error}}if(fi>1)throw new Ee.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+fi+" element nodes.");if(fi===1){try{for(var yi=_e(Ge._children),gi=yi.next();!gi.done;gi=yi.next())if((Ke=gi.value)._nodeType===Oe.NodeType.Element&&Ke!==We)throw new Ee.HierarchyRequestError("The document node already has a document element node.")}catch(Ci){Je={error:Ci}}finally{try{gi&&!gi.done&&(ri=yi.return)&&ri.call(yi)}finally{if(Je)throw Je.error}}for(var Ai=We._nextSibling;Ai;){if(Ai._nodeType===Oe.NodeType.DocumentType)throw new Ee.HierarchyRequestError("Cannot insert an element node before a document type node.");Ai=Ai._nextSibling}}}else if(qe._nodeType===Oe.NodeType.Element){try{for(var Mi=_e(Ge._children),Fi=Mi.next();!Fi.done;Fi=Mi.next())if((Ke=Fi.value)._nodeType===Oe.NodeType.Element&&Ke!==We)throw new Ee.HierarchyRequestError("Document already has a document element node. Node is "+qe.nodeName+".")}catch(Ci){hi={error:Ci}}finally{try{Fi&&!Fi.done&&(pi=Mi.return)&&pi.call(Mi)}finally{if(hi)throw hi.error}}for(Ai=We._nextSibling;Ai;){if(Ai._nodeType===Oe.NodeType.DocumentType)throw new Ee.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+qe.nodeName+".");Ai=Ai._nextSibling}}else if(qe._nodeType===Oe.NodeType.DocumentType){try{for(var Di=_e(Ge._children),oi=Di.next();!oi.done;oi=Di.next()){var Ke;if((Ke=oi.value)._nodeType===Oe.NodeType.DocumentType&&Ke!==We)throw new Ee.HierarchyRequestError("Document already has a document type node. Node is "+qe.nodeName+".")}}catch(Ci){ni={error:Ci}}finally{try{oi&&!oi.done&&(di=Di.return)&&di.call(Di)}finally{if(ni)throw ni.error}}for(var St=We._previousSibling;St;){if(St._nodeType===Oe.NodeType.Element)throw new Ee.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+qe.nodeName+".");St=St._previousSibling}}}var ei=We._nextSibling;ei===qe&&(ei=qe._nextSibling);var ui=We._previousSibling;je.document_adopt(qe,Ge._nodeDocument);var ai=[];We._parent!==null&&(ai.push(We),Ue(We,We._parent,!0));var ii=[];return qe._nodeType===Oe.NodeType.DocumentFragment?ii=Array.from(qe._children):ii.push(qe),ze(qe,Ge,ei,!0),Pe.dom.features.mutationObservers&&Ie.observer_queueTreeMutationRecord(Ge,ii,ai,ui,ei),We},xe.mutation_replaceAll=function(We,qe){var Ge,Ye;We!==null&&je.document_adopt(We,qe._nodeDocument);var Qe=Array.from(qe._children),Je=[];We&&We._nodeType===Oe.NodeType.DocumentFragment?Je=Array.from(We._children):We!==null&&Je.push(We);try{for(var ri=_e(Qe),hi=ri.next();!hi.done;hi=ri.next())Ue(hi.value,qe,!0)}catch(pi){Ge={error:pi}}finally{try{hi&&!hi.done&&(Ye=ri.return)&&Ye.call(ri)}finally{if(Ge)throw Ge.error}}We!==null&&ze(We,qe,null,!0),Pe.dom.features.mutationObservers&&Ie.observer_queueTreeMutationRecord(qe,Je,Qe,null,null)},xe.mutation_preRemove=function(We,qe){if(We._parent!==qe)throw new Ee.NotFoundError("The child node cannot be found under parent node. Child node is "+We.nodeName+", parent node is "+qe.nodeName+".");return Ue(We,qe),We},xe.mutation_remove=Ue},function(r,xe,Se){function _e(Ae){return Ae==null}r.exports.isNothing=_e,r.exports.isObject=function(Ae){return typeof Ae=="object"&&Ae!==null},r.exports.toArray=function(Ae){return Array.isArray(Ae)?Ae:_e(Ae)?[]:[Ae]},r.exports.repeat=function(Ae,Ce){var Pe,Ee="";for(Pe=0;Pe<Ce;Pe+=1)Ee+=Ae;return Ee},r.exports.isNegativeZero=function(Ae){return Ae===0&&Number.NEGATIVE_INFINITY===1/Ae},r.exports.extend=function(Ae,Ce){var Pe,Ee,Oe,Me;if(Ce)for(Pe=0,Ee=(Me=Object.keys(Ce)).length;Pe<Ee;Pe+=1)Ae[Oe=Me[Pe]]=Ce[Oe];return Ae}},function(r,xe,Se){var _e=Se(38),Ae=Se(53),Ce=Se(10);function Pe(Oe,Me,De){var Te=[];return Oe.include.forEach(function(ke){De=Pe(ke,Me,De)}),Oe[Me].forEach(function(ke){De.forEach(function(Fe,$e){Fe.tag===ke.tag&&Fe.kind===ke.kind&&Te.push($e)}),De.push(ke)}),De.filter(function(ke,Fe){return Te.indexOf(Fe)===-1})}function Ee(Oe){this.include=Oe.include||[],this.implicit=Oe.implicit||[],this.explicit=Oe.explicit||[],this.implicit.forEach(function(Me){if(Me.loadKind&&Me.loadKind!=="scalar")throw new Ae("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=Pe(this,"implicit",[]),this.compiledExplicit=Pe(this,"explicit",[]),this.compiledTypeMap=function(){var Me,De,Te={scalar:{},sequence:{},mapping:{},fallback:{}};function ke(Fe){Te[Fe.kind][Fe.tag]=Te.fallback[Fe.tag]=Fe}for(Me=0,De=arguments.length;Me<De;Me+=1)arguments[Me].forEach(ke);return Te}(this.compiledImplicit,this.compiledExplicit)}Ee.DEFAULT=null,Ee.create=function(){var Oe,Me;switch(arguments.length){case 1:Oe=Ee.DEFAULT,Me=arguments[0];break;case 2:Oe=arguments[0],Me=arguments[1];break;default:throw new Ae("Wrong number of arguments for Schema.create function")}if(Oe=_e.toArray(Oe),Me=_e.toArray(Me),!Oe.every(function(De){return De instanceof Ee}))throw new Ae("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!Me.every(function(De){return De instanceof Ce}))throw new Ae("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new Ee({include:Oe,explicit:Me})},r.exports=Ee},function(r,xe){r.exports=function(Se,_e){return{enumerable:!(1&Se),configurable:!(2&Se),writable:!(4&Se),value:_e}}},function(r,xe,Se){var _e=Se(8),Ae=Se(42),Ce="".split;r.exports=_e(function(){return!Object("z").propertyIsEnumerable(0)})?function(Pe){return Ae(Pe)=="String"?Ce.call(Pe,""):Object(Pe)}:Object},function(r,xe){var Se={}.toString;r.exports=function(_e){return Se.call(_e).slice(8,-1)}},function(r,xe,Se){var _e,Ae,Ce,Pe=Se(186),Ee=Se(11),Oe=Se(13),Me=Se(21),De=Se(14),Te=Se(57),ke=Se(45),Fe=Ee.WeakMap;if(Pe){var $e=new Fe,Be=$e.get,Ie=$e.has,Re=$e.set;_e=function(Ve,He){return Re.call($e,Ve,He),He},Ae=function(Ve){return Be.call($e,Ve)||{}},Ce=function(Ve){return Ie.call($e,Ve)}}else{var je=Te("state");ke[je]=!0,_e=function(Ve,He){return Me(Ve,je,He),He},Ae=function(Ve){return De(Ve,je)?Ve[je]:{}},Ce=function(Ve){return De(Ve,je)}}r.exports={set:_e,get:Ae,has:Ce,enforce:function(Ve){return Ce(Ve)?Ae(Ve):_e(Ve,{})},getterFor:function(Ve){return function(He){var ze;if(!Oe(He)||(ze=Ae(He)).type!==Ve)throw TypeError("Incompatible receiver, "+Ve+" required");return ze}}}},function(r,xe){r.exports=!1},function(r,xe){r.exports={}},function(r,xe,Se){var _e=Se(120),Ae=Se(11),Ce=function(Pe){return typeof Pe=="function"?Pe:void 0};r.exports=function(Pe,Ee){return arguments.length<2?Ce(_e[Pe])||Ce(Ae[Pe]):_e[Pe]&&_e[Pe][Ee]||Ae[Pe]&&Ae[Pe][Ee]}},function(r,xe){var Se=Math.ceil,_e=Math.floor;r.exports=function(Ae){return isNaN(Ae=+Ae)?0:(Ae>0?_e:Se)(Ae)}},function(r,xe,Se){var _e=Se(8);r.exports=function(Ae,Ce){var Pe=[][Ae];return!!Pe&&_e(function(){Pe.call(null,Ce||function(){throw 1},1)})}},function(r,xe){r.exports={}},function(r,xe,Se){Se(31),Se(32),Se(33),Se(220),Se(64),Se(19),Se(65),Se(20),Se(68),Se(66),Se(92),Se(144),Se(22),Se(94),Se(23);var _e=this&&this.__values||function(Fe){var $e=typeof Symbol=="function"&&Symbol.iterator,Be=$e&&Fe[$e],Ie=0;if(Be)return Be.call(Fe);if(Fe&&typeof Fe.length=="number")return{next:function(){return Fe&&Ie>=Fe.length&&(Fe=void 0),{value:Fe&&Fe[Ie++],done:!Fe}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ae=this&&this.__read||function(Fe,$e){var Be=typeof Symbol=="function"&&Fe[Symbol.iterator];if(!Be)return Fe;var Ie,Re,je=Be.call(Fe),Ve=[];try{for(;($e===void 0||$e-- >0)&&!(Ie=je.next()).done;)Ve.push(Ie.value)}catch(He){Re={error:He}}finally{try{Ie&&!Ie.done&&(Be=je.return)&&Be.call(je)}finally{if(Re)throw Re.error}}return Ve},Ce=this&&this.__spread||function(){for(var Fe=[],$e=0;$e<arguments.length;$e++)Fe=Fe.concat(Ae(arguments[$e]));return Fe};Object.defineProperty(xe,"__esModule",{value:!0});var Pe=Se(1),Ee=Se(69),Oe=Se(95),Me=Se(7),De=Se(0),Te=Se(258),ke=function(){function Fe($e){this.level=0,this._builderOptions=$e}return Fe.prototype.declaration=function($e,Be,Ie){},Fe.prototype.docType=function($e,Be,Ie){},Fe.prototype.comment=function($e){},Fe.prototype.text=function($e){},Fe.prototype.instruction=function($e,Be){},Fe.prototype.cdata=function($e){},Fe.prototype.openTagBegin=function($e){},Fe.prototype.openTagEnd=function($e,Be,Ie){},Fe.prototype.closeTag=function($e){},Fe.prototype.attributes=function($e){var Be,Ie;try{for(var Re=_e($e),je=Re.next();!je.done;je=Re.next()){var Ve=je.value;this.attribute(Ve[1]===null?Ve[2]:Ve[1]+":"+Ve[2],Ve[3])}}catch(He){Be={error:He}}finally{try{je&&!je.done&&(Ie=Re.return)&&Ie.call(Re)}finally{if(Be)throw Be.error}}},Fe.prototype.attribute=function($e,Be){},Fe.prototype.beginElement=function($e){},Fe.prototype.endElement=function($e){},Fe.prototype.serializeNode=function($e,Be){var Ie=$e._nodeDocument!==void 0&&$e._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=$e,Ie){var Re=new Oe.NamespacePrefixMap;Re.set("xml",Me.namespace.XML),this._serializeNodeNS($e,null,Re,{value:1},Be)}else this._serializeNode($e,Be)},Fe.prototype._serializeNodeNS=function($e,Be,Ie,Re,je){switch(this.currentNode=$e,$e.nodeType){case Pe.NodeType.Element:this._serializeElementNS($e,Be,Ie,Re,je);break;case Pe.NodeType.Document:this._serializeDocumentNS($e,Be,Ie,Re,je);break;case Pe.NodeType.Comment:this._serializeComment($e,je);break;case Pe.NodeType.Text:this._serializeText($e,je);break;case Pe.NodeType.DocumentFragment:this._serializeDocumentFragmentNS($e,Be,Ie,Re,je);break;case Pe.NodeType.DocumentType:this._serializeDocumentType($e,je);break;case Pe.NodeType.ProcessingInstruction:this._serializeProcessingInstruction($e,je);break;case Pe.NodeType.CData:this._serializeCData($e,je);break;default:throw new Error("Unknown node type: "+$e.nodeType)}},Fe.prototype._serializeNode=function($e,Be){switch(this.currentNode=$e,$e.nodeType){case Pe.NodeType.Element:this._serializeElement($e,Be);break;case Pe.NodeType.Document:this._serializeDocument($e,Be);break;case Pe.NodeType.Comment:this._serializeComment($e,Be);break;case Pe.NodeType.Text:this._serializeText($e,Be);break;case Pe.NodeType.DocumentFragment:this._serializeDocumentFragment($e,Be);break;case Pe.NodeType.DocumentType:this._serializeDocumentType($e,Be);break;case Pe.NodeType.ProcessingInstruction:this._serializeProcessingInstruction($e,Be);break;case Pe.NodeType.CData:this._serializeCData($e,Be);break;default:throw new Error("Unknown node type: "+$e.nodeType)}},Fe.prototype._serializeElementNS=function($e,Be,Ie,Re,je){var Ve,He,ze=[];if(je&&($e.localName.indexOf(":")!==-1||!De.xml_isName($e.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var Ue="",We=!1,qe=!1,Ge=Ie.copy(),Ye={},Qe=this._recordNamespaceInformation($e,Ge,Ye),Je=Be,ri=$e.namespaceURI;if(Je===ri)Qe!==null&&(qe=!0),Ue=ri===Me.namespace.XML?"xml:"+$e.localName:$e.localName,this.beginElement(Ue),this.openTagBegin(Ue);else{var hi=$e.prefix,pi=null;if(hi===null&&ri===Qe||(pi=Ge.get(hi,ri)),hi==="xmlns"){if(je)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");pi=hi}pi!==null?(Ue=pi+":"+$e.localName,Qe!==null&&Qe!==Me.namespace.XML&&(Je=Qe||null),this.beginElement(Ue),this.openTagBegin(Ue)):hi!==null?(hi in Ye&&(hi=this._generatePrefix(ri,Ge,Re)),Ge.set(hi,ri),Ue+=hi+":"+$e.localName,this.beginElement(Ue),this.openTagBegin(Ue),ze.push([null,"xmlns",hi,this._serializeAttributeValue(ri,je)]),Qe!==null&&(Je=Qe||null)):Qe===null||Qe!==null&&Qe!==ri?(qe=!0,Ue+=$e.localName,Je=ri,this.beginElement(Ue),this.openTagBegin(Ue),ze.push([null,null,"xmlns",this._serializeAttributeValue(ri,je)])):(Ue+=$e.localName,Je=ri,this.beginElement(Ue),this.openTagBegin(Ue))}ze.push.apply(ze,Ce(this._serializeAttributesNS($e,Ge,Re,Ye,qe,je))),this.attributes(ze);var ni=ri===Me.namespace.HTML;if(ni&&$e.childNodes.length===0&&Fe._VoidElementNames.has($e.localName)?(this.openTagEnd(Ue,!0,!0),this.endElement(Ue),We=!0):ni||$e.childNodes.length!==0?this.openTagEnd(Ue,!1,!1):(this.openTagEnd(Ue,!0,!1),this.endElement(Ue),We=!0),!We){if(!(ni&&$e.localName==="template"))try{for(var di=_e($e.childNodes),fi=di.next();!fi.done;fi=di.next()){var Pi=fi.value;this.level++,this._serializeNodeNS(Pi,Je,Ge,Re,je),this.level--}}catch(ci){Ve={error:ci}}finally{try{fi&&!fi.done&&(He=di.return)&&He.call(di)}finally{if(Ve)throw Ve.error}}this.closeTag(Ue),this.endElement(Ue)}},Fe.prototype._serializeElement=function($e,Be){var Ie,Re;if(Be&&($e.localName.indexOf(":")!==-1||!De.xml_isName($e.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var je=!1,Ve=$e.localName;this.beginElement(Ve),this.openTagBegin(Ve);var He=this._serializeAttributes($e,Be);if(this.attributes(He),$e.hasChildNodes()?this.openTagEnd(Ve,!1,!1):(this.openTagEnd(Ve,!0,!1),this.endElement(Ve),je=!0),!je){try{for(var ze=_e($e._children),Ue=ze.next();!Ue.done;Ue=ze.next()){var We=Ue.value;this.level++,this._serializeNode(We,Be),this.level--}}catch(qe){Ie={error:qe}}finally{try{Ue&&!Ue.done&&(Re=ze.return)&&Re.call(ze)}finally{if(Ie)throw Ie.error}}this.closeTag(Ve),this.endElement(Ve)}},Fe.prototype._serializeDocumentNS=function($e,Be,Ie,Re,je){var Ve,He;if(je&&$e.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var ze=_e($e.childNodes),Ue=ze.next();!Ue.done;Ue=ze.next()){var We=Ue.value;this._serializeNodeNS(We,Be,Ie,Re,je)}}catch(qe){Ve={error:qe}}finally{try{Ue&&!Ue.done&&(He=ze.return)&&He.call(ze)}finally{if(Ve)throw Ve.error}}},Fe.prototype._serializeDocument=function($e,Be){var Ie,Re;if(Be&&$e.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var je=_e($e._children),Ve=je.next();!Ve.done;Ve=je.next()){var He=Ve.value;this._serializeNode(He,Be)}}catch(ze){Ie={error:ze}}finally{try{Ve&&!Ve.done&&(Re=je.return)&&Re.call(je)}finally{if(Ie)throw Ie.error}}},Fe.prototype._serializeComment=function($e,Be){if(Be&&(!De.xml_isLegalChar($e.data)||$e.data.indexOf("--")!==-1||$e.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");this.comment($e.data)},Fe.prototype._serializeText=function($e,Be){if(Be&&!De.xml_isLegalChar($e.data))throw new Error("Text data contains invalid characters (well-formed required).");var Ie=$e.data.replace(Te.nonEntityAmpersandRegex,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.text(Ie)},Fe.prototype._serializeDocumentFragmentNS=function($e,Be,Ie,Re,je){var Ve,He;try{for(var ze=_e($e.childNodes),Ue=ze.next();!Ue.done;Ue=ze.next()){var We=Ue.value;this._serializeNodeNS(We,Be,Ie,Re,je)}}catch(qe){Ve={error:qe}}finally{try{Ue&&!Ue.done&&(He=ze.return)&&He.call(ze)}finally{if(Ve)throw Ve.error}}},Fe.prototype._serializeDocumentFragment=function($e,Be){var Ie,Re;try{for(var je=_e($e._children),Ve=je.next();!Ve.done;Ve=je.next()){var He=Ve.value;this._serializeNode(He,Be)}}catch(ze){Ie={error:ze}}finally{try{Ve&&!Ve.done&&(Re=je.return)&&Re.call(je)}finally{if(Ie)throw Ie.error}}},Fe.prototype._serializeDocumentType=function($e,Be){if(Be&&!De.xml_isPubidChar($e.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(Be&&(!De.xml_isLegalChar($e.systemId)||$e.systemId.indexOf('"')!==-1&&$e.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");this.docType($e.name,$e.publicId,$e.systemId)},Fe.prototype._serializeProcessingInstruction=function($e,Be){if(Be&&($e.target.indexOf(":")!==-1||/^xml$/i.test($e.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(Be&&(!De.xml_isLegalChar($e.data)||$e.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");this.instruction($e.target,$e.data)},Fe.prototype._serializeCData=function($e,Be){if(Be&&$e.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");this.cdata($e.data)},Fe.prototype._serializeAttributesNS=function($e,Be,Ie,Re,je,Ve){var He,ze,Ue=[],We=Ve?new Ee.LocalNameSet:void 0;try{for(var qe=_e($e.attributes),Ge=qe.next();!Ge.done;Ge=qe.next()){var Ye=Ge.value;if(Ve||je||Ye.namespaceURI!==null){if(Ve&&We&&We.has(Ye.namespaceURI,Ye.localName))throw new Error("Element contains duplicate attributes (well-formed required).");Ve&&We&&We.set(Ye.namespaceURI,Ye.localName);var Qe=Ye.namespaceURI,Je=null;if(Qe!==null)if(Je=Be.get(Ye.prefix,Qe),Qe===Me.namespace.XMLNS){if(Ye.value===Me.namespace.XML||Ye.prefix===null&&je||Ye.prefix!==null&&(!(Ye.localName in Re)||Re[Ye.localName]!==Ye.value)&&Be.has(Ye.localName,Ye.value))continue;if(Ve&&Ye.value===Me.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(Ve&&Ye.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");Ye.prefix==="xmlns"&&(Je="xmlns")}else Je===null&&(Je=Ye.prefix===null||Be.hasPrefix(Ye.prefix)&&!Be.has(Ye.prefix,Qe)?this._generatePrefix(Qe,Be,Ie):Ye.prefix,Ue.push([null,"xmlns",Je,this._serializeAttributeValue(Qe,Ve)]));if(Ve&&(Ye.localName.indexOf(":")!==-1||!De.xml_isName(Ye.localName)||Ye.localName==="xmlns"&&Qe===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");Ue.push([Qe,Je,Ye.localName,this._serializeAttributeValue(Ye.value,Ve)])}else Ue.push([null,null,Ye.localName,this._serializeAttributeValue(Ye.value,Ve)])}}catch(ri){He={error:ri}}finally{try{Ge&&!Ge.done&&(ze=qe.return)&&ze.call(qe)}finally{if(He)throw He.error}}return Ue},Fe.prototype._serializeAttributes=function($e,Be){var Ie,Re,je=[],Ve=Be?{}:void 0;try{for(var He=_e($e.attributes),ze=He.next();!ze.done;ze=He.next()){var Ue=ze.value;if(Be){if(Be&&Ve&&Ue.localName in Ve)throw new Error("Element contains duplicate attributes (well-formed required).");if(Be&&Ve&&(Ve[Ue.localName]=!0),Be&&(Ue.localName.indexOf(":")!==-1||!De.xml_isName(Ue.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");je.push([null,null,Ue.localName,this._serializeAttributeValue(Ue.value,Be)])}else je.push([null,null,Ue.localName,this._serializeAttributeValue(Ue.value,Be)])}}catch(We){Ie={error:We}}finally{try{ze&&!ze.done&&(Re=He.return)&&Re.call(He)}finally{if(Ie)throw Ie.error}}return je},Fe.prototype._recordNamespaceInformation=function($e,Be,Ie){var Re,je,Ve=null;try{for(var He=_e($e.attributes),ze=He.next();!ze.done;ze=He.next()){var Ue=ze.value,We=Ue.namespaceURI,qe=Ue.prefix;if(We===Me.namespace.XMLNS){if(qe===null){Ve=Ue.value;continue}var Ge=Ue.localName,Ye=Ue.value;if(Ye===Me.namespace.XML||(Ye===""&&(Ye=null),Be.has(Ge,Ye)))continue;Be.set(Ge,Ye),Ie[Ge]=Ye||""}}}catch(Qe){Re={error:Qe}}finally{try{ze&&!ze.done&&(je=He.return)&&je.call(He)}finally{if(Re)throw Re.error}}return Ve},Fe.prototype._generatePrefix=function($e,Be,Ie){var Re="ns"+Ie.value.toString();return Ie.value++,Be.set(Re,$e),Re},Fe.prototype._serializeAttributeValue=function($e,Be){if(Be&&$e!==null&&!De.xml_isLegalChar($e))throw new Error("Invalid characters in attribute value.");return $e===null?"":$e.replace(Te.nonEntityAmpersandRegex,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},Fe._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),Fe}();xe.BaseWriter=ke},function(r,xe,Se){var _e=this&&this.__values||function($e){var Be=typeof Symbol=="function"&&Symbol.iterator,Ie=Be&&$e[Be],Re=0;if(Ie)return Ie.call($e);if($e&&typeof $e.length=="number")return{next:function(){return $e&&Re>=$e.length&&($e=void 0),{value:$e&&$e[Re++],done:!$e}}};throw new TypeError(Be?"Object is not iterable.":"Symbol.iterator is not defined.")},Ae=this&&this.__read||function($e,Be){var Ie=typeof Symbol=="function"&&$e[Symbol.iterator];if(!Ie)return $e;var Re,je,Ve=Ie.call($e),He=[];try{for(;(Be===void 0||Be-- >0)&&!(Re=Ve.next()).done;)He.push(Re.value)}catch(ze){je={error:ze}}finally{try{Re&&!Re.done&&(Ie=Ve.return)&&Ie.call(Ve)}finally{if(je)throw je.error}}return He};Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(6),Pe=Se(3),Ee=Se(7),Oe=Se(29),Me=Se(17),De=Se(97);function Te(){var $e=Ce.dom.window;$e._mutationObserverMicrotaskQueued||($e._mutationObserverMicrotaskQueued=!0,Promise.resolve().then(function(){ke()}))}function ke(){var $e,Be,Ie,Re,je=Ce.dom.window;je._mutationObserverMicrotaskQueued=!1;var Ve=Ee.set.clone(je._mutationObservers),He=Ee.set.clone(je._signalSlots);Ee.set.empty(je._signalSlots);var ze=function(Qe){var Je=Ee.list.clone(Qe._recordQueue);Ee.list.empty(Qe._recordQueue);for(var ri=0;ri<Qe._nodeList.length;ri++){var hi=Qe._nodeList[ri];Ee.list.remove(hi._registeredObserverList,function(pi){return Pe.Guard.isTransientRegisteredObserver(pi)&&pi.observer===Qe})}if(!Ee.list.isEmpty(Je))try{Qe._callback.call(Qe,Je,Qe)}catch{}};try{for(var Ue=_e(Ve),We=Ue.next();!We.done;We=Ue.next())ze(We.value)}catch(Qe){$e={error:Qe}}finally{try{We&&!We.done&&(Be=Ue.return)&&Be.call(Ue)}finally{if($e)throw $e.error}}if(Ce.dom.features.slots)try{for(var qe=_e(He),Ge=qe.next();!Ge.done;Ge=qe.next()){var Ye=Ge.value;De.event_fireAnEvent("slotchange",Ye,void 0,{bubbles:!0})}}catch(Qe){Ie={error:Qe}}finally{try{Ge&&!Ge.done&&(Re=qe.return)&&Re.call(qe)}finally{if(Ie)throw Ie.error}}}function Fe($e,Be,Ie,Re,je,Ve,He,ze,Ue){for(var We,qe,Ge=new Map,Ye=Me.tree_getFirstAncestorNode(Be,!0);Ye!==null;){for(var Qe=0;Qe<Ye._registeredObserverList.length;Qe++){var Je=Ye._registeredObserverList[Qe],ri=Je.options;if((Ye===Be||ri.subtree)&&($e!=="attributes"||ri.attributes)&&($e!=="attributes"||!ri.attributeFilter||ri.attributeFilter.indexOf(Ie||"")&&Re===null)&&($e!=="characterData"||ri.characterData)&&($e!=="childList"||ri.childList)){var hi=Je.observer;Ge.has(hi)||Ge.set(hi,null),($e==="attributes"&&ri.attributeOldValue||$e==="characterData"&&ri.characterDataOldValue)&&Ge.set(hi,je)}}Ye=Me.tree_getNextAncestorNode(Be,Ye,!0)}try{for(var pi=_e(Ge),ni=pi.next();!ni.done;ni=pi.next()){var di=Ae(ni.value,2),fi=di[0],Pi=di[1],ci=Oe.create_mutationRecord($e,Be,Oe.create_nodeListStatic(Be,Ve),Oe.create_nodeListStatic(Be,He),ze,Ue,Ie,Re,Pi);fi._recordQueue.push(ci)}}catch(xi){We={error:xi}}finally{try{ni&&!ni.done&&(qe=pi.return)&&qe.call(pi)}finally{if(We)throw We.error}}Te()}xe.observer_queueAMutationObserverMicrotask=Te,xe.observer_notifyMutationObservers=ke,xe.observer_queueMutationRecord=Fe,xe.observer_queueTreeMutationRecord=function($e,Be,Ie,Re,je){Fe("childList",$e,null,null,null,Be,Ie,Re,je)},xe.observer_queueAttributeMutationRecord=function($e,Be,Ie,Re){Fe("attributes",$e,Be,Ie,Re,[],[],null,null)}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(6),Ae=Se(7),Ce=Se(3),Pe=Se(9),Ee=Se(29),Oe=Se(73),Me=Se(51),De=Se(30),Te=Se(37),ke=Se(106);function Fe(Ve,He,ze){_e.dom.features.mutationObservers&&Me.observer_queueAttributeMutationRecord(He,Ve._localName,Ve._namespace,Ve._value),_e.dom.features.customElements&&Ce.Guard.isCustomElementNode(He)&&Oe.customElement_enqueueACustomElementCallbackReaction(He,"attributeChangedCallback",[Ve._localName,Ve._value,ze,Ve._namespace]),_e.dom.features.steps&&De.dom_runAttributeChangeSteps(He,Ve._localName,Ve._value,ze,Ve._namespace),Ve._value=ze}function $e(Ve,He){_e.dom.features.mutationObservers&&Me.observer_queueAttributeMutationRecord(He,Ve._localName,Ve._namespace,null),_e.dom.features.customElements&&Ce.Guard.isCustomElementNode(He)&&Oe.customElement_enqueueACustomElementCallbackReaction(He,"attributeChangedCallback",[Ve._localName,null,Ve._value,Ve._namespace]),_e.dom.features.steps&&De.dom_runAttributeChangeSteps(He,Ve._localName,null,Ve._value,Ve._namespace),He._attributeList._asArray().push(Ve),Ve._element=He,He._nodeDocument._hasNamespaces||Ve._namespace===null&&Ve._namespacePrefix===null&&Ve._localName!=="xmlns"||(He._nodeDocument._hasNamespaces=!0)}function Be(Ve,He){_e.dom.features.mutationObservers&&Me.observer_queueAttributeMutationRecord(He,Ve._localName,Ve._namespace,Ve._value),_e.dom.features.customElements&&Ce.Guard.isCustomElementNode(He)&&Oe.customElement_enqueueACustomElementCallbackReaction(He,"attributeChangedCallback",[Ve._localName,Ve._value,null,Ve._namespace]),_e.dom.features.steps&&De.dom_runAttributeChangeSteps(He,Ve._localName,Ve._value,null,Ve._namespace);var ze=He._attributeList._asArray().indexOf(Ve);He._attributeList._asArray().splice(ze,1),Ve._element=null}function Ie(Ve,He,ze){_e.dom.features.mutationObservers&&Me.observer_queueAttributeMutationRecord(ze,Ve._localName,Ve._namespace,Ve._value),_e.dom.features.customElements&&Ce.Guard.isCustomElementNode(ze)&&Oe.customElement_enqueueACustomElementCallbackReaction(ze,"attributeChangedCallback",[Ve._localName,Ve._value,He._value,Ve._namespace]),_e.dom.features.steps&&De.dom_runAttributeChangeSteps(ze,Ve._localName,Ve._value,He._value,Ve._namespace);var Ue=ze._attributeList._asArray().indexOf(Ve);Ue!==-1&&(ze._attributeList._asArray()[Ue]=He),Ve._element=null,He._element=ze,ze._nodeDocument._hasNamespaces||He._namespace===null&&He._namespacePrefix===null&&He._localName!=="xmlns"||(ze._nodeDocument._hasNamespaces=!0)}function Re(Ve,He){return He._namespace===Ae.namespace.HTML&&He._nodeDocument._type==="html"&&(Ve=Ve.toLowerCase()),He._attributeList._asArray().find(function(ze){return ze._qualifiedName===Ve})||null}function je(Ve,He,ze){var Ue=Ve||null;return ze._attributeList._asArray().find(function(We){return We._namespace===Ue&&We._localName===He})||null}xe.element_has=function(Ve,He){return He._attributeList._asArray().indexOf(Ve)!==-1},xe.element_change=Fe,xe.element_append=$e,xe.element_remove=Be,xe.element_replace=Ie,xe.element_getAnAttributeByName=Re,xe.element_getAnAttributeByNamespaceAndLocalName=je,xe.element_getAnAttributeValue=function(Ve,He,ze){ze===void 0&&(ze="");var Ue=je(ze,He,Ve);return Ue===null?"":Ue._value},xe.element_setAnAttribute=function(Ve,He){if(Ve._element!==null&&Ve._element!==He)throw new Pe.InUseAttributeError("This attribute already exists in the document: "+Ve._qualifiedName+" as a child of "+Ve._element._qualifiedName+".");var ze=je(Ve._namespace||"",Ve._localName,He);return ze===Ve?Ve:(ze!==null?Ie(ze,Ve,He):$e(Ve,He),ze)},xe.element_setAnAttributeValue=function(Ve,He,ze,Ue,We){Ue===void 0&&(Ue=null),We===void 0&&(We=null);var qe=je(We||"",He,Ve);if(qe===null){var Ge=Ee.create_attr(Ve._nodeDocument,He);return Ge._namespace=We,Ge._namespacePrefix=Ue,Ge._value=ze,void $e(Ge,Ve)}Fe(qe,Ve,ze)},xe.element_removeAnAttributeByName=function(Ve,He){var ze=Re(Ve,He);return ze!==null&&Be(ze,He),ze},xe.element_removeAnAttributeByNamespaceAndLocalName=function(Ve,He,ze){var Ue=je(Ve,He,ze);return Ue!==null&&Be(Ue,ze),Ue},xe.element_createAnElement=function(Ve,He,ze,Ue,We,qe){Ue===void 0&&(Ue=null),We===void 0&&(We=null),qe===void 0&&(qe=!1);var Ge=null;if(!_e.dom.features.customElements)return(Ge=Ee.create_element(Ve,He,ze,Ue))._customElementState="uncustomized",Ge._customElementDefinition=null,Ge._is=We,Ge;var Ye=Oe.customElement_lookUpACustomElementDefinition(Ve,ze,He,We);if(Ye!==null&&Ye.name!==Ye.localName)(Ge=new(ke.document_elementInterface(He,Ae.namespace.HTML)))._localName=He,Ge._namespace=Ae.namespace.HTML,Ge._namespacePrefix=Ue,Ge._customElementState="undefined",Ge._customElementDefinition=null,Ge._is=We,Ge._nodeDocument=Ve,qe?Oe.customElement_upgrade(Ye,Ge):Oe.customElement_enqueueACustomElementUpgradeReaction(Ge,Ye);else if(Ye!==null)if(qe)try{var Qe=new Ye.constructor;if(console.assert(Qe._customElementState!==void 0),console.assert(Qe._customElementDefinition!==void 0),console.assert(Qe._namespace===Ae.namespace.HTML),Qe._attributeList.length!==0)throw new Pe.NotSupportedError("Custom element already has attributes.");if(Qe._children.size!==0)throw new Pe.NotSupportedError("Custom element already has child nodes.");if(Qe._parent!==null)throw new Pe.NotSupportedError("Custom element already has a parent node.");if(Qe._nodeDocument!==Ve)throw new Pe.NotSupportedError("Custom element is already in a document.");if(Qe._localName!==He)throw new Pe.NotSupportedError("Custom element has a different local name.");Qe._namespacePrefix=Ue,Qe._is=null}catch{(Ge=Ee.create_htmlUnknownElement(Ve,He,Ae.namespace.HTML,Ue))._customElementState="failed",Ge._customElementDefinition=null,Ge._is=null}else(Ge=Ee.create_htmlElement(Ve,He,Ae.namespace.HTML,Ue))._customElementState="undefined",Ge._customElementDefinition=null,Ge._is=null,Oe.customElement_enqueueACustomElementUpgradeReaction(Ge,Ye);else(Ge=new(ke.document_elementInterface(He,ze)))._localName=He,Ge._namespace=ze,Ge._namespacePrefix=Ue,Ge._customElementState="uncustomized",Ge._customElementDefinition=null,Ge._is=We,Ge._nodeDocument=Ve,ze!==Ae.namespace.HTML||We===null&&!Oe.customElement_isValidCustomElementName(He)||(Ge._customElementState="undefined");if(Ge===null)throw new Error("Unable to create element.");return Ge},xe.element_insertAdjacent=function(Ve,He,ze){switch(He.toLowerCase()){case"beforebegin":return Ve._parent===null?null:Te.mutation_preInsert(ze,Ve._parent,Ve);case"afterbegin":return Te.mutation_preInsert(ze,Ve,Ve._firstChild);case"beforeend":return Te.mutation_preInsert(ze,Ve,null);case"afterend":return Ve._parent===null?null:Te.mutation_preInsert(ze,Ve._parent,Ve._nextSibling);default:throw new Pe.SyntaxError(`Invalid 'where' argument. "beforebegin", "afterbegin", "beforeend" or "afterend" expected`)}}},function(r,xe,Se){function _e(Ae,Ce){Error.call(this),this.name="YAMLException",this.reason=Ae,this.mark=Ce,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}_e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e.prototype.toString=function(Ae){var Ce=this.name+": ";return Ce+=this.reason||"(unknown reason)",!Ae&&this.mark&&(Ce+=" "+this.mark.toString()),Ce},r.exports=_e},function(r,xe,Se){var _e=Se(39);r.exports=new _e({include:[Se(181)],implicit:[Se(294),Se(295)],explicit:[Se(296),Se(297),Se(298),Se(299)]})},function(r,xe,Se){var _e=Se(16),Ae=Se(79),Ce=Se(40),Pe=Se(24),Ee=Se(56),Oe=Se(14),Me=Se(115),De=Object.getOwnPropertyDescriptor;xe.f=_e?De:function(Te,ke){if(Te=Pe(Te),ke=Ee(ke,!0),Me)try{return De(Te,ke)}catch{}if(Oe(Te,ke))return Ce(!Ae.f.call(Te,ke),Te[ke])}},function(r,xe,Se){var _e=Se(13);r.exports=function(Ae,Ce){if(!_e(Ae))return Ae;var Pe,Ee;if(Ce&&typeof(Pe=Ae.toString)=="function"&&!_e(Ee=Pe.call(Ae))||typeof(Pe=Ae.valueOf)=="function"&&!_e(Ee=Pe.call(Ae))||!Ce&&typeof(Pe=Ae.toString)=="function"&&!_e(Ee=Pe.call(Ae)))return Ee;throw TypeError("Can't convert object to primitive value")}},function(r,xe,Se){var _e=Se(81),Ae=Se(58),Ce=_e("keys");r.exports=function(Pe){return Ce[Pe]||(Ce[Pe]=Ae(Pe))}},function(r,xe){var Se=0,_e=Math.random();r.exports=function(Ae){return"Symbol("+String(Ae===void 0?"":Ae)+")_"+(++Se+_e).toString(36)}},function(r,xe,Se){var _e=Se(42);r.exports=Array.isArray||function(Ae){return _e(Ae)=="Array"}},function(r,xe,Se){var _e,Ae=Se(18),Ce=Se(188),Pe=Se(84),Ee=Se(45),Oe=Se(189),Me=Se(116),De=Se(57),Te=De("IE_PROTO"),ke=function(){},Fe=function(Be){return"<script>"+Be+"<\/script>"},$e=function(){try{_e=document.domain&&new ActiveXObject("htmlfile")}catch{}var Be,Ie;$e=_e?function(je){je.write(Fe("")),je.close();var Ve=je.parentWindow.Object;return je=null,Ve}(_e):((Ie=Me("iframe")).style.display="none",Oe.appendChild(Ie),Ie.src="javascript:",(Be=Ie.contentWindow.document).open(),Be.write(Fe("document.F=Object")),Be.close(),Be.F);for(var Re=Pe.length;Re--;)delete $e.prototype[Pe[Re]];return $e()};Ee[Te]=!0,r.exports=Object.create||function(Be,Ie){var Re;return Be!==null?(ke.prototype=Ae(Be),Re=new ke,ke.prototype=null,Re[Te]=Be):Re=$e(),Ie===void 0?Re:Ce(Re,Ie)}},function(r,xe,Se){var _e=Se(121),Ae=Se(84);r.exports=Object.keys||function(Ce){return _e(Ce,Ae)}},function(r,xe,Se){var _e=Se(15).f,Ae=Se(14),Ce=Se(5)("toStringTag");r.exports=function(Pe,Ee,Oe){Pe&&!Ae(Pe=Oe?Pe:Pe.prototype,Ce)&&_e(Pe,Ce,{configurable:!0,value:Ee})}},function(r,xe,Se){var _e=Se(8),Ae=Se(5),Ce=Se(129),Pe=Ae("species");r.exports=function(Ee){return Ce>=51||!_e(function(){var Oe=[];return(Oe.constructor={})[Pe]=function(){return{foo:1}},Oe[Ee](Boolean).foo!==1})}},function(r,xe,Se){var _e=Se(4),Ae=Se(122).indexOf,Ce=Se(48),Pe=Se(28),Ee=[].indexOf,Oe=!!Ee&&1/[1].indexOf(1,-0)<0,Me=Ce("indexOf"),De=Pe("indexOf",{ACCESSORS:!0,1:0});_e({target:"Array",proto:!0,forced:Oe||!Me||!De},{indexOf:function(Te){return Oe?Ee.apply(this,arguments)||0:Ae(this,Te,arguments.length>1?arguments[1]:void 0)}})},function(r,xe,Se){var _e=Se(16),Ae=Se(15).f,Ce=Function.prototype,Pe=Ce.toString,Ee=/^\s*function ([^ (]*)/;_e&&!("name"in Ce)&&Ae(Ce,"name",{configurable:!0,get:function(){try{return Pe.call(this).match(Ee)[1]}catch{return""}}})},function(r,xe,Se){var _e=Se(25),Ae=Se(18),Ce=Se(8),Pe=Se(136),Ee=RegExp.prototype,Oe=Ee.toString,Me=Ce(function(){return Oe.call({source:"a",flags:"b"})!="/a/b"}),De=Oe.name!="toString";(Me||De)&&_e(RegExp.prototype,"toString",function(){var Te=Ae(this),ke=String(Te.source),Fe=Te.flags;return"/"+ke+"/"+String(Fe===void 0&&Te instanceof RegExp&&!("flags"in Ee)?Pe.call(Te):Fe)},{unsafe:!0})},function(r,xe,Se){Se(31),Se(32),Se(33),Se(19),Se(138),Se(20),Se(66),Se(22),Se(23);var _e,Ae=this&&this.__extends||(_e=function(Me,De){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,ke){Te.__proto__=ke}||function(Te,ke){for(var Fe in ke)ke.hasOwnProperty(Fe)&&(Te[Fe]=ke[Fe])})(Me,De)},function(Me,De){function Te(){this.constructor=Me}_e(Me,De),Me.prototype=De===null?Object.create(De):(Te.prototype=De.prototype,new Te)}),Ce=this&&this.__values||function(Me){var De=typeof Symbol=="function"&&Symbol.iterator,Te=De&&Me[De],ke=0;if(Te)return Te.call(Me);if(Me&&typeof Me.length=="number")return{next:function(){return Me&&ke>=Me.length&&(Me=void 0),{value:Me&&Me[ke++],done:!Me}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Pe=Se(2),Ee=Se(1),Oe=function(Me){function De(Te,ke){var Fe=Me.call(this,Te)||this;return Fe._writerOptions=Pe.applyDefaults(ke,{format:"object",wellFormed:!1,group:!1,verbose:!1}),Fe}return Ae(De,Me),De.prototype.serialize=function(Te){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(Te,this._writerOptions.wellFormed),this._process(this._currentList,this._writerOptions)},De.prototype._process=function(Te,ke){var Fe,$e,Be,Ie,Re,je,Ve;if(Te.length===0)return{};for(var He={},ze=!1,Ue=0,We=0,qe=0,Ge=0,Ye=0;Ye<Te.length;Ye++){var Qe=Te[Ye];switch(Di=Object.keys(Qe)[0]){case"@":continue;case"#":Ue++;break;case"!":We++;break;case"?":qe++;break;case"$":Ge++;break;default:He[Di]?ze=!0:He[Di]=!0}}var Je=this._getAttrKey(),ri=this._getNodeKey(Ee.NodeType.Text),hi=this._getNodeKey(Ee.NodeType.Comment),pi=this._getNodeKey(Ee.NodeType.ProcessingInstruction),ni=this._getNodeKey(Ee.NodeType.CData);if(Ue===1&&Te.length===1&&Pe.isString(Te[0]["#"]))return Te[0]["#"];if(ze){var di={};for(Ye=0;Ye<Te.length;Ye++)if(Qe=Te[Ye],(Di=Object.keys(Qe)[0])==="@"){var fi=Qe["@"];(oi=Object.keys(fi)).length===1?di[Je+oi[0]]=fi[oi[0]]:di[Je]=Qe["@"]}var Pi=[];for(Ye=0;Ye<Te.length;Ye++)switch(Qe=Te[Ye],Di=Object.keys(Qe)[0]){case"@":break;case"#":Pi.push(((Fe={})[ri]=Qe["#"],Fe));break;case"!":Pi.push((($e={})[hi]=Qe["!"],$e));break;case"?":Pi.push(((Be={})[pi]=Qe["?"],Be));break;case"$":Pi.push(((Ie={})[ni]=Qe.$,Ie));break;default:if((St=Qe)[Di].length!==0&&Pe.isArray(St[Di][0])){for(var ci=[],xi=St[Di],yi=0;yi<xi.length;yi++)ci.push(this._process(xi[yi],ke));Pi.push(((Re={})[Di]=ci,Re))}else ke.verbose?Pi.push(((je={})[Di]=[this._process(St[Di],ke)],je)):Pi.push(((Ve={})[Di]=this._process(St[Di],ke),Ve))}return di[ri]=Pi,di}var gi=1,Ai=1,Mi=1,Fi=1;for(di={},Ye=0;Ye<Te.length;Ye++){var Di;switch(Qe=Te[Ye],Di=Object.keys(Qe)[0]){case"@":fi=Qe["@"];var oi=Object.keys(fi);if(ke.group&&oi.length!==1)di[Je]=fi;else for(var Ke in fi)di[Je+Ke]=fi[Ke];break;case"#":gi=this._processSpecItem(Qe["#"],di,ke.group,ri,Ue,gi);break;case"!":Ai=this._processSpecItem(Qe["!"],di,ke.group,hi,We,Ai);break;case"?":Mi=this._processSpecItem(Qe["?"],di,ke.group,pi,qe,Mi);break;case"$":Fi=this._processSpecItem(Qe.$,di,ke.group,ni,Ge,Fi);break;default:var St;if((St=Qe)[Di].length!==0&&Pe.isArray(St[Di][0])){ci=[],xi=St[Di];for(var ei=0;ei<xi.length;ei++)ci.push(this._process(xi[ei],ke));di[Di]=ci}else ke.verbose?di[Di]=[this._process(St[Di],ke)]:di[Di]=this._process(St[Di],ke)}}return di},De.prototype._processSpecItem=function(Te,ke,Fe,$e,Be,Ie){var Re,je;if(!Fe&&Pe.isArray(Te)&&Be+Te.length>2)try{for(var Ve=Ce(Te),He=Ve.next();!He.done;He=Ve.next()){var ze=He.value;ke[$e+(Ie++).toString()]=ze}}catch(Ue){Re={error:Ue}}finally{try{He&&!He.done&&(je=Ve.return)&&je.call(Ve)}finally{if(Re)throw Re.error}}else ke[Be>1?$e+(Ie++).toString():$e]=Te;return Ie},De.prototype.beginElement=function(Te){var ke,Fe,$e=[];if(this._currentList.length===0)this._currentList.push(((ke={})[Te]=$e,ke));else{var Be=this._currentList[this._currentList.length-1];this._isElementNode(Be,Te)?Be[Te].length!==0&&Pe.isArray(Be[Te][0])?Be[Te].push($e):Be[Te]=[Be[Te],$e]:this._currentList.push(((Fe={})[Te]=$e,Fe))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=$e:this._listRegister.push($e),this._currentList=$e},De.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},De.prototype.attribute=function(Te,ke){var Fe,$e;if(this._currentList.length===0)this._currentList.push({"@":(Fe={},Fe[Te]=ke,Fe)});else{var Be=this._currentList[this._currentList.length-1];this._isAttrNode(Be)?Be["@"][Te]=ke:this._currentList.push({"@":($e={},$e[Te]=ke,$e)})}},De.prototype.comment=function(Te){if(this._currentList.length===0)this._currentList.push({"!":Te});else{var ke=this._currentList[this._currentList.length-1];this._isCommentNode(ke)?Pe.isArray(ke["!"])?ke["!"].push(Te):ke["!"]=[ke["!"],Te]:this._currentList.push({"!":Te})}},De.prototype.text=function(Te){if(this._currentList.length===0)this._currentList.push({"#":Te});else{var ke=this._currentList[this._currentList.length-1];this._isTextNode(ke)?Pe.isArray(ke["#"])?ke["#"].push(Te):ke["#"]=[ke["#"],Te]:this._currentList.push({"#":Te})}},De.prototype.instruction=function(Te,ke){var Fe=ke===""?Te:Te+" "+ke;if(this._currentList.length===0)this._currentList.push({"?":Fe});else{var $e=this._currentList[this._currentList.length-1];this._isInstructionNode($e)?Pe.isArray($e["?"])?$e["?"].push(Fe):$e["?"]=[$e["?"],Fe]:this._currentList.push({"?":Fe})}},De.prototype.cdata=function(Te){if(this._currentList.length===0)this._currentList.push({$:Te});else{var ke=this._currentList[this._currentList.length-1];this._isCDATANode(ke)?Pe.isArray(ke.$)?ke.$.push(Te):ke.$=[ke.$,Te]:this._currentList.push({$:Te})}},De.prototype._isAttrNode=function(Te){return"@"in Te},De.prototype._isTextNode=function(Te){return"#"in Te},De.prototype._isCommentNode=function(Te){return"!"in Te},De.prototype._isInstructionNode=function(Te){return"?"in Te},De.prototype._isCDATANode=function(Te){return"$"in Te},De.prototype._isElementNode=function(Te,ke){return ke in Te},De.prototype._getAttrKey=function(){return this._builderOptions.convert.att},De.prototype._getNodeKey=function(Te){switch(Te){case Ee.NodeType.Comment:return this._builderOptions.convert.comment;case Ee.NodeType.Text:return this._builderOptions.convert.text;case Ee.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case Ee.NodeType.CData:return this._builderOptions.convert.cdata;default:throw new Error("Invalid node type.")}},De}(Se(50).BaseWriter);xe.ObjectWriter=Oe},function(r,xe,Se){var _e=Se(4),Ae=Se(93);_e({target:"RegExp",proto:!0,forced:/./.exec!==Ae},{exec:Ae})},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=function(){function Ae(){this._items={},this._nullItems={}}return Ae.prototype.set=function(Ce,Pe){Ce===null?this._nullItems[Pe]=!0:(this._items[Ce]||(this._items[Ce]={}),this._items[Ce][Pe]=!0)},Ae.prototype.has=function(Ce,Pe){return Ce===null?this._nullItems[Pe]===!0:!!this._items[Ce]&&this._items[Ce][Pe]===!0},Ae}();xe.LocalNameSet=_e},function(r,xe,Se){var _e=this&&this.__read||function(Oe,Me){var De=typeof Symbol=="function"&&Oe[Symbol.iterator];if(!De)return Oe;var Te,ke,Fe=De.call(Oe),$e=[];try{for(;(Me===void 0||Me-- >0)&&!(Te=Fe.next()).done;)$e.push(Te.value)}catch(Be){ke={error:Be}}finally{try{Te&&!Te.done&&(De=Fe.return)&&De.call(Fe)}finally{if(ke)throw ke.error}}return $e};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(9),Ce=Se(3),Pe=Se(0),Ee=function(){function Oe(){}return Object.defineProperty(Oe.prototype,"_eventListenerList",{get:function(){return this.__eventListenerList||(this.__eventListenerList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(Oe.prototype,"_eventHandlerMap",{get:function(){return this.__eventHandlerMap||(this.__eventHandlerMap={})},enumerable:!0,configurable:!0}),Oe.prototype.addEventListener=function(Me,De,Te){Te===void 0&&(Te={passive:!1,once:!1,capture:!1});var ke,Fe=_e(Pe.eventTarget_flattenMore(Te),3),$e=Fe[0],Be=Fe[1],Ie=Fe[2];De&&(ke=Ce.Guard.isEventListener(De)?De:{handleEvent:De},Pe.eventTarget_addEventListener(this,{type:Me,callback:ke,capture:$e,passive:Be,once:Ie,removed:!1}))},Oe.prototype.removeEventListener=function(Me,De,Te){Te===void 0&&(Te={capture:!1});var ke=Pe.eventTarget_flatten(Te);if(De)for(var Fe=0;Fe<this._eventListenerList.length;Fe++){var $e=this._eventListenerList[Fe];if($e.type===Me&&$e.capture===ke){if(Ce.Guard.isEventListener(De)&&$e.callback===De){Pe.eventTarget_removeEventListener(this,$e,Fe);break}if(De&&$e.callback.handleEvent===De){Pe.eventTarget_removeEventListener(this,$e,Fe);break}}}},Oe.prototype.dispatchEvent=function(Me){if(Me._dispatchFlag||!Me._initializedFlag)throw new Ae.InvalidStateError;return Me._isTrusted=!1,Pe.event_dispatch(Me,this)},Oe.prototype._getTheParent=function(Me){return null},Oe}();xe.EventTargetImpl=Ee},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Oe,Me){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,Te){De.__proto__=Te}||function(De,Te){for(var ke in Te)Te.hasOwnProperty(ke)&&(De[ke]=Te[ke])})(Oe,Me)},function(Oe,Me){function De(){this.constructor=Oe}_e(Oe,Me),Oe.prototype=Me===null?Object.create(Me):(De.prototype=Me.prototype,new De)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(34),Pe=Se(0),Ee=function(Oe){function Me(De){var Te=Oe.call(this)||this;return Te._data=De,Te}return Ae(Me,Oe),Object.defineProperty(Me.prototype,"data",{get:function(){return this._data},set:function(De){Pe.characterData_replaceData(this,0,this._data.length,De)},enumerable:!0,configurable:!0}),Object.defineProperty(Me.prototype,"length",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),Me.prototype.substringData=function(De,Te){return Pe.characterData_substringData(this,De,Te)},Me.prototype.appendData=function(De){return Pe.characterData_replaceData(this,this._data.length,0,De)},Me.prototype.insertData=function(De,Te){Pe.characterData_replaceData(this,De,0,Te)},Me.prototype.deleteData=function(De,Te){Pe.characterData_replaceData(this,De,Te,"")},Me.prototype.replaceData=function(De,Te,ke){Pe.characterData_replaceData(this,De,Te,ke)},Object.defineProperty(Me.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Me.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Me.prototype.before=function(){for(var De=[],Te=0;Te<arguments.length;Te++)De[Te]=arguments[Te];throw new Error("Mixin: ChildNode not implemented.")},Me.prototype.after=function(){for(var De=[],Te=0;Te<arguments.length;Te++)De[Te]=arguments[Te];throw new Error("Mixin: ChildNode not implemented.")},Me.prototype.replaceWith=function(){for(var De=[],Te=0;Te<arguments.length;Te++)De[Te]=arguments[Te];throw new Error("Mixin: ChildNode not implemented.")},Me.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Me}(Ce.NodeImpl);xe.CharacterDataImpl=Ee},function(r,xe,Se){var _e=this&&this.__values||function(Be){var Ie=typeof Symbol=="function"&&Symbol.iterator,Re=Ie&&Be[Ie],je=0;if(Re)return Re.call(Be);if(Be&&typeof Be.length=="number")return{next:function(){return Be&&je>=Be.length&&(Be=void 0),{value:Be&&Be[je++],done:!Be}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")},Ae=this&&this.__read||function(Be,Ie){var Re=typeof Symbol=="function"&&Be[Symbol.iterator];if(!Re)return Be;var je,Ve,He=Re.call(Be),ze=[];try{for(;(Ie===void 0||Ie-- >0)&&!(je=He.next()).done;)ze.push(je.value)}catch(Ue){Ve={error:Ue}}finally{try{je&&!je.done&&(Re=He.return)&&Re.call(He)}finally{if(Ve)throw Ve.error}}return ze},Ce=this&&this.__spread||function(){for(var Be=[],Ie=0;Ie<arguments.length;Ie++)Be=Be.concat(Ae(arguments[Ie]));return Be};Object.defineProperty(xe,"__esModule",{value:!0});var Pe=Se(6),Ee=Se(3),Oe=Se(2),Me=Se(17),De=Se(51);function Te(Be){Pe.dom.window._signalSlots.add(Be),De.observer_queueAMutationObserverMicrotask()}function ke(Be,Ie){Ie===void 0&&(Ie=!1);var Re=Ee.Cast.asNode(Be)._parent;if(Re===null)return null;var je=Re._shadowRoot||null;if(je===null||Ie&&je._mode!=="open")return null;for(var Ve=Me.tree_getFirstDescendantNode(je,!1,!0,function(He){return Ee.Guard.isSlot(He)});Ve!==null;){if(Ve._name===Be._name)return Ve;Ve=Me.tree_getNextDescendantNode(je,Ve,!1,!0,function(He){return Ee.Guard.isSlot(He)})}return null}function Fe(Be){var Ie,Re,je=[],Ve=Me.tree_rootNode(Be);if(!Ee.Guard.isShadowRoot(Ve))return je;var He=Ve._host;try{for(var ze=_e(He._children),Ue=ze.next();!Ue.done;Ue=ze.next()){var We=Ue.value;Ee.Guard.isSlotable(We)&&ke(We)===Be&&je.push(We)}}catch(qe){Ie={error:qe}}finally{try{Ue&&!Ue.done&&(Re=ze.return)&&Re.call(ze)}finally{if(Ie)throw Ie.error}}return je}function $e(Be){var Ie,Re,je=Fe(Be);if(je.length===Be._assignedNodes.length){for(var Ve=!0,He=0;He<je.length;He++)if(je[He]!==Be._assignedNodes[He]){Ve=!1;break}Ve||Te(Be)}Be._assignedNodes=je;try{for(var ze=_e(je),Ue=ze.next();!Ue.done;Ue=ze.next())Ue.value._assignedSlot=Be}catch(We){Ie={error:We}}finally{try{Ue&&!Ue.done&&(Re=ze.return)&&Re.call(ze)}finally{if(Ie)throw Ie.error}}}xe.shadowTree_signalASlotChange=Te,xe.shadowTree_isConnected=function(Be){return Ee.Guard.isDocumentNode(Me.tree_rootNode(Be,!0))},xe.shadowTree_isAssigned=function(Be){return Be._assignedSlot!==null},xe.shadowTree_findASlot=ke,xe.shadowTree_findSlotables=Fe,xe.shadowTree_findFlattenedSlotables=function Be(Ie){var Re,je,Ve,He,ze=[],Ue=Me.tree_rootNode(Ie);if(!Ee.Guard.isShadowRoot(Ue))return ze;var We=Fe(Ie);if(Oe.isEmpty(We))try{for(var qe=_e(Ie._children),Ge=qe.next();!Ge.done;Ge=qe.next()){var Ye=Ge.value;Ee.Guard.isSlotable(Ye)&&We.push(Ye)}}catch(pi){Re={error:pi}}finally{try{Ge&&!Ge.done&&(je=qe.return)&&je.call(qe)}finally{if(Re)throw Re.error}}try{for(var Qe=_e(We),Je=Qe.next();!Je.done;Je=Qe.next()){var ri=Je.value;if(Ee.Guard.isSlot(ri)&&Ee.Guard.isShadowRoot(Me.tree_rootNode(ri))){var hi=Be(ri);ze.push.apply(ze,Ce(hi))}else ze.push(ri)}}catch(pi){Ve={error:pi}}finally{try{Je&&!Je.done&&(He=Qe.return)&&He.call(Qe)}finally{if(Ve)throw Ve.error}}return ze},xe.shadowTree_assignSlotables=$e,xe.shadowTree_assignSlotablesForATree=function(Be){for(var Ie=Me.tree_getFirstDescendantNode(Be,!0,!1,function(Re){return Ee.Guard.isSlot(Re)});Ie!==null;)$e(Ie),Ie=Me.tree_getNextDescendantNode(Be,Ie,!0,!1,function(Re){return Ee.Guard.isSlot(Re)})},xe.shadowTree_assignASlot=function(Be){var Ie=ke(Be);Ie!==null&&$e(Ie)}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=/[a-z]([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*/,Ae=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),Ce=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]),Pe=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),Ee=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]);xe.customElement_isValidCustomElementName=function(Oe){return!!_e.test(Oe)&&!Ae.has(Oe)},xe.customElement_isValidElementName=function(Oe){return Ce.has(Oe)},xe.customElement_isVoidElementName=function(Oe){return Pe.has(Oe)},xe.customElement_isValidShadowHostName=function(Oe){return Ee.has(Oe)},xe.customElement_enqueueACustomElementUpgradeReaction=function(Oe,Me){},xe.customElement_enqueueACustomElementCallbackReaction=function(Oe,Me,De){},xe.customElement_upgrade=function(Oe,Me){},xe.customElement_tryToUpgrade=function(Oe){},xe.customElement_lookUpACustomElementDefinition=function(Oe,Me,De,Te){return null}},function(r,xe,Se){Se(4)({target:"String",proto:!0},{repeat:Se(260)})},function(r,xe,Se){Se(279),Se(68),Se(179),Se(94),Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(109),Ae=function(){function Ce(Pe){this._builderOptions=Pe,Pe.parser&&Object.assign(this,Pe.parser)}return Ce.prototype._docType=function(Pe,Ee,Oe,Me){return Pe.dtd({name:Ee,pubID:Oe,sysID:Me})},Ce.prototype._comment=function(Pe,Ee){return Pe.com(Ee)},Ce.prototype._text=function(Pe,Ee){return Pe.txt(Ee)},Ce.prototype._instruction=function(Pe,Ee,Oe){return Pe.ins(Ee,Oe)},Ce.prototype._cdata=function(Pe,Ee){return Pe.dat(Ee)},Ce.prototype._element=function(Pe,Ee,Oe){return Ee===void 0?Pe.ele(Oe):Pe.ele(Ee,Oe)},Ce.prototype._attribute=function(Pe,Ee,Oe,Me){return Ee===void 0?Pe.att(Oe,Me):Pe.att(Ee,Oe,Me)},Ce.prototype._sanitize=function(Pe){return _e.sanitizeInput(Pe,this._builderOptions.invalidCharReplacement)},Ce.prototype._decodeText=function(Pe){return Pe==null?Pe:Pe.replace(/&(quot|amp|apos|lt|gt);/g,function(Ee,Oe){return Ce._entityTable[Oe]}).replace(/&#(?:x([a-fA-F0-9]+)|([0-9]+));/g,function(Ee,Oe,Me){return String.fromCodePoint(parseInt(Oe||Me,Oe?16:10))})},Ce.prototype._decodeAttributeValue=function(Pe){return this._decodeText(Pe)},Ce.prototype.parse=function(Pe,Ee){return this._parse(Pe,Ee)},Ce.prototype.docType=function(Pe,Ee,Oe,Me){return this._docType(Pe,Ee,Oe,Me)},Ce.prototype.comment=function(Pe,Ee){return this._comment(Pe,Ee)},Ce.prototype.text=function(Pe,Ee){return this._text(Pe,Ee)},Ce.prototype.instruction=function(Pe,Ee,Oe){return this._instruction(Pe,Ee,Oe)},Ce.prototype.cdata=function(Pe,Ee){return this._cdata(Pe,Ee)},Ce.prototype.element=function(Pe,Ee,Oe){return this._element(Pe,Ee,Oe)},Ce.prototype.attribute=function(Pe,Ee,Oe,Me){return this._attribute(Pe,Ee,Oe,Me)},Ce.prototype.sanitize=function(Pe){return this._sanitize(Pe)},Ce._entityTable={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},Ce}();xe.BaseReader=Ae},function(r,xe,Se){var _e=Se(39);r.exports=_e.DEFAULT=new _e({include:[Se(54)],explicit:[Se(300),Se(301),Se(302)]})},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(185);xe.XMLBuilderImpl=_e.XMLBuilderImpl;var Ae=Se(305);xe.XMLBuilderCBImpl=Ae.XMLBuilderCBImpl;var Ce=Se(183);xe.builder=Ce.builder,xe.create=Ce.create,xe.fragment=Ce.fragment,xe.convert=Ce.convert;var Pe=Se(310);xe.createCB=Pe.createCB,xe.fragmentCB=Pe.fragmentCB},function(r,xe){var Se;Se=function(){return this}();try{Se=Se||new Function("return this")()}catch{typeof window=="object"&&(Se=window)}r.exports=Se},function(r,xe,Se){var _e={}.propertyIsEnumerable,Ae=Object.getOwnPropertyDescriptor,Ce=Ae&&!_e.call({1:2},1);xe.f=Ce?function(Pe){var Ee=Ae(this,Pe);return!!Ee&&Ee.enumerable}:_e},function(r,xe,Se){var _e=Se(11),Ae=Se(21);r.exports=function(Ce,Pe){try{Ae(_e,Ce,Pe)}catch{_e[Ce]=Pe}return Pe}},function(r,xe,Se){var _e=Se(44),Ae=Se(118);(r.exports=function(Ce,Pe){return Ae[Ce]||(Ae[Ce]=Pe!==void 0?Pe:{})})("versions",[]).push({version:"3.6.5",mode:_e?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(r,xe,Se){var _e=Se(121),Ae=Se(84).concat("length","prototype");xe.f=Object.getOwnPropertyNames||function(Ce){return _e(Ce,Ae)}},function(r,xe,Se){var _e=Se(47),Ae=Math.max,Ce=Math.min;r.exports=function(Pe,Ee){var Oe=_e(Pe);return Oe<0?Ae(Oe+Ee,0):Ce(Oe,Ee)}},function(r,xe){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(r,xe){xe.f=Object.getOwnPropertySymbols},function(r,xe,Se){var _e=Se(8);r.exports=!!Object.getOwnPropertySymbols&&!_e(function(){return!String(Symbol())})},function(r,xe,Se){var _e=Se(127);r.exports=function(Ae,Ce,Pe){if(_e(Ae),Ce===void 0)return Ae;switch(Pe){case 0:return function(){return Ae.call(Ce)};case 1:return function(Ee){return Ae.call(Ce,Ee)};case 2:return function(Ee,Oe){return Ae.call(Ce,Ee,Oe)};case 3:return function(Ee,Oe,Me){return Ae.call(Ce,Ee,Oe,Me)}}return function(){return Ae.apply(Ce,arguments)}}},function(r,xe,Se){var _e=Se(4),Ae=Se(195),Ce=Se(132),Pe=Se(133),Ee=Se(62),Oe=Se(21),Me=Se(25),De=Se(5),Te=Se(44),ke=Se(49),Fe=Se(131),$e=Fe.IteratorPrototype,Be=Fe.BUGGY_SAFARI_ITERATORS,Ie=De("iterator"),Re=function(){return this};r.exports=function(je,Ve,He,ze,Ue,We,qe){Ae(He,Ve,ze);var Ge,Ye,Qe,Je=function(Pi){if(Pi===Ue&&di)return di;if(!Be&&Pi in pi)return pi[Pi];switch(Pi){case"keys":case"values":case"entries":return function(){return new He(this,Pi)}}return function(){return new He(this)}},ri=Ve+" Iterator",hi=!1,pi=je.prototype,ni=pi[Ie]||pi["@@iterator"]||Ue&&pi[Ue],di=!Be&&ni||Je(Ue),fi=Ve=="Array"&&pi.entries||ni;if(fi&&(Ge=Ce(fi.call(new je)),$e!==Object.prototype&&Ge.next&&(Te||Ce(Ge)===$e||(Pe?Pe(Ge,$e):typeof Ge[Ie]!="function"&&Oe(Ge,Ie,Re)),Ee(Ge,ri,!0,!0),Te&&(ke[ri]=Re))),Ue=="values"&&ni&&ni.name!=="values"&&(hi=!0,di=function(){return ni.call(this)}),Te&&!qe||pi[Ie]===di||Oe(pi,Ie,di),ke[Ve]=di,Ue)if(Ye={values:Je("values"),keys:We?di:Je("keys"),entries:Je("entries")},qe)for(Qe in Ye)(Be||hi||!(Qe in pi))&&Me(pi,Qe,Ye[Qe]);else _e({target:Ve,proto:!0,forced:Be||hi},Ye);return Ye}},function(r,xe,Se){var _e=Se(4),Ae=Se(13),Ce=Se(59),Pe=Se(83),Ee=Se(26),Oe=Se(24),Me=Se(134),De=Se(5),Te=Se(63),ke=Se(28),Fe=Te("slice"),$e=ke("slice",{ACCESSORS:!0,0:0,1:2}),Be=De("species"),Ie=[].slice,Re=Math.max;_e({target:"Array",proto:!0,forced:!Fe||!$e},{slice:function(je,Ve){var He,ze,Ue,We=Oe(this),qe=Ee(We.length),Ge=Pe(je,qe),Ye=Pe(Ve===void 0?qe:Ve,qe);if(Ce(We)&&(typeof(He=We.constructor)!="function"||He!==Array&&!Ce(He.prototype)?Ae(He)&&(He=He[Be])===null&&(He=void 0):He=void 0,He===Array||He===void 0))return Ie.call(We,Ge,Ye);for(ze=new(He===void 0?Array:He)(Re(Ye-Ge,0)),Ue=0;Ge<Ye;Ge++,Ue++)Ge in We&&Me(ze,Ue,We[Ge]);return ze.length=Ue,ze}})},function(r,xe,Se){var _e={};_e[Se(5)("toStringTag")]="z",r.exports=String(_e)==="[object z]"},function(r,xe,Se){Se(19),Se(138),Se(20),Se(92),Se(22),Se(23),Object.defineProperty(xe,"__esModule",{value:!0}),xe.DefaultBuilderOptions={version:"1.0",encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,skipWhitespaceOnlyText:!0,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},invalidCharReplacement:void 0,parser:void 0},xe.XMLBuilderOptionKeys=new Set(Object.keys(xe.DefaultBuilderOptions)),xe.DefaultXMLBuilderCBOptions={format:"xml",wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}}},function(r,xe,Se){var _e=Se(139),Ae=Se(143);r.exports=_e("Set",function(Ce){return function(){return Ce(this,arguments.length?arguments[0]:void 0)}},Ae)},function(r,xe,Se){var _e,Ae,Ce=Se(136),Pe=Se(221),Ee=RegExp.prototype.exec,Oe=String.prototype.replace,Me=Ee,De=(_e=/a/,Ae=/b*/g,Ee.call(_e,"a"),Ee.call(Ae,"a"),_e.lastIndex!==0||Ae.lastIndex!==0),Te=Pe.UNSUPPORTED_Y||Pe.BROKEN_CARET,ke=/()??/.exec("")[1]!==void 0;(De||ke||Te)&&(Me=function(Fe){var $e,Be,Ie,Re,je=this,Ve=Te&&je.sticky,He=Ce.call(je),ze=je.source,Ue=0,We=Fe;return Ve&&((He=He.replace("y","")).indexOf("g")===-1&&(He+="g"),We=String(Fe).slice(je.lastIndex),je.lastIndex>0&&(!je.multiline||je.multiline&&Fe[je.lastIndex-1]!==`
`)&&(ze="(?: "+ze+")",We=" "+We,Ue++),Be=new RegExp("^(?:"+ze+")",He)),ke&&(Be=new RegExp("^"+ze+"$(?!\\s)",He)),De&&($e=je.lastIndex),Ie=Ee.call(Ve?Be:je,We),Ve?Ie?(Ie.input=Ie.input.slice(Ue),Ie[0]=Ie[0].slice(Ue),Ie.index=je.lastIndex,je.lastIndex+=Ie[0].length):je.lastIndex=0:De&&Ie&&(je.lastIndex=je.global?Ie.index+Ie[0].length:$e),ke&&Ie&&Ie.length>1&&Oe.call(Ie[0],Be,function(){for(Re=1;Re<arguments.length-2;Re++)arguments[Re]===void 0&&(Ie[Re]=void 0)}),Ie}),r.exports=Me},function(r,xe,Se){var _e=Se(225),Ae=Se(18),Ce=Se(27),Pe=Se(26),Ee=Se(47),Oe=Se(35),Me=Se(226),De=Se(227),Te=Math.max,ke=Math.min,Fe=Math.floor,$e=/\$([$&'`]|\d\d?|<[^>]*>)/g,Be=/\$([$&'`]|\d\d?)/g;_e("replace",2,function(Ie,Re,je,Ve){var He=Ve.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,ze=Ve.REPLACE_KEEPS_$0,Ue=He?"$":"$0";return[function(qe,Ge){var Ye=Oe(this),Qe=qe==null?void 0:qe[Ie];return Qe!==void 0?Qe.call(qe,Ye,Ge):Re.call(String(Ye),qe,Ge)},function(qe,Ge){if(!He&&ze||typeof Ge=="string"&&Ge.indexOf(Ue)===-1){var Ye=je(Re,qe,this,Ge);if(Ye.done)return Ye.value}var Qe=Ae(qe),Je=String(this),ri=typeof Ge=="function";ri||(Ge=String(Ge));var hi=Qe.global;if(hi){var pi=Qe.unicode;Qe.lastIndex=0}for(var ni=[];;){var di=De(Qe,Je);if(di===null||(ni.push(di),!hi))break;String(di[0])===""&&(Qe.lastIndex=Me(Je,Pe(Qe.lastIndex),pi))}for(var fi,Pi="",ci=0,xi=0;xi<ni.length;xi++){di=ni[xi];for(var yi=String(di[0]),gi=Te(ke(Ee(di.index),Je.length),0),Ai=[],Mi=1;Mi<di.length;Mi++)Ai.push((fi=di[Mi])===void 0?fi:String(fi));var Fi=di.groups;if(ri){var Di=[yi].concat(Ai,gi,Je);Fi!==void 0&&Di.push(Fi);var oi=String(Ge.apply(void 0,Di))}else oi=We(yi,Je,gi,Ai,Fi,Ge);gi>=ci&&(Pi+=Je.slice(ci,gi)+oi,ci=gi+yi.length)}return Pi+Je.slice(ci)}];function We(qe,Ge,Ye,Qe,Je,ri){var hi=Ye+qe.length,pi=Qe.length,ni=Be;return Je!==void 0&&(Je=Ce(Je),ni=$e),Re.call(ri,ni,function(di,fi){var Pi;switch(fi.charAt(0)){case"$":return"$";case"&":return qe;case"`":return Ge.slice(0,Ye);case"'":return Ge.slice(hi);case"<":Pi=Je[fi.slice(1,-1)];break;default:var ci=+fi;if(ci===0)return di;if(ci>pi){var xi=Fe(ci/10);return xi===0?di:xi<=pi?Qe[xi-1]===void 0?fi.charAt(1):Qe[xi-1]+fi.charAt(1):di}Pi=Qe[ci-1]}return Pi===void 0?"":Pi})}})},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=function(){function Ae(){this._items={},this._nullItems=[]}return Ae.prototype.copy=function(){var Ce=new Ae;for(var Pe in this._items)Ce._items[Pe]=this._items[Pe].slice(0);return Ce._nullItems=this._nullItems.slice(0),Ce},Ae.prototype.get=function(Ce,Pe){var Ee=Pe===null?this._nullItems:this._items[Pe]||null;if(Ee===null)return null;for(var Oe=null,Me=0;Me<Ee.length;Me++)if((Oe=Ee[Me])===Ce)return Oe;return Oe},Ae.prototype.has=function(Ce,Pe){var Ee=Pe===null?this._nullItems:this._items[Pe]||null;return Ee!==null&&Ee.indexOf(Ce)!==-1},Ae.prototype.hasPrefix=function(Ce){if(this._nullItems.indexOf(Ce)!==-1)return!0;for(var Pe in this._items)if(this._items[Pe].indexOf(Ce)!==-1)return!0;return!1},Ae.prototype.set=function(Ce,Pe){var Ee=Pe===null?this._nullItems:this._items[Pe]||null;Pe!==null&&Ee===null?this._items[Pe]=[Ce]:Ee.push(Ce)},Ae}();xe.NamespacePrefixMap=_e},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0}),xe.Surrogate=/[\uD800-\uDFFF]/,xe.ScalarValue=/[\uD800-\uDFFF]/,xe.NonCharacter=/[\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]/,xe.ASCIICodePoint=/[\u0000-\u007F]/,xe.ASCIITabOrNewLine=/[\t\n\r]/,xe.ASCIIWhiteSpace=/[\t\n\f\r ]/,xe.C0Control=/[\u0000-\u001F]/,xe.C0ControlOrSpace=/[\u0000-\u001F ]/,xe.Control=/[\u0000-\u001F\u007F-\u009F]/,xe.ASCIIDigit=/[0-9]/,xe.ASCIIUpperHexDigit=/[0-9A-F]/,xe.ASCIILowerHexDigit=/[0-9a-f]/,xe.ASCIIHexDigit=/[0-9A-Fa-f]/,xe.ASCIIUpperAlpha=/[A-Z]/,xe.ASCIILowerAlpha=/[a-z]/,xe.ASCIIAlpha=/[A-Za-z]/,xe.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(r,xe,Se){var _e=this&&this.__values||function(Ge){var Ye=typeof Symbol=="function"&&Symbol.iterator,Qe=Ye&&Ge[Ye],Je=0;if(Qe)return Qe.call(Ge);if(Ge&&typeof Ge.length=="number")return{next:function(){return Ge&&Je>=Ge.length&&(Ge=void 0),{value:Ge&&Ge[Je++],done:!Ge}}};throw new TypeError(Ye?"Object is not iterable.":"Symbol.iterator is not defined.")},Ae=this&&this.__read||function(Ge,Ye){var Qe=typeof Symbol=="function"&&Ge[Symbol.iterator];if(!Qe)return Ge;var Je,ri,hi=Qe.call(Ge),pi=[];try{for(;(Ye===void 0||Ye-- >0)&&!(Je=hi.next()).done;)pi.push(Je.value)}catch(ni){ri={error:ni}}finally{try{Je&&!Je.done&&(Qe=hi.return)&&Qe.call(hi)}finally{if(ri)throw ri.error}}return pi},Ce=this&&this.__spread||function(){for(var Ge=[],Ye=0;Ye<arguments.length;Ye++)Ge=Ge.concat(Ae(arguments[Ye]));return Ge};Object.defineProperty(xe,"__esModule",{value:!0});var Pe=Se(6),Ee=Se(1),Oe=Se(3),Me=Se(171),De=Se(104),Te=Se(9),ke=Se(17),Fe=Se(72),$e=Se(30);function Be(Ge,Ye){Ye===void 0&&(Ye=void 0),Ye===void 0&&(Ye=null);var Qe=Ie(Ge,Ye,new Date,{});return Qe._isTrusted=!0,Qe}function Ie(Ge,Ye,Qe,Je){var ri=new Ge("");return ri._initializedFlag=!0,ri._timeStamp=Qe.getTime(),Object.assign(ri,Je),Pe.dom.features.steps&&$e.dom_runEventConstructingSteps(ri),ri}function Re(Ge,Ye,Qe,Je){var ri,hi,pi,ni;Qe===void 0&&(Qe=!1),Je===void 0&&(Je={value:!1});var di=!1;Ge._dispatchFlag=!0;var fi=Ye;if(Qe){var Pi=Ye._associatedDocument;Oe.Guard.isDocumentNode(Pi)&&(fi=Pi)}var ci=null,xi=ke.tree_retarget(Ge._relatedTarget,Ye);if(Ye!==xi||Ye===Ge._relatedTarget){var yi=[];try{for(var gi=_e(Ge._touchTargetList),Ai=gi.next();!Ai.done;Ai=gi.next()){var Mi=Ai.value;yi.push(ke.tree_retarget(Mi,Ye))}}catch(Ii){ri={error:Ii}}finally{try{Ai&&!Ai.done&&(hi=gi.return)&&hi.call(gi)}finally{if(ri)throw ri.error}}je(Ge,Ye,fi,xi,yi,!1);var Fi=Oe.Guard.isMouseEvent(Ge)&&Ge._type==="click";Fi&&Ye._activationBehavior!==void 0&&(ci=Ye);for(var Di=Oe.Guard.isSlotable(Ye)&&Fe.shadowTree_isAssigned(Ye)?Ye:null,oi=!1,Ke=Ye._getTheParent(Ge);Ke!==null&&Oe.Guard.isNode(Ke);){if(Di!==null){if(!Oe.Guard.isSlot(Ke))throw new Error("Parent node of a slotable should be a slot.");Di=null;var St=ke.tree_rootNode(Ke,!0);Oe.Guard.isShadowRoot(St)&&St._mode==="closed"&&(oi=!0)}Oe.Guard.isSlotable(Ke)&&Fe.shadowTree_isAssigned(Ke)&&(Di=Ke),xi=ke.tree_retarget(Ge._relatedTarget,Ke),yi=[];try{for(var ei=(pi=void 0,_e(Ge._touchTargetList)),ui=ei.next();!ui.done;ui=ei.next())Mi=ui.value,yi.push(ke.tree_retarget(Mi,Ke))}catch(Ii){pi={error:Ii}}finally{try{ui&&!ui.done&&(ni=ei.return)&&ni.call(ei)}finally{if(pi)throw pi.error}}Oe.Guard.isWindow(Ke)||Oe.Guard.isNode(Ke)&&Oe.Guard.isNode(Ye)&&ke.tree_isAncestorOf(ke.tree_rootNode(Ye,!0),Ke,!0,!0)?(Fi&&Ge._bubbles&&ci===null&&Ke._activationBehavior&&(ci=Ke),je(Ge,Ke,null,xi,yi,oi)):Ke===xi?Ke=null:(Ye=Ke,Fi&&ci===null&&Ye._activationBehavior&&(ci=Ye),je(Ge,Ke,Ye,xi,yi,oi)),Ke!==null&&(Ke=Ke._getTheParent(Ge)),oi=!1}for(var ai=null,ii=Ge._path,Ci=ii.length-1;Ci>=0;Ci--)if((bi=ii[Ci]).shadowAdjustedTarget!==null){ai=bi;break}if(ai!==null)if(Oe.Guard.isNode(ai.shadowAdjustedTarget)&&Oe.Guard.isShadowRoot(ke.tree_rootNode(ai.shadowAdjustedTarget,!0)))di=!0;else if(Oe.Guard.isNode(ai.relatedTarget)&&Oe.Guard.isShadowRoot(ke.tree_rootNode(ai.relatedTarget,!0)))di=!0;else for(var ki=0;ki<ai.touchTargetList.length;ki++){var bi=ai.touchTargetList[ki];if(Oe.Guard.isNode(bi)&&Oe.Guard.isShadowRoot(ke.tree_rootNode(bi,!0))){di=!0;break}}for(ci!==null&&ci._legacyPreActivationBehavior!==void 0&&ci._legacyPreActivationBehavior(Ge),Ci=ii.length-1;Ci>=0;Ci--)(bi=ii[Ci]).shadowAdjustedTarget!==null?Ge._eventPhase=Ee.EventPhase.AtTarget:Ge._eventPhase=Ee.EventPhase.Capturing,Ve(bi,Ge,"capturing",Je);for(Ci=0;Ci<ii.length;Ci++){if((bi=ii[Ci]).shadowAdjustedTarget!==null)Ge._eventPhase=Ee.EventPhase.AtTarget;else{if(!Ge._bubbles)continue;Ge._eventPhase=Ee.EventPhase.Bubbling}Ve(bi,Ge,"bubbling",Je)}}return Ge._eventPhase=Ee.EventPhase.None,Ge._currentTarget=null,Ge._path=[],Ge._dispatchFlag=!1,Ge._stopPropagationFlag=!1,Ge._stopImmediatePropagationFlag=!1,di&&(Ge._target=null,Ge._relatedTarget=null,Ge._touchTargetList=[]),ci!==null&&(Ge._canceledFlag||ci._activationBehavior===void 0?ci._legacyCanceledActivationBehavior!==void 0&&ci._legacyCanceledActivationBehavior(Ge):ci._activationBehavior(Ge)),!Ge._canceledFlag}function je(Ge,Ye,Qe,Je,ri,hi){var pi=!1;Oe.Guard.isNode(Ye)&&Oe.Guard.isShadowRoot(ke.tree_rootNode(Ye))&&(pi=!0);var ni=!1;Oe.Guard.isShadowRoot(Ye)&&Ye._mode==="closed"&&(ni=!0),Ge._path.push({invocationTarget:Ye,invocationTargetInShadowTree:pi,shadowAdjustedTarget:Qe,relatedTarget:Je,touchTargetList:ri,rootOfClosedTree:ni,slotInClosedTree:hi})}function Ve(Ge,Ye,Qe,Je){Je===void 0&&(Je={value:!1});for(var ri=Ye._path,hi=-1,pi=0;pi<ri.length;pi++)if(ri[pi]===Ge){hi=pi;break}if(hi!==-1){var ni=ri[hi];(ni.shadowAdjustedTarget!==null||hi>0&&(ni=ri[hi-1]).shadowAdjustedTarget!==null)&&(Ye._target=ni.shadowAdjustedTarget)}if(Ye._relatedTarget=Ge.relatedTarget,Ye._touchTargetList=Ge.touchTargetList,!Ye._stopPropagationFlag){Ye._currentTarget=Ge.invocationTarget;var di=Ye._currentTarget._eventListenerList,fi=new(Array.bind.apply(Array,Ce([void 0],di)));if(!He(Ye,fi,Qe,Ge,Je)&&Ye._isTrusted){var Pi=Ye._type;Pi==="animationend"?Ye._type="webkitAnimationEnd":Pi==="animationiteration"?Ye._type="webkitAnimationIteration":Pi==="animationstart"?Ye._type="webkitAnimationStart":Pi==="transitionend"&&(Ye._type="webkitTransitionEnd"),He(Ye,fi,Qe,Ge,Je),Ye._type=Pi}}}function He(Ge,Ye,Qe,Je,ri){ri===void 0&&(ri={value:!1});for(var hi=!1,pi=0;pi<Ye.length;pi++){var ni=Ye[pi];if(!ni.removed){if(Ge._type!==ni.type||(hi=!0,Qe==="capturing"&&!ni.capture)||Qe==="bubbling"&&ni.capture)continue;if(ni.once&&Ge._currentTarget!==null){for(var di=Ge._currentTarget,fi=-1,Pi=0;Pi<di._eventListenerList.length;Pi++)if(di._eventListenerList[Pi]===ni){fi=Pi;break}fi!==-1&&di._eventListenerList.splice(fi,1)}var ci=void 0,xi=void 0;Oe.Guard.isWindow(ci)&&(xi=ci._currentEvent,Je.invocationTargetInShadowTree===!1&&(ci._currentEvent=Ge)),ni.passive&&(Ge._inPassiveListenerFlag=!0);try{ni.callback.handleEvent.call(Ge._currentTarget,Ge)}catch{ri.value=!0}if(ni.passive&&(Ge._inPassiveListenerFlag=!1),Oe.Guard.isWindow(ci)&&(ci._currentEvent=xi),Ge._stopImmediatePropagationFlag)return hi}}return hi}function ze(Ge,Ye){return null}function Ue(Ge,Ye){return null}function We(Ge,Ye){}function qe(Ge,Ye){}xe.event_setTheCanceledFlag=function(Ge){Ge._cancelable&&!Ge._inPassiveListenerFlag&&(Ge._canceledFlag=!0)},xe.event_initialize=function(Ge,Ye,Qe,Je){Ge._initializedFlag=!0,Ge._stopPropagationFlag=!1,Ge._stopImmediatePropagationFlag=!1,Ge._canceledFlag=!1,Ge._isTrusted=!1,Ge._target=null,Ge._type=Ye,Ge._bubbles=Qe,Ge._cancelable=Je},xe.event_createAnEvent=Be,xe.event_innerEventCreationSteps=Ie,xe.event_dispatch=Re,xe.event_appendToAnEventPath=je,xe.event_invoke=Ve,xe.event_innerInvoke=He,xe.event_fireAnEvent=function(Ge,Ye,Qe,Je,ri){Qe===void 0&&(Qe=De.EventImpl);var hi=Be(Qe);if(hi._type=Ge,Je)for(var pi in Je)hi[pi]=Je[pi];return Re(hi,Ye,ri)},xe.event_createLegacyEvent=function(Ge){var Ye=null;switch(Ge.toLowerCase()){case"beforeunloadevent":case"compositionevent":break;case"customevent":Ye=Me.CustomEventImpl;break;case"devicemotionevent":case"deviceorientationevent":case"dragevent":break;case"event":case"events":Ye=De.EventImpl}if(Ye===null)throw new Te.NotSupportedError("Event constructor not found for interface "+Ge+".");var Qe=new Ye("");return Qe._type="",Qe._timeStamp=new Date().getTime(),Qe._isTrusted=!1,Qe._initializedFlag=!1,Qe},xe.event_getterEventHandlerIDLAttribute=function(Ge,Ye){return null},xe.event_setterEventHandlerIDLAttribute=function(Ge,Ye,Qe){},xe.event_determineTheTargetOfAnEventHandler=ze,xe.event_getTheCurrentValueOfAnEventHandler=Ue,xe.event_activateAnEventHandler=We,xe.event_deactivateAnEventHandler=qe},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(je,Ve){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(He,ze){He.__proto__=ze}||function(He,ze){for(var Ue in ze)ze.hasOwnProperty(Ue)&&(He[Ue]=ze[Ue])})(je,Ve)},function(je,Ve){function He(){this.constructor=je}_e(je,Ve),je.prototype=Ve===null?Object.create(Ve):(He.prototype=Ve.prototype,new He)}),Ce=this&&this.__values||function(je){var Ve=typeof Symbol=="function"&&Symbol.iterator,He=Ve&&je[Ve],ze=0;if(He)return He.call(je);if(je&&typeof je.length=="number")return{next:function(){return je&&ze>=je.length&&(je=void 0),{value:je&&je[ze++],done:!je}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")},Pe=this&&this.__read||function(je,Ve){var He=typeof Symbol=="function"&&je[Symbol.iterator];if(!He)return je;var ze,Ue,We=He.call(je),qe=[];try{for(;(Ve===void 0||Ve-- >0)&&!(ze=We.next()).done;)qe.push(ze.value)}catch(Ge){Ue={error:Ge}}finally{try{ze&&!ze.done&&(He=We.return)&&He.call(We)}finally{if(Ue)throw Ue.error}}return qe};Object.defineProperty(xe,"__esModule",{value:!0});var Ee=Se(6),Oe=Se(1),Me=Se(9),De=Se(34),Te=Se(3),ke=Se(2),Fe=Se(7),$e=Se(152),Be=Se(0),Ie=Se(12),Re=function(je){function Ve(){var He=je.call(this)||this;return He._children=new Set,He._encoding={name:"UTF-8",labels:["unicode-1-1-utf-8","utf-8","utf8"]},He._contentType="application/xml",He._URL={scheme:"about",username:"",password:"",host:null,port:null,path:["blank"],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},He._origin=null,He._type="xml",He._mode="no-quirks",He._documentElement=null,He._hasNamespaces=!1,He._nodeDocumentOverwrite=null,He}return Ae(Ve,je),Object.defineProperty(Ve.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverwrite||this},set:function(He){this._nodeDocumentOverwrite=He},enumerable:!0,configurable:!0}),Object.defineProperty(Ve.prototype,"implementation",{get:function(){return this._implementation||(this._implementation=Be.create_domImplementation(this))},enumerable:!0,configurable:!0}),Object.defineProperty(Ve.prototype,"URL",{get:function(){return $e.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(Ve.prototype,"documentURI",{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(Ve.prototype,"origin",{get:function(){return"null"},enumerable:!0,configurable:!0}),Object.defineProperty(Ve.prototype,"compatMode",{get:function(){return this._mode==="quirks"?"BackCompat":"CSS1Compat"},enumerable:!0,configurable:!0}),Object.defineProperty(Ve.prototype,"characterSet",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(Ve.prototype,"charset",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(Ve.prototype,"inputEncoding",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(Ve.prototype,"contentType",{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(Ve.prototype,"doctype",{get:function(){var He,ze;try{for(var Ue=Ce(this._children),We=Ue.next();!We.done;We=Ue.next()){var qe=We.value;if(Te.Guard.isDocumentTypeNode(qe))return qe}}catch(Ge){He={error:Ge}}finally{try{We&&!We.done&&(ze=Ue.return)&&ze.call(Ue)}finally{if(He)throw He.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(Ve.prototype,"documentElement",{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),Ve.prototype.getElementsByTagName=function(He){return Be.node_listOfElementsWithQualifiedName(He,this)},Ve.prototype.getElementsByTagNameNS=function(He,ze){return Be.node_listOfElementsWithNamespace(He,ze,this)},Ve.prototype.getElementsByClassName=function(He){return Be.node_listOfElementsWithClassNames(He,this)},Ve.prototype.createElement=function(He,ze){if(!Be.xml_isName(He))throw new Me.InvalidCharacterError;this._type==="html"&&(He=He.toLowerCase());var Ue=null;ze!==void 0&&(Ue=ke.isString(ze)?ze:ze.is);var We=this._type==="html"||this._contentType==="application/xhtml+xml"?Fe.namespace.HTML:null;return Be.element_createAnElement(this,He,We,null,Ue,!0)},Ve.prototype.createElementNS=function(He,ze,Ue){return Be.document_internalCreateElementNS(this,He,ze,Ue)},Ve.prototype.createDocumentFragment=function(){return Be.create_documentFragment(this)},Ve.prototype.createTextNode=function(He){return Be.create_text(this,He)},Ve.prototype.createCDATASection=function(He){if(this._type==="html")throw new Me.NotSupportedError;if(He.indexOf("]]>")!==-1)throw new Me.InvalidCharacterError;return Be.create_cdataSection(this,He)},Ve.prototype.createComment=function(He){return Be.create_comment(this,He)},Ve.prototype.createProcessingInstruction=function(He,ze){if(!Be.xml_isName(He))throw new Me.InvalidCharacterError;if(ze.indexOf("?>")!==-1)throw new Me.InvalidCharacterError;return Be.create_processingInstruction(this,He,ze)},Ve.prototype.importNode=function(He,ze){if(ze===void 0&&(ze=!1),Te.Guard.isDocumentNode(He)||Te.Guard.isShadowRoot(He))throw new Me.NotSupportedError;return Be.node_clone(He,this,ze)},Ve.prototype.adoptNode=function(He){if(Te.Guard.isDocumentNode(He))throw new Me.NotSupportedError;if(Te.Guard.isShadowRoot(He))throw new Me.HierarchyRequestError;return Be.document_adopt(He,this),He},Ve.prototype.createAttribute=function(He){if(!Be.xml_isName(He))throw new Me.InvalidCharacterError;return this._type==="html"&&(He=He.toLowerCase()),Be.create_attr(this,He)},Ve.prototype.createAttributeNS=function(He,ze){var Ue=Pe(Be.namespace_validateAndExtract(He,ze),3),We=Ue[0],qe=Ue[1],Ge=Ue[2],Ye=Be.create_attr(this,Ge);return Ye._namespace=We,Ye._namespacePrefix=qe,Ye},Ve.prototype.createEvent=function(He){return Be.event_createLegacyEvent(He)},Ve.prototype.createRange=function(){var He=Be.create_range();return He._start=[this,0],He._end=[this,0],He},Ve.prototype.createNodeIterator=function(He,ze,Ue){ze===void 0&&(ze=Oe.WhatToShow.All),Ue===void 0&&(Ue=null);var We=Be.create_nodeIterator(He,He,!0);return We._whatToShow=ze,We._iteratorCollection=Be.create_nodeList(He),ke.isFunction(Ue)?(We._filter=Be.create_nodeFilter(),We._filter.acceptNode=Ue):We._filter=Ue,We},Ve.prototype.createTreeWalker=function(He,ze,Ue){ze===void 0&&(ze=Oe.WhatToShow.All),Ue===void 0&&(Ue=null);var We=Be.create_treeWalker(He,He);return We._whatToShow=ze,ke.isFunction(Ue)?(We._filter=Be.create_nodeFilter(),We._filter.acceptNode=Ue):We._filter=Ue,We},Ve.prototype._getTheParent=function(He){return He._type==="load"?null:Ee.dom.window},Ve.prototype.getElementById=function(He){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(Ve.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Ve.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Ve.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Ve.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Ve.prototype.prepend=function(){for(var He=[],ze=0;ze<arguments.length;ze++)He[ze]=arguments[ze];throw new Error("Mixin: ParentNode not implemented.")},Ve.prototype.append=function(){for(var He=[],ze=0;ze<arguments.length;ze++)He[ze]=arguments[ze];throw new Error("Mixin: ParentNode not implemented.")},Ve.prototype.querySelector=function(He){throw new Error("Mixin: ParentNode not implemented.")},Ve.prototype.querySelectorAll=function(He){throw new Error("Mixin: ParentNode not implemented.")},Ve}(De.NodeImpl);xe.DocumentImpl=Re,Ie.idl_defineConst(Re.prototype,"_nodeType",Oe.NodeType.Document)},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function($e,Be){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ie,Re){Ie.__proto__=Re}||function(Ie,Re){for(var je in Re)Re.hasOwnProperty(je)&&(Ie[je]=Re[je])})($e,Be)},function($e,Be){function Ie(){this.constructor=$e}_e($e,Be),$e.prototype=Be===null?Object.create(Be):(Ie.prototype=Be.prototype,new Ie)}),Ce=this&&this.__values||function($e){var Be=typeof Symbol=="function"&&Symbol.iterator,Ie=Be&&$e[Be],Re=0;if(Ie)return Ie.call($e);if($e&&typeof $e.length=="number")return{next:function(){return $e&&Re>=$e.length&&($e=void 0),{value:$e&&$e[Re++],done:!$e}}};throw new TypeError(Be?"Object is not iterable.":"Symbol.iterator is not defined.")},Pe=this&&this.__read||function($e,Be){var Ie=typeof Symbol=="function"&&$e[Symbol.iterator];if(!Ie)return $e;var Re,je,Ve=Ie.call($e),He=[];try{for(;(Be===void 0||Be-- >0)&&!(Re=Ve.next()).done;)He.push(Re.value)}catch(ze){je={error:ze}}finally{try{Re&&!Re.done&&(Ie=Ve.return)&&Ie.call(Ve)}finally{if(je)throw je.error}}return He};Object.defineProperty(xe,"__esModule",{value:!0});var Ee=Se(1),Oe=Se(34),Me=Se(9),De=Se(7),Te=Se(0),ke=Se(12),Fe=function($e){function Be(){var Ie=$e.call(this)||this;return Ie._children=new Set,Ie._namespace=null,Ie._namespacePrefix=null,Ie._localName="",Ie._customElementState="undefined",Ie._customElementDefinition=null,Ie._is=null,Ie._shadowRoot=null,Ie._attributeList=Te.create_namedNodeMap(Ie),Ie._attributeChangeSteps=[],Ie._name="",Ie._assignedSlot=null,Ie}return Ae(Be,$e),Object.defineProperty(Be.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"tagName",{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"id",{get:function(){return Te.element_getAnAttributeValue(this,"id")},set:function(Ie){Te.element_setAnAttributeValue(this,"id",Ie)},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"className",{get:function(){return Te.element_getAnAttributeValue(this,"class")},set:function(Ie){Te.element_setAnAttributeValue(this,"class",Ie)},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"classList",{get:function(){var Ie=Te.element_getAnAttributeByName("class",this);return Ie===null&&(Ie=Te.create_attr(this._nodeDocument,"class")),Te.create_domTokenList(this,Ie)},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"slot",{get:function(){return Te.element_getAnAttributeValue(this,"slot")},set:function(Ie){Te.element_setAnAttributeValue(this,"slot",Ie)},enumerable:!0,configurable:!0}),Be.prototype.hasAttributes=function(){return this._attributeList.length!==0},Object.defineProperty(Be.prototype,"attributes",{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),Be.prototype.getAttributeNames=function(){var Ie,Re,je=[];try{for(var Ve=Ce(this._attributeList),He=Ve.next();!He.done;He=Ve.next()){var ze=He.value;je.push(ze._qualifiedName)}}catch(Ue){Ie={error:Ue}}finally{try{He&&!He.done&&(Re=Ve.return)&&Re.call(Ve)}finally{if(Ie)throw Ie.error}}return je},Be.prototype.getAttribute=function(Ie){var Re=Te.element_getAnAttributeByName(Ie,this);return Re?Re._value:null},Be.prototype.getAttributeNS=function(Ie,Re){var je=Te.element_getAnAttributeByNamespaceAndLocalName(Ie,Re,this);return je?je._value:null},Be.prototype.setAttribute=function(Ie,Re){if(!Te.xml_isName(Ie))throw new Me.InvalidCharacterError;this._namespace===De.namespace.HTML&&this._nodeDocument._type==="html"&&(Ie=Ie.toLowerCase());for(var je=null,Ve=0;Ve<this._attributeList.length;Ve++){var He=this._attributeList[Ve];if(He._qualifiedName===Ie){je=He;break}}if(je===null)return(je=Te.create_attr(this._nodeDocument,Ie))._value=Re,void Te.element_append(je,this);Te.element_change(je,this,Re)},Be.prototype.setAttributeNS=function(Ie,Re,je){var Ve=Pe(Te.namespace_validateAndExtract(Ie,Re),3),He=Ve[0],ze=Ve[1],Ue=Ve[2];Te.element_setAnAttributeValue(this,Ue,je,ze,He)},Be.prototype.removeAttribute=function(Ie){Te.element_removeAnAttributeByName(Ie,this)},Be.prototype.removeAttributeNS=function(Ie,Re){Te.element_removeAnAttributeByNamespaceAndLocalName(Ie,Re,this)},Be.prototype.hasAttribute=function(Ie){this._namespace===De.namespace.HTML&&this._nodeDocument._type==="html"&&(Ie=Ie.toLowerCase());for(var Re=0;Re<this._attributeList.length;Re++)if(this._attributeList[Re]._qualifiedName===Ie)return!0;return!1},Be.prototype.toggleAttribute=function(Ie,Re){if(!Te.xml_isName(Ie))throw new Me.InvalidCharacterError;this._namespace===De.namespace.HTML&&this._nodeDocument._type==="html"&&(Ie=Ie.toLowerCase());for(var je=null,Ve=0;Ve<this._attributeList.length;Ve++){var He=this._attributeList[Ve];if(He._qualifiedName===Ie){je=He;break}}return je===null?(Re===void 0||Re===!0)&&((je=Te.create_attr(this._nodeDocument,Ie))._value="",Te.element_append(je,this),!0):Re!==void 0&&Re!==!1||(Te.element_removeAnAttributeByName(Ie,this),!1)},Be.prototype.hasAttributeNS=function(Ie,Re){for(var je=Ie||null,Ve=0;Ve<this._attributeList.length;Ve++){var He=this._attributeList[Ve];if(He._namespace===je&&He._localName===Re)return!0}return!1},Be.prototype.getAttributeNode=function(Ie){return Te.element_getAnAttributeByName(Ie,this)},Be.prototype.getAttributeNodeNS=function(Ie,Re){return Te.element_getAnAttributeByNamespaceAndLocalName(Ie,Re,this)},Be.prototype.setAttributeNode=function(Ie){return Te.element_setAnAttribute(Ie,this)},Be.prototype.setAttributeNodeNS=function(Ie){return Te.element_setAnAttribute(Ie,this)},Be.prototype.removeAttributeNode=function(Ie){for(var Re=!1,je=0;je<this._attributeList.length;je++)if(this._attributeList[je]===Ie){Re=!0;break}if(!Re)throw new Me.NotFoundError;return Te.element_remove(Ie,this),Ie},Be.prototype.attachShadow=function(Ie){if(this._namespace!==De.namespace.HTML)throw new Me.NotSupportedError;if(!Te.customElement_isValidCustomElementName(this._localName)&&!Te.customElement_isValidShadowHostName(this._localName))throw new Me.NotSupportedError;if(Te.customElement_isValidCustomElementName(this._localName)||this._is!==null){var Re=Te.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(Re!==null&&Re.disableShadow===!0)throw new Me.NotSupportedError}if(this._shadowRoot!==null)throw new Me.NotSupportedError;var je=Te.create_shadowRoot(this._nodeDocument,this);return je._mode=Ie.mode,this._shadowRoot=je,je},Object.defineProperty(Be.prototype,"shadowRoot",{get:function(){var Ie=this._shadowRoot;return Ie===null||Ie.mode==="closed"?null:Ie},enumerable:!0,configurable:!0}),Be.prototype.closest=function(Ie){throw new Me.NotImplementedError},Be.prototype.matches=function(Ie){throw new Me.NotImplementedError},Be.prototype.webkitMatchesSelector=function(Ie){return this.matches(Ie)},Be.prototype.getElementsByTagName=function(Ie){return Te.node_listOfElementsWithQualifiedName(Ie,this)},Be.prototype.getElementsByTagNameNS=function(Ie,Re){return Te.node_listOfElementsWithNamespace(Ie,Re,this)},Be.prototype.getElementsByClassName=function(Ie){return Te.node_listOfElementsWithClassNames(Ie,this)},Be.prototype.insertAdjacentElement=function(Ie,Re){return Te.element_insertAdjacent(this,Ie,Re)},Be.prototype.insertAdjacentText=function(Ie,Re){var je=Te.create_text(this._nodeDocument,Re);Te.element_insertAdjacent(this,Ie,je)},Object.defineProperty(Be.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"_htmlUppercasedQualifiedName",{get:function(){var Ie=this._qualifiedName;return this._namespace===De.namespace.HTML&&this._nodeDocument._type==="html"&&(Ie=Ie.toUpperCase()),Ie},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Be.prototype.prepend=function(){for(var Ie=[],Re=0;Re<arguments.length;Re++)Ie[Re]=arguments[Re];throw new Error("Mixin: ParentNode not implemented.")},Be.prototype.append=function(){for(var Ie=[],Re=0;Re<arguments.length;Re++)Ie[Re]=arguments[Re];throw new Error("Mixin: ParentNode not implemented.")},Be.prototype.querySelector=function(Ie){throw new Error("Mixin: ParentNode not implemented.")},Be.prototype.querySelectorAll=function(Ie){throw new Error("Mixin: ParentNode not implemented.")},Object.defineProperty(Be.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Be.prototype.before=function(){for(var Ie=[],Re=0;Re<arguments.length;Re++)Ie[Re]=arguments[Re];throw new Error("Mixin: ChildNode not implemented.")},Be.prototype.after=function(){for(var Ie=[],Re=0;Re<arguments.length;Re++)Ie[Re]=arguments[Re];throw new Error("Mixin: ChildNode not implemented.")},Be.prototype.replaceWith=function(){for(var Ie=[],Re=0;Re<arguments.length;Re++)Ie[Re]=arguments[Re];throw new Error("Mixin: ChildNode not implemented.")},Be.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Object.defineProperty(Be.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),Be._create=function(Ie,Re,je,Ve){je===void 0&&(je=null),Ve===void 0&&(Ve=null);var He=new Be;return He._localName=Re,He._namespace=je,He._namespacePrefix=Ve,He._nodeDocument=Ie,He},Be}(Oe.NodeImpl);xe.ElementImpl=Fe,ke.idl_defineConst(Fe.prototype,"_nodeType",Ee.NodeType.Element)},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Me,De){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,ke){Te.__proto__=ke}||function(Te,ke){for(var Fe in ke)ke.hasOwnProperty(Fe)&&(Te[Fe]=ke[Fe])})(Me,De)},function(Me,De){function Te(){this.constructor=Me}_e(Me,De),Me.prototype=De===null?Object.create(De):(Te.prototype=De.prototype,new Te)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(1),Pe=Se(34),Ee=Se(12),Oe=function(Me){function De(Te){Te===void 0&&(Te=null);var ke=Me.call(this)||this;return ke._children=new Set,ke._host=Te,ke}return Ae(De,Me),De.prototype.getElementById=function(Te){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(De.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(De.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(De.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(De.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),De.prototype.prepend=function(){for(var Te=[],ke=0;ke<arguments.length;ke++)Te[ke]=arguments[ke];throw new Error("Mixin: ParentNode not implemented.")},De.prototype.append=function(){for(var Te=[],ke=0;ke<arguments.length;ke++)Te[ke]=arguments[ke];throw new Error("Mixin: ParentNode not implemented.")},De.prototype.querySelector=function(Te){throw new Error("Mixin: ParentNode not implemented.")},De.prototype.querySelectorAll=function(Te){throw new Error("Mixin: ParentNode not implemented.")},De._create=function(Te,ke){ke===void 0&&(ke=null);var Fe=new De(ke);return Fe._nodeDocument=Te,Fe},De}(Pe.NodeImpl);xe.DocumentFragmentImpl=Oe,Ee.idl_defineConst(Oe.prototype,"_nodeType",Ce.NodeType.DocumentFragment)},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Te,ke){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Fe,$e){Fe.__proto__=$e}||function(Fe,$e){for(var Be in $e)$e.hasOwnProperty(Be)&&(Fe[Be]=$e[Be])})(Te,ke)},function(Te,ke){function Fe(){this.constructor=Te}_e(Te,ke),Te.prototype=ke===null?Object.create(ke):(Fe.prototype=ke.prototype,new Fe)}),Ce=this&&this.__values||function(Te){var ke=typeof Symbol=="function"&&Symbol.iterator,Fe=ke&&Te[ke],$e=0;if(Fe)return Fe.call(Te);if(Te&&typeof Te.length=="number")return{next:function(){return Te&&$e>=Te.length&&(Te=void 0),{value:Te&&Te[$e++],done:!Te}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Pe=Se(1),Ee=Se(71),Oe=Se(0),Me=Se(12),De=function(Te){function ke(Fe){Fe===void 0&&(Fe="");var $e=Te.call(this,Fe)||this;return $e._name="",$e._assignedSlot=null,$e}return Ae(ke,Te),Object.defineProperty(ke.prototype,"wholeText",{get:function(){var Fe,$e,Be="";try{for(var Ie=Ce(Oe.text_contiguousTextNodes(this,!0)),Re=Ie.next();!Re.done;Re=Ie.next())Be+=Re.value._data}catch(je){Fe={error:je}}finally{try{Re&&!Re.done&&($e=Ie.return)&&$e.call(Ie)}finally{if(Fe)throw Fe.error}}return Be},enumerable:!0,configurable:!0}),ke.prototype.splitText=function(Fe){return Oe.text_split(this,Fe)},Object.defineProperty(ke.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),ke._create=function(Fe,$e){$e===void 0&&($e="");var Be=new ke($e);return Be._nodeDocument=Fe,Be},ke}(Ee.CharacterDataImpl);xe.TextImpl=De,Me.idl_defineConst(De.prototype,"_nodeType",Pe.NodeType.Text)},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=function(){function Ae(){}return Object.defineProperty(Ae.prototype,"_startNode",{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"_startOffset",{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"_endNode",{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"_endOffset",{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"_collapsed",{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"startContainer",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"startOffset",{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"endContainer",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"endOffset",{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),Ae}();xe.AbstractRangeImpl=_e},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(1),Ae=function(){function Ce(Pe){this._activeFlag=!1,this._root=Pe,this._whatToShow=_e.WhatToShow.All,this._filter=null}return Object.defineProperty(Ce.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"whatToShow",{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Ce}();xe.TraverserImpl=Ae},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(1),Ae=Se(0),Ce=Se(12),Pe=function(){function Ee(Oe,Me){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=_e.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=Oe,Me&&(this._bubbles=Me.bubbles||!1,this._cancelable=Me.cancelable||!1,this._composedFlag=Me.composed||!1),this._initializedFlag=!0,this._timeStamp=new Date().getTime()}return Object.defineProperty(Ee.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(Ee.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(Ee.prototype,"srcElement",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(Ee.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),Ee.prototype.composedPath=function(){var Oe=[],Me=this._path;if(Me.length===0)return Oe;var De=this._currentTarget;if(De===null)throw new Error("Event currentTarget is null.");Oe.push(De);for(var Te=0,ke=0,Fe=Me.length-1;Fe>=0;){if(Me[Fe].rootOfClosedTree&&ke++,Me[Fe].invocationTarget===De){Te=Fe;break}Me[Fe].slotInClosedTree&&ke--,Fe--}var $e=ke,Be=ke;for(Fe=Te-1;Fe>=0;)Me[Fe].rootOfClosedTree&&$e++,$e<=Be&&Oe.unshift(Me[Fe].invocationTarget),Me[Fe].slotInClosedTree&&--$e<Be&&(Be=$e),Fe--;for($e=ke,Be=ke,Fe=Te+1;Fe<Me.length;)Me[Fe].slotInClosedTree&&$e++,$e<=Be&&Oe.push(Me[Fe].invocationTarget),Me[Fe].rootOfClosedTree&&--$e<Be&&(Be=$e),Fe++;return Oe},Object.defineProperty(Ee.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),Ee.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(Ee.prototype,"cancelBubble",{get:function(){return this._stopPropagationFlag},set:function(Oe){Oe&&this.stopPropagation()},enumerable:!0,configurable:!0}),Ee.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(Ee.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(Ee.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(Ee.prototype,"returnValue",{get:function(){return!this._canceledFlag},set:function(Oe){Oe||Ae.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),Ee.prototype.preventDefault=function(){Ae.event_setTheCanceledFlag(this)},Object.defineProperty(Ee.prototype,"defaultPrevented",{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(Ee.prototype,"composed",{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(Ee.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(Ee.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),Ee.prototype.initEvent=function(Oe,Me,De){Me===void 0&&(Me=!1),De===void 0&&(De=!1),this._dispatchFlag||Ae.event_initialize(this,Oe,Me,De)},Ee.NONE=0,Ee.CAPTURING_PHASE=1,Ee.AT_TARGET=2,Ee.BUBBLING_PHASE=3,Ee}();xe.EventImpl=Pe,Ce.idl_defineConst(Pe.prototype,"NONE",0),Ce.idl_defineConst(Pe.prototype,"CAPTURING_PHASE",1),Ce.idl_defineConst(Pe.prototype,"AT_TARGET",2),Ce.idl_defineConst(Pe.prototype,"BUBBLING_PHASE",3)},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(1),Ae=Se(9);xe.traversal_filter=function(Ce,Pe){if(Ce._activeFlag)throw new Ae.InvalidStateError;var Ee=1<<Pe._nodeType-1;if(!(Ce.whatToShow&Ee))return _e.FilterResult.Skip;if(!Ce.filter)return _e.FilterResult.Accept;Ce._activeFlag=!0;var Oe=_e.FilterResult.Reject;try{Oe=Ce.filter.acceptNode(Pe)}catch(Me){throw Ce._activeFlag=!1,Me}return Ce._activeFlag=!1,Oe}},function(r,xe,Se){var _e=this&&this.__read||function(Be,Ie){var Re=typeof Symbol=="function"&&Be[Symbol.iterator];if(!Re)return Be;var je,Ve,He=Re.call(Be),ze=[];try{for(;(Ie===void 0||Ie-- >0)&&!(je=He.next()).done;)ze.push(je.value)}catch(Ue){Ve={error:Ue}}finally{try{je&&!je.done&&(Re=He.return)&&Re.call(He)}finally{if(Ve)throw Ve.error}}return ze},Ae=this&&this.__values||function(Be){var Ie=typeof Symbol=="function"&&Symbol.iterator,Re=Ie&&Be[Ie],je=0;if(Re)return Re.call(Be);if(Be&&typeof Be.length=="number")return{next:function(){return Be&&je>=Be.length&&(Be=void 0),{value:Be&&Be[je++],done:!Be}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(6),Pe=Se(3),Ee=Se(2),Oe=Se(99),Me=Se(73),De=Se(17),Te=Se(173),ke=Se(30),Fe=Se(52),$e=Se(37);xe.document_elementInterface=function(Be,Ie){return Oe.ElementImpl},xe.document_internalCreateElementNS=function(Be,Ie,Re,je){var Ve=_e(Te.namespace_validateAndExtract(Ie,Re),3),He=Ve[0],ze=Ve[1],Ue=Ve[2],We=null;return je!==void 0&&(We=Ee.isString(je)?je:je.is),Fe.element_createAnElement(Be,Ue,He,ze,We,!0)},xe.document_adopt=function(Be,Ie){var Re,je;if(Be._nodeDocument!==Ie||Be._parent!==null){var Ve=Be._nodeDocument;if(Be._parent&&$e.mutation_remove(Be,Be._parent),Ie!==Ve)for(var He=De.tree_getFirstDescendantNode(Be,!0,!0);He!==null;){if(He._nodeDocument=Ie,Pe.Guard.isElementNode(He))try{for(var ze=(Re=void 0,Ae(He._attributeList._asArray())),Ue=ze.next();!Ue.done;Ue=ze.next())Ue.value._nodeDocument=Ie}catch(We){Re={error:We}}finally{try{Ue&&!Ue.done&&(je=ze.return)&&je.call(ze)}finally{if(Re)throw Re.error}}Ce.dom.features.customElements&&Pe.Guard.isElementNode(He)&&He._customElementState==="custom"&&Me.customElement_enqueueACustomElementCallbackReaction(He,"adoptedCallback",[Ve,Ie]),Ce.dom.features.steps&&ke.dom_runAdoptingSteps(He,Ve),He=De.tree_getNextDescendantNode(Be,He,!0,!0)}}}},function(r,xe,Se){var _e=this&&this.__values||function(De){var Te=typeof Symbol=="function"&&Symbol.iterator,ke=Te&&De[Te],Fe=0;if(ke)return ke.call(De);if(De&&typeof De.length=="number")return{next:function(){return De&&Fe>=De.length&&(De=void 0),{value:De&&De[Fe++],done:!De}}};throw new TypeError(Te?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(6),Ce=Se(3),Pe=Se(9),Ee=Se(17),Oe=Se(51),Me=Se(30);xe.characterData_replaceData=function(De,Te,ke,Fe){var $e,Be,Ie=Ee.tree_nodeLength(De);if(Te>Ie)throw new Pe.IndexSizeError("Offset exceeds character data length. Offset: "+Te+", Length: "+Ie+", Node is "+De.nodeName+".");Te+ke>Ie&&(ke=Ie-Te),Ae.dom.features.mutationObservers&&Oe.observer_queueMutationRecord("characterData",De,null,null,De._data,[],[],null,null);var Re=De._data.substring(0,Te)+Fe+De._data.substring(Te+ke);De._data=Re;try{for(var je=_e(Ae.dom.rangeList),Ve=je.next();!Ve.done;Ve=je.next()){var He=Ve.value;He._start[0]===De&&He._start[1]>Te&&He._start[1]<=Te+ke&&(He._start[1]=Te),He._end[0]===De&&He._end[1]>Te&&He._end[1]<=Te+ke&&(He._end[1]=Te),He._start[0]===De&&He._start[1]>Te+ke&&(He._start[1]+=Fe.length-ke),He._end[0]===De&&He._end[1]>Te+ke&&(He._end[1]+=Fe.length-ke)}}catch(ze){$e={error:ze}}finally{try{Ve&&!Ve.done&&(Be=je.return)&&Be.call(je)}finally{if($e)throw $e.error}}Ae.dom.features.steps&&Ce.Guard.isTextNode(De)&&De._parent!==null&&Me.dom_runChildTextContentChangeSteps(De._parent)},xe.characterData_substringData=function(De,Te,ke){var Fe=Ee.tree_nodeLength(De);if(Te>Fe)throw new Pe.IndexSizeError("Offset exceeds character data length. Offset: "+Te+", Length: "+Fe+", Node is "+De.nodeName+".");return Te+ke>Fe?De._data.substr(Te):De._data.substr(Te,ke)}},function(r,xe,Se){var _e=this&&this.__read||function(Me,De){var Te=typeof Symbol=="function"&&Me[Symbol.iterator];if(!Te)return Me;var ke,Fe,$e=Te.call(Me),Be=[];try{for(;(De===void 0||De-- >0)&&!(ke=$e.next()).done;)Be.push(ke.value)}catch(Ie){Fe={error:Ie}}finally{try{ke&&!ke.done&&(Te=$e.return)&&Te.call($e)}finally{if(Fe)throw Fe.error}}return Be},Ae=this&&this.__spread||function(){for(var Me=[],De=0;De<arguments.length;De++)Me=Me.concat(_e(arguments[De]));return Me},Ce=this&&this.__values||function(Me){var De=typeof Symbol=="function"&&Symbol.iterator,Te=De&&Me[De],ke=0;if(Te)return Te.call(Me);if(Me&&typeof Me.length=="number")return{next:function(){return Me&&ke>=Me.length&&(Me=void 0),{value:Me&&Me[ke++],done:!Me}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Pe=Se(7);function Ee(Me){var De=Pe.string.splitAStringOnASCIIWhitespace(Me);return new Set(De)}function Oe(Me){return Ae(Me).join(" ")}xe.orderedSet_parse=Ee,xe.orderedSet_serialize=Oe,xe.orderedSet_sanitize=function(Me){return Oe(Ee(Me))},xe.orderedSet_contains=function(Me,De,Te){var ke,Fe,$e,Be;try{for(var Ie=Ce(De),Re=Ie.next();!Re.done;Re=Ie.next()){var je=Re.value,Ve=!1;try{for(var He=($e=void 0,Ce(Me)),ze=He.next();!ze.done;ze=He.next()){var Ue=ze.value;if(Te){if(Ue===je){Ve=!0;break}}else if(Ue.toUpperCase()===je.toUpperCase()){Ve=!0;break}}}catch(We){$e={error:We}}finally{try{ze&&!ze.done&&(Be=He.return)&&Be.call(He)}finally{if($e)throw $e.error}}if(!Ve)return!1}}catch(We){ke={error:We}}finally{try{Re&&!Re.done&&(Fe=Ie.return)&&Fe.call(Ie)}finally{if(ke)throw ke.error}}return!0}},function(r,xe,Se){Se(179),Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(263),Ae=Se(110),Ce=Se(2);Ae.dom.setFeatures(!1),xe.createDocument=function(){var Pe=new _e.DOMImplementation().createDocument(null,"root",null);return Pe.documentElement&&Pe.removeChild(Pe.documentElement),Pe},xe.sanitizeInput=function(Pe,Ee){if(Pe==null)return Pe;if(Ee===void 0)return Pe+"";var Oe="";Pe+="";for(var Me=0;Me<Pe.length;Me++){var De=Pe.charCodeAt(Me);if(De===9||De===10||De===13||De>=32&&De<=55295||De>=57344&&De<=65533)Oe+=Pe.charAt(Me);else if(De>=55296&&De<=56319&&Me<Pe.length-1){var Te=Pe.charCodeAt(Me+1);Te>=56320&&Te<=57343?(De=1024*(De-55296)+Te-56320+65536,Oe+=String.fromCodePoint(De),Me++):Oe+=Ce.isString(Ee)?Ee:Ee(Pe.charAt(Me),Me,Pe)}else Oe+=Ce.isString(Ee)?Ee:Ee(Pe.charAt(Me),Me,Pe)}return Oe}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(2),Ae=Se(153);xe.AbortController=Ae.AbortControllerImpl;var Ce=Se(154);xe.AbortSignal=Ce.AbortSignalImpl;var Pe=Se(102);xe.AbstractRange=Pe.AbstractRangeImpl;var Ee=Se(157);xe.Attr=Ee.AttrImpl;var Oe=Se(158);xe.CDATASection=Oe.CDATASectionImpl;var Me=Se(71);xe.CharacterData=Me.CharacterDataImpl;var De=Se(264),Te=Se(159);xe.Comment=Te.CommentImpl;var ke=Se(171);xe.CustomEvent=ke.CustomEventImpl;var Fe=Se(100);xe.DocumentFragment=Fe.DocumentFragmentImpl;var $e=Se(98);xe.Document=$e.DocumentImpl;var Be=Se(265),Ie=Se(155);xe.DocumentType=Ie.DocumentTypeImpl;var Re=Se(6);xe.dom=Re.dom;var je=Se(148);xe.DOMImplementation=je.DOMImplementationImpl;var Ve=Se(170);xe.DOMTokenList=Ve.DOMTokenListImpl;var He=Se(99);xe.Element=He.ElementImpl;var ze=Se(104);xe.Event=ze.EventImpl;var Ue=Se(70);xe.EventTarget=Ue.EventTargetImpl;var We=Se(161);xe.HTMLCollection=We.HTMLCollectionImpl;var qe=Se(266);xe.MutationObserver=qe.MutationObserverImpl;var Ge=Se(169);xe.MutationRecord=Ge.MutationRecordImpl;var Ye=Se(164);xe.NamedNodeMap=Ye.NamedNodeMapImpl;var Qe=Se(168);xe.NodeFilter=Qe.NodeFilterImpl;var Je=Se(34);xe.Node=Je.NodeImpl;var ri=Se(166);xe.NodeIterator=ri.NodeIteratorImpl;var hi=Se(162);xe.NodeList=hi.NodeListImpl;var pi=Se(163);xe.NodeListStatic=pi.NodeListStaticImpl;var ni=Se(267),di=Se(268),fi=Se(269),Pi=Se(160);xe.ProcessingInstruction=Pi.ProcessingInstructionImpl;var ci=Se(165);xe.Range=ci.RangeImpl;var xi=Se(156);xe.ShadowRoot=xi.ShadowRootImpl;var yi=Se(270),gi=Se(271);xe.StaticRange=gi.StaticRangeImpl;var Ai=Se(101);xe.Text=Ai.TextImpl;var Mi=Se(103);xe.Traverser=Mi.TraverserImpl;var Fi=Se(167);xe.TreeWalker=Fi.TreeWalkerImpl;var Di=Se(149);xe.Window=Di.WindowImpl;var oi=Se(151);xe.XMLDocument=oi.XMLDocumentImpl,_e.applyMixin(He.ElementImpl,De.ChildNodeImpl),_e.applyMixin(Me.CharacterDataImpl,De.ChildNodeImpl),_e.applyMixin(Ie.DocumentTypeImpl,De.ChildNodeImpl),_e.applyMixin($e.DocumentImpl,Be.DocumentOrShadowRootImpl),_e.applyMixin(xi.ShadowRootImpl,Be.DocumentOrShadowRootImpl),_e.applyMixin(He.ElementImpl,ni.NonDocumentTypeChildNodeImpl),_e.applyMixin(Me.CharacterDataImpl,ni.NonDocumentTypeChildNodeImpl),_e.applyMixin($e.DocumentImpl,di.NonElementParentNodeImpl),_e.applyMixin(Fe.DocumentFragmentImpl,di.NonElementParentNodeImpl),_e.applyMixin($e.DocumentImpl,fi.ParentNodeImpl),_e.applyMixin(Fe.DocumentFragmentImpl,fi.ParentNodeImpl),_e.applyMixin(He.ElementImpl,fi.ParentNodeImpl),_e.applyMixin(Ai.TextImpl,yi.SlotableImpl),_e.applyMixin(He.ElementImpl,yi.SlotableImpl)},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0}),function(_e){_e[_e.EOF=0]="EOF",_e[_e.Declaration=1]="Declaration",_e[_e.DocType=2]="DocType",_e[_e.Element=3]="Element",_e[_e.Text=4]="Text",_e[_e.CDATA=5]="CDATA",_e[_e.PI=6]="PI",_e[_e.Comment=7]="Comment",_e[_e.ClosingTag=8]="ClosingTag"}(xe.TokenType||(xe.TokenType={}))},function(r,xe,Se){Se(64),Se(20),Se(66);var _e,Ae=this&&this.__extends||(_e=function(Ee,Oe){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Me,De){Me.__proto__=De}||function(Me,De){for(var Te in De)De.hasOwnProperty(Te)&&(Me[Te]=De[Te])})(Ee,Oe)},function(Ee,Oe){function Me(){this.constructor=Ee}_e(Ee,Oe),Ee.prototype=Oe===null?Object.create(Oe):(Me.prototype=Oe.prototype,new Me)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(2),Pe=function(Ee){function Oe(){return Ee!==null&&Ee.apply(this,arguments)||this}return Ae(Oe,Ee),Oe.prototype._parse=function(Me,De){var Te=this,ke=this._builderOptions,Fe=null;return Ce.isFunction(De)?Fe=this.parse(Me,De.apply(this)):Ce.isArray(De)||Ce.isSet(De)?Ce.forEachArray(De,function($e){return Fe=Te.parse(Me,$e)},this):Ce.isMap(De)||Ce.isObject(De)?Ce.forEachObject(De,function($e,Be){if(Ce.isFunction(Be)&&(Be=Be.apply(Te)),ke.ignoreConverters||$e.indexOf(ke.convert.att)!==0)if(ke.ignoreConverters||$e.indexOf(ke.convert.text)!==0)if(ke.ignoreConverters||$e.indexOf(ke.convert.cdata)!==0)if(ke.ignoreConverters||$e.indexOf(ke.convert.comment)!==0)if(ke.ignoreConverters||$e.indexOf(ke.convert.ins)!==0){if(!((Ce.isArray(Be)||Ce.isSet(Be))&&Ce.isEmpty(Be))){if((Ce.isMap(Be)||Ce.isObject(Be))&&Ce.isEmpty(Be))Fe=Te.element(Me,void 0,Te.sanitize($e))||Fe;else if(ke.keepNullNodes||Be!=null)if(Ce.isArray(Be)||Ce.isSet(Be))Ce.forEachArray(Be,function(He){var ze={};ze[$e]=He,Fe=Te.parse(Me,ze)},Te);else if(Ce.isMap(Be)||Ce.isObject(Be))(Ie=Te.element(Me,void 0,Te.sanitize($e)))&&(Fe=Ie,Te.parse(Ie,Be));else if(Be!=null&&Be!==""){var Ie;(Ie=Te.element(Me,void 0,Te.sanitize($e)))&&(Fe=Ie,Te.text(Ie,Te._decodeText(Te.sanitize(Be))))}else Fe=Te.element(Me,void 0,Te.sanitize($e))||Fe}}else if(Ce.isString(Be)){var Re=Be.indexOf(" "),je=Re===-1?Be:Be.substr(0,Re),Ve=Re===-1?"":Be.substr(Re+1);Fe=Te.instruction(Me,Te.sanitize(je),Te.sanitize(Ve))||Fe}else Ce.isArray(Be)||Ce.isSet(Be)?Ce.forEachArray(Be,function(He){var ze=He.indexOf(" "),Ue=ze===-1?He:He.substr(0,ze),We=ze===-1?"":He.substr(ze+1);Fe=Te.instruction(Me,Te.sanitize(Ue),Te.sanitize(We))||Fe},Te):Ce.forEachObject(Be,function(He,ze){return Fe=Te.instruction(Me,Te.sanitize(He),Te.sanitize(ze))||Fe},Te);else Ce.isArray(Be)||Ce.isSet(Be)?Ce.forEachArray(Be,function(He){return Fe=Te.comment(Me,Te.sanitize(He))||Fe},Te):Fe=Te.comment(Me,Te.sanitize(Be))||Fe;else Ce.isArray(Be)||Ce.isSet(Be)?Ce.forEachArray(Be,function(He){return Fe=Te.cdata(Me,Te.sanitize(He))||Fe},Te):Fe=Te.cdata(Me,Te.sanitize(Be))||Fe;else Fe=Ce.isMap(Be)||Ce.isObject(Be)?Te.parse(Me,Be):Te.text(Me,Te._decodeText(Te.sanitize(Be)))||Fe;else if($e===ke.convert.att){if(Ce.isArray(Be)||Ce.isSet(Be))throw new Error("Invalid attribute: "+Be.toString()+". "+Me._debugInfo());Ce.forEachObject(Be,function(He,ze){Fe=Te.attribute(Me,void 0,Te.sanitize(He),Te._decodeAttributeValue(Te.sanitize(ze)))||Fe})}else Fe=Te.attribute(Me,void 0,Te.sanitize($e.substr(ke.convert.att.length)),Te._decodeAttributeValue(Te.sanitize(Be)))||Fe},this):(ke.keepNullNodes||De!=null)&&(Fe=this.text(Me,this._decodeText(this.sanitize(De)))||Fe),Fe||Me},Oe}(Se(75).BaseReader);xe.ObjectReader=Pe},function(r,xe,Se){var _e=Se(39);r.exports=new _e({explicit:[Se(287),Se(288),Se(289)]})},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=function(Ae){this.level=0,this._builderOptions=Ae,this._writerOptions=Ae};xe.BaseCBWriter=_e},function(r,xe,Se){var _e=Se(16),Ae=Se(8),Ce=Se(116);r.exports=!_e&&!Ae(function(){return Object.defineProperty(Ce("div"),"a",{get:function(){return 7}}).a!=7})},function(r,xe,Se){var _e=Se(11),Ae=Se(13),Ce=_e.document,Pe=Ae(Ce)&&Ae(Ce.createElement);r.exports=function(Ee){return Pe?Ce.createElement(Ee):{}}},function(r,xe,Se){var _e=Se(118),Ae=Function.toString;typeof _e.inspectSource!="function"&&(_e.inspectSource=function(Ce){return Ae.call(Ce)}),r.exports=_e.inspectSource},function(r,xe,Se){var _e=Se(11),Ae=Se(80),Ce=_e["__core-js_shared__"]||Ae("__core-js_shared__",{});r.exports=Ce},function(r,xe,Se){var _e=Se(14),Ae=Se(187),Ce=Se(55),Pe=Se(15);r.exports=function(Ee,Oe){for(var Me=Ae(Oe),De=Pe.f,Te=Ce.f,ke=0;ke<Me.length;ke++){var Fe=Me[ke];_e(Ee,Fe)||De(Ee,Fe,Te(Oe,Fe))}}},function(r,xe,Se){var _e=Se(11);r.exports=_e},function(r,xe,Se){var _e=Se(14),Ae=Se(24),Ce=Se(122).indexOf,Pe=Se(45);r.exports=function(Ee,Oe){var Me,De=Ae(Ee),Te=0,ke=[];for(Me in De)!_e(Pe,Me)&&_e(De,Me)&&ke.push(Me);for(;Oe.length>Te;)_e(De,Me=Oe[Te++])&&(~Ce(ke,Me)||ke.push(Me));return ke}},function(r,xe,Se){var _e=Se(24),Ae=Se(26),Ce=Se(83),Pe=function(Ee){return function(Oe,Me,De){var Te,ke=_e(Oe),Fe=Ae(ke.length),$e=Ce(De,Fe);if(Ee&&Me!=Me){for(;Fe>$e;)if((Te=ke[$e++])!=Te)return!0}else for(;Fe>$e;$e++)if((Ee||$e in ke)&&ke[$e]===Me)return Ee||$e||0;return!Ee&&-1}};r.exports={includes:Pe(!0),indexOf:Pe(!1)}},function(r,xe,Se){var _e=Se(8),Ae=/#|\.prototype\./,Ce=function(De,Te){var ke=Ee[Pe(De)];return ke==Me||ke!=Oe&&(typeof Te=="function"?_e(Te):!!Te)},Pe=Ce.normalize=function(De){return String(De).replace(Ae,".").toLowerCase()},Ee=Ce.data={},Oe=Ce.NATIVE="N",Me=Ce.POLYFILL="P";r.exports=Ce},function(r,xe,Se){var _e=Se(86);r.exports=_e&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(r,xe,Se){var _e=Se(5);xe.f=_e},function(r,xe,Se){var _e=Se(120),Ae=Se(14),Ce=Se(125),Pe=Se(15).f;r.exports=function(Ee){var Oe=_e.Symbol||(_e.Symbol={});Ae(Oe,Ee)||Pe(Oe,Ee,{value:Ce.f(Ee)})}},function(r,xe){r.exports=function(Se){if(typeof Se!="function")throw TypeError(String(Se)+" is not a function");return Se}},function(r,xe,Se){var _e=Se(13),Ae=Se(59),Ce=Se(5)("species");r.exports=function(Pe,Ee){var Oe;return Ae(Pe)&&(typeof(Oe=Pe.constructor)!="function"||Oe!==Array&&!Ae(Oe.prototype)?_e(Oe)&&(Oe=Oe[Ce])===null&&(Oe=void 0):Oe=void 0),new(Oe===void 0?Array:Oe)(Ee===0?0:Ee)}},function(r,xe,Se){var _e,Ae,Ce=Se(11),Pe=Se(193),Ee=Ce.process,Oe=Ee&&Ee.versions,Me=Oe&&Oe.v8;Me?Ae=(_e=Me.split("."))[0]+_e[1]:Pe&&(!(_e=Pe.match(/Edge\/(\d+)/))||_e[1]>=74)&&(_e=Pe.match(/Chrome\/(\d+)/))&&(Ae=_e[1]),r.exports=Ae&&+Ae},function(r,xe,Se){var _e=Se(5),Ae=Se(60),Ce=Se(15),Pe=_e("unscopables"),Ee=Array.prototype;Ee[Pe]==null&&Ce.f(Ee,Pe,{configurable:!0,value:Ae(null)}),r.exports=function(Oe){Ee[Pe][Oe]=!0}},function(r,xe,Se){var _e,Ae,Ce,Pe=Se(132),Ee=Se(21),Oe=Se(14),Me=Se(5),De=Se(44),Te=Me("iterator"),ke=!1;[].keys&&("next"in(Ce=[].keys())?(Ae=Pe(Pe(Ce)))!==Object.prototype&&(_e=Ae):ke=!0),_e==null&&(_e={}),De||Oe(_e,Te)||Ee(_e,Te,function(){return this}),r.exports={IteratorPrototype:_e,BUGGY_SAFARI_ITERATORS:ke}},function(r,xe,Se){var _e=Se(14),Ae=Se(27),Ce=Se(57),Pe=Se(196),Ee=Ce("IE_PROTO"),Oe=Object.prototype;r.exports=Pe?Object.getPrototypeOf:function(Me){return Me=Ae(Me),_e(Me,Ee)?Me[Ee]:typeof Me.constructor=="function"&&Me instanceof Me.constructor?Me.constructor.prototype:Me instanceof Object?Oe:null}},function(r,xe,Se){var _e=Se(18),Ae=Se(197);r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var Ce,Pe=!1,Ee={};try{(Ce=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(Ee,[]),Pe=Ee instanceof Array}catch{}return function(Oe,Me){return _e(Oe),Ae(Me),Pe?Ce.call(Oe,Me):Oe.__proto__=Me,Oe}}():void 0)},function(r,xe,Se){var _e=Se(56),Ae=Se(15),Ce=Se(40);r.exports=function(Pe,Ee,Oe){var Me=_e(Ee);Me in Pe?Ae.f(Pe,Me,Ce(0,Oe)):Pe[Me]=Oe}},function(r,xe,Se){var _e=Se(90),Ae=Se(42),Ce=Se(5)("toStringTag"),Pe=Ae(function(){return arguments}())=="Arguments";r.exports=_e?Ae:function(Ee){var Oe,Me,De;return Ee===void 0?"Undefined":Ee===null?"Null":typeof(Me=function(Te,ke){try{return Te[ke]}catch{}}(Oe=Object(Ee),Ce))=="string"?Me:Pe?Ae(Oe):(De=Ae(Oe))=="Object"&&typeof Oe.callee=="function"?"Arguments":De}},function(r,xe,Se){var _e=Se(18);r.exports=function(){var Ae=_e(this),Ce="";return Ae.global&&(Ce+="g"),Ae.ignoreCase&&(Ce+="i"),Ae.multiline&&(Ce+="m"),Ae.dotAll&&(Ce+="s"),Ae.unicode&&(Ce+="u"),Ae.sticky&&(Ce+="y"),Ce}},function(r,xe,Se){var _e=Se(47),Ae=Se(35),Ce=function(Pe){return function(Ee,Oe){var Me,De,Te=String(Ae(Ee)),ke=_e(Oe),Fe=Te.length;return ke<0||ke>=Fe?Pe?"":void 0:(Me=Te.charCodeAt(ke))<55296||Me>56319||ke+1===Fe||(De=Te.charCodeAt(ke+1))<56320||De>57343?Pe?Te.charAt(ke):Me:Pe?Te.slice(ke,ke+2):De-56320+(Me-55296<<10)+65536}};r.exports={codeAt:Ce(!1),charAt:Ce(!0)}},function(r,xe,Se){var _e=Se(4),Ae=Se(27),Ce=Se(61);_e({target:"Object",stat:!0,forced:Se(8)(function(){Ce(1)})},{keys:function(Pe){return Ce(Ae(Pe))}})},function(r,xe,Se){var _e=Se(4),Ae=Se(11),Ce=Se(123),Pe=Se(25),Ee=Se(140),Oe=Se(141),Me=Se(142),De=Se(13),Te=Se(8),ke=Se(208),Fe=Se(62),$e=Se(209);r.exports=function(Be,Ie,Re){var je=Be.indexOf("Map")!==-1,Ve=Be.indexOf("Weak")!==-1,He=je?"set":"add",ze=Ae[Be],Ue=ze&&ze.prototype,We=ze,qe={},Ge=function(pi){var ni=Ue[pi];Pe(Ue,pi,pi=="add"?function(di){return ni.call(this,di===0?0:di),this}:pi=="delete"?function(di){return!(Ve&&!De(di))&&ni.call(this,di===0?0:di)}:pi=="get"?function(di){return Ve&&!De(di)?void 0:ni.call(this,di===0?0:di)}:pi=="has"?function(di){return!(Ve&&!De(di))&&ni.call(this,di===0?0:di)}:function(di,fi){return ni.call(this,di===0?0:di,fi),this})};if(Ce(Be,typeof ze!="function"||!(Ve||Ue.forEach&&!Te(function(){new ze().entries().next()}))))We=Re.getConstructor(Ie,Be,je,He),Ee.REQUIRED=!0;else if(Ce(Be,!0)){var Ye=new We,Qe=Ye[He](Ve?{}:-0,1)!=Ye,Je=Te(function(){Ye.has(1)}),ri=ke(function(pi){new ze(pi)}),hi=!Ve&&Te(function(){for(var pi=new ze,ni=5;ni--;)pi[He](ni,ni);return!pi.has(-0)});ri||((We=Ie(function(pi,ni){Me(pi,We,Be);var di=$e(new ze,pi,We);return ni!=null&&Oe(ni,di[He],di,je),di})).prototype=Ue,Ue.constructor=We),(Je||hi)&&(Ge("delete"),Ge("has"),je&&Ge("get")),(hi||Qe)&&Ge(He),Ve&&Ue.clear&&delete Ue.clear}return qe[Be]=We,_e({global:!0,forced:We!=ze},qe),Fe(We,Be),Ve||Re.setStrong(We,Be,je),We}},function(r,xe,Se){var _e=Se(45),Ae=Se(13),Ce=Se(14),Pe=Se(15).f,Ee=Se(58),Oe=Se(204),Me=Ee("meta"),De=0,Te=Object.isExtensible||function(){return!0},ke=function($e){Pe($e,Me,{value:{objectID:"O"+ ++De,weakData:{}}})},Fe=r.exports={REQUIRED:!1,fastKey:function($e,Be){if(!Ae($e))return typeof $e=="symbol"?$e:(typeof $e=="string"?"S":"P")+$e;if(!Ce($e,Me)){if(!Te($e))return"F";if(!Be)return"E";ke($e)}return $e[Me].objectID},getWeakData:function($e,Be){if(!Ce($e,Me)){if(!Te($e))return!0;if(!Be)return!1;ke($e)}return $e[Me].weakData},onFreeze:function($e){return Oe&&Fe.REQUIRED&&Te($e)&&!Ce($e,Me)&&ke($e),$e}};_e[Me]=!0},function(r,xe,Se){var _e=Se(18),Ae=Se(205),Ce=Se(26),Pe=Se(87),Ee=Se(206),Oe=Se(207),Me=function(De,Te){this.stopped=De,this.result=Te};(r.exports=function(De,Te,ke,Fe,$e){var Be,Ie,Re,je,Ve,He,ze,Ue=Pe(Te,ke,Fe?2:1);if($e)Be=De;else{if(typeof(Ie=Ee(De))!="function")throw TypeError("Target is not iterable");if(Ae(Ie)){for(Re=0,je=Ce(De.length);je>Re;Re++)if((Ve=Fe?Ue(_e(ze=De[Re])[0],ze[1]):Ue(De[Re]))&&Ve instanceof Me)return Ve;return new Me(!1)}Be=Ie.call(De)}for(He=Be.next;!(ze=He.call(Be)).done;)if(typeof(Ve=Oe(Be,Ue,ze.value,Fe))=="object"&&Ve&&Ve instanceof Me)return Ve;return new Me(!1)}).stop=function(De){return new Me(!0,De)}},function(r,xe){r.exports=function(Se,_e,Ae){if(!(Se instanceof _e))throw TypeError("Incorrect "+(Ae?Ae+" ":"")+"invocation");return Se}},function(r,xe,Se){var _e=Se(15).f,Ae=Se(60),Ce=Se(210),Pe=Se(87),Ee=Se(142),Oe=Se(141),Me=Se(88),De=Se(211),Te=Se(16),ke=Se(140).fastKey,Fe=Se(43),$e=Fe.set,Be=Fe.getterFor;r.exports={getConstructor:function(Ie,Re,je,Ve){var He=Ie(function(qe,Ge){Ee(qe,He,Re),$e(qe,{type:Re,index:Ae(null),first:void 0,last:void 0,size:0}),Te||(qe.size=0),Ge!=null&&Oe(Ge,qe[Ve],qe,je)}),ze=Be(Re),Ue=function(qe,Ge,Ye){var Qe,Je,ri=ze(qe),hi=We(qe,Ge);return hi?hi.value=Ye:(ri.last=hi={index:Je=ke(Ge,!0),key:Ge,value:Ye,previous:Qe=ri.last,next:void 0,removed:!1},ri.first||(ri.first=hi),Qe&&(Qe.next=hi),Te?ri.size++:qe.size++,Je!=="F"&&(ri.index[Je]=hi)),qe},We=function(qe,Ge){var Ye,Qe=ze(qe),Je=ke(Ge);if(Je!=="F")return Qe.index[Je];for(Ye=Qe.first;Ye;Ye=Ye.next)if(Ye.key==Ge)return Ye};return Ce(He.prototype,{clear:function(){for(var qe=ze(this),Ge=qe.index,Ye=qe.first;Ye;)Ye.removed=!0,Ye.previous&&(Ye.previous=Ye.previous.next=void 0),delete Ge[Ye.index],Ye=Ye.next;qe.first=qe.last=void 0,Te?qe.size=0:this.size=0},delete:function(qe){var Ge=ze(this),Ye=We(this,qe);if(Ye){var Qe=Ye.next,Je=Ye.previous;delete Ge.index[Ye.index],Ye.removed=!0,Je&&(Je.next=Qe),Qe&&(Qe.previous=Je),Ge.first==Ye&&(Ge.first=Qe),Ge.last==Ye&&(Ge.last=Je),Te?Ge.size--:this.size--}return!!Ye},forEach:function(qe){for(var Ge,Ye=ze(this),Qe=Pe(qe,arguments.length>1?arguments[1]:void 0,3);Ge=Ge?Ge.next:Ye.first;)for(Qe(Ge.value,Ge.key,this);Ge&&Ge.removed;)Ge=Ge.previous},has:function(qe){return!!We(this,qe)}}),Ce(He.prototype,je?{get:function(qe){var Ge=We(this,qe);return Ge&&Ge.value},set:function(qe,Ge){return Ue(this,qe===0?0:qe,Ge)}}:{add:function(qe){return Ue(this,qe=qe===0?0:qe,qe)}}),Te&&_e(He.prototype,"size",{get:function(){return ze(this).size}}),He},setStrong:function(Ie,Re,je){var Ve=Re+" Iterator",He=Be(Re),ze=Be(Ve);Me(Ie,Re,function(Ue,We){$e(this,{type:Ve,target:Ue,state:He(Ue),kind:We,last:void 0})},function(){for(var Ue=ze(this),We=Ue.kind,qe=Ue.last;qe&&qe.removed;)qe=qe.previous;return Ue.target&&(Ue.last=qe=qe?qe.next:Ue.state.first)?We=="keys"?{value:qe.key,done:!1}:We=="values"?{value:qe.value,done:!1}:{value:[qe.key,qe.value],done:!1}:(Ue.target=void 0,{value:void 0,done:!0})},je?"entries":"values",!je,!0),De(Re)}}},function(r,xe,Se){var _e,Ae=Se(4),Ce=Se(55).f,Pe=Se(26),Ee=Se(222),Oe=Se(35),Me=Se(224),De=Se(44),Te="".endsWith,ke=Math.min,Fe=Me("endsWith");Ae({target:"String",proto:!0,forced:!!(De||Fe||(_e=Ce(String.prototype,"endsWith"),!_e||_e.writable))&&!Fe},{endsWith:function($e){var Be=String(Oe(this));Ee($e);var Ie=arguments.length>1?arguments[1]:void 0,Re=Pe(Be.length),je=Ie===void 0?Re:ke(Pe(Ie),Re),Ve=String($e);return Te?Te.call(Be,Ve,je):Be.slice(je-Ve.length,je)===Ve}})},function(r,xe,Se){(function(_e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var Ae=Se(229),Ce=Se(230),Pe=Se(231);function Ee(){return Me.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Oe(oi,Ke){if(Ee()<Ke)throw new RangeError("Invalid typed array length");return Me.TYPED_ARRAY_SUPPORT?(oi=new Uint8Array(Ke)).__proto__=Me.prototype:(oi===null&&(oi=new Me(Ke)),oi.length=Ke),oi}function Me(oi,Ke,St){if(!(Me.TYPED_ARRAY_SUPPORT||this instanceof Me))return new Me(oi,Ke,St);if(typeof oi=="number"){if(typeof Ke=="string")throw new Error("If encoding is specified then the first argument must be a string");return ke(this,oi)}return De(this,oi,Ke,St)}function De(oi,Ke,St,ei){if(typeof Ke=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&Ke instanceof ArrayBuffer?function(ui,ai,ii,Ci){if(ai.byteLength,ii<0||ai.byteLength<ii)throw new RangeError("'offset' is out of bounds");if(ai.byteLength<ii+(Ci||0))throw new RangeError("'length' is out of bounds");return ai=ii===void 0&&Ci===void 0?new Uint8Array(ai):Ci===void 0?new Uint8Array(ai,ii):new Uint8Array(ai,ii,Ci),Me.TYPED_ARRAY_SUPPORT?(ui=ai).__proto__=Me.prototype:ui=Fe(ui,ai),ui}(oi,Ke,St,ei):typeof Ke=="string"?function(ui,ai,ii){if(typeof ii=="string"&&ii!==""||(ii="utf8"),!Me.isEncoding(ii))throw new TypeError('"encoding" must be a valid string encoding');var Ci=0|Be(ai,ii),ki=(ui=Oe(ui,Ci)).write(ai,ii);return ki!==Ci&&(ui=ui.slice(0,ki)),ui}(oi,Ke,St):function(ui,ai){if(Me.isBuffer(ai)){var ii=0|$e(ai.length);return(ui=Oe(ui,ii)).length===0||ai.copy(ui,0,0,ii),ui}if(ai){if(typeof ArrayBuffer<"u"&&ai.buffer instanceof ArrayBuffer||"length"in ai)return typeof ai.length!="number"||(Ci=ai.length)!=Ci?Oe(ui,0):Fe(ui,ai);if(ai.type==="Buffer"&&Pe(ai.data))return Fe(ui,ai.data)}var Ci;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(oi,Ke)}function Te(oi){if(typeof oi!="number")throw new TypeError('"size" argument must be a number');if(oi<0)throw new RangeError('"size" argument must not be negative')}function ke(oi,Ke){if(Te(Ke),oi=Oe(oi,Ke<0?0:0|$e(Ke)),!Me.TYPED_ARRAY_SUPPORT)for(var St=0;St<Ke;++St)oi[St]=0;return oi}function Fe(oi,Ke){var St=Ke.length<0?0:0|$e(Ke.length);oi=Oe(oi,St);for(var ei=0;ei<St;ei+=1)oi[ei]=255&Ke[ei];return oi}function $e(oi){if(oi>=Ee())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ee().toString(16)+" bytes");return 0|oi}function Be(oi,Ke){if(Me.isBuffer(oi))return oi.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(oi)||oi instanceof ArrayBuffer))return oi.byteLength;typeof oi!="string"&&(oi=""+oi);var St=oi.length;if(St===0)return 0;for(var ei=!1;;)switch(Ke){case"ascii":case"latin1":case"binary":return St;case"utf8":case"utf-8":case void 0:return Mi(oi).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*St;case"hex":return St>>>1;case"base64":return Fi(oi).length;default:if(ei)return Mi(oi).length;Ke=(""+Ke).toLowerCase(),ei=!0}}function Ie(oi,Ke,St){var ei=!1;if((Ke===void 0||Ke<0)&&(Ke=0),Ke>this.length||((St===void 0||St>this.length)&&(St=this.length),St<=0)||(St>>>=0)<=(Ke>>>=0))return"";for(oi||(oi="utf8");;)switch(oi){case"hex":return hi(this,Ke,St);case"utf8":case"utf-8":return Qe(this,Ke,St);case"ascii":return Je(this,Ke,St);case"latin1":case"binary":return ri(this,Ke,St);case"base64":return Ye(this,Ke,St);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pi(this,Ke,St);default:if(ei)throw new TypeError("Unknown encoding: "+oi);oi=(oi+"").toLowerCase(),ei=!0}}function Re(oi,Ke,St){var ei=oi[Ke];oi[Ke]=oi[St],oi[St]=ei}function je(oi,Ke,St,ei,ui){if(oi.length===0)return-1;if(typeof St=="string"?(ei=St,St=0):St>2147483647?St=2147483647:St<-2147483648&&(St=-2147483648),St=+St,isNaN(St)&&(St=ui?0:oi.length-1),St<0&&(St=oi.length+St),St>=oi.length){if(ui)return-1;St=oi.length-1}else if(St<0){if(!ui)return-1;St=0}if(typeof Ke=="string"&&(Ke=Me.from(Ke,ei)),Me.isBuffer(Ke))return Ke.length===0?-1:Ve(oi,Ke,St,ei,ui);if(typeof Ke=="number")return Ke&=255,Me.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?ui?Uint8Array.prototype.indexOf.call(oi,Ke,St):Uint8Array.prototype.lastIndexOf.call(oi,Ke,St):Ve(oi,[Ke],St,ei,ui);throw new TypeError("val must be string, number or Buffer")}function Ve(oi,Ke,St,ei,ui){var ai,ii=1,Ci=oi.length,ki=Ke.length;if(ei!==void 0&&((ei=String(ei).toLowerCase())==="ucs2"||ei==="ucs-2"||ei==="utf16le"||ei==="utf-16le")){if(oi.length<2||Ke.length<2)return-1;ii=2,Ci/=2,ki/=2,St/=2}function bi(ji,Zi){return ii===1?ji[Zi]:ji.readUInt16BE(Zi*ii)}if(ui){var Ii=-1;for(ai=St;ai<Ci;ai++)if(bi(oi,ai)===bi(Ke,Ii===-1?0:ai-Ii)){if(Ii===-1&&(Ii=ai),ai-Ii+1===ki)return Ii*ii}else Ii!==-1&&(ai-=ai-Ii),Ii=-1}else for(St+ki>Ci&&(St=Ci-ki),ai=St;ai>=0;ai--){for(var Bi=!0,Vi=0;Vi<ki;Vi++)if(bi(oi,ai+Vi)!==bi(Ke,Vi)){Bi=!1;break}if(Bi)return ai}return-1}function He(oi,Ke,St,ei){St=Number(St)||0;var ui=oi.length-St;ei?(ei=Number(ei))>ui&&(ei=ui):ei=ui;var ai=Ke.length;if(ai%2!=0)throw new TypeError("Invalid hex string");ei>ai/2&&(ei=ai/2);for(var ii=0;ii<ei;++ii){var Ci=parseInt(Ke.substr(2*ii,2),16);if(isNaN(Ci))return ii;oi[St+ii]=Ci}return ii}function ze(oi,Ke,St,ei){return Di(Mi(Ke,oi.length-St),oi,St,ei)}function Ue(oi,Ke,St,ei){return Di(function(ui){for(var ai=[],ii=0;ii<ui.length;++ii)ai.push(255&ui.charCodeAt(ii));return ai}(Ke),oi,St,ei)}function We(oi,Ke,St,ei){return Ue(oi,Ke,St,ei)}function qe(oi,Ke,St,ei){return Di(Fi(Ke),oi,St,ei)}function Ge(oi,Ke,St,ei){return Di(function(ui,ai){for(var ii,Ci,ki,bi=[],Ii=0;Ii<ui.length&&!((ai-=2)<0);++Ii)ii=ui.charCodeAt(Ii),Ci=ii>>8,ki=ii%256,bi.push(ki),bi.push(Ci);return bi}(Ke,oi.length-St),oi,St,ei)}function Ye(oi,Ke,St){return Ke===0&&St===oi.length?Ae.fromByteArray(oi):Ae.fromByteArray(oi.slice(Ke,St))}function Qe(oi,Ke,St){St=Math.min(oi.length,St);for(var ei=[],ui=Ke;ui<St;){var ai,ii,Ci,ki,bi=oi[ui],Ii=null,Bi=bi>239?4:bi>223?3:bi>191?2:1;if(ui+Bi<=St)switch(Bi){case 1:bi<128&&(Ii=bi);break;case 2:(192&(ai=oi[ui+1]))==128&&(ki=(31&bi)<<6|63&ai)>127&&(Ii=ki);break;case 3:ai=oi[ui+1],ii=oi[ui+2],(192&ai)==128&&(192&ii)==128&&(ki=(15&bi)<<12|(63&ai)<<6|63&ii)>2047&&(ki<55296||ki>57343)&&(Ii=ki);break;case 4:ai=oi[ui+1],ii=oi[ui+2],Ci=oi[ui+3],(192&ai)==128&&(192&ii)==128&&(192&Ci)==128&&(ki=(15&bi)<<18|(63&ai)<<12|(63&ii)<<6|63&Ci)>65535&&ki<1114112&&(Ii=ki)}Ii===null?(Ii=65533,Bi=1):Ii>65535&&(Ii-=65536,ei.push(Ii>>>10&1023|55296),Ii=56320|1023&Ii),ei.push(Ii),ui+=Bi}return function(Vi){var ji=Vi.length;if(ji<=4096)return String.fromCharCode.apply(String,Vi);for(var Zi="",Wi=0;Wi<ji;)Zi+=String.fromCharCode.apply(String,Vi.slice(Wi,Wi+=4096));return Zi}(ei)}xe.Buffer=Me,xe.SlowBuffer=function(oi){return+oi!=oi&&(oi=0),Me.alloc(+oi)},xe.INSPECT_MAX_BYTES=50,Me.TYPED_ARRAY_SUPPORT=_e.TYPED_ARRAY_SUPPORT!==void 0?_e.TYPED_ARRAY_SUPPORT:function(){try{var oi=new Uint8Array(1);return oi.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},oi.foo()===42&&typeof oi.subarray=="function"&&oi.subarray(1,1).byteLength===0}catch{return!1}}(),xe.kMaxLength=Ee(),Me.poolSize=8192,Me._augment=function(oi){return oi.__proto__=Me.prototype,oi},Me.from=function(oi,Ke,St){return De(null,oi,Ke,St)},Me.TYPED_ARRAY_SUPPORT&&(Me.prototype.__proto__=Uint8Array.prototype,Me.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Me[Symbol.species]===Me&&Object.defineProperty(Me,Symbol.species,{value:null,configurable:!0})),Me.alloc=function(oi,Ke,St){return function(ei,ui,ai,ii){return Te(ui),ui<=0?Oe(ei,ui):ai!==void 0?typeof ii=="string"?Oe(ei,ui).fill(ai,ii):Oe(ei,ui).fill(ai):Oe(ei,ui)}(null,oi,Ke,St)},Me.allocUnsafe=function(oi){return ke(null,oi)},Me.allocUnsafeSlow=function(oi){return ke(null,oi)},Me.isBuffer=function(oi){return!(oi==null||!oi._isBuffer)},Me.compare=function(oi,Ke){if(!Me.isBuffer(oi)||!Me.isBuffer(Ke))throw new TypeError("Arguments must be Buffers");if(oi===Ke)return 0;for(var St=oi.length,ei=Ke.length,ui=0,ai=Math.min(St,ei);ui<ai;++ui)if(oi[ui]!==Ke[ui]){St=oi[ui],ei=Ke[ui];break}return St<ei?-1:ei<St?1:0},Me.isEncoding=function(oi){switch(String(oi).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Me.concat=function(oi,Ke){if(!Pe(oi))throw new TypeError('"list" argument must be an Array of Buffers');if(oi.length===0)return Me.alloc(0);var St;if(Ke===void 0)for(Ke=0,St=0;St<oi.length;++St)Ke+=oi[St].length;var ei=Me.allocUnsafe(Ke),ui=0;for(St=0;St<oi.length;++St){var ai=oi[St];if(!Me.isBuffer(ai))throw new TypeError('"list" argument must be an Array of Buffers');ai.copy(ei,ui),ui+=ai.length}return ei},Me.byteLength=Be,Me.prototype._isBuffer=!0,Me.prototype.swap16=function(){var oi=this.length;if(oi%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ke=0;Ke<oi;Ke+=2)Re(this,Ke,Ke+1);return this},Me.prototype.swap32=function(){var oi=this.length;if(oi%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ke=0;Ke<oi;Ke+=4)Re(this,Ke,Ke+3),Re(this,Ke+1,Ke+2);return this},Me.prototype.swap64=function(){var oi=this.length;if(oi%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ke=0;Ke<oi;Ke+=8)Re(this,Ke,Ke+7),Re(this,Ke+1,Ke+6),Re(this,Ke+2,Ke+5),Re(this,Ke+3,Ke+4);return this},Me.prototype.toString=function(){var oi=0|this.length;return oi===0?"":arguments.length===0?Qe(this,0,oi):Ie.apply(this,arguments)},Me.prototype.equals=function(oi){if(!Me.isBuffer(oi))throw new TypeError("Argument must be a Buffer");return this===oi||Me.compare(this,oi)===0},Me.prototype.inspect=function(){var oi="",Ke=xe.INSPECT_MAX_BYTES;return this.length>0&&(oi=this.toString("hex",0,Ke).match(/.{2}/g).join(" "),this.length>Ke&&(oi+=" ... ")),"<Buffer "+oi+">"},Me.prototype.compare=function(oi,Ke,St,ei,ui){if(!Me.isBuffer(oi))throw new TypeError("Argument must be a Buffer");if(Ke===void 0&&(Ke=0),St===void 0&&(St=oi?oi.length:0),ei===void 0&&(ei=0),ui===void 0&&(ui=this.length),Ke<0||St>oi.length||ei<0||ui>this.length)throw new RangeError("out of range index");if(ei>=ui&&Ke>=St)return 0;if(ei>=ui)return-1;if(Ke>=St)return 1;if(this===oi)return 0;for(var ai=(ui>>>=0)-(ei>>>=0),ii=(St>>>=0)-(Ke>>>=0),Ci=Math.min(ai,ii),ki=this.slice(ei,ui),bi=oi.slice(Ke,St),Ii=0;Ii<Ci;++Ii)if(ki[Ii]!==bi[Ii]){ai=ki[Ii],ii=bi[Ii];break}return ai<ii?-1:ii<ai?1:0},Me.prototype.includes=function(oi,Ke,St){return this.indexOf(oi,Ke,St)!==-1},Me.prototype.indexOf=function(oi,Ke,St){return je(this,oi,Ke,St,!0)},Me.prototype.lastIndexOf=function(oi,Ke,St){return je(this,oi,Ke,St,!1)},Me.prototype.write=function(oi,Ke,St,ei){if(Ke===void 0)ei="utf8",St=this.length,Ke=0;else if(St===void 0&&typeof Ke=="string")ei=Ke,St=this.length,Ke=0;else{if(!isFinite(Ke))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Ke|=0,isFinite(St)?(St|=0,ei===void 0&&(ei="utf8")):(ei=St,St=void 0)}var ui=this.length-Ke;if((St===void 0||St>ui)&&(St=ui),oi.length>0&&(St<0||Ke<0)||Ke>this.length)throw new RangeError("Attempt to write outside buffer bounds");ei||(ei="utf8");for(var ai=!1;;)switch(ei){case"hex":return He(this,oi,Ke,St);case"utf8":case"utf-8":return ze(this,oi,Ke,St);case"ascii":return Ue(this,oi,Ke,St);case"latin1":case"binary":return We(this,oi,Ke,St);case"base64":return qe(this,oi,Ke,St);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ge(this,oi,Ke,St);default:if(ai)throw new TypeError("Unknown encoding: "+ei);ei=(""+ei).toLowerCase(),ai=!0}},Me.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Je(oi,Ke,St){var ei="";St=Math.min(oi.length,St);for(var ui=Ke;ui<St;++ui)ei+=String.fromCharCode(127&oi[ui]);return ei}function ri(oi,Ke,St){var ei="";St=Math.min(oi.length,St);for(var ui=Ke;ui<St;++ui)ei+=String.fromCharCode(oi[ui]);return ei}function hi(oi,Ke,St){var ei=oi.length;(!Ke||Ke<0)&&(Ke=0),(!St||St<0||St>ei)&&(St=ei);for(var ui="",ai=Ke;ai<St;++ai)ui+=Ai(oi[ai]);return ui}function pi(oi,Ke,St){for(var ei=oi.slice(Ke,St),ui="",ai=0;ai<ei.length;ai+=2)ui+=String.fromCharCode(ei[ai]+256*ei[ai+1]);return ui}function ni(oi,Ke,St){if(oi%1!=0||oi<0)throw new RangeError("offset is not uint");if(oi+Ke>St)throw new RangeError("Trying to access beyond buffer length")}function di(oi,Ke,St,ei,ui,ai){if(!Me.isBuffer(oi))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ke>ui||Ke<ai)throw new RangeError('"value" argument is out of bounds');if(St+ei>oi.length)throw new RangeError("Index out of range")}function fi(oi,Ke,St,ei){Ke<0&&(Ke=65535+Ke+1);for(var ui=0,ai=Math.min(oi.length-St,2);ui<ai;++ui)oi[St+ui]=(Ke&255<<8*(ei?ui:1-ui))>>>8*(ei?ui:1-ui)}function Pi(oi,Ke,St,ei){Ke<0&&(Ke=4294967295+Ke+1);for(var ui=0,ai=Math.min(oi.length-St,4);ui<ai;++ui)oi[St+ui]=Ke>>>8*(ei?ui:3-ui)&255}function ci(oi,Ke,St,ei,ui,ai){if(St+ei>oi.length)throw new RangeError("Index out of range");if(St<0)throw new RangeError("Index out of range")}function xi(oi,Ke,St,ei,ui){return ui||ci(oi,0,St,4),Ce.write(oi,Ke,St,ei,23,4),St+4}function yi(oi,Ke,St,ei,ui){return ui||ci(oi,0,St,8),Ce.write(oi,Ke,St,ei,52,8),St+8}Me.prototype.slice=function(oi,Ke){var St,ei=this.length;if((oi=~~oi)<0?(oi+=ei)<0&&(oi=0):oi>ei&&(oi=ei),(Ke=Ke===void 0?ei:~~Ke)<0?(Ke+=ei)<0&&(Ke=0):Ke>ei&&(Ke=ei),Ke<oi&&(Ke=oi),Me.TYPED_ARRAY_SUPPORT)(St=this.subarray(oi,Ke)).__proto__=Me.prototype;else{var ui=Ke-oi;St=new Me(ui,void 0);for(var ai=0;ai<ui;++ai)St[ai]=this[ai+oi]}return St},Me.prototype.readUIntLE=function(oi,Ke,St){oi|=0,Ke|=0,St||ni(oi,Ke,this.length);for(var ei=this[oi],ui=1,ai=0;++ai<Ke&&(ui*=256);)ei+=this[oi+ai]*ui;return ei},Me.prototype.readUIntBE=function(oi,Ke,St){oi|=0,Ke|=0,St||ni(oi,Ke,this.length);for(var ei=this[oi+--Ke],ui=1;Ke>0&&(ui*=256);)ei+=this[oi+--Ke]*ui;return ei},Me.prototype.readUInt8=function(oi,Ke){return Ke||ni(oi,1,this.length),this[oi]},Me.prototype.readUInt16LE=function(oi,Ke){return Ke||ni(oi,2,this.length),this[oi]|this[oi+1]<<8},Me.prototype.readUInt16BE=function(oi,Ke){return Ke||ni(oi,2,this.length),this[oi]<<8|this[oi+1]},Me.prototype.readUInt32LE=function(oi,Ke){return Ke||ni(oi,4,this.length),(this[oi]|this[oi+1]<<8|this[oi+2]<<16)+16777216*this[oi+3]},Me.prototype.readUInt32BE=function(oi,Ke){return Ke||ni(oi,4,this.length),16777216*this[oi]+(this[oi+1]<<16|this[oi+2]<<8|this[oi+3])},Me.prototype.readIntLE=function(oi,Ke,St){oi|=0,Ke|=0,St||ni(oi,Ke,this.length);for(var ei=this[oi],ui=1,ai=0;++ai<Ke&&(ui*=256);)ei+=this[oi+ai]*ui;return ei>=(ui*=128)&&(ei-=Math.pow(2,8*Ke)),ei},Me.prototype.readIntBE=function(oi,Ke,St){oi|=0,Ke|=0,St||ni(oi,Ke,this.length);for(var ei=Ke,ui=1,ai=this[oi+--ei];ei>0&&(ui*=256);)ai+=this[oi+--ei]*ui;return ai>=(ui*=128)&&(ai-=Math.pow(2,8*Ke)),ai},Me.prototype.readInt8=function(oi,Ke){return Ke||ni(oi,1,this.length),128&this[oi]?-1*(255-this[oi]+1):this[oi]},Me.prototype.readInt16LE=function(oi,Ke){Ke||ni(oi,2,this.length);var St=this[oi]|this[oi+1]<<8;return 32768&St?4294901760|St:St},Me.prototype.readInt16BE=function(oi,Ke){Ke||ni(oi,2,this.length);var St=this[oi+1]|this[oi]<<8;return 32768&St?4294901760|St:St},Me.prototype.readInt32LE=function(oi,Ke){return Ke||ni(oi,4,this.length),this[oi]|this[oi+1]<<8|this[oi+2]<<16|this[oi+3]<<24},Me.prototype.readInt32BE=function(oi,Ke){return Ke||ni(oi,4,this.length),this[oi]<<24|this[oi+1]<<16|this[oi+2]<<8|this[oi+3]},Me.prototype.readFloatLE=function(oi,Ke){return Ke||ni(oi,4,this.length),Ce.read(this,oi,!0,23,4)},Me.prototype.readFloatBE=function(oi,Ke){return Ke||ni(oi,4,this.length),Ce.read(this,oi,!1,23,4)},Me.prototype.readDoubleLE=function(oi,Ke){return Ke||ni(oi,8,this.length),Ce.read(this,oi,!0,52,8)},Me.prototype.readDoubleBE=function(oi,Ke){return Ke||ni(oi,8,this.length),Ce.read(this,oi,!1,52,8)},Me.prototype.writeUIntLE=function(oi,Ke,St,ei){oi=+oi,Ke|=0,St|=0,ei||di(this,oi,Ke,St,Math.pow(2,8*St)-1,0);var ui=1,ai=0;for(this[Ke]=255&oi;++ai<St&&(ui*=256);)this[Ke+ai]=oi/ui&255;return Ke+St},Me.prototype.writeUIntBE=function(oi,Ke,St,ei){oi=+oi,Ke|=0,St|=0,ei||di(this,oi,Ke,St,Math.pow(2,8*St)-1,0);var ui=St-1,ai=1;for(this[Ke+ui]=255&oi;--ui>=0&&(ai*=256);)this[Ke+ui]=oi/ai&255;return Ke+St},Me.prototype.writeUInt8=function(oi,Ke,St){return oi=+oi,Ke|=0,St||di(this,oi,Ke,1,255,0),Me.TYPED_ARRAY_SUPPORT||(oi=Math.floor(oi)),this[Ke]=255&oi,Ke+1},Me.prototype.writeUInt16LE=function(oi,Ke,St){return oi=+oi,Ke|=0,St||di(this,oi,Ke,2,65535,0),Me.TYPED_ARRAY_SUPPORT?(this[Ke]=255&oi,this[Ke+1]=oi>>>8):fi(this,oi,Ke,!0),Ke+2},Me.prototype.writeUInt16BE=function(oi,Ke,St){return oi=+oi,Ke|=0,St||di(this,oi,Ke,2,65535,0),Me.TYPED_ARRAY_SUPPORT?(this[Ke]=oi>>>8,this[Ke+1]=255&oi):fi(this,oi,Ke,!1),Ke+2},Me.prototype.writeUInt32LE=function(oi,Ke,St){return oi=+oi,Ke|=0,St||di(this,oi,Ke,4,4294967295,0),Me.TYPED_ARRAY_SUPPORT?(this[Ke+3]=oi>>>24,this[Ke+2]=oi>>>16,this[Ke+1]=oi>>>8,this[Ke]=255&oi):Pi(this,oi,Ke,!0),Ke+4},Me.prototype.writeUInt32BE=function(oi,Ke,St){return oi=+oi,Ke|=0,St||di(this,oi,Ke,4,4294967295,0),Me.TYPED_ARRAY_SUPPORT?(this[Ke]=oi>>>24,this[Ke+1]=oi>>>16,this[Ke+2]=oi>>>8,this[Ke+3]=255&oi):Pi(this,oi,Ke,!1),Ke+4},Me.prototype.writeIntLE=function(oi,Ke,St,ei){if(oi=+oi,Ke|=0,!ei){var ui=Math.pow(2,8*St-1);di(this,oi,Ke,St,ui-1,-ui)}var ai=0,ii=1,Ci=0;for(this[Ke]=255&oi;++ai<St&&(ii*=256);)oi<0&&Ci===0&&this[Ke+ai-1]!==0&&(Ci=1),this[Ke+ai]=(oi/ii>>0)-Ci&255;return Ke+St},Me.prototype.writeIntBE=function(oi,Ke,St,ei){if(oi=+oi,Ke|=0,!ei){var ui=Math.pow(2,8*St-1);di(this,oi,Ke,St,ui-1,-ui)}var ai=St-1,ii=1,Ci=0;for(this[Ke+ai]=255&oi;--ai>=0&&(ii*=256);)oi<0&&Ci===0&&this[Ke+ai+1]!==0&&(Ci=1),this[Ke+ai]=(oi/ii>>0)-Ci&255;return Ke+St},Me.prototype.writeInt8=function(oi,Ke,St){return oi=+oi,Ke|=0,St||di(this,oi,Ke,1,127,-128),Me.TYPED_ARRAY_SUPPORT||(oi=Math.floor(oi)),oi<0&&(oi=255+oi+1),this[Ke]=255&oi,Ke+1},Me.prototype.writeInt16LE=function(oi,Ke,St){return oi=+oi,Ke|=0,St||di(this,oi,Ke,2,32767,-32768),Me.TYPED_ARRAY_SUPPORT?(this[Ke]=255&oi,this[Ke+1]=oi>>>8):fi(this,oi,Ke,!0),Ke+2},Me.prototype.writeInt16BE=function(oi,Ke,St){return oi=+oi,Ke|=0,St||di(this,oi,Ke,2,32767,-32768),Me.TYPED_ARRAY_SUPPORT?(this[Ke]=oi>>>8,this[Ke+1]=255&oi):fi(this,oi,Ke,!1),Ke+2},Me.prototype.writeInt32LE=function(oi,Ke,St){return oi=+oi,Ke|=0,St||di(this,oi,Ke,4,2147483647,-2147483648),Me.TYPED_ARRAY_SUPPORT?(this[Ke]=255&oi,this[Ke+1]=oi>>>8,this[Ke+2]=oi>>>16,this[Ke+3]=oi>>>24):Pi(this,oi,Ke,!0),Ke+4},Me.prototype.writeInt32BE=function(oi,Ke,St){return oi=+oi,Ke|=0,St||di(this,oi,Ke,4,2147483647,-2147483648),oi<0&&(oi=4294967295+oi+1),Me.TYPED_ARRAY_SUPPORT?(this[Ke]=oi>>>24,this[Ke+1]=oi>>>16,this[Ke+2]=oi>>>8,this[Ke+3]=255&oi):Pi(this,oi,Ke,!1),Ke+4},Me.prototype.writeFloatLE=function(oi,Ke,St){return xi(this,oi,Ke,!0,St)},Me.prototype.writeFloatBE=function(oi,Ke,St){return xi(this,oi,Ke,!1,St)},Me.prototype.writeDoubleLE=function(oi,Ke,St){return yi(this,oi,Ke,!0,St)},Me.prototype.writeDoubleBE=function(oi,Ke,St){return yi(this,oi,Ke,!1,St)},Me.prototype.copy=function(oi,Ke,St,ei){if(St||(St=0),ei||ei===0||(ei=this.length),Ke>=oi.length&&(Ke=oi.length),Ke||(Ke=0),ei>0&&ei<St&&(ei=St),ei===St||oi.length===0||this.length===0)return 0;if(Ke<0)throw new RangeError("targetStart out of bounds");if(St<0||St>=this.length)throw new RangeError("sourceStart out of bounds");if(ei<0)throw new RangeError("sourceEnd out of bounds");ei>this.length&&(ei=this.length),oi.length-Ke<ei-St&&(ei=oi.length-Ke+St);var ui,ai=ei-St;if(this===oi&&St<Ke&&Ke<ei)for(ui=ai-1;ui>=0;--ui)oi[ui+Ke]=this[ui+St];else if(ai<1e3||!Me.TYPED_ARRAY_SUPPORT)for(ui=0;ui<ai;++ui)oi[ui+Ke]=this[ui+St];else Uint8Array.prototype.set.call(oi,this.subarray(St,St+ai),Ke);return ai},Me.prototype.fill=function(oi,Ke,St,ei){if(typeof oi=="string"){if(typeof Ke=="string"?(ei=Ke,Ke=0,St=this.length):typeof St=="string"&&(ei=St,St=this.length),oi.length===1){var ui=oi.charCodeAt(0);ui<256&&(oi=ui)}if(ei!==void 0&&typeof ei!="string")throw new TypeError("encoding must be a string");if(typeof ei=="string"&&!Me.isEncoding(ei))throw new TypeError("Unknown encoding: "+ei)}else typeof oi=="number"&&(oi&=255);if(Ke<0||this.length<Ke||this.length<St)throw new RangeError("Out of range index");if(St<=Ke)return this;var ai;if(Ke>>>=0,St=St===void 0?this.length:St>>>0,oi||(oi=0),typeof oi=="number")for(ai=Ke;ai<St;++ai)this[ai]=oi;else{var ii=Me.isBuffer(oi)?oi:Mi(new Me(oi,ei).toString()),Ci=ii.length;for(ai=0;ai<St-Ke;++ai)this[ai+Ke]=ii[ai%Ci]}return this};var gi=/[^+\/0-9A-Za-z-_]/g;function Ai(oi){return oi<16?"0"+oi.toString(16):oi.toString(16)}function Mi(oi,Ke){var St;Ke=Ke||1/0;for(var ei=oi.length,ui=null,ai=[],ii=0;ii<ei;++ii){if((St=oi.charCodeAt(ii))>55295&&St<57344){if(!ui){if(St>56319){(Ke-=3)>-1&&ai.push(239,191,189);continue}if(ii+1===ei){(Ke-=3)>-1&&ai.push(239,191,189);continue}ui=St;continue}if(St<56320){(Ke-=3)>-1&&ai.push(239,191,189),ui=St;continue}St=65536+(ui-55296<<10|St-56320)}else ui&&(Ke-=3)>-1&&ai.push(239,191,189);if(ui=null,St<128){if((Ke-=1)<0)break;ai.push(St)}else if(St<2048){if((Ke-=2)<0)break;ai.push(St>>6|192,63&St|128)}else if(St<65536){if((Ke-=3)<0)break;ai.push(St>>12|224,St>>6&63|128,63&St|128)}else{if(!(St<1114112))throw new Error("Invalid code point");if((Ke-=4)<0)break;ai.push(St>>18|240,St>>12&63|128,St>>6&63|128,63&St|128)}}return ai}function Fi(oi){return Ae.toByteArray(function(Ke){if((Ke=function(St){return St.trim?St.trim():St.replace(/^\s+|\s+$/g,"")}(Ke).replace(gi,"")).length<2)return"";for(;Ke.length%4!=0;)Ke+="=";return Ke}(oi))}function Di(oi,Ke,St,ei){for(var ui=0;ui<ei&&!(ui+St>=Ke.length||ui>=oi.length);++ui)Ke[ui+St]=oi[ui];return ui}}).call(this,Se(78))},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0}),xe.isASCIIByte=function(_e){return _e>=0&&_e<=127}},function(r,xe,Se){var _e=this&&this.__read||function(Ce,Pe){var Ee=typeof Symbol=="function"&&Ce[Symbol.iterator];if(!Ee)return Ce;var Oe,Me,De=Ee.call(Ce),Te=[];try{for(;(Pe===void 0||Pe-- >0)&&!(Oe=De.next()).done;)Te.push(Oe.value)}catch(ke){Me={error:ke}}finally{try{Oe&&!Oe.done&&(Ee=De.return)&&Ee.call(De)}finally{if(Me)throw Me.error}}return Te},Ae=this&&this.__spread||function(){for(var Ce=[],Pe=0;Pe<arguments.length;Pe++)Ce=Ce.concat(_e(arguments[Pe]));return Ce};Object.defineProperty(xe,"__esModule",{value:!0}),xe.length=function(Ce){return Ce.length},xe.byteLowercase=function(Ce){for(var Pe=0;Pe<Ce.length;Pe++){var Ee=Ce[Pe];Ee>=65&&Ee<=90&&(Ce[Pe]=Ee+32)}},xe.byteUppercase=function(Ce){for(var Pe=0;Pe<Ce.length;Pe++){var Ee=Ce[Pe];Ee>=97&&Ee<=122&&(Ce[Pe]=Ee-32)}},xe.byteCaseInsensitiveMatch=function(Ce,Pe){if(Ce.length!==Pe.length)return!1;for(var Ee=0;Ee<Ce.length;Ee++){var Oe=Ce[Ee],Me=Pe[Ee];if(Oe>=65&&Oe<=90&&(Oe+=32),Me>=65&&Me<=90&&(Me+=32),Oe!==Me)return!1}return!0},xe.startsWith=function(Ce,Pe){for(var Ee=0;;){if(Ee>=Ce.length)return!1;if(Ee>=Pe.length)return!0;if(Ce[Ee]!==Pe[Ee])return!1;Ee++}},xe.byteLessThan=function(Ce,Pe){for(var Ee=0;;){if(Ee>=Ce.length)return!1;if(Ee>=Pe.length)return!0;var Oe=Ce[Ee],Me=Pe[Ee];if(Oe<Me)return!0;if(Oe>Me)return!1;Ee++}},xe.isomorphicDecode=function(Ce){return String.fromCodePoint.apply(String,Ae(Ce))}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(6),Ae=Se(7),Ce=Se(0),Pe=Se(12),Ee=function(){function Oe(Me){this._associatedDocument=Me||_e.dom.window.document}return Oe.prototype.createDocumentType=function(Me,De,Te){return Ce.namespace_validate(Me),Ce.create_documentType(this._associatedDocument,Me,De,Te)},Oe.prototype.createDocument=function(Me,De,Te){Te===void 0&&(Te=null);var ke=Ce.create_xmlDocument(),Fe=null;return De&&(Fe=Ce.document_internalCreateElementNS(ke,Me,De)),Te&&ke.appendChild(Te),Fe&&ke.appendChild(Fe),ke._origin=this._associatedDocument._origin,Me===Ae.namespace.HTML?ke._contentType="application/xhtml+xml":Me===Ae.namespace.SVG?ke._contentType="image/svg+xml":ke._contentType="application/xml",ke},Oe.prototype.createHTMLDocument=function(Me){var De=Ce.create_document();De._type="html",De._contentType="text/html",De.appendChild(Ce.create_documentType(De,"html","",""));var Te=Ce.element_createAnElement(De,"html",Ae.namespace.HTML);De.appendChild(Te);var ke=Ce.element_createAnElement(De,"head",Ae.namespace.HTML);if(Te.appendChild(ke),Me!==void 0){var Fe=Ce.element_createAnElement(De,"title",Ae.namespace.HTML);ke.appendChild(Fe);var $e=Ce.create_text(De,Me);Fe.appendChild($e)}var Be=Ce.element_createAnElement(De,"body",Ae.namespace.HTML);return Te.appendChild(Be),De._origin=this._associatedDocument._origin,De},Oe.prototype.hasFeature=function(){return!0},Oe._create=function(Me){return new Oe(Me)},Oe}();xe.DOMImplementationImpl=Ee,Pe.idl_defineConst(Ee.prototype,"_ID","@oozcitak/dom")},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Me,De){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,ke){Te.__proto__=ke}||function(Te,ke){for(var Fe in ke)ke.hasOwnProperty(Fe)&&(Te[Fe]=ke[Fe])})(Me,De)},function(Me,De){function Te(){this.constructor=Me}_e(Me,De),Me.prototype=De===null?Object.create(De):(Te.prototype=De.prototype,new Te)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(70),Pe=Se(2),Ee=Se(0),Oe=function(Me){function De(){var Te=Me.call(this)||this;return Te._signalSlots=new Set,Te._mutationObserverMicrotaskQueued=!1,Te._mutationObservers=new Set,Te._iteratorList=new Pe.FixedSizeSet,Te._associatedDocument=Ee.create_document(),Te}return Ae(De,Me),Object.defineProperty(De.prototype,"document",{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(De.prototype,"event",{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),De._create=function(){return new De},De}(Ce.EventTargetImpl);xe.WindowImpl=Oe},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(1),Ae=function(){function Ce(){}return Ce.isNode=function(Pe){return!!Pe&&Pe._nodeType!==void 0},Ce.isDocumentNode=function(Pe){return Ce.isNode(Pe)&&Pe._nodeType===_e.NodeType.Document},Ce.isDocumentTypeNode=function(Pe){return Ce.isNode(Pe)&&Pe._nodeType===_e.NodeType.DocumentType},Ce.isDocumentFragmentNode=function(Pe){return Ce.isNode(Pe)&&Pe._nodeType===_e.NodeType.DocumentFragment},Ce.isAttrNode=function(Pe){return Ce.isNode(Pe)&&Pe._nodeType===_e.NodeType.Attribute},Ce.isCharacterDataNode=function(Pe){if(!Ce.isNode(Pe))return!1;var Ee=Pe._nodeType;return Ee===_e.NodeType.Text||Ee===_e.NodeType.ProcessingInstruction||Ee===_e.NodeType.Comment||Ee===_e.NodeType.CData},Ce.isTextNode=function(Pe){return Ce.isNode(Pe)&&(Pe._nodeType===_e.NodeType.Text||Pe._nodeType===_e.NodeType.CData)},Ce.isExclusiveTextNode=function(Pe){return Ce.isNode(Pe)&&Pe._nodeType===_e.NodeType.Text},Ce.isCDATASectionNode=function(Pe){return Ce.isNode(Pe)&&Pe._nodeType===_e.NodeType.CData},Ce.isCommentNode=function(Pe){return Ce.isNode(Pe)&&Pe._nodeType===_e.NodeType.Comment},Ce.isProcessingInstructionNode=function(Pe){return Ce.isNode(Pe)&&Pe._nodeType===_e.NodeType.ProcessingInstruction},Ce.isElementNode=function(Pe){return Ce.isNode(Pe)&&Pe._nodeType===_e.NodeType.Element},Ce.isCustomElementNode=function(Pe){return Ce.isElementNode(Pe)&&Pe._customElementState==="custom"},Ce.isShadowRoot=function(Pe){return!!Pe&&Pe.host!==void 0},Ce.isMouseEvent=function(Pe){return!!Pe&&Pe.screenX!==void 0&&Pe.screenY!=null},Ce.isSlotable=function(Pe){return!!Pe&&Pe._name!==void 0&&Pe._assignedSlot!==void 0&&(Ce.isTextNode(Pe)||Ce.isElementNode(Pe))},Ce.isSlot=function(Pe){return!!Pe&&Pe._name!==void 0&&Pe._assignedNodes!==void 0&&Ce.isElementNode(Pe)},Ce.isWindow=function(Pe){return!!Pe&&Pe.navigator!==void 0},Ce.isEventListener=function(Pe){return!!Pe&&Pe.handleEvent!==void 0},Ce.isRegisteredObserver=function(Pe){return!!Pe&&Pe.observer!==void 0&&Pe.options!==void 0},Ce.isTransientRegisteredObserver=function(Pe){return!!Pe&&Pe.source!==void 0&&Ce.isRegisteredObserver(Pe)},Ce}();xe.Guard=Ae},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Pe,Ee){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Oe,Me){Oe.__proto__=Me}||function(Oe,Me){for(var De in Me)Me.hasOwnProperty(De)&&(Oe[De]=Me[De])})(Pe,Ee)},function(Pe,Ee){function Oe(){this.constructor=Pe}_e(Pe,Ee),Pe.prototype=Ee===null?Object.create(Ee):(Oe.prototype=Ee.prototype,new Oe)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=function(Pe){function Ee(){return Pe.call(this)||this}return Ae(Ee,Pe),Ee}(Se(98).DocumentImpl);xe.XMLDocumentImpl=Ce},function(r,xe,Se){var _e=this&&this.__values||function(ei){var ui=typeof Symbol=="function"&&Symbol.iterator,ai=ui&&ei[ui],ii=0;if(ai)return ai.call(ei);if(ei&&typeof ei.length=="number")return{next:function(){return ei&&ii>=ei.length&&(ei=void 0),{value:ei&&ei[ii++],done:!ei}}};throw new TypeError(ui?"Object is not iterable.":"Symbol.iterator is not defined.")},Ae=this&&this.__read||function(ei,ui){var ai=typeof Symbol=="function"&&ei[Symbol.iterator];if(!ai)return ei;var ii,Ci,ki=ai.call(ei),bi=[];try{for(;(ui===void 0||ui-- >0)&&!(ii=ki.next()).done;)bi.push(ii.value)}catch(Ii){Ci={error:Ii}}finally{try{ii&&!ii.done&&(ai=ki.return)&&ai.call(ki)}finally{if(Ci)throw Ci.error}}return bi};Object.defineProperty(xe,"__esModule",{value:!0});var Ce,Pe=Se(2),Ee=Se(243),Oe=Se(7),Me=Se(244),De={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Te=/[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ke=/[ "<>`]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Fe=/[ "<>`#?{}]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,$e=/[ "<>`#?{}/:;=@\[\]\\\^\|]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Be=/[0-9A-Za-z!\$&-\/:;=\?@_~\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uD83E\uD840-\uD87E\uD880-\uD8BE\uD8C0-\uD8FE\uD900-\uD93E\uD940-\uD97E\uD980-\uD9BE\uD9C0-\uD9FE\uDA00-\uDA3E\uDA40-\uDA7E\uDA80-\uDABE\uDAC0-\uDAFE\uDB00-\uDB3E\uDB40-\uDB7E\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDC00-\uDFFD]/,Ie=/[\0\t\f\r #%/:?@\[\\\]]/;function Re(ei){Ce!==void 0&&Ce.call(null,"Validation Error: "+ei)}function je(){return{scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}}function Ve(ei){return ei in De}function He(ei){return Ve(ei.scheme)}function ze(ei){return De[ei]||null}function Ue(ei){return ei.username!==""||ei.password!==""}function We(ei,ui){var ai,ii;ui===void 0&&(ui=!1);var Ci=ei.scheme+":";if(ei.host!==null?(Ci+="//",Ue(ei)&&(Ci+=ei.username,ei.password!==""&&(Ci+=":"+ei.password),Ci+="@"),Ci+=qe(ei.host),ei.port!==null&&(Ci+=":"+ei.port)):ei.host===null&&ei.scheme==="file"&&(Ci+="//"),ei._cannotBeABaseURLFlag)Ci+=ei.path[0];else try{for(var ki=_e(ei.path),bi=ki.next();!bi.done;bi=ki.next())Ci+="/"+bi.value}catch(Ii){ai={error:Ii}}finally{try{bi&&!bi.done&&(ii=ki.return)&&ii.call(ki)}finally{if(ai)throw ai.error}}return ei.query!==null&&(Ci+="?"+ei.query),ui||ei.fragment===null||(Ci+="#"+ei.fragment),Ci}function qe(ei){return Pe.isNumber(ei)?Ge(ei):Pe.isArray(ei)?"["+Ye(ei)+"]":ei}function Ge(ei){for(var ui="",ai=ei,ii=1;ii<=4;ii++)ui=(ai%256).toString()+ui,ii!==4&&(ui="."+ui),ai=Math.floor(ai/256);return ui}function Ye(ei){for(var ui="",ai=null,ii=-1,Ci=0,ki=0,bi=0;bi<8;bi++)if(ei[bi]===0){Ci=1;for(var Ii=bi+1;Ii<8&&ei[Ii]===0;Ii++)Ci++;Ci>ki&&(ki=Ci,ii=bi)}ki>1&&(ai=ii);for(var Bi=!1,Vi=0;Vi<8;Vi++)Bi&&ei[Vi]===0||(Bi&&(Bi=!1),ai!==Vi?(ui+=ei[Vi].toString(16),Vi!==7&&(ui+=":")):(ui+=Vi===0?"::":":",Bi=!0));return ui}function Qe(ei,ui,ai,ii,Ci){var ki,bi,Ii,Bi;if(ii===void 0){ii={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var Vi=/^[\u0000-\u001F\u0020]+/,ji=/[\u0000-\u001F\u0020]+$/;(Vi.test(ei)||ji.test(ei))&&Re("Input string contains leading or trailing control characters or space."),ei=(ei=ei.replace(Vi,"")).replace(ji,"")}var Zi=/[\u0009\u000A\u000D]/g;Zi.test(ei)&&Re("Input string contains tab or newline characters."),ei=ei.replace(Zi,"");var Wi=Ci===void 0?Ee.ParserState.SchemeStart:Ci;ui===void 0&&(ui=null);for(var Qi=ai===void 0||ai==="replacement"||ai==="UTF-16BE"||ai==="UTF-16LE"?"UTF-8":ai,wi="",tn=!1,Yi=!1,nn=!1,Ni=new Pe.StringWalker(ei);;){switch(Wi){case Ee.ParserState.SchemeStart:if(Oe.codePoint.ASCIIAlpha.test(Ni.c()))wi+=Ni.c().toLowerCase(),Wi=Ee.ParserState.Scheme;else{if(Ci!==void 0)return Re("Invalid scheme start character."),null;Wi=Ee.ParserState.NoScheme,Ni.pointer--}break;case Ee.ParserState.Scheme:if(Oe.codePoint.ASCIIAlphanumeric.test(Ni.c())||Ni.c()==="+"||Ni.c()==="-"||Ni.c()===".")wi+=Ni.c().toLowerCase();else{if(Ni.c()!==":"){if(Ci===void 0){wi="",Wi=Ee.ParserState.NoScheme,Ni.pointer=0;continue}return Re("Invalid input string."),null}if(Ci!==void 0&&(Ve(ii.scheme)&&!Ve(wi)||!Ve(ii.scheme)&&Ve(wi)||(Ue(ii)||ii.port!==null)&&wi==="file"||ii.scheme==="file"&&(ii.host===""||ii.host===null)))return ii;if(ii.scheme=wi,Ci!==void 0)return ii.port===ze(ii.scheme)&&(ii.port=null),ii;wi="",ii.scheme==="file"?(Ni.remaining().startsWith("//")||Re("Invalid file URL scheme, '//' expected."),Wi=Ee.ParserState.File):He(ii)&&ui!==null&&ui.scheme===ii.scheme?Wi=Ee.ParserState.SpecialRelativeOrAuthority:He(ii)?Wi=Ee.ParserState.SpecialAuthoritySlashes:Ni.remaining().startsWith("/")?(Wi=Ee.ParserState.PathOrAuthority,Ni.pointer++):(ii._cannotBeABaseURLFlag=!0,ii.path.push(""),Wi=Ee.ParserState.CannotBeABaseURLPath)}break;case Ee.ParserState.NoScheme:if(ui===null||ui._cannotBeABaseURLFlag&&Ni.c()!=="#")return Re("Invalid input string."),null;ui._cannotBeABaseURLFlag&&Ni.c()==="#"?(ii.scheme=ui.scheme,ii.path=Oe.list.clone(ui.path),ii.query=ui.query,ii.fragment="",ii._cannotBeABaseURLFlag=!0,Wi=Ee.ParserState.Fragment):ui.scheme!=="file"?(Wi=Ee.ParserState.Relative,Ni.pointer--):(Wi=Ee.ParserState.File,Ni.pointer--);break;case Ee.ParserState.SpecialRelativeOrAuthority:Ni.c()==="/"&&Ni.remaining().startsWith("/")?(Wi=Ee.ParserState.SpecialAuthorityIgnoreSlashes,Ni.pointer++):(Re("Invalid input string."),Wi=Ee.ParserState.Relative,Ni.pointer--);break;case Ee.ParserState.PathOrAuthority:Ni.c()==="/"?Wi=Ee.ParserState.Authority:(Wi=Ee.ParserState.Path,Ni.pointer--);break;case Ee.ParserState.Relative:if(ui===null)throw new Error("Invalid parser state. Base URL is null.");switch(ii.scheme=ui.scheme,Ni.c()){case"":ii.username=ui.username,ii.password=ui.password,ii.host=ui.host,ii.port=ui.port,ii.path=Oe.list.clone(ui.path),ii.query=ui.query;break;case"/":Wi=Ee.ParserState.RelativeSlash;break;case"?":ii.username=ui.username,ii.password=ui.password,ii.host=ui.host,ii.port=ui.port,ii.path=Oe.list.clone(ui.path),ii.query="",Wi=Ee.ParserState.Query;break;case"#":ii.username=ui.username,ii.password=ui.password,ii.host=ui.host,ii.port=ui.port,ii.path=Oe.list.clone(ui.path),ii.query=ui.query,ii.fragment="",Wi=Ee.ParserState.Fragment;break;default:He(ii)&&Ni.c()==="\\"?(Re("Invalid input string."),Wi=Ee.ParserState.RelativeSlash):(ii.username=ui.username,ii.password=ui.password,ii.host=ui.host,ii.port=ui.port,ii.path=Oe.list.clone(ui.path),ii.path.length!==0&&ii.path.splice(ii.path.length-1,1),Wi=Ee.ParserState.Path,Ni.pointer--)}break;case Ee.ParserState.RelativeSlash:if(!He(ii)||Ni.c()!=="/"&&Ni.c()!=="\\")if(Ni.c()==="/")Wi=Ee.ParserState.Authority;else{if(ui===null)throw new Error("Invalid parser state. Base URL is null.");ii.username=ui.username,ii.password=ui.password,ii.host=ui.host,ii.port=ui.port,Wi=Ee.ParserState.Path,Ni.pointer--}else Ni.c()==="\\"&&Re("Invalid input string."),Wi=Ee.ParserState.SpecialAuthorityIgnoreSlashes;break;case Ee.ParserState.SpecialAuthoritySlashes:Ni.c()==="/"&&Ni.remaining().startsWith("/")?(Wi=Ee.ParserState.SpecialAuthorityIgnoreSlashes,Ni.pointer++):(Re("Expected '//'."),Wi=Ee.ParserState.SpecialAuthorityIgnoreSlashes,Ni.pointer--);break;case Ee.ParserState.SpecialAuthorityIgnoreSlashes:Ni.c()!=="/"&&Ni.c()!=="\\"?(Wi=Ee.ParserState.Authority,Ni.pointer--):Re("Unexpected '/' or '\\'.");break;case Ee.ParserState.Authority:if(Ni.c()==="@"){Re("Unexpected '@'."),tn&&(wi="%40"+wi),tn=!0;try{for(var Xi=(ki=void 0,_e(wi)),an=Xi.next();!an.done;an=Xi.next()){var cn=an.value;if(cn!==":"||nn){var dn=Di(cn,$e);nn?ii.password+=dn:ii.username+=dn}else nn=!0}}catch(Fn){ki={error:Fn}}finally{try{an&&!an.done&&(bi=Xi.return)&&bi.call(Xi)}finally{if(ki)throw ki.error}}wi=""}else if(Ni.c()===""||Ni.c()==="/"||Ni.c()==="?"||Ni.c()==="#"||He(ii)&&Ni.c()==="\\"){if(tn&&wi==="")return Re("Invalid input string."),null;Ni.pointer-=wi.length+1,wi="",Wi=Ee.ParserState.Host}else wi+=Ni.c();break;case Ee.ParserState.Host:case Ee.ParserState.Hostname:if(Ci!==void 0&&ii.scheme==="file")Ni.pointer--,Wi=Ee.ParserState.FileHost;else if(Ni.c()!==":"||Yi)if(Ni.c()===""||Ni.c()==="/"||Ni.c()==="?"||Ni.c()==="#"||He(ii)&&Ni.c()==="\\"){if(Ni.pointer--,He(ii)&&wi==="")return Re("Invalid input string."),null;if(Ci!==void 0&&wi===""&&(Ue(ii)||ii.port!==null))return Re("Invalid input string."),ii;if((wn=fi(wi,!He(ii)))===null)return null;if(ii.host=wn,wi="",Wi=Ee.ParserState.PathStart,Ci!==void 0)return ii}else Ni.c()==="["&&(Yi=!0),Ni.c()==="]"&&(Yi=!1),wi+=Ni.c();else{if(wi==="")return Re("Invalid input string."),null;if((wn=fi(wi,!He(ii)))===null)return null;if(ii.host=wn,wi="",Wi=Ee.ParserState.Port,Ci===Ee.ParserState.Hostname)return ii}break;case Ee.ParserState.Port:if(Oe.codePoint.ASCIIDigit.test(Ni.c()))wi+=Ni.c();else{if(!(Ni.c()===""||Ni.c()==="/"||Ni.c()==="?"||Ni.c()==="#"||He(ii)&&Ni.c()==="\\"||Ci))return Re("Invalid input string."),null;if(wi!==""&&wi!==""){var bn=parseInt(wi,10);if(bn>Math.pow(2,16)-1)return Re("Invalid port number."),null;ii.port=bn===ze(ii.scheme)?null:bn,wi=""}if(Ci!==void 0)return ii;Wi=Ee.ParserState.PathStart,Ni.pointer--}break;case Ee.ParserState.File:if(ii.scheme="file",Ni.c()==="/"||Ni.c()==="\\")Ni.c()==="\\"&&Re("Invalid input string."),Wi=Ee.ParserState.FileSlash;else if(ui!==null&&ui.scheme==="file")switch(Ni.c()){case"":ii.host=ui.host,ii.path=Oe.list.clone(ui.path),ii.query=ui.query;break;case"?":ii.host=ui.host,ii.path=Oe.list.clone(ui.path),ii.query="",Wi=Ee.ParserState.Query;break;case"#":ii.host=ui.host,ii.path=Oe.list.clone(ui.path),ii.query=ui.query,ii.fragment="",Wi=Ee.ParserState.Fragment;break;default:di(Ni.substring())?Re("Unexpected windows drive letter in input string."):(ii.host=ui.host,ii.path=Oe.list.clone(ui.path),hi(ii)),Wi=Ee.ParserState.Path,Ni.pointer--}else Wi=Ee.ParserState.Path,Ni.pointer--;break;case Ee.ParserState.FileSlash:Ni.c()==="/"||Ni.c()==="\\"?(Ni.c()==="\\"&&Re("Invalid input string."),Wi=Ee.ParserState.FileHost):(ui===null||ui.scheme!=="file"||di(Ni.substring())||(pi(ui.path[0])?ii.path.push(ui.path[0]):ii.host=ui.host),Wi=Ee.ParserState.Path,Ni.pointer--);break;case Ee.ParserState.FileHost:if(Ni.c()===""||Ni.c()==="/"||Ni.c()==="\\"||Ni.c()==="?"||Ni.c()==="#")if(Ni.pointer--,Ci===void 0&&ni(wi))Re("Unexpected windows drive letter in input string."),Wi=Ee.ParserState.Path;else if(wi===""){if(ii.host="",Ci!==void 0)return ii;Wi=Ee.ParserState.PathStart}else{var wn;if((wn=fi(wi,!He(ii)))===null)return null;if(wn==="localhost"&&(wn=""),ii.host=wn,Ci!==void 0)return ii;wi="",Wi=Ee.ParserState.PathStart}else wi+=Ni.c();break;case Ee.ParserState.PathStart:He(ii)?(Ni.c()==="\\"&&Re("Invalid input string."),Wi=Ee.ParserState.Path,Ni.c()!=="/"&&Ni.c()!=="\\"&&Ni.pointer--):Ci===void 0&&Ni.c()==="?"?(ii.query="",Wi=Ee.ParserState.Query):Ci===void 0&&Ni.c()==="#"?(ii.fragment="",Wi=Ee.ParserState.Fragment):Ni.c()!==""&&(Wi=Ee.ParserState.Path,Ni.c()!=="/"&&Ni.pointer--);break;case Ee.ParserState.Path:if(Ni.c()===""||Ni.c()==="/"||He(ii)&&Ni.c()==="\\"||Ci===void 0&&(Ni.c()==="?"||Ni.c()==="#")){if(He(ii)&&Ni.c()==="\\"&&Re("Invalid input string."),ri(wi))hi(ii),Ni.c()==="/"||He(ii)&&Ni.c()==="\\"||ii.path.push("");else if(!Je(wi)||Ni.c()==="/"||He(ii)&&Ni.c()==="\\"){if(!Je(wi)){if(ii.scheme==="file"&&ii.path.length===0&&ni(wi)){ii.host!==null&&ii.host!==""&&(Re("Invalid input string."),ii.host="");var Sn=Array.from(wi);wi=Sn.slice(0,1)+":"+Sn.slice(2)}ii.path.push(wi)}}else ii.path.push("");if(wi="",ii.scheme==="file"&&(Ni.c()===""||Ni.c()==="?"||Ni.c()==="#"))for(;ii.path.length>1&&ii.path[0]==="";)Re("Invalid input string."),ii.path.splice(0,1);Ni.c()==="?"&&(ii.query="",Wi=Ee.ParserState.Query),Ni.c()==="#"&&(ii.fragment="",Wi=Ee.ParserState.Fragment)}else Be.test(Ni.c())||Ni.c()==="%"||Re("Character is not a URL code point or a percent encoded character."),Ni.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(Ni.remaining())||Re("Percent encoded character must be followed by two hex digits."),wi+=Di(Ni.c(),Fe);break;case Ee.ParserState.CannotBeABaseURLPath:Ni.c()==="?"?(ii.query="",Wi=Ee.ParserState.Query):Ni.c()==="#"?(ii.fragment="",Wi=Ee.ParserState.Fragment):(Ni.c()===""||Be.test(Ni.c())||Ni.c()==="%"||Re("Character is not a URL code point or a percent encoded character."),Ni.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(Ni.remaining())||Re("Percent encoded character must be followed by two hex digits."),Ni.c()!==""&&(ii.path[0]+=Di(Ni.c(),Te)));break;case Ee.ParserState.Query:if(Qi==="UTF-8"||He(ii)&&ii.scheme!=="ws"&&ii.scheme!=="wss"||(Qi="UTF-8"),Ci===void 0&&Ni.c()==="#")ii.fragment="",Wi=Ee.ParserState.Fragment;else if(Ni.c()!==""){if(Be.test(Ni.c())||Ni.c()==="%"||Re("Character is not a URL code point or a percent encoded character."),Ni.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(Ni.remaining())||Re("Percent encoded character must be followed by two hex digits."),Qi.toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var kn=Pe.utf8Encode(Ni.c());if(kn.length>=3&&kn[0]===38&&kn[1]===35&&kn[kn.length-1]===59)kn=kn.subarray(2,kn.length-1),ii.query+="%26%23"+Oe.byteSequence.isomorphicDecode(kn)+"%3B";else try{for(var Ln=(Ii=void 0,_e(kn)),jn=Ln.next();!jn.done;jn=Ln.next()){var Rn=jn.value;Rn<33||Rn>126||Rn===34||Rn===35||Rn===60||Rn===62||Rn===39&&He(ii)?ii.query+=Ai(Rn):ii.query+=String.fromCharCode(Rn)}}catch(Fn){Ii={error:Fn}}finally{try{jn&&!jn.done&&(Bi=Ln.return)&&Bi.call(Ln)}finally{if(Ii)throw Ii.error}}}break;case Ee.ParserState.Fragment:Ni.c()===""||(Ni.c()==="\0"?Re("NULL character in input string."):(Be.test(Ni.c())||Ni.c()==="%"||Re("Unexpected character in fragment string."),Ni.c()!=="%"||/^[A-Za-z0-9][A-Za-z0-9]/.test(Ni.remaining())||Re("Unexpected character in fragment string."),ii.fragment+=Di(Ni.c(),ke)))}if(Ni.eof)break;Ni.pointer++}return ii}function Je(ei){return ei==="."||ei.toLowerCase()==="%2e"}function ri(ei){var ui=ei.toLowerCase();return ui===".."||ui===".%2e"||ui==="%2e."||ui==="%2e%2e"}function hi(ei){var ui=ei.path;ui.length!==0&&(ei.scheme==="file"&&ui.length===1&&pi(ui[0])||ei.path.splice(ei.path.length-1,1))}function pi(ei){return ei.length>=2&&Oe.codePoint.ASCIIAlpha.test(ei[0])&&ei[1]===":"}function ni(ei){return ei.length>=2&&Oe.codePoint.ASCIIAlpha.test(ei[0])&&(ei[1]===":"||ei[1]==="|")}function di(ei){return ei.length>=2&&ni(ei)&&(ei.length===2||ei[2]==="/"||ei[2]==="\\"||ei[2]==="?"||ei[2]==="#")}function fi(ei,ui){if(ui===void 0&&(ui=!1),ei.startsWith("["))return ei.endsWith("]")?xi(ei.substring(1,ei.length-1)):(Re("Expected ']' after '['."),null);if(ui)return yi(ei);var ai=St(Pe.utf8Decode(Fi(ei)));if(ai===null||Ie.test(ai))return Re("Invalid domain."),null;var ii=ci(ai);return ii===null||Pe.isNumber(ii)?ii:ai}function Pi(ei,ui){ui===void 0&&(ui={value:!1});var ai=10;return ei.startsWith("0x")||ei.startsWith("0X")?(ui.value=!0,ei=ei.substr(2),ai=16):ei.length>=2&&ei[0]==="0"&&(ui.value=!0,ei=ei.substr(1),ai=8),ei===""?0:(ai===10?/^[0-9]+$/:ai===16?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(ei)?parseInt(ei,ai):null}function ci(ei){var ui,ai,ii,Ci,ki={value:!1},bi=ei.split(".");if(bi[bi.length-1]===""&&(ki.value=!0,bi.length>1&&bi.pop()),bi.length>4)return ei;var Ii=[];try{for(var Bi=_e(bi),Vi=Bi.next();!Vi.done;Vi=Bi.next()){var ji=Vi.value;if(ji===""||(Yi=Pi(ji,ki))===null)return ei;Ii.push(Yi)}}catch(nn){ui={error:nn}}finally{try{Vi&&!Vi.done&&(ai=Bi.return)&&ai.call(Bi)}finally{if(ui)throw ui.error}}ki.value&&Re("Invalid IP v4 address.");for(var Zi=0;Zi<Ii.length;Zi++)if(Ii[Zi]>255&&(Re("Invalid IP v4 address."),Zi<Ii.length-1))return null;if(Ii[Ii.length-1]>=Math.pow(256,5-Ii.length))return Re("Invalid IP v4 address."),null;var Wi=Ii[Ii.length-1];Ii.pop();var Qi=0;try{for(var wi=_e(Ii),tn=wi.next();!tn.done;tn=wi.next()){var Yi;Wi+=(Yi=tn.value)*Math.pow(256,3-Qi),Qi++}}catch(nn){ii={error:nn}}finally{try{tn&&!tn.done&&(Ci=wi.return)&&Ci.call(wi)}finally{if(ii)throw ii.error}}return Wi}function xi(ei){var ui,ai=[0,0,0,0,0,0,0,0],ii=0,Ci=null,ki=new Pe.StringWalker(ei);if(ki.c()===":"){if(!ki.remaining().startsWith(":"))return Re("Invalid IP v6 address."),null;ki.pointer+=2,Ci=ii+=1}for(;ki.c()!=="";){if(ii===8)return Re("Invalid IP v6 address."),null;if(ki.c()!==":"){for(var bi=0,Ii=0;Ii<4&&Oe.codePoint.ASCIIHexDigit.test(ki.c());)bi=16*bi+parseInt(ki.c(),16),ki.pointer++,Ii++;if(ki.c()==="."){if(Ii===0||(ki.pointer-=Ii,ii>6))return Re("Invalid IP v6 address."),null;for(var Bi=0;ki.c()!=="";){var Vi=null;if(Bi>0){if(!(ki.c()==="."&&Bi<4))return Re("Invalid IP v6 address."),null;ki.pointer++}if(!Oe.codePoint.ASCIIDigit.test(ki.c()))return Re("Invalid IP v6 address."),null;for(;Oe.codePoint.ASCIIDigit.test(ki.c());){var ji=parseInt(ki.c(),10);if(Vi===null)Vi=ji;else{if(Vi===0)return Re("Invalid IP v6 address."),null;Vi=10*Vi+ji}if(Vi>255)return Re("Invalid IP v6 address."),null;ki.pointer++}if(Vi===null)return Re("Invalid IP v6 address."),null;ai[ii]=256*ai[ii]+Vi,++Bi!==2&&Bi!==4||ii++}if(Bi!==4)return Re("Invalid IP v6 address."),null;break}if(ki.c()===":"){if(ki.pointer++,ki.c()==="")return Re("Invalid IP v6 address."),null}else if(ki.c()!=="")return Re("Invalid IP v6 address."),null;ai[ii]=bi,ii++}else{if(Ci!==null)return Re("Invalid IP v6 address."),null;ki.pointer++,Ci=++ii}}if(Ci!==null){var Zi=ii-Ci;for(ii=7;ii!==0&&Zi>0;)ui=Ae([ai[Ci+Zi-1],ai[ii]],2),ai[ii]=ui[0],ai[Ci+Zi-1]=ui[1],ii--,Zi--}else if(Ci===null&&ii!==8)return Re("Invalid IP v6 address."),null;return ai}function yi(ei){var ui,ai;if(/[\x00\t\f\r #/:?@\[\\\]]/.test(ei))return Re("Invalid host string."),null;var ii="";try{for(var Ci=_e(ei),ki=Ci.next();!ki.done;ki=Ci.next())ii+=Di(ki.value,Te)}catch(bi){ui={error:bi}}finally{try{ki&&!ki.done&&(ai=Ci.return)&&ai.call(Ci)}finally{if(ui)throw ui.error}}return ii}function gi(ei){return null}function Ai(ei){return"%"+("00"+ei.toString(16).toUpperCase()).slice(-2)}function Mi(ei){for(var ui=function(Ii){return Ii>=48&&Ii<=57||Ii>=65&&Ii<=70||Ii>=97&&Ii<=102},ai=new Uint8Array(ei.length),ii=0,Ci=0;Ci<ei.length;Ci++){var ki=ei[Ci];if(ki!==37)ai[ii]=ki,ii++;else if(ki===37&&Ci>=ei.length-2)ai[ii]=ki,ii++;else if(ki!==37||ui(ei[Ci+1])&&ui(ei[Ci+2])){var bi=parseInt(Pe.utf8Decode(Uint8Array.of(ei[Ci+1],ei[Ci+2])),16);ai[ii]=bi,ii++,Ci+=2}else ai[ii]=ki,ii++}return ai.subarray(0,ii)}function Fi(ei){return Mi(Pe.utf8Encode(ei))}function Di(ei,ui){var ai,ii;if(!ui.test(ei))return ei;var Ci=Pe.utf8Encode(ei),ki="";try{for(var bi=_e(Ci),Ii=bi.next();!Ii.done;Ii=bi.next())ki+=Ai(Ii.value)}catch(Bi){ai={error:Bi}}finally{try{Ii&&!Ii.done&&(ii=bi.return)&&ii.call(bi)}finally{if(ai)throw ai.error}}return ki}function oi(ei){var ui,ai,ii,Ci,ki=[],bi=[];try{for(var Ii=_e(ei),Bi=Ii.next();!Bi.done;Bi=Ii.next()){var Vi=Bi.value;Vi===38?(ki.push(Uint8Array.from(bi)),bi=[]):bi.push(Vi)}}catch(an){ui={error:an}}finally{try{Bi&&!Bi.done&&(ai=Ii.return)&&ai.call(Ii)}finally{if(ui)throw ui.error}}bi.length!==0&&ki.push(Uint8Array.from(bi));var ji=[];try{for(var Zi=_e(ki),Wi=Zi.next();!Wi.done;Wi=Zi.next()){var Qi=Wi.value;if(Qi.length!==0){for(var wi=Qi.indexOf(61),tn=wi!==-1?Qi.slice(0,wi):Qi,Yi=wi!==-1?Qi.slice(wi+1):new Uint8Array,nn=0;nn<tn.length;nn++)tn[nn]===43&&(tn[nn]=32);for(nn=0;nn<Yi.length;nn++)Yi[nn]===43&&(Yi[nn]=32);var Ni=Pe.utf8Decode(tn),Xi=Pe.utf8Decode(Yi);ji.push([Ni,Xi])}}}catch(an){ii={error:an}}finally{try{Wi&&!Wi.done&&(Ci=Zi.return)&&Ci.call(Zi)}finally{if(ii)throw ii.error}}return ji}function Ke(ei){var ui,ai,ii="";try{for(var Ci=_e(ei),ki=Ci.next();!ki.done;ki=Ci.next()){var bi=ki.value;ii+=bi===32?"+":bi===42||bi===45||bi===46||bi>=48&&bi<=57||bi>=65&&bi<=90||bi===95||bi>=97&&bi<=122?String.fromCodePoint(bi):Ai(bi)}}catch(Ii){ui={error:Ii}}finally{try{ki&&!ki.done&&(ai=Ci.return)&&ai.call(Ci)}finally{if(ui)throw ui.error}}return ii}function St(ei,ui){var ai=Me.domainToASCII(ei);return ai===""?(Re("Invalid domain name."),null):ai}xe.setValidationErrorCallback=function(ei){Ce=ei},xe.newURL=je,xe.isSpecialScheme=Ve,xe.isSpecial=He,xe.defaultPort=ze,xe.includesCredentials=Ue,xe.cannotHaveAUsernamePasswordPort=function(ei){return ei.host===null||ei.host===""||ei._cannotBeABaseURLFlag||ei.scheme==="file"},xe.urlSerializer=We,xe.hostSerializer=qe,xe.iPv4Serializer=Ge,xe.iPv6Serializer=Ye,xe.urlParser=function(ei,ui,ai){var ii=Qe(ei,ui,ai);return ii===null?null:(ii.scheme!=="blob"||(ii._blobURLEntry=null),ii)},xe.basicURLParser=Qe,xe.setTheUsername=function(ei,ui){var ai,ii,Ci="";try{for(var ki=_e(ui),bi=ki.next();!bi.done;bi=ki.next())Ci+=Di(bi.value,$e)}catch(Ii){ai={error:Ii}}finally{try{bi&&!bi.done&&(ii=ki.return)&&ii.call(ki)}finally{if(ai)throw ai.error}}ei.username=Ci},xe.setThePassword=function(ei,ui){var ai,ii,Ci="";try{for(var ki=_e(ui),bi=ki.next();!bi.done;bi=ki.next())Ci+=Di(bi.value,$e)}catch(Ii){ai={error:Ii}}finally{try{bi&&!bi.done&&(ii=ki.return)&&ii.call(ki)}finally{if(ai)throw ai.error}}ei.password=Ci},xe.isSingleDotPathSegment=Je,xe.isDoubleDotPathSegment=ri,xe.shorten=hi,xe.isNormalizedWindowsDriveLetter=pi,xe.isWindowsDriveLetter=ni,xe.startsWithAWindowsDriveLetter=di,xe.hostParser=fi,xe.iPv4NumberParser=Pi,xe.iPv4Parser=ci,xe.iPv6Parser=xi,xe.opaqueHostParser=yi,xe.resolveABlobURL=gi,xe.percentEncode=Ai,xe.percentDecode=Mi,xe.stringPercentDecode=Fi,xe.utf8PercentEncode=Di,xe.hostEquals=function(ei,ui){return ei===ui},xe.urlEquals=function(ei,ui,ai){return ai===void 0&&(ai=!1),We(ei,ai)===We(ui,ai)},xe.urlEncodedStringParser=function(ei){return oi(Pe.utf8Encode(ei))},xe.urlEncodedParser=oi,xe.urlEncodedByteSerializer=Ke,xe.urlEncodedSerializer=function(ei,ui){var ai,ii;if((ui===void 0||ui==="replacement"||ui==="UTF-16BE"||ui==="UTF-16LE"?"UTF-8":ui).toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var Ci="";try{for(var ki=_e(ei),bi=ki.next();!bi.done;bi=ki.next()){var Ii=bi.value,Bi=Ke(Pe.utf8Encode(Ii[0])),Vi=Ii[1];Vi=Ke(Pe.utf8Encode(Vi)),Ci!==""&&(Ci+="&"),Ci+=Bi+"="+Vi}}catch(ji){ai={error:ji}}finally{try{bi&&!bi.done&&(ii=ki.return)&&ii.call(ki)}finally{if(ai)throw ai.error}}return Ci},xe.origin=function ei(ui){switch(ui.scheme){case"blob":ui._blobURLEntry;var ai=Qe(ui.path[0]);return ai===null?Ee.OpaqueOrigin:ei(ai);case"ftp":case"http":case"https":case"ws":case"wss":return[ui.scheme,ui.host===null?"":ui.host,ui.port,null];case"file":default:return Ee.OpaqueOrigin}},xe.domainToASCII=St,xe.domainToUnicode=function(ei,ui){var ai=Me.domainToUnicode(ei);return ai===""&&Re("Invalid domain name."),ai},xe.asciiSerializationOfAnOrigin=function(ei){if(ei[0]===""&&ei[1]===""&&ei[2]===null&&ei[3]===null)return"null";var ui=ei[0]+"://"+qe(ei[1]);return ei[2]!==null&&(ui+=":"+ei[2].toString()),ui}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(0),Ae=function(){function Ce(){this._signal=_e.create_abortSignal()}return Object.defineProperty(Ce.prototype,"signal",{get:function(){return this._signal},enumerable:!0,configurable:!0}),Ce.prototype.abort=function(){_e.abort_signalAbort(this._signal)},Ce}();xe.AbortControllerImpl=Ae},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Oe,Me){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,Te){De.__proto__=Te}||function(De,Te){for(var ke in Te)Te.hasOwnProperty(ke)&&(De[ke]=Te[ke])})(Oe,Me)},function(Oe,Me){function De(){this.constructor=Oe}_e(Oe,Me),Oe.prototype=Me===null?Object.create(Me):(De.prototype=Me.prototype,new De)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(70),Pe=Se(0),Ee=function(Oe){function Me(){var De=Oe.call(this)||this;return De._abortedFlag=!1,De._abortAlgorithms=new Set,De}return Ae(Me,Oe),Object.defineProperty(Me.prototype,"aborted",{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(Me.prototype,"onabort",{get:function(){return Pe.event_getterEventHandlerIDLAttribute(this,"onabort")},set:function(De){Pe.event_setterEventHandlerIDLAttribute(this,"onabort",De)},enumerable:!0,configurable:!0}),Me._create=function(){return new Me},Me}(Ce.EventTargetImpl);xe.AbortSignalImpl=Ee},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Me,De){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,ke){Te.__proto__=ke}||function(Te,ke){for(var Fe in ke)ke.hasOwnProperty(Fe)&&(Te[Fe]=ke[Fe])})(Me,De)},function(Me,De){function Te(){this.constructor=Me}_e(Me,De),Me.prototype=De===null?Object.create(De):(Te.prototype=De.prototype,new Te)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(1),Pe=Se(34),Ee=Se(12),Oe=function(Me){function De(Te,ke,Fe){var $e=Me.call(this)||this;return $e._name="",$e._publicId="",$e._systemId="",$e._name=Te,$e._publicId=ke,$e._systemId=Fe,$e}return Ae(De,Me),Object.defineProperty(De.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(De.prototype,"publicId",{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(De.prototype,"systemId",{get:function(){return this._systemId},enumerable:!0,configurable:!0}),De.prototype.before=function(){for(var Te=[],ke=0;ke<arguments.length;ke++)Te[ke]=arguments[ke];throw new Error("Mixin: ChildNode not implemented.")},De.prototype.after=function(){for(var Te=[],ke=0;ke<arguments.length;ke++)Te[ke]=arguments[ke];throw new Error("Mixin: ChildNode not implemented.")},De.prototype.replaceWith=function(){for(var Te=[],ke=0;ke<arguments.length;ke++)Te[ke]=arguments[ke];throw new Error("Mixin: ChildNode not implemented.")},De.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},De._create=function(Te,ke,Fe,$e){Fe===void 0&&(Fe=""),$e===void 0&&($e="");var Be=new De(ke,Fe,$e);return Be._nodeDocument=Te,Be},De}(Pe.NodeImpl);xe.DocumentTypeImpl=Oe,Ee.idl_defineConst(Oe.prototype,"_nodeType",Ce.NodeType.DocumentType)},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Me,De){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,ke){Te.__proto__=ke}||function(Te,ke){for(var Fe in ke)ke.hasOwnProperty(Fe)&&(Te[Fe]=ke[Fe])})(Me,De)},function(Me,De){function Te(){this.constructor=Me}_e(Me,De),Me.prototype=De===null?Object.create(De):(Te.prototype=De.prototype,new Te)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(100),Pe=Se(2),Ee=Se(0),Oe=function(Me){function De(Te,ke){var Fe=Me.call(this)||this;return Fe._host=Te,Fe._mode=ke,Fe}return Ae(De,Me),Object.defineProperty(De.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(De.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),De.prototype._getTheParent=function(Te){return Te._composedFlag||Pe.isEmpty(Te._path)||Ee.tree_rootNode(Te._path[0].invocationTarget)!==this?this._host:null},De._create=function(Te,ke){return new De(ke,"closed")},De}(Ce.DocumentFragmentImpl);xe.ShadowRootImpl=Oe},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(De,Te){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ke,Fe){ke.__proto__=Fe}||function(ke,Fe){for(var $e in Fe)Fe.hasOwnProperty($e)&&(ke[$e]=Fe[$e])})(De,Te)},function(De,Te){function ke(){this.constructor=De}_e(De,Te),De.prototype=Te===null?Object.create(Te):(ke.prototype=Te.prototype,new ke)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(1),Pe=Se(34),Ee=Se(0),Oe=Se(12),Me=function(De){function Te(ke){var Fe=De.call(this)||this;return Fe._namespace=null,Fe._namespacePrefix=null,Fe._element=null,Fe._value="",Fe._localName=ke,Fe}return Ae(Te,De),Object.defineProperty(Te.prototype,"ownerElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(Te.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(Te.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(Te.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(Te.prototype,"name",{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(Te.prototype,"value",{get:function(){return this._value},set:function(ke){Ee.attr_setAnExistingAttributeValue(this,ke)},enumerable:!0,configurable:!0}),Object.defineProperty(Te.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix!==null?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Te._create=function(ke,Fe){var $e=new Te(Fe);return $e._nodeDocument=ke,$e},Te}(Pe.NodeImpl);xe.AttrImpl=Me,Oe.idl_defineConst(Me.prototype,"_nodeType",Ce.NodeType.Attribute),Oe.idl_defineConst(Me.prototype,"specified",!0)},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Me,De){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,ke){Te.__proto__=ke}||function(Te,ke){for(var Fe in ke)ke.hasOwnProperty(Fe)&&(Te[Fe]=ke[Fe])})(Me,De)},function(Me,De){function Te(){this.constructor=Me}_e(Me,De),Me.prototype=De===null?Object.create(De):(Te.prototype=De.prototype,new Te)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(101),Pe=Se(1),Ee=Se(12),Oe=function(Me){function De(Te){return Me.call(this,Te)||this}return Ae(De,Me),De._create=function(Te,ke){ke===void 0&&(ke="");var Fe=new De(ke);return Fe._nodeDocument=Te,Fe},De}(Ce.TextImpl);xe.CDATASectionImpl=Oe,Ee.idl_defineConst(Oe.prototype,"_nodeType",Pe.NodeType.CData)},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Me,De){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,ke){Te.__proto__=ke}||function(Te,ke){for(var Fe in ke)ke.hasOwnProperty(Fe)&&(Te[Fe]=ke[Fe])})(Me,De)},function(Me,De){function Te(){this.constructor=Me}_e(Me,De),Me.prototype=De===null?Object.create(De):(Te.prototype=De.prototype,new Te)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(1),Pe=Se(71),Ee=Se(12),Oe=function(Me){function De(Te){return Te===void 0&&(Te=""),Me.call(this,Te)||this}return Ae(De,Me),De._create=function(Te,ke){ke===void 0&&(ke="");var Fe=new De(ke);return Fe._nodeDocument=Te,Fe},De}(Pe.CharacterDataImpl);xe.CommentImpl=Oe,Ee.idl_defineConst(Oe.prototype,"_nodeType",Ce.NodeType.Comment)},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Me,De){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,ke){Te.__proto__=ke}||function(Te,ke){for(var Fe in ke)ke.hasOwnProperty(Fe)&&(Te[Fe]=ke[Fe])})(Me,De)},function(Me,De){function Te(){this.constructor=Me}_e(Me,De),Me.prototype=De===null?Object.create(De):(Te.prototype=De.prototype,new Te)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(1),Pe=Se(71),Ee=Se(12),Oe=function(Me){function De(Te,ke){var Fe=Me.call(this,ke)||this;return Fe._target=Te,Fe}return Ae(De,Me),Object.defineProperty(De.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),De._create=function(Te,ke,Fe){var $e=new De(ke,Fe);return $e._nodeDocument=Te,$e},De}(Pe.CharacterDataImpl);xe.ProcessingInstructionImpl=Oe,Ee.idl_defineConst(Oe.prototype,"_nodeType",Ce.NodeType.ProcessingInstruction)},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(7),Ae=Se(0),Ce=Se(3),Pe=Se(2),Ee=function(){function Oe(Me,De){return this._live=!0,this._root=Me,this._filter=De,new Proxy(this,this)}return Object.defineProperty(Oe.prototype,"length",{get:function(){for(var Me=this,De=0,Te=Ae.tree_getFirstDescendantNode(this._root,!1,!1,function(ke){return Ce.Guard.isElementNode(ke)&&Me._filter(ke)});Te!==null;)De++,Te=Ae.tree_getNextDescendantNode(this._root,Te,!1,!1,function(ke){return Ce.Guard.isElementNode(ke)&&Me._filter(ke)});return De},enumerable:!0,configurable:!0}),Oe.prototype.item=function(Me){for(var De=this,Te=0,ke=Ae.tree_getFirstDescendantNode(this._root,!1,!1,function(Fe){return Ce.Guard.isElementNode(Fe)&&De._filter(Fe)});ke!==null;){if(Te===Me)return ke;Te++,ke=Ae.tree_getNextDescendantNode(this._root,ke,!1,!1,function(Fe){return Ce.Guard.isElementNode(Fe)&&De._filter(Fe)})}return null},Oe.prototype.namedItem=function(Me){var De=this;if(Me==="")return null;for(var Te=Ae.tree_getFirstDescendantNode(this._root,!1,!1,function($e){return Ce.Guard.isElementNode($e)&&De._filter($e)});Te!=null;){if(Te._uniqueIdentifier===Me)return Te;if(Te._namespace===_e.namespace.HTML)for(var ke=0;ke<Te._attributeList.length;ke++){var Fe=Te._attributeList[ke];if(Fe._localName==="name"&&Fe._namespace===null&&Fe._namespacePrefix===null&&Fe._value===Me)return Te}Te=Ae.tree_getNextDescendantNode(this._root,Te,!1,!1,function($e){return Ce.Guard.isElementNode($e)&&De._filter($e)})}return null},Oe.prototype[Symbol.iterator]=function(){var Me=this._root,De=this._filter,Te=Ae.tree_getFirstDescendantNode(Me,!1,!1,function(ke){return Ce.Guard.isElementNode(ke)&&De(ke)});return{next:function(){if(Te===null)return{done:!0,value:null};var ke={done:!1,value:Te};return Te=Ae.tree_getNextDescendantNode(Me,Te,!1,!1,function(Fe){return Ce.Guard.isElementNode(Fe)&&De(Fe)}),ke}}},Oe.prototype.get=function(Me,De,Te){if(!Pe.isString(De)||Oe.reservedNames.indexOf(De)!==-1)return Reflect.get(Me,De,Te);var ke=Number(De);return isNaN(ke)?Me.namedItem(De)||void 0:Me.item(ke)||void 0},Oe.prototype.set=function(Me,De,Te,ke){if(!Pe.isString(De)||Oe.reservedNames.indexOf(De)!==-1)return Reflect.set(Me,De,Te,ke);var Fe=Number(De),$e=isNaN(Fe)?Me.namedItem(De)||void 0:Me.item(Fe)||void 0;return!(!$e||!$e._parent)&&(Ae.mutation_replace($e,Te,$e._parent),!0)},Oe._create=function(Me,De){return De===void 0&&(De=function(){return!0}),new Oe(Me,De)},Oe.reservedNames=["_root","_live","_filter","length","item","namedItem","get","set"],Oe}();xe.HTMLCollectionImpl=Ee},function(r,xe,Se){var _e=this&&this.__values||function(Oe){var Me=typeof Symbol=="function"&&Symbol.iterator,De=Me&&Oe[Me],Te=0;if(De)return De.call(Oe);if(Oe&&typeof Oe.length=="number")return{next:function(){return Oe&&Te>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[Te++],done:!Oe}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(6),Ce=Se(2),Pe=Se(0),Ee=function(){function Oe(Me){return this._live=!0,this._filter=null,this._length=0,this._root=Me,new Proxy(this,this)}return Object.defineProperty(Oe.prototype,"length",{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),Oe.prototype.item=function(Me){if(Me<0||Me>this.length-1)return null;if(Me<this.length/2){for(var De=0,Te=this._root._firstChild;Te!==null&&De!==Me;)Te=Te._nextSibling,De++;return Te}for(De=this.length-1,Te=this._root._lastChild;Te!==null&&De!==Me;)Te=Te._previousSibling,De--;return Te},Oe.prototype.keys=function(){var Me;return(Me={})[Symbol.iterator]=(function(){var De=0;return{next:(function(){return De===this.length?{done:!0,value:null}:{done:!1,value:De++}}).bind(this)}}).bind(this),Me},Oe.prototype.values=function(){var Me;return(Me={})[Symbol.iterator]=(function(){var De=this[Symbol.iterator]();return{next:function(){return De.next()}}}).bind(this),Me},Oe.prototype.entries=function(){var Me;return(Me={})[Symbol.iterator]=(function(){var De=this[Symbol.iterator](),Te=0;return{next:function(){var ke=De.next();return ke.done?{done:!0,value:null}:{done:!1,value:[Te++,ke.value]}}}}).bind(this),Me},Oe.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},Oe.prototype.forEach=function(Me,De){var Te,ke;De===void 0&&(De=Ae.dom.window);var Fe=0;try{for(var $e=_e(this._root._children),Be=$e.next();!Be.done;Be=$e.next()){var Ie=Be.value;Me.call(De,Ie,Fe++,this)}}catch(Re){Te={error:Re}}finally{try{Be&&!Be.done&&(ke=$e.return)&&ke.call($e)}finally{if(Te)throw Te.error}}},Oe.prototype.get=function(Me,De,Te){if(!Ce.isString(De))return Reflect.get(Me,De,Te);var ke=Number(De);return isNaN(ke)?Reflect.get(Me,De,Te):Me.item(ke)||void 0},Oe.prototype.set=function(Me,De,Te,ke){if(!Ce.isString(De))return Reflect.set(Me,De,Te,ke);var Fe=Number(De);if(isNaN(Fe))return Reflect.set(Me,De,Te,ke);var $e=Me.item(Fe)||void 0;return!!$e&&!!$e._parent&&(Pe.mutation_replace($e,Te,$e._parent),!0)},Oe._create=function(Me){return new Oe(Me)},Oe}();xe.NodeListImpl=Ee},function(r,xe,Se){var _e=this&&this.__values||function(Ee){var Oe=typeof Symbol=="function"&&Symbol.iterator,Me=Oe&&Ee[Oe],De=0;if(Me)return Me.call(Ee);if(Ee&&typeof Ee.length=="number")return{next:function(){return Ee&&De>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[De++],done:!Ee}}};throw new TypeError(Oe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(6),Ce=Se(2),Pe=function(){function Ee(Oe){return this._live=!1,this._items=[],this._length=0,this._root=Oe,this._items=[],this._filter=function(Me){return!0},new Proxy(this,this)}return Object.defineProperty(Ee.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),Ee.prototype.item=function(Oe){return Oe<0||Oe>this.length-1?null:this._items[Oe]},Ee.prototype.keys=function(){var Oe;return(Oe={})[Symbol.iterator]=(function(){var Me=0;return{next:(function(){return Me===this.length?{done:!0,value:null}:{done:!1,value:Me++}}).bind(this)}}).bind(this),Oe},Ee.prototype.values=function(){var Oe;return(Oe={})[Symbol.iterator]=(function(){var Me=this[Symbol.iterator]();return{next:function(){return Me.next()}}}).bind(this),Oe},Ee.prototype.entries=function(){var Oe;return(Oe={})[Symbol.iterator]=(function(){var Me=this[Symbol.iterator](),De=0;return{next:function(){var Te=Me.next();return Te.done?{done:!0,value:null}:{done:!1,value:[De++,Te.value]}}}}).bind(this),Oe},Ee.prototype[Symbol.iterator]=function(){var Oe=this._items[Symbol.iterator]();return{next:function(){return Oe.next()}}},Ee.prototype.forEach=function(Oe,Me){var De,Te;Me===void 0&&(Me=Ae.dom.window);var ke=0;try{for(var Fe=_e(this._items),$e=Fe.next();!$e.done;$e=Fe.next()){var Be=$e.value;Oe.call(Me,Be,ke++,this)}}catch(Ie){De={error:Ie}}finally{try{$e&&!$e.done&&(Te=Fe.return)&&Te.call(Fe)}finally{if(De)throw De.error}}},Ee.prototype.get=function(Oe,Me,De){if(!Ce.isString(Me))return Reflect.get(Oe,Me,De);var Te=Number(Me);return isNaN(Te)?Reflect.get(Oe,Me,De):Oe._items[Te]||void 0},Ee.prototype.set=function(Oe,Me,De,Te){if(!Ce.isString(Me))return Reflect.set(Oe,Me,De,Te);var ke=Number(Me);return isNaN(ke)?Reflect.set(Oe,Me,De,Te):ke>=0&&ke<Oe._items.length&&(Oe._items[ke]=De,!0)},Ee._create=function(Oe,Me){var De=new Ee(Oe);return De._items=Me,De},Ee}();xe.NodeListStaticImpl=Pe},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Oe,Me){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,Te){De.__proto__=Te}||function(De,Te){for(var ke in Te)Te.hasOwnProperty(ke)&&(De[ke]=Te[ke])})(Oe,Me)},function(Oe,Me){function De(){this.constructor=Oe}_e(Oe,Me),Oe.prototype=Me===null?Object.create(Me):(De.prototype=Me.prototype,new De)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(9),Pe=Se(0),Ee=function(Oe){function Me(De){var Te=Oe.call(this)||this;return Te._element=De,Object.setPrototypeOf(Te,Me.prototype),Te}return Ae(Me,Oe),Me.prototype._asArray=function(){return this},Me.prototype.item=function(De){return this[De]||null},Me.prototype.getNamedItem=function(De){return Pe.element_getAnAttributeByName(De,this._element)},Me.prototype.getNamedItemNS=function(De,Te){return Pe.element_getAnAttributeByNamespaceAndLocalName(De||"",Te,this._element)},Me.prototype.setNamedItem=function(De){return Pe.element_setAnAttribute(De,this._element)},Me.prototype.setNamedItemNS=function(De){return Pe.element_setAnAttribute(De,this._element)},Me.prototype.removeNamedItem=function(De){var Te=Pe.element_removeAnAttributeByName(De,this._element);if(Te===null)throw new Ce.NotFoundError;return Te},Me.prototype.removeNamedItemNS=function(De,Te){var ke=Pe.element_removeAnAttributeByNamespaceAndLocalName(De||"",Te,this._element);if(ke===null)throw new Ce.NotFoundError;return ke},Me._create=function(De){return new Me(De)},Me}(Array);xe.NamedNodeMapImpl=Ee},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function($e,Be){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ie,Re){Ie.__proto__=Re}||function(Ie,Re){for(var je in Re)Re.hasOwnProperty(je)&&(Ie[je]=Re[je])})($e,Be)},function($e,Be){function Ie(){this.constructor=$e}_e($e,Be),$e.prototype=Be===null?Object.create(Be):(Ie.prototype=Be.prototype,new Ie)}),Ce=this&&this.__values||function($e){var Be=typeof Symbol=="function"&&Symbol.iterator,Ie=Be&&$e[Be],Re=0;if(Ie)return Ie.call($e);if($e&&typeof $e.length=="number")return{next:function(){return $e&&Re>=$e.length&&($e=void 0),{value:$e&&$e[Re++],done:!$e}}};throw new TypeError(Be?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Pe=Se(6),Ee=Se(1),Oe=Se(102),Me=Se(9),De=Se(0),Te=Se(12),ke=Se(3),Fe=function($e){function Be(){var Ie=$e.call(this)||this,Re=Pe.dom.window._associatedDocument;return Ie._start=[Re,0],Ie._end=[Re,0],Pe.dom.rangeList.add(Ie),Ie}return Ae(Be,$e),Object.defineProperty(Be.prototype,"commonAncestorContainer",{get:function(){for(var Ie=this._start[0];!De.tree_isAncestorOf(this._end[0],Ie,!0);){if(Ie._parent===null)throw new Error("Parent node  is null.");Ie=Ie._parent}return Ie},enumerable:!0,configurable:!0}),Be.prototype.setStart=function(Ie,Re){De.range_setTheStart(this,Ie,Re)},Be.prototype.setEnd=function(Ie,Re){De.range_setTheEnd(this,Ie,Re)},Be.prototype.setStartBefore=function(Ie){var Re=Ie._parent;if(Re===null)throw new Me.InvalidNodeTypeError;De.range_setTheStart(this,Re,De.tree_index(Ie))},Be.prototype.setStartAfter=function(Ie){var Re=Ie._parent;if(Re===null)throw new Me.InvalidNodeTypeError;De.range_setTheStart(this,Re,De.tree_index(Ie)+1)},Be.prototype.setEndBefore=function(Ie){var Re=Ie._parent;if(Re===null)throw new Me.InvalidNodeTypeError;De.range_setTheEnd(this,Re,De.tree_index(Ie))},Be.prototype.setEndAfter=function(Ie){var Re=Ie._parent;if(Re===null)throw new Me.InvalidNodeTypeError;De.range_setTheEnd(this,Re,De.tree_index(Ie)+1)},Be.prototype.collapse=function(Ie){Ie?this._end=this._start:this._start=this._end},Be.prototype.selectNode=function(Ie){De.range_select(Ie,this)},Be.prototype.selectNodeContents=function(Ie){if(ke.Guard.isDocumentTypeNode(Ie))throw new Me.InvalidNodeTypeError;var Re=De.tree_nodeLength(Ie);this._start=[Ie,0],this._end=[Ie,Re]},Be.prototype.compareBoundaryPoints=function(Ie,Re){if(Ie!==Ee.HowToCompare.StartToStart&&Ie!==Ee.HowToCompare.StartToEnd&&Ie!==Ee.HowToCompare.EndToEnd&&Ie!==Ee.HowToCompare.EndToStart)throw new Me.NotSupportedError;if(De.range_root(this)!==De.range_root(Re))throw new Me.WrongDocumentError;var je,Ve;switch(Ie){case Ee.HowToCompare.StartToStart:je=this._start,Ve=Re._start;break;case Ee.HowToCompare.StartToEnd:je=this._end,Ve=Re._start;break;case Ee.HowToCompare.EndToEnd:je=this._end,Ve=Re._end;break;case Ee.HowToCompare.EndToStart:je=this._start,Ve=Re._end;break;default:throw new Me.NotSupportedError}var He=De.boundaryPoint_position(je,Ve);return He===Ee.BoundaryPosition.Before?-1:He===Ee.BoundaryPosition.After?1:0},Be.prototype.deleteContents=function(){var Ie,Re,je,Ve;if(!De.range_collapsed(this)){var He=this._startNode,ze=this._startOffset,Ue=this._endNode,We=this._endOffset;if(He===Ue&&ke.Guard.isCharacterDataNode(He))De.characterData_replaceData(He,ze,We-ze,"");else{var qe,Ge,Ye=[];try{for(var Qe=Ce(De.range_getContainedNodes(this)),Je=Qe.next();!Je.done;Je=Qe.next()){var ri=(di=Je.value)._parent;ri!==null&&De.range_isContained(ri,this)||Ye.push(di)}}catch(fi){Ie={error:fi}}finally{try{Je&&!Je.done&&(Re=Qe.return)&&Re.call(Qe)}finally{if(Ie)throw Ie.error}}if(De.tree_isAncestorOf(Ue,He,!0))qe=He,Ge=ze;else{for(var hi=He;hi._parent!==null&&!De.tree_isAncestorOf(Ue,hi._parent,!0);)hi=hi._parent;if(hi._parent===null)throw new Error("Parent node is null.");qe=hi._parent,Ge=De.tree_index(hi)+1}ke.Guard.isCharacterDataNode(He)&&De.characterData_replaceData(He,ze,De.tree_nodeLength(He)-ze,"");try{for(var pi=Ce(Ye),ni=pi.next();!ni.done;ni=pi.next()){var di;(di=ni.value)._parent&&De.mutation_remove(di,di._parent)}}catch(fi){je={error:fi}}finally{try{ni&&!ni.done&&(Ve=pi.return)&&Ve.call(pi)}finally{if(je)throw je.error}}ke.Guard.isCharacterDataNode(Ue)&&De.characterData_replaceData(Ue,0,We,""),this._start=[qe,Ge],this._end=[qe,Ge]}}},Be.prototype.extractContents=function(){return De.range_extract(this)},Be.prototype.cloneContents=function(){return De.range_cloneTheContents(this)},Be.prototype.insertNode=function(Ie){return De.range_insert(Ie,this)},Be.prototype.surroundContents=function(Ie){var Re,je;try{for(var Ve=Ce(De.range_getPartiallyContainedNodes(this)),He=Ve.next();!He.done;He=Ve.next()){var ze=He.value;if(!ke.Guard.isTextNode(ze))throw new Me.InvalidStateError}}catch(We){Re={error:We}}finally{try{He&&!He.done&&(je=Ve.return)&&je.call(Ve)}finally{if(Re)throw Re.error}}if(ke.Guard.isDocumentNode(Ie)||ke.Guard.isDocumentTypeNode(Ie)||ke.Guard.isDocumentFragmentNode(Ie))throw new Me.InvalidNodeTypeError;var Ue=De.range_extract(this);Ie._children.size!==0&&De.mutation_replaceAll(null,Ie),De.range_insert(Ie,this),De.mutation_append(Ue,Ie),De.range_select(Ie,this)},Be.prototype.cloneRange=function(){return De.create_range(this._start,this._end)},Be.prototype.detach=function(){Pe.dom.rangeList.delete(this)},Be.prototype.isPointInRange=function(Ie,Re){if(De.tree_rootNode(Ie)!==De.range_root(this))return!1;if(ke.Guard.isDocumentTypeNode(Ie))throw new Me.InvalidNodeTypeError;if(Re>De.tree_nodeLength(Ie))throw new Me.IndexSizeError;var je=[Ie,Re];return De.boundaryPoint_position(je,this._start)!==Ee.BoundaryPosition.Before&&De.boundaryPoint_position(je,this._end)!==Ee.BoundaryPosition.After},Be.prototype.comparePoint=function(Ie,Re){if(De.tree_rootNode(Ie)!==De.range_root(this))throw new Me.WrongDocumentError;if(ke.Guard.isDocumentTypeNode(Ie))throw new Me.InvalidNodeTypeError;if(Re>De.tree_nodeLength(Ie))throw new Me.IndexSizeError;var je=[Ie,Re];return De.boundaryPoint_position(je,this._start)===Ee.BoundaryPosition.Before?-1:De.boundaryPoint_position(je,this._end)===Ee.BoundaryPosition.After?1:0},Be.prototype.intersectsNode=function(Ie){if(De.tree_rootNode(Ie)!==De.range_root(this))return!1;var Re=Ie._parent;if(Re===null)return!0;var je=De.tree_index(Ie);return De.boundaryPoint_position([Re,je],this._end)===Ee.BoundaryPosition.Before&&De.boundaryPoint_position([Re,je+1],this._start)===Ee.BoundaryPosition.After},Be.prototype.toString=function(){var Ie,Re,je="";if(this._startNode===this._endNode&&ke.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);ke.Guard.isTextNode(this._startNode)&&(je+=this._startNode._data.substring(this._startOffset));try{for(var Ve=Ce(De.range_getContainedNodes(this)),He=Ve.next();!He.done;He=Ve.next()){var ze=He.value;ke.Guard.isTextNode(ze)&&(je+=ze._data)}}catch(Ue){Ie={error:Ue}}finally{try{He&&!He.done&&(Re=Ve.return)&&Re.call(Ve)}finally{if(Ie)throw Ie.error}}return ke.Guard.isTextNode(this._endNode)&&(je+=this._endNode._data.substring(0,this._endOffset)),je},Be._create=function(Ie,Re){var je=new Be;return Ie&&(je._start=Ie),Re&&(je._end=Re),je},Be.START_TO_START=0,Be.START_TO_END=1,Be.END_TO_END=2,Be.END_TO_START=3,Be}(Oe.AbstractRangeImpl);xe.RangeImpl=Fe,Te.idl_defineConst(Fe.prototype,"START_TO_START",0),Te.idl_defineConst(Fe.prototype,"START_TO_END",1),Te.idl_defineConst(Fe.prototype,"END_TO_END",2),Te.idl_defineConst(Fe.prototype,"END_TO_START",3)},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Oe,Me){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,Te){De.__proto__=Te}||function(De,Te){for(var ke in Te)Te.hasOwnProperty(ke)&&(De[ke]=Te[ke])})(Oe,Me)},function(Oe,Me){function De(){this.constructor=Oe}_e(Oe,Me),Oe.prototype=Me===null?Object.create(Me):(De.prototype=Me.prototype,new De)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(103),Pe=Se(0),Ee=function(Oe){function Me(De,Te,ke){var Fe=Oe.call(this,De)||this;return Fe._iteratorCollection=void 0,Fe._reference=Te,Fe._pointerBeforeReference=ke,Pe.nodeIterator_iteratorList().add(Fe),Fe}return Ae(Me,Oe),Object.defineProperty(Me.prototype,"referenceNode",{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(Me.prototype,"pointerBeforeReferenceNode",{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),Me.prototype.nextNode=function(){return Pe.nodeIterator_traverse(this,!0)},Me.prototype.previousNode=function(){return Pe.nodeIterator_traverse(this,!1)},Me.prototype.detach=function(){Pe.nodeIterator_iteratorList().delete(this)},Me._create=function(De,Te,ke){return new Me(De,Te,ke)},Me}(Ce.TraverserImpl);xe.NodeIteratorImpl=Ee},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Me,De){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,ke){Te.__proto__=ke}||function(Te,ke){for(var Fe in ke)ke.hasOwnProperty(Fe)&&(Te[Fe]=ke[Fe])})(Me,De)},function(Me,De){function Te(){this.constructor=Me}_e(Me,De),Me.prototype=De===null?Object.create(De):(Te.prototype=De.prototype,new Te)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(1),Pe=Se(103),Ee=Se(0),Oe=function(Me){function De(Te,ke){var Fe=Me.call(this,Te)||this;return Fe._current=ke,Fe}return Ae(De,Me),Object.defineProperty(De.prototype,"currentNode",{get:function(){return this._current},set:function(Te){this._current=Te},enumerable:!0,configurable:!0}),De.prototype.parentNode=function(){for(var Te=this._current;Te!==null&&Te!==this._root;)if((Te=Te._parent)!==null&&Ee.traversal_filter(this,Te)===Ce.FilterResult.Accept)return this._current=Te,Te;return null},De.prototype.firstChild=function(){return Ee.treeWalker_traverseChildren(this,!0)},De.prototype.lastChild=function(){return Ee.treeWalker_traverseChildren(this,!1)},De.prototype.nextSibling=function(){return Ee.treeWalker_traverseSiblings(this,!0)},De.prototype.previousNode=function(){for(var Te=this._current;Te!==this._root;){for(var ke=Te._previousSibling;ke;){Te=ke;for(var Fe=Ee.traversal_filter(this,Te);Fe!==Ce.FilterResult.Reject&&Te._lastChild;)Te=Te._lastChild,Fe=Ee.traversal_filter(this,Te);if(Fe===Ce.FilterResult.Accept)return this._current=Te,Te;ke=Te._previousSibling}if(Te===this._root||Te._parent===null)return null;if(Te=Te._parent,Ee.traversal_filter(this,Te)===Ce.FilterResult.Accept)return this._current=Te,Te}return null},De.prototype.previousSibling=function(){return Ee.treeWalker_traverseSiblings(this,!1)},De.prototype.nextNode=function(){for(var Te=this._current,ke=Ce.FilterResult.Accept;;){for(;ke!==Ce.FilterResult.Reject&&Te._firstChild;)if(Te=Te._firstChild,(ke=Ee.traversal_filter(this,Te))===Ce.FilterResult.Accept)return this._current=Te,Te;for(var Fe=null,$e=Te;$e!==null;){if($e===this._root)return null;if((Fe=$e._nextSibling)!==null){Te=Fe;break}$e=$e._parent}if((ke=Ee.traversal_filter(this,Te))===Ce.FilterResult.Accept)return this._current=Te,Te}},De._create=function(Te,ke){return new De(Te,ke)},De}(Pe.TraverserImpl);xe.TreeWalkerImpl=Oe},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(1),Ae=Se(12),Ce=function(){function Pe(){}return Pe.prototype.acceptNode=function(Ee){return _e.FilterResult.Accept},Pe._create=function(){return new Pe},Pe.FILTER_ACCEPT=1,Pe.FILTER_REJECT=2,Pe.FILTER_SKIP=3,Pe.SHOW_ALL=4294967295,Pe.SHOW_ELEMENT=1,Pe.SHOW_ATTRIBUTE=2,Pe.SHOW_TEXT=4,Pe.SHOW_CDATA_SECTION=8,Pe.SHOW_ENTITY_REFERENCE=16,Pe.SHOW_ENTITY=32,Pe.SHOW_PROCESSING_INSTRUCTION=64,Pe.SHOW_COMMENT=128,Pe.SHOW_DOCUMENT=256,Pe.SHOW_DOCUMENT_TYPE=512,Pe.SHOW_DOCUMENT_FRAGMENT=1024,Pe.SHOW_NOTATION=2048,Pe}();xe.NodeFilterImpl=Ce,Ae.idl_defineConst(Ce.prototype,"FILTER_ACCEPT",1),Ae.idl_defineConst(Ce.prototype,"FILTER_REJECT",2),Ae.idl_defineConst(Ce.prototype,"FILTER_SKIP",3),Ae.idl_defineConst(Ce.prototype,"SHOW_ALL",4294967295),Ae.idl_defineConst(Ce.prototype,"SHOW_ELEMENT",1),Ae.idl_defineConst(Ce.prototype,"SHOW_ATTRIBUTE",2),Ae.idl_defineConst(Ce.prototype,"SHOW_TEXT",4),Ae.idl_defineConst(Ce.prototype,"SHOW_CDATA_SECTION",8),Ae.idl_defineConst(Ce.prototype,"SHOW_ENTITY_REFERENCE",16),Ae.idl_defineConst(Ce.prototype,"SHOW_ENTITY",32),Ae.idl_defineConst(Ce.prototype,"SHOW_PROCESSING_INSTRUCTION",64),Ae.idl_defineConst(Ce.prototype,"SHOW_COMMENT",128),Ae.idl_defineConst(Ce.prototype,"SHOW_DOCUMENT",256),Ae.idl_defineConst(Ce.prototype,"SHOW_DOCUMENT_TYPE",512),Ae.idl_defineConst(Ce.prototype,"SHOW_DOCUMENT_FRAGMENT",1024),Ae.idl_defineConst(Ce.prototype,"SHOW_NOTATION",2048)},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=function(){function Ae(Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe){this._type=Ce,this._target=Pe,this._addedNodes=Ee,this._removedNodes=Oe,this._previousSibling=Me,this._nextSibling=De,this._attributeName=Te,this._attributeNamespace=ke,this._oldValue=Fe}return Object.defineProperty(Ae.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"addedNodes",{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"removedNodes",{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"attributeName",{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"attributeNamespace",{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),Ae._create=function(Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe){return new Ae(Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe)},Ae}();xe.MutationRecordImpl=_e},function(r,xe,Se){var _e=this&&this.__values||function(Me){var De=typeof Symbol=="function"&&Symbol.iterator,Te=De&&Me[De],ke=0;if(Te)return Te.call(Me);if(Me&&typeof Me.length=="number")return{next:function(){return Me&&ke>=Me.length&&(Me=void 0),{value:Me&&Me[ke++],done:!Me}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(6),Ce=Se(9),Pe=Se(7),Ee=Se(0),Oe=function(){function Me(De,Te){this._element=De,this._attribute=Te,this._tokenSet=new Set;var ke=Te._localName,Fe=Ee.element_getAnAttributeValue(De,ke),$e=this;this._element._attributeChangeSteps.push(function(Be,Ie,Re,je,Ve){Ie===$e._attribute._localName&&Ve===null&&(je?$e._tokenSet=Ee.orderedSet_parse(je):$e._tokenSet.clear())}),Ae.dom.features.steps&&Ee.dom_runAttributeChangeSteps(De,ke,Fe,Fe,null)}return Object.defineProperty(Me.prototype,"length",{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),Me.prototype.item=function(De){var Te,ke,Fe=0;try{for(var $e=_e(this._tokenSet),Be=$e.next();!Be.done;Be=$e.next()){var Ie=Be.value;if(Fe===De)return Ie;Fe++}}catch(Re){Te={error:Re}}finally{try{Be&&!Be.done&&(ke=$e.return)&&ke.call($e)}finally{if(Te)throw Te.error}}return null},Me.prototype.contains=function(De){return this._tokenSet.has(De)},Me.prototype.add=function(){for(var De,Te,ke=[],Fe=0;Fe<arguments.length;Fe++)ke[Fe]=arguments[Fe];try{for(var $e=_e(ke),Be=$e.next();!Be.done;Be=$e.next()){var Ie=Be.value;if(Ie==="")throw new Ce.SyntaxError("Cannot add an empty token.");if(Pe.codePoint.ASCIIWhiteSpace.test(Ie))throw new Ce.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.add(Ie)}}catch(Re){De={error:Re}}finally{try{Be&&!Be.done&&(Te=$e.return)&&Te.call($e)}finally{if(De)throw De.error}}Ee.tokenList_updateSteps(this)},Me.prototype.remove=function(){for(var De,Te,ke=[],Fe=0;Fe<arguments.length;Fe++)ke[Fe]=arguments[Fe];try{for(var $e=_e(ke),Be=$e.next();!Be.done;Be=$e.next()){var Ie=Be.value;if(Ie==="")throw new Ce.SyntaxError("Cannot remove an empty token.");if(Pe.codePoint.ASCIIWhiteSpace.test(Ie))throw new Ce.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.delete(Ie)}}catch(Re){De={error:Re}}finally{try{Be&&!Be.done&&(Te=$e.return)&&Te.call($e)}finally{if(De)throw De.error}}Ee.tokenList_updateSteps(this)},Me.prototype.toggle=function(De,Te){if(Te===void 0&&(Te=void 0),De==="")throw new Ce.SyntaxError("Cannot toggle an empty token.");if(Pe.codePoint.ASCIIWhiteSpace.test(De))throw new Ce.InvalidCharacterError("Token cannot contain whitespace.");return this._tokenSet.has(De)?Te!==void 0&&Te!==!1||(this._tokenSet.delete(De),Ee.tokenList_updateSteps(this),!1):(Te===void 0||Te===!0)&&(this._tokenSet.add(De),Ee.tokenList_updateSteps(this),!0)},Me.prototype.replace=function(De,Te){if(De===""||Te==="")throw new Ce.SyntaxError("Cannot replace an empty token.");if(Pe.codePoint.ASCIIWhiteSpace.test(De)||Pe.codePoint.ASCIIWhiteSpace.test(Te))throw new Ce.InvalidCharacterError("Token cannot contain whitespace.");return!!this._tokenSet.has(De)&&(Pe.set.replace(this._tokenSet,De,Te),Ee.tokenList_updateSteps(this),!0)},Me.prototype.supports=function(De){return Ee.tokenList_validationSteps(this,De)},Object.defineProperty(Me.prototype,"value",{get:function(){return Ee.tokenList_serializeSteps(this)},set:function(De){Ee.element_setAnAttributeValue(this._element,this._attribute._localName,De)},enumerable:!0,configurable:!0}),Me.prototype[Symbol.iterator]=function(){var De=this._tokenSet[Symbol.iterator]();return{next:function(){return De.next()}}},Me._create=function(De,Te){return new Me(De,Te)},Me}();xe.DOMTokenListImpl=Oe},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Oe,Me){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,Te){De.__proto__=Te}||function(De,Te){for(var ke in Te)Te.hasOwnProperty(ke)&&(De[ke]=Te[ke])})(Oe,Me)},function(Oe,Me){function De(){this.constructor=Oe}_e(Oe,Me),Oe.prototype=Me===null?Object.create(Me):(De.prototype=Me.prototype,new De)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(104),Pe=Se(0),Ee=function(Oe){function Me(De,Te){var ke=Oe.call(this,De,Te)||this;return ke._detail=null,ke._detail=Te&&Te.detail||null,ke}return Ae(Me,Oe),Object.defineProperty(Me.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),Me.prototype.initCustomEvent=function(De,Te,ke,Fe){Te===void 0&&(Te=!1),ke===void 0&&(ke=!1),Fe===void 0&&(Fe=null),this._dispatchFlag||(Pe.event_initialize(this,De,Te,ke),this._detail=Fe)},Me}(Ce.EventImpl);xe.CustomEventImpl=Ee},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(6),Ae=Se(1),Ce=Se(105),Pe=Se(17);xe.nodeIterator_traverse=function(Ee,Oe){for(var Me=Ee._reference,De=Ee._pointerBeforeReference;;){if(Oe)if(De)De=!1;else{var Te=Pe.tree_getFollowingNode(Ee._root,Me);if(!Te)return null;Me=Te}else if(De){var ke=Pe.tree_getPrecedingNode(Ee.root,Me);if(!ke)return null;Me=ke}else De=!0;if(Ce.traversal_filter(Ee,Me)===Ae.FilterResult.Accept)break}return Ee._reference=Me,Ee._pointerBeforeReference=De,Me},xe.nodeIterator_iteratorList=function(){return _e.dom.window._iteratorList}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(9),Ae=Se(7),Ce=Se(174);function Pe(Ee){if(!Ce.xml_isName(Ee))throw new _e.InvalidCharacterError("Invalid XML name: "+Ee);if(!Ce.xml_isQName(Ee))throw new _e.InvalidCharacterError("Invalid XML qualified name: "+Ee+".")}xe.namespace_validate=Pe,xe.namespace_validateAndExtract=function(Ee,Oe){Ee||(Ee=null),Pe(Oe);var Me=Oe.split(":"),De=Me.length===2?Me[0]:null,Te=Me.length===2?Me[1]:Oe;if(De&&Ee===null)throw new _e.NamespaceError("Qualified name includes a prefix but the namespace is null.");if(De==="xml"&&Ee!==Ae.namespace.XML)throw new _e.NamespaceError('Qualified name includes the "xml" prefix but the namespace is not the XML namespace.');if(Ee!==Ae.namespace.XMLNS&&(De==="xmlns"||Oe==="xmlns"))throw new _e.NamespaceError('Qualified name includes the "xmlns" prefix but the namespace is not the XMLNS namespace.');if(Ee===Ae.namespace.XMLNS&&De!=="xmlns"&&Oe!=="xmlns")throw new _e.NamespaceError('Qualified name does not include the "xmlns" prefix but the namespace is the XMLNS namespace.');return[Ee,De,Te]},xe.namespace_extractQName=function(Ee){Pe(Ee);var Oe=Ee.split(":");return[Oe.length===2?Oe[0]:null,Oe.length===2?Oe[1]:Ee]}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0}),xe.xml_isName=function(_e){for(var Ae=0;Ae<_e.length;Ae++){var Ce=_e.charCodeAt(Ae);if(!(Ce>=97&&Ce<=122||Ce>=65&&Ce<=90||Ce===58||Ce===95||Ce>=192&&Ce<=214||Ce>=216&&Ce<=246||Ce>=248&&Ce<=767||Ce>=880&&Ce<=893||Ce>=895&&Ce<=8191||Ce>=8204&&Ce<=8205||Ce>=8304&&Ce<=8591||Ce>=11264&&Ce<=12271||Ce>=12289&&Ce<=55295||Ce>=63744&&Ce<=64975||Ce>=65008&&Ce<=65533)&&(Ae===0||!(Ce===45||Ce===46||Ce>=48&&Ce<=57||Ce===183||Ce>=768&&Ce<=879||Ce>=8255&&Ce<=8256))){if(Ce>=55296&&Ce<=56319&&Ae<_e.length-1){var Pe=_e.charCodeAt(Ae+1);if(Pe>=56320&&Pe<=57343&&(Ae++,(Ce=1024*(Ce-55296)+Pe-56320+65536)>=65536&&Ce<=983039))continue}return!1}}return!0},xe.xml_isQName=function(_e){for(var Ae=!1,Ce=0;Ce<_e.length;Ce++){var Pe=_e.charCodeAt(Ce);if(!(Pe>=97&&Pe<=122||Pe>=65&&Pe<=90||Pe===95||Pe>=192&&Pe<=214||Pe>=216&&Pe<=246||Pe>=248&&Pe<=767||Pe>=880&&Pe<=893||Pe>=895&&Pe<=8191||Pe>=8204&&Pe<=8205||Pe>=8304&&Pe<=8591||Pe>=11264&&Pe<=12271||Pe>=12289&&Pe<=55295||Pe>=63744&&Pe<=64975||Pe>=65008&&Pe<=65533)&&(Ce===0||!(Pe===45||Pe===46||Pe>=48&&Pe<=57||Pe===183||Pe>=768&&Pe<=879||Pe>=8255&&Pe<=8256))){if(Ce===0||Pe!==58){if(Pe>=55296&&Pe<=56319&&Ce<_e.length-1){var Ee=_e.charCodeAt(Ce+1);if(Ee>=56320&&Ee<=57343&&(Ce++,(Pe=1024*(Pe-55296)+Ee-56320+65536)>=65536&&Pe<=983039))continue}return!1}if(Ae||Ce===_e.length-1)return!1;Ae=!0}}return!0},xe.xml_isLegalChar=function(_e){for(var Ae=0;Ae<_e.length;Ae++){var Ce=_e.charCodeAt(Ae);if(!(Ce===9||Ce===10||Ce===13||Ce>=32&&Ce<=55295||Ce>=57344&&Ce<=65533)){if(Ce>=55296&&Ce<=56319&&Ae<_e.length-1){var Pe=_e.charCodeAt(Ae+1);if(Pe>=56320&&Pe<=57343&&(Ae++,(Ce=1024*(Ce-55296)+Pe-56320+65536)>=65536&&Ce<=1114111))continue}return!1}}return!0},xe.xml_isPubidChar=function(_e){for(var Ae=0;Ae<_e.length;Ae++){var Ce=_e.charCodeAt(Ae);if(!(Ce>=97&&Ce<=122||Ce>=65&&Ce<=90||Ce>=39&&Ce<=59||Ce===32||Ce===13||Ce===10||Ce>=35&&Ce<=37||Ce===33||Ce===61||Ce===63||Ce===64||Ce===95))return!1}return!0}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(1),Ae=Se(17);xe.boundaryPoint_position=function Ce(Pe,Ee){var Oe=Pe[0],Me=Pe[1],De=Ee[0],Te=Ee[1];if(console.assert(Ae.tree_rootNode(Oe)===Ae.tree_rootNode(De),"Boundary points must share the same root node."),Oe===De)return Me===Te?_e.BoundaryPosition.Equal:Me<Te?_e.BoundaryPosition.Before:_e.BoundaryPosition.After;if(Ae.tree_isFollowing(De,Oe)){var ke=Ce([De,Te],[Oe,Me]);if(ke===_e.BoundaryPosition.Before)return _e.BoundaryPosition.After;if(ke===_e.BoundaryPosition.After)return _e.BoundaryPosition.Before}if(Ae.tree_isAncestorOf(De,Oe)){for(var Fe=De;!Ae.tree_isChildOf(Oe,Fe);)Fe._parent!==null&&(Fe=Fe._parent);if(Ae.tree_index(Fe)<Me)return _e.BoundaryPosition.After}return _e.BoundaryPosition.Before}},function(r,xe,Se){var _e=this&&this.__values||function(ke){var Fe=typeof Symbol=="function"&&Symbol.iterator,$e=Fe&&ke[Fe],Be=0;if($e)return $e.call(ke);if(ke&&typeof ke.length=="number")return{next:function(){return ke&&Be>=ke.length&&(ke=void 0),{value:ke&&ke[Be++],done:!ke}}};throw new TypeError(Fe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(6),Ce=Se(3),Pe=Se(7),Ee=Se(29),Oe=Se(108),Me=Se(30),De=Se(37),Te=Se(52);xe.node_stringReplaceAll=function(ke,Fe){var $e=null;ke!==""&&($e=Ee.create_text(Fe._nodeDocument,ke)),De.mutation_replaceAll($e,Fe)},xe.node_clone=function ke(Fe,$e,Be){var Ie,Re,je,Ve,He;if($e===void 0&&($e=null),Be===void 0&&(Be=!1),$e===null&&($e=Fe._nodeDocument),Ce.Guard.isElementNode(Fe)){He=Te.element_createAnElement($e,Fe._localName,Fe._namespace,Fe._namespacePrefix,Fe._is,!1);try{for(var ze=_e(Fe._attributeList),Ue=ze.next();!Ue.done;Ue=ze.next()){var We=ke(Ue.value,$e);Te.element_append(We,He)}}catch(ri){Ie={error:ri}}finally{try{Ue&&!Ue.done&&(Re=ze.return)&&Re.call(ze)}finally{if(Ie)throw Ie.error}}}else if(Ce.Guard.isDocumentNode(Fe)){var qe=Ee.create_document();qe._encoding=Fe._encoding,qe._contentType=Fe._contentType,qe._URL=Fe._URL,qe._origin=Fe._origin,qe._type=Fe._type,qe._mode=Fe._mode,He=qe}else if(Ce.Guard.isDocumentTypeNode(Fe))He=Ee.create_documentType($e,Fe._name,Fe._publicId,Fe._systemId);else if(Ce.Guard.isAttrNode(Fe)){var Ge=Ee.create_attr($e,Fe.localName);Ge._namespace=Fe._namespace,Ge._namespacePrefix=Fe._namespacePrefix,Ge._value=Fe._value,He=Ge}else He=Ce.Guard.isExclusiveTextNode(Fe)?Ee.create_text($e,Fe._data):Ce.Guard.isCDATASectionNode(Fe)?Ee.create_cdataSection($e,Fe._data):Ce.Guard.isCommentNode(Fe)?Ee.create_comment($e,Fe._data):Ce.Guard.isProcessingInstructionNode(Fe)?Ee.create_processingInstruction($e,Fe._target,Fe._data):Ce.Guard.isDocumentFragmentNode(Fe)?Ee.create_documentFragment($e):Object.create(Fe);if(Ce.Guard.isDocumentNode(He)?(He._nodeDocument=He,$e=He):He._nodeDocument=$e,Ae.dom.features.steps&&Me.dom_runCloningSteps(He,Fe,$e,Be),Be)try{for(var Ye=_e(Fe._children),Qe=Ye.next();!Qe.done;Qe=Ye.next()){var Je=ke(Qe.value,$e,!0);De.mutation_append(Je,He)}}catch(ri){je={error:ri}}finally{try{Qe&&!Qe.done&&(Ve=Ye.return)&&Ve.call(Ye)}finally{if(je)throw je.error}}return He},xe.node_equals=function ke(Fe,$e){var Be,Ie,Re,je;if(Fe._nodeType!==$e._nodeType)return!1;if(Ce.Guard.isDocumentTypeNode(Fe)&&Ce.Guard.isDocumentTypeNode($e)){if(Fe._name!==$e._name||Fe._publicId!==$e._publicId||Fe._systemId!==$e._systemId)return!1}else if(Ce.Guard.isElementNode(Fe)&&Ce.Guard.isElementNode($e)){if(Fe._namespace!==$e._namespace||Fe._namespacePrefix!==$e._namespacePrefix||Fe._localName!==$e._localName||Fe._attributeList.length!==$e._attributeList.length)return!1}else if(Ce.Guard.isAttrNode(Fe)&&Ce.Guard.isAttrNode($e)){if(Fe._namespace!==$e._namespace||Fe._localName!==$e._localName||Fe._value!==$e._value)return!1}else if(Ce.Guard.isProcessingInstructionNode(Fe)&&Ce.Guard.isProcessingInstructionNode($e)){if(Fe._target!==$e._target||Fe._data!==$e._data)return!1}else if(Ce.Guard.isCharacterDataNode(Fe)&&Ce.Guard.isCharacterDataNode($e)&&Fe._data!==$e._data)return!1;if(Ce.Guard.isElementNode(Fe)&&Ce.Guard.isElementNode($e)){var Ve={};try{for(var He=_e(Fe._attributeList),ze=He.next();!ze.done;ze=He.next())Ve[(qe=ze.value)._localName]=qe}catch(hi){Be={error:hi}}finally{try{ze&&!ze.done&&(Ie=He.return)&&Ie.call(He)}finally{if(Be)throw Be.error}}try{for(var Ue=_e($e._attributeList),We=Ue.next();!We.done;We=Ue.next()){var qe,Ge=We.value;if(!(qe=Ve[Ge._localName])||!ke(qe,Ge))return!1}}catch(hi){Re={error:hi}}finally{try{We&&!We.done&&(je=Ue.return)&&je.call(Ue)}finally{if(Re)throw Re.error}}}if(Fe._children.size!==$e._children.size)return!1;for(var Ye=Fe._children[Symbol.iterator](),Qe=$e._children[Symbol.iterator](),Je=Ye.next(),ri=Qe.next();!Je.done&&!ri.done;){if(!ke(Je.value,ri.value))return!1;Je=Ye.next(),ri=Qe.next()}return!0},xe.node_listOfElementsWithQualifiedName=function(ke,Fe){return ke==="*"?Ee.create_htmlCollection(Fe):Fe._nodeDocument._type==="html"?Ee.create_htmlCollection(Fe,function($e){return $e._namespace===Pe.namespace.HTML&&$e._qualifiedName===ke.toLowerCase()||$e._namespace!==Pe.namespace.HTML&&$e._qualifiedName===ke}):Ee.create_htmlCollection(Fe,function($e){return $e._qualifiedName===ke})},xe.node_listOfElementsWithNamespace=function(ke,Fe,$e){return ke===""&&(ke=null),ke==="*"&&Fe==="*"?Ee.create_htmlCollection($e):ke==="*"?Ee.create_htmlCollection($e,function(Be){return Be._localName===Fe}):Fe==="*"?Ee.create_htmlCollection($e,function(Be){return Be._namespace===ke}):Ee.create_htmlCollection($e,function(Be){return Be._localName===Fe&&Be._namespace===ke})},xe.node_listOfElementsWithClassNames=function(ke,Fe){var $e=Oe.orderedSet_parse(ke);if($e.size===0)return Ee.create_htmlCollection(Fe,function(){return!1});var Be=Fe._nodeDocument._mode!=="quirks";return Ee.create_htmlCollection(Fe,function(Ie){var Re=Ie.classList;return Oe.orderedSet_contains(Re._tokenSet,$e,Be)})},xe.node_locateANamespacePrefix=function ke(Fe,$e){if(Fe._namespace===$e&&Fe._namespacePrefix!==null)return Fe._namespacePrefix;for(var Be=0;Be<Fe._attributeList.length;Be++){var Ie=Fe._attributeList[Be];if(Ie._namespacePrefix==="xmlns"&&Ie._value===$e)return Ie._localName}return Fe._parent&&Ce.Guard.isElementNode(Fe._parent)?ke(Fe._parent,$e):null},xe.node_locateANamespace=function ke(Fe,$e){if(Ce.Guard.isElementNode(Fe)){if(Fe._namespace!==null&&Fe._namespacePrefix===$e)return Fe._namespace;for(var Be=0;Be<Fe._attributeList.length;Be++){var Ie=Fe._attributeList[Be];if(Ie._namespace===Pe.namespace.XMLNS&&Ie._namespacePrefix==="xmlns"&&Ie._localName===$e||$e===null&&Ie._namespace===Pe.namespace.XMLNS&&Ie._namespacePrefix===null&&Ie._localName==="xmlns")return Ie._value||null}return Fe.parentElement===null?null:ke(Fe.parentElement,$e)}return Ce.Guard.isDocumentNode(Fe)?Fe.documentElement===null?null:ke(Fe.documentElement,$e):Ce.Guard.isDocumentTypeNode(Fe)||Ce.Guard.isDocumentFragmentNode(Fe)?null:Ce.Guard.isAttrNode(Fe)?Fe._element===null?null:ke(Fe._element,$e):Fe._parent&&Ce.Guard.isElementNode(Fe._parent)?ke(Fe._parent,$e):null}},function(r,xe,Se){var _e=this&&this.__values||function(Te){var ke=typeof Symbol=="function"&&Symbol.iterator,Fe=ke&&Te[ke],$e=0;if(Fe)return Fe.call(Te);if(Te&&typeof Te.length=="number")return{next:function(){return Te&&$e>=Te.length&&(Te=void 0),{value:Te&&Te[$e++],done:!Te}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(6),Ce=Se(3),Pe=Se(9),Ee=Se(29),Oe=Se(17),Me=Se(107),De=Se(37);xe.text_contiguousTextNodes=function(Te,ke){var Fe;return ke===void 0&&(ke=!1),(Fe={})[Symbol.iterator]=function(){for(var $e=Te;$e&&Ce.Guard.isTextNode($e._previousSibling);)$e=$e._previousSibling;return{next:function(){if($e&&!ke&&$e===Te&&($e=Ce.Guard.isTextNode($e._nextSibling)?$e._nextSibling:null),$e===null)return{done:!0,value:null};var Be={done:!1,value:$e};return $e=Ce.Guard.isTextNode($e._nextSibling)?$e._nextSibling:null,Be}}},Fe},xe.text_contiguousExclusiveTextNodes=function(Te,ke){var Fe;return ke===void 0&&(ke=!1),(Fe={})[Symbol.iterator]=function(){for(var $e=Te;$e&&Ce.Guard.isExclusiveTextNode($e._previousSibling);)$e=$e._previousSibling;return{next:function(){if($e&&!ke&&$e===Te&&($e=Ce.Guard.isExclusiveTextNode($e._nextSibling)?$e._nextSibling:null),$e===null)return{done:!0,value:null};var Be={done:!1,value:$e};return $e=Ce.Guard.isExclusiveTextNode($e._nextSibling)?$e._nextSibling:null,Be}}},Fe},xe.text_descendantTextContent=function(Te){for(var ke="",Fe=Oe.tree_getFirstDescendantNode(Te,!1,!1,function($e){return Ce.Guard.isTextNode($e)});Fe!==null;)ke+=Fe._data,Fe=Oe.tree_getNextDescendantNode(Te,Fe,!1,!1,function($e){return Ce.Guard.isTextNode($e)});return ke},xe.text_split=function(Te,ke){var Fe,$e,Be=Te._data.length;if(ke>Be)throw new Pe.IndexSizeError;var Ie=Be-ke,Re=Me.characterData_substringData(Te,ke,Ie),je=Ee.create_text(Te._nodeDocument,Re),Ve=Te._parent;if(Ve!==null){De.mutation_insert(je,Ve,Te._nextSibling);try{for(var He=_e(Ae.dom.rangeList),ze=He.next();!ze.done;ze=He.next()){var Ue=ze.value;Ue._start[0]===Te&&Ue._start[1]>ke&&(Ue._start[0]=je,Ue._start[1]-=ke),Ue._end[0]===Te&&Ue._end[1]>ke&&(Ue._end[0]=je,Ue._end[1]-=ke);var We=Oe.tree_index(Te);Ue._start[0]===Ve&&Ue._start[1]===We+1&&Ue._start[1]++,Ue._end[0]===Ve&&Ue._end[1]===We+1&&Ue._end[1]++}}catch(qe){Fe={error:qe}}finally{try{ze&&!ze.done&&($e=He.return)&&$e.call(He)}finally{if(Fe)throw Fe.error}}}return Me.characterData_replaceData(Te,ke,Ie,""),je}},function(r,xe,Se){var _e=Se(4),Ae=Se(41),Ce=Se(24),Pe=Se(48),Ee=[].join,Oe=Ae!=Object,Me=Pe("join",",");_e({target:"Array",proto:!0,forced:Oe||!Me},{join:function(De){return Ee.call(Ce(this),De===void 0?",":De)}})},function(r,xe,Se){var _e=Se(4),Ae=Se(83),Ce=String.fromCharCode,Pe=String.fromCodePoint;_e({target:"String",stat:!0,forced:!!Pe&&Pe.length!=1},{fromCodePoint:function(Ee){for(var Oe,Me=[],De=arguments.length,Te=0;De>Te;){if(Oe=+arguments[Te++],Ae(Oe,1114111)!==Oe)throw RangeError(Oe+" is not a valid code point");Me.push(Oe<65536?Ce(Oe):Ce(55296+((Oe-=65536)>>10),Oe%1024+56320))}return Me.join("")}})},function(r,xe,Se){var _e=this&&this.__read||function(Pe,Ee){var Oe=typeof Symbol=="function"&&Pe[Symbol.iterator];if(!Oe)return Pe;var Me,De,Te=Oe.call(Pe),ke=[];try{for(;(Ee===void 0||Ee-- >0)&&!(Me=Te.next()).done;)ke.push(Me.value)}catch(Fe){De={error:Fe}}finally{try{Me&&!Me.done&&(Oe=Te.return)&&Oe.call(Te)}finally{if(De)throw De.error}}return ke};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(111),Ce=function(){function Pe(Ee,Oe){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:""},this._str=Ee,this._index=0,this._length=Ee.length,Oe&&(this._options.skipWhitespaceOnlyText=Oe.skipWhitespaceOnlyText||!1)}return Pe.prototype.nextToken=function(){if(this.eof())return{type:Ae.TokenType.EOF};var Ee=this.skipIfStartsWith("<")?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&Ee.type===Ae.TokenType.Text&&Pe.isWhiteSpaceToken(Ee)&&(Ee=this.nextToken()),Ee},Pe.prototype.openBracket=function(){return this.skipIfStartsWith("?")?this.skipIfStartsWith("xml")?Pe.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith("!")?this.skipIfStartsWith("--")?this.comment():this.skipIfStartsWith("[CDATA[")?this.cdata():this.skipIfStartsWith("DOCTYPE")?this.doctype():void this.throwError("Invalid '!' in opening tag."):this.skipIfStartsWith("/")?this.closeTag():this.openTag()},Pe.prototype.declaration=function(){for(var Ee="",Oe="",Me="";!this.eof();){if(this.skipSpace(),this.skipIfStartsWith("?>"))return{type:Ae.TokenType.Declaration,version:Ee,encoding:Oe,standalone:Me};var De=_e(this.attribute(),2),Te=De[0],ke=De[1];Te==="version"?Ee=ke:Te==="encoding"?Oe=ke:Te==="standalone"?Me=ke:this.throwError("Invalid attribute name: "+Te)}this.throwError("Missing declaration end symbol `?>`")},Pe.prototype.doctype=function(){var Ee="",Oe="";this.skipSpace();var Me=this.takeUntil2("[",">",!0);return this.skipSpace(),this.skipIfStartsWith("PUBLIC")?(Ee=this.quotedString(),Oe=this.quotedString()):this.skipIfStartsWith("SYSTEM")&&(Oe=this.quotedString()),this.skipSpace(),this.skipIfStartsWith("[")&&(this.skipUntil("]"),this.skipIfStartsWith("]")||this.throwError("Missing end bracket of DTD internal subset")),this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing doctype end symbol `>`"),{type:Ae.TokenType.DocType,name:Me,pubId:Ee,sysId:Oe}},Pe.prototype.pi=function(){var Ee=this.takeUntilStartsWith("?>",!0);if(this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.skipSpace(),this.skipIfStartsWith("?>"))return{type:Ae.TokenType.PI,target:Ee,data:""};var Oe=this.takeUntilStartsWith("?>");return this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.seek(2),{type:Ae.TokenType.PI,target:Ee,data:Oe}},Pe.prototype.text=function(){var Ee=this.takeUntil("<");return{type:Ae.TokenType.Text,data:Ee}},Pe.prototype.comment=function(){var Ee=this.takeUntilStartsWith("-->");return this.eof()&&this.throwError("Missing comment end symbol `-->`"),this.seek(3),{type:Ae.TokenType.Comment,data:Ee}},Pe.prototype.cdata=function(){var Ee=this.takeUntilStartsWith("]]>");return this.eof()&&this.throwError("Missing CDATA end symbol `]>`"),this.seek(3),{type:Ae.TokenType.CDATA,data:Ee}},Pe.prototype.openTag=function(){this.skipSpace();var Ee=this.takeUntil2(">","/",!0);if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:Ae.TokenType.Element,name:Ee,attributes:[],selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:Ae.TokenType.Element,name:Ee,attributes:[],selfClosing:!0};for(var Oe=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:Ae.TokenType.Element,name:Ee,attributes:Oe,selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:Ae.TokenType.Element,name:Ee,attributes:Oe,selfClosing:!0};var Me=this.attribute();Oe.push(Me)}this.throwError("Missing opening element tag end symbol `>`")},Pe.prototype.closeTag=function(){this.skipSpace();var Ee=this.takeUntil(">",!0);return this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing closing element tag end symbol `>`"),{type:Ae.TokenType.ClosingTag,name:Ee}},Pe.prototype.attribute=function(){this.skipSpace();var Ee=this.takeUntil("=",!0);return this.skipSpace(),this.skipIfStartsWith("=")||this.throwError("Missing equals sign before attribute value"),[Ee,this.quotedString()]},Pe.prototype.quotedString=function(){this.skipSpace();var Ee=this.take(1);Pe.isQuote(Ee)||this.throwError("Missing start quote character before quoted value");var Oe=this.takeUntil(Ee);return this.skipIfStartsWith(Ee)||this.throwError("Missing end quote character after quoted value"),Oe},Pe.prototype.eof=function(){return this._index>=this._length},Pe.prototype.skipIfStartsWith=function(Ee){var Oe=Ee.length;if(Oe===1)return this._str[this._index]===Ee&&(this._index++,!0);for(var Me=0;Me<Oe;Me++)if(this._str[this._index+Me]!==Ee[Me])return!1;return this._index+=Oe,!0},Pe.prototype.seek=function(Ee){this._index+=Ee,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},Pe.prototype.skipSpace=function(){for(;!this.eof()&&Pe.isSpace(this._str[this._index]);)this._index++},Pe.prototype.take=function(Ee){if(Ee===1)return this._str[this._index++];var Oe=this._index;return this.seek(Ee),this._str.slice(Oe,this._index)},Pe.prototype.takeUntil=function(Ee,Oe){Oe===void 0&&(Oe=!1);for(var Me=this._index;this._index<this._length;){var De=this._str[this._index];if(De===Ee||Oe&&Pe.isSpace(De))break;this._index++}return this._str.slice(Me,this._index)},Pe.prototype.takeUntil2=function(Ee,Oe,Me){Me===void 0&&(Me=!1);for(var De=this._index;this._index<this._length;){var Te=this._str[this._index];if(Te===Ee||Te===Oe||Me&&Pe.isSpace(Te))break;this._index++}return this._str.slice(De,this._index)},Pe.prototype.takeUntilStartsWith=function(Ee,Oe){Oe===void 0&&(Oe=!1);for(var Me=this._index,De=Ee.length;this._index<this._length;){for(var Te=!0,ke=0;ke<De;ke++){var Fe=this._str[this._index+ke],$e=Ee[ke];if(Oe&&Pe.isSpace(Fe))return this._str.slice(Me,this._index);if(Fe!==$e){this._index++,Te=!1;break}}if(Te)return this._str.slice(Me,this._index)}return this._index=this._length,this._str.slice(Me)},Pe.prototype.skipUntil=function(Ee){for(;this._index<this._length&&this._str[this._index]!==Ee;)this._index++},Pe.isWhiteSpaceToken=function(Ee){for(var Oe=Ee.data,Me=0;Me<Oe.length;Me++){var De=Oe[Me];if(De!==" "&&De!==`
`&&De!=="\r"&&De!=="	"&&De!=="\f")return!1}return!0},Pe.isSpace=function(Ee){return Ee===" "||Ee===`
`||Ee==="\r"||Ee==="	"},Pe.isQuote=function(Ee){return Ee==='"'||Ee==="'"},Pe.prototype.throwError=function(Ee){for(var Oe=/\r\n|\r|\n/g,Me=null,De=0,Te=0,ke=this._str.length;(Me=Oe.exec(this._str))!==null&&Me!==null;)if(De++,Me.index<this._index&&(Te=Oe.lastIndex),Me.index>this._index){ke=Me.index;break}throw this.err={line:De,col:this._index-Te,index:this._index,str:this._str.substring(Te,ke)},new Error(Ee+`
Index: `+this.err.index+`
Ln: `+this.err.line+", Col: "+this.err.col+`
Input: `+this.err.str)},Pe.prototype[Symbol.iterator]=function(){return this._index=0,{next:(function(){var Ee=this.nextToken();return Ee.type===Ae.TokenType.EOF?{done:!0,value:null}:{done:!1,value:Ee}}).bind(this)}},Pe}();xe.XMLStringLexer=Ce},function(r,xe,Se){var _e=Se(39);r.exports=new _e({include:[Se(182)]})},function(r,xe,Se){var _e=Se(39);r.exports=new _e({include:[Se(113)],implicit:[Se(290),Se(291),Se(292),Se(293)]})},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(91),Ae=Se(2),Ce=Se(3),Pe=Se(77),Ee=Se(109);function Oe(ke,Fe){var $e=De(ke===void 0||Me(ke)?ke:_e.DefaultBuilderOptions),Be=Me(ke)?Fe:ke,Ie=Ee.createDocument();Te(Ie,$e);var Re=new Pe.XMLBuilderImpl(Ie);return Be!==void 0&&Re.ele(Be),Re}function Me(ke){if(!Ae.isPlainObject(ke))return!1;for(var Fe in ke)if(ke.hasOwnProperty(Fe)&&!_e.XMLBuilderOptionKeys.has(Fe))return!1;return!0}function De(ke){ke===void 0&&(ke={});var Fe=Ae.applyDefaults(ke,_e.DefaultBuilderOptions);if(Fe.convert.att.length===0||Fe.convert.ins.length===0||Fe.convert.text.length===0||Fe.convert.cdata.length===0||Fe.convert.comment.length===0)throw new Error("JS object converter strings cannot be zero length.");return Fe}function Te(ke,Fe,$e){var Be=ke;Be._xmlBuilderOptions=Fe,Be._isFragment=$e}xe.builder=function(ke,Fe){var $e=De(Me(ke)?ke:_e.DefaultBuilderOptions),Be=Ce.Guard.isNode(ke)||Ae.isArray(ke)?ke:Fe;if(Be===void 0)throw new Error("Invalid arguments.");if(Ae.isArray(Be)){for(var Ie=[],Re=0;Re<Be.length;Re++){var je=new Pe.XMLBuilderImpl(Be[Re]);je.set($e),Ie.push(je)}return Ie}var Ve=new Pe.XMLBuilderImpl(Be);return Ve.set($e),Ve},xe.create=Oe,xe.fragment=function(ke,Fe){var $e=De(ke===void 0||Me(ke)?ke:_e.DefaultBuilderOptions),Be=Me(ke)?Fe:ke,Ie=Ee.createDocument();Te(Ie,$e,!0);var Re=new Pe.XMLBuilderImpl(Ie.createDocumentFragment());return Be!==void 0&&Re.ele(Be),Re},xe.convert=function(ke,Fe,$e){var Be,Ie,Re;return Me(ke)&&Fe!==void 0?(Be=ke,Ie=Fe,Re=$e):(Be=_e.DefaultBuilderOptions,Ie=ke,Re=Fe||void 0),Oe(Be,Ie).end(Re)}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(77);xe.builder=_e.builder,xe.create=_e.create,xe.fragment=_e.fragment,xe.convert=_e.convert,xe.createCB=_e.createCB,xe.fragmentCB=_e.fragmentCB},function(r,xe,Se){Se(31),Se(32),Se(33),Se(191),Se(192),Se(194),Se(64),Se(19),Se(198),Se(199),Se(89),Se(201),Se(65),Se(20),Se(66),Se(22),Se(23);var _e=this&&this.__read||function(Be,Ie){var Re=typeof Symbol=="function"&&Be[Symbol.iterator];if(!Re)return Be;var je,Ve,He=Re.call(Be),ze=[];try{for(;(Ie===void 0||Ie-- >0)&&!(je=He.next()).done;)ze.push(je.value)}catch(Ue){Ve={error:Ue}}finally{try{je&&!je.done&&(Re=He.return)&&Re.call(He)}finally{if(Ve)throw Ve.error}}return ze},Ae=this&&this.__values||function(Be){var Ie=typeof Symbol=="function"&&Symbol.iterator,Re=Ie&&Be[Ie],je=0;if(Re)return Re.call(Be);if(Be&&typeof Be.length=="number")return{next:function(){return Be&&je>=Be.length&&(Be=void 0),{value:Be&&Be[je++],done:!Be}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(91),Pe=Se(2),Ee=Se(217),Oe=Se(1),Me=Se(3),De=Se(0),Te=Se(109),ke=Se(7),Fe=Se(277),$e=function(){function Be(Ie){this._domNode=Ie}return Object.defineProperty(Be.prototype,"node",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Be.prototype.set=function(Ie){return this._options=Pe.applyDefaults(Pe.applyDefaults(this._options,Ie,!0),Ce.DefaultBuilderOptions),this},Be.prototype.ele=function(Ie,Re,je){var Ve,He,ze,Ue,We,qe;if(Pe.isObject(Ie))return new Fe.ObjectReader(this._options).parse(this,Ie);if(Ie!==null&&/^\s*</.test(Ie))return new Fe.XMLReader(this._options).parse(this,Ie);if(Ie!==null&&/^\s*[\{\[]/.test(Ie))return new Fe.JSONReader(this._options).parse(this,Ie);if(Ie!==null&&/^(\s*|(#.*)|(%.*))*---/.test(Ie))return new Fe.YAMLReader(this._options).parse(this,Ie);if((Ie===null||Pe.isString(Ie))&&Pe.isString(Re))Ue=(Ve=_e([Ie,Re,je],3))[0],We=Ve[1],qe=Ve[2];else{if(Ie===null)throw new Error("Element name cannot be null. "+this._debugInfo());Ue=(He=_e([void 0,Ie,Pe.isObject(Re)?Re:void 0],3))[0],We=He[1],qe=He[2]}if(qe&&(qe=Pe.getValue(qe)),Ue=(ze=_e(this._extractNamespace(Te.sanitizeInput(Ue,this._options.invalidCharReplacement),Te.sanitizeInput(We,this._options.invalidCharReplacement),!0),2))[0],We=ze[1],Ue===void 0){var Ge=_e(De.namespace_extractQName(We),1)[0];Ue=this.node.lookupNamespaceURI(Ge)}var Ye=Ue!=null?this._doc.createElementNS(Ue,We):this._doc.createElement(We);this.node.appendChild(Ye);var Qe=new Be(Ye),Je=this._doc.doctype;if(Ye===this._doc.documentElement&&Je!==null){var ri=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,Je.publicId,Je.systemId);this._doc.replaceChild(ri,Je)}return qe&&!Pe.isEmpty(qe)&&Qe.att(qe),Qe},Be.prototype.remove=function(){var Ie=this.up();return Ie.node.removeChild(this.node),Ie},Be.prototype.att=function(Ie,Re,je){var Ve,He,ze,Ue,We,qe,Ge=this;if(Pe.isMap(Ie)||Pe.isObject(Ie))return Pe.forEachObject(Ie,function(ni,di){return Ge.att(ni,di)},this),this;if(Ie!=null&&(Ie=Pe.getValue(Ie+"")),Re!=null&&(Re=Pe.getValue(Re+"")),je!=null&&(je=Pe.getValue(je+"")),Ie!==null&&!Pe.isString(Ie)||!Pe.isString(Re)||je!==null&&!Pe.isString(je)){if(!Pe.isString(Ie)||Re!=null&&!Pe.isString(Re))throw new Error("Attribute name and value not specified. "+this._debugInfo());Ue=(He=_e([void 0,Ie,Re],3))[0],We=He[1],qe=He[2]}else Ue=(Ve=_e([Ie,Re,je],3))[0],We=Ve[1],qe=Ve[2];if(this._options.keepNullAttributes&&qe==null)qe="";else if(qe==null)return this;if(!Me.Guard.isElementNode(this.node))throw new Error("An attribute can only be assigned to an element node.");var Ye=this.node;Ue=(ze=_e(this._extractNamespace(Ue,We,!1),2))[0],We=ze[1],We=Te.sanitizeInput(We,this._options.invalidCharReplacement),Ue=Te.sanitizeInput(Ue,this._options.invalidCharReplacement),qe=Te.sanitizeInput(qe,this._options.invalidCharReplacement);var Qe=_e(De.namespace_extractQName(We),2),Je=Qe[0],ri=Qe[1],hi=_e(De.namespace_extractQName(Ye.prefix?Ye.prefix+":"+Ye.localName:Ye.localName),1)[0],pi=null;return Je==="xmlns"?(Ue=ke.namespace.XMLNS,Ye.namespaceURI===null&&hi===ri&&(pi=qe)):Je===null&&ri==="xmlns"&&hi===null&&(Ue=ke.namespace.XMLNS,pi=qe),pi!==null&&(this._updateNamespace(pi),Ye=this.node),Ue!==void 0?Ye.setAttributeNS(Ue,We,qe):Ye.setAttribute(We,qe),this},Be.prototype.removeAtt=function(Ie,Re){var je,Ve,He=this;if(!Me.Guard.isElementNode(this.node))throw new Error("An attribute can only be removed from an element node.");if(Ie=Pe.getValue(Ie),Re!==void 0&&(Re=Pe.getValue(Re)),Ie!==null&&Re===void 0)Ve=Ie;else{if(Ie!==null&&!Pe.isString(Ie)||Re===void 0)throw new Error("Attribute namespace must be a string. "+this._debugInfo());je=Ie,Ve=Re}return Pe.isArray(Ve)||Pe.isSet(Ve)?Pe.forEachArray(Ve,function(ze){return je===void 0?He.removeAtt(ze):He.removeAtt(je,ze)},this):je!==void 0?(Ve=Te.sanitizeInput(Ve,this._options.invalidCharReplacement),je=Te.sanitizeInput(je,this._options.invalidCharReplacement),this.node.removeAttributeNS(je,Ve)):(Ve=Te.sanitizeInput(Ve,this._options.invalidCharReplacement),this.node.removeAttribute(Ve)),this},Be.prototype.txt=function(Ie){if(Ie==null){if(!this._options.keepNullNodes)return this;Ie=""}var Re=this._doc.createTextNode(Te.sanitizeInput(Ie,this._options.invalidCharReplacement));return this.node.appendChild(Re),this},Be.prototype.com=function(Ie){if(Ie==null){if(!this._options.keepNullNodes)return this;Ie=""}var Re=this._doc.createComment(Te.sanitizeInput(Ie,this._options.invalidCharReplacement));return this.node.appendChild(Re),this},Be.prototype.dat=function(Ie){if(Ie==null){if(!this._options.keepNullNodes)return this;Ie=""}var Re=this._doc.createCDATASection(Te.sanitizeInput(Ie,this._options.invalidCharReplacement));return this.node.appendChild(Re),this},Be.prototype.ins=function(Ie,Re){var je=this;if(Re===void 0&&(Re=""),Re==null){if(!this._options.keepNullNodes)return this;Re=""}if(Pe.isArray(Ie)||Pe.isSet(Ie))Pe.forEachArray(Ie,function(He){var ze=(He+="").indexOf(" "),Ue=ze===-1?He:He.substr(0,ze),We=ze===-1?"":He.substr(ze+1);je.ins(Ue,We)},this);else if(Pe.isMap(Ie)||Pe.isObject(Ie))Pe.forEachObject(Ie,function(He,ze){return je.ins(He,ze)},this);else{var Ve=this._doc.createProcessingInstruction(Te.sanitizeInput(Ie,this._options.invalidCharReplacement),Te.sanitizeInput(Re,this._options.invalidCharReplacement));this.node.appendChild(Ve)}return this},Be.prototype.dec=function(Ie){return this._options.version=Ie.version||"1.0",this._options.encoding=Ie.encoding,this._options.standalone=Ie.standalone,this},Be.prototype.dtd=function(Ie){var Re=Te.sanitizeInput(Ie&&Ie.name||(this._doc.documentElement?this._doc.documentElement.tagName:"ROOT"),this._options.invalidCharReplacement),je=Te.sanitizeInput(Ie&&Ie.pubID||"",this._options.invalidCharReplacement),Ve=Te.sanitizeInput(Ie&&Ie.sysID||"",this._options.invalidCharReplacement);if(this._doc.documentElement!==null&&Re!==this._doc.documentElement.tagName)throw new Error("DocType name does not match document element name.");var He=this._doc.implementation.createDocumentType(Re,je,Ve);return this._doc.doctype!==null?this._doc.replaceChild(He,this._doc.doctype):this._doc.insertBefore(He,this._doc.documentElement),this},Be.prototype.import=function(Ie){var Re,je,Ve=this._domNode,He=this._doc,ze=Ie.node;if(Me.Guard.isDocumentNode(ze)){var Ue=ze.documentElement;if(Ue===null)throw new Error("Imported document has no document element node. "+this._debugInfo());var We=He.importNode(Ue,!0);Ve.appendChild(We);var qe=_e(De.namespace_extractQName(We.prefix?We.prefix+":"+We.localName:We.localName),1)[0],Ge=Ve.lookupNamespaceURI(qe);new Be(We)._updateNamespace(Ge)}else if(Me.Guard.isDocumentFragmentNode(ze))try{for(var Ye=Ae(ze.childNodes),Qe=Ye.next();!Qe.done;Qe=Ye.next()){var Je=Qe.value;We=He.importNode(Je,!0),Ve.appendChild(We),Me.Guard.isElementNode(We)&&(qe=_e(De.namespace_extractQName(We.prefix?We.prefix+":"+We.localName:We.localName),1)[0],Ge=Ve.lookupNamespaceURI(qe),new Be(We)._updateNamespace(Ge))}}catch(ri){Re={error:ri}}finally{try{Qe&&!Qe.done&&(je=Ye.return)&&je.call(Ye)}finally{if(Re)throw Re.error}}else We=He.importNode(ze,!0),Ve.appendChild(We),Me.Guard.isElementNode(We)&&(qe=_e(De.namespace_extractQName(We.prefix?We.prefix+":"+We.localName:We.localName),1)[0],Ge=Ve.lookupNamespaceURI(qe),new Be(We)._updateNamespace(Ge));return this},Be.prototype.doc=function(){if(this._doc._isFragment){for(var Ie=this.node;Ie&&Ie.nodeType!==Oe.NodeType.DocumentFragment;)Ie=Ie.parentNode;if(Ie===null)throw new Error("Node has no parent node while searching for document fragment ancestor. "+this._debugInfo());return new Be(Ie)}return new Be(this._doc)},Be.prototype.root=function(){var Ie=this._doc.documentElement;if(!Ie)throw new Error("Document root element is null. "+this._debugInfo());return new Be(Ie)},Be.prototype.up=function(){var Ie=this._domNode.parentNode;if(!Ie)throw new Error("Parent node is null. "+this._debugInfo());return new Be(Ie)},Be.prototype.prev=function(){var Ie=this._domNode.previousSibling;if(!Ie)throw new Error("Previous sibling node is null. "+this._debugInfo());return new Be(Ie)},Be.prototype.next=function(){var Ie=this._domNode.nextSibling;if(!Ie)throw new Error("Next sibling node is null. "+this._debugInfo());return new Be(Ie)},Be.prototype.first=function(){var Ie=this._domNode.firstChild;if(!Ie)throw new Error("First child node is null. "+this._debugInfo());return new Be(Ie)},Be.prototype.last=function(){var Ie=this._domNode.lastChild;if(!Ie)throw new Error("Last child node is null. "+this._debugInfo());return new Be(Ie)},Be.prototype.each=function(Ie,Re,je,Ve){Re===void 0&&(Re=!1),je===void 0&&(je=!1);for(var He=this._getFirstDescendantNode(this._domNode,Re,je);He[0];){var ze=this._getNextDescendantNode(this._domNode,He[0],je,He[1],He[2]);Ie.call(Ve,new Be(He[0]),He[1],He[2]),He=ze}return this},Be.prototype.map=function(Ie,Re,je,Ve){Re===void 0&&(Re=!1),je===void 0&&(je=!1);var He=[];return this.each(function(ze,Ue,We){return He.push(Ie.call(Ve,ze,Ue,We))},Re,je),He},Be.prototype.reduce=function(Ie,Re,je,Ve,He){je===void 0&&(je=!1),Ve===void 0&&(Ve=!1);var ze=Re;return this.each(function(Ue,We,qe){return ze=Ie.call(He,ze,Ue,We,qe)},je,Ve),ze},Be.prototype.find=function(Ie,Re,je,Ve){Re===void 0&&(Re=!1),je===void 0&&(je=!1);for(var He=this._getFirstDescendantNode(this._domNode,Re,je);He[0];){var ze=new Be(He[0]);if(Ie.call(Ve,ze,He[1],He[2]))return ze;He=this._getNextDescendantNode(this._domNode,He[0],je,He[1],He[2])}},Be.prototype.filter=function(Ie,Re,je,Ve){Re===void 0&&(Re=!1),je===void 0&&(je=!1);var He=[];return this.each(function(ze,Ue,We){Ie.call(Ve,ze,Ue,We)&&He.push(ze)},Re,je),He},Be.prototype.every=function(Ie,Re,je,Ve){Re===void 0&&(Re=!1),je===void 0&&(je=!1);for(var He=this._getFirstDescendantNode(this._domNode,Re,je);He[0];){var ze=new Be(He[0]);if(!Ie.call(Ve,ze,He[1],He[2]))return!1;He=this._getNextDescendantNode(this._domNode,He[0],je,He[1],He[2])}return!0},Be.prototype.some=function(Ie,Re,je,Ve){Re===void 0&&(Re=!1),je===void 0&&(je=!1);for(var He=this._getFirstDescendantNode(this._domNode,Re,je);He[0];){var ze=new Be(He[0]);if(Ie.call(Ve,ze,He[1],He[2]))return!0;He=this._getNextDescendantNode(this._domNode,He[0],je,He[1],He[2])}return!1},Be.prototype.toArray=function(Ie,Re){Ie===void 0&&(Ie=!1),Re===void 0&&(Re=!1);var je=[];return this.each(function(Ve){return je.push(Ve)},Ie,Re),je},Be.prototype.toString=function(Ie){return(Ie=Ie||{}).format===void 0&&(Ie.format="xml"),this._serialize(Ie)},Be.prototype.toObject=function(Ie){return(Ie=Ie||{}).format===void 0&&(Ie.format="object"),this._serialize(Ie)},Be.prototype.end=function(Ie){return(Ie=Ie||{}).format===void 0&&(Ie.format="xml"),this.doc()._serialize(Ie)},Be.prototype._getFirstDescendantNode=function(Ie,Re,je){return Re?[this._domNode,0,0]:je?this._getNextDescendantNode(Ie,Ie,je,0,0):[this._domNode.firstChild,0,1]},Be.prototype._getNextDescendantNode=function(Ie,Re,je,Ve,He){if(!je)return Ie===Re?[Re.firstChild,0,He+1]:[Re.nextSibling,Ve+1,He];if(Re.firstChild)return[Re.firstChild,0,He+1];if(Re===Ie)return[null,-1,-1];if(Re.nextSibling)return[Re.nextSibling,Ve+1,He];for(var ze=Re.parentNode;ze&&ze!==Ie;){if(ze.nextSibling)return[ze.nextSibling,De.tree_index(ze.nextSibling),He-1];ze=ze.parentNode,He--}return[null,-1,-1]},Be.prototype._serialize=function(Ie){if(Ie.format==="xml")return new Ee.XMLWriter(this._options,Ie).serialize(this.node);if(Ie.format==="map")return new Ee.MapWriter(this._options,Ie).serialize(this.node);if(Ie.format==="object")return new Ee.ObjectWriter(this._options,Ie).serialize(this.node);if(Ie.format==="json")return new Ee.JSONWriter(this._options,Ie).serialize(this.node);if(Ie.format==="yaml")return new Ee.YAMLWriter(this._options,Ie).serialize(this.node);throw new Error("Invalid writer format: "+Ie.format+". "+this._debugInfo())},Be.prototype._extractNamespace=function(Ie,Re,je){var Ve=Re.indexOf("@");if(Ve>0&&(Ie===void 0&&(Ie=Re.slice(Ve+1)),Re=Re.slice(0,Ve)),Ie===void 0)Ie=je?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(Ie!==null&&Ie[0]==="@"){var He=Ie.slice(1);if((Ie=this._options.namespaceAlias[He])===void 0)throw new Error("Namespace alias `"+He+"` is not defined. "+this._debugInfo())}return[Ie,Re]},Be.prototype._updateNamespace=function(Ie){var Re,je,Ve,He,ze=this._domNode;if(Me.Guard.isElementNode(ze)&&Ie!==null&&ze.namespaceURI!==Ie){var Ue=_e(De.namespace_extractQName(ze.prefix?ze.prefix+":"+ze.localName:ze.localName),2),We=Ue[0],qe=Ue[1],Ge=De.create_element(this._doc,qe,Ie,We);try{for(var Ye=Ae(ze.attributes),Qe=Ye.next();!Qe.done;Qe=Ye.next()){var Je=Qe.value,ri=Je.prefix?Je.prefix+":"+Je.localName:Je.localName,hi=_e(De.namespace_extractQName(ri),1)[0],pi=Je.namespaceURI;pi===null&&hi!==null&&(pi=ze.lookupNamespaceURI(hi)),pi===null?Ge.setAttribute(ri,Je.value):Ge.setAttributeNS(pi,ri,Je.value)}}catch(yi){Re={error:yi}}finally{try{Qe&&!Qe.done&&(je=Ye.return)&&je.call(Ye)}finally{if(Re)throw Re.error}}var ni=ze.parentNode;if(ni===null)throw new Error("Parent node is null."+this._debugInfo());ni.replaceChild(Ge,ze),this._domNode=Ge;try{for(var di=Ae(ze.childNodes),fi=di.next();!fi.done;fi=di.next()){var Pi=fi.value.cloneNode(!0);if(Ge.appendChild(Pi),Me.Guard.isElementNode(Pi)){var ci=_e(De.namespace_extractQName(Pi.prefix?Pi.prefix+":"+Pi.localName:Pi.localName),1)[0],xi=Ge.lookupNamespaceURI(ci);new Be(Pi)._updateNamespace(xi)}}}catch(yi){Ve={error:yi}}finally{try{fi&&!fi.done&&(He=di.return)&&He.call(di)}finally{if(Ve)throw Ve.error}}}},Object.defineProperty(Be.prototype,"_doc",{get:function(){var Ie=this.node;if(Me.Guard.isDocumentNode(Ie))return Ie;var Re=Ie.ownerDocument;if(!Re)throw new Error("Owner document is null. "+this._debugInfo());return Re},enumerable:!0,configurable:!0}),Be.prototype._debugInfo=function(Ie){var Re=this.node,je=Re.parentNode;Ie=Ie||Re.nodeName;var Ve=je?je.nodeName:"";return Ve?"node: <"+Ie+">, parent: <"+Ve+">":"node: <"+Ie+">"},Object.defineProperty(Be.prototype,"_options",{get:function(){var Ie=this._doc;if(Ie._xmlBuilderOptions===void 0)throw new Error("Builder options is not set.");return Ie._xmlBuilderOptions},set:function(Ie){this._doc._xmlBuilderOptions=Ie},enumerable:!0,configurable:!0}),Be}();xe.XMLBuilderImpl=$e},function(r,xe,Se){var _e=Se(11),Ae=Se(117),Ce=_e.WeakMap;r.exports=typeof Ce=="function"&&/native code/.test(Ae(Ce))},function(r,xe,Se){var _e=Se(46),Ae=Se(82),Ce=Se(85),Pe=Se(18);r.exports=_e("Reflect","ownKeys")||function(Ee){var Oe=Ae.f(Pe(Ee)),Me=Ce.f;return Me?Oe.concat(Me(Ee)):Oe}},function(r,xe,Se){var _e=Se(16),Ae=Se(15),Ce=Se(18),Pe=Se(61);r.exports=_e?Object.defineProperties:function(Ee,Oe){Ce(Ee);for(var Me,De=Pe(Oe),Te=De.length,ke=0;Te>ke;)Ae.f(Ee,Me=De[ke++],Oe[Me]);return Ee}},function(r,xe,Se){var _e=Se(46);r.exports=_e("document","documentElement")},function(r,xe,Se){var _e=Se(24),Ae=Se(82).f,Ce={}.toString,Pe=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(Ee){return Pe&&Ce.call(Ee)=="[object Window]"?function(Oe){try{return Ae(Oe)}catch{return Pe.slice()}}(Ee):Ae(_e(Ee))}},function(r,xe,Se){var _e=Se(4),Ae=Se(36).every,Ce=Se(48),Pe=Se(28),Ee=Ce("every"),Oe=Pe("every");_e({target:"Array",proto:!0,forced:!Ee||!Oe},{every:function(Me){return Ae(this,Me,arguments.length>1?arguments[1]:void 0)}})},function(r,xe,Se){var _e=Se(4),Ae=Se(36).filter,Ce=Se(63),Pe=Se(28),Ee=Ce("filter"),Oe=Pe("filter");_e({target:"Array",proto:!0,forced:!Ee||!Oe},{filter:function(Me){return Ae(this,Me,arguments.length>1?arguments[1]:void 0)}})},function(r,xe,Se){var _e=Se(46);r.exports=_e("navigator","userAgent")||""},function(r,xe,Se){var _e=Se(4),Ae=Se(36).find,Ce=Se(130),Pe=Se(28),Ee=!0,Oe=Pe("find");"find"in[]&&Array(1).find(function(){Ee=!1}),_e({target:"Array",proto:!0,forced:Ee||!Oe},{find:function(Me){return Ae(this,Me,arguments.length>1?arguments[1]:void 0)}}),Ce("find")},function(r,xe,Se){var _e=Se(131).IteratorPrototype,Ae=Se(60),Ce=Se(40),Pe=Se(62),Ee=Se(49),Oe=function(){return this};r.exports=function(Me,De,Te){var ke=De+" Iterator";return Me.prototype=Ae(_e,{next:Ce(1,Te)}),Pe(Me,ke,!1,!0),Ee[ke]=Oe,Me}},function(r,xe,Se){var _e=Se(8);r.exports=!_e(function(){function Ae(){}return Ae.prototype.constructor=null,Object.getPrototypeOf(new Ae)!==Ae.prototype})},function(r,xe,Se){var _e=Se(13);r.exports=function(Ae){if(!_e(Ae)&&Ae!==null)throw TypeError("Can't set "+String(Ae)+" as a prototype");return Ae}},function(r,xe,Se){var _e=Se(4),Ae=Se(36).map,Ce=Se(63),Pe=Se(28),Ee=Ce("map"),Oe=Pe("map");_e({target:"Array",proto:!0,forced:!Ee||!Oe},{map:function(Me){return Ae(this,Me,arguments.length>1?arguments[1]:void 0)}})},function(r,xe,Se){var _e=Se(4),Ae=Se(200).left,Ce=Se(48),Pe=Se(28),Ee=Ce("reduce"),Oe=Pe("reduce",{1:0});_e({target:"Array",proto:!0,forced:!Ee||!Oe},{reduce:function(Me){return Ae(this,Me,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(r,xe,Se){var _e=Se(127),Ae=Se(27),Ce=Se(41),Pe=Se(26),Ee=function(Oe){return function(Me,De,Te,ke){_e(De);var Fe=Ae(Me),$e=Ce(Fe),Be=Pe(Fe.length),Ie=Oe?Be-1:0,Re=Oe?-1:1;if(Te<2)for(;;){if(Ie in $e){ke=$e[Ie],Ie+=Re;break}if(Ie+=Re,Oe?Ie<0:Be<=Ie)throw TypeError("Reduce of empty array with no initial value")}for(;Oe?Ie>=0:Be>Ie;Ie+=Re)Ie in $e&&(ke=De(ke,$e[Ie],Ie,Fe));return ke}};r.exports={left:Ee(!1),right:Ee(!0)}},function(r,xe,Se){var _e=Se(4),Ae=Se(36).some,Ce=Se(48),Pe=Se(28),Ee=Ce("some"),Oe=Pe("some");_e({target:"Array",proto:!0,forced:!Ee||!Oe},{some:function(Me){return Ae(this,Me,arguments.length>1?arguments[1]:void 0)}})},function(r,xe,Se){var _e=Se(90),Ae=Se(135);r.exports=_e?{}.toString:function(){return"[object "+Ae(this)+"]"}},function(r,xe){r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(r,xe,Se){var _e=Se(8);r.exports=!_e(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(r,xe,Se){var _e=Se(5),Ae=Se(49),Ce=_e("iterator"),Pe=Array.prototype;r.exports=function(Ee){return Ee!==void 0&&(Ae.Array===Ee||Pe[Ce]===Ee)}},function(r,xe,Se){var _e=Se(135),Ae=Se(49),Ce=Se(5)("iterator");r.exports=function(Pe){if(Pe!=null)return Pe[Ce]||Pe["@@iterator"]||Ae[_e(Pe)]}},function(r,xe,Se){var _e=Se(18);r.exports=function(Ae,Ce,Pe,Ee){try{return Ee?Ce(_e(Pe)[0],Pe[1]):Ce(Pe)}catch(Me){var Oe=Ae.return;throw Oe!==void 0&&_e(Oe.call(Ae)),Me}}},function(r,xe,Se){var _e=Se(5)("iterator"),Ae=!1;try{var Ce=0,Pe={next:function(){return{done:!!Ce++}},return:function(){Ae=!0}};Pe[_e]=function(){return this},Array.from(Pe,function(){throw 2})}catch{}r.exports=function(Ee,Oe){if(!Oe&&!Ae)return!1;var Me=!1;try{var De={};De[_e]=function(){return{next:function(){return{done:Me=!0}}}},Ee(De)}catch{}return Me}},function(r,xe,Se){var _e=Se(13),Ae=Se(133);r.exports=function(Ce,Pe,Ee){var Oe,Me;return Ae&&typeof(Oe=Pe.constructor)=="function"&&Oe!==Ee&&_e(Me=Oe.prototype)&&Me!==Ee.prototype&&Ae(Ce,Me),Ce}},function(r,xe,Se){var _e=Se(25);r.exports=function(Ae,Ce,Pe){for(var Ee in Ce)_e(Ae,Ee,Ce[Ee],Pe);return Ae}},function(r,xe,Se){var _e=Se(46),Ae=Se(15),Ce=Se(5),Pe=Se(16),Ee=Ce("species");r.exports=function(Oe){var Me=_e(Oe),De=Ae.f;Pe&&Me&&!Me[Ee]&&De(Me,Ee,{configurable:!0,get:function(){return this}})}},function(r,xe,Se){var _e=this&&this.__generator||function(Pe,Ee){var Oe,Me,De,Te,ke={label:0,sent:function(){if(1&De[0])throw De[1];return De[1]},trys:[],ops:[]};return Te={next:Fe(0),throw:Fe(1),return:Fe(2)},typeof Symbol=="function"&&(Te[Symbol.iterator]=function(){return this}),Te;function Fe($e){return function(Be){return function(Ie){if(Oe)throw new TypeError("Generator is already executing.");for(;ke;)try{if(Oe=1,Me&&(De=2&Ie[0]?Me.return:Ie[0]?Me.throw||((De=Me.return)&&De.call(Me),0):Me.next)&&!(De=De.call(Me,Ie[1])).done)return De;switch(Me=0,De&&(Ie=[2&Ie[0],De.value]),Ie[0]){case 0:case 1:De=Ie;break;case 4:return ke.label++,{value:Ie[1],done:!1};case 5:ke.label++,Me=Ie[1],Ie=[0];continue;case 7:Ie=ke.ops.pop(),ke.trys.pop();continue;default:if(De=ke.trys,!((De=De.length>0&&De[De.length-1])||Ie[0]!==6&&Ie[0]!==2)){ke=0;continue}if(Ie[0]===3&&(!De||Ie[1]>De[0]&&Ie[1]<De[3])){ke.label=Ie[1];break}if(Ie[0]===6&&ke.label<De[1]){ke.label=De[1],De=Ie;break}if(De&&ke.label<De[2]){ke.label=De[2],ke.ops.push(Ie);break}De[2]&&ke.ops.pop(),ke.trys.pop();continue}Ie=Ee.call(Pe,ke)}catch(Re){Ie=[6,Re],Me=0}finally{Oe=De=0}if(5&Ie[0])throw Ie[1];return{value:Ie[0]?Ie[1]:void 0,done:!0}}([$e,Be])}}},Ae=this&&this.__values||function(Pe){var Ee=typeof Symbol=="function"&&Symbol.iterator,Oe=Ee&&Pe[Ee],Me=0;if(Oe)return Oe.call(Pe);if(Pe&&typeof Pe.length=="number")return{next:function(){return Pe&&Me>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[Me++],done:!Pe}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ce=function(){function Pe(Ee){Ee===void 0&&(Ee=1e3),this._items=new Set,this._limit=Ee}return Pe.prototype.add=function(Ee){if(this._items.add(Ee),this._items.size>this._limit){var Oe=this._items.values().next();Oe.done||this._items.delete(Oe.value)}return this},Pe.prototype.delete=function(Ee){return this._items.delete(Ee)},Pe.prototype.has=function(Ee){return this._items.has(Ee)},Pe.prototype.clear=function(){this._items.clear()},Object.defineProperty(Pe.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),Pe.prototype.forEach=function(Ee,Oe){var Me=this;this._items.forEach(function(De){return Ee.call(Oe,De,De,Me)})},Pe.prototype.keys=function(){return _e(this,function(Ee){switch(Ee.label){case 0:return[5,Ae(this._items.keys())];case 1:return Ee.sent(),[2]}})},Pe.prototype.values=function(){return _e(this,function(Ee){switch(Ee.label){case 0:return[5,Ae(this._items.values())];case 1:return Ee.sent(),[2]}})},Pe.prototype.entries=function(){return _e(this,function(Ee){switch(Ee.label){case 0:return[5,Ae(this._items.entries())];case 1:return Ee.sent(),[2]}})},Pe.prototype[Symbol.iterator]=function(){return _e(this,function(Ee){switch(Ee.label){case 0:return[5,Ae(this._items)];case 1:return Ee.sent(),[2]}})},Object.defineProperty(Pe.prototype,Symbol.toStringTag,{get:function(){return"FixedSizeSet"},enumerable:!0,configurable:!0}),Pe}();xe.FixedSizeSet=Ce},function(r,xe,Se){var _e=this&&this.__generator||function(Pe,Ee){var Oe,Me,De,Te,ke={label:0,sent:function(){if(1&De[0])throw De[1];return De[1]},trys:[],ops:[]};return Te={next:Fe(0),throw:Fe(1),return:Fe(2)},typeof Symbol=="function"&&(Te[Symbol.iterator]=function(){return this}),Te;function Fe($e){return function(Be){return function(Ie){if(Oe)throw new TypeError("Generator is already executing.");for(;ke;)try{if(Oe=1,Me&&(De=2&Ie[0]?Me.return:Ie[0]?Me.throw||((De=Me.return)&&De.call(Me),0):Me.next)&&!(De=De.call(Me,Ie[1])).done)return De;switch(Me=0,De&&(Ie=[2&Ie[0],De.value]),Ie[0]){case 0:case 1:De=Ie;break;case 4:return ke.label++,{value:Ie[1],done:!1};case 5:ke.label++,Me=Ie[1],Ie=[0];continue;case 7:Ie=ke.ops.pop(),ke.trys.pop();continue;default:if(De=ke.trys,!((De=De.length>0&&De[De.length-1])||Ie[0]!==6&&Ie[0]!==2)){ke=0;continue}if(Ie[0]===3&&(!De||Ie[1]>De[0]&&Ie[1]<De[3])){ke.label=Ie[1];break}if(Ie[0]===6&&ke.label<De[1]){ke.label=De[1],De=Ie;break}if(De&&ke.label<De[2]){ke.label=De[2],ke.ops.push(Ie);break}De[2]&&ke.ops.pop(),ke.trys.pop();continue}Ie=Ee.call(Pe,ke)}catch(Re){Ie=[6,Re],Me=0}finally{Oe=De=0}if(5&Ie[0])throw Ie[1];return{value:Ie[0]?Ie[1]:void 0,done:!0}}([$e,Be])}}},Ae=this&&this.__values||function(Pe){var Ee=typeof Symbol=="function"&&Symbol.iterator,Oe=Ee&&Pe[Ee],Me=0;if(Oe)return Oe.call(Pe);if(Pe&&typeof Pe.length=="number")return{next:function(){return Pe&&Me>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[Me++],done:!Pe}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ce=function(){function Pe(Ee){Ee===void 0&&(Ee=1e3),this._items=new Map,this._limit=Ee}return Pe.prototype.get=function(Ee){return this._items.get(Ee)},Pe.prototype.set=function(Ee,Oe){if(this._items.set(Ee,Oe),this._items.size>this._limit){var Me=this._items.keys().next();Me.done||this._items.delete(Me.value)}},Pe.prototype.delete=function(Ee){return this._items.delete(Ee)},Pe.prototype.has=function(Ee){return this._items.has(Ee)},Pe.prototype.clear=function(){this._items.clear()},Object.defineProperty(Pe.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),Pe.prototype.forEach=function(Ee,Oe){this._items.forEach(function(Me,De){return Ee.call(Oe,De,Me)})},Pe.prototype.keys=function(){return _e(this,function(Ee){switch(Ee.label){case 0:return[5,Ae(this._items.keys())];case 1:return Ee.sent(),[2]}})},Pe.prototype.values=function(){return _e(this,function(Ee){switch(Ee.label){case 0:return[5,Ae(this._items.values())];case 1:return Ee.sent(),[2]}})},Pe.prototype.entries=function(){return _e(this,function(Ee){switch(Ee.label){case 0:return[5,Ae(this._items.entries())];case 1:return Ee.sent(),[2]}})},Pe.prototype[Symbol.iterator]=function(){return _e(this,function(Ee){switch(Ee.label){case 0:return[5,Ae(this._items)];case 1:return Ee.sent(),[2]}})},Object.defineProperty(Pe.prototype,Symbol.toStringTag,{get:function(){return"ObjectCache"},enumerable:!0,configurable:!0}),Pe}();xe.ObjectCache=Ce},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=function(){function Ae(Ce){Ce===void 0&&(Ce=1e3),this._items=new Map,this._limit=Ce}return Ae.prototype.check=function(Ce,Pe){if(this._items.get(Ce)===Pe)return!0;if(this._items.get(Pe)===Ce)return!1;var Ee=Math.random()<.5;if(Ee?this._items.set(Ce,Pe):this._items.set(Pe,Ce),this._items.size>this._limit){var Oe=this._items.keys().next();Oe.done||this._items.delete(Oe.value)}return Ee},Ae}();xe.CompareCache=_e},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=function(){function Ae(Ce){this._initialized=!1,this._value=void 0,this._initFunc=Ce}return Object.defineProperty(Ae.prototype,"value",{get:function(){return this._initialized||(this._value=this._initFunc(),this._initialized=!0),this._value},enumerable:!0,configurable:!0}),Ae}();xe.Lazy=_e},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=function(){function Ae(Ce){this._pointer=0,this._chars=Array.from(Ce),this._length=this._chars.length}return Object.defineProperty(Ae.prototype,"eof",{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(Ae.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Ae.prototype.codePoint=function(){if(this._codePoint===void 0)if(this.eof)this._codePoint=-1;else{var Ce=this._chars[this._pointer].codePointAt(0);this._codePoint=Ce!==void 0?Ce:-1}return this._codePoint},Ae.prototype.c=function(){return this._c===void 0&&(this._c=this.eof?"":this._chars[this._pointer]),this._c},Ae.prototype.remaining=function(){return this._remaining===void 0&&(this._remaining=this.eof?"":this._chars.slice(this._pointer+1).join("")),this._remaining},Ae.prototype.substring=function(){return this._substring===void 0&&(this._substring=this.eof?"":this._chars.slice(this._pointer).join("")),this._substring},Object.defineProperty(Ae.prototype,"pointer",{get:function(){return this._pointer},set:function(Ce){Ce!==this._pointer&&(this._pointer=Ce,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),Ae}();xe.StringWalker=_e},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(218);xe.MapWriter=_e.MapWriter;var Ae=Se(259);xe.XMLWriter=Ae.XMLWriter;var Ce=Se(67);xe.ObjectWriter=Ce.ObjectWriter;var Pe=Se(261);xe.JSONWriter=Pe.JSONWriter;var Ee=Se(262);xe.YAMLWriter=Ee.YAMLWriter},function(r,xe,Se){Se(19),Se(219),Se(20),Se(22),Se(23);var _e,Ae=this&&this.__extends||(_e=function(Oe,Me){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,Te){De.__proto__=Te}||function(De,Te){for(var ke in Te)Te.hasOwnProperty(ke)&&(De[ke]=Te[ke])})(Oe,Me)},function(Oe,Me){function De(){this.constructor=Oe}_e(Oe,Me),Oe.prototype=Me===null?Object.create(Me):(De.prototype=Me.prototype,new De)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(2),Pe=Se(67),Ee=function(Oe){function Me(De,Te){var ke=Oe.call(this,De)||this;return ke._writerOptions=Ce.applyDefaults(Te,{format:"map",wellFormed:!1,group:!1,verbose:!1}),ke}return Ae(Me,Oe),Me.prototype.serialize=function(De){var Te=Ce.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,verbose:!1}),ke=new Pe.ObjectWriter(this._builderOptions,Te).serialize(De);return this._convertObject(ke)},Me.prototype._convertObject=function(De){if(Ce.isArray(De)){for(var Te=0;Te<De.length;Te++)De[Te]=this._convertObject(De[Te]);return De}if(Ce.isObject(De)){var ke=new Map;for(var Fe in De)ke.set(Fe,this._convertObject(De[Fe]));return ke}return De},Me}(Se(50).BaseWriter);xe.MapWriter=Ee},function(r,xe,Se){var _e=Se(139),Ae=Se(143);r.exports=_e("Map",function(Ce){return function(){return Ce(this,arguments.length?arguments[0]:void 0)}},Ae)},function(r,xe,Se){var _e=Se(4),Ae=Se(8),Ce=Se(59),Pe=Se(13),Ee=Se(27),Oe=Se(26),Me=Se(134),De=Se(128),Te=Se(63),ke=Se(5),Fe=Se(129),$e=ke("isConcatSpreadable"),Be=Fe>=51||!Ae(function(){var je=[];return je[$e]=!1,je.concat()[0]!==je}),Ie=Te("concat"),Re=function(je){if(!Pe(je))return!1;var Ve=je[$e];return Ve!==void 0?!!Ve:Ce(je)};_e({target:"Array",proto:!0,forced:!Be||!Ie},{concat:function(je){var Ve,He,ze,Ue,We,qe=Ee(this),Ge=De(qe,0),Ye=0;for(Ve=-1,ze=arguments.length;Ve<ze;Ve++)if(Re(We=Ve===-1?qe:arguments[Ve])){if(Ye+(Ue=Oe(We.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(He=0;He<Ue;He++,Ye++)He in We&&Me(Ge,Ye,We[He])}else{if(Ye>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Me(Ge,Ye++,We)}return Ge.length=Ye,Ge}})},function(r,xe,Se){var _e=Se(8);function Ae(Ce,Pe){return RegExp(Ce,Pe)}xe.UNSUPPORTED_Y=_e(function(){var Ce=Ae("a","y");return Ce.lastIndex=2,Ce.exec("abcd")!=null}),xe.BROKEN_CARET=_e(function(){var Ce=Ae("^r","gy");return Ce.lastIndex=2,Ce.exec("str")!=null})},function(r,xe,Se){var _e=Se(223);r.exports=function(Ae){if(_e(Ae))throw TypeError("The method doesn't accept regular expressions");return Ae}},function(r,xe,Se){var _e=Se(13),Ae=Se(42),Ce=Se(5)("match");r.exports=function(Pe){var Ee;return _e(Pe)&&((Ee=Pe[Ce])!==void 0?!!Ee:Ae(Pe)=="RegExp")}},function(r,xe,Se){var _e=Se(5)("match");r.exports=function(Ae){var Ce=/./;try{"/./"[Ae](Ce)}catch{try{return Ce[_e]=!1,"/./"[Ae](Ce)}catch{}}return!1}},function(r,xe,Se){Se(68);var _e=Se(25),Ae=Se(8),Ce=Se(5),Pe=Se(93),Ee=Se(21),Oe=Ce("species"),Me=!Ae(function(){var $e=/./;return $e.exec=function(){var Be=[];return Be.groups={a:"7"},Be},"".replace($e,"$<a>")!=="7"}),De="a".replace(/./,"$0")==="$0",Te=Ce("replace"),ke=!!/./[Te]&&/./[Te]("a","$0")==="",Fe=!Ae(function(){var $e=/(?:)/,Be=$e.exec;$e.exec=function(){return Be.apply(this,arguments)};var Ie="ab".split($e);return Ie.length!==2||Ie[0]!=="a"||Ie[1]!=="b"});r.exports=function($e,Be,Ie,Re){var je=Ce($e),Ve=!Ae(function(){var Ge={};return Ge[je]=function(){return 7},""[$e](Ge)!=7}),He=Ve&&!Ae(function(){var Ge=!1,Ye=/a/;return $e==="split"&&((Ye={}).constructor={},Ye.constructor[Oe]=function(){return Ye},Ye.flags="",Ye[je]=/./[je]),Ye.exec=function(){return Ge=!0,null},Ye[je](""),!Ge});if(!Ve||!He||$e==="replace"&&(!Me||!De||ke)||$e==="split"&&!Fe){var ze=/./[je],Ue=Ie(je,""[$e],function(Ge,Ye,Qe,Je,ri){return Ye.exec===Pe?Ve&&!ri?{done:!0,value:ze.call(Ye,Qe,Je)}:{done:!0,value:Ge.call(Qe,Ye,Je)}:{done:!1}},{REPLACE_KEEPS_$0:De,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ke}),We=Ue[0],qe=Ue[1];_e(String.prototype,$e,We),_e(RegExp.prototype,je,Be==2?function(Ge,Ye){return qe.call(Ge,this,Ye)}:function(Ge){return qe.call(Ge,this)})}Re&&Ee(RegExp.prototype[je],"sham",!0)}},function(r,xe,Se){var _e=Se(137).charAt;r.exports=function(Ae,Ce,Pe){return Ce+(Pe?_e(Ae,Ce).length:1)}},function(r,xe,Se){var _e=Se(42),Ae=Se(93);r.exports=function(Ce,Pe){var Ee=Ce.exec;if(typeof Ee=="function"){var Oe=Ee.call(Ce,Pe);if(typeof Oe!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return Oe}if(_e(Ce)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return Ae.call(Ce,Pe)}},function(r,xe,Se){(function(_e){Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(96);xe.forgivingBase64Encode=function(Ce){return _e.from(Ce).toString("base64")},xe.forgivingBase64Decode=function(Ce){return Ce===""?"":((Ce=Ce.replace(Ae.ASCIIWhiteSpace,"")).length%4==0&&(Ce.endsWith("==")?Ce=Ce.substr(0,Ce.length-2):Ce.endsWith("=")&&(Ce=Ce.substr(0,Ce.length-1))),Ce.length%4==1?null:/[0-9A-Za-z+/]/.test(Ce)?_e.from(Ce,"base64").toString("utf8"):null)}}).call(this,Se(145).Buffer)},function(r,xe,Se){xe.byteLength=function(Te){var ke=Me(Te),Fe=ke[0],$e=ke[1];return 3*(Fe+$e)/4-$e},xe.toByteArray=function(Te){var ke,Fe,$e=Me(Te),Be=$e[0],Ie=$e[1],Re=new Ce(function(He,ze,Ue){return 3*(ze+Ue)/4-Ue}(0,Be,Ie)),je=0,Ve=Ie>0?Be-4:Be;for(Fe=0;Fe<Ve;Fe+=4)ke=Ae[Te.charCodeAt(Fe)]<<18|Ae[Te.charCodeAt(Fe+1)]<<12|Ae[Te.charCodeAt(Fe+2)]<<6|Ae[Te.charCodeAt(Fe+3)],Re[je++]=ke>>16&255,Re[je++]=ke>>8&255,Re[je++]=255&ke;return Ie===2&&(ke=Ae[Te.charCodeAt(Fe)]<<2|Ae[Te.charCodeAt(Fe+1)]>>4,Re[je++]=255&ke),Ie===1&&(ke=Ae[Te.charCodeAt(Fe)]<<10|Ae[Te.charCodeAt(Fe+1)]<<4|Ae[Te.charCodeAt(Fe+2)]>>2,Re[je++]=ke>>8&255,Re[je++]=255&ke),Re},xe.fromByteArray=function(Te){for(var ke,Fe=Te.length,$e=Fe%3,Be=[],Ie=0,Re=Fe-$e;Ie<Re;Ie+=16383)Be.push(De(Te,Ie,Ie+16383>Re?Re:Ie+16383));return $e===1?(ke=Te[Fe-1],Be.push(_e[ke>>2]+_e[ke<<4&63]+"==")):$e===2&&(ke=(Te[Fe-2]<<8)+Te[Fe-1],Be.push(_e[ke>>10]+_e[ke>>4&63]+_e[ke<<2&63]+"=")),Be.join("")};for(var _e=[],Ae=[],Ce=typeof Uint8Array<"u"?Uint8Array:Array,Pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ee=0,Oe=Pe.length;Ee<Oe;++Ee)_e[Ee]=Pe[Ee],Ae[Pe.charCodeAt(Ee)]=Ee;function Me(Te){var ke=Te.length;if(ke%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Fe=Te.indexOf("=");return Fe===-1&&(Fe=ke),[Fe,Fe===ke?0:4-Fe%4]}function De(Te,ke,Fe){for(var $e,Be,Ie=[],Re=ke;Re<Fe;Re+=3)$e=(Te[Re]<<16&16711680)+(Te[Re+1]<<8&65280)+(255&Te[Re+2]),Ie.push(_e[(Be=$e)>>18&63]+_e[Be>>12&63]+_e[Be>>6&63]+_e[63&Be]);return Ie.join("")}Ae[45]=62,Ae[95]=63},function(r,xe){xe.read=function(Se,_e,Ae,Ce,Pe){var Ee,Oe,Me=8*Pe-Ce-1,De=(1<<Me)-1,Te=De>>1,ke=-7,Fe=Ae?Pe-1:0,$e=Ae?-1:1,Be=Se[_e+Fe];for(Fe+=$e,Ee=Be&(1<<-ke)-1,Be>>=-ke,ke+=Me;ke>0;Ee=256*Ee+Se[_e+Fe],Fe+=$e,ke-=8);for(Oe=Ee&(1<<-ke)-1,Ee>>=-ke,ke+=Ce;ke>0;Oe=256*Oe+Se[_e+Fe],Fe+=$e,ke-=8);if(Ee===0)Ee=1-Te;else{if(Ee===De)return Oe?NaN:1/0*(Be?-1:1);Oe+=Math.pow(2,Ce),Ee-=Te}return(Be?-1:1)*Oe*Math.pow(2,Ee-Ce)},xe.write=function(Se,_e,Ae,Ce,Pe,Ee){var Oe,Me,De,Te=8*Ee-Pe-1,ke=(1<<Te)-1,Fe=ke>>1,$e=Pe===23?Math.pow(2,-24)-Math.pow(2,-77):0,Be=Ce?0:Ee-1,Ie=Ce?1:-1,Re=_e<0||_e===0&&1/_e<0?1:0;for(_e=Math.abs(_e),isNaN(_e)||_e===1/0?(Me=isNaN(_e)?1:0,Oe=ke):(Oe=Math.floor(Math.log(_e)/Math.LN2),_e*(De=Math.pow(2,-Oe))<1&&(Oe--,De*=2),(_e+=Oe+Fe>=1?$e/De:$e*Math.pow(2,1-Fe))*De>=2&&(Oe++,De/=2),Oe+Fe>=ke?(Me=0,Oe=ke):Oe+Fe>=1?(Me=(_e*De-1)*Math.pow(2,Pe),Oe+=Fe):(Me=_e*Math.pow(2,Fe-1)*Math.pow(2,Pe),Oe=0));Pe>=8;Se[Ae+Be]=255&Me,Be+=Ie,Me/=256,Pe-=8);for(Oe=Oe<<Pe|Me,Te+=Pe;Te>0;Se[Ae+Be]=255&Oe,Be+=Ie,Oe/=256,Te-=8);Se[Ae+Be-Ie]|=128*Re}},function(r,xe){var Se={}.toString;r.exports=Array.isArray||function(_e){return Se.call(_e)=="[object Array]"}},function(r,xe,Se){var _e=this&&this.__values||function(Pe){var Ee=typeof Symbol=="function"&&Symbol.iterator,Oe=Ee&&Pe[Ee],Me=0;if(Oe)return Oe.call(Pe);if(Pe&&typeof Pe.length=="number")return{next:function(){return Pe&&Me>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[Me++],done:!Pe}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(2);function Ce(Pe){var Ee,Oe;if(Pe===null||Ae.isString(Pe)||Ae.isNumber(Pe))return Pe;if(Ae.isArray(Pe)){var Me=new Array;try{for(var De=_e(Pe),Te=De.next();!Te.done;Te=De.next()){var ke=Te.value;Me.push(Ce(ke))}}catch(Be){Ee={error:Be}}finally{try{Te&&!Te.done&&(Oe=De.return)&&Oe.call(De)}finally{if(Ee)throw Ee.error}}return Me}if(Ae.isObject(Pe)){Me=new Map;for(var Fe in Pe)if(Pe.hasOwnProperty(Fe)){var $e=Pe[Fe];Me.set(Fe,Ce($e))}return Me}return Pe}xe.parseJSONFromBytes=function(Pe){var Ee=Ae.utf8Decode(Pe);return JSON.parse.call(void 0,Ee)},xe.serializeJSONToBytes=function(Pe){var Ee=JSON.stringify.call(void 0,Pe);return Ae.utf8Encode(Ee)},xe.parseJSONIntoInfraValues=function(Pe){return Ce(JSON.parse.call(void 0,Pe))},xe.convertAJSONDerivedJavaScriptValueToAnInfraValue=Ce},function(r,xe,Se){var _e=this&&this.__generator||function(Oe,Me){var De,Te,ke,Fe,$e={label:0,sent:function(){if(1&ke[0])throw ke[1];return ke[1]},trys:[],ops:[]};return Fe={next:Be(0),throw:Be(1),return:Be(2)},typeof Symbol=="function"&&(Fe[Symbol.iterator]=function(){return this}),Fe;function Be(Ie){return function(Re){return function(je){if(De)throw new TypeError("Generator is already executing.");for(;$e;)try{if(De=1,Te&&(ke=2&je[0]?Te.return:je[0]?Te.throw||((ke=Te.return)&&ke.call(Te),0):Te.next)&&!(ke=ke.call(Te,je[1])).done)return ke;switch(Te=0,ke&&(je=[2&je[0],ke.value]),je[0]){case 0:case 1:ke=je;break;case 4:return $e.label++,{value:je[1],done:!1};case 5:$e.label++,Te=je[1],je=[0];continue;case 7:je=$e.ops.pop(),$e.trys.pop();continue;default:if(ke=$e.trys,!((ke=ke.length>0&&ke[ke.length-1])||je[0]!==6&&je[0]!==2)){$e=0;continue}if(je[0]===3&&(!ke||je[1]>ke[0]&&je[1]<ke[3])){$e.label=je[1];break}if(je[0]===6&&$e.label<ke[1]){$e.label=ke[1],ke=je;break}if(ke&&$e.label<ke[2]){$e.label=ke[2],$e.ops.push(je);break}ke[2]&&$e.ops.pop(),$e.trys.pop();continue}je=Me.call(Oe,$e)}catch(Ve){je=[6,Ve],Te=0}finally{De=ke=0}if(5&je[0])throw je[1];return{value:je[0]?je[1]:void 0,done:!0}}([Ie,Re])}}},Ae=this&&this.__read||function(Oe,Me){var De=typeof Symbol=="function"&&Oe[Symbol.iterator];if(!De)return Oe;var Te,ke,Fe=De.call(Oe),$e=[];try{for(;(Me===void 0||Me-- >0)&&!(Te=Fe.next()).done;)$e.push(Te.value)}catch(Be){ke={error:Be}}finally{try{Te&&!Te.done&&(De=Fe.return)&&De.call(Fe)}finally{if(ke)throw ke.error}}return $e},Ce=this&&this.__spread||function(){for(var Oe=[],Me=0;Me<arguments.length;Me++)Oe=Oe.concat(Ae(arguments[Me]));return Oe},Pe=this&&this.__values||function(Oe){var Me=typeof Symbol=="function"&&Symbol.iterator,De=Me&&Oe[Me],Te=0;if(De)return De.call(Oe);if(Oe&&typeof Oe.length=="number")return{next:function(){return Oe&&Te>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[Te++],done:!Oe}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ee=Se(2);xe.append=function(Oe,Me){Oe.push(Me)},xe.extend=function(Oe,Me){Oe.push.apply(Oe,Ce(Me))},xe.prepend=function(Oe,Me){Oe.unshift(Me)},xe.replace=function(Oe,Me,De){var Te,ke,Fe=0;try{for(var $e=Pe(Oe),Be=$e.next();!Be.done;Be=$e.next()){var Ie=Be.value;if(Ee.isFunction(Me))Me.call(null,Ie)&&(Oe[Fe]=De);else if(Ie===Me)return void(Oe[Fe]=De);Fe++}}catch(Re){Te={error:Re}}finally{try{Be&&!Be.done&&(ke=$e.return)&&ke.call($e)}finally{if(Te)throw Te.error}}},xe.insert=function(Oe,Me,De){Oe.splice(De,0,Me)},xe.remove=function(Oe,Me){for(var De=Oe.length;De--;){var Te=Oe[De];if(Ee.isFunction(Me))Me.call(null,Te)&&Oe.splice(De,1);else if(Te===Me)return void Oe.splice(De,1)}},xe.empty=function(Oe){Oe.length=0},xe.contains=function(Oe,Me){var De,Te;try{for(var ke=Pe(Oe),Fe=ke.next();!Fe.done;Fe=ke.next()){var $e=Fe.value;if(Ee.isFunction(Me)){if(Me.call(null,$e))return!0}else if($e===Me)return!0}}catch(Be){De={error:Be}}finally{try{Fe&&!Fe.done&&(Te=ke.return)&&Te.call(ke)}finally{if(De)throw De.error}}return!1},xe.size=function(Oe,Me){var De,Te;if(Me===void 0)return Oe.length;var ke=0;try{for(var Fe=Pe(Oe),$e=Fe.next();!$e.done;$e=Fe.next()){var Be=$e.value;Me.call(null,Be)&&ke++}}catch(Ie){De={error:Ie}}finally{try{$e&&!$e.done&&(Te=Fe.return)&&Te.call(Fe)}finally{if(De)throw De.error}}return ke},xe.isEmpty=function(Oe){return Oe.length===0},xe.forEach=function(Oe,Me){var De,Te,ke,Fe,$e,Be;return _e(this,function(Ie){switch(Ie.label){case 0:return Me!==void 0?[3,2]:[5,Pe(Oe)];case 1:return Ie.sent(),[3,9];case 2:Ie.trys.push([2,7,8,9]),De=Pe(Oe),Te=De.next(),Ie.label=3;case 3:return Te.done?[3,6]:(ke=Te.value,Me.call(null,ke)?[4,ke]:[3,5]);case 4:Ie.sent(),Ie.label=5;case 5:return Te=De.next(),[3,3];case 6:return[3,9];case 7:return Fe=Ie.sent(),$e={error:Fe},[3,9];case 8:try{Te&&!Te.done&&(Be=De.return)&&Be.call(De)}finally{if($e)throw $e.error}return[7];case 9:return[2]}})},xe.clone=function(Oe){return new(Array.bind.apply(Array,Ce([void 0],Oe)))},xe.sortInAscendingOrder=function(Oe,Me){return Oe.sort(function(De,Te){return Me.call(null,De,Te)?-1:1})},xe.sortInDescendingOrder=function(Oe,Me){return Oe.sort(function(De,Te){return Me.call(null,De,Te)?1:-1})}},function(r,xe,Se){var _e=this&&this.__generator||function(Oe,Me){var De,Te,ke,Fe,$e={label:0,sent:function(){if(1&ke[0])throw ke[1];return ke[1]},trys:[],ops:[]};return Fe={next:Be(0),throw:Be(1),return:Be(2)},typeof Symbol=="function"&&(Fe[Symbol.iterator]=function(){return this}),Fe;function Be(Ie){return function(Re){return function(je){if(De)throw new TypeError("Generator is already executing.");for(;$e;)try{if(De=1,Te&&(ke=2&je[0]?Te.return:je[0]?Te.throw||((ke=Te.return)&&ke.call(Te),0):Te.next)&&!(ke=ke.call(Te,je[1])).done)return ke;switch(Te=0,ke&&(je=[2&je[0],ke.value]),je[0]){case 0:case 1:ke=je;break;case 4:return $e.label++,{value:je[1],done:!1};case 5:$e.label++,Te=je[1],je=[0];continue;case 7:je=$e.ops.pop(),$e.trys.pop();continue;default:if(ke=$e.trys,!((ke=ke.length>0&&ke[ke.length-1])||je[0]!==6&&je[0]!==2)){$e=0;continue}if(je[0]===3&&(!ke||je[1]>ke[0]&&je[1]<ke[3])){$e.label=je[1];break}if(je[0]===6&&$e.label<ke[1]){$e.label=ke[1],ke=je;break}if(ke&&$e.label<ke[2]){$e.label=ke[2],$e.ops.push(je);break}ke[2]&&$e.ops.pop(),$e.trys.pop();continue}je=Me.call(Oe,$e)}catch(Ve){je=[6,Ve],Te=0}finally{De=ke=0}if(5&je[0])throw je[1];return{value:je[0]?je[1]:void 0,done:!0}}([Ie,Re])}}},Ae=this&&this.__values||function(Oe){var Me=typeof Symbol=="function"&&Symbol.iterator,De=Me&&Oe[Me],Te=0;if(De)return De.call(Oe);if(Oe&&typeof Oe.length=="number")return{next:function(){return Oe&&Te>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[Te++],done:!Oe}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")},Ce=this&&this.__read||function(Oe,Me){var De=typeof Symbol=="function"&&Oe[Symbol.iterator];if(!De)return Oe;var Te,ke,Fe=De.call(Oe),$e=[];try{for(;(Me===void 0||Me-- >0)&&!(Te=Fe.next()).done;)$e.push(Te.value)}catch(Be){ke={error:Be}}finally{try{Te&&!Te.done&&(De=Fe.return)&&De.call(Fe)}finally{if(ke)throw ke.error}}return $e},Pe=this&&this.__spread||function(){for(var Oe=[],Me=0;Me<arguments.length;Me++)Oe=Oe.concat(Ce(arguments[Me]));return Oe};Object.defineProperty(xe,"__esModule",{value:!0});var Ee=Se(2);xe.get=function(Oe,Me){return Oe.get(Me)},xe.set=function(Oe,Me,De){Oe.set(Me,De)},xe.remove=function(Oe,Me){var De,Te,ke,Fe;if(Ee.isFunction(Me)){var $e=[];try{for(var Be=Ae(Oe),Ie=Be.next();!Ie.done;Ie=Be.next()){var Re=Ie.value;Me.call(null,Re)&&$e.push(Re[0])}}catch(ze){De={error:ze}}finally{try{Ie&&!Ie.done&&(Te=Be.return)&&Te.call(Be)}finally{if(De)throw De.error}}try{for(var je=Ae($e),Ve=je.next();!Ve.done;Ve=je.next()){var He=Ve.value;Oe.delete(He)}}catch(ze){ke={error:ze}}finally{try{Ve&&!Ve.done&&(Fe=je.return)&&Fe.call(je)}finally{if(ke)throw ke.error}}}else Oe.delete(Me)},xe.contains=function(Oe,Me){var De,Te;if(Ee.isFunction(Me)){try{for(var ke=Ae(Oe),Fe=ke.next();!Fe.done;Fe=ke.next()){var $e=Fe.value;if(Me.call(null,$e))return!0}}catch(Be){De={error:Be}}finally{try{Fe&&!Fe.done&&(Te=ke.return)&&Te.call(ke)}finally{if(De)throw De.error}}return!1}return Oe.has(Me)},xe.keys=function(Oe){return new Set(Oe.keys())},xe.values=function(Oe){return Pe(Oe.values())},xe.size=function(Oe,Me){var De,Te;if(Me===void 0)return Oe.size;var ke=0;try{for(var Fe=Ae(Oe),$e=Fe.next();!$e.done;$e=Fe.next()){var Be=$e.value;Me.call(null,Be)&&ke++}}catch(Ie){De={error:Ie}}finally{try{$e&&!$e.done&&(Te=Fe.return)&&Te.call(Fe)}finally{if(De)throw De.error}}return ke},xe.isEmpty=function(Oe){return Oe.size===0},xe.forEach=function(Oe,Me){var De,Te,ke,Fe,$e,Be;return _e(this,function(Ie){switch(Ie.label){case 0:return Me!==void 0?[3,2]:[5,Ae(Oe)];case 1:return Ie.sent(),[3,9];case 2:Ie.trys.push([2,7,8,9]),De=Ae(Oe),Te=De.next(),Ie.label=3;case 3:return Te.done?[3,6]:(ke=Te.value,Me.call(null,ke)?[4,ke]:[3,5]);case 4:Ie.sent(),Ie.label=5;case 5:return Te=De.next(),[3,3];case 6:return[3,9];case 7:return Fe=Ie.sent(),$e={error:Fe},[3,9];case 8:try{Te&&!Te.done&&(Be=De.return)&&Be.call(De)}finally{if($e)throw $e.error}return[7];case 9:return[2]}})},xe.clone=function(Oe){return new Map(Oe)},xe.sortInAscendingOrder=function(Oe,Me){var De=new(Array.bind.apply(Array,Pe([void 0],Oe)));return De.sort(function(Te,ke){return Me.call(null,Te,ke)?-1:1}),new Map(De)},xe.sortInDescendingOrder=function(Oe,Me){var De=new(Array.bind.apply(Array,Pe([void 0],Oe)));return De.sort(function(Te,ke){return Me.call(null,Te,ke)?1:-1}),new Map(De)}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0}),xe.HTML="http://www.w3.org/1999/xhtml",xe.XML="http://www.w3.org/XML/1998/namespace",xe.XMLNS="http://www.w3.org/2000/xmlns/",xe.MathML="http://www.w3.org/1998/Math/MathML",xe.SVG="http://www.w3.org/2000/svg",xe.XLink="http://www.w3.org/1999/xlink"},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0}),xe.enqueue=function(_e,Ae){_e.push(Ae)},xe.dequeue=function(_e){return _e.shift()||null}},function(r,xe,Se){var _e=this&&this.__generator||function(Me,De){var Te,ke,Fe,$e,Be={label:0,sent:function(){if(1&Fe[0])throw Fe[1];return Fe[1]},trys:[],ops:[]};return $e={next:Ie(0),throw:Ie(1),return:Ie(2)},typeof Symbol=="function"&&($e[Symbol.iterator]=function(){return this}),$e;function Ie(Re){return function(je){return function(Ve){if(Te)throw new TypeError("Generator is already executing.");for(;Be;)try{if(Te=1,ke&&(Fe=2&Ve[0]?ke.return:Ve[0]?ke.throw||((Fe=ke.return)&&Fe.call(ke),0):ke.next)&&!(Fe=Fe.call(ke,Ve[1])).done)return Fe;switch(ke=0,Fe&&(Ve=[2&Ve[0],Fe.value]),Ve[0]){case 0:case 1:Fe=Ve;break;case 4:return Be.label++,{value:Ve[1],done:!1};case 5:Be.label++,ke=Ve[1],Ve=[0];continue;case 7:Ve=Be.ops.pop(),Be.trys.pop();continue;default:if(Fe=Be.trys,!((Fe=Fe.length>0&&Fe[Fe.length-1])||Ve[0]!==6&&Ve[0]!==2)){Be=0;continue}if(Ve[0]===3&&(!Fe||Ve[1]>Fe[0]&&Ve[1]<Fe[3])){Be.label=Ve[1];break}if(Ve[0]===6&&Be.label<Fe[1]){Be.label=Fe[1],Fe=Ve;break}if(Fe&&Be.label<Fe[2]){Be.label=Fe[2],Be.ops.push(Ve);break}Fe[2]&&Be.ops.pop(),Be.trys.pop();continue}Ve=De.call(Me,Be)}catch(He){Ve=[6,He],ke=0}finally{Te=Fe=0}if(5&Ve[0])throw Ve[1];return{value:Ve[0]?Ve[1]:void 0,done:!0}}([Re,je])}}},Ae=this&&this.__values||function(Me){var De=typeof Symbol=="function"&&Symbol.iterator,Te=De&&Me[De],ke=0;if(Te)return Te.call(Me);if(Me&&typeof Me.length=="number")return{next:function(){return Me&&ke>=Me.length&&(Me=void 0),{value:Me&&Me[ke++],done:!Me}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")},Ce=this&&this.__read||function(Me,De){var Te=typeof Symbol=="function"&&Me[Symbol.iterator];if(!Te)return Me;var ke,Fe,$e=Te.call(Me),Be=[];try{for(;(De===void 0||De-- >0)&&!(ke=$e.next()).done;)Be.push(ke.value)}catch(Ie){Fe={error:Ie}}finally{try{ke&&!ke.done&&(Te=$e.return)&&Te.call($e)}finally{if(Fe)throw Fe.error}}return Be},Pe=this&&this.__spread||function(){for(var Me=[],De=0;De<arguments.length;De++)Me=Me.concat(Ce(arguments[De]));return Me};Object.defineProperty(xe,"__esModule",{value:!0});var Ee=Se(2);function Oe(Me,De){var Te,ke;try{for(var Fe=Ae(Me),$e=Fe.next();!$e.done;$e=Fe.next()){var Be=$e.value;if(!De.has(Be))return!1}}catch(Ie){Te={error:Ie}}finally{try{$e&&!$e.done&&(ke=Fe.return)&&ke.call(Fe)}finally{if(Te)throw Te.error}}return!0}xe.append=function(Me,De){Me.add(De)},xe.extend=function(Me,De){De.forEach(Me.add,Me)},xe.prepend=function(Me,De){var Te=new Set(Me);Me.clear(),Me.add(De),Te.forEach(Me.add,Me)},xe.replace=function(Me,De,Te){var ke,Fe,$e=new Set;try{for(var Be=Ae(Me),Ie=Be.next();!Ie.done;Ie=Be.next()){var Re=Ie.value;Ee.isFunction(De)?De.call(null,Re)?$e.add(Te):$e.add(Re):Re===De?$e.add(Te):$e.add(Re)}}catch(je){ke={error:je}}finally{try{Ie&&!Ie.done&&(Fe=Be.return)&&Fe.call(Be)}finally{if(ke)throw ke.error}}Me.clear(),$e.forEach(Me.add,Me)},xe.insert=function(Me,De,Te){var ke,Fe,$e=new Set,Be=0;try{for(var Ie=Ae(Me),Re=Ie.next();!Re.done;Re=Ie.next()){var je=Re.value;Be===Te&&$e.add(De),$e.add(je),Be++}}catch(Ve){ke={error:Ve}}finally{try{Re&&!Re.done&&(Fe=Ie.return)&&Fe.call(Ie)}finally{if(ke)throw ke.error}}Me.clear(),$e.forEach(Me.add,Me)},xe.remove=function(Me,De){var Te,ke,Fe,$e;if(Ee.isFunction(De)){var Be=[];try{for(var Ie=Ae(Me),Re=Ie.next();!Re.done;Re=Ie.next()){var je=Re.value;De.call(null,je)&&Be.push(je)}}catch(Ue){Te={error:Ue}}finally{try{Re&&!Re.done&&(ke=Ie.return)&&ke.call(Ie)}finally{if(Te)throw Te.error}}try{for(var Ve=Ae(Be),He=Ve.next();!He.done;He=Ve.next()){var ze=He.value;Me.delete(ze)}}catch(Ue){Fe={error:Ue}}finally{try{He&&!He.done&&($e=Ve.return)&&$e.call(Ve)}finally{if(Fe)throw Fe.error}}}else Me.delete(De)},xe.empty=function(Me){Me.clear()},xe.contains=function(Me,De){var Te,ke;if(!Ee.isFunction(De))return Me.has(De);try{for(var Fe=Ae(Me),$e=Fe.next();!$e.done;$e=Fe.next()){var Be=$e.value;if(De.call(null,Be))return!0}}catch(Ie){Te={error:Ie}}finally{try{$e&&!$e.done&&(ke=Fe.return)&&ke.call(Fe)}finally{if(Te)throw Te.error}}return!1},xe.size=function(Me,De){var Te,ke;if(De===void 0)return Me.size;var Fe=0;try{for(var $e=Ae(Me),Be=$e.next();!Be.done;Be=$e.next()){var Ie=Be.value;De.call(null,Ie)&&Fe++}}catch(Re){Te={error:Re}}finally{try{Be&&!Be.done&&(ke=$e.return)&&ke.call($e)}finally{if(Te)throw Te.error}}return Fe},xe.isEmpty=function(Me){return Me.size===0},xe.forEach=function(Me,De){var Te,ke,Fe,$e,Be,Ie;return _e(this,function(Re){switch(Re.label){case 0:return De!==void 0?[3,2]:[5,Ae(Me)];case 1:return Re.sent(),[3,9];case 2:Re.trys.push([2,7,8,9]),Te=Ae(Me),ke=Te.next(),Re.label=3;case 3:return ke.done?[3,6]:(Fe=ke.value,De.call(null,Fe)?[4,Fe]:[3,5]);case 4:Re.sent(),Re.label=5;case 5:return ke=Te.next(),[3,3];case 6:return[3,9];case 7:return $e=Re.sent(),Be={error:$e},[3,9];case 8:try{ke&&!ke.done&&(Ie=Te.return)&&Ie.call(Te)}finally{if(Be)throw Be.error}return[7];case 9:return[2]}})},xe.clone=function(Me){return new Set(Me)},xe.sortInAscendingOrder=function(Me,De){var Te=new(Array.bind.apply(Array,Pe([void 0],Me)));return Te.sort(function(ke,Fe){return De.call(null,ke,Fe)?-1:1}),new Set(Te)},xe.sortInDescendingOrder=function(Me,De){var Te=new(Array.bind.apply(Array,Pe([void 0],Me)));return Te.sort(function(ke,Fe){return De.call(null,ke,Fe)?1:-1}),new Set(Te)},xe.isSubsetOf=Oe,xe.isSupersetOf=function(Me,De){return Oe(De,Me)},xe.intersection=function(Me,De){var Te,ke,Fe=new Set;try{for(var $e=Ae(Me),Be=$e.next();!Be.done;Be=$e.next()){var Ie=Be.value;De.has(Ie)&&Fe.add(Ie)}}catch(Re){Te={error:Re}}finally{try{Be&&!Be.done&&(ke=$e.return)&&ke.call($e)}finally{if(Te)throw Te.error}}return Fe},xe.union=function(Me,De){var Te=new Set(Me);return De.forEach(Te.add,Te),Te},xe.range=function(Me,De){for(var Te=new Set,ke=Me;ke<=De;ke++)Te.add(ke);return Te}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0}),xe.push=function(_e,Ae){_e.push(Ae)},xe.pop=function(_e){return _e.pop()||null}},function(r,xe,Se){var _e=this&&this.__values||function(Be){var Ie=typeof Symbol=="function"&&Symbol.iterator,Re=Ie&&Be[Ie],je=0;if(Re)return Re.call(Be);if(Be&&typeof Be.length=="number")return{next:function(){return Be&&je>=Be.length&&(Be=void 0),{value:Be&&Be[je++],done:!Be}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(96),Ce=Se(147),Pe=Se(146),Ee=Se(2);function Oe(Be,Ie){for(var Re=0;;){var je=Re<Be.length?Be.charCodeAt(Re):null,Ve=Re<Ie.length?Ie.charCodeAt(Re):null;if(je===null)return!0;if(je!==Ve)return!1;Re++}}function Me(Be){var Ie,Re,je=Array.from(Be),Ve=new Uint8Array(je.length),He=0;try{for(var ze=_e(Be),Ue=ze.next();!Ue.done;Ue=ze.next()){var We=Ue.value.codePointAt(0);console.assert(We!==void 0&&We<=255,"isomorphicEncode requires string bytes to be less than or equal to 0x00FF."),We!==void 0&&We<=255&&(Ve[He++]=We)}}catch(qe){Ie={error:qe}}finally{try{Ue&&!Ue.done&&(Re=ze.return)&&Re.call(ze)}finally{if(Ie)throw Ie.error}}return Ve}function De(Be){return/^[\u0000-\u007F]*$/.test(Be)}function Te(Be){var Ie,Re,je="";try{for(var Ve=_e(Be),He=Ve.next();!He.done;He=Ve.next()){var ze=He.value,Ue=ze.codePointAt(0);je+=Ue!==void 0&&Ue>=65&&Ue<=90?String.fromCodePoint(Ue+32):ze}}catch(We){Ie={error:We}}finally{try{He&&!He.done&&(Re=Ve.return)&&Re.call(Ve)}finally{if(Ie)throw Ie.error}}return je}function ke(Be){return Be.replace(/^[\t\n\f\r ]+/,"").replace(/[\t\n\f\r ]+$/,"")}function Fe(Be,Ie,Re){if(!Ee.isArray(Ie))return Fe(Be,Array.from(Ie),Re);for(var je="";Re.position<Ie.length&&Be.call(null,Ie[Re.position]);)je+=Ie[Re.position],Re.position++;return je}function $e(Be,Ie){Fe(function(Re){return Ae.ASCIIWhiteSpace.test(Re)},Be,Ie)}xe.isCodeUnitPrefix=Oe,xe.isCodeUnitLessThan=function(Be,Ie){if(Oe(Ie,Be))return!1;if(Oe(Be,Ie))return!0;for(var Re=0;Re<Math.min(Be.length,Ie.length);Re++){var je=Be.charCodeAt(Re),Ve=Ie.charCodeAt(Re);if(je!==Ve)return je<Ve}return!1},xe.isomorphicEncode=Me,xe.isASCIIString=De,xe.asciiLowercase=Te,xe.asciiUppercase=function(Be){var Ie,Re,je="";try{for(var Ve=_e(Be),He=Ve.next();!He.done;He=Ve.next()){var ze=He.value,Ue=ze.codePointAt(0);je+=Ue!==void 0&&Ue>=97&&Ue<=122?String.fromCodePoint(Ue-32):ze}}catch(We){Ie={error:We}}finally{try{He&&!He.done&&(Re=Ve.return)&&Re.call(Ve)}finally{if(Ie)throw Ie.error}}return je},xe.asciiCaseInsensitiveMatch=function(Be,Ie){return Te(Be)===Te(Ie)},xe.asciiEncode=function(Be){return console.assert(De(Be),"asciiEncode requires an ASCII string."),Me(Be)},xe.asciiDecode=function(Be){var Ie,Re;try{for(var je=_e(Be),Ve=je.next();!Ve.done;Ve=je.next()){var He=Ve.value;console.assert(Pe.isASCIIByte(He),"asciiDecode requires an ASCII byte sequence.")}}catch(ze){Ie={error:ze}}finally{try{Ve&&!Ve.done&&(Re=je.return)&&Re.call(je)}finally{if(Ie)throw Ie.error}}return Ce.isomorphicDecode(Be)},xe.stripNewlines=function(Be){return Be.replace(/[\n\r]/g,"")},xe.normalizeNewlines=function(Be){return Be.replace(/\r\n/g,`
`).replace(/\r/g,`
`)},xe.stripLeadingAndTrailingASCIIWhitespace=ke,xe.stripAndCollapseASCIIWhitespace=function(Be){return ke(Be.replace(/[\t\n\f\r ]{2,}/g," "))},xe.collectASequenceOfCodePoints=Fe,xe.skipASCIIWhitespace=$e,xe.strictlySplit=function Be(Ie,Re){if(!Ee.isArray(Ie))return Be(Array.from(Ie),Re);var je={position:0},Ve=[],He=Fe(function(ze){return Re!==ze},Ie,je);for(Ve.push(He);je.position<Ie.length;)console.assert(Ie[je.position]===Re,"strictlySplit found no delimiter in input string."),je.position++,He=Fe(function(ze){return Re!==ze},Ie,je),Ve.push(He);return Ve},xe.splitAStringOnASCIIWhitespace=function Be(Ie){if(!Ee.isArray(Ie))return Be(Array.from(Ie));var Re={position:0},je=[];for($e(Ie,Re);Re.position<Ie.length;){var Ve=Fe(function(He){return!Ae.ASCIIWhiteSpace.test(He)},Ie,Re);je.push(Ve),$e(Ie,Re)}return je},xe.splitAStringOnCommas=function Be(Ie){if(!Ee.isArray(Ie))return Be(Array.from(Ie));for(var Re={position:0},je=[];Re.position<Ie.length;){var Ve=Fe(function(He){return He!==","},Ie,Re);je.push(ke(Ve)),Re.position<Ie.length&&(console.assert(Ie[Re.position]===",","splitAStringOnCommas found no delimiter in input string."),Re.position++)}return je},xe.concatenate=function(Be,Ie){return Ie===void 0&&(Ie=""),Be.length===0?"":Be.join(Ie)}},function(r,xe,Se){var _e=this&&this.__values||function(Ce){var Pe=typeof Symbol=="function"&&Symbol.iterator,Ee=Pe&&Ce[Pe],Oe=0;if(Ee)return Ee.call(Ce);if(Ce&&typeof Ce.length=="number")return{next:function(){return Ce&&Oe>=Ce.length&&(Ce=void 0),{value:Ce&&Ce[Oe++],done:!Ce}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(97);xe.abort_add=function(Ce,Pe){Pe._abortedFlag||Pe._abortAlgorithms.add(Ce)},xe.abort_remove=function(Ce,Pe){Pe._abortAlgorithms.delete(Ce)},xe.abort_signalAbort=function(Ce){var Pe,Ee;if(!Ce._abortedFlag){Ce._abortedFlag=!0;try{for(var Oe=_e(Ce._abortAlgorithms),Me=Oe.next();!Me.done;Me=Oe.next())Me.value.call(Ce)}catch(De){Pe={error:De}}finally{try{Me&&!Me.done&&(Ee=Oe.return)&&Ee.call(Oe)}finally{if(Pe)throw Pe.error}}Ce._abortAlgorithms.clear(),Ae.event_fireAnEvent("abort",Ce)}}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(150),Ae=function(){function Ce(){}return Ce.asNode=function(Pe){if(_e.Guard.isNode(Pe))return Pe;throw new Error("Invalid object. Node expected.")},Ce}();xe.Cast=Ae},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=function(){function Ce(){}return Object.defineProperty(Ce.prototype,"size",{get:function(){return 0},enumerable:!0,configurable:!0}),Ce.prototype.add=function(Pe){throw new Error("Cannot add to an empty set.")},Ce.prototype.clear=function(){},Ce.prototype.delete=function(Pe){return!1},Ce.prototype.forEach=function(Pe,Ee){},Ce.prototype.has=function(Pe){return!1},Ce.prototype[Symbol.iterator]=function(){return new Ae},Ce.prototype.entries=function(){return new Ae},Ce.prototype.keys=function(){return new Ae},Ce.prototype.values=function(){return new Ae},Object.defineProperty(Ce.prototype,Symbol.toStringTag,{get:function(){return"EmptySet"},enumerable:!0,configurable:!0}),Ce}();xe.EmptySet=_e;var Ae=function(){function Ce(){}return Ce.prototype[Symbol.iterator]=function(){return this},Ce.prototype.next=function(){return{done:!0,value:null}},Ce}()},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0}),function(_e){_e[_e.SchemeStart=0]="SchemeStart",_e[_e.Scheme=1]="Scheme",_e[_e.NoScheme=2]="NoScheme",_e[_e.SpecialRelativeOrAuthority=3]="SpecialRelativeOrAuthority",_e[_e.PathOrAuthority=4]="PathOrAuthority",_e[_e.Relative=5]="Relative",_e[_e.RelativeSlash=6]="RelativeSlash",_e[_e.SpecialAuthoritySlashes=7]="SpecialAuthoritySlashes",_e[_e.SpecialAuthorityIgnoreSlashes=8]="SpecialAuthorityIgnoreSlashes",_e[_e.Authority=9]="Authority",_e[_e.Host=10]="Host",_e[_e.Hostname=11]="Hostname",_e[_e.Port=12]="Port",_e[_e.File=13]="File",_e[_e.FileSlash=14]="FileSlash",_e[_e.FileHost=15]="FileHost",_e[_e.PathStart=16]="PathStart",_e[_e.Path=17]="Path",_e[_e.CannotBeABaseURLPath=18]="CannotBeABaseURLPath",_e[_e.Query=19]="Query",_e[_e.Fragment=20]="Fragment"}(xe.ParserState||(xe.ParserState={})),xe.OpaqueOrigin=["","",null,null]},function(r,xe,Se){var _e=Se(245),Ae=Se(247);function Ce(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}xe.parse=Ve,xe.resolve=function(He,ze){return Ve(He,!1,!0).resolve(ze)},xe.resolveObject=function(He,ze){return He?Ve(He,!1,!0).resolveObject(ze):ze},xe.format=function(He){return Ae.isString(He)&&(He=Ve(He)),He instanceof Ce?He.format():Ce.prototype.format.call(He)},xe.Url=Ce;var Pe=/^([a-z0-9.+-]+:)/i,Ee=/:[0-9]*$/,Oe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Me=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),De=["'"].concat(Me),Te=["%","/","?",";","#"].concat(De),ke=["/","?","#"],Fe=/^[+a-z0-9A-Z_-]{0,63}$/,$e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Be={javascript:!0,"javascript:":!0},Ie={javascript:!0,"javascript:":!0},Re={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},je=Se(248);function Ve(He,ze,Ue){if(He&&Ae.isObject(He)&&He instanceof Ce)return He;var We=new Ce;return We.parse(He,ze,Ue),We}Ce.prototype.parse=function(He,ze,Ue){if(!Ae.isString(He))throw new TypeError("Parameter 'url' must be a string, not "+typeof He);var We=He.indexOf("?"),qe=We!==-1&&We<He.indexOf("#")?"?":"#",Ge=He.split(qe);Ge[0]=Ge[0].replace(/\\/g,"/");var Ye=He=Ge.join(qe);if(Ye=Ye.trim(),!Ue&&He.split("#").length===1){var Qe=Oe.exec(Ye);if(Qe)return this.path=Ye,this.href=Ye,this.pathname=Qe[1],Qe[2]?(this.search=Qe[2],this.query=ze?je.parse(this.search.substr(1)):this.search.substr(1)):ze&&(this.search="",this.query={}),this}var Je=Pe.exec(Ye);if(Je){var ri=(Je=Je[0]).toLowerCase();this.protocol=ri,Ye=Ye.substr(Je.length)}if(Ue||Je||Ye.match(/^\/\/[^@\/]+@[^@\/]+/)){var hi=Ye.substr(0,2)==="//";!hi||Je&&Ie[Je]||(Ye=Ye.substr(2),this.slashes=!0)}if(!Ie[Je]&&(hi||Je&&!Re[Je])){for(var pi,ni,di=-1,fi=0;fi<ke.length;fi++)(Pi=Ye.indexOf(ke[fi]))!==-1&&(di===-1||Pi<di)&&(di=Pi);for((ni=di===-1?Ye.lastIndexOf("@"):Ye.lastIndexOf("@",di))!==-1&&(pi=Ye.slice(0,ni),Ye=Ye.slice(ni+1),this.auth=decodeURIComponent(pi)),di=-1,fi=0;fi<Te.length;fi++){var Pi;(Pi=Ye.indexOf(Te[fi]))!==-1&&(di===-1||Pi<di)&&(di=Pi)}di===-1&&(di=Ye.length),this.host=Ye.slice(0,di),Ye=Ye.slice(di),this.parseHost(),this.hostname=this.hostname||"";var ci=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ci)for(var xi=this.hostname.split(/\./),yi=(fi=0,xi.length);fi<yi;fi++){var gi=xi[fi];if(gi&&!gi.match(Fe)){for(var Ai="",Mi=0,Fi=gi.length;Mi<Fi;Mi++)gi.charCodeAt(Mi)>127?Ai+="x":Ai+=gi[Mi];if(!Ai.match(Fe)){var Di=xi.slice(0,fi),oi=xi.slice(fi+1),Ke=gi.match($e);Ke&&(Di.push(Ke[1]),oi.unshift(Ke[2])),oi.length&&(Ye="/"+oi.join(".")+Ye),this.hostname=Di.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),ci||(this.hostname=_e.toASCII(this.hostname));var St=this.port?":"+this.port:"",ei=this.hostname||"";this.host=ei+St,this.href+=this.host,ci&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Ye[0]!=="/"&&(Ye="/"+Ye))}if(!Be[ri])for(fi=0,yi=De.length;fi<yi;fi++){var ui=De[fi];if(Ye.indexOf(ui)!==-1){var ai=encodeURIComponent(ui);ai===ui&&(ai=escape(ui)),Ye=Ye.split(ui).join(ai)}}var ii=Ye.indexOf("#");ii!==-1&&(this.hash=Ye.substr(ii),Ye=Ye.slice(0,ii));var Ci=Ye.indexOf("?");if(Ci!==-1?(this.search=Ye.substr(Ci),this.query=Ye.substr(Ci+1),ze&&(this.query=je.parse(this.query)),Ye=Ye.slice(0,Ci)):ze&&(this.search="",this.query={}),Ye&&(this.pathname=Ye),Re[ri]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){St=this.pathname||"";var ki=this.search||"";this.path=St+ki}return this.href=this.format(),this},Ce.prototype.format=function(){var He=this.auth||"";He&&(He=(He=encodeURIComponent(He)).replace(/%3A/i,":"),He+="@");var ze=this.protocol||"",Ue=this.pathname||"",We=this.hash||"",qe=!1,Ge="";this.host?qe=He+this.host:this.hostname&&(qe=He+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(qe+=":"+this.port)),this.query&&Ae.isObject(this.query)&&Object.keys(this.query).length&&(Ge=je.stringify(this.query));var Ye=this.search||Ge&&"?"+Ge||"";return ze&&ze.substr(-1)!==":"&&(ze+=":"),this.slashes||(!ze||Re[ze])&&qe!==!1?(qe="//"+(qe||""),Ue&&Ue.charAt(0)!=="/"&&(Ue="/"+Ue)):qe||(qe=""),We&&We.charAt(0)!=="#"&&(We="#"+We),Ye&&Ye.charAt(0)!=="?"&&(Ye="?"+Ye),ze+qe+(Ue=Ue.replace(/[?#]/g,function(Qe){return encodeURIComponent(Qe)}))+(Ye=Ye.replace("#","%23"))+We},Ce.prototype.resolve=function(He){return this.resolveObject(Ve(He,!1,!0)).format()},Ce.prototype.resolveObject=function(He){if(Ae.isString(He)){var ze=new Ce;ze.parse(He,!1,!0),He=ze}for(var Ue=new Ce,We=Object.keys(this),qe=0;qe<We.length;qe++){var Ge=We[qe];Ue[Ge]=this[Ge]}if(Ue.hash=He.hash,He.href==="")return Ue.href=Ue.format(),Ue;if(He.slashes&&!He.protocol){for(var Ye=Object.keys(He),Qe=0;Qe<Ye.length;Qe++){var Je=Ye[Qe];Je!=="protocol"&&(Ue[Je]=He[Je])}return Re[Ue.protocol]&&Ue.hostname&&!Ue.pathname&&(Ue.path=Ue.pathname="/"),Ue.href=Ue.format(),Ue}if(He.protocol&&He.protocol!==Ue.protocol){if(!Re[He.protocol]){for(var ri=Object.keys(He),hi=0;hi<ri.length;hi++){var pi=ri[hi];Ue[pi]=He[pi]}return Ue.href=Ue.format(),Ue}if(Ue.protocol=He.protocol,He.host||Ie[He.protocol])Ue.pathname=He.pathname;else{for(var ni=(He.pathname||"").split("/");ni.length&&!(He.host=ni.shift()););He.host||(He.host=""),He.hostname||(He.hostname=""),ni[0]!==""&&ni.unshift(""),ni.length<2&&ni.unshift(""),Ue.pathname=ni.join("/")}if(Ue.search=He.search,Ue.query=He.query,Ue.host=He.host||"",Ue.auth=He.auth,Ue.hostname=He.hostname||He.host,Ue.port=He.port,Ue.pathname||Ue.search){var di=Ue.pathname||"",fi=Ue.search||"";Ue.path=di+fi}return Ue.slashes=Ue.slashes||He.slashes,Ue.href=Ue.format(),Ue}var Pi=Ue.pathname&&Ue.pathname.charAt(0)==="/",ci=He.host||He.pathname&&He.pathname.charAt(0)==="/",xi=ci||Pi||Ue.host&&He.pathname,yi=xi,gi=Ue.pathname&&Ue.pathname.split("/")||[],Ai=(ni=He.pathname&&He.pathname.split("/")||[],Ue.protocol&&!Re[Ue.protocol]);if(Ai&&(Ue.hostname="",Ue.port=null,Ue.host&&(gi[0]===""?gi[0]=Ue.host:gi.unshift(Ue.host)),Ue.host="",He.protocol&&(He.hostname=null,He.port=null,He.host&&(ni[0]===""?ni[0]=He.host:ni.unshift(He.host)),He.host=null),xi=xi&&(ni[0]===""||gi[0]==="")),ci)Ue.host=He.host||He.host===""?He.host:Ue.host,Ue.hostname=He.hostname||He.hostname===""?He.hostname:Ue.hostname,Ue.search=He.search,Ue.query=He.query,gi=ni;else if(ni.length)gi||(gi=[]),gi.pop(),gi=gi.concat(ni),Ue.search=He.search,Ue.query=He.query;else if(!Ae.isNullOrUndefined(He.search))return Ai&&(Ue.hostname=Ue.host=gi.shift(),(Ke=!!(Ue.host&&Ue.host.indexOf("@")>0)&&Ue.host.split("@"))&&(Ue.auth=Ke.shift(),Ue.host=Ue.hostname=Ke.shift())),Ue.search=He.search,Ue.query=He.query,Ae.isNull(Ue.pathname)&&Ae.isNull(Ue.search)||(Ue.path=(Ue.pathname?Ue.pathname:"")+(Ue.search?Ue.search:"")),Ue.href=Ue.format(),Ue;if(!gi.length)return Ue.pathname=null,Ue.search?Ue.path="/"+Ue.search:Ue.path=null,Ue.href=Ue.format(),Ue;for(var Mi=gi.slice(-1)[0],Fi=(Ue.host||He.host||gi.length>1)&&(Mi==="."||Mi==="..")||Mi==="",Di=0,oi=gi.length;oi>=0;oi--)(Mi=gi[oi])==="."?gi.splice(oi,1):Mi===".."?(gi.splice(oi,1),Di++):Di&&(gi.splice(oi,1),Di--);if(!xi&&!yi)for(;Di--;Di)gi.unshift("..");!xi||gi[0]===""||gi[0]&&gi[0].charAt(0)==="/"||gi.unshift(""),Fi&&gi.join("/").substr(-1)!=="/"&&gi.push("");var Ke,St=gi[0]===""||gi[0]&&gi[0].charAt(0)==="/";return Ai&&(Ue.hostname=Ue.host=St?"":gi.length?gi.shift():"",(Ke=!!(Ue.host&&Ue.host.indexOf("@")>0)&&Ue.host.split("@"))&&(Ue.auth=Ke.shift(),Ue.host=Ue.hostname=Ke.shift())),(xi=xi||Ue.host&&gi.length)&&!St&&gi.unshift(""),gi.length?Ue.pathname=gi.join("/"):(Ue.pathname=null,Ue.path=null),Ae.isNull(Ue.pathname)&&Ae.isNull(Ue.search)||(Ue.path=(Ue.pathname?Ue.pathname:"")+(Ue.search?Ue.search:"")),Ue.auth=He.auth||Ue.auth,Ue.slashes=Ue.slashes||He.slashes,Ue.href=Ue.format(),Ue},Ce.prototype.parseHost=function(){var He=this.host,ze=Ee.exec(He);ze&&((ze=ze[0])!==":"&&(this.port=ze.substr(1)),He=He.substr(0,He.length-ze.length)),He&&(this.hostname=He)}},function(r,xe,Se){(function(_e,Ae){var Ce;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(Pe){xe&&xe.nodeType,_e&&_e.nodeType;var Ee=typeof Ae=="object"&&Ae;Ee.global!==Ee&&Ee.window!==Ee&&Ee.self;var Oe,Me=2147483647,De=/^xn--/,Te=/[^\x20-\x7E]/,ke=/[\x2E\u3002\uFF0E\uFF61]/g,Fe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$e=Math.floor,Be=String.fromCharCode;function Ie(Ge){throw new RangeError(Fe[Ge])}function Re(Ge,Ye){for(var Qe=Ge.length,Je=[];Qe--;)Je[Qe]=Ye(Ge[Qe]);return Je}function je(Ge,Ye){var Qe=Ge.split("@"),Je="";return Qe.length>1&&(Je=Qe[0]+"@",Ge=Qe[1]),Je+Re((Ge=Ge.replace(ke,".")).split("."),Ye).join(".")}function Ve(Ge){for(var Ye,Qe,Je=[],ri=0,hi=Ge.length;ri<hi;)(Ye=Ge.charCodeAt(ri++))>=55296&&Ye<=56319&&ri<hi?(64512&(Qe=Ge.charCodeAt(ri++)))==56320?Je.push(((1023&Ye)<<10)+(1023&Qe)+65536):(Je.push(Ye),ri--):Je.push(Ye);return Je}function He(Ge){return Re(Ge,function(Ye){var Qe="";return Ye>65535&&(Qe+=Be((Ye-=65536)>>>10&1023|55296),Ye=56320|1023&Ye),Qe+=Be(Ye)}).join("")}function ze(Ge,Ye){return Ge+22+75*(Ge<26)-((Ye!=0)<<5)}function Ue(Ge,Ye,Qe){var Je=0;for(Ge=Qe?$e(Ge/700):Ge>>1,Ge+=$e(Ge/Ye);Ge>455;Je+=36)Ge=$e(Ge/35);return $e(Je+36*Ge/(Ge+38))}function We(Ge){var Ye,Qe,Je,ri,hi,pi,ni,di,fi,Pi,ci,xi=[],yi=Ge.length,gi=0,Ai=128,Mi=72;for((Qe=Ge.lastIndexOf("-"))<0&&(Qe=0),Je=0;Je<Qe;++Je)Ge.charCodeAt(Je)>=128&&Ie("not-basic"),xi.push(Ge.charCodeAt(Je));for(ri=Qe>0?Qe+1:0;ri<yi;){for(hi=gi,pi=1,ni=36;ri>=yi&&Ie("invalid-input"),((di=(ci=Ge.charCodeAt(ri++))-48<10?ci-22:ci-65<26?ci-65:ci-97<26?ci-97:36)>=36||di>$e((Me-gi)/pi))&&Ie("overflow"),gi+=di*pi,!(di<(fi=ni<=Mi?1:ni>=Mi+26?26:ni-Mi));ni+=36)pi>$e(Me/(Pi=36-fi))&&Ie("overflow"),pi*=Pi;Mi=Ue(gi-hi,Ye=xi.length+1,hi==0),$e(gi/Ye)>Me-Ai&&Ie("overflow"),Ai+=$e(gi/Ye),gi%=Ye,xi.splice(gi++,0,Ai)}return He(xi)}function qe(Ge){var Ye,Qe,Je,ri,hi,pi,ni,di,fi,Pi,ci,xi,yi,gi,Ai,Mi=[];for(xi=(Ge=Ve(Ge)).length,Ye=128,Qe=0,hi=72,pi=0;pi<xi;++pi)(ci=Ge[pi])<128&&Mi.push(Be(ci));for(Je=ri=Mi.length,ri&&Mi.push("-");Je<xi;){for(ni=Me,pi=0;pi<xi;++pi)(ci=Ge[pi])>=Ye&&ci<ni&&(ni=ci);for(ni-Ye>$e((Me-Qe)/(yi=Je+1))&&Ie("overflow"),Qe+=(ni-Ye)*yi,Ye=ni,pi=0;pi<xi;++pi)if((ci=Ge[pi])<Ye&&++Qe>Me&&Ie("overflow"),ci==Ye){for(di=Qe,fi=36;!(di<(Pi=fi<=hi?1:fi>=hi+26?26:fi-hi));fi+=36)Ai=di-Pi,gi=36-Pi,Mi.push(Be(ze(Pi+Ai%gi,0))),di=$e(Ai/gi);Mi.push(Be(ze(di,0))),hi=Ue(Qe,yi,Je==ri),Qe=0,++Je}++Qe,++Ye}return Mi.join("")}Oe={version:"1.4.1",ucs2:{decode:Ve,encode:He},decode:We,encode:qe,toASCII:function(Ge){return je(Ge,function(Ye){return Te.test(Ye)?"xn--"+qe(Ye):Ye})},toUnicode:function(Ge){return je(Ge,function(Ye){return De.test(Ye)?We(Ye.slice(4).toLowerCase()):Ye})}},(Ce=(function(){return Oe}).call(xe,Se,xe,_e))===void 0||(_e.exports=Ce)})()}).call(this,Se(246)(r),Se(78))},function(r,xe){r.exports=function(Se){return Se.webpackPolyfill||(Se.deprecate=function(){},Se.paths=[],Se.children||(Se.children=[]),Object.defineProperty(Se,"loaded",{enumerable:!0,get:function(){return Se.l}}),Object.defineProperty(Se,"id",{enumerable:!0,get:function(){return Se.i}}),Se.webpackPolyfill=1),Se}},function(r,xe,Se){r.exports={isString:function(_e){return typeof _e=="string"},isObject:function(_e){return typeof _e=="object"&&_e!==null},isNull:function(_e){return _e===null},isNullOrUndefined:function(_e){return _e==null}}},function(r,xe,Se){xe.decode=xe.parse=Se(249),xe.encode=xe.stringify=Se(250)},function(r,xe,Se){function _e(Ce,Pe){return Object.prototype.hasOwnProperty.call(Ce,Pe)}r.exports=function(Ce,Pe,Ee,Oe){Pe=Pe||"&",Ee=Ee||"=";var Me={};if(typeof Ce!="string"||Ce.length===0)return Me;var De=/\+/g;Ce=Ce.split(Pe);var Te=1e3;Oe&&typeof Oe.maxKeys=="number"&&(Te=Oe.maxKeys);var ke=Ce.length;Te>0&&ke>Te&&(ke=Te);for(var Fe=0;Fe<ke;++Fe){var $e,Be,Ie,Re,je=Ce[Fe].replace(De,"%20"),Ve=je.indexOf(Ee);Ve>=0?($e=je.substr(0,Ve),Be=je.substr(Ve+1)):($e=je,Be=""),Ie=decodeURIComponent($e),Re=decodeURIComponent(Be),_e(Me,Ie)?Ae(Me[Ie])?Me[Ie].push(Re):Me[Ie]=[Me[Ie],Re]:Me[Ie]=Re}return Me};var Ae=Array.isArray||function(Ce){return Object.prototype.toString.call(Ce)==="[object Array]"}},function(r,xe,Se){var _e=function(Ee){switch(typeof Ee){case"string":return Ee;case"boolean":return Ee?"true":"false";case"number":return isFinite(Ee)?Ee:"";default:return""}};r.exports=function(Ee,Oe,Me,De){return Oe=Oe||"&",Me=Me||"=",Ee===null&&(Ee=void 0),typeof Ee=="object"?Ce(Pe(Ee),function(Te){var ke=encodeURIComponent(_e(Te))+Me;return Ae(Ee[Te])?Ce(Ee[Te],function(Fe){return ke+encodeURIComponent(_e(Fe))}).join(Oe):ke+encodeURIComponent(_e(Ee[Te]))}).join(Oe):De?encodeURIComponent(_e(De))+Me+encodeURIComponent(_e(Ee)):""};var Ae=Array.isArray||function(Ee){return Object.prototype.toString.call(Ee)==="[object Array]"};function Ce(Ee,Oe){if(Ee.map)return Ee.map(Oe);for(var Me=[],De=0;De<Ee.length;De++)Me.push(Oe(Ee[De],De));return Me}var Pe=Object.keys||function(Ee){var Oe=[];for(var Me in Ee)Object.prototype.hasOwnProperty.call(Ee,Me)&&Oe.push(Me);return Oe}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(52);xe.attr_setAnExistingAttributeValue=function(Ae,Ce){Ae._element===null?Ae._value=Ce:_e.element_change(Ae,Ae._element,Ce)}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(108),Ae=Se(30),Ce=Se(52);xe.tokenList_validationSteps=function(Pe,Ee){if(!Ae.dom_hasSupportedTokens(Pe._attribute._localName))throw new TypeError("There are no supported tokens defined for attribute name: '"+Pe._attribute._localName+"'.");return Ae.dom_getSupportedTokens(Pe._attribute._localName).has(Ee.toLowerCase())},xe.tokenList_updateSteps=function(Pe){(Pe._element.hasAttribute(Pe._attribute._localName)||Pe._tokenSet.size!==0)&&Ce.element_setAnAttributeValue(Pe._element,Pe._attribute._localName,_e.orderedSet_serialize(Pe._tokenSet))},xe.tokenList_serializeSteps=function(Pe){return Ce.element_getAnAttributeValue(Pe._element,Pe._attribute._localName)}},function(r,xe,Se){var _e=this&&this.__values||function(Pe){var Ee=typeof Symbol=="function"&&Symbol.iterator,Oe=Ee&&Pe[Ee],Me=0;if(Oe)return Oe.call(Pe);if(Pe&&typeof Pe.length=="number")return{next:function(){return Pe&&Me>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[Me++],done:!Pe}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(2);function Ce(Pe){return Ae.isBoolean(Pe)?Pe:Pe.capture||!1}xe.eventTarget_flatten=Ce,xe.eventTarget_flattenMore=function(Pe){var Ee=Ce(Pe),Oe=!1,Me=!1;return Ae.isBoolean(Pe)||(Oe=Pe.once||!1,Me=Pe.passive||!1),[Ee,Me,Oe]},xe.eventTarget_addEventListener=function(Pe,Ee){if(Ee.callback!==null){for(var Oe=0;Oe<Pe._eventListenerList.length;Oe++){var Me=Pe._eventListenerList[Oe];if(Me.type===Ee.type&&Me.callback.handleEvent===Ee.callback.handleEvent&&Me.capture===Ee.capture)return}Pe._eventListenerList.push(Ee)}},xe.eventTarget_removeEventListener=function(Pe,Ee,Oe){Ee.removed=!0,Pe._eventListenerList.splice(Oe,1)},xe.eventTarget_removeAllEventListeners=function(Pe){var Ee,Oe;try{for(var Me=_e(Pe._eventListenerList),De=Me.next();!De.done;De=Me.next())De.value.removed=!0}catch(Te){Ee={error:Te}}finally{try{De&&!De.done&&(Oe=Me.return)&&Oe.call(Me)}finally{if(Ee)throw Ee.error}}Pe._eventListenerList.length=0}},function(r,xe,Se){var _e=this&&this.__values||function(Pe){var Ee=typeof Symbol=="function"&&Symbol.iterator,Oe=Ee&&Pe[Ee],Me=0;if(Oe)return Oe.call(Pe);if(Pe&&typeof Pe.length=="number")return{next:function(){return Pe&&Me>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[Me++],done:!Pe}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(2),Ce=Se(29);xe.parentNode_convertNodesIntoANode=function(Pe,Ee){for(var Oe,Me,De=null,Te=0;Te<Pe.length;Te++){var ke=Pe[Te];if(Ae.isString(ke)){var Fe=Ce.create_text(Ee,ke);Pe[Te]=Fe}}if(Pe.length===1)De=Pe[0];else{var $e=De=Ce.create_documentFragment(Ee);try{for(var Be=_e(Pe),Ie=Be.next();!Ie.done;Ie=Be.next())ke=Ie.value,$e.appendChild(ke)}catch(Re){Oe={error:Re}}finally{try{Ie&&!Ie.done&&(Me=Be.return)&&Me.call(Be)}finally{if(Oe)throw Oe.error}}}return De}},function(r,xe,Se){var _e=this&&this.__values||function(ze){var Ue=typeof Symbol=="function"&&Symbol.iterator,We=Ue&&ze[Ue],qe=0;if(We)return We.call(ze);if(ze&&typeof ze.length=="number")return{next:function(){return ze&&qe>=ze.length&&(ze=void 0),{value:ze&&ze[qe++],done:!ze}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")},Ae=this&&this.__read||function(ze,Ue){var We=typeof Symbol=="function"&&ze[Symbol.iterator];if(!We)return ze;var qe,Ge,Ye=We.call(ze),Qe=[];try{for(;(Ue===void 0||Ue-- >0)&&!(qe=Ye.next()).done;)Qe.push(qe.value)}catch(Je){Ge={error:Je}}finally{try{qe&&!qe.done&&(We=Ye.return)&&We.call(Ye)}finally{if(Ge)throw Ge.error}}return Qe},Ce=this&&this.__spread||function(){for(var ze=[],Ue=0;Ue<arguments.length;Ue++)ze=ze.concat(Ae(arguments[Ue]));return ze};Object.defineProperty(xe,"__esModule",{value:!0});var Pe=Se(1),Ee=Se(9),Oe=Se(3),Me=Se(29),De=Se(17),Te=Se(175),ke=Se(107),Fe=Se(176),$e=Se(37),Be=Se(177);function Ie(ze){return ze._startNode===ze._endNode&&ze._startOffset===ze._endOffset}function Re(ze){return De.tree_rootNode(ze._startNode)}function je(ze,Ue){return De.tree_rootNode(ze)===Re(Ue)&&Te.boundaryPoint_position([ze,0],Ue._start)===Pe.BoundaryPosition.After&&Te.boundaryPoint_position([ze,De.tree_nodeLength(ze)],Ue._end)===Pe.BoundaryPosition.Before}function Ve(ze,Ue){var We=De.tree_isAncestorOf(Ue._startNode,ze,!0),qe=De.tree_isAncestorOf(Ue._endNode,ze,!0);return We&&!qe||!We&&qe}function He(ze){var Ue,We,qe,Ge,Ye,Qe,Je=Me.create_documentFragment(ze._startNode._nodeDocument);if(Ie(ze))return Je;var ri=ze._startNode,hi=ze._startOffset,pi=ze._endNode,ni=ze._endOffset;if(ri===pi&&Oe.Guard.isCharacterDataNode(ri))return(ei=Fe.node_clone(ri))._data=ke.characterData_substringData(ri,hi,ni-hi),$e.mutation_append(ei,Je),ke.characterData_replaceData(ri,hi,ni-hi,""),Je;for(var di=ri;!De.tree_isAncestorOf(pi,di,!0);){if(di._parent===null)throw new Error("Parent node  is null.");di=di._parent}var fi=null;if(!De.tree_isAncestorOf(pi,ri,!0))try{for(var Pi=_e(di._children),ci=Pi.next();!ci.done;ci=Pi.next())if(Ve(Ai=ci.value,ze)){fi=Ai;break}}catch(ki){Ue={error:ki}}finally{try{ci&&!ci.done&&(We=Pi.return)&&We.call(Pi)}finally{if(Ue)throw Ue.error}}var xi=null;if(!De.tree_isAncestorOf(ri,pi,!0))for(var yi=Ce(di._children),gi=yi.length-1;gi>0;gi--){var Ai;if(Ve(Ai=yi[gi],ze)){xi=Ai;break}}var Mi,Fi,Di=[];try{for(var oi=_e(di._children),Ke=oi.next();!Ke.done;Ke=oi.next())if(je(Ci=Ke.value,ze)){if(Oe.Guard.isDocumentTypeNode(Ci))throw new Ee.HierarchyRequestError;Di.push(Ci)}}catch(ki){qe={error:ki}}finally{try{Ke&&!Ke.done&&(Ge=oi.return)&&Ge.call(oi)}finally{if(qe)throw qe.error}}if(De.tree_isAncestorOf(pi,ri,!0))Mi=ri,Fi=hi;else{for(var St=ri;St._parent!==null&&!De.tree_isAncestorOf(pi,St._parent);)St=St._parent;if(St._parent===null)throw new Error("Parent node is null.");Mi=St._parent,Fi=1+De.tree_index(St)}if(Oe.Guard.isCharacterDataNode(fi))(ei=Fe.node_clone(ri))._data=ke.characterData_substringData(ri,hi,De.tree_nodeLength(ri)-hi),$e.mutation_append(ei,Je),ke.characterData_replaceData(ri,hi,De.tree_nodeLength(ri)-hi,"");else if(fi!==null){var ei=Fe.node_clone(fi);$e.mutation_append(ei,Je);var ui=He(Me.create_range([ri,hi],[fi,De.tree_nodeLength(fi)]));$e.mutation_append(ui,ei)}try{for(var ai=_e(Di),ii=ai.next();!ii.done;ii=ai.next()){var Ci=ii.value;$e.mutation_append(Ci,Je)}}catch(ki){Ye={error:ki}}finally{try{ii&&!ii.done&&(Qe=ai.return)&&Qe.call(ai)}finally{if(Ye)throw Ye.error}}return Oe.Guard.isCharacterDataNode(xi)?((ei=Fe.node_clone(pi))._data=ke.characterData_substringData(pi,0,ni),$e.mutation_append(ei,Je),ke.characterData_replaceData(pi,0,ni,"")):xi!==null&&(ei=Fe.node_clone(xi),$e.mutation_append(ei,Je),ui=He(Me.create_range([xi,0],[pi,ni])),$e.mutation_append(ui,ei)),ze._start=[Mi,Fi],ze._end=[Mi,Fi],Je}xe.range_collapsed=Ie,xe.range_root=Re,xe.range_isContained=je,xe.range_isPartiallyContained=Ve,xe.range_setTheStart=function(ze,Ue,We){if(Oe.Guard.isDocumentTypeNode(Ue))throw new Ee.InvalidNodeTypeError;if(We>De.tree_nodeLength(Ue))throw new Ee.IndexSizeError;var qe=[Ue,We];Re(ze)===De.tree_rootNode(Ue)&&Te.boundaryPoint_position(qe,ze._end)!==Pe.BoundaryPosition.After||(ze._end=qe),ze._start=qe},xe.range_setTheEnd=function(ze,Ue,We){if(Oe.Guard.isDocumentTypeNode(Ue))throw new Ee.InvalidNodeTypeError;if(We>De.tree_nodeLength(Ue))throw new Ee.IndexSizeError;var qe=[Ue,We];Re(ze)===De.tree_rootNode(Ue)&&Te.boundaryPoint_position(qe,ze._start)!==Pe.BoundaryPosition.Before||(ze._start=qe),ze._end=qe},xe.range_select=function(ze,Ue){var We=ze._parent;if(We===null)throw new Ee.InvalidNodeTypeError;var qe=De.tree_index(ze);Ue._start=[We,qe],Ue._end=[We,qe+1]},xe.range_extract=He,xe.range_cloneTheContents=function ze(Ue){var We,qe,Ge,Ye,Qe,Je,ri=Me.create_documentFragment(Ue._startNode._nodeDocument);if(Ie(Ue))return ri;var hi=Ue._startNode,pi=Ue._startOffset,ni=Ue._endNode,di=Ue._endOffset;hi===ni&&Oe.Guard.isCharacterDataNode(hi)&&((Ke=Fe.node_clone(hi))._data=ke.characterData_substringData(hi,pi,di-pi),$e.mutation_append(Ke,ri));for(var fi=hi;!De.tree_isAncestorOf(ni,fi,!0);){if(fi._parent===null)throw new Error("Parent node  is null.");fi=fi._parent}var Pi=null;if(!De.tree_isAncestorOf(ni,hi,!0))try{for(var ci=_e(fi._children),xi=ci.next();!xi.done;xi=ci.next())if(Ve(Mi=xi.value,Ue)){Pi=Mi;break}}catch(ii){We={error:ii}}finally{try{xi&&!xi.done&&(qe=ci.return)&&qe.call(ci)}finally{if(We)throw We.error}}var yi=null;if(!De.tree_isAncestorOf(hi,ni,!0))for(var gi=Ce(fi._children),Ai=gi.length-1;Ai>0;Ai--){var Mi;if(Ve(Mi=gi[Ai],Ue)){yi=Mi;break}}var Fi=[];try{for(var Di=_e(fi._children),oi=Di.next();!oi.done;oi=Di.next())if(je(ai=oi.value,Ue)){if(Oe.Guard.isDocumentTypeNode(ai))throw new Ee.HierarchyRequestError;Fi.push(ai)}}catch(ii){Ge={error:ii}}finally{try{oi&&!oi.done&&(Ye=Di.return)&&Ye.call(Di)}finally{if(Ge)throw Ge.error}}if(Oe.Guard.isCharacterDataNode(Pi))(Ke=Fe.node_clone(hi))._data=ke.characterData_substringData(hi,pi,De.tree_nodeLength(hi)-pi),$e.mutation_append(Ke,ri);else if(Pi!==null){var Ke=Fe.node_clone(Pi);$e.mutation_append(Ke,ri);var St=ze(Me.create_range([hi,pi],[Pi,De.tree_nodeLength(Pi)]));$e.mutation_append(St,Ke)}try{for(var ei=_e(Fi),ui=ei.next();!ui.done;ui=ei.next()){var ai=ui.value,Ke=Fe.node_clone(ai);$e.mutation_append(Ke,ri)}}catch(ii){Qe={error:ii}}finally{try{ui&&!ui.done&&(Je=ei.return)&&Je.call(ei)}finally{if(Qe)throw Qe.error}}return Oe.Guard.isCharacterDataNode(yi)?((Ke=Fe.node_clone(ni))._data=ke.characterData_substringData(ni,0,di),$e.mutation_append(Ke,ri)):yi!==null&&(Ke=Fe.node_clone(yi),ri.append(Ke),St=He(Me.create_range([yi,0],[ni,di])),$e.mutation_append(St,Ke)),ri},xe.range_insert=function(ze,Ue){var We,qe;if(Oe.Guard.isProcessingInstructionNode(Ue._startNode)||Oe.Guard.isCommentNode(Ue._startNode)||Oe.Guard.isTextNode(Ue._startNode)&&Ue._startNode._parent===null||Ue._startNode===ze)throw new Ee.HierarchyRequestError;var Ge,Ye=null;if(Oe.Guard.isTextNode(Ue._startNode))Ye=Ue._startNode;else{var Qe=0;try{for(var Je=_e(Ue._startNode._children),ri=Je.next();!ri.done;ri=Je.next()){var hi=ri.value;if(Qe===Ue._startOffset){Ye=hi;break}Qe++}}catch(ni){We={error:ni}}finally{try{ri&&!ri.done&&(qe=Je.return)&&qe.call(Je)}finally{if(We)throw We.error}}}if(Ye===null)Ge=Ue._startNode;else{if(Ye._parent===null)throw new Error("Parent node is null.");Ge=Ye._parent}$e.mutation_ensurePreInsertionValidity(ze,Ge,Ye),Oe.Guard.isTextNode(Ue._startNode)&&(Ye=Be.text_split(Ue._startNode,Ue._startOffset)),ze===Ye&&(Ye=ze._nextSibling),ze._parent!==null&&$e.mutation_remove(ze,ze._parent);var pi=Ye===null?De.tree_nodeLength(Ge):De.tree_index(Ye);Oe.Guard.isDocumentFragmentNode(ze)?pi+=De.tree_nodeLength(ze):pi++,$e.mutation_preInsert(ze,Ge,Ye),Ie(Ue)&&(Ue._end=[Ge,pi])},xe.range_getContainedNodes=function(ze){var Ue;return(Ue={})[Symbol.iterator]=function(){var We=ze.commonAncestorContainer,qe=De.tree_getFirstDescendantNode(We);return{next:function(){for(;qe&&!je(qe,ze);)qe=De.tree_getNextDescendantNode(We,qe);if(qe===null)return{done:!0,value:null};var Ge={done:!1,value:qe};return qe=De.tree_getNextDescendantNode(We,qe),Ge}}},Ue},xe.range_getPartiallyContainedNodes=function(ze){var Ue;return(Ue={})[Symbol.iterator]=function(){var We=ze.commonAncestorContainer,qe=De.tree_getFirstDescendantNode(We);return{next:function(){for(;qe&&!Ve(qe,ze);)qe=De.tree_getNextDescendantNode(We,qe);if(qe===null)return{done:!0,value:null};var Ge={done:!1,value:qe};return qe=De.tree_getNextDescendantNode(We,qe),Ge}}},Ue}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(9);xe.selectors_scopeMatchASelectorsString=function(Ae,Ce){throw new _e.NotSupportedError}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(1),Ae=Se(105);xe.treeWalker_traverseChildren=function(Ce,Pe){for(var Ee=Pe?Ce._current._firstChild:Ce._current._lastChild;Ee!==null;){var Oe=Ae.traversal_filter(Ce,Ee);if(Oe===_e.FilterResult.Accept)return Ce._current=Ee,Ee;if(Oe===_e.FilterResult.Skip){var Me=Pe?Ee._firstChild:Ee._lastChild;if(Me!==null){Ee=Me;continue}}for(;Ee!==null;){var De=Pe?Ee._nextSibling:Ee._previousSibling;if(De!==null){Ee=De;break}var Te=Ee._parent;if(Te===null||Te===Ce._root||Te===Ce._current)return null;Ee=Te}}return null},xe.treeWalker_traverseSiblings=function(Ce,Pe){var Ee=Ce._current;if(Ee===Ce._root)return null;for(;;){for(var Oe=Pe?Ee._nextSibling:Ee._previousSibling;Oe!==null;){Ee=Oe;var Me=Ae.traversal_filter(Ce,Ee);if(Me===_e.FilterResult.Accept)return Ce._current=Ee,Ee;Oe=Pe?Ee._firstChild:Ee._lastChild,Me!==_e.FilterResult.Reject&&Oe!==null||(Oe=Pe?Ee._nextSibling:Ee._previousSibling)}if((Ee=Ee._parent)===null||Ee===Ce._root||Ae.traversal_filter(Ce,Ee)===_e.FilterResult.Accept)return null}}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0}),xe.nonEntityAmpersandRegex=/&(?![A-Za-z]+;|#\d+;)/g},function(r,xe,Se){Se(89),Se(74);var _e,Ae=this&&this.__extends||(_e=function(De,Te){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ke,Fe){ke.__proto__=Fe}||function(ke,Fe){for(var $e in Fe)Fe.hasOwnProperty($e)&&(ke[$e]=Fe[$e])})(De,Te)},function(De,Te){function ke(){this.constructor=De}_e(De,Te),De.prototype=Te===null?Object.create(Te):(ke.prototype=Te.prototype,new ke)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(2),Pe=Se(1),Ee=Se(50),Oe=Se(3),Me=function(De){function Te(ke,Fe){var $e=De.call(this,ke)||this;return $e._indentation={},$e._lengthToLastNewline=0,$e._writerOptions=Ce.applyDefaults(Fe,{wellFormed:!1,headless:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),$e}return Ae(Te,De),Te.prototype.serialize=function(ke){return this._refs={suppressPretty:!1,emptyNode:!1,markup:""},ke.nodeType!==Pe.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(ke,this._writerOptions.wellFormed),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},Te.prototype.declaration=function(ke,Fe,$e){this._beginLine(),this._refs.markup+='<?xml version="'+ke+'"',Fe!==void 0&&(this._refs.markup+=' encoding="'+Fe+'"'),$e!==void 0&&(this._refs.markup+=' standalone="'+($e?"yes":"no")+'"'),this._refs.markup+="?>",this._endLine()},Te.prototype.docType=function(ke,Fe,$e){this._beginLine(),this._refs.markup+=Fe&&$e?"<!DOCTYPE "+ke+' PUBLIC "'+Fe+'" "'+$e+'">':Fe?"<!DOCTYPE "+ke+' PUBLIC "'+Fe+'">':$e?"<!DOCTYPE "+ke+' SYSTEM "'+$e+'">':"<!DOCTYPE "+ke+">",this._endLine()},Te.prototype.openTagBegin=function(ke){this._beginLine(),this._refs.markup+="<"+ke},Te.prototype.openTagEnd=function(ke,Fe,$e){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!Fe&&!$e){for(var Be=!0,Ie=!0,Re=this.currentNode.firstChild,je=0,Ve=0;Re;){if(Oe.Guard.isExclusiveTextNode(Re))Ve++;else{if(!Oe.Guard.isCDATASectionNode(Re)){Be=!1,Ie=!1;break}je++}Re.data!==""&&(Ie=!1),Re=Re.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&Be&&(je<=1&&Ve===0||je===0),this._refs.emptyNode=Ie}($e||Fe||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+="></"+ke+">":this._refs.markup+=$e?" />":Fe||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?" />":"/>":">",this._endLine()},Te.prototype.closeTag=function(ke){this._refs.emptyNode||(this._beginLine(),this._refs.markup+="</"+ke+">"),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},Te.prototype.attribute=function(ke,Fe){var $e=ke+'="'+Fe+'"';this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+$e.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+$e):this._refs.markup+=" "+$e},Te.prototype.text=function(ke){ke!==""&&(this._beginLine(),this._refs.markup+=ke,this._endLine())},Te.prototype.cdata=function(ke){ke!==""&&(this._beginLine(),this._refs.markup+="<![CDATA["+ke+"]]>",this._endLine())},Te.prototype.comment=function(ke){this._beginLine(),this._refs.markup+="<!--"+ke+"-->",this._endLine()},Te.prototype.instruction=function(ke,Fe){this._beginLine(),this._refs.markup+="<?"+(Fe===""?ke:ke+" "+Fe)+"?>",this._endLine()},Te.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},Te.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},Te.prototype._indent=function(ke){if(ke<=0)return"";if(this._indentation[ke]!==void 0)return this._indentation[ke];var Fe=this._writerOptions.indent.repeat(ke);return this._indentation[ke]=Fe,Fe},Te}(Ee.BaseWriter);xe.XMLWriter=Me},function(r,xe,Se){var _e=Se(47),Ae=Se(35);r.exports="".repeat||function(Ce){var Pe=String(Ae(this)),Ee="",Oe=_e(Ce);if(Oe<0||Oe==1/0)throw RangeError("Wrong number of repetitions");for(;Oe>0;(Oe>>>=1)&&(Pe+=Pe))1&Oe&&(Ee+=Pe);return Ee}},function(r,xe,Se){Se(31),Se(32),Se(33),Se(19),Se(178),Se(20),Se(22),Se(23);var _e,Ae=this&&this.__extends||(_e=function(Me,De){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,ke){Te.__proto__=ke}||function(Te,ke){for(var Fe in ke)ke.hasOwnProperty(Fe)&&(Te[Fe]=ke[Fe])})(Me,De)},function(Me,De){function Te(){this.constructor=Me}_e(Me,De),Me.prototype=De===null?Object.create(De):(Te.prototype=De.prototype,new Te)}),Ce=this&&this.__values||function(Me){var De=typeof Symbol=="function"&&Symbol.iterator,Te=De&&Me[De],ke=0;if(Te)return Te.call(Me);if(Me&&typeof Me.length=="number")return{next:function(){return Me&&ke>=Me.length&&(Me=void 0),{value:Me&&Me[ke++],done:!Me}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Pe=Se(67),Ee=Se(2),Oe=function(Me){function De(Te,ke){var Fe=Me.call(this,Te)||this;return Fe._writerOptions=Ee.applyDefaults(ke,{wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),Fe}return Ae(De,Me),De.prototype.serialize=function(Te){var ke=Ee.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),Fe=new Pe.ObjectWriter(this._builderOptions,ke).serialize(Te);return this._beginLine(this._writerOptions,0)+this._convertObject(Fe,this._writerOptions)},De.prototype._convertObject=function(Te,ke,Fe){var $e,Be,Ie=this;Fe===void 0&&(Fe=0);var Re="",je=this._isLeafNode(Te);if(Ee.isArray(Te)){Re+="[";var Ve=Te.length,He=0;try{for(var ze=Ce(Te),Ue=ze.next();!Ue.done;Ue=ze.next()){var We=Ue.value;Re+=this._endLine(ke,Fe+1)+this._beginLine(ke,Fe+1)+this._convertObject(We,ke,Fe+1),He<Ve-1&&(Re+=","),He++}}catch(Ye){$e={error:Ye}}finally{try{Ue&&!Ue.done&&(Be=ze.return)&&Be.call(ze)}finally{if($e)throw $e.error}}Re+=this._endLine(ke,Fe)+this._beginLine(ke,Fe),Re+="]"}else if(Ee.isObject(Te)){Re+="{";var qe=Ee.objectLength(Te),Ge=0;Ee.forEachObject(Te,function(Ye,Qe){je&&ke.prettyPrint?Re+=" ":Re+=Ie._endLine(ke,Fe+1)+Ie._beginLine(ke,Fe+1),Re+=Ie._key(Ye),ke.prettyPrint&&(Re+=" "),Re+=Ie._convertObject(Qe,ke,Fe+1),Ge<qe-1&&(Re+=","),Ge++},this),je&&ke.prettyPrint?Re+=" ":Re+=this._endLine(ke,Fe)+this._beginLine(ke,Fe),Re+="}"}else Re+=this._val(Te);return Re},De.prototype._beginLine=function(Te,ke){if(!Te.prettyPrint)return"";var Fe=Te.offset+ke+1;return Fe>0?new Array(Fe).join(Te.indent):""},De.prototype._endLine=function(Te,ke){return Te.prettyPrint?Te.newline:""},De.prototype._key=function(Te){return'"'+Te+'":'},De.prototype._val=function(Te){return JSON.stringify(Te)},De.prototype._isLeafNode=function(Te){return this._descendantCount(Te)<=1},De.prototype._descendantCount=function(Te,ke){var Fe=this;return ke===void 0&&(ke=0),Ee.isArray(Te)?Ee.forEachArray(Te,function($e){return ke+=Fe._descendantCount($e,ke)},this):Ee.isObject(Te)?Ee.forEachObject(Te,function($e,Be){return ke+=Fe._descendantCount(Be,ke)},this):ke++,ke},De}(Se(50).BaseWriter);xe.JSONWriter=Oe},function(r,xe,Se){Se(31),Se(32),Se(33),Se(19),Se(178),Se(89),Se(20),Se(22),Se(23);var _e,Ae=this&&this.__extends||(_e=function(Me,De){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,ke){Te.__proto__=ke}||function(Te,ke){for(var Fe in ke)ke.hasOwnProperty(Fe)&&(Te[Fe]=ke[Fe])})(Me,De)},function(Me,De){function Te(){this.constructor=Me}_e(Me,De),Me.prototype=De===null?Object.create(De):(Te.prototype=De.prototype,new Te)}),Ce=this&&this.__values||function(Me){var De=typeof Symbol=="function"&&Symbol.iterator,Te=De&&Me[De],ke=0;if(Te)return Te.call(Me);if(Me&&typeof Me.length=="number")return{next:function(){return Me&&ke>=Me.length&&(Me=void 0),{value:Me&&Me[ke++],done:!Me}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Pe=Se(67),Ee=Se(2),Oe=function(Me){function De(Te,ke){var Fe=Me.call(this,Te)||this;if(Fe._writerOptions=Ee.applyDefaults(ke,{wellFormed:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),Fe._writerOptions.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(Fe._writerOptions.offset<0)throw new Error("YAML offset should be zero or a positive number.");return Fe}return Ae(De,Me),De.prototype.serialize=function(Te){var ke=Ee.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),Fe=new Pe.ObjectWriter(this._builderOptions,ke).serialize(Te),$e=this._beginLine(this._writerOptions,0)+"---"+this._endLine(this._writerOptions)+this._convertObject(Fe,this._writerOptions,0);return $e.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&($e=$e.slice(0,-this._writerOptions.newline.length)),$e},De.prototype._convertObject=function(Te,ke,Fe,$e){var Be,Ie,Re=this;$e===void 0&&($e=!1);var je="";if(Ee.isArray(Te))try{for(var Ve=Ce(Te),He=Ve.next();!He.done;He=Ve.next()){var ze=He.value;je+=this._beginLine(ke,Fe,!0),Ee.isObject(ze)?Ee.isEmpty(ze)?je+='""'+this._endLine(ke):je+=this._convertObject(ze,ke,Fe,!0):je+=this._val(ze)+this._endLine(ke)}}catch(Ue){Be={error:Ue}}finally{try{He&&!He.done&&(Ie=Ve.return)&&Ie.call(Ve)}finally{if(Be)throw Be.error}}else Ee.forEachObject(Te,function(Ue,We){$e?(je+=Re._key(Ue),$e=!1):je+=Re._beginLine(ke,Fe)+Re._key(Ue),Ee.isObject(We)?Ee.isEmpty(We)?je+=' ""'+Re._endLine(ke):je+=Re._endLine(ke)+Re._convertObject(We,ke,Fe+1):je+=" "+Re._val(We)+Re._endLine(ke)},this);return je},De.prototype._beginLine=function(Te,ke,Fe){Fe===void 0&&(Fe=!1);var $e=Te.offset+ke+1,Be=new Array($e).join(Te.indent);return Fe?Be.substr(0,Be.length-2)+"-"+Be.substr(-1,1):Be},De.prototype._endLine=function(Te){return Te.newline},De.prototype._key=function(Te){return'"'+Te+'":'},De.prototype._val=function(Te){return JSON.stringify(Te)},De}(Se(50).BaseWriter);xe.YAMLWriter=Oe},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0}),Se(110).dom.setFeatures(!0);var _e=Se(110);xe.DOMImplementation=_e.DOMImplementation;var Ae=Se(272);xe.DOMParser=Ae.DOMParser;var Ce=Se(275);xe.XMLSerializer=Ce.XMLSerializer},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(3),Ae=Se(0),Ce=function(){function Pe(){}return Pe.prototype.before=function(){for(var Ee=[],Oe=0;Oe<arguments.length;Oe++)Ee[Oe]=arguments[Oe];var Me=_e.Cast.asNode(this),De=Me._parent;if(De!==null){for(var Te=Me._previousSibling,ke=!0;ke&&Te;){ke=!1;for(var Fe=0;Fe<Ee.length;Fe++){var $e=Ee[Fe];if($e===Te){Te=Te._previousSibling,ke=!0;break}}}var Be=Ae.parentNode_convertNodesIntoANode(Ee,Me._nodeDocument);Te=Te===null?De._firstChild:Te._nextSibling,Ae.mutation_preInsert(Be,De,Te)}},Pe.prototype.after=function(){for(var Ee=[],Oe=0;Oe<arguments.length;Oe++)Ee[Oe]=arguments[Oe];var Me=_e.Cast.asNode(this),De=Me._parent;if(De){for(var Te=Me._nextSibling,ke=!0;ke&&Te;){ke=!1;for(var Fe=0;Fe<Ee.length;Fe++){var $e=Ee[Fe];if($e===Te){Te=Te._nextSibling,ke=!0;break}}}var Be=Ae.parentNode_convertNodesIntoANode(Ee,Me._nodeDocument);Ae.mutation_preInsert(Be,De,Te)}},Pe.prototype.replaceWith=function(){for(var Ee=[],Oe=0;Oe<arguments.length;Oe++)Ee[Oe]=arguments[Oe];var Me=_e.Cast.asNode(this),De=Me._parent;if(De){for(var Te=Me._nextSibling,ke=!0;ke&&Te;){ke=!1;for(var Fe=0;Fe<Ee.length;Fe++){var $e=Ee[Fe];if($e===Te){Te=Te._nextSibling,ke=!0;break}}}var Be=Ae.parentNode_convertNodesIntoANode(Ee,Me._nodeDocument);Me._parent===De?Ae.mutation_replace(Me,Be,De):Ae.mutation_preInsert(Be,De,Te)}},Pe.prototype.remove=function(){var Ee=_e.Cast.asNode(this),Oe=Ee._parent;Oe&&Ae.mutation_remove(Ee,Oe)},Pe}();xe.ChildNodeImpl=Ce},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=function(){};xe.DocumentOrShadowRootImpl=_e},function(r,xe,Se){var _e=this&&this.__values||function(Oe){var Me=typeof Symbol=="function"&&Symbol.iterator,De=Me&&Oe[Me],Te=0;if(De)return De.call(Oe);if(Oe&&typeof Oe.length=="number")return{next:function(){return Oe&&Te>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[Te++],done:!Oe}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(6),Ce=Se(3),Pe=Se(7),Ee=function(){function Oe(Me){this._nodeList=[],this._recordQueue=[],this._callback=Me;var De=Ae.dom.window;Pe.set.append(De._mutationObservers,this)}return Oe.prototype.observe=function(Me,De){var Te,ke;if((De=De||{childList:!1,subtree:!1}).attributeOldValue===void 0&&De.attributeFilter===void 0||De.attributes!==void 0||(De.attributes=!0),De.characterDataOldValue!==void 0&&De.characterData===void 0&&(De.characterData=!0),!De.childList&&!De.attributes&&!De.characterData)throw new TypeError;if(De.attributeOldValue&&!De.attributes)throw new TypeError;if(De.attributeFilter!==void 0&&!De.attributes)throw new TypeError;if(De.characterDataOldValue&&!De.characterData)throw new TypeError;var Fe=!1,$e=De,Be=function(Ve){var He,ze;if(Ve.observer===Ie){Fe=!0;try{for(var Ue=(He=void 0,_e(Ie._nodeList)),We=Ue.next();!We.done;We=Ue.next()){var qe=We.value;Pe.list.remove(qe._registeredObserverList,function(Ge){return Ce.Guard.isTransientRegisteredObserver(Ge)&&Ge.source===Ve})}}catch(Ge){He={error:Ge}}finally{try{We&&!We.done&&(ze=Ue.return)&&ze.call(Ue)}finally{if(He)throw He.error}}Ve.options=$e}},Ie=this;try{for(var Re=_e(Me._registeredObserverList),je=Re.next();!je.done;je=Re.next())Be(je.value)}catch(Ve){Te={error:Ve}}finally{try{je&&!je.done&&(ke=Re.return)&&ke.call(Re)}finally{if(Te)throw Te.error}}Fe||(Me._registeredObserverList.push({observer:this,options:De}),this._nodeList.push(Me))},Oe.prototype.disconnect=function(){var Me,De,Te=this;try{for(var ke=_e(this._nodeList),Fe=ke.next();!Fe.done;Fe=ke.next()){var $e=Fe.value;Pe.list.remove($e._registeredObserverList,function(Be){return Be.observer===Te})}}catch(Be){Me={error:Be}}finally{try{Fe&&!Fe.done&&(De=ke.return)&&De.call(ke)}finally{if(Me)throw Me.error}}this._recordQueue=[]},Oe.prototype.takeRecords=function(){var Me=this._recordQueue;return this._recordQueue=[],Me},Oe}();xe.MutationObserverImpl=Ee},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(3),Ae=function(){function Ce(){}return Object.defineProperty(Ce.prototype,"previousElementSibling",{get:function(){for(var Pe=_e.Cast.asNode(this)._previousSibling;Pe;){if(_e.Guard.isElementNode(Pe))return Pe;Pe=Pe._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"nextElementSibling",{get:function(){for(var Pe=_e.Cast.asNode(this)._nextSibling;Pe;){if(_e.Guard.isElementNode(Pe))return Pe;Pe=Pe._nextSibling}return null},enumerable:!0,configurable:!0}),Ce}();xe.NonDocumentTypeChildNodeImpl=Ae},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(3),Ae=Se(0),Ce=function(){function Pe(){}return Pe.prototype.getElementById=function(Ee){for(var Oe=Ae.tree_getFirstDescendantNode(_e.Cast.asNode(this),!1,!1,function(Me){return _e.Guard.isElementNode(Me)});Oe!==null;){if(Oe._uniqueIdentifier===Ee)return Oe;Oe=Ae.tree_getNextDescendantNode(_e.Cast.asNode(this),Oe,!1,!1,function(Me){return _e.Guard.isElementNode(Me)})}return null},Pe}();xe.NonElementParentNodeImpl=Ce},function(r,xe,Se){var _e=this&&this.__values||function(Ee){var Oe=typeof Symbol=="function"&&Symbol.iterator,Me=Oe&&Ee[Oe],De=0;if(Me)return Me.call(Ee);if(Ee&&typeof Ee.length=="number")return{next:function(){return Ee&&De>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[De++],done:!Ee}}};throw new TypeError(Oe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(3),Ce=Se(0),Pe=function(){function Ee(){}return Object.defineProperty(Ee.prototype,"children",{get:function(){return Ce.create_htmlCollection(Ae.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(Ee.prototype,"firstElementChild",{get:function(){for(var Oe=Ae.Cast.asNode(this)._firstChild;Oe;){if(Ae.Guard.isElementNode(Oe))return Oe;Oe=Oe._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(Ee.prototype,"lastElementChild",{get:function(){for(var Oe=Ae.Cast.asNode(this)._lastChild;Oe;){if(Ae.Guard.isElementNode(Oe))return Oe;Oe=Oe._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(Ee.prototype,"childElementCount",{get:function(){var Oe,Me,De=0;try{for(var Te=_e(Ae.Cast.asNode(this)._children),ke=Te.next();!ke.done;ke=Te.next()){var Fe=ke.value;Ae.Guard.isElementNode(Fe)&&De++}}catch($e){Oe={error:$e}}finally{try{ke&&!ke.done&&(Me=Te.return)&&Me.call(Te)}finally{if(Oe)throw Oe.error}}return De},enumerable:!0,configurable:!0}),Ee.prototype.prepend=function(){for(var Oe=[],Me=0;Me<arguments.length;Me++)Oe[Me]=arguments[Me];var De=Ae.Cast.asNode(this),Te=Ce.parentNode_convertNodesIntoANode(Oe,De._nodeDocument);Ce.mutation_preInsert(Te,De,De._firstChild)},Ee.prototype.append=function(){for(var Oe=[],Me=0;Me<arguments.length;Me++)Oe[Me]=arguments[Me];var De=Ae.Cast.asNode(this),Te=Ce.parentNode_convertNodesIntoANode(Oe,De._nodeDocument);Ce.mutation_append(Te,De)},Ee.prototype.querySelector=function(Oe){var Me=Ae.Cast.asNode(this),De=Ce.selectors_scopeMatchASelectorsString(Oe,Me);return De.length===0?null:De[0]},Ee.prototype.querySelectorAll=function(Oe){var Me=Ae.Cast.asNode(this),De=Ce.selectors_scopeMatchASelectorsString(Oe,Me);return Ce.create_nodeListStatic(Me,De)},Ee}();xe.ParentNodeImpl=Pe},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(0),Ae=function(){function Ce(){}return Object.defineProperty(Ce.prototype,"_name",{get:function(){return this.__name||""},set:function(Pe){this.__name=Pe},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"_assignedSlot",{get:function(){return this.__assignedSlot||null},set:function(Pe){this.__assignedSlot=Pe},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.prototype,"assignedSlot",{get:function(){return _e.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),Ce}();xe.SlotableImpl=Ae},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Me,De){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,ke){Te.__proto__=ke}||function(Te,ke){for(var Fe in ke)ke.hasOwnProperty(Fe)&&(Te[Fe]=ke[Fe])})(Me,De)},function(Me,De){function Te(){this.constructor=Me}_e(Me,De),Me.prototype=De===null?Object.create(De):(Te.prototype=De.prototype,new Te)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(102),Pe=Se(9),Ee=Se(3),Oe=function(Me){function De(Te){var ke=Me.call(this)||this;if(Ee.Guard.isDocumentTypeNode(Te.startContainer)||Ee.Guard.isAttrNode(Te.startContainer)||Ee.Guard.isDocumentTypeNode(Te.endContainer)||Ee.Guard.isAttrNode(Te.endContainer))throw new Pe.InvalidNodeTypeError;return ke._start=[Te.startContainer,Te.startOffset],ke._end=[Te.endContainer,Te.endOffset],ke}return Ae(De,Me),De}(Ce.AbstractRangeImpl);xe.StaticRangeImpl=Oe},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(273);xe.DOMParser=_e.DOMParserImpl},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(0),Ae=Se(274),Ce=function(){function Pe(){}return Pe.prototype.parseFromString=function(Ee,Oe){if(Oe==="text/html")throw new Error("HTML parser not implemented.");try{return(Me=new Ae.XMLParserImpl().parse(Ee))._contentType=Oe,Me}catch(Fe){var Me,De="http://www.mozilla.org/newlayout/xml/parsererror.xml",Te=(Me=_e.create_xmlDocument()).createElementNS(De,"parsererror"),ke=Me.createElementNS(De,"error");return ke.setAttribute("message",Fe.message),Te.appendChild(ke),Me.appendChild(Te),Me}},Pe}();xe.DOMParserImpl=Ce},function(r,xe,Se){var _e=this&&this.__read||function(Te,ke){var Fe=typeof Symbol=="function"&&Te[Symbol.iterator];if(!Fe)return Te;var $e,Be,Ie=Fe.call(Te),Re=[];try{for(;(ke===void 0||ke-- >0)&&!($e=Ie.next()).done;)Re.push($e.value)}catch(je){Be={error:je}}finally{try{$e&&!$e.done&&(Fe=Ie.return)&&Fe.call(Ie)}finally{if(Be)throw Be.error}}return Re},Ae=this&&this.__values||function(Te){var ke=typeof Symbol=="function"&&Symbol.iterator,Fe=ke&&Te[ke],$e=0;if(Fe)return Fe.call(Te);if(Te&&typeof Te.length=="number")return{next:function(){return Te&&$e>=Te.length&&(Te=void 0),{value:Te&&Te[$e++],done:!Te}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(180),Pe=Se(111),Ee=Se(7),Oe=Se(0),Me=Se(69),De=function(){function Te(){}return Te.prototype.parse=function(ke){for(var Fe,$e,Be,Ie,Re=new Ce.XMLStringLexer(ke,{skipWhitespaceOnlyText:!0}),je=Oe.create_document(),Ve=je,He=Re.nextToken();He.type!==Pe.TokenType.EOF;){switch(He.type){case Pe.TokenType.Declaration:var ze=He;if(ze.version!=="1.0")throw new Error("Invalid xml version: "+ze.version);break;case Pe.TokenType.DocType:var Ue=He;if(!Oe.xml_isPubidChar(Ue.pubId))throw new Error("DocType public identifier does not match PubidChar construct.");if(!Oe.xml_isLegalChar(Ue.sysId)||Ue.sysId.indexOf('"')!==-1&&Ue.sysId.indexOf("'")!==-1)throw new Error("DocType system identifier contains invalid characters.");Ve.appendChild(je.implementation.createDocumentType(Ue.name,Ue.pubId,Ue.sysId));break;case Pe.TokenType.CDATA:var We=He;if(!Oe.xml_isLegalChar(We.data)||We.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters.");Ve.appendChild(je.createCDATASection(We.data));break;case Pe.TokenType.Comment:var qe=He;if(!Oe.xml_isLegalChar(qe.data)||qe.data.indexOf("--")!==-1||qe.data.endsWith("-"))throw new Error("Comment data contains invalid characters.");Ve.appendChild(je.createComment(qe.data));break;case Pe.TokenType.PI:var Ge=He;if(Ge.target.indexOf(":")!==-1||/^xml$/i.test(Ge.target))throw new Error("Processing instruction target contains invalid characters.");if(!Oe.xml_isLegalChar(Ge.data)||Ge.data.indexOf("?>")!==-1)throw new Error("Processing instruction data contains invalid characters.");Ve.appendChild(je.createProcessingInstruction(Ge.target,Ge.data));break;case Pe.TokenType.Text:var Ye=He;if(!Oe.xml_isLegalChar(Ye.data))throw new Error("Text data contains invalid characters.");Ve.appendChild(je.createTextNode(this._decodeText(Ye.data)));break;case Pe.TokenType.Element:var Qe=He,Je=_e(Oe.namespace_extractQName(Qe.name),2),ri=Je[0],hi=Je[1];if(hi.indexOf(":")!==-1||!Oe.xml_isName(hi))throw new Error("Node local name contains invalid characters.");if(ri==="xmlns")throw new Error("An element cannot have the 'xmlns' prefix.");var pi=Ve.lookupNamespaceURI(ri),ni={};try{for(var di=(Fe=void 0,Ae(Qe.attributes)),fi=di.next();!fi.done;fi=di.next()){var Pi=_e(fi.value,2),ci=Pi[0],xi=Pi[1];if(ci==="xmlns")pi=xi;else{var yi=_e(Oe.namespace_extractQName(ci),2),gi=yi[0],Ai=yi[1];gi==="xmlns"&&(Ai===ri&&(pi=xi),ni[Ai]=xi)}}}catch(ui){Fe={error:ui}}finally{try{fi&&!fi.done&&($e=di.return)&&$e.call(di)}finally{if(Fe)throw Fe.error}}var Mi=pi!==null?je.createElementNS(pi,Qe.name):je.createElement(Qe.name);Ve.appendChild(Mi);var Fi=new Me.LocalNameSet;try{for(var Di=(Be=void 0,Ae(Qe.attributes)),oi=Di.next();!oi.done;oi=Di.next()){var Ke=_e(oi.value,2),St=(ci=Ke[0],xi=Ke[1],_e(Oe.namespace_extractQName(ci),2)),ei=(gi=St[0],Ai=St[1],null);if(gi==="xmlns"||gi===null&&Ai==="xmlns"?ei=Ee.namespace.XMLNS:(ei=Mi.lookupNamespaceURI(gi))!==null&&Mi.isDefaultNamespace(ei)?ei=null:ei===null&&gi!==null&&(ei=ni[gi]||null),Fi.has(ei,Ai))throw new Error("Element contains duplicate attributes.");if(Fi.set(ei,Ai),ei===Ee.namespace.XMLNS&&xi===Ee.namespace.XMLNS)throw new Error("XMLNS namespace is reserved.");if(Ai.indexOf(":")!==-1||!Oe.xml_isName(Ai))throw new Error("Attribute local name contains invalid characters.");if(gi==="xmlns"&&xi==="")throw new Error("Empty XML namespace is not allowed.");ei!==null?Mi.setAttributeNS(ei,ci,this._decodeAttributeValue(xi)):Mi.setAttribute(ci,this._decodeAttributeValue(xi))}}catch(ui){Be={error:ui}}finally{try{oi&&!oi.done&&(Ie=Di.return)&&Ie.call(Di)}finally{if(Be)throw Be.error}}Qe.selfClosing||(Ve=Mi);break;case Pe.TokenType.ClosingTag:if(He.name!==Ve.nodeName)throw new Error("Closing tag name does not match opening tag name.");Ve._parent&&(Ve=Ve._parent)}He=Re.nextToken()}return je},Te.prototype._decodeText=function(ke){return ke==null?ke:ke.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},Te.prototype._decodeAttributeValue=function(ke){return ke==null?ke:ke.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},Te}();xe.XMLParserImpl=De},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(276);xe.XMLSerializer=_e.XMLSerializerImpl},function(r,xe,Se){var _e=this&&this.__values||function(Te){var ke=typeof Symbol=="function"&&Symbol.iterator,Fe=ke&&Te[ke],$e=0;if(Fe)return Fe.call(Te);if(Te&&typeof Te.length=="number")return{next:function(){return Te&&$e>=Te.length&&(Te=void 0),{value:Te&&Te[$e++],done:!Te}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ae=Se(1),Ce=Se(69),Pe=Se(95),Ee=Se(9),Oe=Se(7),Me=Se(0),De=function(){function Te(){}return Te.prototype.serializeToString=function(ke){return this._xmlSerialization(ke,!1)},Te.prototype._xmlSerialization=function(ke,Fe){if(ke._nodeDocument===void 0||ke._nodeDocument._hasNamespaces){var $e=new Pe.NamespacePrefixMap;$e.set("xml",Oe.namespace.XML);try{return this._serializeNodeNS(ke,null,$e,{value:1},Fe)}catch{throw new Ee.InvalidStateError}}else try{return this._serializeNode(ke,Fe)}catch{throw new Ee.InvalidStateError}},Te.prototype._serializeNodeNS=function(ke,Fe,$e,Be,Ie){switch(ke.nodeType){case Ae.NodeType.Element:return this._serializeElementNS(ke,Fe,$e,Be,Ie);case Ae.NodeType.Document:return this._serializeDocumentNS(ke,Fe,$e,Be,Ie);case Ae.NodeType.Comment:return this._serializeComment(ke,Ie);case Ae.NodeType.Text:return this._serializeText(ke,Ie);case Ae.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(ke,Fe,$e,Be,Ie);case Ae.NodeType.DocumentType:return this._serializeDocumentType(ke,Ie);case Ae.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(ke,Ie);case Ae.NodeType.CData:return this._serializeCData(ke,Ie);default:throw new Error("Unknown node type: "+ke.nodeType)}},Te.prototype._serializeNode=function(ke,Fe){switch(ke.nodeType){case Ae.NodeType.Element:return this._serializeElement(ke,Fe);case Ae.NodeType.Document:return this._serializeDocument(ke,Fe);case Ae.NodeType.Comment:return this._serializeComment(ke,Fe);case Ae.NodeType.Text:return this._serializeText(ke,Fe);case Ae.NodeType.DocumentFragment:return this._serializeDocumentFragment(ke,Fe);case Ae.NodeType.DocumentType:return this._serializeDocumentType(ke,Fe);case Ae.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(ke,Fe);case Ae.NodeType.CData:return this._serializeCData(ke,Fe);default:throw new Error("Unknown node type: "+ke.nodeType)}},Te.prototype._serializeElementNS=function(ke,Fe,$e,Be,Ie){var Re,je;if(Ie&&(ke.localName.indexOf(":")!==-1||!Me.xml_isName(ke.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var Ve="<",He="",ze=!1,Ue=!1,We=$e.copy(),qe={},Ge=this._recordNamespaceInformation(ke,We,qe),Ye=Fe,Qe=ke.namespaceURI;if(Ye===Qe)Ge!==null&&(Ue=!0),Ve+=He=Qe===Oe.namespace.XML?"xml:"+ke.localName:ke.localName;else{var Je=ke.prefix,ri=null;if(Je===null&&Qe===Ge||(ri=We.get(Je,Qe)),Je==="xmlns"){if(Ie)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");ri=Je}ri!==null?(He=ri+":"+ke.localName,Ge!==null&&Ge!==Oe.namespace.XML&&(Ye=Ge||null),Ve+=He):Je!==null?(Je in qe&&(Je=this._generatePrefix(Qe,We,Be)),We.set(Je,Qe),Ve+=He+=Je+":"+ke.localName,Ve+=" xmlns:"+Je+'="'+this._serializeAttributeValue(Qe,Ie)+'"',Ge!==null&&(Ye=Ge||null)):Ge===null||Ge!==null&&Ge!==Qe?(Ue=!0,Ye=Qe,Ve+=He+=ke.localName,Ve+=' xmlns="'+this._serializeAttributeValue(Qe,Ie)+'"'):(Ye=Qe,Ve+=He+=ke.localName)}Ve+=this._serializeAttributesNS(ke,We,Be,qe,Ue,Ie);var hi=Qe===Oe.namespace.HTML;if(hi&&ke.childNodes.length===0&&Te._VoidElementNames.has(ke.localName)?(Ve+=" /",ze=!0):hi||ke.childNodes.length!==0||(Ve+="/",ze=!0),Ve+=">",ze)return Ve;if(!(hi&&ke.localName==="template"))try{for(var pi=_e(ke._children||ke.childNodes),ni=pi.next();!ni.done;ni=pi.next()){var di=ni.value;Ve+=this._serializeNodeNS(di,Ye,We,Be,Ie)}}catch(fi){Re={error:fi}}finally{try{ni&&!ni.done&&(je=pi.return)&&je.call(pi)}finally{if(Re)throw Re.error}}return Ve+="</"+He+">"},Te.prototype._serializeDocumentNS=function(ke,Fe,$e,Be,Ie){var Re,je;if(Ie&&ke.documentElement===null)throw new Error("Missing document element (well-formed required).");var Ve="";try{for(var He=_e(ke._children||ke.childNodes),ze=He.next();!ze.done;ze=He.next()){var Ue=ze.value;Ve+=this._serializeNodeNS(Ue,Fe,$e,Be,Ie)}}catch(We){Re={error:We}}finally{try{ze&&!ze.done&&(je=He.return)&&je.call(He)}finally{if(Re)throw Re.error}}return Ve},Te.prototype._serializeComment=function(ke,Fe){if(Fe&&(!Me.xml_isLegalChar(ke.data)||ke.data.indexOf("--")!==-1||ke.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");return"<!--"+ke.data+"-->"},Te.prototype._serializeText=function(ke,Fe){if(Fe&&!Me.xml_isLegalChar(ke.data))throw new Error("Text data contains invalid characters (well-formed required).");for(var $e="",Be=0;Be<ke.data.length;Be++){var Ie=ke.data[Be];$e+=Ie==="&"?"&amp;":Ie==="<"?"&lt;":Ie===">"?"&gt;":Ie}return $e},Te.prototype._serializeDocumentFragmentNS=function(ke,Fe,$e,Be,Ie){var Re,je,Ve="";try{for(var He=_e(ke._children||ke.childNodes),ze=He.next();!ze.done;ze=He.next()){var Ue=ze.value;Ve+=this._serializeNodeNS(Ue,Fe,$e,Be,Ie)}}catch(We){Re={error:We}}finally{try{ze&&!ze.done&&(je=He.return)&&je.call(He)}finally{if(Re)throw Re.error}}return Ve},Te.prototype._serializeDocumentType=function(ke,Fe){if(Fe&&!Me.xml_isPubidChar(ke.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(Fe&&(!Me.xml_isLegalChar(ke.systemId)||ke.systemId.indexOf('"')!==-1&&ke.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");return ke.publicId&&ke.systemId?"<!DOCTYPE "+ke.name+' PUBLIC "'+ke.publicId+'" "'+ke.systemId+'">':ke.publicId?"<!DOCTYPE "+ke.name+' PUBLIC "'+ke.publicId+'">':ke.systemId?"<!DOCTYPE "+ke.name+' SYSTEM "'+ke.systemId+'">':"<!DOCTYPE "+ke.name+">"},Te.prototype._serializeProcessingInstruction=function(ke,Fe){if(Fe&&(ke.target.indexOf(":")!==-1||/^xml$/i.test(ke.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(Fe&&(!Me.xml_isLegalChar(ke.data)||ke.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");return"<?"+(ke.data===""?ke.target:ke.target+" "+ke.data)+"?>"},Te.prototype._serializeCData=function(ke,Fe){if(Fe&&ke.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");return"<![CDATA["+ke.data+"]]>"},Te.prototype._serializeAttributesNS=function(ke,Fe,$e,Be,Ie,Re){var je,Ve,He="",ze=Re?new Ce.LocalNameSet:void 0;try{for(var Ue=_e(ke.attributes),We=Ue.next();!We.done;We=Ue.next()){var qe=We.value;if(Ie||Re||qe.namespaceURI!==null){if(Re&&ze&&ze.has(qe.namespaceURI,qe.localName))throw new Error("Element contains duplicate attributes (well-formed required).");Re&&ze&&ze.set(qe.namespaceURI,qe.localName);var Ge=qe.namespaceURI,Ye=null;if(Ge!==null)if(Ye=Fe.get(qe.prefix,Ge),Ge===Oe.namespace.XMLNS){if(qe.value===Oe.namespace.XML||qe.prefix===null&&Ie||qe.prefix!==null&&(!(qe.localName in Be)||Be[qe.localName]!==qe.value)&&Fe.has(qe.localName,qe.value))continue;if(Re&&qe.value===Oe.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(Re&&qe.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");qe.prefix==="xmlns"&&(Ye="xmlns")}else Ye===null&&(He+=" xmlns:"+(Ye=qe.prefix===null||Fe.hasPrefix(qe.prefix)&&!Fe.has(qe.prefix,Ge)?this._generatePrefix(Ge,Fe,$e):qe.prefix)+'="'+this._serializeAttributeValue(Ge,Re)+'"');if(He+=" ",Ye!==null&&(He+=Ye+":"),Re&&(qe.localName.indexOf(":")!==-1||!Me.xml_isName(qe.localName)||qe.localName==="xmlns"&&Ge===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");He+=qe.localName+'="'+this._serializeAttributeValue(qe.value,Re)+'"'}else He+=" "+qe.localName+'="'+this._serializeAttributeValue(qe.value,Re)+'"'}}catch(Qe){je={error:Qe}}finally{try{We&&!We.done&&(Ve=Ue.return)&&Ve.call(Ue)}finally{if(je)throw je.error}}return He},Te.prototype._recordNamespaceInformation=function(ke,Fe,$e){var Be,Ie,Re=null;try{for(var je=_e(ke.attributes),Ve=je.next();!Ve.done;Ve=je.next()){var He=Ve.value,ze=He.namespaceURI,Ue=He.prefix;if(ze===Oe.namespace.XMLNS){if(Ue===null){Re=He.value;continue}var We=He.localName,qe=He.value;if(qe===Oe.namespace.XML||(qe===""&&(qe=null),Fe.has(We,qe)))continue;Fe.set(We,qe),$e[We]=qe||""}}}catch(Ge){Be={error:Ge}}finally{try{Ve&&!Ve.done&&(Ie=je.return)&&Ie.call(je)}finally{if(Be)throw Be.error}}return Re},Te.prototype._generatePrefix=function(ke,Fe,$e){var Be="ns"+$e.value;return $e.value++,Fe.set(Be,ke),Be},Te.prototype._serializeAttributeValue=function(ke,Fe){if(Fe&&ke!==null&&!Me.xml_isLegalChar(ke))throw new Error("Invalid characters in attribute value.");if(ke===null)return"";for(var $e="",Be=0;Be<ke.length;Be++){var Ie=ke[Be];$e+=Ie==='"'?"&quot;":Ie==="&"?"&amp;":Ie==="<"?"&lt;":Ie===">"?"&gt;":Ie}return $e},Te.prototype._serializeElement=function(ke,Fe){var $e,Be;if(Fe&&(ke.localName.indexOf(":")!==-1||!Me.xml_isName(ke.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var Ie=!1,Re=ke.localName,je="<"+Re;if(je+=this._serializeAttributes(ke,Fe),ke._children.size===0&&(je+="/",Ie=!0),je+=">",Ie)return je;try{for(var Ve=_e(ke._children),He=Ve.next();!He.done;He=Ve.next()){var ze=He.value;je+=this._serializeNode(ze,Fe)}}catch(Ue){$e={error:Ue}}finally{try{He&&!He.done&&(Be=Ve.return)&&Be.call(Ve)}finally{if($e)throw $e.error}}return je+="</"+Re+">"},Te.prototype._serializeDocument=function(ke,Fe){var $e,Be;if(Fe&&ke.documentElement===null)throw new Error("Missing document element (well-formed required).");var Ie="";try{for(var Re=_e(ke._children),je=Re.next();!je.done;je=Re.next()){var Ve=je.value;Ie+=this._serializeNode(Ve,Fe)}}catch(He){$e={error:He}}finally{try{je&&!je.done&&(Be=Re.return)&&Be.call(Re)}finally{if($e)throw $e.error}}return Ie},Te.prototype._serializeDocumentFragment=function(ke,Fe){var $e,Be,Ie="";try{for(var Re=_e(ke._children),je=Re.next();!je.done;je=Re.next()){var Ve=je.value;Ie+=this._serializeNode(Ve,Fe)}}catch(He){$e={error:He}}finally{try{je&&!je.done&&(Be=Re.return)&&Be.call(Re)}finally{if($e)throw $e.error}}return Ie},Te.prototype._serializeAttributes=function(ke,Fe){var $e,Be,Ie="",Re=Fe?{}:void 0;try{for(var je=_e(ke.attributes),Ve=je.next();!Ve.done;Ve=je.next()){var He=Ve.value;if(Fe&&Re&&He.localName in Re)throw new Error("Element contains duplicate attributes (well-formed required).");if(Fe&&Re&&(Re[He.localName]=!0),Fe&&(He.localName.indexOf(":")!==-1||!Me.xml_isName(He.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");Ie+=" "+He.localName+'="'+this._serializeAttributeValue(He.value,Fe)+'"'}}catch(ze){$e={error:ze}}finally{try{Ve&&!Ve.done&&(Be=je.return)&&Be.call(je)}finally{if($e)throw $e.error}}return Ie},Te._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),Te}();xe.XMLSerializerImpl=De},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(278);xe.XMLReader=_e.XMLReader;var Ae=Se(112);xe.ObjectReader=Ae.ObjectReader;var Ce=Se(281);xe.JSONReader=Ce.JSONReader;var Pe=Se(282);xe.YAMLReader=Pe.YAMLReader},function(r,xe,Se){Se(31),Se(32),Se(33),Se(19),Se(65),Se(20),Se(22),Se(23);var _e,Ae=this&&this.__extends||(_e=function(Fe,$e){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Be,Ie){Be.__proto__=Ie}||function(Be,Ie){for(var Re in Ie)Ie.hasOwnProperty(Re)&&(Be[Re]=Ie[Re])})(Fe,$e)},function(Fe,$e){function Be(){this.constructor=Fe}_e(Fe,$e),Fe.prototype=$e===null?Object.create($e):(Be.prototype=$e.prototype,new Be)}),Ce=this&&this.__read||function(Fe,$e){var Be=typeof Symbol=="function"&&Fe[Symbol.iterator];if(!Be)return Fe;var Ie,Re,je=Be.call(Fe),Ve=[];try{for(;($e===void 0||$e-- >0)&&!(Ie=je.next()).done;)Ve.push(Ie.value)}catch(He){Re={error:He}}finally{try{Ie&&!Ie.done&&(Be=je.return)&&Be.call(je)}finally{if(Re)throw Re.error}}return Ve},Pe=this&&this.__values||function(Fe){var $e=typeof Symbol=="function"&&Symbol.iterator,Be=$e&&Fe[$e],Ie=0;if(Be)return Be.call(Fe);if(Fe&&typeof Fe.length=="number")return{next:function(){return Fe&&Ie>=Fe.length&&(Fe=void 0),{value:Fe&&Fe[Ie++],done:!Fe}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xe,"__esModule",{value:!0});var Ee=Se(180),Oe=Se(111),Me=Se(1),De=Se(7),Te=Se(0),ke=function(Fe){function $e(){return Fe!==null&&Fe.apply(this,arguments)||this}return Ae($e,Fe),$e.prototype._parse=function(Be,Ie){for(var Re,je,Ve,He,ze=new Ee.XMLStringLexer(Ie,{skipWhitespaceOnlyText:this._builderOptions.skipWhitespaceOnlyText}),Ue=Be,We=Be,qe=ze.nextToken();qe.type!==Oe.TokenType.EOF;){switch(qe.type){case Oe.TokenType.Declaration:var Ge=qe,Ye=this.sanitize(Ge.version);if(Ye!=="1.0")throw new Error("Invalid xml version: "+Ye);var Qe={version:Ye};Ge.encoding&&(Qe.encoding=this.sanitize(Ge.encoding)),Ge.standalone&&(Qe.standalone=this.sanitize(Ge.standalone)==="yes"),We.set(Qe);break;case Oe.TokenType.DocType:var Je=qe;We=this.docType(We,this.sanitize(Je.name),this.sanitize(Je.pubId),this.sanitize(Je.sysId))||We;break;case Oe.TokenType.CDATA:var ri=qe;We=this.cdata(We,this.sanitize(ri.data))||We;break;case Oe.TokenType.Comment:var hi=qe;We=this.comment(We,this.sanitize(hi.data))||We;break;case Oe.TokenType.PI:var pi=qe;We=this.instruction(We,this.sanitize(pi.target),this.sanitize(pi.data))||We;break;case Oe.TokenType.Text:if(We.node.nodeType===Me.NodeType.Document)break;var ni=qe;We=this.text(We,this._decodeText(this.sanitize(ni.data)))||We;break;case Oe.TokenType.Element:var di=qe,fi=this.sanitize(di.name),Pi=Ce(Te.namespace_extractQName(fi),1)[0],ci=We.node.lookupNamespaceURI(Pi),xi={};try{for(var yi=(Re=void 0,Pe(di.attributes)),gi=yi.next();!gi.done;gi=yi.next()){var Ai=Ce(gi.value,2),Mi=Ai[0],Fi=Ai[1];if(Mi=this.sanitize(Mi),Fi=this.sanitize(Fi),Mi==="xmlns")ci=Fi;else{var Di=Ce(Te.namespace_extractQName(Mi),2),oi=Di[0],Ke=Di[1];oi==="xmlns"&&(Ke===Pi&&(ci=Fi),xi[Ke]=Fi)}}}catch(ki){Re={error:ki}}finally{try{gi&&!gi.done&&(je=yi.return)&&je.call(yi)}finally{if(Re)throw Re.error}}var St=ci!==null?this.element(We,ci,fi):this.element(We,void 0,fi);if(St===void 0)break;We.node===Be.node&&(Ue=St);try{for(var ei=(Ve=void 0,Pe(di.attributes)),ui=ei.next();!ui.done;ui=ei.next()){var ai=Ce(ui.value,2);Mi=ai[0],Fi=ai[1],Mi=this.sanitize(Mi),Fi=this.sanitize(Fi);var ii=Ce(Te.namespace_extractQName(Mi),2),Ci=(oi=ii[0],Ke=ii[1],null);oi==="xmlns"||oi===null&&Ke==="xmlns"?Ci=De.namespace.XMLNS:(Ci=St.node.lookupNamespaceURI(oi))!==null&&St.node.isDefaultNamespace(Ci)?Ci=null:Ci===null&&oi!==null&&(Ci=xi[oi]||null),Ci!==null?this.attribute(St,Ci,Mi,this._decodeAttributeValue(Fi)):this.attribute(St,void 0,Mi,this._decodeAttributeValue(Fi))}}catch(ki){Ve={error:ki}}finally{try{ui&&!ui.done&&(He=ei.return)&&He.call(ei)}finally{if(Ve)throw Ve.error}}di.selfClosing||(We=St);break;case Oe.TokenType.ClosingTag:We.node.parentNode&&(We=We.up())}qe=ze.nextToken()}return Ue},$e}(Se(75).BaseReader);xe.XMLReader=ke},function(r,xe,Se){var _e=Se(4),Ae=Se(280);_e({target:"Object",stat:!0,forced:Object.assign!==Ae},{assign:Ae})},function(r,xe,Se){var _e=Se(16),Ae=Se(8),Ce=Se(61),Pe=Se(85),Ee=Se(79),Oe=Se(27),Me=Se(41),De=Object.assign,Te=Object.defineProperty;r.exports=!De||Ae(function(){if(_e&&De({b:1},De(Te({},"a",{enumerable:!0,get:function(){Te(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var ke={},Fe={},$e=Symbol();return ke[$e]=7,"abcdefghijklmnopqrst".split("").forEach(function(Be){Fe[Be]=Be}),De({},ke)[$e]!=7||Ce(De({},Fe)).join("")!="abcdefghijklmnopqrst"})?function(ke,Fe){for(var $e=Oe(ke),Be=arguments.length,Ie=1,Re=Pe.f,je=Ee.f;Be>Ie;)for(var Ve,He=Me(arguments[Ie++]),ze=Re?Ce(He).concat(Re(He)):Ce(He),Ue=ze.length,We=0;Ue>We;)Ve=ze[We++],_e&&!je.call(He,Ve)||($e[Ve]=He[Ve]);return $e}:De},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Ee,Oe){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Me,De){Me.__proto__=De}||function(Me,De){for(var Te in De)De.hasOwnProperty(Te)&&(Me[Te]=De[Te])})(Ee,Oe)},function(Ee,Oe){function Me(){this.constructor=Ee}_e(Ee,Oe),Ee.prototype=Oe===null?Object.create(Oe):(Me.prototype=Oe.prototype,new Me)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(112),Pe=function(Ee){function Oe(){return Ee!==null&&Ee.apply(this,arguments)||this}return Ae(Oe,Ee),Oe.prototype._parse=function(Me,De){return new Ce.ObjectReader(this._builderOptions).parse(Me,JSON.parse(De))},Oe}(Se(75).BaseReader);xe.JSONReader=Pe},function(r,xe,Se){var _e,Ae=this&&this.__extends||(_e=function(Me,De){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Te,ke){Te.__proto__=ke}||function(Te,ke){for(var Fe in ke)ke.hasOwnProperty(Fe)&&(Te[Fe]=ke[Fe])})(Me,De)},function(Me,De){function Te(){this.constructor=Me}_e(Me,De),Me.prototype=De===null?Object.create(De):(Te.prototype=De.prototype,new Te)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=Se(112),Pe=Se(75),Ee=Se(283),Oe=function(Me){function De(){return Me!==null&&Me.apply(this,arguments)||this}return Ae(De,Me),De.prototype._parse=function(Te,ke){var Fe=Ee.safeLoad(ke);if(Fe===void 0)throw new Error("Unable to parse YAML document.");return new Ce.ObjectReader(this._builderOptions).parse(Te,Fe)},De}(Pe.BaseReader);xe.YAMLReader=Oe},function(r,xe,Se){var _e=Se(284);r.exports=_e},function(r,xe,Se){var _e=Se(285),Ae=Se(304);function Ce(Pe){return function(){throw new Error("Function "+Pe+" is deprecated and cannot be used.")}}r.exports.Type=Se(10),r.exports.Schema=Se(39),r.exports.FAILSAFE_SCHEMA=Se(113),r.exports.JSON_SCHEMA=Se(182),r.exports.CORE_SCHEMA=Se(181),r.exports.DEFAULT_SAFE_SCHEMA=Se(54),r.exports.DEFAULT_FULL_SCHEMA=Se(76),r.exports.load=_e.load,r.exports.loadAll=_e.loadAll,r.exports.safeLoad=_e.safeLoad,r.exports.safeLoadAll=_e.safeLoadAll,r.exports.dump=Ae.dump,r.exports.safeDump=Ae.safeDump,r.exports.YAMLException=Se(53),r.exports.MINIMAL_SCHEMA=Se(113),r.exports.SAFE_SCHEMA=Se(54),r.exports.DEFAULT_SCHEMA=Se(76),r.exports.scan=Ce("scan"),r.exports.parse=Ce("parse"),r.exports.compose=Ce("compose"),r.exports.addConstructor=Ce("addConstructor")},function(r,xe,Se){var _e=Se(38),Ae=Se(53),Ce=Se(286),Pe=Se(54),Ee=Se(76),Oe=Object.prototype.hasOwnProperty,Me=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,De=/[\x85\u2028\u2029]/,Te=/[,\[\]\{\}]/,ke=/^(?:!|!!|![a-z\-]+!)$/i,Fe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function $e(Ke){return Object.prototype.toString.call(Ke)}function Be(Ke){return Ke===10||Ke===13}function Ie(Ke){return Ke===9||Ke===32}function Re(Ke){return Ke===9||Ke===32||Ke===10||Ke===13}function je(Ke){return Ke===44||Ke===91||Ke===93||Ke===123||Ke===125}function Ve(Ke){var St;return 48<=Ke&&Ke<=57?Ke-48:97<=(St=32|Ke)&&St<=102?St-97+10:-1}function He(Ke){return Ke===48?"\0":Ke===97?"\x07":Ke===98?"\b":Ke===116||Ke===9?"	":Ke===110?`
`:Ke===118?"\v":Ke===102?"\f":Ke===114?"\r":Ke===101?"\x1B":Ke===32?" ":Ke===34?'"':Ke===47?"/":Ke===92?"\\":Ke===78?"":Ke===95?"":Ke===76?"\u2028":Ke===80?"\u2029":""}function ze(Ke){return Ke<=65535?String.fromCharCode(Ke):String.fromCharCode(55296+(Ke-65536>>10),56320+(Ke-65536&1023))}for(var Ue=new Array(256),We=new Array(256),qe=0;qe<256;qe++)Ue[qe]=He(qe)?1:0,We[qe]=He(qe);function Ge(Ke,St){this.input=Ke,this.filename=St.filename||null,this.schema=St.schema||Ee,this.onWarning=St.onWarning||null,this.legacy=St.legacy||!1,this.json=St.json||!1,this.listener=St.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=Ke.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function Ye(Ke,St){return new Ae(St,new Ce(Ke.filename,Ke.input,Ke.position,Ke.line,Ke.position-Ke.lineStart))}function Qe(Ke,St){throw Ye(Ke,St)}function Je(Ke,St){Ke.onWarning&&Ke.onWarning.call(null,Ye(Ke,St))}var ri={YAML:function(Ke,St,ei){var ui,ai,ii;Ke.version!==null&&Qe(Ke,"duplication of %YAML directive"),ei.length!==1&&Qe(Ke,"YAML directive accepts exactly one argument"),(ui=/^([0-9]+)\.([0-9]+)$/.exec(ei[0]))===null&&Qe(Ke,"ill-formed argument of the YAML directive"),ai=parseInt(ui[1],10),ii=parseInt(ui[2],10),ai!==1&&Qe(Ke,"unacceptable YAML version of the document"),Ke.version=ei[0],Ke.checkLineBreaks=ii<2,ii!==1&&ii!==2&&Je(Ke,"unsupported YAML version of the document")},TAG:function(Ke,St,ei){var ui,ai;ei.length!==2&&Qe(Ke,"TAG directive accepts exactly two arguments"),ui=ei[0],ai=ei[1],ke.test(ui)||Qe(Ke,"ill-formed tag handle (first argument) of the TAG directive"),Oe.call(Ke.tagMap,ui)&&Qe(Ke,'there is a previously declared suffix for "'+ui+'" tag handle'),Fe.test(ai)||Qe(Ke,"ill-formed tag prefix (second argument) of the TAG directive"),Ke.tagMap[ui]=ai}};function hi(Ke,St,ei,ui){var ai,ii,Ci,ki;if(St<ei){if(ki=Ke.input.slice(St,ei),ui)for(ai=0,ii=ki.length;ai<ii;ai+=1)(Ci=ki.charCodeAt(ai))===9||32<=Ci&&Ci<=1114111||Qe(Ke,"expected valid JSON character");else Me.test(ki)&&Qe(Ke,"the stream contains non-printable characters");Ke.result+=ki}}function pi(Ke,St,ei,ui){var ai,ii,Ci,ki;for(_e.isObject(ei)||Qe(Ke,"cannot merge mappings; the provided source object is unacceptable"),Ci=0,ki=(ai=Object.keys(ei)).length;Ci<ki;Ci+=1)ii=ai[Ci],Oe.call(St,ii)||(St[ii]=ei[ii],ui[ii]=!0)}function ni(Ke,St,ei,ui,ai,ii,Ci,ki){var bi,Ii;if(Array.isArray(ai))for(bi=0,Ii=(ai=Array.prototype.slice.call(ai)).length;bi<Ii;bi+=1)Array.isArray(ai[bi])&&Qe(Ke,"nested arrays are not supported inside keys"),typeof ai=="object"&&$e(ai[bi])==="[object Object]"&&(ai[bi]="[object Object]");if(typeof ai=="object"&&$e(ai)==="[object Object]"&&(ai="[object Object]"),ai=String(ai),St===null&&(St={}),ui==="tag:yaml.org,2002:merge")if(Array.isArray(ii))for(bi=0,Ii=ii.length;bi<Ii;bi+=1)pi(Ke,St,ii[bi],ei);else pi(Ke,St,ii,ei);else Ke.json||Oe.call(ei,ai)||!Oe.call(St,ai)||(Ke.line=Ci||Ke.line,Ke.position=ki||Ke.position,Qe(Ke,"duplicated mapping key")),St[ai]=ii,delete ei[ai];return St}function di(Ke){var St;(St=Ke.input.charCodeAt(Ke.position))===10?Ke.position++:St===13?(Ke.position++,Ke.input.charCodeAt(Ke.position)===10&&Ke.position++):Qe(Ke,"a line break is expected"),Ke.line+=1,Ke.lineStart=Ke.position}function fi(Ke,St,ei){for(var ui=0,ai=Ke.input.charCodeAt(Ke.position);ai!==0;){for(;Ie(ai);)ai=Ke.input.charCodeAt(++Ke.position);if(St&&ai===35)do ai=Ke.input.charCodeAt(++Ke.position);while(ai!==10&&ai!==13&&ai!==0);if(!Be(ai))break;for(di(Ke),ai=Ke.input.charCodeAt(Ke.position),ui++,Ke.lineIndent=0;ai===32;)Ke.lineIndent++,ai=Ke.input.charCodeAt(++Ke.position)}return ei!==-1&&ui!==0&&Ke.lineIndent<ei&&Je(Ke,"deficient indentation"),ui}function Pi(Ke){var St,ei=Ke.position;return!((St=Ke.input.charCodeAt(ei))!==45&&St!==46||St!==Ke.input.charCodeAt(ei+1)||St!==Ke.input.charCodeAt(ei+2)||(ei+=3,(St=Ke.input.charCodeAt(ei))!==0&&!Re(St)))}function ci(Ke,St){St===1?Ke.result+=" ":St>1&&(Ke.result+=_e.repeat(`
`,St-1))}function xi(Ke,St){var ei,ui,ai=Ke.tag,ii=Ke.anchor,Ci=[],ki=!1;for(Ke.anchor!==null&&(Ke.anchorMap[Ke.anchor]=Ci),ui=Ke.input.charCodeAt(Ke.position);ui!==0&&ui===45&&Re(Ke.input.charCodeAt(Ke.position+1));)if(ki=!0,Ke.position++,fi(Ke,!0,-1)&&Ke.lineIndent<=St)Ci.push(null),ui=Ke.input.charCodeAt(Ke.position);else if(ei=Ke.line,Ai(Ke,St,3,!1,!0),Ci.push(Ke.result),fi(Ke,!0,-1),ui=Ke.input.charCodeAt(Ke.position),(Ke.line===ei||Ke.lineIndent>St)&&ui!==0)Qe(Ke,"bad indentation of a sequence entry");else if(Ke.lineIndent<St)break;return!!ki&&(Ke.tag=ai,Ke.anchor=ii,Ke.kind="sequence",Ke.result=Ci,!0)}function yi(Ke){var St,ei,ui,ai,ii=!1,Ci=!1;if((ai=Ke.input.charCodeAt(Ke.position))!==33)return!1;if(Ke.tag!==null&&Qe(Ke,"duplication of a tag property"),(ai=Ke.input.charCodeAt(++Ke.position))===60?(ii=!0,ai=Ke.input.charCodeAt(++Ke.position)):ai===33?(Ci=!0,ei="!!",ai=Ke.input.charCodeAt(++Ke.position)):ei="!",St=Ke.position,ii){do ai=Ke.input.charCodeAt(++Ke.position);while(ai!==0&&ai!==62);Ke.position<Ke.length?(ui=Ke.input.slice(St,Ke.position),ai=Ke.input.charCodeAt(++Ke.position)):Qe(Ke,"unexpected end of the stream within a verbatim tag")}else{for(;ai!==0&&!Re(ai);)ai===33&&(Ci?Qe(Ke,"tag suffix cannot contain exclamation marks"):(ei=Ke.input.slice(St-1,Ke.position+1),ke.test(ei)||Qe(Ke,"named tag handle cannot contain such characters"),Ci=!0,St=Ke.position+1)),ai=Ke.input.charCodeAt(++Ke.position);ui=Ke.input.slice(St,Ke.position),Te.test(ui)&&Qe(Ke,"tag suffix cannot contain flow indicator characters")}return ui&&!Fe.test(ui)&&Qe(Ke,"tag name cannot contain such characters: "+ui),ii?Ke.tag=ui:Oe.call(Ke.tagMap,ei)?Ke.tag=Ke.tagMap[ei]+ui:ei==="!"?Ke.tag="!"+ui:ei==="!!"?Ke.tag="tag:yaml.org,2002:"+ui:Qe(Ke,'undeclared tag handle "'+ei+'"'),!0}function gi(Ke){var St,ei;if((ei=Ke.input.charCodeAt(Ke.position))!==38)return!1;for(Ke.anchor!==null&&Qe(Ke,"duplication of an anchor property"),ei=Ke.input.charCodeAt(++Ke.position),St=Ke.position;ei!==0&&!Re(ei)&&!je(ei);)ei=Ke.input.charCodeAt(++Ke.position);return Ke.position===St&&Qe(Ke,"name of an anchor node must contain at least one character"),Ke.anchor=Ke.input.slice(St,Ke.position),!0}function Ai(Ke,St,ei,ui,ai){var ii,Ci,ki,bi,Ii,Bi,Vi,ji,Zi=1,Wi=!1,Qi=!1;if(Ke.listener!==null&&Ke.listener("open",Ke),Ke.tag=null,Ke.anchor=null,Ke.kind=null,Ke.result=null,ii=Ci=ki=ei===4||ei===3,ui&&fi(Ke,!0,-1)&&(Wi=!0,Ke.lineIndent>St?Zi=1:Ke.lineIndent===St?Zi=0:Ke.lineIndent<St&&(Zi=-1)),Zi===1)for(;yi(Ke)||gi(Ke);)fi(Ke,!0,-1)?(Wi=!0,ki=ii,Ke.lineIndent>St?Zi=1:Ke.lineIndent===St?Zi=0:Ke.lineIndent<St&&(Zi=-1)):ki=!1;if(ki&&(ki=Wi||ai),Zi!==1&&ei!==4||(Vi=ei===1||ei===2?St:St+1,ji=Ke.position-Ke.lineStart,Zi===1?ki&&(xi(Ke,ji)||function(wi,tn,Yi){var nn,Ni,Xi,an,cn,dn=wi.tag,bn=wi.anchor,wn={},Sn={},kn=null,Ln=null,jn=null,Rn=!1,Fn=!1;for(wi.anchor!==null&&(wi.anchorMap[wi.anchor]=wn),cn=wi.input.charCodeAt(wi.position);cn!==0;){if(nn=wi.input.charCodeAt(wi.position+1),Xi=wi.line,an=wi.position,cn!==63&&cn!==58||!Re(nn)){if(!Ai(wi,Yi,2,!1,!0))break;if(wi.line===Xi){for(cn=wi.input.charCodeAt(wi.position);Ie(cn);)cn=wi.input.charCodeAt(++wi.position);if(cn===58)Re(cn=wi.input.charCodeAt(++wi.position))||Qe(wi,"a whitespace character is expected after the key-value separator within a block mapping"),Rn&&(ni(wi,wn,Sn,kn,Ln,null),kn=Ln=jn=null),Fn=!0,Rn=!1,Ni=!1,kn=wi.tag,Ln=wi.result;else{if(!Fn)return wi.tag=dn,wi.anchor=bn,!0;Qe(wi,"can not read an implicit mapping pair; a colon is missed")}}else{if(!Fn)return wi.tag=dn,wi.anchor=bn,!0;Qe(wi,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else cn===63?(Rn&&(ni(wi,wn,Sn,kn,Ln,null),kn=Ln=jn=null),Fn=!0,Rn=!0,Ni=!0):Rn?(Rn=!1,Ni=!0):Qe(wi,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),wi.position+=1,cn=nn;if((wi.line===Xi||wi.lineIndent>tn)&&(Ai(wi,tn,4,!0,Ni)&&(Rn?Ln=wi.result:jn=wi.result),Rn||(ni(wi,wn,Sn,kn,Ln,jn,Xi,an),kn=Ln=jn=null),fi(wi,!0,-1),cn=wi.input.charCodeAt(wi.position)),wi.lineIndent>tn&&cn!==0)Qe(wi,"bad indentation of a mapping entry");else if(wi.lineIndent<tn)break}return Rn&&ni(wi,wn,Sn,kn,Ln,null),Fn&&(wi.tag=dn,wi.anchor=bn,wi.kind="mapping",wi.result=wn),Fn}(Ke,ji,Vi))||function(wi,tn){var Yi,nn,Ni,Xi,an,cn,dn,bn,wn,Sn,kn=!0,Ln=wi.tag,jn=wi.anchor,Rn={};if((Sn=wi.input.charCodeAt(wi.position))===91)Ni=93,cn=!1,nn=[];else{if(Sn!==123)return!1;Ni=125,cn=!0,nn={}}for(wi.anchor!==null&&(wi.anchorMap[wi.anchor]=nn),Sn=wi.input.charCodeAt(++wi.position);Sn!==0;){if(fi(wi,!0,tn),(Sn=wi.input.charCodeAt(wi.position))===Ni)return wi.position++,wi.tag=Ln,wi.anchor=jn,wi.kind=cn?"mapping":"sequence",wi.result=nn,!0;kn||Qe(wi,"missed comma between flow collection entries"),wn=null,Xi=an=!1,Sn===63&&Re(wi.input.charCodeAt(wi.position+1))&&(Xi=an=!0,wi.position++,fi(wi,!0,tn)),Yi=wi.line,Ai(wi,tn,1,!1,!0),bn=wi.tag,dn=wi.result,fi(wi,!0,tn),Sn=wi.input.charCodeAt(wi.position),!an&&wi.line!==Yi||Sn!==58||(Xi=!0,Sn=wi.input.charCodeAt(++wi.position),fi(wi,!0,tn),Ai(wi,tn,1,!1,!0),wn=wi.result),cn?ni(wi,nn,Rn,bn,dn,wn):Xi?nn.push(ni(wi,null,Rn,bn,dn,wn)):nn.push(dn),fi(wi,!0,tn),(Sn=wi.input.charCodeAt(wi.position))===44?(kn=!0,Sn=wi.input.charCodeAt(++wi.position)):kn=!1}Qe(wi,"unexpected end of the stream within a flow collection")}(Ke,Vi)?Qi=!0:(Ci&&function(wi,tn){var Yi,nn,Ni,Xi,an,cn=1,dn=!1,bn=!1,wn=tn,Sn=0,kn=!1;if((Xi=wi.input.charCodeAt(wi.position))===124)nn=!1;else{if(Xi!==62)return!1;nn=!0}for(wi.kind="scalar",wi.result="";Xi!==0;)if((Xi=wi.input.charCodeAt(++wi.position))===43||Xi===45)cn===1?cn=Xi===43?3:2:Qe(wi,"repeat of a chomping mode identifier");else{if(!((Ni=48<=(an=Xi)&&an<=57?an-48:-1)>=0))break;Ni===0?Qe(wi,"bad explicit indentation width of a block scalar; it cannot be less than one"):bn?Qe(wi,"repeat of an indentation width identifier"):(wn=tn+Ni-1,bn=!0)}if(Ie(Xi)){do Xi=wi.input.charCodeAt(++wi.position);while(Ie(Xi));if(Xi===35)do Xi=wi.input.charCodeAt(++wi.position);while(!Be(Xi)&&Xi!==0)}for(;Xi!==0;){for(di(wi),wi.lineIndent=0,Xi=wi.input.charCodeAt(wi.position);(!bn||wi.lineIndent<wn)&&Xi===32;)wi.lineIndent++,Xi=wi.input.charCodeAt(++wi.position);if(!bn&&wi.lineIndent>wn&&(wn=wi.lineIndent),Be(Xi))Sn++;else{if(wi.lineIndent<wn){cn===3?wi.result+=_e.repeat(`
`,dn?1+Sn:Sn):cn===1&&dn&&(wi.result+=`
`);break}for(nn?Ie(Xi)?(kn=!0,wi.result+=_e.repeat(`
`,dn?1+Sn:Sn)):kn?(kn=!1,wi.result+=_e.repeat(`
`,Sn+1)):Sn===0?dn&&(wi.result+=" "):wi.result+=_e.repeat(`
`,Sn):wi.result+=_e.repeat(`
`,dn?1+Sn:Sn),dn=!0,bn=!0,Sn=0,Yi=wi.position;!Be(Xi)&&Xi!==0;)Xi=wi.input.charCodeAt(++wi.position);hi(wi,Yi,wi.position,!1)}}return!0}(Ke,Vi)||function(wi,tn){var Yi,nn,Ni;if((Yi=wi.input.charCodeAt(wi.position))!==39)return!1;for(wi.kind="scalar",wi.result="",wi.position++,nn=Ni=wi.position;(Yi=wi.input.charCodeAt(wi.position))!==0;)if(Yi===39){if(hi(wi,nn,wi.position,!0),(Yi=wi.input.charCodeAt(++wi.position))!==39)return!0;nn=wi.position,wi.position++,Ni=wi.position}else Be(Yi)?(hi(wi,nn,Ni,!0),ci(wi,fi(wi,!1,tn)),nn=Ni=wi.position):wi.position===wi.lineStart&&Pi(wi)?Qe(wi,"unexpected end of the document within a single quoted scalar"):(wi.position++,Ni=wi.position);Qe(wi,"unexpected end of the stream within a single quoted scalar")}(Ke,Vi)||function(wi,tn){var Yi,nn,Ni,Xi,an,cn,dn;if((cn=wi.input.charCodeAt(wi.position))!==34)return!1;for(wi.kind="scalar",wi.result="",wi.position++,Yi=nn=wi.position;(cn=wi.input.charCodeAt(wi.position))!==0;){if(cn===34)return hi(wi,Yi,wi.position,!0),wi.position++,!0;if(cn===92){if(hi(wi,Yi,wi.position,!0),Be(cn=wi.input.charCodeAt(++wi.position)))fi(wi,!1,tn);else if(cn<256&&Ue[cn])wi.result+=We[cn],wi.position++;else if((an=(dn=cn)===120?2:dn===117?4:dn===85?8:0)>0){for(Ni=an,Xi=0;Ni>0;Ni--)(an=Ve(cn=wi.input.charCodeAt(++wi.position)))>=0?Xi=(Xi<<4)+an:Qe(wi,"expected hexadecimal character");wi.result+=ze(Xi),wi.position++}else Qe(wi,"unknown escape sequence");Yi=nn=wi.position}else Be(cn)?(hi(wi,Yi,nn,!0),ci(wi,fi(wi,!1,tn)),Yi=nn=wi.position):wi.position===wi.lineStart&&Pi(wi)?Qe(wi,"unexpected end of the document within a double quoted scalar"):(wi.position++,nn=wi.position)}Qe(wi,"unexpected end of the stream within a double quoted scalar")}(Ke,Vi)?Qi=!0:function(wi){var tn,Yi,nn;if((nn=wi.input.charCodeAt(wi.position))!==42)return!1;for(nn=wi.input.charCodeAt(++wi.position),tn=wi.position;nn!==0&&!Re(nn)&&!je(nn);)nn=wi.input.charCodeAt(++wi.position);return wi.position===tn&&Qe(wi,"name of an alias node must contain at least one character"),Yi=wi.input.slice(tn,wi.position),Oe.call(wi.anchorMap,Yi)||Qe(wi,'unidentified alias "'+Yi+'"'),wi.result=wi.anchorMap[Yi],fi(wi,!0,-1),!0}(Ke)?(Qi=!0,Ke.tag===null&&Ke.anchor===null||Qe(Ke,"alias node should not have any properties")):function(wi,tn,Yi){var nn,Ni,Xi,an,cn,dn,bn,wn,Sn=wi.kind,kn=wi.result;if(Re(wn=wi.input.charCodeAt(wi.position))||je(wn)||wn===35||wn===38||wn===42||wn===33||wn===124||wn===62||wn===39||wn===34||wn===37||wn===64||wn===96||(wn===63||wn===45)&&(Re(nn=wi.input.charCodeAt(wi.position+1))||Yi&&je(nn)))return!1;for(wi.kind="scalar",wi.result="",Ni=Xi=wi.position,an=!1;wn!==0;){if(wn===58){if(Re(nn=wi.input.charCodeAt(wi.position+1))||Yi&&je(nn))break}else if(wn===35){if(Re(wi.input.charCodeAt(wi.position-1)))break}else{if(wi.position===wi.lineStart&&Pi(wi)||Yi&&je(wn))break;if(Be(wn)){if(cn=wi.line,dn=wi.lineStart,bn=wi.lineIndent,fi(wi,!1,-1),wi.lineIndent>=tn){an=!0,wn=wi.input.charCodeAt(wi.position);continue}wi.position=Xi,wi.line=cn,wi.lineStart=dn,wi.lineIndent=bn;break}}an&&(hi(wi,Ni,Xi,!1),ci(wi,wi.line-cn),Ni=Xi=wi.position,an=!1),Ie(wn)||(Xi=wi.position+1),wn=wi.input.charCodeAt(++wi.position)}return hi(wi,Ni,Xi,!1),!!wi.result||(wi.kind=Sn,wi.result=kn,!1)}(Ke,Vi,ei===1)&&(Qi=!0,Ke.tag===null&&(Ke.tag="?")),Ke.anchor!==null&&(Ke.anchorMap[Ke.anchor]=Ke.result)):Zi===0&&(Qi=ki&&xi(Ke,ji))),Ke.tag!==null&&Ke.tag!=="!")if(Ke.tag==="?"){for(Ke.result!==null&&Ke.kind!=="scalar"&&Qe(Ke,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+Ke.kind+'"'),bi=0,Ii=Ke.implicitTypes.length;bi<Ii;bi+=1)if((Bi=Ke.implicitTypes[bi]).resolve(Ke.result)){Ke.result=Bi.construct(Ke.result),Ke.tag=Bi.tag,Ke.anchor!==null&&(Ke.anchorMap[Ke.anchor]=Ke.result);break}}else Oe.call(Ke.typeMap[Ke.kind||"fallback"],Ke.tag)?(Bi=Ke.typeMap[Ke.kind||"fallback"][Ke.tag],Ke.result!==null&&Bi.kind!==Ke.kind&&Qe(Ke,"unacceptable node kind for !<"+Ke.tag+'> tag; it should be "'+Bi.kind+'", not "'+Ke.kind+'"'),Bi.resolve(Ke.result)?(Ke.result=Bi.construct(Ke.result),Ke.anchor!==null&&(Ke.anchorMap[Ke.anchor]=Ke.result)):Qe(Ke,"cannot resolve a node with !<"+Ke.tag+"> explicit tag")):Qe(Ke,"unknown tag !<"+Ke.tag+">");return Ke.listener!==null&&Ke.listener("close",Ke),Ke.tag!==null||Ke.anchor!==null||Qi}function Mi(Ke){var St,ei,ui,ai,ii=Ke.position,Ci=!1;for(Ke.version=null,Ke.checkLineBreaks=Ke.legacy,Ke.tagMap={},Ke.anchorMap={};(ai=Ke.input.charCodeAt(Ke.position))!==0&&(fi(Ke,!0,-1),ai=Ke.input.charCodeAt(Ke.position),!(Ke.lineIndent>0||ai!==37));){for(Ci=!0,ai=Ke.input.charCodeAt(++Ke.position),St=Ke.position;ai!==0&&!Re(ai);)ai=Ke.input.charCodeAt(++Ke.position);for(ui=[],(ei=Ke.input.slice(St,Ke.position)).length<1&&Qe(Ke,"directive name must not be less than one character in length");ai!==0;){for(;Ie(ai);)ai=Ke.input.charCodeAt(++Ke.position);if(ai===35){do ai=Ke.input.charCodeAt(++Ke.position);while(ai!==0&&!Be(ai));break}if(Be(ai))break;for(St=Ke.position;ai!==0&&!Re(ai);)ai=Ke.input.charCodeAt(++Ke.position);ui.push(Ke.input.slice(St,Ke.position))}ai!==0&&di(Ke),Oe.call(ri,ei)?ri[ei](Ke,ei,ui):Je(Ke,'unknown document directive "'+ei+'"')}fi(Ke,!0,-1),Ke.lineIndent===0&&Ke.input.charCodeAt(Ke.position)===45&&Ke.input.charCodeAt(Ke.position+1)===45&&Ke.input.charCodeAt(Ke.position+2)===45?(Ke.position+=3,fi(Ke,!0,-1)):Ci&&Qe(Ke,"directives end mark is expected"),Ai(Ke,Ke.lineIndent-1,4,!1,!0),fi(Ke,!0,-1),Ke.checkLineBreaks&&De.test(Ke.input.slice(ii,Ke.position))&&Je(Ke,"non-ASCII line breaks are interpreted as content"),Ke.documents.push(Ke.result),Ke.position===Ke.lineStart&&Pi(Ke)?Ke.input.charCodeAt(Ke.position)===46&&(Ke.position+=3,fi(Ke,!0,-1)):Ke.position<Ke.length-1&&Qe(Ke,"end of the stream or a document separator is expected")}function Fi(Ke,St){St=St||{},(Ke=String(Ke)).length!==0&&(Ke.charCodeAt(Ke.length-1)!==10&&Ke.charCodeAt(Ke.length-1)!==13&&(Ke+=`
`),Ke.charCodeAt(0)===65279&&(Ke=Ke.slice(1)));var ei=new Ge(Ke,St),ui=Ke.indexOf("\0");for(ui!==-1&&(ei.position=ui,Qe(ei,"null byte is not allowed in input")),ei.input+="\0";ei.input.charCodeAt(ei.position)===32;)ei.lineIndent+=1,ei.position+=1;for(;ei.position<ei.length-1;)Mi(ei);return ei.documents}function Di(Ke,St,ei){St!==null&&typeof St=="object"&&ei===void 0&&(ei=St,St=null);var ui=Fi(Ke,ei);if(typeof St!="function")return ui;for(var ai=0,ii=ui.length;ai<ii;ai+=1)St(ui[ai])}function oi(Ke,St){var ei=Fi(Ke,St);if(ei.length!==0){if(ei.length===1)return ei[0];throw new Ae("expected a single document in the stream, but found more")}}r.exports.loadAll=Di,r.exports.load=oi,r.exports.safeLoadAll=function(Ke,St,ei){return typeof St=="object"&&St!==null&&ei===void 0&&(ei=St,St=null),Di(Ke,St,_e.extend({schema:Pe},ei))},r.exports.safeLoad=function(Ke,St){return oi(Ke,_e.extend({schema:Pe},St))}},function(r,xe,Se){var _e=Se(38);function Ae(Ce,Pe,Ee,Oe,Me){this.name=Ce,this.buffer=Pe,this.position=Ee,this.line=Oe,this.column=Me}Ae.prototype.getSnippet=function(Ce,Pe){var Ee,Oe,Me,De,Te;if(!this.buffer)return null;for(Ce=Ce||4,Pe=Pe||75,Ee="",Oe=this.position;Oe>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(Oe-1))===-1;)if(Oe-=1,this.position-Oe>Pe/2-1){Ee=" ... ",Oe+=5;break}for(Me="",De=this.position;De<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(De))===-1;)if((De+=1)-this.position>Pe/2-1){Me=" ... ",De-=5;break}return Te=this.buffer.slice(Oe,De),_e.repeat(" ",Ce)+Ee+Te+Me+`
`+_e.repeat(" ",Ce+this.position-Oe+Ee.length)+"^"},Ae.prototype.toString=function(Ce){var Pe,Ee="";return this.name&&(Ee+='in "'+this.name+'" '),Ee+="at line "+(this.line+1)+", column "+(this.column+1),Ce||(Pe=this.getSnippet())&&(Ee+=`:
`+Pe),Ee},r.exports=Ae},function(r,xe,Se){var _e=Se(10);r.exports=new _e("tag:yaml.org,2002:str",{kind:"scalar",construct:function(Ae){return Ae!==null?Ae:""}})},function(r,xe,Se){var _e=Se(10);r.exports=new _e("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(Ae){return Ae!==null?Ae:[]}})},function(r,xe,Se){var _e=Se(10);r.exports=new _e("tag:yaml.org,2002:map",{kind:"mapping",construct:function(Ae){return Ae!==null?Ae:{}}})},function(r,xe,Se){var _e=Se(10);r.exports=new _e("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(Ae){if(Ae===null)return!0;var Ce=Ae.length;return Ce===1&&Ae==="~"||Ce===4&&(Ae==="null"||Ae==="Null"||Ae==="NULL")},construct:function(){return null},predicate:function(Ae){return Ae===null},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(r,xe,Se){var _e=Se(10);r.exports=new _e("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(Ae){if(Ae===null)return!1;var Ce=Ae.length;return Ce===4&&(Ae==="true"||Ae==="True"||Ae==="TRUE")||Ce===5&&(Ae==="false"||Ae==="False"||Ae==="FALSE")},construct:function(Ae){return Ae==="true"||Ae==="True"||Ae==="TRUE"},predicate:function(Ae){return Object.prototype.toString.call(Ae)==="[object Boolean]"},represent:{lowercase:function(Ae){return Ae?"true":"false"},uppercase:function(Ae){return Ae?"TRUE":"FALSE"},camelcase:function(Ae){return Ae?"True":"False"}},defaultStyle:"lowercase"})},function(r,xe,Se){var _e=Se(38),Ae=Se(10);function Ce(Ee){return 48<=Ee&&Ee<=55}function Pe(Ee){return 48<=Ee&&Ee<=57}r.exports=new Ae("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(Ee){if(Ee===null)return!1;var Oe,Me,De=Ee.length,Te=0,ke=!1;if(!De)return!1;if((Oe=Ee[Te])!=="-"&&Oe!=="+"||(Oe=Ee[++Te]),Oe==="0"){if(Te+1===De)return!0;if((Oe=Ee[++Te])==="b"){for(Te++;Te<De;Te++)if((Oe=Ee[Te])!=="_"){if(Oe!=="0"&&Oe!=="1")return!1;ke=!0}return ke&&Oe!=="_"}if(Oe==="x"){for(Te++;Te<De;Te++)if((Oe=Ee[Te])!=="_"){if(!(48<=(Me=Ee.charCodeAt(Te))&&Me<=57||65<=Me&&Me<=70||97<=Me&&Me<=102))return!1;ke=!0}return ke&&Oe!=="_"}for(;Te<De;Te++)if((Oe=Ee[Te])!=="_"){if(!Ce(Ee.charCodeAt(Te)))return!1;ke=!0}return ke&&Oe!=="_"}if(Oe==="_")return!1;for(;Te<De;Te++)if((Oe=Ee[Te])!=="_"){if(Oe===":")break;if(!Pe(Ee.charCodeAt(Te)))return!1;ke=!0}return!(!ke||Oe==="_")&&(Oe!==":"||/^(:[0-5]?[0-9])+$/.test(Ee.slice(Te)))},construct:function(Ee){var Oe,Me,De=Ee,Te=1,ke=[];return De.indexOf("_")!==-1&&(De=De.replace(/_/g,"")),(Oe=De[0])!=="-"&&Oe!=="+"||(Oe==="-"&&(Te=-1),Oe=(De=De.slice(1))[0]),De==="0"?0:Oe==="0"?De[1]==="b"?Te*parseInt(De.slice(2),2):De[1]==="x"?Te*parseInt(De,16):Te*parseInt(De,8):De.indexOf(":")!==-1?(De.split(":").forEach(function(Fe){ke.unshift(parseInt(Fe,10))}),De=0,Me=1,ke.forEach(function(Fe){De+=Fe*Me,Me*=60}),Te*De):Te*parseInt(De,10)},predicate:function(Ee){return Object.prototype.toString.call(Ee)==="[object Number]"&&Ee%1==0&&!_e.isNegativeZero(Ee)},represent:{binary:function(Ee){return Ee>=0?"0b"+Ee.toString(2):"-0b"+Ee.toString(2).slice(1)},octal:function(Ee){return Ee>=0?"0"+Ee.toString(8):"-0"+Ee.toString(8).slice(1)},decimal:function(Ee){return Ee.toString(10)},hexadecimal:function(Ee){return Ee>=0?"0x"+Ee.toString(16).toUpperCase():"-0x"+Ee.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(r,xe,Se){var _e=Se(38),Ae=Se(10),Ce=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),Pe=/^[-+]?[0-9]+e/;r.exports=new Ae("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(Ee){return Ee!==null&&!(!Ce.test(Ee)||Ee[Ee.length-1]==="_")},construct:function(Ee){var Oe,Me,De,Te;return Me=(Oe=Ee.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,Te=[],"+-".indexOf(Oe[0])>=0&&(Oe=Oe.slice(1)),Oe===".inf"?Me===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:Oe===".nan"?NaN:Oe.indexOf(":")>=0?(Oe.split(":").forEach(function(ke){Te.unshift(parseFloat(ke,10))}),Oe=0,De=1,Te.forEach(function(ke){Oe+=ke*De,De*=60}),Me*Oe):Me*parseFloat(Oe,10)},predicate:function(Ee){return Object.prototype.toString.call(Ee)==="[object Number]"&&(Ee%1!=0||_e.isNegativeZero(Ee))},represent:function(Ee,Oe){var Me;if(isNaN(Ee))switch(Oe){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===Ee)switch(Oe){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===Ee)switch(Oe){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(_e.isNegativeZero(Ee))return"-0.0";return Me=Ee.toString(10),Pe.test(Me)?Me.replace("e",".e"):Me},defaultStyle:"lowercase"})},function(r,xe,Se){var _e=Se(10),Ae=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ce=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");r.exports=new _e("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(Pe){return Pe!==null&&(Ae.exec(Pe)!==null||Ce.exec(Pe)!==null)},construct:function(Pe){var Ee,Oe,Me,De,Te,ke,Fe,$e,Be=0,Ie=null;if((Ee=Ae.exec(Pe))===null&&(Ee=Ce.exec(Pe)),Ee===null)throw new Error("Date resolve error");if(Oe=+Ee[1],Me=+Ee[2]-1,De=+Ee[3],!Ee[4])return new Date(Date.UTC(Oe,Me,De));if(Te=+Ee[4],ke=+Ee[5],Fe=+Ee[6],Ee[7]){for(Be=Ee[7].slice(0,3);Be.length<3;)Be+="0";Be=+Be}return Ee[9]&&(Ie=6e4*(60*+Ee[10]+ +(Ee[11]||0)),Ee[9]==="-"&&(Ie=-Ie)),$e=new Date(Date.UTC(Oe,Me,De,Te,ke,Fe,Be)),Ie&&$e.setTime($e.getTime()-Ie),$e},instanceOf:Date,represent:function(Pe){return Pe.toISOString()}})},function(r,xe,Se){var _e=Se(10);r.exports=new _e("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(Ae){return Ae==="<<"||Ae===null}})},function(r,xe,Se){var _e;try{_e=Se(145).Buffer}catch{}var Ae=Se(10),Ce=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;r.exports=new Ae("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(Pe){if(Pe===null)return!1;var Ee,Oe,Me=0,De=Pe.length,Te=Ce;for(Oe=0;Oe<De;Oe++)if(!((Ee=Te.indexOf(Pe.charAt(Oe)))>64)){if(Ee<0)return!1;Me+=6}return Me%8==0},construct:function(Pe){var Ee,Oe,Me=Pe.replace(/[\r\n=]/g,""),De=Me.length,Te=Ce,ke=0,Fe=[];for(Ee=0;Ee<De;Ee++)Ee%4==0&&Ee&&(Fe.push(ke>>16&255),Fe.push(ke>>8&255),Fe.push(255&ke)),ke=ke<<6|Te.indexOf(Me.charAt(Ee));return(Oe=De%4*6)===0?(Fe.push(ke>>16&255),Fe.push(ke>>8&255),Fe.push(255&ke)):Oe===18?(Fe.push(ke>>10&255),Fe.push(ke>>2&255)):Oe===12&&Fe.push(ke>>4&255),_e?_e.from?_e.from(Fe):new _e(Fe):Fe},predicate:function(Pe){return _e&&_e.isBuffer(Pe)},represent:function(Pe){var Ee,Oe,Me="",De=0,Te=Pe.length,ke=Ce;for(Ee=0;Ee<Te;Ee++)Ee%3==0&&Ee&&(Me+=ke[De>>18&63],Me+=ke[De>>12&63],Me+=ke[De>>6&63],Me+=ke[63&De]),De=(De<<8)+Pe[Ee];return(Oe=Te%3)===0?(Me+=ke[De>>18&63],Me+=ke[De>>12&63],Me+=ke[De>>6&63],Me+=ke[63&De]):Oe===2?(Me+=ke[De>>10&63],Me+=ke[De>>4&63],Me+=ke[De<<2&63],Me+=ke[64]):Oe===1&&(Me+=ke[De>>2&63],Me+=ke[De<<4&63],Me+=ke[64],Me+=ke[64]),Me}})},function(r,xe,Se){var _e=Se(10),Ae=Object.prototype.hasOwnProperty,Ce=Object.prototype.toString;r.exports=new _e("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(Pe){if(Pe===null)return!0;var Ee,Oe,Me,De,Te,ke=[],Fe=Pe;for(Ee=0,Oe=Fe.length;Ee<Oe;Ee+=1){if(Me=Fe[Ee],Te=!1,Ce.call(Me)!=="[object Object]")return!1;for(De in Me)if(Ae.call(Me,De)){if(Te)return!1;Te=!0}if(!Te||ke.indexOf(De)!==-1)return!1;ke.push(De)}return!0},construct:function(Pe){return Pe!==null?Pe:[]}})},function(r,xe,Se){var _e=Se(10),Ae=Object.prototype.toString;r.exports=new _e("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(Ce){if(Ce===null)return!0;var Pe,Ee,Oe,Me,De,Te=Ce;for(De=new Array(Te.length),Pe=0,Ee=Te.length;Pe<Ee;Pe+=1){if(Oe=Te[Pe],Ae.call(Oe)!=="[object Object]"||(Me=Object.keys(Oe)).length!==1)return!1;De[Pe]=[Me[0],Oe[Me[0]]]}return!0},construct:function(Ce){if(Ce===null)return[];var Pe,Ee,Oe,Me,De,Te=Ce;for(De=new Array(Te.length),Pe=0,Ee=Te.length;Pe<Ee;Pe+=1)Oe=Te[Pe],Me=Object.keys(Oe),De[Pe]=[Me[0],Oe[Me[0]]];return De}})},function(r,xe,Se){var _e=Se(10),Ae=Object.prototype.hasOwnProperty;r.exports=new _e("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(Ce){if(Ce===null)return!0;var Pe,Ee=Ce;for(Pe in Ee)if(Ae.call(Ee,Pe)&&Ee[Pe]!==null)return!1;return!0},construct:function(Ce){return Ce!==null?Ce:{}}})},function(r,xe,Se){var _e=Se(10);r.exports=new _e("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(Ae){return Ae===void 0},represent:function(){return""}})},function(r,xe,Se){var _e=Se(10);r.exports=new _e("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(Ae){if(Ae===null||Ae.length===0)return!1;var Ce=Ae,Pe=/\/([gim]*)$/.exec(Ae),Ee="";return!(Ce[0]==="/"&&(Pe&&(Ee=Pe[1]),Ee.length>3||Ce[Ce.length-Ee.length-1]!=="/"))},construct:function(Ae){var Ce=Ae,Pe=/\/([gim]*)$/.exec(Ae),Ee="";return Ce[0]==="/"&&(Pe&&(Ee=Pe[1]),Ce=Ce.slice(1,Ce.length-Ee.length-1)),new RegExp(Ce,Ee)},predicate:function(Ae){return Object.prototype.toString.call(Ae)==="[object RegExp]"},represent:function(Ae){var Ce="/"+Ae.source+"/";return Ae.global&&(Ce+="g"),Ae.multiline&&(Ce+="m"),Ae.ignoreCase&&(Ce+="i"),Ce}})},function(r,xe,Se){var _e;try{_e=Se(303)}catch{typeof window<"u"&&(_e=window.esprima)}var Ae=Se(10);r.exports=new Ae("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(Ce){if(Ce===null)return!1;try{var Pe="("+Ce+")",Ee=_e.parse(Pe,{range:!0});return Ee.type==="Program"&&Ee.body.length===1&&Ee.body[0].type==="ExpressionStatement"&&(Ee.body[0].expression.type==="ArrowFunctionExpression"||Ee.body[0].expression.type==="FunctionExpression")}catch{return!1}},construct:function(Ce){var Pe,Ee="("+Ce+")",Oe=_e.parse(Ee,{range:!0}),Me=[];if(Oe.type!=="Program"||Oe.body.length!==1||Oe.body[0].type!=="ExpressionStatement"||Oe.body[0].expression.type!=="ArrowFunctionExpression"&&Oe.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return Oe.body[0].expression.params.forEach(function(De){Me.push(De.name)}),Pe=Oe.body[0].expression.body.range,Oe.body[0].expression.body.type==="BlockStatement"?new Function(Me,Ee.slice(Pe[0]+1,Pe[1]-1)):new Function(Me,"return "+Ee.slice(Pe[0],Pe[1]))},predicate:function(Ce){return Object.prototype.toString.call(Ce)==="[object Function]"},represent:function(Ce){return Ce.toString()}})},function(r,xe,Se){var _e;_e=function(){return function(Ae){var Ce={};function Pe(Ee){if(Ce[Ee])return Ce[Ee].exports;var Oe=Ce[Ee]={exports:{},id:Ee,loaded:!1};return Ae[Ee].call(Oe.exports,Oe,Oe.exports,Pe),Oe.loaded=!0,Oe.exports}return Pe.m=Ae,Pe.c=Ce,Pe.p="",Pe(0)}([function(Ae,Ce,Pe){Object.defineProperty(Ce,"__esModule",{value:!0});var Ee=Pe(1),Oe=Pe(3),Me=Pe(8),De=Pe(15);function Te(Fe,$e,Be){var Ie=null,Re=function(qe,Ge){Be&&Be(qe,Ge),Ie&&Ie.visit(qe,Ge)},je=typeof Be=="function"?Re:null,Ve=!1;if($e){Ve=typeof $e.comment=="boolean"&&$e.comment;var He=typeof $e.attachComment=="boolean"&&$e.attachComment;(Ve||He)&&((Ie=new Ee.CommentHandler).attach=He,$e.comment=!0,je=Re)}var ze,Ue=!1;$e&&typeof $e.sourceType=="string"&&(Ue=$e.sourceType==="module"),ze=$e&&typeof $e.jsx=="boolean"&&$e.jsx?new Oe.JSXParser(Fe,$e,je):new Me.Parser(Fe,$e,je);var We=Ue?ze.parseModule():ze.parseScript();return Ve&&Ie&&(We.comments=Ie.comments),ze.config.tokens&&(We.tokens=ze.tokens),ze.config.tolerant&&(We.errors=ze.errorHandler.errors),We}Ce.parse=Te,Ce.parseModule=function(Fe,$e,Be){var Ie=$e||{};return Ie.sourceType="module",Te(Fe,Ie,Be)},Ce.parseScript=function(Fe,$e,Be){var Ie=$e||{};return Ie.sourceType="script",Te(Fe,Ie,Be)},Ce.tokenize=function(Fe,$e,Be){var Ie,Re=new De.Tokenizer(Fe,$e);Ie=[];try{for(;;){var je=Re.getNextToken();if(!je)break;Be&&(je=Be(je)),Ie.push(je)}}catch(Ve){Re.errorHandler.tolerate(Ve)}return Re.errorHandler.tolerant&&(Ie.errors=Re.errors()),Ie};var ke=Pe(2);Ce.Syntax=ke.Syntax,Ce.version="4.0.1"},function(Ae,Ce,Pe){Object.defineProperty(Ce,"__esModule",{value:!0});var Ee=Pe(2),Oe=function(){function Me(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return Me.prototype.insertInnerComments=function(De,Te){if(De.type===Ee.Syntax.BlockStatement&&De.body.length===0){for(var ke=[],Fe=this.leading.length-1;Fe>=0;--Fe){var $e=this.leading[Fe];Te.end.offset>=$e.start&&(ke.unshift($e.comment),this.leading.splice(Fe,1),this.trailing.splice(Fe,1))}ke.length&&(De.innerComments=ke)}},Me.prototype.findTrailingComments=function(De){var Te=[];if(this.trailing.length>0){for(var ke=this.trailing.length-1;ke>=0;--ke){var Fe=this.trailing[ke];Fe.start>=De.end.offset&&Te.unshift(Fe.comment)}return this.trailing.length=0,Te}var $e=this.stack[this.stack.length-1];if($e&&$e.node.trailingComments){var Be=$e.node.trailingComments[0];Be&&Be.range[0]>=De.end.offset&&(Te=$e.node.trailingComments,delete $e.node.trailingComments)}return Te},Me.prototype.findLeadingComments=function(De){for(var Te,ke=[];this.stack.length>0&&(Be=this.stack[this.stack.length-1])&&Be.start>=De.start.offset;)Te=Be.node,this.stack.pop();if(Te){for(var Fe=(Te.leadingComments?Te.leadingComments.length:0)-1;Fe>=0;--Fe){var $e=Te.leadingComments[Fe];$e.range[1]<=De.start.offset&&(ke.unshift($e),Te.leadingComments.splice(Fe,1))}return Te.leadingComments&&Te.leadingComments.length===0&&delete Te.leadingComments,ke}for(Fe=this.leading.length-1;Fe>=0;--Fe){var Be;(Be=this.leading[Fe]).start<=De.start.offset&&(ke.unshift(Be.comment),this.leading.splice(Fe,1))}return ke},Me.prototype.visitNode=function(De,Te){if(!(De.type===Ee.Syntax.Program&&De.body.length>0)){this.insertInnerComments(De,Te);var ke=this.findTrailingComments(Te),Fe=this.findLeadingComments(Te);Fe.length>0&&(De.leadingComments=Fe),ke.length>0&&(De.trailingComments=ke),this.stack.push({node:De,start:Te.start.offset})}},Me.prototype.visitComment=function(De,Te){var ke=De.type[0]==="L"?"Line":"Block",Fe={type:ke,value:De.value};if(De.range&&(Fe.range=De.range),De.loc&&(Fe.loc=De.loc),this.comments.push(Fe),this.attach){var $e={comment:{type:ke,value:De.value,range:[Te.start.offset,Te.end.offset]},start:Te.start.offset};De.loc&&($e.comment.loc=De.loc),De.type=ke,this.leading.push($e),this.trailing.push($e)}},Me.prototype.visit=function(De,Te){De.type==="LineComment"||De.type==="BlockComment"?this.visitComment(De,Te):this.attach&&this.visitNode(De,Te)},Me}();Ce.CommentHandler=Oe},function(Ae,Ce){Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(Ae,Ce,Pe){var Ee,Oe=this&&this.__extends||(Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(je,Ve){je.__proto__=Ve}||function(je,Ve){for(var He in Ve)Ve.hasOwnProperty(He)&&(je[He]=Ve[He])},function(je,Ve){function He(){this.constructor=je}Ee(je,Ve),je.prototype=Ve===null?Object.create(Ve):(He.prototype=Ve.prototype,new He)});Object.defineProperty(Ce,"__esModule",{value:!0});var Me=Pe(4),De=Pe(5),Te=Pe(6),ke=Pe(7),Fe=Pe(8),$e=Pe(13),Be=Pe(14);function Ie(je){var Ve;switch(je.type){case Te.JSXSyntax.JSXIdentifier:Ve=je.name;break;case Te.JSXSyntax.JSXNamespacedName:var He=je;Ve=Ie(He.namespace)+":"+Ie(He.name);break;case Te.JSXSyntax.JSXMemberExpression:var ze=je;Ve=Ie(ze.object)+"."+Ie(ze.property)}return Ve}$e.TokenName[100]="JSXIdentifier",$e.TokenName[101]="JSXText";var Re=function(je){function Ve(He,ze,Ue){return je.call(this,He,ze,Ue)||this}return Oe(Ve,je),Ve.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():je.prototype.parsePrimaryExpression.call(this)},Ve.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},Ve.prototype.finishJSX=function(){this.nextToken()},Ve.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},Ve.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},Ve.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},Ve.prototype.scanXHTMLEntity=function(He){for(var ze="&",Ue=!0,We=!1,qe=!1,Ge=!1;!this.scanner.eof()&&Ue&&!We;){var Ye=this.scanner.source[this.scanner.index];if(Ye===He)break;if(We=Ye===";",ze+=Ye,++this.scanner.index,!We)switch(ze.length){case 2:qe=Ye==="#";break;case 3:qe&&(Ue=(Ge=Ye==="x")||Me.Character.isDecimalDigit(Ye.charCodeAt(0)),qe=qe&&!Ge);break;default:Ue=(Ue=Ue&&!(qe&&!Me.Character.isDecimalDigit(Ye.charCodeAt(0))))&&!(Ge&&!Me.Character.isHexDigit(Ye.charCodeAt(0)))}}if(Ue&&We&&ze.length>2){var Qe=ze.substr(1,ze.length-2);qe&&Qe.length>1?ze=String.fromCharCode(parseInt(Qe.substr(1),10)):Ge&&Qe.length>2?ze=String.fromCharCode(parseInt("0"+Qe.substr(1),16)):qe||Ge||!Be.XHTMLEntities[Qe]||(ze=Be.XHTMLEntities[Qe])}return ze},Ve.prototype.lexJSX=function(){var He=this.scanner.source.charCodeAt(this.scanner.index);if(He===60||He===62||He===47||He===58||He===61||He===123||He===125)return{type:7,value:Ye=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(He===34||He===39){for(var ze=this.scanner.index,Ue=this.scanner.source[this.scanner.index++],We="";!this.scanner.eof()&&(Qe=this.scanner.source[this.scanner.index++])!==Ue;)We+=Qe==="&"?this.scanXHTMLEntity(Ue):Qe;return{type:8,value:We,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:ze,end:this.scanner.index}}if(He===46){var qe=this.scanner.source.charCodeAt(this.scanner.index+1),Ge=this.scanner.source.charCodeAt(this.scanner.index+2),Ye=qe===46&&Ge===46?"...":".";return ze=this.scanner.index,this.scanner.index+=Ye.length,{type:7,value:Ye,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:ze,end:this.scanner.index}}if(He===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(Me.Character.isIdentifierStart(He)&&He!==92){for(ze=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var Qe=this.scanner.source.charCodeAt(this.scanner.index);if(Me.Character.isIdentifierPart(Qe)&&Qe!==92)++this.scanner.index;else{if(Qe!==45)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(ze,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:ze,end:this.scanner.index}}return this.scanner.lex()},Ve.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var He=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(He)),He},Ve.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var He=this.scanner.index,ze="";!this.scanner.eof();){var Ue=this.scanner.source[this.scanner.index];if(Ue==="{"||Ue==="<")break;++this.scanner.index,ze+=Ue,Me.Character.isLineTerminator(Ue.charCodeAt(0))&&(++this.scanner.lineNumber,Ue==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var We={type:101,value:ze,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:He,end:this.scanner.index};return ze.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(We)),We},Ve.prototype.peekJSXToken=function(){var He=this.scanner.saveState();this.scanner.scanComments();var ze=this.lexJSX();return this.scanner.restoreState(He),ze},Ve.prototype.expectJSX=function(He){var ze=this.nextJSXToken();ze.type===7&&ze.value===He||this.throwUnexpectedToken(ze)},Ve.prototype.matchJSX=function(He){var ze=this.peekJSXToken();return ze.type===7&&ze.value===He},Ve.prototype.parseJSXIdentifier=function(){var He=this.createJSXNode(),ze=this.nextJSXToken();return ze.type!==100&&this.throwUnexpectedToken(ze),this.finalize(He,new De.JSXIdentifier(ze.value))},Ve.prototype.parseJSXElementName=function(){var He=this.createJSXNode(),ze=this.parseJSXIdentifier();if(this.matchJSX(":")){var Ue=ze;this.expectJSX(":");var We=this.parseJSXIdentifier();ze=this.finalize(He,new De.JSXNamespacedName(Ue,We))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var qe=ze;this.expectJSX(".");var Ge=this.parseJSXIdentifier();ze=this.finalize(He,new De.JSXMemberExpression(qe,Ge))}return ze},Ve.prototype.parseJSXAttributeName=function(){var He,ze=this.createJSXNode(),Ue=this.parseJSXIdentifier();if(this.matchJSX(":")){var We=Ue;this.expectJSX(":");var qe=this.parseJSXIdentifier();He=this.finalize(ze,new De.JSXNamespacedName(We,qe))}else He=Ue;return He},Ve.prototype.parseJSXStringLiteralAttribute=function(){var He=this.createJSXNode(),ze=this.nextJSXToken();ze.type!==8&&this.throwUnexpectedToken(ze);var Ue=this.getTokenRaw(ze);return this.finalize(He,new ke.Literal(ze.value,Ue))},Ve.prototype.parseJSXExpressionAttribute=function(){var He=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var ze=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(He,new De.JSXExpressionContainer(ze))},Ve.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},Ve.prototype.parseJSXNameValueAttribute=function(){var He=this.createJSXNode(),ze=this.parseJSXAttributeName(),Ue=null;return this.matchJSX("=")&&(this.expectJSX("="),Ue=this.parseJSXAttributeValue()),this.finalize(He,new De.JSXAttribute(ze,Ue))},Ve.prototype.parseJSXSpreadAttribute=function(){var He=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var ze=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(He,new De.JSXSpreadAttribute(ze))},Ve.prototype.parseJSXAttributes=function(){for(var He=[];!this.matchJSX("/")&&!this.matchJSX(">");){var ze=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();He.push(ze)}return He},Ve.prototype.parseJSXOpeningElement=function(){var He=this.createJSXNode();this.expectJSX("<");var ze=this.parseJSXElementName(),Ue=this.parseJSXAttributes(),We=this.matchJSX("/");return We&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(He,new De.JSXOpeningElement(ze,We,Ue))},Ve.prototype.parseJSXBoundaryElement=function(){var He=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var ze=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(He,new De.JSXClosingElement(ze))}var Ue=this.parseJSXElementName(),We=this.parseJSXAttributes(),qe=this.matchJSX("/");return qe&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(He,new De.JSXOpeningElement(Ue,qe,We))},Ve.prototype.parseJSXEmptyExpression=function(){var He=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(He,new De.JSXEmptyExpression)},Ve.prototype.parseJSXExpressionContainer=function(){var He,ze=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(He=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),He=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(ze,new De.JSXExpressionContainer(He))},Ve.prototype.parseJSXChildren=function(){for(var He=[];!this.scanner.eof();){var ze=this.createJSXChildNode(),Ue=this.nextJSXText();if(Ue.start<Ue.end){var We=this.getTokenRaw(Ue),qe=this.finalize(ze,new De.JSXText(Ue.value,We));He.push(qe)}if(this.scanner.source[this.scanner.index]!=="{")break;var Ge=this.parseJSXExpressionContainer();He.push(Ge)}return He},Ve.prototype.parseComplexJSXElement=function(He){for(var ze=[];!this.scanner.eof();){He.children=He.children.concat(this.parseJSXChildren());var Ue=this.createJSXChildNode(),We=this.parseJSXBoundaryElement();if(We.type===Te.JSXSyntax.JSXOpeningElement){var qe=We;if(qe.selfClosing){var Ge=this.finalize(Ue,new De.JSXElement(qe,[],null));He.children.push(Ge)}else ze.push(He),He={node:Ue,opening:qe,closing:null,children:[]}}if(We.type===Te.JSXSyntax.JSXClosingElement){He.closing=We;var Ye=Ie(He.opening.name);if(Ye!==Ie(He.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",Ye),!(ze.length>0))break;Ge=this.finalize(He.node,new De.JSXElement(He.opening,He.children,He.closing)),(He=ze[ze.length-1]).children.push(Ge),ze.pop()}}return He},Ve.prototype.parseJSXElement=function(){var He=this.createJSXNode(),ze=this.parseJSXOpeningElement(),Ue=[],We=null;if(!ze.selfClosing){var qe=this.parseComplexJSXElement({node:He,opening:ze,closing:We,children:Ue});Ue=qe.children,We=qe.closing}return this.finalize(He,new De.JSXElement(ze,Ue,We))},Ve.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var He=this.parseJSXElement();return this.finishJSX(),He},Ve.prototype.isStartOfExpression=function(){return je.prototype.isStartOfExpression.call(this)||this.match("<")},Ve}(Fe.Parser);Ce.JSXParser=Re},function(Ae,Ce){Object.defineProperty(Ce,"__esModule",{value:!0});var Pe={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};Ce.Character={fromCodePoint:function(Ee){return Ee<65536?String.fromCharCode(Ee):String.fromCharCode(55296+(Ee-65536>>10))+String.fromCharCode(56320+(Ee-65536&1023))},isWhiteSpace:function(Ee){return Ee===32||Ee===9||Ee===11||Ee===12||Ee===160||Ee>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(Ee)>=0},isLineTerminator:function(Ee){return Ee===10||Ee===13||Ee===8232||Ee===8233},isIdentifierStart:function(Ee){return Ee===36||Ee===95||Ee>=65&&Ee<=90||Ee>=97&&Ee<=122||Ee===92||Ee>=128&&Pe.NonAsciiIdentifierStart.test(Ce.Character.fromCodePoint(Ee))},isIdentifierPart:function(Ee){return Ee===36||Ee===95||Ee>=65&&Ee<=90||Ee>=97&&Ee<=122||Ee>=48&&Ee<=57||Ee===92||Ee>=128&&Pe.NonAsciiIdentifierPart.test(Ce.Character.fromCodePoint(Ee))},isDecimalDigit:function(Ee){return Ee>=48&&Ee<=57},isHexDigit:function(Ee){return Ee>=48&&Ee<=57||Ee>=65&&Ee<=70||Ee>=97&&Ee<=102},isOctalDigit:function(Ee){return Ee>=48&&Ee<=55}}},function(Ae,Ce,Pe){Object.defineProperty(Ce,"__esModule",{value:!0});var Ee=Pe(6),Oe=function(Ve){this.type=Ee.JSXSyntax.JSXClosingElement,this.name=Ve};Ce.JSXClosingElement=Oe;var Me=function(Ve,He,ze){this.type=Ee.JSXSyntax.JSXElement,this.openingElement=Ve,this.children=He,this.closingElement=ze};Ce.JSXElement=Me;var De=function(){this.type=Ee.JSXSyntax.JSXEmptyExpression};Ce.JSXEmptyExpression=De;var Te=function(Ve){this.type=Ee.JSXSyntax.JSXExpressionContainer,this.expression=Ve};Ce.JSXExpressionContainer=Te;var ke=function(Ve){this.type=Ee.JSXSyntax.JSXIdentifier,this.name=Ve};Ce.JSXIdentifier=ke;var Fe=function(Ve,He){this.type=Ee.JSXSyntax.JSXMemberExpression,this.object=Ve,this.property=He};Ce.JSXMemberExpression=Fe;var $e=function(Ve,He){this.type=Ee.JSXSyntax.JSXAttribute,this.name=Ve,this.value=He};Ce.JSXAttribute=$e;var Be=function(Ve,He){this.type=Ee.JSXSyntax.JSXNamespacedName,this.namespace=Ve,this.name=He};Ce.JSXNamespacedName=Be;var Ie=function(Ve,He,ze){this.type=Ee.JSXSyntax.JSXOpeningElement,this.name=Ve,this.selfClosing=He,this.attributes=ze};Ce.JSXOpeningElement=Ie;var Re=function(Ve){this.type=Ee.JSXSyntax.JSXSpreadAttribute,this.argument=Ve};Ce.JSXSpreadAttribute=Re;var je=function(Ve,He){this.type=Ee.JSXSyntax.JSXText,this.value=Ve,this.raw=He};Ce.JSXText=je},function(Ae,Ce){Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(Ae,Ce,Pe){Object.defineProperty(Ce,"__esModule",{value:!0});var Ee=Pe(2),Oe=function(un){this.type=Ee.Syntax.ArrayExpression,this.elements=un};Ce.ArrayExpression=Oe;var Me=function(un){this.type=Ee.Syntax.ArrayPattern,this.elements=un};Ce.ArrayPattern=Me;var De=function(un,Si,Hi){this.type=Ee.Syntax.ArrowFunctionExpression,this.id=null,this.params=un,this.body=Si,this.generator=!1,this.expression=Hi,this.async=!1};Ce.ArrowFunctionExpression=De;var Te=function(un,Si,Hi){this.type=Ee.Syntax.AssignmentExpression,this.operator=un,this.left=Si,this.right=Hi};Ce.AssignmentExpression=Te;var ke=function(un,Si){this.type=Ee.Syntax.AssignmentPattern,this.left=un,this.right=Si};Ce.AssignmentPattern=ke;var Fe=function(un,Si,Hi){this.type=Ee.Syntax.ArrowFunctionExpression,this.id=null,this.params=un,this.body=Si,this.generator=!1,this.expression=Hi,this.async=!0};Ce.AsyncArrowFunctionExpression=Fe;var $e=function(un,Si,Hi){this.type=Ee.Syntax.FunctionDeclaration,this.id=un,this.params=Si,this.body=Hi,this.generator=!1,this.expression=!1,this.async=!0};Ce.AsyncFunctionDeclaration=$e;var Be=function(un,Si,Hi){this.type=Ee.Syntax.FunctionExpression,this.id=un,this.params=Si,this.body=Hi,this.generator=!1,this.expression=!1,this.async=!0};Ce.AsyncFunctionExpression=Be;var Ie=function(un){this.type=Ee.Syntax.AwaitExpression,this.argument=un};Ce.AwaitExpression=Ie;var Re=function(un,Si,Hi){var Ji=un==="||"||un==="&&";this.type=Ji?Ee.Syntax.LogicalExpression:Ee.Syntax.BinaryExpression,this.operator=un,this.left=Si,this.right=Hi};Ce.BinaryExpression=Re;var je=function(un){this.type=Ee.Syntax.BlockStatement,this.body=un};Ce.BlockStatement=je;var Ve=function(un){this.type=Ee.Syntax.BreakStatement,this.label=un};Ce.BreakStatement=Ve;var He=function(un,Si){this.type=Ee.Syntax.CallExpression,this.callee=un,this.arguments=Si};Ce.CallExpression=He;var ze=function(un,Si){this.type=Ee.Syntax.CatchClause,this.param=un,this.body=Si};Ce.CatchClause=ze;var Ue=function(un){this.type=Ee.Syntax.ClassBody,this.body=un};Ce.ClassBody=Ue;var We=function(un,Si,Hi){this.type=Ee.Syntax.ClassDeclaration,this.id=un,this.superClass=Si,this.body=Hi};Ce.ClassDeclaration=We;var qe=function(un,Si,Hi){this.type=Ee.Syntax.ClassExpression,this.id=un,this.superClass=Si,this.body=Hi};Ce.ClassExpression=qe;var Ge=function(un,Si){this.type=Ee.Syntax.MemberExpression,this.computed=!0,this.object=un,this.property=Si};Ce.ComputedMemberExpression=Ge;var Ye=function(un,Si,Hi){this.type=Ee.Syntax.ConditionalExpression,this.test=un,this.consequent=Si,this.alternate=Hi};Ce.ConditionalExpression=Ye;var Qe=function(un){this.type=Ee.Syntax.ContinueStatement,this.label=un};Ce.ContinueStatement=Qe;var Je=function(){this.type=Ee.Syntax.DebuggerStatement};Ce.DebuggerStatement=Je;var ri=function(un,Si){this.type=Ee.Syntax.ExpressionStatement,this.expression=un,this.directive=Si};Ce.Directive=ri;var hi=function(un,Si){this.type=Ee.Syntax.DoWhileStatement,this.body=un,this.test=Si};Ce.DoWhileStatement=hi;var pi=function(){this.type=Ee.Syntax.EmptyStatement};Ce.EmptyStatement=pi;var ni=function(un){this.type=Ee.Syntax.ExportAllDeclaration,this.source=un};Ce.ExportAllDeclaration=ni;var di=function(un){this.type=Ee.Syntax.ExportDefaultDeclaration,this.declaration=un};Ce.ExportDefaultDeclaration=di;var fi=function(un,Si,Hi){this.type=Ee.Syntax.ExportNamedDeclaration,this.declaration=un,this.specifiers=Si,this.source=Hi};Ce.ExportNamedDeclaration=fi;var Pi=function(un,Si){this.type=Ee.Syntax.ExportSpecifier,this.exported=Si,this.local=un};Ce.ExportSpecifier=Pi;var ci=function(un){this.type=Ee.Syntax.ExpressionStatement,this.expression=un};Ce.ExpressionStatement=ci;var xi=function(un,Si,Hi){this.type=Ee.Syntax.ForInStatement,this.left=un,this.right=Si,this.body=Hi,this.each=!1};Ce.ForInStatement=xi;var yi=function(un,Si,Hi){this.type=Ee.Syntax.ForOfStatement,this.left=un,this.right=Si,this.body=Hi};Ce.ForOfStatement=yi;var gi=function(un,Si,Hi,Ji){this.type=Ee.Syntax.ForStatement,this.init=un,this.test=Si,this.update=Hi,this.body=Ji};Ce.ForStatement=gi;var Ai=function(un,Si,Hi,Ji){this.type=Ee.Syntax.FunctionDeclaration,this.id=un,this.params=Si,this.body=Hi,this.generator=Ji,this.expression=!1,this.async=!1};Ce.FunctionDeclaration=Ai;var Mi=function(un,Si,Hi,Ji){this.type=Ee.Syntax.FunctionExpression,this.id=un,this.params=Si,this.body=Hi,this.generator=Ji,this.expression=!1,this.async=!1};Ce.FunctionExpression=Mi;var Fi=function(un){this.type=Ee.Syntax.Identifier,this.name=un};Ce.Identifier=Fi;var Di=function(un,Si,Hi){this.type=Ee.Syntax.IfStatement,this.test=un,this.consequent=Si,this.alternate=Hi};Ce.IfStatement=Di;var oi=function(un,Si){this.type=Ee.Syntax.ImportDeclaration,this.specifiers=un,this.source=Si};Ce.ImportDeclaration=oi;var Ke=function(un){this.type=Ee.Syntax.ImportDefaultSpecifier,this.local=un};Ce.ImportDefaultSpecifier=Ke;var St=function(un){this.type=Ee.Syntax.ImportNamespaceSpecifier,this.local=un};Ce.ImportNamespaceSpecifier=St;var ei=function(un,Si){this.type=Ee.Syntax.ImportSpecifier,this.local=un,this.imported=Si};Ce.ImportSpecifier=ei;var ui=function(un,Si){this.type=Ee.Syntax.LabeledStatement,this.label=un,this.body=Si};Ce.LabeledStatement=ui;var ai=function(un,Si){this.type=Ee.Syntax.Literal,this.value=un,this.raw=Si};Ce.Literal=ai;var ii=function(un,Si){this.type=Ee.Syntax.MetaProperty,this.meta=un,this.property=Si};Ce.MetaProperty=ii;var Ci=function(un,Si,Hi,Ji,rn){this.type=Ee.Syntax.MethodDefinition,this.key=un,this.computed=Si,this.value=Hi,this.kind=Ji,this.static=rn};Ce.MethodDefinition=Ci;var ki=function(un){this.type=Ee.Syntax.Program,this.body=un,this.sourceType="module"};Ce.Module=ki;var bi=function(un,Si){this.type=Ee.Syntax.NewExpression,this.callee=un,this.arguments=Si};Ce.NewExpression=bi;var Ii=function(un){this.type=Ee.Syntax.ObjectExpression,this.properties=un};Ce.ObjectExpression=Ii;var Bi=function(un){this.type=Ee.Syntax.ObjectPattern,this.properties=un};Ce.ObjectPattern=Bi;var Vi=function(un,Si,Hi,Ji,rn,vn){this.type=Ee.Syntax.Property,this.key=Si,this.computed=Hi,this.value=Ji,this.kind=un,this.method=rn,this.shorthand=vn};Ce.Property=Vi;var ji=function(un,Si,Hi,Ji){this.type=Ee.Syntax.Literal,this.value=un,this.raw=Si,this.regex={pattern:Hi,flags:Ji}};Ce.RegexLiteral=ji;var Zi=function(un){this.type=Ee.Syntax.RestElement,this.argument=un};Ce.RestElement=Zi;var Wi=function(un){this.type=Ee.Syntax.ReturnStatement,this.argument=un};Ce.ReturnStatement=Wi;var Qi=function(un){this.type=Ee.Syntax.Program,this.body=un,this.sourceType="script"};Ce.Script=Qi;var wi=function(un){this.type=Ee.Syntax.SequenceExpression,this.expressions=un};Ce.SequenceExpression=wi;var tn=function(un){this.type=Ee.Syntax.SpreadElement,this.argument=un};Ce.SpreadElement=tn;var Yi=function(un,Si){this.type=Ee.Syntax.MemberExpression,this.computed=!1,this.object=un,this.property=Si};Ce.StaticMemberExpression=Yi;var nn=function(){this.type=Ee.Syntax.Super};Ce.Super=nn;var Ni=function(un,Si){this.type=Ee.Syntax.SwitchCase,this.test=un,this.consequent=Si};Ce.SwitchCase=Ni;var Xi=function(un,Si){this.type=Ee.Syntax.SwitchStatement,this.discriminant=un,this.cases=Si};Ce.SwitchStatement=Xi;var an=function(un,Si){this.type=Ee.Syntax.TaggedTemplateExpression,this.tag=un,this.quasi=Si};Ce.TaggedTemplateExpression=an;var cn=function(un,Si){this.type=Ee.Syntax.TemplateElement,this.value=un,this.tail=Si};Ce.TemplateElement=cn;var dn=function(un,Si){this.type=Ee.Syntax.TemplateLiteral,this.quasis=un,this.expressions=Si};Ce.TemplateLiteral=dn;var bn=function(){this.type=Ee.Syntax.ThisExpression};Ce.ThisExpression=bn;var wn=function(un){this.type=Ee.Syntax.ThrowStatement,this.argument=un};Ce.ThrowStatement=wn;var Sn=function(un,Si,Hi){this.type=Ee.Syntax.TryStatement,this.block=un,this.handler=Si,this.finalizer=Hi};Ce.TryStatement=Sn;var kn=function(un,Si){this.type=Ee.Syntax.UnaryExpression,this.operator=un,this.argument=Si,this.prefix=!0};Ce.UnaryExpression=kn;var Ln=function(un,Si,Hi){this.type=Ee.Syntax.UpdateExpression,this.operator=un,this.argument=Si,this.prefix=Hi};Ce.UpdateExpression=Ln;var jn=function(un,Si){this.type=Ee.Syntax.VariableDeclaration,this.declarations=un,this.kind=Si};Ce.VariableDeclaration=jn;var Rn=function(un,Si){this.type=Ee.Syntax.VariableDeclarator,this.id=un,this.init=Si};Ce.VariableDeclarator=Rn;var Fn=function(un,Si){this.type=Ee.Syntax.WhileStatement,this.test=un,this.body=Si};Ce.WhileStatement=Fn;var On=function(un,Si){this.type=Ee.Syntax.WithStatement,this.object=un,this.body=Si};Ce.WithStatement=On;var Vn=function(un,Si){this.type=Ee.Syntax.YieldExpression,this.argument=un,this.delegate=Si};Ce.YieldExpression=Vn},function(Ae,Ce,Pe){Object.defineProperty(Ce,"__esModule",{value:!0});var Ee=Pe(9),Oe=Pe(10),Me=Pe(11),De=Pe(7),Te=Pe(12),ke=Pe(2),Fe=Pe(13),$e=function(){function Be(Ie,Re,je){Re===void 0&&(Re={}),this.config={range:typeof Re.range=="boolean"&&Re.range,loc:typeof Re.loc=="boolean"&&Re.loc,source:null,tokens:typeof Re.tokens=="boolean"&&Re.tokens,comment:typeof Re.comment=="boolean"&&Re.comment,tolerant:typeof Re.tolerant=="boolean"&&Re.tolerant},this.config.loc&&Re.source&&Re.source!==null&&(this.config.source=String(Re.source)),this.delegate=je,this.errorHandler=new Oe.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new Te.Scanner(Ie,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return Be.prototype.throwError=function(Ie){for(var Re=[],je=1;je<arguments.length;je++)Re[je-1]=arguments[je];var Ve=Array.prototype.slice.call(arguments,1),He=Ie.replace(/%(\d)/g,function(qe,Ge){return Ee.assert(Ge<Ve.length,"Message reference must be in range"),Ve[Ge]}),ze=this.lastMarker.index,Ue=this.lastMarker.line,We=this.lastMarker.column+1;throw this.errorHandler.createError(ze,Ue,We,He)},Be.prototype.tolerateError=function(Ie){for(var Re=[],je=1;je<arguments.length;je++)Re[je-1]=arguments[je];var Ve=Array.prototype.slice.call(arguments,1),He=Ie.replace(/%(\d)/g,function(qe,Ge){return Ee.assert(Ge<Ve.length,"Message reference must be in range"),Ve[Ge]}),ze=this.lastMarker.index,Ue=this.scanner.lineNumber,We=this.lastMarker.column+1;this.errorHandler.tolerateError(ze,Ue,We,He)},Be.prototype.unexpectedTokenError=function(Ie,Re){var je,Ve=Re||Me.Messages.UnexpectedToken;if(Ie?(Re||(Ve=Ie.type===2?Me.Messages.UnexpectedEOS:Ie.type===3?Me.Messages.UnexpectedIdentifier:Ie.type===6?Me.Messages.UnexpectedNumber:Ie.type===8?Me.Messages.UnexpectedString:Ie.type===10?Me.Messages.UnexpectedTemplate:Me.Messages.UnexpectedToken,Ie.type===4&&(this.scanner.isFutureReservedWord(Ie.value)?Ve=Me.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(Ie.value)&&(Ve=Me.Messages.StrictReservedWord))),je=Ie.value):je="ILLEGAL",Ve=Ve.replace("%0",je),Ie&&typeof Ie.lineNumber=="number"){var He=Ie.start,ze=Ie.lineNumber,Ue=this.lastMarker.index-this.lastMarker.column,We=Ie.start-Ue+1;return this.errorHandler.createError(He,ze,We,Ve)}return He=this.lastMarker.index,ze=this.lastMarker.line,We=this.lastMarker.column+1,this.errorHandler.createError(He,ze,We,Ve)},Be.prototype.throwUnexpectedToken=function(Ie,Re){throw this.unexpectedTokenError(Ie,Re)},Be.prototype.tolerateUnexpectedToken=function(Ie,Re){this.errorHandler.tolerate(this.unexpectedTokenError(Ie,Re))},Be.prototype.collectComments=function(){if(this.config.comment){var Ie=this.scanner.scanComments();if(Ie.length>0&&this.delegate)for(var Re=0;Re<Ie.length;++Re){var je=Ie[Re],Ve=void 0;Ve={type:je.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(je.slice[0],je.slice[1])},this.config.range&&(Ve.range=je.range),this.config.loc&&(Ve.loc=je.loc);var He={start:{line:je.loc.start.line,column:je.loc.start.column,offset:je.range[0]},end:{line:je.loc.end.line,column:je.loc.end.column,offset:je.range[1]}};this.delegate(Ve,He)}}else this.scanner.scanComments()},Be.prototype.getTokenRaw=function(Ie){return this.scanner.source.slice(Ie.start,Ie.end)},Be.prototype.convertToken=function(Ie){var Re={type:Fe.TokenName[Ie.type],value:this.getTokenRaw(Ie)};if(this.config.range&&(Re.range=[Ie.start,Ie.end]),this.config.loc&&(Re.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),Ie.type===9){var je=Ie.pattern,Ve=Ie.flags;Re.regex={pattern:je,flags:Ve}}return Re},Be.prototype.nextToken=function(){var Ie=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var Re=this.scanner.lex();return this.hasLineTerminator=Ie.lineNumber!==Re.lineNumber,Re&&this.context.strict&&Re.type===3&&this.scanner.isStrictModeReservedWord(Re.value)&&(Re.type=4),this.lookahead=Re,this.config.tokens&&Re.type!==2&&this.tokens.push(this.convertToken(Re)),Ie},Be.prototype.nextRegexToken=function(){this.collectComments();var Ie=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(Ie))),this.lookahead=Ie,this.nextToken(),Ie},Be.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},Be.prototype.startNode=function(Ie,Re){Re===void 0&&(Re=0);var je=Ie.start-Ie.lineStart,Ve=Ie.lineNumber;return je<0&&(je+=Re,Ve--),{index:Ie.start,line:Ve,column:je}},Be.prototype.finalize=function(Ie,Re){if(this.config.range&&(Re.range=[Ie.index,this.lastMarker.index]),this.config.loc&&(Re.loc={start:{line:Ie.line,column:Ie.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(Re.loc.source=this.config.source)),this.delegate){var je={start:{line:Ie.line,column:Ie.column,offset:Ie.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(Re,je)}return Re},Be.prototype.expect=function(Ie){var Re=this.nextToken();Re.type===7&&Re.value===Ie||this.throwUnexpectedToken(Re)},Be.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var Ie=this.lookahead;Ie.type===7&&Ie.value===","?this.nextToken():Ie.type===7&&Ie.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(Ie)):this.tolerateUnexpectedToken(Ie,Me.Messages.UnexpectedToken)}else this.expect(",")},Be.prototype.expectKeyword=function(Ie){var Re=this.nextToken();Re.type===4&&Re.value===Ie||this.throwUnexpectedToken(Re)},Be.prototype.match=function(Ie){return this.lookahead.type===7&&this.lookahead.value===Ie},Be.prototype.matchKeyword=function(Ie){return this.lookahead.type===4&&this.lookahead.value===Ie},Be.prototype.matchContextualKeyword=function(Ie){return this.lookahead.type===3&&this.lookahead.value===Ie},Be.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var Ie=this.lookahead.value;return Ie==="="||Ie==="*="||Ie==="**="||Ie==="/="||Ie==="%="||Ie==="+="||Ie==="-="||Ie==="<<="||Ie===">>="||Ie===">>>="||Ie==="&="||Ie==="^="||Ie==="|="},Be.prototype.isolateCoverGrammar=function(Ie){var Re=this.context.isBindingElement,je=this.context.isAssignmentTarget,Ve=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var He=Ie.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=Re,this.context.isAssignmentTarget=je,this.context.firstCoverInitializedNameError=Ve,He},Be.prototype.inheritCoverGrammar=function(Ie){var Re=this.context.isBindingElement,je=this.context.isAssignmentTarget,Ve=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var He=Ie.call(this);return this.context.isBindingElement=this.context.isBindingElement&&Re,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&je,this.context.firstCoverInitializedNameError=Ve||this.context.firstCoverInitializedNameError,He},Be.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===2||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},Be.prototype.parsePrimaryExpression=function(){var Ie,Re,je,Ve=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),Ie=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(Ve,new De.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,Me.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,Re=this.nextToken(),je=this.getTokenRaw(Re),Ie=this.finalize(Ve,new De.Literal(Re.value,je));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,Re=this.nextToken(),je=this.getTokenRaw(Re),Ie=this.finalize(Ve,new De.Literal(Re.value==="true",je));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,Re=this.nextToken(),je=this.getTokenRaw(Re),Ie=this.finalize(Ve,new De.Literal(null,je));break;case 10:Ie=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,Ie=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":Ie=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":Ie=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,Re=this.nextRegexToken(),je=this.getTokenRaw(Re),Ie=this.finalize(Ve,new De.RegexLiteral(Re.regex,je,Re.pattern,Re.flags));break;default:Ie=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?Ie=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?Ie=this.finalize(Ve,new De.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?Ie=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),Ie=this.finalize(Ve,new De.ThisExpression)):Ie=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:Ie=this.throwUnexpectedToken(this.nextToken())}return Ie},Be.prototype.parseSpreadElement=function(){var Ie=this.createNode();this.expect("...");var Re=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(Ie,new De.SpreadElement(Re))},Be.prototype.parseArrayInitializer=function(){var Ie=this.createNode(),Re=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),Re.push(null);else if(this.match("...")){var je=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),Re.push(je)}else Re.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(Ie,new De.ArrayExpression(Re))},Be.prototype.parsePropertyMethod=function(Ie){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var Re=this.context.strict,je=this.context.allowStrictDirective;this.context.allowStrictDirective=Ie.simple;var Ve=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&Ie.firstRestricted&&this.tolerateUnexpectedToken(Ie.firstRestricted,Ie.message),this.context.strict&&Ie.stricted&&this.tolerateUnexpectedToken(Ie.stricted,Ie.message),this.context.strict=Re,this.context.allowStrictDirective=je,Ve},Be.prototype.parsePropertyMethodFunction=function(){var Ie=this.createNode(),Re=this.context.allowYield;this.context.allowYield=!0;var je=this.parseFormalParameters(),Ve=this.parsePropertyMethod(je);return this.context.allowYield=Re,this.finalize(Ie,new De.FunctionExpression(null,je.params,Ve,!1))},Be.prototype.parsePropertyMethodAsyncFunction=function(){var Ie=this.createNode(),Re=this.context.allowYield,je=this.context.await;this.context.allowYield=!1,this.context.await=!0;var Ve=this.parseFormalParameters(),He=this.parsePropertyMethod(Ve);return this.context.allowYield=Re,this.context.await=je,this.finalize(Ie,new De.AsyncFunctionExpression(null,Ve.params,He))},Be.prototype.parseObjectPropertyKey=function(){var Ie,Re=this.createNode(),je=this.nextToken();switch(je.type){case 8:case 6:this.context.strict&&je.octal&&this.tolerateUnexpectedToken(je,Me.Messages.StrictOctalLiteral);var Ve=this.getTokenRaw(je);Ie=this.finalize(Re,new De.Literal(je.value,Ve));break;case 3:case 1:case 5:case 4:Ie=this.finalize(Re,new De.Identifier(je.value));break;case 7:je.value==="["?(Ie=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):Ie=this.throwUnexpectedToken(je);break;default:Ie=this.throwUnexpectedToken(je)}return Ie},Be.prototype.isPropertyKey=function(Ie,Re){return Ie.type===ke.Syntax.Identifier&&Ie.name===Re||Ie.type===ke.Syntax.Literal&&Ie.value===Re},Be.prototype.parseObjectProperty=function(Ie){var Re,je=this.createNode(),Ve=this.lookahead,He=null,ze=null,Ue=!1,We=!1,qe=!1,Ge=!1;if(Ve.type===3){var Ye=Ve.value;this.nextToken(),Ue=this.match("["),He=(Ge=!(this.hasLineTerminator||Ye!=="async"||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(je,new De.Identifier(Ye))}else this.match("*")?this.nextToken():(Ue=this.match("["),He=this.parseObjectPropertyKey());var Qe=this.qualifiedPropertyName(this.lookahead);if(Ve.type===3&&!Ge&&Ve.value==="get"&&Qe)Re="get",Ue=this.match("["),He=this.parseObjectPropertyKey(),this.context.allowYield=!1,ze=this.parseGetterMethod();else if(Ve.type===3&&!Ge&&Ve.value==="set"&&Qe)Re="set",Ue=this.match("["),He=this.parseObjectPropertyKey(),ze=this.parseSetterMethod();else if(Ve.type===7&&Ve.value==="*"&&Qe)Re="init",Ue=this.match("["),He=this.parseObjectPropertyKey(),ze=this.parseGeneratorMethod(),We=!0;else if(He||this.throwUnexpectedToken(this.lookahead),Re="init",this.match(":")&&!Ge)!Ue&&this.isPropertyKey(He,"__proto__")&&(Ie.value&&this.tolerateError(Me.Messages.DuplicateProtoProperty),Ie.value=!0),this.nextToken(),ze=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))ze=Ge?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),We=!0;else if(Ve.type===3)if(Ye=this.finalize(je,new De.Identifier(Ve.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),qe=!0;var Je=this.isolateCoverGrammar(this.parseAssignmentExpression);ze=this.finalize(je,new De.AssignmentPattern(Ye,Je))}else qe=!0,ze=Ye;else this.throwUnexpectedToken(this.nextToken());return this.finalize(je,new De.Property(Re,He,Ue,ze,We,qe))},Be.prototype.parseObjectInitializer=function(){var Ie=this.createNode();this.expect("{");for(var Re=[],je={value:!1};!this.match("}");)Re.push(this.parseObjectProperty(je)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(Ie,new De.ObjectExpression(Re))},Be.prototype.parseTemplateHead=function(){Ee.assert(this.lookahead.head,"Template literal must start with a template head");var Ie=this.createNode(),Re=this.nextToken(),je=Re.value,Ve=Re.cooked;return this.finalize(Ie,new De.TemplateElement({raw:je,cooked:Ve},Re.tail))},Be.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var Ie=this.createNode(),Re=this.nextToken(),je=Re.value,Ve=Re.cooked;return this.finalize(Ie,new De.TemplateElement({raw:je,cooked:Ve},Re.tail))},Be.prototype.parseTemplateLiteral=function(){var Ie=this.createNode(),Re=[],je=[],Ve=this.parseTemplateHead();for(je.push(Ve);!Ve.tail;)Re.push(this.parseExpression()),Ve=this.parseTemplateElement(),je.push(Ve);return this.finalize(Ie,new De.TemplateLiteral(je,Re))},Be.prototype.reinterpretExpressionAsPattern=function(Ie){switch(Ie.type){case ke.Syntax.Identifier:case ke.Syntax.MemberExpression:case ke.Syntax.RestElement:case ke.Syntax.AssignmentPattern:break;case ke.Syntax.SpreadElement:Ie.type=ke.Syntax.RestElement,this.reinterpretExpressionAsPattern(Ie.argument);break;case ke.Syntax.ArrayExpression:Ie.type=ke.Syntax.ArrayPattern;for(var Re=0;Re<Ie.elements.length;Re++)Ie.elements[Re]!==null&&this.reinterpretExpressionAsPattern(Ie.elements[Re]);break;case ke.Syntax.ObjectExpression:for(Ie.type=ke.Syntax.ObjectPattern,Re=0;Re<Ie.properties.length;Re++)this.reinterpretExpressionAsPattern(Ie.properties[Re].value);break;case ke.Syntax.AssignmentExpression:Ie.type=ke.Syntax.AssignmentPattern,delete Ie.operator,this.reinterpretExpressionAsPattern(Ie.left)}},Be.prototype.parseGroupExpression=function(){var Ie;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),Ie={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var Re=this.lookahead,je=[];if(this.match("..."))Ie=this.parseRestElement(je),this.expect(")"),this.match("=>")||this.expect("=>"),Ie={type:"ArrowParameterPlaceHolder",params:[Ie],async:!1};else{var Ve=!1;if(this.context.isBindingElement=!0,Ie=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var He=[];for(this.context.isAssignmentTarget=!1,He.push(Ie);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var ze=0;ze<He.length;ze++)this.reinterpretExpressionAsPattern(He[ze]);Ve=!0,Ie={type:"ArrowParameterPlaceHolder",params:He,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),He.push(this.parseRestElement(je)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,ze=0;ze<He.length;ze++)this.reinterpretExpressionAsPattern(He[ze]);Ve=!0,Ie={type:"ArrowParameterPlaceHolder",params:He,async:!1}}else He.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(Ve)break}Ve||(Ie=this.finalize(this.startNode(Re),new De.SequenceExpression(He)))}if(!Ve){if(this.expect(")"),this.match("=>")&&(Ie.type===ke.Syntax.Identifier&&Ie.name==="yield"&&(Ve=!0,Ie={type:"ArrowParameterPlaceHolder",params:[Ie],async:!1}),!Ve)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),Ie.type===ke.Syntax.SequenceExpression)for(ze=0;ze<Ie.expressions.length;ze++)this.reinterpretExpressionAsPattern(Ie.expressions[ze]);else this.reinterpretExpressionAsPattern(Ie);Ie={type:"ArrowParameterPlaceHolder",params:Ie.type===ke.Syntax.SequenceExpression?Ie.expressions:[Ie],async:!1}}this.context.isBindingElement=!1}}}return Ie},Be.prototype.parseArguments=function(){this.expect("(");var Ie=[];if(!this.match(")"))for(;;){var Re=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(Ie.push(Re),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),Ie},Be.prototype.isIdentifierName=function(Ie){return Ie.type===3||Ie.type===4||Ie.type===1||Ie.type===5},Be.prototype.parseIdentifierName=function(){var Ie=this.createNode(),Re=this.nextToken();return this.isIdentifierName(Re)||this.throwUnexpectedToken(Re),this.finalize(Ie,new De.Identifier(Re.value))},Be.prototype.parseNewExpression=function(){var Ie,Re=this.createNode(),je=this.parseIdentifierName();if(Ee.assert(je.name==="new","New expression must start with `new`"),this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var Ve=this.parseIdentifierName();Ie=new De.MetaProperty(je,Ve)}else this.throwUnexpectedToken(this.lookahead);else{var He=this.isolateCoverGrammar(this.parseLeftHandSideExpression),ze=this.match("(")?this.parseArguments():[];Ie=new De.NewExpression(He,ze),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(Re,Ie)},Be.prototype.parseAsyncArgument=function(){var Ie=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,Ie},Be.prototype.parseAsyncArguments=function(){this.expect("(");var Ie=[];if(!this.match(")"))for(;;){var Re=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(Ie.push(Re),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),Ie},Be.prototype.parseLeftHandSideExpressionAllowCall=function(){var Ie,Re=this.lookahead,je=this.matchContextualKeyword("async"),Ve=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(Ie=this.createNode(),this.nextToken(),Ie=this.finalize(Ie,new De.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):Ie=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var He=this.parseIdentifierName();Ie=this.finalize(this.startNode(Re),new De.StaticMemberExpression(Ie,He))}else if(this.match("(")){var ze=je&&Re.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var Ue=ze?this.parseAsyncArguments():this.parseArguments();if(Ie=this.finalize(this.startNode(Re),new De.CallExpression(Ie,Ue)),ze&&this.match("=>")){for(var We=0;We<Ue.length;++We)this.reinterpretExpressionAsPattern(Ue[We]);Ie={type:"ArrowParameterPlaceHolder",params:Ue,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),He=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),Ie=this.finalize(this.startNode(Re),new De.ComputedMemberExpression(Ie,He));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var qe=this.parseTemplateLiteral();Ie=this.finalize(this.startNode(Re),new De.TaggedTemplateExpression(Ie,qe))}return this.context.allowIn=Ve,Ie},Be.prototype.parseSuper=function(){var Ie=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(Ie,new De.Super)},Be.prototype.parseLeftHandSideExpression=function(){Ee.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var Ie=this.startNode(this.lookahead),Re=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var je=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),Re=this.finalize(Ie,new De.ComputedMemberExpression(Re,je))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),je=this.parseIdentifierName(),Re=this.finalize(Ie,new De.StaticMemberExpression(Re,je));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var Ve=this.parseTemplateLiteral();Re=this.finalize(Ie,new De.TaggedTemplateExpression(Re,Ve))}return Re},Be.prototype.parseUpdateExpression=function(){var Ie,Re=this.lookahead;if(this.match("++")||this.match("--")){var je=this.startNode(Re),Ve=this.nextToken();Ie=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&Ie.type===ke.Syntax.Identifier&&this.scanner.isRestrictedWord(Ie.name)&&this.tolerateError(Me.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(Me.Messages.InvalidLHSInAssignment);var He=!0;Ie=this.finalize(je,new De.UpdateExpression(Ve.value,Ie,He)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(Ie=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&Ie.type===ke.Syntax.Identifier&&this.scanner.isRestrictedWord(Ie.name)&&this.tolerateError(Me.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(Me.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var ze=this.nextToken().value;He=!1,Ie=this.finalize(this.startNode(Re),new De.UpdateExpression(ze,Ie,He))}return Ie},Be.prototype.parseAwaitExpression=function(){var Ie=this.createNode();this.nextToken();var Re=this.parseUnaryExpression();return this.finalize(Ie,new De.AwaitExpression(Re))},Be.prototype.parseUnaryExpression=function(){var Ie;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var Re=this.startNode(this.lookahead),je=this.nextToken();Ie=this.inheritCoverGrammar(this.parseUnaryExpression),Ie=this.finalize(Re,new De.UnaryExpression(je.value,Ie)),this.context.strict&&Ie.operator==="delete"&&Ie.argument.type===ke.Syntax.Identifier&&this.tolerateError(Me.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else Ie=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return Ie},Be.prototype.parseExponentiationExpression=function(){var Ie=this.lookahead,Re=this.inheritCoverGrammar(this.parseUnaryExpression);if(Re.type!==ke.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var je=Re,Ve=this.isolateCoverGrammar(this.parseExponentiationExpression);Re=this.finalize(this.startNode(Ie),new De.BinaryExpression("**",je,Ve))}return Re},Be.prototype.binaryPrecedence=function(Ie){var Re=Ie.value;return Ie.type===7?this.operatorPrecedence[Re]||0:Ie.type===4&&(Re==="instanceof"||this.context.allowIn&&Re==="in")?7:0},Be.prototype.parseBinaryExpression=function(){var Ie=this.lookahead,Re=this.inheritCoverGrammar(this.parseExponentiationExpression),je=this.lookahead,Ve=this.binaryPrecedence(je);if(Ve>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var He=[Ie,this.lookahead],ze=Re,Ue=this.isolateCoverGrammar(this.parseExponentiationExpression),We=[ze,je.value,Ue],qe=[Ve];!((Ve=this.binaryPrecedence(this.lookahead))<=0);){for(;We.length>2&&Ve<=qe[qe.length-1];){Ue=We.pop();var Ge=We.pop();qe.pop(),ze=We.pop(),He.pop();var Ye=this.startNode(He[He.length-1]);We.push(this.finalize(Ye,new De.BinaryExpression(Ge,ze,Ue)))}We.push(this.nextToken().value),qe.push(Ve),He.push(this.lookahead),We.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var Qe=We.length-1;Re=We[Qe];for(var Je=He.pop();Qe>1;){var ri=He.pop(),hi=Je&&Je.lineStart;Ye=this.startNode(ri,hi),Ge=We[Qe-1],Re=this.finalize(Ye,new De.BinaryExpression(Ge,We[Qe-2],Re)),Qe-=2,Je=ri}}return Re},Be.prototype.parseConditionalExpression=function(){var Ie=this.lookahead,Re=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var je=this.context.allowIn;this.context.allowIn=!0;var Ve=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=je,this.expect(":");var He=this.isolateCoverGrammar(this.parseAssignmentExpression);Re=this.finalize(this.startNode(Ie),new De.ConditionalExpression(Re,Ve,He)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return Re},Be.prototype.checkPatternParam=function(Ie,Re){switch(Re.type){case ke.Syntax.Identifier:this.validateParam(Ie,Re,Re.name);break;case ke.Syntax.RestElement:this.checkPatternParam(Ie,Re.argument);break;case ke.Syntax.AssignmentPattern:this.checkPatternParam(Ie,Re.left);break;case ke.Syntax.ArrayPattern:for(var je=0;je<Re.elements.length;je++)Re.elements[je]!==null&&this.checkPatternParam(Ie,Re.elements[je]);break;case ke.Syntax.ObjectPattern:for(je=0;je<Re.properties.length;je++)this.checkPatternParam(Ie,Re.properties[je].value)}Ie.simple=Ie.simple&&Re instanceof De.Identifier},Be.prototype.reinterpretAsCoverFormalsList=function(Ie){var Re,je=[Ie],Ve=!1;switch(Ie.type){case ke.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":je=Ie.params,Ve=Ie.async;break;default:return null}Re={simple:!0,paramSet:{}};for(var He=0;He<je.length;++He)(ze=je[He]).type===ke.Syntax.AssignmentPattern?ze.right.type===ke.Syntax.YieldExpression&&(ze.right.argument&&this.throwUnexpectedToken(this.lookahead),ze.right.type=ke.Syntax.Identifier,ze.right.name="yield",delete ze.right.argument,delete ze.right.delegate):Ve&&ze.type===ke.Syntax.Identifier&&ze.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(Re,ze),je[He]=ze;if(this.context.strict||!this.context.allowYield)for(He=0;He<je.length;++He){var ze;(ze=je[He]).type===ke.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(Re.message===Me.Messages.StrictParamDupe){var Ue=this.context.strict?Re.stricted:Re.firstRestricted;this.throwUnexpectedToken(Ue,Re.message)}return{simple:Re.simple,params:je,stricted:Re.stricted,firstRestricted:Re.firstRestricted,message:Re.message}},Be.prototype.parseAssignmentExpression=function(){var Ie;if(!this.context.allowYield&&this.matchKeyword("yield"))Ie=this.parseYieldExpression();else{var Re=this.lookahead,je=Re;if(Ie=this.parseConditionalExpression(),je.type===3&&je.lineNumber===this.lookahead.lineNumber&&je.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var Ve=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(Ve),Ie={type:"ArrowParameterPlaceHolder",params:[Ve],async:!0}}if(Ie.type==="ArrowParameterPlaceHolder"||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var He=Ie.async,ze=this.reinterpretAsCoverFormalsList(Ie);if(ze){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var Ue=this.context.strict,We=this.context.allowStrictDirective;this.context.allowStrictDirective=ze.simple;var qe=this.context.allowYield,Ge=this.context.await;this.context.allowYield=!0,this.context.await=He;var Ye=this.startNode(Re);this.expect("=>");var Qe=void 0;if(this.match("{")){var Je=this.context.allowIn;this.context.allowIn=!0,Qe=this.parseFunctionSourceElements(),this.context.allowIn=Je}else Qe=this.isolateCoverGrammar(this.parseAssignmentExpression);var ri=Qe.type!==ke.Syntax.BlockStatement;this.context.strict&&ze.firstRestricted&&this.throwUnexpectedToken(ze.firstRestricted,ze.message),this.context.strict&&ze.stricted&&this.tolerateUnexpectedToken(ze.stricted,ze.message),Ie=He?this.finalize(Ye,new De.AsyncArrowFunctionExpression(ze.params,Qe,ri)):this.finalize(Ye,new De.ArrowFunctionExpression(ze.params,Qe,ri)),this.context.strict=Ue,this.context.allowStrictDirective=We,this.context.allowYield=qe,this.context.await=Ge}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(Me.Messages.InvalidLHSInAssignment),this.context.strict&&Ie.type===ke.Syntax.Identifier){var hi=Ie;this.scanner.isRestrictedWord(hi.name)&&this.tolerateUnexpectedToken(je,Me.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(hi.name)&&this.tolerateUnexpectedToken(je,Me.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(Ie):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var pi=(je=this.nextToken()).value,ni=this.isolateCoverGrammar(this.parseAssignmentExpression);Ie=this.finalize(this.startNode(Re),new De.AssignmentExpression(pi,Ie,ni)),this.context.firstCoverInitializedNameError=null}}return Ie},Be.prototype.parseExpression=function(){var Ie=this.lookahead,Re=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var je=[];for(je.push(Re);this.lookahead.type!==2&&this.match(",");)this.nextToken(),je.push(this.isolateCoverGrammar(this.parseAssignmentExpression));Re=this.finalize(this.startNode(Ie),new De.SequenceExpression(je))}return Re},Be.prototype.parseStatementListItem=function(){var Ie;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,Me.Messages.IllegalExportDeclaration),Ie=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,Me.Messages.IllegalImportDeclaration),Ie=this.parseImportDeclaration();break;case"const":Ie=this.parseLexicalDeclaration({inFor:!1});break;case"function":Ie=this.parseFunctionDeclaration();break;case"class":Ie=this.parseClassDeclaration();break;case"let":Ie=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:Ie=this.parseStatement()}else Ie=this.parseStatement();return Ie},Be.prototype.parseBlock=function(){var Ie=this.createNode();this.expect("{");for(var Re=[];!this.match("}");)Re.push(this.parseStatementListItem());return this.expect("}"),this.finalize(Ie,new De.BlockStatement(Re))},Be.prototype.parseLexicalBinding=function(Ie,Re){var je=this.createNode(),Ve=this.parsePattern([],Ie);this.context.strict&&Ve.type===ke.Syntax.Identifier&&this.scanner.isRestrictedWord(Ve.name)&&this.tolerateError(Me.Messages.StrictVarName);var He=null;return Ie==="const"?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),He=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(Me.Messages.DeclarationMissingInitializer,"const")):(!Re.inFor&&Ve.type!==ke.Syntax.Identifier||this.match("="))&&(this.expect("="),He=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(je,new De.VariableDeclarator(Ve,He))},Be.prototype.parseBindingList=function(Ie,Re){for(var je=[this.parseLexicalBinding(Ie,Re)];this.match(",");)this.nextToken(),je.push(this.parseLexicalBinding(Ie,Re));return je},Be.prototype.isLexicalDeclaration=function(){var Ie=this.scanner.saveState();this.scanner.scanComments();var Re=this.scanner.lex();return this.scanner.restoreState(Ie),Re.type===3||Re.type===7&&Re.value==="["||Re.type===7&&Re.value==="{"||Re.type===4&&Re.value==="let"||Re.type===4&&Re.value==="yield"},Be.prototype.parseLexicalDeclaration=function(Ie){var Re=this.createNode(),je=this.nextToken().value;Ee.assert(je==="let"||je==="const","Lexical declaration must be either let or const");var Ve=this.parseBindingList(je,Ie);return this.consumeSemicolon(),this.finalize(Re,new De.VariableDeclaration(Ve,je))},Be.prototype.parseBindingRestElement=function(Ie,Re){var je=this.createNode();this.expect("...");var Ve=this.parsePattern(Ie,Re);return this.finalize(je,new De.RestElement(Ve))},Be.prototype.parseArrayPattern=function(Ie,Re){var je=this.createNode();this.expect("[");for(var Ve=[];!this.match("]");)if(this.match(","))this.nextToken(),Ve.push(null);else{if(this.match("...")){Ve.push(this.parseBindingRestElement(Ie,Re));break}Ve.push(this.parsePatternWithDefault(Ie,Re)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(je,new De.ArrayPattern(Ve))},Be.prototype.parsePropertyPattern=function(Ie,Re){var je,Ve,He=this.createNode(),ze=!1,Ue=!1;if(this.lookahead.type===3){var We=this.lookahead;je=this.parseVariableIdentifier();var qe=this.finalize(He,new De.Identifier(We.value));if(this.match("=")){Ie.push(We),Ue=!0,this.nextToken();var Ge=this.parseAssignmentExpression();Ve=this.finalize(this.startNode(We),new De.AssignmentPattern(qe,Ge))}else this.match(":")?(this.expect(":"),Ve=this.parsePatternWithDefault(Ie,Re)):(Ie.push(We),Ue=!0,Ve=qe)}else ze=this.match("["),je=this.parseObjectPropertyKey(),this.expect(":"),Ve=this.parsePatternWithDefault(Ie,Re);return this.finalize(He,new De.Property("init",je,ze,Ve,!1,Ue))},Be.prototype.parseObjectPattern=function(Ie,Re){var je=this.createNode(),Ve=[];for(this.expect("{");!this.match("}");)Ve.push(this.parsePropertyPattern(Ie,Re)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(je,new De.ObjectPattern(Ve))},Be.prototype.parsePattern=function(Ie,Re){var je;return this.match("[")?je=this.parseArrayPattern(Ie,Re):this.match("{")?je=this.parseObjectPattern(Ie,Re):(!this.matchKeyword("let")||Re!=="const"&&Re!=="let"||this.tolerateUnexpectedToken(this.lookahead,Me.Messages.LetInLexicalBinding),Ie.push(this.lookahead),je=this.parseVariableIdentifier(Re)),je},Be.prototype.parsePatternWithDefault=function(Ie,Re){var je=this.lookahead,Ve=this.parsePattern(Ie,Re);if(this.match("=")){this.nextToken();var He=this.context.allowYield;this.context.allowYield=!0;var ze=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=He,Ve=this.finalize(this.startNode(je),new De.AssignmentPattern(Ve,ze))}return Ve},Be.prototype.parseVariableIdentifier=function(Ie){var Re=this.createNode(),je=this.nextToken();return je.type===4&&je.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(je,Me.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(je):je.type!==3?this.context.strict&&je.type===4&&this.scanner.isStrictModeReservedWord(je.value)?this.tolerateUnexpectedToken(je,Me.Messages.StrictReservedWord):(this.context.strict||je.value!=="let"||Ie!=="var")&&this.throwUnexpectedToken(je):(this.context.isModule||this.context.await)&&je.type===3&&je.value==="await"&&this.tolerateUnexpectedToken(je),this.finalize(Re,new De.Identifier(je.value))},Be.prototype.parseVariableDeclaration=function(Ie){var Re=this.createNode(),je=this.parsePattern([],"var");this.context.strict&&je.type===ke.Syntax.Identifier&&this.scanner.isRestrictedWord(je.name)&&this.tolerateError(Me.Messages.StrictVarName);var Ve=null;return this.match("=")?(this.nextToken(),Ve=this.isolateCoverGrammar(this.parseAssignmentExpression)):je.type===ke.Syntax.Identifier||Ie.inFor||this.expect("="),this.finalize(Re,new De.VariableDeclarator(je,Ve))},Be.prototype.parseVariableDeclarationList=function(Ie){var Re={inFor:Ie.inFor},je=[];for(je.push(this.parseVariableDeclaration(Re));this.match(",");)this.nextToken(),je.push(this.parseVariableDeclaration(Re));return je},Be.prototype.parseVariableStatement=function(){var Ie=this.createNode();this.expectKeyword("var");var Re=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(Ie,new De.VariableDeclaration(Re,"var"))},Be.prototype.parseEmptyStatement=function(){var Ie=this.createNode();return this.expect(";"),this.finalize(Ie,new De.EmptyStatement)},Be.prototype.parseExpressionStatement=function(){var Ie=this.createNode(),Re=this.parseExpression();return this.consumeSemicolon(),this.finalize(Ie,new De.ExpressionStatement(Re))},Be.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(Me.Messages.StrictFunction),this.parseStatement()},Be.prototype.parseIfStatement=function(){var Ie,Re=this.createNode(),je=null;this.expectKeyword("if"),this.expect("(");var Ve=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),Ie=this.finalize(this.createNode(),new De.EmptyStatement)):(this.expect(")"),Ie=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),je=this.parseIfClause())),this.finalize(Re,new De.IfStatement(Ve,Ie,je))},Be.prototype.parseDoWhileStatement=function(){var Ie=this.createNode();this.expectKeyword("do");var Re=this.context.inIteration;this.context.inIteration=!0;var je=this.parseStatement();this.context.inIteration=Re,this.expectKeyword("while"),this.expect("(");var Ve=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(Ie,new De.DoWhileStatement(je,Ve))},Be.prototype.parseWhileStatement=function(){var Ie,Re=this.createNode();this.expectKeyword("while"),this.expect("(");var je=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),Ie=this.finalize(this.createNode(),new De.EmptyStatement);else{this.expect(")");var Ve=this.context.inIteration;this.context.inIteration=!0,Ie=this.parseStatement(),this.context.inIteration=Ve}return this.finalize(Re,new De.WhileStatement(je,Ie))},Be.prototype.parseForStatement=function(){var Ie,Re,je,Ve=null,He=null,ze=null,Ue=!0,We=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){Ve=this.createNode(),this.nextToken();var qe=this.context.allowIn;this.context.allowIn=!1;var Ge=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=qe,Ge.length===1&&this.matchKeyword("in")){var Ye=Ge[0];Ye.init&&(Ye.id.type===ke.Syntax.ArrayPattern||Ye.id.type===ke.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(Me.Messages.ForInOfLoopInitializer,"for-in"),Ve=this.finalize(Ve,new De.VariableDeclaration(Ge,"var")),this.nextToken(),Ie=Ve,Re=this.parseExpression(),Ve=null}else Ge.length===1&&Ge[0].init===null&&this.matchContextualKeyword("of")?(Ve=this.finalize(Ve,new De.VariableDeclaration(Ge,"var")),this.nextToken(),Ie=Ve,Re=this.parseAssignmentExpression(),Ve=null,Ue=!1):(Ve=this.finalize(Ve,new De.VariableDeclaration(Ge,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){Ve=this.createNode();var Qe=this.nextToken().value;this.context.strict||this.lookahead.value!=="in"?(qe=this.context.allowIn,this.context.allowIn=!1,Ge=this.parseBindingList(Qe,{inFor:!0}),this.context.allowIn=qe,Ge.length===1&&Ge[0].init===null&&this.matchKeyword("in")?(Ve=this.finalize(Ve,new De.VariableDeclaration(Ge,Qe)),this.nextToken(),Ie=Ve,Re=this.parseExpression(),Ve=null):Ge.length===1&&Ge[0].init===null&&this.matchContextualKeyword("of")?(Ve=this.finalize(Ve,new De.VariableDeclaration(Ge,Qe)),this.nextToken(),Ie=Ve,Re=this.parseAssignmentExpression(),Ve=null,Ue=!1):(this.consumeSemicolon(),Ve=this.finalize(Ve,new De.VariableDeclaration(Ge,Qe)))):(Ve=this.finalize(Ve,new De.Identifier(Qe)),this.nextToken(),Ie=Ve,Re=this.parseExpression(),Ve=null)}else{var Je=this.lookahead;if(qe=this.context.allowIn,this.context.allowIn=!1,Ve=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=qe,this.matchKeyword("in"))this.context.isAssignmentTarget&&Ve.type!==ke.Syntax.AssignmentExpression||this.tolerateError(Me.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(Ve),Ie=Ve,Re=this.parseExpression(),Ve=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&Ve.type!==ke.Syntax.AssignmentExpression||this.tolerateError(Me.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(Ve),Ie=Ve,Re=this.parseAssignmentExpression(),Ve=null,Ue=!1;else{if(this.match(",")){for(var ri=[Ve];this.match(",");)this.nextToken(),ri.push(this.isolateCoverGrammar(this.parseAssignmentExpression));Ve=this.finalize(this.startNode(Je),new De.SequenceExpression(ri))}this.expect(";")}}if(Ie===void 0&&(this.match(";")||(He=this.parseExpression()),this.expect(";"),this.match(")")||(ze=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),je=this.finalize(this.createNode(),new De.EmptyStatement);else{this.expect(")");var hi=this.context.inIteration;this.context.inIteration=!0,je=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=hi}return Ie===void 0?this.finalize(We,new De.ForStatement(Ve,He,ze,je)):Ue?this.finalize(We,new De.ForInStatement(Ie,Re,je)):this.finalize(We,new De.ForOfStatement(Ie,Re,je))},Be.prototype.parseContinueStatement=function(){var Ie=this.createNode();this.expectKeyword("continue");var Re=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var je=this.parseVariableIdentifier();Re=je;var Ve="$"+je.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,Ve)||this.throwError(Me.Messages.UnknownLabel,je.name)}return this.consumeSemicolon(),Re!==null||this.context.inIteration||this.throwError(Me.Messages.IllegalContinue),this.finalize(Ie,new De.ContinueStatement(Re))},Be.prototype.parseBreakStatement=function(){var Ie=this.createNode();this.expectKeyword("break");var Re=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var je=this.parseVariableIdentifier(),Ve="$"+je.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,Ve)||this.throwError(Me.Messages.UnknownLabel,je.name),Re=je}return this.consumeSemicolon(),Re!==null||this.context.inIteration||this.context.inSwitch||this.throwError(Me.Messages.IllegalBreak),this.finalize(Ie,new De.BreakStatement(Re))},Be.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(Me.Messages.IllegalReturn);var Ie=this.createNode();this.expectKeyword("return");var Re=(this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===2)&&this.lookahead.type!==8&&this.lookahead.type!==10?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(Ie,new De.ReturnStatement(Re))},Be.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(Me.Messages.StrictModeWith);var Ie,Re=this.createNode();this.expectKeyword("with"),this.expect("(");var je=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),Ie=this.finalize(this.createNode(),new De.EmptyStatement)):(this.expect(")"),Ie=this.parseStatement()),this.finalize(Re,new De.WithStatement(je,Ie))},Be.prototype.parseSwitchCase=function(){var Ie,Re=this.createNode();this.matchKeyword("default")?(this.nextToken(),Ie=null):(this.expectKeyword("case"),Ie=this.parseExpression()),this.expect(":");for(var je=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)je.push(this.parseStatementListItem());return this.finalize(Re,new De.SwitchCase(Ie,je))},Be.prototype.parseSwitchStatement=function(){var Ie=this.createNode();this.expectKeyword("switch"),this.expect("(");var Re=this.parseExpression();this.expect(")");var je=this.context.inSwitch;this.context.inSwitch=!0;var Ve=[],He=!1;for(this.expect("{");!this.match("}");){var ze=this.parseSwitchCase();ze.test===null&&(He&&this.throwError(Me.Messages.MultipleDefaultsInSwitch),He=!0),Ve.push(ze)}return this.expect("}"),this.context.inSwitch=je,this.finalize(Ie,new De.SwitchStatement(Re,Ve))},Be.prototype.parseLabelledStatement=function(){var Ie,Re=this.createNode(),je=this.parseExpression();if(je.type===ke.Syntax.Identifier&&this.match(":")){this.nextToken();var Ve=je,He="$"+Ve.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,He)&&this.throwError(Me.Messages.Redeclaration,"Label",Ve.name),this.context.labelSet[He]=!0;var ze=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),ze=this.parseClassDeclaration();else if(this.matchKeyword("function")){var Ue=this.lookahead,We=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(Ue,Me.Messages.StrictFunction):We.generator&&this.tolerateUnexpectedToken(Ue,Me.Messages.GeneratorInLegacyContext),ze=We}else ze=this.parseStatement();delete this.context.labelSet[He],Ie=new De.LabeledStatement(Ve,ze)}else this.consumeSemicolon(),Ie=new De.ExpressionStatement(je);return this.finalize(Re,Ie)},Be.prototype.parseThrowStatement=function(){var Ie=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(Me.Messages.NewlineAfterThrow);var Re=this.parseExpression();return this.consumeSemicolon(),this.finalize(Ie,new De.ThrowStatement(Re))},Be.prototype.parseCatchClause=function(){var Ie=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var Re=[],je=this.parsePattern(Re),Ve={},He=0;He<Re.length;He++){var ze="$"+Re[He].value;Object.prototype.hasOwnProperty.call(Ve,ze)&&this.tolerateError(Me.Messages.DuplicateBinding,Re[He].value),Ve[ze]=!0}this.context.strict&&je.type===ke.Syntax.Identifier&&this.scanner.isRestrictedWord(je.name)&&this.tolerateError(Me.Messages.StrictCatchVariable),this.expect(")");var Ue=this.parseBlock();return this.finalize(Ie,new De.CatchClause(je,Ue))},Be.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},Be.prototype.parseTryStatement=function(){var Ie=this.createNode();this.expectKeyword("try");var Re=this.parseBlock(),je=this.matchKeyword("catch")?this.parseCatchClause():null,Ve=this.matchKeyword("finally")?this.parseFinallyClause():null;return je||Ve||this.throwError(Me.Messages.NoCatchOrFinally),this.finalize(Ie,new De.TryStatement(Re,je,Ve))},Be.prototype.parseDebuggerStatement=function(){var Ie=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(Ie,new De.DebuggerStatement)},Be.prototype.parseStatement=function(){var Ie;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:Ie=this.parseExpressionStatement();break;case 7:var Re=this.lookahead.value;Ie=Re==="{"?this.parseBlock():Re==="("?this.parseExpressionStatement():Re===";"?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:Ie=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":Ie=this.parseBreakStatement();break;case"continue":Ie=this.parseContinueStatement();break;case"debugger":Ie=this.parseDebuggerStatement();break;case"do":Ie=this.parseDoWhileStatement();break;case"for":Ie=this.parseForStatement();break;case"function":Ie=this.parseFunctionDeclaration();break;case"if":Ie=this.parseIfStatement();break;case"return":Ie=this.parseReturnStatement();break;case"switch":Ie=this.parseSwitchStatement();break;case"throw":Ie=this.parseThrowStatement();break;case"try":Ie=this.parseTryStatement();break;case"var":Ie=this.parseVariableStatement();break;case"while":Ie=this.parseWhileStatement();break;case"with":Ie=this.parseWithStatement();break;default:Ie=this.parseExpressionStatement()}break;default:Ie=this.throwUnexpectedToken(this.lookahead)}return Ie},Be.prototype.parseFunctionSourceElements=function(){var Ie=this.createNode();this.expect("{");var Re=this.parseDirectivePrologues(),je=this.context.labelSet,Ve=this.context.inIteration,He=this.context.inSwitch,ze=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)Re.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=je,this.context.inIteration=Ve,this.context.inSwitch=He,this.context.inFunctionBody=ze,this.finalize(Ie,new De.BlockStatement(Re))},Be.prototype.validateParam=function(Ie,Re,je){var Ve="$"+je;this.context.strict?(this.scanner.isRestrictedWord(je)&&(Ie.stricted=Re,Ie.message=Me.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(Ie.paramSet,Ve)&&(Ie.stricted=Re,Ie.message=Me.Messages.StrictParamDupe)):Ie.firstRestricted||(this.scanner.isRestrictedWord(je)?(Ie.firstRestricted=Re,Ie.message=Me.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(je)?(Ie.firstRestricted=Re,Ie.message=Me.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(Ie.paramSet,Ve)&&(Ie.stricted=Re,Ie.message=Me.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(Ie.paramSet,Ve,{value:!0,enumerable:!0,writable:!0,configurable:!0}):Ie.paramSet[Ve]=!0},Be.prototype.parseRestElement=function(Ie){var Re=this.createNode();this.expect("...");var je=this.parsePattern(Ie);return this.match("=")&&this.throwError(Me.Messages.DefaultRestParameter),this.match(")")||this.throwError(Me.Messages.ParameterAfterRestParameter),this.finalize(Re,new De.RestElement(je))},Be.prototype.parseFormalParameter=function(Ie){for(var Re=[],je=this.match("...")?this.parseRestElement(Re):this.parsePatternWithDefault(Re),Ve=0;Ve<Re.length;Ve++)this.validateParam(Ie,Re[Ve],Re[Ve].value);Ie.simple=Ie.simple&&je instanceof De.Identifier,Ie.params.push(je)},Be.prototype.parseFormalParameters=function(Ie){var Re;if(Re={simple:!0,params:[],firstRestricted:Ie},this.expect("("),!this.match(")"))for(Re.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(Re),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:Re.simple,params:Re.params,stricted:Re.stricted,firstRestricted:Re.firstRestricted,message:Re.message}},Be.prototype.matchAsyncFunction=function(){var Ie=this.matchContextualKeyword("async");if(Ie){var Re=this.scanner.saveState();this.scanner.scanComments();var je=this.scanner.lex();this.scanner.restoreState(Re),Ie=Re.lineNumber===je.lineNumber&&je.type===4&&je.value==="function"}return Ie},Be.prototype.parseFunctionDeclaration=function(Ie){var Re=this.createNode(),je=this.matchContextualKeyword("async");je&&this.nextToken(),this.expectKeyword("function");var Ve,He=!je&&this.match("*");He&&this.nextToken();var ze=null,Ue=null;if(!Ie||!this.match("(")){var We=this.lookahead;ze=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(We.value)&&this.tolerateUnexpectedToken(We,Me.Messages.StrictFunctionName):this.scanner.isRestrictedWord(We.value)?(Ue=We,Ve=Me.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(We.value)&&(Ue=We,Ve=Me.Messages.StrictReservedWord)}var qe=this.context.await,Ge=this.context.allowYield;this.context.await=je,this.context.allowYield=!He;var Ye=this.parseFormalParameters(Ue),Qe=Ye.params,Je=Ye.stricted;Ue=Ye.firstRestricted,Ye.message&&(Ve=Ye.message);var ri=this.context.strict,hi=this.context.allowStrictDirective;this.context.allowStrictDirective=Ye.simple;var pi=this.parseFunctionSourceElements();return this.context.strict&&Ue&&this.throwUnexpectedToken(Ue,Ve),this.context.strict&&Je&&this.tolerateUnexpectedToken(Je,Ve),this.context.strict=ri,this.context.allowStrictDirective=hi,this.context.await=qe,this.context.allowYield=Ge,je?this.finalize(Re,new De.AsyncFunctionDeclaration(ze,Qe,pi)):this.finalize(Re,new De.FunctionDeclaration(ze,Qe,pi,He))},Be.prototype.parseFunctionExpression=function(){var Ie=this.createNode(),Re=this.matchContextualKeyword("async");Re&&this.nextToken(),this.expectKeyword("function");var je,Ve=!Re&&this.match("*");Ve&&this.nextToken();var He,ze=null,Ue=this.context.await,We=this.context.allowYield;if(this.context.await=Re,this.context.allowYield=!Ve,!this.match("(")){var qe=this.lookahead;ze=this.context.strict||Ve||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(qe.value)&&this.tolerateUnexpectedToken(qe,Me.Messages.StrictFunctionName):this.scanner.isRestrictedWord(qe.value)?(He=qe,je=Me.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(qe.value)&&(He=qe,je=Me.Messages.StrictReservedWord)}var Ge=this.parseFormalParameters(He),Ye=Ge.params,Qe=Ge.stricted;He=Ge.firstRestricted,Ge.message&&(je=Ge.message);var Je=this.context.strict,ri=this.context.allowStrictDirective;this.context.allowStrictDirective=Ge.simple;var hi=this.parseFunctionSourceElements();return this.context.strict&&He&&this.throwUnexpectedToken(He,je),this.context.strict&&Qe&&this.tolerateUnexpectedToken(Qe,je),this.context.strict=Je,this.context.allowStrictDirective=ri,this.context.await=Ue,this.context.allowYield=We,Re?this.finalize(Ie,new De.AsyncFunctionExpression(ze,Ye,hi)):this.finalize(Ie,new De.FunctionExpression(ze,Ye,hi,Ve))},Be.prototype.parseDirective=function(){var Ie=this.lookahead,Re=this.createNode(),je=this.parseExpression(),Ve=je.type===ke.Syntax.Literal?this.getTokenRaw(Ie).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(Re,Ve?new De.Directive(je,Ve):new De.ExpressionStatement(je))},Be.prototype.parseDirectivePrologues=function(){for(var Ie=null,Re=[];;){var je=this.lookahead;if(je.type!==8)break;var Ve=this.parseDirective();Re.push(Ve);var He=Ve.directive;if(typeof He!="string")break;He==="use strict"?(this.context.strict=!0,Ie&&this.tolerateUnexpectedToken(Ie,Me.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(je,Me.Messages.IllegalLanguageModeDirective)):!Ie&&je.octal&&(Ie=je)}return Re},Be.prototype.qualifiedPropertyName=function(Ie){switch(Ie.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return Ie.value==="["}return!1},Be.prototype.parseGetterMethod=function(){var Ie=this.createNode(),Re=this.context.allowYield;this.context.allowYield=!0;var je=this.parseFormalParameters();je.params.length>0&&this.tolerateError(Me.Messages.BadGetterArity);var Ve=this.parsePropertyMethod(je);return this.context.allowYield=Re,this.finalize(Ie,new De.FunctionExpression(null,je.params,Ve,!1))},Be.prototype.parseSetterMethod=function(){var Ie=this.createNode(),Re=this.context.allowYield;this.context.allowYield=!0;var je=this.parseFormalParameters();je.params.length!==1?this.tolerateError(Me.Messages.BadSetterArity):je.params[0]instanceof De.RestElement&&this.tolerateError(Me.Messages.BadSetterRestParameter);var Ve=this.parsePropertyMethod(je);return this.context.allowYield=Re,this.finalize(Ie,new De.FunctionExpression(null,je.params,Ve,!1))},Be.prototype.parseGeneratorMethod=function(){var Ie=this.createNode(),Re=this.context.allowYield;this.context.allowYield=!0;var je=this.parseFormalParameters();this.context.allowYield=!1;var Ve=this.parsePropertyMethod(je);return this.context.allowYield=Re,this.finalize(Ie,new De.FunctionExpression(null,je.params,Ve,!0))},Be.prototype.isStartOfExpression=function(){var Ie=!0,Re=this.lookahead.value;switch(this.lookahead.type){case 7:Ie=Re==="["||Re==="("||Re==="{"||Re==="+"||Re==="-"||Re==="!"||Re==="~"||Re==="++"||Re==="--"||Re==="/"||Re==="/=";break;case 4:Ie=Re==="class"||Re==="delete"||Re==="function"||Re==="let"||Re==="new"||Re==="super"||Re==="this"||Re==="typeof"||Re==="void"||Re==="yield"}return Ie},Be.prototype.parseYieldExpression=function(){var Ie=this.createNode();this.expectKeyword("yield");var Re=null,je=!1;if(!this.hasLineTerminator){var Ve=this.context.allowYield;this.context.allowYield=!1,(je=this.match("*"))?(this.nextToken(),Re=this.parseAssignmentExpression()):this.isStartOfExpression()&&(Re=this.parseAssignmentExpression()),this.context.allowYield=Ve}return this.finalize(Ie,new De.YieldExpression(Re,je))},Be.prototype.parseClassElement=function(Ie){var Re=this.lookahead,je=this.createNode(),Ve="",He=null,ze=null,Ue=!1,We=!1,qe=!1,Ge=!1;if(this.match("*"))this.nextToken();else if(Ue=this.match("["),(He=this.parseObjectPropertyKey()).name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(Re=this.lookahead,qe=!0,Ue=this.match("["),this.match("*")?this.nextToken():He=this.parseObjectPropertyKey()),Re.type===3&&!this.hasLineTerminator&&Re.value==="async"){var Ye=this.lookahead.value;Ye!==":"&&Ye!=="("&&Ye!=="*"&&(Ge=!0,Re=this.lookahead,He=this.parseObjectPropertyKey(),Re.type===3&&Re.value==="constructor"&&this.tolerateUnexpectedToken(Re,Me.Messages.ConstructorIsAsync))}var Qe=this.qualifiedPropertyName(this.lookahead);return Re.type===3?Re.value==="get"&&Qe?(Ve="get",Ue=this.match("["),He=this.parseObjectPropertyKey(),this.context.allowYield=!1,ze=this.parseGetterMethod()):Re.value==="set"&&Qe&&(Ve="set",Ue=this.match("["),He=this.parseObjectPropertyKey(),ze=this.parseSetterMethod()):Re.type===7&&Re.value==="*"&&Qe&&(Ve="init",Ue=this.match("["),He=this.parseObjectPropertyKey(),ze=this.parseGeneratorMethod(),We=!0),!Ve&&He&&this.match("(")&&(Ve="init",ze=Ge?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),We=!0),Ve||this.throwUnexpectedToken(this.lookahead),Ve==="init"&&(Ve="method"),Ue||(qe&&this.isPropertyKey(He,"prototype")&&this.throwUnexpectedToken(Re,Me.Messages.StaticPrototype),!qe&&this.isPropertyKey(He,"constructor")&&((Ve!=="method"||!We||ze&&ze.generator)&&this.throwUnexpectedToken(Re,Me.Messages.ConstructorSpecialMethod),Ie.value?this.throwUnexpectedToken(Re,Me.Messages.DuplicateConstructor):Ie.value=!0,Ve="constructor")),this.finalize(je,new De.MethodDefinition(He,Ue,ze,Ve,qe))},Be.prototype.parseClassElementList=function(){var Ie=[],Re={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():Ie.push(this.parseClassElement(Re));return this.expect("}"),Ie},Be.prototype.parseClassBody=function(){var Ie=this.createNode(),Re=this.parseClassElementList();return this.finalize(Ie,new De.ClassBody(Re))},Be.prototype.parseClassDeclaration=function(Ie){var Re=this.createNode(),je=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var Ve=Ie&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),He=null;this.matchKeyword("extends")&&(this.nextToken(),He=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var ze=this.parseClassBody();return this.context.strict=je,this.finalize(Re,new De.ClassDeclaration(Ve,He,ze))},Be.prototype.parseClassExpression=function(){var Ie=this.createNode(),Re=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var je=this.lookahead.type===3?this.parseVariableIdentifier():null,Ve=null;this.matchKeyword("extends")&&(this.nextToken(),Ve=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var He=this.parseClassBody();return this.context.strict=Re,this.finalize(Ie,new De.ClassExpression(je,Ve,He))},Be.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var Ie=this.createNode(),Re=this.parseDirectivePrologues();this.lookahead.type!==2;)Re.push(this.parseStatementListItem());return this.finalize(Ie,new De.Module(Re))},Be.prototype.parseScript=function(){for(var Ie=this.createNode(),Re=this.parseDirectivePrologues();this.lookahead.type!==2;)Re.push(this.parseStatementListItem());return this.finalize(Ie,new De.Script(Re))},Be.prototype.parseModuleSpecifier=function(){var Ie=this.createNode();this.lookahead.type!==8&&this.throwError(Me.Messages.InvalidModuleSpecifier);var Re=this.nextToken(),je=this.getTokenRaw(Re);return this.finalize(Ie,new De.Literal(Re.value,je))},Be.prototype.parseImportSpecifier=function(){var Ie,Re,je=this.createNode();return this.lookahead.type===3?(Re=Ie=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),Re=this.parseVariableIdentifier())):(Re=Ie=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),Re=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(je,new De.ImportSpecifier(Re,Ie))},Be.prototype.parseNamedImports=function(){this.expect("{");for(var Ie=[];!this.match("}");)Ie.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),Ie},Be.prototype.parseImportDefaultSpecifier=function(){var Ie=this.createNode(),Re=this.parseIdentifierName();return this.finalize(Ie,new De.ImportDefaultSpecifier(Re))},Be.prototype.parseImportNamespaceSpecifier=function(){var Ie=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(Me.Messages.NoAsAfterImportNamespace),this.nextToken();var Re=this.parseIdentifierName();return this.finalize(Ie,new De.ImportNamespaceSpecifier(Re))},Be.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(Me.Messages.IllegalImportDeclaration);var Ie,Re=this.createNode();this.expectKeyword("import");var je=[];if(this.lookahead.type===8)Ie=this.parseModuleSpecifier();else{if(this.match("{")?je=je.concat(this.parseNamedImports()):this.match("*")?je.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(je.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?je.push(this.parseImportNamespaceSpecifier()):this.match("{")?je=je.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var Ve=this.lookahead.value?Me.Messages.UnexpectedToken:Me.Messages.MissingFromClause;this.throwError(Ve,this.lookahead.value)}this.nextToken(),Ie=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(Re,new De.ImportDeclaration(je,Ie))},Be.prototype.parseExportSpecifier=function(){var Ie=this.createNode(),Re=this.parseIdentifierName(),je=Re;return this.matchContextualKeyword("as")&&(this.nextToken(),je=this.parseIdentifierName()),this.finalize(Ie,new De.ExportSpecifier(Re,je))},Be.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(Me.Messages.IllegalExportDeclaration);var Ie,Re=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var je=this.parseFunctionDeclaration(!0);Ie=this.finalize(Re,new De.ExportDefaultDeclaration(je))}else this.matchKeyword("class")?(je=this.parseClassDeclaration(!0),Ie=this.finalize(Re,new De.ExportDefaultDeclaration(je))):this.matchContextualKeyword("async")?(je=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),Ie=this.finalize(Re,new De.ExportDefaultDeclaration(je))):(this.matchContextualKeyword("from")&&this.throwError(Me.Messages.UnexpectedToken,this.lookahead.value),je=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),Ie=this.finalize(Re,new De.ExportDefaultDeclaration(je)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var Ve=this.lookahead.value?Me.Messages.UnexpectedToken:Me.Messages.MissingFromClause;this.throwError(Ve,this.lookahead.value)}this.nextToken();var He=this.parseModuleSpecifier();this.consumeSemicolon(),Ie=this.finalize(Re,new De.ExportAllDeclaration(He))}else if(this.lookahead.type===4){switch(je=void 0,this.lookahead.value){case"let":case"const":je=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":je=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}Ie=this.finalize(Re,new De.ExportNamedDeclaration(je,[],null))}else if(this.matchAsyncFunction())je=this.parseFunctionDeclaration(),Ie=this.finalize(Re,new De.ExportNamedDeclaration(je,[],null));else{var ze=[],Ue=null,We=!1;for(this.expect("{");!this.match("}");)We=We||this.matchKeyword("default"),ze.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),Ue=this.parseModuleSpecifier(),this.consumeSemicolon()):We?(Ve=this.lookahead.value?Me.Messages.UnexpectedToken:Me.Messages.MissingFromClause,this.throwError(Ve,this.lookahead.value)):this.consumeSemicolon(),Ie=this.finalize(Re,new De.ExportNamedDeclaration(null,ze,Ue))}return Ie},Be}();Ce.Parser=$e},function(Ae,Ce){Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.assert=function(Pe,Ee){if(!Pe)throw new Error("ASSERT: "+Ee)}},function(Ae,Ce){Object.defineProperty(Ce,"__esModule",{value:!0});var Pe=function(){function Ee(){this.errors=[],this.tolerant=!1}return Ee.prototype.recordError=function(Oe){this.errors.push(Oe)},Ee.prototype.tolerate=function(Oe){if(!this.tolerant)throw Oe;this.recordError(Oe)},Ee.prototype.constructError=function(Oe,Me){var De=new Error(Oe);try{throw De}catch(Te){Object.create&&Object.defineProperty&&(De=Object.create(Te),Object.defineProperty(De,"column",{value:Me}))}return De},Ee.prototype.createError=function(Oe,Me,De,Te){var ke="Line "+Me+": "+Te,Fe=this.constructError(ke,De);return Fe.index=Oe,Fe.lineNumber=Me,Fe.description=Te,Fe},Ee.prototype.throwError=function(Oe,Me,De,Te){throw this.createError(Oe,Me,De,Te)},Ee.prototype.tolerateError=function(Oe,Me,De,Te){var ke=this.createError(Oe,Me,De,Te);if(!this.tolerant)throw ke;this.recordError(ke)},Ee}();Ce.ErrorHandler=Pe},function(Ae,Ce){Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(Ae,Ce,Pe){Object.defineProperty(Ce,"__esModule",{value:!0});var Ee=Pe(9),Oe=Pe(4),Me=Pe(11);function De(Fe){return"0123456789abcdef".indexOf(Fe.toLowerCase())}function Te(Fe){return"01234567".indexOf(Fe)}var ke=function(){function Fe($e,Be){this.source=$e,this.errorHandler=Be,this.trackComment=!1,this.isModule=!1,this.length=$e.length,this.index=0,this.lineNumber=$e.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return Fe.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},Fe.prototype.restoreState=function($e){this.index=$e.index,this.lineNumber=$e.lineNumber,this.lineStart=$e.lineStart},Fe.prototype.eof=function(){return this.index>=this.length},Fe.prototype.throwUnexpectedToken=function($e){return $e===void 0&&($e=Me.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,$e)},Fe.prototype.tolerateUnexpectedToken=function($e){$e===void 0&&($e=Me.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,$e)},Fe.prototype.skipSingleLineComment=function($e){var Be,Ie,Re=[];for(this.trackComment&&(Re=[],Be=this.index-$e,Ie={start:{line:this.lineNumber,column:this.index-this.lineStart-$e},end:{}});!this.eof();){var je=this.source.charCodeAt(this.index);if(++this.index,Oe.Character.isLineTerminator(je)){if(this.trackComment){Ie.end={line:this.lineNumber,column:this.index-this.lineStart-1};var Ve={multiLine:!1,slice:[Be+$e,this.index-1],range:[Be,this.index-1],loc:Ie};Re.push(Ve)}return je===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,Re}}return this.trackComment&&(Ie.end={line:this.lineNumber,column:this.index-this.lineStart},Ve={multiLine:!1,slice:[Be+$e,this.index],range:[Be,this.index],loc:Ie},Re.push(Ve)),Re},Fe.prototype.skipMultiLineComment=function(){var $e,Be,Ie=[];for(this.trackComment&&(Ie=[],$e=this.index-2,Be={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var Re=this.source.charCodeAt(this.index);if(Oe.Character.isLineTerminator(Re))Re===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(Re===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){Be.end={line:this.lineNumber,column:this.index-this.lineStart};var je={multiLine:!0,slice:[$e+2,this.index-2],range:[$e,this.index],loc:Be};Ie.push(je)}return Ie}++this.index}else++this.index}return this.trackComment&&(Be.end={line:this.lineNumber,column:this.index-this.lineStart},je={multiLine:!0,slice:[$e+2,this.index],range:[$e,this.index],loc:Be},Ie.push(je)),this.tolerateUnexpectedToken(),Ie},Fe.prototype.scanComments=function(){var $e;this.trackComment&&($e=[]);for(var Be=this.index===0;!this.eof();){var Ie=this.source.charCodeAt(this.index);if(Oe.Character.isWhiteSpace(Ie))++this.index;else if(Oe.Character.isLineTerminator(Ie))++this.index,Ie===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,Be=!0;else if(Ie===47)if((Ie=this.source.charCodeAt(this.index+1))===47){this.index+=2;var Re=this.skipSingleLineComment(2);this.trackComment&&($e=$e.concat(Re)),Be=!0}else{if(Ie!==42)break;this.index+=2,Re=this.skipMultiLineComment(),this.trackComment&&($e=$e.concat(Re))}else if(Be&&Ie===45){if(this.source.charCodeAt(this.index+1)!==45||this.source.charCodeAt(this.index+2)!==62)break;this.index+=3,Re=this.skipSingleLineComment(3),this.trackComment&&($e=$e.concat(Re))}else{if(Ie!==60||this.isModule||this.source.slice(this.index+1,this.index+4)!=="!--")break;this.index+=4,Re=this.skipSingleLineComment(4),this.trackComment&&($e=$e.concat(Re))}}return $e},Fe.prototype.isFutureReservedWord=function($e){switch($e){case"enum":case"export":case"import":case"super":return!0;default:return!1}},Fe.prototype.isStrictModeReservedWord=function($e){switch($e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},Fe.prototype.isRestrictedWord=function($e){return $e==="eval"||$e==="arguments"},Fe.prototype.isKeyword=function($e){switch($e.length){case 2:return $e==="if"||$e==="in"||$e==="do";case 3:return $e==="var"||$e==="for"||$e==="new"||$e==="try"||$e==="let";case 4:return $e==="this"||$e==="else"||$e==="case"||$e==="void"||$e==="with"||$e==="enum";case 5:return $e==="while"||$e==="break"||$e==="catch"||$e==="throw"||$e==="const"||$e==="yield"||$e==="class"||$e==="super";case 6:return $e==="return"||$e==="typeof"||$e==="delete"||$e==="switch"||$e==="export"||$e==="import";case 7:return $e==="default"||$e==="finally"||$e==="extends";case 8:return $e==="function"||$e==="continue"||$e==="debugger";case 10:return $e==="instanceof";default:return!1}},Fe.prototype.codePointAt=function($e){var Be=this.source.charCodeAt($e);if(Be>=55296&&Be<=56319){var Ie=this.source.charCodeAt($e+1);Ie>=56320&&Ie<=57343&&(Be=1024*(Be-55296)+Ie-56320+65536)}return Be},Fe.prototype.scanHexEscape=function($e){for(var Be=$e==="u"?4:2,Ie=0,Re=0;Re<Be;++Re){if(this.eof()||!Oe.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;Ie=16*Ie+De(this.source[this.index++])}return String.fromCharCode(Ie)},Fe.prototype.scanUnicodeCodePointEscape=function(){var $e=this.source[this.index],Be=0;for($e==="}"&&this.throwUnexpectedToken();!this.eof()&&($e=this.source[this.index++],Oe.Character.isHexDigit($e.charCodeAt(0)));)Be=16*Be+De($e);return(Be>1114111||$e!=="}")&&this.throwUnexpectedToken(),Oe.Character.fromCodePoint(Be)},Fe.prototype.getIdentifier=function(){for(var $e=this.index++;!this.eof();){var Be=this.source.charCodeAt(this.index);if(Be===92)return this.index=$e,this.getComplexIdentifier();if(Be>=55296&&Be<57343)return this.index=$e,this.getComplexIdentifier();if(!Oe.Character.isIdentifierPart(Be))break;++this.index}return this.source.slice($e,this.index)},Fe.prototype.getComplexIdentifier=function(){var $e,Be=this.codePointAt(this.index),Ie=Oe.Character.fromCodePoint(Be);for(this.index+=Ie.length,Be===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,$e=this.scanUnicodeCodePointEscape()):($e=this.scanHexEscape("u"))!==null&&$e!=="\\"&&Oe.Character.isIdentifierStart($e.charCodeAt(0))||this.throwUnexpectedToken(),Ie=$e);!this.eof()&&(Be=this.codePointAt(this.index),Oe.Character.isIdentifierPart(Be));)Ie+=$e=Oe.Character.fromCodePoint(Be),this.index+=$e.length,Be===92&&(Ie=Ie.substr(0,Ie.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,$e=this.scanUnicodeCodePointEscape()):($e=this.scanHexEscape("u"))!==null&&$e!=="\\"&&Oe.Character.isIdentifierPart($e.charCodeAt(0))||this.throwUnexpectedToken(),Ie+=$e);return Ie},Fe.prototype.octalToDecimal=function($e){var Be=$e!=="0",Ie=Te($e);return!this.eof()&&Oe.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(Be=!0,Ie=8*Ie+Te(this.source[this.index++]),"0123".indexOf($e)>=0&&!this.eof()&&Oe.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(Ie=8*Ie+Te(this.source[this.index++]))),{code:Ie,octal:Be}},Fe.prototype.scanIdentifier=function(){var $e,Be=this.index,Ie=this.source.charCodeAt(Be)===92?this.getComplexIdentifier():this.getIdentifier();if(($e=Ie.length===1?3:this.isKeyword(Ie)?4:Ie==="null"?5:Ie==="true"||Ie==="false"?1:3)!=3&&Be+Ie.length!==this.index){var Re=this.index;this.index=Be,this.tolerateUnexpectedToken(Me.Messages.InvalidEscapedReservedWord),this.index=Re}return{type:$e,value:Ie,lineNumber:this.lineNumber,lineStart:this.lineStart,start:Be,end:this.index}},Fe.prototype.scanPunctuator=function(){var $e=this.index,Be=this.source[this.index];switch(Be){case"(":case"{":Be==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,Be="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:(Be=this.source.substr(this.index,4))===">>>="?this.index+=4:(Be=Be.substr(0,3))==="==="||Be==="!=="||Be===">>>"||Be==="<<="||Be===">>="||Be==="**="?this.index+=3:(Be=Be.substr(0,2))==="&&"||Be==="||"||Be==="=="||Be==="!="||Be==="+="||Be==="-="||Be==="*="||Be==="/="||Be==="++"||Be==="--"||Be==="<<"||Be===">>"||Be==="&="||Be==="|="||Be==="^="||Be==="%="||Be==="<="||Be===">="||Be==="=>"||Be==="**"?this.index+=2:(Be=this.source[this.index],"<>=!+-*%&|^/".indexOf(Be)>=0&&++this.index)}return this.index===$e&&this.throwUnexpectedToken(),{type:7,value:Be,lineNumber:this.lineNumber,lineStart:this.lineStart,start:$e,end:this.index}},Fe.prototype.scanHexLiteral=function($e){for(var Be="";!this.eof()&&Oe.Character.isHexDigit(this.source.charCodeAt(this.index));)Be+=this.source[this.index++];return Be.length===0&&this.throwUnexpectedToken(),Oe.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+Be,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:$e,end:this.index}},Fe.prototype.scanBinaryLiteral=function($e){for(var Be,Ie="";!this.eof()&&((Be=this.source[this.index])==="0"||Be==="1");)Ie+=this.source[this.index++];return Ie.length===0&&this.throwUnexpectedToken(),this.eof()||(Be=this.source.charCodeAt(this.index),(Oe.Character.isIdentifierStart(Be)||Oe.Character.isDecimalDigit(Be))&&this.throwUnexpectedToken()),{type:6,value:parseInt(Ie,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:$e,end:this.index}},Fe.prototype.scanOctalLiteral=function($e,Be){var Ie="",Re=!1;for(Oe.Character.isOctalDigit($e.charCodeAt(0))?(Re=!0,Ie="0"+this.source[this.index++]):++this.index;!this.eof()&&Oe.Character.isOctalDigit(this.source.charCodeAt(this.index));)Ie+=this.source[this.index++];return Re||Ie.length!==0||this.throwUnexpectedToken(),(Oe.Character.isIdentifierStart(this.source.charCodeAt(this.index))||Oe.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(Ie,8),octal:Re,lineNumber:this.lineNumber,lineStart:this.lineStart,start:Be,end:this.index}},Fe.prototype.isImplicitOctalLiteral=function(){for(var $e=this.index+1;$e<this.length;++$e){var Be=this.source[$e];if(Be==="8"||Be==="9")return!1;if(!Oe.Character.isOctalDigit(Be.charCodeAt(0)))return!0}return!0},Fe.prototype.scanNumericLiteral=function(){var $e=this.index,Be=this.source[$e];Ee.assert(Oe.Character.isDecimalDigit(Be.charCodeAt(0))||Be===".","Numeric literal must start with a decimal digit or a decimal point");var Ie="";if(Be!=="."){if(Ie=this.source[this.index++],Be=this.source[this.index],Ie==="0"){if(Be==="x"||Be==="X")return++this.index,this.scanHexLiteral($e);if(Be==="b"||Be==="B")return++this.index,this.scanBinaryLiteral($e);if(Be==="o"||Be==="O")return this.scanOctalLiteral(Be,$e);if(Be&&Oe.Character.isOctalDigit(Be.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(Be,$e)}for(;Oe.Character.isDecimalDigit(this.source.charCodeAt(this.index));)Ie+=this.source[this.index++];Be=this.source[this.index]}if(Be==="."){for(Ie+=this.source[this.index++];Oe.Character.isDecimalDigit(this.source.charCodeAt(this.index));)Ie+=this.source[this.index++];Be=this.source[this.index]}if(Be==="e"||Be==="E")if(Ie+=this.source[this.index++],(Be=this.source[this.index])!=="+"&&Be!=="-"||(Ie+=this.source[this.index++]),Oe.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;Oe.Character.isDecimalDigit(this.source.charCodeAt(this.index));)Ie+=this.source[this.index++];else this.throwUnexpectedToken();return Oe.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(Ie),lineNumber:this.lineNumber,lineStart:this.lineStart,start:$e,end:this.index}},Fe.prototype.scanStringLiteral=function(){var $e=this.index,Be=this.source[$e];Ee.assert(Be==="'"||Be==='"',"String literal must starts with a quote"),++this.index;for(var Ie=!1,Re="";!this.eof();){var je=this.source[this.index++];if(je===Be){Be="";break}if(je==="\\")if((je=this.source[this.index++])&&Oe.Character.isLineTerminator(je.charCodeAt(0)))++this.lineNumber,je==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(je){case"u":if(this.source[this.index]==="{")++this.index,Re+=this.scanUnicodeCodePointEscape();else{var Ve=this.scanHexEscape(je);Ve===null&&this.throwUnexpectedToken(),Re+=Ve}break;case"x":var He=this.scanHexEscape(je);He===null&&this.throwUnexpectedToken(Me.Messages.InvalidHexEscapeSequence),Re+=He;break;case"n":Re+=`
`;break;case"r":Re+="\r";break;case"t":Re+="	";break;case"b":Re+="\b";break;case"f":Re+="\f";break;case"v":Re+="\v";break;case"8":case"9":Re+=je,this.tolerateUnexpectedToken();break;default:if(je&&Oe.Character.isOctalDigit(je.charCodeAt(0))){var ze=this.octalToDecimal(je);Ie=ze.octal||Ie,Re+=String.fromCharCode(ze.code)}else Re+=je}else{if(Oe.Character.isLineTerminator(je.charCodeAt(0)))break;Re+=je}}return Be!==""&&(this.index=$e,this.throwUnexpectedToken()),{type:8,value:Re,octal:Ie,lineNumber:this.lineNumber,lineStart:this.lineStart,start:$e,end:this.index}},Fe.prototype.scanTemplate=function(){var $e="",Be=!1,Ie=this.index,Re=this.source[Ie]==="`",je=!1,Ve=2;for(++this.index;!this.eof();){var He=this.source[this.index++];if(He==="`"){Ve=1,je=!0,Be=!0;break}if(He==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,Be=!0;break}$e+=He}else if(He==="\\")if(He=this.source[this.index++],Oe.Character.isLineTerminator(He.charCodeAt(0)))++this.lineNumber,He==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(He){case"n":$e+=`
`;break;case"r":$e+="\r";break;case"t":$e+="	";break;case"u":if(this.source[this.index]==="{")++this.index,$e+=this.scanUnicodeCodePointEscape();else{var ze=this.index,Ue=this.scanHexEscape(He);Ue!==null?$e+=Ue:(this.index=ze,$e+=He)}break;case"x":var We=this.scanHexEscape(He);We===null&&this.throwUnexpectedToken(Me.Messages.InvalidHexEscapeSequence),$e+=We;break;case"b":$e+="\b";break;case"f":$e+="\f";break;case"v":$e+="\v";break;default:He==="0"?(Oe.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(Me.Messages.TemplateOctalLiteral),$e+="\0"):Oe.Character.isOctalDigit(He.charCodeAt(0))?this.throwUnexpectedToken(Me.Messages.TemplateOctalLiteral):$e+=He}else Oe.Character.isLineTerminator(He.charCodeAt(0))?(++this.lineNumber,He==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,$e+=`
`):$e+=He}return Be||this.throwUnexpectedToken(),Re||this.curlyStack.pop(),{type:10,value:this.source.slice(Ie+1,this.index-Ve),cooked:$e,head:Re,tail:je,lineNumber:this.lineNumber,lineStart:this.lineStart,start:Ie,end:this.index}},Fe.prototype.testRegExp=function($e,Be){var Ie=$e,Re=this;Be.indexOf("u")>=0&&(Ie=Ie.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(je,Ve,He){var ze=parseInt(Ve||He,16);return ze>1114111&&Re.throwUnexpectedToken(Me.Messages.InvalidRegExp),ze<=65535?String.fromCharCode(ze):""}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,""));try{RegExp(Ie)}catch{this.throwUnexpectedToken(Me.Messages.InvalidRegExp)}try{return new RegExp($e,Be)}catch{return null}},Fe.prototype.scanRegExpBody=function(){var $e=this.source[this.index];Ee.assert($e==="/","Regular expression literal must start with a slash");for(var Be=this.source[this.index++],Ie=!1,Re=!1;!this.eof();)if(Be+=$e=this.source[this.index++],$e==="\\")$e=this.source[this.index++],Oe.Character.isLineTerminator($e.charCodeAt(0))&&this.throwUnexpectedToken(Me.Messages.UnterminatedRegExp),Be+=$e;else if(Oe.Character.isLineTerminator($e.charCodeAt(0)))this.throwUnexpectedToken(Me.Messages.UnterminatedRegExp);else if(Ie)$e==="]"&&(Ie=!1);else{if($e==="/"){Re=!0;break}$e==="["&&(Ie=!0)}return Re||this.throwUnexpectedToken(Me.Messages.UnterminatedRegExp),Be.substr(1,Be.length-2)},Fe.prototype.scanRegExpFlags=function(){for(var $e="";!this.eof();){var Be=this.source[this.index];if(!Oe.Character.isIdentifierPart(Be.charCodeAt(0)))break;if(++this.index,Be!=="\\"||this.eof())$e+=Be;else if((Be=this.source[this.index])==="u"){++this.index;var Ie=this.index,Re=this.scanHexEscape("u");if(Re!==null)for($e+=Re;Ie<this.index;++Ie)this.source[Ie];else this.index=Ie,$e+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return $e},Fe.prototype.scanRegExp=function(){var $e=this.index,Be=this.scanRegExpBody(),Ie=this.scanRegExpFlags();return{type:9,value:"",pattern:Be,flags:Ie,regex:this.testRegExp(Be,Ie),lineNumber:this.lineNumber,lineStart:this.lineStart,start:$e,end:this.index}},Fe.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var $e=this.source.charCodeAt(this.index);return Oe.Character.isIdentifierStart($e)?this.scanIdentifier():$e===40||$e===41||$e===59?this.scanPunctuator():$e===39||$e===34?this.scanStringLiteral():$e===46?Oe.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():Oe.Character.isDecimalDigit($e)?this.scanNumericLiteral():$e===96||$e===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():$e>=55296&&$e<57343&&Oe.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},Fe}();Ce.Scanner=ke},function(Ae,Ce){Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.TokenName={},Ce.TokenName[1]="Boolean",Ce.TokenName[2]="<end>",Ce.TokenName[3]="Identifier",Ce.TokenName[4]="Keyword",Ce.TokenName[5]="Null",Ce.TokenName[6]="Numeric",Ce.TokenName[7]="Punctuator",Ce.TokenName[8]="String",Ce.TokenName[9]="RegularExpression",Ce.TokenName[10]="Template"},function(Ae,Ce){Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",lang:"",rang:""}},function(Ae,Ce,Pe){Object.defineProperty(Ce,"__esModule",{value:!0});var Ee=Pe(10),Oe=Pe(12),Me=Pe(13),De=function(){function ke(){this.values=[],this.curly=this.paren=-1}return ke.prototype.beforeFunctionExpression=function(Fe){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(Fe)>=0},ke.prototype.isRegexStart=function(){var Fe=this.values[this.values.length-1],$e=Fe!==null;switch(Fe){case"this":case"]":$e=!1;break;case")":var Be=this.values[this.paren-1];$e=Be==="if"||Be==="while"||Be==="for"||Be==="with";break;case"}":if($e=!1,this.values[this.curly-3]==="function")$e=!!(Ie=this.values[this.curly-4])&&!this.beforeFunctionExpression(Ie);else if(this.values[this.curly-4]==="function"){var Ie;$e=!(Ie=this.values[this.curly-5])||!this.beforeFunctionExpression(Ie)}}return $e},ke.prototype.push=function(Fe){Fe.type===7||Fe.type===4?(Fe.value==="{"?this.curly=this.values.length:Fe.value==="("&&(this.paren=this.values.length),this.values.push(Fe.value)):this.values.push(null)},ke}(),Te=function(){function ke(Fe,$e){this.errorHandler=new Ee.ErrorHandler,this.errorHandler.tolerant=!!$e&&typeof $e.tolerant=="boolean"&&$e.tolerant,this.scanner=new Oe.Scanner(Fe,this.errorHandler),this.scanner.trackComment=!!$e&&typeof $e.comment=="boolean"&&$e.comment,this.trackRange=!!$e&&typeof $e.range=="boolean"&&$e.range,this.trackLoc=!!$e&&typeof $e.loc=="boolean"&&$e.loc,this.buffer=[],this.reader=new De}return ke.prototype.errors=function(){return this.errorHandler.errors},ke.prototype.getNextToken=function(){if(this.buffer.length===0){var Fe=this.scanner.scanComments();if(this.scanner.trackComment)for(var $e=0;$e<Fe.length;++$e){var Be=Fe[$e],Ie=this.scanner.source.slice(Be.slice[0],Be.slice[1]),Re={type:Be.multiLine?"BlockComment":"LineComment",value:Ie};this.trackRange&&(Re.range=Be.range),this.trackLoc&&(Re.loc=Be.loc),this.buffer.push(Re)}if(!this.scanner.eof()){var je=void 0;this.trackLoc&&(je={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var Ve=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(Ve);var He={type:Me.TokenName[Ve.type],value:this.scanner.source.slice(Ve.start,Ve.end)};if(this.trackRange&&(He.range=[Ve.start,Ve.end]),this.trackLoc&&(je.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},He.loc=je),Ve.type===9){var ze=Ve.pattern,Ue=Ve.flags;He.regex={pattern:ze,flags:Ue}}this.buffer.push(He)}}return this.buffer.shift()},ke}();Ce.Tokenizer=Te}])},r.exports=_e()},function(r,xe,Se){var _e=Se(38),Ae=Se(53),Ce=Se(76),Pe=Se(54),Ee=Object.prototype.toString,Oe=Object.prototype.hasOwnProperty,Me={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},De=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function Te(Je){var ri,hi,pi;if(ri=Je.toString(16).toUpperCase(),Je<=255)hi="x",pi=2;else if(Je<=65535)hi="u",pi=4;else{if(!(Je<=4294967295))throw new Ae("code point within a string may not be greater than 0xFFFFFFFF");hi="U",pi=8}return"\\"+hi+_e.repeat("0",pi-ri.length)+ri}function ke(Je){this.schema=Je.schema||Ce,this.indent=Math.max(1,Je.indent||2),this.noArrayIndent=Je.noArrayIndent||!1,this.skipInvalid=Je.skipInvalid||!1,this.flowLevel=_e.isNothing(Je.flowLevel)?-1:Je.flowLevel,this.styleMap=function(ri,hi){var pi,ni,di,fi,Pi,ci,xi;if(hi===null)return{};for(pi={},di=0,fi=(ni=Object.keys(hi)).length;di<fi;di+=1)Pi=ni[di],ci=String(hi[Pi]),Pi.slice(0,2)==="!!"&&(Pi="tag:yaml.org,2002:"+Pi.slice(2)),(xi=ri.compiledTypeMap.fallback[Pi])&&Oe.call(xi.styleAliases,ci)&&(ci=xi.styleAliases[ci]),pi[Pi]=ci;return pi}(this.schema,Je.styles||null),this.sortKeys=Je.sortKeys||!1,this.lineWidth=Je.lineWidth||80,this.noRefs=Je.noRefs||!1,this.noCompatMode=Je.noCompatMode||!1,this.condenseFlow=Je.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Fe(Je,ri){for(var hi,pi=_e.repeat(" ",ri),ni=0,di=-1,fi="",Pi=Je.length;ni<Pi;)(di=Je.indexOf(`
`,ni))===-1?(hi=Je.slice(ni),ni=Pi):(hi=Je.slice(ni,di+1),ni=di+1),hi.length&&hi!==`
`&&(fi+=pi),fi+=hi;return fi}function $e(Je,ri){return`
`+_e.repeat(" ",Je.indent*ri)}function Be(Je){return Je===32||Je===9}function Ie(Je){return 32<=Je&&Je<=126||161<=Je&&Je<=55295&&Je!==8232&&Je!==8233||57344<=Je&&Je<=65533&&Je!==65279||65536<=Je&&Je<=1114111}function Re(Je,ri){return Ie(Je)&&Je!==65279&&Je!==44&&Je!==91&&Je!==93&&Je!==123&&Je!==125&&Je!==58&&(Je!==35||ri&&function(hi){return Ie(hi)&&!Be(hi)&&hi!==65279&&hi!==13&&hi!==10}(ri))}function je(Je){return/^\n* /.test(Je)}function Ve(Je,ri,hi,pi,ni){var di,fi,Pi,ci,xi=!1,yi=!1,gi=pi!==-1,Ai=-1,Mi=Ie(ci=Je.charCodeAt(0))&&ci!==65279&&!Be(ci)&&ci!==45&&ci!==63&&ci!==58&&ci!==44&&ci!==91&&ci!==93&&ci!==123&&ci!==125&&ci!==35&&ci!==38&&ci!==42&&ci!==33&&ci!==124&&ci!==61&&ci!==62&&ci!==39&&ci!==34&&ci!==37&&ci!==64&&ci!==96&&!Be(Je.charCodeAt(Je.length-1));if(ri)for(di=0;di<Je.length;di++){if(!Ie(fi=Je.charCodeAt(di)))return 5;Pi=di>0?Je.charCodeAt(di-1):null,Mi=Mi&&Re(fi,Pi)}else{for(di=0;di<Je.length;di++){if((fi=Je.charCodeAt(di))===10)xi=!0,gi&&(yi=yi||di-Ai-1>pi&&Je[Ai+1]!==" ",Ai=di);else if(!Ie(fi))return 5;Pi=di>0?Je.charCodeAt(di-1):null,Mi=Mi&&Re(fi,Pi)}yi=yi||gi&&di-Ai-1>pi&&Je[Ai+1]!==" "}return xi||yi?hi>9&&je(Je)?5:yi?4:3:Mi&&!ni(Je)?1:2}function He(Je,ri,hi,pi){Je.dump=function(){if(ri.length===0)return"''";if(!Je.noCompatMode&&De.indexOf(ri)!==-1)return"'"+ri+"'";var ni=Je.indent*Math.max(1,hi),di=Je.lineWidth===-1?-1:Math.max(Math.min(Je.lineWidth,40),Je.lineWidth-ni),fi=pi||Je.flowLevel>-1&&hi>=Je.flowLevel;switch(Ve(ri,fi,Je.indent,di,function(Pi){return function(ci,xi){var yi,gi;for(yi=0,gi=ci.implicitTypes.length;yi<gi;yi+=1)if(ci.implicitTypes[yi].resolve(xi))return!0;return!1}(Je,Pi)})){case 1:return ri;case 2:return"'"+ri.replace(/'/g,"''")+"'";case 3:return"|"+ze(ri,Je.indent)+Ue(Fe(ri,ni));case 4:return">"+ze(ri,Je.indent)+Ue(Fe(function(Pi,ci){for(var xi,yi,gi=/(\n+)([^\n]*)/g,Ai=(Fi=Pi.indexOf(`
`),Fi=Fi!==-1?Fi:Pi.length,gi.lastIndex=Fi,We(Pi.slice(0,Fi),ci)),Mi=Pi[0]===`
`||Pi[0]===" ",Fi;yi=gi.exec(Pi);){var Di=yi[1],oi=yi[2];xi=oi[0]===" ",Ai+=Di+(Mi||xi||oi===""?"":`
`)+We(oi,ci),Mi=xi}return Ai}(ri,di),ni));case 5:return'"'+function(Pi){for(var ci,xi,yi,gi="",Ai=0;Ai<Pi.length;Ai++)(ci=Pi.charCodeAt(Ai))>=55296&&ci<=56319&&(xi=Pi.charCodeAt(Ai+1))>=56320&&xi<=57343?(gi+=Te(1024*(ci-55296)+xi-56320+65536),Ai++):(yi=Me[ci],gi+=!yi&&Ie(ci)?Pi[Ai]:yi||Te(ci));return gi}(ri)+'"';default:throw new Ae("impossible error: invalid scalar style")}}()}function ze(Je,ri){var hi=je(Je)?String(ri):"",pi=Je[Je.length-1]===`
`;return hi+(pi&&(Je[Je.length-2]===`
`||Je===`
`)?"+":pi?"":"-")+`
`}function Ue(Je){return Je[Je.length-1]===`
`?Je.slice(0,-1):Je}function We(Je,ri){if(Je===""||Je[0]===" ")return Je;for(var hi,pi,ni=/ [^ ]/g,di=0,fi=0,Pi=0,ci="";hi=ni.exec(Je);)(Pi=hi.index)-di>ri&&(pi=fi>di?fi:Pi,ci+=`
`+Je.slice(di,pi),di=pi+1),fi=Pi;return ci+=`
`,Je.length-di>ri&&fi>di?ci+=Je.slice(di,fi)+`
`+Je.slice(fi+1):ci+=Je.slice(di),ci.slice(1)}function qe(Je,ri,hi){var pi,ni,di,fi,Pi,ci;for(di=0,fi=(ni=hi?Je.explicitTypes:Je.implicitTypes).length;di<fi;di+=1)if(((Pi=ni[di]).instanceOf||Pi.predicate)&&(!Pi.instanceOf||typeof ri=="object"&&ri instanceof Pi.instanceOf)&&(!Pi.predicate||Pi.predicate(ri))){if(Je.tag=hi?Pi.tag:"?",Pi.represent){if(ci=Je.styleMap[Pi.tag]||Pi.defaultStyle,Ee.call(Pi.represent)==="[object Function]")pi=Pi.represent(ri,ci);else{if(!Oe.call(Pi.represent,ci))throw new Ae("!<"+Pi.tag+'> tag resolver accepts not "'+ci+'" style');pi=Pi.represent[ci](ri,ci)}Je.dump=pi}return!0}return!1}function Ge(Je,ri,hi,pi,ni,di){Je.tag=null,Je.dump=hi,qe(Je,hi,!1)||qe(Je,hi,!0);var fi=Ee.call(Je.dump);pi&&(pi=Je.flowLevel<0||Je.flowLevel>ri);var Pi,ci,xi=fi==="[object Object]"||fi==="[object Array]";if(xi&&(ci=(Pi=Je.duplicates.indexOf(hi))!==-1),(Je.tag!==null&&Je.tag!=="?"||ci||Je.indent!==2&&ri>0)&&(ni=!1),ci&&Je.usedDuplicates[Pi])Je.dump="*ref_"+Pi;else{if(xi&&ci&&!Je.usedDuplicates[Pi]&&(Je.usedDuplicates[Pi]=!0),fi==="[object Object]")pi&&Object.keys(Je.dump).length!==0?(function(gi,Ai,Mi,Fi){var Di,oi,Ke,St,ei,ui,ai="",ii=gi.tag,Ci=Object.keys(Mi);if(gi.sortKeys===!0)Ci.sort();else if(typeof gi.sortKeys=="function")Ci.sort(gi.sortKeys);else if(gi.sortKeys)throw new Ae("sortKeys must be a boolean or a function");for(Di=0,oi=Ci.length;Di<oi;Di+=1)ui="",Fi&&Di===0||(ui+=$e(gi,Ai)),St=Mi[Ke=Ci[Di]],Ge(gi,Ai+1,Ke,!0,!0,!0)&&((ei=gi.tag!==null&&gi.tag!=="?"||gi.dump&&gi.dump.length>1024)&&(gi.dump&&gi.dump.charCodeAt(0)===10?ui+="?":ui+="? "),ui+=gi.dump,ei&&(ui+=$e(gi,Ai)),Ge(gi,Ai+1,St,!0,ei)&&(gi.dump&&gi.dump.charCodeAt(0)===10?ui+=":":ui+=": ",ai+=ui+=gi.dump));gi.tag=ii,gi.dump=ai||"{}"}(Je,ri,Je.dump,ni),ci&&(Je.dump="&ref_"+Pi+Je.dump)):(function(gi,Ai,Mi){var Fi,Di,oi,Ke,St,ei="",ui=gi.tag,ai=Object.keys(Mi);for(Fi=0,Di=ai.length;Fi<Di;Fi+=1)St="",Fi!==0&&(St+=", "),gi.condenseFlow&&(St+='"'),Ke=Mi[oi=ai[Fi]],Ge(gi,Ai,oi,!1,!1)&&(gi.dump.length>1024&&(St+="? "),St+=gi.dump+(gi.condenseFlow?'"':"")+":"+(gi.condenseFlow?"":" "),Ge(gi,Ai,Ke,!1,!1)&&(ei+=St+=gi.dump));gi.tag=ui,gi.dump="{"+ei+"}"}(Je,ri,Je.dump),ci&&(Je.dump="&ref_"+Pi+" "+Je.dump));else if(fi==="[object Array]"){var yi=Je.noArrayIndent&&ri>0?ri-1:ri;pi&&Je.dump.length!==0?(function(gi,Ai,Mi,Fi){var Di,oi,Ke="",St=gi.tag;for(Di=0,oi=Mi.length;Di<oi;Di+=1)Ge(gi,Ai+1,Mi[Di],!0,!0)&&(Fi&&Di===0||(Ke+=$e(gi,Ai)),gi.dump&&gi.dump.charCodeAt(0)===10?Ke+="-":Ke+="- ",Ke+=gi.dump);gi.tag=St,gi.dump=Ke||"[]"}(Je,yi,Je.dump,ni),ci&&(Je.dump="&ref_"+Pi+Je.dump)):(function(gi,Ai,Mi){var Fi,Di,oi="",Ke=gi.tag;for(Fi=0,Di=Mi.length;Fi<Di;Fi+=1)Ge(gi,Ai,Mi[Fi],!1,!1)&&(Fi!==0&&(oi+=","+(gi.condenseFlow?"":" ")),oi+=gi.dump);gi.tag=Ke,gi.dump="["+oi+"]"}(Je,yi,Je.dump),ci&&(Je.dump="&ref_"+Pi+" "+Je.dump))}else{if(fi!=="[object String]"){if(Je.skipInvalid)return!1;throw new Ae("unacceptable kind of an object to dump "+fi)}Je.tag!=="?"&&He(Je,Je.dump,ri,di)}Je.tag!==null&&Je.tag!=="?"&&(Je.dump="!<"+Je.tag+"> "+Je.dump)}return!0}function Ye(Je,ri){var hi,pi,ni=[],di=[];for(function fi(Pi,ci,xi){var yi,gi,Ai;if(Pi!==null&&typeof Pi=="object")if((gi=ci.indexOf(Pi))!==-1)xi.indexOf(gi)===-1&&xi.push(gi);else if(ci.push(Pi),Array.isArray(Pi))for(gi=0,Ai=Pi.length;gi<Ai;gi+=1)fi(Pi[gi],ci,xi);else for(yi=Object.keys(Pi),gi=0,Ai=yi.length;gi<Ai;gi+=1)fi(Pi[yi[gi]],ci,xi)}(Je,ni,di),hi=0,pi=di.length;hi<pi;hi+=1)ri.duplicates.push(ni[di[hi]]);ri.usedDuplicates=new Array(pi)}function Qe(Je,ri){var hi=new ke(ri=ri||{});return hi.noRefs||Ye(Je,hi),Ge(hi,0,Je,!0,!0)?hi.dump+`
`:""}r.exports.dump=Qe,r.exports.safeDump=function(Je,ri){return Qe(Je,_e.extend({schema:Pe},ri))}},function(r,xe,Se){Se(31),Se(32),Se(33),Se(64),Se(19),Se(65),Se(20),Se(68),Se(92),Se(144),Se(22),Se(94),Se(23);var _e,Ae=this&&this.__extends||(_e=function(Ve,He){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ze,Ue){ze.__proto__=Ue}||function(ze,Ue){for(var We in Ue)Ue.hasOwnProperty(We)&&(ze[We]=Ue[We])})(Ve,He)},function(Ve,He){function ze(){this.constructor=Ve}_e(Ve,He),Ve.prototype=He===null?Object.create(He):(ze.prototype=He.prototype,new ze)}),Ce=this&&this.__values||function(Ve){var He=typeof Symbol=="function"&&Symbol.iterator,ze=He&&Ve[He],Ue=0;if(ze)return ze.call(Ve);if(Ve&&typeof Ve.length=="number")return{next:function(){return Ve&&Ue>=Ve.length&&(Ve=void 0),{value:Ve&&Ve[Ue++],done:!Ve}}};throw new TypeError(He?"Object is not iterable.":"Symbol.iterator is not defined.")},Pe=this&&this.__read||function(Ve,He){var ze=typeof Symbol=="function"&&Ve[Symbol.iterator];if(!ze)return Ve;var Ue,We,qe=ze.call(Ve),Ge=[];try{for(;(He===void 0||He-- >0)&&!(Ue=qe.next()).done;)Ge.push(Ue.value)}catch(Ye){We={error:Ye}}finally{try{Ue&&!Ue.done&&(ze=qe.return)&&ze.call(qe)}finally{if(We)throw We.error}}return Ge};Object.defineProperty(xe,"__esModule",{value:!0});var Ee=Se(91),Oe=Se(2),Me=Se(183),De=Se(0),Te=Se(7),ke=Se(95),Fe=Se(69),$e=Se(3),Be=Se(306),Ie=Se(307),Re=Se(308),je=function(Ve){function He(ze,Ue){Ue===void 0&&(Ue=!1);var We=Ve.call(this)||this;return We._hasDeclaration=!1,We._docTypeName="",We._hasDocumentElement=!1,We._currentElementSerialized=!1,We._openTags=[],We._ended=!1,We._fragment=Ue,We._options=Oe.applyDefaults(ze||{},Ee.DefaultXMLBuilderCBOptions),We._builderOptions={defaultNamespace:We._options.defaultNamespace,namespaceAlias:We._options.namespaceAlias},We._options.format==="json"?We._writer=new Ie.JSONCBWriter(We._options):We._options.format==="yaml"?We._writer=new Re.YAMLCBWriter(We._options):We._writer=new Be.XMLCBWriter(We._options),We._options.data!==void 0&&We.on("data",We._options.data),We._options.end!==void 0&&We.on("end",We._options.end),We._options.error!==void 0&&We.on("error",We._options.error),We._prefixMap=new ke.NamespacePrefixMap,We._prefixMap.set("xml",Te.namespace.XML),We._prefixIndex={value:1},We._push(We._writer.frontMatter()),We}return Ae(He,Ve),He.prototype.ele=function(ze,Ue,We){var qe,Ge;if(Oe.isObject(ze)||Oe.isString(ze)&&(/^\s*</.test(ze)||/^\s*[\{\[]/.test(ze)||/^(\s*|(#.*)|(%.*))*---/.test(ze))){var Ye=Me.fragment().set(this._options);try{Ye.ele(ze)}catch(hi){return this.emit("error",hi),this}try{for(var Qe=Ce(Ye.node.childNodes),Je=Qe.next();!Je.done;Je=Qe.next()){var ri=Je.value;this._fromNode(ri)}}catch(hi){qe={error:hi}}finally{try{Je&&!Je.done&&(Ge=Qe.return)&&Ge.call(Qe)}finally{if(qe)throw qe.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&this._writer.level===0)return this.emit("error",new Error("Document cannot have multiple document element nodes.")),this;try{this._currentElement=Me.fragment(this._builderOptions).ele(ze,Ue,We)}catch(hi){return this.emit("error",hi),this}return this._fragment||this._hasDocumentElement||this._docTypeName===""||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit("error",new Error("Document element name does not match DocType declaration name.")),this)},He.prototype.att=function(ze,Ue,We){if(this._currentElement===void 0)return this.emit("error",new Error("Cannot insert an attribute node as child of a document node.")),this;try{this._currentElement.att(ze,Ue,We)}catch(qe){return this.emit("error",qe),this}return this},He.prototype.com=function(ze){var Ue;this._serializeOpenTag(!0);try{Ue=Me.fragment(this._builderOptions).com(ze).first().node}catch(We){return this.emit("error",We),this}return!this._options.wellFormed||De.xml_isLegalChar(Ue.data)&&Ue.data.indexOf("--")===-1&&!Ue.data.endsWith("-")?(this._push(this._writer.comment(Ue.data)),this):(this.emit("error",new Error("Comment data contains invalid characters (well-formed required).")),this)},He.prototype.txt=function(ze){if(!this._fragment&&this._currentElement===void 0)return this.emit("error",new Error("Cannot insert a text node as child of a document node.")),this;var Ue;this._serializeOpenTag(!0);try{Ue=Me.fragment(this._builderOptions).txt(ze).first().node}catch(qe){return this.emit("error",qe),this}if(this._options.wellFormed&&!De.xml_isLegalChar(Ue.data))return this.emit("error",new Error("Text data contains invalid characters (well-formed required).")),this;var We=Ue.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return this._push(this._writer.text(We)),this},He.prototype.ins=function(ze,Ue){var We;Ue===void 0&&(Ue=""),this._serializeOpenTag(!0);try{We=Me.fragment(this._builderOptions).ins(ze,Ue).first().node}catch(qe){return this.emit("error",qe),this}return this._options.wellFormed&&(We.target.indexOf(":")!==-1||/^xml$/i.test(We.target))?(this.emit("error",new Error("Processing instruction target contains invalid characters (well-formed required).")),this):this._options.wellFormed&&!De.xml_isLegalChar(We.data)?(this.emit("error",Error("Processing instruction data contains invalid characters (well-formed required).")),this):(this._push(this._writer.instruction(We.target,We.data)),this)},He.prototype.dat=function(ze){var Ue;this._serializeOpenTag(!0);try{Ue=Me.fragment(this._builderOptions).dat(ze).first().node}catch(We){return this.emit("error",We),this}return this._push(this._writer.cdata(Ue.data)),this},He.prototype.dec=function(ze){return ze===void 0&&(ze={version:"1.0"}),this._fragment?(this.emit("error",Error("Cannot insert an XML declaration into a document fragment.")),this):this._hasDeclaration?(this.emit("error",Error("XML declaration is already inserted.")),this):(this._push(this._writer.declaration(ze.version||"1.0",ze.encoding,ze.standalone)),this._hasDeclaration=!0,this)},He.prototype.dtd=function(ze){if(this._fragment)return this.emit("error",Error("Cannot insert a DocType declaration into a document fragment.")),this;if(this._docTypeName!=="")return this.emit("error",new Error("DocType declaration is already inserted.")),this;if(this._hasDocumentElement)return this.emit("error",new Error("Cannot insert DocType declaration after document element.")),this;var Ue;try{Ue=Me.create().dtd(ze).first().node}catch(We){return this.emit("error",We),this}return this._options.wellFormed&&!De.xml_isPubidChar(Ue.publicId)?(this.emit("error",new Error("DocType public identifier does not match PubidChar construct (well-formed required).")),this):this._options.wellFormed&&(!De.xml_isLegalChar(Ue.systemId)||Ue.systemId.indexOf('"')!==-1&&Ue.systemId.indexOf("'")!==-1)?(this.emit("error",new Error("DocType system identifier contains invalid characters (well-formed required).")),this):(this._docTypeName=ze.name,this._push(this._writer.docType(ze.name,Ue.publicId,Ue.systemId)),this)},He.prototype.import=function(ze){var Ue,We,qe=Me.fragment().set(this._options);try{qe.import(ze)}catch(Je){return this.emit("error",Je),this}try{for(var Ge=Ce(qe.node.childNodes),Ye=Ge.next();!Ye.done;Ye=Ge.next()){var Qe=Ye.value;this._fromNode(Qe)}}catch(Je){Ue={error:Je}}finally{try{Ye&&!Ye.done&&(We=Ge.return)&&We.call(Ge)}finally{if(Ue)throw Ue.error}}return this},He.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},He.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},He.prototype._serializeOpenTag=function(ze){if(!this._currentElementSerialized&&this._currentElement!==void 0){var Ue=this._currentElement.node;if(!this._options.wellFormed||Ue.localName.indexOf(":")===-1&&De.xml_isName(Ue.localName)){var We="",qe=!1,Ge=this._prefixMap.copy(),Ye={},Qe=this._recordNamespaceInformation(Ue,Ge,Ye),Je=this._openTags.length===0?null:this._openTags[this._openTags.length-1][1],ri=Ue.namespaceURI;if(ri===null&&(ri=Je),Je===ri)Qe!==null&&(qe=!0),We=ri===Te.namespace.XML?"xml:"+Ue.localName:Ue.localName,this._writer.beginElement(We),this._push(this._writer.openTagBegin(We));else{var hi=Ue.prefix,pi=null;if(hi===null&&ri===Qe||(pi=Ge.get(hi,ri)),hi==="xmlns"){if(this._options.wellFormed)return void this.emit("error",new Error("An element cannot have the 'xmlns' prefix (well-formed required)."));pi=hi}pi!==null?(We=pi+":"+Ue.localName,Qe!==null&&Qe!==Te.namespace.XML&&(Je=Qe||null),this._writer.beginElement(We),this._push(this._writer.openTagBegin(We))):hi!==null?(hi in Ye&&(hi=this._generatePrefix(ri,Ge,this._prefixIndex)),Ge.set(hi,ri),We+=hi+":"+Ue.localName,this._writer.beginElement(We),this._push(this._writer.openTagBegin(We)),this._push(this._writer.attribute("xmlns:"+hi,this._serializeAttributeValue(ri,this._options.wellFormed))),Qe!==null&&(Je=Qe||null)):Qe===null||Qe!==null&&Qe!==ri?(qe=!0,We+=Ue.localName,Je=ri,this._writer.beginElement(We),this._push(this._writer.openTagBegin(We)),this._push(this._writer.attribute("xmlns",this._serializeAttributeValue(ri,this._options.wellFormed)))):(We+=Ue.localName,Je=ri,this._writer.beginElement(We),this._push(this._writer.openTagBegin(We)))}this._serializeAttributes(Ue,Ge,this._prefixIndex,Ye,qe,this._options.wellFormed);var ni=ri===Te.namespace.HTML;ni&&!ze&&He._VoidElementNames.has(Ue.localName)?(this._push(this._writer.openTagEnd(We,!0,!0)),this._writer.endElement(We)):ni||ze?this._push(this._writer.openTagEnd(We,!1,!1)):(this._push(this._writer.openTagEnd(We,!0,!1)),this._writer.endElement(We)),this._currentElementSerialized=!0,this._openTags.push([We,Je,this._prefixMap,ze]),this._isPrefixMapModified(this._prefixMap,Ge)&&(this._prefixMap=Ge),this._writer.level++}else this.emit("error",new Error("Node local name contains invalid characters (well-formed required)."))}},He.prototype._serializeCloseTag=function(){this._writer.level--;var ze=this._openTags.pop();if(ze!==void 0){var Ue=Pe(ze,4),We=Ue[0],qe=(Ue[1],Ue[2]),Ge=Ue[3];this._prefixMap=qe,Ge&&(this._push(this._writer.closeTag(We)),this._writer.endElement(We))}else this.emit("error",new Error("Last element is undefined."))},He.prototype._push=function(ze){ze===null?(this._ended=!0,this.emit("end")):this._ended?this.emit("error",new Error("Cannot push to ended stream.")):ze.length!==0&&(this._writer.hasData=!0,this.emit("data",ze,this._writer.level))},He.prototype._fromNode=function(ze){var Ue,We,qe,Ge;if($e.Guard.isElementNode(ze)){var Ye=ze.prefix?ze.prefix+":"+ze.localName:ze.localName;ze.namespaceURI!==null?this.ele(ze.namespaceURI,Ye):this.ele(Ye);try{for(var Qe=Ce(ze.attributes),Je=Qe.next();!Je.done;Je=Qe.next()){var ri=Je.value,hi=ri.prefix?ri.prefix+":"+ri.localName:ri.localName;ri.namespaceURI!==null?this.att(ri.namespaceURI,hi,ri.value):this.att(hi,ri.value)}}catch(fi){Ue={error:fi}}finally{try{Je&&!Je.done&&(We=Qe.return)&&We.call(Qe)}finally{if(Ue)throw Ue.error}}try{for(var pi=Ce(ze.childNodes),ni=pi.next();!ni.done;ni=pi.next()){var di=ni.value;this._fromNode(di)}}catch(fi){qe={error:fi}}finally{try{ni&&!ni.done&&(Ge=pi.return)&&Ge.call(pi)}finally{if(qe)throw qe.error}}this.up()}else $e.Guard.isExclusiveTextNode(ze)&&ze.data?this.txt(ze.data):$e.Guard.isCommentNode(ze)?this.com(ze.data):$e.Guard.isCDATASectionNode(ze)?this.dat(ze.data):$e.Guard.isProcessingInstructionNode(ze)&&this.ins(ze.target,ze.data)},He.prototype._serializeAttributes=function(ze,Ue,We,qe,Ge,Ye){var Qe,Je,ri=Ye?new Fe.LocalNameSet:void 0;try{for(var hi=Ce(ze.attributes),pi=hi.next();!pi.done;pi=hi.next()){var ni=pi.value;if(Ye||Ge||ni.namespaceURI!==null){if(Ye&&ri&&ri.has(ni.namespaceURI,ni.localName))return void this.emit("error",new Error("Element contains duplicate attributes (well-formed required)."));Ye&&ri&&ri.set(ni.namespaceURI,ni.localName);var di=ni.namespaceURI,fi=null;if(di!==null)if(fi=Ue.get(ni.prefix,di),di===Te.namespace.XMLNS){if(ni.value===Te.namespace.XML||ni.prefix===null&&Ge||ni.prefix!==null&&(!(ni.localName in qe)||qe[ni.localName]!==ni.value)&&Ue.has(ni.localName,ni.value))continue;if(Ye&&ni.value===Te.namespace.XMLNS)return void this.emit("error",new Error("XMLNS namespace is reserved (well-formed required)."));if(Ye&&ni.value==="")return void this.emit("error",new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required)."));ni.prefix==="xmlns"&&(fi="xmlns")}else fi===null&&(fi=ni.prefix===null||Ue.hasPrefix(ni.prefix)&&!Ue.has(ni.prefix,di)?this._generatePrefix(di,Ue,We):ni.prefix,this._push(this._writer.attribute("xmlns:"+fi,this._serializeAttributeValue(di,this._options.wellFormed))));if(Ye&&(ni.localName.indexOf(":")!==-1||!De.xml_isName(ni.localName)||ni.localName==="xmlns"&&di===null))return void this.emit("error",new Error("Attribute local name contains invalid characters (well-formed required)."));this._push(this._writer.attribute((fi!==null?fi+":":"")+ni.localName,this._serializeAttributeValue(ni.value,this._options.wellFormed)))}else this._push(this._writer.attribute(ni.localName,this._serializeAttributeValue(ni.value,this._options.wellFormed)))}}catch(Pi){Qe={error:Pi}}finally{try{pi&&!pi.done&&(Je=hi.return)&&Je.call(hi)}finally{if(Qe)throw Qe.error}}},He.prototype._serializeAttributeValue=function(ze,Ue){return Ue&&ze!==null&&!De.xml_isLegalChar(ze)?(this.emit("error",new Error("Invalid characters in attribute value.")),""):ze===null?"":ze.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},He.prototype._recordNamespaceInformation=function(ze,Ue,We){var qe,Ge,Ye=null;try{for(var Qe=Ce(ze.attributes),Je=Qe.next();!Je.done;Je=Qe.next()){var ri=Je.value,hi=ri.namespaceURI,pi=ri.prefix;if(hi===Te.namespace.XMLNS){if(pi===null){Ye=ri.value;continue}var ni=ri.localName,di=ri.value;if(di===Te.namespace.XML||(di===""&&(di=null),Ue.has(ni,di)))continue;Ue.set(ni,di),We[ni]=di||""}}}catch(fi){qe={error:fi}}finally{try{Je&&!Je.done&&(Ge=Qe.return)&&Ge.call(Qe)}finally{if(qe)throw qe.error}}return Ye},He.prototype._generatePrefix=function(ze,Ue,We){var qe="ns"+We.value;return We.value++,Ue.set(qe,ze),qe},He.prototype._isPrefixMapModified=function(ze,Ue){var We=ze._items,qe=Ue._items,Ge=ze._nullItems,Ye=Ue._nullItems;for(var Qe in qe){var Je=We[Qe];if(Je===void 0)return!0;var ri=qe[Qe];if(Je.length!==ri.length)return!0;for(var hi=0;hi<Je.length;hi++)if(Je[hi]!==ri[hi])return!0}if(Ge.length!==Ye.length)return!0;for(hi=0;hi<Ge.length;hi++)if(Ge[hi]!==Ye[hi])return!0;return!1},He._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),He}(Se(309).EventEmitter);xe.XMLBuilderCBImpl=je},function(r,xe,Se){Se(74);var _e,Ae=this&&this.__extends||(_e=function(Pe,Ee){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Oe,Me){Oe.__proto__=Me}||function(Oe,Me){for(var De in Me)Me.hasOwnProperty(De)&&(Oe[De]=Me[De])})(Pe,Ee)},function(Pe,Ee){function Oe(){this.constructor=Pe}_e(Pe,Ee),Pe.prototype=Ee===null?Object.create(Ee):(Oe.prototype=Ee.prototype,new Oe)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=function(Pe){function Ee(Oe){var Me=Pe.call(this,Oe)||this;return Me._lineLength=0,Me}return Ae(Ee,Pe),Ee.prototype.frontMatter=function(){return""},Ee.prototype.declaration=function(Oe,Me,De){var Te=this._beginLine()+"<?xml";return Te+=' version="'+Oe+'"',Me!==void 0&&(Te+=' encoding="'+Me+'"'),De!==void 0&&(Te+=' standalone="'+(De?"yes":"no")+'"'),Te+="?>"},Ee.prototype.docType=function(Oe,Me,De){var Te=this._beginLine();return Te+=Me&&De?"<!DOCTYPE "+Oe+' PUBLIC "'+Me+'" "'+De+'">':Me?"<!DOCTYPE "+Oe+' PUBLIC "'+Me+'">':De?"<!DOCTYPE "+Oe+' SYSTEM "'+De+'">':"<!DOCTYPE "+Oe+">"},Ee.prototype.comment=function(Oe){return this._beginLine()+"<!--"+Oe+"-->"},Ee.prototype.text=function(Oe){return this._beginLine()+Oe},Ee.prototype.instruction=function(Oe,Me){return Me?this._beginLine()+"<?"+Oe+" "+Me+"?>":this._beginLine()+"<?"+Oe+"?>"},Ee.prototype.cdata=function(Oe){return this._beginLine()+"<![CDATA["+Oe+"]]>"},Ee.prototype.openTagBegin=function(Oe){return this._lineLength+=1+Oe.length,this._beginLine()+"<"+Oe},Ee.prototype.openTagEnd=function(Oe,Me,De){return De?" />":Me?this._writerOptions.allowEmptyTags?"></"+Oe+">":this._writerOptions.spaceBeforeSlash?" />":"/>":">"},Ee.prototype.closeTag=function(Oe){return this._beginLine()+"</"+Oe+">"},Ee.prototype.attribute=function(Oe,Me){var De=Oe+'="'+Me+'"';return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+De.length>this._writerOptions.width?(De=this._beginLine()+this._indent(1)+De,this._lineLength=De.length,De):(this._lineLength+=1+De.length," "+De)},Ee.prototype.beginElement=function(Oe){},Ee.prototype.endElement=function(Oe){},Ee.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var Oe=(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level);return this._lineLength=Oe.length,Oe}return""},Ee.prototype._indent=function(Oe){return Oe<=0?"":this._writerOptions.indent.repeat(Oe)},Ee}(Se(114).BaseCBWriter);xe.XMLCBWriter=Ce},function(r,xe,Se){Se(74);var _e,Ae=this&&this.__extends||(_e=function(Pe,Ee){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Oe,Me){Oe.__proto__=Me}||function(Oe,Me){for(var De in Me)Me.hasOwnProperty(De)&&(Oe[De]=Me[De])})(Pe,Ee)},function(Pe,Ee){function Oe(){this.constructor=Pe}_e(Pe,Ee),Pe.prototype=Ee===null?Object.create(Ee):(Oe.prototype=Ee.prototype,new Oe)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=function(Pe){function Ee(Oe){var Me=Pe.call(this,Oe)||this;return Me._hasChildren=[],Me._additionalLevel=0,Me}return Ae(Ee,Pe),Ee.prototype.frontMatter=function(){return""},Ee.prototype.declaration=function(Oe,Me,De){return""},Ee.prototype.docType=function(Oe,Me,De){return""},Ee.prototype.comment=function(Oe){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(Oe)+this._sep()+"}"},Ee.prototype.text=function(Oe){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(Oe)+this._sep()+"}"},Ee.prototype.instruction=function(Oe,Me){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(Me?Oe+" "+Me:Oe)+this._sep()+"}"},Ee.prototype.cdata=function(Oe){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(Oe)+this._sep()+"}"},Ee.prototype.attribute=function(Oe,Me){return this._comma()+this._beginLine(1)+"{"+this._sep()+this._key(this._builderOptions.convert.att+Oe)+this._sep()+this._val(Me)+this._sep()+"}"},Ee.prototype.openTagBegin=function(Oe){var Me=this._comma()+this._beginLine()+"{"+this._sep()+this._key(Oe)+this._sep()+"{";return this._additionalLevel++,this.hasData=!0,Me+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+"[",this._hasChildren.push(!1),Me},Ee.prototype.openTagEnd=function(Oe,Me,De){if(Me){var Te=this._sep()+"]";return this._additionalLevel--,Te+=this._beginLine()+"}"+this._sep()+"}"}return""},Ee.prototype.closeTag=function(Oe){var Me=this._beginLine()+"]";return this._additionalLevel--,Me+=this._beginLine()+"}"+this._sep()+"}"},Ee.prototype.beginElement=function(Oe){},Ee.prototype.endElement=function(Oe){this._hasChildren.pop()},Ee.prototype._beginLine=function(Oe){return Oe===void 0&&(Oe=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level+Oe):""},Ee.prototype._indent=function(Oe){return Oe+this._additionalLevel<=0?"":this._writerOptions.indent.repeat(Oe+this._additionalLevel)},Ee.prototype._comma=function(){var Oe=this._hasChildren[this._hasChildren.length-1]?",":"";return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),Oe},Ee.prototype._sep=function(){return this._writerOptions.prettyPrint?" ":""},Ee.prototype._key=function(Oe){return'"'+Oe+'":'},Ee.prototype._val=function(Oe){return JSON.stringify(Oe)},Ee}(Se(114).BaseCBWriter);xe.JSONCBWriter=Ce},function(r,xe,Se){Se(74);var _e,Ae=this&&this.__extends||(_e=function(Pe,Ee){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Oe,Me){Oe.__proto__=Me}||function(Oe,Me){for(var De in Me)Me.hasOwnProperty(De)&&(Oe[De]=Me[De])})(Pe,Ee)},function(Pe,Ee){function Oe(){this.constructor=Pe}_e(Pe,Ee),Pe.prototype=Ee===null?Object.create(Ee):(Oe.prototype=Ee.prototype,new Oe)});Object.defineProperty(xe,"__esModule",{value:!0});var Ce=function(Pe){function Ee(Oe){var Me=Pe.call(this,Oe)||this;if(Me._rootWritten=!1,Me._additionalLevel=0,Oe.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(Oe.offset<0)throw new Error("YAML offset should be zero or a positive number.");return Me}return Ae(Ee,Pe),Ee.prototype.frontMatter=function(){return this._beginLine()+"---"},Ee.prototype.declaration=function(Oe,Me,De){return""},Ee.prototype.docType=function(Oe,Me,De){return""},Ee.prototype.comment=function(Oe){return this._beginLine()+this._key(this._builderOptions.convert.comment)+" "+this._val(Oe)},Ee.prototype.text=function(Oe){return this._beginLine()+this._key(this._builderOptions.convert.text)+" "+this._val(Oe)},Ee.prototype.instruction=function(Oe,Me){return this._beginLine()+this._key(this._builderOptions.convert.ins)+" "+this._val(Me?Oe+" "+Me:Oe)},Ee.prototype.cdata=function(Oe){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+" "+this._val(Oe)},Ee.prototype.attribute=function(Oe,Me){this._additionalLevel++;var De=this._beginLine()+this._key(this._builderOptions.convert.att+Oe)+" "+this._val(Me);return this._additionalLevel--,De},Ee.prototype.openTagBegin=function(Oe){var Me=this._beginLine()+this._key(Oe);return this._rootWritten||(this._rootWritten=!0),this.hasData=!0,this._additionalLevel++,Me+=this._beginLine(!0)+this._key(this._builderOptions.convert.text)},Ee.prototype.openTagEnd=function(Oe,Me,De){return Me?" "+this._val(""):""},Ee.prototype.closeTag=function(Oe){return this._additionalLevel--,""},Ee.prototype.beginElement=function(Oe){},Ee.prototype.endElement=function(Oe){},Ee.prototype._beginLine=function(Oe){return Oe===void 0&&(Oe=!1),(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level,Oe)},Ee.prototype._indent=function(Oe,Me){if(Oe+this._additionalLevel<=0)return"";var De=this._writerOptions.indent.repeat(Oe+this._additionalLevel);return!Me&&this._rootWritten?De.substr(0,De.length-2)+"-"+De.substr(-1,1):De},Ee.prototype._key=function(Oe){return'"'+Oe+'":'},Ee.prototype._val=function(Oe){return JSON.stringify(Oe)},Ee}(Se(114).BaseCBWriter);xe.YAMLCBWriter=Ce},function(r,xe,Se){var _e,Ae=typeof Reflect=="object"?Reflect:null,Ce=Ae&&typeof Ae.apply=="function"?Ae.apply:function(Re,je,Ve){return Function.prototype.apply.call(Re,je,Ve)};_e=Ae&&typeof Ae.ownKeys=="function"?Ae.ownKeys:Object.getOwnPropertySymbols?function(Re){return Object.getOwnPropertyNames(Re).concat(Object.getOwnPropertySymbols(Re))}:function(Re){return Object.getOwnPropertyNames(Re)};var Pe=Number.isNaN||function(Re){return Re!=Re};function Ee(){Ee.init.call(this)}r.exports=Ee,Ee.EventEmitter=Ee,Ee.prototype._events=void 0,Ee.prototype._eventsCount=0,Ee.prototype._maxListeners=void 0;var Oe=10;function Me(Re){if(typeof Re!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Re)}function De(Re){return Re._maxListeners===void 0?Ee.defaultMaxListeners:Re._maxListeners}function Te(Re,je,Ve,He){var ze,Ue,We,qe;if(Me(Ve),(Ue=Re._events)===void 0?(Ue=Re._events=Object.create(null),Re._eventsCount=0):(Ue.newListener!==void 0&&(Re.emit("newListener",je,Ve.listener?Ve.listener:Ve),Ue=Re._events),We=Ue[je]),We===void 0)We=Ue[je]=Ve,++Re._eventsCount;else if(typeof We=="function"?We=Ue[je]=He?[Ve,We]:[We,Ve]:He?We.unshift(Ve):We.push(Ve),(ze=De(Re))>0&&We.length>ze&&!We.warned){We.warned=!0;var Ge=new Error("Possible EventEmitter memory leak detected. "+We.length+" "+String(je)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ge.name="MaxListenersExceededWarning",Ge.emitter=Re,Ge.type=je,Ge.count=We.length,qe=Ge,console&&console.warn&&console.warn(qe)}return Re}function ke(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Fe(Re,je,Ve){var He={fired:!1,wrapFn:void 0,target:Re,type:je,listener:Ve},ze=ke.bind(He);return ze.listener=Ve,He.wrapFn=ze,ze}function $e(Re,je,Ve){var He=Re._events;if(He===void 0)return[];var ze=He[je];return ze===void 0?[]:typeof ze=="function"?Ve?[ze.listener||ze]:[ze]:Ve?function(Ue){for(var We=new Array(Ue.length),qe=0;qe<We.length;++qe)We[qe]=Ue[qe].listener||Ue[qe];return We}(ze):Ie(ze,ze.length)}function Be(Re){var je=this._events;if(je!==void 0){var Ve=je[Re];if(typeof Ve=="function")return 1;if(Ve!==void 0)return Ve.length}return 0}function Ie(Re,je){for(var Ve=new Array(je),He=0;He<je;++He)Ve[He]=Re[He];return Ve}Object.defineProperty(Ee,"defaultMaxListeners",{enumerable:!0,get:function(){return Oe},set:function(Re){if(typeof Re!="number"||Re<0||Pe(Re))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Re+".");Oe=Re}}),Ee.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ee.prototype.setMaxListeners=function(Re){if(typeof Re!="number"||Re<0||Pe(Re))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Re+".");return this._maxListeners=Re,this},Ee.prototype.getMaxListeners=function(){return De(this)},Ee.prototype.emit=function(Re){for(var je=[],Ve=1;Ve<arguments.length;Ve++)je.push(arguments[Ve]);var He=Re==="error",ze=this._events;if(ze!==void 0)He=He&&ze.error===void 0;else if(!He)return!1;if(He){var Ue;if(je.length>0&&(Ue=je[0]),Ue instanceof Error)throw Ue;var We=new Error("Unhandled error."+(Ue?" ("+Ue.message+")":""));throw We.context=Ue,We}var qe=ze[Re];if(qe===void 0)return!1;if(typeof qe=="function")Ce(qe,this,je);else{var Ge=qe.length,Ye=Ie(qe,Ge);for(Ve=0;Ve<Ge;++Ve)Ce(Ye[Ve],this,je)}return!0},Ee.prototype.addListener=function(Re,je){return Te(this,Re,je,!1)},Ee.prototype.on=Ee.prototype.addListener,Ee.prototype.prependListener=function(Re,je){return Te(this,Re,je,!0)},Ee.prototype.once=function(Re,je){return Me(je),this.on(Re,Fe(this,Re,je)),this},Ee.prototype.prependOnceListener=function(Re,je){return Me(je),this.prependListener(Re,Fe(this,Re,je)),this},Ee.prototype.removeListener=function(Re,je){var Ve,He,ze,Ue,We;if(Me(je),(He=this._events)===void 0)return this;if((Ve=He[Re])===void 0)return this;if(Ve===je||Ve.listener===je)--this._eventsCount==0?this._events=Object.create(null):(delete He[Re],He.removeListener&&this.emit("removeListener",Re,Ve.listener||je));else if(typeof Ve!="function"){for(ze=-1,Ue=Ve.length-1;Ue>=0;Ue--)if(Ve[Ue]===je||Ve[Ue].listener===je){We=Ve[Ue].listener,ze=Ue;break}if(ze<0)return this;ze===0?Ve.shift():function(qe,Ge){for(;Ge+1<qe.length;Ge++)qe[Ge]=qe[Ge+1];qe.pop()}(Ve,ze),Ve.length===1&&(He[Re]=Ve[0]),He.removeListener!==void 0&&this.emit("removeListener",Re,We||je)}return this},Ee.prototype.off=Ee.prototype.removeListener,Ee.prototype.removeAllListeners=function(Re){var je,Ve,He;if((Ve=this._events)===void 0)return this;if(Ve.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Ve[Re]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete Ve[Re]),this;if(arguments.length===0){var ze,Ue=Object.keys(Ve);for(He=0;He<Ue.length;++He)(ze=Ue[He])!=="removeListener"&&this.removeAllListeners(ze);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(je=Ve[Re])=="function")this.removeListener(Re,je);else if(je!==void 0)for(He=je.length-1;He>=0;He--)this.removeListener(Re,je[He]);return this},Ee.prototype.listeners=function(Re){return $e(this,Re,!0)},Ee.prototype.rawListeners=function(Re){return $e(this,Re,!1)},Ee.listenerCount=function(Re,je){return typeof Re.listenerCount=="function"?Re.listenerCount(je):Be.call(Re,je)},Ee.prototype.listenerCount=Be,Ee.prototype.eventNames=function(){return this._eventsCount>0?_e(this._events):[]}},function(r,xe,Se){Object.defineProperty(xe,"__esModule",{value:!0});var _e=Se(77);xe.createCB=function(Ae){return new _e.XMLBuilderCBImpl(Ae)},xe.fragmentCB=function(Ae){return new _e.XMLBuilderCBImpl(Ae,!0)}}])})})(xmlbuilder2_min);var xmlbuilder2_minExports=xmlbuilder2_min.exports,__defProp=Object.defineProperty,__defNormalProp=(t,e,r)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,__publicField=(t,e,r)=>(__defNormalProp(t,typeof e!="symbol"?e+"":e,r),r),DayOfWeek=(t=>(t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday",t))(DayOfWeek||{}),EdgeRenderingMode=(t=>(t[t.Automatic=0]="Automatic",t[t.Adaptive=1]="Adaptive",t[t.PreferSharpness=2]="PreferSharpness",t[t.PreferSpeed=3]="PreferSpeed",t[t.PreferGeometricAccuracy=4]="PreferGeometricAccuracy",t))(EdgeRenderingMode||{}),HorizontalAlignment=(t=>(t[t.Left=-1]="Left",t[t.Center=0]="Center",t[t.Right=1]="Right",t))(HorizontalAlignment||{}),VerticalAlignment=(t=>(t[t.Top=-1]="Top",t[t.Middle=0]="Middle",t[t.Bottom=1]="Bottom",t))(VerticalAlignment||{}),LineJoin=(t=>(t[t.Miter=0]="Miter",t[t.Round=1]="Round",t[t.Bevel=2]="Bevel",t))(LineJoin||{}),LineStyle=(t=>(t[t.Solid=0]="Solid",t[t.Dash=1]="Dash",t[t.Dot=2]="Dot",t[t.DashDot=3]="DashDot",t[t.DashDashDot=4]="DashDashDot",t[t.DashDotDot=5]="DashDotDot",t[t.DashDashDotDot=6]="DashDashDotDot",t[t.LongDash=7]="LongDash",t[t.LongDashDot=8]="LongDashDot",t[t.LongDashDotDot=9]="LongDashDotDot",t[t.None=10]="None",t[t.Automatic=11]="Automatic",t))(LineStyle||{}),MarkerType=(t=>(t[t.None=0]="None",t[t.Circle=1]="Circle",t[t.Square=2]="Square",t[t.Diamond=3]="Diamond",t[t.Triangle=4]="Triangle",t[t.Cross=5]="Cross",t[t.Plus=6]="Plus",t[t.Star=7]="Star",t[t.Custom=8]="Custom",t))(MarkerType||{});const FontWeights={Bold:700,Normal:400};var AxisChangeTypes=(t=>(t[t.Zoom=0]="Zoom",t[t.Pan=1]="Pan",t[t.Reset=2]="Reset",t))(AxisChangeTypes||{}),AxisLayer=(t=>(t[t.BelowSeries=0]="BelowSeries",t[t.AboveSeries=1]="AboveSeries",t))(AxisLayer||{}),AxisPosition=(t=>(t[t.None=0]="None",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Top=3]="Top",t[t.Bottom=4]="Bottom",t[t.All=5]="All",t))(AxisPosition||{}),DateTimeIntervalType=(t=>(t[t.Auto=0]="Auto",t[t.Manual=1]="Manual",t[t.Milliseconds=2]="Milliseconds",t[t.Seconds=3]="Seconds",t[t.Minutes=4]="Minutes",t[t.Hours=5]="Hours",t[t.Days=6]="Days",t[t.Weeks=7]="Weeks",t[t.Months=8]="Months",t[t.Years=9]="Years",t))(DateTimeIntervalType||{}),TickStyle=(t=>(t[t.Crossing=0]="Crossing",t[t.Inside=1]="Inside",t[t.Outside=2]="Outside",t[t.None=3]="None",t))(TickStyle||{}),CursorType=(t=>(t[t.Default=0]="Default",t[t.Pan=1]="Pan",t[t.ZoomRectangle=2]="ZoomRectangle",t[t.ZoomHorizontal=3]="ZoomHorizontal",t[t.ZoomVertical=4]="ZoomVertical",t))(CursorType||{}),SelectionMode=(t=>(t[t.All=0]="All",t[t.Single=1]="Single",t[t.Multiple=2]="Multiple",t))(SelectionMode||{}),LabelPlacement=(t=>(t[t.Outside=0]="Outside",t[t.Inside=1]="Inside",t[t.Middle=2]="Middle",t[t.Base=3]="Base",t))(LabelPlacement||{});const DataPoint_Undefined=Object.freeze({x:NaN,y:NaN}),DataPoint_Zero=Object.freeze({x:0,y:0});function DataPoint_isUnDefined(t){return isNaN(t.x)&&isNaN(t.y)}function DataPoint_isDefined(t){return!DataPoint_isUnDefined(t)}function newDataPoint(t,e){return{x:t,y:e}}function isDataPoint(t){return t&&typeof t.x=="number"&&typeof t.y=="number"}function dataPointMinus(t,e){return new DataVector(t.x-e.x,t.y-e.y)}function dataPointMinusVector(t,e){return newDataPoint(t.x-e.x,t.y-e.y)}function dataPointPlus(t,e){return newDataPoint(t.x+e.x,t.y+e.y)}const _DataVector=class Hs{constructor(e,r){__publicField(this,"_x"),__publicField(this,"_y"),this._x=e,this._y=r}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}times(e){const r=this;return new Hs(r._x*e,r._y*e)}plus(e){const r=this;return new Hs(r._x+e._x,r._y+e._y)}minus(e){const r=this;return new Hs(r._x-e._x,r._y-e._y)}negate(){const e=this;return new Hs(-e._x,-e._y)}equals(e){return this._x===e._x&&this._y===e._y}toString(){return`${this._x} ${this._y}`}isDefined(){return this._x===this._x&&this._y===this._y}};__publicField(_DataVector,"Undefined",new _DataVector(NaN,NaN));let DataVector=_DataVector;const ScreenPoint_Undefined=Object.freeze({x:NaN,y:NaN}),ScreenPoint_LeftTop=Object.freeze({x:0,y:0});function newScreenPoint(t,e){return{x:t,y:e}}function screenPointPlus(t,e){return newScreenPoint(t.x+e.x,t.y+e.y)}function screenPointMinus(t,e){return newScreenVector(t.x-e.x,t.y-e.y)}function screenPointMinusEx(t,e){return ScreenVectorEx.fromVector(screenPointMinus(t,e))}function screenPointMinusVector(t,e){return newScreenPoint(t.x-e.x,t.y-e.y)}function screenPointDistanceTo(t,e){const r=e.x-t.x,xe=e.y-t.y;return Math.sqrt(r*r+xe*xe)}function screenPointDistanceToSquared(t,e){const r=e.x-t.x,xe=e.y-t.y;return r*r+xe*xe}function ScreenPoint_isUndefined(t){return isNaN(t.x)&&isNaN(t.y)}function screenPointEquals(t,e){return t.x===e.x&&t.y===e.y}function newScreenVector(t,e){return Object.freeze({x:t,y:e})}function newScreenVectorEx(t,e){return ScreenVectorEx.fromXY(t,e)}const ScreenVector_Zero=Object.freeze(newScreenVector(0,0));class ScreenVectorEx{constructor(e){__publicField(this,"_v"),this._v=e}get x(){return this._v.x}get y(){return this._v.y}get vector(){return this._v}get length(){return ScreenVectorHelper.length(this._v)}get lengthSquared(){return ScreenVectorHelper.lengthSquared(this._v)}minus(e){return ScreenVectorEx.fromVector(ScreenVectorHelper.minus(this._v,e))}times(e){return ScreenVectorEx.fromVector(ScreenVectorHelper.times(this._v,e))}negate(){return ScreenVectorEx.fromVector(ScreenVectorHelper.negate(this._v))}normalize(){return this._v=ScreenVectorHelper.normalize(this._v),this}static fromVector(e){return new ScreenVectorEx(e)}static fromXY(e,r){return new ScreenVectorEx(newScreenVector(e,r))}}class ScreenVectorHelper{static length(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static lengthSquared(e){return e.x*e.x+e.y*e.y}static normalize(e){if(e===ScreenVector_Zero)throw new Error("Cannot normalize the zero vector");const r=Math.sqrt(e.x*e.x+e.y*e.y);return r>0?{x:e.x/r,y:e.y/r}:e}static plus(e,r){return newScreenVector(e.x+r.x,e.y+r.y)}static minus(e,r){return newScreenVector(e.x-r.x,e.y-r.y)}static times(e,r){return newScreenVector(e.x*r,e.y*r)}static negate(e){return newScreenVector(-e.x,-e.y)}static equals(e,r){return e.x===r.x&&e.y===r.y}}function groupBy(t,e){return groupBy2(t,r=>r[e])}function groupBy2(t,e){return t.reduce((r,xe)=>{const Se=e(xe);let _e=r.get(Se);return _e?_e.push(xe):(_e=[xe],r.set(Se,_e)),r},new Map)}function indexOfAny(t,e,r=0){for(let xe=r;xe<t.length;xe++)if(e.includes(t[xe]))return xe;return-1}function sortArray(t,e){const r=(xe,Se,_e,Ae)=>xe[_e]>Se[_e]?Ae.toUpperCase()=="DESC"?-1:1:xe[_e]<Se[_e]?Ae.toUpperCase()=="DESC"?1:-1:0;return[...t].sort((xe,Se)=>{for(const _e of e){const Ae=r(xe,Se,_e[0],_e[1]);if(Ae!==0)return Ae}return 0})}function create2DArray(t,e,r){const xe=Array(t);for(let Se=0;Se<t;Se++)xe[Se]=new Array(e),r!==void 0&&xe[Se].fill(r);return xe}function arrayRemoveFirst(t,e){const r=t.indexOf(e);return r>-1?(t.splice(r,1),!0):!1}function arrayRemoveIf(t,e){let r=0;for(let xe=t.length-1;xe>=0;xe--)e(t[xe])&&(t.splice(xe,1),r++);return r}function pushMany(t,e){for(let r=0;r<e.length;r++)t.push(e[r])}function getReversedCopy(t){if(!t||t.length===0)return[];const e=[];return pushMany(e,t),e.reverse()}function maxValueOfArray(t,...e){let r=0;return t.length>=1e5?r=t.reduce(function(xe,Se){return Math.max(xe,Se)}):r=Math.max.apply(null,t),!e||e.length===0?r:Math.max(r,...e)}function minValueOfArray(t,...e){let r=0;return t.length>=1e5?r=t.reduce(function(xe,Se){return Math.min(xe,Se)}):r=Math.min.apply(null,t),!e||e.length===0?r:Math.min(r,...e)}function arrayBufferToBase64(t){const e=Array.from(t,r=>String.fromCharCode(r));return btoa(e.join(""))}function getEnumName(t,e){return t[e]}function getEnumKeys(t){return Object.keys(t).filter(e=>typeof t[e]!="number").map(e=>Number(e))}const DateTime_MaxValue=new Date(9999,11,31,23,59,59,999),DateTime_MinValue=new Date(1,0,1,0,0,0,0);DateTime_MinValue.setUTCFullYear(1);DateTime_MinValue.setUTCMonth(0);DateTime_MinValue.setUTCDate(1);DateTime_MinValue.setUTCHours(0);DateTime_MinValue.setUTCMinutes(0);DateTime_MinValue.setUTCSeconds(0);DateTime_MinValue.setUTCMilliseconds(0);function formatTimeSpan(t,e){let r="";if(e.includes("d")&&(r+=t.days.toString().padStart(2,"0")+":"),e.includes("hh")&&(r+=t.hours.toString().padStart(2,"0")+":"),e.includes("mm")&&(r+=t.minutes.toString().padStart(2,"0")+":"),e.includes("ss")&&(r+=t.seconds.toString().padStart(2,"0")),!r)throw new Error("Invalid format");return r}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var utc$1={exports:{}};(function(t,e){(function(r,xe){t.exports=xe()})(commonjsGlobal,function(){var r="minute",xe=/[+-]\d\d(?::?\d\d)?/g,Se=/([+-]|\d\d)/g;return function(_e,Ae,Ce){var Pe=Ae.prototype;Ce.utc=function(Fe){var $e={date:Fe,utc:!0,args:arguments};return new Ae($e)},Pe.utc=function(Fe){var $e=Ce(this.toDate(),{locale:this.$L,utc:!0});return Fe?$e.add(this.utcOffset(),r):$e},Pe.local=function(){return Ce(this.toDate(),{locale:this.$L,utc:!1})};var Ee=Pe.parse;Pe.parse=function(Fe){Fe.utc&&(this.$u=!0),this.$utils().u(Fe.$offset)||(this.$offset=Fe.$offset),Ee.call(this,Fe)};var Oe=Pe.init;Pe.init=function(){if(this.$u){var Fe=this.$d;this.$y=Fe.getUTCFullYear(),this.$M=Fe.getUTCMonth(),this.$D=Fe.getUTCDate(),this.$W=Fe.getUTCDay(),this.$H=Fe.getUTCHours(),this.$m=Fe.getUTCMinutes(),this.$s=Fe.getUTCSeconds(),this.$ms=Fe.getUTCMilliseconds()}else Oe.call(this)};var Me=Pe.utcOffset;Pe.utcOffset=function(Fe,$e){var Be=this.$utils().u;if(Be(Fe))return this.$u?0:Be(this.$offset)?Me.call(this):this.$offset;if(typeof Fe=="string"&&(Fe=function(Ve){Ve===void 0&&(Ve="");var He=Ve.match(xe);if(!He)return null;var ze=(""+He[0]).match(Se)||["-",0,0],Ue=ze[0],We=60*+ze[1]+ +ze[2];return We===0?0:Ue==="+"?We:-We}(Fe),Fe===null))return this;var Ie=Math.abs(Fe)<=16?60*Fe:Fe,Re=this;if($e)return Re.$offset=Ie,Re.$u=Fe===0,Re;if(Fe!==0){var je=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(Re=this.local().add(Ie+je,r)).$offset=Ie,Re.$x.$localOffset=je}else Re=this.utc();return Re};var De=Pe.format;Pe.format=function(Fe){var $e=Fe||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return De.call(this,$e)},Pe.valueOf=function(){var Fe=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*Fe},Pe.isUTC=function(){return!!this.$u},Pe.toISOString=function(){return this.toDate().toISOString()},Pe.toString=function(){return this.toDate().toUTCString()};var Te=Pe.toDate;Pe.toDate=function(Fe){return Fe==="s"&&this.$offset?Ce(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():Te.call(this)};var ke=Pe.diff;Pe.diff=function(Fe,$e,Be){if(Fe&&this.$u===Fe.$u)return ke.call(this,Fe,$e,Be);var Ie=this.local(),Re=Ce(Fe).local();return ke.call(Ie,Re,$e,Be)}}})})(utc$1);var utcExports=utc$1.exports;const utc=getDefaultExportFromCjs(utcExports);var timezone$1={exports:{}};(function(t,e){(function(r,xe){t.exports=xe()})(commonjsGlobal,function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},xe={};return function(Se,_e,Ae){var Ce,Pe=function(De,Te,ke){ke===void 0&&(ke={});var Fe=new Date(De),$e=function(Be,Ie){Ie===void 0&&(Ie={});var Re=Ie.timeZoneName||"short",je=Be+"|"+Re,Ve=xe[je];return Ve||(Ve=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:Be,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:Re}),xe[je]=Ve),Ve}(Te,ke);return $e.formatToParts(Fe)},Ee=function(De,Te){for(var ke=Pe(De,Te),Fe=[],$e=0;$e<ke.length;$e+=1){var Be=ke[$e],Ie=Be.type,Re=Be.value,je=r[Ie];je>=0&&(Fe[je]=parseInt(Re,10))}var Ve=Fe[3],He=Ve===24?0:Ve,ze=Fe[0]+"-"+Fe[1]+"-"+Fe[2]+" "+He+":"+Fe[4]+":"+Fe[5]+":000",Ue=+De;return(Ae.utc(ze).valueOf()-(Ue-=Ue%1e3))/6e4},Oe=_e.prototype;Oe.tz=function(De,Te){De===void 0&&(De=Ce);var ke=this.utcOffset(),Fe=this.toDate(),$e=Fe.toLocaleString("en-US",{timeZone:De}),Be=Math.round((Fe-new Date($e))/1e3/60),Ie=Ae($e,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(Fe.getTimezoneOffset()/15)-Be,!0);if(Te){var Re=Ie.utcOffset();Ie=Ie.add(ke-Re,"minute")}return Ie.$x.$timezone=De,Ie},Oe.offsetName=function(De){var Te=this.$x.$timezone||Ae.tz.guess(),ke=Pe(this.valueOf(),Te,{timeZoneName:De}).find(function(Fe){return Fe.type.toLowerCase()==="timezonename"});return ke&&ke.value};var Me=Oe.startOf;Oe.startOf=function(De,Te){if(!this.$x||!this.$x.$timezone)return Me.call(this,De,Te);var ke=Ae(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return Me.call(ke,De,Te).tz(this.$x.$timezone,!0)},Ae.tz=function(De,Te,ke){var Fe=ke&&Te,$e=ke||Te||Ce,Be=Ee(+Ae(),$e);if(typeof De!="string")return Ae(De).tz($e);var Ie=function(He,ze,Ue){var We=He-60*ze*1e3,qe=Ee(We,Ue);if(ze===qe)return[We,ze];var Ge=Ee(We-=60*(qe-ze)*1e3,Ue);return qe===Ge?[We,qe]:[He-60*Math.min(qe,Ge)*1e3,Math.max(qe,Ge)]}(Ae.utc(De,Fe).valueOf(),Be,$e),Re=Ie[0],je=Ie[1],Ve=Ae(Re).utcOffset(je);return Ve.$x.$timezone=$e,Ve},Ae.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},Ae.tz.setDefault=function(De){Ce=De}}})})(timezone$1);var timezoneExports=timezone$1.exports;const timezone=getDefaultExportFromCjs(timezoneExports);function getDateService(){return DefaultDateService}dayjs.extend(utc);dayjs.extend(timezone);const DefaultDateService={format:(t,e)=>dayjs(t).format(e),convertTime:(t,e)=>dayjs(t).tz(e).toDate(),addYears:(t,e)=>dayjs(t).add(e,"year").toDate(),addMonths:(t,e)=>dayjs(t).add(e,"month").toDate(),addTimespan:(t,e)=>{let r=dayjs(t);return e.days&&(r=r.add(e.days,"day")),e.hours&&(r=r.add(e.hours,"hour")),e.minutes&&(r=r.add(e.minutes,"minute")),e.seconds&&(r=r.add(e.seconds,"second")),e.milliseconds&&(r=r.add(e.milliseconds,"millisecond")),r.toDate()},dayOfWeek:t=>dayjs(t).day(),diff:(t,e)=>{const r=dayjs(t).diff(dayjs(e));return TimeSpan.fromMilliseconds(r)}};let _imageService=null;function getImageService(){return _imageService||(_imageService=new DefaultOxyImageService,_imageService)}class DefaultOxyImageService{async decode(e){const r=await Image$1.load(e),xe=r.height,Se=r.width,_e=r.data,Ae=create2DArray(Se,xe);for(let Ce=0;Ce<xe;Ce++)for(let Pe=0;Pe<Se;Pe++){let Ee=Ce*Se+Pe;const Oe=_e[Ee++],Me=_e[Ee++],De=_e[Ee++],Te=_e[Ee++];Ae[Ce][Pe]=OxyColorHelper.fromArgb(Te,Oe,Me,De)}return Ae}encode(e){const r=new DataView(new ArrayBuffer(e.imageInfo.width*e.imageInfo.height*4));let xe=0;const Se=e.pixels;for(let Ae=0;Ae<e.imageInfo.height;Ae++)for(let Ce=0;Ce<e.imageInfo.width;Ce++){const Pe=OxyColorEx.fromOxyColor(Se.get(Ce,Ae));r.setUint8(xe++,Pe.r),r.setUint8(xe++,Pe.g),r.setUint8(xe++,Pe.b),r.setUint8(xe++,Pe.a)}const _e=new Image$1(e.imageInfo.width,e.imageInfo.height,new Uint8Array(r.buffer)).toBuffer();return Promise.resolve(_e)}async getImageInfo(e){const r=await Image$1.load(e);return{width:r.width,height:r.height,bitsPerPixel:r.bitDepth,dpiX:0,dpiY:0,format:OxyImageEx.getImageFormat(e)}}async load(e){const xe=(await Image$1.load(e)).toBuffer();return{...await this.getImageInfo(xe),data:Array.from(xe)}}}function parseFunction(t){if(t){if(t.includes("=>"))return new Function("return "+t)();if(t.includes("function"))return new Function("return "+t)()}}function isUndef(t){return t===void 0}function isNullOrUndef(t){return t==null}function removeProperties(t,...e){if(t)for(const r of e)delete t[r]}function getOrDefault(t,e,r){if(!t||!e)return r;const xe=t[e];return isNullOrUndef(xe)?r:xe}function removeUndef(t,e){if(isUndef(t))return t;const r=t;if(Array.isArray(r))return r.forEach(Se=>removeUndef(Se,e)),t;const xe=Object.assign({removeNull:!1,removeEmptyStr:!1,deep:1},e);return Object.keys(r).forEach(Se=>{const _e=r[Se];if(_e===void 0){delete r[Se];return}if(_e===null&&xe.removeNull){delete r[Se];return}if(xe.removeEmptyStr&&typeof _e=="string"&&_e.length==0){delete r[Se];return}if(typeof _e=="object"&&xe.deep>1){const Ae=Object.assign({},xe,{deep:xe.deep-1});removeUndef(_e,Ae);return}}),t}function hashCode(t){let e=0;for(let r=0;r<t.length;r++)e=Math.imul(31,e)+t[r];return e}function copyProperties(t,e,r){const xe={},Se=t;function _e(Ae,Ce){return r?e&&r.excludeDefault===!0&&isDeepEqual(Ce,e[Ae])?!1:r.filter?r.filter(Ae,Ce):!0:!0}return Object.keys(Se).forEach(Ae=>{const Ce=Se[Ae];if(Ce!==void 0&&_e(Ae,Ce)){if(typeof Ce=="function"){if(!Ae.includes("Formatter"))return;xe[Ae]=String(Ce);return}xe[Ae]=Ce}}),xe}function copyPlotElementProperties(t,e,r){return copyProperties(t,e,{filter:(xe,Se)=>{var _e;if(r!=null&&r.filter){const Ae=r.filter(xe,Se);if(Ae!==void 0)return Ae}return xe.startsWith("__")&&xe.endsWith("__")?!0:!(xe.startsWith("_")||xe.startsWith("actual")||(_e=r==null?void 0:r.excludeKeys)!=null&&_e.includes(xe))},excludeDefault:(r==null?void 0:r.excludeDefault)??!0})}const toString=t=>Object.prototype.toString.call(t);function getTypeName(t){if(t===null)return"null";const e=toString(t).slice(8,-1).toLowerCase();return typeof t=="object"||typeof t=="function"?e:typeof t}function isDeepEqual(t,e){if(t===e)return!0;const r=getTypeName(t),xe=getTypeName(e);if(r!==xe)return!1;if(r==="array")return t.length!==e.length?!1:t.every((Se,_e)=>isDeepEqual(Se,e[_e]));if(r==="object"){const Se=Object.keys(t);return Se.length!==Object.keys(e).length?!1:Se.every(_e=>isDeepEqual(t[_e],e[_e]))}return Object.is(t,e)}function assignObject(t,e,r,xe){var Se;const _e=(Array.isArray(r)?r:[r]).filter(Ce=>Ce);_e.unshift(e),_e.reverse();const Ae=Object.keys(e);for(const Ce of Ae){if((Se=xe==null?void 0:xe.exclude)!=null&&Se.includes(Ce))continue;const Pe=Object.getOwnPropertyDescriptor(t,Ce);if(!(Pe===void 0||!Pe.writable))for(const Ee of _e){const Oe=Ee[Ce];if(Oe===void 0)continue;if(!(Ee===e))t[Ce]=Oe;else{const De=getTypeName(Oe);De==="array"||De==="object"?t[Ce]=shallowCopy(Oe):t[Ce]=Oe}break}}return t}function assignMethod(t,e,r,xe=!1){if(!t||!e||!r)return;const Se=t,_e=r[e];if(_e){if(typeof _e=="function"){Se[e]=_e,xe&&delete r[e];return}if(typeof _e=="string"){Se[e]=parseFunction(_e),xe&&delete r[e];return}throw new Error(`Invalid method type: ${_e}`)}}function shallowCopy(t){return Array.isArray(t)?Array.from(t):Object.assign({},t)}const Number_MIN_VALUE=-17976931348623157e292,Number_MAX_VALUE=Number.MAX_VALUE;function round(t,e){if(isNaN(t)||!isFinite(t))return NaN;const r=Math.pow(10,e);return Math.round((t+Number.EPSILON)*r)/r}function isInfinity(t){return!isFinite(t)}function isNegativeInfinity(t){return t===Number.NEGATIVE_INFINITY}function isPositiveInfinity(t){return t===Number.POSITIVE_INFINITY}function toUint(t){return t>=0?t:t>>>0}function log$1(t,e){return isNaN(t)?t:isNaN(e)?e:e===1?NaN:t!==1&&(e===0||Number.POSITIVE_INFINITY===e)?NaN:Math.log(t)/Math.log(e)}function pettyNumber(t,e){let r;if(t>=1e6||t<=-1e6?r=t.toExponential(e):r=t.toString(),r.includes("e")){const xe=Number(r.split("e")[0]);return round(xe,e).toString()+"e"+r.split("e")[1]}return round(t,e).toString()}function toPercent(t,e=1){return isNullOrUndef(t)?"":isNaN(t)?"NaN":round(t*100,e)+"%"}function assertInteger(t,e){if(Math.round(t)!==t)throw new Error(`${e||"number"} must be an integer.`)}function isNaNOrUndef(t){return isNaN(t)||isNullOrUndef(t)}function newOxyElement(t,e){switch(t){case"AngleAxis":return new AngleAxis(e);case"AngleAxisFullPlotArea":return new AngleAxisFullPlotArea(e);case"AreaSeries":return new AreaSeries(e);case"ArrowAnnotation":return new ArrowAnnotation(e);case"BarSeries":return new BarSeries(e);case"BoxPlotSeries":return new BoxPlotSeries(e);case"CandleStickSeries":return new CandleStickSeries(e);case"CategoryAxis":return new CategoryAxis(e);case"CategoryColorAxis":return new CategoryColorAxis(e);case"ContourSeries":return new ContourSeries(e);case"DateTimeAxis":return new DateTimeAxis(e);case"EllipseAnnotation":return new EllipseAnnotation(e);case"ErrorBarSeries":return new ErrorBarSeries(e);case"ExtrapolationLineSeries":return new ExtrapolationLineSeries(e);case"FunctionAnnotation":return new FunctionAnnotation(e);case"FunctionSeries":return new FunctionSeries(e);case"HeatMapSeries":return new HeatMapSeries(e);case"HighLowSeries":return new HighLowSeries(e);case"HistogramSeries":return new HistogramSeries(e);case"ImageAnnotation":return new ImageAnnotation(e);case"IntervalBarSeries":return new IntervalBarSeries(e);case"Legend":return new Legend(e);case"LineAnnotation":return new LineAnnotation(e);case"LineSeries":return new LineSeries(e);case"LinearAxis":return new LinearAxis(e);case"LinearBarSeries":return new LinearBarSeries(e);case"LinearColorAxis":return new LinearColorAxis(e);case"LogarithmicAxis":return new LogarithmicAxis(e);case"LogarithmicColorAxis":return new LogarithmicColorAxis(e);case"MagnitudeAxis":return new MagnitudeAxis(e);case"MagnitudeAxisFullPlotArea":return new MagnitudeAxisFullPlotArea(e);case"PieSeries":return new PieSeries(e);case"PointAnnotation":return new PointAnnotation(e);case"PolygonAnnotation":return new PolygonAnnotation(e);case"PolygonSeries":return new PolygonSeries(e);case"PolylineAnnotation":return new PolylineAnnotation(e);case"RangeColorAxis":return new RangeColorAxis(e);case"RectangleAnnotation":return new RectangleAnnotation(e);case"RectangleBarSeries":return new RectangleBarSeries(e);case"RectangleSeries":return new RectangleSeries(e);case"ScatterSeries":return new ScatterSeries(e);case"StairStepSeries":return new StairStepSeries(e);case"StemSeries":return new StemSeries(e);case"TextAnnotation":return new TextAnnotation(e);case"ThreeColorLineSeries":return new ThreeColorLineSeries(e);case"TimeSpanAxis":return new TimeSpanAxis(e);case"TornadoBarSeries":return new TornadoBarSeries(e);case"TwoColorAreaSeries":return new TwoColorAreaSeries(e);case"TwoColorLineSeries":return new TwoColorLineSeries(e);case"VectorSeries":return new VectorSeries(e);case"VolumeSeries":return new VolumeSeries(e);default:return}}class PlotModelSerializer{static deserialize(e){const r=JSON.parse(e);return r.axes&&(r.axes=deserializeElementArray(r.axes,"axes")),r.series&&(r.series=deserializeElementArray(r.series,"series")),r.annotations&&(r.annotations=deserializeElementArray(r.annotations,"annotations")),r.legends&&(r.legends=deserializeElementArray(r.legends,"legends")),new PlotModel(r)}}function deserializeElementArray(t,e){if(!Array.isArray(t))throw new Error(`${e} must be an array`);const r=[];for(const xe of t){const Se=xe.__oxy_element_name__;if(!Se)continue;delete xe.__oxy_element_name__;const _e=newOxyElement(Se,xe);if(!_e){console.warn("cannot create element: "+Se);continue}r.push(_e)}return r}function trimString(t,e){return t&&t.replace(new RegExp(`^${e}+|${e}+$`,"g"),"")}function substring(t,e,r){return r===void 0?t.substring(e):t.substring(e,e+r)}const $1Second=1e3,$1Minute=6e4,$1Hour=36e5,$1Day=864e5;class TimeSpan{constructor(e){__publicField(this,"_totalMs",0),__publicField(this,"_ms",0),__publicField(this,"_seconds",0),__publicField(this,"_minutes",0),__publicField(this,"_hours",0),__publicField(this,"_days",0),__publicField(this,"toString",()=>`${this._days}day ${this._hours}hour ${this._minutes}minute ${this._seconds}second ${this._ms}ms`),this.ms=e,this._totalMs=e;const r=e<0?-1:1;let xe=Math.abs(e);xe>=$1Day&&(this._days=r*Math.floor(xe/$1Day),xe=xe%$1Day),xe>=$1Hour&&(this._hours=r*Math.floor(xe/$1Hour),xe=xe%$1Hour),xe>=$1Minute&&(this._minutes=r*Math.floor(xe/$1Minute),xe=xe%$1Minute),xe>=$1Second&&(this._seconds=r*Math.floor(xe/$1Second),xe=xe%$1Second),this._ms=r*xe}get milliseconds(){return this._ms}get seconds(){return this._seconds}get minutes(){return this._minutes}get hours(){return this._hours}get days(){return this._days}get totalMs(){return this._totalMs}get totalSeconds(){return this._totalMs/$1Second}get totalMinutes(){return this._totalMs/$1Minute}get totalHours(){return this._totalMs/$1Hour}get totalDays(){return this._totalMs/$1Day}static fromMilliseconds(e){return new TimeSpan(e)}static fromSeconds(e){return new TimeSpan(e*$1Second)}static fromMinutes(e){return new TimeSpan(e*$1Minute)}static fromHours(e){return new TimeSpan(e*$1Hour)}static fromDays(e){return new TimeSpan(e*$1Day)}static from(e=0,r=0,xe=0,Se=0,_e=0){return new TimeSpan(e*$1Day+r*$1Hour+xe*$1Minute+Se*$1Second+_e)}}class TwoDimensionalArray{constructor(e,r,xe){__publicField(this,"_data"),this.columnCount=e,this.rowCount=r,this._data=create2DArray(r,e,xe)}static fromArray(e){const r=e.length,xe=e[0].length,Se=new TwoDimensionalArray(xe,r);for(let _e=0;_e<r;_e++)for(let Ae=0;Ae<xe;Ae++)Se.set(Ae,_e,e[_e][Ae]);return Se}toArray(){const e=create2DArray(this.rowCount,this.columnCount);for(let r=0;r<this.rowCount;r++)for(let xe=0;xe<this.columnCount;xe++)e[r][xe]=this.get(xe,r);return e}get height(){return this.rowCount}get width(){return this.columnCount}get(e,r){return this._data[r][e]}set(e,r,xe){this._data[r][e]=xe}}class OxyRectEx{constructor(e){__publicField(this,"_rect"),this._rect=e}get rect(){return this._rect}get left(){return this._rect.left}get top(){return this._rect.top}get topLeft(){return OxyRectHelper.topLeft(this._rect)}get topRight(){return OxyRectHelper.topRight(this._rect)}get right(){return OxyRectHelper.right(this._rect)}get bottom(){return OxyRectHelper.bottom(this._rect)}get bottomLeft(){return OxyRectHelper.bottomLeft(this._rect)}get bottomRight(){return OxyRectHelper.bottomRight(this._rect)}get height(){return this._rect.height}get width(){return this._rect.width}get center(){return OxyRectHelper.center(this._rect)}offset(e,r){const xe=OxyRectHelper.offset(this._rect,e,r);return OxyRectEx.fromRect(xe)}clip(e){const r=OxyRectHelper.clip(this._rect,e);return OxyRectEx.fromRect(r)}deflate(e){const r=OxyRectHelper.deflate(this._rect,e);return OxyRectEx.fromRect(r)}static fromRect(e){return new OxyRectEx(e)}static fromScreenPoints(e,r){return new OxyRectEx(OxyRectHelper.fromScreenPoints(e,r))}}function newOxyRect(t,e,r,xe){if(r<0)throw new Error("width;The width should not be negative.");if(xe<0)throw new Error("height;The height should not be negative.");return Object.freeze({left:t,top:e,width:r,height:xe})}const OxyRect_Everything=Object.freeze(newOxyRect(0,0,1/0,1/0)),OxyRect_Empty=Object.freeze(newOxyRect(0,0,0,0));class OxyRectHelper{static fromScreenPoints(e,r){return newOxyRect(Math.min(e.x,r.x),Math.min(e.y,r.y),Math.abs(r.x-e.x),Math.abs(r.y-e.y))}static fromScreenPointAndSize(e,r){return newOxyRect(e.x,e.y,r.width,r.height)}static bottom(e){return e.top+e.height}static right(e){return e.left+e.width}static center(e){return newScreenPoint(e.left+e.width*.5,e.top+e.height*.5)}static topLeft(e){return newScreenPoint(e.left,e.top)}static topRight(e){return newScreenPoint(this.right(e),e.top)}static bottomLeft(e){return newScreenPoint(e.left,this.bottom(e))}static bottomRight(e){return newScreenPoint(this.right(e),this.bottom(e))}static create(e,r,xe,Se){return newOxyRect(Math.min(e,xe),Math.min(r,Se),Math.abs(xe-e),Math.abs(Se-r))}static contains(e,r,xe){return r>=e.left&&r<=this.right(e)&&xe>=e.top&&xe<=this.bottom(e)}static containsPoint(e,r){return this.contains(e,r.x,r.y)}static equals(e,r){return e.left===r.left&&e.top===r.top&&e.width===r.width&&e.height===r.height}static inflate(e,r,xe){return newOxyRect(e.left-r,e.top-xe,e.width+r*2,e.height+xe*2)}static inflateAll(e,r){return newOxyRect(e.left-r.left,e.top-r.top,e.width+r.left+r.right,e.height+r.top+r.bottom)}static intersect(e,r){const xe=Math.max(e.left,r.left),Se=Math.max(e.top,r.top),_e=Math.min(this.right(e),this.right(r)),Ae=Math.min(this.bottom(e),this.bottom(r));return _e<xe||Ae<Se?OxyRect_Empty:newOxyRect(xe,Se,_e-xe,Ae-Se)}static deflate(e,r){return newOxyRect(e.left+r.left,e.top+r.top,Math.max(0,e.width-r.left-r.right),Math.max(0,e.height-r.top-r.bottom))}static offset(e,r,xe){return newOxyRect(e.left+r,e.top+xe,e.width,e.height)}static clip(e,r){const xe=isNegativeInfinity(r.left)&&isPositiveInfinity(r.width)?this.right(r):1/0,Se=isNegativeInfinity(r.top)&&isPositiveInfinity(r.height)?this.bottom(r):1/0;return this.create(Math.max(Math.min(e.left,xe),r.left),Math.max(Math.min(e.top,Se),r.top),Math.max(Math.min(this.right(e),xe),r.left),Math.max(Math.min(this.bottom(e),Se),r.top))}}function newOxySize(t,e){return Object.freeze({height:e||0,width:t||0})}const OxySize_Empty=Object.freeze(newOxySize());class OxySizeEx{constructor(e){__publicField(this,"_size"),this._size=e}get height(){return this._size.height}get width(){return this._size.width}static from(e){return new OxySizeEx(e)}static equals(e,r){return e.width===r.width&&e.height===r.height}static include(e,r){return newOxySize(Math.max(e.width,r.width),Math.max(e.height,r.height))}static getBounds(e,r,xe,Se){const _e=xe===HorizontalAlignment.Left?0:xe===HorizontalAlignment.Center?.5:1,Ae=Se===VerticalAlignment.Top?0:Se===VerticalAlignment.Middle?.5:1,Ce=newScreenVector(_e*e.width,Ae*e.height);if(r===0)return newOxyRect(-Ce.x,-Ce.y,e.width,e.height);const Pe=ScreenVectorEx.fromXY(0,0).minus(Ce).vector,Ee=ScreenVectorEx.fromXY(e.width,0).minus(Ce).vector,Oe=ScreenVectorEx.fromXY(e.width,e.height).minus(Ce).vector,Me=ScreenVectorEx.fromXY(0,e.height).minus(Ce).vector,De=r*Math.PI/180,Te=Math.cos(De),ke=Math.sin(De),Fe=Ue=>newScreenVector(Te*Ue.x-ke*Ue.y,ke*Ue.x+Te*Ue.y),$e=Fe(Pe),Be=Fe(Ee),Ie=Fe(Oe),Re=Fe(Me),je=Math.min(Math.min($e.x,Be.x),Math.min(Ie.x,Re.x)),Ve=Math.min(Math.min($e.y,Be.y),Math.min(Ie.y,Re.y)),He=Math.max(Math.max($e.x-je,Be.x-je),Math.max(Ie.x-je,Re.x-je)),ze=Math.max(Math.max($e.y-Ve,Be.y-Ve),Math.max(Ie.y-Ve,Re.y-Ve));return newOxyRect(je,Ve,He,ze)}static getPolygon(e,r,xe,Se,_e){const Ae=Se===HorizontalAlignment.Left?0:Se===HorizontalAlignment.Center?.5:1,Ce=_e===VerticalAlignment.Top?0:_e===VerticalAlignment.Middle?.5:1,Pe=newScreenVector(Ae*e.width,Ce*e.height);let Ee=ScreenVectorEx.fromXY(0,0).minus(Pe).vector,Oe=ScreenVectorEx.fromXY(e.width,0).minus(Pe).vector,Me=ScreenVectorEx.fromXY(e.width,e.height).minus(Pe).vector,De=ScreenVectorEx.fromXY(0,e.height).minus(Pe).vector;if(xe!==0){const Te=xe*Math.PI/180,ke=Math.cos(Te),Fe=Math.sin(Te),$e=Be=>newScreenVector(ke*Be.x-Fe*Be.y,Fe*Be.x+ke*Be.y);Ee=$e(Ee),Oe=$e(Oe),Me=$e(Me),De=$e(De)}return[screenPointPlus(r,Ee),screenPointPlus(r,Oe),screenPointPlus(r,Me),screenPointPlus(r,De)]}}function newOxyThickness(t,e,r,xe){if(!isNullOrUndef(t)&&isNullOrUndef(e)&&isNullOrUndef(r)&&isNullOrUndef(xe))return Object.freeze({left:t,top:t,right:t,bottom:t});if(!isNullOrUndef(e)&&!isNullOrUndef(r)&&!isNullOrUndef(xe))return Object.freeze({left:t,top:e,right:r,bottom:xe});debugger;throw new Error("Invalid arguments")}const OxyThickness_Zero=Object.freeze(newOxyThickness(0));class OxyThicknessEx{constructor(e){__publicField(this,"_thickness"),this._thickness=e}static from(e){return new OxyThicknessEx(e)}get bottom(){return this._thickness.bottom}get left(){return this._thickness.left}get right(){return this._thickness.right}get top(){return this._thickness.top}static equals(e,r){return e.left===r.left&&e.top===r.top&&e.right===r.right&&e.bottom===r.bottom}static include(e,r){return newOxyThickness(Math.max(r.left,e.left),Math.max(r.top,e.top),Math.max(r.right,e.right),Math.max(r.bottom,e.bottom))}}var PlotLengthUnit=(t=>(t[t.Data=0]="Data",t[t.ScreenUnits=1]="ScreenUnits",t[t.RelativeToViewport=2]="RelativeToViewport",t[t.RelativeToPlotArea=3]="RelativeToPlotArea",t))(PlotLengthUnit||{});function newPlotLength(t,e){return{value:t,unit:e}}class OxyColorEx{constructor(e,r,xe,Se){__publicField(this,"a"),__publicField(this,"b"),__publicField(this,"g"),__publicField(this,"r"),__publicField(this,"hex"),this.a=e,this.r=r,this.g=xe,this.b=Se,this.hex=OxyColorHelper.toHexString(r,xe,Se,e)}static fromArgb(e,r,xe,Se){return new OxyColorEx(e,r,xe,Se)}static fromHex(e){e||(e=OxyColor_Undefined);const{a:r,r:xe,g:Se,b:_e}=OxyColorHelper.parseHex(e);return new OxyColorEx(r,xe,Se,_e)}static fromOxyColor(e){return e instanceof OxyColorEx?e:OxyColorEx.fromHex(e)}static fromRgb(e,r,xe){return this.fromArgb(255,e,r,xe)}static fromHsv(e,r,xe){return this.fromOxyColor(OxyColorHelper.fromHsv(e,r,xe))}static fromAColor(e,r){return this.fromOxyColor(OxyColorHelper.fromAColor(e,r))}}const OxyColor_Undefined="#00000000",OxyColor_Automatic="#00000001";class OxyColorHelper{static isOxyColor(e){return!(!e||typeof e!="string")}static getOxyColor(e){return typeof e=="string"?e:OxyColorEx.fromOxyColor(e).hex}static parse(e){if(!e||e.toLowerCase()==="none")return OxyColor_Undefined;if(e.toLowerCase()==="auto")return OxyColor_Automatic;const{a:r,r:xe,g:Se,b:_e}=this.parseHex(e);return this.fromArgb(r,xe,Se,_e)}static parseHex(e){if(e=e.trim(),e.startsWith("#")){e=trimString(e,"#"),e.length===3&&(e=`${e[0]}${e[0]}${e[1]}${e[1]}${e[2]}${e[2]}`);let Pe=parseInt(e,16);return e.length<8&&(Pe+=4278190080),this.uint32ToArgb(Pe)}const r=e.split(",");if(r.length<3||r.length>4)throw new Error("Invalid format.");let xe=0,Se=255;r.length>3&&(Se=parseInt(r[xe],10),xe++);const _e=parseInt(r[xe],10),Ae=parseInt(r[xe+1],10),Ce=parseInt(r[xe+2],10);return{a:Se,r:_e,g:Ae,b:Ce}}static colorDifference(e,r){const xe=(e.r-r.r)/255,Se=(e.g-r.g)/255,_e=(e.b-r.b)/255,Ae=(e.a-r.a)/255,Ce=xe*xe+Se*Se+_e*_e+Ae*Ae;return Math.sqrt(Ce)}static fromUInt32(e){const{a:r,r:xe,g:Se,b:_e}=this.uint32ToArgb(e);return this.fromArgb(r,xe,Se,_e)}static uint32ToArgb(e){const r=e>>24&255,xe=e>>16&255,Se=e>>8&255,_e=e&255;return{a:r,r:xe,g:Se,b:_e}}static fromHsv(e,r,xe){let Se,_e,Ae=Se=_e=0;if(r===0)Ae=Se=_e=xe;else{e===1&&(e=0),e*=6;const Ce=Math.floor(e),Pe=e-Ce,Ee=xe*(1-r),Oe=xe*(1-r*Pe),Me=xe*(1-r*(1-Pe));switch(Ce){case 0:Ae=xe,Se=Me,_e=Ee;break;case 1:Ae=Oe,Se=xe,_e=Ee;break;case 2:Ae=Ee,Se=xe,_e=Me;break;case 3:Ae=Ee,Se=Oe,_e=xe;break;case 4:Ae=Me,Se=Ee,_e=xe;break;case 5:Ae=xe,Se=Ee,_e=Oe;break}}return this.fromRgb(Ae*255,Se*255,_e*255)}static fromAColor(e,r){const xe=OxyColorEx.fromOxyColor(r);return this.fromArgb(e,xe.r,xe.g,xe.b)}static fromArgb(e,r,xe,Se){return new OxyColorEx(e,r,xe,Se).hex}static fromRgb(e,r,xe){return this.fromArgb(255,e,r,xe)}static interpolate(e,r,xe){const Se=OxyColorEx.fromOxyColor(e),_e=OxyColorEx.fromOxyColor(r),Ae=Se.a*(1-xe)+_e.a*xe,Ce=Se.r*(1-xe)+_e.r*xe,Pe=Se.g*(1-xe)+_e.g*xe,Ee=Se.b*(1-xe)+_e.b*xe;return OxyColorEx.fromArgb(toByte(Ae),toByte(Ce),toByte(Pe),toByte(Ee))}static equals(e,r){if(typeof e=="string"&&typeof r=="string")return e===r;const xe=OxyColorEx.fromOxyColor(e),Se=OxyColorEx.fromOxyColor(r);return xe.a===Se.a&&xe.r===Se.r&&xe.g===Se.g&&xe.b===Se.b}static toArgb(e){return this.toArgbInner(e,"start")}static toRgba(e){return this.toArgbInner(e,"end")}static toRgb(e){return this.toArgbInner(e,"none")}static toHexString(e,r,xe,Se){const _e=numToHex,[Ae,Ce,Pe]=[_e(e),_e(r),_e(xe)],Ee=`${Ae}${Ce}${Pe}`;return isNullOrUndef(Se)||Se===255?Ae[0]===Ae[1]&&Ce[0]===Ce[1]&&Pe[0]===Pe[1]?`#${Ae[0]}${Ce[0]}${Pe[0]}`:`#${Ee}`:`#${_e(Se)}${Ee}`}static toArgbInner(e,r){const{r:xe,g:Se,b:_e,a:Ae}=OxyColorEx.fromOxyColor(e),Ce=numToHex,Pe=`${Ce(xe)}${Ce(Se)}${Ce(_e)}`;return r==="start"?`#${Ce(Ae)}${Pe}`:r==="end"?`#${Pe}${Ce(Ae)}`:`#${Pe}`}static isInvisible(e){return e?OxyColorEx.fromOxyColor(e).a===0:!0}static isVisible(e){return e?OxyColorEx.fromOxyColor(e).a>0:!1}static isUndefined(e){return this.equals(e,OxyColor_Undefined)}static isAutomatic(e){return this.equals(e,OxyColor_Automatic)}static getActualColor(e,r){return this.isAutomatic(e)?this.getOxyColor(r):this.getOxyColor(e)}static changeIntensity(e,r){const xe=this.toHsv(e);return xe[2]*=r,xe[2]>1&&(xe[2]=1),OxyColorEx.fromHsv(xe[0],xe[1],xe[2])}static changeSaturation(e,r){const xe=this.toHsv(e);return xe[1]*=r,xe[1]>1&&(xe[1]=1),OxyColorEx.fromHsv(xe[0],xe[1],xe[2])}static changeOpacity(e,r){const{a:xe}=OxyColorEx.fromOxyColor(e);return OxyColorEx.fromAColor(xe*r,e)}static complementary(e){const r=this.toHsv(e);let xe=r[0]-.5;return xe<0&&(xe+=1),OxyColorEx.fromHsv(xe,r[1],r[2])}static toHsv(e){const{r,g:xe,b:Se}=OxyColorEx.fromOxyColor(e),_e=Math.min(Math.min(r,xe),Se),Ae=Math.max(Math.max(r,xe),Se),Ce=Ae-_e,Pe=Ae===0?0:Ce/Ae;let Ee=0;Pe===0?Ee=0:(r===Ae?Ee=(xe-Se)/Ce:xe===Ae?Ee=2+(Se-r)/Ce:Se===Ae&&(Ee=4+(r-xe)/Ce),Ee*=60,Ee<0&&(Ee+=360));const Oe=new Array(3);return Oe[0]=Ee/360,Oe[1]=Pe,Oe[2]=Ae/255,Oe}static toUint(e){const{r,g:xe,b:Se,a:_e}=OxyColorEx.fromOxyColor(e);let Ae=toUint(_e<<24);return Ae+=toUint(r<<16),Ae+=toUint(xe<<8),Ae+=toUint(Se),toUint(Ae)}static toByteString(e){const{r,g:xe,b:Se,a:_e}=OxyColorEx.fromOxyColor(e);return`${_e},${r},${xe},${Se}`}static hueDifference(e,r){const xe=this.toHsv(e),Se=this.toHsv(r);let _e=xe[0]-Se[0];_e>.5&&(_e-=1),_e<-.5&&(_e+=1);const Ae=Math.pow(_e,2);return Math.sqrt(Ae)}}function numToHex(t){return t.toString(16).padStart(2,"0")}function toByte(t){return Math.round(t)}const OxyColors={Undefined:OxyColor_Undefined,Automatic:OxyColor_Automatic,AliceBlue:OxyColorHelper.fromUInt32(4293982463),AntiqueWhite:OxyColorHelper.fromUInt32(4294634455),Aqua:OxyColorHelper.fromUInt32(4278255615),Aquamarine:OxyColorHelper.fromUInt32(4286578644),Azure:OxyColorHelper.fromUInt32(4293984255),Beige:OxyColorHelper.fromUInt32(4294309340),Bisque:OxyColorHelper.fromUInt32(4294960324),Black:OxyColorHelper.fromUInt32(4278190080),BlanchedAlmond:OxyColorHelper.fromUInt32(4294962125),Blue:OxyColorHelper.fromUInt32(4278190335),BlueViolet:OxyColorHelper.fromUInt32(4287245282),Brown:OxyColorHelper.fromUInt32(4289014314),BurlyWood:OxyColorHelper.fromUInt32(4292786311),CadetBlue:OxyColorHelper.fromUInt32(4284456608),Chartreuse:OxyColorHelper.fromUInt32(4286578432),Chocolate:OxyColorHelper.fromUInt32(4291979550),Coral:OxyColorHelper.fromUInt32(4294934352),CornflowerBlue:OxyColorHelper.fromUInt32(4284782061),Cornsilk:OxyColorHelper.fromUInt32(4294965468),Crimson:OxyColorHelper.fromUInt32(4292613180),Cyan:OxyColorHelper.fromUInt32(4278255615),DarkBlue:OxyColorHelper.fromUInt32(4278190219),DarkCyan:OxyColorHelper.fromUInt32(4278225803),DarkGoldenrod:OxyColorHelper.fromUInt32(4290283019),DarkGray:OxyColorHelper.fromUInt32(4289309097),DarkGreen:OxyColorHelper.fromUInt32(4278215680),DarkKhaki:OxyColorHelper.fromUInt32(4290623339),DarkMagenta:OxyColorHelper.fromUInt32(4287299723),DarkOliveGreen:OxyColorHelper.fromUInt32(4283788079),DarkOrange:OxyColorHelper.fromUInt32(4294937600),DarkOrchid:OxyColorHelper.fromUInt32(4288230092),DarkRed:OxyColorHelper.fromUInt32(4287299584),DarkSalmon:OxyColorHelper.fromUInt32(4293498490),DarkSeaGreen:OxyColorHelper.fromUInt32(4287609999),DarkSlateBlue:OxyColorHelper.fromUInt32(4282924427),DarkSlateGray:OxyColorHelper.fromUInt32(4281290575),DarkTurquoise:OxyColorHelper.fromUInt32(4278243025),DarkViolet:OxyColorHelper.fromUInt32(4287889619),DeepPink:OxyColorHelper.fromUInt32(4294907027),DeepSkyBlue:OxyColorHelper.fromUInt32(4278239231),DimGray:OxyColorHelper.fromUInt32(4285098345),DodgerBlue:OxyColorHelper.fromUInt32(4280193279),Firebrick:OxyColorHelper.fromUInt32(4289864226),FloralWhite:OxyColorHelper.fromUInt32(4294966e3),ForestGreen:OxyColorHelper.fromUInt32(4280453922),Fuchsia:OxyColorHelper.fromUInt32(4294902015),Gainsboro:OxyColorHelper.fromUInt32(4292664540),GhostWhite:OxyColorHelper.fromUInt32(4294506751),Gold:OxyColorHelper.fromUInt32(4294956800),Goldenrod:OxyColorHelper.fromUInt32(4292519200),Gray:OxyColorHelper.fromUInt32(4286611584),Green:OxyColorHelper.fromUInt32(4278222848),GreenYellow:OxyColorHelper.fromUInt32(4289593135),Honeydew:OxyColorHelper.fromUInt32(4293984240),HotPink:OxyColorHelper.fromUInt32(4294928820),IndianRed:OxyColorHelper.fromUInt32(4291648604),Indigo:OxyColorHelper.fromUInt32(4283105410),Ivory:OxyColorHelper.fromUInt32(4294967280),Khaki:OxyColorHelper.fromUInt32(4293977740),Lavender:OxyColorHelper.fromUInt32(4293322490),LavenderBlush:OxyColorHelper.fromUInt32(4294963445),LawnGreen:OxyColorHelper.fromUInt32(4286381056),LemonChiffon:OxyColorHelper.fromUInt32(4294965965),LightBlue:OxyColorHelper.fromUInt32(4289583334),LightCoral:OxyColorHelper.fromUInt32(4293951616),LightCyan:OxyColorHelper.fromUInt32(4292935679),LightGoldenrodYellow:OxyColorHelper.fromUInt32(4294638290),LightGray:OxyColorHelper.fromUInt32(4292072403),LightGreen:OxyColorHelper.fromUInt32(4287688336),LightPink:OxyColorHelper.fromUInt32(4294948545),LightSalmon:OxyColorHelper.fromUInt32(4294942842),LightSeaGreen:OxyColorHelper.fromUInt32(4280332970),LightSkyBlue:OxyColorHelper.fromUInt32(4287090426),LightSlateGray:OxyColorHelper.fromUInt32(4286023833),LightSteelBlue:OxyColorHelper.fromUInt32(4289774814),LightYellow:OxyColorHelper.fromUInt32(4294967264),Lime:OxyColorHelper.fromUInt32(4278255360),LimeGreen:OxyColorHelper.fromUInt32(4281519410),Linen:OxyColorHelper.fromUInt32(4294635750),Magenta:OxyColorHelper.fromUInt32(4294902015),Maroon:OxyColorHelper.fromUInt32(4286578688),MediumAquamarine:OxyColorHelper.fromUInt32(4284927402),MediumBlue:OxyColorHelper.fromUInt32(4278190285),MediumOrchid:OxyColorHelper.fromUInt32(4290401747),MediumPurple:OxyColorHelper.fromUInt32(4287852763),MediumSeaGreen:OxyColorHelper.fromUInt32(4282168177),MediumSlateBlue:OxyColorHelper.fromUInt32(4286277870),MediumSpringGreen:OxyColorHelper.fromUInt32(4278254234),MediumTurquoise:OxyColorHelper.fromUInt32(4282962380),MediumVioletRed:OxyColorHelper.fromUInt32(4291237253),MidnightBlue:OxyColorHelper.fromUInt32(4279834992),MintCream:OxyColorHelper.fromUInt32(4294311930),MistyRose:OxyColorHelper.fromUInt32(4294960353),Moccasin:OxyColorHelper.fromUInt32(4294960309),NavajoWhite:OxyColorHelper.fromUInt32(4294958765),Navy:OxyColorHelper.fromUInt32(4278190208),OldLace:OxyColorHelper.fromUInt32(4294833638),Olive:OxyColorHelper.fromUInt32(4286611456),OliveDrab:OxyColorHelper.fromUInt32(4285238819),Orange:OxyColorHelper.fromUInt32(4294944e3),OrangeRed:OxyColorHelper.fromUInt32(4294919424),Orchid:OxyColorHelper.fromUInt32(4292505814),PaleGoldenrod:OxyColorHelper.fromUInt32(4293847210),PaleGreen:OxyColorHelper.fromUInt32(4288215960),PaleTurquoise:OxyColorHelper.fromUInt32(4289720046),PaleVioletRed:OxyColorHelper.fromUInt32(4292571283),PapayaWhip:OxyColorHelper.fromUInt32(4294963157),PeachPuff:OxyColorHelper.fromUInt32(4294957753),Peru:OxyColorHelper.fromUInt32(4291659071),Pink:OxyColorHelper.fromUInt32(4294951115),Plum:OxyColorHelper.fromUInt32(4292714717),PowderBlue:OxyColorHelper.fromUInt32(4289781990),Purple:OxyColorHelper.fromUInt32(4286578816),Red:OxyColorHelper.fromUInt32(4294901760),RosyBrown:OxyColorHelper.fromUInt32(4290547599),RoyalBlue:OxyColorHelper.fromUInt32(4282477025),SaddleBrown:OxyColorHelper.fromUInt32(4287317267),Salmon:OxyColorHelper.fromUInt32(4294606962),SandyBrown:OxyColorHelper.fromUInt32(4294222944),SeaGreen:OxyColorHelper.fromUInt32(4281240407),SeaShell:OxyColorHelper.fromUInt32(4294964718),Sienna:OxyColorHelper.fromUInt32(4288696877),Silver:OxyColorHelper.fromUInt32(4290822336),SkyBlue:OxyColorHelper.fromUInt32(4287090411),SlateBlue:OxyColorHelper.fromUInt32(4285160141),SlateGray:OxyColorHelper.fromUInt32(4285563024),Snow:OxyColorHelper.fromUInt32(4294966010),SpringGreen:OxyColorHelper.fromUInt32(4278255487),SteelBlue:OxyColorHelper.fromUInt32(4282811060),Tan:OxyColorHelper.fromUInt32(4291998860),Teal:OxyColorHelper.fromUInt32(4278222976),Thistle:OxyColorHelper.fromUInt32(4292394968),Tomato:OxyColorHelper.fromUInt32(4294927175),Transparent:OxyColorHelper.fromUInt32(16777215),Turquoise:OxyColorHelper.fromUInt32(4282441936),Violet:OxyColorHelper.fromUInt32(4293821166),Wheat:OxyColorHelper.fromUInt32(4294303411),White:OxyColorHelper.fromUInt32(4294967295),WhiteSmoke:OxyColorHelper.fromUInt32(4294309365),Yellow:OxyColorHelper.fromUInt32(4294967040),YellowGreen:OxyColorHelper.fromUInt32(4288335154)};Object.freeze(OxyColors);function newOxyPalette(t){if(!(t!=null&&t.length))return Object.freeze({colors:[]});let e=t;return t[0].hex&&(e=t.map(r=>r.hex)),Object.freeze({colors:e})}class OxyPaletteHelper{static interpolate(e,...r){if(!r||r.length===0||e<1)return newOxyPalette([]);const xe=[],Se=e===1?0:1/(e-1);for(let _e=0;_e<e;_e++){const Ce=_e*Se*(r.length-1),Pe=Math.floor(Ce),Ee=Pe+1<r.length?Pe+1:Pe,Oe=OxyColorEx.fromOxyColor(r[Pe]),Me=OxyColorEx.fromOxyColor(r[Ee]);xe[_e]=OxyColorHelper.interpolate(Oe,Me,Ce-Pe)}return newOxyPalette(xe)}static reverse(e){return newOxyPalette(getReversedCopy(e.colors))}}class OxyPalettes{static blackWhiteRed(e){return OxyPaletteHelper.interpolate(e,OxyColors.Black,OxyColors.White,OxyColors.Red)}static blueWhiteRed(e){return OxyPaletteHelper.interpolate(e,OxyColors.Blue,OxyColors.White,OxyColors.Red)}static cool(e){return OxyPaletteHelper.interpolate(e,OxyColors.Cyan,OxyColors.Magenta)}static gray(e){return OxyPaletteHelper.interpolate(e,OxyColors.Black,OxyColors.White)}static hot(e){return OxyPaletteHelper.interpolate(e,OxyColors.Black,OxyColorEx.fromRgb(127,0,0),OxyColorEx.fromRgb(255,127,0),OxyColorEx.fromRgb(255,255,127),OxyColors.White)}static hue(e){return OxyPaletteHelper.interpolate(e,OxyColors.Red,OxyColors.Yellow,OxyColors.Green,OxyColors.Cyan,OxyColors.Blue,OxyColors.Magenta,OxyColors.Red)}static hueDistinct(e){return OxyPaletteHelper.interpolate(e,OxyColors.Magenta,OxyColors.Blue,OxyColors.Cyan,OxyColors.Green,OxyColors.Yellow,OxyColors.Red)}static jet(e){return OxyPaletteHelper.interpolate(e,OxyColors.DarkBlue,OxyColors.Cyan,OxyColors.Yellow,OxyColors.Orange,OxyColors.DarkRed)}static rainbow(e){return OxyPaletteHelper.interpolate(e,OxyColors.Violet,OxyColors.Indigo,OxyColors.Blue,OxyColors.Green,OxyColors.Yellow,OxyColors.Orange,OxyColors.Red)}static cividis(e=256){return e===cividisColors.length?newOxyPalette(cividisColors):OxyPaletteHelper.interpolate(e,...cividisColors)}static inferno(e=256){return e===infernoColors.length?newOxyPalette(infernoColors):OxyPaletteHelper.interpolate(e,...infernoColors)}static magma(e=256){return e===magmaColors.length?newOxyPalette(magmaColors):OxyPaletteHelper.interpolate(e,...magmaColors)}static plasma(e=256){return e===plasmaColors.length?newOxyPalette(plasmaColors):OxyPaletteHelper.interpolate(e,...plasmaColors)}static viridis(e=256){return e===viridisColors.length?newOxyPalette(viridisColors):OxyPaletteHelper.interpolate(e,...viridisColors)}}__publicField(OxyPalettes,"blueWhiteRed31");__publicField(OxyPalettes,"hot64");__publicField(OxyPalettes,"hue64");OxyPalettes.blueWhiteRed31=OxyPalettes.blueWhiteRed(31);OxyPalettes.hot64=OxyPalettes.hot(64);OxyPalettes.hue64=OxyPalettes.hue(64);const cividisColors=[OxyColorEx.fromRgb(0,32,77),OxyColorEx.fromRgb(0,33,78),OxyColorEx.fromRgb(0,34,80),OxyColorEx.fromRgb(0,34,82),OxyColorEx.fromRgb(0,35,83),OxyColorEx.fromRgb(0,36,85),OxyColorEx.fromRgb(0,37,87),OxyColorEx.fromRgb(0,37,88),OxyColorEx.fromRgb(0,38,90),OxyColorEx.fromRgb(0,39,92),OxyColorEx.fromRgb(0,39,94),OxyColorEx.fromRgb(0,40,96),OxyColorEx.fromRgb(0,41,97),OxyColorEx.fromRgb(0,42,99),OxyColorEx.fromRgb(0,42,101),OxyColorEx.fromRgb(0,43,103),OxyColorEx.fromRgb(0,44,105),OxyColorEx.fromRgb(0,44,106),OxyColorEx.fromRgb(0,45,108),OxyColorEx.fromRgb(0,46,110),OxyColorEx.fromRgb(0,46,111),OxyColorEx.fromRgb(0,47,111),OxyColorEx.fromRgb(0,47,111),OxyColorEx.fromRgb(0,48,111),OxyColorEx.fromRgb(0,48,111),OxyColorEx.fromRgb(0,49,111),OxyColorEx.fromRgb(0,50,111),OxyColorEx.fromRgb(0,51,111),OxyColorEx.fromRgb(0,51,111),OxyColorEx.fromRgb(0,52,111),OxyColorEx.fromRgb(0,53,110),OxyColorEx.fromRgb(1,54,110),OxyColorEx.fromRgb(6,54,110),OxyColorEx.fromRgb(11,55,110),OxyColorEx.fromRgb(15,56,110),OxyColorEx.fromRgb(18,56,109),OxyColorEx.fromRgb(21,57,109),OxyColorEx.fromRgb(24,58,109),OxyColorEx.fromRgb(26,59,109),OxyColorEx.fromRgb(29,59,109),OxyColorEx.fromRgb(31,60,109),OxyColorEx.fromRgb(33,61,109),OxyColorEx.fromRgb(35,62,108),OxyColorEx.fromRgb(36,62,108),OxyColorEx.fromRgb(38,63,108),OxyColorEx.fromRgb(40,64,108),OxyColorEx.fromRgb(42,64,108),OxyColorEx.fromRgb(43,65,108),OxyColorEx.fromRgb(45,66,108),OxyColorEx.fromRgb(46,67,108),OxyColorEx.fromRgb(48,67,108),OxyColorEx.fromRgb(49,68,107),OxyColorEx.fromRgb(50,69,107),OxyColorEx.fromRgb(52,69,107),OxyColorEx.fromRgb(53,70,107),OxyColorEx.fromRgb(54,71,107),OxyColorEx.fromRgb(56,72,107),OxyColorEx.fromRgb(57,72,107),OxyColorEx.fromRgb(58,73,107),OxyColorEx.fromRgb(59,74,107),OxyColorEx.fromRgb(61,74,107),OxyColorEx.fromRgb(62,75,107),OxyColorEx.fromRgb(63,76,107),OxyColorEx.fromRgb(64,77,107),OxyColorEx.fromRgb(65,77,107),OxyColorEx.fromRgb(66,78,107),OxyColorEx.fromRgb(67,79,107),OxyColorEx.fromRgb(68,79,107),OxyColorEx.fromRgb(70,80,107),OxyColorEx.fromRgb(71,81,107),OxyColorEx.fromRgb(72,82,107),OxyColorEx.fromRgb(73,82,107),OxyColorEx.fromRgb(74,83,107),OxyColorEx.fromRgb(75,84,108),OxyColorEx.fromRgb(76,84,108),OxyColorEx.fromRgb(77,85,108),OxyColorEx.fromRgb(78,86,108),OxyColorEx.fromRgb(79,87,108),OxyColorEx.fromRgb(80,87,108),OxyColorEx.fromRgb(81,88,108),OxyColorEx.fromRgb(82,89,108),OxyColorEx.fromRgb(83,89,108),OxyColorEx.fromRgb(84,90,108),OxyColorEx.fromRgb(85,91,109),OxyColorEx.fromRgb(86,92,109),OxyColorEx.fromRgb(87,92,109),OxyColorEx.fromRgb(88,93,109),OxyColorEx.fromRgb(89,94,109),OxyColorEx.fromRgb(89,95,109),OxyColorEx.fromRgb(90,95,109),OxyColorEx.fromRgb(91,96,110),OxyColorEx.fromRgb(92,97,110),OxyColorEx.fromRgb(93,97,110),OxyColorEx.fromRgb(94,98,110),OxyColorEx.fromRgb(95,99,110),OxyColorEx.fromRgb(96,100,111),OxyColorEx.fromRgb(97,100,111),OxyColorEx.fromRgb(98,101,111),OxyColorEx.fromRgb(99,102,111),OxyColorEx.fromRgb(100,102,111),OxyColorEx.fromRgb(100,103,112),OxyColorEx.fromRgb(101,104,112),OxyColorEx.fromRgb(102,105,112),OxyColorEx.fromRgb(103,105,112),OxyColorEx.fromRgb(104,106,113),OxyColorEx.fromRgb(105,107,113),OxyColorEx.fromRgb(106,108,113),OxyColorEx.fromRgb(107,108,113),OxyColorEx.fromRgb(108,109,114),OxyColorEx.fromRgb(108,110,114),OxyColorEx.fromRgb(109,110,114),OxyColorEx.fromRgb(110,111,115),OxyColorEx.fromRgb(111,112,115),OxyColorEx.fromRgb(112,113,115),OxyColorEx.fromRgb(113,113,116),OxyColorEx.fromRgb(114,114,116),OxyColorEx.fromRgb(114,115,116),OxyColorEx.fromRgb(115,116,117),OxyColorEx.fromRgb(116,116,117),OxyColorEx.fromRgb(117,117,117),OxyColorEx.fromRgb(118,118,118),OxyColorEx.fromRgb(119,119,118),OxyColorEx.fromRgb(120,119,119),OxyColorEx.fromRgb(120,120,119),OxyColorEx.fromRgb(121,121,119),OxyColorEx.fromRgb(122,122,120),OxyColorEx.fromRgb(123,122,120),OxyColorEx.fromRgb(124,123,120),OxyColorEx.fromRgb(125,124,120),OxyColorEx.fromRgb(126,125,120),OxyColorEx.fromRgb(127,125,120),OxyColorEx.fromRgb(128,126,121),OxyColorEx.fromRgb(129,127,121),OxyColorEx.fromRgb(130,128,121),OxyColorEx.fromRgb(131,128,121),OxyColorEx.fromRgb(132,129,121),OxyColorEx.fromRgb(132,130,121),OxyColorEx.fromRgb(133,131,121),OxyColorEx.fromRgb(134,131,121),OxyColorEx.fromRgb(135,132,121),OxyColorEx.fromRgb(136,133,121),OxyColorEx.fromRgb(137,134,121),OxyColorEx.fromRgb(138,135,121),OxyColorEx.fromRgb(139,135,121),OxyColorEx.fromRgb(140,136,121),OxyColorEx.fromRgb(141,137,121),OxyColorEx.fromRgb(142,138,121),OxyColorEx.fromRgb(143,138,121),OxyColorEx.fromRgb(144,139,121),OxyColorEx.fromRgb(145,140,120),OxyColorEx.fromRgb(146,141,120),OxyColorEx.fromRgb(147,142,120),OxyColorEx.fromRgb(148,142,120),OxyColorEx.fromRgb(149,143,120),OxyColorEx.fromRgb(150,144,120),OxyColorEx.fromRgb(151,145,120),OxyColorEx.fromRgb(152,146,120),OxyColorEx.fromRgb(153,146,120),OxyColorEx.fromRgb(154,147,119),OxyColorEx.fromRgb(155,148,119),OxyColorEx.fromRgb(156,149,119),OxyColorEx.fromRgb(157,150,119),OxyColorEx.fromRgb(158,150,119),OxyColorEx.fromRgb(159,151,119),OxyColorEx.fromRgb(160,152,119),OxyColorEx.fromRgb(161,153,118),OxyColorEx.fromRgb(162,154,118),OxyColorEx.fromRgb(163,154,118),OxyColorEx.fromRgb(164,155,118),OxyColorEx.fromRgb(165,156,118),OxyColorEx.fromRgb(166,157,117),OxyColorEx.fromRgb(168,158,117),OxyColorEx.fromRgb(169,159,117),OxyColorEx.fromRgb(170,159,117),OxyColorEx.fromRgb(171,160,116),OxyColorEx.fromRgb(172,161,116),OxyColorEx.fromRgb(173,162,116),OxyColorEx.fromRgb(174,163,116),OxyColorEx.fromRgb(175,164,115),OxyColorEx.fromRgb(176,164,115),OxyColorEx.fromRgb(177,165,115),OxyColorEx.fromRgb(178,166,114),OxyColorEx.fromRgb(179,167,114),OxyColorEx.fromRgb(180,168,114),OxyColorEx.fromRgb(181,169,113),OxyColorEx.fromRgb(182,169,113),OxyColorEx.fromRgb(183,170,113),OxyColorEx.fromRgb(184,171,112),OxyColorEx.fromRgb(185,172,112),OxyColorEx.fromRgb(186,173,112),OxyColorEx.fromRgb(187,174,111),OxyColorEx.fromRgb(188,175,111),OxyColorEx.fromRgb(190,175,111),OxyColorEx.fromRgb(191,176,110),OxyColorEx.fromRgb(192,177,110),OxyColorEx.fromRgb(193,178,109),OxyColorEx.fromRgb(194,179,109),OxyColorEx.fromRgb(195,180,109),OxyColorEx.fromRgb(196,181,108),OxyColorEx.fromRgb(197,181,108),OxyColorEx.fromRgb(198,182,107),OxyColorEx.fromRgb(199,183,107),OxyColorEx.fromRgb(200,184,106),OxyColorEx.fromRgb(201,185,106),OxyColorEx.fromRgb(203,186,105),OxyColorEx.fromRgb(204,187,105),OxyColorEx.fromRgb(205,188,104),OxyColorEx.fromRgb(206,188,104),OxyColorEx.fromRgb(207,189,103),OxyColorEx.fromRgb(208,190,103),OxyColorEx.fromRgb(209,191,102),OxyColorEx.fromRgb(210,192,102),OxyColorEx.fromRgb(211,193,101),OxyColorEx.fromRgb(212,194,100),OxyColorEx.fromRgb(214,195,100),OxyColorEx.fromRgb(215,196,99),OxyColorEx.fromRgb(216,197,99),OxyColorEx.fromRgb(217,197,98),OxyColorEx.fromRgb(218,198,97),OxyColorEx.fromRgb(219,199,97),OxyColorEx.fromRgb(220,200,96),OxyColorEx.fromRgb(221,201,95),OxyColorEx.fromRgb(222,202,95),OxyColorEx.fromRgb(224,203,94),OxyColorEx.fromRgb(225,204,93),OxyColorEx.fromRgb(226,205,92),OxyColorEx.fromRgb(227,206,92),OxyColorEx.fromRgb(228,207,91),OxyColorEx.fromRgb(229,208,90),OxyColorEx.fromRgb(230,209,89),OxyColorEx.fromRgb(232,210,89),OxyColorEx.fromRgb(233,211,88),OxyColorEx.fromRgb(234,211,87),OxyColorEx.fromRgb(235,212,86),OxyColorEx.fromRgb(236,213,85),OxyColorEx.fromRgb(237,214,84),OxyColorEx.fromRgb(239,215,83),OxyColorEx.fromRgb(240,216,82),OxyColorEx.fromRgb(241,217,81),OxyColorEx.fromRgb(242,218,80),OxyColorEx.fromRgb(243,219,79),OxyColorEx.fromRgb(244,220,78),OxyColorEx.fromRgb(246,221,77),OxyColorEx.fromRgb(247,222,76),OxyColorEx.fromRgb(248,223,75),OxyColorEx.fromRgb(249,224,74),OxyColorEx.fromRgb(250,225,73),OxyColorEx.fromRgb(251,226,72),OxyColorEx.fromRgb(253,227,70),OxyColorEx.fromRgb(254,228,69),OxyColorEx.fromRgb(255,229,68),OxyColorEx.fromRgb(255,230,66),OxyColorEx.fromRgb(255,231,66),OxyColorEx.fromRgb(255,232,67),OxyColorEx.fromRgb(255,233,68),OxyColorEx.fromRgb(255,234,70)],infernoColors=[OxyColorEx.fromRgb(0,0,4),OxyColorEx.fromRgb(1,0,5),OxyColorEx.fromRgb(1,1,6),OxyColorEx.fromRgb(1,1,8),OxyColorEx.fromRgb(2,1,10),OxyColorEx.fromRgb(2,2,12),OxyColorEx.fromRgb(2,2,14),OxyColorEx.fromRgb(3,2,16),OxyColorEx.fromRgb(4,3,18),OxyColorEx.fromRgb(4,3,20),OxyColorEx.fromRgb(5,4,23),OxyColorEx.fromRgb(6,4,25),OxyColorEx.fromRgb(7,5,27),OxyColorEx.fromRgb(8,5,29),OxyColorEx.fromRgb(9,6,31),OxyColorEx.fromRgb(10,7,34),OxyColorEx.fromRgb(11,7,36),OxyColorEx.fromRgb(12,8,38),OxyColorEx.fromRgb(13,8,41),OxyColorEx.fromRgb(14,9,43),OxyColorEx.fromRgb(16,9,45),OxyColorEx.fromRgb(17,10,48),OxyColorEx.fromRgb(18,10,50),OxyColorEx.fromRgb(20,11,52),OxyColorEx.fromRgb(21,11,55),OxyColorEx.fromRgb(22,11,57),OxyColorEx.fromRgb(24,12,60),OxyColorEx.fromRgb(25,12,62),OxyColorEx.fromRgb(27,12,65),OxyColorEx.fromRgb(28,12,67),OxyColorEx.fromRgb(30,12,69),OxyColorEx.fromRgb(31,12,72),OxyColorEx.fromRgb(33,12,74),OxyColorEx.fromRgb(35,12,76),OxyColorEx.fromRgb(36,12,79),OxyColorEx.fromRgb(38,12,81),OxyColorEx.fromRgb(40,11,83),OxyColorEx.fromRgb(41,11,85),OxyColorEx.fromRgb(43,11,87),OxyColorEx.fromRgb(45,11,89),OxyColorEx.fromRgb(47,10,91),OxyColorEx.fromRgb(49,10,92),OxyColorEx.fromRgb(50,10,94),OxyColorEx.fromRgb(52,10,95),OxyColorEx.fromRgb(54,9,97),OxyColorEx.fromRgb(56,9,98),OxyColorEx.fromRgb(57,9,99),OxyColorEx.fromRgb(59,9,100),OxyColorEx.fromRgb(61,9,101),OxyColorEx.fromRgb(62,9,102),OxyColorEx.fromRgb(64,10,103),OxyColorEx.fromRgb(66,10,104),OxyColorEx.fromRgb(68,10,104),OxyColorEx.fromRgb(69,10,105),OxyColorEx.fromRgb(71,11,106),OxyColorEx.fromRgb(73,11,106),OxyColorEx.fromRgb(74,12,107),OxyColorEx.fromRgb(76,12,107),OxyColorEx.fromRgb(77,13,108),OxyColorEx.fromRgb(79,13,108),OxyColorEx.fromRgb(81,14,108),OxyColorEx.fromRgb(82,14,109),OxyColorEx.fromRgb(84,15,109),OxyColorEx.fromRgb(85,15,109),OxyColorEx.fromRgb(87,16,110),OxyColorEx.fromRgb(89,16,110),OxyColorEx.fromRgb(90,17,110),OxyColorEx.fromRgb(92,18,110),OxyColorEx.fromRgb(93,18,110),OxyColorEx.fromRgb(95,19,110),OxyColorEx.fromRgb(97,19,110),OxyColorEx.fromRgb(98,20,110),OxyColorEx.fromRgb(100,21,110),OxyColorEx.fromRgb(101,21,110),OxyColorEx.fromRgb(103,22,110),OxyColorEx.fromRgb(105,22,110),OxyColorEx.fromRgb(106,23,110),OxyColorEx.fromRgb(108,24,110),OxyColorEx.fromRgb(109,24,110),OxyColorEx.fromRgb(111,25,110),OxyColorEx.fromRgb(113,25,110),OxyColorEx.fromRgb(114,26,110),OxyColorEx.fromRgb(116,26,110),OxyColorEx.fromRgb(117,27,110),OxyColorEx.fromRgb(119,28,109),OxyColorEx.fromRgb(120,28,109),OxyColorEx.fromRgb(122,29,109),OxyColorEx.fromRgb(124,29,109),OxyColorEx.fromRgb(125,30,109),OxyColorEx.fromRgb(127,30,108),OxyColorEx.fromRgb(128,31,108),OxyColorEx.fromRgb(130,32,108),OxyColorEx.fromRgb(132,32,107),OxyColorEx.fromRgb(133,33,107),OxyColorEx.fromRgb(135,33,107),OxyColorEx.fromRgb(136,34,106),OxyColorEx.fromRgb(138,34,106),OxyColorEx.fromRgb(140,35,105),OxyColorEx.fromRgb(141,35,105),OxyColorEx.fromRgb(143,36,105),OxyColorEx.fromRgb(144,37,104),OxyColorEx.fromRgb(146,37,104),OxyColorEx.fromRgb(147,38,103),OxyColorEx.fromRgb(149,38,103),OxyColorEx.fromRgb(151,39,102),OxyColorEx.fromRgb(152,39,102),OxyColorEx.fromRgb(154,40,101),OxyColorEx.fromRgb(155,41,100),OxyColorEx.fromRgb(157,41,100),OxyColorEx.fromRgb(159,42,99),OxyColorEx.fromRgb(160,42,99),OxyColorEx.fromRgb(162,43,98),OxyColorEx.fromRgb(163,44,97),OxyColorEx.fromRgb(165,44,96),OxyColorEx.fromRgb(166,45,96),OxyColorEx.fromRgb(168,46,95),OxyColorEx.fromRgb(169,46,94),OxyColorEx.fromRgb(171,47,94),OxyColorEx.fromRgb(173,48,93),OxyColorEx.fromRgb(174,48,92),OxyColorEx.fromRgb(176,49,91),OxyColorEx.fromRgb(177,50,90),OxyColorEx.fromRgb(179,50,90),OxyColorEx.fromRgb(180,51,89),OxyColorEx.fromRgb(182,52,88),OxyColorEx.fromRgb(183,53,87),OxyColorEx.fromRgb(185,53,86),OxyColorEx.fromRgb(186,54,85),OxyColorEx.fromRgb(188,55,84),OxyColorEx.fromRgb(189,56,83),OxyColorEx.fromRgb(191,57,82),OxyColorEx.fromRgb(192,58,81),OxyColorEx.fromRgb(193,58,80),OxyColorEx.fromRgb(195,59,79),OxyColorEx.fromRgb(196,60,78),OxyColorEx.fromRgb(198,61,77),OxyColorEx.fromRgb(199,62,76),OxyColorEx.fromRgb(200,63,75),OxyColorEx.fromRgb(202,64,74),OxyColorEx.fromRgb(203,65,73),OxyColorEx.fromRgb(204,66,72),OxyColorEx.fromRgb(206,67,71),OxyColorEx.fromRgb(207,68,70),OxyColorEx.fromRgb(208,69,69),OxyColorEx.fromRgb(210,70,68),OxyColorEx.fromRgb(211,71,67),OxyColorEx.fromRgb(212,72,66),OxyColorEx.fromRgb(213,74,65),OxyColorEx.fromRgb(215,75,63),OxyColorEx.fromRgb(216,76,62),OxyColorEx.fromRgb(217,77,61),OxyColorEx.fromRgb(218,78,60),OxyColorEx.fromRgb(219,80,59),OxyColorEx.fromRgb(221,81,58),OxyColorEx.fromRgb(222,82,56),OxyColorEx.fromRgb(223,83,55),OxyColorEx.fromRgb(224,85,54),OxyColorEx.fromRgb(225,86,53),OxyColorEx.fromRgb(226,87,52),OxyColorEx.fromRgb(227,89,51),OxyColorEx.fromRgb(228,90,49),OxyColorEx.fromRgb(229,92,48),OxyColorEx.fromRgb(230,93,47),OxyColorEx.fromRgb(231,94,46),OxyColorEx.fromRgb(232,96,45),OxyColorEx.fromRgb(233,97,43),OxyColorEx.fromRgb(234,99,42),OxyColorEx.fromRgb(235,100,41),OxyColorEx.fromRgb(235,102,40),OxyColorEx.fromRgb(236,103,38),OxyColorEx.fromRgb(237,105,37),OxyColorEx.fromRgb(238,106,36),OxyColorEx.fromRgb(239,108,35),OxyColorEx.fromRgb(239,110,33),OxyColorEx.fromRgb(240,111,32),OxyColorEx.fromRgb(241,113,31),OxyColorEx.fromRgb(241,115,29),OxyColorEx.fromRgb(242,116,28),OxyColorEx.fromRgb(243,118,27),OxyColorEx.fromRgb(243,120,25),OxyColorEx.fromRgb(244,121,24),OxyColorEx.fromRgb(245,123,23),OxyColorEx.fromRgb(245,125,21),OxyColorEx.fromRgb(246,126,20),OxyColorEx.fromRgb(246,128,19),OxyColorEx.fromRgb(247,130,18),OxyColorEx.fromRgb(247,132,16),OxyColorEx.fromRgb(248,133,15),OxyColorEx.fromRgb(248,135,14),OxyColorEx.fromRgb(248,137,12),OxyColorEx.fromRgb(249,139,11),OxyColorEx.fromRgb(249,140,10),OxyColorEx.fromRgb(249,142,9),OxyColorEx.fromRgb(250,144,8),OxyColorEx.fromRgb(250,146,7),OxyColorEx.fromRgb(250,148,7),OxyColorEx.fromRgb(251,150,6),OxyColorEx.fromRgb(251,151,6),OxyColorEx.fromRgb(251,153,6),OxyColorEx.fromRgb(251,155,6),OxyColorEx.fromRgb(251,157,7),OxyColorEx.fromRgb(252,159,7),OxyColorEx.fromRgb(252,161,8),OxyColorEx.fromRgb(252,163,9),OxyColorEx.fromRgb(252,165,10),OxyColorEx.fromRgb(252,166,12),OxyColorEx.fromRgb(252,168,13),OxyColorEx.fromRgb(252,170,15),OxyColorEx.fromRgb(252,172,17),OxyColorEx.fromRgb(252,174,18),OxyColorEx.fromRgb(252,176,20),OxyColorEx.fromRgb(252,178,22),OxyColorEx.fromRgb(252,180,24),OxyColorEx.fromRgb(251,182,26),OxyColorEx.fromRgb(251,184,29),OxyColorEx.fromRgb(251,186,31),OxyColorEx.fromRgb(251,188,33),OxyColorEx.fromRgb(251,190,35),OxyColorEx.fromRgb(250,192,38),OxyColorEx.fromRgb(250,194,40),OxyColorEx.fromRgb(250,196,42),OxyColorEx.fromRgb(250,198,45),OxyColorEx.fromRgb(249,199,47),OxyColorEx.fromRgb(249,201,50),OxyColorEx.fromRgb(249,203,53),OxyColorEx.fromRgb(248,205,55),OxyColorEx.fromRgb(248,207,58),OxyColorEx.fromRgb(247,209,61),OxyColorEx.fromRgb(247,211,64),OxyColorEx.fromRgb(246,213,67),OxyColorEx.fromRgb(246,215,70),OxyColorEx.fromRgb(245,217,73),OxyColorEx.fromRgb(245,219,76),OxyColorEx.fromRgb(244,221,79),OxyColorEx.fromRgb(244,223,83),OxyColorEx.fromRgb(244,225,86),OxyColorEx.fromRgb(243,227,90),OxyColorEx.fromRgb(243,229,93),OxyColorEx.fromRgb(242,230,97),OxyColorEx.fromRgb(242,232,101),OxyColorEx.fromRgb(242,234,105),OxyColorEx.fromRgb(241,236,109),OxyColorEx.fromRgb(241,237,113),OxyColorEx.fromRgb(241,239,117),OxyColorEx.fromRgb(241,241,121),OxyColorEx.fromRgb(242,242,125),OxyColorEx.fromRgb(242,244,130),OxyColorEx.fromRgb(243,245,134),OxyColorEx.fromRgb(243,246,138),OxyColorEx.fromRgb(244,248,142),OxyColorEx.fromRgb(245,249,146),OxyColorEx.fromRgb(246,250,150),OxyColorEx.fromRgb(248,251,154),OxyColorEx.fromRgb(249,252,157),OxyColorEx.fromRgb(250,253,161),OxyColorEx.fromRgb(252,255,164)],magmaColors=[OxyColorEx.fromRgb(0,0,4),OxyColorEx.fromRgb(1,0,5),OxyColorEx.fromRgb(1,1,6),OxyColorEx.fromRgb(1,1,8),OxyColorEx.fromRgb(2,1,9),OxyColorEx.fromRgb(2,2,11),OxyColorEx.fromRgb(2,2,13),OxyColorEx.fromRgb(3,3,15),OxyColorEx.fromRgb(3,3,18),OxyColorEx.fromRgb(4,4,20),OxyColorEx.fromRgb(5,4,22),OxyColorEx.fromRgb(6,5,24),OxyColorEx.fromRgb(6,5,26),OxyColorEx.fromRgb(7,6,28),OxyColorEx.fromRgb(8,7,30),OxyColorEx.fromRgb(9,7,32),OxyColorEx.fromRgb(10,8,34),OxyColorEx.fromRgb(11,9,36),OxyColorEx.fromRgb(12,9,38),OxyColorEx.fromRgb(13,10,41),OxyColorEx.fromRgb(14,11,43),OxyColorEx.fromRgb(16,11,45),OxyColorEx.fromRgb(17,12,47),OxyColorEx.fromRgb(18,13,49),OxyColorEx.fromRgb(19,13,52),OxyColorEx.fromRgb(20,14,54),OxyColorEx.fromRgb(21,14,56),OxyColorEx.fromRgb(22,15,59),OxyColorEx.fromRgb(24,15,61),OxyColorEx.fromRgb(25,16,63),OxyColorEx.fromRgb(26,16,66),OxyColorEx.fromRgb(28,16,68),OxyColorEx.fromRgb(29,17,71),OxyColorEx.fromRgb(30,17,73),OxyColorEx.fromRgb(32,17,75),OxyColorEx.fromRgb(33,17,78),OxyColorEx.fromRgb(34,17,80),OxyColorEx.fromRgb(36,18,83),OxyColorEx.fromRgb(37,18,85),OxyColorEx.fromRgb(39,18,88),OxyColorEx.fromRgb(41,17,90),OxyColorEx.fromRgb(42,17,92),OxyColorEx.fromRgb(44,17,95),OxyColorEx.fromRgb(45,17,97),OxyColorEx.fromRgb(47,17,99),OxyColorEx.fromRgb(49,17,101),OxyColorEx.fromRgb(51,16,103),OxyColorEx.fromRgb(52,16,105),OxyColorEx.fromRgb(54,16,107),OxyColorEx.fromRgb(56,16,108),OxyColorEx.fromRgb(57,15,110),OxyColorEx.fromRgb(59,15,112),OxyColorEx.fromRgb(61,15,113),OxyColorEx.fromRgb(63,15,114),OxyColorEx.fromRgb(64,15,116),OxyColorEx.fromRgb(66,15,117),OxyColorEx.fromRgb(68,15,118),OxyColorEx.fromRgb(69,16,119),OxyColorEx.fromRgb(71,16,120),OxyColorEx.fromRgb(73,16,120),OxyColorEx.fromRgb(74,16,121),OxyColorEx.fromRgb(76,17,122),OxyColorEx.fromRgb(78,17,123),OxyColorEx.fromRgb(79,18,123),OxyColorEx.fromRgb(81,18,124),OxyColorEx.fromRgb(82,19,124),OxyColorEx.fromRgb(84,19,125),OxyColorEx.fromRgb(86,20,125),OxyColorEx.fromRgb(87,21,126),OxyColorEx.fromRgb(89,21,126),OxyColorEx.fromRgb(90,22,126),OxyColorEx.fromRgb(92,22,127),OxyColorEx.fromRgb(93,23,127),OxyColorEx.fromRgb(95,24,127),OxyColorEx.fromRgb(96,24,128),OxyColorEx.fromRgb(98,25,128),OxyColorEx.fromRgb(100,26,128),OxyColorEx.fromRgb(101,26,128),OxyColorEx.fromRgb(103,27,128),OxyColorEx.fromRgb(104,28,129),OxyColorEx.fromRgb(106,28,129),OxyColorEx.fromRgb(107,29,129),OxyColorEx.fromRgb(109,29,129),OxyColorEx.fromRgb(110,30,129),OxyColorEx.fromRgb(112,31,129),OxyColorEx.fromRgb(114,31,129),OxyColorEx.fromRgb(115,32,129),OxyColorEx.fromRgb(117,33,129),OxyColorEx.fromRgb(118,33,129),OxyColorEx.fromRgb(120,34,129),OxyColorEx.fromRgb(121,34,130),OxyColorEx.fromRgb(123,35,130),OxyColorEx.fromRgb(124,35,130),OxyColorEx.fromRgb(126,36,130),OxyColorEx.fromRgb(128,37,130),OxyColorEx.fromRgb(129,37,129),OxyColorEx.fromRgb(131,38,129),OxyColorEx.fromRgb(132,38,129),OxyColorEx.fromRgb(134,39,129),OxyColorEx.fromRgb(136,39,129),OxyColorEx.fromRgb(137,40,129),OxyColorEx.fromRgb(139,41,129),OxyColorEx.fromRgb(140,41,129),OxyColorEx.fromRgb(142,42,129),OxyColorEx.fromRgb(144,42,129),OxyColorEx.fromRgb(145,43,129),OxyColorEx.fromRgb(147,43,128),OxyColorEx.fromRgb(148,44,128),OxyColorEx.fromRgb(150,44,128),OxyColorEx.fromRgb(152,45,128),OxyColorEx.fromRgb(153,45,128),OxyColorEx.fromRgb(155,46,127),OxyColorEx.fromRgb(156,46,127),OxyColorEx.fromRgb(158,47,127),OxyColorEx.fromRgb(160,47,127),OxyColorEx.fromRgb(161,48,126),OxyColorEx.fromRgb(163,48,126),OxyColorEx.fromRgb(165,49,126),OxyColorEx.fromRgb(166,49,125),OxyColorEx.fromRgb(168,50,125),OxyColorEx.fromRgb(170,51,125),OxyColorEx.fromRgb(171,51,124),OxyColorEx.fromRgb(173,52,124),OxyColorEx.fromRgb(174,52,123),OxyColorEx.fromRgb(176,53,123),OxyColorEx.fromRgb(178,53,123),OxyColorEx.fromRgb(179,54,122),OxyColorEx.fromRgb(181,54,122),OxyColorEx.fromRgb(183,55,121),OxyColorEx.fromRgb(184,55,121),OxyColorEx.fromRgb(186,56,120),OxyColorEx.fromRgb(188,57,120),OxyColorEx.fromRgb(189,57,119),OxyColorEx.fromRgb(191,58,119),OxyColorEx.fromRgb(192,58,118),OxyColorEx.fromRgb(194,59,117),OxyColorEx.fromRgb(196,60,117),OxyColorEx.fromRgb(197,60,116),OxyColorEx.fromRgb(199,61,115),OxyColorEx.fromRgb(200,62,115),OxyColorEx.fromRgb(202,62,114),OxyColorEx.fromRgb(204,63,113),OxyColorEx.fromRgb(205,64,113),OxyColorEx.fromRgb(207,64,112),OxyColorEx.fromRgb(208,65,111),OxyColorEx.fromRgb(210,66,111),OxyColorEx.fromRgb(211,67,110),OxyColorEx.fromRgb(213,68,109),OxyColorEx.fromRgb(214,69,108),OxyColorEx.fromRgb(216,69,108),OxyColorEx.fromRgb(217,70,107),OxyColorEx.fromRgb(219,71,106),OxyColorEx.fromRgb(220,72,105),OxyColorEx.fromRgb(222,73,104),OxyColorEx.fromRgb(223,74,104),OxyColorEx.fromRgb(224,76,103),OxyColorEx.fromRgb(226,77,102),OxyColorEx.fromRgb(227,78,101),OxyColorEx.fromRgb(228,79,100),OxyColorEx.fromRgb(229,80,100),OxyColorEx.fromRgb(231,82,99),OxyColorEx.fromRgb(232,83,98),OxyColorEx.fromRgb(233,84,98),OxyColorEx.fromRgb(234,86,97),OxyColorEx.fromRgb(235,87,96),OxyColorEx.fromRgb(236,88,96),OxyColorEx.fromRgb(237,90,95),OxyColorEx.fromRgb(238,91,94),OxyColorEx.fromRgb(239,93,94),OxyColorEx.fromRgb(240,95,94),OxyColorEx.fromRgb(241,96,93),OxyColorEx.fromRgb(242,98,93),OxyColorEx.fromRgb(242,100,92),OxyColorEx.fromRgb(243,101,92),OxyColorEx.fromRgb(244,103,92),OxyColorEx.fromRgb(244,105,92),OxyColorEx.fromRgb(245,107,92),OxyColorEx.fromRgb(246,108,92),OxyColorEx.fromRgb(246,110,92),OxyColorEx.fromRgb(247,112,92),OxyColorEx.fromRgb(247,114,92),OxyColorEx.fromRgb(248,116,92),OxyColorEx.fromRgb(248,118,92),OxyColorEx.fromRgb(249,120,93),OxyColorEx.fromRgb(249,121,93),OxyColorEx.fromRgb(249,123,93),OxyColorEx.fromRgb(250,125,94),OxyColorEx.fromRgb(250,127,94),OxyColorEx.fromRgb(250,129,95),OxyColorEx.fromRgb(251,131,95),OxyColorEx.fromRgb(251,133,96),OxyColorEx.fromRgb(251,135,97),OxyColorEx.fromRgb(252,137,97),OxyColorEx.fromRgb(252,138,98),OxyColorEx.fromRgb(252,140,99),OxyColorEx.fromRgb(252,142,100),OxyColorEx.fromRgb(252,144,101),OxyColorEx.fromRgb(253,146,102),OxyColorEx.fromRgb(253,148,103),OxyColorEx.fromRgb(253,150,104),OxyColorEx.fromRgb(253,152,105),OxyColorEx.fromRgb(253,154,106),OxyColorEx.fromRgb(253,155,107),OxyColorEx.fromRgb(254,157,108),OxyColorEx.fromRgb(254,159,109),OxyColorEx.fromRgb(254,161,110),OxyColorEx.fromRgb(254,163,111),OxyColorEx.fromRgb(254,165,113),OxyColorEx.fromRgb(254,167,114),OxyColorEx.fromRgb(254,169,115),OxyColorEx.fromRgb(254,170,116),OxyColorEx.fromRgb(254,172,118),OxyColorEx.fromRgb(254,174,119),OxyColorEx.fromRgb(254,176,120),OxyColorEx.fromRgb(254,178,122),OxyColorEx.fromRgb(254,180,123),OxyColorEx.fromRgb(254,182,124),OxyColorEx.fromRgb(254,183,126),OxyColorEx.fromRgb(254,185,127),OxyColorEx.fromRgb(254,187,129),OxyColorEx.fromRgb(254,189,130),OxyColorEx.fromRgb(254,191,132),OxyColorEx.fromRgb(254,193,133),OxyColorEx.fromRgb(254,194,135),OxyColorEx.fromRgb(254,196,136),OxyColorEx.fromRgb(254,198,138),OxyColorEx.fromRgb(254,200,140),OxyColorEx.fromRgb(254,202,141),OxyColorEx.fromRgb(254,204,143),OxyColorEx.fromRgb(254,205,144),OxyColorEx.fromRgb(254,207,146),OxyColorEx.fromRgb(254,209,148),OxyColorEx.fromRgb(254,211,149),OxyColorEx.fromRgb(254,213,151),OxyColorEx.fromRgb(254,215,153),OxyColorEx.fromRgb(254,216,154),OxyColorEx.fromRgb(253,218,156),OxyColorEx.fromRgb(253,220,158),OxyColorEx.fromRgb(253,222,160),OxyColorEx.fromRgb(253,224,161),OxyColorEx.fromRgb(253,226,163),OxyColorEx.fromRgb(253,227,165),OxyColorEx.fromRgb(253,229,167),OxyColorEx.fromRgb(253,231,169),OxyColorEx.fromRgb(253,233,170),OxyColorEx.fromRgb(253,235,172),OxyColorEx.fromRgb(252,236,174),OxyColorEx.fromRgb(252,238,176),OxyColorEx.fromRgb(252,240,178),OxyColorEx.fromRgb(252,242,180),OxyColorEx.fromRgb(252,244,182),OxyColorEx.fromRgb(252,246,184),OxyColorEx.fromRgb(252,247,185),OxyColorEx.fromRgb(252,249,187),OxyColorEx.fromRgb(252,251,189),OxyColorEx.fromRgb(252,253,191)],plasmaColors=[OxyColorEx.fromRgb(13,8,135),OxyColorEx.fromRgb(16,7,136),OxyColorEx.fromRgb(19,7,137),OxyColorEx.fromRgb(22,7,138),OxyColorEx.fromRgb(25,6,140),OxyColorEx.fromRgb(27,6,141),OxyColorEx.fromRgb(29,6,142),OxyColorEx.fromRgb(32,6,143),OxyColorEx.fromRgb(34,6,144),OxyColorEx.fromRgb(36,6,145),OxyColorEx.fromRgb(38,5,145),OxyColorEx.fromRgb(40,5,146),OxyColorEx.fromRgb(42,5,147),OxyColorEx.fromRgb(44,5,148),OxyColorEx.fromRgb(46,5,149),OxyColorEx.fromRgb(47,5,150),OxyColorEx.fromRgb(49,5,151),OxyColorEx.fromRgb(51,5,151),OxyColorEx.fromRgb(53,4,152),OxyColorEx.fromRgb(55,4,153),OxyColorEx.fromRgb(56,4,154),OxyColorEx.fromRgb(58,4,154),OxyColorEx.fromRgb(60,4,155),OxyColorEx.fromRgb(62,4,156),OxyColorEx.fromRgb(63,4,156),OxyColorEx.fromRgb(65,4,157),OxyColorEx.fromRgb(67,3,158),OxyColorEx.fromRgb(68,3,158),OxyColorEx.fromRgb(70,3,159),OxyColorEx.fromRgb(72,3,159),OxyColorEx.fromRgb(73,3,160),OxyColorEx.fromRgb(75,3,161),OxyColorEx.fromRgb(76,2,161),OxyColorEx.fromRgb(78,2,162),OxyColorEx.fromRgb(80,2,162),OxyColorEx.fromRgb(81,2,163),OxyColorEx.fromRgb(83,2,163),OxyColorEx.fromRgb(85,2,164),OxyColorEx.fromRgb(86,1,164),OxyColorEx.fromRgb(88,1,164),OxyColorEx.fromRgb(89,1,165),OxyColorEx.fromRgb(91,1,165),OxyColorEx.fromRgb(92,1,166),OxyColorEx.fromRgb(94,1,166),OxyColorEx.fromRgb(96,1,166),OxyColorEx.fromRgb(97,0,167),OxyColorEx.fromRgb(99,0,167),OxyColorEx.fromRgb(100,0,167),OxyColorEx.fromRgb(102,0,167),OxyColorEx.fromRgb(103,0,168),OxyColorEx.fromRgb(105,0,168),OxyColorEx.fromRgb(106,0,168),OxyColorEx.fromRgb(108,0,168),OxyColorEx.fromRgb(110,0,168),OxyColorEx.fromRgb(111,0,168),OxyColorEx.fromRgb(113,0,168),OxyColorEx.fromRgb(114,1,168),OxyColorEx.fromRgb(116,1,168),OxyColorEx.fromRgb(117,1,168),OxyColorEx.fromRgb(119,1,168),OxyColorEx.fromRgb(120,1,168),OxyColorEx.fromRgb(122,2,168),OxyColorEx.fromRgb(123,2,168),OxyColorEx.fromRgb(125,3,168),OxyColorEx.fromRgb(126,3,168),OxyColorEx.fromRgb(128,4,168),OxyColorEx.fromRgb(129,4,167),OxyColorEx.fromRgb(131,5,167),OxyColorEx.fromRgb(132,5,167),OxyColorEx.fromRgb(134,6,166),OxyColorEx.fromRgb(135,7,166),OxyColorEx.fromRgb(136,8,166),OxyColorEx.fromRgb(138,9,165),OxyColorEx.fromRgb(139,10,165),OxyColorEx.fromRgb(141,11,165),OxyColorEx.fromRgb(142,12,164),OxyColorEx.fromRgb(143,13,164),OxyColorEx.fromRgb(145,14,163),OxyColorEx.fromRgb(146,15,163),OxyColorEx.fromRgb(148,16,162),OxyColorEx.fromRgb(149,17,161),OxyColorEx.fromRgb(150,19,161),OxyColorEx.fromRgb(152,20,160),OxyColorEx.fromRgb(153,21,159),OxyColorEx.fromRgb(154,22,159),OxyColorEx.fromRgb(156,23,158),OxyColorEx.fromRgb(157,24,157),OxyColorEx.fromRgb(158,25,157),OxyColorEx.fromRgb(160,26,156),OxyColorEx.fromRgb(161,27,155),OxyColorEx.fromRgb(162,29,154),OxyColorEx.fromRgb(163,30,154),OxyColorEx.fromRgb(165,31,153),OxyColorEx.fromRgb(166,32,152),OxyColorEx.fromRgb(167,33,151),OxyColorEx.fromRgb(168,34,150),OxyColorEx.fromRgb(170,35,149),OxyColorEx.fromRgb(171,36,148),OxyColorEx.fromRgb(172,38,148),OxyColorEx.fromRgb(173,39,147),OxyColorEx.fromRgb(174,40,146),OxyColorEx.fromRgb(176,41,145),OxyColorEx.fromRgb(177,42,144),OxyColorEx.fromRgb(178,43,143),OxyColorEx.fromRgb(179,44,142),OxyColorEx.fromRgb(180,46,141),OxyColorEx.fromRgb(181,47,140),OxyColorEx.fromRgb(182,48,139),OxyColorEx.fromRgb(183,49,138),OxyColorEx.fromRgb(184,50,137),OxyColorEx.fromRgb(186,51,136),OxyColorEx.fromRgb(187,52,136),OxyColorEx.fromRgb(188,53,135),OxyColorEx.fromRgb(189,55,134),OxyColorEx.fromRgb(190,56,133),OxyColorEx.fromRgb(191,57,132),OxyColorEx.fromRgb(192,58,131),OxyColorEx.fromRgb(193,59,130),OxyColorEx.fromRgb(194,60,129),OxyColorEx.fromRgb(195,61,128),OxyColorEx.fromRgb(196,62,127),OxyColorEx.fromRgb(197,64,126),OxyColorEx.fromRgb(198,65,125),OxyColorEx.fromRgb(199,66,124),OxyColorEx.fromRgb(200,67,123),OxyColorEx.fromRgb(201,68,122),OxyColorEx.fromRgb(202,69,122),OxyColorEx.fromRgb(203,70,121),OxyColorEx.fromRgb(204,71,120),OxyColorEx.fromRgb(204,73,119),OxyColorEx.fromRgb(205,74,118),OxyColorEx.fromRgb(206,75,117),OxyColorEx.fromRgb(207,76,116),OxyColorEx.fromRgb(208,77,115),OxyColorEx.fromRgb(209,78,114),OxyColorEx.fromRgb(210,79,113),OxyColorEx.fromRgb(211,81,113),OxyColorEx.fromRgb(212,82,112),OxyColorEx.fromRgb(213,83,111),OxyColorEx.fromRgb(213,84,110),OxyColorEx.fromRgb(214,85,109),OxyColorEx.fromRgb(215,86,108),OxyColorEx.fromRgb(216,87,107),OxyColorEx.fromRgb(217,88,106),OxyColorEx.fromRgb(218,90,106),OxyColorEx.fromRgb(218,91,105),OxyColorEx.fromRgb(219,92,104),OxyColorEx.fromRgb(220,93,103),OxyColorEx.fromRgb(221,94,102),OxyColorEx.fromRgb(222,95,101),OxyColorEx.fromRgb(222,97,100),OxyColorEx.fromRgb(223,98,99),OxyColorEx.fromRgb(224,99,99),OxyColorEx.fromRgb(225,100,98),OxyColorEx.fromRgb(226,101,97),OxyColorEx.fromRgb(226,102,96),OxyColorEx.fromRgb(227,104,95),OxyColorEx.fromRgb(228,105,94),OxyColorEx.fromRgb(229,106,93),OxyColorEx.fromRgb(229,107,93),OxyColorEx.fromRgb(230,108,92),OxyColorEx.fromRgb(231,110,91),OxyColorEx.fromRgb(231,111,90),OxyColorEx.fromRgb(232,112,89),OxyColorEx.fromRgb(233,113,88),OxyColorEx.fromRgb(233,114,87),OxyColorEx.fromRgb(234,116,87),OxyColorEx.fromRgb(235,117,86),OxyColorEx.fromRgb(235,118,85),OxyColorEx.fromRgb(236,119,84),OxyColorEx.fromRgb(237,121,83),OxyColorEx.fromRgb(237,122,82),OxyColorEx.fromRgb(238,123,81),OxyColorEx.fromRgb(239,124,81),OxyColorEx.fromRgb(239,126,80),OxyColorEx.fromRgb(240,127,79),OxyColorEx.fromRgb(240,128,78),OxyColorEx.fromRgb(241,129,77),OxyColorEx.fromRgb(241,131,76),OxyColorEx.fromRgb(242,132,75),OxyColorEx.fromRgb(243,133,75),OxyColorEx.fromRgb(243,135,74),OxyColorEx.fromRgb(244,136,73),OxyColorEx.fromRgb(244,137,72),OxyColorEx.fromRgb(245,139,71),OxyColorEx.fromRgb(245,140,70),OxyColorEx.fromRgb(246,141,69),OxyColorEx.fromRgb(246,143,68),OxyColorEx.fromRgb(247,144,68),OxyColorEx.fromRgb(247,145,67),OxyColorEx.fromRgb(247,147,66),OxyColorEx.fromRgb(248,148,65),OxyColorEx.fromRgb(248,149,64),OxyColorEx.fromRgb(249,151,63),OxyColorEx.fromRgb(249,152,62),OxyColorEx.fromRgb(249,154,62),OxyColorEx.fromRgb(250,155,61),OxyColorEx.fromRgb(250,156,60),OxyColorEx.fromRgb(250,158,59),OxyColorEx.fromRgb(251,159,58),OxyColorEx.fromRgb(251,161,57),OxyColorEx.fromRgb(251,162,56),OxyColorEx.fromRgb(252,163,56),OxyColorEx.fromRgb(252,165,55),OxyColorEx.fromRgb(252,166,54),OxyColorEx.fromRgb(252,168,53),OxyColorEx.fromRgb(252,169,52),OxyColorEx.fromRgb(253,171,51),OxyColorEx.fromRgb(253,172,51),OxyColorEx.fromRgb(253,174,50),OxyColorEx.fromRgb(253,175,49),OxyColorEx.fromRgb(253,177,48),OxyColorEx.fromRgb(253,178,47),OxyColorEx.fromRgb(253,180,47),OxyColorEx.fromRgb(253,181,46),OxyColorEx.fromRgb(254,183,45),OxyColorEx.fromRgb(254,184,44),OxyColorEx.fromRgb(254,186,44),OxyColorEx.fromRgb(254,187,43),OxyColorEx.fromRgb(254,189,42),OxyColorEx.fromRgb(254,190,42),OxyColorEx.fromRgb(254,192,41),OxyColorEx.fromRgb(253,194,41),OxyColorEx.fromRgb(253,195,40),OxyColorEx.fromRgb(253,197,39),OxyColorEx.fromRgb(253,198,39),OxyColorEx.fromRgb(253,200,39),OxyColorEx.fromRgb(253,202,38),OxyColorEx.fromRgb(253,203,38),OxyColorEx.fromRgb(252,205,37),OxyColorEx.fromRgb(252,206,37),OxyColorEx.fromRgb(252,208,37),OxyColorEx.fromRgb(252,210,37),OxyColorEx.fromRgb(251,211,36),OxyColorEx.fromRgb(251,213,36),OxyColorEx.fromRgb(251,215,36),OxyColorEx.fromRgb(250,216,36),OxyColorEx.fromRgb(250,218,36),OxyColorEx.fromRgb(249,220,36),OxyColorEx.fromRgb(249,221,37),OxyColorEx.fromRgb(248,223,37),OxyColorEx.fromRgb(248,225,37),OxyColorEx.fromRgb(247,226,37),OxyColorEx.fromRgb(247,228,37),OxyColorEx.fromRgb(246,230,38),OxyColorEx.fromRgb(246,232,38),OxyColorEx.fromRgb(245,233,38),OxyColorEx.fromRgb(245,235,39),OxyColorEx.fromRgb(244,237,39),OxyColorEx.fromRgb(243,238,39),OxyColorEx.fromRgb(243,240,39),OxyColorEx.fromRgb(242,242,39),OxyColorEx.fromRgb(241,244,38),OxyColorEx.fromRgb(241,245,37),OxyColorEx.fromRgb(240,247,36),OxyColorEx.fromRgb(240,249,33)],viridisColors=[OxyColorEx.fromRgb(68,1,84),OxyColorEx.fromRgb(68,2,86),OxyColorEx.fromRgb(69,4,87),OxyColorEx.fromRgb(69,5,89),OxyColorEx.fromRgb(70,7,90),OxyColorEx.fromRgb(70,8,92),OxyColorEx.fromRgb(70,10,93),OxyColorEx.fromRgb(70,11,94),OxyColorEx.fromRgb(71,13,96),OxyColorEx.fromRgb(71,14,97),OxyColorEx.fromRgb(71,16,99),OxyColorEx.fromRgb(71,17,100),OxyColorEx.fromRgb(71,19,101),OxyColorEx.fromRgb(72,20,103),OxyColorEx.fromRgb(72,22,104),OxyColorEx.fromRgb(72,23,105),OxyColorEx.fromRgb(72,24,106),OxyColorEx.fromRgb(72,26,108),OxyColorEx.fromRgb(72,27,109),OxyColorEx.fromRgb(72,28,110),OxyColorEx.fromRgb(72,29,111),OxyColorEx.fromRgb(72,31,112),OxyColorEx.fromRgb(72,32,113),OxyColorEx.fromRgb(72,33,115),OxyColorEx.fromRgb(72,35,116),OxyColorEx.fromRgb(72,36,117),OxyColorEx.fromRgb(72,37,118),OxyColorEx.fromRgb(72,38,119),OxyColorEx.fromRgb(72,40,120),OxyColorEx.fromRgb(72,41,121),OxyColorEx.fromRgb(71,42,122),OxyColorEx.fromRgb(71,44,122),OxyColorEx.fromRgb(71,45,123),OxyColorEx.fromRgb(71,46,124),OxyColorEx.fromRgb(71,47,125),OxyColorEx.fromRgb(70,48,126),OxyColorEx.fromRgb(70,50,126),OxyColorEx.fromRgb(70,51,127),OxyColorEx.fromRgb(70,52,128),OxyColorEx.fromRgb(69,53,129),OxyColorEx.fromRgb(69,55,129),OxyColorEx.fromRgb(69,56,130),OxyColorEx.fromRgb(68,57,131),OxyColorEx.fromRgb(68,58,131),OxyColorEx.fromRgb(68,59,132),OxyColorEx.fromRgb(67,61,132),OxyColorEx.fromRgb(67,62,133),OxyColorEx.fromRgb(66,63,133),OxyColorEx.fromRgb(66,64,134),OxyColorEx.fromRgb(66,65,134),OxyColorEx.fromRgb(65,66,135),OxyColorEx.fromRgb(65,68,135),OxyColorEx.fromRgb(64,69,136),OxyColorEx.fromRgb(64,70,136),OxyColorEx.fromRgb(63,71,136),OxyColorEx.fromRgb(63,72,137),OxyColorEx.fromRgb(62,73,137),OxyColorEx.fromRgb(62,74,137),OxyColorEx.fromRgb(62,76,138),OxyColorEx.fromRgb(61,77,138),OxyColorEx.fromRgb(61,78,138),OxyColorEx.fromRgb(60,79,138),OxyColorEx.fromRgb(60,80,139),OxyColorEx.fromRgb(59,81,139),OxyColorEx.fromRgb(59,82,139),OxyColorEx.fromRgb(58,83,139),OxyColorEx.fromRgb(58,84,140),OxyColorEx.fromRgb(57,85,140),OxyColorEx.fromRgb(57,86,140),OxyColorEx.fromRgb(56,88,140),OxyColorEx.fromRgb(56,89,140),OxyColorEx.fromRgb(55,90,140),OxyColorEx.fromRgb(55,91,141),OxyColorEx.fromRgb(54,92,141),OxyColorEx.fromRgb(54,93,141),OxyColorEx.fromRgb(53,94,141),OxyColorEx.fromRgb(53,95,141),OxyColorEx.fromRgb(52,96,141),OxyColorEx.fromRgb(52,97,141),OxyColorEx.fromRgb(51,98,141),OxyColorEx.fromRgb(51,99,141),OxyColorEx.fromRgb(50,100,142),OxyColorEx.fromRgb(50,101,142),OxyColorEx.fromRgb(49,102,142),OxyColorEx.fromRgb(49,103,142),OxyColorEx.fromRgb(49,104,142),OxyColorEx.fromRgb(48,105,142),OxyColorEx.fromRgb(48,106,142),OxyColorEx.fromRgb(47,107,142),OxyColorEx.fromRgb(47,108,142),OxyColorEx.fromRgb(46,109,142),OxyColorEx.fromRgb(46,110,142),OxyColorEx.fromRgb(46,111,142),OxyColorEx.fromRgb(45,112,142),OxyColorEx.fromRgb(45,113,142),OxyColorEx.fromRgb(44,113,142),OxyColorEx.fromRgb(44,114,142),OxyColorEx.fromRgb(44,115,142),OxyColorEx.fromRgb(43,116,142),OxyColorEx.fromRgb(43,117,142),OxyColorEx.fromRgb(42,118,142),OxyColorEx.fromRgb(42,119,142),OxyColorEx.fromRgb(42,120,142),OxyColorEx.fromRgb(41,121,142),OxyColorEx.fromRgb(41,122,142),OxyColorEx.fromRgb(41,123,142),OxyColorEx.fromRgb(40,124,142),OxyColorEx.fromRgb(40,125,142),OxyColorEx.fromRgb(39,126,142),OxyColorEx.fromRgb(39,127,142),OxyColorEx.fromRgb(39,128,142),OxyColorEx.fromRgb(38,129,142),OxyColorEx.fromRgb(38,130,142),OxyColorEx.fromRgb(38,130,142),OxyColorEx.fromRgb(37,131,142),OxyColorEx.fromRgb(37,132,142),OxyColorEx.fromRgb(37,133,142),OxyColorEx.fromRgb(36,134,142),OxyColorEx.fromRgb(36,135,142),OxyColorEx.fromRgb(35,136,142),OxyColorEx.fromRgb(35,137,142),OxyColorEx.fromRgb(35,138,141),OxyColorEx.fromRgb(34,139,141),OxyColorEx.fromRgb(34,140,141),OxyColorEx.fromRgb(34,141,141),OxyColorEx.fromRgb(33,142,141),OxyColorEx.fromRgb(33,143,141),OxyColorEx.fromRgb(33,144,141),OxyColorEx.fromRgb(33,145,140),OxyColorEx.fromRgb(32,146,140),OxyColorEx.fromRgb(32,146,140),OxyColorEx.fromRgb(32,147,140),OxyColorEx.fromRgb(31,148,140),OxyColorEx.fromRgb(31,149,139),OxyColorEx.fromRgb(31,150,139),OxyColorEx.fromRgb(31,151,139),OxyColorEx.fromRgb(31,152,139),OxyColorEx.fromRgb(31,153,138),OxyColorEx.fromRgb(31,154,138),OxyColorEx.fromRgb(30,155,138),OxyColorEx.fromRgb(30,156,137),OxyColorEx.fromRgb(30,157,137),OxyColorEx.fromRgb(31,158,137),OxyColorEx.fromRgb(31,159,136),OxyColorEx.fromRgb(31,160,136),OxyColorEx.fromRgb(31,161,136),OxyColorEx.fromRgb(31,161,135),OxyColorEx.fromRgb(31,162,135),OxyColorEx.fromRgb(32,163,134),OxyColorEx.fromRgb(32,164,134),OxyColorEx.fromRgb(33,165,133),OxyColorEx.fromRgb(33,166,133),OxyColorEx.fromRgb(34,167,133),OxyColorEx.fromRgb(34,168,132),OxyColorEx.fromRgb(35,169,131),OxyColorEx.fromRgb(36,170,131),OxyColorEx.fromRgb(37,171,130),OxyColorEx.fromRgb(37,172,130),OxyColorEx.fromRgb(38,173,129),OxyColorEx.fromRgb(39,173,129),OxyColorEx.fromRgb(40,174,128),OxyColorEx.fromRgb(41,175,127),OxyColorEx.fromRgb(42,176,127),OxyColorEx.fromRgb(44,177,126),OxyColorEx.fromRgb(45,178,125),OxyColorEx.fromRgb(46,179,124),OxyColorEx.fromRgb(47,180,124),OxyColorEx.fromRgb(49,181,123),OxyColorEx.fromRgb(50,182,122),OxyColorEx.fromRgb(52,182,121),OxyColorEx.fromRgb(53,183,121),OxyColorEx.fromRgb(55,184,120),OxyColorEx.fromRgb(56,185,119),OxyColorEx.fromRgb(58,186,118),OxyColorEx.fromRgb(59,187,117),OxyColorEx.fromRgb(61,188,116),OxyColorEx.fromRgb(63,188,115),OxyColorEx.fromRgb(64,189,114),OxyColorEx.fromRgb(66,190,113),OxyColorEx.fromRgb(68,191,112),OxyColorEx.fromRgb(70,192,111),OxyColorEx.fromRgb(72,193,110),OxyColorEx.fromRgb(74,193,109),OxyColorEx.fromRgb(76,194,108),OxyColorEx.fromRgb(78,195,107),OxyColorEx.fromRgb(80,196,106),OxyColorEx.fromRgb(82,197,105),OxyColorEx.fromRgb(84,197,104),OxyColorEx.fromRgb(86,198,103),OxyColorEx.fromRgb(88,199,101),OxyColorEx.fromRgb(90,200,100),OxyColorEx.fromRgb(92,200,99),OxyColorEx.fromRgb(94,201,98),OxyColorEx.fromRgb(96,202,96),OxyColorEx.fromRgb(99,203,95),OxyColorEx.fromRgb(101,203,94),OxyColorEx.fromRgb(103,204,92),OxyColorEx.fromRgb(105,205,91),OxyColorEx.fromRgb(108,205,90),OxyColorEx.fromRgb(110,206,88),OxyColorEx.fromRgb(112,207,87),OxyColorEx.fromRgb(115,208,86),OxyColorEx.fromRgb(117,208,84),OxyColorEx.fromRgb(119,209,83),OxyColorEx.fromRgb(122,209,81),OxyColorEx.fromRgb(124,210,80),OxyColorEx.fromRgb(127,211,78),OxyColorEx.fromRgb(129,211,77),OxyColorEx.fromRgb(132,212,75),OxyColorEx.fromRgb(134,213,73),OxyColorEx.fromRgb(137,213,72),OxyColorEx.fromRgb(139,214,70),OxyColorEx.fromRgb(142,214,69),OxyColorEx.fromRgb(144,215,67),OxyColorEx.fromRgb(147,215,65),OxyColorEx.fromRgb(149,216,64),OxyColorEx.fromRgb(152,216,62),OxyColorEx.fromRgb(155,217,60),OxyColorEx.fromRgb(157,217,59),OxyColorEx.fromRgb(160,218,57),OxyColorEx.fromRgb(162,218,55),OxyColorEx.fromRgb(165,219,54),OxyColorEx.fromRgb(168,219,52),OxyColorEx.fromRgb(170,220,50),OxyColorEx.fromRgb(173,220,48),OxyColorEx.fromRgb(176,221,47),OxyColorEx.fromRgb(178,221,45),OxyColorEx.fromRgb(181,222,43),OxyColorEx.fromRgb(184,222,41),OxyColorEx.fromRgb(186,222,40),OxyColorEx.fromRgb(189,223,38),OxyColorEx.fromRgb(192,223,37),OxyColorEx.fromRgb(194,223,35),OxyColorEx.fromRgb(197,224,33),OxyColorEx.fromRgb(200,224,32),OxyColorEx.fromRgb(202,225,31),OxyColorEx.fromRgb(205,225,29),OxyColorEx.fromRgb(208,225,28),OxyColorEx.fromRgb(210,226,27),OxyColorEx.fromRgb(213,226,26),OxyColorEx.fromRgb(216,226,25),OxyColorEx.fromRgb(218,227,25),OxyColorEx.fromRgb(221,227,24),OxyColorEx.fromRgb(223,227,24),OxyColorEx.fromRgb(226,228,24),OxyColorEx.fromRgb(229,228,25),OxyColorEx.fromRgb(231,228,25),OxyColorEx.fromRgb(234,229,26),OxyColorEx.fromRgb(236,229,27),OxyColorEx.fromRgb(239,229,28),OxyColorEx.fromRgb(241,229,29),OxyColorEx.fromRgb(244,230,30),OxyColorEx.fromRgb(246,230,32),OxyColorEx.fromRgb(248,230,33),OxyColorEx.fromRgb(251,231,35),OxyColorEx.fromRgb(253,231,37)],DefaultElementOptions={selectable:!0,selectionMode:SelectionMode.All},ExtendedDefaultElementOptions=DefaultElementOptions;let Element$1=class{constructor(e){__publicField(this,"__oxy_element_name__"),__publicField(this,"_parent"),__publicField(this,"keyDown"),__publicField(this,"mouseDown"),__publicField(this,"mouseMove"),__publicField(this,"mouseUp"),__publicField(this,"touchStarted"),__publicField(this,"touchDelta"),__publicField(this,"touchCompleted"),__publicField(this,"_selection"),__publicField(this,"selectionChanged"),__publicField(this,"selectable",DefaultElementOptions.selectable),__publicField(this,"selectionMode",DefaultElementOptions.selectionMode),assignObject(this,DefaultElementOptions,e),this.getElementName&&(this.__oxy_element_name__=this.getElementName()),this.__oxy_element_name__||console.warn("The element name is not set. Please implement the getElementName method.")}set parent(e){this._parent=e}get parent(){return this._parent}hitTest(e){return this.hitTestOverride(e)}hitTestOverride(e){}onMouseDown(e){this.mouseDown&&this.mouseDown(this,e)}onMouseMove(e){this.mouseMove&&this.mouseMove(this,e)}onKeyDown(e){this.keyDown&&this.keyDown(this,e)}onMouseUp(e){this.mouseUp&&this.mouseUp(this,e)}onTouchStarted(e){this.touchStarted&&this.touchStarted(this,e)}onTouchDelta(e){this.touchDelta&&this.touchDelta(this,e)}onTouchCompleted(e){this.touchCompleted&&this.touchCompleted(this,e)}get actualSelectedColor(){return this.parent?OxyColorHelper.getActualColor(this.parent.selectionColor,Model.DefaultSelectionColor):Model.DefaultSelectionColor}isSelected(){return!!this._selection}getSelectedItems(){return this.ensureSelection(),this._selection.getSelectedItems()}clearSelection(){this._selection=void 0,this.onSelectionChanged()}unselect(){this._selection=void 0,this.onSelectionChanged()}isItemSelected(e){return this._selection?e===-1?this._selection.isEverythingSelected():this._selection.isItemSelected(e):!1}select(){this._selection=Selection.Everything,this.onSelectionChanged()}selectItem(e){if(this.selectionMode===SelectionMode.All)throw new Error("Use the select() method when using SelectionMode.All");this.ensureSelection(),this.selectionMode===SelectionMode.Single&&this._selection.clear(),this._selection.select(e),this.onSelectionChanged()}unselectItem(e){if(this.selectionMode===SelectionMode.All)throw new Error("Use the unselect() method when using SelectionMode.All");this.ensureSelection(),this._selection.unselect(e),this.onSelectionChanged()}getSelectableColor(e,r=-1){return OxyColorHelper.isUndefined(e)?OxyColors.Undefined:this.isItemSelected(r)?this.actualSelectedColor:OxyColorEx.fromOxyColor(e).hex}getSelectableFillColor(e,r=-1){return this.getSelectableColor(e,r)}ensureSelection(){this._selection=this._selection||new Selection}onSelectionChanged(e){this.selectionChanged&&this.selectionChanged(this,e)}getJsonIgnoreProperties(){return[]}getElementDefaultValues(){return ExtendedDefaultElementOptions}toJSON(e){const r=this.getJsonIgnoreProperties(),xe=this.getElementDefaultValues();return copyPlotElementProperties(this,xe,{excludeKeys:r,excludeDefault:e==null?void 0:e.excludeDefault})}};const DefaultPlotElementOptions={fontSize:NaN,fontWeight:FontWeights.Normal,textColor:OxyColors.Automatic,edgeRenderingMode:EdgeRenderingMode.Automatic,font:void 0,toolTip:void 0},ExtendedDefaultPlotElementOptions={...ExtendedDefaultElementOptions,...DefaultPlotElementOptions};class PlotElement extends Element$1{constructor(e){super(e),__publicField(this,"font"),__publicField(this,"fontSize",DefaultPlotElementOptions.fontSize),__publicField(this,"fontWeight",DefaultPlotElementOptions.fontWeight),__publicField(this,"tag"),__publicField(this,"textColor",DefaultPlotElementOptions.textColor),__publicField(this,"edgeRenderingMode",DefaultPlotElementOptions.edgeRenderingMode),__publicField(this,"toolTip"),__publicField(this,"_plotElementId"),assignObject(this,DefaultPlotElementOptions,e)}get plotModel(){return this.parent}get actualFont(){return this.font||this.plotModel.defaultFont}get actualFontSize(){return isNaNOrUndef(this.fontSize)?this.plotModel.defaultFontSize:this.fontSize}get actualFontWeight(){return this.fontWeight}get actualTextColor(){return OxyColorHelper.getActualColor(this.textColor,this.plotModel.textColor)}getClippingRect(){return OxyRect_Everything}getElementHashCode(){return isUndef(this._plotElementId)&&(plotElementId++,this._plotElementId=plotElementId),this._plotElementId}}let plotElementId=0;var AnnotationLayer=(t=>(t[t.BelowAxes=0]="BelowAxes",t[t.BelowSeries=1]="BelowSeries",t[t.AboveSeries=2]="AboveSeries",t))(AnnotationLayer||{}),AnnotationTextOrientation=(t=>(t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical",t[t.AlongLine=2]="AlongLine",t))(AnnotationTextOrientation||{});const DefaultAnnotationOptions={clipByXAxis:!0,clipByYAxis:!0,layer:AnnotationLayer.AboveSeries,xAxisKey:void 0,yAxisKey:void 0,xAxis:void 0,yAxis:void 0},ExtendedDefaultAnnotationOptions={...ExtendedDefaultPlotElementOptions,...DefaultAnnotationOptions};class Annotation extends PlotElement{constructor(e){super(e),__publicField(this,"layer",DefaultAnnotationOptions.layer),__publicField(this,"_xAxis"),__publicField(this,"xAxisKey"),__publicField(this,"_yAxis"),__publicField(this,"clipByXAxis",DefaultAnnotationOptions.clipByXAxis),__publicField(this,"clipByYAxis",DefaultAnnotationOptions.clipByYAxis),__publicField(this,"yAxisKey"),assignObject(this,DefaultAnnotationOptions,e),e&&(e.xAxis&&(this._xAxis=e.xAxis),e.yAxis&&(this._yAxis=e.yAxis))}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}getClippingRect(){const e=this.plotModel.plotArea,r=new OxyRectEx(PlotElementUtilities.getClippingRect(this));let xe=0,Se=Number.POSITIVE_INFINITY,_e=0,Ae=Number.POSITIVE_INFINITY;this.clipByXAxis&&(xe=r.topLeft.x,Se=r.bottomRight.x),this.clipByYAxis&&(_e=r.topLeft.y,Ae=r.bottomRight.y);const Ce=newScreenPoint(xe,_e),Pe=newScreenPoint(Se,Ae),Ee=OxyRectHelper.fromScreenPoints(Ce,Pe);return OxyRectHelper.clip(e,Ee)}transform(e){return PlotElementUtilities.transform(this,e)}inverseTransform(e){return PlotElementUtilities.inverseTransform(this,e)}}const DefaultTransposableAnnotationOptions={},ExtendedDefaultTransposableAnnotationOptions={...ExtendedDefaultAnnotationOptions,...DefaultTransposableAnnotationOptions};class TransposableAnnotation extends Annotation{constructor(e){super(e),setTransposablePlotElement(this)}getClippingRect(){const e=this.plotModel.plotArea,r=OxyRectEx.fromRect(PlotElementUtilities.getClippingRect(this));let xe=0,Se=Number.POSITIVE_INFINITY,_e=0,Ae=Number.POSITIVE_INFINITY;this.clipByXAxis&&(xe=PlotElementExtensions.orientate(this,r.topLeft).x,Se=PlotElementExtensions.orientate(this,r.bottomRight).x),this.clipByYAxis&&(_e=PlotElementExtensions.orientate(this,r.topLeft).y,Ae=PlotElementExtensions.orientate(this,r.bottomRight).y);const Ce=PlotElementExtensions.orientate(this,newScreenPoint(xe,_e)),Pe=PlotElementExtensions.orientate(this,newScreenPoint(Se,Ae)),Ee=OxyRectHelper.fromScreenPoints(Ce,Pe);return OxyRectHelper.clip(e,Ee)}transform(e){return PlotElementUtilities.transformOrientated(this,e)}inverseTransform(e){return PlotElementUtilities.inverseTransformOrientated(this,e)}}const DefaultTextualAnnotationOptions={textHorizontalAlignment:HorizontalAlignment.Center,textVerticalAlignment:VerticalAlignment.Middle,textPosition:DataPoint_Undefined,textRotation:0,text:void 0},ExtendedDefaultTextualAnnotationOptions={...ExtendedDefaultTransposableAnnotationOptions,...DefaultTextualAnnotationOptions};class TextualAnnotation extends TransposableAnnotation{constructor(e){super(e),__publicField(this,"text"),__publicField(this,"textPosition",DefaultTextualAnnotationOptions.textPosition),__publicField(this,"textHorizontalAlignment",DefaultTextualAnnotationOptions.textHorizontalAlignment),__publicField(this,"textVerticalAlignment",DefaultTextualAnnotationOptions.textVerticalAlignment),__publicField(this,"textRotation",DefaultTextualAnnotationOptions.textRotation),assignObject(this,DefaultTextualAnnotationOptions,e)}getActualTextPosition(e){return DataPoint_isDefined(this.textPosition)?this.transform(this.textPosition):e()}getActualTextAlignment(){return[this.textHorizontalAlignment,this.textVerticalAlignment]}}const DefaultTextAnnotationOptions={background:OxyColors.Undefined,offset:ScreenVector_Zero,padding:newOxyThickness(4),stroke:OxyColors.Black,strokeThickness:1,textVerticalAlignment:VerticalAlignment.Bottom},ExtendedDefaultTextAnnotationOptions={...ExtendedDefaultTextualAnnotationOptions,...DefaultTextAnnotationOptions};class TextAnnotation extends TextualAnnotation{constructor(e){super(e),__publicField(this,"_actualBounds"),__publicField(this,"background",DefaultTextAnnotationOptions.background),__publicField(this,"offset",DefaultTextAnnotationOptions.offset),__publicField(this,"padding",DefaultTextAnnotationOptions.padding),__publicField(this,"stroke",DefaultTextAnnotationOptions.stroke),__publicField(this,"strokeThickness",DefaultTextAnnotationOptions.strokeThickness),assignObject(this,DefaultTextAnnotationOptions,e)}getElementName(){return"TextAnnotation"}async render(e){if(!this.text)throw new Error("text must be non-undefined before rendering.");const r=screenPointPlus(this.transform(this.textPosition),PlotElementExtensions.orientateVector(this,this.offset)),xe=e.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),[Se,_e]=this.getActualTextAlignment();if(this._actualBounds=TextAnnotation.getTextBounds(r,xe,this.padding,this.textRotation,Se,_e),this.textRotation%90===0){const Ae=OxyRectHelper.fromScreenPoints(this._actualBounds[0],this._actualBounds[2]);await e.drawRectangle(Ae,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode)}else await e.drawPolygon(this._actualBounds,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode);await MathRenderingExtensions.drawMathText(e,r,this.text,this.getSelectableFillColor(this.actualTextColor),this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,Se,_e)}hitTestOverride(e){if(this._actualBounds)return ScreenPointHelper.isPointInPolygon(e.point,this._actualBounds)?{element:this,nearestHitPoint:e.point}:void 0}static getTextBounds(e,r,xe,Se,_e,Ae){let Ce,Pe,Ee,Oe;switch(_e){case HorizontalAlignment.Center:Ce=-r.width*.5,Pe=-Ce;break;case HorizontalAlignment.Right:Ce=-r.width,Pe=0;break;default:Ce=0,Pe=r.width;break}switch(Ae){case VerticalAlignment.Middle:Ee=-r.height*.5,Oe=-Ee;break;case VerticalAlignment.Bottom:Ee=-r.height,Oe=0;break;default:Ee=0,Oe=r.height;break}const Me=Math.cos(Se/180*Math.PI),De=Math.sin(Se/180*Math.PI),Te=ScreenVectorEx.fromXY(Me,De),ke=ScreenVectorEx.fromXY(-De,Me),Fe=new Array(4);return Fe[0]=screenPointPlus(screenPointPlus(e,Te.times(Ce-xe.left)),ke.times(Ee-xe.top)),Fe[1]=screenPointPlus(screenPointPlus(e,Te.times(Pe+xe.right)),ke.times(Ee-xe.top)),Fe[2]=screenPointPlus(screenPointPlus(e,Te.times(Pe+xe.right)),ke.times(Oe+xe.bottom)),Fe[3]=screenPointPlus(screenPointPlus(e,Te.times(Ce-xe.left)),ke.times(Oe+xe.bottom)),Fe}getElementDefaultValues(){return ExtendedDefaultTextAnnotationOptions}}const DefaultPathAnnotationOptions={minimumX:Number_MIN_VALUE,maximumX:Number_MAX_VALUE,minimumY:Number_MIN_VALUE,maximumY:Number_MAX_VALUE,color:OxyColors.Blue,strokeThickness:1,lineStyle:LineStyle.Dash,lineJoin:LineJoin.Miter,textLinePosition:1,textOrientation:AnnotationTextOrientation.AlongLine,textMargin:12,textHorizontalAlignment:HorizontalAlignment.Right,textVerticalAlignment:VerticalAlignment.Top,minimumSegmentLength:2,textPadding:0,borderPadding:OxyThickness_Zero,borderBackground:OxyColors.Undefined,borderStroke:OxyColors.Undefined,borderStrokeThickness:0},ExtendedDefaultPathAnnotationOptions={...ExtendedDefaultTextualAnnotationOptions,...DefaultPathAnnotationOptions};class PathAnnotation extends TextualAnnotation{constructor(e){super(e),__publicField(this,"_screenPoints"),__publicField(this,"color",DefaultPathAnnotationOptions.color),__publicField(this,"lineJoin",DefaultPathAnnotationOptions.lineJoin),__publicField(this,"lineStyle",DefaultPathAnnotationOptions.lineStyle),__publicField(this,"maximumX",DefaultPathAnnotationOptions.maximumX),__publicField(this,"maximumY",DefaultPathAnnotationOptions.maximumY),__publicField(this,"minimumX",DefaultPathAnnotationOptions.minimumX),__publicField(this,"minimumY",DefaultPathAnnotationOptions.minimumY),__publicField(this,"strokeThickness",DefaultPathAnnotationOptions.strokeThickness),__publicField(this,"textMargin",DefaultPathAnnotationOptions.textMargin),__publicField(this,"textPadding",DefaultPathAnnotationOptions.textPadding),__publicField(this,"borderPadding",DefaultPathAnnotationOptions.borderPadding),__publicField(this,"borderBackground",DefaultPathAnnotationOptions.borderBackground),__publicField(this,"borderStroke",DefaultPathAnnotationOptions.borderStroke),__publicField(this,"borderStrokeThickness",DefaultPathAnnotationOptions.borderStrokeThickness),__publicField(this,"textOrientation",DefaultPathAnnotationOptions.textOrientation),__publicField(this,"textLinePosition",DefaultPathAnnotationOptions.textLinePosition),__publicField(this,"minimumSegmentLength",DefaultPathAnnotationOptions.minimumSegmentLength),__publicField(this,"actualMinimumX",NaN),__publicField(this,"actualMinimumY",NaN),__publicField(this,"actualMaximumX",NaN),__publicField(this,"actualMaximumY",NaN),assignObject(this,DefaultPathAnnotationOptions,e)}async render(e){if(this.calculateActualMinimumsMaximums(),this.actualMinimumX>this.actualMaximumX||this.actualMinimumY>this.actualMaximumY)return;this._screenPoints=this.getScreenPoints();const r=[],xe=LineStyleHelper.getDashArray(this.lineStyle);this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&await RenderingExtensions.drawReducedLine(e,this._screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,xe,this.lineJoin,void 0,Te=>r.push(...Te));let Se=this.textMargin;const[_e,Ae]=this.getActualTextAlignment(),Ce=PlotElementExtensions.isTransposed(this)?this.yAxis.isReversed?1-this.textLinePosition:this.textLinePosition:this.xAxis.isReversed?1-this.textLinePosition:this.textLinePosition;_e===HorizontalAlignment.Center?Se=0:Se*=Ce<.5?1:-1;const Pe=PathAnnotation.getPointAtRelativeDistance(r,Ce,Se);if(!Pe)return;let{position:Ee,angle:Oe}=Pe;switch(Oe<-90&&(Oe+=180),Oe>=90&&(Oe-=180),this.textOrientation){case AnnotationTextOrientation.Horizontal:Oe=0;break;case AnnotationTextOrientation.Vertical:Oe=-90;break}const Me=Oe/180*Math.PI;let De=1;if(_e===HorizontalAlignment.Right&&(De=-1),_e===HorizontalAlignment.Center&&(De=0),Ee=screenPointPlus(Ee,newScreenVector(De*this.textPadding*Math.cos(Me),De*this.textPadding*Math.sin(Me))),this.text){const Te=this.getActualTextPosition(()=>Ee);DataPoint_isDefined(this.textPosition)&&(Oe=this.textRotation);const ke=e.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),Fe=TextAnnotation.getTextBounds(Ee,ke,this.borderPadding,Oe,_e,Ae);if(Oe%90==0){const $e=OxyRectHelper.fromScreenPoints(Fe[0],Fe[2]);await e.drawRectangle($e,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode)}else await e.drawPolygon(Fe,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode);await e.drawText(Te,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,Oe,_e,Ae)}}hitTestOverride(e){if(!this._screenPoints)return;const r=ScreenPointHelper.findNearestPointOnPolyline(e.point,this._screenPoints);if(screenPointMinusEx(e.point,r).length<e.tolerance)return{element:this,nearestHitPoint:r}}calculateActualMinimumsMaximums(){if(!this.xAxis)throw new Error("xAxis is undefined.");if(!this.yAxis)throw new Error("yAxis is undefined.");this.actualMinimumX=Math.max(this.minimumX,this.xAxis.clipMinimum),this.actualMaximumX=Math.min(this.maximumX,this.xAxis.clipMaximum),this.actualMinimumY=Math.max(this.minimumY,this.yAxis.clipMinimum),this.actualMaximumY=Math.min(this.maximumY,this.yAxis.clipMaximum);const e=new OxyRectEx(this.plotModel.plotArea),r=this.inverseTransform(e.topLeft),xe=this.inverseTransform(e.bottomRight);this.clipByXAxis||(this.actualMaximumX=Math.max(r.x,xe.x),this.actualMinimumX=Math.min(r.x,xe.x)),this.clipByYAxis||(this.actualMaximumY=Math.max(r.y,xe.y),this.actualMinimumY=Math.min(r.y,xe.y))}static getPointAtRelativeDistance(e,r,xe){if(!e||e.length===0)return;let Se=0;for(let Ce=1;Ce<e.length;Ce++)Se+=screenPointMinusEx(e[Ce],e[Ce-1]).length;const _e=Se*r+xe,Ae=1e-8;Se=0;for(let Ce=1;Ce<e.length;Ce++){const Pe=screenPointMinusEx(e[Ce],e[Ce-1]).length;if(_e>=Se-Ae&&_e<=Se+Pe+Ae){const Ee=(_e-Se)/Pe,Oe=e[Ce].x*Ee+e[Ce-1].x*(1-Ee),Me=e[Ce].y*Ee+e[Ce-1].y*(1-Ee),De=newScreenPoint(Oe,Me),Te=e[Ce].x-e[Ce-1].x,ke=e[Ce].y-e[Ce-1].y,Fe=Math.atan2(ke,Te)/Math.PI*180;return{position:De,angle:Fe}}Se+=Pe}}getElementDefaultValues(){return ExtendedDefaultPathAnnotationOptions}}var LineAnnotationType=(t=>(t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical",t[t.LinearEquation=2]="LinearEquation",t))(LineAnnotationType||{});const DefaultLineAnnotationOptions={intercept:0,slope:0,type:2,x:0,y:0},ExtendedDefaultLineAnnotationOptions={...ExtendedDefaultPathAnnotationOptions,...DefaultLineAnnotationOptions};class LineAnnotation extends PathAnnotation{constructor(e){super(e),__publicField(this,"intercept",DefaultLineAnnotationOptions.intercept),__publicField(this,"slope",DefaultLineAnnotationOptions.slope),__publicField(this,"type",DefaultLineAnnotationOptions.type),__publicField(this,"x",DefaultLineAnnotationOptions.x),__publicField(this,"y",DefaultLineAnnotationOptions.y),assignObject(this,DefaultLineAnnotationOptions,e)}getElementName(){return"LineAnnotation"}getScreenPoints(){let e,r;switch(this.type){case 0:e=_e=>this.y;break;case 1:r=_e=>this.x;break;default:e=_e=>this.slope*_e+this.intercept;break}const xe=[];if(!(this.xAxis instanceof LinearAxis&&this.yAxis instanceof LinearAxis)){if(e){const Ae=(this.actualMaximumX-this.actualMinimumX)/100;for(let Ce=0;Ce<=100;Ce++){const Pe=this.actualMinimumX+Ce*Ae;xe.push(newDataPoint(Pe,e(Pe)))}}else if(r){const Ae=(this.actualMaximumY-this.actualMinimumY)/100;for(let Ce=0;Ce<=100;Ce++){const Pe=this.actualMinimumY+Ce*Ae;xe.push(newDataPoint(r(Pe),Pe))}}}else if(e)xe.push(newDataPoint(this.actualMinimumX,e(this.actualMinimumX))),xe.push(newDataPoint(this.actualMaximumX,e(this.actualMaximumX)));else if(r)xe.push(newDataPoint(r(this.actualMinimumY),this.actualMinimumY)),xe.push(newDataPoint(r(this.actualMaximumY),this.actualMaximumY));else throw new Error("fx or fy must be non-undefined.");return xe.map(_e=>this.transform(_e))}getElementDefaultValues(){return ExtendedDefaultLineAnnotationOptions}}const DefaultShapeAnnotationOptions={fill:OxyColors.LightBlue,stroke:OxyColors.Black,strokeThickness:0},ExtendedDefaultShapeAnnotationOptions={...ExtendedDefaultTextualAnnotationOptions,...DefaultTextualAnnotationOptions};class ShapeAnnotation extends TextualAnnotation{constructor(e){super(e),__publicField(this,"fill",DefaultShapeAnnotationOptions.fill),__publicField(this,"stroke",DefaultShapeAnnotationOptions.stroke),__publicField(this,"strokeThickness",DefaultShapeAnnotationOptions.strokeThickness),assignObject(this,DefaultShapeAnnotationOptions,e)}}const DefaultPointAnnotationOptions={x:0,y:0,size:4,textMargin:2,shape:MarkerType.Circle,textVerticalAlignment:VerticalAlignment.Top,customOutline:void 0},ExtendedDefaultPointAnnotationOptions={...ExtendedDefaultShapeAnnotationOptions,...DefaultPointAnnotationOptions};class PointAnnotation extends ShapeAnnotation{constructor(e){super(e),__publicField(this,"_screenPosition",ScreenPoint_LeftTop),__publicField(this,"x",DefaultPointAnnotationOptions.x),__publicField(this,"y",DefaultPointAnnotationOptions.y),__publicField(this,"size",DefaultPointAnnotationOptions.size),__publicField(this,"textMargin",DefaultPointAnnotationOptions.textMargin),__publicField(this,"shape",DefaultPointAnnotationOptions.shape),__publicField(this,"customOutline"),assignObject(this,DefaultPointAnnotationOptions,e)}getElementName(){return"PointAnnotation"}async render(e){if(this._screenPosition=PlotElementExtensions.transform(this,this.x,this.y),await RenderingExtensions.drawMarker(e,this._screenPosition,this.shape,this.customOutline,this.size,this.fill,this.stroke,this.strokeThickness,this.edgeRenderingMode),this.text){const[r,xe]=this.getActualTextAlignment(),Se=-Number(r)*(this.size+this.textMargin),_e=-Number(xe)*(this.size+this.textMargin),Ae=screenPointPlus(this._screenPosition,newScreenVector(Se,_e));await e.drawText(Ae,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,r,xe)}}hitTestOverride(e){if(screenPointDistanceTo(this._screenPosition,e.point)<this.size)return{element:this,nearestHitPoint:this._screenPosition}}getElementDefaultValues(){return ExtendedDefaultPointAnnotationOptions}}var FunctionAnnotationType=(t=>(t[t.EquationX=0]="EquationX",t[t.EquationY=1]="EquationY",t))(FunctionAnnotationType||{});const DefaultFunctionAnnotationOptions={resolution:400,type:0,equation:void 0},ExtendedDefaultFunctionAnnotationOptions={...ExtendedDefaultPathAnnotationOptions,...DefaultFunctionAnnotationOptions};class FunctionAnnotation extends PathAnnotation{constructor(e){super(e),__publicField(this,"type",DefaultFunctionAnnotationOptions.type),__publicField(this,"equation"),__publicField(this,"resolution",DefaultFunctionAnnotationOptions.resolution),assignObject(this,DefaultFunctionAnnotationOptions,e)}getElementName(){return"FunctionAnnotation"}getScreenPoints(){let e,r;switch(this.type){case 0:e=this.equation;break;case 1:r=this.equation;break}const xe=[];if(e){let Se=this.actualMinimumX;const _e=(this.actualMaximumX-this.actualMinimumX)/this.resolution;for(;xe.push(newDataPoint(Se,e(Se))),!(Se>this.actualMaximumX);)Se+=_e}else if(r){let Se=this.actualMinimumY;const _e=(this.actualMaximumY-this.actualMinimumY)/this.resolution;for(;xe.push(newDataPoint(r(Se),Se)),!(Se>this.actualMaximumY);)Se+=_e}return xe.map(Se=>this.transform(Se))}getElementDefaultValues(){return ExtendedDefaultFunctionAnnotationOptions}toJSON(e){var r;const xe=super.toJSON(e);return xe.equation=(r=this.equation)==null?void 0:r.toString(),xe}}const DefaultArrowAnnotationOptions={color:OxyColors.Blue,headLength:10,headWidth:3,strokeThickness:2,lineStyle:LineStyle.Solid,lineJoin:LineJoin.Miter,arrowDirection:void 0,endPoint:void 0,startPoint:void 0,veeness:void 0},ExtendedDefaultArrowAnnotationOptions={...ExtendedDefaultTextualAnnotationOptions,...DefaultArrowAnnotationOptions};class ArrowAnnotation extends TextualAnnotation{constructor(e){super(e),__publicField(this,"_screenEndPoint",ScreenPoint_LeftTop),__publicField(this,"_screenStartPoint",ScreenPoint_LeftTop),__publicField(this,"arrowDirection",ScreenVector_Zero),__publicField(this,"color",DefaultArrowAnnotationOptions.color),__publicField(this,"endPoint",DataPoint_Zero),__publicField(this,"headLength",DefaultArrowAnnotationOptions.headLength),__publicField(this,"headWidth",DefaultArrowAnnotationOptions.headWidth),__publicField(this,"lineJoin",DefaultArrowAnnotationOptions.lineJoin),__publicField(this,"lineStyle",DefaultArrowAnnotationOptions.lineStyle),__publicField(this,"startPoint",DataPoint_Zero),__publicField(this,"strokeThickness",DefaultArrowAnnotationOptions.strokeThickness),__publicField(this,"veeness",0),assignObject(this,DefaultArrowAnnotationOptions,e)}getElementName(){return"ArrowAnnotation"}async render(e){this._screenEndPoint=this.transform(this.endPoint),ScreenVectorHelper.lengthSquared(this.arrowDirection)>0?this._screenStartPoint=screenPointMinusVector(this._screenEndPoint,PlotElementExtensions.orientateVector(this,this.arrowDirection)):this._screenStartPoint=this.transform(this.startPoint);const r=screenPointMinusEx(this._screenEndPoint,this._screenStartPoint).normalize(),xe=ScreenVectorEx.fromXY(r.y,-r.x),Se=screenPointMinusVector(this._screenEndPoint,r.times(this.headLength*this.strokeThickness)),_e=screenPointPlus(Se,xe.times(this.headWidth*this.strokeThickness)),Ae=screenPointMinusVector(Se,xe.times(this.headWidth*this.strokeThickness)),Ce=screenPointPlus(Se,r.times(this.veeness*this.strokeThickness)),Pe=0,Ee=LineStyleHelper.getDashArray(this.lineStyle);if(this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&(await RenderingExtensions.drawReducedLine(e,[this._screenStartPoint,Ce],Pe*Pe,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,Ee,this.lineJoin),await RenderingExtensions.drawReducedPolygon(e,[Ae,this._screenEndPoint,_e,Ce],Pe*Pe,this.getSelectableColor(this.color),OxyColors.Undefined,0,this.edgeRenderingMode)),!this.text)return;let Oe,Me;if(DataPoint_isDefined(this.textPosition))[Oe,Me]=this.getActualTextAlignment();else{const Te=Math.atan2(r.y,r.x),ke=Math.PI/8;Te<3*ke&&Te>-3*ke?Oe=HorizontalAlignment.Right:Te>5*ke||Te<-5*ke?Oe=HorizontalAlignment.Left:Oe=HorizontalAlignment.Center,Te>ke&&Te<7*ke?Me=VerticalAlignment.Bottom:Te<-ke&&Te>-7*ke?Me=VerticalAlignment.Top:Me=VerticalAlignment.Middle}const De=this.getActualTextPosition(()=>this._screenStartPoint);await e.drawText(De,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,Oe,Me)}hitTestOverride(e){if(screenPointMinusEx(e.point,this._screenStartPoint).length<e.tolerance)return{element:this,nearestHitPoint:this._screenStartPoint,index:0};if(screenPointMinusEx(e.point,this._screenEndPoint).length<e.tolerance)return{element:this,nearestHitPoint:this._screenEndPoint,index:2};const r=ScreenPointHelper.findPointOnLine(e.point,this._screenStartPoint,this._screenEndPoint);if(screenPointMinusEx(r,e.point).length<e.tolerance)return{element:this,nearestHitPoint:r}}getElementDefaultValues(){return ExtendedDefaultArrowAnnotationOptions}}const ExtendedDefaultDelegateAnnotationOptions=ExtendedDefaultAnnotationOptions;class DelegateAnnotation extends Annotation{constructor(e){super(),__publicField(this,"rendering"),this.rendering=e}getElementName(){return"DelegateAnnotation"}async render(e){await this.rendering(e)}getClippingRect(){return OxyRect_Everything}getElementDefaultValues(){return ExtendedDefaultDelegateAnnotationOptions}}const DefaultEllipseAnnotationOptions={x:0,y:0,width:NaN,height:NaN},ExtendedDefaultEllipseAnnotationOptions={...ExtendedDefaultShapeAnnotationOptions,...DefaultEllipseAnnotationOptions};class EllipseAnnotation extends ShapeAnnotation{constructor(e){super(e),__publicField(this,"_screenRectangle",OxyRect_Empty),__publicField(this,"x",DefaultEllipseAnnotationOptions.x),__publicField(this,"y",DefaultEllipseAnnotationOptions.y),__publicField(this,"width",DefaultEllipseAnnotationOptions.width),__publicField(this,"height",DefaultEllipseAnnotationOptions.height),assignObject(this,DefaultEllipseAnnotationOptions,e)}getElementName(){return"EllipseAnnotation"}async render(e){const r=PlotElementExtensions.transform(this,this.x-this.width/2,this.y-this.height/2),xe=PlotElementExtensions.transform(this,this.x+this.width/2,this.y+this.height/2);if(this._screenRectangle=OxyRectHelper.fromScreenPoints(r,xe),await e.drawEllipse(this._screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode),this.text){const Se=this.getActualTextPosition(()=>OxyRectHelper.center(this._screenRectangle)),[_e,Ae]=this.getActualTextAlignment();await e.drawText(Se,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,_e,Ae)}}hitTestOverride(e){if(OxyRectHelper.containsPoint(this._screenRectangle,e.point))return{element:this,nearestHitPoint:e.point}}getElementDefaultValues(){return ExtendedDefaultEllipseAnnotationOptions}}const DefaultPolygonAnnotationOptions={lineJoin:LineJoin.Miter,lineStyle:LineStyle.Solid,minimumSegmentLength:2,points:void 0},ExtendedDefaultPolygonAnnotationOptions={...ExtendedDefaultShapeAnnotationOptions,...DefaultPolygonAnnotationOptions};class PolygonAnnotation extends ShapeAnnotation{constructor(e){super(e),__publicField(this,"_screenPoints",[]),__publicField(this,"lineJoin",DefaultPolygonAnnotationOptions.lineJoin),__publicField(this,"lineStyle",DefaultPolygonAnnotationOptions.lineStyle),__publicField(this,"minimumSegmentLength",DefaultPolygonAnnotationOptions.minimumSegmentLength),__publicField(this,"points",[]),assignObject(this,DefaultPolygonAnnotationOptions,e)}getElementName(){return"PolygonAnnotation"}async render(e){if(this.points&&(this._screenPoints=this.points.map(r=>this.transform(r)),this._screenPoints.length!==0&&(await RenderingExtensions.drawReducedPolygon(e,this._screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode,this.lineStyle,this.lineJoin),this.text))){const[r,xe]=this.getActualTextAlignment(),Se=this.getActualTextPosition(()=>ScreenPointHelper.getCentroid(this._screenPoints));await e.drawText(Se,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,r,xe)}}hitTestOverride(e){if(!(!this._screenPoints||this._screenPoints.length===0))return ScreenPointHelper.isPointInPolygon(e.point,this._screenPoints)?{element:this,nearestHitPoint:e.point}:void 0}getElementDefaultValues(){return ExtendedDefaultPolygonAnnotationOptions}}const DefaultPolylineOptions={interpolationAlgorithm:void 0,points:void 0},ExtendedDefaultPolylineOptions={...ExtendedDefaultPathAnnotationOptions,...DefaultPolylineOptions};class PolylineAnnotation extends PathAnnotation{constructor(e){super(e),__publicField(this,"points",[]),__publicField(this,"interpolationAlgorithm"),assignObject(this,DefaultPolylineOptions,e)}getElementName(){return"PolylineAnnotation"}getScreenPoints(){const e=this.points.map(r=>this.transform(r));if(this.interpolationAlgorithm){const r=ScreenPointHelper.resamplePoints(e,this.minimumSegmentLength);return this.interpolationAlgorithm.createSplineSp(r,!1,.25)}return this.points.map(r=>this.transform(r))}getElementDefaultValues(){return ExtendedDefaultPolylineOptions}}const DefaultRectangleAnnotationOptions={minimumX:-1/0,maximumX:1/0,minimumY:-1/0,maximumY:1/0},ExtendedDefaultRectangleAnnotationOptions={...ExtendedDefaultShapeAnnotationOptions,...DefaultRectangleAnnotationOptions};class RectangleAnnotation extends ShapeAnnotation{constructor(e){super(e),__publicField(this,"_screenRectangle",OxyRect_Empty),__publicField(this,"minimumX",DefaultRectangleAnnotationOptions.minimumX),__publicField(this,"maximumX",DefaultRectangleAnnotationOptions.maximumX),__publicField(this,"minimumY",DefaultRectangleAnnotationOptions.minimumY),__publicField(this,"maximumY",DefaultRectangleAnnotationOptions.maximumY),assignObject(this,DefaultRectangleAnnotationOptions,e)}getElementName(){return"RectangleAnnotation"}async render(e){const r=OxyRectEx.fromRect(this.getClippingRect()),xe=this.inverseTransform(r.topLeft),Se=this.inverseTransform(r.bottomRight),_e=this.minimumX===-1/0||isNaN(this.minimumX)?Math.min(xe.x,Se.x):this.minimumX,Ae=this.maximumX===1/0||isNaN(this.maximumX)?Math.max(xe.x,Se.x):this.maximumX,Ce=this.minimumY===-1/0||isNaN(this.minimumY)?Math.min(xe.y,Se.y):this.minimumY,Pe=this.maximumY===1/0||isNaN(this.maximumY)?Math.max(xe.y,Se.y):this.maximumY,Ee=PlotElementExtensions.transform;this._screenRectangle=OxyRectHelper.fromScreenPoints(Ee(this,_e,Ce),Ee(this,Ae,Pe));const Oe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);if(await e.drawRectangle(this._screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,Oe),this.text){const[Me,De]=this.getActualTextAlignment(),Te=this.getActualTextPosition(()=>OxyRectHelper.center(this._screenRectangle));await e.drawText(Te,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,Me,De)}}hitTestOverride(e){if(OxyRectHelper.containsPoint(this._screenRectangle,e.point))return{element:this,nearestHitPoint:e.point}}getElementDefaultValues(){return ExtendedDefaultRectangleAnnotationOptions}}const DefaultImageAnnotationOptions={x:newPlotLength(.5,PlotLengthUnit.RelativeToPlotArea),y:newPlotLength(.5,PlotLengthUnit.RelativeToPlotArea),offsetX:newPlotLength(0,PlotLengthUnit.ScreenUnits),offsetY:newPlotLength(0,PlotLengthUnit.ScreenUnits),width:newPlotLength(NaN,PlotLengthUnit.ScreenUnits),height:newPlotLength(NaN,PlotLengthUnit.ScreenUnits),opacity:1,interpolate:!0,horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Middle,imageSource:void 0},ExtendedDefaultImageAnnotationOptions={...ExtendedDefaultTransposableAnnotationOptions,...DefaultImageAnnotationOptions};class ImageAnnotation extends TransposableAnnotation{constructor(e){super(e),__publicField(this,"actualBounds",OxyRect_Empty),__publicField(this,"imageSource"),__publicField(this,"x",DefaultImageAnnotationOptions.x),__publicField(this,"y",DefaultImageAnnotationOptions.y),__publicField(this,"offsetX",DefaultImageAnnotationOptions.offsetX),__publicField(this,"offsetY",DefaultImageAnnotationOptions.offsetY),__publicField(this,"width",DefaultImageAnnotationOptions.width),__publicField(this,"height",DefaultImageAnnotationOptions.height),__publicField(this,"opacity",DefaultImageAnnotationOptions.opacity),__publicField(this,"interpolate",DefaultImageAnnotationOptions.interpolate),__publicField(this,"horizontalAlignment",DefaultImageAnnotationOptions.horizontalAlignment),__publicField(this,"verticalAlignment",DefaultImageAnnotationOptions.verticalAlignment),assignObject(this,DefaultImageAnnotationOptions,e)}getElementName(){return"ImageAnnotation"}async render(e){if(!this.imageSource)throw new Error(`${this.imageSource} must be non-null before rendering.`);const r=this.getPoint(this.x,this.y,this.plotModel),xe=this.getVector(this.offsetX,this.offsetY,this.plotModel),Se=screenPointPlus(r,xe),_e=this.getVector(this.width,this.height,this.plotModel);let Ae=_e.x,Ce=_e.y;isNaN(Ae)&&isNaN(Ce)&&(Ae=this.imageSource.width,Ce=this.imageSource.height),isNaN(Ae)&&(Ae=Ce/this.imageSource.height*this.imageSource.width),isNaN(Ce)&&(Ce=Ae/this.imageSource.width*this.imageSource.height),Ae=Math.abs(Ae),Ce=Math.abs(Ce);let Pe=Se.x,Ee=Se.y;const Oe=this.horizontalAlignment,Me=this.verticalAlignment;Oe===HorizontalAlignment.Center?Pe-=Ae*.5:Oe===HorizontalAlignment.Right&&(Pe-=Ae),Me===VerticalAlignment.Middle?Ee-=Ce*.5:Me===VerticalAlignment.Bottom&&(Ee-=Ce),this.actualBounds=newOxyRect(Pe,Ee,Ae,Ce),await RenderingExtensions.drawImage(e,this.imageSource,Pe,Ee,Ae,Ce,this.opacity,this.interpolate)}hitTestOverride(e){if(OxyRectHelper.containsPoint(this.actualBounds,e.point))return{element:this,nearestHitPoint:e.point}}getPoint(e,r,xe){let Se=NaN,_e=NaN;if(e.unit===PlotLengthUnit.Data||r.unit===PlotLengthUnit.Data){const Ae=e.unit===PlotLengthUnit.Data?e.value:NaN,Ce=r.unit===PlotLengthUnit.Data?r.value:NaN,Pe=PlotElementExtensions.transform(this,Ae,Ce);Se=Pe.x,_e=Pe.y}switch(e.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:Se=e.value;break;case PlotLengthUnit.RelativeToViewport:Se=xe.width*e.value;break;case PlotLengthUnit.RelativeToPlotArea:Se=xe.plotArea.left+xe.plotArea.width*e.value;break;default:throw new Error("Invalid unit")}switch(r.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:_e=r.value;break;case PlotLengthUnit.RelativeToViewport:_e=xe.height*r.value;break;case PlotLengthUnit.RelativeToPlotArea:_e=xe.plotArea.top+xe.plotArea.height*r.value;break;default:throw new Error("Invalid unit")}return newScreenPoint(Se,_e)}getVector(e,r,xe){let Se=NaN,_e=NaN;if(e.unit===PlotLengthUnit.Data||r.unit===PlotLengthUnit.Data){const Ae=e.unit===PlotLengthUnit.Data?e.value:NaN,Ce=r.unit===PlotLengthUnit.Data?r.value:NaN,Pe=PlotElementExtensions.transform(this,Ae,Ce),Ee=screenPointMinus(Pe,this.transform(DataPoint_Zero));Se=Ee.x,_e=Ee.y}switch(e.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:Se=e.value;break;case PlotLengthUnit.RelativeToViewport:Se=xe.width*e.value;break;case PlotLengthUnit.RelativeToPlotArea:Se=xe.plotArea.width*e.value;break;default:throw new Error("Invalid unit")}switch(r.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:_e=r.value;break;case PlotLengthUnit.RelativeToViewport:_e=xe.height*r.value;break;case PlotLengthUnit.RelativeToPlotArea:_e=xe.plotArea.height*r.value;break;default:throw new Error("Invalid unit")}return newScreenVector(Se,_e)}getClippingRect(){return this.x.unit===PlotLengthUnit.Data||this.y.unit===PlotLengthUnit.Data?super.getClippingRect():OxyRect_Everything}getElementDefaultValues(){return ExtendedDefaultImageAnnotationOptions}}const DefaultAxisOptions={position:AxisPosition.Left,positionTier:0,isAxisVisible:!0,layer:AxisLayer.BelowSeries,absoluteMaximum:Number_MAX_VALUE,absoluteMinimum:Number_MIN_VALUE,minimum:Number.NaN,maximum:Number.NaN,minorStep:Number.NaN,majorStep:Number.NaN,minimumMinorStep:0,minimumMajorStep:0,minimumMajorIntervalCount:2,maximumMajorIntervalCount:Number_MAX_VALUE,minimumPadding:.01,maximumPadding:.01,minimumRange:0,maximumRange:Number.POSITIVE_INFINITY,minimumDataMargin:0,maximumDataMargin:0,minimumMargin:0,maximumMargin:0,tickStyle:TickStyle.Outside,ticklineColor:OxyColors.Black,minorTicklineColor:OxyColors.Automatic,axislineStyle:LineStyle.None,axislineColor:OxyColors.Black,axislineThickness:1,majorGridlineStyle:LineStyle.None,majorGridlineColor:OxyColorHelper.fromArgb(64,0,0,0),majorGridlineThickness:1,minorGridlineStyle:LineStyle.None,minorGridlineColor:OxyColorHelper.fromArgb(32,0,0,0),minorGridlineThickness:1,extraGridlineStyle:LineStyle.Solid,extraGridlineColor:OxyColors.Black,extraGridlineThickness:1,minorTickSize:4,majorTickSize:7,startPosition:0,endPosition:1,titlePosition:.5,titleFormatter:void 0,titleClippingLength:.9,titleColor:OxyColors.Automatic,titleFontSize:Number.NaN,titleFontWeight:FontWeights.Normal,clipTitle:!0,useSuperExponentialFormat:!1,angle:0,isZoomEnabled:!0,isPanEnabled:!0,positionAtZeroCrossing:!1,intervalLength:60,cropGridlines:!1,axisTickToLabelDistance:4,axisTitleDistance:4,axisDistance:0,filterMinValue:Number_MIN_VALUE,filterMaxValue:Number_MAX_VALUE,positionTierMaxShift:0,positionTierMinShift:0,positionTierSize:0,extraGridlines:void 0,stringFormatter:void 0,title:void 0,unit:void 0,key:void 0,filterFunction:void 0,dataMaximum:void 0,dataMinimum:void 0,labelFormatter:void 0},ExtendedDefaultAxisOptions={...ExtendedDefaultPlotElementOptions,...DefaultAxisOptions},_Axis=class Ia extends PlotElement{constructor(e){super(e),__publicField(this,"_offset",0),__publicField(this,"_scale",1),__publicField(this,"axisChanged"),__publicField(this,"transformChanged"),__publicField(this,"absoluteMaximum",DefaultAxisOptions.absoluteMaximum),__publicField(this,"absoluteMinimum",DefaultAxisOptions.absoluteMinimum),__publicField(this,"_actualMajorStep",0),__publicField(this,"minimumMajorIntervalCount",DefaultAxisOptions.minimumMajorIntervalCount),__publicField(this,"maximumMajorIntervalCount",DefaultAxisOptions.maximumMajorIntervalCount),__publicField(this,"_actualMaximum",0),__publicField(this,"_actualMinimum",0),__publicField(this,"_clipMaximum",0),__publicField(this,"_clipMinimum",0),__publicField(this,"_actualMinorStep",0),__publicField(this,"_actualStringFormatter"),__publicField(this,"angle",DefaultAxisOptions.angle),__publicField(this,"axisTickToLabelDistance",DefaultAxisOptions.axisTickToLabelDistance),__publicField(this,"axisTitleDistance",DefaultAxisOptions.axisTitleDistance),__publicField(this,"axisDistance",DefaultAxisOptions.axisDistance),__publicField(this,"axislineColor",DefaultAxisOptions.axislineColor),__publicField(this,"axislineStyle",DefaultAxisOptions.axislineStyle),__publicField(this,"axislineThickness",DefaultAxisOptions.axislineThickness),__publicField(this,"clipTitle",DefaultAxisOptions.clipTitle),__publicField(this,"cropGridlines",DefaultAxisOptions.cropGridlines),__publicField(this,"_dataMaximum",Number.NaN),__publicField(this,"_dataMinimum",Number.NaN),__publicField(this,"endPosition",DefaultAxisOptions.endPosition),__publicField(this,"extraGridlineColor",DefaultAxisOptions.extraGridlineColor),__publicField(this,"extraGridlineStyle",DefaultAxisOptions.extraGridlineStyle),__publicField(this,"extraGridlineThickness",DefaultAxisOptions.extraGridlineThickness),__publicField(this,"extraGridlines"),__publicField(this,"filterFunction"),__publicField(this,"filterMaxValue",DefaultAxisOptions.filterMaxValue),__publicField(this,"filterMinValue",DefaultAxisOptions.filterMinValue),__publicField(this,"intervalLength",DefaultAxisOptions.intervalLength),__publicField(this,"isAxisVisible",DefaultAxisOptions.isAxisVisible),__publicField(this,"isPanEnabled",DefaultAxisOptions.isAxisVisible),__publicField(this,"isZoomEnabled",DefaultAxisOptions.isZoomEnabled),__publicField(this,"key"),__publicField(this,"labelFormatter"),__publicField(this,"layer",DefaultAxisOptions.layer),__publicField(this,"majorGridlineColor",DefaultAxisOptions.majorGridlineColor),__publicField(this,"majorGridlineStyle",DefaultAxisOptions.majorGridlineStyle),__publicField(this,"majorGridlineThickness",DefaultAxisOptions.majorGridlineThickness),__publicField(this,"majorStep",DefaultAxisOptions.majorStep),__publicField(this,"majorTickSize",DefaultAxisOptions.majorTickSize),__publicField(this,"maximum",DefaultAxisOptions.maximum),__publicField(this,"maximumPadding",DefaultAxisOptions.maximumPadding),__publicField(this,"maximumDataMargin",DefaultAxisOptions.maximumDataMargin),__publicField(this,"maximumMargin",DefaultAxisOptions.maximumMargin),__publicField(this,"maximumRange",DefaultAxisOptions.maximumRange),__publicField(this,"minimum",DefaultAxisOptions.minimum),__publicField(this,"minimumMajorStep",DefaultAxisOptions.minimumMajorStep),__publicField(this,"minimumMinorStep",DefaultAxisOptions.minimumMinorStep),__publicField(this,"minimumPadding",DefaultAxisOptions.minimumPadding),__publicField(this,"minimumDataMargin",DefaultAxisOptions.minimumDataMargin),__publicField(this,"minimumMargin",DefaultAxisOptions.minimumMargin),__publicField(this,"minimumRange",DefaultAxisOptions.minimumRange),__publicField(this,"minorGridlineColor",DefaultAxisOptions.minorGridlineColor),__publicField(this,"minorGridlineStyle",DefaultAxisOptions.minorGridlineStyle),__publicField(this,"minorGridlineThickness",DefaultAxisOptions.minorGridlineThickness),__publicField(this,"minorStep",DefaultAxisOptions.majorStep),__publicField(this,"minorTicklineColor",DefaultAxisOptions.minorTicklineColor),__publicField(this,"minorTickSize",DefaultAxisOptions.minorTickSize),__publicField(this,"position",DefaultAxisOptions.position),__publicField(this,"positionAtZeroCrossing",DefaultAxisOptions.positionAtZeroCrossing),__publicField(this,"positionTier",DefaultAxisOptions.positionTier),__publicField(this,"_screenMax",ScreenPoint_Undefined),__publicField(this,"_screenMin",ScreenPoint_Undefined),__publicField(this,"startPosition",DefaultAxisOptions.startPosition),__publicField(this,"stringFormatter"),__publicField(this,"tickStyle",DefaultAxisOptions.tickStyle),__publicField(this,"ticklineColor",DefaultAxisOptions.ticklineColor),__publicField(this,"title"),__publicField(this,"titleClippingLength",DefaultAxisOptions.titleClippingLength),__publicField(this,"titleColor",DefaultAxisOptions.titleColor),__publicField(this,"titleFont"),__publicField(this,"titleFontSize",DefaultAxisOptions.titleFontSize),__publicField(this,"titleFontWeight",DefaultAxisOptions.titleFontWeight),__publicField(this,"titleFormatter",DefaultAxisOptions.titleFormatter),__publicField(this,"titlePosition",DefaultAxisOptions.titlePosition),__publicField(this,"unit"),__publicField(this,"useSuperExponentialFormat",DefaultAxisOptions.useSuperExponentialFormat),__publicField(this,"_desiredMargin",OxyThickness_Zero),__publicField(this,"positionTierMaxShift",DefaultAxisOptions.positionTierMaxShift),__publicField(this,"positionTierMinShift",DefaultAxisOptions.positionTierMinShift),__publicField(this,"positionTierSize",DefaultAxisOptions.positionTierSize),__publicField(this,"viewMaximum",Number.NaN),__publicField(this,"viewMinimum",Number.NaN),this.titleFormatter=Ia.DefaultTitleFormatter,assignMethod(this,"titleFormatter",e),assignMethod(this,"stringFormatter",e),assignMethod(this,"labelFormatter",e),assignObject(this,DefaultAxisOptions,e,{exclude:["titleFormatter","stringFormatter","labelFormatter"]}),isNaNOrUndef(this.maximumRange)&&(this.maximumRange=DefaultAxisOptions.maximumRange)}get actualMajorStep(){return this._actualMajorStep}set actualMajorStep(e){this._actualMajorStep=e}get actualMaximum(){return this._actualMaximum}set actualMaximum(e){this._actualMaximum=e}get actualMinimum(){return this._actualMinimum}set actualMinimum(e){this._actualMinimum=e}get clipMaximum(){return this._clipMaximum}set clipMaximum(e){this._clipMaximum=e}get clipMinimum(){return this._clipMinimum}set clipMinimum(e){this._clipMinimum=e}get actualMinorStep(){return this._actualMinorStep}set actualMinorStep(e){this._actualMinorStep=e}get actualStringFormatter(){return this._actualStringFormatter}set actualStringFormatter(e){this._actualStringFormatter=e}get actualTitle(){return this.unit?`${this.title} [${this.unit}]`:this.title}get dataMaximum(){return this._dataMaximum}set dataMaximum(e){this._dataMaximum=e}get dataMinimum(){return this._dataMinimum}set dataMinimum(e){this._dataMinimum=e}get isReversed(){return this.startPosition>this.endPosition}get offset(){return this._offset}get scale(){return this._scale}get screenMax(){return this._screenMax}set screenMax(e){this._screenMax=e}get screenMin(){return this._screenMin}set screenMin(e){this._screenMin=e}get desiredMargin(){return this._desiredMargin}set desiredMargin(e){this._desiredMargin=e}get actualTitleColor(){return OxyColorHelper.getActualColor(this.titleColor,this.plotModel.textColor)}get actualTitleFont(){return this.titleFont||this.plotModel.defaultFont}get actualTitleFontSize(){return isNaNOrUndef(this.titleFontSize)?this.actualFontSize:this.titleFontSize}get actualTitleFontWeight(){return isNaNOrUndef(this.titleFontWeight)?this.actualFontWeight:this.titleFontWeight}itemToDouble(e){return Number(e)}static inverseTransform(e,r,xe){return r.inverseTransformPoint(e.x,e.y,xe)}formatValue(e){return this.labelFormatter?this.labelFormatter(e):this.formatValueOverride(e)}getTickValues(){const e=[],r=[],xe=[],Se=this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep);return r.push(...this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep)),e.push(...r),xe.push(...AxisUtilities.filterRedundantMinorTicks(r,Se)),{majorLabelValues:e,majorTickValues:r,minorTickValues:xe}}getValue(e){return e}inverseTransformPoint(e,r,xe){return newDataPoint(this.inverseTransform(e),xe?xe.inverseTransform(r):0)}inverseTransform(e){return e/this._scale+this._offset}isHorizontal(){return this.position===AxisPosition.Top||this.position===AxisPosition.Bottom}isValidValue(e){return Number.isFinite(e)&&e<this.filterMaxValue&&e>this.filterMinValue&&(!this.filterFunction||this.filterFunction(e))}isVertical(){return this.position===AxisPosition.Left||this.position===AxisPosition.Right}isLogarithmic(){return!1}measure(e){if(this.position===AxisPosition.None){this.desiredMargin=newOxyThickness(0);return}const{majorLabelValues:r}=this.getTickValues();let xe=newOxySize();for(const De of r){const Te=this.formatValue(De),ke=RenderingExtensions.measureText(e,Te,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle);xe=OxySizeEx.include(xe,ke)}const Se=e.measureText(this.actualTitle||"",this.actualTitleFont,this.actualTitleFontSize,this.actualTitleFontWeight);let _e=0,Ae=0,Ce=0,Pe=0;const Ee=Math.max(0,this.isReversed?this.maximumMargin:this.minimumMargin),Oe=Math.max(0,this.isReversed?this.minimumMargin:this.maximumMargin);let Me=0;switch(this.tickStyle){case TickStyle.Outside:Me=this.majorTickSize;break;case TickStyle.Crossing:Me=this.majorTickSize*.75;break}switch(Me+=this.axisDistance+this.axisTickToLabelDistance,Se.height>0&&(Me+=this.axisTitleDistance+Se.height),this.position){case AxisPosition.Left:_e=Me+xe.width;break;case AxisPosition.Right:Ce=Me+xe.width;break;case AxisPosition.Top:Ae=Me+xe.height;break;case AxisPosition.Bottom:Pe=Me+xe.height;break;case AxisPosition.All:_e=Ce=Me+xe.width,Ae=Pe=Me+xe.height;break;default:throw new Error("Invalid operation")}if(this.isPanEnabled||this.isZoomEnabled){const De=Math.min(this.startPosition,this.endPosition)<.01,Te=Math.max(this.startPosition,this.endPosition)>.99;switch(this.position){case AxisPosition.Left:case AxisPosition.Right:De&&(Pe=Math.max(0,xe.height/2-Ee)),Te&&(Ae=Math.max(0,xe.height/2-Oe));break;case AxisPosition.Top:case AxisPosition.Bottom:De&&(_e=Math.max(0,xe.width/2-Ee)),Te&&(Ce=Math.max(0,xe.width/2-Oe));break}}else if(r.length>0){const De=Math.min(...r),Te=Math.max(...r),ke=this.formatValue(De),Fe=this.formatValue(Te);let $e=RenderingExtensions.measureText(e,ke,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),Be=RenderingExtensions.measureText(e,Fe,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),Ie=this.transform(De),Re=this.transform(Te);Ie>Re&&([Ie,Re]=[Re,Ie],[$e,Be]=[Be,$e]);let je=0,Ve=0,He=0,ze=0;switch(this.position){case AxisPosition.Left:case AxisPosition.Right:je=Math.min(this.screenMin.y,this.screenMax.y),Ve=Math.max(this.screenMin.y,this.screenMax.y),Ae=Math.max(0,je-Ie+$e.height/2-Ee),Pe=Math.max(0,Re-Ve+Be.height/2-Oe);break;case AxisPosition.Top:case AxisPosition.Bottom:He=Math.min(this.screenMin.x,this.screenMax.x),ze=Math.max(this.screenMin.x,this.screenMax.x),_e=Math.max(0,He-Ie+$e.width/2-Ee),Ce=Math.max(0,Re-ze+Be.width/2-Oe);break}}this.desiredMargin=newOxyThickness(_e,Ae,Ce,Pe)}pan(e,r){if(typeof e=="number"){this.pan2(e);return}this.pan1(e,r)}pan1(e,r){if(!this.isPanEnabled)return;const Se=this.isHorizontal()?r.x-e.x:r.y-e.y;this.pan(Se)}pan2(e){if(!this.isPanEnabled)return;const r=this.actualMinimum,xe=this.actualMaximum,Se=e/this._scale;let _e=this.actualMinimum-Se,Ae=this.actualMaximum-Se;_e<this.absoluteMinimum&&(_e=this.absoluteMinimum,Ae=Math.min(_e+this.actualMaximum-this.actualMinimum,this.absoluteMaximum)),Ae>this.absoluteMaximum&&(Ae=this.absoluteMaximum,_e=Math.max(Ae-(this.actualMaximum-this.actualMinimum),this.absoluteMinimum)),this.viewMinimum=_e,this.viewMaximum=Ae,this.updateActualMaxMin();const Ce=this.actualMinimum-r,Pe=this.actualMaximum-xe;this.onAxisChanged({changeType:AxisChangeTypes.Pan,deltaMaximum:Pe,deltaMinimum:Ce})}async render(e,r){if(this.position===AxisPosition.None)return;await new HorizontalAndVerticalAxisRenderer(e,this.plotModel).render(this,r)}reset(){const e=this.actualMinimum,r=this.actualMaximum;this.viewMinimum=NaN,this.viewMaximum=NaN,this.updateActualMaxMin();const xe=this.actualMinimum-e,Se=this.actualMaximum-r;this.onAxisChanged({changeType:AxisChangeTypes.Reset,deltaMinimum:xe,deltaMaximum:Se})}toString(){return`${this.constructor.name}(${this.position}, ${this.clipMinimum}, ${this.clipMaximum}, ${this.actualMajorStep})`}transformPoint(e,r,xe){if(!xe)throw new Error("Y axis should not be null when transforming.");return newScreenPoint(this.transform(e),xe.transform(r))}transform(e){return(e-this._offset)*this._scale}zoomScale(e){const r=this.actualMinimum,xe=this.actualMaximum,Se=this.transform(this.actualMaximum),_e=this.transform(this.actualMinimum),Ae=Math.sign(this._scale),Ce=(this.preTransform(this.actualMaximum)+this.preTransform(this.actualMinimum))/2,Ee=(this._offset-Ce)*this._scale/(Ae*e)+Ce;this.setTransform(Ae*e,Ee);let Oe=this.inverseTransform(Se),Me=this.inverseTransform(_e);if(Me<this.absoluteMinimum&&Oe>this.absoluteMaximum)Me=this.absoluteMinimum,Oe=this.absoluteMaximum;else if(Me<this.absoluteMinimum){const ke=Oe-Me;Me=this.absoluteMinimum,Oe=this.absoluteMinimum+ke,Oe>this.absoluteMaximum&&(Oe=this.absoluteMaximum)}else if(Oe>this.absoluteMaximum){const ke=Oe-Me;Oe=this.absoluteMaximum,Me=this.absoluteMaximum-ke,Me<this.absoluteMinimum&&(Me=this.absoluteMinimum)}this.clipMaximum=this.viewMaximum=Oe,this.clipMinimum=this.viewMinimum=Me,this.updateActualMaxMin();const De=this.actualMinimum-r,Te=this.actualMaximum-xe;this.actualMaximumAndMinimumChangedOverride(),this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:De,deltaMaximum:Te})}zoom(e,r){if(!this.isZoomEnabled)return;const xe=this.actualMinimum,Se=this.actualMaximum,_e=Math.max(Math.min(e,r),this.absoluteMinimum),Ae=Math.min(Math.max(e,r),this.absoluteMaximum);this.viewMinimum=_e,this.viewMaximum=Ae,this.updateActualMaxMin();const Ce=this.actualMinimum-xe,Pe=this.actualMaximum-Se;this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:Ce,deltaMaximum:Pe})}zoomAt(e,r){if(!this.isZoomEnabled)return;const xe=this.actualMinimum,Se=this.actualMaximum,_e=(this.actualMinimum-r)*this._scale,Ae=(this.actualMaximum-r)*this._scale;this._scale*=e;let Ce=_e/this._scale+r,Pe=Ae/this._scale+r;if(Pe-Ce>this.maximumRange){const Me=(Ce+Pe)*.5;Pe=Me+this.maximumRange*.5,Ce=Me-this.maximumRange*.5}if(Pe-Ce<this.minimumRange){const Me=(Ce+Pe)*.5;Pe=Me+this.minimumRange*.5,Ce=Me-this.minimumRange*.5}Ce=Math.max(Ce,this.absoluteMinimum),Pe=Math.min(Pe,this.absoluteMaximum),this.viewMinimum=Ce,this.viewMaximum=Pe,this.updateActualMaxMin();const Ee=this.actualMinimum-xe,Oe=this.actualMaximum-Se;this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:Ee,deltaMaximum:Oe})}zoomAtCenter(e){const r=(this.transform(this.clipMaximum)+this.transform(this.clipMinimum))*.5,xe=this.inverseTransform(r);this.zoomAt(e,xe)}include(e){this.isValidValue(e)&&(this.dataMinimum=isNaNOrUndef(this.dataMinimum)?e:Math.min(this.dataMinimum,e),this.dataMaximum=isNaNOrUndef(this.dataMaximum)?e:Math.max(this.dataMaximum,e))}resetDataMaxMin(){this.dataMaximum=this.dataMinimum=this.actualMaximum=this.actualMinimum=NaN}updateActualMaxMin(){isNaNOrUndef(this.viewMaximum)?isNaNOrUndef(this.maximum)?this.actualMaximum=this.calculateActualMaximum():this.actualMaximum=this.maximum:this.actualMaximum=this.viewMaximum,isNaNOrUndef(this.viewMinimum)?isNaNOrUndef(this.minimum)?this.actualMinimum=this.calculateActualMinimum():this.actualMinimum=this.minimum:this.actualMinimum=this.viewMinimum,this.coerceActualMaxMin()}updateIntervals(e){const r=this.intervalLength;let xe=this.isHorizontal()?e.width:e.height;xe*=Math.abs(this.endPosition-this.startPosition),this.actualMajorStep=isNaNOrUndef(this.majorStep)?this.calculateActualInterval(xe,r,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount):this.majorStep,this.actualMinorStep=isNaNOrUndef(this.minorStep)?this.calculateMinorInterval(this.actualMajorStep):this.minorStep,isNaNOrUndef(this.actualMinorStep)&&(this.actualMinorStep=2),isNaNOrUndef(this.actualMajorStep)&&(this.actualMajorStep=10),this.actualMinorStep=Math.max(this.actualMinorStep,this.minimumMinorStep),this.actualMajorStep=Math.max(this.actualMajorStep,this.minimumMajorStep),this.actualStringFormatter=this.stringFormatter||this.getDefaultStringFormatter()}updateTransform(e){const r=e.left,xe=OxyRectHelper.right(e),Se=OxyRectHelper.bottom(e),_e=e.top;let Ae=this.isHorizontal()?r:Se,Ce=this.isHorizontal()?xe:_e;const Pe=Ce-Ae;Ce=Ae+this.endPosition*Pe,Ae=Ae+this.startPosition*Pe;const Ee=this.isHorizontal()!=this.isReversed?1:-1;this.minimumMargin>0&&(Ae+=this.minimumMargin*Ee),this.maximumMargin>0&&(Ce-=this.maximumMargin*Ee),this.isHorizontal()?(this.screenMin=newScreenPoint(Ae,_e),this.screenMax=newScreenPoint(Ce,Se)):this.isVertical()&&(this.screenMin=newScreenPoint(r,Ce),this.screenMax=newScreenPoint(xe,Ae)),this.minimumDataMargin>0&&(Ae+=this.minimumDataMargin*Ee),this.maximumDataMargin>0&&(Ce-=this.maximumDataMargin*Ee),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const Oe=this.preTransform(this.actualMaximum),Me=this.preTransform(this.actualMinimum),De=Ae-Ce;let Te,ke;Math.abs(De)>Number.EPSILON?Te=Ae/De*Oe-Ce/De*Me:Te=0;const Fe=Oe-Me;Math.abs(Fe)>Number.EPSILON?ke=(Ce-Ae)/Fe:ke=1,this.setTransform(ke,Te),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(Ae-this.minimumDataMargin*Ee):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(Ce+this.maximumDataMargin*Ee):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}actualMaximumAndMinimumChangedOverride(){}getDefaultStringFormatter(){return e=>pettyNumber(e,4)}postInverseTransform(e){return e}preTransform(e){return e}calculateMinorInterval(e){return AxisUtilities.calculateMinorInterval(e)}createTickValues(e,r,xe,Se=1e3){return AxisUtilities.createTickValues(e,r,xe,Se)}coerceActualMaxMin(){if(this.absoluteMaximum<=this.absoluteMinimum)throw new Error("AbsoluteMaximum must be larger than AbsoluteMinimum.");if(this.absoluteMaximum-this.absoluteMinimum<this.minimumRange)throw new Error("MinimumRange must not be larger than AbsoluteMaximum-AbsoluteMinimum.");if(this.maximumRange<this.minimumRange)throw new Error("MinimumRange must not be larger than MaximumRange.");if((isNaNOrUndef(this.actualMinimum)||isInfinity(this.actualMinimum))&&(this.actualMinimum=0),(isNaNOrUndef(this.actualMaximum)||isInfinity(this.actualMaximum))&&(this.actualMaximum=100),this.absoluteMinimum>Number_MIN_VALUE&&this.absoluteMinimum<Number_MAX_VALUE&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMinimum),this.maximumRange<Number_MAX_VALUE&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMinimum+this.maximumRange))),this.absoluteMaximum>Number_MIN_VALUE&&this.absoluteMaximum<Number_MAX_VALUE&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMaximum),this.maximumRange<Number_MAX_VALUE&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMaximum-this.maximumRange))),this.actualMaximum-this.actualMinimum<this.minimumRange)if(this.actualMinimum+this.minimumRange<this.absoluteMaximum){const e=(this.actualMaximum+this.actualMinimum)*.5,r=this.minimumRange/2;if(this.actualMinimum=e-r,this.actualMaximum=e+r,this.actualMinimum<this.absoluteMinimum){const xe=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=xe}if(this.actualMaximum>this.absoluteMaximum){const xe=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=xe}}else this.absoluteMaximum-this.minimumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.minimumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);if(this.actualMaximum-this.actualMinimum>this.maximumRange)if(this.actualMinimum+this.maximumRange<this.absoluteMaximum){const e=(this.actualMaximum+this.actualMinimum)*.5,r=this.maximumRange/2;if(this.actualMinimum=e-r,this.actualMaximum=e+r,this.actualMinimum<this.absoluteMinimum){const xe=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=xe}if(this.actualMaximum>this.absoluteMaximum){const xe=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=xe}}else this.absoluteMaximum-this.maximumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.maximumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum+100)}formatValueOverride(e){let r=this.stringFormatter;if(this.useSuperExponentialFormat&&e!==0){const xe=Ia.Exponent(e),Se=Ia.Mantissa(e);if(r){if(typeof r=="function")return`${r(e)}10^{${xe}}`}else return Math.abs(Se-1)<1e-6?`10^{${xe}}`:`${Se}10^{${xe}}`;throw new Error("invalid stringFormat")}if(r=this.actualStringFormatter||this.stringFormatter,typeof r=="function")return r(e);if(!r)return e.toString();throw new Error("invalid stringFormat")}calculateActualMaximum(){let e=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<=0){const xe=this.dataMaximum>0?this.dataMaximum:1;e+=xe*.5}if(!isNaNOrUndef(this.dataMinimum)&&!isNaNOrUndef(e)){const xe=this.preTransform(e),Se=this.preTransform(this.dataMinimum),_e=this.maximumPadding*(xe-Se);return this.postInverseTransform(xe+_e)}return e}calculateActualMinimum(){let e=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<=0){const xe=this.dataMaximum>0?this.dataMaximum:1;e-=xe*.5}if(!isNaNOrUndef(this.actualMaximum)){const xe=this.preTransform(this.actualMaximum),Se=this.preTransform(e),_e=this.maximumPadding,Ae=this.minimumPadding*((xe-Se)/(1+_e));return this.postInverseTransform(Se-Ae)}return e}setTransform(e,r){this._scale=e,this._offset=r,this.onTransformChanged()}calculateActualInterval(e,r,xe,Se,_e){if(isNullOrUndef(_e)&&(_e=Math.abs(this.clipMinimum-this.clipMaximum)),e<=0)return r;if(Math.abs(r)<=0)throw new Error("Maximum interval size cannot be zero.");if(Math.abs(_e)<=0)throw new Error("Range cannot be zero.");const Ae=Me=>Math.ceil(Math.log10(Me)),Ce=Me=>Me/Math.pow(10,Ae(Me)-1);xe=Math.max(xe,0),Se=Math.min(Se,e/r),_e=Math.abs(_e);let Pe=Math.pow(10,Ae(_e)),Ee=Pe;const Oe=Me=>parseFloat(Me.toPrecision(14));for(;;){const Me=Ce(Ee);if(Me===5?Ee=Oe(Ee/2.5):Ee=Oe(Ee/2),_e/Pe>=xe&&_e/Ee>Se||isNaNOrUndef(Ee)||isInfinity(Ee))break;Pe=Ee}return Pe}onAxisChanged(e){this.updateActualMaxMin();const r=this.axisChanged;r&&r(this,e)}onTransformChanged(){const e=this.transformChanged;e&&e(this)}getJsonIgnoreProperties(){return[...super.getJsonIgnoreProperties(),"viewMaximum","viewMinimum","positionTierMaxShift","positionTierMinShift","positionTierSize"]}};__publicField(_Axis,"DefaultTitleFormatter",function(t,e){return`${t||""} [${e||""}]`});__publicField(_Axis,"Exponent",t=>Math.floor(_Axis.ThresholdRound(Math.log(Math.abs(t))/Math.LN10)));__publicField(_Axis,"Mantissa",t=>_Axis.ThresholdRound(t/Math.pow(10,_Axis.Exponent(t))));__publicField(_Axis,"ThresholdRound",t=>Math.abs(Math.round(t)-t)<1e-6?Math.round(t):t);let Axis=_Axis;const DefaultLinearAxisOptions={fractionUnit:1,formatAsFractions:!1,fractionUnitSymbol:void 0},ExtendedDefaultLinearAxisOptions={...ExtendedDefaultAxisOptions,...DefaultLinearAxisOptions};class LinearAxis extends Axis{constructor(e){super(e),__publicField(this,"formatAsFractions",DefaultLinearAxisOptions.formatAsFractions),__publicField(this,"fractionUnit",DefaultLinearAxisOptions.fractionUnit),__publicField(this,"fractionUnitSymbol"),assignObject(this,DefaultLinearAxisOptions,e)}getElementName(){return"LinearAxis"}isXyAxis(){return!0}isLogarithmic(){return!1}formatValueOverride(e){return this.formatAsFractions?FractionHelper.convertToFractionString(e,this.fractionUnit,this.fractionUnitSymbol,1e-6,this.stringFormatter):super.formatValueOverride(e)}getElementDefaultValues(){return ExtendedDefaultLinearAxisOptions}}const DefaultAngleAxisOptions={position:AxisPosition.All,tickStyle:TickStyle.None,isPanEnabled:!1,isZoomEnabled:!1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,startAngle:0,endAngle:360},ExtendedDefaultAngleAxisOptions={...ExtendedDefaultLinearAxisOptions,...DefaultAngleAxisOptions};class AngleAxis extends LinearAxis{constructor(e){super(e),__publicField(this,"startAngle",DefaultAngleAxisOptions.startAngle),__publicField(this,"endAngle",DefaultAngleAxisOptions.endAngle),assignObject(this,DefaultAngleAxisOptions,e)}getElementName(){return"AngleAxis"}getTickValues(){const e=this.startAngle/this.scale,r=this.endAngle/this.scale;let xe=this.createTickValues(e,r,this.actualMinorStep);const Se=this.createTickValues(e,r,this.actualMajorStep),_e=this.createTickValues(this.minimum,this.maximum,this.actualMajorStep);return xe=AxisUtilities.filterRedundantMinorTicks(Se,xe),{majorLabelValues:_e,majorTickValues:Se,minorTickValues:xe}}inverseTransformPoint(e,r,xe){throw new Error("Angle axis should always be the y-axis.")}isXyAxis(){return!1}async render(e,r){await new AngleAxisRenderer(e,this.plotModel).render(this,r)}transformPoint(e,r,xe){throw new Error("Angle axis should always be the y-axis.")}updateTransform(e){const r=e.left,xe=OxyRectHelper.right(e),Se=OxyRectHelper.bottom(e),_e=e.top;this.screenMin=newScreenPoint(r,_e),this.screenMax=newScreenPoint(xe,Se);const Ae=(this.endAngle-this.startAngle)/(this.actualMaximum-this.actualMinimum),Ce=this.actualMinimum-this.startAngle/Ae;this.setTransform(Ae,Ce),this.clipMinimum=this.actualMinimum,this.clipMaximum=this.actualMaximum}getElementDefaultValues(){return ExtendedDefaultAngleAxisOptions}}class AngleAxisFullPlotArea extends AngleAxis{constructor(e){super(e)}async render(e,r){await new AngleAxisFullPlotAreaRenderer(e,this.plotModel).render(this,r)}getElementName(){return"AngleAxisFullPlotArea"}}class AxisUtilities{static calculateMinorInterval(e){return Math.abs((Math.log10(e)+1e3)%1-Math.log10(2))<1e-10?e/4:e/5}static calculateMinorInterval2(e){const r=Math.ceil(Math.log(e)/Math.LN10);return(e/Math.pow(10,r-1)|0)===2?e/4:e/5}static createTickValues(e,r,xe,Se=1e3){if(xe<=0)throw new Error("Step cannot be zero or negative.");r<e&&(xe=-xe);const _e=xe*.001;e-=_e,r+=_e;let Ae=Math.ceil(e/xe)*xe;Math.abs(Ae)<Number.EPSILON&&(Ae=0);const Ce=[],Pe=Math.sign(xe);let Ee=0,Oe=Ae;for(;(r-Oe)*Pe>=0&&Ee<Se;)Ce.push(Oe),Oe=Ae+ ++Ee*xe;return Ce}static filterRedundantMinorTicks(e,r){if(e.length===0||r.length===0)return r;const xe=[];let Se=0,_e=1,Ae=e.length>1?e[_e]:e[0];const Ce=(Oe,Me)=>Math.abs(Oe-Me)*.001;let Pe=r.length>1?Ce(r[0],r[1]):0,Ee=1;e.length>1&&e[0]>e[1]&&(Ee=-1);for(let Oe=0;Oe<r.length;Oe++){const Me=r[Oe];for(Oe>0&&(Pe=Ce(Me,Se));(Ae-Me)*Ee<0&&_e<e.length-1;)Ae=e[++_e];const De=e[_e-1];Math.abs(Me-Ae)>Pe&&Math.abs(Me-De)>Pe&&xe.push(Me),Se=Me}return xe}}const DefaultCategoryAxisOptions={isTickCentered:!1,tickStyle:TickStyle.Outside,position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,majorStep:1,gapWidth:1,itemsSource:void 0,labelField:void 0},ExtendedDefaultCategoryAxisOptions={...ExtendedDefaultLinearAxisOptions,...DefaultCategoryAxisOptions};class CategoryAxis extends LinearAxis{constructor(e){super(e),__publicField(this,"_autoGeneratedLabels",[]),__publicField(this,"_itemsSourceLabels",[]),__publicField(this,"gapWidth",DefaultCategoryAxisOptions.gapWidth),__publicField(this,"isTickCentered",DefaultCategoryAxisOptions.isTickCentered),__publicField(this,"itemsSource"),__publicField(this,"labelField"),__publicField(this,"_labels",[]),e!=null&&e.labels&&(this._labels=e.labels,delete e.labels),assignObject(this,DefaultCategoryAxisOptions,e)}getElementName(){return"CategoryAxis"}get actualLabels(){return this.itemsSource?this._itemsSourceLabels:this.labels.length>0?this.labels:this._autoGeneratedLabels}get labels(){return this._labels}getTickValues(){const{majorLabelValues:e,majorTickValues:r,minorTickValues:xe}=super.getTickValues();if(xe.length=0,!this.isTickCentered){let _e=[];if(_e=e.map(Ae=>Ae-.5).filter(Ae=>Ae>this.clipMinimum-.001),_e.length>0){const Ae=_e[_e.length-1]+this.majorStep;Ae<this.clipMaximum+.001&&_e.push(Ae)}r.length=0,r.push(..._e)}return{majorLabelValues:e,majorTickValues:r,minorTickValues:xe}}getValue(e){return this.formatValue(e)}updateActualMaxMin(){this.include(-.5);const e=this.actualLabels;e.length>0?this.include(e.length-1+.5):this.include(.5),super.updateActualMaxMin(),this.minorStep=1}updateLabels(e){if(this.itemsSource){this._itemsSourceLabels.length=0;const r=[];for(let xe of this.itemsSource||[])xe=this.labelField?xe[this.labelField]:xe,this.stringFormatter?r.push(this.stringFormatter(xe)):r.push(xe.toString());this._itemsSourceLabels.push(...r);return}if(this.labels.length===0){if(this._autoGeneratedLabels.length===e)return;this._autoGeneratedLabels.length=0,this._autoGeneratedLabels.push(...Array.from({length:e},(r,xe)=>(xe+1).toString()))}}formatValueOverride(e){const r=Math.floor(e),xe=this.actualLabels;return r>=0&&r<xe.length?xe[r]:""}getElementDefaultValues(){return ExtendedDefaultCategoryAxisOptions}toJSON(e){const r=super.toJSON(e);return this._labels.length>0&&(r.labels=this._labels),r}}function isColorAxis(t){return t&&typeof t.getColor=="function"&&typeof t.getPaletteIndex=="function"}function toColorAxis(t){return t}const DefaultMagnitudeAxisOptions={midPoint:ScreenPoint_LeftTop,position:AxisPosition.None,isPanEnabled:!1,isZoomEnabled:!1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid},ExtendedDefaultMagnitudeAxisOptions={...ExtendedDefaultLinearAxisOptions,...DefaultMagnitudeAxisOptions};class MagnitudeAxis extends LinearAxis{constructor(e){super(e),__publicField(this,"midPoint",DefaultMagnitudeAxisOptions.midPoint),assignObject(this,DefaultMagnitudeAxisOptions,e)}getElementName(){return"MagnitudeAxis"}inverseTransformPoint(e,r,xe){if(!(xe instanceof AngleAxis))throw new Error("Polar angle axis not defined!");const Se=xe;e-=this.midPoint.x,r-=this.midPoint.y,r*=-1;const _e=Math.atan2(r,e);return e=Math.sqrt(e*e+r*r)/this.scale+this.offset,r=_e/Se.scale+Se.offset*Math.PI/180,newDataPoint(e,r)}isXyAxis(){return!1}async render(e,r){await new MagnitudeAxisRenderer(e,this.plotModel).render(this,r)}transformPoint(e,r,xe){if(!(xe instanceof AngleAxis))throw new Error("Polar angle axis not defined!");const Se=xe,_e=(e-this.offset)*this.scale,Ae=(r-Se.offset)*Se.scale;return newScreenPoint(this.midPoint.x+_e*Math.cos(Ae/180*Math.PI),this.midPoint.y-_e*Math.sin(Ae/180*Math.PI))}updateTransform(e){const r=e.left,xe=OxyRectHelper.right(e),Se=OxyRectHelper.bottom(e),_e=e.top;this.screenMin=newScreenPoint(r,_e),this.screenMax=newScreenPoint(xe,Se),this.midPoint=newScreenPoint((r+xe)/2,(Se+_e)/2);const Ae=Math.min(Math.abs(xe-r),Math.abs(_e-Se));let Ce=0,Pe=Ae*.5;const Ee=Pe-Ce;Pe=Ce+this.endPosition*Ee,Ce=Ce+this.startPosition*Ee;const Oe=this.isReversed?-1:1;this.minimumMargin>0&&(Ce+=this.minimumMargin*Oe),this.maximumMargin>0&&(Pe-=this.maximumMargin*Oe),this.minimumDataMargin>0&&(Ce+=this.minimumDataMargin*Oe),this.maximumDataMargin>0&&(Pe-=this.maximumDataMargin*Oe),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const Me=this.preTransform(this.actualMaximum),De=this.preTransform(this.actualMinimum),Te=Ce-Pe;let ke,Fe;Math.abs(Te)>Number.EPSILON?ke=Ce/Te*Me-Pe/Te*De:ke=0;const $e=Me-De;Math.abs($e)>Number.EPSILON?Fe=(Pe-Ce)/$e:Fe=1,this.setTransform(Fe,ke),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(Ae*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}getElementDefaultValues(){return ExtendedDefaultMagnitudeAxisOptions}}class AxisRendererBase{constructor(e,r){__publicField(this,"_plot"),__publicField(this,"rc"),__publicField(this,"minorTickValues",[]),__publicField(this,"axislinePen"),__publicField(this,"extraPen"),__publicField(this,"majorLabelValues",[]),__publicField(this,"majorPen"),__publicField(this,"majorTickPen"),__publicField(this,"majorTickValues",[]),__publicField(this,"minorPen"),__publicField(this,"minorTickPen"),__publicField(this,"zeroPen"),this._plot=r,this.rc=e}get plot(){return this._plot}get renderContext(){return this.rc}async render(e,r){if(!e)return;const{majorLabelValues:xe,majorTickValues:Se,minorTickValues:_e}=e.getTickValues();this.majorLabelValues=xe,this.majorTickValues=Se,this.minorTickValues=_e,this.createPens(e)}createPens(e){const r=OxyColorHelper.isAutomatic(e.minorTicklineColor)?e.ticklineColor:e.minorTicklineColor;this.minorPen=OxyPen.create(e.minorGridlineColor,e.minorGridlineThickness,e.minorGridlineStyle),this.majorPen=OxyPen.create(e.majorGridlineColor,e.majorGridlineThickness,e.majorGridlineStyle),this.minorTickPen=OxyPen.create(r,e.minorGridlineThickness),this.majorTickPen=OxyPen.create(e.ticklineColor,e.majorGridlineThickness),this.zeroPen=OxyPen.create(e.ticklineColor,e.majorGridlineThickness),this.extraPen=OxyPen.create(e.extraGridlineColor,e.extraGridlineThickness,e.extraGridlineStyle),this.axislinePen=OxyPen.create(e.axislineColor,e.axislineThickness,e.axislineStyle)}getTickPositions(e,r,xe,Se){let _e=0,Ae=0;const Pe=Se===AxisPosition.Top||Se===AxisPosition.Left?-1:1;switch(r){case TickStyle.Crossing:_e=-xe*Pe*.75,Ae=xe*Pe*.75;break;case TickStyle.Inside:_e=-xe*Pe;break;case TickStyle.Outside:Ae=xe*Pe;break}return[_e,Ae]}isWithin(e,r,xe){return e<r?!1:e<=xe}}class HorizontalAndVerticalAxisRenderer extends AxisRendererBase{constructor(e,r){super(e,r)}async render(e,r){await super.render(e,r);let xe=!0;const Se=e.axisDistance+e.positionTierMinShift,_e=e.positionTierSize-this.plot.axisTierDistance,Ae=this.plot.plotArea.left,Ce=OxyRectHelper.right(this.plot.plotArea),Pe=this.plot.plotArea.top,Ee=OxyRectHelper.bottom(this.plot.plotArea);let Oe=0,Me=0;switch(e.position){case AxisPosition.Left:Oe=Ae-Se;break;case AxisPosition.Right:Oe=Ce+Se;break;case AxisPosition.Top:Oe=Pe-Se;break;case AxisPosition.Bottom:Oe=Ee+Se;break}if(e.positionAtZeroCrossing){const De=e.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis;Oe=De.transform(0);const Te=e.isHorizontal()?De.screenMin.y:De.screenMin.x,ke=e.isHorizontal()?De.screenMax.y:De.screenMax.x;let Fe=Math.min(Te,ke),$e=Math.max(Te,ke);const Be=e.isHorizontal()?Pe:Ae,Ie=e.isHorizontal()?Ee:Ce;if(Fe=Math.max(Fe,Be),$e=Math.min($e,Ie),Oe<Fe){Oe=Fe;const Re=e.isHorizontal()?this.plot.plotAreaBorderThickness.top:this.plot.plotAreaBorderThickness.left,je=e.isHorizontal()?this.plot.plotArea.top:this.plot.plotArea.left;Oe<=je&&Re>0&&OxyColorHelper.isVisible(this.plot.plotAreaBorderColor)&&(xe=!1)}if(Oe>$e){Oe=$e;const Re=e.isHorizontal()?this.plot.plotAreaBorderThickness.bottom:this.plot.plotAreaBorderThickness.right,je=e.isHorizontal()?Ee:Ce;Oe>=je&&Re>0&&OxyColorHelper.isVisible(this.plot.plotAreaBorderColor)&&(xe=!1)}}switch(e.position){case AxisPosition.Left:Me=Oe-_e;break;case AxisPosition.Right:Me=Oe+_e;break;case AxisPosition.Top:Me=Oe-_e;break;case AxisPosition.Bottom:Me=Oe+_e;break}switch(e.position){case AxisPosition.Left:case AxisPosition.Top:Me+=e.axisDistance;break;case AxisPosition.Right:case AxisPosition.Bottom:Me-=e.axisDistance;break}r==0&&await this.renderMinorItems(e,Oe),r==1&&(await this.renderMajorItems(e,Oe,Me,xe),await this.renderAxisTitle(e,Me))}static lerp(e,r,xe){return e*(1-xe)+r*xe}static snapTo(e,r,xe=.5){return r>e-xe&&r<e+xe?e:r}getAxisTitlePositionAndAlignment(e,r){let xe=-90,Se=HorizontalAlignment.Center,_e=VerticalAlignment.Top,Ae=e.isHorizontal()?HorizontalAndVerticalAxisRenderer.lerp(e.screenMin.x,e.screenMax.x,e.titlePosition):HorizontalAndVerticalAxisRenderer.lerp(e.screenMax.y,e.screenMin.y,e.titlePosition);e.positionAtZeroCrossing&&(Ae=HorizontalAndVerticalAxisRenderer.lerp(e.transform(e.clipMaximum),e.transform(e.clipMinimum),e.titlePosition));let Ce=ScreenPoint_LeftTop;switch(e.position){case AxisPosition.Left:Ce=newScreenPoint(r,Ae);break;case AxisPosition.Right:_e=VerticalAlignment.Bottom,Ce=newScreenPoint(r,Ae);break;case AxisPosition.Top:Se=HorizontalAlignment.Center,_e=VerticalAlignment.Top,xe=0,Ce=newScreenPoint(Ae,r);break;case AxisPosition.Bottom:Se=HorizontalAlignment.Center,_e=VerticalAlignment.Bottom,xe=0,Ce=newScreenPoint(Ae,r);break;default:throw new Error("Invalid axis position")}return{point:Ce,angle:xe,halign:Se,valign:_e}}async renderAxisTitle(e,r){if(!e.actualTitle)return;const xe=e.isHorizontal();let Se;if(e.clipTitle){const Ee=Math.abs(xe?e.screenMax.x-e.screenMin.x:e.screenMax.y-e.screenMin.y);Se=newOxySize(Ee*e.titleClippingLength,Number_MAX_VALUE)}const{point:_e,angle:Ae,halign:Ce,valign:Pe}=this.getAxisTitlePositionAndAlignment(e,r);await MathRenderingExtensions.drawMathText(this.renderContext,_e,e.actualTitle,e.actualTitleColor,e.actualTitleFont,e.actualTitleFontSize,e.actualTitleFontWeight,Ae,Ce,Pe,Se)}async renderMajorItems(e,r,xe,Se){const _e=e.actualMinorStep*.001,Ae=e.clipMinimum,Ce=e.clipMaximum,Pe=this.plot.plotArea.left,Ee=OxyRectHelper.right(this.plot.plotArea),Oe=this.plot.plotArea.top,Me=OxyRectHelper.bottom(this.plot.plotArea),De=e.isHorizontal(),Te=e.cropGridlines,ke=[],Fe=[],[$e,Be]=this.getTickPositions(e,e.tickStyle,e.majorTickSize,e.position),Ie=e.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis,Re=e.positionAtZeroCrossing&&(Ie==null?void 0:Ie.positionAtZeroCrossing);let je=[];Te&&(De?je=this.plot.axes.filter(ze=>ze.isXyAxis()&&ze.isVertical()):je=this.plot.axes.filter(ze=>ze.isXyAxis()&&ze.isHorizontal()));const Ve=HorizontalAndVerticalAxisRenderer.snapTo;for(const ze of this.majorTickValues){if(Re&&Math.abs(ze)<_e)continue;let Ue=e.transform(ze);De?(Ue=Ve(Pe,Ue),Ue=Ve(Ee,Ue)):(Ue=Ve(Oe,Ue),Ue=Ve(Me,Ue)),this.majorPen&&this.addSegments(ke,je,De,Te,Ue,Pe,Ee,Oe,Me),e.tickStyle!=TickStyle.None&&e.majorTickSize>0&&(De?(Fe.push(newScreenPoint(Ue,r+$e)),Fe.push(newScreenPoint(Ue,r+Be))):(Fe.push(newScreenPoint(r+$e,Ue)),Fe.push(newScreenPoint(r+Be,Ue))))}for(const ze of this.majorLabelValues){if(ze<Ae-_e||ze>Ce+_e||Re&&Math.abs(ze)<_e)continue;let Ue=e.transform(ze);De?(Ue=Ve(Pe,Ue),Ue=Ve(Ee,Ue)):(Ue=Ve(Oe,Ue),Ue=Ve(Me,Ue));let We=ScreenPoint_LeftTop,qe=[HorizontalAlignment.Center,VerticalAlignment.Middle];switch(e.position){case AxisPosition.Left:We=newScreenPoint(r+Be-e.axisTickToLabelDistance,Ue),qe=this.getRotatedAlignments(e.angle,-90);break;case AxisPosition.Right:We=newScreenPoint(r+Be+e.axisTickToLabelDistance,Ue),qe=this.getRotatedAlignments(e.angle,90);break;case AxisPosition.Top:We=newScreenPoint(Ue,r+Be-e.axisTickToLabelDistance),qe=this.getRotatedAlignments(e.angle,0);break;case AxisPosition.Bottom:We=newScreenPoint(Ue,r+Be+e.axisTickToLabelDistance),qe=this.getRotatedAlignments(e.angle,-180);break}const[Ge,Ye]=qe,Qe=e.formatValue(ze);await MathRenderingExtensions.drawMathText(this.renderContext,We,Qe,e.actualTextColor,e.actualFont,e.actualFontSize,e.actualFontWeight,e.angle,Ge,Ye)}const He=RenderingExtensions.getActualEdgeRenderingMode(e.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);if(e.extraGridlines&&this.extraPen){const ze=[];for(const Ue of e.extraGridlines){if(!this.isWithin(Ue,Ae,Ce))continue;const We=e.transform(Ue);this.addSegments(ze,je,De,Te,We,Pe,Ee,Oe,Me)}await RenderingExtensions.drawLineSegments(this.renderContext,ze,this.extraPen,He)}Se&&(De?await RenderingExtensions.drawLine(this.renderContext,e.transform(Ae),r,e.transform(Ce),r,this.axislinePen,He):await RenderingExtensions.drawLine(this.renderContext,r,e.transform(Ae),r,e.transform(Ce),this.axislinePen,He)),this.majorPen&&await RenderingExtensions.drawLineSegments(this.renderContext,ke,this.majorPen,He),this.majorTickPen&&await RenderingExtensions.drawLineSegments(this.renderContext,Fe,this.majorTickPen,He)}async renderMinorItems(e,r){const xe=e.actualMinorStep*.001,Se=this.plot.plotArea.left,_e=OxyRectHelper.right(this.plot.plotArea),Ae=this.plot.plotArea.top,Ce=OxyRectHelper.bottom(this.plot.plotArea),Pe=e.cropGridlines,Ee=e.isHorizontal(),Oe=[],Me=[];let De=[];Pe&&(Ee?De=this.plot.axes.filter(Be=>Be.isXyAxis()&&Be.isVertical()):De=this.plot.axes.filter(Be=>Be.isXyAxis()&&Be.isHorizontal()));const[Te,ke]=this.getTickPositions(e,e.tickStyle,e.minorTickSize,e.position),Fe=HorizontalAndVerticalAxisRenderer.snapTo;for(const Be of this.minorTickValues){if(e.positionAtZeroCrossing&&Math.abs(Be)<xe)continue;let Ie=e.transform(Be);Ee?(Ie=Fe(Se,Ie),Ie=Fe(_e,Ie)):(Ie=Fe(Ae,Ie),Ie=Fe(Ce,Ie)),this.minorPen&&this.addSegments(Oe,De,Ee,Pe,Ie,Se,_e,Ae,Ce),e.tickStyle!=TickStyle.None&&e.minorTickSize>0&&(Ee?(Me.push(newScreenPoint(Ie,r+Te)),Me.push(newScreenPoint(Ie,r+ke))):(Me.push(newScreenPoint(r+Te,Ie)),Me.push(newScreenPoint(r+ke,Ie))))}const $e=RenderingExtensions.getActualEdgeRenderingMode(e.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);this.minorPen&&await RenderingExtensions.drawLineSegments(this.renderContext,Oe,this.minorPen,$e),this.minorTickPen&&await RenderingExtensions.drawLineSegments(this.renderContext,Me,this.minorTickPen,$e)}addSegments(e,r,xe,Se,_e,Ae,Ce,Pe,Ee){if(xe)if(!Se)e.push(newScreenPoint(_e,Pe)),e.push(newScreenPoint(_e,Ee));else for(const Oe of r)e.push(newScreenPoint(_e,Oe.transform(Oe.clipMinimum))),e.push(newScreenPoint(_e,Oe.transform(Oe.clipMaximum)));else if(!Se)e.push(newScreenPoint(Ae,_e)),e.push(newScreenPoint(Ce,_e));else for(const Oe of r)e.push(newScreenPoint(Oe.transform(Oe.clipMinimum),_e)),e.push(newScreenPoint(Oe.transform(Oe.clipMaximum),_e))}getRotatedAlignments(e,r){const Se=(r+360)%360-180;let _e=e>=Math.min(r,Se)&&e<Math.max(r,Se)?HorizontalAlignment.Left:HorizontalAlignment.Right,Ae=VerticalAlignment.Middle;return r<0&&(_e=_e===HorizontalAlignment.Left?HorizontalAlignment.Right:HorizontalAlignment.Left),(Math.abs(e-Se)<10||Math.abs(e-r)<10)&&(_e=HorizontalAlignment.Center),Math.abs(e-r)<10&&(Ae=VerticalAlignment.Bottom),Math.abs(e-Se)<10&&(Ae=VerticalAlignment.Top),[_e,Ae]}}class ColorAxisRenderer extends HorizontalAndVerticalAxisRenderer{constructor(e,r){super(e,r),__publicField(this,"left",0),__publicField(this,"top",0),__publicField(this,"size",0),__publicField(this,"minScreenPosition",0),__publicField(this,"maxScreenPosition",0)}initPosition(e){this.size=e.majorTickSize-2;const r=e.axisDistance;this.minScreenPosition=e.transform(e.clipMinimum),this.maxScreenPosition=e.transform(e.clipMaximum);const{x:xe,y:Se}=OxyRectHelper.bottomRight(e.plotModel.plotArea),{left:_e,top:Ae}=e.plotModel.plotArea;switch(e.position){case AxisPosition.Left:this.left=_e-e.positionTierMinShift-this.size-r,this.top=Ae;break;case AxisPosition.Right:this.left=xe+e.positionTierMinShift+r,this.top=Ae;break;case AxisPosition.Top:this.left=_e,this.top=Ae-e.positionTierMinShift-this.size-r;break;case AxisPosition.Bottom:this.left=_e,this.top=Se+e.positionTierMinShift+r;break}}async render(e,r){[AxisPosition.Left,AxisPosition.Right,AxisPosition.Top,AxisPosition.Bottom].includes(e.position)&&(r===0&&(this.initPosition(e),await this.renderColorBlock(e)),await super.render(e,r))}async drawColorRect(e,r,xe,Se){const _e=Math.min(r,xe),Ae=Math.max(r,xe)+.5,Ce=e.isHorizontal()?newOxyRect(_e,this.top,Ae-_e,this.size):newOxyRect(this.left,_e,this.size,Ae-_e);await this.renderContext.drawRectangle(Ce,Se,OxyColors.Undefined,0,e.edgeRenderingMode)}}class CategoryColorAxisRenderer extends ColorAxisRenderer{constructor(e,r){super(e,r)}async renderColorBlock(e){const{majorLabelValues:r}=e.getTickValues();for(let xe=0;xe<e.palette.colors.length;xe++){const Se=e.transform(e.getLowValue(xe,r)),_e=e.transform(e.getHighValue(xe,r));await this.drawColorRect(e,Se,_e,e.palette.colors[xe])}}}class AngleAxisRenderer extends AxisRendererBase{constructor(e,r){super(e,r)}async render(e,r){await super.render(e,r);const xe=this.plot.defaultMagnitudeAxis;if(!xe)throw new Error("Magnitude axis not defined.");const Se=e.startAngle/e.scale,_e=e.endAngle/e.scale,Ae=Math.abs(_e-Se);if(this.minorPen){const Ee=Math.abs(Ae/e.actualMinorStep|0),Oe=this.minorTickValues.slice(0,Ee+1).map(Me=>xe.transformPoint(xe.clipMaximum,Me,e));for(const Me of Oe)await RenderingExtensions.drawLine(this.renderContext,xe.midPoint.x,xe.midPoint.y,Me.x,Me.y,this.minorPen,e.edgeRenderingMode)}const Ce=Math.abs(Math.abs(Math.max(e.endAngle,e.startAngle)-Math.min(e.startAngle,e.endAngle))-360)<.001;let Pe=Ae/e.actualMajorStep|0;if(Ce||Pe++,this.majorPen){const Ee=this.majorTickValues.slice(0,Pe).map(Oe=>xe.transformPoint(xe.clipMaximum,Oe,e));for(const Oe of Ee)await RenderingExtensions.drawLine(this.renderContext,xe.midPoint.x,xe.midPoint.y,Oe.x,Oe.y,this.majorPen,e.edgeRenderingMode)}for(const Ee of this.majorLabelValues.slice(0,Pe)){let Oe=xe.transformPoint(xe.clipMaximum,Ee,e);const Me=Math.atan2(Oe.y-xe.midPoint.y,Oe.x-xe.midPoint.x);let{x:De,y:Te}=Oe;De+=Math.cos(Me)*e.axisTickToLabelDistance,Te+=Math.sin(Me)*e.axisTickToLabelDistance,Oe=newScreenPoint(De,Te);let ke=Me*180/Math.PI;const Fe=e.formatValue(Ee);let $e=HorizontalAlignment.Left,Be=VerticalAlignment.Middle;Math.abs(Math.abs(ke)-90)<10?($e=HorizontalAlignment.Center,Be=ke>=90?VerticalAlignment.Top:VerticalAlignment.Bottom,ke=0):(ke>90||ke<-90)&&(ke-=180,$e=HorizontalAlignment.Right),await MathRenderingExtensions.drawMathText(this.renderContext,Oe,Fe,e.actualTextColor,e.actualFont,e.actualFontSize,e.actualFontWeight,ke,$e,Be)}}}class MagnitudeAxisRenderer extends AxisRendererBase{constructor(e,r){super(e,r)}async render(e,r){await super.render(e,r);const xe=this.plot.defaultAngleAxis;if(!xe)throw new Error("Angle axis should not be null.");if(xe.updateActualMaxMin(),r===0&&this.extraPen){const Se=e.extraGridlines;if(Se)for(let _e=0;_e<Se.length;_e++)await this.renderTick(e,xe,Se[_e],this.extraPen)}if(r===0&&this.minorPen)for(const Se of this.minorTickValues)await this.renderTick(e,xe,Se,this.minorPen);if(r===0&&this.majorPen)for(const Se of this.majorTickValues)await this.renderTick(e,xe,Se,this.majorPen);if(r===1)for(const Se of this.majorTickValues)await this.renderTickText(e,Se,xe)}static getActualAngle(e,r){const xe=e.transformPoint(0,r.angle,r),Se=e.transformPoint(1,r.angle,r);return Math.atan2(Se.y-xe.y,Se.x-xe.x)}static getTickTextAlignment(e){let r=HorizontalAlignment.Center,xe=VerticalAlignment.Bottom;return e>3*Math.PI/4||e<-3*Math.PI/4?(r=HorizontalAlignment.Center,xe=VerticalAlignment.Top):e<-Math.PI/4?(r=HorizontalAlignment.Right,xe=VerticalAlignment.Middle):e>Math.PI/4?(r=HorizontalAlignment.Left,xe=VerticalAlignment.Middle):(r=HorizontalAlignment.Center,xe=VerticalAlignment.Bottom),[r,xe]}async renderTick(e,r,xe,Se){Math.abs(Math.abs(r.endAngle-r.startAngle)-360)<1e-6&&!Se.actualDashArray?await this.renderTickCircle(e,r,xe,Se):await this.renderTickArc(e,r,xe,Se)}async renderTickCircle(e,r,xe,Se){const _e=r.offset,Ae=e.transformPoint(e.clipMinimum,_e,r),Ce=e.transformPoint(xe,_e,r).x,Pe=Ce-Ae.x,Ee=Pe*2,Oe=Ce-Ee,Me=Ae.y-Pe,De=Ee;await this.renderContext.drawEllipse(newOxyRect(Oe,Me,Ee,De),OxyColors.Undefined,Se.color,Se.thickness,e.edgeRenderingMode)}async renderTickArc(e,r,xe,Se){const _e=r.clipMinimum,Ae=r.clipMaximum,Pe=Math.round(90*Math.abs(r.endAngle-r.startAngle)/360),Ee=(Ae-_e)/(Pe-1),Oe=[];for(let Me=0;Me<Pe;Me++){const De=_e+Me*Ee;Oe.push(e.transformPoint(xe,De,r))}await this.renderContext.drawLine(Oe,Se.color,Se.thickness,e.edgeRenderingMode,Se.actualDashArray)}async renderTickText(e,r,xe){const Se=MagnitudeAxisRenderer.getActualAngle(e,xe),_e=e.axisTickToLabelDistance*Math.sin(Se),Ae=-e.axisTickToLabelDistance*Math.cos(Se),[Ce,Pe]=MagnitudeAxisRenderer.getTickTextAlignment(Se);let Ee=e.transformPoint(r,xe.angle,xe);Ee=newScreenPoint(Ee.x+_e,Ee.y+Ae);const Oe=e.formatValue(r);await MathRenderingExtensions.drawMathText(this.renderContext,Ee,Oe,e.actualTextColor,e.actualFont,e.actualFontSize,e.actualFontWeight,e.angle,Ce,Pe)}}class AngleAxisFullPlotAreaRenderer extends AxisRendererBase{constructor(e,r){super(e,r)}async render(e,r){await super.render(e,r);const xe=this.plot.defaultMagnitudeAxis;if(!xe)throw new Error("Magnitude axis not defined.");const Se=e.startAngle/e.scale,_e=e.endAngle/e.scale,Ae=Math.abs(_e-Se);if(this.minorPen){const Ee=Math.abs(Ae/e.actualMinorStep),Oe=this.minorTickValues.slice(0,Ee+1).map(Me=>this.transformToClientRectangle(xe.clipMaximum,Me,e,this.plot.plotArea,xe.midPoint));for(const Me of Oe)await RenderingExtensions.drawLine(this.renderContext,xe.midPoint.x,xe.midPoint.y,Me.x,Me.y,this.minorPen,e.edgeRenderingMode)}const Ce=Math.abs(Math.abs(Math.max(e.endAngle,e.startAngle)-Math.min(e.startAngle,e.endAngle))-360)<.001;let Pe=Math.floor(Ae/e.actualMajorStep);if(Ce||Pe++,this.majorPen){const Ee=this.majorTickValues.slice(0,Pe).map(Oe=>this.transformToClientRectangle(xe.clipMaximum,Oe,e,this.plot.plotArea,xe.midPoint));for(const Oe of Ee)await RenderingExtensions.drawLine(this.renderContext,xe.midPoint.x,xe.midPoint.y,Oe.x,Oe.y,this.majorPen,e.edgeRenderingMode)}for(const Ee of this.majorLabelValues.slice(0,Pe)){const Oe=this.transformToClientRectangle(xe.clipMaximum,Ee,e,this.plot.plotArea,xe.midPoint),Me=e.formatValue(Ee);let De=HorizontalAlignment.Center,Te=VerticalAlignment.Middle;const ke=this.plot.plotArea;let Fe=Oe.y,$e=Oe.x;Fe<=ke.top?(De=HorizontalAlignment.Center,Te=VerticalAlignment.Top,Fe+=e.axisTickToLabelDistance):Fe>=OxyRectHelper.bottom(ke)?(De=HorizontalAlignment.Center,Te=VerticalAlignment.Bottom,Fe-=e.axisTickToLabelDistance):$e<=ke.left?(De=HorizontalAlignment.Left,Te=VerticalAlignment.Middle,$e+=e.axisTickToLabelDistance):$e>=OxyRectHelper.right(ke)&&(De=HorizontalAlignment.Right,Te=VerticalAlignment.Middle,$e-=e.axisTickToLabelDistance);const Be=newScreenPoint($e,Fe);await MathRenderingExtensions.drawMathText(this.renderContext,Be,Me,e.actualTextColor,e.actualFont,e.actualFontSize,e.actualFontWeight,0,De,Te)}}transformToClientRectangle(e,r,xe,Se,_e){let Ae=ScreenPoint_LeftTop,Ce=(r-xe.offset)*xe.scale;Ce%=360;const Pe=Ce/180*Math.PI,Ee=Math.cos(Pe),Oe=-Math.sin(Pe);if(Ee!==0){let Me=0;Ee>0?Me=OxyRectHelper.right(Se)-_e.x:Ee<0&&(Me=Se.left-_e.x);const De=Me/Ee;let Te=De*Ee,ke=De*Oe;if(ke+_e.y>OxyRectHelper.bottom(Se)||ke+_e.y<Se.top){let Fe=0;Oe>0?Fe=OxyRectHelper.bottom(Se)-_e.y:Fe=Se.top-_e.y;const $e=Fe/Oe;Te=$e*Ee,ke=$e*Oe,Ae=newScreenPoint($e*Ee+_e.x,$e*Oe+_e.y)}else Ae=newScreenPoint(Te+_e.x,ke+_e.y)}return Ae}}const degree=180/Math.PI,rad=Math.PI/180,_MagnitudeAxisFullPlotAreaRenderer=class hs extends AxisRendererBase{constructor(e,r){super(e,r)}async render(e,r){await super.render(e,r);const xe=this.plot.defaultAngleAxis,Se=this.plot.defaultMagnitudeAxis;if(!xe)throw new Error("Angle axis should not be undefined.");xe.updateActualMaxMin();const _e=OxyRectHelper.bottom(e.plotModel.plotArea),Ae=OxyRectHelper.right(e.plotModel.plotArea),Ce=Math.abs(e.plotModel.plotArea.top-Se.midPoint.y),Pe=Math.abs(_e-Se.midPoint.y),Ee=Math.abs(e.plotModel.plotArea.left-Se.midPoint.x),Oe=Math.abs(Ae-Se.midPoint.x),Me=OxyRectEx.fromRect(OxyRectHelper.offset(e.plotModel.plotArea,-Se.midPoint.x,-Se.midPoint.y)),De=-degree*Math.atan2(Me.top,Me.right);let Te=-degree*Math.atan2(Me.top,Me.left),ke=360-degree*Math.atan2(Me.bottom,Me.left);const Fe=360-degree*Math.atan2(Me.bottom,Me.right);Te<0&&(Te+=360),ke>360&&(ke-=360);const $e=Math.sqrt(Math.pow(Me.top,2)+Math.pow(Me.right,2)),Be=Math.sqrt(Math.pow(Me.top,2)+Math.pow(Me.left,2)),Ie=Math.sqrt(Math.pow(Me.bottom,2)+Math.pow(Me.left,2)),Re=Math.sqrt(Math.pow(Me.bottom,2)+Math.pow(Me.right,2));if(r===0&&this.minorPen){const je=this.minorPen;for(const Ve of this.minorTickValues){const He=e.transform(Ve);let ze=0,Ue=90,We=90,qe=180,Ge=180,Ye=270,Qe=270,Je=360;const ri=Oe/He,hi=Ce/He,pi=Ee/He,ni=Pe/He;He>Oe&&(Je=360-degree*Math.acos(ri),ze=degree*Math.acos(ri)),He>Ce&&(Ue=degree*Math.asin(hi),We=180-degree*Math.asin(hi)),He>Ee&&(qe=180-degree*Math.acos(pi),Ge=180+degree*Math.acos(pi)),He>Pe&&(Ye=180+degree*Math.asin(ni),Qe=360-degree*Math.asin(ni)),He<=$e&&(ze<De&&await this.renderTickArc(e,xe,Ve,je,ze+xe.offset,De+xe.offset),De<Ue&&await this.renderTickArc(e,xe,Ve,je,De+xe.offset,Ue+xe.offset)),He<=Be&&(We<Te&&await this.renderTickArc(e,xe,Ve,je,We+xe.offset,Te+xe.offset),Te<qe&&await this.renderTickArc(e,xe,Ve,je,Te+xe.offset,qe+xe.offset)),He<=Ie&&(Ge<ke&&await this.renderTickArc(e,xe,Ve,je,Ge+xe.offset,ke+xe.offset),ke<Ye&&await this.renderTickArc(e,xe,Ve,je,ke+xe.offset,Ye+xe.offset)),He<=Re&&(Qe<Fe&&await this.renderTickArc(e,xe,Ve,je,Qe+xe.offset,Fe+xe.offset),Fe<Je&&await this.renderTickArc(e,xe,Ve,je,Fe+xe.offset,Je+xe.offset))}}if(r===0&&this.majorPen){const je=this.majorPen;for(const Ve of this.majorTickValues){const He=e.transform(Ve);let ze=0,Ue=90,We=90,qe=180,Ge=180,Ye=270,Qe=270,Je=360;const ri=Oe/He,hi=Ce/He,pi=Ee/He,ni=Pe/He;He>Oe&&(Je=360-degree*Math.acos(ri),ze=degree*Math.acos(ri)),He>Ce&&(Ue=degree*Math.asin(hi),We=180-degree*Math.asin(hi)),He>Ee&&(qe=180-degree*Math.acos(pi),Ge=180+degree*Math.acos(pi)),He>Pe&&(Ye=180+degree*Math.asin(ni),Qe=360-degree*Math.asin(ni)),He<=$e&&(ze<De&&await this.renderTickArc(e,xe,Ve,je,ze+xe.offset,De+xe.offset),De<Ue&&await this.renderTickArc(e,xe,Ve,je,De+xe.offset,Ue+xe.offset)),He<=Be&&(We<Te&&await this.renderTickArc(e,xe,Ve,je,We+xe.offset,Te+xe.offset),Te<qe&&await this.renderTickArc(e,xe,Ve,je,Te+xe.offset,qe+xe.offset)),He<=Ie&&(Ge<ke&&await this.renderTickArc(e,xe,Ve,je,Ge+xe.offset,ke+xe.offset),ke<Ye&&await this.renderTickArc(e,xe,Ve,je,ke+xe.offset,Ye+xe.offset)),He<=Re&&(Qe<Fe&&await this.renderTickArc(e,xe,Ve,je,Qe+xe.offset,Fe+xe.offset),Fe<Je&&await this.renderTickArc(e,xe,Ve,je,Fe+xe.offset,Je+xe.offset))}}if(r===1){const je=RenderingExtensions.autoResetClip(this.renderContext,OxyRectHelper.fromScreenPoints(e.screenMin,e.screenMax));for(const Ve of this.majorLabelValues)await this.renderTickText(e,Ve,xe);je.dispose()}}static getActualAngle(e,r){const xe=e.transformPoint(0,r.angle,r),Se=e.transformPoint(1,r.angle,r);return Math.atan2(Se.y-xe.y,Se.x-xe.x)}static getTickTextAligment(e){let r=HorizontalAlignment.Center,xe=VerticalAlignment.Bottom;return e>3*Math.PI/4||e<-3*Math.PI/4?(r=HorizontalAlignment.Center,xe=VerticalAlignment.Top):e<-Math.PI/4?(r=HorizontalAlignment.Right,xe=VerticalAlignment.Middle):e>Math.PI/4?(r=HorizontalAlignment.Left,xe=VerticalAlignment.Middle):(r=HorizontalAlignment.Center,xe=VerticalAlignment.Bottom),[r,xe]}async renderTickArc(e,r,xe,Se,_e,Ae){let Ce=hs.maxSegments*Math.abs(Ae-_e)/360;(r.fractionUnit===Math.PI||r.actualMaximum===2*Math.PI)&&(Ce=hs.maxSegments*Math.abs(Ae-_e)/(2*Math.PI),_e*=rad,Ae*=rad),Ce=Math.max(Ce,2),Ce=Math.min(Ce,hs.maxSegments);const Pe=Math.abs(Ae-_e)/(Ce-1),Ee=[];for(let Oe=0;Oe<Ce;Oe++){const Me=_e+Oe*Pe,De=e.transformPoint(xe,Me,r);Ee.push(De)}await this.renderContext.drawLine(Ee,Se.color,Se.thickness,e.edgeRenderingMode,Se.actualDashArray)}async renderTickText(e,r,xe){const Se=hs.getActualAngle(e,xe),_e=e.axisTickToLabelDistance*Math.sin(Se),Ae=-e.axisTickToLabelDistance*Math.cos(Se),[Ce,Pe]=hs.getTickTextAligment(Se);let Ee=e.transformPoint(r,xe.angle,xe);Ee=newScreenPoint(Ee.x+_e,Ee.y+Ae);const Oe=e.formatValue(r);await MathRenderingExtensions.drawMathText(this.renderContext,Ee,Oe,e.actualTextColor,e.actualFont,e.actualFontSize,e.actualFontWeight,e.angle,Ce,Pe)}};__publicField(_MagnitudeAxisFullPlotAreaRenderer,"maxSegments",180);let MagnitudeAxisFullPlotAreaRenderer=_MagnitudeAxisFullPlotAreaRenderer;class RangeColorAxisRenderer extends ColorAxisRenderer{constructor(e,r){super(e,r)}async renderColorBlock(e){const r=e.transform(e.isReversed?e.actualMinimum:e.actualMaximum),xe=e.transform(e.isReversed?e.actualMaximum:e.actualMinimum);for(const _e of e.ranges){let Ae=e.transform(_e.lowerBound),Ce=e.transform(_e.upperBound);e.isHorizontal()?(Ae<xe&&(Ae=xe),Ce>r&&(Ce=r)):(Ae>xe&&(Ae=xe),Ce<r&&(Ce=r)),await this.drawColorRect(e,Ae,Ce,_e.color)}let Se=10;if(e.isHorizontal()&&(Se*=-1),!OxyColorHelper.isUndefined(e.lowColor)){const _e=e.transform(e.actualMinimum);await this.drawColorRect(e,_e,_e+Se,e.lowColor)}if(!OxyColorHelper.isUndefined(e.highColor)){const _e=e.transform(e.actualMaximum);await this.drawColorRect(e,_e,_e-Se,e.highColor)}}}class NumericColorAxisRenderer extends ColorAxisRenderer{constructor(e,r){super(e,r)}async renderColorBlock(e){if(!e.palette)throw new Error("No Palette defined for color axis.");if(e.renderAsImage){const r=e.transform(e.clipMaximum)-e.transform(e.clipMinimum),xe=r<0,Se=Math.abs(r);if(e.isHorizontal()){const _e=await this.generateColorAxisImage(e,xe);await RenderingExtensions.drawImage(this.renderContext,_e,this.left,this.top,Se,this.size,1,!0)}else{const _e=await this.generateColorAxisImage(e,xe);await RenderingExtensions.drawImage(this.renderContext,_e,this.left,this.top,this.size,Se,1,!0)}}else{for(let xe=0;xe<e.palette.colors.length;xe++){const Se=this.transform(e,ColorAxisExtensions.getLowValue(e,xe)),_e=this.transform(e,ColorAxisExtensions.getHighValue(e,xe));await this.drawColorRect(e,Se,_e,e.palette.colors[xe])}let r=10;e.isHorizontal()&&(r*=-1),OxyColorHelper.isUndefined(e.lowColor)||await this.drawColorRect(e,this.minScreenPosition,this.minScreenPosition+r,e.lowColor),OxyColorHelper.isUndefined(e.highColor)||await this.drawColorRect(e,this.maxScreenPosition,this.maxScreenPosition-r,e.highColor)}}async generateColorAxisImage(e,r){const xe=e.palette.colors.length,Se=e.isHorizontal()?new TwoDimensionalArray(xe,1,OxyColors.Undefined):new TwoDimensionalArray(1,xe,OxyColors.Undefined);for(let _e=0;_e<xe;_e++){const Ae=e.palette.colors[_e],Ce=r?xe-1-_e:_e;e.isHorizontal()?Se.set(Ce,0,Ae):Se.set(0,Ce,Ae)}return OxyImageEx.create(Se,ImageFormat.Png)}transform(e,r){return this.linearInterpolation(e.clipMinimum,this.minScreenPosition,e.clipMaximum,this.maxScreenPosition,r)}linearInterpolation(e,r,xe,Se,_e){return r+(_e-e)*(Se-r)/(xe-e)}}const DefaultLogarithmicAxisOptions={base:10,powerPadding:!0,filterMinValue:0},ExtendedDefaultLogarithmicAxisOptions={...ExtendedDefaultAxisOptions,...DefaultLogarithmicAxisOptions};class LogarithmicAxis extends Axis{constructor(e){super(e),__publicField(this,"base",DefaultLogarithmicAxisOptions.base),__publicField(this,"powerPadding",DefaultLogarithmicAxisOptions.powerPadding),__publicField(this,"actualLogMaximum",0),__publicField(this,"actualLogMinimum",0),__publicField(this,"logClipMaximum",0),__publicField(this,"logClipMinimum",0),assignObject(this,DefaultLogarithmicAxisOptions,e)}getElementName(){return"LogarithmicAxis"}getTickValues(){let e=[],r=[],xe=[];const Se=Math.abs(this.logClipMaximum-this.logClipMinimum),Ce=Math.abs(this.isVertical()?this.screenMax.y-this.screenMin.y:this.screenMax.x-this.screenMin.x)/this.intervalLength/Se,Pe=1/Math.floor(Ce),Ee=Math.round(this.base);if(Ce<.75){const Oe=Math.pow(2,Math.ceil(Math.log(1/Ce)/Math.log(2)));e=this.decadeTicks(Oe),xe=this.decadeTicks(Math.ceil(Oe/8))}else if(Math.abs(this.base-Ee)>1e-10)e=this.decadeTicks(Pe),xe=this.decadeTicks(.5*Pe);else if(Ce<2)e=this.decadeTicks(),xe=this.subdividedDecadeTicks();else{if(Ce>this.base*1.5)return super.getTickValues();{const Oe=this.logSubdividedDecadeTicks(!1);if(Oe.length<2)return super.getTickValues();const Me=this.logCalculateMinorCandidates(Oe,Pe);xe=this.powList(Me,!0),e=this.alignTicksToCandidates(Oe,Pe)}}return r=e,xe=AxisUtilities.filterRedundantMinorTicks(e,xe),{majorLabelValues:r,majorTickValues:e,minorTickValues:xe}}isXyAxis(){return!0}isLogarithmic(){return!0}pan(e,r){if(!this.isPanEnabled)return;const xe=this.isHorizontal(),Se=this.inverseTransform(xe?e.x:e.y),_e=this.inverseTransform(xe?r.x:r.y);if(Math.abs(_e)<=0)return;const Ae=this.actualMinimum,Ce=this.actualMaximum,Pe=Se/_e;let Ee=this.actualMinimum*Pe,Oe=this.actualMaximum*Pe;Ee<this.absoluteMinimum&&(Ee=this.absoluteMinimum,Oe=Ee*this.actualMaximum/this.actualMinimum),Oe>this.absoluteMaximum&&(Oe=this.absoluteMaximum,Ee=Oe*this.actualMinimum/this.actualMaximum),this.viewMinimum=Ee,this.viewMaximum=Oe;const Me=this.actualMinimum-Ae,De=this.actualMaximum-Ce;this.onAxisChanged({changeType:AxisChangeTypes.Pan,deltaMinimum:Me,deltaMaximum:De})}inverseTransform(e){return this.postInverseTransform(e/this.scale+this.offset)}transform(e){return e<=0?-1:(this.preTransform(e)-this.offset)*this.scale}zoomAt(e,r){if(!this.isZoomEnabled)return;const xe=this.actualMinimum,Se=this.actualMaximum,_e=this.preTransform(r),Ae=this.preTransform(this.actualMinimum)-_e,Ce=this.preTransform(this.actualMaximum)-_e,Pe=this.postInverseTransform(Ae/e+_e),Ee=this.postInverseTransform(Ce/e+_e),Oe=Math.max(Pe,this.absoluteMinimum),Me=Math.min(Ee,this.absoluteMaximum);this.viewMinimum=Oe,this.viewMaximum=Me,this.updateActualMaxMin();const De=this.actualMinimum-xe,Te=this.actualMaximum-Se;this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:De,deltaMaximum:Te})}powList(e,r=!1){return e.filter(xe=>!r||!(xe<this.logClipMinimum)).filter(xe=>!r||!(xe>this.logClipMaximum)).map(xe=>Math.pow(this.base,xe))}logList(e,r=!1){return e.filter(xe=>!r||!(xe<this.clipMinimum)).filter(xe=>!r||!(xe>this.clipMaximum)).map(xe=>Math.log(xe)/Math.log(this.base))}decadeTicks(e=1){return this.powList(this.logDecadeTicks(e))}logDecadeTicks(e=1){const r=[];if(e<=0)return r;let xe=Number.NaN;for(let Se=Math.ceil(this.logClipMinimum);Se<=this.logClipMaximum&&!(Se<=xe);Se+=e)xe=Se,Se>=this.logClipMinimum&&r.push(Se);return r}logSubdividedDecadeTicks(e=!0){return this.logList(this.subdividedDecadeTicks(e))}subdividedDecadeTicks(e=!0){const r=[];for(let xe=Math.floor(this.logClipMinimum);!(xe>this.logClipMaximum);xe++){const Se=Math.pow(this.base,xe);for(let _e=1;_e<this.base;_e++){const Ae=Se*_e;if(!(e&&Ae<this.clipMinimum)){if(e&&Ae>this.clipMaximum)break;r.push(Se*_e)}}}return r}alignTicksToCandidates(e,r){return this.powList(this.logAlignTicksToCandidates(e,r))}logAlignTicksToCandidates(e,r){const xe=[];let Se=1,_e=Number.NaN;for(let Ae=Math.floor(this.logClipMinimum);;Ae+=r){if(Ae<this.logClipMinimum-r)continue;if(Ae>this.logClipMaximum+r)break;for(;Se<e.length-1&&e[Se]<Ae;)Se++;const Ce=Math.abs(e[Se]-Ae)<Math.abs(e[Se-1]-Ae)?e[Se]:e[Se-1];Ce!=_e&&Ce>=this.logClipMinimum&&Ce<=this.logClipMaximum&&xe.push(Ce),_e=Ce}return xe}logCalculateMinorCandidates(e,r){const xe=[];for(let Se=1;Se<e.length;Se++){const _e=e[Se-1],Ae=e[Se];if(Ae<this.logClipMinimum)continue;if(_e>this.logClipMaximum)break;(Ae-_e)/r>2&&this.logSubdivideInterval(xe,this.base,_e,Ae),xe.push(Ae)}return xe}logSubdivideInterval(e,r,xe,Se){let _e=1;const Ae=Math.round(this.base);if(r<2)return;if(Math.abs(this.base-Ae)>this.base*1e-10)_e=Math.round(r);else if(Ae&Ae-1)for(Ae!=10&&(_e=Ae);!(_e>=r||(_e*=2,_e>=r)||(_e=Math.round(_e*2.5),_e>=r));)_e*=2;else for(;_e<r;)_e*=2;const Ce=Math.pow(this.base,xe),Pe=Math.pow(this.base,Se);for(let Ee=1;Ee<_e;Ee++){const Oe=Ee/_e,Me=Math.log(Ce+(Pe-Ce)*Oe)/Math.log(this.base);e.push(Me)}}updateActualMaxMin(){if(this.powerPadding){const e=Math.log(this.base),r=Math.floor(Math.log(this.actualMinimum)/e),xe=Math.ceil(Math.log(this.actualMaximum)/e);isNaN(this.actualMinimum)||(this.actualMinimum=round(Math.exp(r*e),14)),isNaN(this.actualMaximum)||(this.actualMaximum=round(Math.exp(xe*e),14))}super.updateActualMaxMin(),this.actualMinimum<=0&&(this.actualMinimum=.1)}actualMaximumAndMinimumChangedOverride(){this.actualLogMinimum=this.preTransform(this.actualMinimum),this.actualLogMaximum=this.preTransform(this.actualMaximum),this.logClipMinimum=this.preTransform(this.clipMinimum),this.logClipMaximum=this.preTransform(this.clipMaximum)}postInverseTransform(e){return Math.pow(this.base,e)}preTransform(e){if(e<=0)throw new Error("Value should be positive.");return e<=0?0:log$1(e,this.base)}coerceActualMaxMin(){(isNaN(this.actualMinimum)||isInfinity(this.actualMinimum))&&(this.actualMinimum=1),this.actualMinimum<=0&&(this.actualMinimum=1),this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum*100),super.coerceActualMaxMin()}calculateActualMaximum(){let e=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const xe=this.dataMaximum>0?this.dataMaximum:1;e+=xe*.5}if(!isNaNOrUndef(this.dataMinimum)&&!isNaNOrUndef(e)){const xe=e,Se=this.dataMinimum;return Math.pow(xe,this.maximumPadding+1)*(Se>Number.EPSILON?Math.pow(Se,-this.maximumPadding):1)}return e}calculateActualMinimum(){let e=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const xe=this.dataMaximum>0?this.dataMaximum:1;e-=xe*.5}if(!isNaN(this.actualMaximum)){const xe=this.actualMaximum,Se=e,_e=this.maximumPadding;return Math.pow(Se,1+this.minimumPadding-this.minimumPadding*_e/(1+_e))*Math.pow(xe,-this.minimumPadding/(1+_e))}return e}getElementDefaultValues(){return ExtendedDefaultLogarithmicAxisOptions}}const DefaultLogarithmicColorAxisOptions={highColor:OxyColors.Undefined,lowColor:OxyColors.Undefined,invalidNumberColor:OxyColors.Gray,palette:OxyPalettes.viridis(),position:AxisPosition.None,axisDistance:20,isPanEnabled:!1,isZoomEnabled:!1,renderAsImage:!1},ExtendedDefaultLogarithmicColorAxisOptions={...ExtendedDefaultLogarithmicAxisOptions,...DefaultLogarithmicColorAxisOptions};class LogarithmicColorAxis extends LogarithmicAxis{constructor(e){super(e),__publicField(this,"invalidNumberColor",DefaultLogarithmicColorAxisOptions.invalidNumberColor),__publicField(this,"highColor",DefaultLogarithmicColorAxisOptions.highColor),__publicField(this,"lowColor",DefaultLogarithmicColorAxisOptions.lowColor),__publicField(this,"palette",DefaultLogarithmicColorAxisOptions.palette),__publicField(this,"renderAsImage",DefaultLogarithmicColorAxisOptions.renderAsImage),assignObject(this,DefaultLogarithmicColorAxisOptions,e)}getElementName(){return"LogarithmicColorAxis"}isXyAxis(){return!1}async render(e,r){await new NumericColorAxisRenderer(e,this.plotModel).render(this,r)}getColor(e){return ColorAxisExtensions.getColorByPaletteIndex(this,e)}getPaletteIndex(e){if(isNaNOrUndef(e))return Number_MIN_VALUE;if(OxyColorHelper.isUndefined(this.lowColor)&&e<this.clipMinimum)return 0;if(OxyColorHelper.isUndefined(this.highColor)&&e>this.clipMaximum)return this.palette.colors.length+1;const r=this.preTransform(e);let xe=1+Math.floor((r-this.logClipMinimum)/(this.logClipMaximum-this.logClipMinimum)*this.palette.colors.length);return xe<1&&(xe=1),xe>this.palette.colors.length&&(xe=this.palette.colors.length),xe}getElementDefaultValues(){return ExtendedDefaultLogarithmicColorAxisOptions}}const DefaultDateTimeAxisOptions={firstDayOfWeek:DayOfWeek.Monday,intervalType:DateTimeIntervalType.Auto,minorIntervalType:DateTimeIntervalType.Auto,position:AxisPosition.Bottom,timeZone:void 0},ExtendedDefaultDateTimeAxisOptions={...ExtendedDefaultLinearAxisOptions,...DefaultDateTimeAxisOptions},_DateTimeAxis=class Cr extends LinearAxis{constructor(e){super(e),__publicField(this,"_actualIntervalType",DateTimeIntervalType.Auto),__publicField(this,"_actualMinorIntervalType",DateTimeIntervalType.Auto),__publicField(this,"_dateService"),__publicField(this,"firstDayOfWeek",DefaultDateTimeAxisOptions.firstDayOfWeek),__publicField(this,"intervalType",DefaultDateTimeAxisOptions.intervalType),__publicField(this,"minorIntervalType",DefaultDateTimeAxisOptions.minorIntervalType),__publicField(this,"timeZone"),this._dateService=getDateService(),assignObject(this,DefaultDateTimeAxisOptions,e)}getElementName(){return"DateTimeAxis"}static createDataPoint(e,r){return newDataPoint(Cr.toDouble(e),r)}static toDateTime(e){return isNaN(e)||e<Cr.MinDayValue||e>Cr.MaxDayValue?new Date:getDateService().addTimespan(Cr.TimeOrigin,TimeSpan.fromDays(e-1))}static fromDotNetValue(e){return e=e-Cr.TimeOriginDiffDaysToCSharp,Cr.toDateTime(e)}static toDouble(e){return getDateService().diff(e,Cr.TimeOrigin).totalDays+1}itemToDouble(e){return e instanceof Date?Cr.toDouble(e):super.itemToDouble(e)}getTickValues(){let e=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep,this._actualMinorIntervalType);const r=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep,this._actualIntervalType),xe=r;return e=AxisUtilities.filterRedundantMinorTicks(r,e),{majorLabelValues:xe,majorTickValues:r,minorTickValues:e}}getValue(e){const r=Cr.toDateTime(e);return this.timeZone?this._dateService.convertTime(r,this.timeZone):r}updateIntervals(e){super.updateIntervals(e);const r=!isNullOrUndef(this.stringFormatter);switch(this._actualIntervalType){case DateTimeIntervalType.Years:this.actualMinorStep=31,this._actualMinorIntervalType=DateTimeIntervalType.Years,r||(this.actualStringFormatter=xe=>this._dateService.format(xe,"YYYY"));break;case DateTimeIntervalType.Months:this._actualMinorIntervalType=DateTimeIntervalType.Months,r||(this.actualStringFormatter=xe=>this._dateService.format(xe,"YYYY-MM-DD"));break;case DateTimeIntervalType.Weeks:this._actualMinorIntervalType=DateTimeIntervalType.Days,this.actualMajorStep=7,this.actualMinorStep=1,r||(this.actualStringFormatter=xe=>this._dateService.format(xe,"YYYY/ww"));break;case DateTimeIntervalType.Days:this.actualMinorStep=this.actualMajorStep,r||(this.actualStringFormatter=xe=>this._dateService.format(xe,"YYYY-MM-DD"));break;case DateTimeIntervalType.Hours:this.actualMinorStep=this.actualMajorStep,r||(this.actualStringFormatter=xe=>this._dateService.format(xe,"HH:mm"));break;case DateTimeIntervalType.Minutes:this.actualMinorStep=this.actualMajorStep,r||(this.actualStringFormatter=xe=>this._dateService.format(xe,"HH:mm"));break;case DateTimeIntervalType.Seconds:this.actualMinorStep=this.actualMajorStep,r||(this.actualStringFormatter=xe=>this._dateService.format(xe,"HH:mm:ss"));break;case DateTimeIntervalType.Milliseconds:this.actualMinorStep=this.actualMajorStep,r||(this.actualStringFormatter=xe=>this._dateService.format(xe,"HH:mm:ss.SSS"));break;case DateTimeIntervalType.Manual:break;case DateTimeIntervalType.Auto:break}}getDefaultStringFormatter(){return e=>this._dateService.format(e,"yyyy-MM-dd")}formatValueOverride(e){let r=Cr.toDateTime(e);this.timeZone&&(r=this._dateService.convertTime(r,this.timeZone));const xe=this.actualStringFormatter;return xe?xe(r):r.toLocaleDateString()}calculateActualInterval(e,r,xe,Se,_e){const Oe=.041666666666666664,Me=Oe/60,De=Me/60,Te=De/1e3;_e=Math.abs(this.clipMinimum-this.clipMaximum);const ke=[Te,2*Te,10*Te,100*Te,De,2*De,5*De,10*De,30*De,Me,2*Me,5*Me,10*Me,30*Me,Oe,4*Oe,8*Oe,12*Oe,1,2*1,5*1,7,2*7,30.5,2*30.5,3*30.5,4*30.5,6*30.5,365.25];let Fe=ke[0];for(xe=Math.max(xe,0),Se=Math.min(Se,Math.max(Math.floor(e/r),2));!(_e/Fe<Se);){let $e=ke.find(Be=>Be>Fe);if(isUndef($e))throw new Error(`cannot calculate interval,range=${_e}`);if(Math.abs($e)<=0&&($e=Fe*2),_e/$e<xe)break;Fe=$e}if(this._actualIntervalType=this.intervalType,this._actualMinorIntervalType=this.minorIntervalType,this.intervalType===DateTimeIntervalType.Auto&&(this._actualIntervalType=DateTimeIntervalType.Milliseconds,Fe>=1/24/60/60&&(this._actualIntervalType=DateTimeIntervalType.Seconds),Fe>=1/24/60&&(this._actualIntervalType=DateTimeIntervalType.Minutes),Fe>=1/24&&(this._actualIntervalType=DateTimeIntervalType.Hours),Fe>=1&&(this._actualIntervalType=DateTimeIntervalType.Days),Fe>=30&&(this._actualIntervalType=DateTimeIntervalType.Months),_e>=365.25&&(this._actualIntervalType=DateTimeIntervalType.Years)),this._actualIntervalType===DateTimeIntervalType.Months){const $e=_e/30.5;Fe=super.calculateActualInterval(e,r,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,$e)}if(this._actualIntervalType===DateTimeIntervalType.Years){const $e=_e/365.25;Fe=super.calculateActualInterval(e,r,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,$e)}if(this._actualMinorIntervalType===DateTimeIntervalType.Auto)switch(this._actualIntervalType){case DateTimeIntervalType.Years:this._actualMinorIntervalType=DateTimeIntervalType.Months;break;case DateTimeIntervalType.Months:this._actualMinorIntervalType=DateTimeIntervalType.Days;break;case DateTimeIntervalType.Weeks:this._actualMinorIntervalType=DateTimeIntervalType.Days;break;case DateTimeIntervalType.Days:this._actualMinorIntervalType=DateTimeIntervalType.Hours;break;case DateTimeIntervalType.Hours:this._actualMinorIntervalType=DateTimeIntervalType.Minutes;break;default:this._actualMinorIntervalType=DateTimeIntervalType.Days;break}return Fe}createDateTickValues(e,r,xe,Se){const _e=[];let Ae=Cr.toDateTime(e);if(!Ae)return _e;let Ce=0;switch(Se){case DateTimeIntervalType.Weeks:Ce=this._dateService.dayOfWeek(Ae),Ae=this._dateService.addTimespan(Ae,TimeSpan.fromDays(-Ce+this.firstDayOfWeek));break;case DateTimeIntervalType.Months:Ae=new Date(Ae.getFullYear(),Ae.getMonth(),1);break;case DateTimeIntervalType.Years:Ae=new Date(Ae.getFullYear(),0,1);break}const Pe=this._dateService.addTimespan(Cr.toDateTime(r),TimeSpan.fromMilliseconds(1));if(!Pe)return _e;let Ee=Ae;const Oe=xe*.001,Me=Cr.toDateTime(e-Oe),De=Cr.toDateTime(r+Oe);if(!Me||!De)return _e;for(;Ee<Pe;)switch(Ee>Me&&Ee<De&&_e.push(Cr.toDouble(Ee)),Se){case DateTimeIntervalType.Months:Ee=this._dateService.addMonths(Ee,Math.ceil(xe));break;case DateTimeIntervalType.Years:Ee=this._dateService.addYears(Ee,Math.ceil(xe));break;default:Ee=this._dateService.addTimespan(Ee,TimeSpan.fromDays(xe));break}return _e}createDateTimeTickValues(e,r,xe,Se){return Se>DateTimeIntervalType.Days?this.createDateTickValues(e,r,xe,Se):this.createTickValues(e,r,xe)}getElementDefaultValues(){return ExtendedDefaultDateTimeAxisOptions}};__publicField(_DateTimeAxis,"TimeOrigin",new Date(Date.UTC(1901,0,1,0,0,0)));__publicField(_DateTimeAxis,"TimeOriginDiffDaysToCSharp",366);__publicField(_DateTimeAxis,"MaxDayValue",TimeSpan.fromMilliseconds(DateTime_MaxValue.getTime()-_DateTimeAxis.TimeOrigin.getTime()).totalDays);__publicField(_DateTimeAxis,"MinDayValue",TimeSpan.fromMilliseconds(DateTime_MinValue.getTime()-_DateTimeAxis.TimeOrigin.getTime()).totalDays);let DateTimeAxis=_DateTimeAxis;const DefaultTimeSpanAxisOptions={},ExtendedDefaultTimeSpanAxisOptions={...ExtendedDefaultLinearAxisOptions,...DefaultTimeSpanAxisOptions};class TimeSpanAxis extends LinearAxis{constructor(e){super(e),assignObject(this,DefaultTimeSpanAxisOptions,e)}getElementName(){return"TimeSpanAxis"}static toDouble(e){return e.totalSeconds}itemToDouble(e){return e instanceof TimeSpan?TimeSpanAxis.toDouble(e):super.itemToDouble(e)}static toTimeSpan(e){return TimeSpan.fromSeconds(e)}getValue(e){return TimeSpanAxis.toTimeSpan(e)}getDefaultStringFormatter(){function e(r){return r.toString().padStart(2,"0")}return r=>`${r.hours}:${e(r.minutes)}:${e(r.seconds)}`}formatValueOverride(e){const r=TimeSpanAxis.toTimeSpan(e),xe=this.actualStringFormatter??this.stringFormatter;return xe?xe(r):r.toString()}calculateActualInterval(e,r,xe,Se){const _e=Math.abs(this.clipMinimum-this.clipMaximum);let Ae=1;const Ce=[1,5,10,30,60,120,300,600,900,1200,1800,3600];for(xe=Math.max(xe,0),Se=Math.min(Se,Math.max(Math.floor(e/r),2));!(_e/Ae<Se);){let Pe=Ce.find(Ee=>Ee>Ae);if(Pe||(Pe=Ae*2),_e/Pe<xe)break;Ae=Pe}return Ae}getElementDefaultValues(){return ExtendedDefaultTimeSpanAxisOptions}}const DefaultLinearColorAxisOptions={invalidNumberColor:OxyColors.Gray,highColor:OxyColors.Undefined,lowColor:OxyColors.Undefined,palette:OxyPalettes.viridis(),renderAsImage:!1,position:AxisPosition.None,axisDistance:20,isPanEnabled:!1,isZoomEnabled:!1},ExtendedDefaultLinearColorAxisOptions={...ExtendedDefaultLinearAxisOptions,...DefaultLinearColorAxisOptions};class LinearColorAxis extends LinearAxis{constructor(e){super(e),__publicField(this,"invalidNumberColor",DefaultLinearColorAxisOptions.invalidNumberColor),__publicField(this,"highColor",DefaultLinearColorAxisOptions.highColor),__publicField(this,"lowColor",DefaultLinearColorAxisOptions.lowColor),__publicField(this,"palette",DefaultLinearColorAxisOptions.palette),__publicField(this,"renderAsImage",DefaultLinearColorAxisOptions.renderAsImage),assignObject(this,DefaultLinearColorAxisOptions,e)}getElementName(){return"LinearColorAxis"}isXyAxis(){return!1}async render(e,r){return new NumericColorAxisRenderer(e,this.plotModel).render(this,r)}getColor(e){return assertInteger(e,"paletteIndex"),e===Number_MIN_VALUE?this.invalidNumberColor:e===0?this.lowColor:e===this.palette.colors.length+1?this.highColor:this.palette.colors[e-1]}getPaletteIndex(e){if(isNaNOrUndef(e))return Number_MIN_VALUE;if(!OxyColorHelper.isUndefined(this.lowColor)&&e<this.clipMinimum)return 0;if(!OxyColorHelper.isUndefined(this.highColor)&&e>this.clipMaximum)return this.palette.colors.length+1;let r=1+Math.floor((e-this.clipMinimum)/(this.clipMaximum-this.clipMinimum)*this.palette.colors.length);return r<1&&(r=1),r>this.palette.colors.length&&(r=this.palette.colors.length),r}getElementDefaultValues(){return ExtendedDefaultLinearColorAxisOptions}}const DefaultRangeColorAxisOptions={highColor:OxyColors.Undefined,lowColor:OxyColors.Undefined,invalidNumberColor:OxyColors.Gray,position:AxisPosition.None,axisDistance:20,isPanEnabled:!1,isZoomEnabled:!1},ExtendedDefaultRangeColorAxisOptions={...ExtendedDefaultLinearAxisOptions,...DefaultRangeColorAxisOptions};class RangeColorAxis extends LinearAxis{constructor(e){super(e),__publicField(this,"_ranges",[]),__publicField(this,"invalidNumberColor",DefaultRangeColorAxisOptions.invalidNumberColor),__publicField(this,"highColor",DefaultRangeColorAxisOptions.highColor),__publicField(this,"lowColor",DefaultRangeColorAxisOptions.lowColor),assignObject(this,DefaultRangeColorAxisOptions,e)}get ranges(){return this._ranges}getElementName(){return"RangeColorAxis"}addRange(e,r,xe){this._ranges.push({lowerBound:e,upperBound:r,color:xe})}clearRanges(){this._ranges.length=0}getPaletteIndex(e){if(!OxyColorHelper.isUndefined(this.lowColor)&&e<this._ranges[0].lowerBound)return-1;if(!OxyColorHelper.isUndefined(this.highColor)&&e>this._ranges[this._ranges.length-1].upperBound)return this._ranges.length;for(let r=0;r<this._ranges.length;r++){const xe=this._ranges[r];if(xe.lowerBound<=e&&xe.upperBound>e)return r}return Number_MIN_VALUE}getColor(e){return e===Number_MIN_VALUE?this.invalidNumberColor:e===-1?this.lowColor:e===this._ranges.length?this.highColor:this._ranges[e].color}async render(e,r){return new RangeColorAxisRenderer(e,this.plotModel).render(this,r)}getElementDefaultValues(){return ExtendedDefaultRangeColorAxisOptions}}const DefaultMagnitudeAxisFullPlotAreaOptions={midShiftH:0,midShiftV:0,position:AxisPosition.None,isPanEnabled:!0,isZoomEnabled:!1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid},ExtendedDefaultMagnitudeAxisFullPlotAreaOptions={...ExtendedDefaultMagnitudeAxisOptions,...DefaultMagnitudeAxisFullPlotAreaOptions};class MagnitudeAxisFullPlotArea extends MagnitudeAxis{constructor(e){super(e),__publicField(this,"_midShiftH",0),__publicField(this,"_midShiftV",0),assignObject(this,DefaultMagnitudeAxisFullPlotAreaOptions,e)}get midShiftH(){return this._midShiftH}set midShiftH(e){this._midShiftH=e,this._midShiftH=Math.max(this._midShiftH,-.5),this._midShiftH=Math.min(this._midShiftH,.5)}get midShiftV(){return this._midShiftV}set midShiftV(e){this._midShiftV=e,this._midShiftV=Math.max(this._midShiftV,-.5),this._midShiftV=Math.min(this._midShiftV,.5)}getElementName(){return"MagnitudeAxisFullPlotArea"}async render(e,r){await new MagnitudeAxisFullPlotAreaRenderer(e,this.plotModel).render(this,r)}getTickValues(){const e=OxyRectEx.fromScreenPoints(this.screenMin,this.screenMax),r=screenPointDistanceTo(e.topLeft,this.midPoint),xe=screenPointDistanceTo(e.topRight,this.midPoint),Se=screenPointDistanceTo(e.bottomRight,this.midPoint),_e=screenPointDistanceTo(e.bottomLeft,this.midPoint);let Ae=Math.max(r,xe);Ae=Math.max(Ae,Se),Ae=Math.max(Ae,_e);const Ce=this.inverseTransform(Ae),Pe=AxisUtilities.createTickValues(this.actualMinimum,Ce,this.actualMajorStep);let Ee=AxisUtilities.createTickValues(this.actualMinimum,Ce,this.actualMinorStep);return Ee=AxisUtilities.filterRedundantMinorTicks(Pe,Ee),{majorLabelValues:Pe,majorTickValues:Pe,minorTickValues:Ee}}updateTransform(e){const r=e.left,xe=OxyRectHelper.right(e),Se=OxyRectHelper.bottom(e),_e=e.top;this.screenMin=newScreenPoint(r,_e),this.screenMax=newScreenPoint(xe,Se),this.midPoint=newScreenPoint((r+xe)/2+this.midShiftH*e.width,(Se+_e)/2+this.midShiftV*e.height);const Ae=Math.min(Math.abs(xe-r),Math.abs(_e-Se));let Ce=0,Pe=Ae*.5;const Ee=Pe-Ce;Pe=Ce+this.endPosition*Ee,Ce=Ce+this.startPosition*Ee;const Oe=this.isReversed?-1:1;this.minimumDataMargin>0&&(Ce+=this.minimumDataMargin*Oe),this.maximumDataMargin>0&&(Pe-=this.maximumDataMargin*Oe),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const Me=this.preTransform(this.actualMaximum),De=this.preTransform(this.actualMinimum),Te=Ce-Pe;let ke,Fe;Math.abs(Te)>Number.EPSILON?ke=Ce/Te*Me-Pe/Te*De:ke=0;const $e=Me-De;Math.abs($e)>Number.EPSILON?Fe=(Pe-Ce)/$e:Fe=1,this.setTransform(Fe,ke),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(Ae*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}pan(e,r){if(!this.isPanEnabled)return;const xe=r.x-e.x,Se=r.y-e.y,_e=xe/this.plotModel.plotArea.width,Ae=Se/this.plotModel.plotArea.height;this.midShiftH+=_e,this.midShiftV+=Ae,this.onAxisChanged({changeType:AxisChangeTypes.Pan,deltaMinimum:0,deltaMaximum:0})}zoomAt(e,r){this.isZoomEnabled&&super.zoomAt(e,0)}getElementDefaultValues(){return ExtendedDefaultMagnitudeAxisFullPlotAreaOptions}}class ColorAxisExtensions{static getColor(e,r){return e.getColor(e.getPaletteIndex(r))}static getHighValue(e,r){return this.getLowValue(e,r+1)}static getLowValue(e,r){return r/e.palette.colors.length*(e.clipMaximum-e.clipMinimum)+e.clipMinimum}static getColorByPaletteIndex(e,r){return r===Number_MIN_VALUE?e.invalidNumberColor:r===0?e.lowColor:r===e.palette.colors.length+1?e.highColor:e.palette.colors[r-1]}}const DefaultCategoryColorAxisOptions={invalidCategoryColor:OxyColors.Undefined,palette:newOxyPalette()},ExtendedDefaultCategoryColorAxisOptions={...ExtendedDefaultCategoryAxisOptions,...DefaultCategoryColorAxisOptions};class CategoryColorAxis extends CategoryAxis{constructor(e){super(e),__publicField(this,"invalidCategoryColor",DefaultCategoryColorAxisOptions.invalidCategoryColor),__publicField(this,"palette",DefaultCategoryColorAxisOptions.palette),assignObject(this,DefaultCategoryColorAxisOptions,e)}getElementName(){return"CategoryColorAxis"}getColor(e){return e===-1?this.invalidCategoryColor:e>=this.palette.colors.length?this.invalidCategoryColor:this.palette.colors[e]}getPaletteIndex(e){return Math.floor(e)}async render(e,r){return new CategoryColorAxisRenderer(e,this.plotModel).render(this,r)}getHighValue(e,r){return e>=this.palette.colors.length-1?this.clipMaximum:(r[e]+r[e+1])/2}getLowValue(e,r){return e===0?this.clipMinimum:(r[e-1]+r[e])/2}getElementDefaultValues(){return ExtendedDefaultCategoryColorAxisOptions}}function isDataPointProvider(t){return t.getDataPoint&&typeof t.getDataPoint=="function"}function newElementCollection(t){const e=[];return new Proxy(e,{deleteProperty:function(r,xe){const Se=r[xe];return Se&&Se instanceof Element$1&&(Se.parent=void 0),delete r[xe],!0},set:function(r,xe,Se,_e){return r[xe]=Se,xe==="length"||Se&&Se instanceof Element$1&&(Se.parent=t),!0}})}class HitTestArguments{constructor(e,r){__publicField(this,"point"),__publicField(this,"tolerance"),this.point=e,this.tolerance=r}}class ManipulatorBase{constructor(e){__publicField(this,"view"),this.view=e}completed(e){}delta(e){}started(e){}}const DefaultCreateModelOptions={selectionColor:OxyColors.Yellow},_Model=class Ll{constructor(e){__publicField(this,"selectionColor",DefaultCreateModelOptions.selectionColor),__publicField(this,"currentMouseEventElement"),__publicField(this,"currentTouchEventElement"),__publicField(this,"keyDown"),__publicField(this,"mouseDown"),__publicField(this,"mouseMove"),__publicField(this,"mouseUp"),__publicField(this,"mouseEnter"),__publicField(this,"mouseLeave"),__publicField(this,"touchStarted"),__publicField(this,"touchDelta"),__publicField(this,"touchCompleted"),this.selectionColor=OxyColors.Yellow,assignObject(this,DefaultCreateModelOptions,e)}hitTest(e){const r=this.getHitTestElements(),xe=[];for(const Se of r){const _e=Se.hitTest(e);_e&&xe.push(_e)}return xe}handleMouseDown(e,r){const xe=new HitTestArguments(r.position,Ll.mouseHitTolerance);for(const Se of this.hitTest(xe)){r.hitTestResult=Se;const _e=Se.element;if(_e.onMouseDown(r),r.handled){this.currentMouseEventElement=_e;return}}r.handled||this.onMouseDown(e,r)}handleMouseMove(e,r){this.currentMouseEventElement&&this.currentMouseEventElement.onMouseMove(r),r.handled||this.onMouseMove(e,r)}handleMouseUp(e,r){this.currentMouseEventElement&&(this.currentMouseEventElement.onMouseUp(r),this.currentMouseEventElement=void 0),r.handled||this.onMouseUp(e,r)}handleMouseEnter(e,r){r.handled||this.onMouseEnter(e,r)}handleMouseLeave(e,r){r.handled||this.onMouseLeave(e,r)}handleTouchStarted(e,r){const xe=new HitTestArguments(r.position,Ll.mouseHitTolerance);for(const Se of this.hitTest(xe)){const _e=Se.element;if(_e.onTouchStarted(r),r.handled){this.currentTouchEventElement=_e;return}}r.handled||this.onTouchStarted(e,r)}handleTouchDelta(e,r){this.currentTouchEventElement&&this.currentTouchEventElement.onTouchDelta(r),r.handled||this.onTouchDelta(e,r)}handleTouchCompleted(e,r){this.currentTouchEventElement&&(this.currentTouchEventElement.onTouchCompleted(r),this.currentTouchEventElement=void 0),r.handled||this.onTouchCompleted(e,r)}handleKeyDown(e,r){for(const xe of this.getHitTestElements())if(xe.onKeyDown(r),r.handled)break;r.handled||this.onKeyDown(e,r)}onKeyDown(e,r){const xe=this.keyDown;xe&&xe(e,r)}onMouseDown(e,r){const xe=this.mouseDown;xe&&xe(e,r)}onMouseMove(e,r){const xe=this.mouseMove;xe&&xe(e,r)}onMouseUp(e,r){const xe=this.mouseUp;xe&&xe(e,r)}onMouseEnter(e,r){const xe=this.mouseEnter;xe&&xe(e,r)}onMouseLeave(e,r){const xe=this.mouseLeave;xe&&xe(e,r)}onTouchStarted(e,r){const xe=this.touchStarted;xe&&xe(e,r)}onTouchDelta(e,r){const xe=this.touchDelta;xe&&xe(e,r)}onTouchCompleted(e,r){const xe=this.touchCompleted;xe&&xe(e,r)}};__publicField(_Model,"DefaultSelectionColor",OxyColors.Yellow);__publicField(_Model,"mouseHitTolerance",10);let Model=_Model;const _Selection=class Il{constructor(){__publicField(this,"selection",new Map)}static get Everything(){return Il.EverythingSelection}isEverythingSelected(){return this===Il.EverythingSelection}getSelectedItems(){return Array.from(this.selection.keys()).map(e=>e.Index)}getSelectedItemsByFeature(e){return Array.from(this.selection.keys()).filter(r=>r.Feature===e).map(r=>r.Index)}clear(){this.selection.clear()}isItemSelected(e,r=null){if(this.isEverythingSelected())return!0;const xe=new SelectionItem(e,r);return this.hasSelection(xe)}select(e,r){const xe=new SelectionItem(e,r);this.setSelection(xe,!0)}unselect(e,r){const xe=new SelectionItem(e,r);if(!this.hasSelection(xe))throw new Error(`Item ${e} and feature ${r} is not selected. Cannot unselect.`);this.deleteSelection(xe)}getSameKey(e){for(const r of this.selection.keys())if(r.equals(e))return r}hasSelection(e){return!!this.getSameKey(e)}deleteSelection(e){const r=this.getSameKey(e);r&&this.selection.delete(r)}setSelection(e,r){const xe=this.getSameKey(e)||e;this.selection.set(xe,r)}};__publicField(_Selection,"EverythingSelection",new _Selection);let Selection=_Selection;class SelectionItem{constructor(e,r){__publicField(this,"index"),__publicField(this,"feature"),this.index=e,this.feature=r}get Index(){return this.index}get Feature(){return this.feature}equals(e){return e.index===this.index&&e.feature===this.feature}}class InputCommandBinding{constructor(e,r){__publicField(this,"gesture"),__publicField(this,"command"),this.gesture=e,this.command=r}static fromKeyGesture(e,r,xe){return new InputCommandBinding(new OxyKeyGesture(e,r),xe)}static fromMouseGesture(e,r,xe){return new InputCommandBinding(new OxyMouseDownGesture(e,r),xe)}getGesture(){return this.gesture}getCommand(){return this.command}}class ControllerBase{constructor(){__publicField(this,"inputCommandBindings",[]),__publicField(this,"mouseDownManipulators",[]),__publicField(this,"mouseHoverManipulators",[]),__publicField(this,"touchManipulators",[])}handleGesture(e,r,xe){const Se=this.getCommand(r);return this.handleCommand(Se,e,xe)}handleMouseDown(e,r){if(e.actualModel&&(e.actualModel.handleMouseDown(this,r),r.handled))return!0;const xe=this.getCommand(new OxyMouseDownGesture(r.changedButton,r.modifierKeys,r.clickCount));return this.handleCommand(xe,e,r)}handleMouseEnter(e,r){if(e.actualModel&&(e.actualModel.handleMouseEnter(this,r),r.handled))return!0;const xe=this.getCommand(new OxyMouseEnterGesture(r.modifierKeys));return this.handleCommand(xe,e,r)}handleMouseLeave(e,r){if(e.actualModel&&(e.actualModel.handleMouseLeave(this,r),r.handled))return!0;for(const xe of[...this.mouseHoverManipulators])xe.completed(r),arrayRemoveFirst(this.mouseHoverManipulators,xe);return r.handled}handleMouseMove(e,r){if(e.actualModel&&(e.actualModel.handleMouseMove(this,r),r.handled))return!0;for(const xe of this.mouseDownManipulators)xe.delta(r);for(const xe of this.mouseHoverManipulators)xe.delta(r);return r.handled}handleMouseUp(e,r){if(e.actualModel&&(e.actualModel.handleMouseUp(this,r),r.handled))return!0;for(const xe of[...this.mouseDownManipulators])xe.completed(r),arrayRemoveFirst(this.mouseDownManipulators,xe);return r.handled}handleMouseWheel(e,r){const xe=this.getCommand(new OxyMouseWheelGesture(r.modifierKeys));return this.handleCommand(xe,e,r)}handleTouchStarted(e,r){if(e.actualModel&&(e.actualModel.handleTouchStarted(this,r),r.handled))return!0;const xe=this.getCommand(new OxyTouchGesture);return this.handleCommand(xe,e,r)}handleTouchDelta(e,r){if(e.actualModel&&(e.actualModel.handleTouchDelta(this,r),r.handled))return!0;for(const xe of this.touchManipulators)xe.delta(r);return r.handled}handleTouchCompleted(e,r){if(e.actualModel&&(e.actualModel.handleTouchCompleted(this,r),r.handled))return!0;for(const xe of[...this.touchManipulators])xe.completed(r),arrayRemoveFirst(this.touchManipulators,xe);return r.handled}handleKeyDown(e,r){if(!e.actualModel)return!1;if(e.actualModel.handleKeyDown(this,r),r.handled)return!0;const xe=this.getCommand(new OxyKeyGesture(r.key,r.modifierKeys));return this.handleCommand(xe,e,r)}addMouseManipulator(e,r,xe){this.mouseDownManipulators.push(r),r.started(xe)}addHoverManipulator(e,r,xe){this.mouseHoverManipulators.push(r),r.started(xe)}addTouchManipulator(e,r,xe){this.touchManipulators.push(r),r.started(xe)}bindMouseDown(e,r){this.bindCore(e,r)}bindMouseEnter(e,r){this.bindCore(e,r)}bindMouseWheel(e,r){this.bindCore(e,r)}bindTouch(e,r){this.bindCore(e,r)}bindKey(e,r){this.bindCore(e,r)}unbindInput(e){arrayRemoveIf(this.inputCommandBindings,r=>r.getGesture().equals(e))}unbindViewCommand(e){arrayRemoveIf(this.inputCommandBindings,r=>r.getCommand()===e)}unbindAll(){this.inputCommandBindings.length=0}bindCore(e,r){const xe=this.inputCommandBindings.find(Se=>Se.getGesture().equals(e));xe&&arrayRemoveFirst(this.inputCommandBindings,xe),r&&this.inputCommandBindings.push(new InputCommandBinding(e,r))}getCommand(e){const r=this.inputCommandBindings.find(xe=>xe.getGesture().equals(e));return r?r.getCommand():void 0}handleCommand(e,r,xe){return e?(e.execute(r,this,xe),xe.handled):!1}}class ControllerExtensions{static bindKeyDown(e,r,xe,Se=OxyModifierKeys.None){e.bindKey(new OxyKeyGesture(r,Se),xe)}static bindMouseDown(e,r,xe,Se=OxyModifierKeys.None,_e=1){e.bindMouseDown(new OxyMouseDownGesture(r,Se,_e),xe)}static bindTouchDown(e,r){e.bindTouch(new OxyTouchGesture,r)}static bindMouseEnter(e,r){e.bindMouseEnter(new OxyMouseEnterGesture,r)}static bindMouseWheel(e,r,xe=OxyModifierKeys.None){e.bindMouseWheel(new OxyMouseWheelGesture(xe),r)}static unbindMouseDown(e,r,xe=OxyModifierKeys.None,Se=1){e.unbindInput(new OxyMouseDownGesture(r,xe,Se))}static unbindKeyDown(e,r,xe=OxyModifierKeys.None){e.unbindInput(new OxyKeyGesture(r,xe))}static unbindMouseEnter(e){e.unbindInput(new OxyMouseEnterGesture)}static unbindTouchDown(e){e.unbindInput(new OxyTouchGesture)}static unbindMouseWheel(e){e.unbindInput(new OxyMouseWheelGesture)}}class DelegateViewCommand{constructor(e){__publicField(this,"handler"),this.handler=e}execute(e,r,xe){this.handler(e,r,xe)}}var ImageFormat=(t=>(t[t.Png=0]="Png",t[t.Bmp=1]="Bmp",t[t.Jpeg=2]="Jpeg",t[t.Unknown=3]="Unknown",t))(ImageFormat||{});class OxyImageEx{constructor(e){__publicField(this,"_image"),__publicField(this,"_hashCode"),this._image=e}static from(e){return new OxyImageEx(e)}get uri(){return this._image.uri}get format(){return this._image.format}get width(){return this._image.width}get height(){return this._image.height}get bitsPerPixel(){return this._image.bitsPerPixel}get dpiX(){return this._image.dpiX}get dpiY(){return this._image.dpiY}get data(){return this._image.data}static async create(e,r,xe,Se){const _e=getImageService(),Ae=e.height,Ce=e.width,Pe={pixels:e,palette:Se,imageInfo:{width:Ce,height:Ae,bitsPerPixel:0,dpiX:xe==null?void 0:xe.dpiX,dpiY:xe==null?void 0:xe.dpiY,format:r}},Ee=await _e.encode(Pe),Me={...await _e.getImageInfo(Ee),data:Array.from(Ee)};return Me.width=Ce,Me.height=Ae,Me}static getImageFormat(e){return e.length>=2&&e[0]===255&&e[1]===216?ImageFormat.Jpeg:e.length>=2&&e[0]===66&&e[1]===77?ImageFormat.Bmp:e.length>=4&&e[0]===137&&e[1]===80&&e[2]===78&&e[3]===71?ImageFormat.Png:ImageFormat.Unknown}getHashCode(){return this._hashCode===void 0&&(this._hashCode=hashCode([...this._image.data])),this._hashCode}}var OxyKey=(t=>(t[t.Space=0]="Space",t[t.Enter=1]="Enter",t[t.Escape=2]="Escape",t[t.Tab=3]="Tab",t[t.Backspace=4]="Backspace",t[t.Insert=5]="Insert",t[t.Delete=6]="Delete",t[t.Home=7]="Home",t[t.End=8]="End",t[t.Up=9]="Up",t[t.Down=10]="Down",t[t.Left=11]="Left",t[t.Right=12]="Right",t[t.PageUp=13]="PageUp",t[t.PageDown=14]="PageDown",t[t.A=15]="A",t[t.B=16]="B",t[t.C=17]="C",t[t.D=18]="D",t[t.E=19]="E",t[t.F=20]="F",t[t.G=21]="G",t[t.H=22]="H",t[t.I=23]="I",t[t.J=24]="J",t[t.K=25]="K",t[t.L=26]="L",t[t.M=27]="M",t[t.N=28]="N",t[t.O=29]="O",t[t.P=30]="P",t[t.Q=31]="Q",t[t.R=32]="R",t[t.S=33]="S",t[t.T=34]="T",t[t.U=35]="U",t[t.V=36]="V",t[t.W=37]="W",t[t.X=38]="X",t[t.Y=39]="Y",t[t.Z=40]="Z",t[t.D0=41]="D0",t[t.D1=42]="D1",t[t.D2=43]="D2",t[t.D3=44]="D3",t[t.D4=45]="D4",t[t.D5=46]="D5",t[t.D6=47]="D6",t[t.D7=48]="D7",t[t.D8=49]="D8",t[t.D9=50]="D9",t[t.NumPad0=51]="NumPad0",t[t.NumPad1=52]="NumPad1",t[t.NumPad2=53]="NumPad2",t[t.NumPad3=54]="NumPad3",t[t.NumPad4=55]="NumPad4",t[t.NumPad5=56]="NumPad5",t[t.NumPad6=57]="NumPad6",t[t.NumPad7=58]="NumPad7",t[t.NumPad8=59]="NumPad8",t[t.NumPad9=60]="NumPad9",t[t.Add=61]="Add",t[t.Subtract=62]="Subtract",t[t.Multiply=63]="Multiply",t[t.Divide=64]="Divide",t[t.Decimal=65]="Decimal",t[t.F1=66]="F1",t[t.F2=67]="F2",t[t.F3=68]="F3",t[t.F4=69]="F4",t[t.F5=70]="F5",t[t.F6=71]="F6",t[t.F7=72]="F7",t[t.F8=73]="F8",t[t.F9=74]="F9",t[t.F10=75]="F10",t[t.F11=76]="F11",t[t.F12=77]="F12",t[t.Unknown=78]="Unknown",t))(OxyKey||{}),OxyModifierKeys=(t=>(t[t.None=0]="None",t[t.Control=1]="Control",t[t.Alt=2]="Alt",t[t.Shift=4]="Shift",t[t.Windows=8]="Windows",t))(OxyModifierKeys||{}),OxyMouseButton=(t=>(t[t.None=0]="None",t[t.Left=1]="Left",t[t.Middle=2]="Middle",t[t.Right=3]="Right",t[t.XButton1=4]="XButton1",t[t.XButton2=5]="XButton2",t))(OxyMouseButton||{});class OxyKeyGesture{constructor(e,r=OxyModifierKeys.None){this.key=e,this.modifiers=r}equals(e){if(!(e instanceof OxyKeyGesture))return!1;const r=e;return r.modifiers===this.modifiers&&r.key===this.key}}class OxyMouseDownGesture{constructor(e,r=OxyModifierKeys.None,xe=1){this.mouseButton=e,this.modifiers=r,this.clickCount=xe}equals(e){if(!(e instanceof OxyMouseDownGesture))return!1;const r=e;return r.modifiers===this.modifiers&&r.mouseButton===this.mouseButton&&r.clickCount===this.clickCount}}class OxyMouseEnterGesture{constructor(e=OxyModifierKeys.None){this.modifiers=e}equals(e){return e instanceof OxyMouseEnterGesture?e.modifiers===this.modifiers:!1}}class OxyMouseWheelGesture{constructor(e=OxyModifierKeys.None){this.modifiers=e}equals(e){return e instanceof OxyMouseWheelGesture?e.modifiers===this.modifiers:!1}}class OxyShakeGesture{equals(e){return e instanceof OxyShakeGesture}}class OxyTouchGesture{equals(e){return e instanceof OxyTouchGesture}}var LegendPlacement=(t=>(t[t.Inside=0]="Inside",t[t.Outside=1]="Outside",t))(LegendPlacement||{}),LegendPosition=(t=>(t[t.TopLeft=0]="TopLeft",t[t.TopCenter=1]="TopCenter",t[t.TopRight=2]="TopRight",t[t.BottomLeft=3]="BottomLeft",t[t.BottomCenter=4]="BottomCenter",t[t.BottomRight=5]="BottomRight",t[t.LeftTop=6]="LeftTop",t[t.LeftMiddle=7]="LeftMiddle",t[t.LeftBottom=8]="LeftBottom",t[t.RightTop=9]="RightTop",t[t.RightMiddle=10]="RightMiddle",t[t.RightBottom=11]="RightBottom",t))(LegendPosition||{});const isLeftLegend=t=>t===6||t===7||t===8,isRightLegend=t=>t===9||t===10||t===11,isTopLegend=t=>t===0||t===1||t===2,isBottomLegend=t=>t===3||t===4||t===5;var LegendOrientation=(t=>(t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical",t))(LegendOrientation||{}),LegendItemOrder=(t=>(t[t.Normal=0]="Normal",t[t.Reverse=1]="Reverse",t))(LegendItemOrder||{}),LegendSymbolPlacement=(t=>(t[t.Left=0]="Left",t[t.Right=1]="Right",t))(LegendSymbolPlacement||{});const DefaultLegendBaseOptions={isLegendVisible:!1,legendOrientation:0,legendPadding:0,legendSymbolLength:0,legendSymbolMargin:0,legendSymbolPlacement:0,legendTitleColor:OxyColors.Undefined,legendTitleFontSize:0,legendTitleFontWeight:0,legendBackground:OxyColors.Undefined,legendBorder:OxyColors.Undefined,legendBorderThickness:0,legendColumnSpacing:0,legendFontSize:0,legendFontWeight:0,legendItemAlignment:HorizontalAlignment.Left,legendItemOrder:0,legendItemSpacing:0,legendLineSpacing:0,legendMargin:0,legendMaxWidth:0,legendMaxHeight:0,legendPlacement:0,legendPosition:0,allowUseFullExtent:!1,showInvisibleSeries:!1,key:void 0,legendTitle:void 0,legendTitleFont:void 0,legendFont:void 0,legendTextColor:void 0},ExtendedDefaultLegendBaseOptions={...ExtendedDefaultPlotElementOptions,...DefaultLegendBaseOptions};class LegendBase extends PlotElement{constructor(e){super(e),__publicField(this,"key"),__publicField(this,"isLegendVisible",DefaultLegendBaseOptions.isLegendVisible),__publicField(this,"legendOrientation",DefaultLegendBaseOptions.legendOrientation),__publicField(this,"legendPadding",DefaultLegendBaseOptions.legendPadding),__publicField(this,"legendSymbolLength",DefaultLegendBaseOptions.legendSymbolLength),__publicField(this,"legendSymbolMargin",DefaultLegendBaseOptions.legendSymbolMargin),__publicField(this,"legendSymbolPlacement",DefaultLegendBaseOptions.legendSymbolPlacement),__publicField(this,"legendTitle"),__publicField(this,"legendTitleColor",DefaultLegendBaseOptions.legendTitleColor),__publicField(this,"legendTitleFont"),__publicField(this,"legendTitleFontSize",DefaultLegendBaseOptions.legendTitleFontSize),__publicField(this,"legendTitleFontWeight",DefaultLegendBaseOptions.legendTitleFontWeight),__publicField(this,"legendArea",OxyRect_Empty),__publicField(this,"legendSize",OxyRect_Empty),__publicField(this,"legendBackground",DefaultLegendBaseOptions.legendBackground),__publicField(this,"legendBorder",DefaultLegendBaseOptions.legendBorder),__publicField(this,"legendBorderThickness",DefaultLegendBaseOptions.legendBorderThickness),__publicField(this,"legendColumnSpacing",DefaultLegendBaseOptions.legendColumnSpacing),__publicField(this,"legendFont"),__publicField(this,"legendFontSize",DefaultLegendBaseOptions.legendFontSize),__publicField(this,"legendTextColor"),__publicField(this,"legendFontWeight",DefaultLegendBaseOptions.legendFontWeight),__publicField(this,"legendItemAlignment",DefaultLegendBaseOptions.legendItemAlignment),__publicField(this,"legendItemOrder",DefaultLegendBaseOptions.legendItemOrder),__publicField(this,"legendItemSpacing",DefaultLegendBaseOptions.legendItemSpacing),__publicField(this,"legendLineSpacing",DefaultLegendBaseOptions.legendLineSpacing),__publicField(this,"legendMargin",DefaultLegendBaseOptions.legendMargin),__publicField(this,"legendMaxWidth",DefaultLegendBaseOptions.legendMaxWidth),__publicField(this,"legendMaxHeight",DefaultLegendBaseOptions.legendMaxHeight),__publicField(this,"legendPlacement",DefaultLegendBaseOptions.legendPlacement),__publicField(this,"legendPosition",DefaultLegendBaseOptions.legendPosition),__publicField(this,"allowUseFullExtent",DefaultLegendBaseOptions.allowUseFullExtent),__publicField(this,"showInvisibleSeries",DefaultLegendBaseOptions.showInvisibleSeries),assignObject(this,DefaultLegendBaseOptions,e)}hitTestOverride(e){return this.legendHitTest(e)}}const DefaultLegendOptions={isLegendVisible:!0,groupNameFontWeight:FontWeights.Normal,groupNameFontSize:NaN,legendTitleFontSize:NaN,legendTitleFontWeight:FontWeights.Bold,legendFontSize:NaN,legendFontWeight:FontWeights.Normal,legendSymbolLength:16,legendSymbolMargin:4,legendPadding:8,legendColumnSpacing:8,legendItemSpacing:24,legendLineSpacing:0,legendMargin:8,legendBackground:OxyColors.Undefined,legendBorder:OxyColors.Undefined,legendBorderThickness:1,legendTextColor:OxyColors.Automatic,legendTitleColor:OxyColors.Automatic,legendMaxWidth:NaN,legendMaxHeight:NaN,legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.RightTop,legendOrientation:LegendOrientation.Vertical,legendItemOrder:LegendItemOrder.Normal,legendItemAlignment:HorizontalAlignment.Left,legendSymbolPlacement:LegendSymbolPlacement.Left,showInvisibleSeries:!0,seriesInvisibleTextColor:OxyColorHelper.fromAColor(64,OxyColors.Black),selectable:!0,selectionMode:SelectionMode.Single,groupNameFont:void 0},ExtendedDefaultLegendOptions={...ExtendedDefaultLegendBaseOptions,...DefaultLegendOptions};class Legend extends LegendBase{constructor(e){super(e),__publicField(this,"_legendBox",OxyRect_Empty),__publicField(this,"_seriesPosMap",new Map),__publicField(this,"groupNameFont"),__publicField(this,"groupNameFontSize",DefaultLegendOptions.groupNameFontSize),__publicField(this,"groupNameFontWeight",DefaultLegendOptions.groupNameFontWeight),__publicField(this,"seriesInvisibleTextColor",OxyColorHelper.fromAColor(64,OxyColors.Black)),assignObject(this,DefaultLegendOptions,e),!(e!=null&&e.seriesInvisibleTextColor)&&this.legendTextColor&&(this.seriesInvisibleTextColor=OxyColorHelper.fromAColor(64,this.legendTextColor))}getElementName(){return"Legend"}legendHitTest(e){if(!this.isLegendVisible||!this.plotModel.isLegendVisible)return;const r=e.point;if(this.isPointInLegend(r)&&this._seriesPosMap&&this._seriesPosMap.size>0){for(const[xe,Se]of this._seriesPosMap)if(OxyRectHelper.containsPoint(Se,r)&&this.showInvisibleSeries){xe.isVisible=!xe.isVisible,this.plotModel.invalidatePlot(!1);break}}}isPointInLegend(e){return OxyRectHelper.containsPoint(this._legendBox,e)}ensureLegendProperties(){switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:this.legendOrientation===LegendOrientation.Horizontal&&(this.legendOrientation=LegendOrientation.Vertical);break}}async renderLegends(e){await this.renderOrMeasureLegends(e,this.legendArea)}async getLegendSize(e,r){const xe=r.width,Se=r.height;let _e=await this.measureLegends(e,newOxySize(Math.max(0,xe),Math.max(0,Se)));return _e=newOxySize(Math.max(0,_e.width),Math.max(0,_e.height)),_e}getLegendRectangle(e){let r=0,xe=0;if(this.legendPlacement===LegendPlacement.Outside){const Se=OxyRectEx.fromRect(this.plotModel.plotAndAxisArea);switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:xe=Se.left-e.width-this.legendMargin;break;case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:xe=Se.right+this.legendMargin;break;case LegendPosition.TopLeft:case LegendPosition.TopCenter:case LegendPosition.TopRight:r=Se.top-e.height-this.legendMargin;break;case LegendPosition.BottomLeft:case LegendPosition.BottomCenter:case LegendPosition.BottomRight:r=Se.bottom+this.legendMargin;break}const _e=OxyRectEx.fromRect(this.allowUseFullExtent?this.plotModel.plotAndAxisArea:this.plotModel.plotArea);switch(this.legendPosition){case LegendPosition.TopLeft:case LegendPosition.BottomLeft:xe=_e.left;break;case LegendPosition.TopRight:case LegendPosition.BottomRight:xe=_e.right-e.width;break;case LegendPosition.LeftTop:case LegendPosition.RightTop:r=_e.top;break;case LegendPosition.LeftBottom:case LegendPosition.RightBottom:r=_e.bottom-e.height;break;case LegendPosition.LeftMiddle:case LegendPosition.RightMiddle:r=(_e.top+_e.bottom-e.height)*.5;break;case LegendPosition.TopCenter:case LegendPosition.BottomCenter:xe=(_e.left+_e.right-e.width)*.5;break}}else{const Se=OxyRectEx.fromRect(this.plotModel.plotArea);switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:xe=Se.left+this.legendMargin;break;case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:xe=Se.right-e.width-this.legendMargin;break;case LegendPosition.TopLeft:case LegendPosition.TopCenter:case LegendPosition.TopRight:r=Se.top+this.legendMargin;break;case LegendPosition.BottomLeft:case LegendPosition.BottomCenter:case LegendPosition.BottomRight:r=Se.bottom-e.height-this.legendMargin;break}switch(this.legendPosition){case LegendPosition.TopLeft:case LegendPosition.BottomLeft:xe=Se.left+this.legendMargin;break;case LegendPosition.TopRight:case LegendPosition.BottomRight:xe=Se.right-e.width-this.legendMargin;break;case LegendPosition.LeftTop:case LegendPosition.RightTop:r=this.plotModel.plotArea.top+this.legendMargin;break;case LegendPosition.LeftBottom:case LegendPosition.RightBottom:r=Se.bottom-e.height-this.legendMargin;break;case LegendPosition.LeftMiddle:case LegendPosition.RightMiddle:r=(Se.top+Se.bottom-e.height)*.5;break;case LegendPosition.TopCenter:case LegendPosition.BottomCenter:xe=(Se.left+Se.right-e.width)*.5;break}}return newOxyRect(xe,r,e.width,e.height)}async renderLegend(e,r,xe){let Se=this.legendItemAlignment;this.legendOrientation===LegendOrientation.Horizontal&&(Se=HorizontalAlignment.Left);let _e=xe.left;const Ae=OxyRectHelper.right(xe);switch(Se){case HorizontalAlignment.Center:_e=(xe.left+Ae)/2,this.legendSymbolPlacement===LegendSymbolPlacement.Left?_e-=(this.legendSymbolLength+this.legendSymbolMargin)/2:_e-=(this.legendSymbolLength+this.legendSymbolMargin)/2;break;case HorizontalAlignment.Right:_e=Ae,this.legendSymbolPlacement===LegendSymbolPlacement.Right&&(_e-=this.legendSymbolLength+this.legendSymbolMargin);break}this.legendSymbolPlacement===LegendSymbolPlacement.Left&&(_e+=this.legendSymbolLength+this.legendSymbolMargin);const Ce=xe.top,Pe=newOxySize(Math.max(xe.width-this.legendSymbolLength-this.legendSymbolMargin,0),xe.height),Ee=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize;let Oe=r.isVisible?this.legendTextColor:this.seriesInvisibleTextColor;Oe=Oe||OxyColors.Black,e.setToolTip(r.toolTip);const Me=await MathRenderingExtensions.drawMathText(e,newScreenPoint(_e,Ce),r.title||"",OxyColorHelper.getActualColor(Oe,this.plotModel.textColor),this.legendFont??this.plotModel.defaultFont,Ee,this.legendFontWeight,0,Se,VerticalAlignment.Top,Pe,!0);this._seriesPosMap.set(r,OxyRectHelper.fromScreenPointAndSize(newScreenPoint(_e,Ce),Me));let De=_e;switch(Se){case HorizontalAlignment.Center:De=_e-Me.width*.5;break;case HorizontalAlignment.Right:De=_e-Me.width;break}if(r.isVisible){const Te=newOxyRect(this.legendSymbolPlacement===LegendSymbolPlacement.Right?De+Me.width+this.legendSymbolMargin:De-this.legendSymbolMargin-this.legendSymbolLength,xe.top,this.legendSymbolLength,Me.height);await r.renderLegend(e,Te)}e.setToolTip(void 0)}measureLegends(e,r){return this.renderOrMeasureLegends(e,newOxyRect(0,0,r.width,r.height),!0)}async renderOrMeasureLegends(e,r,xe=!1){if(!xe&&r.width>0&&r.height>0){this._legendBox=r;const Ve=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await e.drawRectangle(r,this.legendBackground,this.legendBorder,this.legendBorderThickness,Ve)}const Se=r.width,_e=r.height;let Ae=this.legendPadding,Ce=this.legendPadding,Pe=OxySize_Empty;const Ee=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize,Oe=isNaN(this.legendTitleFontSize)?Ee:this.legendTitleFontSize,Me=isNaN(this.groupNameFontSize)?Ee:this.groupNameFontSize;if(this.legendTitle){let Ve;xe?Ve=await MathRenderingExtensions.measureMathText(e,this.legendTitle,this.legendTitleFont??this.plotModel.defaultFont,Oe,this.legendTitleFontWeight):Ve=await MathRenderingExtensions.drawMathText(e,newScreenPoint(r.left+Ae,r.top+Ce),this.legendTitle,OxyColorHelper.getActualColor(this.legendTitleColor,this.plotModel.textColor),this.legendTitleFont??this.plotModel.defaultFont,Oe,this.legendTitleFontWeight,0,HorizontalAlignment.Left,VerticalAlignment.Top,void 0,!0),Ce+=Ve.height,Pe=newOxySize(Ae+Ve.width+this.legendPadding,Ce+Ve.height)}let De=Ce,Te=0;const ke=.001;let Fe=0;const $e=getReversedCopy(this.plotModel.series),Be=this.legendItemOrder===LegendItemOrder.Reverse?$e.filter(Ve=>Ve.renderInLegend&&Ve.legendKey===this.key):this.plotModel.series.filter(Ve=>Ve.renderInLegend&&Ve.legendKey===this.key),Ie=[];for(const Ve of Be)Ie.includes(Ve.seriesGroupName||"")||Ie.push(Ve.seriesGroupName||"");this._seriesPosMap.clear();const Re=new Map,je=async()=>{const Ve=[];for(const[He,ze]of Re){if(He.seriesGroupName&&!Ve.includes(He.seriesGroupName)){Ve.push(He.seriesGroupName);const Ge=await MathRenderingExtensions.measureMathText(e,He.seriesGroupName,this.groupNameFont??this.plotModel.defaultFont,Me,this.groupNameFontWeight);let Ye=ze.top,Qe=ze.left;this.legendOrientation===LegendOrientation.Vertical?Ye-=Ge.height+this.legendLineSpacing/2:Qe-=Ge.width+this.legendItemSpacing/2,await MathRenderingExtensions.drawMathText(e,newScreenPoint(Qe,Ye),He.seriesGroupName,OxyColorHelper.getActualColor(this.legendTitleColor,this.plotModel.textColor),this.groupNameFont??this.plotModel.defaultFont,Me,this.groupNameFontWeight,0,HorizontalAlignment.Left,VerticalAlignment.Top,void 0,!0)}let Ue=Se;ze.left+Ue+this.legendPadding>r.left+Se&&(Ue=r.left+Se-ze.left-this.legendPadding);let We=ze.height;r.top+We+this.legendPadding>r.top+_e&&(We=r.top+_e-r.top-this.legendPadding);const qe=newOxyRect(ze.left,ze.top,Math.max(Ue,0),Math.max(We,0));await this.renderLegend(e,He,qe)}Ve.length=0,Re.clear()};xe||e.pushClip(r);for(const Ve of Ie){const He=Be.filter(We=>(We.seriesGroupName||"")===Ve);let ze=OxySize_Empty;He.length>0&&Ve&&(ze=await MathRenderingExtensions.measureMathText(e,Ve,this.groupNameFont??this.plotModel.defaultFont,Me,this.groupNameFontWeight),this.legendOrientation===LegendOrientation.Vertical?De+=ze.height:Ae+=ze.width);let Ue=0;for(const We of He){if(!We.title||!We.renderInLegend||!We.isVisible&&!this.showInvisibleSeries)continue;const qe=await MathRenderingExtensions.measureMathText(e,We.title,this.legendFont??this.plotModel.defaultFont,Ee,this.legendFontWeight),Ge=this.legendSymbolLength+this.legendSymbolMargin+qe.width,Ye=qe.height;this.legendOrientation===LegendOrientation.Horizontal?(Ae>this.legendPadding&&(Ae+=this.legendItemSpacing),Ae+Ge>Se-this.legendPadding+ke&&(Ae=this.legendPadding,Ue===0&&ze.width>0&&(Ae+=ze.width+this.legendItemSpacing),De+=Te+this.legendLineSpacing,Te=0),Te=Math.max(Te,qe.height),xe||Re.set(We,newOxyRect(r.left+Ae,r.top+De,Ge,Ye)),Ae+=Ge,Ae=Math.max(ze.width,Ae),Pe=newOxySize(Math.max(Pe.width,Ae),Math.max(Pe.height,De+qe.height))):(De+Ye>_e-this.legendPadding+ke&&(await je(),De=Ce+ze.height,Ae+=Fe+this.legendColumnSpacing,Fe=0),xe||Re.set(We,newOxyRect(r.left+Ae,r.top+De,Ge,Ye)),De+=Ye+this.legendLineSpacing,Fe=Math.max(Fe,Ge),Pe=newOxySize(Math.max(Pe.width,Ae+Ge),Math.max(Pe.height,De))),Ue++}await je()}return xe||e.popClip(),Pe.width>0&&(Pe=newOxySize(Pe.width+this.legendPadding,Pe.height)),Pe.height>0&&(Pe=newOxySize(Pe.width,Pe.height+this.legendPadding)),Pe.width>Se&&(Pe=newOxySize(Se,Pe.height)),Pe.height>_e&&(Pe=newOxySize(Pe.width,_e)),!isNaN(this.legendMaxWidth)&&Pe.width>this.legendMaxWidth&&(Pe=newOxySize(this.legendMaxWidth,Pe.height)),!isNaN(this.legendMaxHeight)&&Pe.height>this.legendMaxHeight&&(Pe=newOxySize(Pe.width,this.legendMaxHeight)),Pe}getElementDefaultValues(){return ExtendedDefaultLegendOptions}}class OxyModifierKeysExtensions{static isAltDown(e){return(e.modifierKeys&OxyModifierKeys.Alt)===OxyModifierKeys.Alt}static isControlDown(e){return(e.modifierKeys&OxyModifierKeys.Control)===OxyModifierKeys.Control}static isShiftDown(e){return(e.modifierKeys&OxyModifierKeys.Shift)===OxyModifierKeys.Shift}}class TrackerHitResult{constructor(e){__publicField(this,"dataPoint"),__publicField(this,"item"),__publicField(this,"index",0),__publicField(this,"lineExtents"),__publicField(this,"plotModel"),__publicField(this,"position"),__publicField(this,"series"),__publicField(this,"text"),e&&Object.assign(this,removeUndef(e))}get xAxis(){return!this.series||!(this.series instanceof XYAxisSeries)?void 0:this.series.xAxis}get yAxis(){return!this.series||!(this.series instanceof XYAxisSeries)?void 0:this.series.yAxis}toString(){return this.text?this.text.trim():""}}var AxisPreference=(t=>(t[t.None=0]="None",t[t.X=1]="X",t[t.Y=2]="Y",t))(AxisPreference||{});class PlotManipulator extends ManipulatorBase{constructor(e){super(e),__publicField(this,"plotView"),__publicField(this,"axisPreference",AxisPreference.None),__publicField(this,"xAxis"),__publicField(this,"yAxis"),this.plotView=e}inverseTransform(e,r){return this.xAxis?this.xAxis.inverseTransformPoint(e,r,this.yAxis):this.yAxis?newDataPoint(0,this.yAxis.inverseTransform(r)):DataPoint_Zero}assignAxes(e){let r,xe;this.plotView.actualModel?([r,xe]=this.plotView.actualModel.getAxesFromPoint(e),this.axisPreference!==AxisPreference.None&&OxyRectHelper.containsPoint(this.plotView.actualModel.plotArea,e)&&(this.axisPreference===AxisPreference.X?r&&(xe=void 0):this.axisPreference===AxisPreference.Y&&xe&&(r=void 0))):(r=void 0,xe=void 0),this.xAxis=r,this.yAxis=xe}}class MouseManipulator extends PlotManipulator{constructor(e){super(e),__publicField(this,"startPosition")}started(e){this.assignAxes(e.position),this.startPosition=e.position}}class ZoomStepManipulator extends MouseManipulator{constructor(e,r,xe){super(e),__publicField(this,"fineControl"),__publicField(this,"step"),this.step=r,this.fineControl=xe}started(e){if(super.started(e),!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled))return;const xe=this.inverseTransform(e.position.x,e.position.y);let Se=this.step;this.fineControl&&(Se*=3),Se>0?Se=1+Se:Se=1/(1-Se),this.xAxis&&this.xAxis.zoomAt(Se,xe.x),this.yAxis&&this.yAxis.zoomAt(Se,xe.y),this.plotView.invalidatePlot(!1),e.handled=!0}}class PanManipulator extends MouseManipulator{constructor(e){super(e),__publicField(this,"previousPosition",ScreenPoint_LeftTop),__publicField(this,"isPanEnabled",!1)}completed(e){super.completed(e),this.isPanEnabled&&(this.view.setCursorType(CursorType.Default),e.handled=!0)}delta(e){super.delta(e),this.isPanEnabled&&(this.xAxis&&this.xAxis.pan(this.previousPosition,e.position),this.yAxis&&this.yAxis.pan(this.previousPosition,e.position),this.plotView.invalidatePlot(!1),this.previousPosition=e.position,e.handled=!0)}started(e){super.started(e),this.previousPosition=e.position,this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isPanEnabled&&(this.view.setCursorType(CursorType.Pan),e.handled=!0)}}class ZoomRectangleManipulator extends MouseManipulator{constructor(e){super(e),__publicField(this,"zoomRectangle",OxyRect_Empty),__publicField(this,"isZoomEnabled",!1)}completed(e){if(super.completed(e),!!this.isZoomEnabled){if(this.plotView.setCursorType(CursorType.Default),this.plotView.hideZoomRectangle(),this.zoomRectangle.width>10&&this.zoomRectangle.height>10){const r=this.inverseTransform(this.zoomRectangle.left,this.zoomRectangle.top),xe=this.inverseTransform(OxyRectHelper.right(this.zoomRectangle),OxyRectHelper.bottom(this.zoomRectangle));this.xAxis&&this.xAxis.zoom(r.x,xe.x),this.yAxis&&this.yAxis.zoom(r.y,xe.y),this.plotView.invalidatePlot()}e.handled=!0}}delta(e){if(super.delta(e),!this.plotView.actualModel||!this.isZoomEnabled||!this.startPosition)return;const r=this.plotView.actualModel.plotArea;let xe=Math.min(this.startPosition.x,e.position.x),Se=Math.abs(this.startPosition.x-e.position.x),_e=Math.min(this.startPosition.y,e.position.y),Ae=Math.abs(this.startPosition.y-e.position.y);(this.xAxis===void 0||!this.xAxis.isZoomEnabled)&&(xe=r.left,Se=r.width),(this.yAxis===void 0||!this.yAxis.isZoomEnabled)&&(_e=r.top,Ae=r.height),this.zoomRectangle=newOxyRect(xe,_e,Se,Ae),this.plotView.showZoomRectangle(this.zoomRectangle),e.handled=!0}started(e){super.started(e),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),this.isZoomEnabled&&this.startPosition&&(this.zoomRectangle=newOxyRect(this.startPosition.x,this.startPosition.y,0,0),this.plotView.showZoomRectangle(this.zoomRectangle),this.plotView.setCursorType(this.getCursorType()),e.handled=!0)}getCursorType(){return this.xAxis===void 0?CursorType.ZoomVertical:this.yAxis===void 0?CursorType.ZoomHorizontal:CursorType.ZoomRectangle}}class TouchManipulator extends PlotManipulator{constructor(e){super(e),__publicField(this,"setHandledForPanOrZoom"),__publicField(this,"isPanEnabled",!1),__publicField(this,"isZoomEnabled",!1),this.setHandledForPanOrZoom=!0}completed(e){super.completed(e),this.setHandledForPanOrZoom&&(e.handled=e.handled||this.isPanEnabled||this.isZoomEnabled)}delta(e){if(super.delta(e),!this.isPanEnabled&&!this.isZoomEnabled)return;const r=e.position,xe=screenPointMinusVector(r,e.deltaTranslation);this.xAxis&&this.xAxis.pan(xe,r),this.yAxis&&this.yAxis.pan(xe,r);const Se=this.inverseTransform(r.x,r.y);this.xAxis&&this.xAxis.zoomAt(e.deltaScale.x,Se.x),this.yAxis&&this.yAxis.zoomAt(e.deltaScale.y,Se.y),this.plotView.invalidatePlot(!1),e.handled=!0}started(e){this.assignAxes(e.position),super.started(e),this.setHandledForPanOrZoom&&(this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),e.handled=e.handled||this.isPanEnabled||this.isZoomEnabled)}}class TrackerManipulator extends MouseManipulator{constructor(e,r){super(e),__publicField(this,"currentSeries"),__publicField(this,"pointsOnly"),__publicField(this,"snap"),__publicField(this,"lockToInitialSeries"),__publicField(this,"firesDistance"),__publicField(this,"checkDistanceBetweenPoints"),__publicField(this,"isTrackAnnotations",!0),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.isTrackAnnotations=!0,r&&Object.assign(this,removeUndef(r))}completed(e){super.completed(e),e.handled=!0,this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(e){var r;if(super.delta(e),e.handled=!0,(!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(r=this.plotView.actualModel)==null?void 0:r.getSeriesFromPoint(e.position,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker(),this.isTrackAnnotations&&this.trackAnnotations(e.position);return}const xe=this.plotView.actualModel;if(!xe||!OxyRectHelper.contains(xe.plotArea,e.position.x,e.position.y))return;const Se=TrackerHelper.getNearestHit(this.currentSeries,e.position,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);Se&&(Se.plotModel=this.plotView.actualModel,this.plotView.showTracker(Se),this.plotView.actualModel.raiseTrackerChanged(Se))}started(e){var r;super.started(e),this.currentSeries=(r=this.plotView.actualModel)==null?void 0:r.getSeriesFromPoint(e.position,this.firesDistance),this.delta(e)}trackAnnotations(e){const r=this.plotView.actualModel;for(const xe of r.annotations.filter(Se=>Se.toolTip).reverse()){if(!xe.toolTip)continue;const Se=new HitTestArguments(e,this.firesDistance);if(!xe.hitTest(Se))continue;const Ae=xe.inverseTransform(e),Ce=new TrackerHitResult({position:e,dataPoint:Ae,text:xe.toolTip,plotModel:this.plotView.actualModel});this.plotView.showTracker(Ce),r.raiseTrackerChanged(Ce);break}}}class TouchTrackerManipulator extends TouchManipulator{constructor(e,r){super(e),__publicField(this,"currentSeries"),__publicField(this,"pointsOnly"),__publicField(this,"snap"),__publicField(this,"lockToInitialSeries"),__publicField(this,"firesDistance"),__publicField(this,"checkDistanceBetweenPoints"),this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.setHandledForPanOrZoom=!1,r&&Object.assign(this,removeUndef(r))}completed(e){super.completed(e),this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(e){super.delta(e),this.plotView.hideTracker()}started(e){var r;super.started(e),this.currentSeries=(r=this.plotView.actualModel)==null?void 0:r.getSeriesFromPoint(e.position,this.firesDistance),this.updateTracker(e.position)}updateTracker(e){var r;if((!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(r=this.plotView.actualModel)==null?void 0:r.getSeriesFromPoint(e,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker();return}const xe=this.plotView.actualModel;if(!xe||!OxyRectHelper.contains(xe.plotArea,e.x,e.y))return;const Se=TrackerHelper.getNearestHit(this.currentSeries,e,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);Se&&(Se.plotModel=this.plotView.actualModel,this.plotView.showTracker(Se),this.plotView.actualModel.raiseTrackerChanged(Se))}}class DelegatePlotCommand extends DelegateViewCommand{constructor(e){super((r,xe,Se)=>e(r,xe,Se))}}class PlotCommands{static init(){this.reset=new DelegatePlotCommand((e,r,xe)=>this.handleReset(e,xe)),this.resetAt=new DelegatePlotCommand((e,r,xe)=>this.handleReset(e,xe)),this.panAt=new DelegatePlotCommand((e,r,xe)=>r.addMouseManipulator(e,new PanManipulator(e),xe)),this.zoomRectangle=new DelegatePlotCommand((e,r,xe)=>r.addMouseManipulator(e,new ZoomRectangleManipulator(e),xe)),this.track=new DelegatePlotCommand((e,r,xe)=>r.addMouseManipulator(e,new TrackerManipulator(e,{snap:!1,pointsOnly:!1}),xe)),this.snapTrack=new DelegatePlotCommand((e,r,xe)=>r.addMouseManipulator(e,new TrackerManipulator(e,{snap:!0,pointsOnly:!1}),xe)),this.pointsOnlyTrack=new DelegatePlotCommand((e,r,xe)=>r.addMouseManipulator(e,new TrackerManipulator(e,{snap:!1,pointsOnly:!0}),xe)),this.zoomWheel=new DelegatePlotCommand((e,r,xe)=>this.handleZoomByWheel(e,xe)),this.zoomWheelFine=new DelegatePlotCommand((e,r,xe)=>this.handleZoomByWheel(e,xe,.1)),this.zoomInAt=new DelegatePlotCommand((e,r,xe)=>this.handleZoomAt(e,xe,.05)),this.zoomOutAt=new DelegatePlotCommand((e,r,xe)=>this.handleZoomAt(e,xe,-.05)),this.hoverTrack=new DelegatePlotCommand((e,r,xe)=>r.addHoverManipulator(e,new TrackerManipulator(e,{lockToInitialSeries:!1,snap:!1,pointsOnly:!1}),xe)),this.hoverSnapTrack=new DelegatePlotCommand((e,r,xe)=>r.addHoverManipulator(e,new TrackerManipulator(e,{lockToInitialSeries:!1,snap:!0,pointsOnly:!1}),xe)),this.hoverPointsOnlyTrack=new DelegatePlotCommand((e,r,xe)=>r.addHoverManipulator(e,new TrackerManipulator(e,{lockToInitialSeries:!1,snap:!1,pointsOnly:!0}),xe)),this.snapTrackTouch=new DelegatePlotCommand((e,r,xe)=>r.addTouchManipulator(e,new TouchTrackerManipulator(e,{snap:!0,pointsOnly:!1}),xe)),this.pointsOnlyTrackTouch=new DelegatePlotCommand((e,r,xe)=>r.addTouchManipulator(e,new TouchTrackerManipulator(e,{snap:!0,pointsOnly:!0}),xe)),this.panZoomByTouch=new DelegatePlotCommand((e,r,xe)=>r.addTouchManipulator(e,new TouchManipulator(e),xe)),this.panLeft=new DelegatePlotCommand((e,r,xe)=>this.handlePan(e,xe,-.1,0)),this.panRight=new DelegatePlotCommand((e,r,xe)=>this.handlePan(e,xe,.1,0)),this.panUp=new DelegatePlotCommand((e,r,xe)=>this.handlePan(e,xe,0,-.1)),this.panDown=new DelegatePlotCommand((e,r,xe)=>this.handlePan(e,xe,0,.1)),this.panLeftFine=new DelegatePlotCommand((e,r,xe)=>this.handlePan(e,xe,-.01,0)),this.panRightFine=new DelegatePlotCommand((e,r,xe)=>this.handlePan(e,xe,.01,0)),this.panUpFine=new DelegatePlotCommand((e,r,xe)=>this.handlePan(e,xe,0,-.01)),this.panDownFine=new DelegatePlotCommand((e,r,xe)=>this.handlePan(e,xe,0,.01)),this.zoomIn=new DelegatePlotCommand((e,r,xe)=>this.handleZoomCenter(e,xe,1)),this.zoomOut=new DelegatePlotCommand((e,r,xe)=>this.handleZoomCenter(e,xe,-1)),this.zoomInFine=new DelegatePlotCommand((e,r,xe)=>this.handleZoomCenter(e,xe,.1)),this.zoomOutFine=new DelegatePlotCommand((e,r,xe)=>this.handleZoomCenter(e,xe,-.1))}static handleReset(e,r){e.actualModel&&(r.handled=!0,e.actualModel.resetAllAxes(),e.invalidatePlot(!1))}static handleZoomAt(e,r,xe){const Se=OxyModifierKeysExtensions.isControlDown(r);new ZoomStepManipulator(e,xe,Se).started(r)}static handleZoomByWheel(e,r,xe=1){const Se=OxyModifierKeysExtensions.isControlDown(r);new ZoomStepManipulator(e,r.delta*.001*xe,Se).started(r)}static handleZoomCenter(e,r,xe){e.actualModel&&(r.handled=!0,e.actualModel.zoomAllAxes(1+xe*.12),e.invalidatePlot(!1))}static handlePan(e,r,xe,Se){e.actualModel&&(r.handled=!0,xe*=e.actualModel.plotArea.width,Se*=e.actualModel.plotArea.height,e.actualModel.panAllAxes(xe,Se),e.invalidatePlot(!1))}}__publicField(PlotCommands,"reset");__publicField(PlotCommands,"resetAt");__publicField(PlotCommands,"panZoomByTouch");__publicField(PlotCommands,"panAt");__publicField(PlotCommands,"zoomRectangle");__publicField(PlotCommands,"zoomWheel");__publicField(PlotCommands,"zoomWheelFine");__publicField(PlotCommands,"track");__publicField(PlotCommands,"snapTrack");__publicField(PlotCommands,"snapTrackTouch");__publicField(PlotCommands,"pointsOnlyTrack");__publicField(PlotCommands,"pointsOnlyTrackTouch");__publicField(PlotCommands,"hoverTrack");__publicField(PlotCommands,"hoverSnapTrack");__publicField(PlotCommands,"hoverPointsOnlyTrack");__publicField(PlotCommands,"panLeft");__publicField(PlotCommands,"panRight");__publicField(PlotCommands,"panUp");__publicField(PlotCommands,"panDown");__publicField(PlotCommands,"panLeftFine");__publicField(PlotCommands,"panRightFine");__publicField(PlotCommands,"panUpFine");__publicField(PlotCommands,"panDownFine");__publicField(PlotCommands,"zoomInAt");__publicField(PlotCommands,"zoomOutAt");__publicField(PlotCommands,"zoomIn");__publicField(PlotCommands,"zoomOut");__publicField(PlotCommands,"zoomInFine");__publicField(PlotCommands,"zoomOutFine");PlotCommands.init();class PlotController extends ControllerBase{constructor(){super(),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Middle,PlotCommands.zoomRectangle),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.zoomRectangle,OxyModifierKeys.Control),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.zoomRectangle,OxyModifierKeys.Control|OxyModifierKeys.Alt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Middle,PlotCommands.resetAt,OxyModifierKeys.None,2),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.resetAt,OxyModifierKeys.Control,2),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.resetAt,OxyModifierKeys.Control|OxyModifierKeys.Alt,2),ControllerExtensions.bindKeyDown(this,OxyKey.A,PlotCommands.reset),ControllerExtensions.bindKeyDown(this,OxyKey.Home,PlotCommands.reset),this.bindCore(new OxyShakeGesture,PlotCommands.reset),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.panAt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.panAt,OxyModifierKeys.Alt),ControllerExtensions.bindKeyDown(this,OxyKey.Left,PlotCommands.panLeft),ControllerExtensions.bindKeyDown(this,OxyKey.Right,PlotCommands.panRight),ControllerExtensions.bindKeyDown(this,OxyKey.Up,PlotCommands.panUp),ControllerExtensions.bindKeyDown(this,OxyKey.Down,PlotCommands.panDown),ControllerExtensions.bindKeyDown(this,OxyKey.Left,PlotCommands.panLeftFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Right,PlotCommands.panRightFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Up,PlotCommands.panUpFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Down,PlotCommands.panDownFine,OxyModifierKeys.Control),ControllerExtensions.bindTouchDown(this,PlotCommands.panZoomByTouch),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.snapTrack),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.track,OxyModifierKeys.Control),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.pointsOnlyTrack,OxyModifierKeys.Shift),ControllerExtensions.bindTouchDown(this,PlotCommands.snapTrackTouch),ControllerExtensions.bindMouseDown(this,OxyMouseButton.XButton1,PlotCommands.zoomInAt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.XButton2,PlotCommands.zoomOutAt),ControllerExtensions.bindMouseWheel(this,PlotCommands.zoomWheel),ControllerExtensions.bindMouseWheel(this,PlotCommands.zoomWheelFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Add,PlotCommands.zoomIn),ControllerExtensions.bindKeyDown(this,OxyKey.Subtract,PlotCommands.zoomOut),ControllerExtensions.bindKeyDown(this,OxyKey.PageUp,PlotCommands.zoomIn),ControllerExtensions.bindKeyDown(this,OxyKey.PageDown,PlotCommands.zoomOut),ControllerExtensions.bindKeyDown(this,OxyKey.Add,PlotCommands.zoomInFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Subtract,PlotCommands.zoomOutFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.PageUp,PlotCommands.zoomInFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.PageDown,PlotCommands.zoomOutFine,OxyModifierKeys.Control)}}function isTransposablePlotElement(t){return t instanceof Object&&"__isTransposable"in t}function setTransposablePlotElement(t){t.__isTransposable=!0}class PlotElementExtensions{static inverseTransform(e,r,xe){return e.inverseTransform(newScreenPoint(r,xe))}static isTransposed(e){return e.xAxis.isVertical()}static orientate(e,r){return PlotElementExtensions.isTransposed(e)?newScreenPoint(r.y,r.x):r}static orientateVector(e,r){return r=newScreenVector(e.xAxis.isReversed?-r.x:r.x,e.yAxis.isReversed?-r.y:r.y),PlotElementExtensions.isTransposed(e)?newScreenVector(-r.y,-r.x):r}static orientateAlignment(e,r,xe){if(e.xAxis.isReversed&&(r=-r),e.yAxis.isReversed&&(xe=-xe),PlotElementExtensions.isTransposed(e)){const Se=-xe;xe=-r,r=Se}return[r,xe]}static transform(e,r,xe){return e.transform(newDataPoint(r,xe))}}class PlotElementUtilities{static getClippingRect(e){const r=OxyRectHelper.fromScreenPoints(e.xAxis.screenMin,e.xAxis.screenMax),xe=OxyRectHelper.fromScreenPoints(e.yAxis.screenMin,e.yAxis.screenMax);return OxyRectHelper.intersect(r,xe)}static inverseTransform(e,r){return e.xAxis.inverseTransformPoint(r.x,r.y,e.yAxis)}static inverseTransformOrientated(e,r){return this.inverseTransform(e,PlotElementExtensions.orientate(e,r))}static transform(e,r){return e.xAxis.transformPoint(r.x,r.y,e.yAxis)}static transformOrientated(e,r){return PlotElementExtensions.orientate(e,this.transform(e,r))}}var PlotType=(t=>(t[t.XY=0]="XY",t[t.Cartesian=1]="Cartesian",t[t.Polar=2]="Polar",t))(PlotType||{}),TitleHorizontalAlignment=(t=>(t[t.CenteredWithinPlotArea=0]="CenteredWithinPlotArea",t[t.CenteredWithinView=1]="CenteredWithinView",t))(TitleHorizontalAlignment||{});const DefaultPlotModelOptions={plotType:0,plotMargins:newOxyThickness(NaN),padding:newOxyThickness(8),background:OxyColors.Undefined,plotAreaBackground:OxyColors.Undefined,textColor:OxyColors.Black,titleColor:OxyColors.Automatic,subtitleColor:OxyColors.Automatic,defaultFont:"Segoe UI",defaultFontSize:12,titleToolTip:void 0,titleFont:void 0,titleFontSize:18,titleFontWeight:FontWeights.Bold,subtitleFont:void 0,subtitleFontSize:14,subtitleFontWeight:FontWeights.Normal,titlePadding:6,clipTitle:!0,titleClippingLength:.9,plotAreaBorderColor:OxyColors.Black,plotAreaBorderThickness:newOxyThickness(1),edgeRenderingMode:EdgeRenderingMode.Automatic,assignColorsToInvisibleSeries:!0,isLegendVisible:!0,axisTierDistance:4,title:void 0,subtitle:void 0,titleHorizontalAlignment:0,defaultColors:[OxyColorHelper.fromRgb(78,154,6),OxyColorHelper.fromRgb(200,141,0),OxyColorHelper.fromRgb(204,0,0),OxyColorHelper.fromRgb(32,74,135),OxyColors.Red,OxyColors.Orange,OxyColors.Yellow,OxyColors.Green,OxyColors.Blue,OxyColors.Indigo,OxyColors.Violet]},ExtendedPlotModelOptions={...DefaultCreateModelOptions,...DefaultPlotModelOptions};class PlotModel extends Model{constructor(e){super(e),__publicField(this,"_barSeriesManagers",[]),__publicField(this,"_plotViewReference"),__publicField(this,"_currentColorIndex",0),__publicField(this,"_isDataUpdated",!1),__publicField(this,"_lastPlotException"),__publicField(this,"trackerChanged"),__publicField(this,"updated"),__publicField(this,"updating"),__publicField(this,"defaultFont",DefaultPlotModelOptions.defaultFont),__publicField(this,"defaultFontSize",DefaultPlotModelOptions.defaultFontSize),__publicField(this,"_actualPlotMargins",OxyThickness_Zero),__publicField(this,"_annotations"),__publicField(this,"_axes"),__publicField(this,"_legends"),__publicField(this,"background",OxyColors.Undefined),__publicField(this,"defaultColors",DefaultPlotModelOptions.defaultColors),__publicField(this,"edgeRenderingMode",DefaultPlotModelOptions.edgeRenderingMode),__publicField(this,"assignColorsToInvisibleSeries",DefaultPlotModelOptions.assignColorsToInvisibleSeries),__publicField(this,"isLegendVisible",DefaultPlotModelOptions.isLegendVisible),__publicField(this,"padding",DefaultPlotModelOptions.padding),__publicField(this,"_plotBounds",OxyRect_Empty),__publicField(this,"_plotAndAxisArea",OxyRect_Empty),__publicField(this,"_plotArea",OxyRect_Empty),__publicField(this,"axisTierDistance",DefaultPlotModelOptions.axisTierDistance),__publicField(this,"plotAreaBackground",DefaultPlotModelOptions.plotAreaBackground),__publicField(this,"plotAreaBorderColor",DefaultPlotModelOptions.plotAreaBorderColor),__publicField(this,"plotAreaBorderThickness",DefaultPlotModelOptions.plotAreaBorderThickness),__publicField(this,"plotMargins",DefaultPlotModelOptions.plotMargins),__publicField(this,"plotType",DefaultPlotModelOptions.plotType),__publicField(this,"_series"),__publicField(this,"renderingDecorator"),__publicField(this,"subtitle"),__publicField(this,"subtitleFont"),__publicField(this,"subtitleFontSize",DefaultPlotModelOptions.subtitleFontSize),__publicField(this,"subtitleFontWeight",DefaultPlotModelOptions.subtitleFontWeight),__publicField(this,"textColor",OxyColors.Black),__publicField(this,"title"),__publicField(this,"titleToolTip"),__publicField(this,"titleColor",OxyColors.Automatic),__publicField(this,"clipTitle",DefaultPlotModelOptions.clipTitle),__publicField(this,"titleClippingLength",DefaultPlotModelOptions.titleClippingLength),__publicField(this,"subtitleColor",OxyColors.Automatic),__publicField(this,"titleHorizontalAlignment",DefaultPlotModelOptions.titleHorizontalAlignment),__publicField(this,"_titleArea",OxyRect_Empty),__publicField(this,"titleFont"),__publicField(this,"titleFontSize",DefaultPlotModelOptions.titleFontSize),__publicField(this,"titleFontWeight",DefaultPlotModelOptions.titleFontWeight),__publicField(this,"titlePadding",DefaultPlotModelOptions.titlePadding),__publicField(this,"_defaultAngleAxis"),__publicField(this,"_defaultMagnitudeAxis"),__publicField(this,"_defaultXAxis"),__publicField(this,"_defaultYAxis"),__publicField(this,"_defaultColorAxis"),this._axes=newElementCollection(this),this._series=newElementCollection(this),this._annotations=newElementCollection(this),this._legends=newElementCollection(this),e&&this.applyOptions(e),assignObject(this,DefaultPlotModelOptions,e)}applyOptions(e){removeProperties(e,"_axes","_series","_annotations","_legends"),e.axes&&e.axes.length>0&&this._axes.push(...e.axes),e.series&&e.series.length>0&&this._series.push(...e.series),e.annotations&&e.annotations.length>0&&this._annotations.push(...e.annotations),e.legends&&e.legends.length>0&&this._legends.push(...e.legends),removeProperties(e,"axes","series","annotations","legends")}get actualPlotMargins(){return this._actualPlotMargins}get plotView(){return this._plotViewReference}get annotations(){return this._annotations}get axes(){return this._axes}get legends(){return this._legends}get plotBounds(){return this._plotBounds}get width(){return this.plotBounds.width}get height(){return this.plotBounds.height}get plotAndAxisArea(){return this._plotAndAxisArea}get plotArea(){return this._plotArea}get series(){return this._series}get titleArea(){return this._titleArea}get defaultAngleAxis(){return this._defaultAngleAxis}get defaultMagnitudeAxis(){return this._defaultMagnitudeAxis}get defaultXAxis(){return this._defaultXAxis}get defaultYAxis(){return this._defaultYAxis}get defaultColorAxis(){return this._defaultColorAxis}get actualTitleFont(){return this.titleFont||this.defaultFont}get actualSubtitleFont(){return this.subtitleFont||this.defaultFont}attachPlotView(e){const r=this.plotView;if(r&&e&&r!==e)throw new Error("This PlotModel is already in use by some other PlotView control.");this._plotViewReference=e}invalidatePlot(e){var r;(r=this.plotView)==null||r.invalidatePlot(e)}getAxesFromPoint(e){let r,xe,Se,_e=0;const Ae=OxyRectHelper.right(this.plotArea),Ce=OxyRectHelper.bottom(this.plotArea);e.x<this.plotArea.left&&(Se=AxisPosition.Left,_e=this.plotArea.left),e.x>Ae&&(Se=AxisPosition.Right,_e=Ae),e.y<this.plotArea.top&&(Se=AxisPosition.Top,_e=this.plotArea.top),e.y>Ce&&(Se=AxisPosition.Bottom,_e=Ce);for(const Pe of this.axes){if(!Pe.isAxisVisible||isColorAxis(Pe))continue;if(Pe instanceof MagnitudeAxis){r=Pe;continue}if(Pe instanceof AngleAxis){xe=Pe;continue}let Ee=NaN;if(Pe.isHorizontal()&&(Ee=Pe.inverseTransform(e.x)),Pe.isVertical()&&(Ee=Pe.inverseTransform(e.y)),Ee>=Pe.clipMinimum&&Ee<=Pe.clipMaximum){if(!Se)Pe.isHorizontal()?r||(r=Pe):Pe.isVertical()&&(xe||(xe=Pe));else if(Se===Pe.position){const Oe=Pe.positionTierMinShift,Me=Pe.positionTierMaxShift,De=Pe.isHorizontal()?e.y:e.x,Te=Se===AxisPosition.Top||Se===AxisPosition.Left;(De>=_e+Oe&&De<_e+Me&&!Te||De<=_e-Oe&&De>_e-Me&&Te)&&(Pe.isHorizontal()?isNullOrUndef(r)&&(r=Pe):Pe.isVertical()&&isNullOrUndef(xe)&&(xe=Pe))}}}return[r,xe]}getDefaultColor(){return this.defaultColors[this._currentColorIndex++%this.defaultColors.length]}getDefaultLineStyle(){return this._currentColorIndex/this.defaultColors.length%Number(LineStyle.None)}getSeriesFromPoint(e,r=100){let xe=Number_MAX_VALUE,Se;const _e=getReversedCopy(this.series);for(const Ae of _e.filter(Ce=>Ce.isVisible)){const Ce=Ae.getNearestPoint(e,!0)||Ae.getNearestPoint(e,!1);if(!(Ce!=null&&Ce.position))continue;const Pe=screenPointDistanceTo(e,Ce.position);Pe<xe&&(Se=Ae,xe=Pe)}if(xe<r)return Se}toString(){return this.title||""}getLastPlotException(){return this._lastPlotException}update(e){try{this._lastPlotException=null,this.onUpdating(),this.ensureDefaultAxes();const r=this.series.filter(Se=>Se.isVisible);if(e||!this._isDataUpdated){for(const Se of r)Se.updateData();this._isDataUpdated=!0}this.updateBarSeriesManagers(),this.updateMaxMin(e),this.updateUnmanagedCategoryAxes();const xe=this.assignColorsToInvisibleSeries?this.series:r;this.resetDefaultColor();for(const Se of xe)Se.setDefaultValues();this.onUpdated()}catch(r){console.log(r),this._lastPlotException=r}}getAxis(e){if(!e)throw new Error("Axis key cannot be null.");const r=this.axes.find(xe=>xe.key===e);if(!r)throw new Error(`Cannot find axis with Key = "${e}"`);return r}getAxisOrDefault(e,r){return e?r:this.axes.find(Se=>Se.key===e)||r}resetAllAxes(){for(const e of this.axes)e.reset()}panAllAxes(e,r){for(const xe of this.axes)xe.pan(xe.isHorizontal()?e:r)}zoomAllAxes(e){for(const r of this.axes)r.zoomAtCenter(e)}raiseTrackerChanged(e){const r=this.trackerChanged;r&&r(this,{hitResult:e})}onTrackerChanged(e){this.raiseTrackerChanged(e)}getHitTestElements(){const e=[],r=getReversedCopy(this.axes);for(const _e of r.filter(Ae=>Ae.isAxisVisible&&Ae.layer===AxisLayer.AboveSeries))e.push(_e);const xe=getReversedCopy(this.annotations);for(const _e of xe.filter(Ae=>Ae.layer===AnnotationLayer.AboveSeries))e.push(_e);const Se=getReversedCopy(this.series);for(const _e of Se.filter(Ae=>Ae.isVisible))e.push(_e);for(const _e of xe.filter(Ae=>Ae.layer===AnnotationLayer.BelowSeries))e.push(_e);for(const _e of r.filter(Ae=>Ae.isAxisVisible&&Ae.layer===AxisLayer.BelowSeries))e.push(_e);for(const _e of xe.filter(Ae=>Ae.layer===AnnotationLayer.BelowAxes))e.push(_e);for(const _e of this.legends)e.push(_e);return e}onUpdated(){const e=this.updated;e&&e(this)}onUpdating(){const e=this.updating;e&&e(this)}updateAxisTransforms(){for(const e of this.axes)e.updateTransform(this.plotArea)}enforceCartesianTransforms(){const e=this.axes.filter(xe=>!isColorAxis(xe));let r=Math.min(...e.map(xe=>Math.abs(xe.scale)));for(const xe of e)xe.zoomScale(r);r=Math.max(...e.map(xe=>Math.abs(xe.scale)));for(const xe of e)xe.zoomScale(r);for(const xe of e)xe.updateTransform(this.plotArea)}updateIntervals(){for(const e of this.axes)e.updateIntervals(this.plotArea)}ensureDefaultAxes(){const e=this.axes,r=this.series;if(this._defaultXAxis=e.find(Se=>Se.isHorizontal()&&Se.isXyAxis()),this._defaultYAxis=e.find(Se=>Se.isVertical()&&Se.isXyAxis()),this._defaultMagnitudeAxis=e.find(Se=>Se instanceof MagnitudeAxis),this._defaultAngleAxis=e.find(Se=>Se instanceof AngleAxis),this._defaultColorAxis=e.find(Se=>isColorAxis(Se)),isNullOrUndef(this.defaultXAxis)&&(this._defaultXAxis=this.defaultMagnitudeAxis),isNullOrUndef(this.defaultYAxis)&&(this._defaultYAxis=this.defaultAngleAxis),this.plotType===2)isNullOrUndef(this.defaultXAxis)&&(this._defaultXAxis=this._defaultMagnitudeAxis=new MagnitudeAxis),isNullOrUndef(this.defaultYAxis)&&(this._defaultYAxis=this._defaultAngleAxis=new AngleAxis);else{let Se=!1,_e=!1;isNullOrUndef(this.defaultXAxis)&&(this._defaultXAxis=new LinearAxis({position:AxisPosition.Bottom}),Se=!0),isNullOrUndef(this.defaultYAxis)&&(r.some(Ae=>Ae.isVisible&&Ae instanceof BarSeries)?this._defaultYAxis=new CategoryAxis({position:AxisPosition.Left}):(this._defaultYAxis=new LinearAxis({position:AxisPosition.Left}),_e=!0)),Se&&this.defaultXAxis&&this.defaultYAxis instanceof CategoryAxis&&(this.defaultXAxis.minimumPadding=0),_e&&this.defaultYAxis&&this.defaultXAxis instanceof CategoryAxis&&(this.defaultYAxis.minimumPadding=0)}r.some(Se=>Se.isVisible&&Se.areAxesRequired())&&(e.includes(this.defaultXAxis)||(console.assert(this.defaultXAxis,"Default x-axis not created."),this.defaultXAxis&&this.axes.push(this.defaultXAxis)),e.includes(this.defaultYAxis)||(console.assert(this.defaultYAxis,"Default y-axis not created."),this.defaultYAxis&&this.axes.push(this.defaultYAxis)));for(const Se of this.series)Se.isVisible&&Se.areAxesRequired()&&Se.ensureAxes();for(const Se of this.annotations)Se.ensureAxes()}resetDefaultColor(){this._currentColorIndex=0}updateMaxMin(e){if(e){for(const r of this.axes)r.resetDataMaxMin();for(const r of this.series.filter(xe=>xe.isVisible))r.updateMaxMin()}for(const r of this.series.filter(xe=>xe.isVisible))r.updateAxisMaxMin();for(const r of this.axes)r.updateActualMaxMin()}updateBarSeriesManagers(){this._barSeriesManagers=[];const e=this.series.filter(xe=>xe.isVisible&&isBarSeries(xe)).map(xe=>xe),r=new Map;for(const xe of e){const Se=[...r.keys()].find(_e=>_e.ca===xe.categoryAxis&&_e.va===xe.valueAxis);if(Se){r.get(Se).push(xe);continue}r.set({ca:xe.categoryAxis,va:xe.valueAxis},[xe])}r.forEach((xe,Se)=>{const _e=new BarSeriesManager(Se.ca,Se.va,xe);_e.update(),this._barSeriesManagers.push(_e)})}updateUnmanagedCategoryAxes(){const e=this._barSeriesManagers.map(Se=>Se.categoryAxis),xe=this.axes.filter(Se=>Se instanceof CategoryAxis).map(Se=>Se).filter(Se=>!e.includes(Se));for(const Se of xe){let _e=0;!isInfinity(Se.dataMaximum)&&!isNaNOrUndef(Se.dataMaximum)&&Se.dataMaximum>0&&(_e=Math.floor(Se.dataMaximum)+1),Se.updateLabels(_e)}}render(e,r){return this.renderOverride(e,r)}async renderOverride(e,r){var xe;const Se=e.clipCount;let _e;try{if(_e=RenderingExtensions.autoResetClip(e,r),this._lastPlotException){const Ae=`An exception of type ${this._lastPlotException.constructor.name} was thrown when updating the plot model.\r
${this._lastPlotException.stack}`;await this.renderErrorMessage(e,`OxyPlot exception: ${this._lastPlotException.message}`,Ae);return}this.renderingDecorator&&(e=this.renderingDecorator(e)),this._plotBounds=r,this._actualPlotMargins=newOxyThickness(isNaNOrUndef(this.plotMargins.left)?0:this.plotMargins.left,isNaNOrUndef(this.plotMargins.top)?0:this.plotMargins.top,isNaNOrUndef(this.plotMargins.right)?0:this.plotMargins.right,isNaNOrUndef(this.plotMargins.bottom)?0:this.plotMargins.bottom);for(const Ae of this.legends)Ae.ensureLegendProperties();for(let Ae=0;Ae<10&&(await this.updatePlotArea(e),this.updateAxisTransforms(),this.updateIntervals(),!!this.adjustPlotMargins(e));Ae++);if(this.plotType===1&&(this.enforceCartesianTransforms(),this.updateIntervals()),await this.renderBackgrounds(e),await this.renderAnnotations(e,AnnotationLayer.BelowAxes),await this.renderAxes(e,AxisLayer.BelowSeries),await this.renderAnnotations(e,AnnotationLayer.BelowSeries),await this.renderSeries(e),await this.renderAnnotations(e,AnnotationLayer.AboveSeries),await this.renderTitle(e),await this.renderBox(e),await this.renderAxes(e,AxisLayer.AboveSeries),this.isLegendVisible&&await this.renderLegends(e),e.clipCount!==Se+1)throw new Error("Unbalanced calls to IRenderContext.pushClip were made during rendering.")}catch(Ae){try{_e==null||_e.dispose()}catch(Pe){Ae=Pe}finally{_e=void 0}debugger;for(console.log(Ae);e.clipCount>Se;)e.popClip();const Ce=`An exception of type ${(xe=Ae.constructor)==null?void 0:xe.name} was thrown when rendering the plot model.\r
${Ae.stack}`;this._lastPlotException=Ae,await this.renderErrorMessage(e,`OxyPlot exception: ${Ae.message}`,Ce)}finally{_e==null||_e.dispose(),e.cleanUp()}}async renderErrorMessage(e,r,xe,Se=12){const _e=newScreenPoint(10,10);await e.drawText(_e,r,this.textColor,void 0,Se,FontWeights.Bold),await RenderingExtensions.drawMultilineText(e,screenPointPlus(_e,newScreenVector(0,Se*1.5)),xe,this.textColor,void 0,Se,Se*1.25)}adjustPlotMargins(e){const r=this.axes.filter(Ae=>Ae.isAxisVisible);r.forEach(Ae=>{Ae.measure(e)});let xe=OxyThickness_Zero;const Se=(Ae,Ce)=>{switch(Ce){case AxisPosition.Bottom:xe=newOxyThickness(xe.left,xe.top,xe.right,Math.max(xe.bottom,Ae));break;case AxisPosition.Left:xe=newOxyThickness(Math.max(xe.left,Ae),xe.top,xe.right,xe.bottom);break;case AxisPosition.Right:xe=newOxyThickness(xe.left,xe.top,Math.max(xe.right,Ae),xe.bottom);break;case AxisPosition.Top:xe=newOxyThickness(xe.left,Math.max(xe.top,Ae),xe.right,xe.bottom);break}};for(let Ae=AxisPosition.Left;Ae<=AxisPosition.Bottom;Ae++){const Ce=r.filter(Ee=>Ee.position===Ae),Pe=this.adjustAxesPositions(Ce);Se(Pe,Ae)}r.forEach(Ae=>{xe=OxyThicknessEx.include(xe,Ae.desiredMargin)});let _e=this.plotMargins;return _e=newOxyThickness(isNaNOrUndef(_e.left)?xe.left:_e.left,isNaNOrUndef(_e.top)?xe.top:_e.top,isNaNOrUndef(_e.right)?xe.right:_e.right,isNaNOrUndef(_e.bottom)?xe.bottom:_e.bottom),OxyThicknessEx.equals(_e,this.actualPlotMargins)?!1:(this._actualPlotMargins=_e,!0)}adjustAxesPositions(e){let r=0;const xe=_e=>{switch(_e.position){case AxisPosition.Left:return _e.desiredMargin.left;case AxisPosition.Right:return _e.desiredMargin.right;case AxisPosition.Top:return _e.desiredMargin.top;case AxisPosition.Bottom:return _e.desiredMargin.bottom;default:throw new Error("We don't do this for polar axes")}};return e.reduce((_e,Ae)=>{const Ce=Ae.positionTier,Pe=_e.get(Ce);return Pe?Pe.push(Ae):_e.set(Ce,[Ae]),_e},new Map).forEach((_e,Ae)=>{const Ce=Math.max(..._e.map(xe)),Pe=r;Math.abs(r)>1e-5&&(r+=this.axisTierDistance),r+=Ce,_e.forEach(Ee=>{Ee.positionTierSize=Ce,Ee.positionTierMinShift=Pe,Ee.positionTierMaxShift=r})}),r}measureTitles(e){const r=e.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),xe=e.measureText(this.subtitle||"",this.subtitleFont||this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight),Se=r.height+xe.height,_e=Math.max(r.width,xe.width);return newOxySize(_e,Se)}renderAnnotations(e,r){return this.renderPlotElements(this.annotations.filter(xe=>xe.layer===r),e,async xe=>xe.render(e))}async renderAxes(e,r){for(const xe of this.axes.filter(Se=>Se.isAxisVisible&&Se.layer===r))e.setToolTip(xe.toolTip),await xe.render(e,0);for(const xe of this.axes.filter(Se=>Se.isAxisVisible&&Se.layer===r))e.setToolTip(xe.toolTip),await xe.render(e,1);e.setToolTip(void 0)}async renderLegends(e){if(this.isLegendVisible)for(const r of this.legends.filter(xe=>xe.isLegendVisible))e.setToolTip(r.toolTip),await r.renderLegends(e)}async renderBackgrounds(e){this.axes.length>0&&OxyColorHelper.isVisible(this.plotAreaBackground)&&await e.drawRectangle(this.plotArea,this.plotAreaBackground,OxyColors.Undefined,0,this.edgeRenderingMode);const xe=this.series.filter(Se=>Se instanceof XYAxisSeries).map(Se=>Se).filter(Se=>Se.isVisible&&OxyColorHelper.isVisible(Se.background));for(const Se of xe)await e.drawRectangle(Se.getScreenRectangle(),Se.background,OxyColors.Undefined,0,this.edgeRenderingMode)}async renderBox(e){if(this.axes.length>0){const r=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await RenderingExtensions.drawRectangle(e,this.plotArea,this.plotAreaBorderColor,this.plotAreaBorderThickness,r)}}async renderSeries(e){return this._barSeriesManagers.forEach(r=>{r.initializeRender()}),this.renderPlotElements(this.series.filter(r=>r.isVisible),e,async r=>r.render(e))}async renderPlotElements(e,r,xe){let Se=OxyRect_Everything;function _e(Ae,Ce){return OxyRectHelper.equals(Ae,Ce)}for(const Ae of e){const Ce=Ae.getClippingRect();_e(Ce,Se)||(_e(Se,OxyRect_Everything)||(r.popClip(),Se=OxyRect_Everything),_e(Ce,OxyRect_Everything)||(r.pushClip(Ce),Se=Ce)),r.setToolTip(Ae.toolTip),await xe(Ae)}_e(Se,OxyRect_Everything)||r.popClip(),r.setToolTip(void 0)}async renderTitle(e){let r;this.clipTitle&&(r=newOxySize(this.titleArea.width*this.titleClippingLength,Number_MAX_VALUE));const xe=e.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),Se=(this.titleArea.left+OxyRectHelper.right(this.titleArea))*.5;let _e=this.titleArea.top;this.title&&(e.setToolTip(this.titleToolTip),await MathRenderingExtensions.drawMathText(e,newScreenPoint(Se,_e),this.title,OxyColorHelper.getActualColor(this.titleColor,this.textColor),this.actualTitleFont,this.titleFontSize,this.titleFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Top,r),_e+=xe.height,e.setToolTip(void 0)),this.subtitle&&await MathRenderingExtensions.drawMathText(e,newScreenPoint(Se,_e),this.subtitle,OxyColorHelper.getActualColor(this.subtitleColor,this.textColor),this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Top,r)}async updatePlotArea(e){let r=newOxyRect(this.plotBounds.left+this.padding.left,this.plotBounds.top+this.padding.top,Math.max(0,this.width-this.padding.left-this.padding.right),Math.max(0,this.height-this.padding.top-this.padding.bottom));const xe=this.measureTitles(e);if(xe.height>0){const _e=xe.height+this.titlePadding;r=newOxyRect(r.left,r.top+_e,r.width,Math.max(0,r.height-_e))}let Se=OxyRectHelper.deflate(r,this.actualPlotMargins);if(this.isLegendVisible){let _e=newOxySize(0,0),Ae=0;const Ce=this.legends.filter(Pe=>Pe.legendPlacement===LegendPlacement.Outside&&Pe.isLegendVisible);for(const Pe of Ce.filter(Ee=>isLeftLegend(Ee.legendPosition))){const Ee=Pe.allowUseFullExtent?r.width:Se.width;let Oe=Pe.allowUseFullExtent?r.height:Se.height;Oe=isNaN(Pe.legendMaxHeight)?Oe:Math.min(Oe,Pe.legendMaxHeight);const Me=await Pe.getLegendSize(e,newOxySize(Ee,Oe));Pe.legendSize=Me,_e=newOxySize(Math.max(_e.width,Me.width),Math.max(_e.height,Me.height)),Pe.legendMargin>Ae&&(Ae=Pe.legendMargin)}(_e.width>0||_e.height>0)&&(Se=newOxyRect(Se.left+_e.width+Ae,Se.top,Math.max(0,Se.width-(_e.width+Ae)),Se.height)),_e=newOxySize(0,0),Ae=0;for(const Pe of Ce.filter(Ee=>isRightLegend(Ee.legendPosition))){const Ee=Pe.allowUseFullExtent?r.width:Se.width;let Oe=Pe.allowUseFullExtent?r.height:Se.height;Oe=isNaN(Pe.legendMaxHeight)?Oe:Math.min(Oe,Pe.legendMaxHeight);const Me=await Pe.getLegendSize(e,newOxySize(Ee,Oe));Pe.legendSize=Me,_e=newOxySize(Math.max(_e.width,Me.width),Math.max(_e.height,Me.height)),Pe.legendMargin>Ae&&(Ae=Pe.legendMargin)}(_e.width>0||_e.height>0)&&(Se=newOxyRect(Se.left,Se.top,Math.max(0,Se.width-(_e.width+Ae)),Se.height)),_e=newOxySize(0,0),Ae=0;for(const Pe of Ce.filter(Ee=>isTopLegend(Ee.legendPosition))){const Ee=Pe.allowUseFullExtent?r.width:Se.width;let Oe=Pe.allowUseFullExtent?r.height:Se.height;Oe=isNaN(Pe.legendMaxHeight)?Oe:Math.min(Oe,Pe.legendMaxHeight);const Me=await Pe.getLegendSize(e,newOxySize(Ee,Oe));Pe.legendSize=Me,_e=newOxySize(Math.max(_e.width,Me.width),Math.max(_e.height,Me.height)),Pe.legendMargin>Ae&&(Ae=Pe.legendMargin)}(_e.width>0||_e.height>0)&&(Se=newOxyRect(Se.left,Se.top+_e.height+Ae,Se.width,Math.max(0,Se.height-(_e.height+Ae)))),_e=newOxySize(0,0),Ae=0;for(const Pe of Ce.filter(Ee=>isBottomLegend(Ee.legendPosition))){const Ee=Pe.allowUseFullExtent?r.width:Se.width;let Oe=Pe.allowUseFullExtent?r.height:Se.height;Oe=isNaN(Pe.legendMaxHeight)?Oe:Math.min(Oe,Pe.legendMaxHeight);const Me=await Pe.getLegendSize(e,newOxySize(Ee,Oe));Pe.legendSize=Me,_e=newOxySize(Math.max(_e.width,Me.width),Math.max(_e.height,Me.height)),Pe.legendMargin>Ae&&(Ae=Pe.legendMargin)}(_e.width>0||_e.height>0)&&(Se=newOxyRect(Se.left,Se.top,Se.width,Math.max(0,Se.height-(_e.height+Ae))));for(const Pe of this.legends.filter(Ee=>Ee.legendPlacement===LegendPlacement.Inside&&Ee.isLegendVisible)){let Ee=Se.width,Oe=isNaN(Pe.legendMaxHeight)?Se.height:Math.min(Se.height,Pe.legendMaxHeight);Pe.legendPlacement===LegendPlacement.Inside&&(Ee-=Pe.legendMargin*2,Oe-=Pe.legendMargin*2),Pe.legendSize=await Pe.getLegendSize(e,newOxySize(Ee,Oe))}}switch(Se.height<0&&(Se=newOxyRect(Se.left,Se.top,Se.width,1)),Se.width<0&&(Se=newOxyRect(Se.left,Se.top,1,Se.height)),this._plotArea=Se,this._plotAndAxisArea=OxyRectHelper.inflateAll(Se,this.actualPlotMargins),this.titleHorizontalAlignment){case 1:this._titleArea=newOxyRect(this.plotBounds.left,this.plotBounds.top+this.padding.top,this.width,xe.height+this.titlePadding*2);break;default:this._titleArea=newOxyRect(this.plotArea.left,this.plotBounds.top+this.padding.top,this.plotArea.width,xe.height+this.titlePadding*2);break}for(const _e of this.legends)_e.legendArea=_e.getLegendRectangle(_e.legendSize)}toJSON(e){const r=copyPlotElementProperties(this,ExtendedPlotModelOptions,{excludeDefault:e==null?void 0:e.excludeDefault});return this._axes.length>0&&(r.axes=this.arrayToJson(this._axes,e)),this._legends.length>0&&(r.legends=this.arrayToJson(this._legends,e)),this._series.length>0&&(r.series=this.arrayToJson(this._series,e)),this._annotations.length>0&&(r.annotations=this.arrayToJson(this._annotations,e)),r}arrayToJson(e,r){const xe=[];for(const Se of e){if(!Se.toJSON){console.warn(`'${Se.getElementName()}' does not have a toJSON method`);continue}xe.push(Se.toJSON(r))}return xe}}class LineStyleHelper{static getDashArray(e){switch(e){case LineStyle.Solid:return;case LineStyle.Dash:return[4,1];case LineStyle.Dot:return[1,1];case LineStyle.DashDot:return[4,1,1,1];case LineStyle.DashDashDot:return[4,1,4,1,1,1];case LineStyle.DashDotDot:return[4,1,1,1,1,1];case LineStyle.DashDashDotDot:return[4,1,4,1,1,1,1,1];case LineStyle.LongDash:return[10,1];case LineStyle.LongDashDot:return[10,1,1,1];case LineStyle.LongDashDotDot:return[10,1,1,1,1,1];default:return}}}class OxyPen{constructor(e,r=1,xe=LineStyle.Solid,Se=LineJoin.Miter){__publicField(this,"dashArray"),this.color=e,this.thickness=r,this.lineStyle=xe,this.lineJoin=Se,this.dashArray=LineStyleHelper.getDashArray(xe)}get actualDashArray(){return this.dashArray||LineStyleHelper.getDashArray(this.lineStyle)}static create(e,r,xe=LineStyle.Solid,Se=LineJoin.Miter){if(!(OxyColorHelper.isInvisible(e)||xe===LineStyle.None||Math.abs(r)<=0))return new OxyPen(e,r,xe,Se)}}class ScreenPointHelper{static findNearestPointOnPolyline(e,r){if(!r)throw new Error("points is null");let xe=Number_MAX_VALUE,Se=ScreenPoint_LeftTop;for(let _e=0;_e+1<r.length;_e++){const Ae=r[_e],Ce=r[_e+1];if(ScreenPoint_isUndefined(Ae)||ScreenPoint_isUndefined(Ce))continue;const Pe=ScreenPointHelper.findPointOnLine(e,Ae,Ce);if(ScreenPoint_isUndefined(Pe))continue;const Ee=screenPointMinusEx(e,Pe).lengthSquared;Ee<xe&&(Se=Pe,xe=Ee)}return Se}static findPointOnLine(e,r,xe){const Se=xe.x-r.x,_e=xe.y-r.y;let Ae=ScreenPointHelper.findPositionOnLine(e,r,xe);return isNaN(Ae)&&(Ae=0),Ae<0&&(Ae=0),Ae>1&&(Ae=1),newScreenPoint(r.x+Ae*Se,r.y+Ae*_e)}static findPositionOnLine(e,r,xe){const Se=xe.x-r.x,_e=xe.y-r.y,Ae=(e.x-r.x)*Se+(e.y-r.y)*_e,Ce=Se*Se+_e*_e;return Ce<1e-6?NaN:Ae/Ce}static isPointInPolygon(e,r){if(!r)return!1;const xe=r.length;let Se=!1;for(let _e=0,Ae=xe-1;_e<xe;Ae=_e++)r[_e].y>e.y!=r[Ae].y>e.y&&e.x<(r[Ae].x-r[_e].x)*((e.y-r[_e].y)/(r[Ae].y-r[_e].y))+r[_e].x&&(Se=!Se);return Se}static resamplePoints(e,r){const xe=r*r,Se=e.length,_e=[];if(Se>0){_e.push(e[0]);let Ae=0;for(let Ce=1;Ce<Se;Ce++)screenPointDistanceToSquared(e[Ae],e[Ce])<xe&&Ce!==Se-1||(Ae=Ce,_e.push(e[Ce]))}return _e}static getCentroid(e){let r=0,xe=0,Se=0;for(let _e=0;_e<e.length;_e++){const Ae=(_e+1)%e.length,Ce=e[_e].x*e[Ae].y-e[Ae].x*e[_e].y;r+=(e[_e].x+e[Ae].x)*Ce,xe+=(e[_e].y+e[Ae].y)*Ce,Se+=Ce}return Se*=.5,r/=6*Se,xe/=6*Se,newScreenPoint(r,xe)}}const SubAlignment=.6,SubSize=.62,SuperAlignment=0,SuperSize=.62;class MathRenderingExtensions{static async drawMathText(e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me,De=!1){if(!xe)return OxySize_Empty;if(xe.includes("^{")||xe.includes("_{")){const Te=r.x,ke=r.y,Fe=await this.internalDrawMathText(e,Te,ke,0,0,xe,Se,_e,Ae,Ce,!0,Pe);let $e=0,Be=0;switch(Ee){case HorizontalAlignment.Right:$e=-Fe.width;break;case HorizontalAlignment.Center:$e=-Fe.width*.5;break}switch(Oe){case VerticalAlignment.Bottom:Be=-Fe.height;break;case VerticalAlignment.Middle:Be=-Fe.height*.5;break}return await this.internalDrawMathText(e,Te,ke,$e,Be,xe,Se,_e,Ae,Ce,!1,Pe),De?Fe:OxySize_Empty}return await e.drawText(r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me),De?e.measureText(xe,_e,Ae,Ce):OxySize_Empty}static async measureMathText(e,r,xe,Se,_e){return r.includes("^{")||r.includes("_{")?this.internalDrawMathText(e,0,0,0,0,r,OxyColors.Black,xe,Se,_e,!0,0):e.measureText(r,xe,Se,_e)}static async internalDrawMathText(e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me,De){let Te=0;const ke=De*Math.PI/180,Fe=round(Math.cos(ke),5),$e=round(Math.sin(ke),5);let Be=r,Ie=r,Re=r;const je=xe;let Ve=xe,He=xe;const ze=Ee*SuperAlignment,Ue=Ee*SubAlignment,We=Ee*SuperSize,qe=Ee*SubSize,Ge=async(Ye,Qe,Je,ri)=>{if(!Me){const pi=r+(Ye-r+Se)*Fe-(Qe-xe+_e)*$e,ni=xe+(Ye-r+Se)*$e+(Qe-xe+_e)*Fe;await e.drawText(newScreenPoint(pi,ni),Je,Ce,Pe,ri,Oe,De)}const hi=e.measureText(Je,Pe,ri,Oe);return newOxySize(hi.width,hi.height)};for(;Te<Ae.length;){if(Te+1<Ae.length&&Ae[Te]==="^"&&Ae[Te+1]==="{"){const ri=Ae.indexOf("}",Te);if(ri!==-1){const hi=substring(Ae,Te+2,ri-Te-2);Te=ri+1;const pi=Be,ni=je+ze,di=await Ge(pi,ni,hi,We);Ie=Math.max(pi+di.width,Ie),Ve=Math.max(ni+di.height,Ve),Re=Math.min(pi,Re),He=Math.min(ni,He);continue}}if(Te+1<Ae.length&&Ae[Te]==="_"&&Ae[Te+1]==="{"){const ri=Ae.indexOf("}",Te);if(ri!==-1){const hi=substring(Ae,Te+2,ri-Te-2);Te=ri+1;const pi=Be,ni=je+Ue,di=await Ge(pi,ni,hi,qe);Ie=Math.max(pi+di.width,Ie),Ve=Math.max(ni+di.height,Ve),Re=Math.min(pi,Re),He=Math.min(ni,He);continue}}const Ye=indexOfAny(Ae.split(""),["^","_"],Te+1);let Qe;Ye===-1?(Qe=substring(Ae,Te),Te=Ae.length):(Qe=substring(Ae,Te,Ye-Te),Te=Ye),Be=Ie+2;const Je=await Ge(Be,je,Qe,Ee);Ie=Math.max(Be+Je.width,Ie),Ve=Math.max(je+Je.height,Ve),Re=Math.min(Be,Re),He=Math.min(je,He),Be=Ie}return newOxySize(Ie-Re,Ve-He)}}class RenderContextBase{constructor(){__publicField(this,"rendersToScreen"),this.rendersToScreen=!0}static isStraightLine(e,r){return Math.abs(e.x-r.x)<1e-5||Math.abs(e.y-r.y)<1e-5}static isStraightLine2(e){for(let r=1;r<e.length;r++)if(!this.isStraightLine(e[r-1],e[r]))return!1;return!0}async drawEllipse(e,r,xe,Se,_e){const Ae=RenderContextBase.createEllipse(e);await this.drawPolygon(Ae,r,xe,Se,_e,void 0,LineJoin.Miter)}async drawEllipses(e,r,xe,Se,_e){for(const Ae of e)await this.drawEllipse(Ae,r,xe,Se,_e)}async drawLineSegments(e,r,xe,Se,_e,Ae){for(let Ce=0;Ce+1<e.length;Ce+=2)await this.drawLine([e[Ce],e[Ce+1]],r,xe,Se,_e,Ae)}async drawPolygons(e,r,xe,Se,_e,Ae,Ce){for(const Pe of e)await this.drawPolygon(Pe,r,xe,Se,_e,Ae,Ce)}async drawRectangle(e,r,xe,Se,_e){const Ae=RenderContextBase.createRectangle(e);await this.drawPolygon(Ae,r,xe,Se,_e,void 0,LineJoin.Miter)}async drawRectangles(e,r,xe,Se,_e){for(const Ae of e)await this.drawRectangle(Ae,r,xe,Se,_e)}setToolTip(e){}cleanUp(){}static createEllipse(e,r=40){const xe=OxyRectHelper.center(e),Se=xe.x,_e=xe.y,Ae=e.width/2,Ce=e.height/2,Pe=new Array(r);for(let Ee=0;Ee<r;Ee++){const Oe=Math.PI*2*Ee/r;Pe[Ee]=newScreenPoint(Se+Math.cos(Oe)*Ae,_e+Math.sin(Oe)*Ce)}return Pe}static createRectangle(e){const r=OxyRectEx.fromRect(e);return[newScreenPoint(r.left,r.top),newScreenPoint(r.left,r.bottom),newScreenPoint(r.right,r.bottom),newScreenPoint(r.right,r.top)]}shouldUseAntiAliasingForRect(e){switch(e){case EdgeRenderingMode.PreferGeometricAccuracy:return!0;default:return!1}}shouldUseAntiAliasingForEllipse(e){switch(e){case EdgeRenderingMode.PreferSpeed:return!1;default:return!0}}shouldUseAntiAliasingForLine(e,r){switch(e){case EdgeRenderingMode.PreferSpeed:case EdgeRenderingMode.PreferSharpness:return!1;case EdgeRenderingMode.Automatic:if(RenderContextBase.isStraightLine2(r))return!1;break;case EdgeRenderingMode.Adaptive:if(RenderContextBase.isStraightLine2(r))return!1;break;default:return!0}return!0}}const _RenderingExtensions=class{static getActualEdgeRenderingMode(e,r){return e===EdgeRenderingMode.Automatic?r:e}static async drawReducedLine(e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe){r.length!==0&&(Ee?Ee.length=0:Ee=[],this.reducePoints(r,xe,Ee),await e.drawLine(Ee,Se,_e,Ae,Ce,Pe),Ee.length=0,pushMany(Ee,r),Oe&&Oe(Ee))}static async drawReducedPolygon(e,r,xe,Se,_e,Ae,Ce,Pe=LineStyle.Solid,Ee=LineJoin.Miter){if(r.length===0||Pe===LineStyle.None)return;const Me=[];this.reducePoints(r,xe,Me),await e.drawPolygon(Me,Se,_e,Ae,Ce,LineStyleHelper.getDashArray(Pe),Ee)}static async drawImage(e,r,xe,Se,_e,Ae,Ce,Pe){await e.drawImage(r,0,0,r.width,r.height,xe,Se,_e,Ae,Ce,Pe)}static async drawMultilineText(e,r,xe,Se,_e,Ae=10,Ce=FontWeights.Normal,Pe=12){const Ee=StringHelper.splitLines(xe);for(let Oe=0;Oe<Ee.length;Oe++)await e.drawText(newScreenPoint(r.x,r.y+Oe*Pe),Ee[Oe],Se,void 0,Ae,Ce)}static async drawLine(e,r,xe,Se,_e,Ae,Ce){Ae&&await e.drawLine([newScreenPoint(r,xe),newScreenPoint(Se,_e)],Ae.color,Ae.thickness,Ce,Ae.actualDashArray,Ae.lineJoin)}static async drawLineSegments(e,r,xe,Se){xe&&await e.drawLineSegments(r,xe.color,xe.thickness,Se,xe.actualDashArray,xe.lineJoin)}static async drawMarker(e,r,xe,Se,_e,Ae,Ce,Pe,Ee){await this.drawMarkers(e,[r],xe,Se,[_e],Ae,Ce,Pe,Ee)}static async drawMarkers(e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe=0,Me=ScreenPoint_LeftTop){if(xe===MarkerType.None)return;const De=[],Te=[],ke=[],Fe=[],$e=new Set;let Be=0;for(const Ie of r){if(Oe>1){const je=Math.floor((Ie.x-Me.x)/Oe),Ve=Math.floor((Ie.y-Me.y)/Oe),He=toUint(je<<16)+toUint(Ve);if($e.has(He)){Be++;continue}$e.add(He)}const Re=Be<_e.length?Be:0;this.addMarkerGeometry(Ie,xe,Se,_e[Re],De,Te,ke,Fe),Be++}Ee===EdgeRenderingMode.Automatic&&(Ee=EdgeRenderingMode.PreferGeometricAccuracy),De.length>0&&await e.drawEllipses(De,Ae,Ce,Pe,Ee),Te.length>0&&await e.drawRectangles(Te,Ae,Ce,Pe,Ee),ke.length>0&&await e.drawPolygons(ke,Ae,Ce,Pe,Ee),Fe.length>0&&await e.drawLineSegments(Fe,Ce,Pe,Ee)}static async drawCircle(e,r,xe,Se,_e,Ae,Ce,Pe){await e.drawEllipse(newOxyRect(r-Se,xe-Se,Se*2,Se*2),_e,Ae,Ce,Pe)}static async drawCircle2(e,r,xe,Se,_e,Ae,Ce){await this.drawCircle(e,r.x,r.y,xe,Se,_e,Ae,Ce)}static async fillCircle(e,r,xe,Se,_e){await this.drawCircle(e,r.x,r.y,xe,Se,OxyColors.Undefined,0,_e)}static async fillRectangle(e,r,xe,Se){await e.drawRectangle(r,xe,OxyColors.Undefined,0,Se)}static async drawRectangle(e,r,xe,Se,_e){if(Se.left===Se.right&&Se.left===Se.top&&Se.left===Se.bottom){await e.drawRectangle(r,OxyColors.Undefined,xe,Se.left,_e);return}const Ae=OxyRectHelper.right(r),Ce=OxyRectHelper.bottom(r),Pe=r.left-Se.left/2+.5,Ee=Ae+Se.right/2-.5,Oe=r.top-Se.top/2+.5,Me=Ce+Se.bottom/2-.5,De=[newScreenPoint(Pe,r.top),newScreenPoint(Ee,r.top)],Te=[newScreenPoint(Ae,Oe),newScreenPoint(Ae,Me)],ke=[newScreenPoint(Pe,Ce),newScreenPoint(Ee,Ce)],Fe=[newScreenPoint(r.left,Oe),newScreenPoint(r.left,Me)];await e.drawLine(De,xe,Se.top,_e,void 0,LineJoin.Miter),await e.drawLine(Te,xe,Se.right,_e,void 0,LineJoin.Miter),await e.drawLine(ke,xe,Se.bottom,_e,void 0,LineJoin.Miter),await e.drawLine(Fe,xe,Se.left,_e,void 0,LineJoin.Miter)}static measureText(e,r,xe,Se,_e,Ae){const Ce=e.measureText(r,xe,Se,_e);return this.measureRotatedRectangleBound(Ce,Ae)}static autoResetClip(e,r){return new AutoResetClipToken(e,r)}static addMarkerGeometry(e,r,xe,Se,_e,Ae,Ce,Pe){if(r===MarkerType.Custom){if(!xe)throw new Error("The outline should be set when MarkerType is 'Custom'.");const Oe=xe.map(Me=>newScreenPoint(e.x+Me.x*Se,e.y+Me.y*Se));Ce.push(Oe);return}switch(r){case MarkerType.Circle:_e.push(newOxyRect(e.x-Se,e.y-Se,Se*2,Se*2));break;case MarkerType.Square:Ae.push(newOxyRect(e.x-Se,e.y-Se,Se*2,Se*2));break;case MarkerType.Diamond:Ce.push([newScreenPoint(e.x,e.y-this.M2*Se),newScreenPoint(e.x+this.M2*Se,e.y),newScreenPoint(e.x,e.y+this.M2*Se),newScreenPoint(e.x-this.M2*Se,e.y)]);break;case MarkerType.Triangle:Ce.push([newScreenPoint(e.x-Se,e.y+this.M1*Se),newScreenPoint(e.x+Se,e.y+this.M1*Se),newScreenPoint(e.x,e.y-this.M2*Se)]);break;case MarkerType.Plus:case MarkerType.Star:Pe.push(newScreenPoint(e.x-Se,e.y)),Pe.push(newScreenPoint(e.x+Se,e.y)),Pe.push(newScreenPoint(e.x,e.y-Se)),Pe.push(newScreenPoint(e.x,e.y+Se));break}const Ee=this.M3;switch(r){case MarkerType.Cross:case MarkerType.Star:Pe.push(newScreenPoint(e.x-Se*Ee,e.y-Se*Ee)),Pe.push(newScreenPoint(e.x+Se*Ee,e.y+Se*Ee)),Pe.push(newScreenPoint(e.x-Se*Ee,e.y+Se*Ee)),Pe.push(newScreenPoint(e.x+Se*Ee,e.y-Se*Ee));break}}static measureRotatedRectangleBound(e,r){const xe=OxySizeEx.getBounds(e,r,HorizontalAlignment.Center,VerticalAlignment.Middle);return newOxySize(xe.width,xe.height)}static reducePoints(e,r,xe){const Se=e.length;if(Se===0)return;xe.push(e[0]);let _e=0;for(let Ae=1;Ae<Se;Ae++){const Ce=e[Ae],Pe=Ce.x-e[_e].x,Ee=Ce.y-e[_e].y;(Pe*Pe+Ee*Ee>r||Ae===Se-1)&&(xe.push(newScreenPoint(Ce.x,Ce.y)),_e=Ae)}}static transformAndInterpolateLines(e,r,xe,Se){const _e=e.xAxis,Ae=e.yAxis;if(_e.isLogarithmic()||Ae.isLogarithmic()){let Ce=!1,Pe=!0,Ee=DataPoint_Undefined;for(const Oe of r)if(DataPoint_isUnDefined(Oe)||_e.isLogarithmic()&&Oe.x<=0||Ae.isLogarithmic()&&Oe.y<=0)Pe=!0;else{if(Pe)xe.length>0&&xe.push(ScreenPoint_Undefined),Pe=!1,Ce=!0;else if(Ce){const Me=dataPointMinus(Oe,Ee);this.interpolatePoints(De=>e.transform(dataPointPlus(Ee,Me.times(De))),xe,Se,Ce)}Ee=Oe}}else{let Ce=!0;for(const Pe of r)DataPoint_isUnDefined(Pe)?Ce=!0:(Ce&&xe.length>0&&xe.push(ScreenPoint_Undefined),xe.push(e.transform(Pe)),Ce=!1)}}static interpolatePoints(e,r,xe,Se){const _e=xe*xe,Ae=[],Ce=[];Ae.push(1),Ce.push(e(1));let Pe=0,Ee=e(0);for(Se&&r.push(Ee);Ae.length>0;){let Oe=Ae[Ae.length-1],Me=Ce[Ce.length-1];screenPointDistanceToSquared(Me,Ee)<_e?(Pe=Oe,Ee=Me,r.push(Me),Ae.pop(),Ce.pop()):(Oe=Pe+(Oe-Pe)/2,Me=e(Oe),Ae.push(Oe),Ce.push(Me))}}};__publicField(_RenderingExtensions,"M1",Math.tan(Math.PI/6));__publicField(_RenderingExtensions,"M2",Math.sqrt(1+_RenderingExtensions.M1*_RenderingExtensions.M1));__publicField(_RenderingExtensions,"M3",Math.tan(Math.PI/4));let RenderingExtensions=_RenderingExtensions;class AutoResetClipToken{constructor(e,r){__publicField(this,"renderContext"),__publicField(this,"_disposed",!1),this.renderContext=e,e.pushClip(r)}dispose(){this._disposed||(this._disposed=!0,this.renderContext.popClip())}}class ClippingRenderContext extends RenderContextBase{constructor(){super(...arguments),__publicField(this,"clipStack",[])}popClip(){if(this.clipStack.length===0)throw new Error("Unbalanced call to popClip.");const e=this.clipStack.pop();if(this.clipStack.length>0){const r=this.clipStack[this.clipStack.length-1];OxyRectHelper.equals(e,r)||(this.resetClip(),this.setClip(r))}else this.resetClip()}pushClip(e){if(this.clipStack.length>0){const r=this.clipStack[this.clipStack.length-1],xe=OxyRectHelper.intersect(e,r);OxyRectHelper.equals(r,xe)||(this.resetClip(),this.setClip(xe)),this.clipStack.push(xe)}else this.setClip(e),this.clipStack.push(e)}get clipCount(){return this.clipStack.length}}class XkcdRenderingDecorator extends RenderContextBase{constructor(e){super(),__publicField(this,"rc"),__publicField(this,"distortionFactor"),__publicField(this,"interpolationDistance"),__publicField(this,"fontFamily"),__publicField(this,"thicknessScale"),this.rc=e,this.rendersToScreen=this.rc.rendersToScreen,this.distortionFactor=7,this.interpolationDistance=10,this.thicknessScale=2,this.fontFamily="Humor Sans"}get clipCount(){return this.rc.clipCount}async drawLine(e,r,xe,Se,_e,Ae){const Ce=this.distort(e);await this.rc.drawLine(Ce,r,xe*this.thicknessScale,Se,_e,Ae)}async drawPolygon(e,r,xe,Se,_e,Ae,Ce){const Pe=[...e,e[0]],Ee=this.distort(Pe);await this.rc.drawPolygon(Ee,r,xe,Se*this.thicknessScale,_e,Ae,Ce)}async drawText(e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe){await this.rc.drawText(e,r,xe,this.getFontFamily(Se),_e,Ae,Ce,Pe,Ee,Oe)}measureText(e,r,xe,Se){return this.rc.measureText(e,this.getFontFamily(r),xe,Se)}setToolTip(e){this.rc.setToolTip(e)}cleanUp(){this.rc.cleanUp()}async drawImage(e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me){await this.rc.drawImage(e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me)}pushClip(e){this.rc.pushClip(e)}popClip(){this.rc.popClip()}getFontFamily(e){return this.fontFamily}distort(e){const r=this.interpolate(e,this.interpolationDistance),xe=new Array(r.length);let Se=this.generateRandomNumbers(r.length);Se=this.applyMovingAverage(Se,5);const _e=this.distortionFactor,Ae=_e/2;for(let Ce=0;Ce<r.length;Ce++){if(Ce===0||Ce===r.length-1){xe[Ce]=r[Ce];continue}let Pe=screenPointMinus(r[Ce+1],r[Ce-1]);Pe=ScreenVectorHelper.normalize(Pe);const Oe=ScreenVectorEx.fromXY(Pe.y,-Pe.x).times(Se[Ce]*_e-Ae).vector;xe[Ce]=screenPointPlus(r[Ce],Oe)}return xe}generateRandomNumbers(e){const r=new Array(e);for(let xe=0;xe<e;xe++)r[xe]=Math.random();return r}applyMovingAverage(e,r){const xe=e.length,Se=new Array(xe).fill(0),_e=Math.round(r/2);for(let Ae=0;Ae<xe;Ae++){const Ce=Math.max(0,Ae-_e),Pe=Math.min(xe-1,Ae+_e);for(let Ee=Ce;Ee<=Pe;Ee++)Se[Ae]+=e[Ee];Se[Ae]/=r}return Se}interpolate(e,r){let xe=ScreenPoint_LeftTop,Se=-1,_e=r;const Ae=[];for(const Ce of e){if(Se<0){Ae.push(Ce),xe=Ce,Se=0;continue}const Pe=screenPointMinus(Ce,xe),Ee=ScreenVectorHelper.length(Pe);if(Ee>0)for(;_e>=Se&&_e<=Se+Ee;){const Oe=(_e-Se)/Ee;Ae.push(newScreenPoint(xe.x*(1-Oe)+Ce.x*Oe,xe.y*(1-Oe)+Ce.y*Oe)),_e+=r}Se+=Ee,xe=Ce}return Ae.push(xe),Ae}}class Decimator{static decimate(e,r){if(e===void 0||e.length===0)return;let xe=e[0],Se=Math.round(xe.x),_e=Math.round(xe.y),Ae=_e,Ce=_e,Pe=_e;for(let Ee=1;Ee<e.length;++Ee){xe=e[Ee];const Oe=Math.round(xe.x),Me=Math.round(xe.y);if(Oe!==Se){Decimator.addVerticalPoints(r,Se,Ce,Pe,_e,Ae),Ce=Pe=_e=Ae=Me,Se=Oe;continue}Me<_e&&(_e=Me),Me>Ae&&(Ae=Me),Pe=Me}Pe=Ce===_e?Ae:_e,Decimator.addVerticalPoints(r,Se,Ce,Pe,_e,Ae)}static addVerticalPoints(e,r,xe,Se,_e,Ae){if(e.push(newScreenPoint(r,xe)),xe===_e){_e!==Ae&&e.push(newScreenPoint(r,Ae)),Ae!==Se&&e.push(newScreenPoint(r,Se));return}if(xe===Ae){Ae!==_e&&e.push(newScreenPoint(r,_e)),_e!==Se&&e.push(newScreenPoint(r,Se));return}Se===_e?_e!==Ae&&e.push(newScreenPoint(r,Ae)):Se===Ae?Ae!==_e&&e.push(newScreenPoint(r,_e)):(e.push(newScreenPoint(r,_e)),e.push(newScreenPoint(r,Ae))),e.push(newScreenPoint(r,Se))}}class CanonicalSpline{constructor(e){__publicField(this,"tension"),this.tension=e}createSplineDp(e,r,xe){return CanonicalSpline.createSplineForDp(e,this.tension,void 0,r,xe)}createSplineSp(e,r,xe){return CanonicalSpline.createSpline(e,this.tension,void 0,r,xe)}static createSplineForDp(e,r,xe,Se,_e){const Ae=e.map(Ee=>newScreenPoint(Ee.x,Ee.y)),Ce=CanonicalSpline.createSpline(Ae,r,xe,Se,_e),Pe=[];for(const Ee of Ce)Pe.push(newDataPoint(Ee.x,Ee.y));return Pe}static createSpline(e,r,xe,Se,_e){const Ae=[];if(!e)return Ae;const Ce=e.length;if(Ce<1)return Ae;if(Ce<2)return Ae.push(...e),Ae;if(Ce===2)Se?(CanonicalSpline.segment(Ae,e[1],e[0],e[1],e[0],r,r,_e),CanonicalSpline.segment(Ae,e[0],e[1],e[0],e[1],r,r,_e)):CanonicalSpline.segment(Ae,e[0],e[0],e[1],e[1],r,r,_e);else{const Pe=xe&&xe.length>0;for(let Ee=0;Ee<Ce;Ee++){const Oe=Pe?xe[Ee%xe.length]:r,Me=Pe?xe[(Ee+1)%xe.length]:r;Ee===0?CanonicalSpline.segment(Ae,Se?e[Ce-1]:e[0],e[0],e[1],e[2],Oe,Me,_e):Ee===Ce-2?CanonicalSpline.segment(Ae,e[Ee-1],e[Ee],e[Ee+1],Se?e[0]:e[Ee+1],Oe,Me,_e):Ee===Ce-1?Se&&CanonicalSpline.segment(Ae,e[Ee-1],e[Ee],e[0],e[1],Oe,Me,_e):CanonicalSpline.segment(Ae,e[Ee-1],e[Ee],e[Ee+1],e[Ee+2],Oe,Me,_e)}}return Ae}static segment(e,r,xe,Se,_e,Ae,Ce,Pe,Ee=1e3){const Oe=Ae*(Se.x-r.x),Me=Ae*(Se.y-r.y),De=Ce*(_e.x-xe.x),Te=Ce*(_e.y-xe.y),ke=Oe+De+2*xe.x-2*Se.x,Fe=Me+Te+2*xe.y-2*Se.y,$e=-2*Oe-De-3*xe.x+3*Se.x,Be=-2*Me-Te-3*xe.y+3*Se.y,Ie=Oe,Re=Me,je=xe.x,Ve=xe.y,He=Math.min(Ee,Math.round((Math.abs(xe.x-Se.x)+Math.abs(xe.y-Se.y))/Pe));for(let ze=1;ze<He;ze++){const Ue=ze/(He-1),We=newScreenPoint(ke*Ue*Ue*Ue+$e*Ue*Ue+Ie*Ue+je,Fe*Ue*Ue*Ue+Be*Ue*Ue+Re*Ue+Ve);e.push(We)}}}class CatmullRomSpline{constructor(e){__publicField(this,"alpha"),__publicField(this,"maxSegments"),this.alpha=e,this.maxSegments=100}createSplineDp(e,r,xe){return CatmullRomSpline.createSplineForDp(e,this.alpha,r,xe,this.maxSegments)}createSplineSp(e,r,xe){return CatmullRomSpline.createSpline(e,this.alpha,r,xe,this.maxSegments)}static createSplineForDp(e,r,xe,Se,_e){const Ae=e.map(Ee=>newScreenPoint(Ee.x,Ee.y)),Ce=this.createSpline(Ae,r,xe,Se,_e),Pe=[];for(const Ee of Ce)Pe.push(newDataPoint(Ee.x,Ee.y));return Pe}static createSpline(e,r,xe,Se,_e){const Ae=[];if(e===void 0)return Ae;const Ce=e.length;if(Ce<1)return Ae;if(Ce<2)return Ae.push(...e),Ae;if(Ce===2)xe?(this.segment(Ae,e[1],e[0],e[1],e[0],r,Se,_e),this.segment(Ae,e[0],e[1],e[0],e[1],r,Se,_e)):this.segment(Ae,e[0],e[0],e[1],e[1],r,Se,_e);else for(let Pe=0;Pe<Ce;Pe++)Pe===0?this.segment(Ae,xe?e[Ce-1]:e[0],e[0],e[1],e[2],r,Se,_e):Pe===Ce-2?this.segment(Ae,e[Pe-1],e[Pe],e[Pe+1],xe?e[0]:e[Pe+1],r,Se,_e):Pe===Ce-1?xe&&this.segment(Ae,e[Pe-1],e[Pe],e[0],e[1],r,Se,_e):this.segment(Ae,e[Pe-1],e[Pe],e[Pe+1],e[Pe+2],r,Se,_e);return Ae}static segment(e,r,xe,Se,_e,Ae,Ce,Pe){if(screenPointEquals(xe,Se)){e.push(xe);return}screenPointEquals(r,xe)&&(r=this.prev(xe,Se)),screenPointEquals(Se,_e)&&(_e=this.prev(Se,xe));const Ee=0,Oe=this.getT(Ee,r,xe,Ae),Me=this.getT(Oe,xe,Se,Ae),De=this.getT(Me,Se,_e,Ae);let Te=Math.round((Math.abs(xe.x-Se.x)+Math.abs(xe.y-Se.y))/Ce);Te=Math.max(0,Te),Te=Math.min(Pe,Te);for(let ke=Oe;ke<Me;ke+=(Me-Oe)/Te){const Fe=this.sum(this.mult((Oe-ke)/(Oe-Ee),r),this.mult((ke-Ee)/(Oe-Ee),xe)),$e=this.sum(this.mult((Me-ke)/(Me-Oe),xe),this.mult((ke-Oe)/(Me-Oe),Se)),Be=this.sum(this.mult((De-ke)/(De-Me),Se),this.mult((ke-Me)/(De-Me),_e)),Ie=this.sum(this.mult((Me-ke)/(Me-Ee),Fe),this.mult((ke-Ee)/(Me-Ee),$e)),Re=this.sum(this.mult((De-ke)/(De-Oe),$e),this.mult((ke-Oe)/(De-Oe),Be)),je=this.sum(this.mult((Me-ke)/(Me-Oe),Ie),this.mult((ke-Oe)/(Me-Oe),Re));e.push(je)}}static getT(e,r,xe,Se){const _e=Math.pow(xe.x-r.x,2)+Math.pow(xe.y-r.y,2),Ae=Math.sqrt(_e);return Math.pow(Ae,Se)+e}static mult(e,r){return newScreenPoint(r.x*e,r.y*e)}static equals(e,r){return e.x===r.x&&e.y===r.y}static prev(e,r){return newScreenPoint(e.x-1e-4*(r.x-e.x),e.y-1e-4*(r.y-e.y))}static sum(e,r){return newScreenPoint(e.x+r.x,e.y+r.y)}}class InterpolationAlgorithms{}__publicField(InterpolationAlgorithms,"CanonicalSpline",new CanonicalSpline(.5));__publicField(InterpolationAlgorithms,"CatmullRomSpline",new CatmullRomSpline(.5));__publicField(InterpolationAlgorithms,"UniformCatmullRomSpline",new CatmullRomSpline(0));__publicField(InterpolationAlgorithms,"ChordalCatmullRomSpline",new CatmullRomSpline(1));const DefaultSeriesOptions={background:OxyColors.Undefined,isVisible:!0,renderInLegend:!0,title:void 0,legendKey:void 0,seriesGroupName:void 0,trackerKey:void 0},ExtendedDefaultSeriesOptions={...ExtendedDefaultPlotElementOptions,...DefaultSeriesOptions};let Series$1=class extends PlotElement{constructor(e){super(e),__publicField(this,"background",DefaultSeriesOptions.background),__publicField(this,"isVisible",DefaultSeriesOptions.isVisible),__publicField(this,"title"),__publicField(this,"legendKey"),__publicField(this,"seriesGroupName"),__publicField(this,"renderInLegend",DefaultSeriesOptions.renderInLegend),__publicField(this,"trackerStringFormatter"),__publicField(this,"trackerKey"),assignMethod(this,"trackerStringFormatter",e),assignObject(this,DefaultSeriesOptions,e,{exclude:["trackerStringFormatter"]})}getNearestPoint(e,r){}hitTestOverride(e){const r=this.getNearestPoint(e.point,!0)||this.getNearestPoint(e.point,!1);if(r!=null&&r.position)return screenPointDistanceTo(r.position,e.point)>e.tolerance?void 0:{element:this,nearestHitPoint:r.position,item:r.item,index:r.index}}};const DefaultItemsSeriesOptions={itemsSource:void 0},ExtendedDefaultItemsSeriesOptions={...ExtendedDefaultSeriesOptions,...DefaultItemsSeriesOptions};class ItemsSeries extends Series$1{constructor(e){super(e),__publicField(this,"itemsSource"),assignObject(this,DefaultItemsSeriesOptions,e)}static getItem(e,r){if(!(!e||r<0)&&r<e.length&&r>=0)return e[r]}getItem(e){if(this.itemsSource)return ItemsSeries.getItem(this.itemsSource,e)}getElementDefaultValues(){return ExtendedDefaultItemsSeriesOptions}}const DefaultXYAxisSeriesOptions={trackerStringFormatter:void 0,xAxisKey:void 0,yAxisKey:void 0},ExtendedDefaultXYAxisSeriesOptions={...ExtendedDefaultItemsSeriesOptions,DefaultXYAxisSeriesOptions},_XYAxisSeries=class Fa extends ItemsSeries{constructor(e){super(e),__publicField(this,"trackerStringFormatter"),__publicField(this,"_maxX",0),__publicField(this,"_maxY",0),__publicField(this,"_minX",0),__publicField(this,"_minY",0),__publicField(this,"_xAxis"),__publicField(this,"xAxisKey"),__publicField(this,"_yAxis"),__publicField(this,"yAxisKey"),__publicField(this,"isXMonotonic",!1),__publicField(this,"windowStartIndex",0),this.trackerStringFormatter=Fa.DefaultTrackerFormatter,assignMethod(this,"trackerStringFormatter",e),setTransposablePlotElement(this),assignObject(this,DefaultXYAxisSeriesOptions,e,{exclude:["trackerStringFormatter"]})}get maxX(){return this._maxX}set maxX(e){this._maxX=e}get maxY(){return this._maxY}set maxY(e){this._maxY=e}get minX(){return this._minX}set minX(e){this._minX=e}get minY(){return this._minY}set minY(e){this._minY=e}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}getClippingRect(){return PlotElementUtilities.getClippingRect(this)}getScreenRectangle(){return this.getClippingRect()}inverseTransform(e){return PlotElementUtilities.inverseTransformOrientated(this,e)}async renderLegend(e,r){}transform(e){return PlotElementUtilities.transformOrientated(this,e)}areAxesRequired(){return!0}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}isUsing(e){return!1}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX),this.yAxis.include(this.minY),this.yAxis.include(this.maxY)}updateData(){this.windowStartIndex=0}updateMaxMin(){this.minX=this.minY=this.maxX=this.maxY=Number.NaN}getNearestInterpolatedPointInternal(e,r,xe){if(!this.xAxis||!this.yAxis||!e)return;let Se=ScreenPoint_LeftTop,_e=DataPoint_Zero,Ae=-1,Ce=Number_MAX_VALUE;for(let Pe=r;Pe+1<e.length;Pe++){const Ee=e[Pe],Oe=e[Pe+1];if(!this.isValidPoint(Ee)||!this.isValidPoint(Oe))continue;const Me=this.transform(Ee),De=this.transform(Oe),Te=ScreenPointHelper.findPointOnLine(xe,Me,De);if(ScreenPoint_isUndefined(Te))continue;const ke=screenPointMinusEx(xe,Te).lengthSquared;if(ke<Ce){const Fe=screenPointMinusEx(De,Me).length,$e=Fe>0?screenPointMinusEx(Te,Me).length/Fe:0;_e=this.inverseTransform(Te),Se=Te,Ce=ke,Ae=Pe+$e}}if(Ce<Number_MAX_VALUE){const Pe=this.getItem(Math.round(Ae));return new TrackerHitResult({series:this,dataPoint:_e,position:Se,item:Pe,index:Ae})}}getNearestPointInternal(e,r,xe){let Se=ScreenPoint_LeftTop,_e=DataPoint_Zero,Ae=-1,Ce=Number_MAX_VALUE,Pe=r;for(const Ee of e.slice(r)){if(!this.isValidPoint(Ee)){Pe++;continue}const Oe=PlotElementExtensions.transform(this,Ee.x,Ee.y),Me=screenPointMinusEx(Oe,xe).lengthSquared;Me<Ce&&(_e=Ee,Se=Oe,Ce=Me,Ae=Pe),Pe++}if(Ce<Number_MAX_VALUE){const Ee=this.getItem(Math.round(Ae));return new TrackerHitResult({series:this,dataPoint:_e,position:Se,item:Ee,index:Ae})}}isValidPoint(e){return this.isValidPoint2(e.x,e.y)}isValidPoint2(e,r){return!!(this.xAxis&&this.xAxis.isValidValue(e)&&this.yAxis&&this.yAxis.isValidValue(r))}internalUpdateMaxMin(e){if(!e)throw new Error("points is null");if(this.isXMonotonic=!0,e.length===0)return;let r=this.minX,xe=this.minY,Se=this.maxX,_e=this.maxY;isNaN(r)&&(r=Number_MAX_VALUE),isNaN(xe)&&(xe=Number_MAX_VALUE),isNaN(Se)&&(Se=Number_MIN_VALUE),isNaN(_e)&&(_e=Number_MIN_VALUE);let Ae=Number_MIN_VALUE;for(const Ce of e){const Pe=Ce.x,Ee=Ce.y;this.isValidPoint2(Pe,Ee)&&(Pe<Ae&&(this.isXMonotonic=!1),Pe<r&&(r=Pe),Pe>Se&&(Se=Pe),Ee<xe&&(xe=Ee),Ee>_e&&(_e=Ee),Ae=Pe)}r<Number_MAX_VALUE&&(this.minX=r),xe<Number_MAX_VALUE&&(this.minY=xe),Se>Number_MIN_VALUE&&(this.maxX=Se),_e>Number_MIN_VALUE&&(this.maxY=_e)}internalUpdateMaxMin2(e,r,xe,Se,_e){if(!e)throw new Error("items is null");if(this.isXMonotonic=!0,e.length===0)return;let Ae=this.minX,Ce=this.minY,Pe=this.maxX,Ee=this.maxY;isNaN(Ae)&&(Ae=Number_MAX_VALUE),isNaN(Ce)&&(Ce=Number_MAX_VALUE),isNaN(Pe)&&(Pe=Number_MIN_VALUE),isNaN(Ee)&&(Ee=Number_MIN_VALUE);let Oe=Number_MIN_VALUE,Me=Number_MIN_VALUE;for(const De of e){const Te=r(De),ke=xe(De),Fe=Se(De),$e=_e(De);!this.isValidPoint2(Te,Fe)||!this.isValidPoint2(ke,$e)||((Te<Oe||ke<Me)&&(this.isXMonotonic=!1),Te<Ae&&(Ae=Te),ke>Pe&&(Pe=ke),Fe<Ce&&(Ce=Fe),$e>Ee&&(Ee=$e),Oe=Te,Me=ke)}Ae<Number_MAX_VALUE&&(this.minX=Ae),Ce<Number_MAX_VALUE&&(this.minY=Ce),Pe>Number_MIN_VALUE&&(this.maxX=Pe),Ee>Number_MIN_VALUE&&(this.maxY=Ee)}verifyAxes(){if(!this.xAxis)throw new Error("XAxis not defined.");if(!this.yAxis)throw new Error("YAxis not defined.")}updateWindowStartIndex(e,r,xe,Se){return Se=this.findWindowStartIndex(e,r,xe,Se),Se>0&&Se--,Se}findWindowStartIndex(e,r,xe,Se){let _e=0,Ae=e.length-1;for(;Ae>0&&isNaN(r(e[Ae]));)Ae-=1;let Ce=Ae,Pe=Math.max(0,Math.min(Ce,Se));const Ee=Oe=>{for(;Oe<=Ae;){const Me=r(e[Oe]);if(isNaN(Me))Oe+=1;else return Me}return r(e[Ae])};for(;_e<Ce;){const Oe=Ee(Pe);if(Oe===xe){_e=Pe;break}else Oe>xe?Ce=Pe-1:_e=Pe;if(_e>=Ce)break;const Me=Ee(Ce),De=Ee(_e),Te=(Ce-_e+1)/(Me-De);Pe=_e+Math.round((xe-De)*Te),Pe=Math.max(_e+1,Math.min(Pe,Ce))}for(;_e>0&&r(e[_e])>xe;)_e-=1;return _e}formatDefaultTrackerString(e,r,xe){var Se,_e,Ae,Ce;if(!this.trackerStringFormatter)return;const Pe={item:e,title:this.title||""};return r&&(Pe.xTitle=((Se=this.xAxis)==null?void 0:Se.title)??Fa.defaultXAxisTitle,Pe.xValue=(_e=this.xAxis)==null?void 0:_e.getValue(r.x),Pe.yTitle=((Ae=this.yAxis)==null?void 0:Ae.title)??Fa.defaultYAxisTitle,Pe.yValue=(Ce=this.yAxis)==null?void 0:Ce.getValue(r.y)),xe&&xe(Pe),this.trackerStringFormatter(Pe)}getJsonIgnoreProperties(){return[...super.getJsonIgnoreProperties(),"isXMonotonic","windowStartIndex"]}getElementDefaultValues(){return ExtendedDefaultXYAxisSeriesOptions}};__publicField(_XYAxisSeries,"DefaultTrackerFormatter",function(t){return`${t.title||""}
${t.xTitle}: ${t.xValue}
${t.yTitle}: ${t.yValue}`});__publicField(_XYAxisSeries,"defaultXAxisTitle","X");__publicField(_XYAxisSeries,"defaultYAxisTitle","Y");let XYAxisSeries=_XYAxisSeries;const DefaultDataPointSeriesOptions={canTrackerInterpolatePoints:!1,points:void 0,dataFieldX:void 0,dataFieldY:void 0,mapping:void 0},ExtendedDefaultDataPointSeriesOptions={...ExtendedDefaultXYAxisSeriesOptions,...DefaultDataPointSeriesOptions};class DataPointSeries extends XYAxisSeries{constructor(e){super(e),__publicField(this,"_points",[]),__publicField(this,"_itemsSourcePoints",[]),__publicField(this,"canTrackerInterpolatePoints",DefaultDataPointSeriesOptions.canTrackerInterpolatePoints),__publicField(this,"dataFieldX"),__publicField(this,"dataFieldY"),__publicField(this,"mapping"),e!=null&&e.points&&(e.points.forEach(r=>this._points.push(r)),delete e.points),assignObject(this,DefaultDataPointSeriesOptions,e)}get points(){return this._points}get actualPoints(){return this.itemsSource?this._itemsSourcePoints:this._points}getNearestPoint(e,r){if(r&&!this.canTrackerInterpolatePoints)return;let xe;return r&&(xe=this.getNearestInterpolatedPointInternal(this.actualPoints,0,e)),xe||(xe=this.getNearestPointInternal(this.actualPoints,0,e)),xe&&this.trackerStringFormatter&&(xe.text=this.formatDefaultTrackerString(xe.item,xe.dataPoint)),xe}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints)}getItem(e){const r=this.actualPoints;return!this.itemsSource&&r&&e<r.length?r[e]:super.getItem(e)}clearItemsSourcePoints(){this._itemsSourcePoints&&(this._itemsSourcePoints.length=0)}updateItemsSourcePoints(){if(!this.itemsSource)return;const e=this.itemsSource;if(this.mapping){this.clearItemsSourcePoints();for(const r of e)this._itemsSourcePoints.push(this.mapping(r));return}this.clearItemsSourcePoints();for(const r of e){const xe=this.convertToDataPoint(r);xe&&this._itemsSourcePoints.push(xe)}}convertToDataPoint(e){if(e){if(isDataPoint(e))return e;if(this.dataFieldX&&this.dataFieldY){const r=this.xAxis?this.xAxis.itemToDouble(e[this.dataFieldX]):Number(e[this.dataFieldX]),xe=this.yAxis?this.yAxis.itemToDouble(e[this.dataFieldY]):Number(e[this.dataFieldY]);return newDataPoint(r,xe)}if(isDataPointProvider(e))return e.getDataPoint();throw new Error(`Cannot convert item ${e} to DataPoint`)}}getElementDefaultValues(){return ExtendedDefaultDataPointSeriesOptions}}var LineLegendPosition=(t=>(t[t.None=0]="None",t[t.Start=1]="Start",t[t.End=2]="End",t))(LineLegendPosition||{});const DefaultLineSeriesOptions={color:OxyColors.Automatic,brokenLineColor:OxyColors.Undefined,brokenLineStyle:LineStyle.Solid,brokenLineThickness:0,labelMargin:6,lineJoin:LineJoin.Bevel,lineStyle:LineStyle.Automatic,lineLegendPosition:0,markerFill:OxyColors.Automatic,markerResolution:0,markerSize:3,markerStroke:OxyColors.Automatic,markerStrokeThickness:1,markerType:MarkerType.None,minimumSegmentLength:2,strokeThickness:2,canTrackerInterpolatePoints:!0,dashes:void 0,decimator:void 0,labelStringFormatter:void 0,markerOutline:void 0,interpolationAlgorithm:void 0},ExtendedDefaultLineSeriesOptions={...ExtendedDefaultDataPointSeriesOptions,...DefaultLineSeriesOptions},_LineSeries=class _u extends DataPointSeries{constructor(e){super(e),__publicField(this,"_outputBuffer"),__publicField(this,"_contiguousScreenPointsBuffer"),__publicField(this,"_decimatorBuffer",[]),__publicField(this,"_defaultColor",OxyColors.Undefined),__publicField(this,"_defaultMarkerFill",OxyColors.Undefined),__publicField(this,"_defaultLineStyle",LineStyle.Solid),__publicField(this,"_smoothedPoints",[]),__publicField(this,"color",DefaultLineSeriesOptions.color),__publicField(this,"brokenLineColor",DefaultLineSeriesOptions.brokenLineColor),__publicField(this,"brokenLineStyle",DefaultLineSeriesOptions.brokenLineStyle),__publicField(this,"brokenLineThickness",DefaultLineSeriesOptions.brokenLineThickness),__publicField(this,"dashes"),__publicField(this,"decimator"),__publicField(this,"labelStringFormatter"),__publicField(this,"labelMargin",DefaultLineSeriesOptions.labelMargin),__publicField(this,"lineJoin",DefaultLineSeriesOptions.lineJoin),__publicField(this,"lineStyle",DefaultLineSeriesOptions.lineStyle),__publicField(this,"lineLegendPosition",DefaultLineSeriesOptions.lineLegendPosition),__publicField(this,"markerFill",DefaultLineSeriesOptions.markerFill),__publicField(this,"markerOutline"),__publicField(this,"markerResolution",DefaultLineSeriesOptions.markerResolution),__publicField(this,"markerSize",DefaultLineSeriesOptions.markerSize),__publicField(this,"markerStroke",DefaultLineSeriesOptions.markerStroke),__publicField(this,"markerStrokeThickness",DefaultLineSeriesOptions.markerStrokeThickness),__publicField(this,"markerType",DefaultLineSeriesOptions.markerType),__publicField(this,"minimumSegmentLength",DefaultLineSeriesOptions.minimumSegmentLength),__publicField(this,"interpolationAlgorithm"),__publicField(this,"strokeThickness",DefaultLineSeriesOptions.strokeThickness),assignMethod(this,"labelStringFormatter",e),assignObject(this,DefaultLineSeriesOptions,e,{exclude:["labelStringFormatter"]})}getElementName(){return"LineSeries"}get actualColor(){return OxyColorHelper.getActualColor(this.color,this._defaultColor)}get actualMarkerFill(){return OxyColorHelper.getActualColor(this.markerFill,this._defaultMarkerFill)}get actualLineStyle(){return this.lineStyle!=LineStyle.Automatic?this.lineStyle:this._defaultLineStyle}get actualDashArray(){return this.dashes??LineStyleHelper.getDashArray(this.actualLineStyle)}get smoothedPoints(){return this._smoothedPoints}getNearestPoint(e,r){if(r&&(OxyColorHelper.isInvisible(this.actualColor)||this.strokeThickness===0||!this.canTrackerInterpolatePoints))return;const xe=this.trackerStringFormatter;if(r&&this.interpolationAlgorithm){const Se=this.getNearestInterpolatedPointInternal(this.smoothedPoints,0,e);return Se&&xe&&(Se.text=xe({item:Se.item,title:this.title,xTitle:this.xAxis.title??XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(Se.dataPoint.x),yTitle:this.yAxis.title??XYAxisSeries.defaultYAxisTitle,yValue:this.yAxis.getValue(Se.dataPoint.y)})),Se}return super.getNearestPoint(e,r)}async render(e){const r=this.actualPoints;!r||r.length===0||(this.verifyAxes(),await this.renderPoints(e,r),this.labelStringFormatter&&await this.renderPointLabels(e),this.lineLegendPosition!==0&&this.title&&await this.renderLegendOnLine(e))}async renderLegend(e,r){const xe=OxyRectHelper.right(r),Se=OxyRectHelper.bottom(r),_e=(r.left+xe)/2,Ae=(r.top+Se)/2,Ce=[newScreenPoint(r.left,Ae),newScreenPoint(xe,Ae)];await e.drawLine(Ce,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray);const Pe=newScreenPoint(_e,Ae);await RenderingExtensions.drawMarker(e,Pe,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.lineStyle===LineStyle.Automatic&&(this._defaultLineStyle=this.plotModel.getDefaultLineStyle()),OxyColorHelper.isAutomatic(this.color)&&(this._defaultColor=this.plotModel.getDefaultColor()),OxyColorHelper.isAutomatic(this.markerFill)&&(this._defaultMarkerFill=OxyColorHelper.isAutomatic(this.color)?this._defaultColor:this.color)}updateMaxMin(){if(this.interpolationAlgorithm){if(super.updateMaxMin(),this.resetSmoothedPoints(),this.smoothedPoints.every(xe=>isNaN(xe.x)))return;const e=this.smoothedPoints.filter(xe=>!isNaN(xe.x)).map(xe=>xe.x),r=this.smoothedPoints.filter(xe=>!isNaN(xe.y)).map(xe=>xe.y);this.minX=minValueOfArray(e),this.minY=minValueOfArray(r),this.maxX=maxValueOfArray(e),this.maxY=maxValueOfArray(r)}else super.updateMaxMin()}async renderPoints(e,r){let xe;const Se=this.brokenLineThickness>0&&this.brokenLineStyle!==LineStyle.None,_e=Se?LineStyleHelper.getDashArray(this.brokenLineStyle):void 0,Ae=Se?[]:void 0;this._contiguousScreenPointsBuffer||(this._contiguousScreenPointsBuffer=[]);let Ce=0,Pe=Number_MAX_VALUE;if(this.isXMonotonic){const Ee=this.xAxis.clipMinimum;Pe=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(r,Oe=>Oe.x,Ee,this.windowStartIndex),Ce=this.windowStartIndex}for(let Ee=Ce;Ee<r.length;Ee++){const{result:Oe,pointIdx:Me,previousContiguousLineSegmentEndPoint:De}=this.extractNextContiguousLineSegment(r,Ee,xe,Pe,Ae,this._contiguousScreenPointsBuffer);if(Ee=Me,xe=De,!Oe)break;if(Se){if(Ae&&Ae.length>0){const Te=OxyColorHelper.isAutomatic(this.brokenLineColor)?this.actualColor:this.brokenLineColor;await e.drawLineSegments(Ae,Te,this.brokenLineThickness,this.edgeRenderingMode,_e,this.lineJoin),Ae.length=0}}else xe=void 0;this.decimator?(this._decimatorBuffer?this._decimatorBuffer.length=0:this._decimatorBuffer=[],this.decimator(this._contiguousScreenPointsBuffer,this._decimatorBuffer),await this.renderLineAndMarkers(e,this._decimatorBuffer)):await this.renderLineAndMarkers(e,this._contiguousScreenPointsBuffer),this._contiguousScreenPointsBuffer.length=0}}extractNextContiguousLineSegment(e,r,xe,Se,_e,Ae){let Ce=newDataPoint(0,0),Pe=!1;for(;r<e.length;r++){if(Ce=e[r],Ce.x>Se)return{result:!1,pointIdx:r,previousContiguousLineSegmentEndPoint:xe};if(Pe=this.isValidPoint(Ce),Pe)break}if(!Pe)return{result:!1,pointIdx:r,previousContiguousLineSegmentEndPoint:xe};let Ee=this.transform(Ce);xe&&(_e.push(xe),_e.push(Ee)),Ae.push(Ee);let Oe=0;for(r++;r<e.length&&(Ce=e[r],Oe+=Ce.x>Se?1:0,!(Oe>1||!this.isValidPoint(Ce)));r++)Ee=this.transform(Ce),Ae.push(Ee);return xe=Ee,{result:!0,pointIdx:r,previousContiguousLineSegmentEndPoint:xe}}async renderPointLabels(e){if(!this.labelStringFormatter)return;let r=-1;for(const xe of this.actualPoints){if(r++,!this.isValidPoint(xe))continue;const Se=screenPointPlus(this.transform(xe),newScreenVector(0,-this.labelMargin)),_e=this.getItem(r),Ae=this.labelStringFormatter(_e,[xe.x,xe.y]);await e.drawText(Se,Ae,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Bottom)}}async renderLegendOnLine(e){if(!this.title)return;let r,xe,Se=VerticalAlignment.Middle,_e=4;switch(this.lineLegendPosition){case 1:r=this.actualPoints[0],xe=HorizontalAlignment.Right,_e=-_e;break;case 2:r=this.actualPoints[this.actualPoints.length-1],xe=HorizontalAlignment.Left;break;case 0:return;default:throw new Error("Invalid LineLegendPosition")}const Ae=PlotElementExtensions.orientateAlignment(this,xe,Se);xe=Ae[0],Se=Ae[1];const Ce=PlotElementExtensions.orientateVector(this,newScreenVector(_e,0)),Pe=screenPointPlus(this.transform(r),Ce);await e.drawText(Pe,this.title,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,xe,Se)}async renderLineAndMarkers(e,r){let xe=r;if(this.interpolationAlgorithm){const Se=ScreenPointHelper.resamplePoints(r,this.minimumSegmentLength);xe=this.interpolationAlgorithm.createSplineSp(Se,!1,.25)}if(this.strokeThickness>0&&this.actualLineStyle!==LineStyle.None&&await this.renderLine(e,xe),this.markerType!==MarkerType.None){const Se=this.markerResolution>0?PlotElementExtensions.transform(this,this.minX,this.minY):ScreenPoint_LeftTop;await RenderingExtensions.drawMarkers(e,r,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.markerResolution,Se)}}async renderLine(e,r){const xe=this.actualDashArray;this._outputBuffer||(this._outputBuffer=[]),await RenderingExtensions.drawReducedLine(e,r,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,xe,this.lineJoin,this._outputBuffer)}resetSmoothedPoints(){const e=Math.abs(Math.max(this.maxX-this.minX,this.maxY-this.minY)/_u.ToleranceDivisor);this._smoothedPoints=this.interpolationAlgorithm.createSplineDp(this.actualPoints,!1,e)}getElementDefaultValues(){return ExtendedDefaultLineSeriesOptions}toJSON(e){var r;const xe=super.toJSON(e);return(r=this.points)!=null&&r.length&&(xe.points=this.points),xe}};__publicField(_LineSeries,"ToleranceDivisor",200);let LineSeries=_LineSeries;function newBarItem(t,e,r){const xe={categoryIndex:-1,value:0,color:OxyColors.Automatic};return isNullOrUndef(t)?xe:typeof t=="number"?Object.assign({},xe,removeUndef({value:t,categoryIndex:e,color:r})):Object.assign({},xe,removeUndef(t))}function getBarItemCategoryIndex(t,e){return t.categoryIndex<0?e:t.categoryIndex}const DefaultBarSeriesBaseOptions={barWidth:1,strokeColor:OxyColors.Black,strokeThickness:0,labelColor:OxyColors.Undefined,labelMargin:0,labelAngle:0,labelPlacement:LabelPlacement.Outside,labelStringFormatter:void 0,items:[]},ExtendedDefaultBarSeriesBaseOptions={...ExtendedDefaultXYAxisSeriesOptions,...DefaultBarSeriesBaseOptions};class BarSeriesBase extends XYAxisSeries{constructor(e){super(e),__publicField(this,"barWidth",DefaultBarSeriesBaseOptions.barWidth),__publicField(this,"itemsSourceItems"),__publicField(this,"strokeColor",DefaultBarSeriesBaseOptions.strokeColor),__publicField(this,"strokeThickness",DefaultBarSeriesBaseOptions.strokeThickness),__publicField(this,"_manager"),__publicField(this,"validItems",[]),__publicField(this,"validItemsIndexInversion",new Map),__publicField(this,"labelColor",DefaultBarSeriesBaseOptions.labelColor),__publicField(this,"labelMargin",DefaultBarSeriesBaseOptions.labelMargin),__publicField(this,"labelAngle",DefaultBarSeriesBaseOptions.labelAngle),__publicField(this,"labelPlacement",DefaultBarSeriesBaseOptions.labelPlacement),__publicField(this,"items",[]),assignObject(this,DefaultBarSeriesBaseOptions,e)}get manager(){return this._manager}set manager(e){this._manager=e}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getActualBarWidth(){if(!this.manager)return 0;const e=this.getCategoryAxis();return this.barWidth/(1+e.gapWidth)/this.manager.getMaxWidth()}get categoryAxis(){return this.getCategoryAxis()}getCategoryAxis(){if(!(this.yAxis instanceof CategoryAxis))throw new Error("BarSeries requires a CategoryAxis on the Y Axis.");return this.yAxis}get valueAxis(){return this.xAxis}getItem(e){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(e):this.actualItems[e]}clearItemsSourceItems(){this.itemsSourceItems&&(this.itemsSourceItems.length=0)}isUsing(e){return this.xAxis===e||this.yAxis===e}async renderLabel(e,r,xe,Se,_e,Ae,Ce,...Pe){const Ee=[];if(Pe.length)Ee.push(...Pe);else if("value"in r)Ee.push(r.value);else if("start"in r&&"end"in r)Ee.push(r.start),Ee.push(r.end);else throw new Error(`RenderLabel automatic value determination not implemented for ${this.constructor.name}. Please populate the labelValues parameter.`);const Oe=Ce?Ce(r,Ee):"";let Me;const De=(Ae+_e)/2,Te=Math.sign(Se-xe);let ke=newScreenVectorEx(this.labelMargin,0).times(Te),Fe=newScreenVector(0,0);const $e=RenderingExtensions.measureText(e,Oe,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle),Be=(PlotElementExtensions.isTransposed(this)?$e.height:$e.width)/2,Ie=PlotElementExtensions.transform;switch(this.labelPlacement){case LabelPlacement.Inside:Me=Ie(this,Se,De),ke=ke.negate(),Fe=newScreenVector(-Te*Be,0);break;case LabelPlacement.Outside:Me=Ie(this,Se,De),Fe=newScreenVector(Te*Be,0);break;case LabelPlacement.Middle:Me=Ie(this,(Se+xe)/2,De),ke=newScreenVectorEx(0,0);break;case LabelPlacement.Base:Me=Ie(this,xe,De),Fe=newScreenVector(Te*Be,0);break;default:throw new Error("Invalid label placement")}const Re=PlotElementExtensions.orientateVector;Me=screenPointPlus(screenPointPlus(Me,Re(this,ke)),Re(this,Fe)),await e.drawText(Me,Oe,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle,HorizontalAlignment.Center,VerticalAlignment.Middle)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX)}updateData(){this.clearItemsSourceItems(),!(!this.itemsSource||this.itemsSource.length==0)&&(this.updateFromDataFields()||(this.itemsSourceItems||(this.itemsSourceItems=[]),this.itemsSourceItems.push(...this.itemsSource)))}updateValidData(){this.validItems.length=0,this.validItemsIndexInversion.clear();const e=this.manager.categories.length;for(let r=0;r<this.actualItems.length;r++){const xe=this.actualItems[r];xe&&getBarItemCategoryIndex(xe,r)<e&&this.isValid(xe)&&(this.validItemsIndexInversion.set(this.validItems.length,r),this.validItems.push(xe))}}getJsonIgnoreProperties(){return[...super.getJsonIgnoreProperties(),"itemsSourceItems","validItems","validItemsIndexInversion"]}}__publicField(BarSeriesBase,"DefaultCategoryAxisTitle","Category");__publicField(BarSeriesBase,"DefaultValueAxisTitle","Value");const DefaultBarSeriesTrackerFormatter=function(t){return`${t.title||""}
${t.category}: ${t.value}`},DefaultBarSeriesOptions={fillColor:OxyColors.Automatic,negativeFillColor:OxyColors.Undefined,labelMargin:2,labelAngle:0,stackGroup:"",strokeThickness:0,baseValue:0,baseLine:NaN,isStacked:!1,overlapsStack:!1,trackerStringFormatter:DefaultBarSeriesTrackerFormatter,colorField:void 0,labelStringFormatter:void 0,valueField:void 0},ExtendedDefaultBarSeriesOptions={...ExtendedDefaultBarSeriesBaseOptions,...DefaultBarSeriesOptions};class BarSeries extends BarSeriesBase{constructor(e){super(e),__publicField(this,"_defaultFillColor",OxyColors.Undefined),__publicField(this,"trackerStringFormatter"),__publicField(this,"baseValue",DefaultBarSeriesOptions.baseValue),__publicField(this,"baseLine",DefaultBarSeriesOptions.baseLine),__publicField(this,"_actualBaseLine",NaN),__publicField(this,"colorField"),__publicField(this,"fillColor",DefaultBarSeriesOptions.fillColor),__publicField(this,"isStacked",DefaultBarSeriesOptions.isStacked),__publicField(this,"overlapsStack",DefaultBarSeriesOptions.overlapsStack),__publicField(this,"labelStringFormatter"),__publicField(this,"negativeFillColor",DefaultBarSeriesOptions.negativeFillColor),__publicField(this,"stackGroup",DefaultBarSeriesOptions.stackGroup),__publicField(this,"valueField"),__publicField(this,"actualBarRectangles"),assignMethod(this,"labelStringFormatter",e),assignObject(this,DefaultBarSeriesOptions,e,{exclude:["labelStringFormatter"]})}getElementName(){return"BarSeries"}get actualBaseLine(){return this._actualBaseLine}set actualBaseLine(e){this._actualBaseLine=e}get actualFillColor(){return OxyColorHelper.getActualColor(this.fillColor,this._defaultFillColor)}getNearestPoint(e,r){if(!this.actualBarRectangles||this.validItems.length===0)return;let xe=0;for(const Se of this.actualBarRectangles){if(OxyRectHelper.containsPoint(Se,e)){const _e=this.validItems[xe],Ae=getBarItemCategoryIndex(_e,xe),Ce=newDataPoint(Ae,this.validItems[xe].value),Pe=this.getItem(this.validItemsIndexInversion.get(xe));return new TrackerHitResult({series:this,dataPoint:Ce,position:e,item:Pe,index:xe,text:this.getTrackerText(_e,Pe,Ae)})}xe++}}renderLegend(e,r){const xe=OxyRectHelper.right(r),Se=OxyRectHelper.bottom(r),_e=(r.left+xe)/2,Ae=(r.top+Se)/2,Ce=(Se-r.top)*.8,Pe=Ce;return e.drawRectangle(newOxyRect(_e-.5*Pe,Ae-.5*Ce,Pe,Ce),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){OxyColorHelper.isAutomatic(this.fillColor)&&(this._defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.xAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaNOrUndef(this.baseLine))if(this.xAxis.isLogarithmic()){const e=(this.actualItems||[]).map(xe=>xe.value),r=minValueOfArray(e.filter(xe=>xe>0),1);this.actualBaseLine=Math.max(r/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;const e=this.getCategoryAxis();let r=Number_MAX_VALUE,xe=Number_MIN_VALUE;const Se=this.manager;if(this.isStacked){const _e=e.actualLabels;for(let Ae=0;Ae<_e.length;Ae++){let Ce=0;const Pe=this.validItems.filter(ke=>getBarItemCategoryIndex(ke,Ce++)===Ae).map(ke=>ke.value).concat([0]);let Ee=Pe.filter(ke=>ke<=0).reduce((ke,Fe)=>ke+Fe,0),Oe=Pe.filter(ke=>ke>=0).reduce((ke,Fe)=>ke+Fe,0);const Me=Se.getStackIndex(this.stackGroup),De=Se.getCurrentMinValue(Me,Ae);isNaN(De)||(Ee+=De),Se.setCurrentMinValue(Me,Ae,Ee);const Te=Se.getCurrentMaxValue(Me,Ae);!this.overlapsStack&&!isNaN(Te)&&(Oe+=Te),Se.setCurrentMaxValue(Me,Ae,Oe),r=Math.min(r,Ee+this.baseValue),xe=Math.max(xe,Oe+this.baseValue)}}else{const _e=this.validItems.map(Ae=>Ae.value).concat([0]);r=minValueOfArray(_e),xe=maxValueOfArray(_e),this.baseValue<r&&(r=this.baseValue),this.baseValue>xe&&(xe=this.baseValue)}this.minX=r,this.maxX=xe}getTrackerText(e,r,xe){if(!this.trackerStringFormatter)return;const Se=this.getCategoryAxis(),_e=this.xAxis;return this.trackerStringFormatter({item:r,title:this.title,category:Se.formatValue(xe),value:_e==null?void 0:_e.getValue(e.value)})}isValid(e){return this.xAxis.isValidValue(e.value)}async renderItem(e,r,xe,Se,_e,Ae){let Ce=_e.color;OxyColorHelper.isAutomatic(Ce)&&(Ce=this.actualFillColor,_e.value<0&&!OxyColorHelper.isUndefined(this.negativeFillColor)&&(Ce=this.negativeFillColor));const Pe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await e.drawRectangle(Ae,this.getSelectableFillColor(Ce),this.strokeColor,this.strokeThickness,Pe)}async render(e){if(this.actualBarRectangles=[],this.validItems.length===0)return;const r=this.manager,xe=this.yAxis,Se=this.xAxis,_e=PlotElementExtensions.transform,Ae=this.getActualBarWidth(),Ce=this.isStacked?r.getStackIndex(this.stackGroup):0;for(let Pe=0;Pe<this.validItems.length;Pe++){const Ee=this.validItems[Pe],Oe=getBarItemCategoryIndex(Ee,Pe),Me=Ee.value;let De=NaN;this.isStacked&&!this.overlapsStack&&(De=r.getCurrentBaseValue(Ce,Oe,Me<0)),isNaNOrUndef(De)&&(De=this.baseValue);const Te=this.isStacked?De+Me:Me;if(xe.isLogarithmic()&&!xe.isValidValue(Te))continue;let ke;this.isStacked?ke=r.getCategoryValue(Oe,Ce,Ae):ke=Oe-.5+r.getCurrentBarOffset(Oe),this.isStacked&&r.setCurrentBaseValue(Ce,Oe,Me<0,Te);const Fe=Se.isLogarithmic()&&!Se.isValidValue(De),$e=_e(this,Fe?Se.clipMinimum:De,ke),Be=_e(this,Te,ke+Ae),Ie=OxyRectHelper.fromScreenPoints($e,Be);this.actualBarRectangles.push(Ie),await this.renderItem(e,Te,ke,Ae,Ee,Ie),this.labelStringFormatter&&await this.renderLabel(e,Ee,De,Te,ke,ke+Ae,this.labelStringFormatter),this.isStacked||r.increaseCurrentBarOffset(Oe,Ae)}}updateFromDataFields(){if(!this.valueField)return!1;if(!this.itemsSource||this.itemsSource.length==0)return!0;this.itemsSourceItems=this.itemsSourceItems||[];for(const e of this.itemsSource){if(isNullOrUndef(e))continue;const r=e[this.valueField],xe=newBarItem();xe.value=isNullOrUndef(r)?NaN:r;let Se=OxyColors.Automatic;this.colorField&&e[this.colorField]&&OxyColorHelper.isOxyColor(e[this.colorField])&&(Se=e[this.colorField]),xe.color=Se,this.itemsSourceItems.push(xe)}return!0}getElementDefaultValues(){return ExtendedDefaultBarSeriesOptions}}class BarSeriesManager{constructor(e,r,xe){if(__publicField(this,"currentBarOffset"),__publicField(this,"currentMaxValue"),__publicField(this,"currentMinValue"),__publicField(this,"currentNegativeBaseValues"),__publicField(this,"currentPositiveBaseValues"),__publicField(this,"maxWidth",NaN),__publicField(this,"_categoryAxis"),__publicField(this,"_series"),__publicField(this,"_valueAxis"),__publicField(this,"_barOffset"),__publicField(this,"_stackedBarOffset"),__publicField(this,"_stackIndexMapping",new Map),!e.plotModel)throw new Error("The category axis must be part of a plot model.");this._categoryAxis=e,this._valueAxis=r,this._series=xe;for(const Se of this._series)Se.manager=this}get categoryAxis(){return this._categoryAxis}get managedSeries(){return this._series}get plotModel(){return this.categoryAxis.plotModel}get valueAxis(){return this._valueAxis}get categories(){return this._categoryAxis.actualLabels}get stackIndexMapping(){return this._stackIndexMapping}getCategoryValue(e,r,xe){const Se=this._stackedBarOffset[r][e],_e=this._stackedBarOffset[r+1][e];return e-.5+(_e+Se-xe)*.5}getCurrentBarOffset(e){return this.currentBarOffset?this.currentBarOffset[e]:0}getCurrentBaseValue(e,r,xe){return xe?this.currentNegativeBaseValues[e][r]:this.currentPositiveBaseValues[e][r]}getCurrentMaxValue(e,r){return this.currentMaxValue?this.currentMaxValue[e][r]:0}getCurrentMinValue(e,r){return this.currentMinValue?this.currentMinValue[e][r]:0}getMaxWidth(){return this.maxWidth}getStackIndex(e){const r=this._stackIndexMapping.get(e);return isUndef(r)?-1:r}increaseCurrentBarOffset(e,r){this.currentBarOffset&&(this.currentBarOffset[e]+=r)}initializeRender(){this.resetCurrentValues()}setCurrentBaseValue(e,r,xe,Se){xe?this.currentNegativeBaseValues[e][r]=Se:this.currentPositiveBaseValues[e][r]=Se}setCurrentMaxValue(e,r,xe){this.currentMaxValue[e][r]=xe}setCurrentMinValue(e,r,xe){this.currentMinValue[e][r]=xe}update(){this.categoryAxis.updateLabels(Math.max(...this.managedSeries.map(e=>e.actualItems.length))),this.updateBarOffsets(),this.updateValidData(),this.resetCurrentValues()}static hasCategory(e,r){return e.actualItems.length>r&&e.actualItems[r].categoryIndex<0?!0:e.actualItems.some(xe=>xe.categoryIndex===r)}resetCurrentValues(){this.currentBarOffset=[...this._barOffset||[]];const e=this.categoryAxis.actualLabels,r=this._stackIndexMapping.size;r>0?(this.currentPositiveBaseValues=create2DArray(r,e.length,Number.NaN),this.currentNegativeBaseValues=create2DArray(r,e.length,Number.NaN),this.currentMaxValue=create2DArray(r,e.length,Number.NaN),this.currentMinValue=create2DArray(r,e.length,Number.NaN)):(this.currentPositiveBaseValues=void 0,this.currentNegativeBaseValues=void 0,this.currentMaxValue=void 0,this.currentMinValue=void 0)}updateBarOffsets(){if(this.categories.length===0){this.maxWidth=Number.NaN,this._stackedBarOffset=void 0,this._stackIndexMapping.clear();return}const e=new Array(this.categories.length).fill(0),r=new Map;this._barOffset=new Array(this.categories.length).fill(0);const xe=this.managedSeries.filter(Ce=>isStackableSeries(Ce)).map(Ce=>Ce),Se=Array.from(xe.filter(Ce=>Ce.isStacked).reduce((Ce,Pe)=>Ce.set(Pe.stackGroup,(Ce.get(Pe.stackGroup)||[]).concat(Pe)),new Map).values());for(const Ce of Se){const Pe=Math.max(...Ce.map(Ee=>Ee.barWidth));r.set(Ce[0].stackGroup,Pe);for(let Ee=0;Ee<this.categories.length;Ee++)Ce.some(Oe=>BarSeriesManager.hasCategory(Oe,Ee))&&(e[Ee]+=Pe)}for(const Ce of this.managedSeries.filter(Pe=>!isStackableSeries(Pe)||!Pe.isStacked))for(let Pe=0;Pe<this.categories.length;Pe++){let Ee=Ce.actualItems.filter(Oe=>Oe.categoryIndex===Pe).length;Ce.actualItems.length>Pe&&Ce.actualItems[Pe].categoryIndex<0&&Ee++,e[Pe]+=Ce.barWidth*Ee}this.maxWidth=Math.max(...e),this._stackedBarOffset=create2DArray(Se.length+1,this.categories.length,0);const _e=1/(1+this.categoryAxis.gapWidth)/this.maxWidth;for(let Ce=0;Ce<this.categories.length;Ce++)this._barOffset[Ce]=.5-e[Ce]*_e*.5;for(let Ce=0;Ce<Se.length;Ce++){const Pe=Se[Ce];for(let Ee=0;Ee<this.categories.length;Ee++)this._stackedBarOffset[Ce][Ee]=this._barOffset[Ee],Pe.some(Oe=>BarSeriesManager.hasCategory(Oe,Ee))&&(this._barOffset[Ee]+=r.get(Pe[0].stackGroup)*_e)}for(let Ce=0;Ce<this.categories.length;Ce++)this._stackedBarOffset[Se.length][Ce]=this._barOffset[Ce];this._stackIndexMapping.clear();let Ae=0;for(const Ce of Se.map(Pe=>Pe[0].stackGroup).sort())this._stackIndexMapping.set(Ce,Ae++)}updateValidData(){for(const e of this.managedSeries)e.updateValidData()}}function isBarSeries(t){return t&&!isNullOrUndef(t.barWidth)&&t.categoryAxis}const DefaultIntervalBarItemOptions={categoryIndex:-1,color:OxyColors.Automatic,end:0,start:0};function newIntervalBarItem(t){return Object.assign({},DefaultIntervalBarItemOptions,removeUndef(t))}const DefaultIntervalBarSeriesOptions={fillColor:OxyColors.Automatic,strokeThickness:1,labelMargin:4,labelPlacement:LabelPlacement.Middle,colorField:void 0,endField:void 0,startField:void 0},ExtendedDefaultIntervalBarSeriesOptions={...ExtendedDefaultBarSeriesBaseOptions,...DefaultIntervalBarSeriesOptions},_IntervalBarSeries=class Au extends BarSeriesBase{constructor(e){super(e),__publicField(this,"_defaultFillColor",OxyColors.Undefined),__publicField(this,"trackerStringFormatter"),__publicField(this,"colorField"),__publicField(this,"endField"),__publicField(this,"fillColor",DefaultIntervalBarSeriesOptions.fillColor),__publicField(this,"isStacked",!0),__publicField(this,"overlapsStack",!0),__publicField(this,"labelStringFormatter",function(r,xe){return`${xe[0]} - ${xe[1]}`}),__publicField(this,"stackGroup",""),__publicField(this,"startField"),__publicField(this,"actualBarRectangles",[]),this.trackerStringFormatter=Au.DefaultTrackerStringFormatter,assignMethod(this,"trackerStringFormatter",e),assignObject(this,DefaultIntervalBarSeriesOptions,e,{exclude:["trackerStringFormatter"]})}getElementName(){return"IntervalBarSeries"}get actualFillColor(){return OxyColorHelper.getActualColor(this.fillColor,this._defaultFillColor)}getNearestPoint(e,r){for(let xe=0;xe<this.actualBarRectangles.length;xe++){const Se=this.actualBarRectangles[xe];if(!OxyRectHelper.containsPoint(Se,e))continue;const _e=this.getItem(this.validItemsIndexInversion.get(xe)),Ae=getBarItemCategoryIndex(_e,xe),Ce=(this.validItems[xe].start+this.validItems[xe].end)/2,Pe=newDataPoint(Ae,Ce),Ee=this.getCategoryAxis(),Oe=this.xAxis,Me=this.trackerStringFormatter({item:_e,title:this.title,categoryTitle:Ee.title??BarSeriesBase.DefaultCategoryAxisTitle,categoryValue:Ee.formatValue(Ae),valueTitle:Oe.title??BarSeriesBase.DefaultValueAxisTitle});return new TrackerHitResult({series:this,dataPoint:Pe,position:e,item:_e,index:xe,text:Me})}}async renderLegend(e,r){const xe=OxyRectHelper.right(r),Se=OxyRectHelper.bottom(r),_e=(r.left+xe)/2,Ae=(r.top+Se)/2,Ce=(Se-r.top)*.8,Pe=Ce;await e.drawRectangle(newOxyRect(_e-.5*Pe,Ae-.5*Ce,Pe,Ce),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){OxyColorHelper.isAutomatic(this.fillColor)&&(this._defaultFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let e=Number_MAX_VALUE,r=Number_MIN_VALUE;for(const xe of this.validItems)e=Math.min(e,xe.start),e=Math.min(e,xe.end),r=Math.max(r,xe.start),r=Math.max(r,xe.end);this.minX=e,this.maxX=r}isValid(e){return this.xAxis.isValidValue(e.start)&&this.xAxis.isValidValue(e.end)}async render(e){if(this.actualBarRectangles=[],this.validItems.length===0)return;const r=this.getActualBarWidth(),xe=this.manager.getStackIndex(this.stackGroup),Se=PlotElementExtensions.transform,_e=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(let Ae=0;Ae<this.validItems.length;Ae++){const Ce=this.validItems[Ae],Pe=getBarItemCategoryIndex(Ce,Ae),Ee=this.manager.getCategoryValue(Pe,xe,r),Oe=Se(this,Ce.start,Ee),Me=Se(this,Ce.end,Ee+r),De=OxyRectHelper.fromScreenPoints(Oe,Me);this.actualBarRectangles.push(De),await e.drawRectangle(De,this.getSelectableFillColor(OxyColorHelper.getActualColor(Ce.color,this.actualFillColor)),this.strokeColor,this.strokeThickness,_e),this.labelStringFormatter&&await this.renderLabel(e,this.getItem(Ae),Ce.start,Ce.end,Ee,Ee+r,this.labelStringFormatter)}}updateFromDataFields(){var e;if(!this.startField||!this.endField||!this.itemsSource)return!1;for(const r of this.itemsSource){const xe=getOrDefault(r,this.startField,NaN),Se=getOrDefault(r,this.endField,NaN),_e=getOrDefault(r,this.colorField,OxyColors.Automatic);(e=this.itemsSourceItems)==null||e.push(newIntervalBarItem({start:xe,end:Se,color:_e}))}return!0}getElementDefaultValues(){return ExtendedDefaultIntervalBarSeriesOptions}};__publicField(_IntervalBarSeries,"DefaultTrackerStringFormatter",function(t){var e,r;return`${t.title}
${t.categoryTitle}: ${t.categoryValue}
${t.valueTitle}: ${(e=t.item)==null?void 0:e.start} - ${(r=t.item)==null?void 0:r.end}`});let IntervalBarSeries=_IntervalBarSeries;function isStackableSeries(t){return t&&!isUndef(t.isStacked)&&typeof t.isStacked=="boolean"&&!isUndef(t.stackGroup)&&typeof t.stackGroup=="string"}function newErrorBarItem(t){const e=newBarItem(t);return e.error=t.error??0,e}const DefaultErrorBarSeriesOptions={errorStrokeThickness:1,errorWidth:.4},ExtendedDefaultErrorBarSeriesOptions={...ExtendedDefaultBarSeriesOptions,...DefaultErrorBarSeriesOptions},_ErrorBarSeries=class Cu extends BarSeries{constructor(e){super(e),__publicField(this,"errorStrokeThickness",DefaultErrorBarSeriesOptions.errorStrokeThickness),__publicField(this,"errorWidth",DefaultErrorBarSeriesOptions.errorWidth),this.trackerStringFormatter=Cu.DefaultTrackerStringFormatter,assignObject(this,DefaultErrorBarSeriesOptions,e)}getElementName(){return"ErrorBarSeries"}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let e=Number_MAX_VALUE,r=Number_MIN_VALUE;if(this.isStacked){const xe=this.getCategoryAxis().actualLabels,Se=this.manager;for(let _e=0;_e<xe.length;_e++){let Ae=0;const Ce=this.validItems.filter(ke=>getBarItemCategoryIndex(ke,Ae++)===_e),Pe=Ce.map(ke=>ke.value).concat([0]);let Ee=Pe.filter(ke=>ke<=0).reduce((ke,Fe)=>ke+Fe,0),Oe=Pe.filter(ke=>ke>=0).reduce((ke,Fe)=>ke+Fe,0)+Ce[Ce.length-1].error;const Me=Se.getStackIndex(this.stackGroup),De=Se.getCurrentMinValue(Me,_e);isNaN(De)||(Ee+=De),Se.setCurrentMinValue(Me,_e,Ee);const Te=Se.getCurrentMaxValue(Me,_e);!this.overlapsStack&&!isNaN(Te)&&(Oe+=Te),Se.setCurrentMaxValue(Me,_e,Oe),e=Math.min(e,Ee+this.baseValue),r=Math.max(r,Oe+this.baseValue)}}else{const xe=this.validItems.map(_e=>_e.value-_e.error).concat([0]),Se=this.validItems.map(_e=>_e.value+_e.error).concat([0]);e=minValueOfArray(xe),r=maxValueOfArray(Se),this.baseValue<e&&(e=this.baseValue),this.baseValue>r&&(r=this.baseValue)}this.minX=e,this.maxX=r}async renderItem(e,r,xe,Se,_e,Ae){await super.renderItem(e,r,xe,Se,_e,Ae);const Ce=r-_e.error,Pe=r+_e.error,Ee=.5-this.errorWidth/2,Oe=.5+this.errorWidth/2,Me=xe+Ee*Se,De=xe+.5*Se,Te=xe+Oe*Se,ke=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness),Fe=PlotElementExtensions.transform,$e=Fe(this,Ce,De),Be=Fe(this,Pe,De);if(await e.drawLine([$e,Be],this.strokeColor,this.errorStrokeThickness,ke,void 0,LineJoin.Miter),this.errorWidth>0){const Ie=Fe(this,Ce,Me),Re=Fe(this,Ce,Te);await e.drawLine([Ie,Re],this.strokeColor,this.errorStrokeThickness,ke,void 0,LineJoin.Miter);const je=Fe(this,Pe,Me),Ve=Fe(this,Pe,Te);await e.drawLine([je,Ve],this.strokeColor,this.errorStrokeThickness,ke,void 0,LineJoin.Miter)}}getElementDefaultValues(){return ExtendedDefaultErrorBarSeriesOptions}};__publicField(_ErrorBarSeries,"DefaultTrackerStringFormatter",function(t){return`${t.title||""}
${t.category}: ${t.value}, Error: ${round(t.item.error,3)}`});let ErrorBarSeries=_ErrorBarSeries;const DefaultLinearBarSeriesOptions={fillColor:OxyColors.Automatic,barWidth:5,strokeColor:OxyColors.Black,strokeThickness:0,negativeFillColor:OxyColors.Undefined,negativeStrokeColor:OxyColors.Undefined,baseValue:0,baseLine:Number.NaN},ExtendedDefaultLinearBarSeriesOptions={...ExtendedDefaultDataPointSeriesOptions,...DefaultLinearBarSeriesOptions};class LinearBarSeries extends DataPointSeries{constructor(e){super(e),__publicField(this,"_rectangles",[]),__publicField(this,"_rectanglesPointIndexes",[]),__publicField(this,"_defaultColor",OxyColors.Undefined),__publicField(this,"fillColor",DefaultLinearBarSeriesOptions.fillColor),__publicField(this,"barWidth",DefaultLinearBarSeriesOptions.barWidth),__publicField(this,"strokeThickness",DefaultLinearBarSeriesOptions.strokeThickness),__publicField(this,"strokeColor",DefaultLinearBarSeriesOptions.strokeColor),__publicField(this,"negativeFillColor",DefaultLinearBarSeriesOptions.negativeFillColor),__publicField(this,"negativeStrokeColor",DefaultLinearBarSeriesOptions.negativeStrokeColor),__publicField(this,"baseValue",DefaultLinearBarSeriesOptions.baseValue),__publicField(this,"baseLine",DefaultLinearBarSeriesOptions.baseLine),__publicField(this,"_actualBaseLine",NaN),assignObject(this,DefaultLinearBarSeriesOptions,e)}getElementName(){return"LinearBarSeries"}get actualColor(){return OxyColorHelper.getActualColor(this.fillColor,this._defaultColor)}get actualBaseLine(){return this._actualBaseLine}set actualBaseLine(e){this._actualBaseLine=e}getNearestPoint(e,r){const xe=this.findRectangleIndex(e);if(xe<0)return;const Se=this._rectangles[xe];if(!OxyRectHelper.containsPoint(Se,e))return;const _e=this._rectanglesPointIndexes[xe],Ae=this.actualPoints[_e],Ce=this.getItem(_e),Pe=this.formatDefaultTrackerString(Ce,Ae);return new TrackerHitResult({series:this,dataPoint:Ae,position:e,item:Ce,index:_e,text:Pe})}async render(e){this._rectangles.length=0,this._rectanglesPointIndexes.length=0;const r=this.actualPoints;!r||r.length===0||(this.verifyAxes(),await this.renderBars(e,r))}async renderLegend(e,r){const xe=OxyRectHelper.right(r),Se=OxyRectHelper.bottom(r),_e=(r.left+xe)/2,Ae=(r.top+Se)/2,Ce=(Se-r.top)*.8,Pe=Ce;await e.drawRectangle(newOxyRect(_e-.5*Pe,Ae-.5*Ce,Pe,Ce),this.getSelectableColor(this.actualColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){OxyColorHelper.isAutomatic(this.fillColor)&&(this._defaultColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaNOrUndef(this.baseLine))if(this.yAxis.isLogarithmic()){const e=this.actualPoints?minValueOfArray(this.actualPoints.filter(r=>r.y>0).map(r=>r.y),1):1;this.actualBaseLine=Math.max(e/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}findRectangleIndex(e){let r;return PlotElementExtensions.isTransposed(this)?r=(xe,Se)=>OxyRectHelper.bottom(xe)<e.y?1:xe.top>e.y?-1:0:r=(xe,Se)=>OxyRectHelper.right(xe)<e.x?-1:xe.left>e.x?1:0,this._rectangles.findIndex(xe=>r(xe,OxyRect_Empty)===0)}async renderBars(e,r){const xe=this.yAxis.isLogarithmic()&&!this.yAxis.isValidValue(this.baseValue),Se=this.getBarWidth(r)/2,_e=PlotElementExtensions.orientateVector(this,newScreenVector(Se,0)),Ae=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(let Ce=0;Ce<r.length;Ce++){const Pe=r[Ce];if(!this.isValidPoint(Pe))continue;const Ee=screenPointMinusVector(this.transform(Pe),_e),Oe=this.transform(newDataPoint(Pe.x,xe?this.yAxis.clipMinimum:this.baseValue)),Me=screenPointPlus(Oe,_e),De=OxyRectHelper.fromScreenPoints(Me,Ee);this._rectangles.push(De),this._rectanglesPointIndexes.push(Ce);const Te=this.getBarColors(Pe.y);await e.drawRectangle(De,Te.fillColor,Te.strokeColor,this.strokeThickness,Ae)}}getBarWidth(e){let r=this.barWidth/this.xAxis.scale;for(let xe=1;xe<e.length;xe++){const Se=e[xe].x-e[xe-1].x;Se<r&&(r=Se)}return r*this.xAxis.scale}getBarColors(e){const r=e>=this.baseValue,xe=r||OxyColorHelper.isUndefined(this.negativeFillColor)?this.getSelectableFillColor(this.actualColor):this.negativeFillColor,Se=r||OxyColorHelper.isUndefined(this.negativeStrokeColor)?this.strokeColor:this.negativeStrokeColor;return{fillColor:xe,strokeColor:Se}}getElementDefaultValues(){return ExtendedDefaultLinearBarSeriesOptions}toJSON(e){var r;const xe=super.toJSON(e);return(r=this.points)!=null&&r.length&&(xe.points=this.points),xe}}const DefaultTornadoBarItemOptions={categoryIndex:-1,baseValue:NaN,maximum:NaN,maximumColor:OxyColors.Automatic,minimum:NaN,minimumColor:OxyColors.Automatic};function newTornadoBarItem(t){return Object.assign({},DefaultTornadoBarItemOptions,removeUndef(t))}function isTornadoBarItem(t){return t?"categoryIndex"in t&&"baseValue"in t&&"maximum"in t&&"minimum"in t:!1}const DefaultTornadoBarSeriesOptions={maximumFillColor:OxyColorHelper.fromRgb(216,82,85),minimumFillColor:OxyColorHelper.fromRgb(84,138,209),strokeColor:OxyColors.Black,strokeThickness:1,labelMargin:4,baseField:void 0,baseValue:void 0,maximumColorField:void 0,maximumField:void 0,maximumLabelStringFormatter:void 0,minimumColorField:void 0,minimumField:void 0,minimumLabelStringFormatter:void 0,actualMaximumBarRectangles:void 0,actualMinimumBarRectangles:void 0},ExtendedDefaultTornadoBarSeriesOptions={...ExtendedDefaultBarSeriesBaseOptions,...DefaultTornadoBarSeriesOptions},_TornadoBarSeries=class Na extends BarSeriesBase{constructor(e){super(e),__publicField(this,"_defaultMaximumFillColor",OxyColors.Undefined),__publicField(this,"_defaultMinimumFillColor",OxyColors.Undefined),__publicField(this,"baseField"),__publicField(this,"baseValue",NaN),__publicField(this,"maximumColorField"),__publicField(this,"maximumField"),__publicField(this,"maximumFillColor",DefaultTornadoBarSeriesOptions.maximumFillColor),__publicField(this,"maximumLabelStringFormatter"),__publicField(this,"minimumColorField"),__publicField(this,"minimumField"),__publicField(this,"minimumFillColor",DefaultTornadoBarSeriesOptions.minimumFillColor),__publicField(this,"minimumLabelStringFormatter"),__publicField(this,"actualMaximumBarRectangles",[]),__publicField(this,"actualMinimumBarRectangles",[]),this.trackerStringFormatter=Na.defaultTrackerStringFormatter,assignMethod(this,"trackerStringFormatter",e),this.minimumLabelStringFormatter=Na.defaultMinimumLabelStringFormatter,assignMethod(this,"minimumLabelStringFormatter",e),this.maximumLabelStringFormatter=Na.defaultMaximumLabelStringFormatter,assignMethod(this,"maximumLabelStringFormatter",e),assignObject(this,DefaultTornadoBarSeriesOptions,e,{exclude:["trackerStringFormatter","minimumLabelStringFormatter","maximumLabelStringFormatter"]})}getElementName(){return"TornadoBarSeries"}get actualMaximumFillColor(){return OxyColorHelper.getActualColor(this.maximumFillColor,this._defaultMaximumFillColor)}get actualMinimumFillColor(){return OxyColorHelper.getActualColor(this.minimumFillColor,this._defaultMinimumFillColor)}getNearestPoint(e,r){for(let xe=0;xe<this.actualMinimumBarRectangles.length;xe++){const Se=OxyRectHelper.containsPoint(this.actualMinimumBarRectangles[xe],e),_e=OxyRectHelper.containsPoint(this.actualMaximumBarRectangles[xe],e);if(Se||_e){const Ae=this.getItem(this.validItemsIndexInversion.get(xe)),Ce=getBarItemCategoryIndex(Ae,xe),Pe=_e?this.validItems[xe].maximum:this.validItems[xe].minimum,Ee=newDataPoint(Ce,Pe),Oe=this.getCategoryAxis(),Me=this.trackerStringFormatter({item:Ae,title:this.title,yTitle:Oe.title??BarSeriesBase.DefaultCategoryAxisTitle,yValue:Oe.formatValue(Ce),xTitle:this.xAxis.title??BarSeriesBase.DefaultValueAxisTitle,xValue:this.xAxis.getValue(Pe)});return new TrackerHitResult({series:this,dataPoint:Ee,position:e,item:Ae,index:xe,text:Me})}}}async render(e){if(this.actualMinimumBarRectangles=[],this.actualMaximumBarRectangles=[],this.validItems.length===0)return;const r=this.getActualBarWidth();for(let xe=0;xe<this.validItems.length;xe++){const Se=this.validItems[xe],_e=getBarItemCategoryIndex(Se,xe),Ae=isNaNOrUndef(Se.baseValue)?this.baseValue:Se.baseValue,Ce=this.manager.getCurrentBarOffset(_e),Pe=_e-.5+Ce,Ee=Pe+r,Oe=PlotElementExtensions.transform,Me=Oe(this,Se.minimum,Pe),De=Oe(this,Se.maximum,Pe),Te=Oe(this,Ae,Pe+r),ke=OxyRectHelper.fromScreenPoints(Me,Te),Fe=OxyRectHelper.fromScreenPoints(De,Te);this.actualMinimumBarRectangles.push(ke),this.actualMaximumBarRectangles.push(Fe);const $e=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await e.drawRectangle(ke,OxyColorHelper.getActualColor(Se.minimumColor,this.actualMinimumFillColor),this.strokeColor,this.strokeThickness,$e),await e.drawRectangle(Fe,OxyColorHelper.getActualColor(Se.maximumColor,this.actualMaximumFillColor),this.strokeColor,this.strokeThickness,$e),this.minimumLabelStringFormatter&&await this.renderLabel(e,Se,Ae,Se.minimum,Pe,Ee,this.minimumLabelStringFormatter,Se.minimum),this.maximumLabelStringFormatter&&await this.renderLabel(e,Se,Ae,Se.maximum,Pe,Ee,this.maximumLabelStringFormatter,Se.maximum)}}async renderLegend(e,r){const xe=OxyRectHelper.right(r),Se=OxyRectHelper.bottom(r),_e=(r.left+xe)/2,Ae=(r.top+Se)/2,Ce=(Se-r.top)*.8,Pe=Ce,Ee=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await e.drawRectangle(newOxyRect(_e-.5*Pe,Ae-.5*Ce,.5*Pe,Ce),this.actualMinimumFillColor,this.strokeColor,this.strokeThickness,Ee),await e.drawRectangle(newOxyRect(_e,Ae-.5*Ce,.5*Pe,Ce),this.actualMaximumFillColor,this.strokeColor,this.strokeThickness,Ee)}setDefaultValues(){OxyColorHelper.isAutomatic(this.maximumFillColor)&&(this._defaultMaximumFillColor=this.plotModel.getDefaultColor()),OxyColorHelper.isAutomatic(this.minimumFillColor)&&(this._defaultMinimumFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let e=Number_MAX_VALUE,r=Number_MIN_VALUE;for(const xe of this.validItems)e=Math.min(e,xe.minimum),r=Math.max(r,xe.maximum);this.minX=e,this.maxX=r}isValid(e){return this.xAxis.isValidValue(e.minimum)&&this.xAxis.isValidValue(e.maximum)}updateFromDataFields(){if(!this.minimumField||!this.maximumField||!this.itemsSource)return!1;this.itemsSourceItems?this.itemsSourceItems.length=0:this.itemsSourceItems=[];for(const e of this.itemsSource){if(!e)continue;if(isTornadoBarItem(e)){this.itemsSourceItems.push(e);continue}const r=getOrDefault(e,this.minimumField,Number.NaN),xe=getOrDefault(e,this.maximumField,Number.NaN),Se=getOrDefault(e,this.baseField,Number.NaN),_e=getOrDefault(e,this.minimumColorField,OxyColors.Automatic),Ae=getOrDefault(e,this.maximumColorField,OxyColors.Automatic);this.itemsSourceItems.push(newTornadoBarItem({minimum:r,maximum:xe,baseValue:Se,minimumColor:_e,maximumColor:Ae}))}return!0}getElementDefaultValues(){return ExtendedDefaultTornadoBarSeriesOptions}};__publicField(_TornadoBarSeries,"defaultTrackerStringFormatter",function(t){return`${t.title||""}
${t.yTitle}: ${t.yValue}
${t.xTitle}: ${t.xValue}`});__publicField(_TornadoBarSeries,"defaultMinimumLabelStringFormatter",function(t,e){return e[0].toString()});__publicField(_TornadoBarSeries,"defaultMaximumLabelStringFormatter",function(t,e){return e[0].toString()});let TornadoBarSeries=_TornadoBarSeries;const DefaultRectangleBarSeriesOptions={fillColor:OxyColors.Automatic,strokeColor:OxyColors.Black,strokeThickness:1,labelStringFormatter:void 0,items:void 0},ExtendedDefaultRectangleBarSeriesOptions={...ExtendedDefaultXYAxisSeriesOptions,...DefaultRectangleBarSeriesOptions},_RectangleBarSeries=class Fl extends XYAxisSeries{constructor(e){super(e),__publicField(this,"_defaultFillColor",OxyColors.Undefined),__publicField(this,"fillColor",DefaultRectangleBarSeriesOptions.fillColor),__publicField(this,"_items",[]),__publicField(this,"labelStringFormatter"),__publicField(this,"strokeColor",DefaultRectangleBarSeriesOptions.strokeColor),__publicField(this,"strokeThickness",DefaultRectangleBarSeriesOptions.strokeThickness),__publicField(this,"actualBarRectangles",[]),__publicField(this,"actualItems",[]),e!=null&&e.items&&(this._items=e.items,delete e.items),this.trackerStringFormatter=Fl.defaultTrackerStringFormatter,assignMethod(this,"trackerStringFormatter",e),this.labelStringFormatter=Fl.defaultLabelStringFormatter,assignMethod(this,"labelStringFormatter",e),assignObject(this,DefaultRectangleBarSeriesOptions,e,{exclude:["trackerStringFormatter","labelStringFormatter"]})}getElementName(){return"RectangleBarSeries"}get actualFillColor(){return OxyColorHelper.getActualColor(this.fillColor,this._defaultFillColor)}get items(){return this._items}getNearestPoint(e,r){if(!(!this.actualBarRectangles||!this.actualItems))for(let xe=0;xe<this.actualBarRectangles.length;xe++){const Se=this.actualBarRectangles[xe];if(OxyRectHelper.containsPoint(Se,e)){const _e=(this.actualItems[xe].y0+this.actualItems[xe].y1)/2,Ae=e,Ce=newDataPoint(xe,_e),Pe=this.actualItems[xe],Ee=this.formatDefaultTrackerString(Pe,newDataPoint(this.actualItems[xe].x0,this.actualItems[xe].y0),Oe=>{Oe.x1Value=this.xAxis.getValue(this.actualItems[xe].x1),Oe.y1Value=this.yAxis.getValue(this.actualItems[xe].y1)});return new TrackerHitResult({series:this,dataPoint:Ce,position:Ae,item:Pe,index:xe,text:Ee})}}}async render(e){if(this.items.length===0)return;let r=0,xe=Number_MAX_VALUE;if(this.actualBarRectangles=[],this.actualItems=[],this.isXMonotonic){const Ae=this.xAxis.clipMinimum;xe=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(this.items,Ce=>Ce.x0,Ae,this.windowStartIndex),r=this.windowStartIndex}const Se=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);let _e=0;for(let Ae=r;Ae<this.items.length;Ae++){const Ce=this.items[Ae];if(!this.isValid(Ce.x0)||!this.isValid(Ce.x1)||!this.isValid(Ce.y0)||!this.isValid(Ce.y1))continue;const Pe=PlotElementExtensions.transform,Ee=Pe(this,Ce.x0,Ce.y0),Oe=Pe(this,Ce.x1,Ce.y1),Me=OxyRectHelper.create(Ee.x,Ee.y,Oe.x,Oe.y);this.actualBarRectangles.push(Me),this.actualItems.push(Ce);const De=Ce.color??OxyColors.Automatic;if(await e.drawRectangle(Me,this.getSelectableFillColor(OxyColorHelper.getActualColor(De,this.actualFillColor)),this.strokeColor,this.strokeThickness,Se),this.labelStringFormatter){const Te=this.labelStringFormatter(this.getItem(Ae),[Ce.x0,Ce.x1,Ce.y0,Ce.y1,Ce.title]),ke=OxyRectHelper.right(Me),Fe=OxyRectHelper.bottom(Me),$e=newScreenPoint((Me.left+ke)/2,(Me.top+Fe)/2);await e.drawText($e,Te,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}if(_e+=Ce.x0>xe?1:0,_e>1)break}}async renderLegend(e,r){const xe=OxyRectHelper.right(r),Se=OxyRectHelper.bottom(r),_e=(r.left+xe)/2,Ae=(r.top+Se)/2,Ce=(Se-r.top)*.8,Pe=Ce;await e.drawRectangle(newOxyRect(_e-.5*Pe,Ae-.5*Ce,Pe,Ce),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){OxyColorHelper.isAutomatic(this.fillColor)&&(this._defaultFillColor=this.plotModel.getDefaultColor())}updateData(){}updateMaxMin(){if(super.updateMaxMin(),this.isXMonotonic=!0,isNullOrUndef(this.items)||this.items.length===0)return;let e=Number_MAX_VALUE,r=Number_MIN_VALUE,xe=Number_MAX_VALUE,Se=Number_MIN_VALUE,_e=Number_MIN_VALUE,Ae=Number_MIN_VALUE;for(const Ce of this.items)(Ce.x0<_e||Ce.x1<Ae)&&(this.isXMonotonic=!1),e=Math.min(e,Math.min(Ce.x0,Ce.x1)),r=Math.max(r,Math.max(Ce.x1,Ce.x0)),xe=Math.min(xe,Math.min(Ce.y0,Ce.y1)),Se=Math.max(Se,Math.max(Ce.y0,Ce.y1)),_e=Ce.x0,Ae=Ce.x1;this.minX=e,this.maxX=r,this.minY=xe,this.maxY=Se}isValid(e){return!isNaNOrUndef(e)&&isFinite(e)}getElementDefaultValues(){return ExtendedDefaultRectangleBarSeriesOptions}toJSON(e){var r;const xe=super.toJSON(e);return(r=this._items)!=null&&r.length&&(xe.items=this._items),xe}};__publicField(_RectangleBarSeries,"defaultTrackerStringFormatter",function(t){return`${t.title}
${t.xTitle}: ${t.xValue} ${t.x1Value}  
${t.yTitle}: ${t.yValue} ${t.y1Value}`});__publicField(_RectangleBarSeries,"defaultLabelStringFormatter",function(t,e){return`${e[4]||""}`});let RectangleBarSeries=_RectangleBarSeries;function createHighLowItem(t,e,r,xe=NaN,Se=NaN){return{x:t,high:e,low:r,open:xe,close:Se}}const DefaultHighLowSeriesOptions={color:OxyColors.Automatic,lineJoin:LineJoin.Miter,lineStyle:LineStyle.Solid,strokeThickness:1,tickLength:4,dataFieldClose:void 0,dataFieldHigh:void 0,dataFieldLow:void 0,dataFieldOpen:void 0,dataFieldX:void 0,items:void 0},ExtendedDefaultHighLowSeriesOptions={...ExtendedDefaultXYAxisSeriesOptions,...DefaultHighLowSeriesOptions},_HighLowSeries=class Pu extends XYAxisSeries{constructor(e){super(e),__publicField(this,"_items",[]),__publicField(this,"_defaultColor",OxyColors.Undefined),__publicField(this,"trackerStringFormatter"),__publicField(this,"color",DefaultHighLowSeriesOptions.color),__publicField(this,"dashes"),__publicField(this,"dataFieldClose"),__publicField(this,"dataFieldHigh"),__publicField(this,"dataFieldLow"),__publicField(this,"dataFieldOpen"),__publicField(this,"dataFieldX"),__publicField(this,"lineJoin",DefaultHighLowSeriesOptions.lineJoin),__publicField(this,"lineStyle",DefaultHighLowSeriesOptions.lineStyle),__publicField(this,"mapping"),__publicField(this,"strokeThickness",DefaultHighLowSeriesOptions.strokeThickness),__publicField(this,"tickLength",DefaultHighLowSeriesOptions.tickLength),this.trackerStringFormatter=Pu.DefaultTrackerStringFormatter,e!=null&&e.items&&(this._items=e.items,delete e.items),assignObject(this,DefaultHighLowSeriesOptions,e)}getElementName(){return"HighLowSeries"}get actualColor(){return OxyColorHelper.getActualColor(this.color,this._defaultColor)}get items(){return this._items}getNearestPoint(e,r){if(!this.xAxis||!this.yAxis||r)return;let xe=Number_MAX_VALUE,Se;const _e=(Ae,Ce,Pe)=>{const Ee=this.transform(Ae),Oe=Ee.x-e.x,Me=Ee.y-e.y,De=Oe*Oe+Me*Me;if(De<xe){const Te=this.formatHighLowItemTrackerString(Ce);Se=new TrackerHitResult({series:this,dataPoint:Ae,position:Ee,item:Ce,index:Pe,text:Te}),xe=De}};for(let Ae=0;Ae<this.items.length;Ae++){const Ce=this.items[Ae];_e(newDataPoint(Ce.x,Ce.high),Ce,Ae),_e(newDataPoint(Ce.x,Ce.low),Ce,Ae),_e(newDataPoint(Ce.x,Ce.open),Ce,Ae),_e(newDataPoint(Ce.x,Ce.close),Ce,Ae)}if(xe<Number_MAX_VALUE)return Se}formatHighLowItemTrackerString(e){return this.trackerStringFormatter&&this.trackerStringFormatter({item:e,title:this.title||"",xTitle:this.xAxis.title??XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(e.x),high:this.yAxis.getValue(e.high),low:this.yAxis.getValue(e.low),open:this.yAxis.getValue(e.open),close:this.yAxis.getValue(e.close)})||""}isValidItem(e,r,xe){return!isNaN(e.x)&&isFinite(e.x)&&!isNaN(e.high)&&isFinite(e.high)&&!isNaN(e.low)&&isFinite(e.low)}async render(e){if(this.items.length===0)return;this.verifyAxes();const r=LineStyleHelper.getDashArray(this.lineStyle),xe=this.getSelectableColor(this.actualColor),Se=PlotElementExtensions.transform;for(const _e of this.items)if(this.isValidItem(_e,this.xAxis,this.yAxis)&&this.strokeThickness>0&&this.lineStyle!==LineStyle.None){const Ae=Se(this,_e.x,_e.high),Ce=Se(this,_e.x,_e.low);await e.drawLine([Ce,Ae],xe,this.strokeThickness,this.edgeRenderingMode,r,this.lineJoin);const Pe=PlotElementExtensions.orientateVector(this,newScreenVector(this.tickLength,0));if(!isNaN(_e.open)){const Ee=Se(this,_e.x,_e.open),Oe=screenPointMinusVector(Ee,Pe);await e.drawLine([Ee,Oe],xe,this.strokeThickness,this.edgeRenderingMode,r,this.lineJoin)}if(!isNaN(_e.close)){const Ee=Se(this,_e.x,_e.close),Oe=screenPointPlus(Ee,Pe);await e.drawLine([Ee,Oe],xe,this.strokeThickness,this.edgeRenderingMode,r,this.lineJoin)}}}async renderLegend(e,r){const xe=OxyRectHelper.right(r),Se=OxyRectHelper.bottom(r),_e=(r.left+xe)/2,Ae=r.top+(Se-r.top)*.7,Ce=r.top+(Se-r.top)*.3,Pe=LineStyleHelper.getDashArray(this.lineStyle),Ee=this.getSelectableColor(this.actualColor);this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&(await e.drawLine([newScreenPoint(_e,r.top),newScreenPoint(_e,Se)],Ee,this.strokeThickness,this.edgeRenderingMode,Pe,LineJoin.Miter),await e.drawLine([newScreenPoint(_e-this.tickLength,Ae),newScreenPoint(_e,Ae)],Ee,this.strokeThickness,this.edgeRenderingMode,Pe,LineJoin.Miter),await e.drawLine([newScreenPoint(_e+this.tickLength,Ce),newScreenPoint(_e,Ce)],Ee,this.strokeThickness,this.edgeRenderingMode,Pe,LineJoin.Miter))}setDefaultValues(){OxyColorHelper.isAutomatic(this.color)&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this._defaultColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource){if(this._items.length=0,this.mapping){for(const e of this.itemsSource)this._items.push(this.mapping(e));return}for(const e of this.itemsSource){if(!e)continue;if("high"in e&&"low"in e&&"x"in e){this._items.push(e);continue}if(!this.dataFieldX||!this.dataFieldHigh||!this.dataFieldLow)throw new Error("HighLowSeries: dataFieldX, dataFieldHigh and dataFieldLow are required");const r=getOrDefault(e,this.dataFieldX,NaN),xe=getOrDefault(e,this.dataFieldHigh,NaN),Se=getOrDefault(e,this.dataFieldLow,NaN),_e=getOrDefault(e,this.dataFieldOpen,NaN),Ae=getOrDefault(e,this.dataFieldClose,NaN);this._items.push({x:r,high:xe,low:Se,open:_e,close:Ae})}}}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin2(this.items,e=>e.x,e=>e.x,e=>e.low,e=>e.high)}getElementDefaultValues(){return ExtendedDefaultHighLowSeriesOptions}toJSON(e){var r;const xe=super.toJSON(e);return(r=this._items)!=null&&r.length&&(xe.items=this._items),xe}};__publicField(_HighLowSeries,"DefaultTrackerStringFormatter",function(t){return`${t.title}
${t.xTitle}: ${t.xValue}
High: ${round(t.high,3)}
Low: ${round(t.low,3)}
Open: ${round(t.open,3)}
Close: ${round(t.close,3)}`});let HighLowSeries=_HighLowSeries;function newOhlcvItem(t,e,r){return{x:t??NaN,buyVolume:e,sellVolume:r}}class OhlcvItemHelper{static findIndex(e,r,xe){let Se=0,_e=0,Ae=e.length-1;for(;_e<=Ae;){if(xe<_e)return Se;if(xe>Ae)return Ae;const Ce=e[xe].x;if(Ce===r)return xe;if(Ce>r){if(Ae=xe-1,Ae<_e)return Se;if(Ae===_e)return Ae}else _e=xe+1,Se=xe;if(_e>=Ae)return Se;const Pe=e[Ae].x,Ee=e[_e].x,Oe=(Ae-_e+1)/(Pe-Ee);xe=_e+Math.round((r-Ee)*Oe)}return Se}static isValid(e){return!isNaN(e.x)&&!isNaN(e.buyVolume)&&!isNaN(e.sellVolume)}}var VolumeStyle=(t=>(t[t.None=0]="None",t[t.Combined=1]="Combined",t[t.Stacked=2]="Stacked",t[t.PositiveNegative=3]="PositiveNegative",t))(VolumeStyle||{});const DefaultVolumeSeriesOptions={positiveColor:OxyColors.DarkGreen,negativeColor:OxyColors.Red,barWidth:0,strokeThickness:1,negativeHollow:!1,positiveHollow:!0,strokeIntensity:.8,volumeStyle:1,interceptColor:OxyColors.Gray,interceptLineStyle:LineStyle.Dash,interceptStrokeThickness:1,items:void 0},ExtendedDefaultVolumeSeriesOptions={...ExtendedDefaultXYAxisSeriesOptions,...DefaultVolumeSeriesOptions},_VolumeSeries=class Eu extends XYAxisSeries{constructor(e){super(e),__publicField(this,"_items",[]),__publicField(this,"_minDx",0),__publicField(this,"_winIndex",0),__publicField(this,"volumeStyle",DefaultVolumeSeriesOptions.volumeStyle),__publicField(this,"strokeThickness",DefaultVolumeSeriesOptions.strokeThickness),__publicField(this,"strokeIntensity",DefaultVolumeSeriesOptions.strokeIntensity),__publicField(this,"positiveColor",DefaultVolumeSeriesOptions.positiveColor),__publicField(this,"negativeColor",DefaultVolumeSeriesOptions.negativeColor),__publicField(this,"interceptColor",DefaultVolumeSeriesOptions.interceptColor),__publicField(this,"interceptStrokeThickness",DefaultVolumeSeriesOptions.interceptStrokeThickness),__publicField(this,"interceptLineStyle",DefaultVolumeSeriesOptions.interceptLineStyle),__publicField(this,"positiveHollow",DefaultVolumeSeriesOptions.positiveHollow),__publicField(this,"negativeHollow",DefaultVolumeSeriesOptions.negativeHollow),__publicField(this,"barWidth",DefaultVolumeSeriesOptions.barWidth),__publicField(this,"minimumVolume",0),__publicField(this,"maximumVolume",0),__publicField(this,"averageVolume",0),e!=null&&e.items&&(this.items=e.items,delete e.items),this.trackerStringFormatter=Eu.DefaultTrackerStringFormatter,assignMethod(this,"trackerStringFormatter",e),assignObject(this,DefaultVolumeSeriesOptions,e,{exclude:["trackerStringFormatter"]})}getElementName(){return"VolumeSeries"}get items(){return this._items}set items(e){this._items=e}append(e){if(isNullOrUndef(this._items)&&(this._items=[]),this._items.length>0&&this._items[this._items.length-1].x>e.x)throw new Error("cannot append bar out of order, must be sequential in X");this._items.push(e)}async render(e){if(isNullOrUndef(this._items)||this._items.length===0)return;const r=this._items,xe=this._items.length;this.verifyAxes();const Se=this.getClippingRect();this.barWidth>0?this.barWidth:this._minDx*.8;const _e=this.getSelectableFillColor(this.positiveColor),Ae=this.getSelectableFillColor(this.negativeColor),Ce=this.positiveHollow?OxyColors.Transparent:_e,Pe=this.negativeHollow?OxyColors.Transparent:Ae,Ee=OxyColorHelper.changeIntensity(this.positiveColor,this.strokeIntensity),Oe=OxyColorHelper.changeIntensity(this.negativeColor,this.strokeIntensity),Me=this.getSelectableColor(Ee),De=this.getSelectableColor(Oe),Te=this.xAxis.clipMinimum,ke=this.xAxis.clipMaximum;this._winIndex=OhlcvItemHelper.findIndex(r,Te,this._winIndex);const Fe=PlotElementExtensions.transform;for(let $e=this._winIndex;$e<xe;$e++){const Be=r[$e];if(Be.x>ke)break;if(!OhlcvItemHelper.isValid(Be))continue;const Ie=this.getBuyBarRect(Be),Re=this.getSellBarRect(Be);switch(this.volumeStyle){case 1:{const je=Be.buyVolume>Be.sellVolume?Ce:Pe,Ve=Be.buyVolume>Be.sellVolume?Me:De;await e.drawRectangle(Ie,je,Ve,this.strokeThickness,this.edgeRenderingMode)}break;case 3:await e.drawRectangle(Ie,_e,Me,this.strokeThickness,this.edgeRenderingMode),await e.drawRectangle(Re,Ae,De,this.strokeThickness,this.edgeRenderingMode);break;case 2:{await e.drawRectangle(Ie,_e,Me,this.strokeThickness,this.edgeRenderingMode),await e.drawRectangle(Re,Ae,De,this.strokeThickness,this.edgeRenderingMode);break}case 0:break;default:throw new Error("Invalid VolumeStyle")}}if(this.interceptStrokeThickness>0&&this.interceptLineStyle!==LineStyle.None){const $e=this.inverseTransform(OxyRectHelper.bottomLeft(Se)),Be=this.inverseTransform(OxyRectHelper.topRight(Se)),Ie=Fe(this,$e.x,0),Re=Fe(this,Be.x,0);await e.drawLine([Ie,Re],this.interceptColor,this.interceptStrokeThickness,this.edgeRenderingMode,LineStyleHelper.getDashArray(this.interceptLineStyle),LineJoin.Miter)}}getBuyBarRect(e){const r=PlotElementExtensions.transform,Se=(this.barWidth>0?this.barWidth:this._minDx*.8)*.5,_e=r(this,e.x-Se,0);switch(this.volumeStyle){case 1:{const Ae=r(this,e.x+Se,Math.abs(e.buyVolume-e.sellVolume));return OxyRectHelper.fromScreenPoints(_e,Ae)}case 3:{const Ae=r(this,e.x+Se,e.buyVolume);return OxyRectHelper.fromScreenPoints(_e,Ae)}case 2:{const Ae=r(this,e.x+Se,e.buyVolume),Ce=r(this,e.x+Se,e.sellVolume),Pe=r(this,e.x-Se,e.buyVolume+e.sellVolume);return e.buyVolume>e.sellVolume?OxyRectHelper.fromScreenPoints(Ce,Pe):OxyRectHelper.fromScreenPoints(_e,Ae)}}throw new Error("Invalid VolumeStyle")}getSellBarRect(e){const r=PlotElementExtensions.transform,Se=(this.barWidth>0?this.barWidth:this._minDx*.8)*.5,_e=r(this,e.x-Se,0);switch(this.volumeStyle){case 1:{const Ae=r(this,e.x+Se,Math.abs(e.buyVolume-e.sellVolume));return OxyRectHelper.fromScreenPoints(_e,Ae)}case 3:{const Ae=r(this,e.x+Se,-e.sellVolume);return OxyRectHelper.fromScreenPoints(_e,Ae)}case 2:{const Ae=r(this,e.x+Se,e.buyVolume),Ce=r(this,e.x+Se,e.sellVolume),Pe=r(this,e.x-Se,e.buyVolume+e.sellVolume);return e.buyVolume>e.sellVolume?OxyRectHelper.fromScreenPoints(_e,Ce):OxyRectHelper.fromScreenPoints(Ae,Pe)}}throw new Error("Invalid VolumeStyle")}async renderLegend(e,r){const xe=OxyRectHelper.right(r),Se=OxyRectHelper.bottom(r),_e=(r.left+xe)/2,Ae=r.top+(Se-r.top)*.7,Ce=r.top+(Se-r.top)*.3,Pe=LineStyleHelper.getDashArray(LineStyle.Solid),Ee=this.getSelectableFillColor(this.positiveColor),Oe=this.getSelectableColor(OxyColorHelper.changeIntensity(this.positiveColor,this.strokeIntensity)),Me=r.width*.75;this.strokeThickness>0&&(await e.drawLine([newScreenPoint(_e,r.top),newScreenPoint(_e,Se)],Oe,this.strokeThickness,this.edgeRenderingMode,Pe,LineJoin.Miter),await e.drawRectangle(newOxyRect(_e-Me*.5,Ce,Me,Ae-Ce),Ee,Oe,this.strokeThickness,this.edgeRenderingMode))}getNearestPoint(e,r){if(!this.xAxis||!this.yAxis||r||!this._items||this._items.length===0)return;const xe=this._items.length,Se=this.inverseTransform(e),_e=Se.x;if(_e>this._items[xe-1].x+this._minDx)return;if(_e<this._items[0].x-this._minDx)return;const Ae=OhlcvItemHelper.findIndex(this._items,_e,this._winIndex),Ce=Ae+1<this._items.length?Ae+1:Ae,Pe=ke=>{const Fe=ke.x-Se.x;return Fe*Fe},Ee=Pe(this._items[Ae])<=Pe(this._items[Ce])?Ae:Ce,Oe=this._items[Ee];let Me=!1;const De=this.getBuyBarRect(Oe);if(OxyRectHelper.containsPoint(De,e)&&(Me=!0),!Me){const ke=this.getSellBarRect(Oe);OxyRectHelper.containsPoint(ke,e)&&(Me=!0)}if(Me)return;const Te=this.formatDefaultTrackerString(Oe,newDataPoint(Oe.x,0));return new TrackerHitResult({series:this,dataPoint:Se,position:e,item:Oe,index:Ee,text:Te})}updateData(){if(super.updateData(),this._winIndex=0,!this._items||this._items.length===0)return;const e=this._items,r=e.length;this._minDx=Number_MAX_VALUE;for(let xe=1;xe<r;xe++)if(this._minDx=Math.min(this._minDx,e[xe].x-e[xe-1].x),this._minDx<0)throw new Error("bars are out of order, must be sequential in x");r<=1&&(this._minDx=1)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX);let e=this.minimumVolume,r=this.maximumVolume;const xe=this.averageVolume,Se=(r-e)/4;switch(this.volumeStyle){case 3:e=-(xe+Se/2),r=+(xe+Se/2);break;case 2:r=xe+Se,e=0;break;default:r=xe+Se/2,e=0;break}e=Math.max(this.yAxis.filterMinValue,e),r=Math.min(this.yAxis.filterMaxValue,r),this.yAxis.include(e),this.yAxis.include(r)}updateMaxMin(){super.updateMaxMin();let e=Number_MAX_VALUE,r=Number_MIN_VALUE,xe=0,Se=Number_MIN_VALUE,_e=0,Ae=0;for(const Ce of this.items)OhlcvItemHelper.isValid(Ce)&&(Ce.sellVolume>0&&_e++,Ce.buyVolume>0&&_e++,Ae+=Ce.buyVolume,Ae+=Ce.sellVolume,e=Math.min(e,Ce.x),r=Math.max(r,Ce.x),xe=Math.min(xe,-Ce.sellVolume),Se=Math.max(Se,+Ce.buyVolume));this.minX=Math.max(this.xAxis.filterMinValue,e),this.maxX=Math.min(this.xAxis.filterMaxValue,r),this.minimumVolume=xe,this.maximumVolume=Se,this.averageVolume=Ae/_e}getJsonIgnoreProperties(){return[...super.getJsonIgnoreProperties(),"minimumVolume","maximumVolume","averageVolume"]}getElementDefaultValues(){return ExtendedDefaultVolumeSeriesOptions}toJSON(e){var r;const xe=super.toJSON(e);return(r=this._items)!=null&&r.length&&(xe.items=this._items),xe}};__publicField(_VolumeSeries,"DefaultTrackerStringFormatter",function(t){const e=t.item;return`Time: ${t.xValue}
Buy Volume: ${e.buyVolume}
Sell Volume: ${e.sellVolume}`});let VolumeSeries=_VolumeSeries;const DefaultCandleStickSeriesOptions={increasingColor:OxyColors.DarkGreen,decreasingColor:OxyColors.Red,candleWidth:0},ExtendedDefaultCandleStickSeriesOptions={...DefaultCandleStickSeriesOptions,...ExtendedDefaultHighLowSeriesOptions};class CandleStickSeries extends HighLowSeries{constructor(e){super(e),__publicField(this,"_minDx",0),__publicField(this,"increasingColor",DefaultCandleStickSeriesOptions.increasingColor),__publicField(this,"decreasingColor",DefaultCandleStickSeriesOptions.decreasingColor),__publicField(this,"candleWidth",DefaultCandleStickSeriesOptions.candleWidth),assignObject(this,DefaultCandleStickSeriesOptions,e)}getElementName(){return"CandleStickSeries"}findByX(e,r=-1){return r<0&&(r=this.windowStartIndex),this.findWindowStartIndex(this.items,xe=>xe.x,e,r)}async render(e){const r=this.items.length,xe=this.items;if(r===0||this.strokeThickness<=0||this.lineStyle===LineStyle.None)return;this.verifyAxes();const Se=LineStyleHelper.getDashArray(this.lineStyle),Ae=.5*(this.candleWidth>0?this.candleWidth:this._minDx*.8),Ce=this.getSelectableFillColor(this.increasingColor),Pe=this.getSelectableFillColor(this.decreasingColor),Ee=this.getSelectableColor(OxyColorHelper.changeIntensity(this.increasingColor,.7).hex),Oe=this.getSelectableColor(OxyColorHelper.changeIntensity(this.decreasingColor,.7).hex),Me=this.xAxis.clipMinimum,De=this.xAxis.clipMaximum;this.windowStartIndex=this.updateWindowStartIndex(xe,ke=>ke.x,Me,this.windowStartIndex);const Te=PlotElementExtensions.transform;for(let ke=this.windowStartIndex;ke<r;ke++){const Fe=xe[ke];if(Fe.x>De)return;if(!this.isValidItem(Fe,this.xAxis,this.yAxis))continue;const $e=Fe.close>Fe.open?Ce:Pe,Be=Fe.close>Fe.open?Ee:Oe,Ie=Te(this,Fe.x,Fe.high),Re=Te(this,Fe.x,Fe.low),je=Te(this,Fe.x,Math.max(Fe.open,Fe.close)),Ve=Te(this,Fe.x,Math.min(Fe.open,Fe.close));this.strokeThickness>0&&(await e.drawLine([Ie,je],Be,this.strokeThickness,this.edgeRenderingMode,Se,this.lineJoin),await e.drawLine([Ve,Re],Be,this.strokeThickness,this.edgeRenderingMode,Se,this.lineJoin));const He=Te(this,Fe.x-Ae,Fe.open),ze=Te(this,Fe.x+Ae,Fe.close),Ue=OxyRectHelper.fromScreenPoints(He,ze);await e.drawRectangle(Ue,$e,Be,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(e,r){const xe=OxyRectHelper.right(r),Se=OxyRectHelper.bottom(r),_e=(r.left+xe)/2,Ae=r.top+(Se-r.top)*.7,Ce=r.top+(Se-r.top)*.3,Pe=LineStyleHelper.getDashArray(this.lineStyle),Ee=r.width*.75;this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&await e.drawLine([newScreenPoint(_e,r.top),newScreenPoint(_e,Se)],this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,Pe,LineJoin.Miter),await e.drawRectangle(newOxyRect(_e-Ee*.5,Ce,Ee,Ae-Ce),this.getSelectableFillColor(this.increasingColor),this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode)}getNearestPoint(e,r){if(!this.xAxis||!this.yAxis||r||this.items.length===0)return;const xe=this.items.length,Se=this.inverseTransform(e),_e=Se.x;if(_e>this.items[xe-1].x+this._minDx||_e<this.items[0].x-this._minDx)return;const Ae=this.findWindowStartIndex(this.items,Te=>Te.x,_e,this.windowStartIndex),Ce=Ae+1<this.items.length?Ae+1:Ae,Pe=Te=>{const ke=Te.x-Se.x,Fe=Te.open-Se.y,$e=Te.high-Se.y,Be=Te.low-Se.y,Ie=Te.close-Se.y,Re=ke*ke+Fe*Fe,je=ke*ke+$e*$e,Ve=ke*ke+Be*Be,He=ke*ke+Ie*Ie;return Math.min(Re,Math.min(je,Math.min(Ve,He)))},Ee=Pe(this.items[Ae])<=Pe(this.items[Ce])?Ae:Ce,Oe=this.items[Ee],Me=newDataPoint(Oe.x,Oe.close),De=this.formatHighLowItemTrackerString(Oe);return new TrackerHitResult({series:this,dataPoint:Me,position:this.transform(Me),item:Oe,index:Ee,text:De})}updateData(){super.updateData();const e=this.items,r=e.length;this._minDx=Number_MAX_VALUE;for(let xe=1;xe<r;xe++)if(this._minDx=Math.min(this._minDx,e[xe].x-e[xe-1].x),this._minDx<0)throw new Error("bars are out of order, must be sequential in x");r<=1&&(this._minDx=1)}getElementDefaultValues(){return ExtendedDefaultCandleStickSeriesOptions}}const ExtendedDefaultFunctionSeriesOptions={...ExtendedDefaultLineSeriesOptions};class FunctionSeries extends LineSeries{constructor(e){if(super(e),e.f){e.dx?this.f1(e.f,e.x0,e.x1,e.dx):e.n&&this.f2(e.f,e.x0,e.x1,e.n);return}e.fx&&e.fy&&(e.dt?this.f3(e.fx,e.fy,e.t0,e.t1,e.dt):e.n&&this.f4(e.fx,e.fy,e.t0,e.t1,e.n))}getElementName(){return"FunctionSeries"}static fromDx(e,r,xe,Se,_e){return new FunctionSeries({f:e,x0:r,x1:xe,dx:Se,title:_e})}static fromN(e,r,xe,Se,_e){return assertInteger(Se,"n"),new FunctionSeries({f:e,x0:r,x1:xe,n:Se,title:_e})}static fromFxFyDt(e,r,xe,Se,_e,Ae){return new FunctionSeries({fx:e,fy:r,t0:xe,t1:Se,dt:_e,title:Ae})}static fromFxFyN(e,r,xe,Se,_e,Ae){return assertInteger(_e,"n"),new FunctionSeries({fx:e,fy:r,t0:xe,t1:Se,n:_e,title:Ae})}f1(e,r,xe,Se){for(let _e=r;_e<=xe+Se*.5;_e+=Se)this.points.push(newDataPoint(_e,e(_e)))}f2(e,r,xe,Se){this.f1(e,r,xe,(xe-r)/(Se-1))}f3(e,r,xe,Se,_e){for(let Ae=xe;Ae<=Se+_e*.5;Ae+=_e)this.points.push(newDataPoint(e(Ae),r(Ae)))}f4(e,r,xe,Se,_e){this.f3(e,r,xe,Se,(Se-xe)/(_e-1))}getElementDefaultValues(){return ExtendedDefaultFunctionSeriesOptions}}function newHistogramItem(t,e,r,xe,Se=OxyColors.Automatic){return{rangeStart:t,rangeEnd:e,area:r,count:xe,color:Se}}class HistogramItemEx{constructor(e){__publicField(this,"_item"),this._item=e}static from(e){return new HistogramItemEx(e)}get rangeStart(){return this._item.rangeStart}get rangeEnd(){return this._item.rangeEnd}get area(){return this._item.area}get count(){return this._item.count}get color(){return this._item.color}get center(){return this._item.rangeStart+(this._item.rangeEnd-this._item.rangeStart)/2}get width(){return this._item.rangeEnd-this._item.rangeStart}get height(){return this._item.area/this.width}get value(){return this.height}contains(e){const r=this.height,{rangeStart:xe,rangeEnd:Se}=this._item;return r<0?e.x<=Se&&e.x>=xe&&e.y>=r&&e.y<=0||e.x<=xe&&e.x>=Se&&e.y>=r&&e.y<=0:e.x<=Se&&e.x>=xe&&e.y<=r&&e.y>=0||e.x<=xe&&e.x>=Se&&e.y<=r&&e.y>=0}}function isHistogramItem(t){return t?"rangeStart"in t&&"rangeEnd"in t&&"area"in t&&"count"in t:!1}const DefaultHistogramSeriesOptions={baseValue:0,baseLine:NaN,fillColor:OxyColors.Automatic,strokeColor:OxyColors.Black,negativeFillColor:OxyColors.Undefined,negativeStrokeColor:OxyColors.Undefined,strokeThickness:0,labelMargin:0,labelPlacement:LabelPlacement.Outside,labelStringFormatter:void 0,colorMapping:void 0,mapping:void 0,items:void 0},ExtendedDefaultHistogramSeriesOptions={...ExtendedDefaultXYAxisSeriesOptions,...DefaultHistogramSeriesOptions},_HistogramSeries=class Ou extends XYAxisSeries{constructor(e){super(e),__publicField(this,"_defaultFillColor",OxyColors.Undefined),__publicField(this,"_actualItems"),__publicField(this,"baseValue",DefaultHistogramSeriesOptions.baseValue),__publicField(this,"baseLine",DefaultHistogramSeriesOptions.baseLine),__publicField(this,"_actualBaseLine",NaN),__publicField(this,"fillColor",DefaultHistogramSeriesOptions.fillColor),__publicField(this,"strokeColor",DefaultHistogramSeriesOptions.strokeColor),__publicField(this,"negativeFillColor",DefaultHistogramSeriesOptions.negativeFillColor),__publicField(this,"negativeStrokeColor",DefaultHistogramSeriesOptions.negativeStrokeColor),__publicField(this,"strokeThickness",DefaultHistogramSeriesOptions.strokeThickness),__publicField(this,"_minValue",0),__publicField(this,"_maxValue",0),__publicField(this,"labelStringFormatter"),__publicField(this,"trackerStringFormatter"),__publicField(this,"labelMargin",DefaultHistogramSeriesOptions.labelMargin),__publicField(this,"labelPlacement",DefaultHistogramSeriesOptions.labelPlacement),__publicField(this,"colorMapping"),__publicField(this,"mapping"),__publicField(this,"items",[]),this.colorMapping=this.getDefaultColor,this.trackerStringFormatter=Ou.defaultTrackerStringFormatter,assignMethod(this,"trackerStringFormatter",e),assignObject(this,DefaultHistogramSeriesOptions,e,{exclude:["trackerStringFormatter"]})}getElementName(){return"HistogramSeries"}get actualBaseLine(){return this._actualBaseLine}get actualFillColor(){return OxyColorHelper.getActualColor(this.fillColor,this._defaultFillColor)}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(e){this.verifyAxes(),await this.renderBins(e,this.actualItems)}getNearestPoint(e,r){const xe=this.inverseTransform(e);if(this.isPointInRange(xe)&&this.actualItems)for(let Se=0;Se<this.actualItems.length;Se++){const _e=HistogramItemEx.from(this.actualItems[Se]);if(_e.contains(xe)){const Ae=this.getItem(Se);return new TrackerHitResult({series:this,dataPoint:xe,position:e,item:Ae,index:Se,text:this.formatDefaultTrackerString(_e,xe)})}}}async renderLegend(e,r){const xe=OxyRectHelper.right(r),Se=OxyRectHelper.bottom(r),_e=(r.left+xe)/2,Ae=(r.top+Se)/2,Ce=(Se-r.top)*.8,Pe=Ce,Ee=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await e.drawRectangle(newOxyRect(_e-.5*Pe,Ae-.5*Ce,Pe,Ce),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,Ee)}updateData(){this.itemsSource&&this.updateActualItems()}setDefaultValues(){OxyColorHelper.isAutomatic(this.fillColor)&&(this._defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaNOrUndef(this.baseLine))if(this.yAxis.isLogarithmic()){const e=this.actualItems?minValueOfArray(this.actualItems.map(r=>HistogramItemEx.from(r).value).filter(r=>r>0),1):1;this._actualBaseLine=Math.max(e/10,this.baseValue)}else this._actualBaseLine=0;else this._actualBaseLine=this.baseLine}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const e=this.actualItems.map(_e=>HistogramItemEx.from(_e)),r=e.map(_e=>_e.rangeStart),xe=e.map(_e=>_e.rangeEnd),Se=e.map(_e=>_e.height);this.minX=Math.min(minValueOfArray(r),minValueOfArray(xe)),this.maxX=Math.max(maxValueOfArray(r),maxValueOfArray(xe)),this.yAxis.isLogarithmic()?(this.minY=Math.max(minValueOfArray(Se),Number.EPSILON),this.maxY=maxValueOfArray(Se,Number.EPSILON)):(this.minY=minValueOfArray(Se,0),this.maxY=maxValueOfArray(Se,0))}}updateMaxMin(){if(super.updateMaxMin(),!this.actualItems)return;const e=this.actualItems.map(xe=>HistogramItemEx.from(xe)),r=[];if(pushMany(r,e.map(xe=>newDataPoint(xe.rangeStart,0))),pushMany(r,e.map(xe=>newDataPoint(xe.rangeEnd,xe.height))),this.internalUpdateMaxMin(r),this.updateMaxMinXY(),e.length>0){const xe=e.map(Se=>Se.value);this._minValue=minValueOfArray(xe),this._maxValue=maxValueOfArray(xe)}}getItem(e){const r=this.actualItems;return!this.itemsSource&&r&&e<r.length?r[e]:super.getItem(e)}async renderBins(e,r){const xe=this.yAxis,Se=xe.isLogarithmic()&&!xe.isValidValue(this.baseValue);for(const _e of r){const Ae=HistogramItemEx.from(_e);if(xe.isLogarithmic()&&!xe.isValidValue(Ae.height))continue;const Ce=this.getItemFillColor(Ae),Pe=this.getItemStrokeColor(Ae),Ee=this.transform(newDataPoint(Ae.rangeStart,Se?xe.clipMinimum:this.baseValue)),Oe=this.transform(newDataPoint(Ae.rangeEnd,Ae.height)),Me=OxyRectHelper.fromScreenPoints(Ee,Oe),De=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await e.drawRectangle(Me,Ce,Pe,this.strokeThickness,De),this.labelStringFormatter&&await this.renderLabel(e,Me,Ae)}}getItemFillColor(e){const r=HistogramItemEx.from(e);return e.color||(e.color=OxyColors.Automatic),OxyColorHelper.isAutomatic(e.color)?this.colorMapping(r):e.color}getItemStrokeColor(e){return OxyColorHelper.isUndefined(this.negativeStrokeColor)||HistogramItemEx.from(e).height>=this.baseValue?this.strokeColor:this.negativeStrokeColor}async renderLabel(e,r,xe){const _e=HistogramItemEx.from(xe).value,Ae=this.labelStringFormatter(xe,[_e,xe.rangeStart,xe.rangeEnd,xe.area,xe.count]);let Ce,Pe,Ee=HorizontalAlignment.Center;const Oe=(xe.rangeStart+xe.rangeEnd)/2,Me=Math.sign(_e);let De=Me*this.labelMargin;switch(this.labelPlacement){case LabelPlacement.Inside:Ce=newDataPoint(Oe,_e),Pe=-Me;break;case LabelPlacement.Middle:{const $e=this.inverseTransform(OxyRectHelper.topLeft(r)),Be=this.inverseTransform(OxyRectHelper.bottomRight(r));Ce=newDataPoint(Oe,($e.y+Be.y)/2),Pe=VerticalAlignment.Middle;break}case LabelPlacement.Base:Ce=newDataPoint(Oe,0),De=-De,Pe=Me;break;case LabelPlacement.Outside:Ce=newDataPoint(Oe,_e),De=-De,Pe=Me;break;default:throw new Error("Invalid label placement")}const Te=PlotElementExtensions.orientateAlignment(this,Ee,Pe);Ee=Te[0],Pe=Te[1];const ke=PlotElementExtensions.orientateVector(this,newScreenVector(0,De)),Fe=screenPointPlus(this.transform(Ce),ke);await e.drawText(Fe,Ae,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,Ee,Pe)}isPointInRange(e){return this.updateMaxMinXY(),e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}getDefaultColor(e){return OxyColorHelper.isUndefined(this.negativeFillColor)||HistogramItemEx.from(e).value>=this.baseValue?this.actualFillColor:this.negativeFillColor}updateActualItems(){if(this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when using the Mapping property");this.clearActualItems(),this._actualItems=this._actualItems||[];for(const e of this.itemsSource)this._actualItems.push(this.mapping(e));return}this.clearActualItems(),this._actualItems=this._actualItems||[];for(const e of this.itemsSource||[])if(e)throw isHistogramItem(e)&&this._actualItems.push(e),new Error("invalid item type")}getElementDefaultValues(){return ExtendedDefaultHistogramSeriesOptions}};__publicField(_HistogramSeries,"defaultTrackerStringFormatter",function(t){return`Start: ${t.item.rangeStart}
End: ${t.item.rangeEnd}
Value: ${t.item.value}
Area: ${t.item.area}
Count: ${t.item.count}`});let HistogramSeries=_HistogramSeries;function isScatterPointProvider(t){return t&&typeof t.getScatterPoint=="function"}const DefaultScatterSeriesOptions={markerFill:OxyColors.Automatic,markerSize:5,markerStroke:OxyColors.Automatic,markerStrokeThickness:1,markerType:MarkerType.Square,labelMargin:6,binSize:0,dataFieldValue:void 0,dataFieldSize:void 0,dataFieldTag:void 0,dataFieldX:void 0,dataFieldY:void 0,mapping:void 0,markerOutline:void 0,labelStringFormatter:void 0,colorAxisKey:void 0,points:void 0},ExtendedDefaultScatterSeriesOptions={...ExtendedDefaultXYAxisSeriesOptions,...DefaultScatterSeriesOptions},_ScatterSeries=class Mu extends XYAxisSeries{constructor(e){super(e),__publicField(this,"_points",[]),__publicField(this,"_defaultMarkerFillColor",OxyColors.Undefined),__publicField(this,"markerFill",DefaultScatterSeriesOptions.markerFill),__publicField(this,"markerOutline"),__publicField(this,"markerSize",DefaultScatterSeriesOptions.markerSize),__publicField(this,"markerType",DefaultScatterSeriesOptions.markerType),__publicField(this,"markerStroke",DefaultScatterSeriesOptions.markerStroke),__publicField(this,"markerStrokeThickness",DefaultScatterSeriesOptions.markerStrokeThickness),__publicField(this,"labelStringFormatter"),__publicField(this,"labelMargin",DefaultScatterSeriesOptions.labelMargin),__publicField(this,"binSize",DefaultScatterSeriesOptions.binSize),__publicField(this,"colorAxisKey"),__publicField(this,"dataFieldX"),__publicField(this,"dataFieldY"),__publicField(this,"dataFieldSize"),__publicField(this,"dataFieldTag"),__publicField(this,"dataFieldValue"),__publicField(this,"mapping"),__publicField(this,"_colorAxis"),__publicField(this,"itemsSourcePoints"),__publicField(this,"_minValue",0),__publicField(this,"_maxValue",0),e!=null&&e.points&&(this._points=e.points,delete e.points),assignObject(this,DefaultScatterSeriesOptions,e)}get colorAxis(){return this._colorAxis}get actualMarkerFillColor(){return OxyColorHelper.getActualColor(this.markerFill,this._defaultMarkerFillColor)}get points(){return this._points}get actualPoints(){return this.itemsSource?this.itemsSourcePoints:this.points}get minValue(){return this._minValue}get maxValue(){return this._maxValue}getElementName(){return"ScatterSeries"}getNearestPoint(e,r){if(!this.xAxis||!this.yAxis||r)return;const xe=this.actualPoints;if(!xe||xe.length===0)return;let Se,_e=Number_MAX_VALUE,Ae=0;const Ce=this.colorAxis?this.colorAxis.title:Mu._defaultColorAxisTitle,Pe=this.xAxis.clipMinimum,Ee=this.xAxis.clipMaximum,Oe=this.yAxis.clipMinimum,Me=this.yAxis.clipMaximum;for(const De of xe){if(De.x<Pe||De.x>Ee||De.y<Oe||De.y>Me){Ae++;continue}const Te=this.transform(newDataPoint(De.x,De.y)),ke=Te.x-e.x,Fe=Te.y-e.y,$e=ke*ke+Fe*Fe;if($e<_e){const Be=this.getItem(Ae)??De;let Ie;!isNullOrUndef(De.value)&&!isNaN(De.value)&&!isInfinity(De.value)&&(Ie=De.value);const Re=newDataPoint(De.x,De.y);Se=new TrackerHitResult({series:this,dataPoint:Re,position:Te,item:Be,index:Ae,text:this.formatDefaultTrackerString(Be,Re,je=>{je.colorAxisTitle=Ce,je.zValue=Ie})}),_e=$e}Ae++}return Se}async render(e){const r=this.actualPoints;if(!r||r.length===0)return;const xe=this.getClippingRect(),Se=r.length,_e=[],Ae=[],Ce=[],Pe=[],Ee=new Map,Oe=new Map,Me=this.isSelected();for(let Te=0;Te<Se;Te++){const ke=newDataPoint(r[Te].x,r[Te].y);if(!this.isValidPoint(ke))continue;let Fe=NaN,$e=NaN;const Be=r[Te];Be&&(isNullOrUndef(Be.size)||(Fe=Be.size),isNullOrUndef(Be.value)||($e=Be.value)),isNaN(Fe)&&(Fe=this.markerSize);const Ie=this.transform(newDataPoint(ke.x,ke.y));if(Me&&this.isItemSelected(Te)){Ce.push(Ie),Pe.push(Fe);continue}if(this.colorAxis){if(isNaN($e))continue;const Re=this.colorAxis.getPaletteIndex($e);Ee.has(Re)||(Ee.set(Re,[]),Oe.set(Re,[])),Ee.get(Re).push(Ie),Oe.get(Re).push(Fe)}else _e.push(Ie),Ae.push(Fe)}const De=this.transform(newDataPoint(this.minX,this.maxY));if(this.colorAxis){const Te=this.markerType===MarkerType.Plus||this.markerType===MarkerType.Star||this.markerType===MarkerType.Cross;for(const[ke,Fe]of Ee){const $e=this.colorAxis.getColor(ke);await RenderingExtensions.drawMarkers(e,Fe,this.markerType,this.markerOutline,Oe.get(ke),OxyColorHelper.getActualColor(this.markerFill,$e),Te?$e:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,De)}}await RenderingExtensions.drawMarkers(e,_e,this.markerType,this.markerOutline,Ae,this.actualMarkerFillColor,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,De),await RenderingExtensions.drawMarkers(e,Ce,this.markerType,this.markerOutline,Pe,this.plotModel.selectionColor,this.plotModel.selectionColor,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,De),this.labelStringFormatter&&await this.renderPointLabels(e,xe)}async renderLegend(e,r){const xe=OxyRectHelper.right(r),Se=OxyRectHelper.bottom(r),_e=(r.left+xe)/2,Ae=(r.top+Se)/2,Ce=newScreenPoint(_e,Ae);await RenderingExtensions.drawMarker(e,Ce,this.markerType,this.markerOutline,this.markerSize,this.isSelected()?this.plotModel.selectionColor:this.actualMarkerFillColor,this.isSelected()?this.plotModel.selectionColor:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}ensureAxes(){super.ensureAxes(),this._colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){OxyColorHelper.isAutomatic(this.markerFill)&&(this._defaultMarkerFillColor=this.plotModel.getDefaultColor())}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMinValue(this.actualPoints)}async renderPointLabels(e,r){const xe=this.actualPoints;if(!xe||xe.length===0)return;let Se=-1;for(const _e of xe){Se++;const Ae=newDataPoint(_e.x,_e.y);if(!this.isValidPoint(Ae))continue;const Ce=screenPointPlus(this.transform(Ae),newScreenVector(0,-this.labelMargin));if(!OxyRectHelper.containsPoint(r,Ce))continue;const Pe=this.getItem(Se),Ee=this.labelStringFormatter(Pe,[_e.x,_e.y]);await e.drawText(Ce,Ee,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Bottom)}}internalUpdateMaxMinValue(e){if(!e||e.length===0)return;let r=Number_MAX_VALUE,xe=Number_MAX_VALUE,Se=Number_MAX_VALUE,_e=Number_MIN_VALUE,Ae=Number_MIN_VALUE,Ce=Number_MIN_VALUE;isNaN(r)&&(r=Number_MAX_VALUE),isNaN(xe)&&(xe=Number_MAX_VALUE),isNaN(_e)&&(_e=Number_MIN_VALUE),isNaN(Ae)&&(Ae=Number_MIN_VALUE),isNaN(Se)&&(Se=Number_MIN_VALUE),isNaN(Ce)&&(Ce=Number_MIN_VALUE);for(const Pe of e){const Ee=Pe.x,Oe=Pe.y;if(Ee!==Ee||Oe!==Oe)continue;const Me=isNullOrUndef(Pe.value)?Number.NaN:Pe.value;Ee<r&&(r=Ee),Ee>_e&&(_e=Ee),Oe<xe&&(xe=Oe),Oe>Ae&&(Ae=Oe),Me<Se&&(Se=Me),Me>Ce&&(Ce=Me)}r<Number_MAX_VALUE&&(this.minX=r),xe<Number_MAX_VALUE&&(this.minY=xe),_e>Number_MIN_VALUE&&(this.maxX=_e),Ae>Number_MIN_VALUE&&(this.maxY=Ae),Se<Number_MAX_VALUE&&(this._minValue=Se),Ce>Number_MIN_VALUE&&(this._maxValue=Ce),this.colorAxis instanceof Axis&&(this.colorAxis.include(this.minValue),this.colorAxis.include(this.maxValue))}clearItemsSourcePoints(){this.itemsSourcePoints&&(this.itemsSourcePoints.length=0)}updateItemsSourcePoints(){var e,r,xe;if(this.clearItemsSourcePoints(),this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when mapping is set");this.itemsSourcePoints=this.itemsSourcePoints||[];for(const Se of this.itemsSource)this.itemsSourcePoints.push(this.mapping(Se));return}this.itemsSourcePoints=this.itemsSourcePoints||[];for(const Se of this.itemsSource||[])if(!isNullOrUndef(Se)){if(!isUndef(Se.x)&&!isUndef(Se.y)){(e=this.itemsSourcePoints)==null||e.push(Se);continue}if(this.dataFieldX&&this.dataFieldY){const _e=this.updateFromDataFields(Se);if(!_e)continue;(r=this.itemsSourcePoints)==null||r.push(_e);continue}if(isScatterPointProvider(Se)){const _e=Se.getScatterPoint();if(!_e)continue;(xe=this.itemsSourcePoints)==null||xe.push(_e);continue}throw new Error("Invalid item type")}}updateFromDataFields(e){const r=getOrDefault(e,this.dataFieldX,Number.NaN),xe=getOrDefault(e,this.dataFieldY,Number.NaN);return{x:r,y:xe,size:getOrDefault(e,this.dataFieldSize,Number.NaN),value:getOrDefault(e,this.dataFieldValue,Number.NaN),tag:getOrDefault(e,this.dataFieldTag,void 0)}}getElementDefaultValues(){return ExtendedDefaultScatterSeriesOptions}toJSON(e){var r;const xe=super.toJSON(e);return(r=this.points)!=null&&r.length&&(xe.points=this.points),xe}};__publicField(_ScatterSeries,"_defaultColorAxisTitle","Value");let ScatterSeries=_ScatterSeries;const DefaultVectorSeriesOptions={color:OxyColors.Automatic,arrowHeadLength:10,arrowHeadWidth:3,arrowHeadPosition:1,lineJoin:LineJoin.Miter,lineStyle:LineStyle.Solid,strokeThickness:2,minimumSegmentLength:2,arrowVeeness:0,arrowStartPosition:0,arrowLabelPosition:0,labelFontSize:0,labelStringFormatter:void 0,mapping:void 0,items:void 0},ExtendedDefaultVectorSeriesOptions={...ExtendedDefaultXYAxisSeriesOptions,...DefaultVectorSeriesOptions},_VectorSeries=class Nl extends XYAxisSeries{constructor(e){super(e),__publicField(this,"_actualItems"),__publicField(this,"_defaultColor",OxyColors.Undefined),__publicField(this,"_defaultLineStyle",LineStyle.Solid),__publicField(this,"color",DefaultVectorSeriesOptions.color),__publicField(this,"_minValue",0),__publicField(this,"_maxValue",0),__publicField(this,"arrowHeadLength",DefaultVectorSeriesOptions.arrowHeadLength),__publicField(this,"arrowHeadWidth",DefaultVectorSeriesOptions.arrowHeadWidth),__publicField(this,"arrowHeadPosition",DefaultVectorSeriesOptions.arrowHeadPosition),__publicField(this,"lineJoin",DefaultVectorSeriesOptions.lineJoin),__publicField(this,"lineStyle",DefaultVectorSeriesOptions.lineStyle),__publicField(this,"strokeThickness",DefaultVectorSeriesOptions.strokeThickness),__publicField(this,"minimumSegmentLength",DefaultVectorSeriesOptions.minimumSegmentLength),__publicField(this,"arrowVeeness",DefaultVectorSeriesOptions.arrowVeeness),__publicField(this,"arrowStartPosition",DefaultVectorSeriesOptions.arrowStartPosition),__publicField(this,"arrowLabelPosition",DefaultVectorSeriesOptions.arrowLabelPosition),__publicField(this,"_colorAxis"),__publicField(this,"colorAxisKey"),__publicField(this,"labelStringFormatter"),__publicField(this,"trackerStringFormatter"),__publicField(this,"labelFontSize",DefaultVectorSeriesOptions.labelFontSize),__publicField(this,"canTrackerInterpolatePoints",!1),__publicField(this,"mapping"),__publicField(this,"items",[]),this.trackerStringFormatter=Nl.DefaultTrackerStringFormatter,assignMethod(this,"trackerStringFormatter",e),this.labelStringFormatter=function(r){return r.value.toFixed(2)},assignMethod(this,"labelStringFormatter",e),assignObject(this,DefaultVectorSeriesOptions,e,{exclude:["trackerStringFormatter","labelStringFormatter"]})}getElementName(){return"VectorSeries"}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get actualLineStyle(){return this.lineStyle!=LineStyle.Automatic?this.lineStyle:this._defaultLineStyle}get colorAxis(){return this._colorAxis}set colorAxis(e){this._colorAxis=e}get ActualItems(){return this.itemsSource?this._actualItems:this.items}async render(e){const r=this.ActualItems;this.verifyAxes(),await this.renderVectors(e,r)}updateData(){this.itemsSource&&this.updateActualItems()}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}updateActualItems(){if(!this.itemsSource)return;this.clearActualItems(),this._actualItems=this._actualItems||[];let e=this.itemsSource;this.mapping&&(e=this.itemsSource.map(r=>this.mapping(r))),this._actualItems.push(...e)}async renderVectors(e,r){let xe=0;for(const Se of r){let _e;this.colorAxis&&(OxyColorHelper.isUndefined(this.color)||OxyColorHelper.isAutomatic(this.color))?_e=ColorAxisExtensions.getColor(this.colorAxis,Se.value):_e=OxyColorHelper.getActualColor(this.color,this._defaultColor),_e=this.getSelectableColor(_e,xe);const Ae=Se.direction,Ce=dataPointMinusVector(Se.origin,Ae.times(this.arrowStartPosition)),Pe=dataPointPlus(Ce,Ae.times(this.arrowLabelPosition));await this.drawVector(e,Ce,Ae,_e),this.labelFontSize>0&&this.labelStringFormatter&&await e.drawText(this.transform(Pe),this.labelStringFormatter(Se),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle),xe++}}async drawVector(e,r,xe,Se){const _e=[r,dataPointPlus(r,xe)],Ae=[];RenderingExtensions.transformAndInterpolateLines(this,_e,Ae,this.minimumSegmentLength),Ae.length>=2&&await this.drawArrow(e,Ae,screenPointMinus(Ae[Ae.length-1],Ae[Ae.length-2]),Se)}async drawArrow(e,r,xe,Se){const _e=ScreenVectorEx.fromVector(xe).normalize(),Ae=newScreenVectorEx(_e.y,-_e.x),Ce=this.arrowHeadLength*this.strokeThickness,Pe=this.arrowHeadWidth*this.strokeThickness,Ee=screenPointMinusVector(r[r.length-1],_e.times(Ce*this.arrowHeadPosition)),Oe=_e.times(this.arrowVeeness*this.strokeThickness),Me=screenPointPlus(Ee,_e.times(Ce)),De=screenPointMinusVector(screenPointPlus(Ee,Ae.times(Pe)),Oe),Te=screenPointMinusVector(screenPointMinusVector(Ee,Ae.times(Pe)),Oe),ke=this.actualLineStyle,Fe=LineStyleHelper.getDashArray(ke);if(this.arrowHeadPosition>0&&this.arrowHeadPosition<=1){const $e=Ce*this.arrowHeadPosition*Ce*this.arrowHeadPosition;for(let Be=r.length-1;Be>=0;Be--)screenPointDistanceToSquared(r[Be],Me)<=$e&&r.splice(Be,1);r.length>0&&r.push(Ee)}this.strokeThickness>0&&ke!==LineStyle.None&&(await e.drawLine(r,Se,this.strokeThickness,this.edgeRenderingMode,Fe,this.lineJoin),await e.drawPolygon([Te,Me,De,Ee],Se,OxyColors.Undefined,0,this.edgeRenderingMode))}getNearestPoint(e,r){const xe=this.colorAxis,Se=(xe==null?void 0:xe.title)??Nl.DefaultColorAxisTitle;if(!(this.ActualItems&&this.ActualItems.length>0))return;const _e=argMin(this.ActualItems,Pe=>screenPointDistanceToSquared(this.transform(Pe.origin),e)),Ae=_e.origin,Ce=this.formatDefaultTrackerString(_e,Ae,Pe=>{const Ee=Pe;Ee.colorAxisTitle=Se,Ee.itemDirection=_e.direction});return new TrackerHitResult({series:this,dataPoint:Ae,position:this.transform(Ae),item:void 0,index:-1,text:Ce})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){OxyColorHelper.isAutomatic(this.color)&&this.colorAxis===void 0&&(this._defaultLineStyle=this.plotModel.getDefaultLineStyle(),this._defaultColor=this.plotModel.getDefaultColor())}updateMaxMinXY(){const e=this.ActualItems;e&&e.length>0&&(this.minX=Math.min(...e.map(r=>r.origin.x-r.direction.x*this.arrowStartPosition),...e.map(r=>r.origin.x-r.direction.x*(this.arrowStartPosition-1))),this.maxX=Math.max(...e.map(r=>r.origin.x-r.direction.x*this.arrowStartPosition),...e.map(r=>r.origin.x-r.direction.x*(this.arrowStartPosition-1))),this.minY=Math.min(...e.map(r=>r.origin.y-r.direction.y*this.arrowStartPosition),...e.map(r=>r.origin.y-r.direction.y*(this.arrowStartPosition-1))),this.maxY=Math.max(...e.map(r=>r.origin.y-r.direction.y*this.arrowStartPosition),...e.map(r=>r.origin.y-r.direction.y*(this.arrowStartPosition-1))))}updateMaxMin(){super.updateMaxMin();const e=this.ActualItems,r=[];if(r.push(...e.map(xe=>dataPointMinusVector(xe.origin,xe.direction.times(this.arrowStartPosition)))),r.push(...e.map(xe=>dataPointPlus(xe.origin,xe.direction.times(1-this.arrowStartPosition)))),this.internalUpdateMaxMin(r),this.updateMaxMinXY(),e&&e.length>0){const xe=e.map(Se=>Se.value);this._minValue=minValueOfArray(xe),this._maxValue=maxValueOfArray(xe)}}updateAxisMaxMin(){if(super.updateAxisMaxMin(),!this.colorAxis)return;const e=this.colorAxis;e.include(this._minValue),e.include(this.maxValue)}getElementDefaultValues(){return ExtendedDefaultVectorSeriesOptions}};__publicField(_VectorSeries,"DefaultTrackerStringFormatter",function(t){return`${t.title}
${t.xTitle}: ${t.xValue}
${t.yTitle}: ${t.yValue}
${t.colorAxisTitle}: ${t.item.value}
${t.xTitle}: ${t.itemDirection.x}
${t.yTitle}: ${t.itemDirection.y}`});__publicField(_VectorSeries,"DefaultColorAxisTitle","Value");let VectorSeries=_VectorSeries;const argMin=(t,e)=>{if(!t)throw new Error("Sequence must be defined.");if(!e)throw new Error("Projection must be defined.");let r,xe,Se=!0;for(const _e of t){const Ae=e(_e);(Se||Ae<xe)&&(r=_e,xe=Ae,Se=!1)}if(Se)throw new Error("Sequence must be non-empty.");return r};function newDataRange(t,e){if(isNaN(t)||isNaN(e))throw new Error("NaN values are not permitted");if(e<t)throw new Error("max must be larger or equal min");return Object.freeze({minimum:t,maximum:e})}class DataRangeHelper{static range(e){return e.maximum-e.minimum}static contains(e,r){return r>=e.minimum&&r<=e.maximum}static intersectsWith(e,r){return this.contains(e,r.minimum)||this.contains(e,r.maximum)||this.contains(r,e.minimum)||this.contains(r,e.maximum)}}const DefaultExtrapolationLineSeriesOptions={extrapolationColor:OxyColors.Black,extrapolationLineStyle:LineStyle.Dash,ignoreExtraplotationForScaling:!1,lineStyle:LineStyle.Dot,extrapolationDashes:void 0,intervals:void 0},ExtendedDefaultExtrapolationLineSeriesOptions={...ExtendedDefaultLineSeriesOptions,...DefaultLineSeriesOptions};class ExtrapolationLineSeries extends LineSeries{constructor(e){super(e),__publicField(this,"_defaultExtrapolationColor",OxyColors.Black),__publicField(this,"_defaultExtrapolationLineStyle",LineStyle.Dash),__publicField(this,"_orderedIntervals",[]),__publicField(this,"extrapolationColor",DefaultExtrapolationLineSeriesOptions.extrapolationColor),__publicField(this,"extrapolationDashes"),__publicField(this,"extrapolationLineStyle",DefaultExtrapolationLineSeriesOptions.extrapolationLineStyle),__publicField(this,"ignoreExtraplotationForScaling",DefaultExtrapolationLineSeriesOptions.ignoreExtraplotationForScaling),__publicField(this,"intervals",[]),assignObject(this,DefaultExtrapolationLineSeriesOptions,e)}getElementName(){return"ExtrapolationLineSeries"}get actualExtrapolationColor(){return OxyColorHelper.getActualColor(this.extrapolationColor,this._defaultExtrapolationColor)}get actualExtrapolationLineStyle(){return this.extrapolationLineStyle!==LineStyle.Automatic?this.extrapolationLineStyle:this._defaultExtrapolationLineStyle}get actualExtrapolationDashArray(){return this.extrapolationDashes||LineStyleHelper.getDashArray(this.actualExtrapolationLineStyle)}async renderLegend(e,r){const xe=OxyRectHelper.right(r),Se=OxyRectHelper.bottom(r),_e=(r.left+xe)/2,Ae=(r.top+Se)/2;let Ce=[newScreenPoint(r.left,Ae),newScreenPoint(_e,Ae)];await e.drawLine(Ce,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray),Ce=[newScreenPoint(_e,Ae),newScreenPoint(xe,Ae)],await e.drawLine(Ce,this.getSelectableColor(this.actualExtrapolationColor),this.strokeThickness,this.edgeRenderingMode,this.actualExtrapolationDashArray);const Pe=newScreenPoint(_e,Ae);await RenderingExtensions.drawMarker(e,Pe,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}updateData(){super.updateData(),this._orderedIntervals=this.mergeOverlaps(this.intervals)}updateMaxMin(){this.ignoreExtraplotationForScaling&&this._orderedIntervals.length>0?(this.minX=this.points.filter(e=>!this.inAnyInterval(e.x)).map(e=>e.x).filter(e=>!isNaNOrUndef(e)).reduce((e,r)=>Math.min(e,r),Number.NaN),this.minY=this.points.filter(e=>!this.inAnyInterval(e.x)).map(e=>e.y).filter(e=>!isNaNOrUndef(e)).reduce((e,r)=>Math.min(e,r),Number.NaN),this.maxX=this.points.filter(e=>!this.inAnyInterval(e.x)).map(e=>e.x).filter(e=>!isNaNOrUndef(e)).reduce((e,r)=>Math.max(e,r),Number.NaN),this.maxY=this.points.filter(e=>!this.inAnyInterval(e.x)).map(e=>e.y).filter(e=>!isNaNOrUndef(e)).reduce((e,r)=>Math.max(e,r),Number.NaN)):super.updateMaxMin()}async renderLine(e,r){if(this.strokeThickness<=0||this.actualLineStyle===LineStyle.None)return;const xe=this.getClippingRect(),Se=this.inverseTransform(OxyRectHelper.bottomLeft(xe)),_e=this.inverseTransform(OxyRectHelper.topRight(xe)),Ae=Math.min(Se.x,_e.x),Ce=Math.max(Se.x,_e.x),Pe=Math.min(Se.y,_e.y),Ee=Math.max(Se.y,_e.y),Oe=this.createClippingRectangles(xe,Ae,Ce,Pe,Ee);for(const Me of Oe){const De=this.inverseTransform(OxyRectHelper.center(Me)).x,Te=this._orderedIntervals&&this._orderedIntervals.some(Fe=>DataRangeHelper.contains(Fe,De)),ke=RenderingExtensions.autoResetClip(e,Me);await this.renderLinePart(e,r,Te),ke.dispose()}}createClippingRectangles(e,r,xe,Se,_e){const Ae=[];let Ce=r;const Pe=PlotElementExtensions.transform;if(this._orderedIntervals&&this._orderedIntervals.length>0){const Oe=this.flatten(this._orderedIntervals).filter(Me=>Me>=r&&Me<=xe);for(const Me of Oe){const De=OxyRectHelper.fromScreenPoints(Pe(this,Ce,Se),Pe(this,Me,_e));Ae.push(OxyRectHelper.clip(De,e)),Ce=Me}}const Ee=OxyRectHelper.fromScreenPoints(Pe(this,Ce,Se),Pe(this,xe,_e));return Ae.push(OxyRectHelper.clip(Ee,e)),Ae}flatten(e){const r=[];for(const xe of e)r.push(xe.minimum),r.push(xe.maximum);return r}async renderLinePart(e,r,xe){const Se=xe?this.extrapolationColor:this.color,_e=xe?this.actualExtrapolationDashArray:this.actualDashArray;await RenderingExtensions.drawReducedLine(e,r,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(Se),this.strokeThickness,this.edgeRenderingMode,_e,this.lineJoin)}mergeOverlaps(e){const r=[];if(e){const xe=e.sort((Se,_e)=>Se.minimum-_e.minimum);for(const Se of xe){const _e=r[r.length-1];_e&&DataRangeHelper.intersectsWith(Se,_e)?r[r.length-1]=newDataRange(_e.minimum,Math.max(_e.maximum,Se.maximum)):r.push(Se)}}return r}inAnyInterval(e){let r=0,xe=this._orderedIntervals.length-1;for(;r<=xe;){const Se=Math.floor((r+xe)/2),_e=this.compare(this._orderedIntervals[Se],e);if(_e===0)return!0;_e<0?xe=Se-1:r=Se+1}return!1}compare(e,r){return r<e.minimum?-1:r>e.maximum?1:0}getElementDefaultValues(){return ExtendedDefaultExtrapolationLineSeriesOptions}}const DefaultContourSeriesOptions={contourLevelStep:NaN,labelStep:1,multiLabel:!1,labelSpacing:150,labelBackground:OxyColorHelper.fromAColor(220,OxyColors.White),color:OxyColors.Automatic,strokeThickness:1,lineStyle:LineStyle.Solid,minimumSegmentLength:2,columnCoordinates:[],rowCoordinates:[],contourLevels:void 0,contourColors:void 0,data:void 0,labelStringFormatter:void 0},ExtendedDefaultContourSeriesOptions={...ExtendedDefaultXYAxisSeriesOptions,...DefaultContourSeriesOptions},_ContourSeries=class Rl extends XYAxisSeries{constructor(e){super(e),__publicField(this,"_contours"),__publicField(this,"_segments",[]),__publicField(this,"_defaultColor",OxyColors.Undefined),__publicField(this,"color",DefaultContourSeriesOptions.color),__publicField(this,"columnCoordinates",[]),__publicField(this,"contourLevelStep",DefaultContourSeriesOptions.contourLevelStep),__publicField(this,"contourLevels"),__publicField(this,"contourColors",[]),__publicField(this,"data"),__publicField(this,"labelBackground",DefaultContourSeriesOptions.labelBackground),__publicField(this,"labelStringFormatter"),__publicField(this,"trackerStringFormatter"),__publicField(this,"labelSpacing",DefaultContourSeriesOptions.labelSpacing),__publicField(this,"multiLabel",DefaultContourSeriesOptions.multiLabel),__publicField(this,"labelStep",DefaultContourSeriesOptions.labelStep),__publicField(this,"lineStyle",DefaultContourSeriesOptions.lineStyle),__publicField(this,"rowCoordinates",[]),__publicField(this,"strokeThickness",DefaultContourSeriesOptions.strokeThickness),__publicField(this,"minimumSegmentLength",DefaultContourSeriesOptions.minimumSegmentLength),this.trackerStringFormatter=Rl.DefaultTrackerFormatString,assignObject(this,DefaultContourSeriesOptions,e)}getElementName(){return"ContourSeries"}get actualColor(){return OxyColorHelper.getActualColor(this.color,this._defaultColor)}calculateContours(){if(!this.data)return;let e=this.contourLevels;this._segments=[];const r=(xe,Se,_e,Ae,Ce)=>{this._segments.push({startPoint:newDataPoint(xe,Se),endPoint:newDataPoint(_e,Ae),contourLevel:Ce})};if(!e){let xe=this.data[0][0],Se=this.data[0][0];for(let Ae=0;Ae<this.data.length;Ae++)for(let Ce=0;Ce<this.data[Ae].length;Ce++)xe=Math.max(xe,this.data[Ae][Ce]),Se=Math.min(Se,this.data[Ae][Ce]);let _e=this.contourLevelStep;if(isNaNOrUndef(_e)){const Ce=(xe-Se)/20,Pe=Math.round(Math.log(Math.abs(Ce))/Math.LN10);_e=Math.pow(10,Math.floor(Pe)),this.contourLevelStep=_e}xe=Math.round(_e*Math.ceil(xe/_e)*1e14)/1e14,Se=Math.round(_e*Math.floor(Se/_e)*1e14)/1e14,e=ArrayBuilder.createVectorWithStep(Se,xe,_e)}if(Conrec.contour(this.data,this.columnCoordinates,this.rowCoordinates,e,r),this.joinContourSegments(),this.contourColors&&this.contourColors.length>0)for(const xe of this._contours){let Se=Rl.indexOf(e,xe.contourLevel);Se>=0&&(Se=Se%this.contourColors.length,xe.color=this.contourColors[Se])}}getNearestPoint(e,r){let xe;const Se="Z";for(const _e of this._contours){const Ae=r?this.getNearestInterpolatedPointInternal(_e.points,0,e):this.getNearestPointInternal(_e.points,0,e);Ae&&(!xe||screenPointDistanceToSquared(xe.position,e)>screenPointDistanceToSquared(Ae.position,e))&&(xe=Ae,xe.text=this.formatDefaultTrackerString(_e,Ae.dataPoint,Ce=>{const Pe=Ce;Pe.zTitle=Se,Pe.contourLevel=_e.contourLevel}))}return xe}async render(e){if(this._contours||this.calculateContours(),this._contours.length===0)return;this.verifyAxes();const r=[],xe=LineStyleHelper.getDashArray(this.lineStyle);for(const Se of this._contours){if(this.strokeThickness<=0||this.lineStyle===LineStyle.None)continue;const _e=Se.points.map(ke=>this.transform(ke)),Ae=OxyColorHelper.getActualColor(Se.color,this.actualColor);await RenderingExtensions.drawReducedLine(e,_e,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(Ae),this.strokeThickness,this.edgeRenderingMode,xe,LineJoin.Miter);let Ce=0;for(let ke=1;ke<_e.length;ke++)Ce+=screenPointMinusEx(_e[ke],_e[ke-1]).length;if(_e.length<=10||Math.round(Se.contourLevel/this.contourLevelStep)%this.labelStep!==0)continue;if(!this.multiLabel){this.addContourLabels(Se,_e,r,(_e.length-1)*.5);continue}const Pe=Math.floor(Ce/this.labelSpacing);if(Pe===0){this.addContourLabels(Se,_e,r,(_e.length-1)*.5);continue}let Ee=0,Oe=0,Me=1,De=0;const Te=(Ce-(Pe-1)*this.labelSpacing)/2;for(let ke=0;ke<Pe;ke++){let Fe=0;Me===1?De=Te:De=Te+ke*this.labelSpacing;for(let $e=Me;$e<_e.length;$e++){if(Ee+=screenPointMinusEx(_e[$e],_e[$e-1]).length,Ee>De){Fe=$e-1+(De-Oe)/(Ee-Oe),Me=$e+1;break}Oe=Ee}this.addContourLabels(Se,_e,r,Fe)}}for(const Se of r)await this.renderLabelBackground(e,Se);for(const Se of r)await this.renderLabel(e,Se)}setDefaultValues(){OxyColorHelper.isAutomatic(this.color)&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this._defaultColor=this.plotModel.getDefaultColor())}updateMaxMin(){this.minX=Math.min(...this.columnCoordinates),this.maxX=Math.max(...this.columnCoordinates),this.minY=Math.min(...this.rowCoordinates),this.maxY=Math.max(...this.rowCoordinates)}static indexOf(e,r){let xe=Number_MAX_VALUE,Se=-1;for(let _e=0;_e<e.length;_e++){const Ae=Math.abs(e[_e]-r);Ae<xe&&(xe=Ae,Se=_e)}return Se}addContourLabels(e,r,xe,Se){if(r.length<2)return;const _e=Math.floor(Se),Ae=_e+1,Ce=r[Ae].x-r[_e].x,Pe=r[Ae].y-r[_e].y,Ee=r[_e].x+Ce*(Se-_e),Oe=r[_e].y+Pe*(Se-_e),Me=newScreenPoint(Ee,Oe);let De=Math.atan2(Pe,Ce)*180/Math.PI;De>90&&(De-=180),De<-90&&(De+=180);const Te=this.labelStringFormatter?this.labelStringFormatter(e.contourLevel,[]):e.contourLevel.toString();xe.push({position:Me,angle:De,text:Te})}joinContourSegments(e=1e-10){this._contours=new Array;const r=Se=>{const _e=new SegmentPoint(Se.startPoint),Ae=new SegmentPoint(Se.endPoint);return _e.partner=Ae,Ae.partner=_e,[_e,Ae]},xe=groupBy(this._segments,"contourLevel");for(const Se of xe){const _e=Se[0],Ae=Se[1].flatMap(Ce=>r(Ce)).sort((Ce,Pe)=>Ce.point.x-Pe.point.x);for(let Ce=0;Ce<Ae.length-1;Ce++){const Pe=Ae[Ce];if(Pe.join)continue;const Oe=Math.sqrt(Math.pow(Pe.point.x,2)+Math.pow(Pe.point.y,2))*e,Me=Pe.point.x+Oe;let De=Ce+1,Te;for(;;){if(De>=Ae.length){Te=void 0;break}if(Te=Ae[De],De++,Te.join)continue;if(Te.point.x>Me){Te=void 0;break}if(Math.sqrt(Math.pow(Te.point.x-Pe.point.x,2)+Math.pow(Te.point.y-Pe.point.y,2))<Oe)break}Te&&(Pe.join=Te,Te.join=Pe)}for(const Ce of Ae){if(Ce.processed)continue;let Pe=Ce;for(;Pe.join&&(Pe=Pe.join.partner,Pe!==Ce););const Ee=new Array(Pe.point,Pe.partner.point);for(Pe.processed=!0,Pe=Pe.partner,Pe.processed=!0;Pe.join&&(Pe=Pe.join,!Pe.processed);)Pe.processed=!0,Pe=Pe.partner,Pe.processed=!0,Ee.push(Pe.point);const Oe=new Contour(Ee,_e);this._contours.push(Oe)}}}async renderLabel(e,r){this.actualFontSize>0&&await e.drawText(r.position,r.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,r.angle,HorizontalAlignment.Center,VerticalAlignment.Middle)}async renderLabelBackground(e,r){if(OxyColorHelper.isInvisible(this.labelBackground))return;const xe=e.measureText(r.text,this.actualFont,this.actualFontSize,this.actualFontWeight),Se=r.angle/180*Math.PI,_e=Math.cos(Se),Ae=Math.sin(Se),Ce=_e*.6,Pe=Ae*.6,Ee=-Ae*.5,Oe=_e*.5,Me=r.position.x,De=r.position.y,Te=[newScreenPoint(Me-xe.width*Ce-xe.height*Ee,De-xe.width*Pe-xe.height*Oe),newScreenPoint(Me+xe.width*Ce-xe.height*Ee,De+xe.width*Pe-xe.height*Oe),newScreenPoint(Me+xe.width*Ce+xe.height*Ee,De+xe.width*Pe+xe.height*Oe),newScreenPoint(Me-xe.width*Ce+xe.height*Ee,De-xe.width*Pe+xe.height*Oe)];await e.drawPolygon(Te,this.labelBackground,OxyColors.Undefined,0,this.edgeRenderingMode)}getElementDefaultValues(){return ExtendedDefaultContourSeriesOptions}};__publicField(_ContourSeries,"DefaultTrackerFormatString",function(t){return`${t.title}
${t.xTitle}: ${t.xValue}
${t.yTitle}: ${t.yValue}
${t.zTitle}: ${t.contourLevel}`});let ContourSeries=_ContourSeries;class SegmentPoint{constructor(e){__publicField(this,"partner"),__publicField(this,"join"),__publicField(this,"processed"),__publicField(this,"point"),this.point=e,this.processed=!1}}class Contour{constructor(e,r){__publicField(this,"contourLevel"),__publicField(this,"points"),__publicField(this,"color"),this.points=e,this.contourLevel=r,this.color=OxyColors.Automatic}}const DefaultStairStepSeriesOptions={verticalStrokeThickness:NaN,verticalLineStyle:LineStyle.None},ExtendedDefaultStairStepSeriesOptions={...ExtendedDefaultLineSeriesOptions,...DefaultStairStepSeriesOptions};class StairStepSeries extends LineSeries{constructor(e){super(e),__publicField(this,"verticalStrokeThickness",DefaultStairStepSeriesOptions.verticalStrokeThickness),__publicField(this,"verticalLineStyle",DefaultStairStepSeriesOptions.verticalLineStyle),assignObject(this,DefaultStairStepSeriesOptions,e)}getElementName(){return"StairStepSeries"}getNearestPoint(e,r){if(!this.xAxis||!this.yAxis)return;let xe=16*16,Se=this.getNearestPointInternal(this.actualPoints,0,e);if(!r&&Se&&screenPointDistanceToSquared(Se.position,e)<xe)return Se.text=this.formatDefaultTrackerString(Se.item,Se.dataPoint),Se;Se=void 0;const _e=this.actualPoints.length;for(let Ae=0;Ae<_e;Ae++){const Ce=this.actualPoints[Ae],Pe=this.actualPoints[Ae+1<_e?Ae+1:Ae],Ee=PlotElementExtensions.transform(this,Ce.x,Ce.y),Oe=PlotElementExtensions.transform(this,Pe.x,Ce.y),Me=Oe.x-Ee.x,De=Oe.y-Ee.y;let Te=(e.x-Ee.x)*Me+(e.y-Ee.y)*De,ke=Me*Me+De*De;if(Me*Me+De*De<4&&(Te=0,ke=1),Math.abs(ke)<=0)continue;const $e=Te/ke;if($e<0||$e>1)continue;const Be=Ee.x+$e*Me,Ie=Ee.y+$e*De,Re=e.x-Be,je=e.y-Ie,Ve=Re*Re+je*je;if(Ve>=xe)continue;const He=Ce.x+$e*(Pe.x-Ce.x),ze=Ce.y,Ue=this.getItem(Ae),We=this.formatDefaultTrackerString(Ue,newDataPoint(He,ze));Se=new TrackerHitResult({series:this,dataPoint:newDataPoint(He,ze),position:newScreenPoint(Be,Ie),item:Ue,index:Ae,text:We}),xe=Ve}return Se}async render(e){if(!this.actualPoints||this.actualPoints.length===0)return;this.verifyAxes();const r=this.actualDashArray,xe=LineStyleHelper.getDashArray(this.verticalLineStyle),Se=this.actualLineStyle,_e=isNaN(this.verticalStrokeThickness)?this.strokeThickness:this.verticalStrokeThickness,Ae=this.getSelectableColor(this.actualColor),Ce=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness),Pe=async(ke,Fe)=>{if(this.strokeThickness>0&&Se!==LineStyle.None)if(_e!==this.strokeThickness||this.verticalLineStyle!==Se){const $e=[],Be=[];if(ke.length>=2){$e.push(ke[0]),$e.push(ke[1]);for(let Ie=1;Ie+2<ke.length;Ie+=2)Be.push(ke[Ie]),Be.push(ke[Ie+1]),$e.push(ke[Ie+1]),$e.push(ke[Ie+2])}await e.drawLineSegments($e,Ae,this.strokeThickness,Ce,r,this.lineJoin),await e.drawLineSegments(Be,Ae,_e,Ce,xe,this.lineJoin)}else await e.drawLine(ke,Ae,this.strokeThickness,Ce,r,this.lineJoin);this.markerType!==MarkerType.None&&await RenderingExtensions.drawMarkers(e,Fe,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)},Ee=this.actualPoints;let Oe=0,Me=Number_MAX_VALUE;if(this.isXMonotonic){const ke=this.xAxis.clipMinimum;Me=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(Ee,Fe=>Fe.x,ke,this.windowStartIndex),Oe=this.windowStartIndex}const De=[],Te=[];for(let ke=Oe;ke<Ee.length;){const{valid:Fe,validOffset:$e,endOffset:Be}=this.findNextValidSegment(Ee,ke,Me);if(!Fe)break;let Ie=newScreenPoint(0,0),Re=DataPoint_Undefined,je=!1,Ve=!1;for(ke=$e;ke<Be;++ke){const He=Ee[ke];je=je||He.x>Re.x,Ve=Ve||He.x<Re.x,je&&Ve&&(De.push(this.transform(Re)),De.push(this.transform(Re)),je=He.x>Re.x,Ve=He.x<Re.x),Ie=this.transform(He),He.y!==Re.y&&(isNaN(Re.y)||De.push(this.transform(newDataPoint(He.x,Re.y))),De.push(Ie),je=!1,Ve=!1),Re=He,Te.push(Ie)}ke<Ee.length&&this.xAxis.isValidValue(Ee[ke].x)?De.push(this.transform(newDataPoint(Ee[ke].x,Re.y))):De.push(Ie),await Pe(De,Te),De.length=0,Te.length=0}this.labelStringFormatter&&await this.renderPointLabels(e)}findNextValidSegment(e,r,xe){for(;;++r){if(r>=e.length)return{valid:!1,validOffset:0,endOffset:0};const Ae=e[r];if(Ae.x>xe)return{valid:!1,validOffset:0,endOffset:0};if(this.isValidPoint(Ae))break}const Se=r;for(;!(r>=e.length);++r){const Ae=e[r];if(!this.isValidPoint(Ae)||Ae.x>xe)break}return{valid:!0,validOffset:Se,endOffset:r}}getElementDefaultValues(){return ExtendedDefaultStairStepSeriesOptions}}const DefaultBoxPlotSeriesOptions={fill:OxyColors.Automatic,stroke:OxyColors.Black,boxWidth:.3,strokeThickness:1,medianThickness:2,meanThickness:2,outlierSize:2,outlierType:MarkerType.Circle,medianPointSize:2,meanPointSize:2,whiskerWidth:.5,lineStyle:LineStyle.Solid,showMedianAsDot:!1,showMeanAsDot:!1,showBox:!0,outlierOutline:void 0,items:void 0},ExtendedDefaultBoxPlotSeriesOptions={...ExtendedDefaultXYAxisSeriesOptions,...DefaultBoxPlotSeriesOptions},_BoxPlotSeries=class Bl extends XYAxisSeries{constructor(e){super(e),__publicField(this,"_itemsSourceItems",[]),__publicField(this,"trackerStringFormatter"),__publicField(this,"boxWidth",DefaultBoxPlotSeriesOptions.boxWidth),__publicField(this,"fill",DefaultBoxPlotSeriesOptions.fill),__publicField(this,"items",[]),__publicField(this,"lineStyle",DefaultBoxPlotSeriesOptions.lineStyle),__publicField(this,"medianPointSize",DefaultBoxPlotSeriesOptions.medianPointSize),__publicField(this,"medianThickness",DefaultBoxPlotSeriesOptions.medianThickness),__publicField(this,"meanPointSize",DefaultBoxPlotSeriesOptions.meanPointSize),__publicField(this,"meanThickness",DefaultBoxPlotSeriesOptions.meanThickness),__publicField(this,"outlierSize",DefaultBoxPlotSeriesOptions.outlierSize),__publicField(this,"outlierTrackerStringFormatter"),__publicField(this,"outlierType",DefaultBoxPlotSeriesOptions.outlierType),__publicField(this,"outlierOutline"),__publicField(this,"showBox",DefaultBoxPlotSeriesOptions.showBox),__publicField(this,"showMedianAsDot",DefaultBoxPlotSeriesOptions.showMedianAsDot),__publicField(this,"showMeanAsDot",DefaultBoxPlotSeriesOptions.showMeanAsDot),__publicField(this,"stroke",DefaultBoxPlotSeriesOptions.stroke),__publicField(this,"strokeThickness",DefaultBoxPlotSeriesOptions.strokeThickness),__publicField(this,"whiskerWidth",DefaultBoxPlotSeriesOptions.whiskerWidth),this.trackerStringFormatter=Bl.DefaultTrackerFormatString,this.outlierTrackerStringFormatter=Bl.DefaultOutlierTrackerFormatString,assignMethod(this,"trackerStringFormatter",e),assignMethod(this,"outlierTrackerStringFormatter",e),assignObject(this,DefaultBoxPlotSeriesOptions,e,{exclude:["trackerStringFormatter","outlierTrackerStringFormatter"]})}getElementName(){return"BoxPlotSeries"}get actualItems(){return this.itemsSource?this._itemsSourceItems:this.items}getNearestPoint(e,r){if(!this.xAxis||!this.yAxis)return;let xe=Number_MAX_VALUE,Se;for(const _e of this.actualItems){for(const De of _e.outliers){const Te=PlotElementExtensions.transform(this,_e.x,De),ke=screenPointMinusEx(Te,e).lengthSquared;if(ke<xe){const Fe=this.outlierTrackerStringFormatter({item:_e,title:this.title,xTitle:this.xAxis.title||XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(_e.x),outlier:De});Se=new TrackerHitResult({series:this,dataPoint:newDataPoint(_e.x,De),position:Te,item:_e,text:Fe}),xe=ke}}let Ae=DataPoint_Undefined;const Ce=this.getBoxRect(_e);if(OxyRectHelper.containsPoint(Ce,e)){const De=this.inverseTransform(e);Ae=newDataPoint(_e.x,De.y),xe=0}const Pe=PlotElementExtensions.transform(this,_e.x,_e.upperWhisker),Ee=PlotElementExtensions.transform(this,_e.x,_e.lowerWhisker),Oe=ScreenPointHelper.findPointOnLine(e,Pe,Ee),Me=screenPointMinusEx(Oe,e).lengthSquared;if(Me<xe&&(Ae=this.inverseTransform(Oe),xe=Me),DataPoint_isDefined(Ae)){const De=this.trackerStringFormatter({item:_e,title:this.title,xTitle:this.xAxis.title||XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(_e.x),upperWhisker:this.yAxis.getValue(_e.upperWhisker),boxTop:this.yAxis.getValue(_e.boxTop),median:this.yAxis.getValue(_e.median),boxBottom:this.yAxis.getValue(_e.boxBottom),lowerWhisker:this.yAxis.getValue(_e.lowerWhisker),mean:this.yAxis.getValue(_e.mean!==void 0?_e.mean:NaN)});Se=new TrackerHitResult({series:this,dataPoint:Ae,position:this.transform(Ae),item:_e,text:De})}}if(xe<Number_MAX_VALUE)return Se}isValidPointBoxPlot(e,r,xe){const Se=getBoxPlotItemValues(e);return!isNaN(e.x)&&!isInfinity(e.x)&&!Se.some(isNaN)&&!Se.some(isInfinity)&&r&&r.isValidValue(e.x)&&xe&&Se.every(_e=>xe.isValidValue(_e))}async render(e){if(this.actualItems.length===0)return;const r=this.getClippingRect(),xe=[],Se=this.boxWidth*.5,_e=Se*this.whiskerWidth,Ae=this.getSelectableColor(this.stroke),Ce=this.getSelectableFillColor(this.fill),Pe=LineStyleHelper.getDashArray(this.lineStyle),Ee=PlotElementExtensions.transform,Oe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(const Me of this.actualItems){const De=Me.mean!==void 0?Me.mean:NaN;xe.push(...Me.outliers.map(Be=>Ee(this,Me.x,Be)));const Te=Ee(this,Me.x,Me.upperWhisker),ke=Ee(this,Me.x,Me.boxTop),Fe=Ee(this,Me.x,Me.boxBottom),$e=Ee(this,Me.x,Me.lowerWhisker);if(this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&(await e.drawLine([Te,ke],Ae,this.strokeThickness,Oe,Pe,LineJoin.Miter),await e.drawLine([Fe,$e],Ae,this.strokeThickness,Oe,Pe,LineJoin.Miter)),this.whiskerWidth>0){const Be=Ee(this,Me.x-_e,Me.upperWhisker),Ie=Ee(this,Me.x+_e,Me.upperWhisker),Re=Ee(this,Me.x-_e,Me.lowerWhisker),je=Ee(this,Me.x+_e,Me.lowerWhisker);await e.drawLine([Be,Ie],Ae,this.strokeThickness,Oe,void 0,LineJoin.Miter),await e.drawLine([Re,je],Ae,this.strokeThickness,Oe,void 0,LineJoin.Miter)}if(this.showBox){const Be=this.getBoxRect(Me);await e.drawRectangle(Be,Ce,Ae,this.strokeThickness,Oe)}if(this.showMedianAsDot){const Be=Ee(this,Me.x,Me.median);if(OxyRectHelper.containsPoint(r,Be)){const Ie=newOxyRect(Be.x-this.medianPointSize,Be.y-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await e.drawEllipse(Ie,Ce,OxyColors.Undefined,0,this.edgeRenderingMode)}}else{const Be=Ee(this,Me.x-Se,Me.median),Ie=Ee(this,Me.x+Se,Me.median);await e.drawLine([Be,Ie],Ae,this.strokeThickness*this.medianThickness,Oe,void 0,LineJoin.Miter)}if(!this.showMeanAsDot&&!isNaN(De)){const Be=Ee(this,Me.x-Se,De),Ie=Ee(this,Me.x+Se,De);await e.drawLine([Be,Ie],Ae,this.strokeThickness*this.meanThickness,Oe,LineStyleHelper.getDashArray(LineStyle.Dash),LineJoin.Miter)}else if(!isNaN(De)){const Be=Ee(this,Me.x,De);if(OxyRectHelper.containsPoint(r,Be)){const Ie=newOxyRect(Be.x-this.meanPointSize,Be.y-this.meanPointSize,this.meanPointSize*2,this.meanPointSize*2);await e.drawEllipse(Ie,Ce,OxyColors.Undefined,0,this.edgeRenderingMode)}}}if(this.outlierType!==MarkerType.None){const Me=xe.map(De=>this.outlierSize);await RenderingExtensions.drawMarkers(e,xe,this.outlierType,this.outlierOutline,Me,Ce,Ae,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(e,r){const xe=OxyRectHelper.right(r),Se=OxyRectHelper.bottom(r),_e=(r.left+xe)/2,Ae=r.top+(Se-r.top)*.7,Ce=r.top+(Se-r.top)*.3,Pe=(Ae+Ce)*.5,Ee=r.width*.24,Oe=Ee*this.whiskerWidth,Me=1,De=this.getSelectableColor(this.stroke),Te=this.getSelectableFillColor(this.fill),ke=LineStyleHelper.getDashArray(LineStyle.Solid),Fe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferGeometricAccuracy);if(await e.drawLine([newScreenPoint(_e,r.top),newScreenPoint(_e,Ce)],De,Me,Fe,ke,LineJoin.Miter),await e.drawLine([newScreenPoint(_e,Ae),newScreenPoint(_e,Se)],De,Me,Fe,ke,LineJoin.Miter),this.whiskerWidth>0&&(await e.drawLine([newScreenPoint(_e-Oe,Se),newScreenPoint(_e+Oe,Se)],De,Me,Fe,ke,LineJoin.Miter),await e.drawLine([newScreenPoint(_e-Oe,r.top),newScreenPoint(_e+Oe,r.top)],De,Me,Fe,ke,LineJoin.Miter)),this.showBox&&await e.drawRectangle(newOxyRect(_e-Ee,Ce,2*Ee,Ae-Ce),Te,De,Me,Fe),!this.showMedianAsDot)await e.drawLine([newScreenPoint(_e-Ee,Pe),newScreenPoint(_e+Ee,Pe)],De,Me*this.medianThickness,Fe,ke,LineJoin.Miter);else{const $e=newOxyRect(_e-this.medianPointSize,Pe-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await e.drawEllipse($e,Te,OxyColors.Undefined,0,Fe)}}updateData(){this.itemsSource&&(this.clearItemsSourceItems(),this._itemsSourceItems.push(...this.itemsSource),this._itemsSourceItems.forEach(e=>{e.mean===void 0&&(e.median=NaN)}))}updateMaxMin(){super.updateMaxMin(),this.internalUpdateBoxPlotMaxMin(this.actualItems)}internalUpdateBoxPlotMaxMin(e){if(!e||e.length===0)return;let r=this.minX,xe=this.minY,Se=this.maxX,_e=this.maxY;for(const Ae of e){if(!this.isValidPointBoxPlot(Ae,this.xAxis,this.yAxis))continue;const Ce=Ae.x;(Ce<r||isNaN(r))&&(r=Ce),(Ce>Se||isNaN(Se))&&(Se=Ce);const Pe=getBoxPlotItemValues(Ae);for(const Ee of Pe)(Ee<xe||isNaN(xe))&&(xe=Ee),(Ee>_e||isNaN(_e))&&(_e=Ee)}this.minX=r,this.minY=xe,this.maxX=Se,this.maxY=_e}getItem(e){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(e):this.actualItems[e]}getBoxRect(e){const r=this.boxWidth*.5,xe=PlotElementExtensions.transform(this,e.x-r,e.boxTop),Se=PlotElementExtensions.transform(this,e.x+r,e.boxBottom);return OxyRectHelper.fromScreenPoints(xe,Se)}clearItemsSourceItems(){this._itemsSourceItems.length=0}getElementDefaultValues(){return ExtendedDefaultBoxPlotSeriesOptions}};__publicField(_BoxPlotSeries,"DefaultTrackerFormatString",function(t){return`${t.title||""}
${t.xTitle}: ${t.xValue}
Upper Whisker: ${t.upperWhisker.toFixed(2)}
Third Quartil: ${t.boxTop.toFixed(2)}
Median: ${t.median.toFixed(2)}
First Quartil: ${t.boxBottom.toFixed(2)}
Lower Whisker: ${t.lowerWhisker.toFixed(2)}
Mean: ${t.mean.toFixed(2)}`});__publicField(_BoxPlotSeries,"DefaultOutlierTrackerFormatString",function(t){return`${t.title||""}
${t.xTitle}: ${t.xValue}
Y: ${t.outlier.toFixed(2)}`});let BoxPlotSeries=_BoxPlotSeries;function getBoxPlotItemValues(t){const e=[t.lowerWhisker,t.boxBottom,t.median,t.boxTop,t.upperWhisker];return t.mean!==void 0&&!isNaNOrUndef(t.mean)&&e.push(t.mean),e.push(...t.outliers),e}const DefaultStemSeriesOptions={base:0},ExtendedDefaultStemSeriesOptions={...ExtendedDefaultLineSeriesOptions,...DefaultStemSeriesOptions};class StemSeries extends LineSeries{constructor(e){super(e),__publicField(this,"base",DefaultStemSeriesOptions.base),assignObject(this,DefaultStemSeriesOptions,e)}getElementName(){return"StemSeries"}getNearestPoint(e,r){if(!this.xAxis||!this.yAxis||r)return;let xe,Se=Number_MAX_VALUE;const _e=this.actualPoints;for(let Ae=0;Ae<_e.length;Ae++){const Ce=_e[Ae],Pe=newDataPoint(Ce.x,this.base),Ee=this.transform(Ce),Oe=this.transform(Pe);let Me=ScreenPointHelper.findPositionOnLine(e,Ee,Oe);isNaN(Me)&&(Me=1),(Me<0||Me>1)&&(Me=1);const De=screenPointPlus(Ee,screenPointMinusEx(Oe,Ee).times(Me)),Te=screenPointMinusEx(e,De).lengthSquared;if(Te<Se){const ke=this.getItem(Ae),Fe=this.formatDefaultTrackerString(ke,Ce);xe=new TrackerHitResult({series:this,dataPoint:newDataPoint(Ce.x,Ce.y),position:newScreenPoint(Ee.x,Ee.y),item:this.getItem(Ae),index:Ae,text:Fe}),Se=Te}}return xe}async render(e){if(this.actualPoints.length===0)return;this.verifyAxes();const r=this.minimumSegmentLength*this.minimumSegmentLength,xe=this.actualDashArray,Se=this.getSelectableColor(this.actualColor),_e=[],Ae=this.markerType!==MarkerType.None?[]:void 0;for(const Ce of this.actualPoints)if(this.isValidPoint(Ce)){if(_e[0]=PlotElementExtensions.transform(this,Ce.x,this.base),_e[1]=PlotElementExtensions.transform(this,Ce.x,Ce.y),this.strokeThickness>0&&this.actualLineStyle!==LineStyle.None){const Pe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await RenderingExtensions.drawReducedLine(e,_e,r,Se,this.strokeThickness,Pe,xe,this.lineJoin)}Ae&&Ae.push(_e[1])}Ae&&Ae.length>0&&await RenderingExtensions.drawMarkers(e,Ae,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}getElementDefaultValues(){return ExtendedDefaultStemSeriesOptions}}function getActualFillColor(t){return OxyColorHelper.getActualColor(t.fill,t.defaultFillColor)}const DefaultPieSeriesOptions={angleIncrement:1,angleSpan:360,areInsideLabelsAngled:!1,diameter:1,explodedDistance:0,innerDiameter:0,insideLabelColor:OxyColors.Automatic,insideLabelPosition:.5,startAngle:0,stroke:OxyColors.White,strokeThickness:1,tickDistance:0,tickHorizontalLength:8,tickLabelDistance:4,tickRadialLength:6,fontSize:12,colorField:void 0,insideLabelFormatter:void 0,isExplodedField:void 0,labelField:void 0,outsideLabelFormatter:void 0,slices:void 0,valueField:void 0},ExtendedDefaultPieSeriesOptions={...ExtendedDefaultItemsSeriesOptions,...DefaultPieSeriesOptions},_PieSeries=class Ra extends ItemsSeries{constructor(e){super(e),__publicField(this,"_slicePoints",[]),__publicField(this,"_total",0),__publicField(this,"angleIncrement",DefaultPieSeriesOptions.angleIncrement),__publicField(this,"angleSpan",DefaultPieSeriesOptions.angleSpan),__publicField(this,"areInsideLabelsAngled",!1),__publicField(this,"colorField"),__publicField(this,"diameter",DefaultPieSeriesOptions.diameter),__publicField(this,"explodedDistance",DefaultPieSeriesOptions.explodedDistance),__publicField(this,"innerDiameter",DefaultPieSeriesOptions.innerDiameter),__publicField(this,"insideLabelColor",DefaultPieSeriesOptions.insideLabelColor),__publicField(this,"insideLabelFormatter"),__publicField(this,"insideLabelPosition",DefaultPieSeriesOptions.insideLabelPosition),__publicField(this,"isExplodedField"),__publicField(this,"labelField"),__publicField(this,"outsideLabelFormatter"),__publicField(this,"slices",[]),__publicField(this,"startAngle",DefaultPieSeriesOptions.startAngle),__publicField(this,"stroke",DefaultPieSeriesOptions.stroke),__publicField(this,"strokeThickness",DefaultPieSeriesOptions.strokeThickness),__publicField(this,"tickDistance",DefaultPieSeriesOptions.tickDistance),__publicField(this,"tickHorizontalLength",DefaultPieSeriesOptions.tickHorizontalLength),__publicField(this,"tickLabelDistance",DefaultPieSeriesOptions.tickLabelDistance),__publicField(this,"tickRadialLength",DefaultPieSeriesOptions.tickRadialLength),__publicField(this,"valueField"),__publicField(this,"trackerStringFormatter"),this.outsideLabelFormatter=Ra.DefaultOutsideLabelFormatter,assignMethod(this,"outsideLabelFormatter",e),this.insideLabelFormatter=Ra.DefaultInsideLabelFormatter,assignMethod(this,"insideLabelFormatter",e),this.trackerStringFormatter=Ra.DefaultTrackerStringFormatter,assignMethod(this,"trackerStringFormatter",e),assignObject(this,DefaultPieSeriesOptions,e,{exclude:["outsideLabelFormatter","insideLabelFormatter","trackerStringFormatter"]})}getElementName(){return"PieSeries"}getNearestPoint(e,r){const xe=this.trackerStringFormatter;for(let Se=0;Se<this._slicePoints.length;Se++)if(ScreenPointHelper.isPointInPolygon(e,this._slicePoints[Se])){const _e=this.slices[Se],Ae=this.getItem(Se),Ce=xe?xe({item:Ae,title:this.title,xTitle:_e.label,xValue:_e.value,percent:_e.value/this._total*100}):void 0;return new TrackerHitResult({series:this,position:e,item:Ae,index:Se,text:Ce})}}async render(e){if(this._slicePoints=[],this.slices.length===0||(this._total=this.slices.reduce((Ee,Oe)=>Ee+Oe.value,0),Math.abs(this._total)<=0))return;const r=Math.min(this.plotModel.plotArea.width,this.plotModel.plotArea.height)/2,xe=r*(this.diameter-this.explodedDistance),Se=r*this.innerDiameter;let _e=this.startAngle;const Ae=OxyRectHelper.right(this.plotModel.plotArea),Ce=OxyRectHelper.bottom(this.plotModel.plotArea),Pe=newScreenPoint((this.plotModel.plotArea.left+Ae)*.5,(this.plotModel.plotArea.top+Ce)*.5);for(const Ee of this.slices){const Oe=[],Me=[],De=Ee.value/this._total*this.angleSpan,Te=_e+De,ke=Ee.isExploded?this.explodedDistance*r:0,Fe=_e+De/2,$e=Fe*Math.PI/180,Be=newScreenPoint(Pe.x+ke*Math.cos($e),Pe.y+ke*Math.sin($e));for(;;){let Re=!1;_e>=Te&&(_e=Te,Re=!0);const je=_e*Math.PI/180,Ve=newScreenPoint(Be.x+xe*Math.cos(je),Be.y+xe*Math.sin(je));Oe.push(Ve);const He=newScreenPoint(Be.x+Se*Math.cos(je),Be.y+Se*Math.sin(je));if(Se+ke>0&&Me.push(He),Re)break;_e+=this.angleIncrement}Me.reverse(),Me.length===0&&Me.push(Be),Me.push(Oe[0]);const Ie=[...Oe,...Me];if(await e.drawPolygon(Ie,getActualFillColor(Ee),this.stroke,this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin.Bevel),this._slicePoints.push(Ie),this.outsideLabelFormatter){const Re=this.outsideLabelFormatter(Ee,Ee.value/this._total*100),je=Math.sign(Math.cos($e)),Ve=newScreenPoint(Be.x+(xe+this.tickDistance)*Math.cos($e),Be.y+(xe+this.tickDistance)*Math.sin($e)),He=newScreenPoint(Ve.x+this.tickRadialLength*Math.cos($e),Ve.y+this.tickRadialLength*Math.sin($e)),ze=newScreenPoint(He.x+this.tickHorizontalLength*je,He.y);await e.drawLine([Ve,He,ze],this.actualTextColor,1,this.edgeRenderingMode,void 0,LineJoin.Bevel);const Ue=newScreenPoint(ze.x+this.tickLabelDistance*je,ze.y);await e.drawText(Ue,Re,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,je>0?HorizontalAlignment.Left:HorizontalAlignment.Right,VerticalAlignment.Middle)}if(this.insideLabelFormatter&&!OxyColorHelper.isUndefined(this.insideLabelColor)){const Re=this.insideLabelFormatter(Ee,Ee.value/this._total*100),je=Se*(1-this.insideLabelPosition)+xe*this.insideLabelPosition,Ve=newScreenPoint(Be.x+je*Math.cos($e),Be.y+je*Math.sin($e));let He=0;this.areInsideLabelsAngled&&(He=Fe,Math.cos($e)<0&&(He+=180));const ze=OxyColorHelper.isAutomatic(this.insideLabelColor)?this.actualTextColor:this.insideLabelColor;await e.drawText(Ve,Re,ze,this.actualFont,this.actualFontSize,this.actualFontWeight,He,HorizontalAlignment.Center,VerticalAlignment.Middle)}}}async renderLegend(e,r){}areAxesRequired(){return!1}ensureAxes(){}isUsing(e){return!1}setDefaultValues(){for(const e of this.slices)e.fill=e.fill||OxyColors.Automatic,OxyColorHelper.isAutomatic(e.fill)&&(e.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){}updateData(){if(this.itemsSource){this.slices=[];for(const e of this.itemsSource){const r=getOrDefault(e,this.labelField,""),xe=getOrDefault(e,this.valueField,NaN),Se=getOrDefault(e,this.colorField,OxyColors.Automatic),_e=getOrDefault(e,this.isExplodedField,!1);this.slices.push({label:r,value:xe,fill:Se,isExploded:_e})}}}updateMaxMin(){}getElementDefaultValues(){return ExtendedDefaultPieSeriesOptions}};__publicField(_PieSeries,"DefaultTrackerStringFormatter",function(t){return`${t.xTitle}: ${round(t.xValue,3)} (${toPercent((t.percent||0)/100)})`});__publicField(_PieSeries,"DefaultOutsideLabelFormatter",function(t,e){return`${round(e,0)} %`});__publicField(_PieSeries,"DefaultInsideLabelFormatter",function(t,e){return t.label});let PieSeries=_PieSeries;const DefaultAreaSeriesOptions={constantY2:0,color2:OxyColors.Automatic,fill:OxyColors.Automatic,reverse2:!0,dataFieldX2:void 0,dataFieldY2:void 0},ExtendedDefaultAreaSeriesOptions={...ExtendedDefaultLineSeriesOptions,...DefaultAreaSeriesOptions};class AreaSeries extends LineSeries{constructor(e){super(e),__publicField(this,"_points2",[]),__publicField(this,"_itemsSourcePoints2",[]),__publicField(this,"_actualPoints2"),__publicField(this,"constantY2",DefaultAreaSeriesOptions.constantY2),__publicField(this,"dataFieldX2"),__publicField(this,"dataFieldY2"),__publicField(this,"color2",DefaultAreaSeriesOptions.color2),__publicField(this,"fill",DefaultAreaSeriesOptions.fill),__publicField(this,"reverse2",DefaultAreaSeriesOptions.reverse2),__publicField(this,"windowStartIndex2",0),__publicField(this,"isPoints2Defined",!1),e!=null&&e.points2&&(this._points2=e.points2,delete e.points2),assignObject(this,DefaultAreaSeriesOptions,e)}getElementName(){return"AreaSeries"}get actualColor2(){return OxyColorHelper.getActualColor(this.color2,this.actualColor)}get actualFill(){return OxyColorHelper.getActualColor(this.fill,OxyColorHelper.fromAColor(100,this.actualColor))}get points2(){return this._points2}get actualPoints2(){return this.itemsSource?this._itemsSourcePoints2:this._actualPoints2}getNearestPoint(e,r){const xe=this.isXMonotonic?this.windowStartIndex:0,Se=this.isXMonotonic?this.windowStartIndex2:0;let _e,Ae;r&&this.canTrackerInterpolatePoints?(_e=this.getNearestInterpolatedPointInternal(this.actualPoints,xe,e),Ae=this.getNearestInterpolatedPointInternal(this.actualPoints2,Se,e)):(_e=this.getNearestPointInternal(this.actualPoints,xe,e),Ae=this.getNearestPointInternal(this.actualPoints2,Se,e));let Ce;if(_e&&Ae){const Pe=screenPointDistanceTo(_e.position,e),Ee=screenPointDistanceTo(Ae.position,e);Ce=Pe<Ee?_e:Ae}else Ce=_e??Ae;return Ce&&(Ce.text=this.formatDefaultTrackerString(Ce.item,Ce.dataPoint)),Ce}async render(e){this.verifyAxes();const r=this.actualPoints;if(!r||r.length===0)return;const xe=this.actualPoints2;if(!xe||xe.length===0)return;let Se=0,_e=0,Ae=Number_MAX_VALUE;if(this.isXMonotonic){const Me=this.xAxis.clipMinimum;Ae=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(r,De=>De.x,Me,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(xe,De=>De.x,Me,this.windowStartIndex2),Se=this.windowStartIndex,_e=this.windowStartIndex2}const Ce=this.minimumSegmentLength*this.minimumSegmentLength,Pe={points:r,windowStartIndex:Se,xMax:Ae,renderContext:e,minDistSquared:Ce,reverse:!1,color:this.actualColor,dashArray:this.actualDashArray},Ee=await this.renderChunkedPoints(Pe);Pe.points=xe,Pe.windowStartIndex=_e,Pe.reverse=this.reverse2,Pe.color=this.actualColor2;const Oe=await this.renderChunkedPoints(Pe);if(Ee.length===Oe.length)for(let Me=0;Me<Ee.length;Me++){const De=Ee[Me],Te=Oe[Me],ke=[];ke.push(...Te),ke.push(...De),await RenderingExtensions.drawReducedPolygon(e,ke,Ce,this.getSelectableFillColor(this.actualFill),OxyColors.Undefined,0,this.edgeRenderingMode);const Fe=[this.markerSize];await RenderingExtensions.drawMarkers(e,De,this.markerType,void 0,Fe,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await RenderingExtensions.drawMarkers(e,Te,this.markerType,void 0,Fe,this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}}async renderLegend(e,r){const xe=OxyRectHelper.right(r),Se=OxyRectHelper.bottom(r),_e=r.top*.2+Se*.8,Ae=r.top*.4+Se*.6,Ce=r.top*.8+Se*.2,Pe=[newScreenPoint(r.left,_e),newScreenPoint(xe,_e)],Ee=[newScreenPoint(xe,Ce),newScreenPoint(r.left,Ae)],Oe=[...Pe,...Ee];if(this.strokeThickness>0&&this.actualLineStyle!==LineStyle.None){const Me=LineStyleHelper.getDashArray(this.actualLineStyle);await e.drawLine(Pe,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,Me),await e.drawLine(Ee,this.getSelectableColor(this.actualColor2),this.strokeThickness,this.edgeRenderingMode,Me)}await e.drawPolygon(Oe,this.getSelectableFillColor(this.actualFill),OxyColors.Undefined,0,this.edgeRenderingMode)}updateData(){if(super.updateData(),!this.itemsSource){this.isPoints2Defined=this._points2.length>0,this.isPoints2Defined?this._actualPoints2=this._points2:this._actualPoints2=this.getConstantPoints2();return}if(this._itemsSourcePoints2.length=0,this.isPoints2Defined=!!(this.dataFieldX2&&this.dataFieldY2),this.isPoints2Defined)for(const e of this.itemsSource){if(!e)continue;const r=getOrDefault(e,this.dataFieldX2,Number.NaN),xe=getOrDefault(e,this.dataFieldY2,Number.NaN),Se=newDataPoint(this.xAxis.itemToDouble(r),this.yAxis.itemToDouble(xe));this._itemsSourcePoints2.push(Se)}else this._itemsSourcePoints2.push(...this.getConstantPoints2())}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints2)}async renderChunkedPoints(e){const r=[];let xe=[],Se=0;const _e=e.points;for(let Ae=e.windowStartIndex;Ae<_e.length;Ae++){const Ce=_e[Ae];if(isNaN(Ce.y)){if(xe.length===0)continue;r.push(await this.renderScreenPoints(e,xe)),xe=[]}else{const Pe=PlotElementExtensions.transform(this,Ce.x,Ce.y);xe.push(Pe)}if(Se+=Ce.x>e.xMax?1:0,Se>1)break}return xe.length>0&&r.push(await this.renderScreenPoints(e,xe)),r}async renderScreenPoints(e,r){let xe=r;if(e.reverse&&xe.reverse(),this.interpolationAlgorithm){const Se=ScreenPointHelper.resamplePoints(xe,this.minimumSegmentLength);xe=this.interpolationAlgorithm.createSplineSp(Se,!1,.25)}return await RenderingExtensions.drawReducedLine(e.renderContext,xe,e.minDistSquared,this.getSelectableColor(e.color),this.strokeThickness,this.edgeRenderingMode,e.dashArray,this.lineJoin),xe}getConstantPoints2(){const e=this.actualPoints,r=[];if(!isNaN(this.constantY2)&&e.length>0){const xe=e[0].x,Se=e[e.length-1].x;r.push(newDataPoint(xe,this.constantY2)),r.push(newDataPoint(Se,this.constantY2))}return r}getJsonIgnoreProperties(){return[...super.getJsonIgnoreProperties(),"windowStartIndex2","isPoints2Defined"]}getElementDefaultValues(){return ExtendedDefaultAreaSeriesOptions}toJSON(e){const r=super.toJSON(e);return this._points2&&(r.points2=this.points2),r}}var HeatMapCoordinateDefinition=(t=>(t[t.Center=0]="Center",t[t.Edge=1]="Edge",t))(HeatMapCoordinateDefinition||{}),HeatMapRenderMethod=(t=>(t[t.Bitmap=0]="Bitmap",t[t.Rectangles=1]="Rectangles",t))(HeatMapRenderMethod||{});const DefaultHeatMapSeriesOptions={x0:0,x1:0,y0:0,y1:0,interpolate:!0,coordinateDefinition:0,renderMethod:0,labelFontSize:0,data:void 0,colorAxis:void 0,colorAxisKey:void 0,labelStringFormatter:void 0},ExtendedDefaultHeatMapSeriesOptions={...ExtendedDefaultXYAxisSeriesOptions,...DefaultHeatMapSeriesOptions},_HeatMapSeries=class Us extends XYAxisSeries{constructor(e){super(e),__publicField(this,"_dataHash",0),__publicField(this,"_colorAxisHash",0),__publicField(this,"_image"),__publicField(this,"x0",DefaultHeatMapSeriesOptions.x0),__publicField(this,"x1",DefaultHeatMapSeriesOptions.x1),__publicField(this,"y0",DefaultHeatMapSeriesOptions.y0),__publicField(this,"y1",DefaultHeatMapSeriesOptions.y1),__publicField(this,"data"),__publicField(this,"interpolate",DefaultHeatMapSeriesOptions.interpolate),__publicField(this,"_minValue",0),__publicField(this,"_maxValue",0),__publicField(this,"_colorAxis"),__publicField(this,"colorAxisKey"),__publicField(this,"coordinateDefinition",DefaultHeatMapSeriesOptions.coordinateDefinition),__publicField(this,"renderMethod",DefaultHeatMapSeriesOptions.renderMethod),__publicField(this,"labelStringFormatter",r=>r.toFixed(2)),__publicField(this,"labelFontSize",DefaultHeatMapSeriesOptions.labelFontSize),this.trackerStringFormatter=Us.DefaultTrackerFormatString,assignMethod(this,"trackerStringFormatter",e),assignObject(this,DefaultHeatMapSeriesOptions,e,{exclude:["trackerStringFormatter"]})}getElementName(){return"HeatMapSeries"}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get colorAxis(){return this._colorAxis}set colorAxis(e){this._colorAxis=e}invalidate(){this._image=void 0}async render(e){if(!this.data){this._image=void 0;return}if(!this.colorAxis)throw new Error("Color axis not specified.");let r=this.x0,xe=this.x1,Se=this.y0,_e=this.y1;const Ae=this.data.length,Ce=this.data[0].length,Pe=(this.x1-this.x0)/(Ae-1),Ee=(this.y1-this.y0)/(Ce-1);if(this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const Be=Math.log(this.x1/this.x0)/(Ae-1);r*=Math.exp(Be/-2),xe*=Math.exp(Be/2)}else r-=Pe/2,xe+=Pe/2;if(this.yAxis.isLogarithmic()){const Be=Math.log(this.y1/this.y0)/(Ce-1);Se*=Math.exp(Be/-2),_e*=Math.exp(Be/2)}else Se-=Ee/2,_e+=Ee/2}const Oe=PlotElementExtensions.transform(this,r,Se),Me=PlotElementExtensions.transform(this,xe,_e),De=OxyRectHelper.fromScreenPoints(Oe,Me),Te=this.renderMethod===0,ke=calculateHashcode(this.data),Fe=this.colorAxis.getElementHashCode();(Te&&!this._image||ke!==this._dataHash||Fe!==this._colorAxisHash)&&(Te&&await this.updateImage(),this._dataHash=ke,this._colorAxisHash=Fe);const $e=PlotElementExtensions.orientate;if(Te)this._image&&await RenderingExtensions.drawImage(e,this._image,De.left,De.top,De.width,De.height,1,this.interpolate);else{const Be=$e(this,Oe),Ie=$e(this,Me),Re=(Ie.x-Be.x)/Ae,je=(Ie.y-Be.y)/Ce,Ve=ColorAxisExtensions.getColor;for(let He=0;He<Ae;He++)for(let ze=0;ze<Ce;ze++){const Ue=Ve(this.colorAxis,this.data[He][ze]),We=$e(this,newScreenPoint(Be.x+He*Re,Be.y+ze*je)),qe=$e(this,newScreenPoint(Be.x+(He+1)*Re,Be.y+(ze+1)*je)),Ge=OxyRectHelper.fromScreenPoints(We,qe);await e.drawRectangle(Ge,Ue,OxyColors.Undefined,0,this.edgeRenderingMode)}}this.labelFontSize>0&&await this.renderLabels(e,De)}getNearestPoint(e,r){if(!this.data)return;this.interpolate||(r=!1);let xe=this.inverseTransform(e);if(!this.isPointInRange(xe))return;let Se,_e;if(this.xAxis.isLogarithmic()){const Oe=Math.log(this.x1/this.x0)/(this.data.length-1);Se=Math.log(xe.x/this.x0)/Oe}else{const Oe=(this.x1-this.x0)/(this.data.length-1);Se=(xe.x-this.x0)/Oe}if(this.yAxis.isLogarithmic()){const Oe=Math.log(this.y1/this.y0)/(this.data[0].length-1);_e=Math.log(xe.y/this.y0)/Oe}else{const Oe=(this.y1-this.y0)/(this.data[0].length-1);_e=(xe.y-this.y0)/Oe}if(!r){Se=Math.round(Se),_e=Math.round(_e);let Oe,Me;if(this.xAxis.isLogarithmic()){const De=Math.log(this.x1/this.x0)/(this.data.length-1);Oe=this.x0*Math.exp(Se*De)}else{const De=(this.x1-this.x0)/(this.data.length-1);Oe=Se*De+this.x0}if(this.yAxis.isLogarithmic()){const De=Math.log(this.y1/this.y0)/(this.data[0].length-1);Me=this.y0*Math.exp(_e*De)}else{const De=(this.y1-this.y0)/(this.data[0].length-1);Me=_e*De+this.y0}xe=newDataPoint(Oe,Me),e=this.transform(xe)}if(Se<-.5||Se>this.data.length-.5||_e<-.5||_e>this.data[0].length-.5)return;const Ae=Us.getValue(this.data,Se,_e),Ce=this.colorAxis,Pe=(Ce==null?void 0:Ce.title)??Us.DefaultColorAxisTitle,Ee=this.formatDefaultTrackerString(void 0,xe,Oe=>{Oe.colorAxisTitle=Pe,Oe.value=Ae});return new TrackerHitResult({series:this,dataPoint:xe,position:e,item:null,index:-1,text:Ee})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(!this.data)return;const e=this.data.length,r=this.data[0].length;if(this.minX=Math.min(this.x0,this.x1),this.maxX=Math.max(this.x0,this.x1),this.minY=Math.min(this.y0,this.y1),this.maxY=Math.max(this.y0,this.y1),this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const xe=Math.log(this.maxX/this.minX)/(e-1);this.minX*=Math.exp(xe/-2),this.maxX*=Math.exp(xe/2)}else{const xe=(this.maxX-this.minX)/(e-1);this.minX-=xe/2,this.maxX+=xe/2}if(this.yAxis.isLogarithmic()){const xe=Math.log(this.maxY/this.minY)/(r-1);this.minY*=Math.exp(xe/-2),this.maxY*=Math.exp(xe/2)}else{const xe=(this.maxY-this.minY)/(r-1);this.minY-=xe/2,this.maxY+=xe/2}}}updateMaxMin(){if(super.updateMaxMin(),this.updateMaxMinXY(),!this.data)return;const e=this.data.flat().filter(r=>!isNaN(r));this._minValue=minValueOfArray(e),this._maxValue=maxValueOfArray(e)}updateAxisMaxMin(){super.updateAxisMaxMin();const e=this.colorAxis;e&&(e.include(this.minValue),e.include(this.maxValue))}async renderLabels(e,r){if(!this.data)return;const xe=this.data.length,Se=this.data[0].length,_e=r.height/Se*this.labelFontSize,Ae=this.x0,Ce=this.x1,Pe=this.y0,Ee=this.y1,Oe=PlotElementExtensions.orientate,Me=PlotElementExtensions.transform,De=Oe(this,Me(this,Ae,Pe)),Te=Oe(this,Me(this,Ce,Ee)),ke=(Te.x-De.x)/(xe-1),Fe=(Te.y-De.y)/(Se-1),$e=ColorAxisExtensions.getColor;for(let Be=0;Be<xe;Be++)for(let Ie=0;Ie<Se;Ie++){const Re=Oe(this,newScreenPoint(De.x+Be*ke,De.y+Ie*Fe)),je=Us.getValue(this.data,Be,Ie),Ve=$e(this.colorAxis,je),ze=OxyColorHelper.toHsv(Ve)[2]>.6?OxyColors.Black:OxyColors.White,Ue=this.getLabel(je,Be,Ie);await e.drawText(Re,Ue,ze,this.actualFont,_e,500,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}}getLabel(e,r,xe){return this.labelStringFormatter(e,[])}static getValue(e,r,xe){r=Math.max(r,0),xe=Math.max(xe,0);const Se=Math.floor(r),_e=Se+1<e.length?Se+1:Se,Ae=Math.floor(xe),Ce=Ae+1<e[0].length?Ae+1:Ae;if(r=Math.min(r,_e),xe=Math.min(xe,Ce),r===Se&&xe===Ae)return e[Se][Ae];if(r!==Se&&xe===Ae){if(isNaN(e[Se][Ae])||isNaN(e[_e][Ae]))return NaN;const Pe=r-Se;return Se!==_e?e[Se][Ae]*(1-Pe)+e[_e][Ae]*Pe:e[Se][Ae]}if(r===Se&&xe!==Ae){if(isNaN(e[Se][Ae])||isNaN(e[Se][Ce]))return NaN;const Pe=xe-Ae;return Ae!==Ce?e[Se][Ae]*(1-Pe)+e[Se][Ce]*Pe:e[Se][Ae]}else{if(isNaN(e[Se][Ae])||isNaN(e[_e][Ae])||isNaN(e[Se][Ce])||isNaN(e[_e][Ce]))return NaN;const Pe=r-Se,Ee=xe-Ae;let Oe,Me;return Se!==_e?(Oe=e[Se][Ae]*(1-Pe)+e[_e][Ae]*Pe,Me=e[Se][Ce]*(1-Pe)+e[_e][Ce]*Pe):(Oe=e[Se][Ae],Me=e[Se][Ce]),Ae!==Ce?Oe*(1-Ee)+Me*Ee:Oe}}isPointInRange(e){return this.updateMaxMinXY(),e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}async updateImage(){if(!this.data)return;const e=this.xAxis.transform(this.x0)>this.xAxis.transform(this.x1),r=this.yAxis.transform(this.y0)>this.yAxis.transform(this.y1),xe=PlotElementExtensions.isTransposed(this),Se=this.data.length,_e=this.data[0].length,Ae=xe?new TwoDimensionalArray(_e,Se):new TwoDimensionalArray(Se,_e),Ce=ColorAxisExtensions.getColor;for(let Pe=0;Pe<Se;Pe++){const Ee=e?Se-1-Pe:Pe;for(let Oe=0;Oe<_e;Oe++){const Me=r?_e-1-Oe:Oe,De=Ce(this.colorAxis,this.data[Ee][Me]);xe?Ae.set(Oe,Pe,De):Ae.set(Pe,Oe,De)}}this._image=await OxyImageEx.create(Ae,ImageFormat.Png)}getElementDefaultValues(){return ExtendedDefaultHeatMapSeriesOptions}};__publicField(_HeatMapSeries,"DefaultTrackerFormatString",function(t){return`${t.title}
${t.xTitle}: ${t.xValue}
${t.yTitle}: ${t.yValue}
${t.colorAxisTitle}: ${t.value}`});__publicField(_HeatMapSeries,"DefaultColorAxisTitle","Value");let HeatMapSeries=_HeatMapSeries;function calculateHashcode(t){return hashCode(t.flat())}function newRectangleItem(t,e,r,xe,Se){return typeof t=="number"?{a:newDataPoint(t,r),b:newDataPoint(e,xe),value:Se}:{a:t,b:e,value:r}}function rectangleItemContains(t,e){const{a:r,b:xe}=t;return e.x<=xe.x&&e.x>=r.x&&e.y<=xe.y&&e.y>=r.y||e.x<=r.x&&e.x>=xe.x&&e.y<=r.y&&e.y>=xe.y}function isRectangleItem(t){return"a"in t&&"b"in t&&"value"in t}const DefaultRectangleSeriesOptions={labelFontSize:0,items:void 0,mapping:void 0,colorAxisKey:void 0,labelStringFormatter:void 0,colorAxisTitle:void 0,colorAxis:void 0},ExtendedDefaultRectangleSeriesOptions={...ExtendedDefaultXYAxisSeriesOptions,...DefaultRectangleSeriesOptions},_RectangleSeries=class $l extends XYAxisSeries{constructor(e){super(e),__publicField(this,"_actualItems",[]),__publicField(this,"_minValue",0),__publicField(this,"_maxValue",0),__publicField(this,"_colorAxis"),__publicField(this,"colorAxisKey"),__publicField(this,"labelStringFormatter",r=>r.toFixed(2)),__publicField(this,"labelFontSize",DefaultRectangleSeriesOptions.labelFontSize),__publicField(this,"mapping"),__publicField(this,"items",[]),this.trackerStringFormatter=$l.DefaultTrackerFormatString,assignMethod(this,"trackerStringFormatter",e),assignObject(this,DefaultRectangleSeriesOptions,e,{exclude:["trackerStringFormatter"]})}getElementName(){return"RectangleSeries"}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get colorAxis(){return this._colorAxis}set colorAxis(e){this._colorAxis=e}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(e){this.verifyAxes(),await this.renderRectangles(e,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem(e){const r=this.actualItems;return!this.itemsSource&&r&&e<r.length?r[e]:super.getItem(e)}clearActualItems(){this._actualItems.length=0}updateActualItems(){if(this.clearActualItems(),!(!this.itemsSource||this.itemsSource.length==0)){for(const e of this.itemsSource)if(e){if(isRectangleItem(e)){this._actualItems.push(e);continue}if(this.mapping){this._actualItems.push(this.mapping(e));continue}throw new Error("Invalid itemsSource")}}}async renderRectangles(e,r){const xe=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness),Se=PlotElementExtensions.transform;for(const _e of r){const Ae=ColorAxisExtensions.getColor(this.colorAxis,_e.value),Ce=Se(this,_e.a.x,_e.a.y),Pe=Se(this,_e.b.x,_e.b.y),Ee=OxyRectHelper.fromScreenPoints(Ce,Pe);await e.drawRectangle(Ee,Ae,OxyColors.Undefined,0,xe),this.labelFontSize>0&&await e.drawText(OxyRectHelper.center(Ee),this.labelStringFormatter(_e.value,[]),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}}getNearestPoint(e,r){const xe=this.inverseTransform(e);if(!this.isPointInRange(xe)||!this.actualItems)return;const Se=this.colorAxis,_e=(Se==null?void 0:Se.title)??$l.DefaultColorAxisTitle;for(const Ae of this.actualItems)if(rectangleItemContains(Ae,xe)){const Ce=this.formatDefaultTrackerString(Ae,xe,Pe=>{Pe.colorAxisTitle=_e,Pe.value=Ae.value});return new TrackerHitResult({series:this,dataPoint:xe,position:e,item:null,index:-1,text:Ce})}}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const e=minValueOfArray(this.actualItems.map(Ee=>Ee.a.x)),r=minValueOfArray(this.actualItems.map(Ee=>Ee.b.x)),xe=maxValueOfArray(this.actualItems.map(Ee=>Ee.a.x)),Se=maxValueOfArray(this.actualItems.map(Ee=>Ee.b.x)),_e=minValueOfArray(this.actualItems.map(Ee=>Ee.a.y)),Ae=minValueOfArray(this.actualItems.map(Ee=>Ee.b.y)),Ce=maxValueOfArray(this.actualItems.map(Ee=>Ee.a.y)),Pe=maxValueOfArray(this.actualItems.map(Ee=>Ee.b.y));this.minX=Math.min(e,r),this.maxX=Math.max(xe,Se),this.minY=Math.min(_e,Ae),this.maxY=Math.max(Ce,Pe)}}updateMaxMin(){super.updateMaxMin();const e=[];if(pushMany(e,this.actualItems.map(r=>r.a)),pushMany(e,this.actualItems.map(r=>r.b)),this.internalUpdateMaxMin(e),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const r=this.actualItems.map(xe=>xe.value);this._minValue=minValueOfArray(r),this._maxValue=maxValueOfArray(r)}}updateAxisMaxMin(){super.updateAxisMaxMin();const e=this.colorAxis;e&&(e.include(this.minValue),e.include(this.maxValue))}isPointInRange(e){return this.updateMaxMinXY(),e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}getElementDefaultValues(){return ExtendedDefaultRectangleSeriesOptions}};__publicField(_RectangleSeries,"DefaultTrackerFormatString",function(t){return`${t.title}
${t.xTitle}: ${t.xValue}
${t.yTitle}: ${t.yValue}
${t.colorAxisTitle}: ${t.value}`});__publicField(_RectangleSeries,"DefaultColorAxisTitle","Value");let RectangleSeries=_RectangleSeries;const DefaultThreeColorLineSeriesOptions={colorLo:OxyColorHelper.fromRgb(0,0,255),colorHi:OxyColorHelper.fromRgb(255,0,0),limitLo:-5,limitHi:5,lineStyleLo:LineStyle.Solid,lineStyleHi:LineStyle.Solid,dashesLo:void 0,dashesHi:void 0},ExtendedDefaultThreeColorLineSeriesOptions={...ExtendedDefaultLineSeriesOptions,...DefaultThreeColorLineSeriesOptions};class ThreeColorLineSeries extends LineSeries{constructor(e){super(e),__publicField(this,"defaultColorLo",OxyColors.Undefined),__publicField(this,"defaultColorHi",OxyColors.Undefined),__publicField(this,"colorLo",DefaultThreeColorLineSeriesOptions.colorLo),__publicField(this,"colorHi",DefaultThreeColorLineSeriesOptions.colorHi),__publicField(this,"limitHi",DefaultThreeColorLineSeriesOptions.limitHi),__publicField(this,"limitLo",DefaultThreeColorLineSeriesOptions.limitLo),__publicField(this,"dashesHi"),__publicField(this,"dashesLo"),__publicField(this,"lineStyleHi",DefaultThreeColorLineSeriesOptions.lineStyleHi),__publicField(this,"lineStyleLo",DefaultThreeColorLineSeriesOptions.lineStyleLo),assignObject(this,DefaultThreeColorLineSeriesOptions,e)}getElementName(){return"ThreeColorLineSeries"}get actualColorLo(){return OxyColorHelper.getActualColor(this.colorLo,this.defaultColorLo)}get actualColorHi(){return OxyColorHelper.getActualColor(this.colorHi,this.defaultColorHi)}get actualLineStyleHi(){return this.lineStyleHi!==LineStyle.Automatic?this.lineStyleHi:LineStyle.Solid}get actualLineStyleLo(){return this.lineStyleLo!==LineStyle.Automatic?this.lineStyleLo:LineStyle.Solid}get actualDashArrayHi(){return this.dashesHi??LineStyleHelper.getDashArray(this.actualLineStyleHi)}get actualDashArrayLo(){return this.dashesLo??LineStyleHelper.getDashArray(this.actualLineStyleLo)}setDefaultValues(){super.setDefaultValues(),OxyColorHelper.isAutomatic(this.colorLo)&&(this.defaultColorLo=this.plotModel.getDefaultColor()),this.lineStyleLo===LineStyle.Automatic&&(this.lineStyleLo=this.plotModel.getDefaultLineStyle()),OxyColorHelper.isAutomatic(this.colorHi)&&(this.defaultColorHi=this.plotModel.getDefaultColor()),this.lineStyleHi===LineStyle.Automatic&&(this.lineStyleHi=this.plotModel.getDefaultLineStyle())}async renderLine(e,r){const xe=this.getClippingRect(),Se=this.inverseTransform(OxyRectHelper.bottomLeft(xe)),_e=this.inverseTransform(OxyRectHelper.topRight(xe)),Ae=PlotElementExtensions.transform;let Ce=Ae(this,Se.x,Math.min(Se.y,_e.y)),Pe=Ae(this,_e.x,this.limitLo);const Ee=OxyRectEx.fromScreenPoints(Ce,Pe).clip(xe).rect;Ce=Ae(this,Se.x,this.limitLo),Pe=Ae(this,_e.x,this.limitHi);const Oe=OxyRectEx.fromScreenPoints(Ce,Pe).clip(xe).rect;Ce=Ae(this,Se.x,Math.max(Se.y,_e.y)),Pe=Ae(this,_e.x,this.limitHi);const Me=OxyRectEx.fromScreenPoints(Ce,Pe).clip(xe).rect;if(this.strokeThickness<=0||this.actualLineStyle===LineStyle.None)return;const De=async ke=>{await RenderingExtensions.drawReducedLine(e,r,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(ke),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let Te=RenderingExtensions.autoResetClip(e,Oe);await De(this.actualColor),Te.dispose(),Te=RenderingExtensions.autoResetClip(e,Ee),await De(this.actualColorLo),Te.dispose(),Te=RenderingExtensions.autoResetClip(e,Me),await De(this.actualColorHi),Te.dispose()}getElementDefaultValues(){return ExtendedDefaultThreeColorLineSeriesOptions}}const DefaultTwoColorAreaSeriesOptions={color2:OxyColorHelper.fromRgb(0,0,255),fill2:OxyColors.Automatic,lineStyle2:LineStyle.Solid,markerFill2:OxyColors.Automatic,markerStroke2:OxyColors.Automatic,limit:0,fill:OxyColors.Automatic},ExtendedDefaultTwoColorAreaSeriesOptions={...ExtendedDefaultAreaSeriesOptions,...DefaultTwoColorAreaSeriesOptions};class TwoColorAreaSeries extends AreaSeries{constructor(e){super(e),__publicField(this,"_defaultColor2",OxyColors.Undefined),__publicField(this,"_abovePoints",[]),__publicField(this,"_belowPoints",[]),__publicField(this,"_markerStartIndex",0),__publicField(this,"fill2",DefaultTwoColorAreaSeriesOptions.fill2),__publicField(this,"dashes2"),__publicField(this,"lineStyle2",DefaultTwoColorAreaSeriesOptions.lineStyle2),__publicField(this,"markerFill2",DefaultTwoColorAreaSeriesOptions.markerFill2),__publicField(this,"markerStroke2",DefaultTwoColorAreaSeriesOptions.markerStroke2),__publicField(this,"limit",DefaultTwoColorAreaSeriesOptions.limit),assignObject(this,DefaultTwoColorAreaSeriesOptions,e)}getElementName(){return"TwoColorAreaSeries"}get actualFill2(){return OxyColorHelper.getActualColor(this.fill2,OxyColorHelper.fromAColor(100,this.actualColor2))}get actualColor2(){return OxyColorHelper.getActualColor(this.color2,this._defaultColor2)}get actualLineStyle2(){return this.lineStyle2!==LineStyle.Automatic?this.lineStyle2:LineStyle.Solid}get actualDashArray2(){return this.dashes2??LineStyleHelper.getDashArray(this.actualLineStyle2)}getNearestPoint(e,r){let xe;return r&&this.canTrackerInterpolatePoints?xe=this.getNearestInterpolatedPointInternal(this.actualPoints,0,e):xe=this.getNearestPointInternal(this.actualPoints,0,e),xe&&(xe.text=this.formatDefaultTrackerString(xe.item,xe.dataPoint)),xe}async render(e){const r=this.xAxis.clipMinimum,xe=this.xAxis.clipMaximum,Se=Ce=>Ce.x;this.windowStartIndex=this.updateWindowStartIndex(this._abovePoints,Se,r,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(this._belowPoints,Se,r,this.windowStartIndex2);const _e=this.minimumSegmentLength*this.minimumSegmentLength,Ae={points:this._abovePoints,windowStartIndex:this.windowStartIndex,xMax:xe,renderContext:e,minDistSquared:_e,reverse:!1,color:this.actualColor,fill:this.actualFill,markerFill:this.actualMarkerFill,markerStroke:this.markerStroke,dashArray:this.actualDashArray,baseline:this.limit};if(await this.renderChunkedPoints(Ae),Ae.points=this._belowPoints,Ae.windowStartIndex=this.windowStartIndex2,Ae.reverse=this.reverse2,Ae.color=this.actualColor2,Ae.fill=this.actualFill2,Ae.markerFill=this.markerFill2,Ae.markerStroke=this.markerStroke2,Ae.dashArray=this.actualDashArray2,this.isPoints2Defined&&(Ae.baseline=this.constantY2),await this.renderChunkedPoints(Ae),!this.isPoints2Defined){const Ce=[this.markerSize],Pe=this.limit,Ee=this.actualPoints,Oe=[],Me=[];this._markerStartIndex=this.updateWindowStartIndex(Ee,Se,r,this._markerStartIndex);let De=0;for(let Te=this._markerStartIndex;Te<Ee.length;Te++){const ke=Ee[Te];if((ke.y>=Pe?Oe:Me).push(this.transform(ke)),De+=ke.x>xe?1:0,De>1)break}await RenderingExtensions.drawMarkers(e,Oe,this.markerType,void 0,Ce,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await RenderingExtensions.drawMarkers(e,Me,this.markerType,void 0,Ce,this.markerFill2,this.markerStroke2,this.markerStrokeThickness,this.edgeRenderingMode,1)}}setDefaultValues(){super.setDefaultValues(),OxyColorHelper.isAutomatic(this.color2)&&(this._defaultColor2=this.plotModel.getDefaultColor()),this.lineStyle2===LineStyle.Automatic&&(this.lineStyle2=this.plotModel.getDefaultLineStyle())}updateData(){super.updateData(),this.isPoints2Defined?(this._abovePoints=this.actualPoints,this._belowPoints=this.actualPoints2):this.splitPoints(this.actualPoints)}async renderScreenPoints(e,r){const xe=await super.renderScreenPoints(e,r),Se=e,Ae=[...this.getConstantScreenPoints2(xe,Se.baseline),...xe],Ce=e.renderContext;if(await RenderingExtensions.drawReducedPolygon(Ce,Ae,e.minDistSquared,this.getSelectableFillColor(Se.fill),OxyColors.Undefined,0,this.edgeRenderingMode),this.isPoints2Defined){const Pe=[this.markerSize];await RenderingExtensions.drawMarkers(Ce,xe,this.markerType,void 0,Pe,Se.markerFill,Se.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}return xe}splitPoints(e){const r=newDataPoint(Number.NaN,Number.NaN),xe=this.limit;this._abovePoints=new Array,this._belowPoints=new Array;let Se=!1,_e;for(const Ae of e){const Ce=Ae.y>=xe;if(_e&&Ce!==Se){const Pe=newDataPoint(this.getInterpolatedX(_e,Ae,xe),xe);this._abovePoints.push(Ce?r:Pe),this._abovePoints.push(Ce?Pe:r),this._belowPoints.push(Ce?Pe:r),this._belowPoints.push(Ce?r:Pe)}(Ce?this._abovePoints:this._belowPoints).push(Ae),_e=Ae,Se=Ce}}getConstantScreenPoints2(e,r){const xe=[];if(isNaN(r)||e.length<=0)return xe;let Se=this.inverseTransform(e[0]);Se=newDataPoint(Se.x,r),xe.push(this.transform(Se));let _e=this.inverseTransform(e[e.length-1]);return _e=newDataPoint(_e.x,r),xe.push(this.transform(_e)),this.reverse2&&xe.reverse(),xe}getInterpolatedX(e,r,xe){return(xe-e.y)/(r.y-e.y)*(r.x-e.x)+e.x}getElementDefaultValues(){return ExtendedDefaultTwoColorAreaSeriesOptions}}const DefaultTwoColorLineSeriesOptions={color2:OxyColorHelper.fromRgb(0,0,255),limit:0},ExtendedDefaultTwoColorLineSeriesOptions={...ExtendedDefaultLineSeriesOptions,...DefaultTwoColorLineSeriesOptions};class TwoColorLineSeries extends LineSeries{constructor(e){super(e),__publicField(this,"_defaultColor2",OxyColors.Undefined),__publicField(this,"color2",DefaultTwoColorLineSeriesOptions.color2),__publicField(this,"limit",DefaultTwoColorLineSeriesOptions.limit),assignObject(this,DefaultTwoColorLineSeriesOptions,e)}getElementName(){return"TwoColorLineSeries"}get actualColor2(){return OxyColorHelper.getActualColor(this.color2,this._defaultColor2)}setDefaultValues(){super.setDefaultValues(),OxyColorHelper.isAutomatic(this.color2)&&(this._defaultColor2=this.plotModel.getDefaultColor())}async renderLine(e,r){const xe=this.getClippingRect(),Se=this.inverseTransform(OxyRectHelper.bottomLeft(xe)),_e=this.inverseTransform(OxyRectHelper.topRight(xe)),Ae=PlotElementExtensions.transform;let Ce=Ae(this,Se.x,Math.min(Se.y,_e.y));const Pe=Ae(this,_e.x,this.limit),Ee=OxyRectEx.fromScreenPoints(Ce,Pe).clip(xe).rect;Ce=Ae(this,Se.x,Math.max(Se.y,_e.y));const Oe=OxyRectEx.fromScreenPoints(Ce,Pe).clip(xe).rect;if(this.strokeThickness<=0||this.actualLineStyle===LineStyle.None)return;const Me=async Te=>{await RenderingExtensions.drawReducedLine(e,r,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(Te),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let De=RenderingExtensions.autoResetClip(e,Ee);await Me(this.actualColor2),De.dispose(),De=RenderingExtensions.autoResetClip(e,Oe),await Me(this.actualColor),De.dispose()}getElementDefaultValues(){return ExtendedDefaultTwoColorLineSeriesOptions}}const DefaultPolygonSeriesOptions={stroke:OxyColors.Undefined,strokeThickness:2,labelFontSize:0,items:void 0,mapping:void 0,colorAxisKey:void 0,labelStringFormatter:void 0},ExtendedDefaultPolygonSeriesOptions={...ExtendedDefaultXYAxisSeriesOptions,...DefaultPolygonSeriesOptions},_PolygonSeries=class jl extends XYAxisSeries{constructor(e){super(e),__publicField(this,"_actualItems",[]),__publicField(this,"_minValue",0),__publicField(this,"_maxValue",0),__publicField(this,"_colorAxis"),__publicField(this,"colorAxisKey"),__publicField(this,"labelStringFormatter",(r,xe)=>r.value.toFixed(2)),__publicField(this,"labelFontSize",DefaultPolygonSeriesOptions.labelFontSize),__publicField(this,"mapping"),__publicField(this,"items",[]),__publicField(this,"stroke",DefaultPolygonSeriesOptions.stroke),__publicField(this,"strokeThickness",DefaultPolygonSeriesOptions.strokeThickness),this.trackerStringFormatter=jl.defaultTrackerStringFormatter,assignMethod(this,"trackerStringFormatter",e),assignMethod(this,"labelStringFormatter",e),assignObject(this,DefaultPolygonSeriesOptions,e,{exclude:["trackerStringFormatter","labelStringFormatter"]})}get actualItems(){return this.itemsSource?this._actualItems:this.items}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get colorAxis(){return this._colorAxis}getElementName(){return"PolygonSeries"}async render(e){this.verifyAxes(),await this.renderPolygons(e,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem(e){const r=this.actualItems;return!this.itemsSource&&r&&e<r.length?r[e]:super.getItem(e)}clearActualItems(){this._actualItems&&(this._actualItems.length=0),this._actualItems=[]}updateActualItems(){this.clearActualItems();for(const e of this.itemsSource||[]){if(isPolygonItem(e)){this._actualItems.push(e);continue}if(this.mapping){this._actualItems.push(this.mapping(e));continue}throw new Error("Invalid item")}}async renderPolygons(e,r){const xe=[];for(const Se of r){const _e=ColorAxisExtensions.getColor(this.colorAxis,Se.value),Ae=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(const Ce of Se.outlines)if(xe.length=0,xe.push(...Ce.map(Pe=>this.transform(Pe))),await e.drawPolygon(xe,_e,this.stroke,this.strokeThickness,Ae),this.labelFontSize>0){const Pe=this.labelStringFormatter(Se,[]);await e.drawText(ScreenPointHelper.getCentroid(xe),Pe,this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}}}getNearestPoint(e,r){const xe=this.inverseTransform(e);if(!this.isPointInRange(xe))return;const Se=this.colorAxis,_e=(Se==null?void 0:Se.title)??jl._defaultColorAxisTitle,Ae=[],Ce=this.actualItems;if(Ce)for(const Pe of Ce)for(let Ee=0;Ee<Pe.outlines.length;Ee++){const Oe=Pe.bounds[Ee];if(OxyRectHelper.contains(Oe,xe.x,xe.y)&&(Ae.length=0,Ae.push(...Pe.outlines[Ee].map(Me=>this.transform(Me))),ScreenPointHelper.isPointInPolygon(e,Ae))){const Me=super.formatDefaultTrackerString(Pe,xe,De=>{De.colorAxisTitle=_e});return new TrackerHitResult({series:this,dataPoint:xe,position:e,item:Pe,index:-1,text:Me})}}}ensureAxes(){super.ensureAxes(),this._colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin(),this.updateMaxMinXY();const e=this.actualItems;e&&e.length>0&&(this._minValue=minValueOfArray(e.map(r=>r.value)),this._maxValue=maxValueOfArray(e.map(r=>r.value)))}updateAxisMaxMin(){super.updateAxisMaxMin();const e=this.colorAxis;e&&(e.include(this.minValue),e.include(this.maxValue))}updateMaxMinXY(){const e=this.actualItems;if(e&&e.length>0){const r=e.flatMap(xe=>xe.bounds);this.minX=minValueOfArray(r.map(xe=>xe.left)),this.maxX=maxValueOfArray(r.map(xe=>OxyRectHelper.right(xe))),this.minY=minValueOfArray(r.map(xe=>xe.top)),this.maxY=maxValueOfArray(r.map(xe=>OxyRectHelper.bottom(xe)))}}isPointInRange(e){return this.updateMaxMinXY(),e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}getElementDefaultValues(){return ExtendedDefaultPolygonSeriesOptions}};__publicField(_PolygonSeries,"defaultTrackerStringFormatter",function(t){return`${t.title}
${t.xTitle}: ${t.xValue}
${t.yTitle}: ${t.yValue}
${t.colorAxisTitle}: ${t.item.value}`});__publicField(_PolygonSeries,"_defaultColorAxisTitle","Value");let PolygonSeries=_PolygonSeries;function newPolygonItem(t,e){if(!t||t.length===0)throw new Error("Outlines does not contain any sub-polygons.");Array.isArray(t[0])||(t=[t]);const r=t.map(Se=>Se.slice());for(const Se of r)for(const _e of Se)if(DataPoint_isUnDefined(_e)||isInfinity(_e.x)||isInfinity(_e.y))throw new Error("Outline contains non-finite elements.");const xe=r.map(Se=>computeBounds(Se));return{outlines:r,value:e,bounds:xe}}function computeBounds(t){let e=t[0].x,r=t[0].y,xe=t[0].x,Se=t[0].y;for(let _e=1;_e<t.length;_e++)e=Math.min(e,t[_e].x),r=Math.min(r,t[_e].y),xe=Math.max(xe,t[_e].x),Se=Math.max(Se,t[_e].y);return newOxyRect(e,r,xe-e,Se-r)}function isPolygonItem(t){return t&&t.outlines&&t.value&&t.bounds}const version="1.0",encoding="utf-8",log=t=>{};class XmlWriterBase{constructor(e){__publicField(this,"_no",0),__publicField(this,"w"),__publicField(this,"_stream"),__publicField(this,"_xml",""),__publicField(this,"_disposed",!1),this._stream=e,this.w=xmlbuilder2_minExports.create({version,encoding})}close(){}flush(){}getXml(){return this._xml}writeAttributeString(e,r){this._no++,log(`${this._no},writeAttributeString,${e},${r}`),this.w.att(e,r)}writeAttributeString2(e,r,xe,Se){this._no++,log(`${this._no},writeAttributeString,${e},${r},${xe},${Se}`),r=e?`${e}:${r}`:r,xe?this.w.att(xe,r,Se):this.writeAttributeString(r,Se)}writeDocType(e,r,xe,Se){this._no++,log(`${this._no},writeDocType,${e},${r},${xe}`),this.w.dtd({name:e,pubID:r,sysID:xe})}writeElementString(e,r){this._no++,log(`${this._no},writeElementString,${e},${r}`),this.writeStartElement(e),this.writeString(r)}writeEndDocument(){this._no++,log(`${this._no},writeEndDocument`),this._xml=this.w.end({prettyPrint:!0}),this._no=0}writeEndElement(){this._no++,log(`${this._no},writeEndElement`),this.w=this.w.up()}writeRaw(e){this._no++,log(`${this._no},writeRaw,${e}`),this.w.dat(e)}writeStartDocument(e){this._no++,log(`${this._no},writeStartDocument,${e}`),this.w.dec({version,encoding,standalone:e})}writeStartElement(e,r){this._no++,log(`${this._no},writeStartElement,${e},${r||""}`),r?this.w=this.w.ele(r,e):this.w=this.w.ele(e)}writeString(e){this._no++,log(`${this._no},writeString,${e}`),this.w.txt(e)}dispose(){this._disposed||(this._disposed=!0,this.close())}}class SvgWriter extends XmlWriterBase{constructor(e,r,xe=!0){super(),__publicField(this,"endIsWritten",!1),__publicField(this,"clipPathNumber",1),__publicField(this,"isDocument"),__publicField(this,"numberFormat"),this.isDocument=xe,this.numberFormat=Se=>round(Se,4).toString(),this.writeHeader(e,r)}close(){this.endIsWritten||this.complete()}complete(){this.writeEndElement(),this.isDocument&&this.writeEndDocument(),this.endIsWritten=!0}createStyle(e,r,xe,Se=[],_e=LineJoin.Miter){const Ae=OxyColorEx.fromOxyColor(e);let Ce="";OxyColorHelper.isInvisible(Ae)?Ce+="fill:none;":(Ce+=`fill:${this.colorToString(Ae)};`,Ae.a!==255&&(Ce+=`fill-opacity:${Ae.a/255};`));const Pe=OxyColorEx.fromOxyColor(r);if(OxyColorHelper.isInvisible(r))Ce+="stroke:none;";else{const Ee=this.numberFormat(xe);switch(Ce+=`stroke:${this.colorToString(Pe)};stroke-width:${Ee}`,_e){case LineJoin.Round:Ce+=";stroke-linejoin:round";break;case LineJoin.Bevel:Ce+=";stroke-linejoin:bevel";break}if(Pe.a!==255&&(Ce+=`;stroke-opacity:${Pe.a/255}`),Se&&Se.length>0){Ce+=";stroke-dasharray:";for(let Oe=0;Oe<Se.length;Oe++)Ce+=`${Oe>0?",":""}${Se[Oe]}`}}return Ce}writeEllipse(e,r,xe,Se,_e,Ae){this.writeStartElement("ellipse"),this.writeAttributeNumberString("cx",e+xe/2),this.writeAttributeNumberString("cy",r+Se/2),this.writeAttributeNumberString("rx",xe/2),this.writeAttributeNumberString("ry",Se/2),this.writeAttributeString("style",_e),this.writeEdgeRenderingModeAttribute(Ae),this.writeEndElement()}beginClip(e,r,xe,Se){const _e="clipPath"+this.clipPathNumber++;this.writeStartElement("defs"),this.writeStartElement("clipPath"),this.writeAttributeString("id",_e),this.writeStartElement("rect"),this.writeAttributeNumberString("x",e),this.writeAttributeNumberString("y",r),this.writeAttributeNumberString("width",xe),this.writeAttributeNumberString("height",Se),this.writeEndElement(),this.writeEndElement(),this.writeEndElement(),this.writeStartElement("g"),this.writeAttributeString("clip-path",`url(#${_e})`)}endClip(){this.writeEndElement()}writeImage(e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe){const Me=_e-e/xe*Ce,De=Ee.width/xe*Ce,Te=Ae-r/Se*Pe,ke=Ee.height/Se*Pe;this.beginClip(_e,Ae,Ce,Pe),this.writeImage2(Me,Te,De,ke,Ee,Oe),this.endClip()}writeImage2(e,r,xe,Se,_e,Ae){this.writeStartElement("image"),this.writeAttributeNumberString("x",e),this.writeAttributeNumberString("y",r),this.writeAttributeNumberString("width",xe),this.writeAttributeNumberString("height",Se),this.writeAttributeString("preserveAspectRatio","none"),Ae||this.writeAttributeString("image-rendering","pixelated");const Pe="data:image/png;base64,"+arrayBufferToBase64(Uint8Array.from(_e.data));this.writeAttributeString("xlink:href",Pe),this.writeEndElement()}writeLine(e,r,xe,Se){this.writeStartElement("line"),this.writeAttributeNumberString("x1",e.x),this.writeAttributeNumberString("y1",e.y),this.writeAttributeNumberString("x2",r.x),this.writeAttributeNumberString("y2",r.y),this.writeAttributeString("style",xe),this.writeEdgeRenderingModeAttribute(Se),this.writeEndElement()}writePolygon(e,r,xe){this.writeStartElement("polygon"),this.writeAttributeString("points",this.pointsToString(e)),this.writeAttributeString("style",r),this.writeEdgeRenderingModeAttribute(xe),this.writeEndElement()}writePolyline(e,r,xe){this.writeStartElement("polyline"),this.writeAttributeString("points",this.pointsToString(e)),this.writeAttributeString("style",r),this.writeEdgeRenderingModeAttribute(xe),this.writeEndElement()}writeRectangle(e,r,xe,Se,_e,Ae){this.writeStartElement("rect"),this.writeAttributeNumberString("x",e),this.writeAttributeNumberString("y",r),this.writeAttributeNumberString("width",xe),this.writeAttributeNumberString("height",Se),this.writeAttributeString("style",_e),this.writeEdgeRenderingModeAttribute(Ae),this.writeEndElement()}writeText(e,r,xe,Se=null,_e=10,Ae=FontWeights.Normal,Ce=0,Pe=HorizontalAlignment.Left,Ee=VerticalAlignment.Top){this.writeStartElement("text");let Oe="hanging";Ee===VerticalAlignment.Middle&&(Oe="middle"),Ee===VerticalAlignment.Bottom&&(Oe="baseline"),this.writeAttributeString("dominant-baseline",Oe);let Me="start";Pe===HorizontalAlignment.Center&&(Me="middle"),Pe===HorizontalAlignment.Right&&(Me="end"),this.writeAttributeString("text-anchor",Me);let Te=`translate(${e.x},${e.y})`;Math.abs(Ce)>0&&(Te+=` rotate(${Ce})`),this.writeAttributeString("transform",Te),Se&&this.writeAttributeString("font-family",Se),_e>0&&this.writeAttributeNumberString("font-size",_e),Ae>0&&this.writeAttributeNumberString("font-weight",Ae);const ke=OxyColorEx.fromOxyColor(xe);OxyColorHelper.isInvisible(xe)?this.writeAttributeString("fill","none"):(this.writeAttributeString("fill",this.colorToString(ke)),ke.a!==255&&this.writeAttributeNumberString("fill-opacity",ke.a/255)),r.length!==r.trim().length&&this.writeAttributeString2("xml","space","","preserve"),this.writeString(r),this.writeEndElement()}colorToString(e){return OxyColorHelper.equals(e,OxyColors.Black)?"black":`rgb(${e.r},${e.g},${e.b})`}writeAttributeNumberString(e,r){this.writeAttributeString(e,this.numberFormat(r))}writeEdgeRenderingModeAttribute(e){let r;switch(e){case EdgeRenderingMode.PreferSharpness:r="crispEdges";break;case EdgeRenderingMode.PreferSpeed:r="optimizeSpeed";break;case EdgeRenderingMode.PreferGeometricAccuracy:r="geometricPrecision";break;default:return}this.writeAttributeString("shape-rendering",r)}getAutoValue(e,r){return isNaN(e)?r:this.numberFormat(e)}pointsToString(e){let r="";for(const xe of e)r+=`${this.numberFormat(xe.x)},${this.numberFormat(xe.y)} `;return r.trim()}writeHeader(e,r){this.isDocument&&(this.writeStartDocument(!1),this.writeDocType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd")),this.writeStartElement("svg","http://www.w3.org/2000/svg"),this.writeAttributeString("width",this.getAutoValue(e,"100%")),this.writeAttributeString("height",this.getAutoValue(r,"100%")),this.writeAttributeString("version","1.1"),this.writeAttributeString("xmlns:xlink","http://www.w3.org/1999/xlink")}}class SvgRenderContext extends ClippingRenderContext{constructor(e,r,xe,Se,_e,Ae=!1){if(super(),__publicField(this,"w"),__publicField(this,"textMeasurer"),__publicField(this,"useVerticalTextAlignmentWorkaround"),__publicField(this,"disposed",!1),!Se)throw new Error("A text measuring render context must be provided.");this.w=new SvgWriter(e,r,xe),this.textMeasurer=Se,this.useVerticalTextAlignmentWorkaround=Ae,OxyColorHelper.isVisible(_e)&&this.w.writeRectangle(0,0,e,r,this.w.createStyle(_e,OxyColors.Undefined,0),EdgeRenderingMode.Adaptive)}close(){this.w.close()}complete(){this.w.complete()}getXml(){return this.w.getXml()}async drawEllipse(e,r,xe,Se,_e){this.w.writeEllipse(e.left,e.top,e.width,e.height,this.w.createStyle(r,xe,Se),_e)}async drawLine(e,r,xe,Se,_e,Ae){this.w.writePolyline(e,this.w.createStyle(OxyColors.Undefined,r,xe,_e,Ae),Se)}async drawPolygon(e,r,xe,Se,_e,Ae,Ce){this.w.writePolygon(e,this.w.createStyle(r,xe,Se,Ae,Ce),_e)}async drawRectangle(e,r,xe,Se,_e){this.w.writeRectangle(e.left,e.top,e.width,e.height,this.w.createStyle(r,xe,Se),_e)}async drawText(e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe){if(!r)return;const Me=StringHelper.splitLines(r),Te=this.measureText(r,Se,_e,Ae).height/Me.length,ke=newScreenVectorEx(-Math.sin(Ce/180*Math.PI)*Te,+Math.cos(Ce/180*Math.PI)*Te);if(this.useVerticalTextAlignmentWorkaround){const Fe=Ee===VerticalAlignment.Bottom?1-Me.length:Ee===VerticalAlignment.Top?1:1-Me.length/2;Ee=VerticalAlignment.Bottom,e=screenPointPlus(e,ke.times(Fe));for(const $e of Me)this.w.writeText(e,$e,xe,Se,_e,Ae,Ce,Pe,Ee),e=screenPointPlus(e,ke)}else if(Ee===VerticalAlignment.Bottom)for(let Fe=Me.length-1;Fe>=0;Fe--){const $e=Me[Fe];this.w.writeText(e,$e,xe,Se,_e,Ae,Ce,Pe,Ee),e=screenPointMinusVector(e,ke)}else for(const Fe of Me)this.w.writeText(e,Fe,xe,Se,_e,Ae,Ce,Pe,Ee),e=screenPointPlus(e,ke)}flush(){this.w.flush()}measureText(e,r,xe,Se){return e===""?OxySize_Empty:this.textMeasurer.measureText(e,r,xe,Se)}async drawImage(e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me){this.w.writeImage(r,xe,Se,_e,Ae,Ce,Pe,Ee,e,Me)}dispose(e){this.disposed||e&&this.w.dispose(),this.disposed=!0}setClip(e){this.w.beginClip(e.left,e.top,e.width,e.height)}resetClip(){this.w.endClip()}}class FractionHelper{static convertToFractionString(e,r=1,xe,Se=1e-6,_e){if(Math.abs(e)<Se)return"0";e/=r;for(let Ae=1;Ae<=64;Ae++){const Ce=e*Ae,Pe=Math.round(Ce);if(Math.abs(Ce-Pe)<Se){const Ee=!xe||Pe!=1?Pe.toString():"";return Ae==1?`${Ee}${xe}`:`${Ee}${xe}/${Ae}`}}return _e?_e(e)+(xe||""):`${e.toString()}${xe||""}`}}class StringHelper{static splitLines(e){return e.split(/\r?\n/)}}class PlotModelUtilities{static isReversible(e){if(e.axes.length===0&&e.series.length===0)return!1;for(const r of e.axes){if(r.position===AxisPosition.None)return!1;const xe=r.__isReversible;if(xe!==void 0&&!xe)return!1}for(const r of e.series){const xe=r.getElementName();if(!(r instanceof XYAxisSeries)||this.NonReversibleSeriesTypes.has(xe))return!1}for(const r of e.annotations){const xe=r.getElementName();if(this.NonReversibleDataSpaceAnnotationTypes.has(xe))return!1}return!0}static isTransposable(e){if(e.axes.length===0&&e.series.length===0)return!1;for(const r of e.axes)if(r.position===AxisPosition.None)return!1;for(const r of e.series){const xe=r.getElementName();if(!isTransposablePlotElement(r)||this.NonTransposableSeriesTypes.has(xe))return!1}for(const r of e.annotations){const xe=r.getElementName();if(!isTransposablePlotElement(r)||this.NonTransposableDataSpaceAnnotationTypes.has(xe))return!1}return!0}static reverseXAxis(e){e.title&&(e.title+=" (reversed X Axis)");let r=!1;for(const xe of e.axes)xe.position===AxisPosition.Bottom&&(xe.startPosition=1-xe.startPosition,xe.endPosition=1-xe.endPosition,r=!0);return r||e.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),e}static reverseYAxis(e){e.title&&(e.title+=" (reversed Y Axis)");let r=!1;for(const xe of e.axes)xe.position===AxisPosition.Left&&(xe.startPosition=1-xe.startPosition,xe.endPosition=1-xe.endPosition,r=!0);return r||e.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),e}static reverseAllAxes(e){e.title&&(e.title+=" (reversed all Axes)"),e.update(!1);for(const r of e.axes)(r.position===AxisPosition.Left||r.position===AxisPosition.Bottom||r.position===AxisPosition.Right||r.position===AxisPosition.Top)&&(r.startPosition=1-r.startPosition,r.endPosition=1-r.endPosition);return e}static transpose(e){e.title&&(e.title+=" (transposed)"),e.update(!1);for(const r of e.axes)switch(r.position){case AxisPosition.Bottom:r.position=AxisPosition.Left;break;case AxisPosition.Left:r.position=AxisPosition.Bottom;break;case AxisPosition.Right:r.position=AxisPosition.Top;break;case AxisPosition.Top:r.position=AxisPosition.Right;break;case AxisPosition.None:break;default:throw new Error("Invalid axis position")}for(const r of e.annotations)r.xAxis&&!r.xAxisKey&&(r.xAxis.key||(r.xAxis.key=this.XAXIS_KEY),r.xAxisKey=r.xAxis.key),r.yAxis&&!r.yAxisKey&&(r.yAxis.key||(r.yAxis.key=this.YAXIS_KEY),r.yAxisKey=r.yAxis.key);for(const r of e.series)r instanceof XYAxisSeries&&(r.xAxisKey||(r.xAxis?(r.xAxis.key||(r.xAxis.key=this.XAXIS_KEY),r.xAxisKey=r.xAxis.key):r.xAxisKey=this.XAXIS_KEY),r.yAxisKey||(r.yAxis?(r.yAxis.key||(r.yAxis.key=this.YAXIS_KEY),r.yAxisKey=r.yAxis.key):r.yAxisKey=this.YAXIS_KEY));return e}}__publicField(PlotModelUtilities,"XAXIS_KEY","x");__publicField(PlotModelUtilities,"YAXIS_KEY","y");__publicField(PlotModelUtilities,"NonReversibleSeriesTypes",new Set);__publicField(PlotModelUtilities,"NonReversibleDataSpaceAnnotationTypes",new Set([]));__publicField(PlotModelUtilities,"NonTransposableSeriesTypes",new Set(["CandleStickAndVolumeSeries","OldCandleStickSeries"]));__publicField(PlotModelUtilities,"NonTransposableDataSpaceAnnotationTypes",new Set);class ArrayBuilder{static createVector(e,r,xe){if(xe.toFixed(0)!==xe.toString())throw new Error("use createVectorWithStep instead");const Se=[];for(let _e=0;_e<xe;_e++)Se[_e]=Number((e+(r-e)*_e/(xe-1)).toFixed(8));return Se}static createVectorWithStep(e,r,xe){const Se=Math.round((r-e)/xe),_e=[];for(let Ae=0;Ae<=Se;Ae++)_e[Ae]=Number((e+Ae*xe).toFixed(8));return _e}static evaluate(e,r,xe){const Se=r.length,_e=xe.length,Ae=[];for(let Ce=0;Ce<Se;Ce++){Ae[Ce]=[];for(let Pe=0;Pe<_e;Pe++)Ae[Ce][Pe]=e(r[Ce],xe[Pe])}return Ae}static fill(e,r){for(let xe=0;xe<e.length;xe++)e[xe]=r}static fill2D(e,r){for(let xe=0;xe<e.length;xe++)for(let Se=0;Se<e[xe].length;Se++)e[xe][Se]=r}}class TrackerHelper{static getNearestHit(e,r,xe,Se,_e,Ae){if(e){if(xe||Se){const Ce=e.getNearestPoint(r,!1);if(this.shouldTrackerOpen(Ce,r,_e))return Ce}if(!Se){const Ce=e.getNearestPoint(r,!0);if(!Ae||this.shouldTrackerOpen(Ce,r,_e))return Ce}}}static shouldTrackerOpen(e,r,xe){return e!=null&&e.position?screenPointDistanceTo(e.position,r)<xe:!1}}class Conrec{static contour(e,r,xe,Se,_e){let Ae=0,Ce=0,Pe=0,Ee=0;const Oe=new Array(5),Me=new Array(5),De=new Array(5),Te=new Array(5),ke=0,Fe=e.length-1,$e=0,Be=e[0].length-1,Ie=Se.length,Re=[0,1,1,0],je=[0,0,1,1],Ve=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],He=(Ue,We)=>(Oe[We]*De[Ue]-Oe[Ue]*De[We])/(Oe[We]-Oe[Ue]),ze=(Ue,We)=>(Oe[We]*Te[Ue]-Oe[Ue]*Te[We])/(Oe[We]-Oe[Ue]);for(let Ue=Be-1;Ue>=$e;Ue--)for(let We=ke;We<=Fe-1;We++){const qe=Math.min(e[We][Ue],e[We][Ue+1]),Ge=Math.min(e[We+1][Ue],e[We+1][Ue+1]),Ye=Math.min(qe,Ge),Qe=Math.max(e[We][Ue],e[We][Ue+1]),Je=Math.max(e[We+1][Ue],e[We+1][Ue+1]),ri=Math.max(Qe,Je);if(ri>=Se[0]&&Ye<=Se[Ie-1]){for(let hi=0;hi<Ie;hi++)if(Se[hi]>=Ye&&Se[hi]<=ri){for(let pi=4;pi>=0;pi--)pi>0?(Oe[pi]=e[We+Re[pi-1]][Ue+je[pi-1]]-Se[hi],De[pi]=r[We+Re[pi-1]],Te[pi]=xe[Ue+je[pi-1]]):(Oe[0]=.25*(Oe[1]+Oe[2]+Oe[3]+Oe[4]),De[0]=.5*(r[We]+r[We+1]),Te[0]=.5*(xe[Ue]+xe[Ue+1])),Oe[pi]>0?Me[pi]=1:Oe[pi]<0?Me[pi]=-1:Me[pi]=0;for(let pi=1;pi<=4;pi++){const ni=pi,di=0,fi=pi!==4?pi+1:1,Pi=Ve[Me[ni]+1][Me[di]+1][Me[fi]+1];if(Pi!==0){switch(Pi){case 1:Ae=De[ni],Pe=Te[ni],Ce=De[di],Ee=Te[di];break;case 2:Ae=De[di],Pe=Te[di],Ce=De[fi],Ee=Te[fi];break;case 3:Ae=De[fi],Pe=Te[fi],Ce=De[ni],Ee=Te[ni];break;case 4:Ae=De[ni],Pe=Te[ni],Ce=He(di,fi),Ee=ze(di,fi);break;case 5:Ae=De[di],Pe=Te[di],Ce=He(fi,ni),Ee=ze(fi,ni);break;case 6:Ae=De[fi],Pe=Te[fi],Ce=He(ni,di),Ee=ze(ni,di);break;case 7:Ae=He(ni,di),Pe=ze(ni,di),Ce=He(di,fi),Ee=ze(di,fi);break;case 8:Ae=He(di,fi),Pe=ze(di,fi),Ce=He(fi,ni),Ee=ze(fi,ni);break;case 9:Ae=He(fi,ni),Pe=ze(fi,ni),Ce=He(ni,di),Ee=ze(ni,di);break}_e(Ae,Pe,Ce,Ee,Se[hi])}}}}}}}var BinningOutlierMode=(t=>(t[t.RejectOutliers=0]="RejectOutliers",t[t.IgnoreOutliers=1]="IgnoreOutliers",t[t.CountOutliers=2]="CountOutliers",t))(BinningOutlierMode||{}),BinningIntervalType=(t=>(t[t.InclusiveLowerBound=0]="InclusiveLowerBound",t[t.InclusiveUpperBound=1]="InclusiveUpperBound",t))(BinningIntervalType||{}),BinningExtremeValueMode=(t=>(t[t.ExcludeExtremeValues=0]="ExcludeExtremeValues",t[t.IncludeExtremeValues=1]="IncludeExtremeValues",t))(BinningExtremeValueMode||{});class BinningOptions{constructor(e,r,xe){if(this.outlierMode=e,this.intervalType=r,this.extremeValuesMode=xe,e!==0&&e!==2&&e!==1)throw new Error("Unsupported binning outlier mode");if(r!==0&&r!==1)throw new Error("Unsupported bin interval type");if(xe!==0&&xe!==1)throw new Error("Unsupported bin interval type")}}class HistogramHelpers{static createUniformBins(e,r,xe){if(xe<1)throw new Error("The bin count must be positive.");if(isNaN(e)||!isFinite(e))throw new Error("The start may not be NaN or infinite.");if(isNaN(r)||!isFinite(r))throw new Error("The start may not be NaN or infinite.");if(r<=e)throw new Error("The end must be strictly greater than the start.");const Se=[];Se.push(e);for(let _e=1;_e<xe;_e++)Se.push(e+(r-e)*_e/xe);return Se.push(r),Se}static collect(e,r,xe){if(!e)throw new Error("Samples cannot be undefined.");if(!r)throw new Error("Bin breaks cannot be undefined.");if(!xe)throw new Error("Binning options cannot be undefined.");const Se=Array.from(new Set(r)).sort((Ee,Oe)=>Ee-Oe);if(Se.length<2)throw new Error("At least 2 distinct bin breaks must be provided.");if(Se.some(Ee=>isNaN(Ee)||!isFinite(Ee)))throw new Error("Bin breaks may not be NaN or infinite.");const _e=new Array(Se.length-1).fill(0);let Ae=0;function Ce(Ee,Oe){return Ee-Oe}for(const Ee of e){if(isNaN(Ee)||!isFinite(Ee))throw new Error("Samples may not be NaN or infinite.");let Oe=HistogramHelpers.binarySearch(Se,Ee,Ce),Me=!1;if(Oe>=0?xe.intervalType===BinningIntervalType.InclusiveUpperBound?Oe>0?(_e[Oe-1]+=1,Me=!0):xe.extremeValuesMode===BinningExtremeValueMode.IncludeExtremeValues&&(_e[Oe]+=1,Me=!0):Oe<_e.length?(_e[Oe]+=1,Me=!0):xe.extremeValuesMode===BinningExtremeValueMode.IncludeExtremeValues&&(_e[Oe-1]+=1,Me=!0):(Oe=~Oe-1,Oe>=0&&Oe<_e.length&&(_e[Oe]+=1,Me=!0)),Me)Ae++;else switch(xe.outlierMode){case BinningOutlierMode.RejectOutliers:throw new Error(`Sample with value ${Ee} could not be assigned to any bin.`);case BinningOutlierMode.IgnoreOutliers:break;case BinningOutlierMode.CountOutliers:Ae++;break}}Ae===0&&(Ae=1);const Pe=[];for(let Ee=0;Ee<Se.length-1;Ee++){const Oe=_e[Ee];Pe.push(newHistogramItem(Se[Ee],Se[Ee+1],Oe/Ae,Oe))}return Pe}static binarySearch(e,r,xe){let Se=0,_e=e.length-1;for(;Se<=_e;){const Ae=_e+Se>>1,Ce=xe(r,e[Ae]);if(Ce>0)Se=Ae+1;else if(Ce<0)_e=Ae-1;else return Ae}return-Se-1}}function toolTips$1(){const t=new PlotModel({title:"Tool tips"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"LineAnnotation",toolTip:"This is a tool tip for the LineAnnotation"})),t.annotations.push(new RectangleAnnotation({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",toolTip:"This is a tooltip for the RectangleAnnotation",fill:OxyColorHelper.fromAColor(99,OxyColors.Blue),stroke:OxyColors.Black,strokeThickness:2})),t.annotations.push(new EllipseAnnotation({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",toolTip:"This is a tool tip for the EllipseAnnotation",textRotation:10,fill:OxyColorHelper.fromAColor(99,OxyColors.Green),stroke:OxyColors.Black,strokeThickness:2})),t.annotations.push(new PointAnnotation({x:50,y:50,text:"P1",toolTip:"This is a tool tip for the PointAnnotation"})),t.annotations.push(new ArrowAnnotation({startPoint:newDataPoint(8,4),endPoint:newDataPoint(0,0),color:OxyColors.Green,text:"ArrowAnnotation",toolTip:"This is a tool tip for the ArrowAnnotation"})),t.annotations.push(new TextAnnotation({textPosition:newDataPoint(60,60),text:"TextAnnotation",toolTip:"This is a tool tip for the TextAnnotation"})),t}const category$12="Annotations",AnnotationExamples={category:category$12,tags:["Annotations"],examples:[{title:"Tool tips",example:{model:toolTips$1}}]};function arrowAnnotation$1(){const t=new PlotModel;return t.title="ArrowAnnotations",t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-40,maximum:60})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),t.annotations.push(new ArrowAnnotation({startPoint:newDataPoint(8,4),endPoint:newDataPoint(0,0),color:OxyColors.Green,text:"StartPoint and EndPoint"})),t.annotations.push(new ArrowAnnotation({arrowDirection:newScreenVector(30,70),endPoint:newDataPoint(40,-3),color:OxyColors.Blue,text:"ArrowDirection and EndPoint"})),t.annotations.push(new ArrowAnnotation({arrowDirection:newScreenVector(30,-70),endPoint:newDataPoint(10,-3),headLength:14,headWidth:6,veeness:4,color:OxyColors.Red,text:"HeadLength = 20, HeadWidth = 10, Veeness = 4"})),t}const category$11="ArrowAnnotation",ArrowAnnotationExamples={category:category$11,tags:["Annotations"],examples:[{title:"ArrowAnnotation",example:{model:arrowAnnotation$1}}]};function ellipseAnnotation(){const t=new PlotModel({title:"EllipseAnnotation"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t.annotations.push(new EllipseAnnotation({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",textRotation:10,fill:OxyColorHelper.fromAColor(99,OxyColors.Green),stroke:OxyColors.Black,strokeThickness:2})),t.annotations.push(new EllipseAnnotation({x:20,y:20,width:20,height:20,fill:OxyColorHelper.fromAColor(99,OxyColors.Green),stroke:OxyColors.Black,strokeThickness:2})),t.annotations.push(new EllipseAnnotation({x:30,y:20,width:20,height:20,fill:OxyColorHelper.fromAColor(99,OxyColors.Red),stroke:OxyColors.Black,strokeThickness:2})),t.annotations.push(new EllipseAnnotation({x:25,y:30,width:20,height:20,fill:OxyColorHelper.fromAColor(99,OxyColors.Blue),stroke:OxyColors.Black,strokeThickness:2})),t}const category$10="EllipseAnnotation",EllipseAnnotationExamples={category:category$10,tags:["Annotations"],examples:[{title:"EllipseAnnotation",example:{model:ellipseAnnotation}}]};function annotation(){const t=new PlotModel;return t.title="FunctionAnnotation",t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),t.annotations.push(new FunctionAnnotation({equation:Math.sin,strokeThickness:2,color:OxyColorHelper.fromAColor(120,OxyColors.Blue),text:"f(x)=sin(x)"})),t.annotations.push(new FunctionAnnotation({equation:e=>e*e,strokeThickness:2,color:OxyColorHelper.fromAColor(120,OxyColors.Red),type:FunctionAnnotationType.EquationY,text:"f(y)=y^2"})),t}const category$$="FunctionAnnotation",FunctionAnnotationExamples={category:category$$,tags:["Annotations"],examples:[{title:"FunctionAnnotation",example:{model:annotation}}]};async function imageAnnotation$1(){const t=window.oxyPlotImg;if(!t)throw new Error("window.oxyPlotImg not set");const e=new PlotModel({title:"ImageAnnotation",plotMargins:newOxyThickness(60,4,4,60)});e.axes.push(new LinearAxis({position:AxisPosition.Bottom})),e.axes.push(new LinearAxis({position:AxisPosition.Left}));const xe=await getImageService().load(t);e.annotations.push(new ImageAnnotation({imageSource:xe,opacity:.2,interpolate:!1,x:newPlotLength(.5,PlotLengthUnit.RelativeToPlotArea),y:newPlotLength(.5,PlotLengthUnit.RelativeToPlotArea),width:newPlotLength(1,PlotLengthUnit.RelativeToPlotArea),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Middle})),e.annotations.push(new ImageAnnotation({imageSource:xe,x:newPlotLength(1,PlotLengthUnit.RelativeToPlotArea),y:newPlotLength(0,PlotLengthUnit.RelativeToPlotArea),width:newPlotLength(120,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Right,verticalAlignment:VerticalAlignment.Top})),e.annotations.push(new ImageAnnotation({imageSource:xe,x:newPlotLength(0,PlotLengthUnit.RelativeToPlotArea),y:newPlotLength(0,PlotLengthUnit.RelativeToPlotArea),offsetY:newPlotLength(-5,PlotLengthUnit.ScreenUnits),height:newPlotLength(20,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),e.annotations.push(new ImageAnnotation({imageSource:xe,x:newPlotLength(50,PlotLengthUnit.Data),y:newPlotLength(50,PlotLengthUnit.Data),width:newPlotLength(200,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Top})),e.annotations.push(new ImageAnnotation({imageSource:xe,x:newPlotLength(50,PlotLengthUnit.Data),y:newPlotLength(20,PlotLengthUnit.Data),width:newPlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Top})),e.annotations.push(new ImageAnnotation({imageSource:xe,x:newPlotLength(.5,PlotLengthUnit.RelativeToViewport),y:newPlotLength(1,PlotLengthUnit.RelativeToViewport),offsetY:newPlotLength(-35,PlotLengthUnit.ScreenUnits),height:newPlotLength(30,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Top}));for(let Se=0;Se<10;Se++)e.annotations.push(new ImageAnnotation({imageSource:xe,opacity:(Se+1)/10,x:newPlotLength(10,PlotLengthUnit.Data),y:newPlotLength(Se*2,PlotLengthUnit.Data),width:newPlotLength(100,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Bottom}));return e}async function imageAnnotationAsBackgroundGradient(){const t=new PlotModel({title:"Using ImageAnnotations to draw a gradient backgrounds",subtitle:"But do you really want this? This is called 'chartjunk'!",plotMargins:newOxyThickness(60,4,4,60)});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=256,r=new TwoDimensionalArray(1,e);for(let Ae=0;Ae<e;Ae++)r.set(0,Ae,OxyColorHelper.interpolate(OxyColors.Blue,OxyColors.Red,Ae/(e-1)).hex);const xe=await OxyImageEx.create(r,ImageFormat.Png),Se=TwoDimensionalArray.fromArray([[OxyColors.Yellow],[OxyColors.Gray]]),_e=await OxyImageEx.create(Se,ImageFormat.Png);return t.annotations.push(new ImageAnnotation({imageSource:_e,interpolate:!0,layer:AnnotationLayer.BelowAxes,x:newPlotLength(0,PlotLengthUnit.RelativeToViewport),y:newPlotLength(0,PlotLengthUnit.RelativeToViewport),width:newPlotLength(1,PlotLengthUnit.RelativeToViewport),height:newPlotLength(1,PlotLengthUnit.RelativeToViewport),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Top})),t.annotations.push(new ImageAnnotation({imageSource:xe,interpolate:!0,layer:AnnotationLayer.BelowAxes,x:newPlotLength(0,PlotLengthUnit.RelativeToPlotArea),y:newPlotLength(0,PlotLengthUnit.RelativeToPlotArea),width:newPlotLength(1,PlotLengthUnit.RelativeToPlotArea),height:newPlotLength(1,PlotLengthUnit.RelativeToPlotArea),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Top})),t.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:7,dx:.01})),t}const fourColorPixels=TwoDimensionalArray.fromArray([[OxyColors.Blue,OxyColors.Yellow],[OxyColors.Green,OxyColors.Red]]);async function imageAnnotation_NormalAxes(){const t=new PlotModel({title:"ImageAnnotation - normal axes"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=fourColorPixels,r=await OxyImageEx.create(e,ImageFormat.Png);return t.annotations.push(new ImageAnnotation({imageSource:r,interpolate:!1,x:newPlotLength(0,PlotLengthUnit.Data),y:newPlotLength(0,PlotLengthUnit.Data),width:newPlotLength(80,PlotLengthUnit.Data),height:newPlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),t}async function imageAnnotation_ReverseHorizontalAxis(){const t=new PlotModel({title:"ImageAnnotation - reverse horizontal axis"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=fourColorPixels,r=await OxyImageEx.create(e,ImageFormat.Png);return t.annotations.push(new ImageAnnotation({imageSource:r,interpolate:!1,x:newPlotLength(100,PlotLengthUnit.Data),y:newPlotLength(0,PlotLengthUnit.Data),width:newPlotLength(80,PlotLengthUnit.Data),height:newPlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),t}async function imageAnnotation_ReverseVerticalAxis(){const t=new PlotModel({title:"ImageAnnotation - reverse vertical axis"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0}));const e=fourColorPixels,r=await OxyImageEx.create(e,ImageFormat.Png);return t.annotations.push(new ImageAnnotation({imageSource:r,interpolate:!1,x:newPlotLength(0,PlotLengthUnit.Data),y:newPlotLength(100,PlotLengthUnit.Data),width:newPlotLength(80,PlotLengthUnit.Data),height:newPlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),t}const category$_="ImageAnnotation",ImageAnnotationExamples={category:category$_,tags:["Annotations"],examples:[{title:"ImageAnnotation",example:{model:imageAnnotation$1}},{title:"ImageAnnotation - gradient backgrounds",example:{model:imageAnnotationAsBackgroundGradient}},{title:"ImageAnnotation - normal axes",example:{model:imageAnnotation_NormalAxes}},{title:"ImageAnnotation - reverse horizontal axis",example:{model:imageAnnotation_ReverseHorizontalAxis}},{title:"ImageAnnotation - reverse vertical axis",example:{model:imageAnnotation_ReverseVerticalAxis}}]};function lineAnnotationOnLinearAxes(){const t=new PlotModel;t.title="LineAnnotation on linear axes",t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const e=OxyColorHelper.changeOpacity(OxyColors.White,.75).hex;return t.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",borderBackground:e,borderPadding:newOxyThickness(5)})),t.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Second",borderBackground:e,borderPadding:newOxyThickness(5)})),t.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Vertical",borderBackground:e,borderPadding:newOxyThickness(5)})),t.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal",borderBackground:e,borderPadding:newOxyThickness(5)})),t}function lineAnnotationOnLogarithmicAxes(){const t=new PlotModel;return t.title="LineAnnotation on logarithmic axes",t.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimum:1,maximum:80})),t.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimum:1,maximum:10})),t.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",textMargin:40})),t.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Second"})),t.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Vertical"})),t.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal"})),t}function lineAnnotationOnLinearAxesWithTextOrientation(){const t=new PlotModel;return t.title="LineAnnotations",t.subtitle="with TextOrientation specified",t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),t.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"Horizontal",textOrientation:AnnotationTextOrientation.Horizontal,textVerticalAlignment:VerticalAlignment.Bottom})),t.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Vertical",textOrientation:AnnotationTextOrientation.Vertical})),t.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Horizontal (x=4)",textPadding:8,textOrientation:AnnotationTextOrientation.Horizontal})),t.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:45,maximumY:10,color:OxyColors.Green,text:"Horizontal (x=45)",textHorizontalAlignment:HorizontalAlignment.Left,textPadding:8,textOrientation:AnnotationTextOrientation.Horizontal})),t.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal",textLinePosition:.5,textOrientation:AnnotationTextOrientation.Horizontal})),t}function linearAxesMultipleAxes(){const t=new PlotModel;return t.title="ClipByAxis property",t.subtitle="This property specifies if the annotation should be clipped by the current axes or by the full plot area.",t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80,startPosition:0,endPosition:.45,textColor:OxyColors.Red})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,startPosition:0,endPosition:.45,textColor:OxyColors.Green})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80,startPosition:.55,endPosition:1,textColor:OxyColors.Blue})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,startPosition:.55,endPosition:1,textColor:OxyColors.Orange})),t.annotations.push(new LineAnnotation({clipByYAxis:!0,type:LineAnnotationType.Vertical,x:0,color:OxyColors.Green,text:"Vertical, ClipByAxis = true"})),t.annotations.push(new LineAnnotation({clipByYAxis:!1,type:LineAnnotationType.Vertical,x:20,color:OxyColors.Green,text:"Vertical, ClipByAxis = false"})),t.annotations.push(new LineAnnotation({clipByXAxis:!0,type:LineAnnotationType.Horizontal,y:2,color:OxyColors.Gold,text:"Horizontal, ClipByAxis = true"})),t.annotations.push(new LineAnnotation({clipByXAxis:!1,type:LineAnnotationType.Horizontal,y:8,color:OxyColors.Gold,text:"Horizontal, ClipByAxis = false"})),t}function reversedAxes(){const t=new PlotModel;return t.title="LineAnnotation on reversed axes",t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80,startPosition:1,endPosition:0})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,startPosition:1,endPosition:0})),t.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",textHorizontalAlignment:HorizontalAlignment.Left})),t.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Second",textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Bottom})),t.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Vertical",textHorizontalAlignment:HorizontalAlignment.Right})),t.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal",textHorizontalAlignment:HorizontalAlignment.Left})),t}const category$Z="LineAnnotation",LineAnnotationExamples={category:category$Z,tags:["Annotations"],examples:[{title:"LineAnnotation on linear axes",example:{model:lineAnnotationOnLinearAxes}},{title:"LineAnnotation on logarithmic axes",example:{model:lineAnnotationOnLogarithmicAxes}},{title:"LineAnnotation with text orientation specified",example:{model:lineAnnotationOnLinearAxesWithTextOrientation}},{title:"LineAnnotation - ClipByAxis property",example:{model:linearAxesMultipleAxes}},{title:"LineAnnotation on reversed axes",example:{model:reversedAxes}}]};function pointAnnotation(){const t=new PlotModel({title:"PointAnnotation"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t.annotations.push(new PointAnnotation({x:50,y:50,text:"P1"})),t}function pointAnnotationShapes(){const t=new PlotModel({title:"PointAnnotation - shapes"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,maximum:120})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t.annotations.push(new PointAnnotation({x:20,y:60,text:"Circle",shape:MarkerType.Circle,fill:OxyColors.LightGray,stroke:OxyColors.DarkGray,strokeThickness:1})),t.annotations.push(new PointAnnotation({x:40,y:60,text:"Square",shape:MarkerType.Square,fill:OxyColors.LightBlue,stroke:OxyColors.DarkBlue,strokeThickness:1})),t.annotations.push(new PointAnnotation({x:60,y:60,text:"Triangle",shape:MarkerType.Triangle,fill:OxyColors.IndianRed,stroke:OxyColors.Black,strokeThickness:1})),t.annotations.push(new PointAnnotation({x:80,y:60,text:"Diamond",shape:MarkerType.Diamond,fill:OxyColors.ForestGreen,stroke:OxyColors.Black,strokeThickness:1})),t.annotations.push(new PointAnnotation({x:100,y:60,text:"Custom",shape:MarkerType.Custom,customOutline:[newScreenPoint(-1,-1),newScreenPoint(1,1),newScreenPoint(-1,1),newScreenPoint(1,-1)],stroke:OxyColors.Black,fill:OxyColors.CadetBlue,strokeThickness:1})),t.annotations.push(new PointAnnotation({x:20,y:40,text:"Cross",shape:MarkerType.Cross,stroke:OxyColors.IndianRed,strokeThickness:1})),t.annotations.push(new PointAnnotation({x:40,y:40,text:"Plus",shape:MarkerType.Plus,stroke:OxyColors.Navy,strokeThickness:1})),t.annotations.push(new PointAnnotation({x:60,y:40,text:"Star",shape:MarkerType.Star,stroke:OxyColors.DarkOliveGreen,strokeThickness:1})),t}function pointAnnotationTextAlignment(){const t=new PlotModel({title:"PointAnnotation - text alignments"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-50,maximum:50})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-50,maximum:50}));for(let e=-1;e<=1;e++){const r=e,xe=getEnumName(HorizontalAlignment,r);for(let Se=-1;Se<=1;Se++){const _e=Se,Ae=getEnumName(VerticalAlignment,_e);t.annotations.push(new PointAnnotation({x:e*20,y:Se*20,size:10,text:`${xe},${Ae}`,textHorizontalAlignment:r,textVerticalAlignment:_e}))}}return t}const category$Y="PointAnnotation",PointAnnotationExamples={category:category$Y,tags:["Annotations"],examples:[{title:"PointAnnotation",example:{model:pointAnnotation}},{title:"PointAnnotation - shapes",example:{model:pointAnnotationShapes}},{title:"PointAnnotation - text alignments",example:{model:pointAnnotationTextAlignment}}]};function polygonAnnotation$1(){const t=new PlotModel({title:"PolygonAnnotation"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const e=new PolygonAnnotation({text:"Polygon 1"});return e.points.push(newDataPoint(4,-2),newDataPoint(8,-4),newDataPoint(17,7),newDataPoint(5,8),newDataPoint(2,5)),t.annotations.push(e),t}function polygonAnnotationTextPosition(){const t=new PlotModel({title:"PolygonAnnotation with fixed text position and alignment"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const e=new PolygonAnnotation({text:"Polygon 1",textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Bottom,textPosition:newDataPoint(4.1,-1.9)});return e.points.push(newDataPoint(4,-2),newDataPoint(8,-2),newDataPoint(17,7),newDataPoint(5,8),newDataPoint(4,5)),t.annotations.push(e),t}function annotationLayerProperty(){const t=new PlotModel({title:"Annotation Layers"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:30,majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:1})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:1}));const e=new PolygonAnnotation({layer:AnnotationLayer.BelowAxes,text:"Layer = BelowAxes",points:[newDataPoint(-11,-2),newDataPoint(-7,-4),newDataPoint(-3,7),newDataPoint(-10,8),newDataPoint(-13,5)]});t.annotations.push(e);const r=new PolygonAnnotation({layer:AnnotationLayer.BelowSeries,text:"Layer = BelowSeries",points:[newDataPoint(4,-2),newDataPoint(8,-4),newDataPoint(12,7),newDataPoint(5,8),newDataPoint(2,5)]});t.annotations.push(r);const xe=new PolygonAnnotation({layer:AnnotationLayer.AboveSeries,text:"Layer = AboveSeries",points:[newDataPoint(19,-2),newDataPoint(23,-4),newDataPoint(27,7),newDataPoint(20,8),newDataPoint(17,5)]});return t.annotations.push(xe),t.series.push(new FunctionSeries({f:Math.sin,x0:-20,x1:30,n:400})),t}function kockSnowflakes(){function t(Ae){return[newDataPoint(Ae.x,Ae.y+1),newDataPoint(Ae.x+Math.sin(Math.PI*2/3),Ae.y+Math.cos(Math.PI*2/3)),newDataPoint(Ae.x+Math.sin(Math.PI*4/3),Ae.y+Math.cos(Math.PI*4/3))]}const e=new PlotModel({title:"PolygonAnnotation",plotType:PlotType.Cartesian});e.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-4,maximum:4})),e.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-2,maximum:2}));const r=new PolygonAnnotation({text:"MSL = 4",minimumSegmentLength:4});let xe=kochFractal(t(newDataPoint(-2,0)),8,!0,!0);pushMany(r.points,xe),e.annotations.push(r);const Se=new PolygonAnnotation({text:"MSL = 2",minimumSegmentLength:2});xe=kochFractal(t(newDataPoint(0,0)),8,!0,!0),pushMany(Se.points,xe),e.annotations.push(Se);const _e=new PolygonAnnotation({text:"MSL = 1",minimumSegmentLength:1});return xe=kochFractal(t(newDataPoint(2,0)),8,!0,!0),pushMany(_e.points,xe),e.annotations.push(_e),e}function kochFractal(t,e,r,xe){const Se=Math.cos(Math.PI/3),_e=Math.sin(Math.PI/3);let Ae=t;for(let Ce=0;Ce<e;Ce++){const Pe=new Array(xe?Ae.length*4:Ae.length*4-3);for(let Ee=0;Ee<(xe?Ae.length:Ae.length-1);Ee++){const Oe=Ae[Ee],Me=Ae[(Ee+1)%Ae.length],De=(Me.x-Oe.x)/3,Te=(Me.y-Oe.y)/3;let ke,Fe;ke=Se*De-_e*Te,Fe=Se*Te+_e*De,Pe[Ee*4]=Oe,Pe[Ee*4+1]=newDataPoint(Oe.x+De,Oe.y+Te),Pe[Ee*4+2]=newDataPoint(Oe.x+De+ke,Oe.y+Te+Fe),Pe[Ee*4+3]=newDataPoint(Oe.x+De*2,Oe.y+Te*2)}xe||(Pe[Pe.length-1]=Ae[Ae.length-1]),Ae=Pe}return Ae}const PolygonAnnotationExamples={kochFractal},category$X="PolygonAnnotation",PolygonAnnotationExamples$1={category:category$X,tags:["Annotations"],examples:[{title:"PolygonAnnotation",example:{model:polygonAnnotation$1}},{title:"PolygonAnnotation with custom text position and alignment",example:{model:polygonAnnotationTextPosition}},{title:"AnnotationLayer property",example:{model:annotationLayerProperty}},{title:"Koch Snowflakes",example:{model:kockSnowflakes}}]};function polylineAnnotations(){const t=new PlotModel({title:"PolylineAnnotation"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:30})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:30}));const e=new PolylineAnnotation({text:"Polyline"});e.points.push(newDataPoint(0,10),newDataPoint(5,5),newDataPoint(20,1),newDataPoint(30,20));const r=new PolylineAnnotation({text:"Smooth Polyline",interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline});return r.points.push(newDataPoint(0,15),newDataPoint(3,23),newDataPoint(9,30),newDataPoint(20,12),newDataPoint(30,10)),t.annotations.push(e,r),t}function kochSurface(){function t(_e){return[newDataPoint(_e.x-1,_e.y),newDataPoint(_e.x+1,_e.y)]}const e=new PlotModel({title:"PolygonAnnotation",plotType:PlotType.Cartesian});e.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-2,maximum:2})),e.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-2,maximum:2}));const r=new PolylineAnnotation({text:"MSL = 4",minimumSegmentLength:4,lineStyle:LineStyle.Solid,textPosition:newDataPoint(0,1)});r.points.push(...PolygonAnnotationExamples.kochFractal(t(newDataPoint(0,1)),8,!0,!1)),e.annotations.push(r);const xe=new PolylineAnnotation({text:"MSL = 2",minimumSegmentLength:2,lineStyle:LineStyle.Solid,textPosition:newDataPoint(0,0)});xe.points.push(...PolygonAnnotationExamples.kochFractal(t(newDataPoint(0,0)),8,!0,!1)),e.annotations.push(xe);const Se=new PolylineAnnotation({text:"MSL = 1",minimumSegmentLength:1,lineStyle:LineStyle.Solid,textPosition:newDataPoint(0,-1)});return Se.points.push(...PolygonAnnotationExamples.kochFractal(t(newDataPoint(0,-1)),8,!0,!1)),e.annotations.push(Se),e}const category$W="PolylineAnnotation",PolylineAnnotationExamples={category:category$W,tags:["Annotations"],examples:[{title:"PolylineAnnotation",example:{model:polylineAnnotations}},{title:"Koch Surfaces",example:{model:kochSurface}}]};function rectangleAnnotation(){const t=new PlotModel({title:"RectangleAnnotation"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t.annotations.push(new RectangleAnnotation({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",fill:OxyColorHelper.fromAColor(99,OxyColors.Blue),stroke:OxyColors.Black,strokeThickness:2})),t}function rectangleAnnotationVerticalLimit(){const t=new PlotModel({title:"RectangleAnnotations - vertical limit"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t.annotations.push(new RectangleAnnotation({maximumY:89.5,text:"Valid area",fill:OxyColorHelper.fromAColor(99,OxyColors.Black)})),t}function rectangleAnnotationHorizontals(){const t=new PlotModel({title:"RectangleAnnotation - horizontal bands"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:10})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),t.annotations.push(new RectangleAnnotation({minimumY:89.5,maximumY:90.8,text:"Invalid",fill:OxyColorHelper.fromAColor(99,OxyColors.Red)})),t.annotations.push(new RectangleAnnotation({minimumY:90.8,maximumY:92.1,fill:OxyColorHelper.fromAColor(99,OxyColors.Orange)})),t.annotations.push(new RectangleAnnotation({minimumY:92.1,maximumY:94.6,fill:OxyColorHelper.fromAColor(99,OxyColors.Yellow)})),t.annotations.push(new RectangleAnnotation({minimumY:94.6,maximumY:96,text:"Ok",fill:OxyColorHelper.fromAColor(99,OxyColors.Green)}));const e=new LineSeries({color:OxyColors.Black,strokeThickness:6,lineJoin:LineJoin.Round});return e.points.push(newDataPoint(.5,90.7)),e.points.push(newDataPoint(1.5,91.2)),e.points.push(newDataPoint(2.5,91)),e.points.push(newDataPoint(3.5,89.5)),e.points.push(newDataPoint(4.5,92.5)),e.points.push(newDataPoint(5.5,93.1)),e.points.push(newDataPoint(6.5,94.5)),e.points.push(newDataPoint(7.5,95.5)),e.points.push(newDataPoint(8.5,95.7)),e.points.push(newDataPoint(9.5,96)),t.series.push(e),t}function rectangleAnnotationVerticals(){const t=new PlotModel({title:"RectangleAnnotation - vertical bands"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:10})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),t.annotations.push(new RectangleAnnotation({minimumX:2.5,maximumX:2.8,textRotation:90,text:"Red",fill:OxyColorHelper.fromAColor(99,OxyColors.Red)})),t.annotations.push(new RectangleAnnotation({minimumX:2.8,maximumX:6.1,textRotation:90,text:"Orange",fill:OxyColorHelper.fromAColor(99,OxyColors.Orange)})),t.annotations.push(new RectangleAnnotation({minimumX:6.1,maximumX:7.6,textRotation:90,text:"Yellow",fill:OxyColorHelper.fromAColor(99,OxyColors.Yellow)})),t.annotations.push(new RectangleAnnotation({minimumX:7.6,maximumX:9.7,textRotation:270,text:"Green",fill:OxyColorHelper.fromAColor(99,OxyColors.Green)}));const e=new LineSeries({color:OxyColors.Black,strokeThickness:6,lineJoin:LineJoin.Round});return e.points.push(newDataPoint(.5,90.7)),e.points.push(newDataPoint(1.5,91.2)),e.points.push(newDataPoint(2.5,91)),e.points.push(newDataPoint(3.5,89.5)),e.points.push(newDataPoint(4.5,92.5)),e.points.push(newDataPoint(5.5,93.1)),e.points.push(newDataPoint(6.5,94.5)),e.points.push(newDataPoint(7.5,95.5)),e.points.push(newDataPoint(8.5,95.7)),e.points.push(newDataPoint(9.5,96)),t.series.push(e),t}const category$V="RectangleAnnotation",RectangleAnnotationExamples={category:category$V,tags:["Annotations"],examples:[{title:"RectangleAnnotation",example:{model:rectangleAnnotation}},{title:"RectangleAnnotations - vertical limit",example:{model:rectangleAnnotationVerticalLimit}},{title:"RectangleAnnotation - horizontal bands",example:{model:rectangleAnnotationHorizontals}},{title:"RectangleAnnotation - vertical bands",example:{model:rectangleAnnotationVerticals}}]};function textAnnotations(){const t=new PlotModel({title:"TextAnnotation"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-15,maximum:25})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-5,maximum:18})),t.annotations.push(new TextAnnotation({textPosition:newDataPoint(-6,0),text:"Text annotation 1"})),t.annotations.push(new TextAnnotation({textPosition:newDataPoint(-7,10),textRotation:80,text:"Text annotation 2"})),t.annotations.push(new TextAnnotation({textPosition:newDataPoint(2,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Right,textVerticalAlignment:VerticalAlignment.Top,text:"Right/Top"})),t.annotations.push(new TextAnnotation({textPosition:newDataPoint(2,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Right,textVerticalAlignment:VerticalAlignment.Middle,text:"Right/Middle"})),t.annotations.push(new TextAnnotation({textPosition:newDataPoint(2,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Right,textVerticalAlignment:VerticalAlignment.Bottom,text:"Right/Bottom"})),t.annotations.push(new TextAnnotation({textPosition:newDataPoint(10,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Center,textVerticalAlignment:VerticalAlignment.Top,text:"Center/Top"})),t.annotations.push(new TextAnnotation({textPosition:newDataPoint(10,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Center,textVerticalAlignment:VerticalAlignment.Middle,text:"Center/Middle"})),t.annotations.push(new TextAnnotation({textPosition:newDataPoint(10,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Center,textVerticalAlignment:VerticalAlignment.Bottom,text:"Center/Bottom"})),t.annotations.push(new TextAnnotation({textPosition:newDataPoint(18,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Top,text:"Left/Top"})),t.annotations.push(new TextAnnotation({textPosition:newDataPoint(18,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Middle,text:"Left/Middle"})),t.annotations.push(new TextAnnotation({textPosition:newDataPoint(18,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Bottom,text:"Left/Bottom"}));const e=.05,r=(xe,Se)=>{const _e=new PolygonAnnotation({layer:AnnotationLayer.BelowAxes,points:[newDataPoint(xe-e,Se-e),newDataPoint(xe+e,Se-e),newDataPoint(xe+e,Se+e),newDataPoint(xe-e,Se+e),newDataPoint(xe-e,Se-e)]});t.annotations.push(_e)};for(const xe of[...t.annotations]){const Se=xe;Se&&r(Se.textPosition.x,Se.textPosition.y)}return t}function rotations(){const t=new PlotModel({title:"TextAnnotation Rotations"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-5,maximum:45})),t.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0,minimum:-1,maximum:8}));for(let e=0;e<360;e+=5)t.annotations.push(new TextAnnotation({textRotation:e,textPosition:newDataPoint(e%45,e/45),text:`${e}`,textVerticalAlignment:VerticalAlignment.Middle,textHorizontalAlignment:HorizontalAlignment.Center}));return t}const category$U="TextAnnotation",TextAnnotationExamples={category:category$U,tags:["Annotations"],examples:[{title:"TextAnnotation",example:{model:textAnnotations}},{title:"Rotations",example:{model:rotations}}]},Annotations=[AnnotationExamples,ArrowAnnotationExamples,EllipseAnnotationExamples,FunctionAnnotationExamples,ImageAnnotationExamples,LineAnnotationExamples,PointAnnotationExamples,PolygonAnnotationExamples$1,PolylineAnnotationExamples,RectangleAnnotationExamples,TextAnnotationExamples];function createNormalDistributionModel(){const t=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-.05,maximum:1.05,majorStep:.2,minorStep:.05,tickStyle:TickStyle.Inside})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-5.25,maximum:5.25,majorStep:1,minorStep:.25,tickStyle:TickStyle.Inside})),t.series.push(createNormalDistributionSeries(-5,5,0,.2)),t.series.push(createNormalDistributionSeries(-5,5,0,1)),t.series.push(createNormalDistributionSeries(-5,5,0,5)),t.series.push(createNormalDistributionSeries(-5,5,-2,.5)),t}const createNormalDistributionSeries=(t,e,r,xe,Se=1001)=>{const _e=new LineSeries;_e.title=`=${r}, =${xe}`;for(let Ae=0;Ae<Se;Ae++){const Ce=t+(e-t)*Ae/(Se-1),Pe=1/Math.sqrt(2*Math.PI*xe)*Math.exp(-(Ce-r)*(Ce-r)/2/xe);_e.points.push(newDataPoint(Ce,Pe))}return _e};function lineLegendPositionAtEnd(){const t=new PlotModel({title:"Average (Mean) monthly temperatures in 2003",plotMargins:newOxyThickness(60,4,60,40),plotAreaBorderThickness:newOxyThickness(0),isLegendVisible:!1}),e=function(Ee){return`${Ee.title}: ${Number(Ee.yValue).toFixed(1)}F`},r=new LineSeries({title:"Phoenix",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:e}),xe=new LineSeries({title:"Raleigh",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:e}),Se=new LineSeries({title:"Minneapolis",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:e}),_e=[52.1,55.1,59.7,67.7,76.3,84.6,91.2,89.1,83.8,72.2,59.8,52.5],Ae=[40.5,42.2,49.2,59.5,67.4,74.4,77.5,76.5,70.6,60.2,50,41.2],Ce=[12.2,16.5,28.3,45.1,57.1,66.9,71.9,70.2,60,50,32.4,18.6];for(let Ee=0;Ee<12;Ee++)r.points.push(newDataPoint(Ee,_e[Ee])),xe.points.push(newDataPoint(Ee,Ae[Ee])),Se.points.push(newDataPoint(Ee,Ce[Ee]));t.series.push(r),t.series.push(xe),t.series.push(Se);const Pe=new CategoryAxis({axislineStyle:LineStyle.Solid});return Pe.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),t.axes.push(Pe),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Fahrenheit",axislineStyle:LineStyle.Solid})),t}const category$T="1 ShowCases",ShowCases$1={category:category$T,tags:["Showcase"],examples:[{title:"Normal distribution",example:{model:createNormalDistributionModel}},{title:"Average (Mean) monthly temperatures in 2003",example:{model:lineLegendPositionAtEnd}}]};class Random{constructor(e){}next(e,r){return isUndef(e)&&isUndef(r)?Math.random():(e=e||0,r=isNullOrUndef(r)?1:r,Math.floor(Math.random()*(r-e+1))+e)}}function tickStyleNone$1(){return createTickStyleExample(TickStyle.None)}function tickStyleInside$1(){return createTickStyleExample(TickStyle.Inside)}function tickStyleCrossing$1(){return createTickStyleExample(TickStyle.Crossing)}function tickStyleOutside$1(){return createTickStyleExample(TickStyle.Outside)}function tickLineColor(){const t=new PlotModel({title:"Color major and minor ticks differently"});return t.axes.push(new LinearAxis({position:AxisPosition.Left,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:OxyColors.Blue,minorTicklineColor:OxyColors.Gray})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:OxyColors.Blue,minorTicklineColor:OxyColors.Gray})),t}function gridlineStyleNone(){const t=new PlotModel({title:"No gridlines"});return t.axes.push(new LinearAxis({position:AxisPosition.Left})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t}function gridLinestyleVertical(){const t=new PlotModel({title:"Vertical gridlines"});return t.axes.push(new LinearAxis),t.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom})),t}function gridLinestyleHorizontal(){const t=new PlotModel({title:"Horizontal gridlines"});return t.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t}function gridLinestyleBoth(){const t=new PlotModel({title:"Horizontal and vertical gridlines"});return t.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot})),t.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom})),t}function axisPositionLeftAndBottom(){const t=new PlotModel;return t.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,title:"Left"})),t.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,title:"Bottom"})),t}function axisPositionTopRight(){const t=new PlotModel;return t.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Right,title:"Right"})),t.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Top,title:"Top"})),t}function axisAngle45(){const t=new PlotModel({plotMargins:newOxyThickness(60,40,60,30)});return t.axes.push(new LinearAxis({angle:45,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,title:"Left"})),t.axes.push(new LinearAxis({angle:45,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,title:"Bottom"})),t}function zeroCrossing(){const t=new PlotModel({title:"PositionAtZeroCrossing = true",plotAreaBorderThickness:newOxyThickness(0),plotMargins:newOxyThickness(10,10,10,10)});return t.axes.push(new LinearAxis({maximum:50,minimum:-30,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Crossing})),t.axes.push(new LinearAxis({maximum:70,minimum:-50,position:AxisPosition.Bottom,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Crossing})),t}function horizontalZeroCrossing(){const t=new PlotModel({title:"Bottom axis: PositionAtZeroCrossing = true"});return t.axes.push(new LinearAxis({maximum:50,minimum:-30,position:AxisPosition.Left,positionAtZeroCrossing:!1})),t.axes.push(new LinearAxis({maximum:70,minimum:-50,position:AxisPosition.Bottom,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid})),t}function verticalZeroCrossing(){const t=new PlotModel({title:"Left axis: PositionAtZeroCrossing = true"});return t.axes.push(new LinearAxis({maximum:50,minimum:-30,position:AxisPosition.Left,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid})),t.axes.push(new LinearAxis({maximum:70,minimum:-50,position:AxisPosition.Bottom,positionAtZeroCrossing:!1})),t}function reversed(){const t=new PlotModel({title:"EndPosition = 0, StartPosition = 1"});return t.axes.push(new LinearAxis({endPosition:0,startPosition:1,maximum:50,minimum:-30,position:AxisPosition.Left})),t.axes.push(new LinearAxis({endPosition:0,startPosition:1,maximum:70,minimum:-50,position:AxisPosition.Bottom})),t}function sharingY(){const t=new PlotModel;t.axes.push(new LinearAxis({endPosition:0,startPosition:1,maximum:1.5,minimum:-1.5,position:AxisPosition.Left}));const e=new LinearAxis({startPosition:0,endPosition:.45,maximum:7,minimum:0,position:AxisPosition.Bottom,key:"x1"});t.axes.push(e);const r=new LinearAxis({startPosition:.55,endPosition:1,maximum:10,minimum:0,position:AxisPosition.Bottom,key:"x2"});return t.axes.push(r),t.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:e.key})),t.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:r.key})),t}function fourAxes(){const t=new PlotModel;return t.axes.push(new LinearAxis({maximum:36,minimum:0,title:"km/h"})),t.axes.push(new LinearAxis({maximum:10,minimum:0,position:AxisPosition.Right,title:"m/s"})),t.axes.push(new LinearAxis({maximum:10,minimum:0,position:AxisPosition.Bottom,title:"meter"})),t.axes.push(new LinearAxis({maximum:1e4,minimum:0,position:AxisPosition.Top,title:"millimeter"})),t}function fiveAxes(){const t=new PlotModel;return t.axes.push(new LinearAxis({endPosition:.25,maximum:1,minimum:-1,title:"C1"})),t.axes.push(new LinearAxis({endPosition:.5,maximum:1,minimum:-1,position:AxisPosition.Right,startPosition:.25,title:"C2"})),t.axes.push(new LinearAxis({endPosition:.75,maximum:1,minimum:-1,startPosition:.5,title:"C3"})),t.axes.push(new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Right,startPosition:.75,title:"C4"})),t.axes.push(new LinearAxis({maximum:100,minimum:0,position:AxisPosition.Bottom,title:"s"})),t}function logarithmicAxes(){const t=new PlotModel;return t.axes.push(new LogarithmicAxis({maximum:1e6,minimum:1,title:"Log axis",useSuperExponentialFormat:!0})),t.axes.push(new LogarithmicAxis({maximum:1e4,minimum:.001,position:AxisPosition.Bottom,title:"Log axis",useSuperExponentialFormat:!0})),t}const cartesianPlotLogarithmicAxes=()=>new PlotModel({plotType:PlotType.Cartesian,axes:[new LogarithmicAxis({maximum:1e6,minimum:1,title:"Log x axis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.Solid,isPanEnabled:!0}),new LogarithmicAxis({maximum:1e4,minimum:.001,position:AxisPosition.Bottom,title:"Log y axis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.Solid,isPanEnabled:!0})]});function bigNumbers(){const t=new PlotModel;return t.axes.push(new LinearAxis({maximum:6e32,minimum:-1e47,title:"big numbers"})),t.axes.push(new LinearAxis({maximum:3e50,minimum:-1e40,position:AxisPosition.Bottom,title:"big numbers"})),t}function bigNumbersSuperExponentialFormat(){const t=new PlotModel;return t.axes.push(new LinearAxis({maximum:6e32,minimum:-1e47,title:"big numbers",useSuperExponentialFormat:!0})),t.axes.push(new LinearAxis({maximum:3e50,minimum:-1e40,position:AxisPosition.Bottom,title:"big numbers",useSuperExponentialFormat:!0})),t}function smallNumbers(){const t=new PlotModel;return t.axes.push(new LinearAxis({maximum:6e-15,minimum:-5e-15,title:"small numbers"})),t.axes.push(new LinearAxis({maximum:3e-15,minimum:-4e-15,position:AxisPosition.Bottom,title:"small numbers"})),t}function defaultPadding(){const t=new PlotModel({title:"Default padding"});t.axes.push(new LinearAxis),t.axes.push(new LinearAxis({position:AxisPosition.Bottom}));const e=new LineSeries({color:OxyColorHelper.fromArgb(255,78,154,6),markerFill:OxyColorHelper.fromArgb(255,78,154,6)});return e.points.push(newDataPoint(10,4)),e.points.push(newDataPoint(12,7)),e.points.push(newDataPoint(16,3)),e.points.push(newDataPoint(20,9)),t.series.push(e),t}function noPadding(){const t=new PlotModel({title:"No padding"});t.axes.push(new LinearAxis({maximumPadding:0,minimumPadding:0})),t.axes.push(new LinearAxis({maximumPadding:0,minimumPadding:0,position:AxisPosition.Bottom}));const e=new LineSeries({color:OxyColorHelper.fromArgb(255,78,154,6),markerFill:OxyColorHelper.fromArgb(255,78,154,6)});return e.points.push(newDataPoint(10,4)),e.points.push(newDataPoint(12,7)),e.points.push(newDataPoint(16,3)),e.points.push(newDataPoint(20,9)),t.series.push(e),t}function padding(){const t=new PlotModel({title:"Padding 10%"});t.axes.push(new LinearAxis({maximumPadding:.1,minimumPadding:.1})),t.axes.push(new LinearAxis({maximumPadding:.1,minimumPadding:.1,position:AxisPosition.Bottom}));const e=new LineSeries({color:OxyColorHelper.fromArgb(255,78,154,6),markerFill:OxyColorHelper.fromArgb(255,78,154,6)});return e.points.push(newDataPoint(10,4)),e.points.push(newDataPoint(12,7)),e.points.push(newDataPoint(16,3)),e.points.push(newDataPoint(20,9)),t.series.push(e),t}function xaxisMinimumPadding(){const t=new PlotModel({title:"X-axis MinimumPadding=0.1"});t.axes.push(new LinearAxis),t.axes.push(new LinearAxis({minimumPadding:.1,position:AxisPosition.Bottom}));const e=new LineSeries({color:OxyColorHelper.fromArgb(255,78,154,6),markerFill:OxyColorHelper.fromArgb(255,78,154,6)});return e.points.push(newDataPoint(10,4)),e.points.push(newDataPoint(12,7)),e.points.push(newDataPoint(16,3)),e.points.push(newDataPoint(20,9)),t.series.push(e),t}function xaxisMaximumPadding(){const t=new PlotModel({title:"X-axis MaximumPadding=0.1"});t.axes.push(new LinearAxis),t.axes.push(new LinearAxis({maximumPadding:.1,position:AxisPosition.Bottom}));const e=new LineSeries({color:OxyColorHelper.fromArgb(255,78,154,6),markerFill:OxyColorHelper.fromArgb(255,78,154,6)});return e.points.push(newDataPoint(10,4)),e.points.push(newDataPoint(12,7)),e.points.push(newDataPoint(16,3)),e.points.push(newDataPoint(20,9)),t.series.push(e),t}function absoluteMinimumAndMaximum(){const t=new PlotModel({title:"AbsoluteMinimum=-17, AbsoluteMaximum=63",subtitle:"Zooming and panning is limited to these values."});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),t}function minimumRange(){const t=new PlotModel({title:"MinimumRange = 400"});return t.axes.push(new LinearAxis({position:AxisPosition.Left,minimumRange:400})),t}function maximumRange(){const t=new PlotModel({title:"MaximumRange = 40"});return t.axes.push(new LinearAxis({position:AxisPosition.Left,maximumRange:40})),t}function titleWithUnit(){const t=new PlotModel({title:"Axis titles with units"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Speed",unit:"km/h"})),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C"})),t}function invisibleVerticalAxis(){const t=new PlotModel({title:"Invisible vertical axis"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left,isAxisVisible:!1})),t.series.push(new FunctionSeries({f:e=>Math.sin(e)/e,x0:-5,x1:5,dx:.1})),t}function invisibleHorizontalAxis(){const t=new PlotModel({title:"Invisible horizontal axis"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,isAxisVisible:!1})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t.series.push(new FunctionSeries({f:e=>Math.sin(e)*e*e,x0:-5,x1:5,dx:.1})),t}function zoomingDisabled(){const t=new PlotModel({title:"Zooming disabled"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,isZoomEnabled:!1})),t.axes.push(new LinearAxis({position:AxisPosition.Left,isZoomEnabled:!1})),t}function panningDisabled(){const t=new PlotModel({title:"Panning disabled"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,isPanEnabled:!1})),t.axes.push(new LinearAxis({position:AxisPosition.Left,isPanEnabled:!1})),t}function denseIntervals(){const t=new PlotModel({title:"Dense intervals"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,intervalLength:30})),t.axes.push(new LinearAxis({position:AxisPosition.Left,intervalLength:20})),t}function graphPaper(){const t=new PlotModel({title:"Graph Paper"}),e=OxyColors.DarkBlue;return t.plotType=PlotType.Cartesian,t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t}function logLogPaper(){const t=new PlotModel({title:"Log-Log Paper"}),e=OxyColors.DarkBlue;return t.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,title:"X",minimum:.1,maximum:1e3,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t.axes.push(new LogarithmicAxis({position:AxisPosition.Left,title:"Y",minimum:.1,maximum:1e3,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t}function onBlack(){const t=new PlotModel({title:"Black background",background:OxyColors.Black,textColor:OxyColors.White,plotAreaBorderColor:OxyColors.White}),e=OxyColors.White;return t.plotType=PlotType.Cartesian,t.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:Math.PI*2,n:1e3,title:"f(x)=sin(x)"})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x",majorStep:Math.PI/2,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e),ticklineColor:OxyColors.White})),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"f(x)",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e),ticklineColor:OxyColors.White})),t}function backgrounds(){const t=new PlotModel({title:"Background and PlotAreaBackground",background:OxyColors.Silver,plotAreaBackground:OxyColors.Gray,plotAreaBorderColor:OxyColors.Black,plotAreaBorderThickness:newOxyThickness(3)});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function currentCulture(){const t=new PlotModel({title:"Current culture"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1})),t.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),t}function longAxisTitlesClipped90(){const t="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",e="The tool tip is "+t,r=new PlotModel({title:"Long axis titles (clipped at 90%)"});return r.axes.push(new LinearAxis({position:AxisPosition.Left,title:t,toolTip:e})),r.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:t,toolTip:e})),r}function longAxisTitlesClipped100(){const t="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",e="The tool tip is "+t,r=new PlotModel({title:"Long axis titles (clipped at 100%)"});return r.axes.push(new LinearAxis({position:AxisPosition.Left,title:t,toolTip:e,titleClippingLength:1})),r.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:t,toolTip:e,titleClippingLength:1})),r}function longAxisTitlesNotClipped(){const t="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",e="The tool tip is "+t,r=new PlotModel({title:"Long axis titles (not clipped)"});return r.axes.push(new LinearAxis({position:AxisPosition.Left,title:t,toolTip:e,clipTitle:!1})),r.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:t,toolTip:e,clipTitle:!1})),r}function positionTier(){const t=new PlotModel,e=new LinearAxis({maximum:1,minimum:-1,title:"PositionTier=0"});t.axes.push(e);const r=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,positionTier:1,title:"PositionTier=1"});t.axes.push(r);const xe=new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Right,title:"PositionTier=0"});t.axes.push(xe);const Se=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,position:AxisPosition.Right,positionTier:1,title:"PositionTier=1"});t.axes.push(Se);const _e=new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Top,title:"PositionTier=0"});t.axes.push(_e);const Ae=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,position:AxisPosition.Top,positionTier:1,title:"PositionTier=1"});t.axes.push(Ae);const Ce=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:10,minimum:-10,position:AxisPosition.Top,positionTier:2,title:"PositionTier=2"});t.axes.push(Ce);const Pe=new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Bottom,title:"PositionTier=0"});t.axes.push(Pe);const Ee=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,position:AxisPosition.Bottom,positionTier:1,title:"PositionTier=1"});t.axes.push(Ee);const Oe=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:10,minimum:-10,position:AxisPosition.Bottom,positionTier:2,title:"PositionTier=2"});return t.axes.push(Oe),t}function titleColor(){const t=new PlotModel({title:"Custom axis title color"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1,title:"Bottom axis",titleColor:OxyColors.Red})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1,title:"Left axis",titleColor:OxyColors.Blue})),t.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),t}function labelColor(){const t=new PlotModel({title:"Custom axis label color"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1,title:"Bottom axis",textColor:OxyColors.Red})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1,title:"Left axis",textColor:OxyColors.Blue})),t.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),t}function angledAxisNumbers(){const t=new PlotModel({title:"Angled axis numbers"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1,title:"Bottom axis",angle:45})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1,title:"Left axis",angle:45})),t.axes.push(new LinearAxis({position:AxisPosition.Top,minimum:-1,maximum:1,title:"Top axis",angle:45})),t.axes.push(new LinearAxis({position:AxisPosition.Right,minimum:-1,maximum:1,title:"Right axis",angle:45})),t}function axisDistance(){const t=new PlotModel({title:"AxisDistance = 20"});return t.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Left})),t.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Right})),t.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Top})),t}function noAxesDefined(){const t=new PlotModel({title:"No axes defined",subtitle:"Bottom and left axes are auto-generated."});return t.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:400})),t}function labelFormatter$1(){const t=new PlotModel({title:"LabelFormatter"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-10,maximum:10,labelFormatter:function(r){return Math.abs(r)<Number.EPSILON?"ZERO":r.toString()}}));const e=65;return t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:25,majorStep:1,minorStep:1,maximumPadding:0,minimumPadding:0,labelFormatter:function(r){return String.fromCharCode(r+e)}})),t}function toolTips(){const t=new PlotModel({title:"Tool tips"});return t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Left axis",toolTip:"Tool tip for the left axis"})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Bottom axis",toolTip:"Tool tip for the bottom axis"})),t}function subSuperscriptInAxisTitles(){const t=new PlotModel({title:"Sub- and superscript in axis titles"});return t.axes.push(new LinearAxis({title:"Title with^{super}_{sub}script"})),t.axes.push(new LinearAxis({title:"Title with^{super}_{sub}script",position:AxisPosition.Bottom})),t}function minimumMajorStep(){const t=new PlotModel({title:"Axes with MinimumMajorStep"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"MinimuMajorStep = 1",minimum:0,maximum:2,minimumMajorStep:1})),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"MinimuMajorStep = 10",minimum:0,maximum:15,minimumMajorStep:10})),t.axes.push(new LinearAxis({position:AxisPosition.Top,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:2})),t.axes.push(new LinearAxis({position:AxisPosition.Right,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:15})),t}function minimumMinorStep(){const t=new PlotModel({title:"Axes with MinimumMinorStep"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"MinimumMinorStep = 1",minimum:0,maximum:20,minimumMinorStep:1})),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"MinimumMinorStep = 10",minimum:0,maximum:150,minimumMinorStep:10})),t.axes.push(new LinearAxis({position:AxisPosition.Top,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:20})),t.axes.push(new LinearAxis({position:AxisPosition.Right,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:150})),t}function defaultAxisTitleDistance(){const t=new PlotModel({title:"AxisTitleDistance = 4 (default)"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Bottom",minimum:0,maximum:20})),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Left",minimum:0,maximum:150})),t.axes.push(new LinearAxis({position:AxisPosition.Top,title:"Top",minimum:0,maximum:20})),t.axes.push(new LinearAxis({position:AxisPosition.Right,title:"Right",minimum:0,maximum:150})),t}function customAxisTitleDistance(){const t=new PlotModel({title:"AxisTitleDistance = 40"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Bottom",minimum:0,maximum:20,axisTitleDistance:40})),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Left",minimum:0,maximum:150,axisTitleDistance:40})),t.axes.push(new LinearAxis({position:AxisPosition.Top,title:"Top",minimum:0,maximum:20,axisTitleDistance:40})),t.axes.push(new LinearAxis({position:AxisPosition.Right,title:"Right",minimum:0,maximum:150,axisTitleDistance:40})),t}function majorGridlineStyle(){const t=new PlotModel({title:"MajorGridlineStyle and MajorGridlineThickness"});return t.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:10})),t.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:10,position:AxisPosition.Bottom})),t}function gridlineCroppingBoth(){const t=new PlotModel({title:"Gridline cropping"});return t.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),t.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),t.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),t.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),t}function multiVerticalAxes(){const t="axisY_Temperature",e="axisY_Pressure",r="axisY_Humidity",xe=new PlotModel({title:"Multi vertical axes with lineSeries"}),Se=new Legend({legendBackground:OxyColors.White});xe.legends.push(Se);const _e=new DateTimeAxis({title:"Time",position:AxisPosition.Bottom,majorGridlineStyle:LineStyle.Solid,fontSize:13});xe.axes.push(_e);let Ae=null,Ce=null,Pe=null,Ee=null,Oe=null,Me=null;Ee=new LinearAxis({title:"Temperature",position:AxisPosition.Left,majorGridlineStyle:LineStyle.None,positionTier:1,key:t,isAxisVisible:!0}),Ae=new LineSeries({title:"Temperature",color:OxyColors.Tomato,lineStyle:LineStyle.Solid,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.Red,yAxisKey:t,isVisible:!0}),xe.axes.push(Ee),xe.series.push(Ae),Oe=new LinearAxis({title:"Pressure",position:AxisPosition.Left,majorGridlineStyle:LineStyle.None,positionTier:2,key:e,isAxisVisible:!0}),Ce=new LineSeries({title:"Pressure",color:OxyColors.Peru,lineStyle:LineStyle.Solid,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.Sienna,yAxisKey:e,isVisible:!0}),xe.axes.push(Oe),xe.series.push(Ce),Me=new LinearAxis({title:"Humidity",position:AxisPosition.Left,majorGridlineStyle:LineStyle.None,positionTier:3,key:r,isAxisVisible:!0}),Pe=new LineSeries({title:"Humidity",color:OxyColors.LightSkyBlue,lineStyle:LineStyle.Solid,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.DeepSkyBlue,yAxisKey:r,isVisible:!0}),xe.axes.push(Me),xe.series.push(Pe);{Ae.points.length=0,Ce.points.length=0,Pe.points.length=0;const De=TimeSpan.fromMilliseconds(1e3),Te=getDateService();let ke=new Date(2018,8,10);const Fe=100;for(let $e=1;$e<=Fe;$e++){const Be=20+Math.sin($e),Ie=760+1.5*Math.cos(1.5*$e),Re=50+2*Math.sin(2*$e);Ae.points.push(DateTimeAxis.createDataPoint(ke,Be)),Ce.points.push(DateTimeAxis.createDataPoint(ke,Ie)),Pe.points.push(DateTimeAxis.createDataPoint(ke,Re)),ke=Te.addTimespan(ke,De)}Ee.minimum=10,Ee.maximum=23,Oe.minimum=750,Oe.maximum=770,Me.minimum=47,Me.maximum=60}return xe}function autoMargin(){const t=new PlotModel({title:"Auto-adjusting plot margins",subtitle:"When zooming in and out the plot margins should adjust accordingly"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X Axis",titleFontSize:16})),t}function manualMargins(){const t=new PlotModel({title:"Manual Margins",subtitle:"PlotMargins = 40",plotMargins:newOxyThickness(40)});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t}function manualLeftMargin(){const t=new PlotModel({title:"Manual Left Margin",subtitle:"PlotMargins = 40,NaN,NaN,NaN",plotMargins:newOxyThickness(40,NaN,NaN,NaN)});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t}function autoMarginWideLabels(){const t=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"});return t.axes.push(getLongLabelSeries()),t}function autoMarginWideLabelsRotated(){const t=new PlotModel({title:"Auto-adjusting plot margins - wide rotated axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"}),e=getLongLabelSeries();return e.angle=-90,t.axes.push(e),t}function autoMarginWideLabelsFixedRange(){const t=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"When the axis range is fixed there should be no unnecessary space reserved for axis labels"}),e=getLongLabelSeries();return e.isPanEnabled=!1,e.isZoomEnabled=!1,t.axes.push(e),t}function autoMarginWideLabelsFixedRange2(){const t=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"The axis labels should exactly fit in the viewport"}),e=getLongLabelSeries();return e.isPanEnabled=!1,e.isZoomEnabled=!1,e.minimum=-.01,e.maximum=3.01,t.axes.push(e),t}function getLongLabelSeries(){const t=new CategoryAxis({position:AxisPosition.Bottom});return t.labels.push("Label"),t.labels.push("Long Label"),t.labels.push("Longer Label"),t.labels.push("Even Longer Label"),t}function minimumAndMaximumDataMargins(){const t=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return t.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:TickStyle.Inside})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Inside})),t.series.push(createNormalDistributionSeries(-5,5,0,.2)),t.series.push(createNormalDistributionSeries(-5,5,0,1)),t.series.push(createNormalDistributionSeries(-5,5,0,5)),t.series.push(createNormalDistributionSeries(-5,5,-2,.5)),t}function minimumAndMaximumDataMarginsZeroCrossing(){const t=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return t.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:TickStyle.Crossing,axislineStyle:LineStyle.Solid,positionAtZeroCrossing:!0})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Crossing,axislineStyle:LineStyle.Solid,positionAtZeroCrossing:!0})),t.series.push(createNormalDistributionSeries(-5,5,0,.2)),t.series.push(createNormalDistributionSeries(-5,5,0,1)),t.series.push(createNormalDistributionSeries(-5,5,0,5)),t.series.push(createNormalDistributionSeries(-5,5,-2,.5)),t}function minimumAndMaximumDataMarginsLog(){const t=new PlotModel({title:"Exponentials"});t.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Inside})),t.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Inside}));for(let e=1;e<=5;e++)t.series.push(new FunctionSeries({f:r=>Math.pow(e,r),x0:0,x1:10,dx:.01,title:`${e}^x`}));return t}function minimumAndMaximumMarginsPolar(){const t=new PlotModel({title:"Spiral",plotType:PlotType.Polar,plotAreaBorderThickness:newOxyThickness(0)});return t.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),t.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,minimumPadding:0,maximumPadding:0,minimumDataMargin:0,maximumDataMargin:20})),t.series.push(new FunctionSeries({fx:e=>e,fy:e=>e,t0:0,t1:Math.PI*6,dt:.01})),t}function axisOutMargins(){const t=new PlotModel({title:"YAxes are evenly distributed with a constant gap",plotAreaBorderThickness:newOxyThickness(0)});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,axislineStyle:LineStyle.Solid,key:"X"}));const e=4,r=10;for(let xe=0;xe<e;xe++)t.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:xe/e,endPosition:(xe+1)/e,minimumMargin:xe/e*r,maximumMargin:(e-xe-1)/e*r,axislineStyle:LineStyle.Solid,key:`Y${xe}`})),t.series.push(new FunctionSeries({f:Se=>Math.sin(Se*(xe+1)),x0:1,x1:10,dx:.01,title:`x^${xe}`,xAxisKey:"X",yAxisKey:`Y${xe}`}));return t}function axisMarginsClipping(){const t=new PlotModel({title:"Axis Margins Clipping",subtitle:"Data Points and Visual Elements are clipped outside the Clip Bounds"});t.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20}));const e=new Random(1),r=new ScatterSeries({markerType:MarkerType.Diamond});for(let xe=0;xe<100;xe++)r.points.push({x:e.next(),y:e.next()});return t.series.push(r),t}function polarOuterMargins(){const t=new PlotModel({title:"Spiral",plotType:PlotType.Polar,plotAreaBorderThickness:newOxyThickness(0)});return t.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),t.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,minimumPadding:0,maximumPadding:0,minimumMargin:0,maximumMargin:100})),t.series.push(new FunctionSeries({fx:e=>e,fy:e=>e,t0:0,t1:Math.PI*6,dt:.01})),t}function marginsAndPadding(){const t=new PlotModel({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),e=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});t.axes.push(e);const r=new LinearAxis({position:AxisPosition.Left,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});t.axes.push(r);const xe=new LineSeries;return xe.color=OxyColors.Green,xe.points.push(newDataPoint(-5,0)),xe.points.push(newDataPoint(-5,20)),xe.points.push(newDataPoint(25,20)),xe.points.push(newDataPoint(25,0)),xe.points.push(newDataPoint(-5,0)),t.series.push(xe),_addAxisMarginAnnotations(t),t}function _addAxisMarginAnnotations(t){t.annotations.push(new DelegateAnnotation(async e=>{const r=RenderingExtensions.drawLine;for(const xe of t.axes)if(xe.isHorizontal()){const Se=xe;await r(e,Se.transform(Se.clipMinimum),0,Se.transform(Se.clipMinimum),t.height,new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await r(e,Se.transform(Se.clipMaximum),0,Se.transform(Se.clipMaximum),t.height,new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await r(e,Se.transform(Se.actualMinimum),0,Se.transform(Se.actualMinimum),t.height,new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await r(e,Se.transform(Se.actualMaximum),0,Se.transform(Se.actualMaximum),t.height,new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await r(e,Se.transform(Se.dataMinimum),0,Se.transform(Se.dataMinimum),t.height,new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await r(e,Se.transform(Se.dataMaximum),0,Se.transform(Se.dataMaximum),t.height,new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic)}else{const Se=xe;await r(e,0,Se.transform(Se.clipMinimum),t.width,Se.transform(Se.clipMinimum),new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await r(e,0,Se.transform(Se.clipMaximum),t.width,Se.transform(Se.clipMaximum),new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await r(e,0,Se.transform(Se.actualMinimum),t.width,Se.transform(Se.actualMinimum),new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await r(e,0,Se.transform(Se.actualMaximum),t.width,Se.transform(Se.actualMaximum),new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await r(e,0,Se.transform(Se.dataMinimum),t.width,Se.transform(Se.dataMinimum),new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await r(e,0,Se.transform(Se.dataMaximum),t.width,Se.transform(Se.dataMaximum),new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic)}}))}function marginsAndPaddingAsymmetrical(){const t=new PlotModel({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),e=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.05,minimumDataMargin:20,maximumDataMargin:10,minimumMargin:30,maximumMargin:15,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});t.axes.push(e);const r=new LinearAxis({position:AxisPosition.Left,minimumPadding:.2,maximumPadding:.1,minimumDataMargin:40,maximumDataMargin:20,minimumMargin:60,maximumMargin:30,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});t.axes.push(r);const xe=new LineSeries;return xe.color=OxyColors.Green,xe.points.push(newDataPoint(-5,0)),xe.points.push(newDataPoint(-5,20)),xe.points.push(newDataPoint(25,20)),xe.points.push(newDataPoint(25,0)),xe.points.push(newDataPoint(-5,0)),t.series.push(xe),_addAxisMarginAnnotations(t),t}function minimumMajorIntervalCount(){const t=new PlotModel({title:"MinimumMajorIntervalCount = 10"}),e=new LinearAxis({position:AxisPosition.Bottom,minimumMajorIntervalCount:10});t.axes.push(e);const r=new LinearAxis({position:AxisPosition.Left,minimumMajorIntervalCount:10});return t.axes.push(r),t}function maximumMajorIntervalCount(){const t=new PlotModel({title:"MaximumMajorIntervalCount = 5"}),e=new LinearAxis({position:AxisPosition.Bottom,maximumMajorIntervalCount:5});t.axes.push(e);const r=new LinearAxis({position:AxisPosition.Left,maximumMajorIntervalCount:5});return t.axes.push(r),t}function minimumAndMaximumMajorIntervalCount(){const t=new PlotModel({title:"MinimumMajorIntervalCount = MaximumMajorIntervalCount = 4"}),e=new LinearAxis({position:AxisPosition.Bottom,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});t.axes.push(e);const r=new LinearAxis({position:AxisPosition.Left,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});return t.axes.push(r),t}function createTickStyleExample(t){const e=getEnumName(TickStyle,t),r=new PlotModel({title:"TickStyle = "+e});return r.axes.push(new LinearAxis({position:AxisPosition.Left,tickStyle:t})),r.axes.push(new LinearAxis({position:AxisPosition.Bottom,tickStyle:t})),r}const category$S="Axis examples",AxisExamples={category:category$S,tags:["Axes"],examples:[{title:"TickStyle: None",example:{model:tickStyleNone$1}},{title:"TickStyle: Inside",example:{model:tickStyleInside$1}},{title:"TickStyle: Crossing",example:{model:tickStyleCrossing$1}},{title:"TickStyle: Outside",example:{model:tickStyleOutside$1}},{title:"TickStyle: Color major and minor ticks differently",example:{model:tickLineColor}},{title:"GridLinestyle: None (default)",example:{model:gridlineStyleNone}},{title:"GridLinestyle: Vertical",example:{model:gridLinestyleVertical}},{title:"GridLinestyle: Horizontal",example:{model:gridLinestyleHorizontal}},{title:"GridLinestyle: Horizontal and vertical",example:{model:gridLinestyleBoth}},{title:"Axis position left/bottom",example:{model:axisPositionLeftAndBottom}},{title:"Axis position top/right",example:{model:axisPositionTopRight}},{title:"Axis label angle 45deg",example:{model:axisAngle45}},{title:"Zero crossing axis",example:{model:zeroCrossing}},{title:"Horizontal zero crossing axis",example:{model:horizontalZeroCrossing}},{title:"Vertical zero crossing axis",example:{model:verticalZeroCrossing}},{title:"Reversed",example:{model:reversed}},{title:"Sharing Y axis",example:{model:sharingY}},{title:"Four axes",example:{model:fourAxes}},{title:"Five axes",example:{model:fiveAxes}},{title:"Logarithmic axes",example:{model:logarithmicAxes}},{title:"Logarithmic axes Cartesian Plot",example:{model:cartesianPlotLogarithmicAxes}},{title:"Big numbers",example:{model:bigNumbers}},{title:"Big numbers with super exponential format",example:{model:bigNumbersSuperExponentialFormat}},{title:"Small numbers",example:{model:smallNumbers}},{title:"Default padding",example:{model:defaultPadding}},{title:"No padding",example:{model:noPadding}},{title:"Padding 10%",example:{model:padding}},{title:"X-axis MinimumPadding=0.1",example:{model:xaxisMinimumPadding}},{title:"X-axis MaximumPadding=0.1",example:{model:xaxisMaximumPadding}},{title:"AbsoluteMinimum and AbsoluteMaximum",example:{model:absoluteMinimumAndMaximum}},{title:"MinimumRange",example:{model:minimumRange}},{title:"MaximumRange",example:{model:maximumRange}},{title:"Title with unit",example:{model:titleWithUnit}},{title:"Invisible vertical axis",example:{model:invisibleVerticalAxis}},{title:"Invisible horizontal axis",example:{model:invisibleHorizontalAxis}},{title:"Zooming disabled",example:{model:zoomingDisabled}},{title:"Panning disabled",example:{model:panningDisabled}},{title:"Dense intervals",example:{model:denseIntervals}},{title:"Graph Paper",example:{model:graphPaper}},{title:"Log-Log Paper",example:{model:logLogPaper}},{title:"Black background",example:{model:onBlack}},{title:"Background and PlotAreaBackground",example:{model:backgrounds}},{title:"Current culture",example:{model:currentCulture}},{title:"Long axis titles (clipped at 90%)",example:{model:longAxisTitlesClipped90}},{title:"Long axis titles (clipped at 100%)",example:{model:longAxisTitlesClipped100}},{title:"Long axis titles (not clipped)",example:{model:longAxisTitlesNotClipped}},{title:"PositionTier",example:{model:positionTier}},{title:"Custom axis title color",example:{model:titleColor}},{title:"Custom axis label color",example:{model:labelColor}},{title:"Angled axis numbers",example:{model:angledAxisNumbers}},{title:"Axis distance",example:{model:axisDistance}},{title:"No axes defined",example:{model:noAxesDefined}},{title:"LabelFormatter",example:{model:labelFormatter$1}},{title:"Tool tips",example:{model:toolTips}},{title:"Sub- and superscript in axis titles",example:{model:subSuperscriptInAxisTitles}},{title:"MinimumMajorStep",example:{model:minimumMajorStep}},{title:"MinimumMinorStep",example:{model:minimumMinorStep}},{title:"Default AxisTitleDistance",example:{model:defaultAxisTitleDistance}},{title:"Custom AxisTitleDistance",example:{model:customAxisTitleDistance}},{title:"MajorGridlineStyle",example:{model:majorGridlineStyle}},{title:"Gridlines Cropping: Horizontal and vertical",example:{model:gridlineCroppingBoth}},{title:"Multi vertical axes with lineSeries",example:{model:multiVerticalAxes}},{title:"Auto Margins",example:{model:autoMargin}},{title:"Manual Margins",example:{model:manualMargins}},{title:"Manual Left Margin",example:{model:manualLeftMargin}},{title:"Auto Margins - Wide Labels",example:{model:autoMarginWideLabels}},{title:"Auto Margins - Wide Labels, rotated",example:{model:autoMarginWideLabelsRotated}},{title:"Auto Margins - Wide Labels, fixed Range",example:{model:autoMarginWideLabelsFixedRange}},{title:"Auto Margins - Wide Labels, fixed Range 2",example:{model:autoMarginWideLabelsFixedRange2}},{title:"Data Margins",example:{model:minimumAndMaximumDataMargins}},{title:"Data Margins with Zero-Crossing",example:{model:minimumAndMaximumDataMarginsZeroCrossing}},{title:"Data Margins on Log Axis",example:{model:minimumAndMaximumDataMarginsLog}},{title:"Data Margins on Polar Plot",example:{model:minimumAndMaximumMarginsPolar}},{title:"Axis Margins",example:{model:axisOutMargins}},{title:"Axis Margins Clipping",example:{model:axisMarginsClipping}},{title:"Axis Margins on Polar Plot",example:{model:polarOuterMargins}},{title:"Axis Margins, Data Margins, and Padding",example:{model:marginsAndPadding}},{title:"Axis Margins, Data Margins, and Padding, Asymmetrical",example:{model:marginsAndPaddingAsymmetrical}},{title:"Minimum Major Interval Count",example:{model:minimumMajorIntervalCount}},{title:"Maximum Major Interval Count",example:{model:maximumMajorIntervalCount}},{title:"Minimum and Maximum Major Interval Count",example:{model:minimumAndMaximumMajorIntervalCount}}]};function functionSeries$1(){const t=new PlotModel({title:"Trigonometric functions",plotType:PlotType.Cartesian});return t.series.push(FunctionSeries.fromDx(Math.sin,-10,10,.1,"sin(x)")),t.series.push(FunctionSeries.fromDx(Math.cos,-10,10,.1,"cos(x)")),t.series.push(FunctionSeries.fromFxFyN(e=>5*Math.cos(e),e=>5*Math.sin(e),0,2*Math.PI,1e3,"cos(t),sin(t)")),t}function clover$1(){const t=new PlotModel({title:"Parametric function",plotType:PlotType.Cartesian});return t.series.push(FunctionSeries.fromFxFyN(e=>2*Math.cos(2*e)*Math.cos(e),e=>2*Math.cos(2*e)*Math.sin(e),0,Math.PI*2,1e3,"2cos(2t)cos(t) , 2cos(2t)sin(t)")),t}function absoluteYmin(){const t=new PlotModel({title:"Y: AbsoluteMinimum = 0",plotType:PlotType.Cartesian}),e=OxyColors.DarkBlue;return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t.series.push(createTestSeries()),t}function absoluteYmin2(){const t=new PlotModel({title:"Y: AbsoluteMinimum = 0",subtitle:"AutoAdjustPlotMargins = false",plotType:PlotType.Cartesian,plotMargins:newOxyThickness(60,4,4,40)}),e=OxyColors.DarkBlue;return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t.series.push(createTestSeries()),t}function absoluteYminXmin(){const t=new PlotModel({title:"X: AbsoluteMinimum = -10, Y: AbsoluteMinimum = 0",plotType:PlotType.Cartesian}),e=OxyColors.DarkBlue;return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",absoluteMinimum:-10,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t.series.push(createTestSeries()),t}function absoluteYminYmax(){const t=new PlotModel({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2",plotType:PlotType.Cartesian}),e=OxyColors.DarkBlue;return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t.series.push(createTestSeries()),t}function absoluteYminXminXmax(){const t=new PlotModel({title:"Y: AbsoluteMinimum = 0, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:PlotType.Cartesian}),e=OxyColors.DarkBlue;return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t.series.push(createTestSeries()),t}function absoluteYminYmaxXminXmax(){const t=new PlotModel({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:PlotType.Cartesian}),e=OxyColors.DarkBlue;return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColorHelper.fromAColor(40,e),minorGridlineColor:OxyColorHelper.fromAColor(20,e)})),t.series.push(createTestSeries()),t}function createTestSeries(){const t=new LineSeries;return t.points.push(newDataPoint(-8,0),newDataPoint(-7.5,.1),newDataPoint(-7,.2),newDataPoint(-6,.4),newDataPoint(-5,.5),newDataPoint(-4,.6),newDataPoint(-3,.7),newDataPoint(-2,.8),newDataPoint(-1,.9),newDataPoint(0,1),newDataPoint(1,.9),newDataPoint(2,.8),newDataPoint(3,.7),newDataPoint(4,.6),newDataPoint(5,.5),newDataPoint(6,.4),newDataPoint(7,.2),newDataPoint(7.5,.1),newDataPoint(8,0),DataPoint_Undefined,newDataPoint(-.5,.5),newDataPoint(-.5,1.5),newDataPoint(.5,1.5),newDataPoint(.5,.5),newDataPoint(-.5,.5)),t}const category$R="Cartesian axes",CartesianAxesExamples={category:category$R,tags:["Axes"],examples:[{title:"Trigonometric functions",example:{model:functionSeries$1}},{title:"Clover",example:{model:clover$1}},{title:"AbsoluteMinimum Y",example:{model:absoluteYmin}},{title:"AbsoluteMinimum Y, manual plotmargins",example:{model:absoluteYmin2}},{title:"AbsoluteMinimum X/Y",example:{model:absoluteYminXmin}},{title:"AbsoluteMinimum/Maximum Y",example:{model:absoluteYminYmax}},{title:"AbsoluteMinimum Y, AbsoluteMinimum/Maximum X",example:{model:absoluteYminXminXmax}},{title:"AbsoluteMinimum/Maximum X/Y",example:{model:absoluteYminYmaxXminXmax}}]};function standardCategoryAxis(){const t=new PlotModel({title:"Standard"}),e=new CategoryAxis;e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),t.axes.push(e);const r=new LinearAxis({position:AxisPosition.Left});return t.axes.push(r),t}function itemsSourceStrings(){const t=new PlotModel({title:"CategoryAxis with string[] as ItemsSource"});t.axes.push(new CategoryAxis({stringFormatter:r=>`Item ${r}`,itemsSource:["A","B","C"]}));const e=new LinearAxis({position:AxisPosition.Left});return t.axes.push(e),t}function itemsSourceValues(){const t=new PlotModel({title:"CategoryAxis with int[] as ItemsSource"});t.axes.push(new CategoryAxis({stringFormatter:r=>`Item ${r}`,itemsSource:[10,100,123]}));const e=new LinearAxis({position:AxisPosition.Left});return t.axes.push(e),t}function majorStepCategoryAxis(){const t=new PlotModel({title:"Major Step = 4, IsTickCentered = false"}),e=new CategoryAxis({isTickCentered:!1,majorStep:4});e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),t.axes.push(e);const r=new LinearAxis({position:AxisPosition.Left});return t.axes.push(r),t}function majorStepCategoryTickCenteredAxis(){const t=new PlotModel({title:"Major Step = 4, IsTickCentered = true"}),e=new CategoryAxis({isTickCentered:!0,majorStep:4});e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),t.axes.push(e);const r=new LinearAxis({position:AxisPosition.Left});return t.axes.push(r),t}const category$Q="CategoryAxis",CategoryAxisExamples={category:category$Q,tags:["Axes"],examples:[{title:"Standard",example:{model:standardCategoryAxis}},{title:"ItemsSource - string[]",example:{model:itemsSourceStrings}},{title:"ItemsSource - int[]",example:{model:itemsSourceValues}},{title:"MajorStep",example:{model:majorStepCategoryAxis}},{title:"MajorStep, TickCentered",example:{model:majorStepCategoryTickCenteredAxis}}]};function standardCategoryColorAxis(){const t=new PlotModel({title:"CategoryColorAxis"}),e=new CategoryColorAxis({key:"ccc",palette:OxyPalettes.blackWhiteRed(12)});e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),t.axes.push(e);const r=new LinearAxis({position:AxisPosition.Left}),xe=new ScatterSeries({colorAxisKey:e.key});return xe.points.push({x:0,y:0,size:NaN,value:0}),xe.points.push({x:3,y:0,size:NaN,value:3}),t.series.push(xe),t.axes.push(r),t}function majorStep4(){const t=new PlotModel({title:"Major Step = 4, IsTickCentered = true"}),e=new CategoryColorAxis({palette:OxyPalettes.blackWhiteRed(3),isTickCentered:!0,majorStep:4});e.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),t.axes.push(e);const r=new LinearAxis({position:AxisPosition.Left});return t.axes.push(r),t}const category$P="CategoryColorAxis",CategoryColorAxisExamples={category:category$P,tags:["Axes"],examples:[{title:"CategoryColorAxis",example:{model:standardCategoryColorAxis}},{title:"Centered ticks, MajorStep = 4",example:{model:majorStep4}}]};function customArrowAxis(){const t=new PlotModel({plotAreaBorderThickness:newOxyThickness(0),plotMargins:newOxyThickness(60,60,60,60)});return t.axes.push(new ArrowAxis({position:AxisPosition.Bottom,axislineStyle:LineStyle.Solid})),t.axes.push(new ArrowAxis({position:AxisPosition.Left,axislineStyle:LineStyle.Solid})),t}class ArrowAxis extends LinearAxis{async render(e,r){await super.render(e,r);const xe=[];if(this.isHorizontal()){const Se=OxyRectHelper.bottom(this.plotModel.plotArea),_e=this.transform(this.actualMaximum);xe.push(newScreenPoint(_e+4,Se-4)),xe.push(newScreenPoint(_e+18,Se)),xe.push(newScreenPoint(_e+4,Se+4))}else{const Se=this.transform(this.actualMaximum);xe.push(newScreenPoint(this.plotModel.plotArea.left-4,Se-4)),xe.push(newScreenPoint(this.plotModel.plotArea.left,Se-18)),xe.push(newScreenPoint(this.plotModel.plotArea.left+4,Se-4))}await e.drawPolygon(xe,OxyColors.Black,OxyColors.Undefined,0,this.edgeRenderingMode)}}const category$O="Custom axes",CustomAxisExamples={category:category$O,tags:["Axes"],examples:[{title:"ArrowAxis",example:{model:customArrowAxis}}]};class Sun{static deg2Rad(e){return Math.PI*e/180}static rad2Deg(e){return 180*e/Math.PI}static fixValue(e,r,xe){for(;e<r;)e+=xe-r;for(;e>=xe;)e-=xe-r;return e}static calculate(e,r,xe,Se,_e,Ae=90.5){const Ce=dayjs(e).dayOfYear(),Pe=xe/15;let Ee;Se?Ee=Ce+(6-Pe)/24:Ee=Ce+(18-Pe)/24;const Oe=.9856*Ee-3.289;let Me=Oe+1.916*Math.sin(this.deg2Rad(Oe))+.02*Math.sin(this.deg2Rad(2*Oe))+282.634;Me=this.fixValue(Me,0,360);let De=this.rad2Deg(Math.atan(.91764*Math.tan(this.deg2Rad(Me))));De=this.fixValue(De,0,360);const Te=Math.floor(Me/90)*90,ke=Math.floor(De/90)*90;De=De+(Te-ke),De=De/15;const Fe=.39782*Math.sin(this.deg2Rad(Me)),$e=Math.cos(Math.asin(Fe)),Be=(Math.cos(this.deg2Rad(Ae))-Fe*Math.sin(this.deg2Rad(r)))/($e*Math.cos(this.deg2Rad(r)));let Ie;Se?Ie=360-this.rad2Deg(Math.acos(Be)):Ie=this.rad2Deg(Math.acos(Be)),Ie=Ie/15;let je=Ie+De-.06571*Ee-6.622-Pe;e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0));const Ve=new Date(e.getTime()+je*60*60*1e3);return je=(_e(Ve).getTime()-e.getTime())/(60*60*1e3),je=this.fixValue(je,0,24),new Date(e.getTime()+je*60*60*1e3)}}const defaultValues$1=()=>createExample$2(7,void 0),stringFormat$1=()=>{const t=getDateService();return createExample$2(7,e=>t.format(e,`MMM DD
YYYY`))};function createExample$2(t,e){const r=new PlotModel,xe=new Date(2e3,0,1),Se=DateTimeAxis.toDouble(xe),_e=Se+t;return r.axes.push(new DateTimeAxis({position:AxisPosition.Bottom,minimum:Se,maximum:_e,stringFormatter:e})),r.axes.push(new DateTimeAxis({position:AxisPosition.Left,minimum:Se,maximum:_e,stringFormatter:e})),r}function daylightSavingsBreak(){const t=new PlotModel,e=new DateTimeAxis;e.position=AxisPosition.Bottom,t.axes.push(e),t.axes.push(new LinearAxis);const r=new LineSeries;r.markerType=MarkerType.Circle,t.series.push(r);const xe=new Date(Date.UTC(2013,2,31,0,0,0));for(let Se=0;Se<400;Se+=10){const _e=new Date(xe.getTime()+Se*6e4);r.points.push(DateTimeAxis.createDataPoint(_e,Se))}return t}function dateTimeAxisPlotModel(){const t=new Date(2010,0,1),e=new Date(2015,0,1),r=3600*24*14,xe=getDateService(),Se=[];let _e=t;const Ae=new Random;for(;_e<=e;)Se.push({date:_e,value:Ae.next()}),_e=xe.addTimespan(_e,TimeSpan.fromSeconds(r));const Ce=new PlotModel({title:"DateTime axis"}),Pe=new DateTimeAxis({firstDayOfWeek:DayOfWeek.Monday,position:AxisPosition.Bottom});Ce.axes.push(Pe);const Ee=new LinearAxis;Ce.axes.push(Ee);const Oe=new LineSeries({color:OxyColorHelper.fromArgb(255,78,154,6),markerFill:OxyColorHelper.fromArgb(255,78,154,6),markerStroke:OxyColors.ForestGreen,markerType:MarkerType.Plus,strokeThickness:1,dataFieldX:"date",dataFieldY:"value",itemsSource:Se});return Ce.series.push(Oe),Ce}function sunriseAndSunsetInOslo(){const t=new Date().getFullYear(),r=createSunData(t,59.91,10.75,Pe=>{const Ee=isDaylightSaving(Pe)?2:1;return new Date(Pe.getTime()+Ee*60*60*1e3)}),xe=new PlotModel({title:"Sunrise and sunset in Oslo",subtitle:"UTC time"}),Se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_e=new DateTimeAxis({firstDayOfWeek:DayOfWeek.Monday,intervalType:DateTimeIntervalType.Months,majorGridlineStyle:LineStyle.Solid,position:AxisPosition.Bottom,stringFormatter:Pe=>Se[Pe.getMonth()]});xe.axes.push(_e);const Ae=new TimeSpanAxis({majorGridlineStyle:LineStyle.Solid,maximum:86400,minimum:0,stringFormatter:Pe=>formatTimeSpan(Pe,"hh:mm")});xe.axes.push(Ae);const Ce=new AreaSeries({itemsSource:r,dataFieldX:"Day",dataFieldY:"Sunrise",dataFieldX2:"Day",dataFieldY2:"Sunset",fill:OxyColorHelper.fromArgb(128,255,255,0),color:OxyColors.Black});return xe.series.push(Ce),xe}function labelFormatter(){const t=new PlotModel({title:"Using LabelFormatter to format labels by day of week"});t.axes.push(new DateTimeAxis({labelFormatter:function(r){return DateTimeAxis.toDateTime(r).getDay().toString().substring(0,3)}}));const e=new LineSeries;t.series.push(e);for(let r=0;r<7;r++){const xe=new Date(2014,9,10);xe.setDate(xe.getDate()+r);const Se=DateTimeAxis.toDouble(xe),_e=Math.sin(r*r);e.points.push(newDataPoint(Se,_e))}return t}function createSunData(t,e,r,xe){const Se=[];let _e=new Date(t,0,1);const Ae=TimeSpan.fromMinutes(_e.getTimezoneOffset()),Ce=getDateService();for(;_e.getFullYear()===t;){let Pe=Sun.calculate(_e,e,r,!0,xe);Pe=Ce.addTimespan(Pe,Ae);let Ee=Sun.calculate(_e,e,r,!1,xe);Ee=Ce.addTimespan(Ee,Ae),Se.push({Day:_e,Sunrise:Ce.diff(Pe,_e),Sunset:Ce.diff(Ee,_e)}),_e=Ce.addTimespan(_e,TimeSpan.fromDays(1))}return Se}function isDaylightSaving(t){const e=new Date(t.getFullYear(),2,31,2,0,0);e.setDate(e.getDate()-e.getDay());const r=new Date(t.getFullYear(),9,31,3,0,0);return r.setDate(r.getDate()-r.getDay()),t>=e&&t<=r}const category$N="DateTimeAxis",DateTimeAxisExamples={category:category$N,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:defaultValues$1}},{title:"StringFormat 'MMM DD\\nYYYY'",example:{model:stringFormat$1}},{title:"TimeZone adjustments",example:{model:daylightSavingsBreak}},{title:"DateTime axis",example:{model:dateTimeAxisPlotModel}},{title:"Sunrise and sunset in Oslo",example:{model:sunriseAndSunsetInOslo}},{title:"LabelFormatter",example:{model:labelFormatter}}]};function stringFormat(){return createExample$1(123456.78901234567,1.2345678901234567e6,void 0)}function stringFormatF2(){return createExample$1(123456.78901234567,1.2345678901234567e6,(t,e)=>t.toFixed(2))}function tickStyleNone(){return createTickStyleModel(TickStyle.None)}function tickStyleCrossing(){return createTickStyleModel(TickStyle.Crossing)}function tickStyleInside(){return createTickStyleModel(TickStyle.Inside)}function tickStyleOutside(){return createTickStyleModel(TickStyle.Outside)}function gridlinesNone(){return createGridlinesModel("None",LineStyle.None,LineStyle.None)}function gridlinesHorizontal(){return createGridlinesModel("Horizontal",LineStyle.Solid,LineStyle.None)}function gridlinesVertical(){return createGridlinesModel("Vertical",LineStyle.None,LineStyle.Solid)}function gridlinesBoth(){return createGridlinesModel("Both",LineStyle.Solid,LineStyle.Solid)}function createExample$1(t,e,r){const xe=new PlotModel;return xe.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:t,maximum:e,stringFormatter:r})),xe.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:t,maximum:e,stringFormatter:r})),xe}function createTickStyleModel(t){const e=new PlotModel({title:`TickStyle: ${t}`});return e.axes.push(new LinearAxis({position:AxisPosition.Bottom,tickStyle:t,majorGridlineStyle:LineStyle.None,minorGridlineStyle:LineStyle.None,maximumPadding:0,minimumPadding:0})),e.axes.push(new LinearAxis({position:AxisPosition.Left,tickStyle:t,majorGridlineStyle:LineStyle.None,minorGridlineStyle:LineStyle.None,maximumPadding:0,minimumPadding:0})),e}function createGridlinesModel(t,e,r){const xe=new PlotModel({title:`Gridlines: ${t}`});return xe.axes.push(new LinearAxis({position:AxisPosition.Bottom,majorGridlineStyle:r,minorGridlineStyle:r===LineStyle.Solid?LineStyle.Dot:LineStyle.None,maximumPadding:0,minimumPadding:0})),xe.axes.push(new LinearAxis({position:AxisPosition.Left,majorGridlineStyle:e,minorGridlineStyle:e===LineStyle.Solid?LineStyle.Dot:LineStyle.None,maximumPadding:0,minimumPadding:0})),xe}const category$M="LinearAxis",LinearAxisExamples={category:category$M,tags:["Axes"],examples:[{title:"Default StringFormat ('g6')",example:{model:stringFormat}},{title:"StringFormat = 'f2'",example:{model:stringFormatF2}},{title:"TickStyle: None",example:{model:tickStyleNone}},{title:"TickStyle: Crossing",example:{model:tickStyleCrossing}},{title:"TickStyle: Inside",example:{model:tickStyleInside}},{title:"TickStyle: Outside",example:{model:tickStyleOutside}},{title:"Gridlines: None",example:{model:gridlinesNone}},{title:"Gridlines: Horizontal",example:{model:gridlinesHorizontal}},{title:"Gridlines: Vertical",example:{model:gridlinesVertical}},{title:"Gridlines: Both",example:{model:gridlinesBoth}}]};function peaks$3(){return _createHeatMapPeaks()}function interpolated(){return _createExample("Interpolated",!0)}function interpolatedCartesian(){const t=_createExample("Interpolated, cartesian axes",!0);return t.plotType=PlotType.Cartesian,t}function interpolatedWithNanValue(){const t=_createExample("Interpolated including two NaN values",!0),e=t.series[0];return e.data[0][1]=Number.NaN,e.data[1][0]=Number.NaN,t}function interpolatedWithNanValueFlat(){const t=_createExample("Interpolated including two NaN values, otherwise 4.71",!0),r=t.series[0].data,xe=4.71;return r[0][0]=xe,r[0][1]=xe,r[0][2]=xe,r[1][0]=xe,r[1][1]=xe,r[1][2]=xe,r[0][1]=Number.NaN,r[1][0]=Number.NaN,t}function notInterpolated(){return _createExample("Not interpolated values",!1)}function notInterpolatedWithNanValue(){const t=_createExample("Not interpolated values including two NaN values",!1),e=t.axes[0];e.invalidNumberColor=OxyColors.Transparent;const r=t.series[0];return r.data[0][1]=Number.NaN,r.data[1][0]=Number.NaN,t}function notInterpolatedWithNanValueFlat(){const t=_createExample("Not interpolated values including two NaN values, otherwise 4.71",!1),e=t.axes[0];e.invalidNumberColor=OxyColors.Transparent;const r=t.series[0];if(!r.data)return t;const xe=4.71;return r.data[0][0]=xe,r.data[0][1]=xe,r.data[0][2]=xe,r.data[1][0]=xe,r.data[1][1]=xe,r.data[1][2]=xe,r.data[0][1]=Number.NaN,r.data[1][0]=Number.NaN,t}function notInterpolatedReversedX(){const t=_createExample("Reversed x-axis",!1);return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),t}function x0GreaterThanX1(){const t=_createExample("X0>X1",!1),e=t.series[0],r=e.x0;return e.x0=e.x1,e.x1=r,t}function reversedX_X0GreaterThanX1(){const t=_createExample("Reversed x-axis, X0>X1",!1);t.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0}));const e=t.series[0],r=e.x0;return e.x0=e.x1,e.x1=r,t}function notInterpolatedReversedY(){const t=_createExample("Reversed y-axis",!1);return t.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),t}function y0GreaterThanY1(){const t=_createExample("Y0>Y1",!1),e=t.series[0],r=e.y0;return e.y0=e.y1,e.y1=r,t}function reversedY_Y0GreaterThanY1(){const t=_createExample("Reversed y-axis, Y0>Y1",!1);t.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0}));const e=t.series[0],r=e.y0;return e.y0=e.y1,e.y1=r,t}function notInterpolatedReversedXY(){const t=_createExample("Reversed x- and y-axis",!1);return t.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),t}function diagonal(){const t=[[1,0,0],[0,1,0],[0,0,1]],e=new PlotModel({title:"Diagonal (center defined)"});e.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const r=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:.5,x1:2.5,y0:2.5,y1:.5,data:t,interpolate:!1});return e.series.push(r),e}function diagonal2(){const t=[[1,0,0],[0,1,0],[0,0,1]],e=new PlotModel({title:"Diagonal (edge defined)"});e.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const r=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Edge,x0:0,x1:3,y0:3,y1:0,data:t,interpolate:!1});return e.series.push(r),e}function diagonal_6X6(){const t=Array(6).fill(Array(6).fill(0));t[0][0]=1,t[1][1]=1,t[2][2]=1,t[3][3]=1,t[4][4]=1,t[5][5]=1;const e=new PlotModel({title:"Diagonal 66"});e.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const r=new HeatMapSeries({x0:0,x1:5,y0:5,y1:0,data:t,interpolate:!1});return e.series.push(r),e}function confusionMatrix(){let t=[[1,0,0],[0,.8,.2],[0,0,1]];t=t[0].map((Pe,Ee)=>t.map(Oe=>Oe[Ee]));const e=["class A","class B","class C"],r=new PlotModel({title:"Confusion Matrix"}),xe=OxyPaletteHelper.interpolate(50,OxyColors.White,OxyColors.Black),Se=new LinearColorAxis({position:AxisPosition.Right,palette:xe,highColor:OxyColors.White,lowColor:OxyColors.White});r.axes.push(Se);const _e=new CategoryAxis({position:AxisPosition.Top,title:"Actual class"});_e.labels.push(...e),r.axes.push(_e);const Ae=new CategoryAxis({position:AxisPosition.Left,title:"Predicted class",angle:-90,startPosition:1,endPosition:0});Ae.labels.push(...e),r.axes.push(Ae);const Ce=new HeatMapSeries({data:t,interpolate:!1,labelFontSize:.25,x0:0,x1:t[0].length-1,y0:0,y1:t.length-1});return r.series.push(Ce),r}function logXInterpolated(){const t=Array(11).fill(0).map(()=>Array(21).fill(0)),e=Math.pow(2,.1);for(let Se=0;Se<11;Se++)for(let _e=0;_e<21;_e++)t[Se][_e]=Math.pow(e,Se)*_e/40;const r=new PlotModel({title:"Logarithmic X, interpolated"});r.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),r.axes.push(new LinearAxis({position:AxisPosition.Left})),r.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.gray(500),highColor:OxyColors.White,lowColor:OxyColors.Black}));const xe=new HeatMapSeries({x0:1,x1:2,y0:0,y1:20,data:t,interpolate:!0});return r.series.push(xe),r}function logXNotInterpolated(){const t=Array(11).fill(0).map(()=>Array(21).fill(0)),e=Math.pow(2,.1);for(let Se=0;Se<11;Se++)for(let _e=0;_e<21;_e++)t[Se][_e]=Math.pow(e,Se)*_e/40;const r=new PlotModel({title:"Logarithmic X, discrete rectangles"});r.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),r.axes.push(new LinearAxis({position:AxisPosition.Left})),r.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.gray(500),highColor:OxyColors.White,lowColor:OxyColors.Black}));const xe=new HeatMapSeries({x0:1,x1:2,y0:0,y1:20,data:t,interpolate:!1,renderMethod:HeatMapRenderMethod.Rectangles,labelFontSize:.4});return r.series.push(xe),r}function normal_6X4(){return _create6X4("Normal 64 Heatmap")}function _createHeatMapPeaks(t,e=!0,r=100){const Ce=(ke,Fe)=>3*(1-ke)*(1-ke)*Math.exp(-(ke*ke)-(Fe+1)*(Fe+1))-10*(ke/5-ke*ke*ke-Fe*Fe*Fe*Fe*Fe)*Math.exp(-ke*ke-Fe*Fe)-.3333333333333333*Math.exp(-(ke+1)*(ke+1)-Fe*Fe),Pe=ArrayBuilder.createVector(-3.1,3.1,r),Ee=ArrayBuilder.createVector(-3,3,r),Oe=ArrayBuilder.evaluate(Ce,Pe,Ee),Me=new PlotModel({title:"Peaks"}),De=new LinearColorAxis({position:AxisPosition.Right,highColor:OxyColors.Gray,lowColor:OxyColors.Black,palette:t});Me.axes.push(De);const Te=new HeatMapSeries({x0:-3.1,x1:3.1,y0:-3,y1:3,data:Oe});if(Me.series.push(Te),e){const ke=new ContourSeries({color:OxyColors.Black,fontSize:0,contourLevelStep:1,labelBackground:OxyColors.Undefined,columnCoordinates:Ee,rowCoordinates:Pe,data:Oe});Me.series.push(ke)}return Me}function _create6X4(t){const e=new TwoDimensionalArray(6,4);for(let xe=1;xe<=6;xe++)for(let Se=1;Se<=4;Se++)e.set(xe-1,Se-1,xe*Se);const r=new PlotModel({title:t,subtitle:"Note the positions of the axes"});return r.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.White,lowColor:OxyColors.Black})),r.series.push(new HeatMapSeries({x0:1,x1:6,y0:1,y1:4,data:e.toArray(),interpolate:!0,labelFontSize:.2})),r}function _createExample(t,e){const r=[[0,.2,.4],[.1,.3,.2]],xe=new PlotModel({title:"HeatMapSeries",subtitle:t});xe.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.rainbow(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const Se=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:.5,x1:1.5,y0:.5,y1:2.5,data:r,interpolate:e,labelFontSize:.2});return xe.series.push(Se),xe}const HeatMapSeriesExamples={createPeaks:_createHeatMapPeaks},category$L="HeatMapSeries",HeatMapSeriesExamples$1={category:category$L,tags:["Series"],examples:[{title:"Peaks",example:{model:peaks$3}},{title:"23, interpolated",example:{model:interpolated}},{title:"23, interpolated, cartesian axes",example:{model:interpolatedCartesian}},{title:"23, interpolated with two NaN values",example:{model:interpolatedWithNanValue}},{title:"23, interpolated with two NaN values, flat data",example:{model:interpolatedWithNanValueFlat}},{title:"23, not interpolated",example:{model:notInterpolated}},{title:"23, not interpolated with two NaN values",example:{model:notInterpolatedWithNanValue}},{title:"23, not interpolated with two NaN values, flat data",example:{model:notInterpolatedWithNanValueFlat}},{title:"23, reversed x-axis",example:{model:notInterpolatedReversedX}},{title:"23, X0>X1",example:{model:x0GreaterThanX1}},{title:"23, reversed x-axis, X0>X1",example:{model:reversedX_X0GreaterThanX1}},{title:"23, reversed y-axis",example:{model:notInterpolatedReversedY}},{title:"23, Y0>Y1",example:{model:y0GreaterThanY1}},{title:"23, reversed y-axis, Y0>Y1",example:{model:reversedY_Y0GreaterThanY1}},{title:"2x3, reversed x- and y-axis",example:{model:notInterpolatedReversedXY}},{title:"33, diagonal (center defined)",example:{model:diagonal}},{title:"33, diagonal (edge defined)",example:{model:diagonal2}},{title:"66, diagonal",example:{model:diagonal_6X6}},{title:"Confusion matrix",example:{model:confusionMatrix}},{title:"Logarithmic X, interpolated",example:{model:logXInterpolated}},{title:"Logarithmic X, discrete rectangles",example:{model:logXNotInterpolated}},{title:"64, not transposed",example:{model:normal_6X4}}]};function peaks$2(){return HeatMapSeriesExamples.createPeaks(void 0,!1)}function peaksRenderAsImage$1(){return _enableRenderAsImage(peaks$2())}function horizontal6$1(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(6),!1)}function horizontal6RenderAsImage$1(){return _enableRenderAsImage(horizontal6$1())}function short$1(){const t=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(600),!1),e=t.axes[0];return e.startPosition=.02,e.endPosition=.5,t}function shortRenderAsImage$1(){return _enableRenderAsImage(short$1())}function position_None$1(){const t=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(600),!1),e=t.axes[0];return e.position=AxisPosition.None,t}function _enableRenderAsImage(t){const e=t.axes.find(r=>r instanceof LinearColorAxis);return e.renderAsImage=!0,t.title+=" - RenderAsImage",t}const LinearColorAxisExamples={peaks:peaks$2,peaksRenderAsImage:peaksRenderAsImage$1,horizontal6:horizontal6$1,horizontal6RenderAsImage:horizontal6RenderAsImage$1,short:short$1,shortRenderAsImage:shortRenderAsImage$1,position_None:position_None$1},category$K="LinearColorAxis",LinearColorAxisExamples$1={category:category$K,tags:["Axes"],examples:[{title:"Peaks",example:{model:peaks$2}},{title:"Peaks - RenderAsImage",example:{model:peaksRenderAsImage$1}},{title:"6 Colors",example:{model:horizontal6$1}},{title:"6 Colors - RenderAsImage",example:{model:horizontal6RenderAsImage$1}},{title:"Short",example:{model:short$1}},{title:"Short - RenderAsImage",example:{model:shortRenderAsImage$1}},{title:"Position None",example:{model:position_None$1}}]};function defaultValues(){const t=new PlotModel;return t.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),t.axes.push(new LogarithmicAxis({position:AxisPosition.Left})),t}function amdahlsLaw(){const t=new PlotModel({title:"Amdahl's law"}),e=new Legend({legendTitle:"Parallel portion"});t.legends.push(e);const r=(Se,_e)=>1/(1-Se+Se/_e),xe=Se=>{const _e=new LineSeries({title:Se.toFixed(0)});for(let Ae=1;Ae<=65536;Ae*=2)_e.points.push(newDataPoint(Ae,r(Se,Ae)));return _e};return t.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,title:"Number of processors",base:2,majorGridlineStyle:LineStyle.Solid,tickStyle:TickStyle.None})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:20,minorStep:2,majorStep:2,title:"Speedup",stringFormatter:Se=>Se.toFixed(2).toString(),majorGridlineStyle:LineStyle.Solid,tickStyle:TickStyle.None})),t.series.push(xe(.5)),t.series.push(xe(.75)),t.series.push(xe(.9)),t.series.push(xe(.95)),t}function richterMagnitudes(){const t=new PlotModel({title:"The Richter magnitude scale",plotMargins:newOxyThickness(80,0,80,40)}),e=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.TopCenter,legendOrientation:LegendOrientation.Horizontal,legendSymbolLength:24});t.legends.push(e),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Richter magnitude scale",majorGridlineStyle:LineStyle.None,tickStyle:TickStyle.None}));const r=new LineSeries({title:"Frequency",color:OxyColorHelper.fromUInt32(4282150046),strokeThickness:3,markerStroke:OxyColorHelper.fromUInt32(4282150046),markerFill:OxyColors.White,markerType:MarkerType.Circle,markerSize:4,markerStrokeThickness:3});r.points.push(newDataPoint(1.5,8e3*365*100)),r.points.push(newDataPoint(2.5,1e3*365*100)),r.points.push(newDataPoint(3.5,49e3*100)),r.points.push(newDataPoint(4.5,6200*100)),r.points.push(newDataPoint(5.5,800*100)),r.points.push(newDataPoint(6.5,120*100)),r.points.push(newDataPoint(7.5,18*100)),r.points.push(newDataPoint(8.5,1*100)),r.points.push(newDataPoint(9.5,1/20*100)),t.axes.push(new LogarithmicAxis({position:AxisPosition.Left,title:"Frequency / 100 yr",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.None,tickStyle:TickStyle.Outside})),t.series.push(r);const xe=new LineSeries({title:"Energy",color:OxyColorHelper.fromUInt32(4288572476),strokeThickness:3,markerStroke:OxyColorHelper.fromUInt32(4288572476),markerFill:OxyColors.White,markerType:MarkerType.Circle,markerSize:4,markerStrokeThickness:3});return xe.points.push(newDataPoint(1.5,11e6)),xe.points.push(newDataPoint(2.5,36e7)),xe.points.push(newDataPoint(3.5,11e9)),xe.points.push(newDataPoint(4.5,36e10)),xe.points.push(newDataPoint(5.5,11e12)),xe.points.push(newDataPoint(6.5,36e13)),xe.points.push(newDataPoint(7.5,11e15)),xe.points.push(newDataPoint(8.5,36e16)),xe.points.push(newDataPoint(9.5,11e18)),xe.yAxisKey="energyAxis",t.axes.push(new LogarithmicAxis({position:AxisPosition.Right,title:"Energy / J",key:"energyAxis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.None,tickStyle:TickStyle.Outside})),t.series.push(xe),t}const absoluteMaximum=()=>{const t=new PlotModel({title:"AbsoluteMaximum = 1000"});return t.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimum:.1,maximum:1e3,absoluteMaximum:1e3})),t.series.push(new FunctionSeries({f:Math.exp,x0:0,x1:Math.log(900),n:100})),t},axisChangedEventHAndler=()=>{const t=new PlotModel({title:"AxisChanged event handler"});let e=0;const r=new LogarithmicAxis({position:AxisPosition.Left,minimum:.1,maximum:1e3});return r.axisChanged=(xe,Se)=>{t.subtitle="Changed "+e+++" times. ActualMaximum="+r.actualMaximum},t.axes.push(r),t.series.push(new FunctionSeries({f:Math.exp,x0:0,x1:Math.log(900),n:100})),t},negativeValues=()=>{const t=new PlotModel({title:"LogarithmicAxis",subtitle:"LineSeries with negative values"});return t.axes.push(new LogarithmicAxis({position:AxisPosition.Left})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.series.push(new FunctionSeries({f:e=>Math.sin(e),x0:0,x1:40,n:1e3})),t};function tickCalculation(){const t=new PlotModel({title:"Tick calculation for different bases"});return t.axes.push(new LogarithmicAxis({title:"Base 10",position:AxisPosition.Left,minimum:20,maximum:2e4,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),t.axes.push(new LogarithmicAxis({title:"Base 7",position:AxisPosition.Bottom,base:7,minimum:2,maximum:1e4,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),t.axes.push(new LogarithmicAxis({title:"Base 5.5",position:AxisPosition.Top,base:5.5,minimum:1,maximum:100,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),t.axes.push(new LogarithmicAxis({title:"Base 2",position:AxisPosition.Right,base:2,minimum:1,maximum:1e6,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),t}const category$J="LogarithmicAxis",LogarithmicAxisExamples={category:category$J,tags:["Axes"],examples:[{title:"LogarithmicAxis with default values",example:{model:defaultValues}},{title:"Amdahl's Law",example:{model:amdahlsLaw}},{title:"Richter magnitudes",example:{model:richterMagnitudes}},{title:"LogarithmicAxis with AbsoluteMaximum",example:{model:absoluteMaximum}},{title:"LogarithmicAxis with AxisChanged event handler",example:{model:axisChangedEventHAndler}},{title:"Negative values",example:{model:negativeValues}},{title:"Tick calculation",example:{model:tickCalculation}}]};function peaks$1(){return _convertToLogarithmic(LinearColorAxisExamples.peaks())}function peaksRenderAsImage(){return _convertToLogarithmic(LinearColorAxisExamples.peaksRenderAsImage())}function horizontal6(){return _convertToLogarithmic(LinearColorAxisExamples.horizontal6())}function horizontal6RenderAsImage(){return _convertToLogarithmic(LinearColorAxisExamples.horizontal6RenderAsImage())}function short(){return _convertToLogarithmic(LinearColorAxisExamples.short())}function shortRenderAsImage(){return _convertToLogarithmic(LinearColorAxisExamples.shortRenderAsImage())}function position_None(){return _convertToLogarithmic(LinearColorAxisExamples.position_None())}function _convertToLogarithmic(t){const e=t.axes.find(_e=>_e instanceof LinearColorAxis),r=t.axes.indexOf(e);r>-1&&t.axes.splice(r,1);const xe=new LogarithmicColorAxis({position:e.position,palette:e.palette,startPosition:e.startPosition,endPosition:e.endPosition,highColor:e.highColor,lowColor:e.lowColor,invalidNumberColor:e.invalidNumberColor}),Se=t.series.find(_e=>_e instanceof HeatMapSeries);if(Se.data)for(let _e=0;_e<Se.data.length;_e++)for(let Ae=0;Ae<Se.data[_e].length;Ae++)Se.data[_e][Ae]+=6.6;return t.axes.push(xe),t}const category$I="LogarithmicColorAxis",LogarithmicColorAxisExamples={category:category$I,tags:["Axes"],examples:[{title:"Peaks",example:{model:peaks$1}},{title:"Peaks - RenderAsImage",example:{model:peaksRenderAsImage}},{title:"6 Colors",example:{model:horizontal6}},{title:"6 Colors - RenderAsImage",example:{model:horizontal6RenderAsImage}},{title:"Short",example:{model:short}},{title:"Short - RenderAsImage",example:{model:shortRenderAsImage}},{title:"Position None",example:{model:position_None}}]};function archimedeanSpiral(){const t=new PlotModel({title:"Polar plot",subtitle:"Archimedean spiral with equation r() =  for 0 <  < 6",plotType:PlotType.Polar,plotAreaBorderThickness:newOxyThickness(0)});return t.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),t.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),t.series.push(new FunctionSeries({fx:e=>e,fy:e=>e,t0:0,t1:Math.PI*6,dt:.01})),t}function archimedeanSpiral2(){const t=archimedeanSpiral();t.title+="(reversed angle axis)";const e=t.axes[0];return e.startAngle=360,e.endAngle=0,t}function archimedeanSpiral3(){const t=archimedeanSpiral();t.title+=" (axis Minimum = 10 and Maximum = 20)";const e=t.axes[1];return e.minimum=10,e.maximum=20,t}function offsetAngles(){const t=new PlotModel({title:"Offset angle axis",plotType:PlotType.Polar,plotAreaBorderThickness:newOxyThickness(0)}),e=new AngleAxis({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,stringFormatter:r=>r.toFixed(2),startAngle:30,endAngle:390});return t.axes.push(e),t.axes.push(new MagnitudeAxis),t.series.push(new FunctionSeries({fx:r=>r,fy:r=>r,t0:0,t1:Math.PI*6,dt:.01})),t.mouseDown=(r,xe)=>{let Se=0;xe.changedButton===OxyMouseButton.Left&&(Se=15),xe.changedButton===OxyMouseButton.Right&&(Se=-15),Math.abs(Se)>Number.EPSILON&&(e.startAngle+=Se,e.endAngle+=Se,t.invalidatePlot(!1),xe.handled=!0)},t}function semiCircle(){const t=new PlotModel({title:"Semi-circle polar plot",plotType:PlotType.Polar,plotAreaBorderThickness:newOxyThickness(0)});return t.axes.push(new AngleAxis({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),t.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),t.series.push(circleFunctionSeries()),t}function semiCircleOffsetAngleAxisRange(){const t=new PlotModel({title:"Semi-circle polar plot",subtitle:"Angle axis range offset to -180 - 180",plotType:PlotType.Polar,plotAreaBorderThickness:newOxyThickness(0)});return t.axes.push(new AngleAxis({minimum:-180,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:360,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),t.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),t.series.push(circleFunctionSeries()),t}function eastWestDirections(){const t=new PlotModel({title:"East/west directions",plotType:PlotType.Polar,plotAreaBorderThickness:newOxyThickness(0)});return t.axes.push(new AngleAxis({minimum:0,maximum:360,majorStep:30,minorStep:30,startAngle:-90,endAngle:270,labelFormatter:function(e){return e>0&&e<180?`${e}E`:e>180?`${360-e}W`:e.toString()},majorGridlineStyle:LineStyle.Dot,minorGridlineStyle:LineStyle.None})),t.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),t.series.push(circleFunctionSeries()),t}function semiCircleFullPlotArea(){const t=new PlotModel({title:"Semi-circle polar plot filling the plot area",subtitle:"The center can be moved using the right mouse button",plotType:PlotType.Polar,plotAreaBorderThickness:newOxyThickness(1)});return t.axes.push(new AngleAxisFullPlotArea({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),t.axes.push(new MagnitudeAxisFullPlotArea({minimum:0,maximum:1,midShiftH:0,midShiftV:.9,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),t.series.push(circleFunctionSeries()),t}function archimedeanSpiralFullPlotArea(){const t=createFullPlotAreaPlotModel();return t.series.push(new FunctionSeries({fx:e=>e,fy:e=>e,t0:0,t1:Math.PI*6,dt:.01})),t}function spiralWithNegativeMinium(){const t=createFullPlotAreaPlotModel();return t.title+=" with a negative minimum",t.series.push(new FunctionSeries({fx:e=>e,fy:e=>e,t0:-Math.PI*6,t1:Math.PI*6,dt:.01})),t}function spiralWithPositiveMinium(){const t=createFullPlotAreaPlotModel();return t.title+=" with a positive minimum",t.series.push(new FunctionSeries({fx:e=>e,fy:e=>e,t0:Math.PI*6,t1:Math.PI*12,dt:.01})),t}function createFullPlotAreaPlotModel(){const t=new PlotModel({title:"Polar plot filling the plot area",subtitle:"The center can be move using the right mouse button",plotType:PlotType.Polar,plotAreaBorderThickness:newOxyThickness(1)});return t.axes.push(new AngleAxisFullPlotArea({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),t.axes.push(new MagnitudeAxisFullPlotArea({midShiftH:-.1,midShiftV:-.25,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),t}const circleFunctionSeries=()=>new FunctionSeries({fx:t=>Math.sin(t/180*Math.PI),fy:t=>t,t0:0,t1:180,dt:.01}),category$H="Polar Plots",PolarPlotExamples={category:category$H,tags:["Axes"],examples:[{title:"Spiral",example:{model:archimedeanSpiral}},{title:"Spiral2",example:{model:archimedeanSpiral2}},{title:"Spiral with magnitude axis min and max",example:{model:archimedeanSpiral3}},{title:"Angle axis with offset angle",example:{model:offsetAngles}},{title:"Semi-circle",example:{model:semiCircle}},{title:"Semi-circle offset angle axis range",example:{model:semiCircleOffsetAngleAxisRange}},{title:"East/west directions",example:{model:eastWestDirections}},{title:"Semi-circle full plot area",example:{model:semiCircleFullPlotArea}},{title:"Spiral full plot area",example:{model:archimedeanSpiralFullPlotArea}},{title:"Spiral full plot area with negative minimum",example:{model:spiralWithNegativeMinium}},{title:"Spiral full plot area with positive minimum",example:{model:spiralWithPositiveMinium}}]};function reversedHorizontalRangeColorAxis(){return rangeColorAxis(AxisPosition.Top,!0)}function reversedVerticalRangeColorAxis(){return rangeColorAxis(AxisPosition.Right,!0)}function horizontalRangeColorAxis(){return rangeColorAxis(AxisPosition.Top,!1)}function verticalRangeColorAxis(){return rangeColorAxis(AxisPosition.Right,!1)}function rangeColorAxis(t,e){const xe=e?"ScatterSeries and Reversed RangeColorAxis (n=1000)":"ScatterSeries and RangeColorAxis (n=1000)",Se=new PlotModel({title:xe,background:OxyColors.LightGray});Se.axes.push(new LinearAxis({position:AxisPosition.Bottom})),Se.axes.push(new LinearAxis({position:AxisPosition.Left}));const _e=new RangeColorAxis({position:t,maximum:2,minimum:-2});_e.addRange(0,.5,OxyColors.Blue),_e.addRange(-.2,-.1,OxyColors.Red),e&&(_e.startPosition=1,_e.endPosition=0),Se.axes.push(_e);const Ae=new ScatterSeries({markerType:MarkerType.Square,markerSize:6}),Ce=new Random;for(let Pe=0;Pe<1e3;Pe++){const Ee=Ce.next()*2.2-1.1;Ae.points.push({x:Ee,y:Ce.next(),value:Ee})}return Se.series.push(Ae),Se}const category$G="RangeColorAxis",RangeColorAxisExamples={category:category$G,tags:["Axes"],examples:[{title:"ScatterSeries with Reversed RangeColorAxis (Horizontal)",example:{model:reversedHorizontalRangeColorAxis}},{title:"ScatterSeries with Reversed  RangeColorAxis (Vertical)",example:{model:reversedVerticalRangeColorAxis}},{title:"ScatterSeries with RangeColorAxis (Horizontal)",example:{model:horizontalRangeColorAxis}},{title:"ScatterSeries with RangeColorAxis (Vertical)",example:{model:verticalRangeColorAxis}}]};function timeSpanaxisPlotModelDefault(){return timeSpanAxisPlotModel(void 0)}function timeSpanaxisPlotModel1(){return timeSpanAxisPlotModel(t=>`${formatTimeSpan(t,"hh:mm")}`)}function timeSpanAxisPlotModel(t){const Se=[];let _e=0;const Ae=new Random;for(;_e<=86400;)Se.push({time:_e,value:Ae.next()}),_e+=3600;const Ce=new PlotModel({title:"TimeSpan axis"}),Pe=new TimeSpanAxis({position:AxisPosition.Bottom,stringFormatter:t});Ce.axes.push(Pe);const Ee=new LinearAxis({position:AxisPosition.Left});Ce.axes.push(Ee);const Oe=new LineSeries({color:OxyColorHelper.fromArgb(255,78,154,6),markerFill:OxyColorHelper.fromArgb(255,78,154,6),markerStroke:OxyColors.ForestGreen,markerType:MarkerType.Plus,strokeThickness:1,dataFieldX:"time",dataFieldY:"value",itemsSource:Se});return Ce.series.push(Oe),Ce}const category$F="TimeSpanAxis",TimeSpanAxisExamples={category:category$F,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:timeSpanaxisPlotModelDefault}},{title:"StringFormat = 'h:mm'",example:{model:timeSpanaxisPlotModel1}}]},Axes=[AxisExamples,CartesianAxesExamples,CategoryAxisExamples,CategoryColorAxisExamples,CustomAxisExamples,DateTimeAxisExamples,LinearAxisExamples,LinearColorAxisExamples$1,LogarithmicAxisExamples,LogarithmicColorAxisExamples,PolarPlotExamples,RangeColorAxisExamples,TimeSpanAxisExamples];class ErrorItem{constructor(e,r,xe,Se){Tn(this,"x");Tn(this,"y");Tn(this,"xError");Tn(this,"yError");this.x=e||0,this.y=r||0,this.xError=xe||0,this.yError=Se||0}}class ErrorSeries extends XYAxisSeries{constructor(){super();Tn(this,"points",[]);Tn(this,"color");Tn(this,"strokeThickness");this.color=OxyColors.Black,this.strokeThickness=1}getElementName(){return"ErrorSeries"}get pointsList(){return this.points}async render(r){const xe=this.points;if(xe.length===0)return;this.verifyAxes();const Se=xe.length,_e=[];for(let Ae=0;Ae<Se;Ae++){const Ce=this.xAxis.transformPoint(xe[Ae].x,xe[Ae].y,this.yAxis),Pe=xe[Ae],Ee=Pe?Pe.xError*this.xAxis.scale:0,Oe=Pe?Pe.yError*Math.abs(this.yAxis.scale):0,Me=4;if(Ee>0){const De=newScreenPoint(Ce.x-Ee*.5,Ce.y),Te=newScreenPoint(Ce.x+Ee*.5,Ce.y);_e.push(De,Te,newScreenPoint(De.x,De.y-Me),newScreenPoint(De.x,De.y+Me),newScreenPoint(Te.x,Te.y-Me),newScreenPoint(Te.x,Te.y+Me))}if(Oe>0){const De=newScreenPoint(Ce.x,Ce.y-Oe*.5),Te=newScreenPoint(Ce.x,Ce.y+Oe*.5);_e.push(De,Te,newScreenPoint(De.x-Me,De.y),newScreenPoint(De.x+Me,De.y),newScreenPoint(Te.x-Me,Te.y),newScreenPoint(Te.x+Me,Te.y))}}for(let Ae=0;Ae+1<_e.length;Ae+=2)await RenderingExtensions.drawReducedLine(r,[_e[Ae],_e[Ae+1]],0,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin.Bevel)}async renderLegend(r,xe){const Se=OxyRectHelper.right(xe),_e=OxyRectHelper.bottom(xe),Ae=(xe.left+Se)/2,Ce=(xe.top+_e)/2,Pe=[newScreenPoint(xe.left,Ce),newScreenPoint(Se,Ce),newScreenPoint(xe.left,Ce-2),newScreenPoint(xe.left,Ce+3),newScreenPoint(Se,Ce-2),newScreenPoint(Se,Ce+3),newScreenPoint(Ae,xe.top),newScreenPoint(Ae,_e),newScreenPoint(Ae-2,xe.top),newScreenPoint(Ae+3,xe.top),newScreenPoint(Ae-2,_e),newScreenPoint(Ae+3,_e)];await r.drawLineSegments(Pe,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin.Miter)}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin2(this.points,r=>r.x-r.xError,r=>r.x+r.xError,r=>r.y-r.yError,r=>r.y+r.yError)}}class FlagSeries extends ItemsSeries{constructor(){super();Tn(this,"symbolPosition",0);Tn(this,"symbolSize",OxySize_Empty);Tn(this,"color");Tn(this,"maximumX",0);Tn(this,"minimumX",0);Tn(this,"symbol");Tn(this,"_values",[]);Tn(this,"xAxis");Tn(this,"xAxisKey");this.color=OxyColors.Black,this.fontSize=10,this.symbol="",this.font="Wingdings 2",this.trackerStringFormatter=function(r){return`${r.title}: ${r.item}`}}getElementName(){return"FlagSeries"}get values(){return this._values}getNearestPoint(r,xe){if(this.xAxis)for(const Se of this.values){if(isNaN(Se)||Se<this.xAxis.actualMinimum||Se>this.xAxis.actualMaximum)continue;const _e=this.xAxis.transform(Se),Ae=newOxyRect(_e-this.symbolSize.width/2,this.symbolPosition-this.symbolSize.height,this.symbolSize.width,this.symbolSize.height);if(OxyRectHelper.containsPoint(Ae,r)){const Ce=this.trackerStringFormatter({item:Se,title:this.title});return new TrackerHitResult({series:this,dataPoint:newDataPoint(Se,NaN),position:newScreenPoint(_e,this.symbolPosition-this.symbolSize.height),text:Ce})}}}async render(r){if(this.xAxis){this.symbolPosition=OxyRectHelper.bottom(this.plotModel.plotArea),this.symbolSize=r.measureText(this.symbol,this.actualFont,this.actualFontSize,this.actualFontWeight);for(const xe of this.values){if(isNaN(xe)||xe<this.xAxis.clipMinimum||xe>this.xAxis.clipMaximum)continue;const Se=this.xAxis.transform(xe);await r.drawText(newScreenPoint(Se,this.symbolPosition),this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Bottom)}}}async renderLegend(r,xe){await r.drawText(OxyRectHelper.center(xe),this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}areAxesRequired(){return!0}ensureAxes(){this.xAxis=this.xAxisKey!==void 0?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis}isUsing(r){return r===this.xAxis}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minimumX),this.xAxis.include(this.maximumX)}updateData(){}updateMaxMin(){this.minimumX=minValueOfArray(this.values),this.maximumX=maxValueOfArray(this.values)}}class LineSegmentSeries extends LineSeries{constructor(){super();Tn(this,"showVerticals");Tn(this,"epsilon");this.showVerticals=!0,this.epsilon=1e-8}getElementName(){return"LineSegmentSeries"}async render(r){if(this.points.length===0)return;if(this.points.length%2!==0)throw new Error("The number of points should be even.");if(!this.xAxis||!this.yAxis)throw new Error("Axis has not been defined.");const xe=this.points.map(_e=>this.transform(_e)),Se=[];for(let _e=0;_e<xe.length;_e+=2)screenPointDistanceToSquared(xe[_e],xe[_e+1])<this.strokeThickness&&(xe[_e]=newScreenPoint(xe[_e].x-this.strokeThickness*.5,xe[_e].y),xe[_e+1]=newScreenPoint(xe[_e].x+this.strokeThickness*.5,xe[_e].y)),this.showVerticals&&_e>0&&Math.abs(xe[_e-1].x-xe[_e].x)<this.epsilon&&(Se.push(xe[_e-1]),Se.push(xe[_e]));if(this.strokeThickness>0){if(this.lineStyle!==LineStyle.None){const _e=LineStyleHelper.getDashArray(this.lineStyle);await r.drawLineSegments(xe,this.actualColor,this.strokeThickness,this.edgeRenderingMode,_e,this.lineJoin)}await r.drawLineSegments(Se,this.actualColor,this.strokeThickness/3,this.edgeRenderingMode,LineStyleHelper.getDashArray(LineStyle.Dash),this.lineJoin)}await RenderingExtensions.drawMarkers(r,xe,this.markerType,void 0,[this.markerSize],this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}getNearestPoint(r,xe){const Se=this.points;if(!Se)return;let _e,Ae,Ce=-1,Pe=Number.MAX_VALUE;for(let Ee=0;Ee+1<Se.length;Ee+=2){const Oe=Se[Ee],Me=Se[Ee+1];if(!this.isValidPoint(Oe)||!this.isValidPoint(Me))continue;const De=this.transform(Oe),Te=this.transform(Me),ke=ScreenPointHelper.findPointOnLine(r,De,Te);if(ScreenPoint_isUndefined(ke))continue;const Fe=screenPointDistanceToSquared(r,ke);if(Fe<Pe){const $e=screenPointDistanceTo(ke,De)/screenPointDistanceTo(Te,De);Ae=newDataPoint(Oe.x+$e*(Me.x-Oe.x),Oe.y+$e*(Me.y-Oe.y)),_e=ke,Pe=Fe,Ce=Ee+$e}}if(Pe<Number.MAX_VALUE){const Ee=this.getItem(Math.floor(Ce));return new TrackerHitResult({series:this,dataPoint:Ae,position:_e,item:Ee,index:Ce,text:`${this.title||""}
x: ${Ee.x}
y: ${Ee.y}`})}}}class MatrixSeries extends XYAxisSeries{constructor(r){super(r);Tn(this,"image");Tn(this,"_matrix");Tn(this,"gridInterval");Tn(this,"showDiagonal");Tn(this,"minimumGridLineDistance");Tn(this,"gridColor");Tn(this,"borderColor");Tn(this,"notZeroColor");Tn(this,"zeroTolerance");this.gridInterval=1,this.showDiagonal=!1,this.minimumGridLineDistance=4,this.gridColor=OxyColors.LightGray,this.borderColor=OxyColors.Gray,this.notZeroColor=OxyColors.Black,this.zeroTolerance=0,this.trackerStringFormatter=function(xe){return`${xe.title||""}
[${xe.xValue},${xe.yValue}] = ${xe.item}`},r&&Object.assign(this,removeUndef(r))}get matrix(){return this._matrix}set matrix(r){this._matrix=r,this.image=void 0}getElementName(){return"MatrixSeries"}get matrixValue(){return this.matrix}set matrixValue(r){this.image=void 0,this.matrix=r}async render(r){if(!this.matrixValue)return;const xe=PlotElementExtensions.transform,Se=this.matrixValue.length,_e=this.matrixValue[0].length,Ae=xe(this,0,0),Ce=xe(this,_e,Se);if(!this.image){const Te=new TwoDimensionalArray(_e,Se);for(let ke=0;ke<Se;ke++)for(let Fe=0;Fe<_e;Fe++){const $e=Math.abs(this.matrixValue[ke][Fe])<=this.zeroTolerance?OxyColors.Transparent:this.notZeroColor;Te.set(Fe,ke,$e)}this.image=await OxyImageEx.create(Te,ImageFormat.Png)}const Pe=Math.min(Ae.x,Ce.x),Ee=Math.min(Ae.y,Ce.y),Oe=Math.abs(Ae.x-Ce.x),Me=Math.abs(Ae.y-Ce.y);await RenderingExtensions.drawImage(r,this.image,Pe,Ee,Oe,Me,1,!1);const De=[];if(this.gridInterval>0){const Te=xe(this,this.gridInterval,this.gridInterval);if(Math.abs(Te.y-Ae.y)>this.minimumGridLineDistance)for(let ke=1;ke<_e;ke+=this.gridInterval)De.push(xe(this,0,ke)),De.push(xe(this,_e,ke));if(Math.abs(Te.x-Ae.x)>this.minimumGridLineDistance)for(let ke=1;ke<Se;ke+=this.gridInterval)De.push(xe(this,ke,0)),De.push(xe(this,ke,Se))}if(this.showDiagonal&&(De.push(xe(this,0,0)),De.push(xe(this,_e,Se))),await r.drawLineSegments(De,this.gridColor,1,this.edgeRenderingMode,void 0,LineJoin.Miter),OxyColorHelper.isVisible(this.borderColor)){const Te=[xe(this,0,0),xe(this,Se,0),xe(this,0,_e),xe(this,Se,_e),xe(this,0,0),xe(this,0,_e),xe(this,Se,0),xe(this,Se,_e)];await r.drawLineSegments(Te,this.borderColor,1,this.edgeRenderingMode,void 0,LineJoin.Miter)}}getNearestPoint(r,xe){if(!this.matrix)return;const Se=this.inverseTransform(r),_e=Math.floor(Se.y),Ae=Math.floor(Se.x);if(_e>=0&&_e<this.matrix.length&&Ae>=0&&Ae<this.matrix[0].length){const Ce=this.matrix[_e][Ae];return new TrackerHitResult({series:this,dataPoint:Se,position:r,item:null,index:-1,text:this.trackerStringFormatter({item:Ce,title:this.title,xValue:Ae,yValue:_e})})}}updateMaxMin(){super.updateMaxMin(),this.matrix&&(this.minX=0,this.maxX=this.matrix[0].length,this.minY=0,this.maxY=this.matrix.length)}}class PolarHeatMapSeries extends XYAxisSeries{constructor(r){super(r);Tn(this,"image");Tn(this,"pixels");Tn(this,"imageSize",0);Tn(this,"angle0",0);Tn(this,"angle1",0);Tn(this,"magnitude0",0);Tn(this,"magnitude1",0);Tn(this,"data");Tn(this,"interpolate");Tn(this,"minValue",0);Tn(this,"maxValue",0);Tn(this,"colorAxis");Tn(this,"colorAxisKey");this.interpolate=!0,r&&Object.assign(this,removeUndef(r))}getElementName(){return"PolarHeatMapSeries"}async render(r){if(!this.data){this.image=void 0;return}this.imageSize>0?await this.renderFixed(r,this.plotModel):await this.renderDynamic(r,this.plotModel)}async renderDynamic(r,xe){if(!this.data)return;const Se=this.data.length,_e=this.data[0].length,Ae=xe.plotArea,Ce=Math.floor(Ae.width),Pe=Math.floor(Ae.height);if(Ce===0||Pe===0)return;(!this.pixels||this.pixels.height!==Pe||this.pixels.width!==Ce)&&(this.pixels=new TwoDimensionalArray(Ce,Pe));const Ee=this.pixels,Oe=ColorAxisExtensions.getColor;for(let Me=0;Me<Pe;Me++)for(let De=0;De<Ce;De++){const Te=newScreenPoint(Ae.left+De,Ae.top+Me),ke=this.inverseTransform(Te);let Fe,$e;if(this.plotModel.plotType!==PlotType.Polar)Fe=Math.atan2(ke.y,ke.x)/Math.PI*180,$e=Math.sqrt(ke.x*ke.x+ke.y*ke.y);else{for(Fe=ke.y/Math.PI*180,$e=ke.x;Fe<0;)Fe+=360;for(;Fe>360;)Fe-=360}const Be=(Fe-this.angle0)/(this.angle1-this.angle0)*Se,Ie=($e-this.magnitude0)/(this.magnitude1-this.magnitude0)*_e;if(Be>=0&&Be<Se&&Ie>=0&&Ie<_e){const Re=this.getValue(Be,Ie),je=OxyColorHelper.fromAColor(160,Oe(this.colorAxis,Re));Ee.set(De,Me,je)}else Ee.set(De,Me,OxyColors.Transparent)}this.image=await OxyImageEx.create(Ee,ImageFormat.Png),await RenderingExtensions.drawImage(r,this.image,Ae.left,Ae.top,Ae.width,Ae.height,1,!1)}async renderFixed(r,xe){if(!this.data)return;if(!this.image){const Ae=this.data.length,Ce=this.data[0].length,Pe=this.imageSize,Ee=this.imageSize;(this.pixels===void 0||this.pixels.height!==Ee||this.pixels.width!==Pe)&&(this.pixels=new TwoDimensionalArray(Pe,Ee));const Oe=ColorAxisExtensions.getColor,Me=this.pixels;for(let De=0;De<Ee;De++)for(let Te=0;Te<Pe;Te++){const ke=(Te-Pe*.5)/(Pe*.5)*this.magnitude1,Fe=-(De-Ee*.5)/(Ee*.5)*this.magnitude1;let $e=Math.atan2(Fe,ke)/Math.PI*180;const Be=Math.sqrt(ke*ke+Fe*Fe);for(;$e<0;)$e+=360;for(;$e>360;)$e-=360;const Ie=($e-this.angle0)/(this.angle1-this.angle0)*Ae,Re=(Be-this.magnitude0)/(this.magnitude1-this.magnitude0)*Ce;if(Ie>=0&&Ie<Ae&&Re>=0&&Re<Ce){const je=this.getValue(Ie,Re),Ve=OxyColorHelper.fromAColor(160,Oe(this.colorAxis,je));Me.set(Te,De,Ve)}else Me.set(Te,De,OxyColors.Transparent)}this.image=await OxyImageEx.create(Me,ImageFormat.Png)}if(!this.image)return;const Se=PlotElementExtensions.transform;let _e;if(this.plotModel.plotType!==PlotType.Polar){const Ae=Se(this,-this.magnitude1,this.magnitude1),Ce=Se(this,this.magnitude1,-this.magnitude1);_e=newOxyRect(Ae.x,Ae.y,Ce.x-Ae.x,Ce.y-Ae.y)}else{const Ae=Se(this,this.magnitude1,90),Ce=Se(this,this.magnitude1,270),Pe=Se(this,this.magnitude1,180),Ee=Se(this,this.magnitude1,0);_e=newOxyRect(Pe.x,Ae.y,Ee.x-Pe.x,Ce.y-Ae.y)}await RenderingExtensions.drawImage(r,this.image,_e.left,_e.top,_e.width,_e.height,1,!1)}getValue(r,xe){if(!this.data)return NaN;if(!this.interpolate){const Ie=Math.floor(r),Re=Math.floor(xe);return this.data[Ie][Re]}r-=.5,xe-=.5;const Se=Math.floor(r),_e=Math.floor(xe),Ae=Se>0?Se:0,Ce=Se+1<this.data.length?Se+1:Se,Pe=_e>0?_e:0,Ee=_e+1<this.data[0].length?_e+1:_e,Oe=this.data[Ae][Pe],Me=this.data[Ae][Ee],De=this.data[Ce][Pe],Te=this.data[Ce][Ee],ke=r-Se,Fe=xe-_e,$e=Oe*(1-Fe)+Me*Fe,Be=De*(1-Fe)+Te*Fe;return $e*(1-ke)+Be*ke}getNearestPoint(r,xe){}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin();const r=this.getData();this.minValue=minValueOfArray(r),this.maxValue=maxValueOfArray(r);const xe=this.colorAxis;xe&&(xe.include(this.minValue),xe.include(this.maxValue))}getData(){if(!this.data)return[];const r=this.data.length,xe=[],Se=this.data[0].length;for(let _e=0;_e<r;_e++)for(let Ae=0;Ae<Se;Ae++)xe.push(this.data[_e][Ae]);return xe}}function errorSeries(){const e=new PlotModel({title:"ErrorSeries"}),r=new Legend({legendPosition:LegendPosition.BottomRight});e.legends.push(r);const xe=new ErrorSeries;xe.title="Measurements";const Se=new Random().next();let _e=0,Ae=0;for(let Ce=0;Ce<20;Ce++){_e+=2+Se*10,Ae+=1+Se;const Pe=1+Se*2,Ee=1+Se*2;xe.pointsList.push(new ErrorItem(_e,Ae,Pe,Ee))}return e.series.push(xe),e}function lineSegmentSeries(){const t=new PlotModel({title:"LineSegmentSeries"}),e=new LineSegmentSeries;e.title="The first series",e.points.push(newDataPoint(0,3),newDataPoint(2,3.2)),e.points.push(newDataPoint(2,2.7),newDataPoint(7,2.9)),t.series.push(e);const r=new LineSegmentSeries;return r.title="The second series",r.points.push(newDataPoint(1,-3),newDataPoint(2,10)),r.points.push(newDataPoint(0,4.8),newDataPoint(7,2.3)),r.points.push(newDataPoint(6,4),newDataPoint(6,4+1e-8)),t.series.push(r),t}function flagSeries(){const t=new PlotModel({title:"FlagSeries"}),e=new FlagSeries;return e.title="Incidents",e.color=OxyColors.Red,e.values.push(2,3,5,7,11,13,17,19),t.series.push(e),t}function diagonalMatrix(){const t=new PlotModel,e=[[1,0,0],[0,2,0],[0,0,3],[5,5,5]];return t.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.series.push(new MatrixSeries({matrix:e,showDiagonal:!0})),t}function polarHeatMap(){const t=new PlotModel({title:"Polar heat map",plotMargins:newOxyThickness(40,80,40,40),plotType:PlotType.Polar,plotAreaBorderThickness:newOxyThickness(0)}),e=[[0,2],[1.5,.2]];return t.axes.push(new AngleAxis({startAngle:0,endAngle:360,minimum:0,maximum:360,majorStep:30,minorStep:15})),t.axes.push(new MagnitudeAxis({minimum:0,maximum:100,majorStep:25,minorStep:5})),t.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.rainbow(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black})),t.series.push(new PolarHeatMapSeries({data:e,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!1})),t}function polarHeatMapReversedAngleAxis(){const t=polarHeatMap();return t.axes[0]=new AngleAxis({startAngle:360,endAngle:0,minimum:0,maximum:360,majorStep:30,minorStep:15}),t}function polarHeatMapRotatedCounterClockwise90(){const t=polarHeatMap();return t.axes[0]=new AngleAxis({startAngle:90,endAngle:450,minimum:0,maximum:360,majorStep:30,minorStep:15}),t}function polarHeatMapRotatedCounterClockwisePi(){const t=polarHeatMap();return t.axes[0]=new AngleAxis({startAngle:Math.PI,endAngle:Math.PI+360,minimum:0,maximum:360,majorStep:30,minorStep:15}),t}function polarHeatMapInterpolated(){const t=polarHeatMap();return t.title="Polar heat map (interpolated)",t.series[0].interpolate=!0,t}function polarHeatMapFixed(){const t=polarHeatMap();return t.title="Polar heat map with fixed size image",t.series[0].imageSize=800,t}function polarHeatMapLinearAxes(){const t=new PlotModel({title:"Polar heat map on linear axes"}),e=[[0,2],[1.5,.2]];return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-100,maximum:100})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100})),t.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.rainbow(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black})),t.series.push(new PolarHeatMapSeries({data:e,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!0})),t}function polarHeatMapLinearAxesFixed256(){const t=polarHeatMapLinearAxes();return t.title="Polar heat map on linear axes & fixed size image (256x256)",t.series[0].imageSize=256,t}function polarHeatMapLinearAxesFixed1000(){const t=polarHeatMapLinearAxes();return t.title="Polar heat map on linear axes & fixed size image (1000x1000)",t.series[0].imageSize=1e3,t}function designStructureMatrix(){const t=new TwoDimensionalArray(7,7,0);t.set(1,0,1),t.set(5,0,1),t.set(3,1,1),t.set(0,2,1),t.set(6,2,1),t.set(4,3,1),t.set(1,4,1),t.set(5,4,1),t.set(2,5,1),t.set(0,6,1),t.set(4,6,1);for(let _e=0;_e<7;_e++)t.set(_e,_e,-1);const e=new PlotModel({title:"Design structure matrix (DSM)"});e.axes.push(new LinearColorAxis({position:AxisPosition.None,palette:newOxyPalette([OxyColors.White,OxyColors.LightGreen]),lowColor:OxyColors.Black,minimum:0,isAxisVisible:!1}));const r=new CategoryAxis({position:AxisPosition.Top});r.labels.push("A","B","C","D","E","F","G"),e.axes.push(r);const xe=new CategoryAxis({position:AxisPosition.Left,startPosition:1,endPosition:0});xe.labels.push("Element A","Element B","Element C","Element D","Element E","Element F","Element G"),e.axes.push(xe);const Se=new DesignStructureMatrixSeries({data:t.toArray(),interpolate:!1,labelStringFormatter:(_e,Ae)=>`${_e||""}`,labelFontSize:.25,x0:0,x1:t.width-1,y0:0,y1:t.height-1});return e.series.push(Se),e}class DesignStructureMatrixSeries extends HeatMapSeries{constructor(e){super(e)}getLabel(e,r,xe){return r===xe?this.xAxis.labels[r]:super.getLabel(e,r,xe)}}const category$E="Custom series",CustomSeriesExamples={category:category$E,tags:["Series"],examples:[{title:"ErrorSeries",example:{model:errorSeries}},{title:"LineSegmentSeries",example:{model:lineSegmentSeries}},{title:"FlagSeries",example:{model:flagSeries}},{title:"MatrixSeries - diagonal matrix",example:{model:diagonalMatrix}},{title:"PolarHeatMap",example:{model:polarHeatMap}},{title:"PolarHeatMap Reversed Angle Axis",example:{model:polarHeatMapReversedAngleAxis}},{title:"PolarHeatMap Rotated CounterClockwise 90",example:{model:polarHeatMapRotatedCounterClockwise90}},{title:"PolarHeatMap Rotated CounterClockwise on PI degrees",example:{model:polarHeatMapRotatedCounterClockwisePi}},{title:"PolarHeatMap (interpolated)",example:{model:polarHeatMapInterpolated}},{title:"PolarHeatMap fixed size image",example:{model:polarHeatMapFixed}},{title:"PolarHeatMap on linear axes",example:{model:polarHeatMapLinearAxes}},{title:"PolarHeatMap linear axes, fixed size image (256x256)",example:{model:polarHeatMapLinearAxesFixed256}},{title:"PolarHeatMap linear axes, fixed size image (1000x1000)",example:{model:polarHeatMapLinearAxesFixed1000}},{title:"Design structure matrix (DSM)",example:{model:designStructureMatrix}}]},CustomSeries=[CustomSeriesExamples];function invisibleContourSeries(){const t=new PlotModel;t.title="Invisible contour series";const e=new ContourSeries;return e.isVisible=!1,e.columnCoordinates=ArrayBuilder.createVectorWithStep(-1,1,.05),e.rowCoordinates=ArrayBuilder.createVectorWithStep(-1,1,.05),e.data=ArrayBuilder.evaluate((r,xe)=>r+xe,e.columnCoordinates,e.rowCoordinates),t.series.push(e),t}function stairStepSeries_NullReferenceException(){const t=new PlotModel;return t.title="StairStepSeries NullReferenceException",t.series.push(new StairStepSeries),t}function heatMapSeriesInterpolationColor(){const t=[[10,0,-10],[0,0,0]],e=new PlotModel({title:"HeatMapSeries"});e.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:newOxyPalette([OxyColors.Red,OxyColors.Green,OxyColors.Blue])}));const r=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:0,x1:3,y0:0,y1:2,data:t,interpolate:!1,labelFontSize:.2});return e.series.push(r),e}function peaks400(){return HeatMapSeriesExamples.createPeaks(void 0,!0,400)}function updatingHeatMapSeries1(){const t=HeatMapSeriesExamples.createPeaks();t.title="Updating HeatMapSeries",t.subtitle="Click the heat map to change the Maximum of the color axis.";const e=t.axes[0],r=t.series[0];return r.onMouseDown=xe=>{e.maximum=isNaN(e.maximum)?10:NaN,t.invalidatePlot(!0)},t}function updatingHeatMapSeries2(){const t=HeatMapSeriesExamples.createPeaks();t.title="Updating HeatMapSeries",t.subtitle="Click the heat map to change the Maximum of the color axis and invoke the Invalidate method on the HeatMapSeries.";const e=t.axes[0],r=t.series[0];return r.onMouseDown=xe=>{e.maximum=isNaN(e.maximum)?10:NaN,r.invalidate(),t.invalidatePlot(!0)},t}function reducedColorSaturation(){const t=new PlotModel;t.title="Reduced color saturation",t.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),t.defaultColors=t.defaultColors.map(r=>OxyColorHelper.changeSaturation(r,.5).hex);const e=new Random;for(let r=0;r<t.defaultColors.length;r++){const xe=new BarSeries;xe.items.push(newBarItem(50+e.next()*50)),xe.items.push(newBarItem(40+e.next()*50)),t.series.push(xe)}return t}function mediumIntensityColors(){const t=new PlotModel;t.title="Medium intensity colors",t.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),t.defaultColors=[OxyColorHelper.fromRgb(114,114,114),OxyColorHelper.fromRgb(241,89,95),OxyColorHelper.fromRgb(121,195,106),OxyColorHelper.fromRgb(89,154,211),OxyColorHelper.fromRgb(249,166,90),OxyColorHelper.fromRgb(158,102,171),OxyColorHelper.fromRgb(205,112,88),OxyColorHelper.fromRgb(215,127,179)];const e=new Random;for(let r=0;r<t.defaultColors.length;r++){const xe=new BarSeries;xe.items.push(newBarItem(50+e.next()*50)),xe.items.push(newBarItem(40+e.next()*50)),t.series.push(xe)}return t}function brewerColors4(){const t=new PlotModel;t.title="Brewer colors (Accent scheme)",t.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),t.defaultColors=[OxyColorHelper.fromRgb(127,201,127),OxyColorHelper.fromRgb(190,174,212),OxyColorHelper.fromRgb(253,192,134),OxyColorHelper.fromRgb(255,255,153)];const e=new Random;for(let r=0;r<t.defaultColors.length;r++){const xe=new BarSeries;xe.items.push(newBarItem(50+e.next()*50)),xe.items.push(newBarItem(40+e.next()*50)),t.series.push(xe)}return t}function brewerColors6(){const t=new PlotModel;t.title="Brewer colors (Paired scheme)",t.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),t.defaultColors=[OxyColorHelper.fromRgb(166,206,227),OxyColorHelper.fromRgb(31,120,180),OxyColorHelper.fromRgb(178,223,138),OxyColorHelper.fromRgb(51,160,44),OxyColorHelper.fromRgb(251,154,153),OxyColorHelper.fromRgb(227,26,28)];const e=new Random;for(let r=0;r<t.defaultColors.length;r++){const xe=new BarSeries;xe.items.push(newBarItem(50+e.next()*50)),xe.items.push(newBarItem(40+e.next()*50)),t.series.push(xe)}return t}function sameColorOfLineSeriesAndAxisTitleAndLabels(){const t=new PlotModel;t.title="Same color of LineSeries and axis title & labels";const e=OxyColors.IndianRed;return t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Axis 1",titleColor:e,textColor:e})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.series.push(new LineSeries({title:"LineSeries 1",color:e,itemsSource:[newDataPoint(0,0),newDataPoint(10,3),newDataPoint(20,2)]})),t}function polarPlotWithArrows(){const t=new PlotModel;return t.title="Custom arrow series",t.plotType=PlotType.Polar,t.plotAreaBorderColor=OxyColors.Undefined,t.axes.push(new AngleAxis({minimum:0,maximum:360,majorStep:30,minorStep:30,majorGridlineStyle:LineStyle.Dash})),t.axes.push(new MagnitudeAxis({minimum:0,maximum:5,majorStep:1,minorStep:1,angle:90,majorGridlineStyle:LineStyle.Dash})),t.series.push(new ArrowSeries549839({endPoint:newDataPoint(1,40)})),t.series.push(new ArrowSeries549839({endPoint:newDataPoint(2,75)})),t.series.push(new ArrowSeries549839({endPoint:newDataPoint(3,110)})),t.series.push(new ArrowSeries549839({endPoint:newDataPoint(4,140)})),t.series.push(new ArrowSeries549839({endPoint:newDataPoint(5,180)})),t}function markerTypeCircleProblem(){const t=new PlotModel({plotType:PlotType.Cartesian,plotAreaBorderThickness:newOxyThickness(0)}),e=new Legend;e.legendSymbolLength=30;const r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],xe=getDateService(),Se=new DateTimeAxis({position:AxisPosition.Bottom,tickStyle:TickStyle.None,axislineStyle:LineStyle.Solid,axislineColor:OxyColorHelper.fromRgb(153,153,153),stringFormatter:(Ce,Pe)=>r[Ce.getMonth()]+xe.format(Ce,"d HH"),intervalType:DateTimeIntervalType.Hours}),_e=new LinearAxis({position:AxisPosition.Left,minimum:.001,maximum:3,majorGridlineStyle:LineStyle.Solid,tickStyle:TickStyle.None,intervalLength:50});t.axes.push(Se),t.axes.push(_e);const Ae=new LineSeries({color:OxyColorHelper.fromRgb(44,169,173),strokeThickness:1,markerType:MarkerType.Circle,markerStroke:OxyColors.Blue,markerFill:OxyColors.SkyBlue,markerSize:2,dataFieldX:"Date",dataFieldY:"Value",trackerStringFormatter:function(Ce){return"Date: "+xe.format(Ce.xValue,"DD HH")+`
Value: `+Ce.yValue}});return Ae.points.push(newDataPoint(.1,.7)),Ae.points.push(newDataPoint(.6,.9)),Ae.points.push(newDataPoint(1,.85)),Ae.points.push(newDataPoint(1.4,.95)),Ae.points.push(newDataPoint(1.8,1.2)),Ae.points.push(newDataPoint(2.2,1.7)),Ae.points.push(newDataPoint(2.6,1.7)),Ae.points.push(newDataPoint(3,.7)),t.series.push(Ae),t}class ArrowSeries549839 extends XYAxisSeries{constructor(r){super(r);Tn(this,"defaultColor",OxyColors.Undefined);Tn(this,"startPoint",DataPoint_Zero);Tn(this,"endPoint",DataPoint_Zero);Tn(this,"color");Tn(this,"strokeThickness");this.color=OxyColors.Automatic,this.strokeThickness=2,r&&Object.assign(this,r)}getElementName(){return"ArrowSeries549839"}setDefaultValues(){OxyColorHelper.isAutomatic(this.color)&&(this.defaultColor=this.plotModel.getDefaultColor())}get actualColor(){return OxyColorHelper.getActualColor(this.color,this.defaultColor)}async render(r){const xe=this.transform(this.startPoint),Se=this.transform(this.endPoint),_e=screenPointMinusEx(Se,xe),Ae=newScreenVectorEx(_e.y,-_e.x),Ce=screenPointPlus(screenPointMinusVector(Se,_e.times(.2)),Ae.times(.1)),Pe=screenPointMinusVector(screenPointMinusVector(Se,_e.times(.2)),Ae.times(.1));await r.drawLineSegments([xe,Se,Se,Ce,Se,Pe],this.actualColor,this.strokeThickness,this.edgeRenderingMode)}}const category$D="Z0 Discussions",DiscussionExamples={category:category$D,examples:[{title:"#445576: Invisible contour series",example:{model:invisibleContourSeries}},{title:"#461507: StairStepSeries NullReferenceException",example:{model:stairStepSeries_NullReferenceException}},{title:"#501409: Heatmap interpolation color",example:{model:heatMapSeriesInterpolationColor}},{title:"#522598: Peaks 400x400",example:{model:peaks400}},{title:"#474875: Updating HeatMapSeries 1",example:{model:updatingHeatMapSeries1}},{title:"#474875: Updating HeatMapSeries 2",example:{model:updatingHeatMapSeries2}},{title:"#539104: Reduced color saturation",example:{model:reducedColorSaturation}},{title:"#539104: Medium intensity colors",example:{model:mediumIntensityColors}},{title:"#539104: Brewer colors (4)",example:{model:brewerColors4}},{title:"#539104: Brewer colors (6)",example:{model:brewerColors6}},{title:"#542701: Same color of LineSeries and axis title & labels",example:{model:sameColorOfLineSeriesAndAxisTitleAndLabels}},{title:"#549839: Polar plot with custom arrow series",example:{model:polarPlotWithArrows}},{title:"MarkerType = Circle problem",example:{model:markerTypeCircleProblem}}]},Discussions=[DiscussionExamples];function filteringInvalidPoints(){const t=new PlotModel({title:"Filtering NaN points"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=new LineSeries;return e.points.push(newDataPoint(NaN,NaN)),e.points.push(newDataPoint(1,0)),e.points.push(newDataPoint(2,10)),e.points.push(newDataPoint(NaN,20)),e.points.push(newDataPoint(3,10)),e.points.push(newDataPoint(4,0)),e.points.push(newDataPoint(4.5,NaN)),e.points.push(newDataPoint(5,0)),e.points.push(newDataPoint(7,7)),e.points.push(newDataPoint(NaN,NaN)),e.points.push(newDataPoint(NaN,NaN)),e.points.push(newDataPoint(7,0)),e.points.push(newDataPoint(NaN,NaN)),t.series.push(e),t}function filteringInvalidPointsAreaSeries(){const t=new PlotModel({title:"Filtering NaN points in an AreaSeries"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=new AreaSeries;return e.points.push(newDataPoint(1,0)),e.points.push(newDataPoint(2,10)),e.points.push(newDataPoint(3,10)),e.points.push(newDataPoint(4,0)),e.points.push(newDataPoint(5,0)),e.points.push(newDataPoint(6,7)),e.points.push(newDataPoint(7,7)),e.points.push(newDataPoint(NaN,NaN)),e.points.push(newDataPoint(NaN,NaN)),e.points.push(newDataPoint(8,0)),e.points.push(newDataPoint(9,0)),e.points.push(newDataPoint(NaN,NaN)),e.points2.push(newDataPoint(1,10)),e.points2.push(newDataPoint(2,110)),e.points2.push(newDataPoint(3,110)),e.points2.push(newDataPoint(4,10)),e.points2.push(newDataPoint(5,10)),e.points2.push(newDataPoint(6,17)),e.points2.push(newDataPoint(7,17)),e.points2.push(newDataPoint(NaN,NaN)),e.points2.push(newDataPoint(NaN,NaN)),e.points2.push(newDataPoint(8,10)),e.points2.push(newDataPoint(9,10)),e.points2.push(newDataPoint(NaN,NaN)),t.series.push(e),t}function filteringUndefinedPoints(){const t=new PlotModel({title:"Filtering undefined points"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=new LineSeries;return e.points.push(DataPoint_Undefined),e.points.push(newDataPoint(1,0)),e.points.push(newDataPoint(2,10)),e.points.push(DataPoint_Undefined),e.points.push(newDataPoint(3,10)),e.points.push(newDataPoint(4,0)),e.points.push(DataPoint_Undefined),e.points.push(newDataPoint(5,0)),e.points.push(newDataPoint(7,7)),e.points.push(DataPoint_Undefined),e.points.push(DataPoint_Undefined),e.points.push(newDataPoint(7,0)),e.points.push(DataPoint_Undefined),t.series.push(e),t}function filteringInvalidPointsLog(){const t=new PlotModel({title:"Filtering invalid points on logarithmic axes"});t.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),t.axes.push(new LogarithmicAxis({position:AxisPosition.Left}));const e=new LineSeries;return e.points.push(newDataPoint(NaN,NaN)),e.points.push(newDataPoint(1,1)),e.points.push(newDataPoint(10,10)),e.points.push(newDataPoint(0,20)),e.points.push(newDataPoint(100,2)),e.points.push(newDataPoint(1e3,12)),e.points.push(newDataPoint(4.5,0)),e.points.push(newDataPoint(1e4,4)),e.points.push(newDataPoint(1e5,14)),e.points.push(newDataPoint(NaN,NaN)),e.points.push(newDataPoint(1e6,5)),e.points.push(newDataPoint(NaN,NaN)),t.series.push(e),t}function filteringPointsOutsideRange(){const t=new PlotModel({title:"Filtering points outside (-1,1)"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,filterMinValue:-1,filterMaxValue:1})),t.axes.push(new LinearAxis({position:AxisPosition.Left,filterMinValue:-1,filterMaxValue:1}));const e=new LineSeries;for(let r=0;r<200;r+=.01)e.points.push(newDataPoint(.01*r*Math.sin(r),.01*r*Math.cos(r)));return t.series.push(e),t}const category$C="Filtering data points",FilteringExamples={category:category$C,examples:[{title:"Filtering NaN points",example:{model:filteringInvalidPoints}},{title:"Filtering NaN points with AreaSeries",example:{model:filteringInvalidPointsAreaSeries}},{title:"Filtering undefined points",example:{model:filteringUndefinedPoints}},{title:"Filtering invalid points (log axis)",example:{model:filteringInvalidPointsLog}},{title:"Filtering points outside (-1,1)",example:{model:filteringPointsOutsideRange}}]},n$1=1e5;function usingIDataPoint(){const t=[];for(let r=0;r<n$1;r++){const xe=r/(n$1-1);t.push(newDataPoint(xe,y$1(xe)))}const e=new PlotModel({title:"Using IDataPoint"});return e.series.push(new LineSeries({itemsSource:t})),e}function usingIDataPointProvider(){const t=[];for(let r=0;r<n$1;r++){const xe=r/(n$1-1);t.push(new PointType1(xe,y$1(xe)))}const e=new PlotModel({title:"Items implementing IDataPointProvider"});return e.series.push(new LineSeries({itemsSource:t})),e}function usingMappingProperty(){const t=[];for(let r=0;r<n$1;r++){const xe=r/(n$1-1);t.push(new PointType2(xe,y$1(xe)))}const e=new PlotModel({title:"Using Mapping property"});return e.series.push(new LineSeries({itemsSource:t,mapping:r=>newDataPoint(r.abscissa,r.ordinate)})),e}function usingReflection(){const t=[];for(let r=0;r<n$1;r++){const xe=r/(n$1-1);t.push(new PointType2(xe,y$1(xe)))}const e=new PlotModel({title:"Using reflection (slow)"});return e.series.push(new LineSeries({itemsSource:t,dataFieldX:"abscissa",dataFieldY:"ordinate"})),e}class PointType1{constructor(e,r){this.abscissa=e,this.ordinate=r}getDataPoint(){return newDataPoint(this.abscissa,this.ordinate)}}class PointType2{constructor(e,r){this.abscissa=e,this.ordinate=r}}function y$1(t){return Math.sin(3/t)*Math.sin(5/(1-t))}const category$B="ItemsSource",ItemsSourceExamples={category:category$B,examples:[{title:"List<DataPoint>",example:{model:usingIDataPoint}},{title:"Items implementing IDataPointProvider",example:{model:usingIDataPointProvider}},{title:"Mapping property",example:{model:usingMappingProperty}},{title:"Using reflection (slow)",example:{model:usingReflection}}]},legendRightTopInside=()=>{const t=createModel$1(),e=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t},legendRightTopOutside=()=>{const t=createModel$1(),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t},legendBottomLeftHorizontal=()=>{const t=createModel$1(4),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t},legendTopLeftVertical=()=>{const t=createModel$1(4),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t},legendDefault=()=>{const t=createModel$1(),e=new Legend;return t.legends.push(e),t},legendItemSpacing=()=>{const t=createModel$1(),e=new Legend({legendItemSpacing:100,legendPosition:LegendPosition.BottomLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t},legendLineSpacingVertical=()=>{const t=createModel$1(),e=new Legend({legendLineSpacing:30,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t},legendLineSpacingHorizontal=()=>{const t=createModel$1(),e=new Legend({legendLineSpacing:30,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t},legendColumnSpacing=()=>{const t=createModel$1(60),e=new Legend({legendColumnSpacing:100,legendPosition:LegendPosition.TopRight,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t},legendHidden=()=>{const t=createModel$1(),e=new Legend({legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t.isLegendVisible=!1,t},legendGrayscale=()=>{const t=createModel$1();t.defaultColors=[OxyColors.Black,OxyColors.Gray];const e=new Legend({legendSymbolLength:32,legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t},clippedLegends=()=>{const t=createModel$1(1);t.series[0].title="1234567890 abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ 1234567890 abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ";const e=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t},clippedLegendsOutside=()=>{const t=clippedLegends();return t.legends[0].legendPlacement=LegendPlacement.Outside,t.legends[0].legendPosition=LegendPosition.RightTop,t.legends[0].legendMaxWidth=200,t},clippedLegendsRight=()=>{const t=clippedLegends();return t.legends[0].legendPlacement=LegendPlacement.Outside,t.legends[0].legendPosition=LegendPosition.TopRight,t};function createModel$1(t=20){const e=new PlotModel;e.title="LineSeries";for(let r=1;r<=t;r++){const xe=new LineSeries;xe.title="Series "+r,e.series.push(xe);for(let Se=0;Se<2*Math.PI;Se+=.1)xe.points.push(newDataPoint(Se,Math.sin(Se*r)/r+r))}return e}const legendBottomCenterOutsideWithMaxHeight=()=>{const t=createModel$1(),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Vertical,legendMaxHeight:75,legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t},legendDefaultFontSize=()=>{const t=createModel$1(),e=new Legend({legendFontSize:NaN,legendTitle:"Title in DefaultFontSize",legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t.defaultFontSize=20,t},singleLegendWithSeriesGroupsHorizontal=()=>{const t=createModel$1(21);for(let r=0;r<7;r++)t.series[r].seriesGroupName="group 1";for(let r=7;r<14;r++)t.series[r].seriesGroupName="group 2";for(let r=14;r<21;r++)t.series[r].seriesGroupName="group 3";const e=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black,groupNameFont:"Segoe UI Black",legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Horizontal});return t.legends.push(e),t},singleLegendWithSeriesGroups=()=>{const t=createModel$1(21);for(let r=0;r<7;r++)t.series[r].seriesGroupName="group 1";for(let r=7;r<14;r++)t.series[r].seriesGroupName="group 2";for(let r=14;r<21;r++)t.series[r].seriesGroupName="group 3";const e=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t},singleLegendWithSeriesGroupsMaxHeight=()=>{const t=createModel$1(21);for(let r=0;r<7;r++)t.series[r].seriesGroupName="group 1";for(let r=7;r<14;r++)t.series[r].seriesGroupName="group 2";for(let r=14;r<21;r++)t.series[r].seriesGroupName="group 3";const e=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black,legendMaxHeight:275});return t.legends.push(e),t},multipleLegendsWithSeriesGroups=()=>{const t=createModel$1(21);for(let xe=0;xe<7;xe++)t.series[xe].seriesGroupName="group 1",t.series[xe].legendKey="Legend 1";for(let xe=7;xe<14;xe++)t.series[xe].seriesGroupName="group 2",t.series[xe].legendKey="Legend 1";for(let xe=14;xe<21;xe++)t.series[xe].seriesGroupName="group 3",t.series[xe].legendKey="Legend 2";const e=new Legend({key:"Legend 1",legendFontSize:NaN,legendTitle:"Legend 1 Series",legendPlacement:LegendPlacement.Inside,legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black}),r=new Legend({key:"Legend 2",legendFontSize:NaN,legendTitle:"Legend 2 Series",legendPlacement:LegendPlacement.Outside,legendBackground:OxyColorHelper.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return t.legends.push(e),t.legends.push(r),t},legendFullWidth=()=>{const t=createModel$1(21),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.TopCenter,legendOrientation:LegendOrientation.Horizontal,allowUseFullExtent:!0}),r=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,allowUseFullExtent:!0});return t.plotMargins=newOxyThickness(50),t.legends.push(e),t.legends.push(r),t.invalidatePlot(!0),t},legendFullHeight=()=>{const t=createModel$1(21),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.LeftTop,legendOrientation:LegendOrientation.Vertical,allowUseFullExtent:!0}),r=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.RightTop,legendOrientation:LegendOrientation.Vertical,allowUseFullExtent:!0});return t.legends.push(e),t.legends.push(r),t},legendShowingInvisibleSeries=()=>createModelWithInvisibleSeries(!0),legendNotShowingInvisibleSeries=()=>createModelWithInvisibleSeries(!1),createModelWithInvisibleSeries=t=>{const e=createModel$1(),r=new Legend({showInvisibleSeries:t});e.legends.push(r);for(let xe=0;xe<e.series.length;xe+=2)e.series[xe].isVisible=!1;return e.invalidatePlot(!1),e},category$A="Legends",LegendExamples={category:category$A,tags:["Legends"],examples:[{title:"Legend at right top inside",example:{model:legendRightTopInside}},{title:"Legend at right top outside",example:{model:legendRightTopOutside}},{title:"Legend at BottomLeft outside horizontal",example:{model:legendBottomLeftHorizontal}},{title:"Legend at TopLeft outside vertical",example:{model:legendTopLeftVertical}},{title:"Legend at default position",example:{model:legendDefault}},{title:"LegendItemSpacing (only for horizontal orientation)",example:{model:legendItemSpacing}},{title:"LegendLineSpacing (vertical legend orientation)",example:{model:legendLineSpacingVertical}},{title:"LegendLineSpacing (horizontal legend orientation)",example:{model:legendLineSpacingHorizontal}},{title:"LegendColumnSpacing (only for vertical orientation)",example:{model:legendColumnSpacing}},{title:"Hidden Legend",example:{model:legendHidden}},{title:"Grayscale colors",example:{model:legendGrayscale}},{title:"Clipped legends",example:{model:clippedLegends}},{title:"Clipped legends RightTop outside with MaxWidth",example:{model:clippedLegendsOutside}},{title:"Clipped legends TopRight outside",example:{model:clippedLegendsRight}},{title:"LegendMaxHeight (vertical legend orientation)",example:{model:legendBottomCenterOutsideWithMaxHeight}},{title:"Legend with DefaultFontSize",example:{model:legendDefaultFontSize}},{title:"Legend with grouped Series Horizontal",example:{model:singleLegendWithSeriesGroupsHorizontal}},{title:"Legend with grouped Series",example:{model:singleLegendWithSeriesGroups}},{title:"Legend with grouped Series and MaxHeight",example:{model:singleLegendWithSeriesGroupsMaxHeight}},{title:"Multiple Legends with grouped Series",example:{model:multipleLegendsWithSeriesGroups}},{title:"Full width legend",example:{model:legendFullWidth}},{title:"Full height legend",example:{model:legendFullHeight}},{title:"Legend showing invisible series",example:{model:legendShowingInvisibleSeries}},{title:"Legend not showing invisible series",example:{model:legendNotShowingInvisibleSeries}}]};function mouseEvents(){const t=new PlotModel({title:"Mouse events",subtitle:"Left click and drag"}),e=new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1}),r=new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1});t.axes.push(e),t.axes.push(r);let xe;return t.mouseDown=(Se,_e)=>{_e.changedButton===OxyMouseButton.Left&&(xe=new LineSeries({title:"LineSeries"+(t.series.length+1),markerType:MarkerType.None,strokeThickness:2}),xe.points.push(r.inverseTransformPoint(_e.position.x,_e.position.y,e)),t.series.push(xe),t.invalidatePlot(!1),_e.handled=!0)},t.mouseMove=(Se,_e)=>{xe!==void 0&&(xe.points.push(r.inverseTransformPoint(_e.position.x,_e.position.y,e)),t.invalidatePlot(!1),_e.handled=!0)},t.mouseUp=(Se,_e)=>{xe!==void 0&&(xe=void 0,_e.handled=!0)},t}function mouseDownEventHitTestResult(){const t=new PlotModel({title:"MouseDown HitTestResult",subtitle:"Reports the index of the nearest point."}),e=new LineSeries;e.points.push(newDataPoint(0,10)),e.points.push(newDataPoint(10,40)),e.points.push(newDataPoint(40,20)),e.points.push(newDataPoint(60,30)),t.series.push(e),e.mouseDown=(xe,Se)=>{t.subtitle="Index of nearest point in LineSeries: "+Math.round(Se.hitTestResult.index||0),t.invalidatePlot(!1)};const r=new ScatterSeries;return r.points.push({x:0,y:15}),r.points.push({x:10,y:45}),r.points.push({x:40,y:25}),r.points.push({x:60,y:35}),t.series.push(r),r.mouseDown=(xe,Se)=>{t.subtitle="Index of nearest point in ScatterSeries: "+Math.round(Se.hitTestResult.index||0),t.invalidatePlot(!1)},t}function mouseDownEvent(){const t=new PlotModel({title:"MouseDown",subtitle:"Left click to edit or add points."}),e=new LineSeries({title:"LineSeries1",markerType:MarkerType.Circle,markerSize:6,strokeThickness:1.5});e.points.push(newDataPoint(0,10)),e.points.push(newDataPoint(10,40)),e.points.push(newDataPoint(40,20)),e.points.push(newDataPoint(60,30)),t.series.push(e);let r=-1;return e.mouseDown=(xe,Se)=>{if(Se.changedButton===OxyMouseButton.Left){const _e=Math.round(Se.hitTestResult.index),Ae=e.transform(e.points[_e]);if(screenPointMinusEx(Ae,Se.position).length<10)r=_e;else{const Ce=Se.hitTestResult.index+1;e.points.splice(Ce,0,e.inverseTransform(Se.position)),r=Ce}e.lineStyle=LineStyle.DashDot,t.invalidatePlot(!1),Se.handled=!0}},e.mouseMove=(xe,Se)=>{r>=0&&(e.points[r]=e.inverseTransform(Se.position),t.invalidatePlot(!1),Se.handled=!0)},e.mouseUp=(xe,Se)=>{r=-1,e.lineStyle=LineStyle.Solid,t.invalidatePlot(!1),Se.handled=!0},t.mouseDown=(xe,Se)=>{Se.changedButton===OxyMouseButton.Left&&(e.points.push(e.inverseTransform(Se.position)),r=e.points.length-1,t.invalidatePlot(!1),Se.handled=!0)},t}function addAnnotations(){const t=new PlotModel({title:"Add arrow annotations",subtitle:"Press and drag the left mouse button"}),e=new LinearAxis({position:AxisPosition.Bottom}),r=new LinearAxis({position:AxisPosition.Left});t.axes.push(e),t.axes.push(r),t.series.push(new FunctionSeries({f:Se=>Math.sin(Se/4)*Math.acos(Math.sin(Se)),x0:0,x1:Math.PI*8,n:2e3,title:"sin(x/4)*acos(sin(x))"}));let xe=null;return t.mouseDown=(Se,_e)=>{_e.changedButton===OxyMouseButton.Left&&(xe=new ArrowAnnotation,xe.startPoint=xe.endPoint=e.inverseTransformPoint(_e.position.x,_e.position.y,r),t.annotations.push(xe),_e.handled=!0)},t.mouseMove=(Se,_e)=>{xe&&(xe.endPoint=e.inverseTransformPoint(_e.position.x,_e.position.y,r),xe.text=`Y = ${xe.endPoint.y.toFixed(3)}`,t.invalidatePlot(!1),_e.handled=!0)},t.mouseUp=(Se,_e)=>{xe&&(xe=null,_e.handled=!0)},t}function lineAnnotation(){const t=new PlotModel({title:"LineAnnotation",subtitle:"Click and drag the annotation line."});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const e=new LineAnnotation({type:LineAnnotationType.Vertical,x:4});return e.mouseDown=(r,xe)=>{xe.changedButton===OxyMouseButton.Left&&(e.strokeThickness*=5,t.invalidatePlot(!1),xe.handled=!0)},e.mouseMove=(r,xe)=>{e.x=e.inverseTransform(xe.position).x,t.invalidatePlot(!1),xe.handled=!0},e.mouseUp=(r,xe)=>{e.strokeThickness/=5,t.invalidatePlot(!1),xe.handled=!0},t.annotations.push(e),t}function arrowAnnotation(){const t=new PlotModel({title:"ArrowAnnotation",subtitle:"Click and drag the arrow."});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-40,maximum:60})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const e=new ArrowAnnotation({startPoint:newDataPoint(8,4),endPoint:newDataPoint(0,0),text:"Move me!"});let r=DataPoint_Undefined,xe=!1,Se=!1,_e=OxyColors.White;return e.mouseDown=(Ae,Ce)=>{Ce.changedButton===OxyMouseButton.Left&&(r=e.inverseTransform(Ce.position),xe=Ce.hitTestResult.index!==2,Se=Ce.hitTestResult.index!==1,_e=e.color,e.color=OxyColors.Red,t.invalidatePlot(!1),Ce.handled=!0)},e.mouseMove=(Ae,Ce)=>{const Pe=e.inverseTransform(Ce.position),Ee=Pe.x-r.x,Oe=Pe.y-r.y;xe&&(e.startPoint=newDataPoint(e.startPoint.x+Ee,e.startPoint.y+Oe)),Se&&(e.endPoint=newDataPoint(e.endPoint.x+Ee,e.endPoint.y+Oe)),r=Pe,t.invalidatePlot(!1),Ce.handled=!0},e.mouseUp=(Ae,Ce)=>{e.color=_e},t.annotations.push(e),t}function polygonAnnotation(){const t=new PlotModel({title:"PolygonAnnotation",subtitle:"Click the polygon"});t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-20,maximum:20})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20}));const e=new PolygonAnnotation({text:"Polygon 1"});e.points.push(newDataPoint(4,-2),newDataPoint(8,-4),newDataPoint(17,7),newDataPoint(5,8),newDataPoint(2,5));let r=1;return e.mouseDown=(xe,Se)=>{Se.changedButton===OxyMouseButton.Left&&(e.text="Hit # "+r++,t.invalidatePlot(!1),Se.handled=!0)},t.annotations.push(e),t}function textAnnotation(){const t=new PlotModel({title:"TextAnnotation",subtitle:"Click the text"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const e=new TextAnnotation({textPosition:newDataPoint(4,-2),text:"Click here"});return e.mouseDown=(r,xe)=>{console.log("mouseDown"),xe.changedButton===OxyMouseButton.Left&&(e.background=OxyColorHelper.isUndefined(e.background)?OxyColors.LightGreen:OxyColors.Undefined,t.invalidatePlot(!1),xe.handled=!0)},t.annotations.push(e),t}async function imageAnnotation(){const t=new PlotModel({title:"ImageAnnotation",subtitle:"Click the image"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const e=window.oxyPlotImg;if(!e)throw new Error("window.oxyPlotImg not set");const r=await getImageService().load(e),xe=new ImageAnnotation({imageSource:r,x:newPlotLength(4,PlotLengthUnit.Data),y:newPlotLength(2,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Right});return t.annotations.push(xe),xe.mouseDown=(Se,_e)=>{_e.changedButton===OxyMouseButton.Left&&(xe.horizontalAlignment=xe.horizontalAlignment===HorizontalAlignment.Right?HorizontalAlignment.Left:HorizontalAlignment.Right,t.invalidatePlot(!1),_e.handled=!0)},t}function addSeriesByMouseDownEvent(){const t=new PlotModel({title:"MouseDown",subtitle:"Left click to add series."}),e=new Legend({legendSymbolLength:40});return t.legends.push(e),t.mouseDown=(r,xe)=>{if(xe.changedButton===OxyMouseButton.Left){const Se=t.series.length+1;t.series.push(new FunctionSeries({f:_e=>Math.sin(Se*_e),x0:0,x1:10,n:1e3})),t.invalidatePlot(!0),xe.handled=!0}},t}function selectRange(){const t=new PlotModel({title:"Select range",subtitle:"Left click and drag to select a range."});t.series.push(new FunctionSeries({f:Math.cos,x0:0,x1:40,dx:.1}));const e=new RectangleAnnotation({fill:OxyColorHelper.fromAColor(120,OxyColors.SkyBlue),minimumX:0,maximumX:0});t.annotations.push(e);let r=Number.NaN;return t.mouseDown=(xe,Se)=>{Se.changedButton===OxyMouseButton.Left&&(r=e.inverseTransform(Se.position).x,e.minimumX=r,e.maximumX=r,t.invalidatePlot(!0),Se.handled=!0)},t.mouseMove=(xe,Se)=>{if(!Number.isNaN(r)){const _e=e.inverseTransform(Se.position).x;e.minimumX=Math.min(_e,r),e.maximumX=Math.max(_e,r),e.text=` cos(x) dx =  ${Math.sin(e.maximumX)-round(Math.sin(e.minimumX),2)}`,t.subtitle=`Integrating from ${e.minimumX.toFixed(2)} to ${e.maximumX.toFixed(2)}`,t.invalidatePlot(!0),Se.handled=!0}},t.mouseUp=(xe,Se)=>{r=Number.NaN},t}function hover(){const t=new PlotModel({title:"Hover"});let e=null;return t.mouseEnter=(r,xe)=>{t.subtitle="The mouse entered",e=new LineSeries,t.series.push(e),t.invalidatePlot(!1),xe.handled=!0},t.mouseMove=(r,xe)=>{e&&e.xAxis&&(e.points.push(e.inverseTransform(xe.position)),t.invalidatePlot(!1))},t.mouseLeave=(r,xe)=>{t.subtitle="The mouse left",t.invalidatePlot(!1),xe.handled=!0},t}function touch(){const t=new PlotModel({title:"Touch"}),e=new LineSeries;return t.series.push(e),t.touchStarted=(r,xe)=>{t.subtitle="The touch gesture started",t.invalidatePlot(!1),xe.handled=!0},t.touchDelta=(r,xe)=>{e.points.push(e.inverseTransform(xe.position)),t.invalidatePlot(!1)},t.touchCompleted=(r,xe)=>{t.subtitle="The touch gesture completed",t.invalidatePlot(!1),xe.handled=!0},t}function touchSeries(){const t=new PlotModel({title:"Touch on a LineSeries"}),e=new LineSeries;return e.points.push(newDataPoint(0,0)),e.points.push(newDataPoint(10,10)),t.series.push(e),e.touchStarted=(r,xe)=>{t.subtitle="The touch gesture started on the LineSeries",t.invalidatePlot(!1),xe.handled=!0},e.touchDelta=(r,xe)=>{e.points.push(e.inverseTransform(xe.position)),t.invalidatePlot(!1)},e.touchCompleted=(r,xe)=>{t.subtitle="The touch gesture completed",t.invalidatePlot(!1),xe.handled=!0},t}function rectangleAnnotationClick(){const t=new PlotModel({title:"RectangleAnnotation click"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=new RectangleAnnotation({minimumX:10,maximumX:60,minimumY:10,maximumY:20});t.annotations.push(e);let r=0;return e.mouseDown=(xe,Se)=>{e.text="Clicked "+ ++r+" times.",t.invalidatePlot(!1)},t}function clickingOnAnAnnotation$1(){const t=new PlotModel({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=new RectangleAnnotation({fill:OxyColors.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});t.annotations.push(e);const r=new RectangleAnnotation({fill:OxyColors.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});t.annotations.push(r);const xe=(Se,_e)=>{t.subtitle="You clicked "+Se.text,t.invalidatePlot(!1)};return e.mouseDown=xe,r.mouseDown=xe,t}const category$z="Mouse Events",MouseEventExamples={category:category$z,examples:[{title:"PlotModel mouse events",example:{model:mouseEvents}},{title:"MouseDown event and HitTestResult",example:{model:mouseDownEventHitTestResult}},{title:"LineSeries and PlotModel MouseDown event",example:{model:mouseDownEvent}},{title:"Add arrow annotations",example:{model:addAnnotations}},{title:"LineAnnotation",example:{model:lineAnnotation}},{title:"ArrowAnnotation",example:{model:arrowAnnotation}},{title:"PolygonAnnotation",example:{model:polygonAnnotation}},{title:"TextAnnotation",example:{model:textAnnotation}},{title:"ImageAnnotation",example:{model:imageAnnotation}},{title:"Add Series",example:{model:addSeriesByMouseDownEvent}},{title:"Select range",example:{model:selectRange}},{title:"Hover",example:{model:hover}},{title:"Touch",example:{model:touch}},{title:"Touch on a LineSeries",example:{model:touchSeries}},{title:"RectangleAnnotation click",example:{model:rectangleAnnotationClick}},{title:"Clicking on an annotation",example:{model:clickingOnAnAnnotation$1}}]};function lineSeries1M(){const t=new PlotModel({title:"LineSeries, 1M points"}),e=new LineSeries;return addDataPoints(e.points,1e6),t.series.push(e),t}function lineSeries1MSpeed(){const t=new PlotModel({title:"LineSeries, 1M points"}),e=new LineSeries({edgeRenderingMode:EdgeRenderingMode.PreferSpeed});return addDataPoints(e.points,1e6),t.series.push(e),t}function lineSeries(){const t=new PlotModel({title:"LineSeries, 100k points"}),e=new LineSeries;return addDataPoints(e.points,1e5),t.series.push(e),t}function lineSeriesDashedLines(){const t=new PlotModel({title:"LineSeries, 100k points",subtitle:"LineStyle = Dash"}),e=new LineSeries({lineStyle:LineStyle.Dash});return addDataPoints(e.points,1e5),t.series.push(e),t}function lineSeries1WithMarkers(){const t=new PlotModel({title:"LineSeries, 100k points",subtitle:"MarkerType = Square"}),e=new LineSeries({markerType:MarkerType.Square});return addDataPoints(e.points,1e5),t.series.push(e),t}function lineSeries1WithMarkersLowRes(){const t=new PlotModel({title:"LineSeries, 100k points, markers, lower resolution",subtitle:"MarkerType = Square, MarkerResolution = 3"}),e=new LineSeries({markerType:MarkerType.Square,markerResolution:3});return addDataPoints(e.points,1e5),t.series.push(e),t}function lineSeriesRoundLineJoins(){const t=new PlotModel({title:"LineSeries, 100k points",subtitle:"LineJoin = Round"}),e=new LineSeries({lineJoin:LineJoin.Round});return addDataPoints(e.points,1e5),t.series.push(e),t}function lineSeriesItemsSourceList(){const t=new PlotModel({title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>"}),e=new LineSeries,r=[];return addDataPoints(r,1e5),e.itemsSource=r,t.series.push(e),t}function lineSeriesItemsSourceMapping(){const t=new PlotModel({title:"LineSeries, 100k points by ItemsSource and Mapping",subtitle:"Using the Mapping function"}),e=new LineSeries,r=[];addDataPoints(r,1e5);const xe=r.map(Se=>newOxyRect(Se.x,Se.y,0,0));return e.itemsSource=xe,e.mapping=Se=>newDataPoint(Se.left,Se.top),t.series.push(e),t}function lineSeriesItemsSourceReflection(){const t=new PlotModel({title:"LineSeries, 100k points, ItemsSource with reflection",subtitle:"DataFieldX and DataFieldY"}),e=new LineSeries,r=[];addDataPoints(r,1e5);const xe=r.map(Se=>newOxyRect(Se.x,Se.y,0,0));return e.itemsSource=xe,e.dataFieldX="left",e.dataFieldY="top",t.series.push(e),t}function lineSeriesThick(){const t=new PlotModel({title:"LineSeries, 100k points (thick)",subtitle:"StrokeThickness = 10"}),e=new LineSeries({strokeThickness:10});return addDataPoints(e.points,1e5),t.series.push(e),t}function lineSeries2MiterLineJoins(){const t=new PlotModel({title:"LineSeries, 3k points, miter line joins",subtitle:"LineJoin = Miter"}),e=new LineSeries({lineJoin:LineJoin.Miter,strokeThickness:8});for(let r=0;r<3e3;r++)e.points.push(newDataPoint(r,r%2));return t.series.push(e),t}function lineSeries2RoundLineJoins(){const t=new PlotModel({title:"LineSeries, 3k points, round line joins",subtitle:"LineJoin = Round"}),e=new LineSeries({lineJoin:LineJoin.Round,strokeThickness:8});for(let r=0;r<3e3;r++)e.points.push(newDataPoint(r,r%2));return t.series.push(e),t}function lineSeries2BevelLineJoins(){const t=new PlotModel({title:"LineSeries, 3k points, bevel line joins",subtitle:"LineJoin = Bevel"}),e=new LineSeries({lineJoin:LineJoin.Bevel,strokeThickness:8});for(let r=0;r<3e3;r++)e.points.push(newDataPoint(r,r%2));return t.series.push(e),t}function scatterSeriesSquares(){const t=new PlotModel({title:"ScatterSeries (squares)"}),e=new ScatterSeries;return addScatterPoints(e.points,2e3),t.series.push(e),t}function scatterSeriesSquaresOutline(){const t=new PlotModel({title:"ScatterSeries (squares with outline)",subtitle:"MarkerStroke = Black"}),e=new ScatterSeries({markerStroke:OxyColors.Black});return addScatterPoints(e.points,2e3),t.series.push(e),t}function scatterSeriesSquaresOutlineOnly(){const t=new PlotModel({title:"ScatterSeries (squares without fill color)",subtitle:"MarkerFill = Transparent, MarkerStroke = Black"}),e=new ScatterSeries({markerFill:OxyColors.Transparent,markerStroke:OxyColors.Black});return addScatterPoints(e.points,2e3),t.series.push(e),t}function scatterSeriesItemsSourceReflection(){const t=new PlotModel({title:"ScatterSeries (by ItemsSource)",subtitle:"DataFieldX = 'X', DataFieldY = 'Y'"});return t.series.push(new ScatterSeries({itemsSource:getPoints(2e3),dataFieldX:"X",dataFieldY:"Y"})),t}function scatterSeriesCircles(){const t=new PlotModel({title:"ScatterSeries (circles)",subtitle:"MarkerType = Circle"}),e=new ScatterSeries({markerType:MarkerType.Circle});return addScatterPoints(e.points,2e3),t.series.push(e),t}function scatterSeriesCirclesOutline(){const t=new PlotModel({title:"ScatterSeries (circles with outline)",subtitle:"MarkerType = Circle, MarkerStroke = Black"}),e=new ScatterSeries({markerType:MarkerType.Circle,markerStroke:OxyColors.Black});return addScatterPoints(e.points,2e3),t.series.push(e),t}function scatterSeriesCrosses(){const t=new PlotModel({title:"ScatterSeries (cross)",subtitle:"MarkerType = Cross"}),e=new ScatterSeries({markerType:MarkerType.Cross,markerFill:OxyColors.Undefined,markerStroke:OxyColors.Black});return addScatterPoints(e.points,2e3),t.series.push(e),t}function linearAxisNoGridlines(){const t=new PlotModel({title:"LinearAxis (no gridlines)"});return t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1})),t}function linearAxisSolidGridlines(){const t=new PlotModel({title:"LinearAxis (solid gridlines)"});return t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Solid})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Solid})),t}function linearAxisDashedGridlines(){const t=new PlotModel({title:"LinearAxis (dashed gridlines)"});return t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dash})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dash})),t}function linearAxisDottedGridlines(){const t=new PlotModel({title:"LinearAxis (dotted gridlines)"});return t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dot})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dot})),t}function intOverflow10k(){return intOverflow(1e4)}function intOverflow50k(){return intOverflow(5e4)}function intOverflow100k(){return intOverflow(1e5)}function intOverflow(t){const e=new PlotModel({title:"int overflow",subtitle:`n = ${t}`}),r=new LineSeries;let xe=0;for(let Se=0;Se<t;Se++)r.points.push(newDataPoint(Se,xe+=Se*Se));return e.series.push(r),e}function getPoints(t){const e=[];return addDataPoints(e,t),e}function addDataPoints(t,e){for(let r=0;r<e;r++){const xe=Math.PI*10*r/(e-1);t.push(newDataPoint(xe*Math.cos(xe),xe*Math.sin(xe)))}}function addScatterPoints(t,e){for(let r=0;r<e;r++){const xe=Math.PI*10*r/(e-1);t.push({x:xe*Math.cos(xe),y:xe*Math.sin(xe)})}}const category$y="Performance",PerformanceExamples={category:category$y,examples:[{title:"LineSeries, 1M points",example:{model:lineSeries1M}},{title:"LineSeries, 1M points, EdgeRenderingMode==PreferSpeed",example:{model:lineSeries1MSpeed}},{title:"LineSeries, 100k points",example:{model:lineSeries}},{title:"LineSeries, 100k points (dashed line)",example:{model:lineSeriesDashedLines}},{title:"LineSeries, 100k points, markers",example:{model:lineSeries1WithMarkers}},{title:"LineSeries, 100k points, markers, lower resolution",example:{model:lineSeries1WithMarkersLowRes}},{title:"LineSeries, 100k points, round line joins",example:{model:lineSeriesRoundLineJoins}},{title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>",example:{model:lineSeriesItemsSourceList}},{title:"LineSeries, 100k points by ItemsSource and Mapping",example:{model:lineSeriesItemsSourceMapping}},{title:"LineSeries, 100k points by ItemsSource and reflection",example:{model:lineSeriesItemsSourceReflection}},{title:"LineSeries, 100k points (thick)",example:{model:lineSeriesThick}},{title:"LineSeries, 3k points, miter line joins",example:{model:lineSeries2MiterLineJoins}},{title:"LineSeries, 3k points, round line joins",example:{model:lineSeries2RoundLineJoins}},{title:"LineSeries, 3k points, bevel line joins",example:{model:lineSeries2BevelLineJoins}},{title:"ScatterSeries (squares)",example:{model:scatterSeriesSquares}},{title:"ScatterSeries (squares with outline)",example:{model:scatterSeriesSquaresOutline}},{title:"ScatterSeries (squares without fill color)",example:{model:scatterSeriesSquaresOutlineOnly}},{title:"ScatterSeries by ItemsSource and reflection",example:{model:scatterSeriesItemsSourceReflection}},{title:"ScatterSeries (circles)",example:{model:scatterSeriesCircles}},{title:"ScatterSeries (circles with outline)",example:{model:scatterSeriesCirclesOutline}},{title:"ScatterSeries (cross)",example:{model:scatterSeriesCrosses}},{title:"LinearAxis (no gridlines)",example:{model:linearAxisNoGridlines}},{title:"LinearAxis (solid gridlines)",example:{model:linearAxisSolidGridlines}},{title:"LinearAxis (dashed gridlines)",example:{model:linearAxisDashedGridlines}},{title:"LinearAxis (dotted gridlines)",example:{model:linearAxisDottedGridlines}},{title:"int overflow (10k)",example:{model:intOverflow10k}},{title:"int overflow (50k)",example:{model:intOverflow50k}},{title:"int overflow (100k)",example:{model:intOverflow100k}}]};function basicExample(){const t=new PlotModel({title:"Basic Controller example",subtitle:"Panning with left mouse button"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=new PlotController;return e.unbindAll(),ControllerExtensions.bindMouseDown(e,OxyMouseButton.Left,PlotCommands.panAt),{model:()=>t,controller:()=>e}}function hoverTracking(){const t=new PlotModel({title:"Show tracker without clicking"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t.series.push(FunctionSeries.fromFxFyN(r=>Math.cos(r)*5+Math.cos(r*50),r=>Math.sin(r)*5+Math.sin(r*50),0,Math.PI*2,2e4));const e=new PlotController;return ControllerExtensions.bindMouseEnter(e,PlotCommands.hoverPointsOnlyTrack),{model:()=>t,controller:()=>e}}function mouseHandlingExample(){const t=new PlotModel({title:"Mouse handling example"}),e=new ScatterSeries;t.series.push(e);const r=new DelegatePlotCommand((Se,_e,Ae)=>{Ae.handled=!0;const Ce=e.inverseTransform(Ae.position);e.points.push({x:Ce.x,y:Ce.y}),t.invalidatePlot(!0)}),xe=new PlotController;return ControllerExtensions.bindMouseDown(xe,OxyMouseButton.Left,r),{model:()=>t,controller:()=>xe}}function clickingOnAnAnnotation(){const t=new PlotModel({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=new RectangleAnnotation({fill:OxyColors.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});t.annotations.push(e);const r=new RectangleAnnotation({fill:OxyColors.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});t.annotations.push(r);const xe=(Ae,Ce)=>{t.subtitle="You clicked "+Ae.text,t.invalidatePlot(!1)};e.mouseDown=xe,r.mouseDown=xe;const Se=new PlotController,_e=new DelegatePlotCommand((Ae,Ce,Pe)=>{const Ee=new HitTestArguments(Pe.position,10),Oe=Ae.actualModel.hitTest(Ee).find(Me=>Me.element instanceof RectangleAnnotation);Oe&&(Pe.handled=!0,t.subtitle="You clicked "+Oe.element.text,t.invalidatePlot(!1))});return Se.bindMouseDown(new OxyMouseDownGesture(OxyMouseButton.Left),_e),{model:()=>t,controller:()=>Se}}function preferringAnAxisForManipulation(){function t(xe,Se,_e=1){const Ae=new ZoomStepManipulator(xe,Se.delta*.001*_e,OxyModifierKeysExtensions.isControlDown(Se));Ae.axisPreference=AxisPreference.X,Ae.started(Se)}const e=new PlotModel({title:"Preferring an axis for manipulation",subtitle:"Mouse wheel over plot area prefers X axis"});e.axes.push(new LinearAxis({position:AxisPosition.Bottom})),e.axes.push(new LinearAxis({position:AxisPosition.Left})),e.series.push(FunctionSeries.fromDx(Math.cos,-7,7,.01));const r=new PlotController;return r.unbindAll(),ControllerExtensions.bindMouseWheel(r,new DelegatePlotCommand((xe,Se,_e)=>t(xe,_e))),ControllerExtensions.bindMouseWheel(r,new DelegatePlotCommand((xe,Se,_e)=>t(xe,_e,.1)),OxyModifierKeys.Control),{model:()=>e,controller:()=>r}}function showHideLegend(){const t=new PlotModel({title:"Show/Hide Legend",subtitle:"Click on the rectangles"}),e=3;for(let Pe=1;Pe<=e;Pe++){const Ee=new LineSeries({title:"Series "+Pe});t.series.push(Ee);for(let Oe=0;Oe<2*Math.PI;Oe+=.1)Ee.points.push(newDataPoint(Oe,Math.sin(Oe*Pe)/Pe+Pe))}const r=new Legend;t.legends.push(r);const xe=new RectangleAnnotation({fill:OxyColors.Green,text:"Show Legend",minimumX:.5,maximumX:1.5,minimumY:.2,maximumY:.4});t.annotations.push(xe);const Se=new RectangleAnnotation({fill:OxyColors.SkyBlue,text:"Hide Legend",minimumX:.5,maximumX:1.5,minimumY:.6,maximumY:.8});t.annotations.push(Se);const _e=(Pe,Ee)=>{const Oe=Pe.text;Oe==="Show Legend"?t.isLegendVisible=!0:Oe==="Hide Legend"&&(t.isLegendVisible=!1),t.subtitle="You clicked "+Pe.text,t.invalidatePlot(!1)};xe.mouseDown=_e,Se.mouseDown=_e;const Ae=new PlotController,Ce=new DelegatePlotCommand((Pe,Ee,Oe)=>{const Me=new HitTestArguments(Oe.position,10),De=Pe.actualModel.hitTest(Me).find(Te=>Te.element instanceof RectangleAnnotation);De&&(Oe.handled=!0,t.subtitle="You clicked "+De.element.text,t.invalidatePlot(!1))});return Ae.bindMouseDown(new OxyMouseDownGesture(OxyMouseButton.Left),Ce),{model:()=>t,controller:()=>Ae}}const category$x="PlotController examples",PlotControllerExamples={category:category$x,examples:[{title:"Basic controller example",example:basicExample()},{title:"Show tracker without clicking",example:hoverTracking()},{title:"Mouse handling example",example:mouseHandlingExample()},{title:"Clicking on an annotation",example:clickingOnAnAnnotation()},{title:"Preferring an axis for manipulation",example:preferringAnAxisForManipulation()},{title:"Show/Hide Legend",example:showHideLegend()}]};function title(){const t=new PlotModel({title:"Title"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function titleAndSubtitle(){const t=new PlotModel({title:"Title",subtitle:"Subtitle"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function titleAndSubtitleWithSubSuperscript(){const t=new PlotModel({title:"Title with^{super}_{sub}script",subtitle:"Subtitle with^{super}_{sub}script"});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function titlePadding0(){const t=new PlotModel({title:"TitlePadding = 0",subtitle:"This controls the distance between the titles and the plot area. The default value is 6",titlePadding:0});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function titlePadding100(){const t=new PlotModel({title:"TitlePadding = 100",titlePadding:100});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function titlesCenteredWithinView(){const t=new PlotModel({title:"Title",subtitle:"Subtitle",titleHorizontalAlignment:TitleHorizontalAlignment.CenteredWithinView});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function titleClippingOff(){const t=new PlotModel({title:"This is a very long title to illustrate that title clipping is necessary, because currently it's not clipped.",clipTitle:!1});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function titleClipping60(){const t=new PlotModel({title:"This is a very long title, that shows that title clippling is working with crrently 60% of title area",titleClippingLength:.6});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function backgroundUndefined(){const t=new PlotModel({title:"Background = Undefined",background:OxyColors.Undefined});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function backgroundWhite50(){const t=new PlotModel({title:"Background = 50% White",background:OxyColorHelper.fromAColor(128,OxyColors.White)});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function backgroundTransparent(){const t=new PlotModel({title:"Background = Transparent",background:OxyColors.Transparent});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function backgroundLightGray(){const t=new PlotModel({title:"Background = LightSkyBlue",background:OxyColors.LightSkyBlue});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function backgroundWhite(){const t=new PlotModel({title:"Background = White",background:OxyColors.White});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function backgroundBlack(){const t=new PlotModel({title:"Background = Black",background:OxyColors.Black,textColor:OxyColors.White,titleColor:OxyColors.White,plotAreaBorderColor:OxyColors.White});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,ticklineColor:OxyColors.White})),t.axes.push(new LinearAxis({position:AxisPosition.Left,ticklineColor:OxyColors.White})),t}function plotAreaBorderThickness2(){const t=new PlotModel({title:"PlotAreaBorderThickness = 2",plotAreaBorderThickness:newOxyThickness(2)});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function plotAreaBorderThickness1001(){const t=new PlotModel({title:"PlotAreaBorderThickness = (1,0,0,1)",plotAreaBorderThickness:newOxyThickness(1,0,0,1)});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function plotAreaBorderThickness4114(){const t=new PlotModel({title:"PlotAreaBorderThickness = (4,1,1,4)",plotAreaBorderThickness:newOxyThickness(4,1,1,4)});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function plotAreaBorderThickness0(){const t=new PlotModel({title:"PlotAreaBorderThickness = 0",plotAreaBorderThickness:newOxyThickness(0)});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t}function plotAreaBorderThickness0AxisLineThickness1(){const t=new PlotModel({title:"PlotAreaBorderThickness = 0",subtitle:"AxislineThickness = 1, AxislineColor = OxyColors.Blue, AxislineStyle = LineStyle.Solid",plotAreaBorderThickness:newOxyThickness(0)});return t.axes.push(new LinearAxis({position:AxisPosition.Bottom,axislineThickness:1,axislineColor:OxyColors.Blue,axislineStyle:LineStyle.Solid})),t.axes.push(new LinearAxis({position:AxisPosition.Left,axislineThickness:1,axislineColor:OxyColors.Blue,axislineStyle:LineStyle.Solid})),t}function invalidAxisKey(){const t=new PlotModel;return t.axes.push(new LinearAxis),t.series.push(new LineSeries({xAxisKey:"invalidKey"})),t}function exceptionClipping(){const t=new PlotModel,e=new DelegateAnnotation(r=>{throw r.pushClip(newOxyRect(50,50,50,50)),new Error("This Exception should be completely visible and not clipped by the previously pushed clipping rectangle.")});return t.annotations.push(e),t}function unbalancedClippingPush(){const t=new PlotModel,e=new DelegateAnnotation(async r=>{r.pushClip(newOxyRect(50,50,50,50))});return t.annotations.push(e),t}function unbalancedClippingPop(){const t=new PlotModel,e=new DelegateAnnotation(async r=>{r.popClip()});return t.annotations.push(e),t}const category$w="PlotModel examples",PlotModelExamples={category:category$w,examples:[{title:"Title",example:{model:title}},{title:"Title and Subtitle",example:{model:titleAndSubtitle}},{title:"Sub- and superscript in titles",example:{model:titleAndSubtitleWithSubSuperscript}},{title:"TitlePadding = 0",example:{model:titlePadding0}},{title:"TitlePadding = 100",example:{model:titlePadding100}},{title:"TitleHorizontalAlignment = CenteredWithinView",example:{model:titlesCenteredWithinView}},{title:"TitleClippingOff",example:{model:titleClippingOff}},{title:"TitleClipping60",example:{model:titleClipping60}},{title:"Background = Undefined (default)",example:{model:backgroundUndefined}},{title:"Background = 50% White",example:{model:backgroundWhite50}},{title:"Background = Transparent",example:{model:backgroundTransparent}},{title:"Background = LightSkyBlue",example:{model:backgroundLightGray}},{title:"Background = White",example:{model:backgroundWhite}},{title:"Background = Black",example:{model:backgroundBlack}},{title:"PlotAreaBorderThickness = 2",example:{model:plotAreaBorderThickness2}},{title:"PlotAreaBorderThickness = (1,0,0,1)",example:{model:plotAreaBorderThickness1001}},{title:"PlotAreaBorderThickness = (4,1,1,4)",example:{model:plotAreaBorderThickness4114}},{title:"PlotAreaBorderThickness = 0",example:{model:plotAreaBorderThickness0}},{title:"PlotAreaBorderThickness / AxisLine",example:{model:plotAreaBorderThickness0AxisLineThickness1}},{title:"Exception handling (invalid XAxisKey)",example:{model:invalidAxisKey}},{title:"Exception handling (with clipping)",example:{model:exceptionClipping}},{title:"Unbalanced clipping (push)",example:{model:unbalancedClippingPush}},{title:"Unbalanced clipping (pop)",example:{model:unbalancedClippingPop}}]};function drawTextColors(){const t=new PlotModel,e="Arial",r=32,xe=FontWeights.Bold,Se=r*1.6;return t.annotations.push(new DelegateAnnotation(async _e=>{let Ce=20-Se;await _e.drawText(newScreenPoint(20,Ce+=Se),"Black",OxyColors.Black,e,r,xe),await _e.drawText(newScreenPoint(20,Ce+=Se),"Red",OxyColors.Red,e,r,xe),await _e.drawText(newScreenPoint(20,Ce+=Se),"Green",OxyColors.Green,e,r,xe),await _e.drawText(newScreenPoint(20,Ce+=Se),"Blue",OxyColors.Blue,e,r,xe),await RenderingExtensions.fillRectangle(_e,newOxyRect(20,Ce+Se+15,200,10),OxyColors.Black,EdgeRenderingMode.Adaptive),await _e.drawText(newScreenPoint(20,Ce+Se),"Yellow 50%",OxyColorHelper.fromAColor(128,OxyColors.Yellow),e,r,xe)})),t}function drawTextFonts(){const t=new PlotModel,e=20,r=e*1.6;return t.annotations.push(new DelegateAnnotation(async xe=>{let _e=20-r;await xe.drawText(newScreenPoint(20,_e+=r),"Default font",OxyColors.Black,void 0,e),await xe.drawText(newScreenPoint(20,_e+=r),"Helvetica",OxyColors.Black,"Helvetica",e),await xe.drawText(newScreenPoint(20,_e+=r),"Arial",OxyColors.Black,"Arial",e),await xe.drawText(newScreenPoint(20,_e+=r),"Courier",OxyColors.Black,"Courier",e),await xe.drawText(newScreenPoint(20,_e+=r),"Courier New",OxyColors.Black,"Courier New",e),await xe.drawText(newScreenPoint(20,_e+=r),"Times",OxyColors.Black,"Times",e),await xe.drawText(newScreenPoint(20,_e+r),"Times New Roman",OxyColors.Black,"Times New Roman",e)})),t}function drawTextFontSizes(){const t=new PlotModel;return t.annotations.push(new DelegateAnnotation(async e=>{let xe=20;for(const Se of[10,16,24,36,48])await e.drawText(newScreenPoint(20,xe),`${Se}pt`,OxyColors.Black,"Arial",Se),await e.drawText(newScreenPoint(220,xe),`${Se}pt`,OxyColors.Black,"Arial",Se,FontWeights.Bold),xe+=Se*1.6})),t}function drawTextRotation(){const t=new PlotModel;return t.annotations.push(new DelegateAnnotation(async e=>{const r=newScreenPoint(200,200);await RenderingExtensions.fillCircle(e,r,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let xe=0;xe<360;xe+=45)await e.drawText(r,`Rotation ${xe}`,OxyColors.Black,void 0,20,void 0,xe)})),t}function drawTextAlignment(){const t=new PlotModel,e=20;return t.annotations.push(new DelegateAnnotation(async r=>{for(let xe=HorizontalAlignment.Left;xe<=HorizontalAlignment.Right;xe++)for(let Se=VerticalAlignment.Top;Se<=VerticalAlignment.Bottom;Se++){const _e=newScreenPoint((xe+1)*200+20,(Se+1)*e*3+20);await RenderingExtensions.fillCircle(r,_e,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);const Ae=getEnumName(HorizontalAlignment,xe),Ce=getEnumName(VerticalAlignment,Se);await r.drawText(_e,`${Ae}-${Ce}`,OxyColors.Black,void 0,e,void 0,0,xe,Se)}})),t}function drawTextMultiLineAlignment(){const t=new PlotModel,e=20;return t.annotations.push(new DelegateAnnotation(async r=>{for(let xe=HorizontalAlignment.Left;xe<=HorizontalAlignment.Right;xe++){const Se=getEnumName(HorizontalAlignment,xe);for(let _e=VerticalAlignment.Top;_e<=VerticalAlignment.Bottom;_e++){const Ae=getEnumName(VerticalAlignment,_e),Ce=(xe+1)*200+20,Pe=(_e+1)*e*6+20,Ee=newScreenPoint(Ce,Pe);await RenderingExtensions.fillCircle(r,Ee,3,OxyColors.Blue,EdgeRenderingMode.Adaptive),await r.drawText(Ee,`${Se}
${Ae}`,OxyColors.Black,void 0,e,void 0,0,xe,_e)}}})),t}function mathTextRotation(){const t=new PlotModel,e="Arial",r=24,xe=FontWeights.Normal;return t.annotations.push(new DelegateAnnotation(async Se=>{const _e=newScreenPoint(200,200),Ae=newScreenPoint(400,200);await RenderingExtensions.fillCircle(Se,_e,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let Ce=0;Ce<360;Ce+=45){const Pe="     A_{2}^{3}B";await MathRenderingExtensions.drawMathText(Se,_e,Pe,OxyColors.Black,e,r,xe,Ce,HorizontalAlignment.Left,VerticalAlignment.Middle);const Ee=await MathRenderingExtensions.measureMathText(Se,Pe,e,r,xe),Oe=OxySizeEx.getPolygon(Ee,_e,Ce,HorizontalAlignment.Left,VerticalAlignment.Middle);await Se.drawPolygon(Oe,OxyColors.Undefined,OxyColors.Blue,1,EdgeRenderingMode.Adaptive);const Me="     A B";await Se.drawText(Ae,Me,OxyColors.Red,e,r,xe,Ce,HorizontalAlignment.Left,VerticalAlignment.Middle);const De=Se.measureText(Me,e,r,xe),Te=OxySizeEx.getPolygon(De,Ae,Ce,HorizontalAlignment.Left,VerticalAlignment.Middle);await Se.drawPolygon(Te,OxyColors.Undefined,OxyColors.Blue,1,EdgeRenderingMode.Adaptive)}})),t}function drawMathTextAlignment(){const t="A_{2}^{3}B",e=new PlotModel,r="Arial",xe=20,Se=FontWeights.Normal;return e.annotations.push(new DelegateAnnotation(async _e=>{for(let Ae=HorizontalAlignment.Left;Ae<=HorizontalAlignment.Right;Ae++)for(let Ce=VerticalAlignment.Top;Ce<=VerticalAlignment.Bottom;Ce++){const Pe=newScreenPoint((Ae+1)*200+20,(Ce+1)*xe*3+20);await RenderingExtensions.fillCircle(_e,Pe,3,OxyColors.Blue,EdgeRenderingMode.Adaptive),await MathRenderingExtensions.drawMathText(_e,Pe,t,OxyColors.Black,r,xe,Se,0,Ae,Ce)}})),e}function drawTextAlignmentRotation(){const t=new PlotModel;return t.annotations.push(new DelegateAnnotation(async e=>{for(let r=HorizontalAlignment.Left;r<=HorizontalAlignment.Right;r++)for(let xe=VerticalAlignment.Top;xe<=VerticalAlignment.Bottom;xe++){const Se=(r+2)*130,_e=(xe+2)*130,Ae=newScreenPoint(Se,_e);await RenderingExtensions.fillCircle(e,Ae,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let Ce=0;Ce<360;Ce+=90)await e.drawText(Ae,`R${Ce.toString().padStart(3,"0")}`,OxyColors.Black,void 0,20,void 0,Ce,r,xe)}})),t}function drawMultilineTextAlignmentRotation(){const t=new PlotModel;return t.annotations.push(new DelegateAnnotation(async e=>{for(let r=HorizontalAlignment.Left;r<=HorizontalAlignment.Right;r++){const xe=getEnumName(HorizontalAlignment,r);for(let Se=VerticalAlignment.Top;Se<=VerticalAlignment.Bottom;Se++){const _e=getEnumName(VerticalAlignment,Se),Ae=(r+2)*170,Ce=(Se+2)*170,Pe=newScreenPoint(Ae,Ce);await RenderingExtensions.fillCircle(e,Pe,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let Ee=0;Ee<360;Ee+=90)await e.drawText(Pe,`R${Ee.toString().padStart(3,"0")}
${xe}
${_e}`,OxyColors.Black,void 0,20,void 0,Ee,r,Se)}}})),t}function drawTextMaxSize(){const t=new PlotModel,e="Arial",r=32,xe=FontWeights.Bold,Se=r*1.6,_e=["iii","jjj","OxyPlot","Bottom","100","KML"];return t.annotations.push(new DelegateAnnotation(async Ae=>{let Ee=20;for(const Oe of _e){const Me=Ae.measureText(Oe,e,r,xe),De=newScreenPoint(20,Ee);await Ae.drawText(De,Oe,OxyColors.Black,e,r,xe,void 0,void 0,void 0,Me);const Te=newOxyRect(De.x,De.y,Me.width,Me.height);await Ae.drawRectangle(Te,OxyColors.Undefined,OxyColors.Black,1,EdgeRenderingMode.Adaptive);const ke=newScreenPoint(200,Ee),Fe=newOxySize(Me.width/2,Me.height/2);await Ae.drawText(ke,Oe,OxyColors.Black,e,r,xe,void 0,void 0,void 0,Fe);const $e=newOxyRect(ke.x,ke.y,Fe.width,Fe.height);await Ae.drawRectangle($e,OxyColors.Undefined,OxyColors.Black,1,EdgeRenderingMode.Adaptive),Ee+=Se}})),t}function measureText(){const t=new PlotModel,e="Arial",r=["OxyPlot","MMM","III","jikq","gh","123","!#$&"],xe=[10,20,40,60];return t.annotations.push(new DelegateAnnotation(async Se=>{let _e=5;for(const Ae of xe){let Ce=5,Pe=0;for(const Ee of r){const Oe=Se.measureText(Ee,e,Ae,FontWeights.Normal);Pe=Math.max(Pe,Oe.width),await Se.drawRectangle(newOxyRect(_e,Ce,Oe.width,Oe.height),OxyColors.LightYellow,OxyColors.Black,1,EdgeRenderingMode.Adaptive),await Se.drawText(newScreenPoint(_e,Ce),Ee,OxyColors.Black,e,Ae),Ce+=Oe.height+20}_e+=Pe+20}})),t}const clipping=()=>{const t=new PlotModel;return t.annotations.push(new DelegateAnnotation(async e=>{const r=async Ve=>{const He=new OxyPen(OxyColors.Black,2,LineStyle.Dash),ze=OxyRectHelper.right(Ve),Ue=OxyRectHelper.bottom(Ve);await RenderingExtensions.drawLine(e,Ve.left,Ve.top,ze,Ve.top,He,EdgeRenderingMode.Automatic),await RenderingExtensions.drawLine(e,ze,Ve.top,ze,Ue,He,EdgeRenderingMode.Automatic),await RenderingExtensions.drawLine(e,ze,Ue,Ve.left,Ue,He,EdgeRenderingMode.Automatic),await RenderingExtensions.drawLine(e,Ve.left,Ue,Ve.left,Ve.top,He,EdgeRenderingMode.Automatic)};let xe=20;const Se=60,_e=40,Ae=20,Ce=20,Pe=200;let Ee=OxyRect_Empty;const Oe=async Ve=>{await RenderingExtensions.drawCircle2(e,Ve,_e*.58,OxyColors.CornflowerBlue,OxyColors.Undefined,0,EdgeRenderingMode.Automatic)},Me=async Ve=>{const He=newScreenPoint(Ae+_e+Ce+Pe,xe);await e.drawText(He,Ve,OxyColors.Black,void 0,12,void 0,void 0,void 0,VerticalAlignment.Middle)},De=async Ve=>{const He=newScreenPoint(Ae+_e+Ce,xe);await e.drawText(He,Ve,OxyColors.Black,void 0,12,void 0,void 0,void 0,VerticalAlignment.Middle)},Te=async(Ve,He)=>{await e.drawText(newScreenPoint(He,15),Ve,OxyColors.Black,void 0,12,700)},ke=()=>{xe+=Se,Ee=newOxyRect(Ae,xe-_e/2,_e,_e)};await Te("Actual",Ae),await Te("Test Case",Ae+_e+Ce),await Te("Expected",Ae+_e+Ce+Pe),ke(),e.pushClip(Ee),e.popClip();const Fe=()=>OxyRectHelper.center(Ee);await Oe(Fe()),await De(`1. Push clipping rectangle
2. Pop clipping rectangle
3. Draw circle`),await Me("The circle should be fully drawn."),ke(),e.pushClip(Ee),await Oe(Fe()),e.popClip(),await r(Ee),await De(`1. Push clipping rectangle
2. Draw Circle`),await Me("The circle should be clipped."),ke();let $e=OxyRectHelper.deflate(Ee,newOxyThickness(Ee.height*.25));e.pushClip(Ee),e.pushClip($e),await Oe(Fe()),e.popClip(),e.popClip(),await r(Ee),await r($e),await De(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await Me("The circle should be clipped to the small clipping rectangle."),ke(),$e=OxyRectHelper.deflate(Ee,newOxyThickness(Ee.height*.25)),e.pushClip($e),e.pushClip(Ee),await Oe(Fe()),e.popClip(),e.popClip(),await r(Ee),await r($e),await De(`1. Push small clipping rectangle
2. Push large clipping rectangle
3. Draw Circle`),await Me("The circle should be clipped to the small clipping rectangle."),ke();let Be=OxyRectHelper.offset(Ee,Ee.width/2,Ee.height/2);$e=OxyRectHelper.deflate(Be,newOxyThickness(Ee.height*.25)),e.pushClip(Ee),e.pushClip($e),await Oe(Fe()),e.popClip(),e.popClip(),await r(Ee),await r($e),await De(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await Me("The circle should be clipped to the intersection of the clipping rectangles."),ke(),Be=OxyRectHelper.offset(Ee,Ee.width/2,Ee.height/2),$e=OxyRectHelper.deflate(Be,newOxyThickness(Ee.height*.25)),e.pushClip(Ee),e.pushClip($e),e.popClip(),await Oe(Fe()),e.popClip(),await r(Ee),await r($e),await De(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Pop small clipping rectangle
4. Draw Circle`),await Me("The circle should be clipped to the large clipping rectangle."),ke();const Ie=OxyRectEx.fromRect(Ee).offset(Ee.width/3,Ee.height/3).deflate(newOxyThickness(Ee.height*.25)).rect,Re=OxyRectEx.fromRect(Ee).offset(-Ee.width/3,-Ee.height/3).deflate(newOxyThickness(Ee.height*.25)).rect;e.pushClip(Ie),e.pushClip(Re),await Oe(Fe()),e.popClip(),e.popClip(),await r(Ie),await r(Re),await De(`1. Push clipping rectangle
2. Push second clipping rectangle
3. Draw Circle`),await Me("The circle should not be drawn at all."),ke();const je=RenderingExtensions.autoResetClip(e,Ee);await e.drawText(Fe(),"OxyPlot",OxyColors.CornflowerBlue,void 0,15,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle),je.dispose(),await r(Ee),await De(`1. Push clipping rectangle
2. Draw Text`),await Me("The text should be clipped.")})),t},GRID_SIZE=40,TILE_SIZE=30,THICKNESS_STEPS=10,THICKNESS_STEP=.5,OFFSET_LEFT=200,OFFSET_TOP=20,FILL_COLOR=OxyColors.LightBlue,rectangles=()=>{const t=new PlotModel;return t.annotations.push(new DelegateAnnotation(async e=>{for(let xe=0;xe<THICKNESS_STEPS;xe++){const Se=OFFSET_LEFT+xe*GRID_SIZE+TILE_SIZE/2,_e=xe*THICKNESS_STEP;await e.drawText(newScreenPoint(Se,OFFSET_TOP/2),_e.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const r=getEnumKeys(EdgeRenderingMode);for(const xe of r){const Se=OFFSET_TOP+xe*GRID_SIZE;await e.drawText(newScreenPoint(10,Se+10),EdgeRenderingMode[xe],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let _e=0;_e<THICKNESS_STEPS;_e++){const Ae=OFFSET_LEFT+_e*GRID_SIZE,Ce=newOxyRect(Ae,Se,TILE_SIZE,TILE_SIZE),Pe=_e*THICKNESS_STEP;await e.drawRectangle(Ce,FILL_COLOR,OxyColors.Black,Pe,xe)}}})),t},lines=()=>{const t=new PlotModel;return t.annotations.push(new DelegateAnnotation(async e=>{for(let xe=0;xe<THICKNESS_STEPS;xe++){const Se=OFFSET_LEFT+xe*GRID_SIZE+TILE_SIZE/2,_e=xe*THICKNESS_STEP;await e.drawText(newScreenPoint(Se,OFFSET_TOP/2),_e.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const r=getEnumKeys(EdgeRenderingMode);for(const xe of r){const Se=OFFSET_TOP+xe*GRID_SIZE;await e.drawText(newScreenPoint(10,Se+10),EdgeRenderingMode[xe],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let _e=0;_e<THICKNESS_STEPS;_e++){const Ae=OFFSET_LEFT+_e*GRID_SIZE,Ce=newScreenPoint(Ae,Se),Pe=newScreenPoint(Ae,Se+TILE_SIZE),Ee=newScreenPoint(Ae+TILE_SIZE,Se),Oe=newScreenPoint(Ae+TILE_SIZE,Se+TILE_SIZE),Me=newScreenPoint(Ae,Se+TILE_SIZE/2),De=_e*THICKNESS_STEP;await e.drawLine([Pe,Ce,Ee],OxyColors.Black,De,xe),await e.drawLine([Me,Oe,Ce],OxyColors.Black,De,xe,void 0,LineJoin.Bevel)}}})),t},polygons=()=>{const t=new PlotModel;return t.annotations.push(new DelegateAnnotation(async e=>{for(let xe=0;xe<THICKNESS_STEPS;xe++){const Se=OFFSET_LEFT+xe*GRID_SIZE+TILE_SIZE/2,_e=xe*THICKNESS_STEP;await e.drawText(newScreenPoint(Se,OFFSET_TOP/2),_e.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const r=getEnumKeys(EdgeRenderingMode);for(const xe of r){const Se=OFFSET_TOP+xe*GRID_SIZE;await e.drawText(newScreenPoint(10,Se+10),EdgeRenderingMode[xe],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let _e=0;_e<THICKNESS_STEPS;_e++){const Ae=OFFSET_LEFT+_e*GRID_SIZE,Ce=[newScreenPoint(Ae+TILE_SIZE*.4,Se),newScreenPoint(Ae+TILE_SIZE,Se+TILE_SIZE*.2),newScreenPoint(Ae+TILE_SIZE*.9,Se+TILE_SIZE*.8),newScreenPoint(Ae+TILE_SIZE*.5,Se+TILE_SIZE),newScreenPoint(Ae,Se+TILE_SIZE*.6)],Pe=_e*THICKNESS_STEP;await e.drawPolygon(Ce,FILL_COLOR,OxyColors.Black,Pe,xe)}}})),t},ellipses=()=>{const t=new PlotModel;return t.annotations.push(new DelegateAnnotation(async e=>{for(let xe=0;xe<THICKNESS_STEPS;xe++){const Se=OFFSET_LEFT+xe*GRID_SIZE+TILE_SIZE/2,_e=xe*THICKNESS_STEP;await e.drawText(newScreenPoint(Se,OFFSET_TOP/2),_e.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const r=getEnumKeys(EdgeRenderingMode);for(const xe of r){const Se=OFFSET_TOP+xe*GRID_SIZE;await e.drawText(newScreenPoint(10,Se+10),EdgeRenderingMode[xe],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let _e=0;_e<THICKNESS_STEPS;_e++){const Ae=OFFSET_LEFT+_e*GRID_SIZE,Ce=newOxyRect(Ae,Se+TILE_SIZE*.1,TILE_SIZE,TILE_SIZE*.8),Pe=_e*THICKNESS_STEP;await e.drawEllipse(Ce,FILL_COLOR,OxyColors.Black,Pe,xe)}}})),t},lineJoins=()=>{const r=[135,90,45,22.5],xe=140,Se=90,_e=50,Ae=50,Ce=new PlotModel;return Ce.annotations.push(new DelegateAnnotation(async Pe=>{let Ee=0,Oe=0;const Me=getEnumKeys(LineJoin);for(const De of Me){const Te=newScreenPoint(xe*(Ee+.5)+_e,Ae/2);await Pe.drawText(Te,LineJoin[De],OxyColors.Black,void 0,12,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle),Ee++}for(const De of r){Ee=0;const Te=Se*Oe+Ae,ke=De/2/360*2*Math.PI,Fe=Math.sin(ke)*60,$e=Math.cos(ke)*60,Be=newScreenPoint(15,Te);await Pe.drawText(Be,De.toString()+"",OxyColors.Black,void 0,12);for(const Ie of Me){const Re=xe*(Ee+.5)+_e,je=newScreenPoint(Re,Te),Ve=newScreenPoint(Re-Fe,Te+$e),He=newScreenPoint(Re+Fe,Te+$e);await Pe.drawLine([Ve,je,He],OxyColors.CornflowerBlue,15,EdgeRenderingMode.PreferGeometricAccuracy,void 0,Ie),Ee++}Oe++}})),Ce},ellipseDrawing=()=>{const _e=new PlotModel;return _e.annotations.push(new DelegateAnnotation(async Ae=>{const Ce=newOxyRect(60,20,600,200),Pe=OxyRectHelper.right(Ce),Ee=OxyRectHelper.bottom(Ce),Oe=new Array(200),Me=(Ce.left+Pe)/2,De=(Ce.top+Ee)/2,Te=(Pe-Ce.left)/2,ke=(Ee-Ce.top)/2;for(let Fe=0;Fe<200;Fe++){const $e=Math.PI*2*Fe/199;Oe[Fe]=newScreenPoint(Me+Te*Math.cos($e),De+ke*Math.sin($e))}await Ae.drawPolygon(Oe,OxyColors.Undefined,OxyColors.Black,4,EdgeRenderingMode.PreferGeometricAccuracy),await Ae.drawEllipse(Ce,OxyColors.Undefined,OxyColors.White,2,EdgeRenderingMode.PreferGeometricAccuracy),await Ae.drawText(newScreenPoint(360,120),"The white ellipse (drawn by Renderer) should match the black ellipse (drawn as Path).",OxyColors.Black,void 0,12,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)})),_e},category$v="9 Rendering capabilities",RenderingCapabilities={category:category$v,examples:[{title:"DrawText - Colors",example:{model:drawTextColors}},{title:"DrawText - Fonts",example:{model:drawTextFonts}},{title:"DrawText - Font sizes",example:{model:drawTextFontSizes}},{title:"DrawText - Rotation",example:{model:drawTextRotation}},{title:"DrawText - Alignment",example:{model:drawTextAlignment}},{title:"DrawText - Multi-line Alignment",example:{model:drawTextMultiLineAlignment}},{title:"DrawMathText - Rotation",example:{model:mathTextRotation}},{title:"DrawMathText - Alignment",example:{model:drawMathTextAlignment}},{title:"DrawText - Alignment/Rotation",example:{model:drawTextAlignmentRotation}},{title:"DrawText - Multi-line Alignment/Rotation",example:{model:drawMultilineTextAlignmentRotation}},{title:"DrawText - MaxSize",example:{model:drawTextMaxSize}},{title:"MeasureText",example:{model:measureText}},{title:"Clipping",example:{model:clipping}},{title:"Rectangles - EdgeRenderingMode",example:{model:rectangles}},{title:"Lines - EdgeRenderingMode",example:{model:lines}},{title:"Polygons - EdgeRenderingMode",example:{model:polygons}},{title:"Ellipses - EdgeRenderingMode",example:{model:ellipses}},{title:"LineJoin",example:{model:lineJoins}},{title:"Ellipse Drawing",example:{model:ellipseDrawing}}]};function noInterpolation(){const t=new PlotModel({title:"No tracker interpolation",subtitle:"Used for discrete values or scatter plots."}),e=new Legend({legendSymbolLength:30});t.legends.push(e);const r=new LineSeries({title:"Series 1",canTrackerInterpolatePoints:!1,color:OxyColors.SkyBlue,markerType:MarkerType.Circle,markerSize:6,markerStroke:OxyColors.White,markerFill:OxyColors.SkyBlue,markerStrokeThickness:1.5});for(let xe=0;xe<63;xe++){const Se=Math.round(Math.sqrt(xe)*Math.cos(xe*.1)),_e=Math.round(Math.sqrt(xe)*Math.sin(xe*.1));r.points.push(newDataPoint(Se,_e))}return t.series.push(r),t}function trackerChangedEvent(){const t=new PlotModel({title:"Handling the TrackerChanged event",subtitle:"Press the left mouse button to test the tracker."});return t.series.push(FunctionSeries.fromN(Math.sin,0,10,100)),t.trackerChanged=(e,r)=>{t.subtitle=r.hitResult?"Tracker item index = "+r.hitResult.index:"Not tracking",t.invalidatePlot(!1)},t}function trackerFiresDistance(){const t=new PlotModel({title:"Specified distance of the tracker fires",subtitle:"Press the left mouse button to test the tracker."});t.series.push(FunctionSeries.fromN(Math.sin,0,10,100));const e=new PlotController;return e.unbindViewCommand(PlotCommands.snapTrack),e.unbindViewCommand(PlotCommands.snapTrackTouch),ControllerExtensions.bindMouseDown(e,OxyMouseButton.Left,new DelegatePlotCommand((r,xe,Se)=>xe.addMouseManipulator(r,new TrackerManipulator(r,{snap:!0,pointsOnly:!1,firesDistance:2,checkDistanceBetweenPoints:!0}),Se))),ControllerExtensions.bindTouchDown(e,new DelegatePlotCommand((r,xe,Se)=>xe.addTouchManipulator(r,new TouchTrackerManipulator(r,{snap:!0,pointsOnly:!1,firesDistance:2}),Se))),{model:()=>t,controller:()=>e}}const category$u="Tracker",TrackerExamples={category:category$u,examples:[{title:"No interpolation",example:{model:noInterpolation}},{title:"TrackerChangedEvent",example:{model:trackerChangedEvent}},{title:"Specified distance of the tracker fires",example:trackerFiresDistance()}]},Exps=[FilteringExamples,ItemsSourceExamples,LegendExamples,MouseEventExamples,PerformanceExamples,PlotControllerExamples,PlotModelExamples,RenderingCapabilities,TrackerExamples],points=[{x:589.3649979,y:16.10595703},{x:437.9979935,y:16.10595703},{x:400.4249954,y:16.10595703},{x:399.1255264,y:16.05047607},{x:397.463356,y:15.92333984},{x:393.5852432,y:15.69073486},{x:389.8589859,y:15.88067627},{x:388.3866653,y:16.28186035},{x:387.3529739,y:16.96594238},{x:386.8373489,y:18.53930664},{x:387.2163773,y:20.51794434},{x:387.9814529,y:22.51843262},{x:388.6240005,y:24.15698242},{x:395.958992,y:45.09094238},{x:399.2686234,y:54.89562988},{x:402.1330338,y:64.90338135},{x:404.5822525,y:75.06884766},{x:406.6462479,y:85.34680176},{x:409.7385635,y:106.0593262},{x:411.6500015,y:126.6789551},{x:412.0961685,y:137.0930786},{x:412.0253677,y:147.4713135},{x:411.4655228,y:157.8103638},{x:410.4446182,y:168.1069336},{x:408.9906387,y:178.3577881},{x:407.1315689,y:188.5595703},{x:404.8953629,y:198.7091064},{x:402.3099747,y:208.8029785},{x:392.9860001,y:237.2509766},{x:392.1175613,y:240.0527954},{x:391.2060013,y:243.0959473},{x:390.5509415,y:246.1691284},{x:390.4520035,y:249.0609741},{x:391.406044,y:252.6694336},{x:393.1980057,y:256.0982056},{x:395.3566971,y:259.3631287},{x:397.4109879,y:262.47995},{x:411.7649918,y:287.7079468},{x:426.5997696,y:312.9102173},{x:441.8913651,y:337.8200684},{x:457.3402786,y:362.6333923},{x:472.6469803,y:387.5459595},{x:478.0007401,y:395.7557983},{x:483.6958694,y:403.8400879},{x:489.2894974,y:411.9628296},{x:494.3389969,y:420.2879639},{x:494.9800491,y:421.8480225},{x:495.4455032,y:423.6903687},{x:496.1577225,y:427.7724609},{x:497.0915604,y:431.6355591},{x:497.8341141,y:433.2041321},{x:498.8629837,y:434.3809509},{x:500.0935135,y:434.9877625},{x:501.7391434,y:435.3059082},{x:505.7623367,y:435.3148193},{x:509.9061356,y:434.8848267},{x:511.7024612,y:434.6542969},{x:513.1439896,y:434.4929504},{x:520.0768509,y:434.1251831},{x:527.3961258,y:434.1952209},{x:534.6892776,y:434.728363},{x:541.544014,y:435.7499695},{x:544.2357864,y:436.3025513},{x:547.021492,y:437.0792236},{x:549.6099319,y:438.2590027},{x:551.7099686,y:440.0209656},{x:552.7028275,y:441.4446106},{x:553.2691116,y:442.791626},{x:553.4498978,y:444.0619202},{x:553.2864456,y:445.2554626},{x:552.0910721,y:447.4119873},{x:550.0122147,y:449.2607117},{x:547.3790359,y:450.8010864},{x:544.5206985,y:452.0325928},{x:541.766304,y:452.9547119},{x:539.445015,y:453.5669556},{x:539.445015,y:454.6409607},{x:542.6554031,y:455.4246521},{x:546.0063553,y:455.8735962},{x:549.2799149,y:456.4869385},{x:552.2580032,y:457.7639465},{x:554.3335648,y:459.5966797},{x:555.6600418,y:461.8208313},{x:556.278389,y:464.282959},{x:556.2294998,y:466.8295898},{x:555.55439,y:469.307251},{x:554.2939529,y:471.5625},{x:552.4892044,y:473.4418945},{x:550.1809769,y:474.7919617},{x:547.1414261,y:475.8059387},{x:543.8482132,y:476.5288391},{x:537.2979813,y:477.0559692},{x:535.5239944,y:476.8666077},{x:533.5114822,y:476.5535889},{x:531.5334549,y:476.4162598},{x:529.8629837,y:476.7539673},{x:529.0471268,y:477.3421631},{x:528.5394363,y:478.1289673},{x:528.1448441,y:480.0927124},{x:528.071846,y:482.2338257},{x:527.7129593,y:484.1409607},{x:526.901741,y:485.4877014},{x:525.8139114,y:486.4950867},{x:523.0528641,y:487.6643372},{x:519.9188919,y:487.9933777},{x:516.9010086,y:487.8269653},{x:511.7325516,y:486.9451599},{x:506.4563065,y:485.4539185},{x:501.155159,y:483.4500427},{x:495.912117,y:481.0302124},{x:485.9321365,y:475.3295898},{x:481.3610916,y:472.2423096},{x:477.1800003,y:469.125946},{x:465.3709793,y:459.3179626},{x:464.3509598,y:458.3116455},{x:463.1867142,y:457.1624451},{x:461.9141312,y:456.2180176},{x:460.5689774,y:455.8259583},{x:459.6923904,y:456.0762939},{x:458.8656693,y:456.7503662},{x:457.3631058,y:458.907959},{x:456.063179,y:461.3753052},{x:455.4898758,y:462.436554},{x:454.9679642,y:463.2289734},{x:453.0795364,y:465.3183289},{x:450.8528519,y:467.2734985},{x:448.3575516,y:468.9848328},{x:445.6630936,y:470.3425903},{x:442.83918,y:471.2370605},{x:439.9552689,y:471.5585938},{x:437.0810318,y:471.1974487},{x:434.2859879,y:470.0439453},{x:432.4744034,y:468.6621399},{x:431.3244705,y:467.0726013},{x:430.7551956,y:465.3302612},{x:430.6856155,y:463.4900818},{x:431.0347672,y:461.6070251},{x:431.7216873,y:459.7360229},{x:433.7849808,y:456.2499695},{x:438.1093216,y:450.118988},{x:441.4749832,y:444.3893433},{x:444.0351639,y:438.28302},{x:445.0610428,y:434.845459},{x:445.9430008,y:431.0219727},{x:446.6270218,y:428.7687378},{x:447.4476395,y:426.4767151},{x:447.9032059,y:424.1760559},{x:447.492012,y:421.8969727},{x:445.6156082,y:418.2295837},{x:443.3608475,y:414.6139832},{x:438.1008682,y:407.5364685},{x:432.48069,y:400.6614685},{x:427.2689896,y:393.9859619},{x:389.1699905,y:339.2359619},{x:374.5550003,y:318.3009644},{x:372.5515823,y:314.8404541},{x:370.2787552,y:310.9485779},{x:367.7467728,y:307.2946777},{x:366.3868484,y:305.7660828},{x:364.9659805,y:304.5479736},{x:363.9477615,y:304.0406799},{x:363.082222,y:304.0159912},{x:361.6236038,y:304.9024658},{x:360.2191849,y:306.1834412},{x:359.4213638,y:306.651886},{x:358.4979935,y:306.8349609},{x:356.6694107,y:306.4464722},{x:354.9371109,y:305.5308228},{x:353.2544937,y:304.4515076},{x:351.5749893,y:303.5719604},{x:343.4895706,y:301.1234131},{x:335.0169449,y:299.8048401},{x:326.3076553,y:299.5128174},{x:317.5122147,y:300.1439514},{x:308.7811966,y:301.5948486},{x:300.2651443,y:303.762085},{x:292.1145401,y:306.5422668},{x:284.4799881,y:309.8319702},{x:282.3371964,y:310.7483521},{x:279.925972,y:311.644928},{x:274.7942581,y:313.5763245},{x:270.0769119,y:316.0212708},{x:268.1836319,y:317.559845},{x:266.7659988,y:319.3749695},{x:271.6227798,y:320.1968384},{x:276.5877457,y:321.7830811},{x:281.472847,y:323.7190247},{x:286.090004,y:325.5899658},{x:298.3649979,y:330.7419739},{x:310.3880997,y:336.8226929},{x:321.8024063,y:343.941803},{x:332.2509842,y:352.2089539},{x:339.2033768,y:358.533844},{x:342.4841385,y:361.901825},{x:345.4439774,y:365.5359497},{x:346.445076,y:367.0002136},{x:347.3386307,y:368.7592163},{x:347.6443558,y:370.5680847},{x:347.4267044,y:371.4147034},{x:346.8819962,y:372.1819458},{x:345.387001,y:372.7861023},{x:343.5981216,y:372.4627075},{x:341.8064041,y:371.7001953},{x:340.3029861,y:370.986969},{x:336.1688919,y:369.4472046},{x:331.5998611,y:368.1002197},{x:326.9541702,y:367.1023254},{x:322.5899734,y:366.6099548},{x:324.6785049,y:369.6851501},{x:327.4601212,y:372.3129578},{x:330.467659,y:374.7735291},{x:333.2339859,y:377.3469543},{x:338.3369217,y:383.6273193},{x:342.70298,y:390.7063293},{x:344.4534683,y:394.4726563},{x:345.8323135,y:398.3514099},{x:346.7769547,y:402.3135376},{x:347.2249832,y:406.3299561},{x:346.8078384,y:412.0097046},{x:345.1297989,y:416.5983276},{x:342.383522,y:420.1838074},{x:338.7616043,y:422.8540955},{x:334.4566727,y:424.6971741},{x:329.6613541,y:425.8010559},{x:324.5682449,y:426.2536621},{x:319.3700027,y:426.1429749},{x:315.144783,y:425.6447144},{x:311.0141983,y:424.7691345},{x:303.0388565,y:422.0056763},{x:295.4478226,y:418.0917969},{x:288.2450027,y:413.2668457},{x:281.4342422,y:407.769989},{x:275.0194168,y:401.8405762},{x:269.0043716,y:395.717804},{x:263.393013,y:389.6409607},{x:255.0782547,y:379.5436707},{x:247.6409988,y:368.3999634},{x:244.4098587,y:362.5210571},{x:241.5882645,y:356.4829712},{x:239.2395096,y:350.3198853},{x:237.4270096,y:344.0659485},{x:236.2694168,y:338.2407532},{x:235.5486526,y:332.3677368},{x:235.0773697,y:320.528717},{x:235.3326797,y:308.6495667},{x:235.6340103,y:296.8309631},{x:233.1889725,y:297.9562988},{x:230.9140091,y:299.4570923},{x:226.5090103,y:302.6929626},{x:206.6489944,y:315.875946},{x:157.2670059,y:346.7819519},{x:136.8219986,y:360.059967},{x:132.2092514,y:363.0340881},{x:130.0033798,y:364.6920166},{x:128.1559982,y:366.6599731},{x:127.0190811,y:368.5368958},{x:126.298027,y:370.4631348},{x:125.9532547,y:372.4280701},{x:125.9451218,y:374.4211121},{x:126.7804031,y:378.4490356},{x:128.4870071,y:382.4620972},{x:130.748024,y:386.3754272},{x:133.2466202,y:390.104248},{x:135.6659012,y:393.5636902},{x:137.689003,y:396.6689453},{x:139.2043839,y:400.197052},{x:139.5524673,y:402.0329285},{x:139.5626297,y:403.8374634},{x:139.1861954,y:405.551239},{x:138.3745499,y:407.1148682},{x:137.0790329,y:408.4689026},{x:135.2509995,y:409.5539551},{x:132.8812943,y:410.31427},{x:130.5507584,y:410.5262146},{x:128.270546,y:410.2424316},{x:126.0518265,y:409.5155334},{x:123.9057388,y:408.3982239},{x:121.8434372,y:406.9431458},{x:118.0148697,y:403.2301941},{x:114.6553879,y:398.7979126},{x:111.8542252,y:394.0675049},{x:109.7006912,y:389.4601135},{x:108.2840042,y:385.3969727},{x:107.7778549,y:382.5092468},{x:107.3788681,y:379.2887268},{x:106.6309433,y:376.2470703},{x:105.0779953,y:373.8959656},{x:103.1701126,y:372.6677246},{x:100.7825394,y:371.7599487},{x:95.13137054,y:370.6252136},{x:89.25051117,y:369.9303284},{x:86.57584381,y:369.5724182},{x:84.26599884,y:369.1139526},{x:78.20024872,y:367.3027649},{x:71.70685577,y:364.820343},{x:65.1133194,y:361.6892395},{x:58.74712372,y:357.9318237},{x:52.93579102,y:353.5706482},{x:48.00682831,y:348.6281433},{x:45.97557068,y:345.9458923},{x:44.28772736,y:343.1267395},{x:42.98422241,y:340.1734924},{x:42.10599518,y:337.0889587},{x:41.90753937,y:335.2592163},{x:42.08698273,y:333.7605286},{x:43.18836975,y:331.3730774},{x:44.62782288,y:329.1598206},{x:45.6230011,y:326.3539734},{x:45.62973022,y:324.9945984},{x:45.33054352,y:323.6192627},{x:44.36862183,y:320.8330994},{x:43.98298645,y:319.4284058},{x:43.84563446,y:318.0201111},{x:44.09512329,y:316.6112671},{x:44.86999512,y:315.2049561},{x:45.80908966,y:314.2088623},{x:46.79941559,y:313.5540161},{x:48.9025116,y:313.1113892},{x:51.11682129,y:313.5637512},{x:53.37987518,y:314.5978394},{x:57.8022995,y:317.1580811},{x:59.83672333,y:318.0577087},{x:61.6700058,y:318.2859497},{x:62.82819366,y:317.6254883},{x:63.23600006,y:316.3283386},{x:63.24330902,y:314.8067627},{x:63.20000458,y:313.4729614},{x:63.68109894,y:310.3050232},{x:64.93375397,y:307.6513367},{x:67.09728241,y:305.979187},{x:68.56415558,y:305.6572571},{x:70.31099701,y:305.7559509},{x:73.2078476,y:306.4935913},{x:76.04866791,y:307.6478271},{x:81.46486664,y:310.9243164},{x:86.36489105,y:315.0218811},{x:90.55399323,y:319.3769531},{x:92.14154816,y:321.4163208},{x:93.72263336,y:323.6399536},{x:95.39614105,y:325.7593689},{x:97.26099396,y:327.4859619},{x:98.87421417,y:328.2453918},{x:100.5960007,y:328.4575806},{x:104.1259995,y:328.1189575},{x:107.9671097,y:328.0540771},{x:112.0256271,y:328.345459},{x:116.0258255,y:328.4305725},{x:119.6919937,y:327.7469482},{x:122.6980515,y:326.2321777},{x:125.5723801,y:324.1764526},{x:128.3242722,y:321.9129944},{x:130.9630051,y:319.7749634},{x:158.6139908,y:297.5969543},{x:183.9269943,y:278.8919678},{x:215.7729874,y:251.3609619},{x:222.6591263,y:245.7957153},{x:229.6908646,y:240.2703247},{x:236.5836563,y:234.5932617},{x:243.0529861,y:228.572937},{x:246.137764,y:224.8230591},{x:248.7661209,y:220.4605103},{x:251.0138321,y:215.6484985},{x:252.9567337,y:210.5499878},{x:256.2312393,y:200.1459351},{x:257.7144547,y:195.1665039},{x:259.1959915,y:190.5529785},{x:263.9845047,y:175.0708008},{x:267.8167191,y:159.2056274},{x:270.6394424,y:143.0612183},{x:272.3993607,y:126.7412109},{x:273.043251,y:110.3493042},{x:272.5178299,y:93.98913574},{x:270.7698441,y:77.76446533},{x:267.7460098,y:61.77893066},{x:260.9010086,y:28.45196533},{x:260.3377457,y:25.5088501},{x:259.7099991,y:22.24182129},{x:258.5879898,y:19.265625},{x:257.7073746,y:18.07867432},{x:256.5419998,y:17.19494629},{x:254.5226212,y:16.44396973},{x:252.1078568,y:16.0401001},{x:246.5816116,y:15.96911621},{x:240.9423294,y:16.37298584},{x:238.3862076,y:16.56274414},{x:236.1689835,y:16.64294434},{x:185.1770096,y:17.17895508},{x:0,y:16.64294434},{x:0,y:.53894043},{x:188.9400101,y:.53894043},{x:242.0799942,y:.53894043},{x:244.6571732,y:.474975586},{x:247.5546951,y:.33001709},{x:253.8458633,y:.078552246},{x:260.0235977,y:.347839355},{x:262.779335,y:.853759766},{x:265.1579971,y:1.70098877},{x:266.7366104,y:2.746398926},{x:268.0821915,y:4.172119141},{x:270.1900101,y:7.797119141},{x:271.7128067,y:11.84075928},{x:272.8819962,y:15.56799316},{x:276.034523,y:25.44775391},{x:279.0441055,y:35.50836182},{x:281.6616287,y:45.66326904},{x:283.6380081,y:55.82598877},{x:285.7761917,y:72.32995605},{x:287.0616837,y:88.9072876},{x:287.4597855,y:105.5118408},{x:286.9358597,y:122.0977173},{x:285.4552994,y:138.6187744},{x:282.9833755,y:155.0289917},{x:279.4855118,y:171.2824097},{x:274.9270096,y:187.3329468},{x:271.4097672,y:198.2474976},{x:267.3623734,y:209.4165039},{x:262.4050369,y:220.1444092},{x:259.4664688,y:225.1257324},{x:256.1579971,y:229.7359619},{x:249.3205032,y:237.2365723},{x:241.720253,y:244.1188354},{x:233.794136,y:250.6709595},{x:225.9790115,y:257.1809692},{x:195.5280228,y:282.9415894},{x:164.2490005,y:307.6559448},{x:141.1689987,y:324.8109741},{x:133.2555008,y:330.7440796},{x:129.0609055,y:333.3323975},{x:124.5289993,y:335.2859497},{x:122.1544113,y:335.8482361},{x:119.7157364,y:336.0837402},{x:114.7126236,y:335.969696},{x:109.6527023,y:335.7345581},{x:104.6689987,y:336.1689453},{x:102.779686,y:336.7739563},{x:100.6949997,y:337.5380859},{x:98.61257172,y:337.9761353},{x:96.73000336,y:337.6029663},{x:94.59128571,y:335.8127136},{x:92.66425323,y:333.2740784},{x:90.92359161,y:330.5338745},{x:89.34400177,y:328.1389465},{x:87.08150482,y:325.4346313},{x:84.48600006,y:322.8813171},{x:78.90499115,y:318.3849487},{x:77.3181076,y:317.091217},{x:75.22336578,y:315.5139465},{x:73.02420807,y:314.5059509},{x:72.01151276,y:314.4819031},{x:71.12400055,y:314.9199524},{x:70.59803009,y:315.7275085},{x:70.51831818,y:316.7388916},{x:71.29537201,y:319.0906982},{x:72.65048981,y:321.4106445},{x:73.77899933,y:323.1339722},{x:77.82125092,y:329.0054626},{x:80.16477203,y:331.7309265},{x:82.71099091,y:334.177948},{x:84.92420197,y:335.9799805},{x:87.10187531,y:337.9599609},{x:88.68236542,y:340.2526855},{x:89.07314301,y:341.5584412},{x:89.10399628,y:342.9929504},{x:89.61742401,y:343.8485413},{x:89.34513092,y:344.4684448},{x:88.5472641,y:344.7538757},{x:87.48400116,y:344.605957},{x:85.91378021,y:343.8370972},{x:84.39550018,y:342.7818298},{x:81.58899689,y:340.4889526},{x:78.80124664,y:338.1679382},{x:75.64672089,y:335.4441223},{x:68.57024384,y:329.6803589},{x:64.81476593,y:327.0864868},{x:61.02541351,y:324.9821167},{x:57.28540802,y:323.5902405},{x:53.6780014,y:323.1339722},{x:55.6113739,y:326.1587524},{x:58.03131866,y:328.9006653},{x:63.8632431,y:333.7370911},{x:70.23856354,y:338.0457153},{x:76.22199249,y:342.2289734},{x:77.03455353,y:342.7995605},{x:78.11525726,y:343.5061951},{x:80.57563019,y:345.232605},{x:82.59217072,y:347.217926},{x:83.11811066,y:348.24823},{x:83.15399933,y:349.2719727},{x:82.68766022,y:350.0397949},{x:81.87210846,y:350.3486328},{x:79.6248703,y:349.9825745},{x:77.27544403,y:348.9604797},{x:76.33216095,y:348.4492188},{x:75.68700409,y:348.0689697},{x:66.5876236,y:342.1790771},{x:61.90306854,y:339.4937744},{x:56.897995,y:337.35495},{x:55.17505646,y:336.726532},{x:53.01000214,y:336.1444702},{x:51.04743958,y:336.2538757},{x:50.34353638,y:336.7695007},{x:49.93199921,y:337.6999512},{x:50.0814743,y:339.3566589},{x:51.06142426,y:341.0038757},{x:52.65550232,y:342.6039124},{x:54.64737701,y:344.1190796},{x:58.95914459,y:346.743988},{x:60.84635162,y:347.7783203},{x:62.26599884,y:348.5769653},{x:70.1079483,y:352.9052734},{x:78.1873703,y:356.6586914},{x:86.4916153,y:359.8837585},{x:95.00800323,y:362.6269531},{x:96.84983063,y:363.0866394},{x:98.97579193,y:363.5275574},{x:103.6091232,y:364.5426941},{x:107.965889,y:366.0517273},{x:109.7461472,y:367.1099854},{x:111.1039963,y:368.43396},{x:112.0068741,y:370.5414429},{x:112.4139938,y:373.21521},{x:112.6441269,y:375.9950867},{x:113.0159988,y:378.4209595},{x:113.902565,y:381.2496643},{x:115.2284775,y:384.6081543},{x:116.9393082,y:388.2300415},{x:118.980629,y:391.8488464},{x:121.2979813,y:395.1981506},{x:123.8369522,y:398.0115662},{x:126.5430984,y:400.022644},{x:129.3619919,y:400.9649658},{x:128.5566483,y:397.5397949},{x:126.8852463,y:394.5133362},{x:124.8594742,y:391.6261902},{x:122.9910049,y:388.6189575},{x:120.504631,y:382.5281982},{x:119.1972427,y:376.1178589},{x:119.0547104,y:372.875061},{x:119.2897568,y:369.6510315},{x:119.9299698,y:366.4787292},{x:121.0029984,y:363.3909607},{x:122.9761124,y:359.8041687},{x:125.5510788,y:356.6000061},{x:128.5915298,y:353.7098083},{x:131.9611282,y:351.0648499},{x:139.1423569,y:346.2359619},{x:146.0040054,y:341.5639648},{x:153.3126602,y:336.4172363},{x:160.8510056,y:331.6148376},{x:176.060997,y:322.2139587},{x:223.2120132,y:292.0619507},{x:241.0090103,y:281.0089722},{x:244.4554214,y:278.2832642},{x:248.0213699,y:275.5827026},{x:251.8383865,y:273.5125122},{x:253.8821487,y:272.9029541},{x:256.038002,y:272.677948},{x:255.5765762,y:275.73526},{x:254.4421158,y:278.3285828},{x:252.9171219,y:280.7803345},{x:251.2840042,y:283.4129639},{x:249.1513138,y:287.4288635},{x:247.2273636,y:291.7029724},{x:245.725502,y:296.1263123},{x:244.8589859,y:300.5899658},{x:244.4298477,y:307.2876587},{x:244.5635757,y:313.9535828},{x:245.2291336,y:320.570282},{x:246.3955154,y:327.1204224},{x:248.0315933,y:333.5866089},{x:250.1063919,y:339.951416},{x:252.5888138,y:346.1975098},{x:255.4478531,y:352.3074646},{x:262.1715469,y:364.0494385},{x:270.0290298,y:375.0382385},{x:278.7719803,y:385.1347656},{x:288.1519852,y:394.1999512},{x:294.92173,y:399.6752014},{x:302.1428604,y:404.5257263},{x:309.7718277,y:408.7135925},{x:317.7649918,y:412.2009583},{x:322.0982132,y:413.5901184},{x:326.4935989,y:414.2129517},{x:328.6687698,y:414.1019592},{x:330.8044205,y:413.6372986},{x:332.8823013,y:412.7649841},{x:334.8839798,y:411.4309692},{x:336.700325,y:409.4726868},{x:337.756813,y:407.2593689},{x:338.1652908,y:404.8675537},{x:338.0374832,y:402.3738403},{x:337.4851761,y:399.8547668},{x:336.6201553,y:397.3868713},{x:334.3989944,y:392.9109497},{x:331.2719803,y:388.0760193},{x:327.7468643,y:383.5949097},{x:319.7087479,y:375.5498352},{x:310.6974869,y:368.4870605},{x:301.1259842,y:362.1179504},{x:289.341011,y:355.3789673},{x:288.3749161,y:354.5166321},{x:287.4871292,y:353.3829651},{x:287.1665115,y:352.1690369},{x:287.3716812,y:351.5917053},{x:287.9019852,y:351.0659485},{x:290.0786819,y:350.5000305},{x:292.8593826,y:350.8098145},{x:295.6623917,y:351.5259399},{x:297.9060135,y:352.1789551},{x:300.6676102,y:353.0059814},{x:303.7700882,y:354.0613708},{x:310.5398636,y:356.3453369},{x:313.9782486,y:357.3178101},{x:317.2997208,y:358.0065918},{x:320.3897781,y:358.2836609},{x:323.1339798,y:358.0209656},{x:311.4509048,y:349.4853516},{x:299.2507401,y:341.6953125},{x:286.5124283,y:334.8171387},{x:273.215004,y:329.0169678},{x:258.7229996,y:323.8179626},{x:257.2878494,y:323.337738},{x:255.7744827,y:322.6670837},{x:254.4943924,y:321.7168884},{x:253.7590103,y:320.3979492},{x:253.827034,y:319.0723267},{x:254.5322647,y:317.7234802},{x:255.711647,y:316.3885193},{x:257.2022476,y:315.1045837},{x:260.465126,y:312.8383789},{x:261.9114456,y:311.9303589},{x:263.0170059,y:311.2219543},{x:271.8112259,y:305.8678284},{x:281.198616,y:301.1617126},{x:290.8884659,y:297.0829773},{x:300.590004,y:293.6109619},{x:310.0823746,y:291.1308289},{x:319.4608536,y:289.9150696},{x:328.9314041,y:289.7652893},{x:338.6999893,y:290.4829712},{x:354.2659988,y:293.3499451},{x:355.8602982,y:293.1119995},{x:357.197731,y:292.2803345},{x:358.3595047,y:291.0731506},{x:359.4267349,y:289.7085876},{x:360.4805679,y:288.4048157},{x:361.6021194,y:287.3800049},{x:362.8725357,y:286.8523254},{x:364.3729935,y:287.0399475},{x:365.9158707,y:287.8427734},{x:367.3995438,y:289.0066833},{x:370.1699905,y:292.0510864},{x:372.6456985,y:295.4399109},{x:374.788002,y:298.4399719},{x:394.8579788,y:325.8149719},{x:397.3873978,y:329.0663757},{x:399.9987259,y:332.6233521},{x:402.1026993,y:336.3991089},{x:402.7802811,y:338.3419189},{x:403.109993,y:340.3069458},{x:403.7992325,y:340.2913818},{x:404.1172256,y:340.3743286},{x:404.2001114,y:340.691864},{x:404.1839981,y:341.3799744},{x:405.9170609,y:342.5977478},{x:407.5672379,y:344.3135681},{x:410.6323624,y:348.6974487},{x:413.4063187,y:353.4481201},{x:414.6925125,y:355.6223755},{x:415.9159927,y:357.4819641},{x:446.1409988,y:402.5239563},{x:447.8941116,y:404.6854248},{x:449.9755325,y:406.9086609},{x:454.483345,y:411.5653381},{x:456.5896683,y:414.0111694},{x:458.3842239,y:416.5435791},{x:459.7070389,y:419.1687927},{x:460.3980179,y:421.8929749},{x:460.330513,y:423.2209473},{x:459.8673782,y:424.4043274},{x:458.1563797,y:426.4813232},{x:456.0694046,y:428.4118958},{x:454.4110184,y:430.4839478},{x:453.6341629,y:432.6287231},{x:453.2503738,y:434.9552002},{x:452.6709671,y:439.6079712},{x:451.6133499,y:443.3995361},{x:450.0984573,y:447.2178345},{x:448.1988602,y:450.8544312},{x:445.9870071,y:454.1009521},{x:445.2327957,y:454.9499512},{x:444.120369,y:456.1347046},{x:441.6337357,y:459.0782166},{x:440.6658401,y:460.6203003},{x:440.1524734,y:462.0648193},{x:440.2967911,y:463.3034973},{x:441.3020096,y:464.2279663},{x:443.0089798,y:464.4325867},{x:444.7705154,y:463.7559509},{x:446.3872757,y:462.6180725},{x:447.6599808,y:461.4389648},{x:449.96418,y:458.7336426},{x:451.896492,y:455.7789612},{x:454.7979813,y:449.3179626},{x:455.2873001,y:447.6248474},{x:455.8775101,y:445.8508301},{x:456.8382034,y:444.3796387},{x:458.4389725,y:443.5949707},{x:460.0345535,y:443.7620239},{x:461.7698441,y:444.6128235},{x:463.5780106,y:445.9676208},{x:465.3921585,y:447.6465759},{x:468.7708817,y:451.2580566},{x:470.2016678,y:452.8309631},{x:471.3709793,y:454.0089722},{x:478.8518143,y:460.0104675},{x:486.9943924,y:465.3340759},{x:495.4878006,y:470.1171265},{x:504.0210037,y:474.4969482},{x:509.5540848,y:477.1457214},{x:515.2860184,y:479.3189697},{x:516.4008255,y:479.6032104},{x:517.6022415,y:479.6870728},{x:518.5872879,y:479.3061523},{x:519.0529861,y:478.1959534},{x:518.8626175,y:476.8864441},{x:518.1857986,y:475.7019958},{x:515.84095,y:473.7122192},{x:512.9545975,y:472.234314},{x:510.4629593,y:471.2759705},{x:507.6074905,y:470.256958},{x:504.0599442,y:468.8930969},{x:496.255867,y:465.2143555},{x:492.682869,y:462.9411621},{x:489.7850418,y:460.4066467},{x:487.9041214,y:457.6316223},{x:487.4518509,y:456.1604309},{x:487.3819656,y:454.6369629},{x:491.1286697,y:455.6597595},{x:494.7612381,y:457.2131958},{x:498.3274002,y:458.9732666},{x:501.8750076,y:460.6159668},{x:508.6896439,y:463.2619934},{x:515.7986526,y:465.5415649},{x:523.0577469,y:467.2131042},{x:530.3230057,y:468.0349731},{x:536.5177689,y:468.0764465},{x:542.669014,y:467.3979492},{x:543.9200516,y:466.9833069},{x:545.0242386,y:466.2348328},{x:545.5588455,y:465.2004089},{x:545.1009598,y:463.927948},{x:544.175972,y:463.0953064},{x:542.9511795,y:462.4622803},{x:539.9430008,y:461.6712036},{x:536.7585526,y:461.3072815},{x:534.0799637,y:461.1229553},{x:520.8706131,y:459.9545898},{x:514.2815628,y:459.0859985},{x:507.7789993,y:457.8509521},{x:506.4525833,y:457.5542603},{x:504.8121414,y:457.1582336},{x:501.1944656,y:455.9819641},{x:499.5198441,y:455.1585083},{x:498.1362991,y:454.1494141},{x:497.1952591,y:452.9331055},{x:496.8479691,y:451.4879456},{x:497.117012,y:450.6549377},{x:497.8393021,y:450.1732788},{x:500.1341019,y:449.9840698},{x:502.7133255,y:450.3605652},{x:503.7911453,y:450.5859985},{x:504.557991,y:450.7429504},{x:511.3823318,y:451.3563843},{x:518.3227615,y:451.0169373},{x:525.2244949,y:449.9740295},{x:531.932991,y:448.4769592},{x:532.8128738,y:448.2760315},{x:534.1250076,y:447.9761353},{x:537.3393631,y:447.0833435},{x:538.8882523,y:446.4923706},{x:540.1627884,y:445.8063354},{x:540.9862747,y:445.0262146},{x:541.1820145,y:444.1529541},{x:540.6489334,y:443.4705505},{x:539.4853592,y:443.0022888},{x:537.8792191,y:442.7068176},{x:536.0183792,y:442.5428467},{x:532.2842484,y:442.4439392},{x:530.7866898,y:442.4263916},{x:529.7860184,y:442.3749695},{x:522.7177811,y:441.8120117},{x:515.5401077,y:441.6993408},{x:501.2470169,y:442.2559509},{x:498.6232986,y:442.5908508},{x:495.6024857,y:442.9595947},{x:492.7076492,y:442.7930298},{x:491.4709549,y:442.3311157},{x:490.4619827,y:441.5219727},{x:489.3800125,y:439.9010925},{x:488.6179276,y:438.0290833},{x:487.6418533,y:433.8266907},{x:486.7113724,y:429.5046997},{x:486.0061722,y:427.4831848},{x:485.0039749,y:425.6529541},{x:464.5570145,y:397.51297},{x:441.859993,y:359.0939636},{x:419.5407486,y:322.4837036},{x:397.7539749,y:285.5569458},{x:392.6534195,y:277.3995361},{x:387.2727432,y:269.1647034},{x:382.4174271,y:260.6722412},{x:380.4385147,y:256.2730713},{x:378.8929825,y:251.7419434},{x:378.4342422,y:247.8017578},{x:378.8919754,y:243.618103},{x:379.8762283,y:239.4705811},{x:380.9969864,y:235.6389771},{x:388.6119766,y:208.7999878},{x:391.0815811,y:198.9997559},{x:393.3593521,y:188.8963623},{x:395.3594131,y:178.5748901},{x:396.9958572,y:168.1204834},{x:398.1828384,y:157.6182251},{x:398.8344498,y:147.1533203},{x:398.8647842,y:136.8108521},{x:398.1879959,y:126.6759644},{x:395.2633438,y:103.3844604},{x:393.3301468,y:91.60638428},{x:390.9952469,y:79.85656738},{x:388.1928177,y:68.22253418},{x:384.8570328,y:56.79168701},{x:380.9220352,y:45.65136719},{x:376.3219986,y:34.88897705},{x:371.1558609,y:23.22259521},{x:366.6760025,y:11.27197266},{x:365.8827591,y:9.214355469},{x:365.0445023,y:6.805603027},{x:364.7049942,y:4.406799316},{x:364.892189,y:3.323974609},{x:365.4079971,y:2.378967285},{x:366.5955276,y:1.439331055},{x:368.2348099,y:.826660156},{x:372.3311234,y:.333557129},{x:376.6218643,y:.40246582},{x:378.5041885,y:.4921875},{x:380.0319901,y:.535949707},{x:420.2889786,y:0},{x:527.1040115,y:0},{x:558.0751419,y:.09362793},{x:573.5140457,y:.204589844},{x:588.6629715,y:.352966309},{x:588.6629715,y:.352966309}],lineaPoints=points.map(t=>newDataPoint(t.x,t.y));function numericOdeSolvers1(){return numericOdeSolvers("Numeric ODE solvers","y'=y, y(0)=1",0,1,Math.exp,(t,e)=>e)}function numericOdeSolvers2(){return numericOdeSolvers("Numeric ODE solvers","y'=x, y(0)=0",0,0,t=>.5*t*t,(t,e)=>t)}function numericOdeSolvers3(){return numericOdeSolvers("Numeric ODE solvers","y'=cos(x), y(0)=0",0,0,Math.sin,(t,e)=>Math.cos(t))}function trainSchedule(){const t=new PlotModel({title:"Train schedule",subtitle:"Bergensbanen (Oslo-Bergen, Norway)",isLegendVisible:!1,plotAreaBorderColor:OxyColors.LightGray}),e=new LinearAxis({position:AxisPosition.Left,minimum:-20,maximum:540,title:"Distance from Oslo S",isAxisVisible:!0});t.axes.push(e);const r=new CustomAxis({majorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColors.LightGray,minimum:e.minimum,maximum:e.maximum,position:AxisPosition.Right,isPanEnabled:!1,isZoomEnabled:!1,majorTickSize:0});e.axisChanged=(Oe,Me)=>{r.minimum=e.actualMinimum,r.maximum=e.actualMaximum},t.axes.push(r),t.axes.push(new TimeSpanAxis({position:AxisPosition.Bottom,minimum:0,maximum:TimeSpanAxis.toDouble(TimeSpan.fromHours(24)),stringFormatter:Oe=>Math.abs(Oe.hours).toString().padStart(2,"0"),title:"Time",majorStep:TimeSpanAxis.toDouble(TimeSpan.fromHours(1)),minorStep:TimeSpanAxis.toDouble(TimeSpan.fromMinutes(10)),tickStyle:TickStyle.None,majorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColors.LightGray,minorGridlineStyle:LineStyle.Solid,minorGridlineColor:OxyColorHelper.fromArgb(255,240,240,240)}));const xe=`Stasjon;km;moh;609;61;601;1405;607;603;63;605;62;602;608;604;64;610;1404;606
Oslo;0.00;4.0;0631;0811;1037;;1227;1437;1609;2311;1432;1736;1956;2210;2236;2348;;0626
Lysaker;7.00;7.5;0642;0822;1048;;1238;1448;1620;2322;1420;1724;1944;2158;2224;;;
Asker;23.83;104.6;0653;0832;1059;;1249;1458;1630;2334;1409;1713;1932;2144;2214;2324;;0555
Drammen;52.86;2.2;0708;0846;1115;;1303;1513;1645;2351;1354;1701;1914;2125;2201;2307;;0540
Hokksund;70.22;8.0;;;1136;;1320;1531;;0007;;1638;1854;2111;2140;;;0525
Vikersund;95.91;67.1;;;1158;;1349;1552;;0029;;1617;1833;2048;;;;0503
Hnefoss;124.21;96.8;0804;0937;1222;;1414;1619;1736;0056;1304;1555;1811;2025;2100;2201;;0442
Fl;186.64;155.0;;;1314;;;1712;;;;1503;1715;1934;;2108;;0349
Nesbyen;220.06;168.8;;1045;1340;;1532;1744;1845;0223;1152;1436;1643;1909;1949;2041;;0321
Gol;237.02;207.4;0930;1100;1354;;1545;1800;1900;0239;1141;1423;1630;1858;1938;2028;;0308
l;262.85;436.6;0950;1123;1419;1520;1608;1832;1921;0305;1121;1400;1609;1833;1919;2007;1957;0246
Geilo;287.38;794.2;1013;1145;1442;1545;1630;1855;1942;0328;1059;1339;1547;1812;1857;1946;1939;0224
Ustaoset;299.31;990.6;;1156;1454;1556;1643;1905;1953;0341;1048;1326;1536;1800;1845;;1927;0209
Haugastl;310.14;988.0;1042;;1505;1606;1655;1916;;0352;;1315;1527;1750;;1922;;0158
Finse;336.74;1222.2;1108;1224;1526;1626;1717;1937;2021;0417;1019;1254;1508;1730;1818;1900;1854;0138
Hallingskeid;357.44;1110.1;1123;;1538;1637;1732;1950;;;;1239;1454;1711;;1842;1839;
Myrdal;370.44;866.8;1137;1253;1551;1650;1746;2003;2045;0445;0953;1225;1440;1657;1752;1828;1825;0105
;370.44;866.8;1220;1258;1556;1652;1751;2004;2047;0445;0950;1220;1439;1652;1750;1823;1822;0101
// Upsete;376.79;850.2;;;;;;;;;;;;;;;;
// Mjlfjell;388.86;627.2;;;;;;;;;;;;;;;;
Voss;419.96;56.5;1312;1343;1640;1738;1836;2048;2130;0537;0910;1139;1355;1608;1710;1736;1740;0015
Dale;459;43.4;;;;;1903;;2156;0608;0836;1109;;;;;;2344
Vaksdal;475.17;16.0;;;;;;;;0626;;;;;;;;2326
Arna;501.43;8.0;1410;1441;1740;1840;1935;2155;2228;0644;0806;1037;1248;1506;1606;1618;1637;2307
Bergen;526.64;3.9;1422;1442;1752;1850;1945;2204;2235;0656;0758;1028;1240;1458;1558;1610;1628;2258
`.split(`
`),Se=xe[0];xe.splice(0,1);const _e=Se.split(";"),Ae=_e.length-3,Ce=new LineSeries({strokeThickness:0,markerType:MarkerType.Circle,markerFill:OxyColorHelper.fromAColor(200,OxyColors.Black),markerSize:4}),Pe=new Array(Ae);for(let Oe=0;Oe<Pe.length;Oe++)Pe[Oe]=new LineSeries({title:_e[3+Oe],color:OxyColorHelper.fromAColor(180,OxyColors.Black),strokeThickness:2,trackerStringFormatter:function(Me){return`Train ${Me.title}
Time: ${formatTimeSpan(Me.xValue,"hh:mm:ss")}
Distance from Oslo S: ${Me.yValue.toFixed(1)} km`}}),t.series.push(Pe[Oe]);for(const Oe of xe){if(!Oe||Oe.startsWith("//"))continue;const Me=Oe.split(";"),De=Me[0],Te=parseFloat(Me[1]);De&&(r.majorTicks.push(Te),r.labels.push(De));for(let ke=0;ke<Pe.length;ke++){const Fe=Me[ke+3];if(!Fe)continue;const $e=parseInt(Fe),Be=TimeSpan.from(0,Math.floor($e/100),$e%100,0),Ie=TimeSpanAxis.toDouble(Be);Pe[ke].points.push(newDataPoint(Ie,Te)),Ce.points.push(newDataPoint(Ie,Te))}}const Ee=TimeSpanAxis.toDouble(TimeSpan.fromHours(24));for(const Oe of t.series)if(Oe instanceof DataPointSeries){for(let Me=0;Me+1<Oe.points.length;Me++)if(Math.abs(Oe.points[Me].x-Oe.points[Me+1].x)>Ee/2){let De=Oe.points[Me].x;De>Ee/2&&(De-=Ee);let Te=Oe.points[Me+1].x;Te>Ee/2&&(Te-=Ee);const ke=Oe.points[Me].y+(Oe.points[Me+1].y-Oe.points[Me].y)/(Te-De)*(0-De);Oe.points.splice(Me+1,0,newDataPoint(De<Te?0:Ee,ke)),Oe.points.splice(Me+1,0,newDataPoint(Number.NaN,ke)),Oe.points.splice(Me+1,0,newDataPoint(De<Te?Ee:0,ke)),Me+=3}}return console.log(r),t.series.push(Ce),t}function laLineaAreaSeries(){const t=new PlotModel({title:"La Linea",plotType:PlotType.Cartesian,background:OxyColorHelper.fromRgb(84,98,207)});t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-500,maximum:1e3}));const e=new AreaSeries({fill:OxyColors.White,strokeThickness:0});return e.points.push(...lineaPoints),t.series.push(e),t}function laLinea(){const t=new PlotModel({title:"La Linea",plotType:PlotType.Cartesian,background:OxyColorHelper.fromRgb(84,98,207)});t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-500,maximum:1e3}));const e=new LineSeries({color:OxyColors.White,strokeThickness:1.5});return e.points.push(...lineaPoints),t.series.push(e),t}function conwayLife(){const t=new PlotModel({title:"Conway's Game of Life",subtitle:"Click the mouse to step to the next generation."});t.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom}));const e=40,r=40;let xe=create2DArray(r,e,0);const Se=new MatrixSeries({matrix:xe}),_e=(Oe,Me)=>{xe[Oe][Me]=xe[Oe][Me+1]=xe[Oe][Me+2]=1},Ae=(Oe,Me)=>{xe[Oe][Me]=xe[Oe+1][Me+1]=xe[Oe+1][Me+2]=xe[Oe+2][Me]=xe[Oe+2][Me+1]=1},Ce=(Oe,Me)=>{xe[Oe][Me+1]=xe[Oe][Me+2]=xe[Oe+1][Me]=xe[Oe+1][Me+1]=xe[Oe+2][Me+1]=1};_e(2,10),Ae(2,2),Ce(20,20),t.series.push(Se);let Pe=0;const Ee=()=>{const Oe=create2DArray(r,e,0);for(let Me=1;Me<e-1;Me++)for(let De=1;De<r-1;De++){const Te=xe[Me-1][De-1]+xe[Me-1][De]+xe[Me-1][De+1]+xe[Me][De-1]+xe[Me][De+1]+xe[Me+1][De-1]+xe[Me+1][De]+xe[Me+1][De+1];if(xe[Me][De]===0&&Te===3){Oe[Me][De]=1;continue}xe[Me][De]===1&&(Te===2||Te===3)&&(Oe[Me][De]=1)}Pe++,Se.title="Generation "+Pe,Se.matrix=xe=Oe,t.invalidatePlot(!0)};return t.mouseDown=(Oe,Me)=>{Me.changedButton===OxyMouseButton.Left&&(Ee(),Me.handled=!0)},t}function elephantCurve(){const t=Math.sin,e=Se=>-27/5*t(3/2-30*Se)-16/3*t(9/8-29*Se)-29/5*t(5/4-27*Se)-8/3*t(1/4-26*Se)-25/7*t(1/3-25*Se)-31/4*t(4/7-22*Se)-25/4*t(4/3-20*Se)-33/2*t(2/3-19*Se)-67/4*t(6/5-16*Se)-100/11*t(1/4-10*Se)-425/7*t(1-4*Se)+149/4*t(8*Se)+1172/3*t(Se+21/5)+661/11*t(2*Se+3)+471/8*t(3*Se+10/7)+211/7*t(5*Se+13/4)+39/4*t(6*Se+10/7)+139/10*t(7*Se+7/6)+77/3*t(9*Se+18/7)+135/8*t(11*Se+1/2)+23/4*t(12*Se+8/5)+95/4*t(13*Se+4)+31/4*t(14*Se+3/5)+67/11*t(15*Se+7/3)+127/21*t(17*Se+17/4)+95/8*t(18*Se+7/8)+32/11*t(21*Se+8/3)+81/10*t(23*Se+45/11)+13/3*t(24*Se+13/4)+7/4*t(28*Se+3/2)+11/5*t(31*Se+5/2)+1/3*t(32*Se+12/5)+13/4*t(33*Se+22/5)+14/3*t(34*Se+9/4)+9/5*t(35*Se+8/5)+17/9*t(36*Se+22/5)+1/3*t(37*Se+15/7)+3/2*t(38*Se+39/10)+4/3*t(39*Se+7/2)+5/3*t(40*Se+17/6),r=Se=>-13/7*t(1/2-40*Se)-31/8*t(1/11-34*Se)-12/5*t(1/4-31*Se)-9/4*t(4/3-29*Se)-5/3*t(4/3-28*Se)-11/2*t(6/5-26*Se)-17/7*t(3/2-25*Se)-5/2*t(1-24*Se)-39/7*t(1-19*Se)-59/5*t(2/3-18*Se)-179/9*t(13/12-12*Se)-103/2*t(1/10-9*Se)-356/5*t(1-5*Se)-429/2*t(20/19-Se)+288/5*t(2*Se+10/3)+53/6*t(3*Se+5/2)+351/7*t(4*Se+5/2)+201/4*t(6*Se+17/7)+167/3*t(7*Se+19/5)+323/5*t(8*Se+1/4)+153/7*t(10*Se+2/3)+71/5*t(11*Se+6/5)+47/12*t(13*Se+11/5)+391/26*t(14*Se+2)+164/11*t(15*Se+1/7)+11/2*t(16*Se+2/3)+31/3*t(17*Se+1/7)+54/11*t(20*Se+1/4)+43/5*t(21*Se+13/3)+13/5*t(22*Se+3/2)+17/5*t(23*Se+11/5)+19/10*t(27*Se+4)+15/2*t(30*Se+55/18)+4/3*t(32*Se+3/5)+5/3*t(33*Se+4)+27/7*t(35*Se+13/6)+1/4*t(36*Se+43/11)+16/5*t(37*Se+9/2)+20/19*t(38*Se+23/6)+8/3*t(39*Se+4/7),xe=new PlotModel({title:"Elephant curve",plotType:PlotType.Cartesian});return xe.series.push(FunctionSeries.fromFxFyN(e,r,0,Math.PI*2,1e3)),xe}function piCurve(){const t=Math.sin,e=Se=>17/31*t(235/57-32*Se)+19/17*t(192/55-30*Se)+47/32*t(69/25-29*Se)+35/26*t(75/34-27*Se)+6/31*t(23/10-26*Se)+35/43*t(10/33-25*Se)+126/43*t(421/158-24*Se)+143/57*t(35/22-22*Se)+106/27*t(84/29-21*Se)+88/25*t(23/27-20*Se)+74/27*t(53/22-19*Se)+44/53*t(117/25-18*Se)+126/25*t(88/49-17*Se)+79/11*t(43/26-16*Se)+43/12*t(41/17-15*Se)+47/27*t(244/81-14*Se)+8/5*t(79/19-13*Se)+373/46*t(109/38-12*Se)+1200/31*t(133/74-11*Se)+67/24*t(157/61-10*Se)+583/28*t(13/8-8*Se)+772/35*t(59/16-7*Se)+3705/46*t(117/50-6*Se)+862/13*t(19/8-5*Se)+6555/34*t(157/78-3*Se)+6949/13*t(83/27-Se)-6805/54*t(2*Se+1/145)-5207/37*t(4*Se+49/74)-1811/58*t(9*Se+55/43)-63/20*t(23*Se+2/23)-266/177*t(28*Se+13/18)-2/21*t(31*Se+7/16),r=Se=>70/37*t(65/32-32*Se)+11/12*t(98/41-31*Se)+26/29*t(35/12-30*Se)+54/41*t(18/7-29*Se)+177/71*t(51/19-27*Se)+59/34*t(125/33-26*Se)+49/29*t(18/11-25*Se)+151/75*t(59/22-24*Se)+52/9*t(118/45-22*Se)+52/33*t(133/52-21*Se)+37/45*t(61/14-20*Se)+143/46*t(144/41-19*Se)+254/47*t(19/52-18*Se)+246/35*t(92/25-17*Se)+722/111*t(176/67-16*Se)+136/23*t(3/19-15*Se)+273/25*t(32/21-13*Se)+229/33*t(117/28-12*Se)+19/4*t(43/11-11*Se)+135/8*t(23/10-10*Se)+205/6*t(33/23-8*Se)+679/45*t(55/12-7*Se)+101/8*t(11/12-6*Se)+2760/59*t(40/11-5*Se)+1207/18*t(21/23-4*Se)+8566/27*t(39/28-3*Se)+12334/29*t(47/37-2*Se)+15410/39*t(185/41-Se)-596/17*t(9*Se+3/26)-247/28*t(14*Se+25/21)-458/131*t(23*Se+21/37)-41/36*t(28*Se+7/8),xe=new PlotModel({title:"PI curve",plotType:PlotType.Cartesian});return xe.series.push(FunctionSeries.fromFxFyN(e,r,0,Math.PI*2,1e3)),xe}function numericOdeSolvers(t,e,r,xe,Se,_e){const Ae=new PlotModel({title:t,subtitle:e}),Ce=new Legend({legendPosition:LegendPosition.BottomCenter,legendPlacement:LegendPlacement.Outside,legendOrientation:LegendOrientation.Horizontal});Ae.legends.push(Ce);const Pe=FunctionSeries.fromN(Se,0,4,100);Object.assign(Pe,{title:"Exact solution",strokeThickness:5}),Ae.series.push(Pe);const Ee=new LineSeries({title:"Euler, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});Ee.points.push(...euler(_e,r,xe,4,.25)),Ae.series.push(Ee);const Oe=new LineSeries({title:"Heun, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});Oe.points.push(...heun(_e,r,xe,4,.25)),Ae.series.push(Oe);const Me=new LineSeries({title:"Midpoint, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});Me.points.push(...midpoint(_e,r,xe,4,.25)),Ae.series.push(Me);const De=new LineSeries({title:"RK4, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});return De.points.push(...rungeKutta4(_e,r,xe,4,.25)),Ae.series.push(De),Ae.axes.push(new LinearAxis({position:AxisPosition.Left})),Ae}function euler(t,e,r,xe,Se){const _e=[];let Ae=r;for(let Ce=e;Ce<xe+Se/2;Ce+=Se)_e.push(newDataPoint(Ce,Ae)),Ae+=Se*t(Ce,Ae);return _e}function heun(t,e,r,xe,Se){const _e=[];let Ae=r;for(let Ce=e;Ce<xe+Se/2;Ce+=Se){_e.push(newDataPoint(Ce,Ae));const Pe=Ae+Se*t(Ce,Ae);Ae=Ae+Se/2*(t(Ce,Ae)+t(Ce+Se,Pe))}return _e}function midpoint(t,e,r,xe,Se){const _e=[];let Ae=r;for(let Ce=e;Ce<xe+Se/2;Ce+=Se)_e.push(newDataPoint(Ce,Ae)),Ae+=Se*t(Ce+Se/2,Ae+Se/2*t(Ce,Ae));return _e}function rungeKutta4(t,e,r,xe,Se){const _e=[];let Ae=r;for(let Ce=e;Ce<xe+Se/2;Ce+=Se){_e.push(newDataPoint(Ce,Ae));const Pe=Se*t(Ce,Ae),Ee=Se*t(Ce+Se/2,Ae+Pe/2),Oe=Se*t(Ce+Se/2,Ae+Ee/2),Me=Se*t(Ce+Se,Ae+Oe);Ae+=(Pe+2*Ee+2*Oe+Me)/6}return _e}class CustomAxis extends LinearAxis{constructor(r){super(r);Tn(this,"majorTicks",[]);Tn(this,"minorTicks",[]);Tn(this,"labels",[])}getTickValues(){const r=this.majorTicks.filter(_e=>_e>=this.actualMinimum&&_e<=this.actualMaximum),xe=this.minorTicks.filter(_e=>_e>=this.actualMinimum&&_e<=this.actualMaximum);return{majorTickValues:r,minorTickValues:xe,majorLabelValues:r}}formatValueOverride(r){return this.labels[this.majorTicks.indexOf(r)]}}const category$t="Misc",MiscExamples={category:category$t,examples:[{title:"Numeric ODE solvers (y'=y)",example:{model:numericOdeSolvers1}},{title:"Numeric ODE solvers (y'=x)",example:{model:numericOdeSolvers2}},{title:"Numeric ODE solvers (y'=cos(x))",example:{model:numericOdeSolvers3}},{title:"Train schedule",example:{model:trainSchedule}},{title:"La Linea (AreaSeries)",example:{model:laLineaAreaSeries}},{title:"La Linea (LineSeries)",example:{model:laLinea}},{title:"Conway's Game of Life",example:{model:conwayLife}},{title:"Elephant curve",example:{model:elephantCurve}},{title:"PI curve",example:{model:piCurve}}]};function test1(){const t=new PlotModel({title:"XKCD style plot",subtitle:"Install the 'Humor Sans' font for the best experience"});t.renderingDecorator=r=>new XkcdRenderingDecorator(r);const e=FunctionSeries.fromN(Math.sin,0,10,50,"sin(x)");return t.series.push(e),t}function test2(){const t=new PlotModel({title:"Test #2"});t.renderingDecorator=Ce=>new XkcdRenderingDecorator(Ce),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:8,title:"INTENSITY"})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"TIME"}));const e=new LineSeries({color:OxyColors.Cyan,strokeThickness:4}),r=new LineSeries({color:OxyColors.White,strokeThickness:14}),xe=new LineSeries({color:OxyColors.Red,strokeThickness:4}),Se=257,_e=1,Ae=9;for(let Ce=0;Ce<Se;Ce++){const Pe=_e+(Ae-_e)*Ce/(Se-1),Ee=1.5+10*(Math.sin(Pe)*Math.sin(Pe)/Math.sqrt(Pe))*Math.exp(-.5*(Pe-5)*(Pe-5)),Oe=3+10*(Math.sin(Pe)*Math.sin(Pe)/Math.sqrt(Pe))*Math.exp(-.5*(Pe-7)*(Pe-7));e.points.push(newDataPoint(Pe,Ee)),r.points.push(newDataPoint(Pe,Oe)),xe.points.push(newDataPoint(Pe,Oe))}return t.series.push(e,r,xe),t}function test3(){const t=new PlotModel({title:"Test #3"});t.renderingDecorator=Ae=>new XkcdRenderingDecorator(Ae);const e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});t.legends.push(e);const r=new BarSeries({title:"Series 1",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});r.items.push(newBarItem({value:25})),r.items.push(newBarItem({value:137})),r.items.push(newBarItem({value:18})),r.items.push(newBarItem({value:40}));const xe=new BarSeries({title:"Series 2",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});xe.items.push(newBarItem({value:12})),xe.items.push(newBarItem({value:14})),xe.items.push(newBarItem({value:120})),xe.items.push(newBarItem({value:26}));const Se=new CategoryAxis({position:AxisPosition.Bottom,key:"y"});Se.labels.push("Category A","Category B","Category C","Category D");const _e=new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0,key:"x"});return t.series.push(r),t.series.push(xe),t.axes.push(Se),t.axes.push(_e),t}const category$s="XKCD",XkcdExamples={category:category$s,examples:[{title:"XKCD Test #1",example:{model:test1}},{title:"XKCD Test #2",example:{model:test2}},{title:"XKCD Test #3",example:{model:test3}}]};function defaultPalette(){return HeatMapSeriesExamples.createPeaks(void 0,!1)}function jet200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(200),!1)}function jet20(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(20),!1)}function hue400(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hue(400),!1)}function hueDistinct200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hueDistinct(200),!1)}function hueDistinctReverse200(){return HeatMapSeriesExamples.createPeaks(OxyPaletteHelper.reverse(OxyPalettes.hueDistinct(200)),!1)}function hot200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hot(200),!1)}function hot64(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hot64,!1)}function hot30(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hot(30),!1)}function blueWhiteRed200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blueWhiteRed(200),!1)}function blueWhiteRed40(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blueWhiteRed(40),!1)}function blackWhiteRed500(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blackWhiteRed(500),!1)}function blackWhiteRed3(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blackWhiteRed(3),!1)}function cool200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.cool(200),!1)}function rainbow200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.rainbow(200),!1)}function viridis(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.viridis(),!1)}function plasma(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.plasma(),!1)}function magma(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.magma(),!1)}function inferno(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.inferno(),!1)}function cividis(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.cividis(),!1)}function viridis10(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.viridis(10),!1)}function rainbow7(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.rainbow(7),!1)}function vertical_6(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(6),!1)}const category$r="Palettes",PaletteExamples={category:category$r,tags:["Axes"],examples:[{title:"Default palette",example:{model:defaultPalette}},{title:"Jet (200 colors) palette",example:{model:jet200}},{title:"Jet (20 colors) palette",example:{model:jet20}},{title:"Hue (400 colors) palette",example:{model:hue400}},{title:"Hue distinct (200 colors) palette",example:{model:hueDistinct200}},{title:"Hue distinct reversed (200 colors) palette",example:{model:hueDistinctReverse200}},{title:"Hot (200 colors) palette",example:{model:hot200}},{title:"Hot (64 colors) palette",example:{model:hot64}},{title:"Hot (30 colors) palette",example:{model:hot30}},{title:"Blue-white-red (200 colors) palette",example:{model:blueWhiteRed200}},{title:"Blue-white-red (40 colors) palette",example:{model:blueWhiteRed40}},{title:"Black-white-red (500 colors) palette",example:{model:blackWhiteRed500}},{title:"Black-white-red (3 colors) palette",example:{model:blackWhiteRed3}},{title:"Cool (200 colors) palette",example:{model:cool200}},{title:"Rainbow (200 colors) palette",example:{model:rainbow200}},{title:"Viridis palette",example:{model:viridis}},{title:"Plasma palette",example:{model:plasma}},{title:"Magma palette",example:{model:magma}},{title:"Inferno palette",example:{model:inferno}},{title:"Cividis palette",example:{model:cividis}},{title:"Viridis (10 colors) palette",example:{model:viridis10}},{title:"Rainbow (7 colors) palette",example:{model:rainbow7}},{title:"Jet (6 colors) palette",example:{model:vertical_6}}]},Misc=[MiscExamples,XkcdExamples,PaletteExamples];class HighLowItemGenerator{static mrProcess(e,r=100,xe=.5,Se=.7,_e=.01){let Ae=r;const Ce=[],Pe=new Date;for(let Ee=0;Ee<e;Ee++){const Oe=-_e*(Ae-r)+this.randomNormal(0,xe),Me=-_e*(Ae-r)+this.randomNormal(0,Se),De=-_e*(Ae-r)+this.randomNormal(0,Se),Te=Ae,ke=Ae=Ae+Oe,Fe=this.min(Te,ke,Te+Me,Te+De),$e=this.max(Te,ke,Te+Me,Te+De),Be=new Date(Pe.getTime()+Ee*1e3),Ie=DateTimeAxis.toDouble(Be);Ce.push(createHighLowItem(Ie,$e,Fe,Te,ke))}return Ce}static min(e,r,xe,Se){return Math.min(e,Math.min(r,Math.min(xe,Se)))}static max(e,r,xe,Se){return Math.max(e,Math.max(r,Math.max(xe,Se)))}static randomNormal(e,r){return this.inverseCumNormal(this.rand.next(),e,r)}static inverseCumNormal(e,r,xe){const Se=-39.69683028665376,_e=220.9460984245205,Ae=-275.9285104469687,Ce=138.357751867269,Pe=-30.66479806614716,Ee=2.506628277459239,Oe=-54.47609879822406,Me=161.5858368580409,De=-155.6989798598866,Te=66.80131188771972,ke=-13.28068155288572,Fe=-.007784894002430293,$e=-.3223964580411365,Be=-2.400758277161838,Ie=-2.549732539343734,Re=4.374664141464968,je=2.938163982698783,Ve=.007784695709041462,He=.3224671290700398,ze=2.445134137142996,Ue=3.754408661907416,We=.02425,qe=1-We;let Ge,Ye;return e<We?(Ge=Math.sqrt(-2*Math.log(e)),Ge=(((((Fe*Ge+$e)*Ge+Be)*Ge+Ie)*Ge+Re)*Ge+je)/((((Ve*Ge+He)*Ge+ze)*Ge+Ue)*Ge+1)):e<=qe?(Ge=e-.5,Ye=Ge*Ge,Ge=(((((Se*Ye+_e)*Ye+Ae)*Ye+Ce)*Ye+Pe)*Ye+Ee)*Ge/(((((Oe*Ye+Me)*Ye+De)*Ye+Te)*Ye+ke)*Ye+1)):(Ge=Math.sqrt(-2*Math.log(1-e)),Ge=-(((((Fe*Ge+$e)*Ge+Be)*Ge+Ie)*Ge+Re)*Ge+je)/((((Ve*Ge+He)*Ge+ze)*Ge+Ue)*Ge+1)),Ye=(this.cumN0(Ge)-e)*Math.sqrt(2)*Math.sqrt(Math.PI)*Math.exp(.5*Ge*Ge),Ge-=Ye/(1+.5*Ge*Ye),r+Ge*xe}static cumN0(e){const r=.31938153,xe=-.356563782,Se=1.781477937,_e=-1.821255978,Ae=1.330274429,Ce=.2316419,Pe=.39894228;if(e>=0){const Ee=1/(1+Ce*e);return 1-Pe*Math.exp(-e*e/2)*Ee*(Ee*(Ee*(Ee*(Ee*Ae+_e)+Se)+xe)+r)}else{const Ee=1/(1-Ce*e);return Pe*Math.exp(-e*e/2)*Ee*(Ee*(Ee*(Ee*(Ee*Ae+_e)+Se)+xe)+r)}}}Tn(HighLowItemGenerator,"rand",new Random);function largeDataSetWide(){const t=new PlotModel({title:"Large Data Set (wide window)"}),e=new DateTimeAxis({position:AxisPosition.Bottom});t.axes.push(e);const r=new LinearAxis({position:AxisPosition.Left});t.axes.push(r);const xe=1e5,Se=HighLowItemGenerator.mrProcess(xe),_e=new CandleStickSeries({color:OxyColors.Black,increasingColor:OxyColors.DarkGreen,decreasingColor:OxyColors.Red,dataFieldX:"Time",dataFieldHigh:"H",dataFieldLow:"L",dataFieldOpen:"O",dataFieldClose:"C",trackerStringFormatter:function(Ee){return`High: ${Ee.high.toFixed(2)}
Low: ${Ee.low.toFixed(2)}
Open: ${Ee.open.toFixed(2)}
Close: ${Ee.close.toFixed(2)}`},itemsSource:Se}),Ae=xe-200,Ce=70;e.minimum=Se[Ae].x,e.maximum=Se[Ae+Ce].x;const Pe=Se.slice(Ae,Ae+Ce);return r.minimum=Math.min(...Pe.map(Ee=>Ee.low)),r.maximum=Math.max(...Pe.map(Ee=>Ee.high)),t.series.push(_e),e.axisChanged=(Ee,Oe)=>_adjustYExtent(_e,e,r),t}function largeDataSetNarrow(){const t=new PlotModel({title:"Large Data Set (narrow window)"}),e=new DateTimeAxis({position:AxisPosition.Bottom});t.axes.push(e);const r=new LinearAxis({position:AxisPosition.Left});t.axes.push(r);const xe=1e5,Se=HighLowItemGenerator.mrProcess(xe),_e=new CandleStickSeries({color:OxyColors.Black,increasingColor:OxyColors.DarkGreen,decreasingColor:OxyColors.Red,trackerStringFormatter:function(Ae){return`High: ${Ae.high.toFixed(2)}
Low: ${Ae.low.toFixed(2)}
Open: ${Ae.open.toFixed(2)}
Close: ${Ae.close.toFixed(2)}`},itemsSource:Se});return e.minimum=Se[0].x,e.maximum=Se[29].x,r.minimum=Se.slice(0,30).map(Ae=>Ae.low).reduce((Ae,Ce)=>Math.min(Ae,Ce)),r.maximum=Se.slice(0,30).map(Ae=>Ae.high).reduce((Ae,Ce)=>Math.max(Ae,Ce)),t.series.push(_e),e.axisChanged=(Ae,Ce)=>_adjustYExtent(_e,e,r),t}function smallDataSet(){const t=new PlotModel({title:"Small Data Set"}),e=new DateTimeAxis({position:AxisPosition.Bottom});t.axes.push(e);const r=new LinearAxis({position:AxisPosition.Left});t.axes.push(r);const xe=100,Se=HighLowItemGenerator.mrProcess(xe),_e=new CandleStickSeries({color:OxyColors.Black,increasingColor:OxyColors.DarkGreen,decreasingColor:OxyColors.Red,dataFieldX:"X",dataFieldHigh:"High",dataFieldLow:"Low",dataFieldOpen:"Open",dataFieldClose:"Close",trackerStringFormatter:function(Ae){return`High: ${Ae.high.toFixed(2)}
Low: ${Ae.low.toFixed(2)}
Open: ${Ae.open.toFixed(2)}
Close: ${Ae.close.toFixed(2)}`},itemsSource:Se});return t.series.push(_e),e.axisChanged=(Ae,Ce)=>_adjustYExtent(_e,e,r),t}function simpleExample(){const t=DateTimeAxis.toDouble(new Date(2016,1,1)),e=new PlotModel({title:"Simple CandleStickSeries example"});e.axes.push(new DateTimeAxis({position:AxisPosition.Bottom,minimum:t-7,maximum:t+7})),e.axes.push(new LinearAxis({position:AxisPosition.Left}));const r=new CandleStickSeries;return r.items.push(createHighLowItem(t,100,80,92,94)),r.items.push(createHighLowItem(t+1,102,77,94,93)),r.items.push(createHighLowItem(t+2,99,85,93,93)),e.series.push(r),e}function _adjustYExtent(t,e,r){const xe=e.actualMinimum,Se=e.actualMaximum,_e=t.findByX(xe),Ae=t.findByX(Se,_e);let Ce=Number_MAX_VALUE,Pe=Number_MIN_VALUE;for(let Me=_e;Me<=Ae;Me++){const De=t.items[Me];Ce=Math.min(Ce,De.low),Pe=Math.max(Pe,De.high)}const Oe=(Pe-Ce)*.1;r.zoom(Ce-Oe,Pe+Oe)}const category$q="CandleStickSeries",CandleStickSeriesExamples={category:category$q,tags:["Series"],examples:[{title:"Large Data Set (wide window)",example:{model:largeDataSetWide}},{title:"Large Data Set (narrow window)",example:{model:largeDataSetNarrow}},{title:"Small Set",example:{model:smallDataSet}},{title:"Simple CandleStickSeries example",example:{model:simpleExample}}]};function highLowSeries(){const t=new PlotModel({title:"HighLowSeries"}),e=new Legend({legendSymbolLength:24});t.legends.push(e);const r=new HighLowSeries({title:"HighLowSeries 1",color:OxyColors.Black}),xe=new Random(314);let Se=100;for(let _e=0;_e<24;_e++){Se=Se+xe.next()+.1;const Ae=Se+10+xe.next()*10,Ce=Se-(10+xe.next()*10),Pe=Ce+xe.next()*(Ae-Ce),Ee=Ce+xe.next()*(Ae-Ce);r.items.push({x:_e,high:Ae,low:Ce,open:Pe,close:Ee})}return t.series.push(r),t.axes.push(new LinearAxis({position:AxisPosition.Left,maximumPadding:.3,minimumPadding:.3})),t}function highLowSeriesDateTimeAxis(){const t=new PlotModel,e=DateTimeAxis.toDouble(new Date(2013,5,4)),r=getDateService(),xe=new DateTimeAxis({position:AxisPosition.Bottom,minimum:e-.9,maximum:e+1.9,intervalType:DateTimeIntervalType.Days,majorStep:1,minorStep:1,stringFormatter:_e=>r.format(_e,"YYYY-MM-DD")});t.axes.push(xe);const Se=new HighLowSeries({trackerStringFormatter:function(_e){return`X: ${r.format(_e.xValue,"YYYY-MM-DD")}
High: ${_e.high.toFixed(2)}
Low: ${_e.low.toFixed(2)}
Open: ${_e.open.toFixed(2)}
Close: ${_e.close.toFixed(2)}`}});return Se.items.push(createHighLowItem(e,14,10,13,12.4)),Se.items.push(createHighLowItem(e+1,17,8,12.4,16.3)),t.series.push(Se),t}const category$p="HighLowSeries",HighLowSeriesExamples={category:category$p,tags:["Series"],examples:[{title:"HighLowSeries",example:{model:highLowSeries}},{title:"HighLowSeries (DateTime axis)",example:{model:highLowSeriesDateTimeAxis}}]};class OhlcvItemGenerator{static mrProcess(e,r=100,xe=500,Se=.5,_e=.75,Ae=.01){let Ce=r;const Pe=[],Ee=new Date;for(let Oe=0;Oe<e;Oe++){const Me=-Ae*(Ce-r)+this.randomNormal(0,Se),De=Ce,ke=(Ce=Ce+Me)-De,Fe=xe*Math.exp(Math.abs(ke)/Se),Be=((ke<0?-Math.min(-ke/_e,1):Math.min(ke/_e,1))+1)/2,Ie=Be*Fe,Re=(1-Be)*Fe,je=new Date(Ee.getTime()+Oe*1e3),Ve=DateTimeAxis.toDouble(je);Pe.push(newOhlcvItem(Ve,Ie,Re))}return Pe}static min(e,r,xe,Se){return Math.min(e,Math.min(r,Math.min(xe,Se)))}static max(e,r,xe,Se){return Math.max(e,Math.max(r,Math.max(xe,Se)))}static randomNormal(e,r){return HighLowItemGenerator.inverseCumNormal(this.rand.next(),e,r)}}Tn(OhlcvItemGenerator,"rand",new Random);function justVolumeCombinedFixed(){return _createVolumeSeries("Just Volume (combined)",VolumeStyle.Combined,!1)}function justVolumeCombinedNatural(){return _createVolumeSeries("Just Volume (combined)",VolumeStyle.Combined,!0)}function justVolumeStackedFixed(){return _createVolumeSeries("Just Volume (stacked)",VolumeStyle.Stacked,!1)}function justVolumeStackedNatural(){return _createVolumeSeries("Just Volume (stacked)",VolumeStyle.Stacked,!0)}function justVolumePositiveNegativeFixed(){return _createVolumeSeries("Just Volume (+/-)",VolumeStyle.PositiveNegative,!1)}function justVolumePositiveNegativeNatural(){return _createVolumeSeries("Just Volume (+/-)",VolumeStyle.PositiveNegative,!0)}function _createVolumeSeries(t,e,r=!1,xe=1e4){xe=201;const Se=new PlotModel({title:t}),_e=new VolumeSeries({positiveColor:OxyColors.DarkGreen,negativeColor:OxyColors.Red,positiveHollow:!1,negativeHollow:!1,volumeStyle:e,title:"VolumeSeries"});for(const De of OhlcvItemGenerator.mrProcess(xe))_e.append(De);const Ae=xe-200,Ce=xe-120,Pe=_e.items[Ae].x,Ee=_e.items[Ce].x,Oe=new DateTimeAxis({position:AxisPosition.Bottom,minimum:Pe,maximum:Ee}),Me=new LinearAxis({position:AxisPosition.Left,startPosition:0,endPosition:1,minimum:r?NaN:0,maximum:r?NaN:1e4});switch(e){case VolumeStyle.Combined:case VolumeStyle.Stacked:Se.axes.push(Oe),Se.axes.push(Me);break;case VolumeStyle.PositiveNegative:Me.minimum=r?NaN:-1e4,Se.axes.push(Oe),Se.axes.push(Me);break}return Se.series.push(_e),Se}const category$o="VolumeSeries",VolumeSeriesExamples={category:category$o,tags:["Series"],examples:[{title:"Just Volume (combined), fixed axis",example:{model:justVolumeCombinedFixed}},{title:"Just Volume (combined), natural axis",example:{model:justVolumeCombinedNatural}},{title:"Just Volume (stacked), fixed axis",example:{model:justVolumeStackedFixed}},{title:"Just Volume (stacked), natural axis",example:{model:justVolumeStackedNatural}},{title:"Just Volume (+/-), fixed axis",example:{model:justVolumePositiveNegativeFixed}},{title:"Just Volume (+/-), natural axis",example:{model:justVolumePositiveNegativeNatural}}]},FinancialSeries=[CandleStickSeriesExamples,HighLowSeriesExamples,VolumeSeriesExamples];function defaultStyle$2(){const t=new PlotModel({title:"AreaSeries with default style"});return t.series.push(createExampleAreaSeries()),t}function differentColors$1(){const t=new PlotModel({title:"AreaSeries with different stroke colors"}),e=createExampleAreaSeries();return e.color=OxyColors.Red,e.color2=OxyColors.Blue,t.series.push(e),t}function crossingLines(){const t=new PlotModel({title:"AreaSeries with crossing lines"}),e=new AreaSeries;return e.points.push(newDataPoint(0,50)),e.points.push(newDataPoint(10,140)),e.points.push(newDataPoint(20,60)),e.points2.push(newDataPoint(0,60)),e.points2.push(newDataPoint(5,80)),e.points2.push(newDataPoint(20,70)),t.series.push(e),t}function trackerFormatString$2(){const t=new PlotModel({title:"AreaSeries with custom TrackerFormatString"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis"})),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis"}));const e=createExampleAreaSeries();return e.title="X={2:0.0} Y={4:0.0}",e.trackerStringFormatter=function(r){return`X=${r.xValue.toFixed(1)} Y=${r.yValue.toFixed(1)}`},t.series.push(e),t}function constantBaseline(){const t=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = 0 (default)"}),e=new AreaSeries;return e.points.push(newDataPoint(0,50)),e.points.push(newDataPoint(10,140)),e.points.push(newDataPoint(20,60)),t.series.push(e),t}function constantBaselineNaN(){const t=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = NaN"}),e=new AreaSeries;return e.points.push(newDataPoint(0,50)),e.points.push(newDataPoint(10,140)),e.points.push(newDataPoint(20,60)),e.constantY2=Number.NaN,t.series.push(e),t}function constantBaselineItemsSource(){const t=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"ItemsSource and DataField2 not set, ConstantY2 = -20"}),e=new AreaSeries,r=[newDataPoint(0,50),newDataPoint(10,140),newDataPoint(20,60)];return e.itemsSource=r,e.dataFieldX="x",e.dataFieldY="y",e.constantY2=-20,t.series.push(e),t}function lineSeriesAndAreaSeries(){const t=new PlotModel({title:"LineSeries and AreaSeries"}),e=new LinearAxis({position:AxisPosition.Bottom});t.axes.push(e);const r=new LinearAxis;t.axes.push(r);const xe=new AreaSeries({fill:OxyColors.LightBlue,dataFieldX2:"Time",dataFieldY2:"Minimum",color:OxyColors.Red,strokeThickness:0,markerFill:OxyColors.Transparent,dataFieldX:"Time",dataFieldY:"Maximum"});xe.points2.push(newDataPoint(0,-5.04135905692417)),xe.points2.push(newDataPoint(2.5,-4.91731850813018)),xe.points2.push(newDataPoint(5,-4.45266314658926)),xe.points2.push(newDataPoint(7.5,-3.87303874542613)),xe.points2.push(newDataPoint(10,-3.00101110255393)),xe.points2.push(newDataPoint(12.5,-2.17980725503518)),xe.points2.push(newDataPoint(15,-1.67332229254456)),xe.points2.push(newDataPoint(17.5,-1.10537158549082)),xe.points2.push(newDataPoint(20,-.6145459544447)),xe.points2.push(newDataPoint(22.5,.120028106039404)),xe.points2.push(newDataPoint(25,1.06357270435597)),xe.points2.push(newDataPoint(27.5,1.87301405606466)),xe.points2.push(newDataPoint(30,2.57569854952195)),xe.points2.push(newDataPoint(32.5,3.59165537664278)),xe.points2.push(newDataPoint(35,4.87991958133872)),xe.points2.push(newDataPoint(37.5,6.36214537958714)),xe.points2.push(newDataPoint(40,7.62564585126268)),xe.points2.push(newDataPoint(42.5,8.69606320261772)),xe.points2.push(newDataPoint(45,10.0118704438265)),xe.points2.push(newDataPoint(47.5,11.0434480519236)),xe.points2.push(newDataPoint(50,11.9794171576758)),xe.points2.push(newDataPoint(52.5,12.9591851832621)),xe.points2.push(newDataPoint(55,14.172107889304)),xe.points2.push(newDataPoint(57.5,15.5520057698488)),xe.points2.push(newDataPoint(60,17.2274942386092)),xe.points2.push(newDataPoint(62.5,18.6983982186757)),xe.points2.push(newDataPoint(65,20.4560332001448)),xe.points2.push(newDataPoint(67.5,22.4867327382261)),xe.points2.push(newDataPoint(70,24.5319674302041)),xe.points2.push(newDataPoint(72.5,26.600547815813)),xe.points2.push(newDataPoint(75,28.5210891459701)),xe.points2.push(newDataPoint(77.5,30.6793080755413)),xe.points2.push(newDataPoint(80,33.0546651200646)),xe.points2.push(newDataPoint(82.5,35.3256065179713)),xe.points2.push(newDataPoint(85,37.6336074839968)),xe.points2.push(newDataPoint(87.5,40.2012266359763)),xe.points2.push(newDataPoint(90,42.8923555399256)),xe.points2.push(newDataPoint(92.5,45.8665211907432)),xe.points2.push(newDataPoint(95,48.8200195945427)),xe.points2.push(newDataPoint(97.5,51.8304284402311)),xe.points2.push(newDataPoint(100,54.6969868542147)),xe.points2.push(newDataPoint(102.5,57.7047292990632)),xe.points2.push(newDataPoint(105,60.4216644602929)),xe.points2.push(newDataPoint(107.5,62.926258762519)),xe.points2.push(newDataPoint(110,65.1829734629407)),xe.points2.push(newDataPoint(112.5,67.2365592083133)),xe.points2.push(newDataPoint(115,69.5713628691022)),xe.points2.push(newDataPoint(117.5,71.7267046705944)),xe.points2.push(newDataPoint(120,73.633463102781)),xe.points2.push(newDataPoint(122.5,75.4660150158061)),xe.points2.push(newDataPoint(125,77.5669292504745)),xe.points2.push(newDataPoint(127.5,79.564218544664)),xe.points2.push(newDataPoint(130,81.8631309028078)),xe.points2.push(newDataPoint(132.5,83.9698189969034)),xe.points2.push(newDataPoint(135,86.3847886532009)),xe.points2.push(newDataPoint(137.5,88.5559348267764)),xe.points2.push(newDataPoint(140,91.0455050418365)),xe.points2.push(newDataPoint(142.5,93.6964157585504)),xe.points2.push(newDataPoint(145,96.284336864941)),xe.points2.push(newDataPoint(147.5,98.7508602689723)),xe.points2.push(newDataPoint(150,100.904510594255)),xe.points2.push(newDataPoint(152.5,103.266136681506)),xe.points2.push(newDataPoint(155,105.780951269521)),xe.points2.push(newDataPoint(157.5,108.032859257065)),xe.points2.push(newDataPoint(160,110.035478448093)),xe.points2.push(newDataPoint(162.5,112.10655731615)),xe.points2.push(newDataPoint(165,114.37480786097)),xe.points2.push(newDataPoint(167.5,116.403992550869)),xe.points2.push(newDataPoint(170,118.61663988727)),xe.points2.push(newDataPoint(172.5,120.538730287384)),xe.points2.push(newDataPoint(175,122.515721057177)),xe.points2.push(newDataPoint(177.5,124.474386629124)),xe.points2.push(newDataPoint(180,126.448283293214)),xe.points2.push(newDataPoint(182.5,128.373811322299)),xe.points2.push(newDataPoint(185,130.33627914667)),xe.points2.push(newDataPoint(187.5,132.487933658477)),xe.points2.push(newDataPoint(190,134.716989778456)),xe.points2.push(newDataPoint(192.5,136.817287595392)),xe.points2.push(newDataPoint(195,139.216488664698)),xe.points2.push(newDataPoint(197.5,141.50803227574)),xe.points2.push(newDataPoint(200,143.539586683614)),xe.points2.push(newDataPoint(202.5,145.535911545221)),xe.points2.push(newDataPoint(205,147.516964978686)),xe.points2.push(newDataPoint(207.5,149.592416731684)),xe.points2.push(newDataPoint(210,151.600983566512)),xe.points2.push(newDataPoint(212.5,153.498210993362)),xe.points2.push(newDataPoint(215,155.512606828247)),xe.points2.push(newDataPoint(217.5,157.426564302774)),xe.points2.push(newDataPoint(220,159.364474964172)),xe.points2.push(newDataPoint(222.5,161.152806492128)),xe.points2.push(newDataPoint(225,162.679069434562)),xe.points2.push(newDataPoint(227.5,163.893622036741)),xe.points2.push(newDataPoint(230,165.475827621238)),xe.points2.push(newDataPoint(232.5,167.303960444734)),xe.points2.push(newDataPoint(235,169.259393394952)),xe.points2.push(newDataPoint(237.5,171.265193646758)),xe.points2.push(newDataPoint(240,173.074304345192)),xe.points2.push(newDataPoint(242.5,174.975492766814)),xe.points2.push(newDataPoint(245,176.684088218484)),xe.points2.push(newDataPoint(247.5,178.406887247603)),xe.points.push(newDataPoint(0,5.0184649433561)),xe.points.push(newDataPoint(2.5,5.27685959268215)),xe.points.push(newDataPoint(5,5.81437064628786)),xe.points.push(newDataPoint(7.5,6.51022475040994)),xe.points.push(newDataPoint(10,7.49921246878766)),xe.points.push(newDataPoint(12.5,8.41941631823751)),xe.points.push(newDataPoint(15,9.09826907222079)),xe.points.push(newDataPoint(17.5,9.89500750098145)),xe.points.push(newDataPoint(20,10.6633345249404)),xe.points.push(newDataPoint(22.5,11.6249613445368)),xe.points.push(newDataPoint(25,12.8816391467497)),xe.points.push(newDataPoint(27.5,13.9665185705603)),xe.points.push(newDataPoint(30,14.8501816818724)),xe.points.push(newDataPoint(32.5,16.0683128022441)),xe.points.push(newDataPoint(35,17.5378799723172)),xe.points.push(newDataPoint(37.5,19.1262752954039)),xe.points.push(newDataPoint(40,20.4103953650735)),xe.points.push(newDataPoint(42.5,21.5430627723891)),xe.points.push(newDataPoint(45,22.9105459463366)),xe.points.push(newDataPoint(47.5,23.9802361888719)),xe.points.push(newDataPoint(50,24.8659461235003)),xe.points.push(newDataPoint(52.5,25.7303194442439)),xe.points.push(newDataPoint(55,26.7688545912359)),xe.points.push(newDataPoint(57.5,28.0545112571933)),xe.points.push(newDataPoint(60,29.7036634266394)),xe.points.push(newDataPoint(62.5,31.2273634344467)),xe.points.push(newDataPoint(65,33.1038196356519)),xe.points.push(newDataPoint(67.5,35.2639893610328)),xe.points.push(newDataPoint(70,37.434293559489)),xe.points.push(newDataPoint(72.5,39.7109359368267)),xe.points.push(newDataPoint(75,41.7573881676222)),xe.points.push(newDataPoint(77.5,44.0460374479862)),xe.points.push(newDataPoint(80,46.5098714746581)),xe.points.push(newDataPoint(82.5,48.7754012129155)),xe.points.push(newDataPoint(85,51.1619816926597)),xe.points.push(newDataPoint(87.5,53.9036778414639)),xe.points.push(newDataPoint(90,56.7448825012636)),xe.points.push(newDataPoint(92.5,59.9294987878434)),xe.points.push(newDataPoint(95,63.0148831289797)),xe.points.push(newDataPoint(97.5,66.0721745989622)),xe.points.push(newDataPoint(100,68.8980036274521)),xe.points.push(newDataPoint(102.5,71.7719322611447)),xe.points.push(newDataPoint(105,74.4206055336728)),xe.points.push(newDataPoint(107.5,76.816198386632)),xe.points.push(newDataPoint(110,79.0040432726983)),xe.points.push(newDataPoint(112.5,80.9617606926066)),xe.points.push(newDataPoint(115,83.1345574620341)),xe.points.push(newDataPoint(117.5,85.0701022046479)),xe.points.push(newDataPoint(120,86.8557530286516)),xe.points.push(newDataPoint(122.5,88.5673387745243)),xe.points.push(newDataPoint(125,90.6003321543338)),xe.points.push(newDataPoint(127.5,92.439864576254)),xe.points.push(newDataPoint(130,94.5383744861178)),xe.points.push(newDataPoint(132.5,96.4600166864507)),xe.points.push(newDataPoint(135,98.6091052949006)),xe.points.push(newDataPoint(137.5,100.496459351478)),xe.points.push(newDataPoint(140,102.705767030085)),xe.points.push(newDataPoint(142.5,105.009994476992)),xe.points.push(newDataPoint(145,107.31287026052)),xe.points.push(newDataPoint(147.5,109.584842542272)),xe.points.push(newDataPoint(150,111.641435600837)),xe.points.push(newDataPoint(152.5,113.988459973544)),xe.points.push(newDataPoint(155,116.50349048027)),xe.points.push(newDataPoint(157.5,118.753612704274)),xe.points.push(newDataPoint(160,120.801728924085)),xe.points.push(newDataPoint(162.5,122.902486914165)),xe.points.push(newDataPoint(165,125.104391935796)),xe.points.push(newDataPoint(167.5,127.06056966547)),xe.points.push(newDataPoint(170,129.217086578495)),xe.points.push(newDataPoint(172.5,131.151968896274)),xe.points.push(newDataPoint(175,133.159906275133)),xe.points.push(newDataPoint(177.5,135.065263957561)),xe.points.push(newDataPoint(180,137.041870026822)),xe.points.push(newDataPoint(182.5,138.937477489811)),xe.points.push(newDataPoint(185,140.776914926282)),xe.points.push(newDataPoint(187.5,142.786975776398)),xe.points.push(newDataPoint(190,144.862762377347)),xe.points.push(newDataPoint(192.5,146.89654967049)),xe.points.push(newDataPoint(195,149.204343821204)),xe.points.push(newDataPoint(197.5,151.369748673527)),xe.points.push(newDataPoint(200,153.324438580137)),xe.points.push(newDataPoint(202.5,155.173148715344)),xe.points.push(newDataPoint(205,157.0501827528)),xe.points.push(newDataPoint(207.5,159.109122278359)),xe.points.push(newDataPoint(210,161.044446932778)),xe.points.push(newDataPoint(212.5,162.942364031841)),xe.points.push(newDataPoint(215,164.966769883021)),xe.points.push(newDataPoint(217.5,166.89711806788)),xe.points.push(newDataPoint(220,168.906874949069)),xe.points.push(newDataPoint(222.5,170.85692034995)),xe.points.push(newDataPoint(225,172.602125010408)),xe.points.push(newDataPoint(227.5,173.964258466598)),xe.points.push(newDataPoint(230,175.629908385654)),xe.points.push(newDataPoint(232.5,177.495778359378)),xe.points.push(newDataPoint(235,179.432933300749)),xe.points.push(newDataPoint(237.5,181.400180771342)),xe.points.push(newDataPoint(240,183.232300309899)),xe.points.push(newDataPoint(242.5,185.225502661441)),xe.points.push(newDataPoint(245,186.979590140413)),xe.points.push(newDataPoint(247.5,188.816640077725)),xe.title="Maximum/Minimum",t.series.push(xe);const Se=new LineSeries({color:OxyColors.Blue,markerFill:OxyColors.Transparent,dataFieldX:"Time",dataFieldY:"Value"});return Se.points.push(newDataPoint(0,-.011447056784037)),Se.points.push(newDataPoint(2.5,.179770542275985)),Se.points.push(newDataPoint(5,.6808537498493)),Se.points.push(newDataPoint(7.5,1.31859300249191)),Se.points.push(newDataPoint(10,2.24910068311687)),Se.points.push(newDataPoint(12.5,3.11980453160117)),Se.points.push(newDataPoint(15,3.71247338983811)),Se.points.push(newDataPoint(17.5,4.39481795774531)),Se.points.push(newDataPoint(20,5.02439428524784)),Se.points.push(newDataPoint(22.5,5.87249472528812)),Se.points.push(newDataPoint(25,6.97260592555283)),Se.points.push(newDataPoint(27.5,7.91976631331247)),Se.points.push(newDataPoint(30,8.71294011569719)),Se.points.push(newDataPoint(32.5,9.82998408944345)),Se.points.push(newDataPoint(35,11.208899776828)),Se.points.push(newDataPoint(37.5,12.7442103374955)),Se.points.push(newDataPoint(40,14.0180206081681)),Se.points.push(newDataPoint(42.5,15.1195629875034)),Se.points.push(newDataPoint(45,16.4612081950815)),Se.points.push(newDataPoint(47.5,17.5118421203978)),Se.points.push(newDataPoint(50,18.4226816405881)),Se.points.push(newDataPoint(52.5,19.344752313753)),Se.points.push(newDataPoint(55,20.47048124027)),Se.points.push(newDataPoint(57.5,21.8032585135211)),Se.points.push(newDataPoint(60,23.4655788326243)),Se.points.push(newDataPoint(62.5,24.9628808265612)),Se.points.push(newDataPoint(65,26.7799264178984)),Se.points.push(newDataPoint(67.5,28.8753610496295)),Se.points.push(newDataPoint(70,30.9831304948466)),Se.points.push(newDataPoint(72.5,33.1557418763199)),Se.points.push(newDataPoint(75,35.1392386567962)),Se.points.push(newDataPoint(77.5,37.3626727617638)),Se.points.push(newDataPoint(80,39.7822682973613)),Se.points.push(newDataPoint(82.5,42.0505038654434)),Se.points.push(newDataPoint(85,44.3977945883283)),Se.points.push(newDataPoint(87.5,47.0524522387201)),Se.points.push(newDataPoint(90,49.8186190205946)),Se.points.push(newDataPoint(92.5,52.8980099892933)),Se.points.push(newDataPoint(95,55.9174513617612)),Se.points.push(newDataPoint(97.5,58.9513015195966)),Se.points.push(newDataPoint(100,61.7974952408334)),Se.points.push(newDataPoint(102.5,64.738330780104)),Se.points.push(newDataPoint(105,67.4211349969828)),Se.points.push(newDataPoint(107.5,69.8712285745755)),Se.points.push(newDataPoint(110,72.0935083678195)),Se.points.push(newDataPoint(112.5,74.0991599504599)),Se.points.push(newDataPoint(115,76.3529601655682)),Se.points.push(newDataPoint(117.5,78.3984034376212)),Se.points.push(newDataPoint(120,80.2446080657163)),Se.points.push(newDataPoint(122.5,82.0166768951652)),Se.points.push(newDataPoint(125,84.0836307024042)),Se.points.push(newDataPoint(127.5,86.002041560459)),Se.points.push(newDataPoint(130,88.2007526944628)),Se.points.push(newDataPoint(132.5,90.2149178416771)),Se.points.push(newDataPoint(135,92.4969469740507)),Se.points.push(newDataPoint(137.5,94.5261970891274)),Se.points.push(newDataPoint(140,96.875636035961)),Se.points.push(newDataPoint(142.5,99.3532051177711)),Se.points.push(newDataPoint(145,101.798603562731)),Se.points.push(newDataPoint(147.5,104.167851405622)),Se.points.push(newDataPoint(150,106.272973097546)),Se.points.push(newDataPoint(152.5,108.627298327525)),Se.points.push(newDataPoint(155,111.142220874895)),Se.points.push(newDataPoint(157.5,113.39323598067)),Se.points.push(newDataPoint(160,115.418603686089)),Se.points.push(newDataPoint(162.5,117.504522115157)),Se.points.push(newDataPoint(165,119.739599898383)),Se.points.push(newDataPoint(167.5,121.732281108169)),Se.points.push(newDataPoint(170,123.916863232882)),Se.points.push(newDataPoint(172.5,125.845349591829)),Se.points.push(newDataPoint(175,127.837813666155)),Se.points.push(newDataPoint(177.5,129.769825293343)),Se.points.push(newDataPoint(180,131.745076660018)),Se.points.push(newDataPoint(182.5,133.655644406055)),Se.points.push(newDataPoint(185,135.556597036476)),Se.points.push(newDataPoint(187.5,137.637454717438)),Se.points.push(newDataPoint(190,139.789876077902)),Se.points.push(newDataPoint(192.5,141.856918632941)),Se.points.push(newDataPoint(195,144.210416242951)),Se.points.push(newDataPoint(197.5,146.438890474634)),Se.points.push(newDataPoint(200,148.432012631876)),Se.points.push(newDataPoint(202.5,150.354530130282)),Se.points.push(newDataPoint(205,152.283573865743)),Se.points.push(newDataPoint(207.5,154.350769505022)),Se.points.push(newDataPoint(210,156.322715249645)),Se.points.push(newDataPoint(212.5,158.220287512602)),Se.points.push(newDataPoint(215,160.239688355634)),Se.points.push(newDataPoint(217.5,162.161841185327)),Se.points.push(newDataPoint(220,164.135674956621)),Se.points.push(newDataPoint(222.5,166.004863421039)),Se.points.push(newDataPoint(225,167.640597222485)),Se.points.push(newDataPoint(227.5,168.928940251669)),Se.points.push(newDataPoint(230,170.552868003446)),Se.points.push(newDataPoint(232.5,172.399869402056)),Se.points.push(newDataPoint(235,174.346163347851)),Se.points.push(newDataPoint(237.5,176.33268720905)),Se.points.push(newDataPoint(240,178.153302327545)),Se.points.push(newDataPoint(242.5,180.100497714128)),Se.points.push(newDataPoint(245,181.831839179449)),Se.points.push(newDataPoint(247.5,183.611763662664)),Se.title="Average",t.series.push(Se),t}function createExampleAreaSeries(){const t=new AreaSeries;return t.points.push(newDataPoint(0,50)),t.points.push(newDataPoint(10,40)),t.points.push(newDataPoint(20,60)),t.points2.push(newDataPoint(0,60)),t.points2.push(newDataPoint(5,80)),t.points2.push(newDataPoint(20,70)),t}const category$n="AreaSeries",AreaSeriesExamples={category:category$n,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle$2}},{title:"Different stroke colors",example:{model:differentColors$1}},{title:"Crossing lines",example:{model:crossingLines}},{title:"Custom TrackerFormatString",example:{model:trackerFormatString$2}},{title:"Constant baseline (empty Points2)",example:{model:constantBaseline}},{title:"Constant baseline (empty Points2, ConstantY2=NaN)",example:{model:constantBaselineNaN}},{title:"Constant baseline (ItemsSource and DataField2 not set)",example:{model:constantBaselineItemsSource}},{title:"LineSeries and AreaSeries",example:{model:lineSeriesAndAreaSeries}}]};function withLabels(){const t=new PlotModel;t.title="With labels";const e=function(Ae,Ce){return Ae.value.toString()},r=new Random(1),xe=[new BarSeries({labelStringFormatter:e,labelPlacement:LabelPlacement.Base,textColor:OxyColors.White,title:"Base"}),new BarSeries({labelStringFormatter:e,labelPlacement:LabelPlacement.Inside,textColor:OxyColors.White,title:"Inside"}),new BarSeries({labelStringFormatter:e,labelPlacement:LabelPlacement.Middle,textColor:OxyColors.White,title:"Middle"}),new BarSeries({labelStringFormatter:e,labelPlacement:LabelPlacement.Outside,title:"Outside"})];for(let Ae=0;Ae<4;Ae++)for(const Ce of xe)Ce.items.push(newBarItem(r.next(-100,100)));const Se=new CategoryAxis;Se.position=AxisPosition.Left,Se.labels.push("Category A","Category B","Category C","Category D");const _e=new LinearAxis;_e.position=AxisPosition.Bottom,_e.minimumPadding=.06,_e.maximumPadding=.06,_e.extraGridlines=[0];for(const Ae of xe)t.series.push(Ae);return t.axes.push(Se),t.axes.push(_e),t}function withLabelsAtAnAngle(){const t=withLabels();for(const e of t.series)e.labelAngle=-45;return t}const stackedSeries=()=>createSimpleModel(!0,"Simple stacked model"),multipleValueAxes=()=>{const t=new PlotModel({title:"Multiple Value Axes"}),e=new CategoryAxis({position:AxisPosition.Left}),r=new LinearAxis({title:"Value Axis 1",position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],endPosition:.5,key:"x1"}),xe=new LinearAxis({title:"Value Axis 2",position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],startPosition:.5,key:"x2"});t.axes.push(e,r,xe);const Se=[new BarSeries({xAxisKey:"x1"}),new BarSeries({xAxisKey:"x1"}),new BarSeries({xAxisKey:"x2"}),new BarSeries({xAxisKey:"x2"})],_e=new Random(1);for(const Ae of Se){for(let Ce=0;Ce<4;Ce++)Ae.items.push(newBarItem(_e.next(-100,100)));t.series.push(Ae)}return t},stackedMultipleValueAxes=()=>{const t=multipleValueAxes();t.title=`Stacked, ${t.title}`;for(const e of t.series)e.isStacked=!0;return t},multipleCategoryAxes=()=>{const t=new PlotModel({title:"Multiple Category Axes"});t.legends.push(new Legend({isLegendVisible:!0,legendPosition:LegendPosition.TopLeft,legendPlacement:LegendPlacement.Inside}));const e=new LinearAxis({position:AxisPosition.Bottom,key:"x",extraGridlines:[0]}),r=new CategoryAxis({title:"Category Axis 1",position:AxisPosition.Left,minimumPadding:.06,maximumPadding:.06,endPosition:.5,key:"y1"}),xe=new CategoryAxis({title:"Category Axis 2",position:AxisPosition.Left,minimumPadding:.06,maximumPadding:.06,startPosition:.5,key:"y2"});t.axes.push(e,r,xe);const Se=[new BarSeries({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1A"}),new BarSeries({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1B"}),new BarSeries({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2A"}),new BarSeries({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2B"})],_e=new Random;for(const Ae of Se){for(let Ce=0;Ce<4;Ce++)Ae.items.push(newBarItem(_e.next(-100,100)));t.series.push(Ae)}return t},stackedMultipleCategoryAxes=()=>{const t=multipleCategoryAxes();t.title=`Stacked, ${t.title}`;for(const e of t.series)e.isStacked=!0;return t},emptySeries=()=>{const t=new PlotModel({title:"Empty series"}),e=new BarSeries({title:"Series 1"}),r=new BarSeries({title:"Series 2"}),xe=new CategoryAxis({position:AxisPosition.Left}),Se=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0});return t.series.push(e,r),t.axes.push(xe,Se),t},noCategoryAxisDefined=()=>{const t=new PlotModel({title:"No category axis defined"}),e=new BarSeries({title:"Series 1",itemsSource:[newBarItem(25),newBarItem(137)]}),r=new BarSeries({title:"Series 2",itemsSource:[newBarItem(52),newBarItem(317)]}),xe=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0});return t.series.push(e,r),t.axes.push(xe),t},bindingItemsSource=()=>{const t=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}],e=new PlotModel({title:"Binding to ItemsSource"}),r=new Legend({legendPlacement:LegendPlacement.Outside});e.legends.push(r);const xe=new CategoryAxis({position:AxisPosition.Left,labelField:"label",itemsSource:t,majorStep:1,minorStep:1});e.axes.push(xe);const Se=new LinearAxis({position:AxisPosition.Bottom,absoluteMinimum:0,minimumPadding:0});e.axes.push(Se);const _e=new BarSeries({fillColor:OxyColorHelper.fromArgb(255,78,154,6),valueField:"value1",title:"2009",itemsSource:t});e.series.push(_e);const Ae=new BarSeries({fillColor:OxyColorHelper.fromArgb(255,200,141,0),valueField:"value2",title:"2010",itemsSource:t});e.series.push(Ae);const Ce=new BarSeries({fillColor:OxyColorHelper.fromArgb(255,204,0,0),valueField:"value3",title:"2011",itemsSource:t});return e.series.push(Ce),e},bindingToItemsSourceArray=()=>{const t=new PlotModel({title:"Binding to ItemsSource",subtitle:"The items are defined by an array of BarItem/ColumnItem"});return t.series.push(new BarSeries({title:"Series 1",itemsSource:[newBarItem({value:25}),newBarItem({value:137})]})),t.series.push(new BarSeries({title:"Series 2",itemsSource:[newBarItem({value:52}),newBarItem({value:317})]})),t.axes.push(new CategoryAxis({position:AxisPosition.Left})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),t},bindingToItemsSourceListT=()=>{const t=new PlotModel({title:"Binding to ItemsSource",subtitle:"The items are defined by a List of BarItem/ColumnItem"});return t.series.push(new BarSeries({title:"Series 1",itemsSource:[newBarItem({value:25}),newBarItem({value:137})]})),t.series.push(new BarSeries({title:"Series 2",itemsSource:[newBarItem({value:52}),newBarItem({value:317})]})),t.axes.push(new CategoryAxis({position:AxisPosition.Left})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),t},bindingToItemsSourceReflection=()=>{const t=new PlotModel({title:"Binding to ItemsSource",subtitle:"Reflect by 'ValueField'"});return t.series.push(new BarSeries({title:"Series 1",valueField:"value1",itemsSource:[{value1:25},{value1:137}]})),t.series.push(new BarSeries({title:"Series 2",valueField:"value1",itemsSource:[{value1:52},{value1:317}]})),t.axes.push(new CategoryAxis({position:AxisPosition.Left})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),t},definedByItems=()=>{const t=new PlotModel({title:"Defined by Items",subtitle:"The items are added to the `Items` property."}),e=new BarSeries({title:"Series 1"});e.items.push(newBarItem({value:25}),newBarItem({value:137}));const r=new BarSeries({title:"Series 2"});return r.items.push(newBarItem({value:52}),newBarItem({value:317})),t.series.push(e,r),t.axes.push(new CategoryAxis({position:AxisPosition.Left})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),t};function emptyCategoryAxis(){const t=new PlotModel({title:"Empty category axis"}),e=new BarSeries({title:"Series 1"});e.items.push(newBarItem({value:25})),e.items.push(newBarItem({value:137})),e.items.push(newBarItem({value:18})),e.items.push(newBarItem({value:40}));const r=new BarSeries({title:"Series 2"});r.items.push(newBarItem({value:-12})),r.items.push(newBarItem({value:-14})),r.items.push(newBarItem({value:-120})),r.items.push(newBarItem({value:-26}));const xe=new CategoryAxis({position:AxisPosition.Left}),Se=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle.Solid,extraGridlineColor:OxyColors.Black,extraGridlineThickness:1});return t.series.push(e,r),t.axes.push(xe,Se),t}function withNegativeValue(){return createModelWithNegativeValues(!1,"With negative values")}function stackedWithNegativeValue(){return createModelWithNegativeValues(!0,"Stacked with negative values")}function mixedWithLineSeries(){const t=createSimpleModel(!1,"Mixed with LineSeries");t.title="Mixed with LineSeries";const e=new LineSeries({title:"LineSeries 1"});return e.points.push(newDataPoint(25,0)),e.points.push(newDataPoint(137,1)),e.points.push(newDataPoint(18,2)),e.points.push(newDataPoint(40,3)),t.series.push(e),t}function noAxes(){const t=createSimpleModel(!1,"No axes defined");return t.axes.length=0,t}function stackedNoAxes(){const t=createSimpleModel(!0,"Stacked and no axes defined");return t.axes.length=0,t}function logAxisBaseValue(){const t=new PlotModel({title:"Logarithmic axis"}),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});t.legends.push(e);const r=new BarSeries({title:"Series 1",baseValue:.1,strokeColor:OxyColors.Black,strokeThickness:1});r.items.push(newBarItem({value:25})),r.items.push(newBarItem({value:37})),r.items.push(newBarItem({value:18})),r.items.push(newBarItem({value:40}));const xe=new CategoryAxis({position:AxisPosition.Left});return xe.labels.push("Category A","Category B","Category C","Category D"),t.series.push(r),t.axes.push(xe),t.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimum:.1,minimumPadding:0,absoluteMinimum:0})),t}function logAxisBaseLine(){const t=new PlotModel({title:"Logarithmic axis"}),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});t.legends.push(e);const r=new BarSeries({title:"Series 1",baseLine:.1,strokeColor:OxyColors.Black,strokeThickness:1});r.items.push(newBarItem({value:25})),r.items.push(newBarItem({value:37})),r.items.push(newBarItem({value:18})),r.items.push(newBarItem({value:40}));const xe=new CategoryAxis({position:AxisPosition.Left});return xe.labels.push("Category A","Category B","Category C","Category D"),t.series.push(r),t.axes.push(xe),t.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimumPadding:0,absoluteMinimum:0})),t}function logAxisNotStacked(){const t=new PlotModel({title:"Logarithmic axis"}),e=new Legend({legendPlacement:LegendPlacement.Outside});t.legends.push(e);const r=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}];return t.series.push(new BarSeries({title:"2009",itemsSource:r,valueField:"value1"})),t.series.push(new BarSeries({title:"2010",itemsSource:r,valueField:"value2"})),t.series.push(new BarSeries({title:"2011",itemsSource:r,valueField:"value3"})),t.axes.push(new CategoryAxis({position:AxisPosition.Left,itemsSource:r,labelField:"label"})),t.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimum:1})),t}function logAxisStacked(){const t=logAxisNotStacked();for(const e of t.series)e instanceof BarSeries&&(e.isStacked=!0);return t}function histogram3(){return createHistogram(1e5,5)}function histogram20(){return createHistogram(1e5,20)}function histogram200(){return createHistogram(1e5,200)}function histogramStandardNormalDistribution(){return createNormalDistributionHistogram(1e5,2e3)}function differentColors(){const t=new PlotModel({title:"Different colors within the same series"}),e=new BarSeries({title:"Series 1"});e.items.push(newBarItem({value:1,color:OxyColors.Red})),e.items.push(newBarItem({value:2,color:OxyColors.Green})),e.items.push(newBarItem({value:1,color:OxyColors.Blue}));const r=new CategoryAxis({title:"Category",position:AxisPosition.Left});return r.labels.push("A","B","C"),t.axes.push(r),t.series.push(e),t}function stackingGroups(){const t=new PlotModel({title:"Stacking groups"}),e=new BarSeries({title:"Series 1",stackGroup:"1",isStacked:!0});e.items.push(newBarItem({value:1})),e.items.push(newBarItem({value:2})),t.series.push(e);const r=new BarSeries({title:"Series 2",stackGroup:"2",isStacked:!0});r.items.push(newBarItem({value:2})),r.items.push(newBarItem({value:1})),t.series.push(r);const xe=new BarSeries({title:"Series 3",stackGroup:"1",isStacked:!0});xe.items.push(newBarItem({value:3})),xe.items.push(newBarItem({value:1})),t.series.push(xe);const Se=new CategoryAxis({title:"Category",position:AxisPosition.Left});return Se.labels.push("A","B"),t.axes.push(Se),t}function differentWidths(){const t=new PlotModel({title:"Different widths",subtitle:"Series1=0.6 and Series2=0.3"}),e=new BarSeries({title:"Series 1",barWidth:.6});e.items.push(newBarItem({value:1})),e.items.push(newBarItem({value:2})),t.series.push(e);const r=new BarSeries({title:"Series 2",barWidth:.3});r.items.push(newBarItem({value:3})),r.items.push(newBarItem({value:1})),t.series.push(r);const xe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return xe.labels.push("A","B"),t.axes.push(xe),t}function differentWidthsStacked(){const t=new PlotModel({title:"Different widths (stacked)"}),e=new BarSeries({title:"Series 1",isStacked:!0,barWidth:.6});e.items.push(newBarItem({value:1})),e.items.push(newBarItem({value:2})),t.series.push(e);const r=new BarSeries({title:"Series 2",isStacked:!0,barWidth:.3});r.items.push(newBarItem({value:3})),r.items.push(newBarItem({value:1})),t.series.push(r);const xe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return xe.labels.push("A","B"),t.axes.push(xe),t}function invalidValues(){const t=new PlotModel({title:"Invalid values",subtitle:"Series 1 contains a NaN value for category B."}),e=new BarSeries({title:"Series 1"});e.items.push(newBarItem({value:1})),e.items.push(newBarItem({value:NaN})),t.series.push(e);const r=new BarSeries({title:"Series 2"});r.items.push(newBarItem({value:3})),r.items.push(newBarItem({value:1})),t.series.push(r);const xe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return xe.labels.push("A","B"),t.axes.push(xe),t}function missingValues(){const t=new PlotModel({title:"Missing values",subtitle:"Series 1 contains only one item with CategoryIndex = 1"}),e=new BarSeries({title:"Series 1"});e.items.push(newBarItem({value:1,categoryIndex:1})),t.series.push(e);const r=new BarSeries({title:"Series 2"});r.items.push(newBarItem({value:3})),r.items.push(newBarItem({value:1.2})),t.series.push(r);const xe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return xe.labels.push("A","B"),t.axes.push(xe),t}function categoryIndex(){const t=new PlotModel({title:"CategoryIndex",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),e=new BarSeries({title:"Series 1",strokeThickness:1});e.items.push(newBarItem({value:1,categoryIndex:0})),e.items.push(newBarItem({value:2,categoryIndex:0})),t.series.push(e);const r=new CategoryAxis({title:"Category",position:AxisPosition.Left});return r.labels.push("A","B"),t.axes.push(r),t}function categoryIndexStacked(){const t=new PlotModel({title:"CategoryIndex (stacked)",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),e=new BarSeries({title:"Series 1",isStacked:!0,strokeThickness:1});e.items.push(newBarItem({value:1,categoryIndex:0})),e.items.push(newBarItem({value:2,categoryIndex:0})),t.series.push(e);const r=new CategoryAxis({title:"Category",position:AxisPosition.Left});return r.labels.push("A","B"),t.axes.push(r),t}function baseValue(){const t=new PlotModel({title:"BaseValue",subtitle:"BaseValue = -1"}),e=new BarSeries({title:"Series 1",baseValue:-1});e.items.push(newBarItem({value:1})),e.items.push(newBarItem({value:2})),t.series.push(e);const r=new BarSeries({title:"Series 2",baseValue:-1});r.items.push(newBarItem({value:4})),r.items.push(newBarItem({value:7})),t.series.push(r);const xe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return xe.labels.push("A","B"),t.axes.push(xe),t}function baseValueStacked(){const t=new PlotModel({title:"BaseValue (stacked)",subtitle:"BaseValue = -1"}),e=new BarSeries({title:"Series 1",isStacked:!0,baseValue:-1});e.items.push(newBarItem({value:1})),e.items.push(newBarItem({value:2})),t.series.push(e);const r=new BarSeries({title:"Series 2",isStacked:!0,baseValue:-1});r.items.push(newBarItem({value:4})),r.items.push(newBarItem({value:7})),t.series.push(r);const xe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return xe.labels.push("A","B"),t.axes.push(xe),t}function baseValueOverlaping(){const t=new PlotModel({title:"BaseValue (overlaping)",subtitle:"BaseValue = -1"}),e=new BarSeries({title:"Series 1",isStacked:!0,overlapsStack:!0,baseValue:-1});e.items.push(newBarItem({value:1})),e.items.push(newBarItem({value:2})),t.series.push(e);const r=new BarSeries({title:"Series 2",isStacked:!0,overlapsStack:!0,baseValue:-1,barWidth:.5});r.items.push(newBarItem({value:4})),r.items.push(newBarItem({value:7})),t.series.push(r);const xe=new CategoryAxis({title:"Category",position:AxisPosition.Left});return xe.labels.push("A","B"),t.axes.push(xe),t}function baseValueLabels(){const t=new PlotModel({title:"BaseValue with Labels"});for(const r of getEnumKeys(LabelPlacement)){const xe=new BarSeries({title:r.toString(),baseValue:-25,labelPlacement:r,labelStringFormatter:BarSeriesLabelStringFormatter});xe.items.push(newBarItem({value:-40})),xe.items.push(newBarItem({value:-25})),xe.items.push(newBarItem({value:-10})),xe.items.push(newBarItem({value:0})),xe.items.push(newBarItem({value:10})),t.series.push(xe)}const e=new CategoryAxis({title:"Category",position:AxisPosition.Left,startPosition:1,endPosition:0});return e.labels.push("A","B","C","D","E"),t.axes.push(e),t.legends.push(new Legend),t}function stackedLabels(){const t=new PlotModel({title:"Stacked with Labels"});let e=0;for(const r of getEnumKeys(LabelPlacement)){const xe=new CategoryAxis({title:"Category",position:AxisPosition.Left,startPosition:1-e*.25,endPosition:.75-e*.25,key:`C${e}`}),Se=new BarSeries({title:r.toString(),labelPlacement:r,labelStringFormatter:BarSeriesLabelStringFormatter,isStacked:!0,yAxisKey:xe.key});Se.items.push(newBarItem({value:5})),Se.items.push(newBarItem({value:10})),Se.items.push(newBarItem({value:15})),t.series.push(Se);const _e=new BarSeries({title:r.toString(),labelPlacement:r,labelStringFormatter:BarSeriesLabelStringFormatter,isStacked:!0,yAxisKey:xe.key});_e.items.push(newBarItem({value:15})),_e.items.push(newBarItem({value:10})),_e.items.push(newBarItem({value:5})),t.series.push(_e),xe.labels.push("A","B","C"),t.axes.push(xe),e++}return t.legends.push(new Legend),t}function gapWidth0(){return createGapWidthModel(0,"GapWidth 0%")}function gapWidth100(){return createGapWidthModel(1,"GapWidth 100% (default)")}function gapWidth200(){return createGapWidthModel(2,"GapWidth 200%")}function allInOne(){const t=new PlotModel({title:"All in one"}),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});t.legends.push(e);const r=new CategoryAxis({position:AxisPosition.Left,gapWidth:.01});r.labels.push("Category A","Category B","Category C","Category D"),t.axes.push(r);const xe=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle.Solid,extraGridlineColor:OxyColors.Black,extraGridlineThickness:1});t.axes.push(xe);const Se=0,_e=1,Ae=2,Ce=3,Pe=new BarSeries({title:"Series 1",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"3"});Pe.items.push(newBarItem({value:25}),newBarItem({value:137}),newBarItem({value:18}),newBarItem({value:40})),t.series.push(Pe);const Ee=new BarSeries({title:"Series 2",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"3"});Ee.items.push(newBarItem({value:-12}),newBarItem({value:-14}),newBarItem({value:-120}),newBarItem({value:-26})),t.series.push(Ee);const Oe=new BarSeries({title:"Series 3",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"5",isVisible:!1});Oe.items.push(newBarItem({value:21}),newBarItem({value:8}),newBarItem({value:48}),newBarItem({value:3})),t.series.push(Oe);const Me=new BarSeries({title:"Series 4",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"5",labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement.Middle});Me.items.push(newBarItem({value:-8,categoryIndex:Se}),newBarItem({value:-8,categoryIndex:Se}),newBarItem({value:-8,categoryIndex:Se}),newBarItem({value:-21,categoryIndex:_e}),newBarItem({value:-3,categoryIndex:Ae}),newBarItem({value:-48,categoryIndex:Ce}),newBarItem({value:8,categoryIndex:Se}),newBarItem({value:21,categoryIndex:_e}),newBarItem({value:3,categoryIndex:Ae}),newBarItem({value:48,categoryIndex:Ce})),t.series.push(Me);const De=new BarSeries({title:"Series 5",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1});De.items.push(newBarItem({value:17,categoryIndex:Se}),newBarItem({value:179,categoryIndex:_e}),newBarItem({value:45,categoryIndex:Ae}),newBarItem({value:65,categoryIndex:Ce}),newBarItem({value:97,categoryIndex:Se}),newBarItem({value:21,categoryIndex:Ce})),t.series.push(De);const Te=new BarSeries({title:"Series 6",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1,labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement.Base});Te.items.push(newBarItem({value:7}),newBarItem({value:54}),newBarItem({value:68}),newBarItem({value:12})),t.series.push(Te);const ke=new BarSeries({title:"Series 7",isStacked:!0,overlapsStack:!0,strokeColor:OxyColors.Black,strokeThickness:1,labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement.Base,stackGroup:"3",barWidth:.5});return ke.items.push(newBarItem({value:10}),newBarItem({value:80}),newBarItem({value:100,categoryIndex:Ce})),t.series.push(ke),t}const BarSeriesLabelStringFormatter=t=>t.value.toString();function createGapWidthModel(t,e){const r=createSimpleModel(!1,e);return r.axes[0].gapWidth=t,r}function createSimpleModel(t,e){const r=new PlotModel({title:e}),xe=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});r.legends.push(xe);const Se=new BarSeries({title:"Series 1",isStacked:t,strokeColor:OxyColors.Black,strokeThickness:1});Se.items.push(newBarItem(25)),Se.items.push(newBarItem(137)),Se.items.push(newBarItem(18)),Se.items.push(newBarItem(40));const _e=new BarSeries({title:"Series 2",isStacked:t,strokeColor:OxyColors.Black,strokeThickness:1});_e.items.push(newBarItem(12)),_e.items.push(newBarItem(14)),_e.items.push(newBarItem(120)),_e.items.push(newBarItem(26));const Ae=new CategoryAxis({position:AxisPosition.Left});Ae.labels.push("Category A","Category B","Category C","Category D");const Ce=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return r.series.push(Se,_e),r.axes.push(Ae,Ce),r}function createModelWithNegativeValues(t,e){const r=new PlotModel({title:e}),xe=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});r.legends.push(xe);const Se=new BarSeries({title:"Series 1",isStacked:t,strokeColor:OxyColors.Black,strokeThickness:1});Se.items.push(newBarItem(25)),Se.items.push(newBarItem(137)),Se.items.push(newBarItem(18)),Se.items.push(newBarItem(40));const _e=new BarSeries({title:"Series 2",isStacked:t,strokeColor:OxyColors.Black,strokeThickness:1});_e.items.push(newBarItem(-12)),_e.items.push(newBarItem(-14)),_e.items.push(newBarItem(-120)),_e.items.push(newBarItem(-26));const Ae=new BarSeries({title:"Series 3",isStacked:t,strokeColor:OxyColors.Black,strokeThickness:1});Ae.items.push(newBarItem(21)),Ae.items.push(newBarItem(8)),Ae.items.push(newBarItem(48)),Ae.items.push(newBarItem(3));const Ce=new BarSeries({title:"Series 4",isStacked:t,strokeColor:OxyColors.Black,strokeThickness:1});Ce.items.push(newBarItem(-8)),Ce.items.push(newBarItem(-21)),Ce.items.push(newBarItem(-3)),Ce.items.push(newBarItem(-48));const Pe=new CategoryAxis({position:AxisPosition.Left});Pe.labels.push("Category A","Category B","Category C","Category D");const Ee=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle.Solid,extraGridlineColor:OxyColors.Black,extraGridlineThickness:1});return r.series.push(Se,_e,Ae,Ce),r.axes.push(Pe,Ee),r}function createHistogram(t,e){const r=[];for(let Ae=0;Ae<e;Ae++)r.push({label:Ae.toString(),value:0});const xe=new Random;for(let Ae=0;Ae<t;Ae++){const Ce=xe.next(0,e-1);r[Ce].value++}const Se=new PlotModel;Se.title=`Histogram (bins=${e}, n=${t})`,Se.subtitle="Pseudorandom numbers";const _e=new BarSeries;return _e.itemsSource=r,_e.valueField="value",e<100&&(_e.labelStringFormatter=(Ae,Ce)=>Ce[0].toString()),Se.series.push(_e),Se.axes.push(new CategoryAxis({position:AxisPosition.Left,itemsSource:r,labelField:"label",gapWidth:0})),Se.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:.1,absoluteMinimum:0})),Se}function createNormalDistributionHistogram(t,e){const r=[];for(let Ee=0;Ee<e;Ee++){const Oe=-10+20*Ee/(r.length-1);r.push({label:Oe.toFixed(1),value:0})}const _e=new Random(31);for(let Ee=0;Ee<t;Ee++){const Oe=_e.next(),Me=_e.next(),De=Math.sqrt(-2*Math.log(Oe))*Math.cos(2*Math.PI*Me),Te=Math.round((De- -10)/20*(r.length-1));Te>=0&&Te<r.length&&r[Te].value++}const Ae=new PlotModel;Ae.title=`Histogram (bins=${e}, n=${t})`,Ae.subtitle="Standard normal distribution by Box-Muller transform";const Ce=new BarSeries;Ce.itemsSource=r,Ce.valueField="value",Ae.series.push(Ce);const Pe=new CategoryAxis({position:AxisPosition.Left,gapWidth:0});return Pe.labels.push(...r.map(Ee=>Ee.label)),Pe.isAxisVisible=!1,Ae.axes.push(Pe),Ae.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),Ae.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,absoluteMinimum:0})),Ae}const category$m="BarSeries",BarSeriesExamples={category:category$m,tags:["Series"],examples:[{title:"With labels",example:{model:withLabels}},{title:"With labels (at an angle)",example:{model:withLabelsAtAnAngle}},{title:"Stacked",example:{model:stackedSeries}},{title:"Multiple Value Axes",example:{model:multipleValueAxes}},{title:"Stacked, Multiple Value Axes",example:{model:stackedMultipleValueAxes}},{title:"Multiple Category Axes",example:{model:multipleCategoryAxes}},{title:"Stacked, Multiple Category Axes",example:{model:stackedMultipleCategoryAxes}},{title:"Empty series",example:{model:emptySeries}},{title:"No category axis defined",example:{model:noCategoryAxisDefined}},{title:"Binding to ItemsSource",example:{model:bindingItemsSource}},{title:"Binding to ItemsSource (array)",example:{model:bindingToItemsSourceArray}},{title:"Binding to ItemsSource (list)",example:{model:bindingToItemsSourceListT}},{title:"Binding to ItemsSource (reflection)",example:{model:bindingToItemsSourceReflection}},{title:"Defined by Items",example:{model:definedByItems}},{title:"Empty category axis",example:{model:emptyCategoryAxis}},{title:"With negative values",example:{model:withNegativeValue}},{title:"Stacked with negative values",example:{model:stackedWithNegativeValue}},{title:"Mixed with LineSeries",example:{model:mixedWithLineSeries}},{title:"No axes defined",example:{model:noAxes}},{title:"Stacked and no axes defined",example:{model:stackedNoAxes}},{title:"Logarithmic axis (Base Value)",example:{model:logAxisBaseValue}},{title:"Logarithmic axis (Base Line)",example:{model:logAxisBaseLine}},{title:"Logarithmic axis (not stacked)",example:{model:logAxisNotStacked}},{title:"Logarithmic axis (stacked series)",example:{model:logAxisStacked}},{title:"Histogram (bins=5)",example:{model:histogram3}},{title:"Histogram (bins=20)",example:{model:histogram20}},{title:"Histogram (bins=200)",example:{model:histogram200}},{title:"Histogram (standard normal distribution)",example:{model:histogramStandardNormalDistribution}},{title:"Different colors within the same series",example:{model:differentColors}},{title:"Different stacking groups",example:{model:stackingGroups}},{title:"Different widths",example:{model:differentWidths}},{title:"Different widths (stacked)",example:{model:differentWidthsStacked}},{title:"Invalid values",example:{model:invalidValues}},{title:"Missing values",example:{model:missingValues}},{title:"CategoryIndex",example:{model:categoryIndex}},{title:"CategoryIndex (stacked)",example:{model:categoryIndexStacked}},{title:"BaseValue",example:{model:baseValue}},{title:"BaseValue (stacked)",example:{model:baseValueStacked}},{title:"BaseValue (overlaping)",example:{model:baseValueOverlaping}},{title:"BaseValue (labels)",example:{model:baseValueLabels}},{title:"Stacked (labels)",example:{model:stackedLabels}},{title:"GapWidth 0%",example:{model:gapWidth0}},{title:"GapWidth 100% (default)",example:{model:gapWidth100}},{title:"GapWidth 200%",example:{model:gapWidth200}},{title:"All in one",example:{model:allInOne}}]};function boxPlot(){const e=new PlotModel({title:"BoxPlot (n=10)"}),r=new Legend({legendPlacement:LegendPlacement.Outside});e.legends.push(r);const xe=new BoxPlotSeries({title:"BoxPlotSeries",boxWidth:.3}),Se=new Random(31);for(let _e=0;_e<10;_e++){const Ae=_e,Ce=5+Se.next(15),Pe=[];for(let Re=0;Re<Ce;Re++)Pe.push(Se.next(0,20));Pe.sort();const Ee=getMedian(Pe),Oe=Pe.reduce((Re,je)=>Re+je,0)/Pe.length,Me=Pe.length%2,De=getMedian(Pe.slice(0,(Pe.length+Me)/2)),Te=getMedian(Pe.slice((Pe.length-Me)/2)),Fe=(Te-De)*1.5;let $e=Te+Fe;$e=maxValueOfArray(Pe.filter(Re=>Re<=$e));let Be=De-Fe;Be=minValueOfArray(Pe.filter(Re=>Re>=Be));const Ie=[$e+Se.next(1,10),Be-Se.next(1,10)];xe.items.push({x:Ae,lowerWhisker:Be,boxBottom:De,median:Ee,boxTop:Te,upperWhisker:$e,mean:Oe,outliers:Ie})}return e.series.push(xe),e.axes.push(new LinearAxis({position:AxisPosition.Left})),e.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1})),e}function getMedian(t){const e=[...t].sort((xe,Se)=>xe-Se),r=e.length;return r%2===1?e[(r-1)/2]:.5*e[r/2]+.5*e[r/2-1]}function boxPlot2(){const t=boxPlot(),e=t.series[0];return e.showMedianAsDot=!0,e.outlierType=MarkerType.Cross,e.fill=OxyColors.Black,e.showBox=!1,e.whiskerWidth=0,t}function boxPlot3(){const t=boxPlot(),e=t.series[0];return e.lineStyle=LineStyle.Dash,t}function outlierTypeCross(){const t=boxPlot(),e=t.series[0];return e.outlierType=MarkerType.Cross,t}function outlierTypeCustom(){const t=boxPlot(),e=t.series[0];return e.outlierType=MarkerType.Custom,e.outlierOutline=[newScreenPoint(-1,-1),newScreenPoint(1,1),newScreenPoint(-1,1),newScreenPoint(1,-1)],t}function michelsonMorleyExperiment(){const t=new PlotModel,e=new BoxPlotSeries({title:"Results",stroke:OxyColors.Black,strokeThickness:1,outlierSize:2,boxWidth:.4,items:[]});e.items.push({x:0,lowerWhisker:740,boxBottom:850,median:945,boxTop:980,upperWhisker:1070,outliers:[650]}),e.items.push({x:1,lowerWhisker:750,boxBottom:805,median:845,boxTop:890,upperWhisker:970,outliers:[]}),e.items.push({x:2,lowerWhisker:845,boxBottom:847,median:855,boxTop:880,upperWhisker:910,outliers:[640,950,970]}),e.items.push({x:3,lowerWhisker:720,boxBottom:760,median:820,boxTop:870,upperWhisker:910,outliers:[]}),e.items.push({x:4,lowerWhisker:730,boxBottom:805,median:807,boxTop:870,upperWhisker:950,outliers:[]}),t.series.push(e),t.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,lineStyle:LineStyle.Solid,y:792.458,text:"true speed"}));const r=new CategoryAxis({title:"Experiment No."});return r.labels.push("1","2","3","4","5"),t.axes.push(r),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Speed of light (km/s minus 299,000)",majorStep:100,minorStep:100})),t}function boxPlotSeries_DateTimeAxis(){const t=getDateService(),e=new PlotModel,r=DateTimeAxis.toDouble(new Date(2013,5,4));e.axes.push(new DateTimeAxis({position:AxisPosition.Bottom,minimum:r-.9,maximum:r+1.9,intervalType:DateTimeIntervalType.Days,majorStep:1,minorStep:1,stringFormatter:function(Se){return t.format(Se,"YYYY-MM-DD")}}));const xe=new BoxPlotSeries({trackerStringFormatter:function(Se){return`X: ${t.format(Se.xValue,"YYYY-MM-DD")}
Upper Whisker: ${Se.upperWhisker.toFixed(2)}
Third Quartil: ${Se.boxTop.toFixed(2)}
Median: ${Se.median.toFixed(2)}
First Quartil: ${Se.boxBottom.toFixed(2)}
Lower Whisker: ${Se.lowerWhisker.toFixed(2)}
Mean: ${Se.mean.toFixed(2)}`},items:[]});return xe.items.push({x:r,lowerWhisker:10,boxBottom:14,median:16,boxTop:20,upperWhisker:22,mean:17,outliers:[23.5]}),xe.items.push({x:r+1,lowerWhisker:11,boxBottom:13,median:14,boxTop:15,upperWhisker:18,outliers:[23.4]}),e.series.push(xe),e}const category$l="BoxPlotSeries",BoxPlotSeriesExamples={category:category$l,tags:["Series"],examples:[{title:"BoxPlot",example:{model:boxPlot}},{title:"BoxPlot (minimal data/ink ratio)",example:{model:boxPlot2}},{title:"BoxPlot (dashed line)",example:{model:boxPlot3}},{title:"Outlier type = Cross",example:{model:outlierTypeCross}},{title:"Outlier type = Custom",example:{model:outlierTypeCustom}},{title:"Michelson-Morley experiment",example:{model:michelsonMorleyExperiment}},{title:"BoxPlot (DateTime axis)",example:{model:boxPlotSeries_DateTimeAxis}}]},peaks=(t,e)=>3*(1-t)*(1-t)*Math.exp(-(t*t)-(e+1)*(e+1))-10*(t/5-t*t*t-e*e*e*e*e)*Math.exp(-t*t-e*e)-1/3*Math.exp(-(t+1)*(t+1)-e*e),openContours=(t,e)=>t*t/(e*e+1)+e*e/(t*t+1),createVector=(t,e,r)=>ArrayBuilder.createVectorWithStep(t,e,r);function peaksModel(){const t=new PlotModel({title:"Peaks"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05)});return e.data=ArrayBuilder.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),t.subtitle=`${e.data.length}${e.data[0].length}`,t.series.push(e),t}function peaksLabelStep1LevelStepPI2(){const t=new PlotModel({title:"Peaks LabelStep = 1, ContourLevelStep = PI/2"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:Math.PI/2,labelStep:1});return e.data=ArrayBuilder.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),t.subtitle=`${e.data.length}${e.data[0].length}`,t.series.push(e),t}function peaksLabelStep2(){const t=new PlotModel({title:"Peaks LabelStep = 2, ContourLevelStep = 0.5"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:.5,labelStep:2});return e.data=ArrayBuilder.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),t.subtitle=`${e.data.length}${e.data[0].length}`,t.series.push(e),t}function peaksLabelStep2LevelStep033(){const t=new PlotModel({title:"Peaks LabelStep = 2, ContourLevelStep = 0.33"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:.33,labelStep:2});return e.data=ArrayBuilder.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),t.subtitle=`${e.data.length}${e.data[0].length}`,t.series.push(e),t}function peaksLabelStep3(){const t=new PlotModel({title:"Peaks LabelStep = 3, ContourLevelStep = 1"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),labelStep:3});return e.data=ArrayBuilder.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),t.subtitle=`${e.data.length}${e.data[0].length}`,t.series.push(e),t}function peaksMultiLabel(){const t=new PlotModel({title:"Peaks MultiLabel"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),multiLabel:!0});return e.data=ArrayBuilder.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),t.subtitle=`${e.data.length}${e.data[0].length}`,t.series.push(e),t}function peaksLabelSpacing400(){const t=new PlotModel({title:"Peaks LabelSpacing = 400"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),multiLabel:!0,labelSpacing:400});return e.data=ArrayBuilder.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),t.subtitle=`${e.data.length}${e.data[0].length}`,t.series.push(e),t}function peaksWithColors(){const t=new PlotModel({title:"Peaks"}),e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourColors:[OxyColors.SeaGreen,OxyColors.RoyalBlue,OxyColors.IndianRed]});return e.data=ArrayBuilder.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),t.subtitle=`${e.data.length}${e.data[0].length}`,t.series.push(e),t}function wideArrayPeaks(){const t=new PlotModel({title:"Peaks"});t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-3.16262,maximum:3.162}));const e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-1,1,.05)});return e.data=ArrayBuilder.evaluate(peaks,e.columnCoordinates,e.rowCoordinates),t.subtitle=`${e.data.length}${e.data[0].length}`,t.series.push(e),t}function openContoursModel(){const t=new PlotModel,e=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3,3,.05)});return e.data=ArrayBuilder.evaluate(openContours,e.columnCoordinates,e.rowCoordinates),t.series.push(e),t}function logPeaks(){const t=(Se,_e)=>peaks(Math.log(Se)/10,Math.log(_e)/10),e=new PlotModel,r=createVector(-3,3,.05);for(let Se=0;Se<r.length;Se++)r[Se]=Math.exp(r[Se]*10);const xe=new ContourSeries({columnCoordinates:r,rowCoordinates:r});return xe.data=ArrayBuilder.evaluate(t,xe.columnCoordinates,xe.rowCoordinates),e.series.push(xe),e.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),e.axes.push(new LogarithmicAxis({position:AxisPosition.Left})),e}const category$k="ContourSeries",ContourSeriesExamples={category:category$k,tags:["Series"],examples:[{title:"Peaks",example:{model:peaksModel}},{title:"Peaks LabelStep = 1, ContourLevelStep = PI/2",example:{model:peaksLabelStep1LevelStepPI2}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.5",example:{model:peaksLabelStep2}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.33",example:{model:peaksLabelStep2LevelStep033}},{title:"Peaks LabelStep = 3, ContourLevelStep = 1",example:{model:peaksLabelStep3}},{title:"Peaks MultiLabel",example:{model:peaksMultiLabel}},{title:"Peaks LabelSpacing = 400",example:{model:peaksLabelSpacing400}},{title:"Peaks (different contour colors)",example:{model:peaksWithColors}},{title:"Peaks (wide array)",example:{model:wideArrayPeaks}},{title:"Open Contours",example:{model:openContoursModel}},{title:"Logarithmic Peaks",example:{model:logPeaks}}]};function getErrorBarSeries(){const t=new PlotModel({title:"ErrorBarSeries"}),e=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});t.legends.push(e);const r=new ErrorBarSeries({title:"Series 1",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1});r.items.push(newErrorBarItem({value:25,error:2})),r.items.push(newErrorBarItem({value:137,error:25})),r.items.push(newErrorBarItem({value:18,error:4})),r.items.push(newErrorBarItem({value:40,error:29}));const xe=new ErrorBarSeries({title:"Series 2",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1});xe.items.push(newErrorBarItem({value:35,error:20})),xe.items.push(newErrorBarItem({value:17,error:7})),xe.items.push(newErrorBarItem({value:118,error:44})),xe.items.push(newErrorBarItem({value:49,error:29}));const Se=new CategoryAxis({position:AxisPosition.Left});Se.labels.push("Category A"),Se.labels.push("Category B"),Se.labels.push("Category C"),Se.labels.push("Category D");const _e=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return t.series.push(r),t.series.push(xe),t.axes.push(Se),t.axes.push(_e),t}function getErrorBarSeriesThickErrorLines(){const t=getErrorBarSeries();for(const e of t.series)e instanceof ErrorBarSeries&&(e.errorWidth=0,e.errorStrokeThickness=4);return t}const category$j="ErrorBarSeries",ErrorBarSeriesExamples={category:category$j,tags:["Series"],examples:[{title:"ErrorBarSeries",example:{model:getErrorBarSeries}},{title:"ErrorBarSeries (thick error lines)",example:{model:getErrorBarSeriesThickErrorLines}}]};function extrapolatedLineSeries(){const t=new PlotModel({title:"Line Fit"}),e=new ScatterSeries({title:"Data"});e.points.push({x:3,y:1.4}),e.points.push({x:4,y:1.3}),e.points.push({x:5,y:1.6}),e.points.push({x:6,y:2.3}),e.points.push({x:7,y:2.2}),e.points.push({x:8,y:2.5}),e.points.push({x:9,y:2.9}),e.points.push({x:10,y:3.1}),e.points.push({x:11,y:3.1}),e.points.push({x:12,y:3.8}),t.series.push(e);const{slope:r,intercept:xe}=calculateLinearRegressionParameters(e.points),Se=new ExtrapolationLineSeries({title:"Fit",color:OxyColors.Black,lineStyle:LineStyle.Solid,extrapolationColor:OxyColors.DarkGray,extrapolationLineStyle:LineStyle.Dash,strokeThickness:3,ignoreExtraplotationForScaling:!0});Se.intervals.push(newDataRange(Number.NEGATIVE_INFINITY,minValueOfArray(e.points.map(Ce=>Ce.x)))),Se.intervals.push(newDataRange(maxValueOfArray(e.points.map(Ce=>Ce.x)),Number.POSITIVE_INFINITY));const _e=Array.from({length:200},(Ce,Pe)=>Pe-100).map(Ce=>newDataPoint(Ce,r*Ce+xe));Se.points.push(..._e),t.series.push(Se);const Ae=new Legend({legendPosition:LegendPosition.BottomRight});return t.legends.push(Ae),t}function interpolationStyleLineSeries(){const t=new PlotModel({title:"Interpolation"}),e=new ExtrapolationLineSeries({title:"Third Order Polynomial",color:OxyColors.Black,lineStyle:LineStyle.Dash,extrapolationColor:OxyColors.Gray,extrapolationLineStyle:LineStyle.Dot,strokeThickness:3});e.intervals.push(newDataRange(Number.NEGATIVE_INFINITY,-15)),e.intervals.push(newDataRange(10,30)),e.intervals.push(newDataRange(55,Number.POSITIVE_INFINITY));const r=[.1,-6,-12,0],xe=(Ae,Ce)=>Ce.reduce((Pe,Ee)=>Pe*Ae+Ee,0),Se=Array.from({length:100},(Ae,Ce)=>Ce-30).map(Ae=>newDataPoint(Ae,xe(Ae,r)));e.points.push(...Se),t.series.push(e);const _e=new Legend({legendPosition:LegendPosition.TopCenter});return t.legends.push(_e),t}function twoColorLineSeriesReversed$2(){return PlotModelUtilities.reverseYAxis(interpolationStyleLineSeries())}function intersectingIntervals(){const t=new PlotModel({title:"Intersecting Intervals"}),e=newDataRange(-20,20),r=newDataRange(0,30),xe=newDataRange(10,40),Se=new ExtrapolationLineSeries({title:`Overlapping intervals ${e}, ${r}, ${xe}`,color:OxyColors.Black,lineStyle:LineStyle.Solid,extrapolationColor:OxyColors.Gray,extrapolationLineStyle:LineStyle.Dot,strokeThickness:3});Se.intervals.push(e,r,xe);const _e=[.1,-6,-12,0],Ae=(Ee,Oe)=>Oe.reduce((Me,De)=>Me*Ee+De,0),Ce=Array.from({length:100},(Ee,Oe)=>Oe-30).map(Ee=>newDataPoint(Ee,Ae(Ee,_e)));Se.points.push(...Ce),t.series.push(Se);const Pe=new Legend({legendPosition:LegendPosition.TopCenter});return t.legends.push(Pe),t}function customDashes(){const t=new PlotModel({title:"Custom Dashes"}),e=new ExtrapolationLineSeries({title:"y = 5",color:OxyColors.Black,lineStyle:LineStyle.Dash,dashes:[5,1],extrapolationColor:OxyColors.Gray,extrapolationLineStyle:LineStyle.Dot,extrapolationDashes:[1,5],strokeThickness:3});e.intervals.push(newDataRange(Number.NEGATIVE_INFINITY,0));const r=Array.from({length:200},(Se,_e)=>_e-100).map(Se=>newDataPoint(Se,5));e.points.push(...r),t.series.push(e);const xe=new Legend({legendPosition:LegendPosition.TopCenter});return t.legends.push(xe),t}function manyIntervals(){const t=new PlotModel({title:"ManyIntervals"}),e=new ExtrapolationLineSeries({title:"y = x",color:OxyColors.Red,lineStyle:LineStyle.Solid,extrapolationLineStyle:LineStyle.Solid,strokeThickness:3,ignoreExtraplotationForScaling:!0});e.intervals.push(newDataRange(-1e3,1e4)),Array.from({length:98},(_e,Ae)=>newDataRange(1e3*Ae,1e3*Ae+500)).forEach(_e=>e.intervals.push(_e)),e.intervals.push(newDataRange(2e5,Number.POSITIVE_INFINITY));const xe=Array.from({length:1e5},(_e,Ae)=>newDataPoint(Ae,Ae));e.points.push(...xe),t.series.push(e);const Se=new Legend({legendPosition:LegendPosition.TopCenter});return t.legends.push(Se),t}function mooresLaw(){const t=new PlotModel({title:"Moore's Law"}),e=new ScatterSeries({title:"Data"});e.points.push(...getPointForMooresLaw()),t.series.push(e),t.axes.push(new LinearAxis({title:"Year",position:AxisPosition.Bottom})),t.axes.push(new LogarithmicAxis({title:"Transistors (in thousands)",position:AxisPosition.Left}));const{slope:r,intercept:xe}=calculateLinearRegressionParameters(e.points.map(Ce=>({x:Ce.x,y:Math.log10(Ce.y)}))),Se=new ExtrapolationLineSeries({title:"Fit and Extrapolation",color:OxyColors.Black,lineStyle:LineStyle.Solid,extrapolationColor:OxyColors.Blue,extrapolationLineStyle:LineStyle.Dot,strokeThickness:3});Se.intervals.push(newDataRange(2015,Number.POSITIVE_INFINITY));const _e=Array.from({length:55},(Ce,Pe)=>Pe+1970).map(Ce=>newDataPoint(Ce,Math.pow(10,r*Ce+xe)));Se.points.push(..._e),t.series.push(Se);const Ae=new Legend({legendPosition:LegendPosition.TopCenter});return t.legends.push(Ae),t}function calculateLinearRegressionParameters(t){if(t===void 0)throw new Error("points is undefined");if(t.length<2)throw new Error("at least two points required");const e=t.reduce((Ce,Pe)=>Ce+Pe.x,0)/t.length,r=t.reduce((Ce,Pe)=>Ce+Pe.y,0)/t.length,xe=covariance(t,e,r),Se=variance2(t.map(Ce=>Ce.x)),_e=xe/Se,Ae=r-_e*e;return{slope:_e,intercept:Ae}}function covariance(t,e,r){let xe=t.reduce((Se,_e)=>Se+_e.x*_e.y,0);return xe-=t.length*e*r,xe/=t.length-1,xe}function variance2(t){const e=t.reduce((xe,Se)=>xe+Se,0)/t.length;let r=t.reduce((xe,Se)=>xe+Se*Se,0);return r-=t.length*e*e,r/=t.length-1,r}function getPointForMooresLaw(){return[{x:1971.875,y:2.30824152676},{x:1972.30769231,y:3.55452235561},{x:1974.32692308,y:6.09756235221},{x:1979.56730769,y:29.1637757405},{x:1982.30769231,y:135.772714211},{x:1985.91346154,y:273.841963426},{x:1986.25,y:109.411381058},{x:1988.65384615,y:121.881418484},{x:1989.47115385,y:1207.90074743},{x:1990.57692308,y:1207.90074743},{x:1992.40384615,y:1207.90074743},{x:1992.69230769,y:3105.90022362},{x:1992.69230769,y:1113.97385999},{x:1993.02884615,y:1715.43789634},{x:1993.41346154,y:3105.90022362},{x:1993.41346154,y:922.239565104},{x:1994.71153846,y:1910.95297497},{x:1994.71153846,y:2788.12666541},{x:1995.43269231,y:9646.61619911},{x:1995.72115385,y:3105.90022362},{x:1996.15384615,y:5473.70326288},{x:1996.34615385,y:6792.52507006},{x:1996.34615385,y:3651.74127255},{x:1996.44230769,y:4293.51021008},{x:1996.82692308,y:9646.61619911},{x:1997.35576923,y:5473.70326288},{x:1997.45192308,y:3554.52235561},{x:1997.54807692,y:8896.4911282},{x:1997.64423077,y:7566.6953714},{x:1998.89423077,y:15261.3780258},{x:1999.13461538,y:9389.79801048},{x:1999.18269231,y:6978.3058486},{x:1999.47115385,y:9389.79801048},{x:1999.47115385,y:21673.9216957},{x:2000.19230769,y:22266.7201035},{x:2000.67307692,y:28387.3596476},{x:2000.67307692,y:37180.2666391},{x:2001.10576923,y:29163.7757405},{x:2001.20192308,y:42550.6550247},{x:2001.68269231,y:25482.9674798},{x:2001.82692308,y:37180.2666391},{x:2002.40384615,y:55730.6040127},{x:2002.78846154,y:38197.1754928},{x:2002.88461538,y:220673.406908},{x:2003.41346154,y:151247.254531},{x:2003.50961538,y:54246.9093701},{x:2003.65384615,y:106498.563535},{x:2004.80769231,y:125214.968907},{x:2004.80769231,y:106498.563535},{x:2004.80769231,y:273841.963426},{x:2005.72115385,y:232909.659246},{x:2005.81730769,y:112403.866377},{x:2005.96153846,y:305052.789027},{x:2006.05769231,y:115478.198469},{x:2006.875,y:378551.524926},{x:2006.875,y:155383.983127},{x:2006.92307692,y:245824.406892},{x:2006.97115385,y:296931.48482},{x:2006.97115385,y:582941.534714},{x:2007.06730769,y:151247.254531},{x:2007.64423077,y:582941.534714},{x:2007.74038462,y:232909.659246},{x:2007.78846154,y:805842.187761},{x:2007.83653846,y:115478.198469},{x:2007.98076923,y:509367.521678},{x:2008.22115385,y:445079.406236},{x:2008.46153846,y:410469.838044},{x:2009.18269231,y:457252.669897},{x:2009.27884615,y:784388.558145},{x:2009.66346154,y:230824152676e-5},{x:2009.71153846,y:191095297497e-5},{x:2010.19230769,y:410469.838044},{x:2010.38461538,y:13097472643e-4},{x:2011.16,y:117e4},{x:2011.32,y:26e5},{x:2011.9,y:12e5},{x:2012.4,y:24e5},{x:2012.41,y:23e5},{x:2012.7,y:21e5},{x:2012.9,y:12e5},{x:2013.4,y:5e6},{x:2013.8,y:43e5},{x:2014.16,y:43e5},{x:2014.5,y:42e5},{x:2014.8,y:26e5},{x:2014.81,y:38e5},{x:2014.82,y:57e5}]}const category$i="ExtrapolationLineSeries",ExtrapolationLineSeriesExamples={category:category$i,tags:["Series"],examples:[{title:"Line Fit (Ignore Extrapolation For Scaling)",example:{model:extrapolatedLineSeries}},{title:"Interpolation",example:{model:interpolationStyleLineSeries}},{title:"Interpolation (Y Axis reversed)",example:{model:twoColorLineSeriesReversed$2}},{title:"Intersecting Intervals",example:{model:intersectingIntervals}},{title:"Custom Dashes",example:{model:customDashes}},{title:"Many Intervals",example:{model:manyIntervals}},{title:"Moore's Law",example:{model:mooresLaw}}]};function squareWave(){return _createSquareWave(25)}function clover(){return _createParametricPlot(t=>2*Math.cos(2*t)*Math.cos(t),t=>2*Math.cos(2*t)*Math.sin(t),0,Math.PI*2,1e3,"Parametric function","Using the CartesianAxes property","2cos(2t)cos(t) , 2cos(2t)sin(t)")}function parametricFunction2(){return _createParametricPlot(t=>3*Math.sin(5*t),t=>3*Math.cos(3*t),0,Math.PI*2,1e3,"Parametric function",void 0,"3sin(5t) , 3cos(3t)")}function parametricFunction3(){return _createParametricPlot(t=>2*Math.cos(t)+Math.cos(8*t),t=>2*Math.sin(t)+Math.sin(8*t),0,Math.PI*2,1e3,"Parametric function",void 0,"2cos(t)+cos(8t) , 2sin(t)+sin(8t)")}function lemniscateOfBernoulli(){return _createParametricPlot(e=>1*Math.sqrt(2)*Math.cos(e)/(Math.sin(e)*Math.sin(e)+1),e=>1*Math.sqrt(2)*Math.cos(e)*Math.sin(e)/(Math.sin(e)*Math.sin(e)+1),0,Math.PI*2,1e3,"Lemniscate of Bernoulli")}function lemniscateOfGerono(){return _createParametricPlot(t=>Math.cos(t),t=>Math.sin(2*t)/2,0,Math.PI*2,1e3,"Lemniscate of Gerono")}function lissajousFigure(){const r=Math.PI/2;return _createParametricPlot(xe=>Math.sin(3*xe+r),xe=>Math.sin(2*xe),0,Math.PI*2,1e3,"Lissajous figure",void 0,"a=3, b=2,  = /2")}function roseCurve(){const t=new PlotModel({title:"Rose curve",plotType:PlotType.Polar,plotAreaBorderThickness:newOxyThickness(0)});t.axes.push(new AngleAxis({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:""})),t.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid}));const e=4,r=3,xe=r/e;return t.series.push(new FunctionSeries({fx:Se=>Math.sin(xe*Se),fy:Se=>Se,t0:0,t1:Math.PI*2*e,n:1e3,title:`d=${e}, n=${r}`})),t}function limaconOfPascal(){const t=new PlotModel({title:"Limaon of Pascal",plotType:PlotType.Cartesian});for(let e=4;e<=4;e++)for(let r=0;r<=10;r++)t.series.push(new FunctionSeries({fx:xe=>e/2+r*Math.cos(xe)+e/2*Math.cos(2*xe),fy:xe=>r*Math.sin(xe)+e/2*Math.sin(2*xe),t0:0,t1:Math.PI*2,n:1e3,title:`a=${e}, b=${r}`}));return t}function descartesFolium(){const t=new PlotModel({title:"Folium of Descartes",plotType:PlotType.Cartesian});t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-3,maximum:3})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-3,maximum:3}));const e=1;return t.series.push(new FunctionSeries({fx:r=>3*e*r/(Math.pow(r,3)+1),fy:r=>3*e*Math.pow(r,2)/(Math.pow(r,3)+1),t0:-30,t1:30,n:1001,title:`a=${e}`})),t}function trisectrixOfMaclaurin(){const t=new PlotModel({title:"Trisectrix of Maclaurin",plotType:PlotType.Cartesian}),e=1;return t.series.push(new FunctionSeries({fx:r=>e*(r*r-3)/(r*r+1),fy:r=>e*r*(r*r-3)/(r*r+1),t0:-5,t1:5,n:1e3})),t}function fermatsSpiral(){const t=new PlotModel({title:"Fermat's spiral",plotType:PlotType.Cartesian}),e=1;return t.series.push(new FunctionSeries({fx:r=>e*Math.sqrt(r)*Math.cos(r),fy:r=>e*Math.sqrt(r)*Math.sin(r),t0:0,t1:20,n:1e3})),t.series.push(new FunctionSeries({fx:r=>-e*Math.sqrt(r)*Math.cos(r),fy:r=>-e*Math.sqrt(r)*Math.sin(r),t0:0,t1:20,n:1e3})),t}function fishCurve(){const t=new PlotModel({title:"Fish curve",plotType:PlotType.Cartesian});for(let e=.1;e<1;e+=.1)t.series.push(new FunctionSeries({fx:r=>e*(Math.cos(r)-Math.sin(r)*Math.sin(r)/Math.sqrt(2)),fy:r=>e*Math.cos(r)*Math.sin(r),t0:0,t1:2*Math.PI,n:1e3}));return t}function heavisideStepFunction(){const t=new PlotModel({title:"Heaviside step function",plotType:PlotType.Cartesian});return t.series.push(new FunctionSeries({f:e=>Math.abs(e)<1e-8?NaN:e<0?0:1,x0:-2,x1:2,dx:.001})),t.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,color:t.defaultColors[0],x:0,minimumY:0,maximumY:1})),t}function functionSeries(){const t=new PlotModel({title:"Trigonometric functions",subtitle:"Example using the FunctionSeries",plotType:PlotType.Cartesian,plotAreaBackground:OxyColors.White});return t.series.push(new FunctionSeries({f:Math.sin,x0:-10,x1:10,dx:.1,title:"sin(x)"})),t.series.push(new FunctionSeries({f:Math.cos,x0:-10,x1:10,dx:.1,title:"cos(x)"})),t.series.push(new FunctionSeries({fx:e=>5*Math.cos(e),fy:e=>5*Math.sin(e),t0:0,t1:2*Math.PI,n:1e3,title:"cos(t),sin(t)"})),t}function squirqle(){const t=new PlotModel({title:"Squirqle",plotType:PlotType.Cartesian});return t.series.push(_createSuperellipseSeries(4,1,1)),t}function superellipse20(){const t=new PlotModel({title:"Superellipse",plotType:PlotType.Cartesian}),e=_createSuperellipseSeries(20,1,1);return e.markerType=MarkerType.Circle,t.series.push(e),t}function lameCurves(){const t=new PlotModel({title:"Lam curves",plotType:PlotType.Cartesian}),e=new Legend({legendPlacement:LegendPlacement.Outside});t.legends.push(e);for(let r=.25;r<2;r+=.25)t.series.push(_createSuperellipseSeries(r,1,1));for(let r=2;r<=8+1e-6;r+=1)t.series.push(_createSuperellipseSeries(r,1,1));return t}function _createSquareWave(t=25){const e=new PlotModel({title:"Square wave (Gibbs phenomenon)"}),r=Se=>{let _e=0;for(let Ae=0;Ae<t;Ae++){const Ce=Ae*2+1;_e+=Math.sin(Ce*Se)/Ce}return _e},xe=new FunctionSeries({f:r,x0:-10,x1:10,dx:1e-4,title:`sin(x)+sin(3x)/3+sin(5x)/5+...+sin(${2*t-1})/${2*t-1}`});return e.series.push(xe),e.subtitle=`n = ${xe.points.length}`,e.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-4,maximum:4})),e.axes.push(new LinearAxis({position:AxisPosition.Bottom})),e}function _createSuperellipseSeries(t,e,r){return new FunctionSeries({fx:xe=>e*Math.sign(Math.cos(xe))*Math.pow(Math.abs(Math.cos(xe)),2/t),fy:xe=>r*Math.sign(Math.sin(xe))*Math.pow(Math.abs(Math.sin(xe)),2/t),t0:0,t1:Math.PI*2,n:101,title:`n=${t}, a=${e}, b=${r}`})}function _createParametricPlot(t,e,r,xe,Se,_e,Ae,Ce){const Pe=new PlotModel({title:_e,subtitle:Ae,plotType:PlotType.Cartesian});return Pe.series.push(new FunctionSeries({fx:t,fy:e,t0:r,t1:xe,n:Se,title:Ce})),Pe}const category$h="FunctionSeries",FunctionSeriesExamples={category:category$h,tags:["Series"],examples:[{title:"Square wave",example:{model:squareWave}},{title:"Parametric function 1",example:{model:clover}},{title:"Parametric function 2",example:{model:parametricFunction2}},{title:"Parametric function 3",example:{model:parametricFunction3}},{title:"Lemniscate of Bernoulli",example:{model:lemniscateOfBernoulli}},{title:"Lemniscate of Gerono",example:{model:lemniscateOfGerono}},{title:"Lissajous figure",example:{model:lissajousFigure}},{title:"Rose curve",example:{model:roseCurve}},{title:"Limaon of Pascal",example:{model:limaconOfPascal}},{title:"Folium of Descartes",example:{model:descartesFolium}},{title:"Trisectrix of Maclaurin",example:{model:trisectrixOfMaclaurin}},{title:"Fermat's spiral",example:{model:fermatsSpiral}},{title:"Fish curve",example:{model:fishCurve}},{title:"Heaviside step function",example:{model:heavisideStepFunction}},{title:"FunctionSeries",example:{model:functionSeries}},{title:"Squirqle",example:{model:squirqle}},{title:"Superellipse n=20",example:{model:superellipse20}},{title:"Lam curves",example:{model:lameCurves}}]};function exponentialDistribution(){return createExponentialDistribution()}function exponentialDistributionLogarithmicAxis(){return createExponentialDistribution(!0)}function exponentialDistributionLogarithmicAxisWithBaseValue(){return createExponentialDistribution(!0,1,1e4,.1)}function histogramLabelPlacement(){const t=new PlotModel({title:"Label Placement"}),e=new HistogramSeries({labelPlacement:LabelPlacement.Base,labelStringFormatter:_e=>"Base",strokeThickness:1,labelMargin:5}),r=new HistogramSeries({labelPlacement:LabelPlacement.Inside,labelStringFormatter:_e=>"Inside",strokeThickness:1,labelMargin:5}),xe=new HistogramSeries({labelPlacement:LabelPlacement.Middle,labelStringFormatter:_e=>"Middle",strokeThickness:1,labelMargin:5}),Se=new HistogramSeries({labelPlacement:LabelPlacement.Outside,labelStringFormatter:_e=>"Outside",strokeThickness:1,labelMargin:5});return e.items.push(newHistogramItem(1,2,4,4)),e.items.push(newHistogramItem(2,3,-4,4)),r.items.push(newHistogramItem(3,4,2,2)),r.items.push(newHistogramItem(4,5,-2,2)),xe.items.push(newHistogramItem(5,6,3,3)),xe.items.push(newHistogramItem(6,7,-3,3)),Se.items.push(newHistogramItem(7,8,1,1)),Se.items.push(newHistogramItem(8,9,-1,-1)),t.series.push(e),t.series.push(r),t.series.push(xe),t.series.push(Se),t}function labelPlacementReversed(){const t=histogramLabelPlacement();return PlotModelUtilities.reverseYAxis(t),t}function labelFormatString$1(){const t=createDisconnectedBins(),e=t.series[0];return e.labelStringFormatter=function(r){return console.log("item",r),`Start: ${r.rangeStart.toFixed(2)}
End: ${r.rangeEnd.toFixed(2)}
Value: ${r.value.toFixed(2)}
Area: ${r.area.toFixed(2)}
Count: ${r.count}`},e.labelPlacement=LabelPlacement.Inside,t}function customBins(){return createExponentialDistributionCustomBins()}function disconnectedBins(){return createDisconnectedBins()}function normalDistribution(){return createNormalDistribution()}function individualBinColors(){return createIndividualBinColors()}function customItemMapping(){const t=new PlotModel({title:"Custom Item Mapping"}),e=new HistogramSeries({mapping:r=>r,trackerStringFormatter:function(r){return r.item.description}});return e.items.push(newCustomHistogramItem(1,2,4,4,"Item 1")),e.items.push(newCustomHistogramItem(2,3,-4,4,"Item 2")),e.items.push(newCustomHistogramItem(3,4,2,2,"Item 3")),e.items.push(newCustomHistogramItem(4,5,-2,2,"Item 4")),t.series.push(e),t}function newCustomHistogramItem(t,e,r,xe,Se){const _e=newHistogramItem(t,e,r,xe);return _e.description=Se,_e}function createExponentialDistribution(t=!1,e=1,r=1e4,xe=0){const Se=new PlotModel({title:t?"Exponential Distribution (logarithmic)":"Exponential Distribution",subtitle:`Uniformly distributed bins (${r} samples)`});Se.axes.push(t?new LogarithmicAxis({position:AxisPosition.Left,title:"Frequency"}):new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),Se.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const _e=new Random(1),Ae=new HistogramSeries,Ce=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),Pe=HistogramHelpers.createUniformBins(0,5,15);return Ae.items.push(...HistogramHelpers.collect(sampleExps(_e,e,r),Pe,Ce)),Ae.strokeThickness=1,Ae.baseValue=xe,Ae.negativeFillColor=OxyColors.Red,Se.series.push(Ae),Se}function createExponentialDistributionCustomBins(t=1,e=5e4){const r=new PlotModel({title:"Exponential Distribution",subtitle:`Custom bins (${e} samples)`});r.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),r.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const xe=new Random(1),Se=new HistogramSeries,_e=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues);return Se.items.push(...HistogramHelpers.collect(sampleExps(xe,t,e),[0,.1,.2,.3,.4,.5,.75,1,2,3,4,5],_e)),Se.strokeThickness=1,Se.fillColor=OxyColors.Purple,r.series.push(Se),r}function createNormalDistribution(t=0,e=1,r=1e6){const xe=new PlotModel({title:`Normal Distribution (=${t}, =${e})`,subtitle:`95% of the distribution (${r} samples)`});xe.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),xe.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const Se=new Random(1),_e=new HistogramSeries,Ae=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),Ce=HistogramHelpers.createUniformBins(-e*4,e*4,100);_e.items.push(...HistogramHelpers.collect(sampleNormal(Se,t,e,r),Ce,Ae)),_e.strokeThickness=1;const Pe=t+1.96*e,Ee=t-1.96*e,Oe=OxyColors.DarkRed,Me=OxyColors.DarkRed;return _e.colorMapping=De=>{const Te=HistogramItemEx.from(De).center;return Te>Pe?Oe:Te<Ee?Me:_e.actualFillColor},xe.series.push(_e),xe}function createDisconnectedBins(){const t=new PlotModel({title:"Disconnected Bins"});t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Representation"})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const e=new HistogramSeries;return e.items.push(newHistogramItem(0,.5,10,7),newHistogramItem(.75,1,10,7)),e.labelStringFormatter=r=>HistogramItemEx.from(r).value.toFixed(2),e.labelPlacement=LabelPlacement.Middle,t.series.push(e),t}function createIndividualBinColors(t=1,e=1e4){const r=new PlotModel({title:"Individual Bin Colors",subtitle:"Minimum is Red, Maximum is Green"});r.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),r.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Observation"}));const xe=new Random(1),Se=new HistogramSeries({fillColor:OxyColors.Gray,renderInLegend:!0,title:"Measurements"}),_e=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),Ae=HistogramHelpers.createUniformBins(0,10,20),Ce=HistogramHelpers.collect(sampleUniform(xe,0,10,1e3),Ae,_e).sort((Pe,Ee)=>Pe.count-Ee.count);return Ce[0].color=OxyColors.Red,Ce[Ce.length-1].color=OxyColors.Green,Se.items.push(...Ce),Se.strokeThickness=1,r.series.push(Se),r}function sampleExps(t,e,r){const xe=[];for(let Se=0;Se<r;Se++)xe.push(sampleExp(t,e));return xe}function sampleExp(t,e){return Math.log(1-t.next())/-e}function sampleNormal(t,e,r,xe){const Se=[];for(let _e=0;_e<xe;_e++)Se.push(sampleNormalSingle(t,e,r));return Se}function sampleNormalSingle(t,e,r){const xe=1-t.next(),Se=t.next();return Math.sqrt(-2*Math.log(xe))*Math.cos(2*Math.PI*Se)*r+e}function sampleUniform(t,e,r,xe){const Se=[];for(let _e=0;_e<xe;_e++)Se.push(t.next()*(r-e)+e);return Se}const category$g="HistogramSeries",HistogramSeriesExamples={category:category$g,tags:["Series"],examples:[{title:"Exponential Distribution",example:{model:exponentialDistribution}},{title:"Exponential Distribution (logarithmic)",example:{model:exponentialDistributionLogarithmicAxis}},{title:"Exponential Distribution (logarithmic,with BaseValue)",example:{model:exponentialDistributionLogarithmicAxisWithBaseValue}},{title:"Label Placement",example:{model:histogramLabelPlacement}},{title:"Label Placement (reversed Y Axis)",example:{model:labelPlacementReversed}},{title:"Label formatter",example:{model:labelFormatString$1}},{title:"Custom Bins",example:{model:customBins}},{title:"Disconnected Bins",example:{model:disconnectedBins}},{title:"Normal Distribution Three Colors",example:{model:normalDistribution}},{title:"Individual Bin Colors",example:{model:individualBinColors}},{title:"Custom Item Mapping",example:{model:customItemMapping}}]};function intervalBarSeries(){const t=new PlotModel({title:"IntervalBarSeries"}),e=new Legend({legendPlacement:LegendPlacement.Outside});t.legends.push(e);const r=new IntervalBarSeries({title:"IntervalBarSeries 1"});r.items.push(newIntervalBarItem({start:6,end:8})),r.items.push(newIntervalBarItem({start:4,end:8})),r.items.push(newIntervalBarItem({start:5,end:11})),r.items.push(newIntervalBarItem({start:4,end:12})),t.series.push(r);const xe=new IntervalBarSeries({title:"IntervalBarSeries 2"});xe.items.push(newIntervalBarItem({start:8,end:9})),xe.items.push(newIntervalBarItem({start:8,end:10})),xe.items.push(newIntervalBarItem({start:11,end:12})),xe.items.push(newIntervalBarItem({start:12,end:12.5})),t.series.push(xe);const Se=new CategoryAxis({position:AxisPosition.Left});Se.labels.push("Activity A"),Se.labels.push("Activity B"),Se.labels.push("Activity C"),Se.labels.push("Activity D");const _e=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1});return t.axes.push(Se),t.axes.push(_e),t}function intervalBarSeriesWithLabels(){const t=new PlotModel({title:"IntervalBarSeries"}),e=new Legend({legendPlacement:LegendPlacement.Outside});t.legends.push(e);const r=new IntervalBarSeries({title:"IntervalBarSeries 1",labelPlacement:LabelPlacement.Outside});r.items.push(newIntervalBarItem({start:6,end:8,categoryIndex:0})),r.items.push(newIntervalBarItem({start:10,end:12,categoryIndex:0})),t.series.push(r);const xe=new IntervalBarSeries({title:"IntervalBarSeries 2",labelPlacement:LabelPlacement.Inside});xe.items.push(newIntervalBarItem({start:4,end:8,categoryIndex:1})),xe.items.push(newIntervalBarItem({start:10,end:12,categoryIndex:1})),t.series.push(xe);const Se=new IntervalBarSeries({title:"IntervalBarSeries 3",labelPlacement:LabelPlacement.Middle});Se.items.push(newIntervalBarItem({start:5,end:11,categoryIndex:2})),Se.items.push(newIntervalBarItem({start:13,end:17,categoryIndex:2})),t.series.push(Se);const _e=new IntervalBarSeries({title:"IntervalBarSeries 4",labelPlacement:LabelPlacement.Base,textColor:OxyColors.White});_e.items.push(newIntervalBarItem({start:4,end:12,categoryIndex:3})),_e.items.push(newIntervalBarItem({start:13,end:17,categoryIndex:3})),t.series.push(_e);const Ae=new IntervalBarSeries({title:"IntervalBarSeries 5",labelPlacement:LabelPlacement.Outside,labelAngle:-45});Ae.items.push(newIntervalBarItem({start:6,end:8,categoryIndex:4})),Ae.items.push(newIntervalBarItem({start:10,end:12,categoryIndex:4})),t.series.push(Ae);const Ce=new IntervalBarSeries({title:"IntervalBarSeries 6",labelPlacement:LabelPlacement.Inside,labelAngle:-45});Ce.items.push(newIntervalBarItem({start:4,end:8,categoryIndex:5})),Ce.items.push(newIntervalBarItem({start:10,end:12,categoryIndex:5})),t.series.push(Ce);const Pe=new IntervalBarSeries({title:"IntervalBarSeries 7",labelPlacement:LabelPlacement.Middle,labelAngle:-45});Pe.items.push(newIntervalBarItem({start:5,end:11,categoryIndex:6})),Pe.items.push(newIntervalBarItem({start:13,end:17,categoryIndex:6})),t.series.push(Pe);const Ee=new IntervalBarSeries({title:"IntervalBarSeries 8",labelPlacement:LabelPlacement.Base,labelAngle:-45});Ee.items.push(newIntervalBarItem({start:4,end:12,categoryIndex:7})),Ee.items.push(newIntervalBarItem({start:13,end:17,categoryIndex:7})),t.series.push(Ee);const Oe=new CategoryAxis({key:"CategoryAxis",position:AxisPosition.Left,startPosition:1,endPosition:0});Oe.labels.push("Label Outside"),Oe.labels.push("Label Inside"),Oe.labels.push("Label Middle"),Oe.labels.push("Label Base"),Oe.labels.push("Label Outside (angled)"),Oe.labels.push("Label Inside (angled)"),Oe.labels.push("Label Middle (angled)"),Oe.labels.push("Label Base (angled)");const Me=new LinearAxis({key:"ValueAxis",position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1});return t.axes.push(Oe),t.axes.push(Me),t}const category$f="IntervalBarSeries",IntervalBarSeriesExamples={category:category$f,tags:["Series"],examples:[{title:"IntervalBarSeries",example:{model:intervalBarSeries}},{title:"IntervalBarSeries with various label types",example:{model:intervalBarSeriesWithLabels}}]};function defaultStyle$1(){const t=new PlotModel({title:"LinearBarSeries with default style"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=_createExampleLinearBarSeries();return e.title="LinearBarSeries",t.series.push(e),t}function withStroke(){const t=new PlotModel({title:"LinearBarSeries with stroke"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=_createExampleLinearBarSeries();return e.title="LinearBarSeries",e.fillColor=OxyColorHelper.parse("#454CAF50"),e.strokeColor=OxyColorHelper.parse("#4CAF50"),e.strokeThickness=1,t.series.push(e),t}function withNegativeColors(){return _createWithNegativeColors()}function withNegativeColorsLogarithmic(){return _createWithNegativeColors(!0)}function withBaseValue(){return _createWithNegativeColors(void 0,50)}function withBaseValueLogarithmic(){return _createWithNegativeColors(!0,50)}function _createWithNegativeColors(t=!1,e=0){const r=new PlotModel({title:t?"LinearBarSeries with stroke (logarithmic)":"LinearBarSeries with stroke"});r.axes.push(new LinearAxis({position:AxisPosition.Bottom})),r.axes.push(t?new LogarithmicAxis({position:AxisPosition.Left}):new LinearAxis({position:AxisPosition.Left}));const xe=_createExampleLinearBarSeriesWithNegativeValues();return xe.title="LinearBarSeries",xe.fillColor=OxyColorHelper.parse("#454CAF50"),xe.strokeColor=OxyColorHelper.parse("#4CAF50"),xe.negativeFillColor=OxyColorHelper.parse("#45BF360C"),xe.negativeStrokeColor=OxyColorHelper.parse("#BF360C"),xe.strokeThickness=1,xe.baseValue=e,r.series.push(xe),r}function _createExampleLinearBarSeries(){const t=new LinearBarSeries,e=new Random;let r=e.next(10,31);for(let xe=0;xe<=50;xe++)t.points.push(newDataPoint(xe,r)),r+=e.next(-5,5);return t}function _createExampleLinearBarSeriesWithNegativeValues(){const t=new LinearBarSeries,e=new Random;for(let r=0;r<=50;r++){const xe=-200+e.next(0,1e3);t.points.push(newDataPoint(r,xe))}return t}const category$e="LinearBarSeries",LinearBarSeriesExamples={category:category$e,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle$1}},{title:"With stroke",example:{model:withStroke}},{title:"With negative colors",example:{model:withNegativeColors}},{title:"With negative colors (logaritmic)",example:{model:withNegativeColorsLogarithmic}},{title:"With BaseValue",example:{model:withBaseValue}},{title:"With BaseValue (Logarithmic)",example:{model:withBaseValueLogarithmic}}]};function defaultStyle(){const t=new PlotModel({title:"LineSeries with default style"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=createExampleLineSeries();return e.title="LineSeries 1",t.series.push(e),t}function customStyle(){const t=new PlotModel({title:"LineSeries with custom style"}),e=new Legend({legendSymbolLength:24});t.legends.push(e),t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const r=createExampleLineSeries();return r.title="LineSeries 1",r.toolTip="This is a tooltip for a LineSeries 1",r.color=OxyColors.SkyBlue,r.strokeThickness=3,r.lineStyle=LineStyle.Dash,r.markerType=MarkerType.Circle,r.markerSize=5,r.markerStroke=OxyColors.White,r.markerFill=OxyColors.SkyBlue,r.markerStrokeThickness=1.5,t.series.push(r),t}function twoLineSeries(){const t=new PlotModel({title:"Two LineSeries"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=createExampleLineSeries();e.title="LineSeries 1",t.series.push(e);const r=createExampleLineSeries(41);return r.title="LineSeries 2",t.series.push(r),t}function isVisibleFalse(){const t=new PlotModel({title:"LineSeries with IsVisible = false",subtitle:"Click to change the IsVisible property for LineSeries 2"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:50}));const e=createExampleLineSeries(38);e.title="LineSeries 1",t.series.push(e);const r=createExampleLineSeries(39);return r.title="LineSeries 2",r.isVisible=!1,t.series.push(r),t.mouseDown=(xe,Se)=>{r.isVisible=!r.isVisible,t.invalidatePlot(!0)},t}function trackerFormatString$1(){const t=new PlotModel({title:"LineSeries with custom TrackerFormatString",subtitle:'TrackerFormatString = "X={2:0.0} Y={4:0.0}"'});t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left}));const e=createExampleLineSeries();return e.trackerStringFormatter=function(r){return"X="+r.xValue.toFixed(1)+" Y="+r.yValue.toFixed(1)},t.series.push(e),t}function customMarkers(){const t=new PlotModel({title:"LineSeries with custom markers"}),e=new Legend({legendSymbolLength:30});t.legends.push(e);const r=6,xe=[];for(let _e=0;_e<r;_e++){const Ae=Math.PI*(4*_e/(r-1)-.5),Ce=1;xe[_e]=newScreenPoint(Math.cos(Ae)*Ce,Math.sin(Ae)*Ce)}const Se=createExampleLineSeries(39);return Se.title="LineSeries 1",Se.markerType=MarkerType.Custom,Se.markerSize=8,Se.markerOutline=xe,t.series.push(Se),t}function markerTypes$1(){const t=createModel("LineSeries with different MarkerType",MarkerType.Custom),e=new Legend({legendBackground:OxyColorHelper.fromAColor(220,OxyColors.White),legendBorder:OxyColors.Black,legendBorderThickness:1});t.legends.push(e);let r=0;for(const xe of t.series){const Se=xe;Se.color=OxyColors.Red,Se.markerStroke=OxyColors.Black,Se.markerFill=OxyColors.Green,Se.markerType=r++,Se.title=MarkerType[Se.markerType]}return t}function labels(){const t=new PlotModel({title:"LineSeries with labels",subtitle:"Use the 'labelFormatString' property"}),e=new Legend({legendSymbolLength:24});t.legends.push(e),t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t.axes.push(new LinearAxis({position:AxisPosition.Left,maximumPadding:.1}));const r=createExampleLineSeries();return r.labelStringFormatter=(xe,Se)=>Se[1].toString(),r.markerType=MarkerType.Circle,t.series.push(r),t}function lineStyles(){const t=createModel("LineSeries with LineStyle",LineStyle.None),e=new Legend({legendPlacement:LegendPlacement.Outside,legendSymbolLength:50});t.legends.push(e);let r=0;for(const xe of t.series){const Se=xe;Se.color=OxyColors.Red,Se.lineStyle=r++,Se.title=LineStyle[Se.lineStyle]}return t}function smooth(){const t=new PlotModel({title:"LineSeries with interpolation",subtitle:"InterpolationAlgorithm = CanonicalSpline"}),e=new Legend({legendSymbolLength:24});t.legends.push(e);const r=createExampleLineSeries();return r.markerType=MarkerType.Circle,r.interpolationAlgorithm=InterpolationAlgorithms.CanonicalSpline,t.series.push(r),t}function customLineLegendPosition(){const t=new PlotModel({title:"LineSeries with LineLegendPosition"});t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.05,maximumPadding:.05})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:.05,maximumPadding:.05}));const e=createExampleLineSeries();e.title="Start",e.markerType=MarkerType.Circle,e.lineLegendPosition=LineLegendPosition.Start,t.series.push(e);const r=createExampleLineSeries(41);return r.title="End",r.markerType=MarkerType.Circle,r.lineLegendPosition=LineLegendPosition.End,t.series.push(r),t}function customLineLegendPositionReversed(){return PlotModelUtilities.reverseXAxis(customLineLegendPosition())}function brokenLine(){const t=new PlotModel({title:"LineSeries with broken lines"}),e=createExampleLineSeries();e.points[3]=DataPoint_Undefined,e.points[7]=DataPoint_Undefined,e.brokenLineColor=OxyColors.Gray,e.brokenLineThickness=.5,e.brokenLineStyle=LineStyle.Solid,t.series.push(e);const r=createExampleLineSeries(49);return r.points[3]=DataPoint_Undefined,r.points[7]=DataPoint_Undefined,r.brokenLineColor=OxyColors.Automatic,r.brokenLineThickness=1,r.brokenLineStyle=LineStyle.Dot,t.series.push(r),t}function withoutDecimator(){const t=new PlotModel({title:"LineSeries without Decimator"}),e=createSeriesSuitableForDecimation();return t.series.push(e),t}function withXDecimator(){const t=new PlotModel({title:"LineSeries with X Decimator"}),e=createSeriesSuitableForDecimation();return e.decimator=Decimator.decimate,t.series.push(e),t}function canonicalSplineInterpolation(){const t=createRandomPoints();return new PlotModel({title:"Canonical spline interpolation",series:[new LineSeries({itemsSource:t,title:"Default (0.5)",interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,markerType:MarkerType.Circle,markerFill:OxyColors.Black}),new LineSeries({itemsSource:t,title:"0.1",interpolationAlgorithm:new CanonicalSpline(.1)}),new LineSeries({itemsSource:t,title:"1.0",interpolationAlgorithm:new CanonicalSpline(1)})]})}function catmullRomInterpolation(){const t=createRandomPoints();return new PlotModel({title:"Catmull-Rom interpolation",series:[new LineSeries({itemsSource:t,title:"Standard",interpolationAlgorithm:InterpolationAlgorithms.CatmullRomSpline,markerType:MarkerType.Circle,markerFill:OxyColors.Black}),new LineSeries({itemsSource:t,title:"Chordal",interpolationAlgorithm:InterpolationAlgorithms.ChordalCatmullRomSpline}),new LineSeries({itemsSource:t,title:"Uniform",interpolationAlgorithm:InterpolationAlgorithms.UniformCatmullRomSpline})]})}function markerColorOptions(){createRandomPoints();const t=new PlotModel({title:"Marker color options"}),e=createExampleLineSeries(1);e.markerType=MarkerType.Circle,t.series.push(e);const r=createExampleLineSeries(4);r.markerType=MarkerType.Square,r.color=OxyColors.LightBlue,t.series.push(r);const xe=createExampleLineSeries(13);xe.markerType=MarkerType.Square,xe.markerFill=OxyColors.Black,t.series.push(xe);const Se=createExampleLineSeries(5);return Se.markerType=MarkerType.Square,Se.markerFill=OxyColors.OrangeRed,Se.color=OxyColors.Orange,t.series.push(Se),t}function createRandomPoints(t=50){const e=new Random,r=[];for(let xe=0;xe<t;xe++)xe<5?r.push(newDataPoint(xe,0)):xe<10?r.push(newDataPoint(xe,1)):xe<12?r.push(newDataPoint(xe,0)):r.push(newDataPoint(xe,e.next()));return r}function createExampleLineSeries(t=13){const e=new LineSeries,r=new Random(t);let xe=r.next(10,30);for(let Se=0;Se<=100;Se+=10)e.points.push(newDataPoint(Se,xe)),xe+=r.next(-5,5);return e}function createModel(t,e=20){const r=new PlotModel({title:t});for(let xe=1;xe<=e;xe++){const Se=new LineSeries({title:"Series "+xe});r.series.push(Se);for(let _e=0;_e<2*Math.PI;_e+=.1)Se.points.push(newDataPoint(_e,Math.sin(_e*xe)/(xe+1)+xe))}return r}function createSeriesSuitableForDecimation(){const t=new LineSeries,e=2e4;for(let r=0;r<e;r++)t.points.push(newDataPoint(r/e,Math.sin(r)));return t}const category$d="LineSeries",LineSeriesExamples={category:category$d,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle}},{title:"Custom style",example:{model:customStyle}},{title:"Two LineSeries",example:{model:twoLineSeries}},{title:"Visibility",example:{model:isVisibleFalse}},{title:"Custom TrackerFormatString",example:{model:trackerFormatString$1}},{title:"Custom markers",example:{model:customMarkers}},{title:"Marker types",example:{model:markerTypes$1}},{title:"Labels",example:{model:labels}},{title:"LineStyle",example:{model:lineStyles}},{title:"Interpolation",example:{model:smooth}},{title:"LineLegendPosition",example:{model:customLineLegendPosition}},{title:"LineLegendPosition (reversed X Axis)",example:{model:customLineLegendPositionReversed}},{title:"Broken lines",example:{model:brokenLine}},{title:"Without Decimator",example:{model:withoutDecimator}},{title:"With X Decimator",example:{model:withXDecimator}},{title:"Canonical spline interpolation",example:{model:canonicalSplineInterpolation}},{title:"Catmull-Rom interpolation",example:{model:catmullRomInterpolation}},{title:"Marker color options",example:{model:markerColorOptions}}]};function pieSeries(){return createExample()}function insideLabelColor(){const t=createExample(),e=t.series[0];return e.insideLabelColor=OxyColors.White,t}function doughnut(){const t=createExample(),e=t.series[0];return e.insideLabelColor=OxyColors.White,e.innerDiameter=.5,t}function createExample(){const t=new PlotModel({title:"World population by continent"}),e=new PieSeries({strokeThickness:2,insideLabelPosition:.8,angleSpan:360,startAngle:0,innerDiameter:.5});return e.slices.push({label:"Africa",value:1030,isExploded:!0}),e.slices.push({label:"Americas",value:929,isExploded:!0}),e.slices.push({label:"Asia",value:4157}),e.slices.push({label:"Europe",value:739,isExploded:!0}),e.slices.push({label:"Oceania",value:35,isExploded:!0}),t.series.push(e),t}const category$c="PieSeries",PieSeriesExamples={category:category$c,tags:["Series"],examples:[{title:"PieSeries",example:{model:pieSeries}},{title:"PieSeries with inside label color",example:{model:insideLabelColor}},{title:"Doughnut Chart",example:{model:doughnut}}]};function polygonSeries(){const t=new PlotModel({title:"Polygon Series",plotType:PlotType.Cartesian});t.axes.push(new LinearColorAxis);const e=new PolygonSeries,r=[];for(let xe=0;xe<5;xe++)e.items.push(newPolygonItem(regularPolygon(newDataPoint(xe*5,0),2,3+xe),xe)),r.push(regularPolygon(newDataPoint(xe*5,5),2,3+xe));return e.items.push(newPolygonItem(r,10)),t.series.push(e),t}function hexGrid(){const t=new PlotModel({title:"Hexagonal Grid"});t.axes.push(new LinearColorAxis({position:AxisPosition.Right}));const e=Ae=>Math.sin(Ae.x/5)+Math.sqrt(Ae.y),r=1,xe=r*2-Math.cos(Math.PI/3)*r,Se=Math.sin(Math.PI/3)*r*2,_e=new PolygonSeries({stroke:OxyColors.Black,strokeThickness:1});for(let Ae=0;Ae<40;Ae++)for(let Ce=0;Ce<40;Ce++){const Pe=Ae%2===0?0:Se/2,Ee=newDataPoint(Ae*xe,Ce*Se+Pe);_e.items.push(newPolygonItem(regularPolygon(Ee,r,6),e(Ee)))}return t.series.push(_e),t}function regularPolygon(t,e,r){const xe=new Array(r);for(let Se=0;Se<xe.length;Se++){const _e=Math.PI*2*Se/xe.length,Ae=Math.cos(_e)*e,Ce=Math.sin(_e)*e;xe[Se]=newDataPoint(t.x+Ae,t.y+Ce)}return xe}const category$b="PolygonSeries",PolygonSeriesExamples={category:category$b,tags:["Series"],examples:[{title:"PolygonSeries",example:{model:polygonSeries}},{title:"Hexagonal Grid",example:{model:hexGrid}}]};function rectangleBarSeries(){const t=new PlotModel({title:"RectangleBarSeries"}),e=new Legend({legendPlacement:LegendPlacement.Outside});t.legends.push(e);const r=new RectangleBarSeries({title:"RectangleBarSeries 1"}),xe=_e=>(_e.color||(_e.color=OxyColors.Automatic),_e);r.items.push(xe({x0:2,x1:8,y0:1,y1:4})),r.items.push(xe({x0:6,x1:12,y0:6,y1:7})),t.series.push(r);const Se=new RectangleBarSeries({title:"RectangleBarSeries 2"});return Se.items.push(xe({x0:2,x1:8,y0:-4,y1:-1})),Se.items.push(xe({x0:6,x1:12,y0:-7,y1:-6})),t.series.push(Se),t}const category$a="RectangleBarSeries",RectangleBarSeriesExamples={category:category$a,tags:["Series"],examples:[{title:"RectangleBarSeries",example:{model:rectangleBarSeries}}]};function fromItems$1(){const e=new PlotModel({title:"RectangleSeries"});e.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(100)}));const r=new RectangleSeries({labelFontSize:12});for(let xe=9;xe>=0;xe--)r.items.push(newRectangleItem(-xe*.5,xe*.5,xe*xe,xe*(xe+3),xe));return e.series.push(r),e}function fromItemsSource$1(){const e=new PlotModel({title:"RectangleSeries"});e.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(100)}));const r=[];for(let xe=0;xe<10;xe++)r.push({x:xe,value:xe});return e.series.push(new RectangleSeries({itemsSource:r,mapping:xe=>{const Se=xe;return newRectangleItem(Se.x,Se.x*2,Se.x,Se.x*2,Se.value)}})),e}const category$9="RectangleSeries",RectangleSeriesExamples={category:category$9,tags:["Series"],examples:[{title:"RectangleSeries",example:{model:fromItems$1}},{title:"RectangleSeries from ItemsSource and Mapping",example:{model:fromItemsSource$1}}]};function correlatedScatter(){return createCorrelatedScatter(1e3)}function randomScatter1(){return randomScatter(32768,0)}function randomScatter2(){return randomScatter(32768,2)}function randomScatter4(){return randomScatter(32768,4)}function randomScatter6(){return randomScatter(32768,6)}function randomScatter8(){return randomScatter(32768,8)}function randomScatter10(){return randomScatter(32768,10)}function twoScatterSeries(){const t=new PlotModel({title:"Two ScatterSeries (with and without values)",subtitle:"With values (squares), without values (triangles)"}),e=new LinearColorAxis({position:AxisPosition.Right,key:"ColorAxis",palette:OxyPalettes.jet(30),minimum:-1,maximum:1});return t.axes.push(e),t.series.push(createRandomScatterSeries(50,MarkerType.Triangle,!1,!1,void 0)),t.series.push(createRandomScatterSeries(50,MarkerType.Square,!1,!0,e)),t}function labelFormatString(){const t=new PlotModel({title:"ScatterSeries with LabelFormatString"}),e=createRandomScatterSeries(50,MarkerType.Square,!1,!1,void 0);return e.labelStringFormatter=(r,xe)=>round(xe[1],3).toString(),t.series.push(e),t}function createRandomScatterSeries(t,e,r,xe,Se){const _e=new ScatterSeries({markerType:e,markerSize:6,colorAxisKey:Se!==void 0?Se.key:void 0}),Ae=new Random;for(let Ce=0;Ce<t;Ce++){let Pe;r&&(Pe=Ae.next()*5+5);let Ee;xe&&(Ee=Ae.next()*2.2-1.1);const Oe={x:Ae.next()*2.2-1.1,y:Ae.next(),size:Pe,value:Ee};_e.points.push(Oe)}return _e}function randomSize(){return createRandomSizeModel(1e3,8)}function createRandomSizeModel(t,e){const r=new PlotModel({title:`ScatterSeries with random MarkerSize (n=${t})`,subtitle:`BinSize = ${e}`}),xe=new ScatterSeries({title:"Series 1",markerStrokeThickness:0,binSize:e}),Se=new Random;for(let _e=0;_e<t;_e++)xe.points.push({x:Se.next(),y:Se.next(),size:4+10*Se.next()});return r.series.push(xe),r}function randomWithFit(){const e=new PlotModel({title:"Random data (n=20)"}),r=new Legend({legendPosition:LegendPosition.LeftTop});e.legends.push(r);const xe=new ScatterSeries({title:"Measurements"}),Se=new Random;let _e=0,Ae=0;for(let Ee=0;Ee<20;Ee++){_e+=2+Se.next()*10,Ae+=1+Se.next();const Oe={x:_e,y:Ae};xe.points.push(Oe)}e.series.push(xe);const[Ce,Pe]=leastSquaresFit(xe.points);return e.annotations.push(new LineAnnotation({slope:Ce,intercept:Pe,text:"Least squares fit"})),e}function leastSquaresFit(t){let e=0,r=0,xe=0,Se=0,_e=0;for(const Ee of t)e+=Ee.x,r+=Ee.y,xe+=Ee.x*Ee.y,Se+=Ee.x*Ee.x,_e++;const Ae=e*e-_e*Se,Ce=1/Ae*(e*r-_e*xe),Pe=1/Ae*(e*xe-Se*r);return[Ce,Pe]}function markerTypes(){const t=new PlotModel({title:"Marker types"}),e=new Random;return t.series.push(createRandomScatterSeriesWithMarker(e,10,"Circle",MarkerType.Circle)),t.series.push(createRandomScatterSeriesWithMarker(e,10,"Cross",MarkerType.Cross)),t.series.push(createRandomScatterSeriesWithMarker(e,10,"Diamond",MarkerType.Diamond)),t.series.push(createRandomScatterSeriesWithMarker(e,10,"Plus",MarkerType.Plus)),t.series.push(createRandomScatterSeriesWithMarker(e,10,"Square",MarkerType.Square)),t.series.push(createRandomScatterSeriesWithMarker(e,10,"Star",MarkerType.Star)),t.series.push(createRandomScatterSeriesWithMarker(e,10,"Triangle",MarkerType.Triangle)),t}function dataPoints(){const t=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are added to the Points collection."}),e=new ScatterSeries;return e.points.push(...createRandomScatterPoints(1e3)),t.series.push(e),t}function fromItemsSource(){const t=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined in the ItemsSource property."});return t.series.push(new ScatterSeries({itemsSource:createRandomScatterPoints(1e3)})),t}function fromMapping(){const t=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by a mapping from the ItemsSource."});return t.series.push(new ScatterSeries({itemsSource:createRandomDataPoints(1e3),mapping:e=>e})),t}function fromItemsSourceReflection(){const t=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by reflection from the ItemsSource."});return t.series.push(new ScatterSeries({itemsSource:createRandomDataPoints(1e3),dataFieldX:"x",dataFieldY:"y"})),t}function colorMapRainbow16(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.rainbow(16),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapHue30(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hue(30),MarkerType.Star,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapHot64(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hot(64),MarkerType.Triangle,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapCool32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.cool(32),MarkerType.Circle,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapGray32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.gray(32),MarkerType.Diamond,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapJet32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.jet(32),MarkerType.Plus,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapHot64Extreme(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hot(64),MarkerType.Square,AxisPosition.Right,OxyColors.Magenta,OxyColors.Green)}function colorMapHot64ExtremeTopLegend(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hot(64),MarkerType.Cross,AxisPosition.Top,OxyColors.Magenta,OxyColors.Green)}function colorMapHot16Big(){return createRandomScatterSeriesWithColorAxisPlotModel(31e3,OxyPalettes.hot(16),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlueWhiteRed3(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blueWhiteRed(3),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlueWhiteRed9(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blueWhiteRed(9),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlueWhiteRed256(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blueWhiteRed(256),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlackWhiteRed9(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blackWhiteRed(9),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlackWhiteRed9TopLegend(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blackWhiteRed(9),MarkerType.Square,AxisPosition.Top,OxyColors.Undefined,OxyColors.Undefined)}function colorMapViridis(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.viridis(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapPlasma(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.plasma(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapMagma(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.magma(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapInferno(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.inferno(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapCividis(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.cividis(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function singleSelectItems(){const t=randomScatter(10,8);t.subtitle="Click to select a point",t.selectionColor=OxyColors.Red;const e=t.series[0];return e.selectionMode=SelectionMode.Single,e.selectItem(3),e.selectItem(5),e.mouseDown=(r,xe)=>{const Se=xe.hitTestResult.index;e.selectItem(Se),t.invalidatePlot(!1),xe.handled=!0},t.mouseDown=(r,xe)=>{e.clearSelection(),t.invalidatePlot(!1),xe.handled=!0},t}function multiSelectItems(){const t=randomScatter(10,8);t.subtitle="Click to toggle point selection",t.selectionColor=OxyColors.Red;const e=t.series[0];return e.selectionMode=SelectionMode.Multiple,e.selectItem(3),e.selectItem(5),e.mouseDown=(r,xe)=>{const Se=xe.hitTestResult.index;e.isItemSelected(Se)?e.unselectItem(Se):e.selectItem(Se),t.invalidatePlot(!1),xe.handled=!0},t.mouseDown=(r,xe)=>{e.clearSelection(),t.invalidatePlot(!1),xe.handled=!0},t}function allSelected(){return createAllSelectedModel(!1)}function allSelectedWithTracker(){return createAllSelectedModel(!0)}function trackerFormatString(){const t=new PlotModel({title:"TrackerFormatString"}),e=new ScatterSeries({trackerStringFormatter:function(xe){return xe.item.sum.toString()},dataFieldX:"x",dataFieldY:"y"}),r=[new MyPoint(10,40),new MyPoint(40,20),new MyPoint(60,30)];return e.itemsSource=r,t.series.push(e),t}function createAllSelectedModel(t){const e=randomScatter(10,8);e.subtitle="Click to select all points",e.selectionColor=OxyColors.Red;const r=e.series[0];return r.selectionMode=SelectionMode.All,r.mouseDown=(xe,Se)=>{r.select(),e.invalidatePlot(!1),Se.handled=!t},e.mouseDown=(xe,Se)=>{Se.hitTestResult!==void 0&&t||(r.clearSelection(),e.invalidatePlot(!1),Se.handled=!0)},e}class MyPoint{constructor(e,r){this.x=e,this.y=r}get sum(){return this.x+this.y}}function randomScatter(t,e){const r=new PlotModel({title:`ScatterSeries (n=${t})`,subtitle:e>0?`BinSize = ${e}`:"No 'binning'"}),xe=new ScatterSeries({title:"Series 1",markerType:MarkerType.Diamond,markerStrokeThickness:0,binSize:e}),Se=new Random;for(let _e=0;_e<t;_e++)xe.points.push({x:Se.next(),y:Se.next()});return r.series.push(xe),r}function createRandomScatterSeriesWithColorAxisPlotModel(t,e,r,xe,Se,_e){const Ae=new PlotModel({title:`ScatterSeries (n=${t})`,background:OxyColors.LightGray}),Ce=new LinearColorAxis({position:xe,palette:e,minimum:-1,maximum:1,highColor:Se,lowColor:_e});return Ae.axes.push(Ce),Ae.series.push(createRandomScatterSeries(t,r,!1,!0,Ce)),Ae}function createCorrelatedScatter(t){const e=new PlotModel({title:`Correlated ScatterSeries (n=${t})`}),r=new ScatterSeries({title:"Series 1",markerType:MarkerType.Diamond,markerStrokeThickness:0}),xe=new Random;for(let Se=0;Se<t;Se++){const _e=getNormalDistributedValue(xe),Ae=2*_e*_e+getNormalDistributedValue(xe);r.points.push({x:_e,y:Ae})}return e.series.push(r),e}function createRandomScatterSeriesWithMarker(t,e,r,xe){const Se=new ScatterSeries({title:r,markerType:xe,markerStroke:OxyColors.Black,markerStrokeThickness:1});for(let _e=0;_e<e;_e++){const Ae=t.next()*10,Ce=t.next()*10,Pe={x:Ae,y:Ce};Se.points.push(Pe)}return Se}function getNormalDistributedValue(t){const e=t.next(),r=t.next();return Math.sqrt(-2*Math.log(e))*Math.sin(2*Math.PI*r)}function createRandomDataPoints(t){return createRandomScatterPoints(t).map(e=>newDataPoint(e.x,e.y))}function createRandomScatterPoints(t){const e=new Random,r=[];for(let xe=0;xe<t;xe++){const Se=e.next()*10,_e=e.next()*10,Ae={x:Se,y:_e};r.push(Ae)}return r}const category$8="ScatterSeries",ScatterSeriesExamples={category:category$8,tags:["Series"],examples:[{title:"Correlated points",example:{model:correlatedScatter}},{title:"Random points",example:{model:randomScatter1}},{title:"Random points (BinSize=2)",example:{model:randomScatter2}},{title:"Random points (BinSize=4)",example:{model:randomScatter4}},{title:"Random points (BinSize=6)",example:{model:randomScatter6}},{title:"Random points (BinSize=8)",example:{model:randomScatter8}},{title:"Random points (BinSize=10)",example:{model:randomScatter10}},{title:"Two ScatterSeries",example:{model:twoScatterSeries}},{title:"LabelFormatString",example:{model:labelFormatString}},{title:"Random points with random size",example:{model:randomSize}},{title:"Random points with least squares fit",example:{model:randomWithFit}},{title:"Marker types",example:{model:markerTypes}},{title:"ScatterSeries.Points",example:{model:dataPoints}},{title:"ScatterSeries.ItemsSource",example:{model:fromItemsSource}},{title:"ScatterSeries.ItemsSource + Mapping",example:{model:fromMapping}},{title:"ScatterSeries.ItemsSource + reflection",example:{model:fromItemsSourceReflection}},{title:"ScatterSeries with ColorAxis Rainbow(16)",example:{model:colorMapRainbow16}},{title:"ScatterSeries with ColorAxis Hue(30) Star",example:{model:colorMapHue30}},{title:"ScatterSeries with ColorAxis Hot(64)",example:{model:colorMapHot64}},{title:"ScatterSeries with ColorAxis Cool(32)",example:{model:colorMapCool32}},{title:"ScatterSeries with ColorAxis Gray(32)",example:{model:colorMapGray32}},{title:"ScatterSeries with ColorAxis Jet(32)",example:{model:colorMapJet32}},{title:"ScatterSeries with ColorAxis Hot with extreme colors",example:{model:colorMapHot64Extreme}},{title:"ScatterSeries with ColorAxis Hot (top legend)",example:{model:colorMapHot64ExtremeTopLegend}},{title:"ScatterSeries with ColorAxis Hot(16) N=31000",example:{model:colorMapHot16Big}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (3)",example:{model:colorMapBlueWhiteRed3}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (9)",example:{model:colorMapBlueWhiteRed9}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (256)",example:{model:colorMapBlueWhiteRed256}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9)",example:{model:colorMapBlackWhiteRed9}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9) top legend",example:{model:colorMapBlackWhiteRed9TopLegend}},{title:"ScatterSeries with ColorAxis Viridis",example:{model:colorMapViridis}},{title:"ScatterSeries with ColorAxis Plasma",example:{model:colorMapPlasma}},{title:"ScatterSeries with ColorAxis Magma",example:{model:colorMapMagma}},{title:"ScatterSeries with ColorAxis Inferno",example:{model:colorMapInferno}},{title:"ScatterSeries with ColorAxis Cividis",example:{model:colorMapCividis}},{title:"ScatterSeries with single-selected items",example:{model:singleSelectItems}},{title:"ScatterSeries with multi-selected items",example:{model:multiSelectItems}},{title:"ScatterSeries with SelectionMode.All (no tracker)",example:{model:allSelected}},{title:"ScatterSeries with SelectionMode.All (with tracker)",example:{model:allSelectedWithTracker}},{title:"TrackerFormatString",example:{model:trackerFormatString}}]};function stairStepSeries(){return createExampleModel$1(new StairStepSeries)}function stairStepSeriesWithLabels(){return createExampleModel$1(new StairStepSeries({labelStringFormatter:(t,e)=>`${round(e[1],2)}`}))}function stairStepSeriesWithMarkers(){return createExampleModel$1(new StairStepSeries({color:OxyColors.SkyBlue,markerType:MarkerType.Circle,markerSize:6,markerStroke:OxyColors.White,markerFill:OxyColors.SkyBlue,markerStrokeThickness:1.5}))}function stairStepSeriesThinVertical(){return createExampleModel$1(new StairStepSeries({strokeThickness:3,verticalStrokeThickness:.4,markerType:MarkerType.None}))}function stairStepSeriesDashedVertical(){return createExampleModel$1(new StairStepSeries({verticalLineStyle:LineStyle.Dash,markerType:MarkerType.None}))}function stairStepSeriesWithInvalidPoints(){const t=new PlotModel({title:"StairStepSeries with invalid points",subtitle:"Horizontal lines do not continue"});return populateInvalidPointExampleModel(t,e=>DataPoint_Undefined),t}function stairStepSeriesWithInvalidY(){const t=new PlotModel({title:"StairStepSeries with invalid Y",subtitle:"Horizontal lines continue until X of point with invalid Y"});return populateInvalidPointExampleModel(t,e=>newDataPoint(e,NaN)),t}function stairStepSeriesWithNonmonotonicX(){const t=new PlotModel({title:"StairStepSeries with non-monotonic X",subtitle:"Lines form a boxed I-beam"}),e=new StairStepSeries({markerType:MarkerType.Circle,verticalLineStyle:LineStyle.Dash,verticalStrokeThickness:4,points:[newDataPoint(1,1),newDataPoint(3,1),newDataPoint(2,3),newDataPoint(1,3),newDataPoint(3,3)]});t.series.push(e);const r=new StairStepSeries({markerType:MarkerType.Circle,verticalLineStyle:LineStyle.Dash,verticalStrokeThickness:4,points:[newDataPoint(1,0),newDataPoint(2,0),newDataPoint(0,0),newDataPoint(4,0),newDataPoint(4,4)]});t.series.push(r);const xe=new StairStepSeries({markerType:MarkerType.Circle,verticalLineStyle:LineStyle.Dash,verticalStrokeThickness:4,points:[newDataPoint(3,4),newDataPoint(2,4),newDataPoint(4,4),newDataPoint(0,4),newDataPoint(0,0)]});return t.series.push(xe),t}function createExampleModel$1(t){const e=new PlotModel({title:"StairStepSeries"}),r=new Legend({legendSymbolLength:24});e.legends.push(r),t.title="sin(x)";for(let xe=0;xe<Math.PI*2;xe+=.5)t.points.push(newDataPoint(xe,Math.sin(xe)));return e.series.push(t),e}function populateInvalidPointExampleModel(t,e){t.legends.push(new Legend({legendOrientation:LegendOrientation.Horizontal,legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter}));const r=new StairStepSeries({title:"Invalid First Point",markerType:MarkerType.Circle,points:[e(0),newDataPoint(1,3.5),newDataPoint(2,4),newDataPoint(3,4.5)]});t.series.push(r);const xe=new StairStepSeries({title:"Invalid Second Point",markerType:MarkerType.Circle,points:[newDataPoint(0,2),e(1),newDataPoint(2,3),newDataPoint(3,3.5)]});t.series.push(xe);const Se=new StairStepSeries({title:"Invalid Penultimate Point",markerType:MarkerType.Circle,points:[newDataPoint(0,1),newDataPoint(1,1.5),e(2),newDataPoint(3,2.5)]});t.series.push(Se);const _e=new StairStepSeries({title:"Invalid Last Point",markerType:MarkerType.Circle,points:[newDataPoint(0,0),newDataPoint(1,.5),newDataPoint(2,1),e(3)]});t.series.push(_e)}const category$7="StairStepSeries",StairStepSeriesExamples={category:category$7,tags:["Series"],examples:[{title:"StairStepSeries",example:{model:stairStepSeries}},{title:"StairStepSeries with labels",example:{model:stairStepSeriesWithLabels}},{title:"StairStepSeries with markers",example:{model:stairStepSeriesWithMarkers}},{title:"StairStepSeries with thin vertical lines",example:{model:stairStepSeriesThinVertical}},{title:"StairStepSeries with dashed vertical lines",example:{model:stairStepSeriesDashedVertical}},{title:"StairStepSeries with invalid points",example:{model:stairStepSeriesWithInvalidPoints}},{title:"StairStepSeries with invalid Y",example:{model:stairStepSeriesWithInvalidY}},{title:"StairStepSeries with non-monotonic X",example:{model:stairStepSeriesWithNonmonotonicX}}]};function stemSeries(){return createExampleModel(new StemSeries({color:OxyColors.SkyBlue,markerType:MarkerType.Circle,markerSize:6,markerStroke:OxyColors.White,markerStrokeThickness:1.5}))}function createExampleModel(t){const e=new PlotModel({title:"StemSeries"}),r=new Legend({legendSymbolLength:24});e.legends.push(r),t.title="sin(x)";for(let xe=0;xe<Math.PI*2;xe+=.1)t.points.push(newDataPoint(xe,Math.sin(xe)));return e.series.push(t),e}const category$6="StemSeries",StemSeriesExamples={category:category$6,tags:["Series"],examples:[{title:"StemSeries",example:{model:stemSeries}}]};function threeColorLineSeries(){const t=new PlotModel({title:"ThreeColorLineSeries"}),e=new Legend({legendSymbolLength:24});t.legends.push(e);const r=new ThreeColorLineSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:function(Se){return`December ${round(Se.xValue,0)}: ${Se.yValue.toFixed(1)} C`},markerSize:4,markerStroke:OxyColors.Black,markerStrokeThickness:1.5,markerType:MarkerType.Circle,interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,strokeThickness:3}),xe=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Se=0;Se<xe.length;Se++)r.points.push(newDataPoint(Se+1,xe[Se]));return t.series.push(r),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),t}function twoColorLineSeriesReversed$1(){const t=threeColorLineSeries();return PlotModelUtilities.reverseYAxis(t),t}const category$5="ThreeColorLineSeries",ThreeColorLineSeriesExamples={category:category$5,tags:["Series"],examples:[{title:"Temperatures",example:{model:threeColorLineSeries}},{title:"Temperatures (Y Axis reversed)",example:{model:twoColorLineSeriesReversed$1}}]};function tornadoDiagram1(){const t=new PlotModel({title:"Tornado diagram 1"}),e=new Legend({legendPlacement:LegendPlacement.Outside});t.legends.push(e);const r=new BarSeries({title:"High",isStacked:!0,fillColor:OxyColorHelper.fromRgb(216,82,85),baseValue:7,strokeColor:OxyColors.Black,strokeThickness:1});r.items.push(newBarItem({value:1})),r.items.push(newBarItem({value:1})),r.items.push(newBarItem({value:4})),r.items.push(newBarItem({value:5}));const xe=new BarSeries({title:"Low",isStacked:!0,fillColor:OxyColorHelper.fromRgb(84,138,209),baseValue:7,strokeColor:OxyColors.Black,strokeThickness:1});xe.items.push(newBarItem({value:-1})),xe.items.push(newBarItem({value:-3})),xe.items.push(newBarItem({value:-2})),xe.items.push(newBarItem({value:-3}));const Se=new CategoryAxis({position:AxisPosition.Left});Se.labels.push("F/X rate"),Se.labels.push("Inflation"),Se.labels.push("Price"),Se.labels.push("Conversion");const _e=new LinearAxis({position:AxisPosition.Bottom,extraGridlines:[7]});return t.series.push(r),t.series.push(xe),t.axes.push(Se),t.axes.push(_e),t}function tornadoDiagram2(){const t=new PlotModel({title:"Tornado diagram 2"}),e=new Legend({legendPlacement:LegendPlacement.Outside});t.legends.push(e);const r=new TornadoBarSeries({title:"TornadoBarSeries",baseValue:7});r.items.push(newTornadoBarItem({minimum:6,maximum:8})),r.items.push(newTornadoBarItem({minimum:4,maximum:8})),r.items.push(newTornadoBarItem({minimum:5,maximum:11})),r.items.push(newTornadoBarItem({minimum:4,maximum:12}));const xe=new CategoryAxis({position:AxisPosition.Left});xe.labels.push("F/X rate"),xe.labels.push("Inflation"),xe.labels.push("Price"),xe.labels.push("Conversion");const Se=new LinearAxis({position:AxisPosition.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return t.series.push(r),t.axes.push(xe),t.axes.push(Se),t}function tornadoDiagramWithLabels(){const t=new PlotModel({title:"Tornado Diagram"}),e=new Legend({legendPlacement:LegendPlacement.Outside});t.legends.push(e);const r=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Outside});r.items.push(newTornadoBarItem({minimum:6,maximum:8,categoryIndex:0}));const xe=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Inside});xe.items.push(newTornadoBarItem({minimum:4,maximum:8,categoryIndex:1}));const Se=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Middle});Se.items.push(newTornadoBarItem({minimum:5,maximum:11,categoryIndex:2}));const _e=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Base});_e.items.push(newTornadoBarItem({minimum:4,maximum:12,categoryIndex:3}));const Ae=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Outside,labelAngle:-45});Ae.items.push(newTornadoBarItem({minimum:6,maximum:8,categoryIndex:4}));const Ce=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Inside,labelAngle:-45});Ce.items.push(newTornadoBarItem({minimum:4,maximum:8,categoryIndex:5}));const Pe=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Middle,labelAngle:-45});Pe.items.push(newTornadoBarItem({minimum:5,maximum:11,categoryIndex:6}));const Ee=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Base,labelAngle:-45});Ee.items.push(newTornadoBarItem({minimum:4,maximum:12,categoryIndex:7}));const Oe=new CategoryAxis({position:AxisPosition.Left,startPosition:1,endPosition:0});Oe.labels.push("Labels Outside"),Oe.labels.push("Labels Inside"),Oe.labels.push("Labels Middle"),Oe.labels.push("Labels Base"),Oe.labels.push("Labels Outside (angled)"),Oe.labels.push("Labels Inside (angled)"),Oe.labels.push("Labels Middle (angled)"),Oe.labels.push("Labels Base (angled)");const Me=new LinearAxis({position:AxisPosition.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return t.series.push(r),t.series.push(xe),t.series.push(Se),t.series.push(_e),t.series.push(Ae),t.series.push(Ce),t.series.push(Pe),t.series.push(Ee),t.axes.push(Oe),t.axes.push(Me),t}const category$4="TornadoBarSeries",TornadoBarSeriesExamples={category:category$4,tags:["Series"],examples:[{title:"Tornado diagram 1",example:{model:tornadoDiagram1}},{title:"Tornado diagram 2",example:{model:tornadoDiagram2}},{title:"Tornado diagram with various label types",example:{model:tornadoDiagramWithLabels}}]};function twoColorAreaSeries(){const t=new PlotModel({title:"TwoColorAreaSeries"}),e=new Legend({legendSymbolLength:24});t.legends.push(e);const r=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:function(Se){return`December ${round(Se.xValue,0)}: ${Se.yValue.toFixed(1)} C`},color:OxyColors.Tomato,color2:OxyColors.LightBlue,markerFill:OxyColors.Tomato,markerFill2:OxyColors.LightBlue,strokeThickness:2,limit:-1,markerType:MarkerType.Circle,markerSize:3}),xe=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Se=0;Se<xe.length;Se++)r.points.push(newDataPoint(Se+1,xe[Se]));return t.series.push(r),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),t}function twoColorAreaSeries2(){const t=new PlotModel({title:"TwoColorAreaSeries"}),e=new Legend({legendSymbolLength:24});t.legends.push(e);const r=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:function(Se){return`December ${round(Se.xValue,0)}: ${Se.yValue.toFixed(1)} C`},color:OxyColors.Black,color2:OxyColors.Brown,markerFill:OxyColors.Red,fill:OxyColors.Tomato,fill2:OxyColors.LightBlue,markerFill2:OxyColors.Blue,markerStroke:OxyColors.Brown,markerStroke2:OxyColors.Black,strokeThickness:2,limit:0,markerType:MarkerType.Circle,markerSize:3}),xe=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Se=0;Se<xe.length;Se++)r.points.push(newDataPoint(Se+1,xe[Se]));return t.series.push(r),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),t}function twoColorAreaSeries3(){const t=new PlotModel({title:"TwoColorAreaSeries"}),e=new Legend({legendSymbolLength:24});t.legends.push(e);const r=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:function(Se){return`December ${round(Se.xValue,0)}: ${Se.yValue.toFixed(1)} C`},color:OxyColors.Black,color2:OxyColors.Brown,markerFill:OxyColors.Red,fill:OxyColors.Tomato,fill2:OxyColors.LightBlue,markerFill2:OxyColors.Blue,markerStroke:OxyColors.Brown,markerStroke2:OxyColors.Black,strokeThickness:1,limit:0,interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,markerType:MarkerType.Circle,markerSize:1}),xe=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Se=0;Se<xe.length;Se++)r.points.push(newDataPoint(Se+1,xe[Se]));return t.series.push(r),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),t}function twoColorAreaSeriesTwoPolygons(){const t=new PlotModel({title:"Two polygons"}),e=new Legend({legendSymbolLength:24});t.legends.push(e);const r=new TwoColorAreaSeries({color:OxyColors.Tomato,color2:OxyColors.LightBlue,markerFill:OxyColors.Tomato,markerFill2:OxyColors.LightBlue,strokeThickness:2,markerType:MarkerType.Circle,markerSize:3});return r.points.push(newDataPoint(0,3),newDataPoint(1,5),newDataPoint(2,1),newDataPoint(3,0),newDataPoint(4,3)),r.points2.push(newDataPoint(0,-3),newDataPoint(1,-1),newDataPoint(2,0),newDataPoint(3,-6),newDataPoint(4,-4)),t.series.push(r),t.axes.push(new LinearAxis({position:AxisPosition.Left})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom})),t}const category$3="TwoColorAreaSeries",TwoColorAreaSeriesExamples={category:category$3,tags:["Series"],examples:[{title:"Temperatures",example:{model:twoColorAreaSeries}},{title:"Temperatures ver2",example:{model:twoColorAreaSeries2}},{title:"Temperatures ver3",example:{model:twoColorAreaSeries3}},{title:"Two polygons",example:{model:twoColorAreaSeriesTwoPolygons}}]};function twoColorLineSeries(){const t=new PlotModel({title:"TwoColorLineSeries"}),e=new Legend({legendSymbolLength:24});t.legends.push(e);const r=new TwoColorLineSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:function(Se){return`December ${round(Se.xValue,0)}: ${Se.yValue.toFixed(1)} C`},color:OxyColors.Red,color2:OxyColors.LightBlue,strokeThickness:3,limit:0,interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,markerType:MarkerType.Circle,markerSize:4,markerStroke:OxyColors.Black,markerStrokeThickness:1.5}),xe=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let Se=0;Se<xe.length;Se++)r.points.push(newDataPoint(Se+1,xe[Se]));return t.series.push(r),t.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),t}function twoColorLineSeriesReversed(){const t=twoColorLineSeries();return PlotModelUtilities.reverseYAxis(t),t}const category$2="TwoColorLineSeries",TwoColorLineSeriesExamples={category:category$2,tags:["Series"],examples:[{title:"Temperatures",example:{model:twoColorLineSeries}},{title:"Temperatures (Y Axis reversed)",example:{model:twoColorLineSeriesReversed}}]};function fromItems(){const{model:t}=getModel(!0);return t}function fromItemsVeeness(){const{model:t,series:e}=getModel(!0);return e.arrowVeeness=2,t}function fromItemsVectorOriginAndLabelPosition(){const{model:t,series:e}=getModel(!0);return e.arrowLabelPosition=.25,e.arrowStartPosition=.5,t}function fromItemsWithoutColorAxis(){const{model:t}=getModel(!1);return t}function vectorField(){const t=new PlotModel({title:"Peaks (Gradient)"}),e=new VectorSeries,r=ArrayBuilder.createVectorWithStep(-3,3,.25),xe=ArrayBuilder.createVectorWithStep(-3.1,3.1,.25);return e.arrowVeeness=1,e.arrowStartPosition=.5,e.itemsSource=r.flatMap(Se=>xe.map(_e=>({origin:newDataPoint(Se,_e),direction:new DataVector(dpeaksdx(Se,_e)/40,dpeaksdy(Se,_e)/40),value:NaN}))),t.series.push(e),t}function logarithmicYAxis(){const e=new PlotModel({title:"VectorSeries"}),r=new Random,xe=100,Se=100,_e=50;e.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.cool(10),minimum:0,maximum:_e})),e.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-_e,maximum:xe+_e})),e.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimum:1,maximum:Se+_e}));const Ae=new VectorSeries({labelFontSize:12});for(let Ce=99;Ce>=0;Ce--){const Pe=r.next()*Math.PI*2,Ee=r.next()*_e,Oe=newDataPoint(r.next()*xe,r.next()*Se+1),Me=new DataVector(Math.cos(Pe)*Ee,Math.sin(Pe)*Ee);Ae.items.push({origin:Oe,direction:Me,value:Ee})}return e.series.push(Ae),e}const dpeaksdx=(t,e)=>-10*((1/5-3*Math.pow(t,2))*Math.exp(-Math.pow(t,2)-Math.pow(e,2))-2*t*(t/5-Math.pow(t,3)-Math.pow(e,5))*Math.exp(-Math.pow(t,2)-Math.pow(e,2)))+.6666666666666666*(1+t)*Math.exp(-Math.pow(1+t,2)-Math.pow(e,2))+3*(-2*(1-t)*Math.exp(-Math.pow(t,2)-Math.pow(1+e,2))-2*t*Math.pow(1-t,2)*Math.exp(-Math.pow(t,2)-Math.pow(1+e,2))),dpeaksdy=(t,e)=>-10*(-5*Math.pow(e,4)*Math.exp(-Math.pow(t,2)-Math.pow(e,2))-2*e*(t/5-Math.pow(t,3)-Math.pow(e,5))*Math.exp(-Math.pow(t,2)-Math.pow(e,2)))+.6666666666666666*e*Math.exp(-Math.pow(1+t,2)-Math.pow(e,2))-6*Math.pow(1-t,2)*(1+e)*Math.exp(-Math.pow(t,2)-Math.pow(1+e,2));function getModel(t){const r=new PlotModel({title:"VectorSeries (Veeness = 2)"}),xe=new Random,Se=100,_e=100,Ae=10;t&&r.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:newOxyPalette(OxyPalettes.cool(10).colors.map(Pe=>OxyColorHelper.fromAColor(100,Pe))),minimum:0,maximum:Ae})),r.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-Ae,maximum:Se+Ae})),r.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-Ae,maximum:_e+Ae}));const Ce=new VectorSeries({labelFontSize:12});for(let Pe=99;Pe>=0;Pe--){const Ee=xe.next()*Math.PI*2,Oe=xe.next()*Ae,Me=newDataPoint(xe.next()*Se,xe.next()*_e),De=new DataVector(Math.cos(Ee)*Oe,Math.sin(Ee)*Oe);Ce.items.push({origin:Me,direction:De,value:Oe})}return r.series.push(Ce),{model:r,series:Ce}}const category$1="VectorSeries",VectorSeriesExamples={category:category$1,tags:["Series"],examples:[{title:"VectorSeries",example:{model:fromItems}},{title:"VectorSeries (Veeness = 2)",example:{model:fromItemsVeeness}},{title:"VectorSeries (Vector Origin and Label position)",example:{model:fromItemsVectorOriginAndLabelPosition}},{title:"VectorSeries (without ColorAxis)",example:{model:fromItemsWithoutColorAxis}},{title:"Vector Field",example:{model:vectorField}},{title:"VectorSeries on Log Axis",example:{model:logarithmicYAxis}}]},Series=[...FinancialSeries,AreaSeriesExamples,BarSeriesExamples,BoxPlotSeriesExamples,ContourSeriesExamples,ErrorBarSeriesExamples,ExtrapolationLineSeriesExamples,FunctionSeriesExamples,HeatMapSeriesExamples$1,HistogramSeriesExamples,IntervalBarSeriesExamples,LinearBarSeriesExamples,LineSeriesExamples,PieSeriesExamples,PolygonSeriesExamples,RectangleBarSeriesExamples,RectangleSeriesExamples,ScatterSeriesExamples,StairStepSeriesExamples,StemSeriesExamples,ThreeColorLineSeriesExamples,TornadoBarSeriesExamples,TwoColorAreaSeriesExamples,TwoColorLineSeriesExamples,VectorSeriesExamples];function graph1(){const t=new PlotModel({title:"Q1 2003 Calls by Region",plotAreaBorderThickness:newOxyThickness(0)}),e=new CategoryAxis({axislineStyle:LineStyle.Solid,tickStyle:TickStyle.None,key:"y"});e.labels.push("North","East","South","West"),t.axes.push(e),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,key:"x"}));const r=new BarSeries({fillColor:OxyColors.Black,xAxisKey:"x",yAxisKey:"y"});return r.items.push(newBarItem({value:3e3})),r.items.push(newBarItem({value:4500})),r.items.push(newBarItem({value:2100})),r.items.push(newBarItem({value:4800})),t.series.push(r),t}function graph2(){const t=new PlotModel({title:"2003 Sales",plotAreaBorderThickness:newOxyThickness(0),isLegendVisible:!1}),e=[1e3,1010,1020,1010,1020,1030,1e3,500,1e3,900,900,1e3],r=[2250,2500,2750,2500,2750,3e3,2500,2750,3100,2800,3100,3500],xe=new CategoryAxis({axislineStyle:LineStyle.Solid,tickStyle:TickStyle.None});xe.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov"),t.axes.push(xe),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:4e3,majorStep:500,minorStep:500,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside}));const Se=new LineSeries({color:OxyColors.Orange});for(let Ae=0;Ae<12;Ae++)Se.points.push(newDataPoint(Ae,e[Ae]));const _e=new LineSeries({color:OxyColors.Gray});for(let Ae=0;Ae<12;Ae++)_e.points.push(newDataPoint(Ae,r[Ae]));return t.series.push(Se),t.series.push(_e),t}function graph3(){const t=new PlotModel({title:"Headcount",plotAreaBorderThickness:newOxyThickness(0),plotMargins:newOxyThickness(100,40,20,40)}),e=new Map([["Manufacturing",240],["Sales",160],["Engineering",50],["Operations",45],["Finance",40],["Info Systems",39],["Legal",25],["Marketing",10]]);return t.axes.push(new CategoryAxis({position:AxisPosition.Left,itemsSource:Array.from(e),labelField:"0",tickStyle:TickStyle.None,axisTickToLabelDistance:10,startPosition:1,endPosition:0})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:250,majorStep:50,minorStep:50,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,minimumPadding:0,maximumPadding:0})),t.series.push(new BarSeries({fillColor:OxyColors.Black,itemsSource:Array.from(e),valueField:"1"})),t}function graph4(){const t=new PlotModel({title:"Regional % of Total Expenses",plotAreaBorderThickness:newOxyThickness(0)}),e=new CategoryAxis({tickStyle:TickStyle.None,gapWidth:0,key:"y"});e.labels.push(`West
34%`,`East
30%`,`North
20%`,`South
16%`),t.axes.push(e),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:.35+Number.EPSILON,majorStep:.05,minorStep:.05,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,stringFormatter:Se=>`${Math.round(Se*100)}%`,key:"x"}));const r=new BarSeries({barWidth:1,strokeColor:OxyColors.DarkGray,strokeThickness:1,fillColor:OxyColors.Black,xAxisKey:"x",yAxisKey:"y"}),xe=[.34,.3,.2,.16];return r.items=xe.map(Se=>newBarItem(Se)),t.series.push(r),t}function graph5(){const t=new PlotModel({title:"Actual to Plan Variance",plotAreaBorderThickness:newOxyThickness(0)}),e=new Map([["Sales",7],["Marketing",-7],["Systems",-2],["HR",-17],["Finance",5]]);return t.axes.push(new CategoryAxis({itemsSource:Array.from(e),labelField:"0",tickStyle:TickStyle.None,key:"y"})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-20,maximum:10,minorStep:5,majorStep:5,layer:AxisLayer.AboveSeries,axislineStyle:LineStyle.Solid,extraGridlines:[0],extraGridlineColor:OxyColors.Black,extraGridlineThickness:3,tickStyle:TickStyle.Outside,stringFormatter:r=>(r>0?"+":r<0?"-":"")+round(Math.abs(r),0),key:"x"})),t.series.push(new BarSeries({fillColor:OxyColors.Orange,negativeFillColor:OxyColors.Gray,itemsSource:Array.from(e),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),t}function graph6(){const t=new PlotModel({title:"Order Count by Order Size",plotAreaBorderThickness:newOxyThickness(0),plotMargins:newOxyThickness(60,4,4,60)}),e=new Map([[" <$10",5e3],[`>=$10
    &
 <$20`,1500],[`>=$20
    &
 <$30`,1e3],[`>=$40
    &
 <$40`,500],[">=$40",200]]);return t.axes.push(new CategoryAxis({axislineStyle:LineStyle.Solid,itemsSource:Array.from(e),labelField:"0",tickStyle:TickStyle.None,key:"y"})),t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,stringFormatter:r=>(r>0?"+":r<0?"-":"")+round(Math.abs(r),0),key:"x"})),t.series.push(new BarSeries({fillColor:OxyColors.Orange,itemsSource:Array.from(e),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),t}function graph7(){const t=new PlotModel({title:"Correlation of Employee Heights and Salaries",plotAreaBorderThickness:newOxyThickness(0)}),e=[newDataPoint(62,39e3),newDataPoint(66,44e3),newDataPoint(64,5e4),newDataPoint(66,49500),newDataPoint(67,52e3),newDataPoint(68,5e4),newDataPoint(66,56e3),newDataPoint(67,56e3),newDataPoint(72,56e3),newDataPoint(68,58e3),newDataPoint(69,62e3),newDataPoint(71,63e3),newDataPoint(65,64e3),newDataPoint(68,71e3),newDataPoint(72,72e3),newDataPoint(74,69e3),newDataPoint(74,79e3),newDataPoint(77,81e3)];return t.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:3e4,maximum:9e4,majorStep:1e4,minorStep:1e4,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside})),t.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:60,maximum:80,majorStep:5,minorStep:5,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside})),t.series.push(new ScatterSeries({itemsSource:e,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.White,markerStroke:OxyColors.Black,dataFieldX:"x",dataFieldY:"y"})),t}const category="Examples from the book 'Show Me the Numbers'",ShowMeTheNumbersExamples={category,tags:["Showcase"],examples:[{title:"Q1 2003 Calls by Region",example:{model:graph1}},{title:"2003 Sales",example:{model:graph2}},{title:"Headcount",example:{model:graph3}},{title:"Regional % of Total Expenses",example:{model:graph4}},{title:"Actual to Plan Variance",example:{model:graph5}},{title:"Order Count by Order Size",example:{model:graph6}},{title:"Correlation of Employee Heights and Salaries",example:{model:graph7}}]},ShowCases=[ShowCases$1,ShowMeTheNumbersExamples],allExampleCats=[...Annotations,...Axes,...Discussions,...CustomSeries,...Exps,...Misc,...Series,...ShowCases];let finalExamples=[];for(const t of allExampleCats){const e=finalExamples.find(r=>r.category===t.category);e?e.examples.push(...t.examples):finalExamples.push(t)}finalExamples=sortArray(finalExamples,[["category","ASC"]]);for(const t of finalExamples)for(const e of t.examples)e.category=t.category;const examples=finalExamples;var duration$1={exports:{}};(function(t,e){(function(r,xe){t.exports=xe()})(commonjsGlobal$1,function(){var r,xe,Se=1e3,_e=6e4,Ae=36e5,Ce=864e5,Pe=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ee=31536e6,Oe=2628e6,Me=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,De={years:Ee,months:Oe,days:Ce,hours:Ae,minutes:_e,seconds:Se,milliseconds:1,weeks:6048e5},Te=function(He){return He instanceof je},ke=function(He,ze,Ue){return new je(He,Ue,ze.$l)},Fe=function(He){return xe.p(He)+"s"},$e=function(He){return He<0},Be=function(He){return $e(He)?Math.ceil(He):Math.floor(He)},Ie=function(He){return Math.abs(He)},Re=function(He,ze){return He?$e(He)?{negative:!0,format:""+Ie(He)+ze}:{negative:!1,format:""+He+ze}:{negative:!1,format:""}},je=function(){function He(Ue,We,qe){var Ge=this;if(this.$d={},this.$l=qe,Ue===void 0&&(this.$ms=0,this.parseFromMilliseconds()),We)return ke(Ue*De[Fe(We)],this);if(typeof Ue=="number")return this.$ms=Ue,this.parseFromMilliseconds(),this;if(typeof Ue=="object")return Object.keys(Ue).forEach(function(Je){Ge.$d[Fe(Je)]=Ue[Je]}),this.calMilliseconds(),this;if(typeof Ue=="string"){var Ye=Ue.match(Me);if(Ye){var Qe=Ye.slice(2).map(function(Je){return Je!=null?Number(Je):0});return this.$d.years=Qe[0],this.$d.months=Qe[1],this.$d.weeks=Qe[2],this.$d.days=Qe[3],this.$d.hours=Qe[4],this.$d.minutes=Qe[5],this.$d.seconds=Qe[6],this.calMilliseconds(),this}}return this}var ze=He.prototype;return ze.calMilliseconds=function(){var Ue=this;this.$ms=Object.keys(this.$d).reduce(function(We,qe){return We+(Ue.$d[qe]||0)*De[qe]},0)},ze.parseFromMilliseconds=function(){var Ue=this.$ms;this.$d.years=Be(Ue/Ee),Ue%=Ee,this.$d.months=Be(Ue/Oe),Ue%=Oe,this.$d.days=Be(Ue/Ce),Ue%=Ce,this.$d.hours=Be(Ue/Ae),Ue%=Ae,this.$d.minutes=Be(Ue/_e),Ue%=_e,this.$d.seconds=Be(Ue/Se),Ue%=Se,this.$d.milliseconds=Ue},ze.toISOString=function(){var Ue=Re(this.$d.years,"Y"),We=Re(this.$d.months,"M"),qe=+this.$d.days||0;this.$d.weeks&&(qe+=7*this.$d.weeks);var Ge=Re(qe,"D"),Ye=Re(this.$d.hours,"H"),Qe=Re(this.$d.minutes,"M"),Je=this.$d.seconds||0;this.$d.milliseconds&&(Je+=this.$d.milliseconds/1e3,Je=Math.round(1e3*Je)/1e3);var ri=Re(Je,"S"),hi=Ue.negative||We.negative||Ge.negative||Ye.negative||Qe.negative||ri.negative,pi=Ye.format||Qe.format||ri.format?"T":"",ni=(hi?"-":"")+"P"+Ue.format+We.format+Ge.format+pi+Ye.format+Qe.format+ri.format;return ni==="P"||ni==="-P"?"P0D":ni},ze.toJSON=function(){return this.toISOString()},ze.format=function(Ue){var We=Ue||"YYYY-MM-DDTHH:mm:ss",qe={Y:this.$d.years,YY:xe.s(this.$d.years,2,"0"),YYYY:xe.s(this.$d.years,4,"0"),M:this.$d.months,MM:xe.s(this.$d.months,2,"0"),D:this.$d.days,DD:xe.s(this.$d.days,2,"0"),H:this.$d.hours,HH:xe.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:xe.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:xe.s(this.$d.seconds,2,"0"),SSS:xe.s(this.$d.milliseconds,3,"0")};return We.replace(Pe,function(Ge,Ye){return Ye||String(qe[Ge])})},ze.as=function(Ue){return this.$ms/De[Fe(Ue)]},ze.get=function(Ue){var We=this.$ms,qe=Fe(Ue);return qe==="milliseconds"?We%=1e3:We=qe==="weeks"?Be(We/De[qe]):this.$d[qe],We||0},ze.add=function(Ue,We,qe){var Ge;return Ge=We?Ue*De[Fe(We)]:Te(Ue)?Ue.$ms:ke(Ue,this).$ms,ke(this.$ms+Ge*(qe?-1:1),this)},ze.subtract=function(Ue,We){return this.add(Ue,We,!0)},ze.locale=function(Ue){var We=this.clone();return We.$l=Ue,We},ze.clone=function(){return ke(this.$ms,this)},ze.humanize=function(Ue){return r().add(this.$ms,"ms").locale(this.$l).fromNow(!Ue)},ze.valueOf=function(){return this.asMilliseconds()},ze.milliseconds=function(){return this.get("milliseconds")},ze.asMilliseconds=function(){return this.as("milliseconds")},ze.seconds=function(){return this.get("seconds")},ze.asSeconds=function(){return this.as("seconds")},ze.minutes=function(){return this.get("minutes")},ze.asMinutes=function(){return this.as("minutes")},ze.hours=function(){return this.get("hours")},ze.asHours=function(){return this.as("hours")},ze.days=function(){return this.get("days")},ze.asDays=function(){return this.as("days")},ze.weeks=function(){return this.get("weeks")},ze.asWeeks=function(){return this.as("weeks")},ze.months=function(){return this.get("months")},ze.asMonths=function(){return this.as("months")},ze.years=function(){return this.get("years")},ze.asYears=function(){return this.as("years")},He}(),Ve=function(He,ze,Ue){return He.add(ze.years()*Ue,"y").add(ze.months()*Ue,"M").add(ze.days()*Ue,"d").add(ze.hours()*Ue,"h").add(ze.minutes()*Ue,"m").add(ze.seconds()*Ue,"s").add(ze.milliseconds()*Ue,"ms")};return function(He,ze,Ue){r=Ue,xe=Ue().$utils(),Ue.duration=function(Ge,Ye){var Qe=Ue.locale();return ke(Ge,{$l:Qe},Ye)},Ue.isDuration=Te;var We=ze.prototype.add,qe=ze.prototype.subtract;ze.prototype.add=function(Ge,Ye){return Te(Ge)?Ve(this,Ge,1):We.bind(this)(Ge,Ye)},ze.prototype.subtract=function(Ge,Ye){return Te(Ge)?Ve(this,Ge,-1):qe.bind(this)(Ge,Ye)}}})})(duration$1);var durationExports=duration$1.exports;const duration=getDefaultExportFromCjs$1(durationExports);var dayOfYear$1={exports:{}};(function(t,e){(function(r,xe){t.exports=xe()})(commonjsGlobal$1,function(){return function(r,xe,Se){xe.prototype.dayOfYear=function(_e){var Ae=Math.round((Se(this).startOf("day")-Se(this).startOf("year"))/864e5)+1;return _e==null?Ae:this.add(_e-Ae,"day")}}})})(dayOfYear$1);var dayOfYearExports=dayOfYear$1.exports;const dayOfYear=getDefaultExportFromCjs$1(dayOfYearExports),oxyPlotImg="/oxyplot-js/assets/OxyPlot-4SQiqpWf.png";function useAutoSaveState(){function t(r){let xe=`${r.category}	${r.title}`;r.filter&&(xe+=`	${r.filter}`),window.location.hash=encodeURIComponent(xe)}function e(){const r=window.location.hash.slice(1);if(!r)return;const[xe,Se,_e]=decodeURIComponent(r).split("	");return{category:xe,title:Se,filter:_e}}return{save:t,load:e}}var script$g={name:"CheckIcon",extends:script$s},_hoisted_1$h=createBaseVNode("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),_hoisted_2$f=[_hoisted_1$h];function render$f(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("svg",mergeProps({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_hoisted_2$f,16)}script$g.render=render$f;var classes$6={root:function t(e){var r=e.instance,xe=e.props;return["p-checkbox p-component",{"p-highlight":r.checked,"p-disabled":xe.disabled,"p-invalid":xe.invalid,"p-variant-filled":xe.variant?xe.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},CheckboxStyle=BaseStyle.extend({name:"checkbox",classes:classes$6}),script$1$6={name:"BaseCheckbox",extends:script$t,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:CheckboxStyle,provide:function t(){return{$parentInstance:this}}};function _toConsumableArray$2(t){return _arrayWithoutHoles$2(t)||_iterableToArray$2(t)||_unsupportedIterableToArray$2(t)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$2(t,e)}}function _iterableToArray$2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$2(t){if(Array.isArray(t))return _arrayLikeToArray$2(t)}function _arrayLikeToArray$2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,xe=new Array(e);r<e;r++)xe[r]=t[r];return xe}var script$f={name:"Checkbox",extends:script$1$6,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function t(e){var r=e==="root"?this.ptmi:this.ptm;return r(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function t(e){var r=this;if(!this.disabled&&!this.readonly){var xe;this.binary?xe=this.checked?this.falseValue:this.trueValue:this.checked?xe=this.modelValue.filter(function(Se){return!ObjectUtils.equals(Se,r.value)}):xe=this.modelValue?[].concat(_toConsumableArray$2(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",xe),this.$emit("change",e)}},onFocus:function t(e){this.$emit("focus",e)},onBlur:function t(e){this.$emit("blur",e)}},computed:{checked:function t(){return this.binary?this.modelValue===this.trueValue:ObjectUtils.contains(this.value,this.modelValue)}},components:{CheckIcon:script$g}},_hoisted_1$g=["data-p-highlight","data-p-disabled"],_hoisted_2$e=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function render$e(t,e,r,xe,Se,_e){var Ae=resolveComponent("CheckIcon");return openBlock(),createElementBlock("div",mergeProps({class:t.cx("root")},_e.getPTOptions("root"),{"data-p-highlight":_e.checked,"data-p-disabled":t.disabled}),[createBaseVNode("input",mergeProps({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:_e.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return _e.onFocus&&_e.onFocus.apply(_e,arguments)}),onBlur:e[1]||(e[1]=function(){return _e.onBlur&&_e.onBlur.apply(_e,arguments)}),onChange:e[2]||(e[2]=function(){return _e.onChange&&_e.onChange.apply(_e,arguments)})},_e.getPTOptions("input")),null,16,_hoisted_2$e),createBaseVNode("div",mergeProps({class:t.cx("box")},_e.getPTOptions("box")),[renderSlot(t.$slots,"icon",{checked:_e.checked,class:normalizeClass(t.cx("icon"))},function(){return[_e.checked?(openBlock(),createBlock(Ae,mergeProps({key:0,class:t.cx("icon")},_e.getPTOptions("icon")),null,16,["class"])):createCommentVNode("",!0)]})],16)],16,_hoisted_1$g)}script$f.render=render$e;var classes$5={root:function t(e){var r=e.props;return["p-selectbutton p-button-group p-component",{"p-disabled":r.disabled,"p-invalid":r.invalid}]},button:function t(e){var r=e.instance,xe=e.option;return["p-button p-component",{"p-highlight":r.isSelected(xe),"p-disabled":r.isOptionDisabled(xe)}]},label:"p-button-label"},SelectButtonStyle=BaseStyle.extend({name:"selectbutton",classes:classes$5}),script$1$5={name:"BaseSelectButton",extends:script$t,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,multiple:Boolean,unselectable:{type:Boolean,default:!0},allowEmpty:{type:Boolean,default:!0},invalid:{type:Boolean,default:!1},disabled:Boolean,dataKey:null,ariaLabelledby:{type:String,default:null}},style:SelectButtonStyle,provide:function t(){return{$parentInstance:this}}};function _createForOfIteratorHelper(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray$1(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var xe=0,Se=function(){};return{s:Se,n:function(){return xe>=t.length?{done:!0}:{done:!1,value:t[xe++]}},e:function(Ee){throw Ee},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=!0,Ae=!1,Ce;return{s:function(){r=r.call(t)},n:function(){var Ee=r.next();return _e=Ee.done,Ee},e:function(Ee){Ae=!0,Ce=Ee},f:function(){try{!_e&&r.return!=null&&r.return()}finally{if(Ae)throw Ce}}}}function _toConsumableArray$1(t){return _arrayWithoutHoles$1(t)||_iterableToArray$1(t)||_unsupportedIterableToArray$1(t)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$1(t,e)}}function _iterableToArray$1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$1(t){if(Array.isArray(t))return _arrayLikeToArray$1(t)}function _arrayLikeToArray$1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,xe=new Array(e);r<e;r++)xe[r]=t[r];return xe}var script$e={name:"SelectButton",extends:script$1$5,inheritAttrs:!1,emits:["update:modelValue","focus","blur","change"],data:function t(){return{focusedIndex:0}},mounted:function t(){this.defaultTabIndexes()},methods:{defaultTabIndexes:function t(){for(var e=DomHandler.find(this.$refs.container,'[data-pc-section="button"]'),r=DomHandler.findSingle(this.$refs.container,'[data-p-highlight="true"]'),xe=0;xe<e.length;xe++)(DomHandler.getAttribute(e[xe],"data-p-highlight")===!0&&ObjectUtils.equals(e[xe],r)||r===null&&xe==0)&&(this.focusedIndex=xe)},getOptionLabel:function t(e){return this.optionLabel?ObjectUtils.resolveFieldData(e,this.optionLabel):e},getOptionValue:function t(e){return this.optionValue?ObjectUtils.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function t(e){return this.dataKey?ObjectUtils.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)},getPTOptions:function t(e,r){return this.ptm(r,{context:{active:this.isSelected(e),disabled:this.isOptionDisabled(e),option:e}})},isOptionDisabled:function t(e){return this.optionDisabled?ObjectUtils.resolveFieldData(e,this.optionDisabled):!1},onOptionSelect:function t(e,r,xe){var Se=this;if(!(this.disabled||this.isOptionDisabled(r))){var _e=this.isSelected(r);if(!(_e&&!(this.unselectable&&this.allowEmpty))){var Ae=this.getOptionValue(r),Ce;this.multiple?_e?Ce=this.modelValue.filter(function(Pe){return!ObjectUtils.equals(Pe,Ae,Se.equalityKey)}):Ce=this.modelValue?[].concat(_toConsumableArray$1(this.modelValue),[Ae]):[Ae]:Ce=_e?null:Ae,this.focusedIndex=xe,this.$emit("update:modelValue",Ce),this.$emit("change",{event:e,value:Ce})}}},isSelected:function t(e){var r=!1,xe=this.getOptionValue(e);if(this.multiple){if(this.modelValue){var Se=_createForOfIteratorHelper(this.modelValue),_e;try{for(Se.s();!(_e=Se.n()).done;){var Ae=_e.value;if(ObjectUtils.equals(Ae,xe,this.equalityKey)){r=!0;break}}}catch(Ce){Se.e(Ce)}finally{Se.f()}}}else r=ObjectUtils.equals(this.modelValue,xe,this.equalityKey);return r},onKeydown:function t(e,r,xe){switch(e.code){case"Space":{this.onOptionSelect(e,r,xe),e.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.onArrowRightKey(e.target),e.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.onArrowLeftKey(e.target),e.preventDefault();break}}},onArrowRightKey:function t(e){var r=this.findNextElement(e);r&&(this.focusedIndex=ObjectUtils.findIndexInList(r,this.findAllElements()),DomHandler.focus(r))},onArrowLeftKey:function t(e){var r=this.findPrevElement(e);r&&(this.focusedIndex=ObjectUtils.findIndexInList(r,this.findAllElements()),DomHandler.focus(r))},findAllElements:function t(){return DomHandler.find(this.$refs.container,'[data-pc-section="button"]')},findNextElement:function t(e){return e.nextElementSibling?DomHandler.getAttribute(e.nextElementSibling,"data-p-disabled")?this.findNextElement(e.nextElementSibling):e.nextElementSibling:null},findPrevElement:function t(e){return e.previousElementSibling?DomHandler.getAttribute(e.previousElementSibling,"data-p-disabled")?this.findPrevElement(e.previousElementSibling):e.previousElementSibling:null},onFocus:function t(e){this.$emit("focus",e)},onBlur:function t(e,r){e.target&&e.relatedTarget&&e.target.parentElement!==e.relatedTarget.parentElement&&this.defaultTabIndexes(),this.$emit("blur",e,r)},findTabindex:function t(e,r){return this.disabled||this.isOptionDisabled(e)||r!==this.focusedIndex?"-1":"0"}},computed:{equalityKey:function t(){return this.optionValue?null:this.dataKey}},directives:{ripple:Ripple}},_hoisted_1$f=["aria-labelledby"],_hoisted_2$d=["tabindex","aria-label","role","aria-checked","aria-disabled","onClick","onKeydown","onBlur","data-p-highlight","data-p-disabled"];function render$d(t,e,r,xe,Se,_e){var Ae=resolveDirective("ripple");return openBlock(),createElementBlock("div",mergeProps({ref:"container",class:t.cx("root"),role:"group","aria-labelledby":t.ariaLabelledby},t.ptmi("root")),[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.options,function(Ce,Pe){return withDirectives((openBlock(),createElementBlock("div",mergeProps({key:_e.getOptionRenderKey(Ce),tabindex:_e.findTabindex(Ce,Pe),"aria-label":_e.getOptionLabel(Ce),role:t.multiple?"checkbox":"radio","aria-checked":_e.isSelected(Ce),"aria-disabled":_e.isOptionDisabled(Ce),class:t.cx("button",{option:Ce}),onClick:function(Oe){return _e.onOptionSelect(Oe,Ce,Pe)},onKeydown:function(Oe){return _e.onKeydown(Oe,Ce,Pe)},onFocus:e[0]||(e[0]=function(Ee){return _e.onFocus(Ee)}),onBlur:function(Oe){return _e.onBlur(Oe,Ce)}},_e.getPTOptions(Ce,"button"),{"data-p-highlight":_e.isSelected(Ce),"data-p-disabled":_e.isOptionDisabled(Ce)}),[renderSlot(t.$slots,"option",{option:Ce,index:Pe,class:normalizeClass(t.cx("label"))},function(){return[createBaseVNode("span",mergeProps({class:t.cx("label")},_e.getPTOptions(Ce,"label")),toDisplayString(_e.getOptionLabel(Ce)),17)]})],16,_hoisted_2$d)),[[Ae]])}),128))],16,_hoisted_1$f)}script$e.render=render$d;var script$d={name:"BlankIcon",extends:script$s},_hoisted_1$e=createBaseVNode("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),_hoisted_2$c=[_hoisted_1$e];function render$c(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("svg",mergeProps({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_hoisted_2$c,16)}script$d.render=render$c;var script$c={name:"TimesIcon",extends:script$s},_hoisted_1$d=createBaseVNode("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),_hoisted_2$b=[_hoisted_1$d];function render$b(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("svg",mergeProps({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_hoisted_2$b,16)}script$c.render=render$b;var OverlayEventBus=primebus(),script$b={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function t(){return{mounted:!1}},mounted:function t(){this.mounted=DomHandler.isClient()},computed:{inline:function t(){return this.disabled||this.appendTo==="self"}}};function render$a(t,e,r,xe,Se,_e){return _e.inline?renderSlot(t.$slots,"default",{key:0}):Se.mounted?(openBlock(),createBlock(Teleport,{key:1,to:r.appendTo},[renderSlot(t.$slots,"default")],8,["to"])):createCommentVNode("",!0)}script$b.render=render$a;var classes$4={root:function t(e){var r=e.instance,xe=e.props,Se=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":xe.disabled,"p-invalid":xe.invalid,"p-variant-filled":xe.variant?xe.variant==="filled":r.$primevue.config.inputStyle==="filled","p-dropdown-clearable":xe.showClear,"p-focus":Se.focused,"p-inputwrapper-filled":r.hasSelectedOption,"p-inputwrapper-focus":Se.focused||Se.overlayVisible,"p-overlay-open":Se.overlayVisible}]},input:function t(e){var r,xe=e.instance,Se=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!Se.editable&&xe.label===Se.placeholder,"p-dropdown-label-empty":!Se.editable&&!xe.$slots.value&&(xe.label==="p-emptylabel"||((r=xe.label)===null||r===void 0?void 0:r.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function t(e){e.props;var r=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":r.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function t(e){var r=e.props,xe=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":r.variant?r.variant==="filled":xe.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function t(e){var r=e.instance,xe=e.props,Se=e.state,_e=e.option,Ae=e.focusedOption;return["p-dropdown-item",{"p-highlight":r.isSelected(_e)&&xe.highlightOnSelect,"p-focus":Se.focusedOptionIndex===Ae,"p-disabled":r.isOptionDisabled(_e)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},DropdownStyle=BaseStyle.extend({name:"dropdown",classes:classes$4}),script$1$4={name:"BaseDropdown",extends:script$t,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:DropdownStyle,provide:function t(){return{$parentInstance:this}}};function _typeof$1$1(t){"@babel/helpers - typeof";return _typeof$1$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1$1(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}}function _iterableToArray(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,xe=new Array(e);r<e;r++)xe[r]=t[r];return xe}function ownKeys$1$1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$1$1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1$1(Object(r),!0).forEach(function(xe){_defineProperty$1$1(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$1$1(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$1$1(t,e,r){return e=_toPropertyKey$1$1(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$1$1(t){var e=_toPrimitive$1$1(t,"string");return _typeof$1$1(e)=="symbol"?e:String(e)}function _toPrimitive$1$1(t,e){if(_typeof$1$1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$1$1(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var script$a={name:"Dropdown",extends:script$1$4,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function t(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function t(e){this.id=e||UniqueComponentId()},modelValue:function t(){this.isModelValueChanged=!0},options:function t(){this.autoUpdateModel()}},mounted:function t(){this.id=this.id||UniqueComponentId(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function t(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function t(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(ZIndexUtils.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function t(e,r){return this.virtualScrollerDisabled?e:r&&r(e).index},getOptionLabel:function t(e){return this.optionLabel?ObjectUtils.resolveFieldData(e,this.optionLabel):e},getOptionValue:function t(e){return this.optionValue?ObjectUtils.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function t(e,r){return(this.dataKey?ObjectUtils.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+r},getPTItemOptions:function t(e,r,xe,Se){return this.ptm(Se,{context:{option:e,index:xe,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(xe,r),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function t(e){return this.optionDisabled?ObjectUtils.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function t(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function t(e){return ObjectUtils.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function t(e){return ObjectUtils.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function t(e){var r=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(xe){return r.isOptionGroup(xe)}).length:e)+1},show:function t(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&DomHandler.focus(this.$refs.focusInput)},hide:function t(e){var r=this,xe=function(){r.$emit("before-hide"),r.overlayVisible=!1,r.clicked=!1,r.focusedOptionIndex=-1,r.searchValue="",r.resetFilterOnHide&&(r.filterValue=null),e&&DomHandler.focus(r.$refs.focusInput)};setTimeout(function(){xe()},0)},onFocus:function t(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function t(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function t(e){if(this.disabled||DomHandler.isAndroid()){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!r&&ObjectUtils.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function t(e){var r=e.target.value;this.searchValue="";var xe=this.searchOptions(e,r);!xe&&(this.focusedOptionIndex=-1),this.updateModel(e,r),!this.overlayVisible&&ObjectUtils.isNotEmpty(r)&&this.show()},onContainerClick:function t(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function t(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function t(e){var r=e.relatedTarget===this.$refs.focusInput?DomHandler.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;DomHandler.focus(r)},onLastHiddenFocus:function t(e){var r=e.relatedTarget===this.$refs.focusInput?DomHandler.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;DomHandler.focus(r)},onOptionSelect:function t(e,r){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,Se=this.getOptionValue(r);this.updateModel(e,Se),xe&&this.hide(!0)},onOptionMouseMove:function t(e,r){this.focusOnHover&&this.changeFocusedOptionIndex(e,r)},onFilterChange:function t(e){var r=e.target.value;this.filterValue=r,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:r}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function t(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function t(){this.focusedOptionIndex=-1},onFilterUpdated:function t(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function t(e){OverlayEventBus.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function t(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onDeleteKey:function t(e){this.showClear&&(this.updateModel(e,null),e.preventDefault())},onArrowDownKey:function t(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var r=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,r)}e.preventDefault()},onArrowUpKey:function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!r)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var xe=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,xe),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r&&(this.focusedOptionIndex=-1)},onHomeKey:function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r?(e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex=-1):(this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show()),e.preventDefault()},onEndKey:function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r){var xe=e.currentTarget,Se=xe.value.length;xe.setSelectionRange(Se,Se),this.focusedOptionIndex=-1}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function t(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function t(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function t(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!r&&this.onEnterKey(e)},onEscapeKey:function t(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r||(this.overlayVisible&&this.hasFocusableElements()?(DomHandler.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r&&!this.overlayVisible&&this.show()},onOverlayEnter:function t(e){ZIndexUtils.set("overlay",e,this.$primevue.config.zIndex.overlay),DomHandler.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&DomHandler.focus(this.$refs.filterInput)},onOverlayAfterEnter:function t(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function t(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function t(e){ZIndexUtils.clear(e)},alignOverlay:function t(){this.appendTo==="self"?DomHandler.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=DomHandler.getOuterWidth(this.$el)+"px",DomHandler.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function t(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(r){e.overlayVisible&&e.overlay&&!e.$el.contains(r.target)&&!e.overlay.contains(r.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function t(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function t(){var e=this;this.scrollHandler||(this.scrollHandler=new ConnectedOverlayScrollHandler(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function t(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function t(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!DomHandler.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function t(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function t(){var e=this;if(!this.editable&&!this.labelClickListener){var r=document.querySelector('label[for="'.concat(this.inputId,'"]'));r&&DomHandler.isVisible(r)&&(this.labelClickListener=function(){DomHandler.focus(e.$refs.focusInput)},r.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function t(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&DomHandler.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function t(){return DomHandler.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function t(e){var r;return this.isValidOption(e)&&((r=this.getOptionLabel(e))===null||r===void 0?void 0:r.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function t(e){return ObjectUtils.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function t(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function t(e){return this.isValidOption(e)&&ObjectUtils.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function t(){var e=this;return this.visibleOptions.findIndex(function(r){return e.isValidOption(r)})},findLastOptionIndex:function t(){var e=this;return ObjectUtils.findLastIndex(this.visibleOptions,function(r){return e.isValidOption(r)})},findNextOptionIndex:function t(e){var r=this,xe=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(Se){return r.isValidOption(Se)}):-1;return xe>-1?xe+e+1:e},findPrevOptionIndex:function t(e){var r=this,xe=e>0?ObjectUtils.findLastIndex(this.visibleOptions.slice(0,e),function(Se){return r.isValidOption(Se)}):-1;return xe>-1?xe:e},findSelectedOptionIndex:function t(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(r){return e.isValidSelectedOption(r)}):-1},findFirstFocusedOptionIndex:function t(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function t(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function t(e,r){var xe=this;this.searchValue=(this.searchValue||"")+r;var Se=-1,_e=!1;return ObjectUtils.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(Se=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(Ae){return xe.isOptionMatched(Ae)}),Se=Se===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(Ae){return xe.isOptionMatched(Ae)}):Se+this.focusedOptionIndex):Se=this.visibleOptions.findIndex(function(Ae){return xe.isOptionMatched(Ae)}),Se!==-1&&(_e=!0),Se===-1&&this.focusedOptionIndex===-1&&(Se=this.findFirstFocusedOptionIndex()),Se!==-1&&this.changeFocusedOptionIndex(e,Se)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){xe.searchValue="",xe.searchTimeout=null},500),_e},changeFocusedOptionIndex:function t(e,r){this.focusedOptionIndex!==r&&(this.focusedOptionIndex=r,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[r],!1))},scrollInView:function t(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var xe=r!==-1?"".concat(e.id,"_").concat(r):e.focusedOptionId,Se=DomHandler.findSingle(e.list,'li[id="'.concat(xe,'"]'));Se?Se.scrollIntoView&&Se.scrollIntoView({block:"nearest",inline:"start"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(r!==-1?r:e.focusedOptionIndex)})},autoUpdateModel:function t(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function t(e,r){this.$emit("update:modelValue",r),this.$emit("change",{originalEvent:e,value:r})},flatOptions:function t(e){var r=this;return(e||[]).reduce(function(xe,Se,_e){xe.push({optionGroup:Se,group:!0,index:_e});var Ae=r.getOptionGroupChildren(Se);return Ae&&Ae.forEach(function(Ce){return xe.push(Ce)}),xe},[])},overlayRef:function t(e){this.overlay=e},listRef:function t(e,r){this.list=e,r&&r(e)},virtualScrollerRef:function t(e){this.virtualScroller=e}},computed:{visibleOptions:function t(){var e=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var xe=FilterService.filter(r,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var Se=this.options||[],_e=[];return Se.forEach(function(Ae){var Ce=e.getOptionGroupChildren(Ae),Pe=Ce.filter(function(Ee){return xe.includes(Ee)});Pe.length>0&&_e.push(_objectSpread$1$1(_objectSpread$1$1({},Ae),{},_defineProperty$1$1({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",_toConsumableArray(Pe))))}),this.flatOptions(_e)}return xe}return r},hasSelectedOption:function t(){return ObjectUtils.isNotEmpty(this.modelValue)},label:function t(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function t(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function t(){return this.optionValue?null:this.dataKey},searchFields:function t(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function t(){return ObjectUtils.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function t(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function t(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function t(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function t(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function t(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function t(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},listAriaLabel:function t(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function t(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function t(){var e=this;return this.visibleOptions.filter(function(r){return!e.isOptionGroup(r)}).length},virtualScrollerDisabled:function t(){return!this.virtualScrollerOptions}},directives:{ripple:Ripple},components:{VirtualScroller:script$i,Portal:script$b,TimesIcon:script$c,ChevronDownIcon:script$n,SpinnerIcon:script$j,SearchIcon:script$k,CheckIcon:script$g,BlankIcon:script$d}};function _typeof$6(t){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(t)}function ownKeys$4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$4(Object(r),!0).forEach(function(xe){_defineProperty$5(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$4(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$5(t,e,r){return e=_toPropertyKey$5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$5(t){var e=_toPrimitive$5(t,"string");return _typeof$6(e)=="symbol"?e:String(e)}function _toPrimitive$5(t,e){if(_typeof$6(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$6(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _hoisted_1$c=["id"],_hoisted_2$a=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],_hoisted_3$6=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],_hoisted_4$6=["value","placeholder","aria-owns","aria-activedescendant"],_hoisted_5$4=["id","aria-label"],_hoisted_6$3=["id"],_hoisted_7$2=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function render$9(t,e,r,xe,Se,_e){var Ae=resolveComponent("SpinnerIcon"),Ce=resolveComponent("CheckIcon"),Pe=resolveComponent("BlankIcon"),Ee=resolveComponent("VirtualScroller"),Oe=resolveComponent("Portal"),Me=resolveDirective("ripple");return openBlock(),createElementBlock("div",mergeProps({ref:"container",id:Se.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return _e.onContainerClick&&_e.onContainerClick.apply(_e,arguments)})},t.ptmi("root")),[t.editable?(openBlock(),createElementBlock("input",mergeProps({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:_e.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":Se.overlayVisible,"aria-controls":Se.id+"_list","aria-activedescendant":Se.focused?_e.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return _e.onFocus&&_e.onFocus.apply(_e,arguments)}),onBlur:e[1]||(e[1]=function(){return _e.onBlur&&_e.onBlur.apply(_e,arguments)}),onKeydown:e[2]||(e[2]=function(){return _e.onKeyDown&&_e.onKeyDown.apply(_e,arguments)}),onInput:e[3]||(e[3]=function(){return _e.onEditableInput&&_e.onEditableInput.apply(_e,arguments)})},_objectSpread$4(_objectSpread$4({},t.inputProps),t.ptm("input"))),null,16,_hoisted_2$a)):(openBlock(),createElementBlock("span",mergeProps({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(_e.label==="p-emptylabel"?void 0:_e.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":Se.overlayVisible,"aria-controls":Se.id+"_list","aria-activedescendant":Se.focused?_e.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return _e.onFocus&&_e.onFocus.apply(_e,arguments)}),onBlur:e[5]||(e[5]=function(){return _e.onBlur&&_e.onBlur.apply(_e,arguments)}),onKeydown:e[6]||(e[6]=function(){return _e.onKeyDown&&_e.onKeyDown.apply(_e,arguments)})},_objectSpread$4(_objectSpread$4({},t.inputProps),t.ptm("input"))),[renderSlot(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[createTextVNode(toDisplayString(_e.label==="p-emptylabel"?"":_e.label||"empty"),1)]})],16,_hoisted_3$6)),t.showClear&&t.modelValue!=null?renderSlot(t.$slots,"clearicon",{key:2,class:normalizeClass(t.cx("clearIcon")),onClick:_e.onClearClick,clearCallback:_e.onClearClick},function(){return[(openBlock(),createBlock(resolveDynamicComponent(t.clearIcon?"i":"TimesIcon"),mergeProps({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:_e.onClearClick},_objectSpread$4(_objectSpread$4({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):createCommentVNode("",!0),createBaseVNode("div",mergeProps({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?renderSlot(t.$slots,"loadingicon",{key:0,class:normalizeClass(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(openBlock(),createElementBlock("span",mergeProps({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(openBlock(),createBlock(Ae,mergeProps({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):renderSlot(t.$slots,"dropdownicon",{key:1,class:normalizeClass(t.cx("dropdownIcon"))},function(){return[(openBlock(),createBlock(resolveDynamicComponent(t.dropdownIcon?"span":"ChevronDownIcon"),mergeProps({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),createVNode(Oe,{appendTo:t.appendTo},{default:withCtx(function(){return[createVNode(Transition,mergeProps({name:"p-connected-overlay",onEnter:_e.onOverlayEnter,onAfterEnter:_e.onOverlayAfterEnter,onLeave:_e.onOverlayLeave,onAfterLeave:_e.onOverlayAfterLeave},t.ptm("transition")),{default:withCtx(function(){return[Se.overlayVisible?(openBlock(),createElementBlock("div",mergeProps({key:0,ref:_e.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return _e.onOverlayClick&&_e.onOverlayClick.apply(_e,arguments)}),onKeydown:e[15]||(e[15]=function(){return _e.onOverlayKeyDown&&_e.onOverlayKeyDown.apply(_e,arguments)})},_objectSpread$4(_objectSpread$4({},t.panelProps),t.ptm("panel"))),[createBaseVNode("span",mergeProps({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return _e.onFirstHiddenFocus&&_e.onFirstHiddenFocus.apply(_e,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),renderSlot(t.$slots,"header",{value:t.modelValue,options:_e.visibleOptions}),t.filter?(openBlock(),createElementBlock("div",mergeProps({key:0,class:t.cx("header")},t.ptm("header")),[createBaseVNode("div",mergeProps({class:t.cx("filterContainer")},t.ptm("filterContainer")),[createBaseVNode("input",mergeProps({ref:"filterInput",type:"text",value:Se.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return _e.onFilterUpdated&&_e.onFilterUpdated.apply(_e,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return _e.onFilterUpdated&&_e.onFilterUpdated.apply(_e,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":Se.id+"_list","aria-activedescendant":_e.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return _e.onFilterKeyDown&&_e.onFilterKeyDown.apply(_e,arguments)}),onBlur:e[11]||(e[11]=function(){return _e.onFilterBlur&&_e.onFilterBlur.apply(_e,arguments)}),onInput:e[12]||(e[12]=function(){return _e.onFilterChange&&_e.onFilterChange.apply(_e,arguments)})},_objectSpread$4(_objectSpread$4({},t.filterInputProps),t.ptm("filterInput"))),null,16,_hoisted_4$6),renderSlot(t.$slots,"filtericon",{class:normalizeClass(t.cx("filterIcon"))},function(){return[(openBlock(),createBlock(resolveDynamicComponent(t.filterIcon?"span":"SearchIcon"),mergeProps({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),createBaseVNode("span",mergeProps({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),toDisplayString(_e.filterResultMessageText),17)],16)):createCommentVNode("",!0),createBaseVNode("div",mergeProps({class:t.cx("wrapper"),style:{"max-height":_e.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[createVNode(Ee,mergeProps({ref:_e.virtualScrollerRef},t.virtualScrollerOptions,{items:_e.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:_e.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),createSlots({content:withCtx(function(De){var Te=De.styleClass,ke=De.contentRef,Fe=De.items,$e=De.getItemOptions,Be=De.contentStyle,Ie=De.itemSize;return[createBaseVNode("ul",mergeProps({ref:function(je){return _e.listRef(je,ke)},id:Se.id+"_list",class:[t.cx("list"),Te],style:Be,role:"listbox","aria-label":_e.listAriaLabel},t.ptm("list")),[(openBlock(!0),createElementBlock(Fragment,null,renderList(Fe,function(Re,je){return openBlock(),createElementBlock(Fragment,{key:_e.getOptionRenderKey(Re,_e.getOptionIndex(je,$e))},[_e.isOptionGroup(Re)?(openBlock(),createElementBlock("li",mergeProps({key:0,id:Se.id+"_"+_e.getOptionIndex(je,$e),style:{height:Ie?Ie+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[renderSlot(t.$slots,"optiongroup",{option:Re.optionGroup,index:_e.getOptionIndex(je,$e)},function(){return[createBaseVNode("span",mergeProps({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),toDisplayString(_e.getOptionGroupLabel(Re.optionGroup)),17)]})],16,_hoisted_6$3)):withDirectives((openBlock(),createElementBlock("li",mergeProps({key:1,id:Se.id+"_"+_e.getOptionIndex(je,$e),class:t.cx("item",{option:Re,focusedOption:_e.getOptionIndex(je,$e)}),style:{height:Ie?Ie+"px":void 0},role:"option","aria-label":_e.getOptionLabel(Re),"aria-selected":_e.isSelected(Re),"aria-disabled":_e.isOptionDisabled(Re),"aria-setsize":_e.ariaSetSize,"aria-posinset":_e.getAriaPosInset(_e.getOptionIndex(je,$e)),onClick:function(He){return _e.onOptionSelect(He,Re)},onMousemove:function(He){return _e.onOptionMouseMove(He,_e.getOptionIndex(je,$e))},"data-p-highlight":_e.isSelected(Re),"data-p-focused":Se.focusedOptionIndex===_e.getOptionIndex(je,$e),"data-p-disabled":_e.isOptionDisabled(Re)},_e.getPTItemOptions(Re,$e,je,"item")),[t.checkmark?(openBlock(),createElementBlock(Fragment,{key:0},[_e.isSelected(Re)?(openBlock(),createBlock(Ce,mergeProps({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(openBlock(),createBlock(Pe,mergeProps({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):createCommentVNode("",!0),renderSlot(t.$slots,"option",{option:Re,index:_e.getOptionIndex(je,$e)},function(){return[createBaseVNode("span",mergeProps({class:t.cx("itemLabel")},t.ptm("itemLabel")),toDisplayString(_e.getOptionLabel(Re)),17)]})],16,_hoisted_7$2)),[[Me]])],64)}),128)),Se.filterValue&&(!Fe||Fe&&Fe.length===0)?(openBlock(),createElementBlock("li",mergeProps({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[renderSlot(t.$slots,"emptyfilter",{},function(){return[createTextVNode(toDisplayString(_e.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(openBlock(),createElementBlock("li",mergeProps({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[renderSlot(t.$slots,"empty",{},function(){return[createTextVNode(toDisplayString(_e.emptyMessageText),1)]})],16)):createCommentVNode("",!0)],16,_hoisted_5$4)]}),_:2},[t.$slots.loader?{name:"loader",fn:withCtx(function(De){var Te=De.options;return[renderSlot(t.$slots,"loader",{options:Te})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),renderSlot(t.$slots,"footer",{value:t.modelValue,options:_e.visibleOptions}),!t.options||t.options&&t.options.length===0?(openBlock(),createElementBlock("span",mergeProps({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),toDisplayString(_e.emptyMessageText),17)):createCommentVNode("",!0),createBaseVNode("span",mergeProps({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),toDisplayString(_e.selectedMessageText),17),createBaseVNode("span",mergeProps({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return _e.onLastHiddenFocus&&_e.onLastHiddenFocus.apply(_e,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):createCommentVNode("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,_hoisted_1$c)}script$a.render=render$9;function getCircularReplacer(){const t=[];return function(e,r){if(typeof r!="object"||r===null)return r;for(;t.length>0&&t[t.length-1]!==this;)t.pop();return t.includes(r)?"[Circular]":(t.push(r),r)}}function safeStringify(t,e){let r=t;return t instanceof Error&&(r={name:t.name,message:t.message,stack:t.stack}),JSON.stringify(r,getCircularReplacer(),e)}const scriptRel="modulepreload",assetsURL=function(t){return"/oxyplot-js/"+t},seen={},__vitePreload=function t(e,r,xe){let Se=Promise.resolve();if(r&&r.length>0){const _e=document.getElementsByTagName("link");Se=Promise.all(r.map(Ae=>{if(Ae=assetsURL(Ae),Ae in seen)return;seen[Ae]=!0;const Ce=Ae.endsWith(".css"),Pe=Ce?'[rel="stylesheet"]':"";if(!!xe)for(let Me=_e.length-1;Me>=0;Me--){const De=_e[Me];if(De.href===Ae&&(!Ce||De.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${Ae}"]${Pe}`))return;const Oe=document.createElement("link");if(Oe.rel=Ce?"stylesheet":scriptRel,Ce||(Oe.as="script",Oe.crossOrigin=""),Oe.href=Ae,document.head.appendChild(Oe),Ce)return new Promise((Me,De)=>{Oe.addEventListener("load",Me),Oe.addEventListener("error",()=>De(new Error(`Unable to preload CSS for ${Ae}`)))})}))}return Se.then(()=>e()).catch(_e=>{const Ae=new Event("vite:preloadError",{cancelable:!0});if(Ae.payload=_e,window.dispatchEvent(Ae),!Ae.defaultPrevented)throw _e})};function _typeof$5(t){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(t)}var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(t,e){for(var r=new u16(31),xe=0;xe<31;++xe)r[xe]=e+=1<<t[xe-1];for(var Se=new u32(r[30]),xe=1;xe<30;++xe)for(var _e=r[xe];_e<r[xe+1];++_e)Se[_e]=_e-r[xe]<<5|xe;return[r,Se]},_a=freb(fleb,2),fl=_a[0],revfl=_a[1];fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b[0],revfd=_b[1],rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>>8|(x$1&255)<<8)>>>1}var hMap=function(t,e,r){for(var xe=t.length,Se=0,_e=new u16(e);Se<xe;++Se)++_e[t[Se]-1];var Ae=new u16(e);for(Se=0;Se<e;++Se)Ae[Se]=Ae[Se-1]+_e[Se-1]<<1;var Ce;if(r){Ce=new u16(1<<e);var Pe=15-e;for(Se=0;Se<xe;++Se)if(t[Se])for(var Ee=Se<<4|t[Se],Oe=e-t[Se],Me=Ae[t[Se]-1]++<<Oe,De=Me|(1<<Oe)-1;Me<=De;++Me)Ce[rev[Me]>>>Pe]=Ee}else for(Ce=new u16(xe),Se=0;Se<xe;++Se)Ce[Se]=rev[Ae[t[Se]-1]++]>>>15-t[Se];return Ce},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},bits=function(t,e,r){var xe=e/8>>0;return(t[xe]|t[xe+1]<<8)>>>(e&7)&r},bits16=function(t,e){var r=e/8>>0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>>(e&7)},shft=function(t){return(t/8>>0)+(t&7&&1)},slc=function(t,e,r){(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length);var xe=new(t instanceof u16?u16:t instanceof u32?u32:u8)(r-e);return xe.set(t.subarray(e,r)),xe},inflt=function(t,e,r){var xe=t.length,Se=!e||r,_e=!r||r.i;r||(r={}),e||(e=new u8(xe*3));var Ae=function(Ai){var Mi=e.length;if(Ai>Mi){var Fi=new u8(Math.max(Mi*2,Ai));Fi.set(e),e=Fi}},Ce=r.f||0,Pe=r.p||0,Ee=r.b||0,Oe=r.l,Me=r.d,De=r.m,Te=r.n,ke=xe*8;do{if(!Oe){r.f=Ce=bits(t,Pe,1);var Fe=bits(t,Pe+1,3);if(Pe+=3,Fe)if(Fe==1)Oe=flrm,Me=fdrm,De=9,Te=5;else if(Fe==2){var Re=bits(t,Pe,31)+257,je=bits(t,Pe+10,15)+4,Ve=Re+bits(t,Pe+5,31)+1;Pe+=14;for(var He=new u8(Ve),ze=new u8(19),Ue=0;Ue<je;++Ue)ze[clim[Ue]]=bits(t,Pe+Ue*3,7);Pe+=je*3;var We=max(ze),qe=(1<<We)-1;if(!_e&&Pe+Ve*(We+7)>ke)break;for(var Ge=hMap(ze,We,1),Ue=0;Ue<Ve;){var Ye=Ge[bits(t,Pe,qe)];Pe+=Ye&15;var $e=Ye>>>4;if($e<16)He[Ue++]=$e;else{var Qe=0,Je=0;for($e==16?(Je=3+bits(t,Pe,3),Pe+=2,Qe=He[Ue-1]):$e==17?(Je=3+bits(t,Pe,7),Pe+=3):$e==18&&(Je=11+bits(t,Pe,127),Pe+=7);Je--;)He[Ue++]=Qe}}var ri=He.subarray(0,Re),hi=He.subarray(Re);De=max(ri),Te=max(hi),Oe=hMap(ri,De,1),Me=hMap(hi,Te,1)}else throw"invalid block type";else{var $e=shft(Pe)+4,Be=t[$e-4]|t[$e-3]<<8,Ie=$e+Be;if(Ie>xe){if(_e)throw"unexpected EOF";break}Se&&Ae(Ee+Be),e.set(t.subarray($e,Ie),Ee),r.b=Ee+=Be,r.p=Pe=Ie*8;continue}if(Pe>ke)throw"unexpected EOF"}Se&&Ae(Ee+131072);for(var pi=(1<<De)-1,ni=(1<<Te)-1,di=De+Te+18;_e||Pe+di<ke;){var Qe=Oe[bits16(t,Pe)&pi],fi=Qe>>>4;if(Pe+=Qe&15,Pe>ke)throw"unexpected EOF";if(!Qe)throw"invalid length/literal";if(fi<256)e[Ee++]=fi;else if(fi==256){Oe=null;break}else{var Pi=fi-254;if(fi>264){var Ue=fi-257,ci=fleb[Ue];Pi=bits(t,Pe,(1<<ci)-1)+fl[Ue],Pe+=ci}var xi=Me[bits16(t,Pe)&ni],yi=xi>>>4;if(!xi)throw"invalid distance";Pe+=xi&15;var hi=fd[yi];if(yi>3){var ci=fdeb[yi];hi+=bits16(t,Pe)&(1<<ci)-1,Pe+=ci}if(Pe>ke)throw"unexpected EOF";Se&&Ae(Ee+131072);for(var gi=Ee+Pi;Ee<gi;Ee+=4)e[Ee]=e[Ee-hi],e[Ee+1]=e[Ee+1-hi],e[Ee+2]=e[Ee+2-hi],e[Ee+3]=e[Ee+3-hi];Ee=gi}}r.l=Oe,r.p=Pe,r.b=Ee,Oe&&(Ce=1,r.m=De,r.d=Me,r.n=Te)}while(!Ce);return Ee==e.length?e:slc(e,0,Ee)},wbits=function(t,e,r){r<<=e&7;var xe=e/8>>0;t[xe]|=r,t[xe+1]|=r>>>8},wbits16=function(t,e,r){r<<=e&7;var xe=e/8>>0;t[xe]|=r,t[xe+1]|=r>>>8,t[xe+2]|=r>>>16},hTree=function(t,e){for(var r=[],xe=0;xe<t.length;++xe)t[xe]&&r.push({s:xe,f:t[xe]});var Se=r.length,_e=r.slice();if(!Se)return[new u8(0),0];if(Se==1){var Ae=new u8(r[0].s+1);return Ae[r[0].s]=1,[Ae,1]}r.sort(function(Ve,He){return Ve.f-He.f}),r.push({s:-1,f:25001});var Ce=r[0],Pe=r[1],Ee=0,Oe=1,Me=2;for(r[0]={s:-1,f:Ce.f+Pe.f,l:Ce,r:Pe};Oe!=Se-1;)Ce=r[r[Ee].f<r[Me].f?Ee++:Me++],Pe=r[Ee!=Oe&&r[Ee].f<r[Me].f?Ee++:Me++],r[Oe++]={s:-1,f:Ce.f+Pe.f,l:Ce,r:Pe};for(var De=_e[0].s,xe=1;xe<Se;++xe)_e[xe].s>De&&(De=_e[xe].s);var Te=new u16(De+1),ke=ln(r[Oe-1],Te,0);if(ke>e){var xe=0,Fe=0,$e=ke-e,Be=1<<$e;for(_e.sort(function(He,ze){return Te[ze.s]-Te[He.s]||He.f-ze.f});xe<Se;++xe){var Ie=_e[xe].s;if(Te[Ie]>e)Fe+=Be-(1<<ke-Te[Ie]),Te[Ie]=e;else break}for(Fe>>>=$e;Fe>0;){var Re=_e[xe].s;Te[Re]<e?Fe-=1<<e-Te[Re]++-1:++xe}for(;xe>=0&&Fe;--xe){var je=_e[xe].s;Te[je]==e&&(--Te[je],++Fe)}ke=e}return[new u8(Te),ke]},ln=function(t,e,r){return t.s==-1?Math.max(ln(t.l,e,r+1),ln(t.r,e,r+1)):e[t.s]=r},lc=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new u16(++e),xe=0,Se=t[0],_e=1,Ae=function(Pe){r[xe++]=Pe},Ce=1;Ce<=e;++Ce)if(t[Ce]==Se&&Ce!=e)++_e;else{if(!Se&&_e>2){for(;_e>138;_e-=138)Ae(32754);_e>2&&(Ae(_e>10?_e-11<<5|28690:_e-3<<5|12305),_e=0)}else if(_e>3){for(Ae(Se),--_e;_e>6;_e-=6)Ae(8304);_e>2&&(Ae(_e-3<<5|8208),_e=0)}for(;_e--;)Ae(Se);_e=1,Se=t[Ce]}return[r.subarray(0,xe),e]},clen=function(t,e){for(var r=0,xe=0;xe<e.length;++xe)r+=t[xe]*e[xe];return r},wfblk=function(t,e,r){var xe=r.length,Se=shft(e+2);t[Se]=xe&255,t[Se+1]=xe>>>8,t[Se+2]=t[Se]^255,t[Se+3]=t[Se+1]^255;for(var _e=0;_e<xe;++_e)t[Se+_e+4]=r[_e];return(Se+4+xe)*8},wblk=function(t,e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe){wbits(e,Oe++,r),++Se[256];for(var Me=hTree(Se,15),De=Me[0],Te=Me[1],ke=hTree(_e,15),Fe=ke[0],$e=ke[1],Be=lc(De),Ie=Be[0],Re=Be[1],je=lc(Fe),Ve=je[0],He=je[1],ze=new u16(19),Ue=0;Ue<Ie.length;++Ue)ze[Ie[Ue]&31]++;for(var Ue=0;Ue<Ve.length;++Ue)ze[Ve[Ue]&31]++;for(var We=hTree(ze,7),qe=We[0],Ge=We[1],Ye=19;Ye>4&&!qe[clim[Ye-1]];--Ye);var Qe=Ee+5<<3,Je=clen(Se,flt)+clen(_e,fdt)+Ae,ri=clen(Se,De)+clen(_e,Fe)+Ae+14+3*Ye+clen(ze,qe)+(2*ze[16]+3*ze[17]+7*ze[18]);if(Qe<=Je&&Qe<=ri)return wfblk(e,Oe,t.subarray(Pe,Pe+Ee));var hi,pi,ni,di;if(wbits(e,Oe,1+(ri<Je)),Oe+=2,ri<Je){hi=hMap(De,Te,0),pi=De,ni=hMap(Fe,$e,0),di=Fe;var fi=hMap(qe,Ge,0);wbits(e,Oe,Re-257),wbits(e,Oe+5,He-1),wbits(e,Oe+10,Ye-4),Oe+=14;for(var Ue=0;Ue<Ye;++Ue)wbits(e,Oe+3*Ue,qe[clim[Ue]]);Oe+=3*Ye;for(var Pi=[Ie,Ve],ci=0;ci<2;++ci)for(var xi=Pi[ci],Ue=0;Ue<xi.length;++Ue){var yi=xi[Ue]&31;wbits(e,Oe,fi[yi]),Oe+=qe[yi],yi>15&&(wbits(e,Oe,xi[Ue]>>>5&127),Oe+=xi[Ue]>>>12)}}else hi=flm,pi=flt,ni=fdm,di=fdt;for(var Ue=0;Ue<Ce;++Ue)if(xe[Ue]>255){var yi=xe[Ue]>>>18&31;wbits16(e,Oe,hi[yi+257]),Oe+=pi[yi+257],yi>7&&(wbits(e,Oe,xe[Ue]>>>23&31),Oe+=fleb[yi]);var gi=xe[Ue]&31;wbits16(e,Oe,ni[gi]),Oe+=di[gi],gi>3&&(wbits16(e,Oe,xe[Ue]>>>5&8191),Oe+=fdeb[gi])}else wbits16(e,Oe,hi[xe[Ue]]),Oe+=pi[xe[Ue]];return wbits16(e,Oe,hi[256]),Oe+pi[256]},deo=new u32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(t,e,r,xe,Se,_e){var Ae=t.length,Ce=new u8(xe+Ae+5*(1+Math.floor(Ae/7e3))+Se),Pe=Ce.subarray(xe,Ce.length-Se),Ee=0;if(!e||Ae<8)for(var Oe=0;Oe<=Ae;Oe+=65535){var Me=Oe+65535;Me<Ae?Ee=wfblk(Pe,Ee,t.subarray(Oe,Me)):(Pe[Oe]=_e,Ee=wfblk(Pe,Ee,t.subarray(Oe,Ae)))}else{for(var De=deo[e-1],Te=De>>>13,ke=De&8191,Fe=(1<<r)-1,$e=new u16(32768),Be=new u16(Fe+1),Ie=Math.ceil(r/3),Re=2*Ie,je=function(ui){return(t[ui]^t[ui+1]<<Ie^t[ui+2]<<Re)&Fe},Ve=new u32(25e3),He=new u16(288),ze=new u16(32),Ue=0,We=0,Oe=0,qe=0,Ge=0,Ye=0;Oe<Ae;++Oe){var Qe=je(Oe),Je=Oe&32767,ri=Be[Qe];if($e[Je]=ri,Be[Qe]=Je,Ge<=Oe){var hi=Ae-Oe;if((Ue>7e3||qe>24576)&&hi>423){Ee=wblk(t,Pe,0,Ve,He,ze,We,qe,Ye,Oe-Ye,Ee),qe=Ue=We=0,Ye=Oe;for(var pi=0;pi<286;++pi)He[pi]=0;for(var pi=0;pi<30;++pi)ze[pi]=0}var ni=2,di=0,fi=ke,Pi=Je-ri&32767;if(hi>2&&Qe==je(Oe-Pi))for(var ci=Math.min(Te,hi)-1,xi=Math.min(32767,Oe),yi=Math.min(258,hi);Pi<=xi&&--fi&&Je!=ri;){if(t[Oe+ni]==t[Oe+ni-Pi]){for(var gi=0;gi<yi&&t[Oe+gi]==t[Oe+gi-Pi];++gi);if(gi>ni){if(ni=gi,di=Pi,gi>ci)break;for(var Ai=Math.min(Pi,gi-2),Mi=0,pi=0;pi<Ai;++pi){var Fi=Oe-Pi+pi+32768&32767,Di=$e[Fi],oi=Fi-Di+32768&32767;oi>Mi&&(Mi=oi,ri=Fi)}}}Je=ri,ri=$e[Je],Pi+=Je-ri+32768&32767}if(di){Ve[qe++]=268435456|revfl[ni]<<18|revfd[di];var Ke=revfl[ni]&31,St=revfd[di]&31;We+=fleb[Ke]+fdeb[St],++He[257+Ke],++ze[St],Ge=Oe+ni,++Ue}else Ve[qe++]=t[Oe],++He[t[Oe]]}}Ee=wblk(t,Pe,_e,Ve,He,ze,We,qe,Ye,Oe-Ye,Ee),_e||(Ee=wfblk(Pe,Ee,et$1))}return slc(Ce,0,xe+shft(Ee)+Se)},adler=function(){var t=1,e=0;return{p:function(r){for(var xe=t,Se=e,_e=r.length,Ae=0;Ae!=_e;){for(var Ce=Math.min(Ae+5552,_e);Ae<Ce;++Ae)xe+=r[Ae],Se+=xe;xe%=65521,Se%=65521}t=xe,e=Se},d:function(){return(t>>>8<<16|(e&255)<<8|e>>>8)+((t&255)<<23)*2}}},dopt=function(t,e,r,xe,Se){return dflt(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,r,xe,!Se)},wbytes=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},zlh=function(t,e){var r=e.level,xe=r==0?0:r<6?1:r==9?3:2;t[0]=120,t[1]=xe<<6|(xe?32-2*xe:1)},zlv=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function zlibSync(t,e){e===void 0&&(e={});var r=adler();r.p(t);var xe=dopt(t,e,2,4);return zlh(xe,e),wbytes(xe,xe.length-4,r.d()),xe}function unzlibSync(t,e){return inflt((zlv(t),t.subarray(2,-4)),e)}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(t){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(t){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(t))}};function o(t,e,r){var xe=new XMLHttpRequest;xe.open("GET",t),xe.responseType="blob",xe.onload=function(){l(xe.response,e,r)},xe.onerror=function(){a.error("could not download file")},xe.send()}function s(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function c(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof$5(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var xe=n.URL||n.webkitURL,Se=document.createElement("a");e=e||t.name||"download",Se.download=e,Se.rel="noopener",typeof t=="string"?(Se.href=t,Se.origin!==location.origin?s(Se.href)?o(t,e,r):c(Se,Se.target="_blank"):c(Se)):(Se.href=xe.createObjectURL(t),setTimeout(function(){xe.revokeObjectURL(Se.href)},4e4),setTimeout(function(){c(Se)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(s(t))o(t,e,r);else{var xe=document.createElement("a");xe.href=t,xe.target="_blank",setTimeout(function(){c(xe)})}else navigator.msSaveOrOpenBlob(function(Se,_e){return _e===void 0?_e={autoBom:!1}:_typeof$5(_e)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),_e={autoBom:!_e}),_e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Se.type)?new Blob(["\uFEFF",Se],{type:Se.type}):Se}(t,r),e)}:function(t,e,r,xe){if((xe=xe||open("","_blank"))&&(xe.document.title=xe.document.body.innerText="downloading..."),typeof t=="string")return o(t,e,r);var Se=t.type==="application/octet-stream",_e=/constructor/i.test(n.HTMLElement)||n.safari,Ae=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ae||Se&&_e)&&(typeof FileReader>"u"?"undefined":_typeof$5(FileReader))==="object"){var Ce=new FileReader;Ce.onloadend=function(){var Oe=Ce.result;Oe=Ae?Oe:Oe.replace(/^data:[^;]*;/,"data:attachment/file;"),xe?xe.location.href=Oe:location=Oe,xe=null},Ce.readAsDataURL(t)}else{var Pe=n.URL||n.webkitURL,Ee=Pe.createObjectURL(t);xe?xe.location=Ee:location.href=Ee,xe=null,setTimeout(function(){Pe.revokeObjectURL(Ee)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Ce){return[parseInt(Ce[1]),parseInt(Ce[2]),parseInt(Ce[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Ce){return[parseInt(Ce[1],16),parseInt(Ce[2],16),parseInt(Ce[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Ce){return[parseInt(Ce[1]+Ce[1],16),parseInt(Ce[2]+Ce[2],16),parseInt(Ce[3]+Ce[3],16)]}}],xe=0;xe<r.length;xe++){var Se=r[xe].re,_e=r[xe].process,Ae=Se.exec(t);Ae&&(e=_e(Ae),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Ce=this.r.toString(16),Pe=this.g.toString(16),Ee=this.b.toString(16);return Ce.length==1&&(Ce="0"+Ce),Pe.length==1&&(Pe="0"+Pe),Ee.length==1&&(Ee="0"+Ee),"#"+Ce+Pe+Ee}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d$1(t,e){var r=t[0],xe=t[1],Se=t[2],_e=t[3];r=g(r,xe,Se,_e,e[0],7,-680876936),_e=g(_e,r,xe,Se,e[1],12,-389564586),Se=g(Se,_e,r,xe,e[2],17,606105819),xe=g(xe,Se,_e,r,e[3],22,-1044525330),r=g(r,xe,Se,_e,e[4],7,-176418897),_e=g(_e,r,xe,Se,e[5],12,1200080426),Se=g(Se,_e,r,xe,e[6],17,-1473231341),xe=g(xe,Se,_e,r,e[7],22,-45705983),r=g(r,xe,Se,_e,e[8],7,1770035416),_e=g(_e,r,xe,Se,e[9],12,-1958414417),Se=g(Se,_e,r,xe,e[10],17,-42063),xe=g(xe,Se,_e,r,e[11],22,-1990404162),r=g(r,xe,Se,_e,e[12],7,1804603682),_e=g(_e,r,xe,Se,e[13],12,-40341101),Se=g(Se,_e,r,xe,e[14],17,-1502002290),r=m(r,xe=g(xe,Se,_e,r,e[15],22,1236535329),Se,_e,e[1],5,-165796510),_e=m(_e,r,xe,Se,e[6],9,-1069501632),Se=m(Se,_e,r,xe,e[11],14,643717713),xe=m(xe,Se,_e,r,e[0],20,-373897302),r=m(r,xe,Se,_e,e[5],5,-701558691),_e=m(_e,r,xe,Se,e[10],9,38016083),Se=m(Se,_e,r,xe,e[15],14,-660478335),xe=m(xe,Se,_e,r,e[4],20,-405537848),r=m(r,xe,Se,_e,e[9],5,568446438),_e=m(_e,r,xe,Se,e[14],9,-1019803690),Se=m(Se,_e,r,xe,e[3],14,-187363961),xe=m(xe,Se,_e,r,e[8],20,1163531501),r=m(r,xe,Se,_e,e[13],5,-1444681467),_e=m(_e,r,xe,Se,e[2],9,-51403784),Se=m(Se,_e,r,xe,e[7],14,1735328473),r=v(r,xe=m(xe,Se,_e,r,e[12],20,-1926607734),Se,_e,e[5],4,-378558),_e=v(_e,r,xe,Se,e[8],11,-2022574463),Se=v(Se,_e,r,xe,e[11],16,1839030562),xe=v(xe,Se,_e,r,e[14],23,-35309556),r=v(r,xe,Se,_e,e[1],4,-1530992060),_e=v(_e,r,xe,Se,e[4],11,1272893353),Se=v(Se,_e,r,xe,e[7],16,-155497632),xe=v(xe,Se,_e,r,e[10],23,-1094730640),r=v(r,xe,Se,_e,e[13],4,681279174),_e=v(_e,r,xe,Se,e[0],11,-358537222),Se=v(Se,_e,r,xe,e[3],16,-722521979),xe=v(xe,Se,_e,r,e[6],23,76029189),r=v(r,xe,Se,_e,e[9],4,-640364487),_e=v(_e,r,xe,Se,e[12],11,-421815835),Se=v(Se,_e,r,xe,e[15],16,530742520),r=b(r,xe=v(xe,Se,_e,r,e[2],23,-995338651),Se,_e,e[0],6,-198630844),_e=b(_e,r,xe,Se,e[7],10,1126891415),Se=b(Se,_e,r,xe,e[14],15,-1416354905),xe=b(xe,Se,_e,r,e[5],21,-57434055),r=b(r,xe,Se,_e,e[12],6,1700485571),_e=b(_e,r,xe,Se,e[3],10,-1894986606),Se=b(Se,_e,r,xe,e[10],15,-1051523),xe=b(xe,Se,_e,r,e[1],21,-2054922799),r=b(r,xe,Se,_e,e[8],6,1873313359),_e=b(_e,r,xe,Se,e[15],10,-30611744),Se=b(Se,_e,r,xe,e[6],15,-1560198380),xe=b(xe,Se,_e,r,e[13],21,1309151649),r=b(r,xe,Se,_e,e[4],6,-145523070),_e=b(_e,r,xe,Se,e[11],10,-1120210379),Se=b(Se,_e,r,xe,e[2],15,718787259),xe=b(xe,Se,_e,r,e[9],21,-343485551),t[0]=_(r,t[0]),t[1]=_(xe,t[1]),t[2]=_(Se,t[2]),t[3]=_(_e,t[3])}function p(t,e,r,xe,Se,_e){return e=_(_(e,t),_(xe,_e)),_(e<<Se|e>>>32-Se,r)}function g(t,e,r,xe,Se,_e,Ae){return p(e&r|~e&xe,t,e,Se,_e,Ae)}function m(t,e,r,xe,Se,_e,Ae){return p(e&xe|r&~xe,t,e,Se,_e,Ae)}function v(t,e,r,xe,Se,_e,Ae){return p(e^r^xe,t,e,Se,_e,Ae)}function b(t,e,r,xe,Se,_e,Ae){return p(r^(e|~xe),t,e,Se,_e,Ae)}function y(t){var e,r=t.length,xe=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)d$1(xe,w(t.substring(e-64,e)));t=t.substring(e-64);var Se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)Se[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(Se[e>>2]|=128<<(e%4<<3),e>55)for(d$1(xe,Se),e=0;e<16;e++)Se[e]=0;return Se[14]=8*r,d$1(xe,Se),xe}function w(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(t){for(var e="",r=0;r<4;r++)e+=N[t>>8*r+4&15]+N[t>>8*r&15];return e}function A(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function x(t){return y(t).map(A).join("")}var S=function(t){for(var e=0;e<t.length;e++)t[e]=L(t[e]);return t.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(t,e){if(S){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P$1(t,e){var r,xe,Se,_e;if(t!==r){for(var Ae=(Se=t,_e=1+(256/t.length>>0),new Array(_e+1).join(Se)),Ce=[],Pe=0;Pe<256;Pe++)Ce[Pe]=Pe;var Ee=0;for(Pe=0;Pe<256;Pe++){var Oe=Ce[Pe];Ee=(Ee+Oe+Ae.charCodeAt(Pe))%256,Ce[Pe]=Ce[Ee],Ce[Ee]=Oe}r=t,xe=Ce}else Ce=xe;var Me=e.length,De=0,Te=0,ke="";for(Pe=0;Pe<Me;Pe++)Te=(Te+(Oe=Ce[De=(De+1)%256]))%256,Ce[De]=Ce[Te],Ce[Te]=Oe,Ae=Ce[(Ce[De]+Ce[Te])%256],ke+=String.fromCharCode(e.charCodeAt(Pe)^Ae);return ke}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k$1={print:4,modify:8,copy:16,"annot-forms":32};function I(t,e,r,xe){this.v=1,this.r=2;var Se=192;t.forEach(function(Ce){if(k$1.perm!==void 0)throw new Error("Invalid permission: "+Ce);Se+=k$1[Ce]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var _e=(e+this.padding).substr(0,32),Ae=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(_e,Ae),this.P=-(1+(255^Se)),this.encryptionKey=x(_e+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(xe)).substr(0,5),this.U=P$1(this.encryptionKey,this.padding)}function F(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,xe=0;xe<r;xe++){var Se=t.charCodeAt(xe);Se<33||Se===35||Se===37||Se===40||Se===41||Se===47||Se===60||Se===62||Se===91||Se===93||Se===123||Se===125||Se>126?e+="#"+("0"+Se.toString(16)).slice(-2):e+=t[xe]}return e}function C(t){if(_typeof$5(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,xe,Se){if(Se=Se||!1,typeof r!="string"||typeof xe!="function"||typeof Se!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var _e=Math.random().toString(35);return e[r][_e]=[xe,!!Se],_e},this.unsubscribe=function(r){for(var xe in e)if(e[xe][r])return delete e[xe][r],Object.keys(e[xe]).length===0&&delete e[xe],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var xe=Array.prototype.slice.call(arguments,1),Se=[];for(var _e in e[r]){var Ae=e[r][_e];try{Ae[0].apply(t,xe)}catch(Ce){n.console&&a.error("jsPDF PubSub Error",Ce.message,Ce)}Ae[1]&&Se.push(_e)}Se.length&&Se.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function j$1(t){if(!(this instanceof j$1))return new j$1(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function O$1(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function B(t,e,r,xe,Se){if(!(this instanceof B))return new B(t,e,r,xe,Se);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,O$1.call(this,xe,Se)}function M(t,e,r,xe,Se){if(!(this instanceof M))return new M(t,e,r,xe,Se);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,O$1.call(this,xe,Se)}function E(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",xe=arguments[1],Se=arguments[2],_e=arguments[3],Ae=[],Ce=1,Pe=16,Ee="S",Oe=null;_typeof$5(t=t||{})==="object"&&(r=t.orientation,xe=t.unit||xe,Se=t.format||Se,_e=t.compress||t.compressPdf||_e,(Oe=t.encryption||null)!==null&&(Oe.userPassword=Oe.userPassword||"",Oe.ownerPassword=Oe.ownerPassword||"",Oe.userPermissions=Oe.userPermissions||[]),Ce=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(Pe=t.floatPrecision),Ee=t.defaultPathOperation||"S"),Ae=t.filters||(_e===!0?["FlateEncode"]:Ae),xe=xe||"mm",r=(""+(r||"P")).toLowerCase();var Me=t.putOnlyUsedFonts||!1,De={},Te={internal:{},__private__:{}};Te.__private__.PubSub=C;var ke="1.3",Fe=Te.__private__.getPdfVersion=function(){return ke};Te.__private__.setPdfVersion=function(ti){ke=ti};var $e={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Te.__private__.getPageFormats=function(){return $e};var Be=Te.__private__.getPageFormat=function(ti){return $e[ti]};Se=Se||"a4";var Ie={COMPAT:"compat",ADVANCED:"advanced"},Re=Ie.COMPAT;function je(){this.saveGraphicsState(),ii(new rn(Ni,0,0,-Ni,0,vo()*Ni).toString()+" cm"),this.setFontSize(this.getFontSize()/Ni),Ee="n",Re=Ie.ADVANCED}function Ve(){this.restoreGraphicsState(),Ee="S",Re=Ie.COMPAT}var He=Te.__private__.combineFontStyleAndFontWeight=function(ti,_i){if(ti=="bold"&&_i=="normal"||ti=="bold"&&_i==400||ti=="normal"&&_i=="italic"||ti=="bold"&&_i=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return _i&&(ti=_i==400||_i==="normal"?ti==="italic"?"italic":"normal":_i!=700&&_i!=="bold"||ti!=="normal"?(_i==700?"bold":_i)+""+ti:"bold"),ti};Te.advancedAPI=function(ti){var _i=Re===Ie.COMPAT;return _i&&je.call(this),typeof ti!="function"||(ti(this),_i&&Ve.call(this)),this},Te.compatAPI=function(ti){var _i=Re===Ie.ADVANCED;return _i&&Ve.call(this),typeof ti!="function"||(ti(this),_i&&je.call(this)),this},Te.isAdvancedAPI=function(){return Re===Ie.ADVANCED};var ze,Ue=function(ti){if(Re!==Ie.ADVANCED)throw new Error(ti+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},We=Te.roundToPrecision=Te.__private__.roundToPrecision=function(ti,_i){var $i=e||_i;if(isNaN(ti)||isNaN($i))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ti.toFixed($i).replace(/0+$/,"")};ze=Te.hpf=Te.__private__.hpf=typeof Pe=="number"?function(ti){if(isNaN(ti))throw new Error("Invalid argument passed to jsPDF.hpf");return We(ti,Pe)}:Pe==="smart"?function(ti){if(isNaN(ti))throw new Error("Invalid argument passed to jsPDF.hpf");return We(ti,ti>-1&&ti<1?16:5)}:function(ti){if(isNaN(ti))throw new Error("Invalid argument passed to jsPDF.hpf");return We(ti,16)};var qe=Te.f2=Te.__private__.f2=function(ti){if(isNaN(ti))throw new Error("Invalid argument passed to jsPDF.f2");return We(ti,2)},Ge=Te.__private__.f3=function(ti){if(isNaN(ti))throw new Error("Invalid argument passed to jsPDF.f3");return We(ti,3)},Ye=Te.scale=Te.__private__.scale=function(ti){if(isNaN(ti))throw new Error("Invalid argument passed to jsPDF.scale");return Re===Ie.COMPAT?ti*Ni:Re===Ie.ADVANCED?ti:void 0},Qe=function(ti){return Re===Ie.COMPAT?vo()-ti:Re===Ie.ADVANCED?ti:void 0},Je=function(ti){return Ye(Qe(ti))};Te.__private__.setPrecision=Te.setPrecision=function(ti){typeof parseInt(ti,10)=="number"&&(e=parseInt(ti,10))};var ri,hi="00000000000000000000000000000000",pi=Te.__private__.getFileId=function(){return hi},ni=Te.__private__.setFileId=function(ti){return hi=ti!==void 0&&/^[a-fA-F0-9]{32}$/.test(ti)?ti.toUpperCase():hi.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Oe!==null&&(_r=new I(Oe.userPermissions,Oe.userPassword,Oe.ownerPassword,hi)),hi};Te.setFileId=function(ti){return ni(ti),this},Te.getFileId=function(){return pi()};var di=Te.__private__.convertDateToPDFDate=function(ti){var _i=ti.getTimezoneOffset(),$i=_i<0?"+":"-",Ui=Math.floor(Math.abs(_i/60)),en=Math.abs(_i%60),fn=[$i,yi(Ui),"'",yi(en),"'"].join("");return["D:",ti.getFullYear(),yi(ti.getMonth()+1),yi(ti.getDate()),yi(ti.getHours()),yi(ti.getMinutes()),yi(ti.getSeconds()),fn].join("")},fi=Te.__private__.convertPDFDateToDate=function(ti){var _i=parseInt(ti.substr(2,4),10),$i=parseInt(ti.substr(6,2),10)-1,Ui=parseInt(ti.substr(8,2),10),en=parseInt(ti.substr(10,2),10),fn=parseInt(ti.substr(12,2),10),yn=parseInt(ti.substr(14,2),10);return new Date(_i,$i,Ui,en,fn,yn,0)},Pi=Te.__private__.setCreationDate=function(ti){var _i;if(ti===void 0&&(ti=new Date),ti instanceof Date)_i=di(ti);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ti))throw new Error("Invalid argument passed to jsPDF.setCreationDate");_i=ti}return ri=_i},ci=Te.__private__.getCreationDate=function(ti){var _i=ri;return ti==="jsDate"&&(_i=fi(ri)),_i};Te.setCreationDate=function(ti){return Pi(ti),this},Te.getCreationDate=function(ti){return ci(ti)};var xi,yi=Te.__private__.padd2=function(ti){return("0"+parseInt(ti)).slice(-2)},gi=Te.__private__.padd2Hex=function(ti){return("00"+(ti=ti.toString())).substr(ti.length)},Ai=0,Mi=[],Fi=[],Di=0,oi=[],Ke=[],St=!1,ei=Fi,ui=function(){Ai=0,Di=0,Fi=[],Mi=[],oi=[],er=Hn(),dr=Hn()};Te.__private__.setCustomOutputDestination=function(ti){St=!0,ei=ti};var ai=function(ti){St||(ei=ti)};Te.__private__.resetCustomOutputDestination=function(){St=!1,ei=Fi};var ii=Te.__private__.out=function(ti){return ti=ti.toString(),Di+=ti.length+1,ei.push(ti),ei},Ci=Te.__private__.write=function(ti){return ii(arguments.length===1?ti.toString():Array.prototype.join.call(arguments," "))},ki=Te.__private__.getArrayBuffer=function(ti){for(var _i=ti.length,$i=new ArrayBuffer(_i),Ui=new Uint8Array($i);_i--;)Ui[_i]=ti.charCodeAt(_i);return $i},bi=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Te.__private__.getStandardFonts=function(){return bi};var Ii=t.fontSize||16;Te.__private__.setFontSize=Te.setFontSize=function(ti){return Ii=Re===Ie.ADVANCED?ti/Ni:ti,this};var Bi,Vi=Te.__private__.getFontSize=Te.getFontSize=function(){return Re===Ie.COMPAT?Ii:Ii*Ni},ji=t.R2L||!1;Te.__private__.setR2L=Te.setR2L=function(ti){return ji=ti,this},Te.__private__.getR2L=Te.getR2L=function(){return ji};var Zi,Wi=Te.__private__.setZoomMode=function(ti){var _i=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ti))Bi=ti;else if(isNaN(ti)){if(_i.indexOf(ti)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ti+'" is not recognized.');Bi=ti}else Bi=parseInt(ti,10)};Te.__private__.getZoomMode=function(){return Bi};var Qi,wi=Te.__private__.setPageMode=function(ti){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ti)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ti+'" is not recognized.');Zi=ti};Te.__private__.getPageMode=function(){return Zi};var tn=Te.__private__.setLayoutMode=function(ti){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ti)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ti+'" is not recognized.');Qi=ti};Te.__private__.getLayoutMode=function(){return Qi},Te.__private__.setDisplayMode=Te.setDisplayMode=function(ti,_i,$i){return Wi(ti),tn(_i),wi($i),this};var Yi={title:"",subject:"",author:"",keywords:"",creator:""};Te.__private__.getDocumentProperty=function(ti){if(Object.keys(Yi).indexOf(ti)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Yi[ti]},Te.__private__.getDocumentProperties=function(){return Yi},Te.__private__.setDocumentProperties=Te.setProperties=Te.setDocumentProperties=function(ti){for(var _i in Yi)Yi.hasOwnProperty(_i)&&ti[_i]&&(Yi[_i]=ti[_i]);return this},Te.__private__.setDocumentProperty=function(ti,_i){if(Object.keys(Yi).indexOf(ti)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Yi[ti]=_i};var nn,Ni,Xi,an,cn,dn={},bn={},wn=[],Sn={},kn={},Ln={},jn={},Rn=null,Fn=0,On=[],Vn=new C(Te),un=t.hotfixes||[],Si={},Hi={},Ji=[],rn=function ti(_i,$i,Ui,en,fn,yn){if(!(this instanceof ti))return new ti(_i,$i,Ui,en,fn,yn);isNaN(_i)&&(_i=1),isNaN($i)&&($i=0),isNaN(Ui)&&(Ui=0),isNaN(en)&&(en=1),isNaN(fn)&&(fn=0),isNaN(yn)&&(yn=0),this._matrix=[_i,$i,Ui,en,fn,yn]};Object.defineProperty(rn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ti){this._matrix[0]=ti}}),Object.defineProperty(rn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ti){this._matrix[1]=ti}}),Object.defineProperty(rn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ti){this._matrix[2]=ti}}),Object.defineProperty(rn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ti){this._matrix[3]=ti}}),Object.defineProperty(rn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ti){this._matrix[4]=ti}}),Object.defineProperty(rn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ti){this._matrix[5]=ti}}),Object.defineProperty(rn.prototype,"a",{get:function(){return this._matrix[0]},set:function(ti){this._matrix[0]=ti}}),Object.defineProperty(rn.prototype,"b",{get:function(){return this._matrix[1]},set:function(ti){this._matrix[1]=ti}}),Object.defineProperty(rn.prototype,"c",{get:function(){return this._matrix[2]},set:function(ti){this._matrix[2]=ti}}),Object.defineProperty(rn.prototype,"d",{get:function(){return this._matrix[3]},set:function(ti){this._matrix[3]=ti}}),Object.defineProperty(rn.prototype,"e",{get:function(){return this._matrix[4]},set:function(ti){this._matrix[4]=ti}}),Object.defineProperty(rn.prototype,"f",{get:function(){return this._matrix[5]},set:function(ti){this._matrix[5]=ti}}),Object.defineProperty(rn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(rn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(rn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(rn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),rn.prototype.join=function(ti){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ze).join(ti)},rn.prototype.multiply=function(ti){var _i=ti.sx*this.sx+ti.shy*this.shx,$i=ti.sx*this.shy+ti.shy*this.sy,Ui=ti.shx*this.sx+ti.sy*this.shx,en=ti.shx*this.shy+ti.sy*this.sy,fn=ti.tx*this.sx+ti.ty*this.shx+this.tx,yn=ti.tx*this.shy+ti.ty*this.sy+this.ty;return new rn(_i,$i,Ui,en,fn,yn)},rn.prototype.decompose=function(){var ti=this.sx,_i=this.shy,$i=this.shx,Ui=this.sy,en=this.tx,fn=this.ty,yn=Math.sqrt(ti*ti+_i*_i),Pn=(ti/=yn)*$i+(_i/=yn)*Ui;$i-=ti*Pn,Ui-=_i*Pn;var Mn=Math.sqrt($i*$i+Ui*Ui);return Pn/=Mn,ti*(Ui/=Mn)<_i*($i/=Mn)&&(ti=-ti,_i=-_i,Pn=-Pn,yn=-yn),{scale:new rn(yn,0,0,Mn,0,0),translate:new rn(1,0,0,1,en,fn),rotate:new rn(ti,_i,-_i,ti,0,0),skew:new rn(1,0,Pn,1,0,0)}},rn.prototype.toString=function(ti){return this.join(" ")},rn.prototype.inversed=function(){var ti=this.sx,_i=this.shy,$i=this.shx,Ui=this.sy,en=this.tx,fn=this.ty,yn=1/(ti*Ui-_i*$i),Pn=Ui*yn,Mn=-_i*yn,Bn=-$i*yn,Un=ti*yn;return new rn(Pn,Mn,Bn,Un,-Pn*en-Bn*fn,-Mn*en-Un*fn)},rn.prototype.applyToPoint=function(ti){var _i=ti.x*this.sx+ti.y*this.shx+this.tx,$i=ti.x*this.shy+ti.y*this.sy+this.ty;return new Ko(_i,$i)},rn.prototype.applyToRectangle=function(ti){var _i=this.applyToPoint(ti),$i=this.applyToPoint(new Ko(ti.x+ti.w,ti.y+ti.h));return new _s(_i.x,_i.y,$i.x-_i.x,$i.y-_i.y)},rn.prototype.clone=function(){var ti=this.sx,_i=this.shy,$i=this.shx,Ui=this.sy,en=this.tx,fn=this.ty;return new rn(ti,_i,$i,Ui,en,fn)},Te.Matrix=rn;var vn=Te.matrixMult=function(ti,_i){return _i.multiply(ti)},An=new rn(1,0,0,1,0,0);Te.unitMatrix=Te.identityMatrix=An;var zn=function(ti,_i){if(!kn[ti]){var $i=(_i instanceof B?"Sh":"P")+(Object.keys(Sn).length+1).toString(10);_i.id=$i,kn[ti]=$i,Sn[$i]=_i,Vn.publish("addPattern",_i)}};Te.ShadingPattern=B,Te.TilingPattern=M,Te.addShadingPattern=function(ti,_i){return Ue("addShadingPattern()"),zn(ti,_i),this},Te.beginTilingPattern=function(ti){Ue("beginTilingPattern()"),la(ti.boundingBox[0],ti.boundingBox[1],ti.boundingBox[2]-ti.boundingBox[0],ti.boundingBox[3]-ti.boundingBox[1],ti.matrix)},Te.endTilingPattern=function(ti,_i){Ue("endTilingPattern()"),_i.stream=Ke[xi].join(`
`),zn(ti,_i),Vn.publish("endTilingPattern",_i),Ji.pop().restore()};var In=Te.__private__.newObject=function(){var ti=Hn();return Yn(ti,!0),ti},Hn=Te.__private__.newObjectDeferred=function(){return Ai++,Mi[Ai]=function(){return Di},Ai},Yn=function(ti,_i){return _i=typeof _i=="boolean"&&_i,Mi[ti]=Di,_i&&ii(ti+" 0 obj"),ti},Rr=Te.__private__.newAdditionalObject=function(){var ti={objId:Hn(),content:""};return oi.push(ti),ti},er=Hn(),dr=Hn(),Kn=Te.__private__.decodeColorString=function(ti){var _i=ti.split(" ");if(_i.length!==2||_i[1]!=="g"&&_i[1]!=="G")_i.length===5&&(_i[4]==="k"||_i[4]==="K")&&(_i=[(1-_i[0])*(1-_i[3]),(1-_i[1])*(1-_i[3]),(1-_i[2])*(1-_i[3]),"r"]);else{var $i=parseFloat(_i[0]);_i=[$i,$i,$i,"r"]}for(var Ui="#",en=0;en<3;en++)Ui+=("0"+Math.floor(255*parseFloat(_i[en])).toString(16)).slice(-2);return Ui},or=Te.__private__.encodeColorString=function(ti){var _i;typeof ti=="string"&&(ti={ch1:ti});var $i=ti.ch1,Ui=ti.ch2,en=ti.ch3,fn=ti.ch4,yn=ti.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $i=="string"&&$i.charAt(0)!=="#"){var Pn=new f($i);if(Pn.ok)$i=Pn.toHex();else if(!/^\d*\.?\d*$/.test($i))throw new Error('Invalid color "'+$i+'" passed to jsPDF.encodeColorString.')}if(typeof $i=="string"&&/^#[0-9A-Fa-f]{3}$/.test($i)&&($i="#"+$i[1]+$i[1]+$i[2]+$i[2]+$i[3]+$i[3]),typeof $i=="string"&&/^#[0-9A-Fa-f]{6}$/.test($i)){var Mn=parseInt($i.substr(1),16);$i=Mn>>16&255,Ui=Mn>>8&255,en=255&Mn}if(Ui===void 0||fn===void 0&&$i===Ui&&Ui===en)if(typeof $i=="string")_i=$i+" "+yn[0];else switch(ti.precision){case 2:_i=qe($i/255)+" "+yn[0];break;case 3:default:_i=Ge($i/255)+" "+yn[0]}else if(fn===void 0||_typeof$5(fn)==="object"){if(fn&&!isNaN(fn.a)&&fn.a===0)return _i=["1.","1.","1.",yn[1]].join(" ");if(typeof $i=="string")_i=[$i,Ui,en,yn[1]].join(" ");else switch(ti.precision){case 2:_i=[qe($i/255),qe(Ui/255),qe(en/255),yn[1]].join(" ");break;default:case 3:_i=[Ge($i/255),Ge(Ui/255),Ge(en/255),yn[1]].join(" ")}}else if(typeof $i=="string")_i=[$i,Ui,en,fn,yn[2]].join(" ");else switch(ti.precision){case 2:_i=[qe($i),qe(Ui),qe(en),qe(fn),yn[2]].join(" ");break;case 3:default:_i=[Ge($i),Ge(Ui),Ge(en),Ge(fn),yn[2]].join(" ")}return _i},tr=Te.__private__.getFilters=function(){return Ae},ar=Te.__private__.putStream=function(ti){var _i=(ti=ti||{}).data||"",$i=ti.filters||tr(),Ui=ti.alreadyAppliedFilters||[],en=ti.addLength1||!1,fn=_i.length,yn=ti.objectId,Pn=function(Ar){return Ar};if(Oe!==null&&yn===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Oe!==null&&(Pn=_r.encryptor(yn,0));var Mn={};$i===!0&&($i=["FlateEncode"]);var Bn=ti.additionalKeyValues||[],Un=(Mn=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(_i,$i):{data:_i,reverseChain:[]}).reverseChain+(Array.isArray(Ui)?Ui.join(" "):Ui.toString());if(Mn.data.length!==0&&(Bn.push({key:"Length",value:Mn.data.length}),en===!0&&Bn.push({key:"Length1",value:fn})),Un.length!=0)if(Un.split("/").length-1==1)Bn.push({key:"Filter",value:Un});else{Bn.push({key:"Filter",value:"["+Un+"]"});for(var Wn=0;Wn<Bn.length;Wn+=1)if(Bn[Wn].key==="DecodeParms"){for(var sr=[],lr=0;lr<Mn.reverseChain.split("/").length-1;lr+=1)sr.push("null");sr.push(Bn[Wn].value),Bn[Wn].value="["+sr.join(" ")+"]"}}ii("<<");for(var fr=0;fr<Bn.length;fr++)ii("/"+Bn[fr].key+" "+Bn[fr].value);ii(">>"),Mn.data.length!==0&&(ii("stream"),ii(Pn(Mn.data)),ii("endstream"))},vr=Te.__private__.putPage=function(ti){var _i=ti.number,$i=ti.data,Ui=ti.objId,en=ti.contentsObjId;Yn(Ui,!0),ii("<</Type /Page"),ii("/Parent "+ti.rootDictionaryObjId+" 0 R"),ii("/Resources "+ti.resourceDictionaryObjId+" 0 R"),ii("/MediaBox ["+parseFloat(ze(ti.mediaBox.bottomLeftX))+" "+parseFloat(ze(ti.mediaBox.bottomLeftY))+" "+ze(ti.mediaBox.topRightX)+" "+ze(ti.mediaBox.topRightY)+"]"),ti.cropBox!==null&&ii("/CropBox ["+ze(ti.cropBox.bottomLeftX)+" "+ze(ti.cropBox.bottomLeftY)+" "+ze(ti.cropBox.topRightX)+" "+ze(ti.cropBox.topRightY)+"]"),ti.bleedBox!==null&&ii("/BleedBox ["+ze(ti.bleedBox.bottomLeftX)+" "+ze(ti.bleedBox.bottomLeftY)+" "+ze(ti.bleedBox.topRightX)+" "+ze(ti.bleedBox.topRightY)+"]"),ti.trimBox!==null&&ii("/TrimBox ["+ze(ti.trimBox.bottomLeftX)+" "+ze(ti.trimBox.bottomLeftY)+" "+ze(ti.trimBox.topRightX)+" "+ze(ti.trimBox.topRightY)+"]"),ti.artBox!==null&&ii("/ArtBox ["+ze(ti.artBox.bottomLeftX)+" "+ze(ti.artBox.bottomLeftY)+" "+ze(ti.artBox.topRightX)+" "+ze(ti.artBox.topRightY)+"]"),typeof ti.userUnit=="number"&&ti.userUnit!==1&&ii("/UserUnit "+ti.userUnit),Vn.publish("putPage",{objId:Ui,pageContext:On[_i],pageNumber:_i,page:$i}),ii("/Contents "+en+" 0 R"),ii(">>"),ii("endobj");var fn=$i.join(`
`);return Re===Ie.ADVANCED&&(fn+=`
Q`),Yn(en,!0),ar({data:fn,filters:tr(),objectId:en}),ii("endobj"),Ui},xr=Te.__private__.putPages=function(){var ti,_i,$i=[];for(ti=1;ti<=Fn;ti++)On[ti].objId=Hn(),On[ti].contentsObjId=Hn();for(ti=1;ti<=Fn;ti++)$i.push(vr({number:ti,data:Ke[ti],objId:On[ti].objId,contentsObjId:On[ti].contentsObjId,mediaBox:On[ti].mediaBox,cropBox:On[ti].cropBox,bleedBox:On[ti].bleedBox,trimBox:On[ti].trimBox,artBox:On[ti].artBox,userUnit:On[ti].userUnit,rootDictionaryObjId:er,resourceDictionaryObjId:dr}));Yn(er,!0),ii("<</Type /Pages");var Ui="/Kids [";for(_i=0;_i<Fn;_i++)Ui+=$i[_i]+" 0 R ";ii(Ui+"]"),ii("/Count "+Fn),ii(">>"),ii("endobj"),Vn.publish("postPutPages")},Ur=function(ti){Vn.publish("putFont",{font:ti,out:ii,newObject:In,putStream:ar}),ti.isAlreadyPutted!==!0&&(ti.objectNumber=In(),ii("<<"),ii("/Type /Font"),ii("/BaseFont /"+F(ti.postScriptName)),ii("/Subtype /Type1"),typeof ti.encoding=="string"&&ii("/Encoding /"+ti.encoding),ii("/FirstChar 32"),ii("/LastChar 255"),ii(">>"),ii("endobj"))},no=function(){for(var ti in dn)dn.hasOwnProperty(ti)&&(Me===!1||Me===!0&&De.hasOwnProperty(ti))&&Ur(dn[ti])},ro=function(ti){ti.objectNumber=In();var _i=[];_i.push({key:"Type",value:"/XObject"}),_i.push({key:"Subtype",value:"/Form"}),_i.push({key:"BBox",value:"["+[ze(ti.x),ze(ti.y),ze(ti.x+ti.width),ze(ti.y+ti.height)].join(" ")+"]"}),_i.push({key:"Matrix",value:"["+ti.matrix.toString()+"]"});var $i=ti.pages[1].join(`
`);ar({data:$i,additionalKeyValues:_i,objectId:ti.objectNumber}),ii("endobj")},oo=function(){for(var ti in Si)Si.hasOwnProperty(ti)&&ro(Si[ti])},Io=function(ti,_i){var $i,Ui=[],en=1/(_i-1);for($i=0;$i<1;$i+=en)Ui.push($i);if(Ui.push(1),ti[0].offset!=0){var fn={offset:0,color:ti[0].color};ti.unshift(fn)}if(ti[ti.length-1].offset!=1){var yn={offset:1,color:ti[ti.length-1].color};ti.push(yn)}for(var Pn="",Mn=0,Bn=0;Bn<Ui.length;Bn++){for($i=Ui[Bn];$i>ti[Mn+1].offset;)Mn++;var Un=ti[Mn].offset,Wn=($i-Un)/(ti[Mn+1].offset-Un),sr=ti[Mn].color,lr=ti[Mn+1].color;Pn+=gi(Math.round((1-Wn)*sr[0]+Wn*lr[0]).toString(16))+gi(Math.round((1-Wn)*sr[1]+Wn*lr[1]).toString(16))+gi(Math.round((1-Wn)*sr[2]+Wn*lr[2]).toString(16))}return Pn.trim()},xo=function(ti,_i){_i||(_i=21);var $i=In(),Ui=Io(ti.colors,_i),en=[];en.push({key:"FunctionType",value:"0"}),en.push({key:"Domain",value:"[0.0 1.0]"}),en.push({key:"Size",value:"["+_i+"]"}),en.push({key:"BitsPerSample",value:"8"}),en.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),en.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ar({data:Ui,additionalKeyValues:en,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$i}),ii("endobj"),ti.objectNumber=In(),ii("<< /ShadingType "+ti.type),ii("/ColorSpace /DeviceRGB");var fn="/Coords ["+ze(parseFloat(ti.coords[0]))+" "+ze(parseFloat(ti.coords[1]))+" ";ti.type===2?fn+=ze(parseFloat(ti.coords[2]))+" "+ze(parseFloat(ti.coords[3])):fn+=ze(parseFloat(ti.coords[2]))+" "+ze(parseFloat(ti.coords[3]))+" "+ze(parseFloat(ti.coords[4]))+" "+ze(parseFloat(ti.coords[5])),ii(fn+="]"),ti.matrix&&ii("/Matrix ["+ti.matrix.toString()+"]"),ii("/Function "+$i+" 0 R"),ii("/Extend [true true]"),ii(">>"),ii("endobj")},$a=function(ti,_i){var $i=Hn(),Ui=In();_i.push({resourcesOid:$i,objectOid:Ui}),ti.objectNumber=Ui;var en=[];en.push({key:"Type",value:"/Pattern"}),en.push({key:"PatternType",value:"1"}),en.push({key:"PaintType",value:"1"}),en.push({key:"TilingType",value:"1"}),en.push({key:"BBox",value:"["+ti.boundingBox.map(ze).join(" ")+"]"}),en.push({key:"XStep",value:ze(ti.xStep)}),en.push({key:"YStep",value:ze(ti.yStep)}),en.push({key:"Resources",value:$i+" 0 R"}),ti.matrix&&en.push({key:"Matrix",value:"["+ti.matrix.toString()+"]"}),ar({data:ti.stream,additionalKeyValues:en,objectId:ti.objectNumber}),ii("endobj")},Ho=function(ti){var _i;for(_i in Sn)Sn.hasOwnProperty(_i)&&(Sn[_i]instanceof B?xo(Sn[_i]):Sn[_i]instanceof M&&$a(Sn[_i],ti))},Gs=function(ti){for(var _i in ti.objectNumber=In(),ii("<<"),ti)switch(_i){case"opacity":ii("/ca "+qe(ti[_i]));break;case"stroke-opacity":ii("/CA "+qe(ti[_i]))}ii(">>"),ii("endobj")},ja=function(){var ti;for(ti in Ln)Ln.hasOwnProperty(ti)&&Gs(Ln[ti])},fs=function(){for(var ti in ii("/XObject <<"),Si)Si.hasOwnProperty(ti)&&Si[ti].objectNumber>=0&&ii("/"+ti+" "+Si[ti].objectNumber+" 0 R");Vn.publish("putXobjectDict"),ii(">>")},Va=function(){_r.oid=In(),ii("<<"),ii("/Filter /Standard"),ii("/V "+_r.v),ii("/R "+_r.r),ii("/U <"+_r.toHexString(_r.U)+">"),ii("/O <"+_r.toHexString(_r.O)+">"),ii("/P "+_r.P),ii(">>"),ii("endobj")},Ws=function(){for(var ti in ii("/Font <<"),dn)dn.hasOwnProperty(ti)&&(Me===!1||Me===!0&&De.hasOwnProperty(ti))&&ii("/"+ti+" "+dn[ti].objectNumber+" 0 R");ii(">>")},Ha=function(){if(Object.keys(Sn).length>0){for(var ti in ii("/Shading <<"),Sn)Sn.hasOwnProperty(ti)&&Sn[ti]instanceof B&&Sn[ti].objectNumber>=0&&ii("/"+ti+" "+Sn[ti].objectNumber+" 0 R");Vn.publish("putShadingPatternDict"),ii(">>")}},Uo=function(ti){if(Object.keys(Sn).length>0){for(var _i in ii("/Pattern <<"),Sn)Sn.hasOwnProperty(_i)&&Sn[_i]instanceof Te.TilingPattern&&Sn[_i].objectNumber>=0&&Sn[_i].objectNumber<ti&&ii("/"+_i+" "+Sn[_i].objectNumber+" 0 R");Vn.publish("putTilingPatternDict"),ii(">>")}},Ua=function(){if(Object.keys(Ln).length>0){var ti;for(ti in ii("/ExtGState <<"),Ln)Ln.hasOwnProperty(ti)&&Ln[ti].objectNumber>=0&&ii("/"+ti+" "+Ln[ti].objectNumber+" 0 R");Vn.publish("putGStateDict"),ii(">>")}},cr=function(ti){Yn(ti.resourcesOid,!0),ii("<<"),ii("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ws(),Ha(),Uo(ti.objectOid),Ua(),fs(),ii(">>"),ii("endobj")},Xs=function(){var ti=[];no(),ja(),oo(),Ho(ti),Vn.publish("putResources"),ti.forEach(cr),cr({resourcesOid:dr,objectOid:Number.MAX_SAFE_INTEGER}),Vn.publish("postPutResources")},qs=function(){Vn.publish("putAdditionalObjects");for(var ti=0;ti<oi.length;ti++){var _i=oi[ti];Yn(_i.objId,!0),ii(_i.content),ii("endobj")}Vn.publish("postPutAdditionalObjects")},Ys=function(ti){bn[ti.fontName]=bn[ti.fontName]||{},bn[ti.fontName][ti.fontStyle]=ti.id},ps=function(ti,_i,$i,Ui,en){var fn={id:"F"+(Object.keys(dn).length+1).toString(10),postScriptName:ti,fontName:_i,fontStyle:$i,encoding:Ui,isStandardFont:en||!1,metadata:{}};return Vn.publish("addFont",{font:fn,instance:this}),dn[fn.id]=fn,Ys(fn),fn.id},za=function(ti){for(var _i=0,$i=bi.length;_i<$i;_i++){var Ui=ps.call(this,ti[_i][0],ti[_i][1],ti[_i][2],bi[_i][3],!0);Me===!1&&(De[Ui]=!0);var en=ti[_i][0].split("-");Ys({id:Ui,fontName:en[0],fontStyle:en[1]||""})}Vn.publish("addFonts",{fonts:dn,dictionary:bn})},zr=function(ti){return ti.foo=function(){try{return ti.apply(this,arguments)}catch(Ui){var _i=Ui.stack||"";~_i.indexOf(" at ")&&(_i=_i.split(" at ")[1]);var $i="Error in function "+_i.split(`
`)[0].split("<")[0]+": "+Ui.message;if(!n.console)throw new Error($i);n.console.error($i,Ui),n.alert&&alert($i)}},ti.foo.bar=ti,ti.foo},zo=function(ti,_i){var $i,Ui,en,fn,yn,Pn,Mn,Bn,Un;if(en=(_i=_i||{}).sourceEncoding||"Unicode",yn=_i.outputEncoding,(_i.autoencode||yn)&&dn[nn].metadata&&dn[nn].metadata[en]&&dn[nn].metadata[en].encoding&&(fn=dn[nn].metadata[en].encoding,!yn&&dn[nn].encoding&&(yn=dn[nn].encoding),!yn&&fn.codePages&&(yn=fn.codePages[0]),typeof yn=="string"&&(yn=fn[yn]),yn)){for(Mn=!1,Pn=[],$i=0,Ui=ti.length;$i<Ui;$i++)(Bn=yn[ti.charCodeAt($i)])?Pn.push(String.fromCharCode(Bn)):Pn.push(ti[$i]),Pn[$i].charCodeAt(0)>>8&&(Mn=!0);ti=Pn.join("")}for($i=ti.length;Mn===void 0&&$i!==0;)ti.charCodeAt($i-1)>>8&&(Mn=!0),$i--;if(!Mn)return ti;for(Pn=_i.noBOM?[]:[254,255],$i=0,Ui=ti.length;$i<Ui;$i++){if((Un=(Bn=ti.charCodeAt($i))>>8)>>8)throw new Error("Character at position "+$i+" of string '"+ti+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pn.push(Un),Pn.push(Bn-(Un<<8))}return String.fromCharCode.apply(void 0,Pn)},Or=Te.__private__.pdfEscape=Te.pdfEscape=function(ti,_i){return zo(ti,_i).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ms=Te.__private__.beginPage=function(ti){Ke[++Fn]=[],On[Fn]={objId:0,contentsObjId:0,userUnit:Number(Ce),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ti[0]),topRightY:Number(ti[1])}},Js(Fn),ai(Ke[xi])},Ks=function(ti,_i){var $i,Ui,en;switch(r=_i||r,typeof ti=="string"&&($i=Be(ti.toLowerCase()),Array.isArray($i)&&(Ui=$i[0],en=$i[1])),Array.isArray(ti)&&(Ui=ti[0]*Ni,en=ti[1]*Ni),isNaN(Ui)&&(Ui=Se[0],en=Se[1]),(Ui>14400||en>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ui=Math.min(14400,Ui),en=Math.min(14400,en)),Se=[Ui,en],r.substr(0,1)){case"l":en>Ui&&(Se=[en,Ui]);break;case"p":Ui>en&&(Se=[en,Ui])}ms(Se),na(bs),ii(Gr),vs!==0&&ii(vs+" J"),Ss!==0&&ii(Ss+" j"),Vn.publish("addPage",{pageNumber:Fn})},Ga=function(ti){ti>0&&ti<=Fn&&(Ke.splice(ti,1),On.splice(ti,1),Fn--,xi>Fn&&(xi=Fn),this.setPage(xi))},Js=function(ti){ti>0&&ti<=Fn&&(xi=ti)},Wa=Te.__private__.getNumberOfPages=Te.getNumberOfPages=function(){return Ke.length-1},Zs=function(ti,_i,$i){var Ui,en=void 0;return $i=$i||{},ti=ti!==void 0?ti:dn[nn].fontName,_i=_i!==void 0?_i:dn[nn].fontStyle,Ui=ti.toLowerCase(),bn[Ui]!==void 0&&bn[Ui][_i]!==void 0?en=bn[Ui][_i]:bn[ti]!==void 0&&bn[ti][_i]!==void 0?en=bn[ti][_i]:$i.disableWarning===!1&&a.warn("Unable to look up font label for font '"+ti+"', '"+_i+"'. Refer to getFontList() for available fonts."),en||$i.noFallback||(en=bn.times[_i])==null&&(en=bn.times.normal),en},Xa=Te.__private__.putInfo=function(){var ti=In(),_i=function(Ui){return Ui};for(var $i in Oe!==null&&(_i=_r.encryptor(ti,0)),ii("<<"),ii("/Producer ("+Or(_i("jsPDF "+E.version))+")"),Yi)Yi.hasOwnProperty($i)&&Yi[$i]&&ii("/"+$i.substr(0,1).toUpperCase()+$i.substr(1)+" ("+Or(_i(Yi[$i]))+")");ii("/CreationDate ("+Or(_i(ri))+")"),ii(">>"),ii("endobj")},gs=Te.__private__.putCatalog=function(ti){var _i=(ti=ti||{}).rootDictionaryObjId||er;switch(In(),ii("<<"),ii("/Type /Catalog"),ii("/Pages "+_i+" 0 R"),Bi||(Bi="fullwidth"),Bi){case"fullwidth":ii("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ii("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ii("/OpenAction [3 0 R /Fit]");break;case"original":ii("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $i=""+Bi;$i.substr($i.length-1)==="%"&&(Bi=parseInt(Bi)/100),typeof Bi=="number"&&ii("/OpenAction [3 0 R /XYZ null null "+qe(Bi)+"]")}switch(Qi||(Qi="continuous"),Qi){case"continuous":ii("/PageLayout /OneColumn");break;case"single":ii("/PageLayout /SinglePage");break;case"two":case"twoleft":ii("/PageLayout /TwoColumnLeft");break;case"tworight":ii("/PageLayout /TwoColumnRight")}Zi&&ii("/PageMode /"+Zi),Vn.publish("putCatalog"),ii(">>"),ii("endobj")},qa=Te.__private__.putTrailer=function(){ii("trailer"),ii("<<"),ii("/Size "+(Ai+1)),ii("/Root "+Ai+" 0 R"),ii("/Info "+(Ai-1)+" 0 R"),Oe!==null&&ii("/Encrypt "+_r.oid+" 0 R"),ii("/ID [ <"+hi+"> <"+hi+"> ]"),ii(">>")},Ya=Te.__private__.putHeader=function(){ii("%PDF-"+ke),ii("%")},Ka=Te.__private__.putXRef=function(){var ti="0000000000";ii("xref"),ii("0 "+(Ai+1)),ii("0000000000 65535 f ");for(var _i=1;_i<=Ai;_i++)typeof Mi[_i]=="function"?ii((ti+Mi[_i]()).slice(-10)+" 00000 n "):Mi[_i]!==void 0?ii((ti+Mi[_i]).slice(-10)+" 00000 n "):ii("0000000000 00000 n ")},so=Te.__private__.buildDocument=function(){ui(),ai(Fi),Vn.publish("buildDocument"),Ya(),xr(),qs(),Xs(),Oe!==null&&Va(),Xa(),gs();var ti=Di;return Ka(),qa(),ii("startxref"),ii(""+ti),ii("%%EOF"),ai(Ke[xi]),Fi.join(`
`)},Go=Te.__private__.getBlob=function(ti){return new Blob([ki(ti)],{type:"application/pdf"})},Wo=Te.output=Te.__private__.output=zr(function(ti,_i){switch(typeof(_i=_i||{})=="string"?_i={filename:_i}:_i.filename=_i.filename||"generated.pdf",ti){case void 0:return so();case"save":Te.save(_i.filename);break;case"arraybuffer":return ki(so());case"blob":return Go(so());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(Go(so()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $i="",Ui=so();try{$i=h(Ui)}catch{$i=h(unescape(encodeURIComponent(Ui)))}return"data:application/pdf;filename="+_i.filename+";base64,"+$i;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var en="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",fn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';_i.pdfObjectUrl&&(en=_i.pdfObjectUrl,fn="");var yn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+en+'"'+fn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(_i)+");<\/script></body></html>",Pn=n.open();return Pn!==null&&Pn.document.write(yn),Pn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(_i.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+_i.filename+'" width="500px" height="400px" /></body></html>',Bn=n.open();if(Bn!==null){Bn.document.write(Mn);var Un=this;Bn.document.documentElement.querySelector("#pdfViewer").onload=function(){Bn.document.title=_i.filename,Bn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Un.output("bloburl"))}}return Bn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",_i)+'"></iframe></body></html>',sr=n.open();if(sr!==null&&(sr.document.write(Wn),sr.document.title=_i.filename),sr||typeof safari>"u")return sr;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",_i);default:return null}}),Qs=function(ti){return Array.isArray(un)===!0&&un.indexOf(ti)>-1};switch(xe){case"pt":Ni=1;break;case"mm":Ni=72/25.4;break;case"cm":Ni=72/2.54;break;case"in":Ni=72;break;case"px":Ni=Qs("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ni=12;break;case"ex":Ni=6;break;default:if(typeof xe!="number")throw new Error("Invalid unit: "+xe);Ni=xe}var _r=null;Pi(),ni();var Ja=function(ti){return Oe!==null?_r.encryptor(ti,0):function(_i){return _i}},ea=Te.__private__.getPageInfo=Te.getPageInfo=function(ti){if(isNaN(ti)||ti%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:On[ti].objId,pageNumber:ti,pageContext:On[ti]}},Nn=Te.__private__.getPageInfoByObjId=function(ti){if(isNaN(ti)||ti%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var _i in On)if(On[_i].objId===ti)break;return ea(_i)},Za=Te.__private__.getCurrentPageInfo=Te.getCurrentPageInfo=function(){return{objId:On[xi].objId,pageNumber:xi,pageContext:On[xi]}};Te.addPage=function(){return Ks.apply(this,arguments),this},Te.setPage=function(){return Js.apply(this,arguments),ai.call(this,Ke[xi]),this},Te.insertPage=function(ti){return this.addPage(),this.movePage(xi,ti),this},Te.movePage=function(ti,_i){var $i,Ui;if(ti>_i){$i=Ke[ti],Ui=On[ti];for(var en=ti;en>_i;en--)Ke[en]=Ke[en-1],On[en]=On[en-1];Ke[_i]=$i,On[_i]=Ui,this.setPage(_i)}else if(ti<_i){$i=Ke[ti],Ui=On[ti];for(var fn=ti;fn<_i;fn++)Ke[fn]=Ke[fn+1],On[fn]=On[fn+1];Ke[_i]=$i,On[_i]=Ui,this.setPage(_i)}return this},Te.deletePage=function(){return Ga.apply(this,arguments),this},Te.__private__.text=Te.text=function(ti,_i,$i,Ui,en){var fn,yn,Pn,Mn,Bn,Un,Wn,sr,lr,fr=(Ui=Ui||{}).scope||this;if(typeof ti=="number"&&typeof _i=="number"&&(typeof $i=="string"||Array.isArray($i))){var Ar=$i;$i=_i,_i=ti,ti=Ar}if(arguments[3]instanceof rn?(Ue("The transform parameter of text() with a Matrix value"),lr=en):(Pn=arguments[4],Mn=arguments[5],_typeof$5(Wn=arguments[3])==="object"&&Wn!==null||(typeof Pn=="string"&&(Mn=Pn,Pn=null),typeof Wn=="string"&&(Mn=Wn,Wn=null),typeof Wn=="number"&&(Pn=Wn,Wn=null),Ui={flags:Wn,angle:Pn,align:Mn})),isNaN(_i)||isNaN($i)||ti==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ti.length===0)return fr;var yr="",Wr=!1,Lr=typeof Ui.lineHeightFactor=="number"?Ui.lineHeightFactor:No,lo=fr.internal.scaleFactor;function ua(nr){return nr=nr.split("	").join(Array(Ui.TabLen||9).join(" ")),Or(nr,Wn)}function Es(nr){for(var rr,hr=nr.concat(),gr=[],fo=hr.length;fo--;)typeof(rr=hr.shift())=="string"?gr.push(rr):Array.isArray(nr)&&(rr.length===1||rr[1]===void 0&&rr[2]===void 0)?gr.push(rr[0]):gr.push([rr[0],rr[1],rr[2]]);return gr}function Os(nr,rr){var hr;if(typeof nr=="string")hr=rr(nr)[0];else if(Array.isArray(nr)){for(var gr,fo,Po=nr.concat(),ss=[],ha=Po.length;ha--;)typeof(gr=Po.shift())=="string"?ss.push(rr(gr)[0]):Array.isArray(gr)&&typeof gr[0]=="string"&&(fo=rr(gr[0],gr[1],gr[2]),ss.push([fo[0],fo[1],fo[2]]));hr=ss}return hr}var Zo=!1,Ms=!0;if(typeof ti=="string")Zo=!0;else if(Array.isArray(ti)){var Ds=ti.concat();yn=[];for(var Qo,Mr=Ds.length;Mr--;)(typeof(Qo=Ds.shift())!="string"||Array.isArray(Qo)&&typeof Qo[0]!="string")&&(Ms=!1);Zo=Ms}if(Zo===!1)throw new Error('Type of text must be string or Array. "'+ti+'" is not recognized.');typeof ti=="string"&&(ti=ti.match(/[\r?\n]/)?ti.split(/\r\n|\r|\n/g):[ti]);var es=Ii/fr.internal.scaleFactor,ts=es*(Lr-1);switch(Ui.baseline){case"bottom":$i-=ts;break;case"top":$i+=es-ts;break;case"hanging":$i+=es-2*ts;break;case"middle":$i+=es/2-ts}if((Un=Ui.maxWidth||0)>0&&(typeof ti=="string"?ti=fr.splitTextToSize(ti,Un):Object.prototype.toString.call(ti)==="[object Array]"&&(ti=ti.reduce(function(nr,rr){return nr.concat(fr.splitTextToSize(rr,Un))},[]))),fn={text:ti,x:_i,y:$i,options:Ui,mutex:{pdfEscape:Or,activeFontKey:nn,fonts:dn,activeFontSize:Ii}},Vn.publish("preProcessText",fn),ti=fn.text,Pn=(Ui=fn.options).angle,!(lr instanceof rn)&&Pn&&typeof Pn=="number"){Pn*=Math.PI/180,Ui.rotationDirection===0&&(Pn=-Pn),Re===Ie.ADVANCED&&(Pn=-Pn);var is=Math.cos(Pn),Ts=Math.sin(Pn);lr=new rn(is,Ts,-Ts,is,0,0)}else Pn&&Pn instanceof rn&&(lr=Pn);Re!==Ie.ADVANCED||lr||(lr=An),(Bn=Ui.charSpace||Yo)!==void 0&&(yr+=ze(Ye(Bn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(sr=Ui.horizontalScale)!==void 0&&(yr+=ze(100*sr)+` Tz
`),Ui.lang;var Dr=-1,ll=Ui.renderingMode!==void 0?Ui.renderingMode:Ui.stroke,ks=fr.internal.getCurrentPageInfo().pageContext;switch(ll){case 0:case!1:case"fill":Dr=0;break;case 1:case!0:case"stroke":Dr=1;break;case 2:case"fillThenStroke":Dr=2;break;case 3:case"invisible":Dr=3;break;case 4:case"fillAndAddForClipping":Dr=4;break;case 5:case"strokeAndAddPathForClipping":Dr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Dr=6;break;case 7:case"addToPathForClipping":Dr=7}var ca=ks.usedRenderingMode!==void 0?ks.usedRenderingMode:-1;Dr!==-1?yr+=Dr+` Tr
`:ca!==-1&&(yr+=`0 Tr
`),Dr!==-1&&(ks.usedRenderingMode=Dr),Mn=Ui.align||"left";var Xr,Ls=Ii*Lr,ul=fr.internal.pageSize.getWidth(),cl=dn[nn];Bn=Ui.charSpace||Yo,Un=Ui.maxWidth||0,Wn=Object.assign({autoencode:!0,noBOM:!0},Ui.flags);var So=[];if(Object.prototype.toString.call(ti)==="[object Array]"){var Br;yn=Es(ti),Mn!=="left"&&(Xr=yn.map(function(nr){return fr.getStringUnitWidth(nr,{font:cl,charSpace:Bn,fontSize:Ii,doKerning:!1})*Ii/lo}));var qr,_o=0;if(Mn==="right"){_i-=Xr[0],ti=[],Mr=yn.length;for(var to=0;to<Mr;to++)to===0?(qr=ao(_i),Br=bo($i)):(qr=Ye(_o-Xr[to]),Br=-Ls),ti.push([yn[to],qr,Br]),_o=Xr[to]}else if(Mn==="center"){_i-=Xr[0]/2,ti=[],Mr=yn.length;for(var uo=0;uo<Mr;uo++)uo===0?(qr=ao(_i),Br=bo($i)):(qr=Ye((_o-Xr[uo])/2),Br=-Ls),ti.push([yn[uo],qr,Br]),_o=Xr[uo]}else if(Mn==="left"){ti=[],Mr=yn.length;for(var ns=0;ns<Mr;ns++)ti.push(yn[ns])}else{if(Mn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');ti=[],Mr=yn.length,Un=Un!==0?Un:ul;for(var Yr=0;Yr<Mr;Yr++)Br=Yr===0?bo($i):-Ls,qr=Yr===0?ao(_i):0,Yr<Mr-1?So.push(ze(Ye((Un-Xr[Yr])/(yn[Yr].split(" ").length-1)))):So.push(0),ti.push([yn[Yr],qr,Br])}}var rs=typeof Ui.R2L=="boolean"?Ui.R2L:ji;rs===!0&&(ti=Os(ti,function(nr,rr,hr){return[nr.split("").reverse().join(""),rr,hr]})),fn={text:ti,x:_i,y:$i,options:Ui,mutex:{pdfEscape:Or,activeFontKey:nn,fonts:dn,activeFontSize:Ii}},Vn.publish("postProcessText",fn),ti=fn.text,Wr=fn.mutex.isHex||!1;var Is=dn[nn].encoding;Is!=="WinAnsiEncoding"&&Is!=="StandardEncoding"||(ti=Os(ti,function(nr,rr,hr){return[ua(nr),rr,hr]})),yn=Es(ti),ti=[];for(var Ao,Kr,co,$o=0,os=1,jo=Array.isArray(yn[0])?os:$o,Co="",Fs=function(nr,rr,hr){var gr="";return hr instanceof rn?(hr=typeof Ui.angle=="number"?vn(hr,new rn(1,0,0,1,nr,rr)):vn(new rn(1,0,0,1,nr,rr),hr),Re===Ie.ADVANCED&&(hr=vn(new rn(1,0,0,-1,0,0),hr)),gr=hr.join(" ")+` Tm
`):gr=ze(nr)+" "+ze(rr)+` Td
`,gr},$r=0;$r<yn.length;$r++){switch(Co="",jo){case os:co=(Wr?"<":"(")+yn[$r][0]+(Wr?">":")"),Ao=parseFloat(yn[$r][1]),Kr=parseFloat(yn[$r][2]);break;case $o:co=(Wr?"<":"(")+yn[$r]+(Wr?">":")"),Ao=ao(_i),Kr=bo($i)}So!==void 0&&So[$r]!==void 0&&(Co=So[$r]+` Tw
`),$r===0?ti.push(Co+Fs(Ao,Kr,lr)+co):jo===$o?ti.push(Co+co):jo===os&&ti.push(Co+Fs(Ao,Kr,lr)+co)}ti=jo===$o?ti.join(` Tj
T* `):ti.join(` Tj
`),ti+=` Tj
`;var ho=`BT
/`;return ho+=nn+" "+Ii+` Tf
`,ho+=ze(Ii*Lr)+` TL
`,ho+=Ro+`
`,ho+=yr,ho+=ti,ii(ho+="ET"),De[nn]=!0,fr};var Qa=Te.__private__.clip=Te.clip=function(ti){return ii(ti==="evenodd"?"W*":"W"),this};Te.clipEvenOdd=function(){return Qa("evenodd")},Te.__private__.discardPath=Te.discardPath=function(){return ii("n"),this};var eo=Te.__private__.isValidStyle=function(ti){var _i=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ti)!==-1&&(_i=!0),_i};Te.__private__.setDefaultPathOperation=Te.setDefaultPathOperation=function(ti){return eo(ti)&&(Ee=ti),this};var ta=Te.__private__.getStyle=Te.getStyle=function(ti){var _i=Ee;switch(ti){case"D":case"S":_i="S";break;case"F":_i="f";break;case"FD":case"DF":_i="B";break;case"f":case"f*":case"B":case"B*":_i=ti}return _i},ia=Te.close=function(){return ii("h"),this};Te.stroke=function(){return ii("S"),this},Te.fill=function(ti){return Xo("f",ti),this},Te.fillEvenOdd=function(ti){return Xo("f*",ti),this},Te.fillStroke=function(ti){return Xo("B",ti),this},Te.fillStrokeEvenOdd=function(ti){return Xo("B*",ti),this};var Xo=function(ti,_i){_typeof$5(_i)==="object"?tl(_i,ti):ii(ti)},xs=function(ti){ti===null||Re===Ie.ADVANCED&&ti===void 0||(ti=ta(ti),ii(ti))};function el(ti,_i,$i,Ui,en){var fn=new M(_i||this.boundingBox,$i||this.xStep,Ui||this.yStep,this.gState,en||this.matrix);fn.stream=this.stream;var yn=ti+"$$"+this.cloneIndex+++"$$";return zn(yn,fn),fn}var tl=function(ti,_i){var $i=kn[ti.key],Ui=Sn[$i];if(Ui instanceof B)ii("q"),ii(il(_i)),Ui.gState&&Te.setGState(Ui.gState),ii(ti.matrix.toString()+" cm"),ii("/"+$i+" sh"),ii("Q");else if(Ui instanceof M){var en=new rn(1,0,0,-1,0,vo());ti.matrix&&(en=en.multiply(ti.matrix||An),$i=el.call(Ui,ti.key,ti.boundingBox,ti.xStep,ti.yStep,en).id),ii("q"),ii("/Pattern cs"),ii("/"+$i+" scn"),Ui.gState&&Te.setGState(Ui.gState),ii(_i),ii("Q")}},il=function(ti){switch(ti){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ys=Te.moveTo=function(ti,_i){return ii(ze(Ye(ti))+" "+ze(Je(_i))+" m"),this},Fo=Te.lineTo=function(ti,_i){return ii(ze(Ye(ti))+" "+ze(Je(_i))+" l"),this},yo=Te.curveTo=function(ti,_i,$i,Ui,en,fn){return ii([ze(Ye(ti)),ze(Je(_i)),ze(Ye($i)),ze(Je(Ui)),ze(Ye(en)),ze(Je(fn)),"c"].join(" ")),this};Te.__private__.line=Te.line=function(ti,_i,$i,Ui,en){if(isNaN(ti)||isNaN(_i)||isNaN($i)||isNaN(Ui)||!eo(en))throw new Error("Invalid arguments passed to jsPDF.line");return Re===Ie.COMPAT?this.lines([[$i-ti,Ui-_i]],ti,_i,[1,1],en||"S"):this.lines([[$i-ti,Ui-_i]],ti,_i,[1,1]).stroke()},Te.__private__.lines=Te.lines=function(ti,_i,$i,Ui,en,fn){var yn,Pn,Mn,Bn,Un,Wn,sr,lr,fr,Ar,yr,Wr;if(typeof ti=="number"&&(Wr=$i,$i=_i,_i=ti,ti=Wr),Ui=Ui||[1,1],fn=fn||!1,isNaN(_i)||isNaN($i)||!Array.isArray(ti)||!Array.isArray(Ui)||!eo(en)||typeof fn!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ys(_i,$i),yn=Ui[0],Pn=Ui[1],Bn=ti.length,Ar=_i,yr=$i,Mn=0;Mn<Bn;Mn++)(Un=ti[Mn]).length===2?(Ar=Un[0]*yn+Ar,yr=Un[1]*Pn+yr,Fo(Ar,yr)):(Wn=Un[0]*yn+Ar,sr=Un[1]*Pn+yr,lr=Un[2]*yn+Ar,fr=Un[3]*Pn+yr,Ar=Un[4]*yn+Ar,yr=Un[5]*Pn+yr,yo(Wn,sr,lr,fr,Ar,yr));return fn&&ia(),xs(en),this},Te.path=function(ti){for(var _i=0;_i<ti.length;_i++){var $i=ti[_i],Ui=$i.c;switch($i.op){case"m":ys(Ui[0],Ui[1]);break;case"l":Fo(Ui[0],Ui[1]);break;case"c":yo.apply(this,Ui);break;case"h":ia()}}return this},Te.__private__.rect=Te.rect=function(ti,_i,$i,Ui,en){if(isNaN(ti)||isNaN(_i)||isNaN($i)||isNaN(Ui)||!eo(en))throw new Error("Invalid arguments passed to jsPDF.rect");return Re===Ie.COMPAT&&(Ui=-Ui),ii([ze(Ye(ti)),ze(Je(_i)),ze(Ye($i)),ze(Ye(Ui)),"re"].join(" ")),xs(en),this},Te.__private__.triangle=Te.triangle=function(ti,_i,$i,Ui,en,fn,yn){if(isNaN(ti)||isNaN(_i)||isNaN($i)||isNaN(Ui)||isNaN(en)||isNaN(fn)||!eo(yn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$i-ti,Ui-_i],[en-$i,fn-Ui],[ti-en,_i-fn]],ti,_i,[1,1],yn,!0),this},Te.__private__.roundedRect=Te.roundedRect=function(ti,_i,$i,Ui,en,fn,yn){if(isNaN(ti)||isNaN(_i)||isNaN($i)||isNaN(Ui)||isNaN(en)||isNaN(fn)||!eo(yn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Pn=4/3*(Math.SQRT2-1);return en=Math.min(en,.5*$i),fn=Math.min(fn,.5*Ui),this.lines([[$i-2*en,0],[en*Pn,0,en,fn-fn*Pn,en,fn],[0,Ui-2*fn],[0,fn*Pn,-en*Pn,fn,-en,fn],[2*en-$i,0],[-en*Pn,0,-en,-fn*Pn,-en,-fn],[0,2*fn-Ui],[0,-fn*Pn,en*Pn,-fn,en,-fn]],ti+en,_i,[1,1],yn,!0),this},Te.__private__.ellipse=Te.ellipse=function(ti,_i,$i,Ui,en){if(isNaN(ti)||isNaN(_i)||isNaN($i)||isNaN(Ui)||!eo(en))throw new Error("Invalid arguments passed to jsPDF.ellipse");var fn=4/3*(Math.SQRT2-1)*$i,yn=4/3*(Math.SQRT2-1)*Ui;return ys(ti+$i,_i),yo(ti+$i,_i-yn,ti+fn,_i-Ui,ti,_i-Ui),yo(ti-fn,_i-Ui,ti-$i,_i-yn,ti-$i,_i),yo(ti-$i,_i+yn,ti-fn,_i+Ui,ti,_i+Ui),yo(ti+fn,_i+Ui,ti+$i,_i+yn,ti+$i,_i),xs(en),this},Te.__private__.circle=Te.circle=function(ti,_i,$i,Ui){if(isNaN(ti)||isNaN(_i)||isNaN($i)||!eo(Ui))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ti,_i,$i,$i,Ui)},Te.setFont=function(ti,_i,$i){return $i&&(_i=He(_i,$i)),nn=Zs(ti,_i,{disableWarning:!1}),this};var nl=Te.__private__.getFont=Te.getFont=function(){return dn[Zs.apply(Te,arguments)]};Te.__private__.getFontList=Te.getFontList=function(){var ti,_i,$i={};for(ti in bn)if(bn.hasOwnProperty(ti))for(_i in $i[ti]=[],bn[ti])bn[ti].hasOwnProperty(_i)&&$i[ti].push(_i);return $i},Te.addFont=function(ti,_i,$i,Ui,en){var fn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&fn.indexOf(arguments[3])!==-1?en=arguments[3]:arguments[3]&&fn.indexOf(arguments[3])==-1&&($i=He($i,Ui)),en=en||"Identity-H",ps.call(this,ti,_i,$i,en)};var No,bs=t.lineWidth||.200025,qo=Te.__private__.getLineWidth=Te.getLineWidth=function(){return bs},na=Te.__private__.setLineWidth=Te.setLineWidth=function(ti){return bs=ti,ii(ze(Ye(ti))+" w"),this};Te.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(ti,_i){if(ti=ti||[],_i=_i||0,isNaN(_i)||!Array.isArray(ti))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ti=ti.map(function($i){return ze(Ye($i))}).join(" "),_i=ze(Ye(_i)),ii("["+ti+"] "+_i+" d"),this};var ra=Te.__private__.getLineHeight=Te.getLineHeight=function(){return Ii*No};Te.__private__.getLineHeight=Te.getLineHeight=function(){return Ii*No};var oa=Te.__private__.setLineHeightFactor=Te.setLineHeightFactor=function(ti){return typeof(ti=ti||1.15)=="number"&&(No=ti),this},sa=Te.__private__.getLineHeightFactor=Te.getLineHeightFactor=function(){return No};oa(t.lineHeight);var ao=Te.__private__.getHorizontalCoordinate=function(ti){return Ye(ti)},bo=Te.__private__.getVerticalCoordinate=function(ti){return Re===Ie.ADVANCED?ti:On[xi].mediaBox.topRightY-On[xi].mediaBox.bottomLeftY-Ye(ti)},rl=Te.__private__.getHorizontalCoordinateString=Te.getHorizontalCoordinateString=function(ti){return ze(ao(ti))},wo=Te.__private__.getVerticalCoordinateString=Te.getVerticalCoordinateString=function(ti){return ze(bo(ti))},Gr=t.strokeColor||"0 G";Te.__private__.getStrokeColor=Te.getDrawColor=function(){return Kn(Gr)},Te.__private__.setStrokeColor=Te.setDrawColor=function(ti,_i,$i,Ui){return Gr=or({ch1:ti,ch2:_i,ch3:$i,ch4:Ui,pdfColorType:"draw",precision:2}),ii(Gr),this};var ws=t.fillColor||"0 g";Te.__private__.getFillColor=Te.getFillColor=function(){return Kn(ws)},Te.__private__.setFillColor=Te.setFillColor=function(ti,_i,$i,Ui){return ws=or({ch1:ti,ch2:_i,ch3:$i,ch4:Ui,pdfColorType:"fill",precision:2}),ii(ws),this};var Ro=t.textColor||"0 g",ol=Te.__private__.getTextColor=Te.getTextColor=function(){return Kn(Ro)};Te.__private__.setTextColor=Te.setTextColor=function(ti,_i,$i,Ui){return Ro=or({ch1:ti,ch2:_i,ch3:$i,ch4:Ui,pdfColorType:"text",precision:3}),this};var Yo=t.charSpace,sl=Te.__private__.getCharSpace=Te.getCharSpace=function(){return parseFloat(Yo||0)};Te.__private__.setCharSpace=Te.setCharSpace=function(ti){if(isNaN(ti))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yo=ti,this};var vs=0;Te.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Te.__private__.setLineCap=Te.setLineCap=function(ti){var _i=Te.CapJoinStyles[ti];if(_i===void 0)throw new Error("Line cap style of '"+ti+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vs=_i,ii(_i+" J"),this};var Ss=0;Te.__private__.setLineJoin=Te.setLineJoin=function(ti){var _i=Te.CapJoinStyles[ti];if(_i===void 0)throw new Error("Line join style of '"+ti+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ss=_i,ii(_i+" j"),this},Te.__private__.setLineMiterLimit=Te.__private__.setMiterLimit=Te.setLineMiterLimit=Te.setMiterLimit=function(ti){if(ti=ti||0,isNaN(ti))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ii(ze(Ye(ti))+" M"),this},Te.GState=j$1,Te.setGState=function(ti){(ti=typeof ti=="string"?Ln[jn[ti]]:aa(null,ti)).equals(Rn)||(ii("/"+ti.id+" gs"),Rn=ti)};var aa=function(ti,_i){if(!ti||!jn[ti]){var $i=!1;for(var Ui in Ln)if(Ln.hasOwnProperty(Ui)&&Ln[Ui].equals(_i)){$i=!0;break}if($i)_i=Ln[Ui];else{var en="GS"+(Object.keys(Ln).length+1).toString(10);Ln[en]=_i,_i.id=en}return ti&&(jn[ti]=_i.id),Vn.publish("addGState",_i),_i}};Te.addGState=function(ti,_i){return aa(ti,_i),this},Te.saveGraphicsState=function(){return ii("q"),wn.push({key:nn,size:Ii,color:Ro}),this},Te.restoreGraphicsState=function(){ii("Q");var ti=wn.pop();return nn=ti.key,Ii=ti.size,Ro=ti.color,Rn=null,this},Te.setCurrentTransformationMatrix=function(ti){return ii(ti.toString()+" cm"),this},Te.comment=function(ti){return ii("#"+ti),this};var Ko=function(ti,_i){var $i=ti||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $i},set:function(fn){isNaN(fn)||($i=parseFloat(fn))}});var Ui=_i||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ui},set:function(fn){isNaN(fn)||(Ui=parseFloat(fn))}});var en="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return en},set:function(fn){en=fn.toString()}}),this},_s=function(ti,_i,$i,Ui){Ko.call(this,ti,_i),this.type="rect";var en=$i||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return en},set:function(yn){isNaN(yn)||(en=parseFloat(yn))}});var fn=Ui||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return fn},set:function(yn){isNaN(yn)||(fn=parseFloat(yn))}}),this},As=function(){this.page=Fn,this.currentPage=xi,this.pages=Ke.slice(0),this.pagesContext=On.slice(0),this.x=Xi,this.y=an,this.matrix=cn,this.width=Bo(xi),this.height=vo(xi),this.outputDestination=ei,this.id="",this.objectNumber=-1};As.prototype.restore=function(){Fn=this.page,xi=this.currentPage,On=this.pagesContext,Ke=this.pages,Xi=this.x,an=this.y,cn=this.matrix,Cs(xi,this.width),Ps(xi,this.height),ei=this.outputDestination};var la=function(ti,_i,$i,Ui,en){Ji.push(new As),Fn=xi=0,Ke=[],Xi=ti,an=_i,cn=en,ms([$i,Ui])},al=function(ti){if(Hi[ti])Ji.pop().restore();else{var _i=new As,$i="Xo"+(Object.keys(Si).length+1).toString(10);_i.id=$i,Hi[ti]=$i,Si[$i]=_i,Vn.publish("addFormObject",_i),Ji.pop().restore()}};for(var Jo in Te.beginFormObject=function(ti,_i,$i,Ui,en){return la(ti,_i,$i,Ui,en),this},Te.endFormObject=function(ti){return al(ti),this},Te.doFormObject=function(ti,_i){var $i=Si[Hi[ti]];return ii("q"),ii(_i.toString()+" cm"),ii("/"+$i.id+" Do"),ii("Q"),this},Te.getFormObject=function(ti){var _i=Si[Hi[ti]];return{x:_i.x,y:_i.y,width:_i.width,height:_i.height,matrix:_i.matrix}},Te.save=function(ti,_i){return ti=ti||"generated.pdf",(_i=_i||{}).returnPromise=_i.returnPromise||!1,_i.returnPromise===!1?(l(Go(so()),ti),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function($i,Ui){try{var en=l(Go(so()),ti);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),$i(en)}catch(fn){Ui(fn.message)}})},E.API)E.API.hasOwnProperty(Jo)&&(Jo==="events"&&E.API.events.length?function(ti,_i){var $i,Ui,en;for(en=_i.length-1;en!==-1;en--)$i=_i[en][0],Ui=_i[en][1],ti.subscribe.apply(ti,[$i].concat(typeof Ui=="function"?[Ui]:Ui))}(Vn,E.API.events):Te[Jo]=E.API[Jo]);var Bo=Te.getPageWidth=function(ti){return(On[ti=ti||xi].mediaBox.topRightX-On[ti].mediaBox.bottomLeftX)/Ni},Cs=Te.setPageWidth=function(ti,_i){On[ti].mediaBox.topRightX=_i*Ni+On[ti].mediaBox.bottomLeftX},vo=Te.getPageHeight=function(ti){return(On[ti=ti||xi].mediaBox.topRightY-On[ti].mediaBox.bottomLeftY)/Ni},Ps=Te.setPageHeight=function(ti,_i){On[ti].mediaBox.topRightY=_i*Ni+On[ti].mediaBox.bottomLeftY};return Te.internal={pdfEscape:Or,getStyle:ta,getFont:nl,getFontSize:Vi,getCharSpace:sl,getTextColor:ol,getLineHeight:ra,getLineHeightFactor:sa,getLineWidth:qo,write:Ci,getHorizontalCoordinate:ao,getVerticalCoordinate:bo,getCoordinateString:rl,getVerticalCoordinateString:wo,collections:{},newObject:In,newAdditionalObject:Rr,newObjectDeferred:Hn,newObjectDeferredBegin:Yn,getFilters:tr,putStream:ar,events:Vn,scaleFactor:Ni,pageSize:{getWidth:function(){return Bo(xi)},setWidth:function(ti){Cs(xi,ti)},getHeight:function(){return vo(xi)},setHeight:function(ti){Ps(xi,ti)}},encryptionOptions:Oe,encryption:_r,getEncryptor:Ja,output:Wo,getNumberOfPages:Wa,pages:Ke,out:ii,f2:qe,f3:Ge,getPageInfo:ea,getPageInfoByObjId:Nn,getCurrentPageInfo:Za,getPDFVersion:Fe,Point:Ko,Rectangle:_s,Matrix:rn,hasHotfix:Qs},Object.defineProperty(Te.internal.pageSize,"width",{get:function(){return Bo(xi)},set:function(ti){Cs(xi,ti)},enumerable:!0,configurable:!0}),Object.defineProperty(Te.internal.pageSize,"height",{get:function(){return vo(xi)},set:function(ti){Ps(xi,ti)},enumerable:!0,configurable:!0}),za.call(Te,bi),nn="F1",Ks(Se,r),Vn.publish("initialized"),Te}I.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},I.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},I.prototype.processOwnerPassword=function(t,e){return P$1(x(e).substr(0,5),t)},I.prototype.encryptor=function(t,e){var r=x(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(xe){return P$1(r,xe)}},j$1.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||_typeof$5(t)!==_typeof$5(this))return!1;var xe=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;xe++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&xe--;return xe===0},E.API={events:[]},E.version="2.5.1";var q$1=E.API,D$1=1,R=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U$1=function(t){return t.toFixed(2)},z=function(t){return t.toFixed(5)};q$1.__acroform__={};var H=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},W=function(t){return t*D$1},V$1=function(t){var e=new ut$1,r=At.internal.getHeight(t)||0,xe=At.internal.getWidth(t)||0;return e.BBox=[0,0,Number(U$1(xe)),Number(U$1(r))],e},G=q$1.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Y$1=q$1.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},J$1=q$1.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},X=q$1.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J$1(t,e-1)},K=q$1.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(t,e-1)},Z=q$1.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y$1(t,e-1)},$=q$1.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,xe=e.internal.getVerticalCoordinate,Se=t[0],_e=t[1],Ae=t[2],Ce=t[3],Pe={};return Pe.lowerLeft_X=r(Se)||0,Pe.lowerLeft_Y=xe(_e+Ce)||0,Pe.upperRight_X=r(Se+Ae)||0,Pe.upperRight_Y=xe(_e)||0,[Number(U$1(Pe.lowerLeft_X)),Number(U$1(Pe.lowerLeft_Y)),Number(U$1(Pe.upperRight_X)),Number(U$1(Pe.upperRight_Y))]},Q$1=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,xe=tt(t,r),Se=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+Se+" "+U$1(xe.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(xe.text),e.push("ET"),e.push("Q"),e.push("EMC");var _e=V$1(t);return _e.scope=t.scope,_e.stream=e.join(`
`),_e}},tt=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,xe={text:"",fontSize:""},Se=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");Se=t.multiline?Se.map(function(Ge){return Ge.split(`
`)}):Se.map(function(Ge){return[Ge]});var _e=r,Ae=At.internal.getHeight(t)||0;Ae=Ae<0?-Ae:Ae;var Ce=At.internal.getWidth(t)||0;Ce=Ce<0?-Ce:Ce;var Pe=function(Ge,Ye,Qe){if(Ge+1<Se.length){var Je=Ye+" "+Se[Ge+1][0];return et(Je,t,Qe).width<=Ce-4}return!1};_e++;e:for(;_e>0;){e="",_e--;var Ee,Oe,Me=et("3",t,_e).height,De=t.multiline?Ae-_e:(Ae-Me)/2,Te=De+=2,ke=0,Fe=0,$e=0;if(_e<=0){e=`(...) Tj
`,e+="% Width of Text: "+et(e,t,_e=12).width+", FieldWidth:"+Ce+`
`;break}for(var Be="",Ie=0,Re=0;Re<Se.length;Re++)if(Se.hasOwnProperty(Re)){var je=!1;if(Se[Re].length!==1&&$e!==Se[Re].length-1){if((Me+2)*(Ie+2)+2>Ae)continue e;Be+=Se[Re][$e],je=!0,Fe=Re,Re--}else{Be=(Be+=Se[Re][$e]+" ").substr(Be.length-1)==" "?Be.substr(0,Be.length-1):Be;var Ve=parseInt(Re),He=Pe(Ve,Be,_e),ze=Re>=Se.length-1;if(He&&!ze){Be+=" ",$e=0;continue}if(He||ze){if(ze)Fe=Ve;else if(t.multiline&&(Me+2)*(Ie+2)+2>Ae)continue e}else{if(!t.multiline||(Me+2)*(Ie+2)+2>Ae)continue e;Fe=Ve}}for(var Ue="",We=ke;We<=Fe;We++){var qe=Se[We];if(t.multiline){if(We===Fe){Ue+=qe[$e]+" ",$e=($e+1)%qe.length;continue}if(We===ke){Ue+=qe[qe.length-1]+" ";continue}}Ue+=qe[0]+" "}switch(Ue=Ue.substr(Ue.length-1)==" "?Ue.substr(0,Ue.length-1):Ue,Oe=et(Ue,t,_e).width,t.textAlign){case"right":Ee=Ce-Oe-2;break;case"center":Ee=(Ce-Oe)/2;break;case"left":default:Ee=2}e+=U$1(Ee)+" "+U$1(Te)+` Td
`,e+="("+R(Ue)+`) Tj
`,e+=-U$1(Ee)+` 0 Td
`,Te=-(_e+2),Oe=0,ke=je?Fe:Fe+1,Ie++,Be=""}break}return xe.text=e,xe.fontSize=_e,xe},et=function(t,e,r){var xe=e.scope.internal.getFont(e.fontName,e.fontStyle),Se=e.scope.getStringUnitWidth(t,{font:xe,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:xe,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:Se}},rt$1={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt$1=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(xe){return xe.type===r.type&&xe.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},it=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var xe=r,Se=t[r];e.internal.newObjectDeferredBegin(Se.objId,!0),_typeof$5(Se)==="object"&&typeof Se.putStream=="function"&&Se.putStream(),delete t[xe]}},at$1=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(lt$1.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rt$1)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D$1=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ht$1,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var xe=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Se in xe)if(xe.hasOwnProperty(Se)){var _e=xe[Se];_e.objId=void 0,_e.hasAnnotation&&nt$1(_e,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(xe,Se){var _e=!xe;for(var Ae in xe||(Se.internal.newObjectDeferredBegin(Se.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Se.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),xe=xe||Se.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(xe.hasOwnProperty(Ae)){var Ce=xe[Ae],Pe=[],Ee=Ce.Rect;if(Ce.Rect&&(Ce.Rect=$(Ce.Rect,Se)),Se.internal.newObjectDeferredBegin(Ce.objId,!0),Ce.DA=At.createDefaultAppearanceStream(Ce),_typeof$5(Ce)==="object"&&typeof Ce.getKeyValueListForStream=="function"&&(Pe=Ce.getKeyValueListForStream()),Ce.Rect=Ee,Ce.hasAppearanceStream&&!Ce.appearanceStreamContent){var Oe=Q$1(Ce);Pe.push({key:"AP",value:"<</N "+Oe+">>"}),Se.internal.acroformPlugin.xForms.push(Oe)}if(Ce.appearanceStreamContent){var Me="";for(var De in Ce.appearanceStreamContent)if(Ce.appearanceStreamContent.hasOwnProperty(De)){var Te=Ce.appearanceStreamContent[De];if(Me+="/"+De+" ",Me+="<<",Object.keys(Te).length>=1||Array.isArray(Te)){for(var Ae in Te)if(Te.hasOwnProperty(Ae)){var ke=Te[Ae];typeof ke=="function"&&(ke=ke.call(Se,Ce)),Me+="/"+Ae+" "+ke+" ",Se.internal.acroformPlugin.xForms.indexOf(ke)>=0||Se.internal.acroformPlugin.xForms.push(ke)}}else typeof(ke=Te)=="function"&&(ke=ke.call(Se,Ce)),Me+="/"+Ae+" "+ke,Se.internal.acroformPlugin.xForms.indexOf(ke)>=0||Se.internal.acroformPlugin.xForms.push(ke);Me+=">>"}Pe.push({key:"AP",value:`<<
`+Me+">>"})}Se.internal.putStream({additionalKeyValues:Pe,objectId:Ce.objId}),Se.internal.out("endobj")}_e&&it(Se.internal.acroformPlugin.xForms,Se)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},ot$1=q$1.__acroform__.arrayToPdfArray=function(t,e,r){var xe=function(Ae){return Ae};if(Array.isArray(t)){for(var Se="[",_e=0;_e<t.length;_e++)switch(_e!==0&&(Se+=" "),_typeof$5(t[_e])){case"boolean":case"number":case"object":Se+=t[_e].toString();break;case"string":t[_e].substr(0,1)!=="/"?(e!==void 0&&r&&(xe=r.internal.getEncryptor(e)),Se+="("+R(xe(t[_e].toString()))+")"):Se+=t[_e].toString()}return Se+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(t,e,r){var xe=function(Se){return Se};return e!==void 0&&r&&(xe=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+R(xe(t))+")"},ct$1=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct$1.prototype.toString=function(){return this.objId+" 0 R"},ct$1.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ct$1.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(_e){return _e!="content"&&_e!="appearanceStreamContent"&&_e!="scope"&&_e!="objId"&&_e.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var xe=e[r],Se=this[xe];Se&&(Array.isArray(Se)?t.push({key:xe,value:ot$1(Se,this.objId,this.scope)}):Se instanceof ct$1?(Se.scope=this.scope,t.push({key:xe,value:Se.objId+" 0 R"})):typeof Se!="function"&&t.push({key:xe,value:Se}))}return t};var ut$1=function(){ct$1.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};H(ut$1,ct$1);var ht$1=function(){ct$1.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(xe){return xe};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+R(r(t))+")"}},set:function(r){t=r}})};H(ht$1,ct$1);var lt$1=function t(){ct$1.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(Be){if(isNaN(Be))throw new Error('Invalid value "'+Be+'" for attribute F supplied.');e=Be}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X(e,3)},set:function(Be){Be?this.F=K(e,3):this.F=Z(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(Be){if(isNaN(Be))throw new Error('Invalid value "'+Be+'" for attribute Ff supplied.');r=Be}});var xe=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(xe.length!==0)return xe},set:function(Be){xe=Be!==void 0?Be:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!xe||isNaN(xe[0])?0:xe[0]},set:function(Be){xe[0]=Be}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!xe||isNaN(xe[1])?0:xe[1]},set:function(Be){xe[1]=Be}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!xe||isNaN(xe[2])?0:xe[2]},set:function(Be){xe[2]=Be}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!xe||isNaN(xe[3])?0:xe[3]},set:function(Be){xe[3]=Be}});var Se="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Se},set:function(Be){switch(Be){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Se=Be;break;default:throw new Error('Invalid value "'+Be+'" for attribute FT supplied.')}}});var _e=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!_e||_e.length<1){if(this instanceof yt$1)return;_e="FieldObject"+t.FieldNum++}var Be=function(Ie){return Ie};return this.scope&&(Be=this.scope.internal.getEncryptor(this.objId)),"("+R(Be(_e))+")"},set:function(Be){_e=Be.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return _e},set:function(Be){_e=Be}});var Ae="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Ae},set:function(Be){Ae=Be}});var Ce="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Ce},set:function(Be){Ce=Be}});var Pe=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Pe},set:function(Be){Pe=Be}});var Ee=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Ee===void 0?50/D$1:Ee},set:function(Be){Ee=Be}});var Oe="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Oe},set:function(Be){Oe=Be}});var Me="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Me||this instanceof yt$1||this instanceof Nt))return st(Me,this.objId,this.scope)},set:function(Be){Be=Be.toString(),Me=Be}});var De=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(De)return this instanceof mt?De:st(De,this.objId,this.scope)},set:function(Be){Be=Be.toString(),De=this instanceof mt?Be:Be.substr(0,1)==="("?T(Be.substr(1,Be.length-2)):T(Be)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(De.substr(1,De.length-1)):De},set:function(Be){Be=Be.toString(),De=this instanceof mt?"/"+Be:Be}});var Te=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Te)return Te},set:function(Be){this.V=Be}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Te)return this instanceof mt?Te:st(Te,this.objId,this.scope)},set:function(Be){Be=Be.toString(),Te=this instanceof mt?Be:Be.substr(0,1)==="("?T(Be.substr(1,Be.length-2)):T(Be)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(Te.substr(1,Te.length-1)):Te},set:function(Be){Be=Be.toString(),Te=this instanceof mt?"/"+Be:Be}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ke,Fe=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Fe},set:function(Be){Be=!!Be,Fe=Be}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ke)return ke},set:function(Be){ke=Be}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,1)},set:function(Be){Be?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,2)},set:function(Be){Be?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,3)},set:function(Be){Be?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var $e=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if($e!==null)return $e},set:function(Be){if([0,1,2].indexOf(Be)===-1)throw new Error('Invalid value "'+Be+'" for attribute Q supplied.');$e=Be}}),Object.defineProperty(this,"textAlign",{get:function(){var Be;switch($e){case 0:default:Be="left";break;case 1:Be="center";break;case 2:Be="right"}return Be},configurable:!0,enumerable:!0,set:function(Be){switch(Be){case"right":case 2:$e=2;break;case"center":case 1:$e=1;break;case"left":case 0:default:$e=0}}})};H(lt$1,ct$1);var ft=function(){lt$1.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot$1(e,this.objId,this.scope)},set:function(r){var xe,Se;Se=[],typeof(xe=r)=="string"&&(Se=function(_e,Ae,Ce){Ce||(Ce=1);for(var Pe,Ee=[];Pe=Ae.exec(_e);)Ee.push(Pe[Ce]);return Ee}(xe,/\((.*?)\)/g)),e=Se}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,xe){for(xe=xe||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),xe!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,18)},set:function(r){r?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,20)},set:function(r){r?(this.Ff=K(this.Ff,20),e.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,22)},set:function(r){r?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(r){r?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,27)},set:function(r){r?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt$1);var dt$1=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt$1,ft);var pt=function(){dt$1.call(this),this.combo=!0};H(pt,dt$1);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt$1.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,15)},set:function(r){r?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,16)},set:function(r){r?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,17)},set:function(r){r?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(r){r?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(_e){return _e};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var xe,Se=[];for(xe in Se.push("<<"),e)Se.push("/"+xe+" ("+R(r(e[xe]))+")");return Se.push(">>"),Se.join(`
`)}},set:function(r){_typeof$5(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};H(mt,lt$1);var vt$1=function(){mt.call(this),this.pushButton=!0};H(vt$1,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};H(bt,mt);var yt$1=function(){var t,e;lt$1.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(Se){t=Se}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(Se){e=Se}});var r,xe={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Se=function(Ce){return Ce};this.scope&&(Se=this.scope.internal.getEncryptor(this.objId));var _e,Ae=[];for(_e in Ae.push("<<"),xe)Ae.push("/"+_e+" ("+R(Se(xe[_e]))+")");return Ae.push(">>"),Ae.join(`
`)},set:function(Se){_typeof$5(Se)==="object"&&(xe=Se)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return xe.CA||""},set:function(Se){typeof Se=="string"&&(xe.CA=Se)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(Se){r=Se}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(Se){r="/"+Se}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt$1,lt$1),bt.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},bt.prototype.createOption=function(t){var e=new yt$1;return e.Parent=this,e.optionName=t,this.Kids.push(e),xt.call(this.scope,e),e};var wt$1=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt$1,mt);var Nt=function(){lt$1.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,13)},set:function(e){e?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,21)},set:function(e){e?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(e){e?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,24)},set:function(e){e?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,25)},set:function(e){e?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(e){e?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt$1);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,14)},set:function(t){t?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=V$1(t);e.scope=t.scope;var r=[],xe=t.scope.internal.getFont(t.fontName,t.fontStyle).id,Se=t.scope.__private__.encodeColorString(t.color),_e=tt(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+U$1(At.internal.getWidth(t))+" "+U$1(At.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+xe+" "+U$1(_e.fontSize)+" Tf "+Se),r.push("BT"),r.push(_e.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=V$1(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,xe=t.scope.__private__.encodeColorString(t.color),Se=[],_e=At.internal.getHeight(t),Ae=At.internal.getWidth(t),Ce=tt(t,t.caption);return Se.push("1 g"),Se.push("0 0 "+U$1(Ae)+" "+U$1(_e)+" re"),Se.push("f"),Se.push("q"),Se.push("0 0 1 rg"),Se.push("0 0 "+U$1(Ae-1)+" "+U$1(_e-1)+" re"),Se.push("W"),Se.push("n"),Se.push("0 g"),Se.push("BT"),Se.push("/"+r+" "+U$1(Ce.fontSize)+" Tf "+xe),Se.push(Ce.text),Se.push("ET"),Se.push("Q"),e.stream=Se.join(`
`),e},OffPushDown:function(t){var e=V$1(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+U$1(At.internal.getWidth(t))+" "+U$1(At.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=At.RadioButton.Circle.YesNormal,e.D[t]=At.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=V$1(t);e.scope=t.scope;var r=[],xe=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;xe=Number((.9*xe).toFixed(5));var Se=At.internal.Bezier_C,_e=Number((xe*Se).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),r.push(xe+" 0 m"),r.push(xe+" "+_e+" "+_e+" "+xe+" 0 "+xe+" c"),r.push("-"+_e+" "+xe+" -"+xe+" "+_e+" -"+xe+" 0 c"),r.push("-"+xe+" -"+_e+" -"+_e+" -"+xe+" 0 -"+xe+" c"),r.push(_e+" -"+xe+" "+xe+" -"+_e+" "+xe+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=V$1(t);e.scope=t.scope;var r=[],xe=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;xe=Number((.9*xe).toFixed(5));var Se=Number((2*xe).toFixed(5)),_e=Number((Se*At.internal.Bezier_C).toFixed(5)),Ae=Number((xe*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),r.push(Se+" 0 m"),r.push(Se+" "+_e+" "+_e+" "+Se+" 0 "+Se+" c"),r.push("-"+_e+" "+Se+" -"+Se+" "+_e+" -"+Se+" 0 c"),r.push("-"+Se+" -"+_e+" -"+_e+" -"+Se+" 0 -"+Se+" c"),r.push(_e+" -"+Se+" "+Se+" -"+_e+" "+Se+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),r.push(xe+" 0 m"),r.push(xe+" "+Ae+" "+Ae+" "+xe+" 0 "+xe+" c"),r.push("-"+Ae+" "+xe+" -"+xe+" "+Ae+" -"+xe+" 0 c"),r.push("-"+xe+" -"+Ae+" -"+Ae+" -"+xe+" 0 -"+xe+" c"),r.push(Ae+" -"+xe+" "+xe+" -"+Ae+" "+xe+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=V$1(t);e.scope=t.scope;var r=[],xe=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;xe=Number((.9*xe).toFixed(5));var Se=Number((2*xe).toFixed(5)),_e=Number((Se*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),r.push(Se+" 0 m"),r.push(Se+" "+_e+" "+_e+" "+Se+" 0 "+Se+" c"),r.push("-"+_e+" "+Se+" -"+Se+" "+_e+" -"+Se+" 0 c"),r.push("-"+Se+" -"+_e+" -"+_e+" -"+Se+" 0 -"+Se+" c"),r.push(_e+" -"+Se+" "+Se+" -"+_e+" "+Se+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=At.RadioButton.Cross.YesNormal,e.D[t]=At.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=V$1(t);e.scope=t.scope;var r=[],xe=At.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+U$1(At.internal.getWidth(t)-2)+" "+U$1(At.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(U$1(xe.x1.x)+" "+U$1(xe.x1.y)+" m"),r.push(U$1(xe.x2.x)+" "+U$1(xe.x2.y)+" l"),r.push(U$1(xe.x4.x)+" "+U$1(xe.x4.y)+" m"),r.push(U$1(xe.x3.x)+" "+U$1(xe.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=V$1(t);e.scope=t.scope;var r=At.internal.calculateCross(t),xe=[];return xe.push("0.749023 g"),xe.push("0 0 "+U$1(At.internal.getWidth(t))+" "+U$1(At.internal.getHeight(t))+" re"),xe.push("f"),xe.push("q"),xe.push("1 1 "+U$1(At.internal.getWidth(t)-2)+" "+U$1(At.internal.getHeight(t)-2)+" re"),xe.push("W"),xe.push("n"),xe.push(U$1(r.x1.x)+" "+U$1(r.x1.y)+" m"),xe.push(U$1(r.x2.x)+" "+U$1(r.x2.y)+" l"),xe.push(U$1(r.x4.x)+" "+U$1(r.x4.y)+" m"),xe.push(U$1(r.x3.x)+" "+U$1(r.x3.y)+" l"),xe.push("s"),xe.push("Q"),e.stream=xe.join(`
`),e},OffPushDown:function(t){var e=V$1(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+U$1(At.internal.getWidth(t))+" "+U$1(At.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};At.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=At.internal.getWidth(t),r=At.internal.getHeight(t),xe=Math.min(e,r);return{x1:{x:(e-xe)/2,y:(r-xe)/2+xe},x2:{x:(e-xe)/2+xe,y:(r-xe)/2},x3:{x:(e-xe)/2,y:(r-xe)/2},x4:{x:(e-xe)/2+xe,y:(r-xe)/2+xe}}}},At.internal.getWidth=function(t){var e=0;return _typeof$5(t)==="object"&&(e=W(t.Rect[2])),e},At.internal.getHeight=function(t){var e=0;return _typeof$5(t)==="object"&&(e=W(t.Rect[3])),e};var xt=q$1.addField=function(t){if(at$1(this,t),!(t instanceof lt$1))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};q$1.AcroFormChoiceField=ft,q$1.AcroFormListBox=dt$1,q$1.AcroFormComboBox=pt,q$1.AcroFormEditBox=gt,q$1.AcroFormButton=mt,q$1.AcroFormPushButton=vt$1,q$1.AcroFormRadioButton=bt,q$1.AcroFormCheckBox=wt$1,q$1.AcroFormTextField=Nt,q$1.AcroFormPasswordField=Lt,q$1.AcroFormAppearance=At,q$1.AcroForm={ChoiceField:ft,ListBox:dt$1,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt$1,RadioButton:bt,CheckBox:wt$1,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt$1,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt$1,RadioButton:bt,CheckBox:wt$1,TextField:Nt,PasswordField:Lt,Appearance:At};function _t$1(t){return t.reduce(function(e,r,xe){return e[r]=xe,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},xe=t.__addimage__.getImageFileTypeByImageData=function(Ge,Ye){var Qe,Je,ri,hi,pi,ni=e;if((Ye=Ye||e)==="RGBA"||Ge.data!==void 0&&Ge.data instanceof Uint8ClampedArray&&"height"in Ge&&"width"in Ge)return"RGBA";if(He(Ge))for(pi in r)for(ri=r[pi],Qe=0;Qe<ri.length;Qe+=1){for(hi=!0,Je=0;Je<ri[Qe].length;Je+=1)if(ri[Qe][Je]!==void 0&&ri[Qe][Je]!==Ge[Je]){hi=!1;break}if(hi===!0){ni=pi;break}}else for(pi in r)for(ri=r[pi],Qe=0;Qe<ri.length;Qe+=1){for(hi=!0,Je=0;Je<ri[Qe].length;Je+=1)if(ri[Qe][Je]!==void 0&&ri[Qe][Je]!==Ge.charCodeAt(Je)){hi=!1;break}if(hi===!0){ni=pi;break}}return ni===e&&Ye!==e&&(ni=Ye),ni},Se=function Ge(Ye){for(var Qe=this.internal.write,Je=this.internal.putStream,ri=(0,this.internal.getFilters)();ri.indexOf("FlateEncode")!==-1;)ri.splice(ri.indexOf("FlateEncode"),1);Ye.objectId=this.internal.newObject();var hi=[];if(hi.push({key:"Type",value:"/XObject"}),hi.push({key:"Subtype",value:"/Image"}),hi.push({key:"Width",value:Ye.width}),hi.push({key:"Height",value:Ye.height}),Ye.colorSpace===$e.INDEXED?hi.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Ye.palette.length/3-1)+" "+("sMask"in Ye&&Ye.sMask!==void 0?Ye.objectId+2:Ye.objectId+1)+" 0 R]"}):(hi.push({key:"ColorSpace",value:"/"+Ye.colorSpace}),Ye.colorSpace===$e.DEVICE_CMYK&&hi.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),hi.push({key:"BitsPerComponent",value:Ye.bitsPerComponent}),"decodeParameters"in Ye&&Ye.decodeParameters!==void 0&&hi.push({key:"DecodeParms",value:"<<"+Ye.decodeParameters+">>"}),"transparency"in Ye&&Array.isArray(Ye.transparency)){for(var pi="",ni=0,di=Ye.transparency.length;ni<di;ni++)pi+=Ye.transparency[ni]+" "+Ye.transparency[ni]+" ";hi.push({key:"Mask",value:"["+pi+"]"})}Ye.sMask!==void 0&&hi.push({key:"SMask",value:Ye.objectId+1+" 0 R"});var fi=Ye.filter!==void 0?["/"+Ye.filter]:void 0;if(Je({data:Ye.data,additionalKeyValues:hi,alreadyAppliedFilters:fi,objectId:Ye.objectId}),Qe("endobj"),"sMask"in Ye&&Ye.sMask!==void 0){var Pi="/Predictor "+Ye.predictor+" /Colors 1 /BitsPerComponent "+Ye.bitsPerComponent+" /Columns "+Ye.width,ci={width:Ye.width,height:Ye.height,colorSpace:"DeviceGray",bitsPerComponent:Ye.bitsPerComponent,decodeParameters:Pi,data:Ye.sMask};"filter"in Ye&&(ci.filter=Ye.filter),Ge.call(this,ci)}if(Ye.colorSpace===$e.INDEXED){var xi=this.internal.newObject();Je({data:Ue(new Uint8Array(Ye.palette)),objectId:xi}),Qe("endobj")}},_e=function(){var Ge=this.internal.collections.addImage_images;for(var Ye in Ge)Se.call(this,Ge[Ye])},Ae=function(){var Ge,Ye=this.internal.collections.addImage_images,Qe=this.internal.write;for(var Je in Ye)Qe("/I"+(Ge=Ye[Je]).index,Ge.objectId,"0","R")},Ce=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",_e),this.internal.events.subscribe("putXobjectDict",Ae))},Pe=function(){var Ge=this.internal.collections.addImage_images;return Ce.call(this),Ge},Ee=function(){return Object.keys(this.internal.collections.addImage_images).length},Oe=function(Ge){return typeof t["process"+Ge.toUpperCase()]=="function"},Me=function(Ge){return _typeof$5(Ge)==="object"&&Ge.nodeType===1},De=function(Ge,Ye){if(Ge.nodeName==="IMG"&&Ge.hasAttribute("src")){var Qe=""+Ge.getAttribute("src");if(Qe.indexOf("data:image/")===0)return u(unescape(Qe).split("base64,").pop());var Je=t.loadFile(Qe,!0);if(Je!==void 0)return Je}if(Ge.nodeName==="CANVAS"){if(Ge.width===0||Ge.height===0)throw new Error("Given canvas must have data. Canvas width: "+Ge.width+", height: "+Ge.height);var ri;switch(Ye){case"PNG":ri="image/png";break;case"WEBP":ri="image/webp";break;case"JPEG":case"JPG":default:ri="image/jpeg"}return u(Ge.toDataURL(ri,1).split("base64,").pop())}},Te=function(Ge){var Ye=this.internal.collections.addImage_images;if(Ye){for(var Qe in Ye)if(Ge===Ye[Qe].alias)return Ye[Qe]}},ke=function(Ge,Ye,Qe){return Ge||Ye||(Ge=-96,Ye=-96),Ge<0&&(Ge=-1*Qe.width*72/Ge/this.internal.scaleFactor),Ye<0&&(Ye=-1*Qe.height*72/Ye/this.internal.scaleFactor),Ge===0&&(Ge=Ye*Qe.width/Qe.height),Ye===0&&(Ye=Ge*Qe.height/Qe.width),[Ge,Ye]},Fe=function(Ge,Ye,Qe,Je,ri,hi){var pi=ke.call(this,Qe,Je,ri),ni=this.internal.getCoordinateString,di=this.internal.getVerticalCoordinateString,fi=Pe.call(this);if(Qe=pi[0],Je=pi[1],fi[ri.index]=ri,hi){hi*=Math.PI/180;var Pi=Math.cos(hi),ci=Math.sin(hi),xi=function(gi){return gi.toFixed(4)},yi=[xi(Pi),xi(ci),xi(-1*ci),xi(Pi),0,0,"cm"]}this.internal.write("q"),hi?(this.internal.write([1,"0","0",1,ni(Ge),di(Ye+Je),"cm"].join(" ")),this.internal.write(yi.join(" ")),this.internal.write([ni(Qe),"0","0",ni(Je),"0","0","cm"].join(" "))):this.internal.write([ni(Qe),"0","0",ni(Je),ni(Ge),di(Ye+Je),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ri.index+" Do"),this.internal.write("Q")},$e=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Be=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Ie=t.__addimage__.sHashCode=function(Ge){var Ye,Qe,Je=0;if(typeof Ge=="string")for(Qe=Ge.length,Ye=0;Ye<Qe;Ye++)Je=(Je<<5)-Je+Ge.charCodeAt(Ye),Je|=0;else if(He(Ge))for(Qe=Ge.byteLength/2,Ye=0;Ye<Qe;Ye++)Je=(Je<<5)-Je+Ge[Ye],Je|=0;return Je},Re=t.__addimage__.validateStringAsBase64=function(Ge){(Ge=Ge||"").toString().trim();var Ye=!0;return Ge.length===0&&(Ye=!1),Ge.length%4!=0&&(Ye=!1),/^[A-Za-z0-9+/]+$/.test(Ge.substr(0,Ge.length-2))===!1&&(Ye=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Ge.substr(-2))===!1&&(Ye=!1),Ye},je=t.__addimage__.extractImageFromDataUrl=function(Ge){var Ye=(Ge=Ge||"").split("base64,"),Qe=null;if(Ye.length===2){var Je=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Ye[0]);Array.isArray(Je)&&(Qe={mimeType:Je[1],charset:Je[2],data:Ye[1]})}return Qe},Ve=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(Ge){return Ve()&&Ge instanceof ArrayBuffer};var He=t.__addimage__.isArrayBufferView=function(Ge){return Ve()&&typeof Uint32Array<"u"&&(Ge instanceof Int8Array||Ge instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Ge instanceof Uint8ClampedArray||Ge instanceof Int16Array||Ge instanceof Uint16Array||Ge instanceof Int32Array||Ge instanceof Uint32Array||Ge instanceof Float32Array||Ge instanceof Float64Array)},ze=t.__addimage__.binaryStringToUint8Array=function(Ge){for(var Ye=Ge.length,Qe=new Uint8Array(Ye),Je=0;Je<Ye;Je++)Qe[Je]=Ge.charCodeAt(Je);return Qe},Ue=t.__addimage__.arrayBufferToBinaryString=function(Ge){for(var Ye="",Qe=He(Ge)?Ge:new Uint8Array(Ge),Je=0;Je<Qe.length;Je+=8192)Ye+=String.fromCharCode.apply(null,Qe.subarray(Je,Je+8192));return Ye};t.addImage=function(){var Ge,Ye,Qe,Je,ri,hi,pi,ni,di;if(typeof arguments[1]=="number"?(Ye=e,Qe=arguments[1],Je=arguments[2],ri=arguments[3],hi=arguments[4],pi=arguments[5],ni=arguments[6],di=arguments[7]):(Ye=arguments[1],Qe=arguments[2],Je=arguments[3],ri=arguments[4],hi=arguments[5],pi=arguments[6],ni=arguments[7],di=arguments[8]),_typeof$5(Ge=arguments[0])==="object"&&!Me(Ge)&&"imageData"in Ge){var fi=Ge;Ge=fi.imageData,Ye=fi.format||Ye||e,Qe=fi.x||Qe||0,Je=fi.y||Je||0,ri=fi.w||fi.width||ri,hi=fi.h||fi.height||hi,pi=fi.alias||pi,ni=fi.compression||ni,di=fi.rotation||fi.angle||di}var Pi=this.internal.getFilters();if(ni===void 0&&Pi.indexOf("FlateEncode")!==-1&&(ni="SLOW"),isNaN(Qe)||isNaN(Je))throw new Error("Invalid coordinates passed to jsPDF.addImage");Ce.call(this);var ci=We.call(this,Ge,Ye,pi,ni);return Fe.call(this,Qe,Je,ri,hi,ci,di),this};var We=function(Ge,Ye,Qe,Je){var ri,hi,pi;if(typeof Ge=="string"&&xe(Ge)===e){Ge=unescape(Ge);var ni=qe(Ge,!1);(ni!==""||(ni=t.loadFile(Ge,!0))!==void 0)&&(Ge=ni)}if(Me(Ge)&&(Ge=De(Ge,Ye)),Ye=xe(Ge,Ye),!Oe(Ye))throw new Error("addImage does not support files of type '"+Ye+"', please ensure that a plugin for '"+Ye+"' support is added.");if(((pi=Qe)==null||pi.length===0)&&(Qe=function(di){return typeof di=="string"||He(di)?Ie(di):He(di.data)?Ie(di.data):null}(Ge)),(ri=Te.call(this,Qe))||(Ve()&&(Ge instanceof Uint8Array||Ye==="RGBA"||(hi=Ge,Ge=ze(Ge))),ri=this["process"+Ye.toUpperCase()](Ge,Ee.call(this),Qe,function(di){return di&&typeof di=="string"&&(di=di.toUpperCase()),di in t.image_compression?di:Be.NONE}(Je),hi)),!ri)throw new Error("An unknown error occurred whilst processing the image.");return ri},qe=t.__addimage__.convertBase64ToBinaryString=function(Ge,Ye){var Qe;Ye=typeof Ye!="boolean"||Ye;var Je,ri="";if(typeof Ge=="string"){Je=(Qe=je(Ge))!==null?Qe.data:Ge;try{ri=u(Je)}catch(hi){if(Ye)throw Re(Je)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+hi.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ri};t.getImageProperties=function(Ge){var Ye,Qe,Je="";if(Me(Ge)&&(Ge=De(Ge)),typeof Ge=="string"&&xe(Ge)===e&&((Je=qe(Ge,!1))===""&&(Je=t.loadFile(Ge)||""),Ge=Je),Qe=xe(Ge),!Oe(Qe))throw new Error("addImage does not support files of type '"+Qe+"', please ensure that a plugin for '"+Qe+"' support is added.");if(!Ve()||Ge instanceof Uint8Array||(Ge=ze(Ge)),!(Ye=this["process"+Qe.toUpperCase()](Ge)))throw new Error("An unknown error occurred whilst processing the image");return Ye.fileType=Qe,Ye}})(E.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};E.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var xe,Se,_e,Ae=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,Pe=this.internal.getPageInfoByObjId(r.objId),Ee=r.pageContext.annotations,Oe=!1,Me=0;Me<Ee.length&&!Oe;Me++)switch((xe=Ee[Me]).type){case"link":(e(xe.options.url)||e(xe.options.pageNumber))&&(Oe=!0);break;case"reference":case"text":case"freetext":Oe=!0}if(Oe!=0){this.internal.write("/Annots [");for(var De=0;De<Ee.length;De++){xe=Ee[De];var Te=this.internal.pdfEscape,ke=this.internal.getEncryptor(r.objId);switch(xe.type){case"reference":this.internal.write(" "+xe.object.objId+" 0 R ");break;case"text":var Fe=this.internal.newAdditionalObject(),$e=this.internal.newAdditionalObject(),Be=this.internal.getEncryptor(Fe.objId),Ie=xe.title||"Note";_e="<</Type /Annot /Subtype /Text "+(Se="/Rect ["+Ae(xe.bounds.x)+" "+Ce(xe.bounds.y+xe.bounds.h)+" "+Ae(xe.bounds.x+xe.bounds.w)+" "+Ce(xe.bounds.y)+"] ")+"/Contents ("+Te(Be(xe.contents))+")",_e+=" /Popup "+$e.objId+" 0 R",_e+=" /P "+Pe.objId+" 0 R",_e+=" /T ("+Te(Be(Ie))+") >>",Fe.content=_e;var Re=Fe.objId+" 0 R";_e="<</Type /Annot /Subtype /Popup "+(Se="/Rect ["+Ae(xe.bounds.x+30)+" "+Ce(xe.bounds.y+xe.bounds.h)+" "+Ae(xe.bounds.x+xe.bounds.w+30)+" "+Ce(xe.bounds.y)+"] ")+" /Parent "+Re,xe.open&&(_e+=" /Open true"),_e+=" >>",$e.content=_e,this.internal.write(Fe.objId,"0 R",$e.objId,"0 R");break;case"freetext":Se="/Rect ["+Ae(xe.bounds.x)+" "+Ce(xe.bounds.y)+" "+Ae(xe.bounds.x+xe.bounds.w)+" "+Ce(xe.bounds.y+xe.bounds.h)+"] ";var je=xe.color||"#000000";_e="<</Type /Annot /Subtype /FreeText "+Se+"/Contents ("+Te(ke(xe.contents))+")",_e+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+je+")",_e+=" /Border [0 0 0]",_e+=" >>",this.internal.write(_e);break;case"link":if(xe.options.name){var Ve=this.annotations._nameMap[xe.options.name];xe.options.pageNumber=Ve.page,xe.options.top=Ve.y}else xe.options.top||(xe.options.top=0);if(Se="/Rect ["+xe.finalBounds.x+" "+xe.finalBounds.y+" "+xe.finalBounds.w+" "+xe.finalBounds.h+"] ",_e="",xe.options.url)_e="<</Type /Annot /Subtype /Link "+Se+"/Border [0 0 0] /A <</S /URI /URI ("+Te(ke(xe.options.url))+") >>";else if(xe.options.pageNumber)switch(_e="<</Type /Annot /Subtype /Link "+Se+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(xe.options.pageNumber).objId+" 0 R",xe.options.magFactor=xe.options.magFactor||"XYZ",xe.options.magFactor){case"Fit":_e+=" /Fit]";break;case"FitH":_e+=" /FitH "+xe.options.top+"]";break;case"FitV":xe.options.left=xe.options.left||0,_e+=" /FitV "+xe.options.left+"]";break;case"XYZ":default:var He=Ce(xe.options.top);xe.options.left=xe.options.left||0,xe.options.zoom===void 0&&(xe.options.zoom=0),_e+=" /XYZ "+xe.options.left+" "+He+" "+xe.options.zoom+"]"}_e!=""&&(_e+=" >>",this.internal.write(_e))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var xe=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":xe.pageContext.annotations.push(r)}},t.link=function(r,xe,Se,_e,Ae){var Ce=this.internal.getCurrentPageInfo(),Pe=this.internal.getCoordinateString,Ee=this.internal.getVerticalCoordinateString;Ce.pageContext.annotations.push({finalBounds:{x:Pe(r),y:Ee(xe),w:Pe(r+Se),h:Ee(xe+_e)},options:Ae,type:"link"})},t.textWithLink=function(r,xe,Se,_e){var Ae,Ce,Pe=this.getTextWidth(r),Ee=this.internal.getLineHeight()/this.internal.scaleFactor;if(_e.maxWidth!==void 0){Ce=_e.maxWidth;var Oe=this.splitTextToSize(r,Ce).length;Ae=Math.ceil(Ee*Oe)}else Ce=Pe,Ae=Ee;return this.text(r,xe,Se,_e),Se+=.2*Ee,_e.align==="center"&&(xe-=Pe/2),_e.align==="right"&&(xe-=Pe),this.link(xe,Se-Ee,Ce,Ae,_e),Pe},t.getTextWidth=function(r){var xe=this.internal.getFontSize();return this.getStringUnitWidth(r)*xe/this.internal.scaleFactor}}(E.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},xe={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Se=[1570,1571,1573,1575];t.__arabicParser__={};var _e=t.__arabicParser__.isInArabicSubstitutionA=function(Fe){return e[Fe.charCodeAt(0)]!==void 0},Ae=t.__arabicParser__.isArabicLetter=function(Fe){return typeof Fe=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Fe)},Ce=t.__arabicParser__.isArabicEndLetter=function(Fe){return Ae(Fe)&&_e(Fe)&&e[Fe.charCodeAt(0)].length<=2},Pe=t.__arabicParser__.isArabicAlfLetter=function(Fe){return Ae(Fe)&&Se.indexOf(Fe.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(Fe){return Ae(Fe)&&_e(Fe)&&e[Fe.charCodeAt(0)].length>=1};var Ee=t.__arabicParser__.arabicLetterHasFinalForm=function(Fe){return Ae(Fe)&&_e(Fe)&&e[Fe.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(Fe){return Ae(Fe)&&_e(Fe)&&e[Fe.charCodeAt(0)].length>=3};var Oe=t.__arabicParser__.arabicLetterHasMedialForm=function(Fe){return Ae(Fe)&&_e(Fe)&&e[Fe.charCodeAt(0)].length==4},Me=t.__arabicParser__.resolveLigatures=function(Fe){var $e=0,Be=r,Ie="",Re=0;for($e=0;$e<Fe.length;$e+=1)Be[Fe.charCodeAt($e)]!==void 0?(Re++,typeof(Be=Be[Fe.charCodeAt($e)])=="number"&&(Ie+=String.fromCharCode(Be),Be=r,Re=0),$e===Fe.length-1&&(Be=r,Ie+=Fe.charAt($e-(Re-1)),$e-=Re-1,Re=0)):(Be=r,Ie+=Fe.charAt($e-Re),$e-=Re,Re=0);return Ie};t.__arabicParser__.isArabicDiacritic=function(Fe){return Fe!==void 0&&xe[Fe.charCodeAt(0)]!==void 0};var De=t.__arabicParser__.getCorrectForm=function(Fe,$e,Be){return Ae(Fe)?_e(Fe)===!1?-1:!Ee(Fe)||!Ae($e)&&!Ae(Be)||!Ae(Be)&&Ce($e)||Ce(Fe)&&!Ae($e)||Ce(Fe)&&Pe($e)||Ce(Fe)&&Ce($e)?0:Oe(Fe)&&Ae($e)&&!Ce($e)&&Ae(Be)&&Ee(Be)?3:Ce(Fe)||!Ae(Be)?1:2:-1},Te=function(Fe){var $e=0,Be=0,Ie=0,Re="",je="",Ve="",He=(Fe=Fe||"").split("\\s+"),ze=[];for($e=0;$e<He.length;$e+=1){for(ze.push(""),Be=0;Be<He[$e].length;Be+=1)Re=He[$e][Be],je=He[$e][Be-1],Ve=He[$e][Be+1],Ae(Re)?(Ie=De(Re,je,Ve),ze[$e]+=Ie!==-1?String.fromCharCode(e[Re.charCodeAt(0)][Ie]):Re):ze[$e]+=Re;ze[$e]=Me(ze[$e])}return ze.join(" ")},ke=t.__arabicParser__.processArabic=t.processArabic=function(){var Fe,$e=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Be=[];if(Array.isArray($e)){var Ie=0;for(Be=[],Ie=0;Ie<$e.length;Ie+=1)Array.isArray($e[Ie])?Be.push([Te($e[Ie][0]),$e[Ie][1],$e[Ie][2]]):Be.push([Te($e[Ie])]);Fe=Be}else Fe=Te($e);return typeof arguments[0]=="string"?Fe:(arguments[0].text=Fe,arguments[0])};t.events.push(["preProcessText",ke])}(E.API),E.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(Ce){r=Ce}});var xe=150;Object.defineProperty(this,"width",{get:function(){return xe},set:function(Ce){xe=isNaN(Ce)||Number.isInteger(Ce)===!1||Ce<0?150:Ce,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=xe+1)}});var Se=300;Object.defineProperty(this,"height",{get:function(){return Se},set:function(Ce){Se=isNaN(Ce)||Number.isInteger(Ce)===!1||Ce<0?300:Ce,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Se+1)}});var _e=[];Object.defineProperty(this,"childNodes",{get:function(){return _e},set:function(Ce){_e=Ce}});var Ae={};Object.defineProperty(this,"style",{get:function(){return Ae},set:function(Ce){Ae=Ce}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,xe){var Se;if((r=r||"2d")!=="2d")return null;for(Se in xe)this.pdf.context2d.hasOwnProperty(Se)&&(this.pdf.context2d[Se]=xe[Se]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(E.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,xe=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),Se.call(this))},Se=function(){this.internal.__cell__.lastCell=new _e,this.internal.__cell__.pages=1},_e=function(){var Pe=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Pe},set:function(Fe){Pe=Fe}});var Ee=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(Fe){Ee=Fe}});var Oe=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Oe},set:function(Fe){Oe=Fe}});var Me=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Me},set:function(Fe){Me=Fe}});var De=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return De},set:function(Fe){De=Fe}});var Te=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Te},set:function(Fe){Te=Fe}});var ke=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ke},set:function(Fe){ke=Fe}}),this};_e.prototype.clone=function(){return new _e(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},_e.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(Pe){return xe.call(this),this.internal.__cell__.headerFunction=typeof Pe=="function"?Pe:void 0,this},t.getTextDimensions=function(Pe,Ee){xe.call(this);var Oe=(Ee=Ee||{}).fontSize||this.getFontSize(),Me=Ee.font||this.getFont(),De=Ee.scaleFactor||this.internal.scaleFactor,Te=0,ke=0,Fe=0,$e=this;if(!Array.isArray(Pe)&&typeof Pe!="string"){if(typeof Pe!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Pe=String(Pe)}var Be=Ee.maxWidth;Be>0?typeof Pe=="string"?Pe=this.splitTextToSize(Pe,Be):Object.prototype.toString.call(Pe)==="[object Array]"&&(Pe=Pe.reduce(function(Re,je){return Re.concat($e.splitTextToSize(je,Be))},[])):Pe=Array.isArray(Pe)?Pe:[Pe];for(var Ie=0;Ie<Pe.length;Ie++)Te<(Fe=this.getStringUnitWidth(Pe[Ie],{font:Me})*Oe)&&(Te=Fe);return Te!==0&&(ke=Pe.length),{w:Te/=De,h:Math.max((ke*Oe*this.getLineHeightFactor()-Oe*(this.getLineHeightFactor()-1))/De,0)}},t.cellAddPage=function(){xe.call(this),this.addPage();var Pe=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new _e(Pe.left,Pe.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Ae=t.cell=function(){var Pe;Pe=arguments[0]instanceof _e?arguments[0]:new _e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),xe.call(this);var Ee=this.internal.__cell__.lastCell,Oe=this.internal.__cell__.padding,Me=this.internal.__cell__.margins||e,De=this.internal.__cell__.tableHeaderRow,Te=this.internal.__cell__.printHeaders;return Ee.lineNumber!==void 0&&(Ee.lineNumber===Pe.lineNumber?(Pe.x=(Ee.x||0)+(Ee.width||0),Pe.y=Ee.y||0):Ee.y+Ee.height+Pe.height+Me.bottom>this.getPageHeight()?(this.cellAddPage(),Pe.y=Me.top,Te&&De&&(this.printHeaderRow(Pe.lineNumber,!0),Pe.y+=De[0].height)):Pe.y=Ee.y+Ee.height||Pe.y),Pe.text[0]!==void 0&&(this.rect(Pe.x,Pe.y,Pe.width,Pe.height,r===!0?"FD":void 0),Pe.align==="right"?this.text(Pe.text,Pe.x+Pe.width-Oe,Pe.y+Oe,{align:"right",baseline:"top"}):Pe.align==="center"?this.text(Pe.text,Pe.x+Pe.width/2,Pe.y+Oe,{align:"center",baseline:"top",maxWidth:Pe.width-Oe-Oe}):this.text(Pe.text,Pe.x+Oe,Pe.y+Oe,{align:"left",baseline:"top",maxWidth:Pe.width-Oe-Oe})),this.internal.__cell__.lastCell=Pe,this};t.table=function(Pe,Ee,Oe,Me,De){if(xe.call(this),!Oe)throw new Error("No data for PDF table.");var Te,ke,Fe,$e,Be=[],Ie=[],Re=[],je={},Ve={},He=[],ze=[],Ue=(De=De||{}).autoSize||!1,We=De.printHeaders!==!1,qe=De.css&&De.css["font-size"]!==void 0?16*De.css["font-size"]:De.fontSize||12,Ge=De.margins||Object.assign({width:this.getPageWidth()},e),Ye=typeof De.padding=="number"?De.padding:3,Qe=De.headerBackgroundColor||"#c8c8c8",Je=De.headerTextColor||"#000";if(Se.call(this),this.internal.__cell__.printHeaders=We,this.internal.__cell__.margins=Ge,this.internal.__cell__.table_font_size=qe,this.internal.__cell__.padding=Ye,this.internal.__cell__.headerBackgroundColor=Qe,this.internal.__cell__.headerTextColor=Je,this.setFontSize(qe),Me==null)Ie=Be=Object.keys(Oe[0]),Re=Be.map(function(){return"left"});else if(Array.isArray(Me)&&_typeof$5(Me[0])==="object")for(Be=Me.map(function(fi){return fi.name}),Ie=Me.map(function(fi){return fi.prompt||fi.name||""}),Re=Me.map(function(fi){return fi.align||"left"}),Te=0;Te<Me.length;Te+=1)Ve[Me[Te].name]=Me[Te].width*(19.049976/25.4);else Array.isArray(Me)&&typeof Me[0]=="string"&&(Ie=Be=Me,Re=Be.map(function(){return"left"}));if(Ue||Array.isArray(Me)&&typeof Me[0]=="string")for(Te=0;Te<Be.length;Te+=1){for(je[$e=Be[Te]]=Oe.map(function(fi){return fi[$e]}),this.setFont(void 0,"bold"),He.push(this.getTextDimensions(Ie[Te],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ke=je[$e],this.setFont(void 0,"normal"),Fe=0;Fe<ke.length;Fe+=1)He.push(this.getTextDimensions(ke[Fe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ve[$e]=Math.max.apply(null,He)+Ye+Ye,He=[]}if(We){var ri={};for(Te=0;Te<Be.length;Te+=1)ri[Be[Te]]={},ri[Be[Te]].text=Ie[Te],ri[Be[Te]].align=Re[Te];var hi=Ce.call(this,ri,Ve);ze=Be.map(function(fi){return new _e(Pe,Ee,Ve[fi],hi,ri[fi].text,void 0,ri[fi].align)}),this.setTableHeaderRow(ze),this.printHeaderRow(1,!1)}var pi=Me.reduce(function(fi,Pi){return fi[Pi.name]=Pi.align,fi},{});for(Te=0;Te<Oe.length;Te+=1){"rowStart"in De&&De.rowStart instanceof Function&&De.rowStart({row:Te,data:Oe[Te]},this);var ni=Ce.call(this,Oe[Te],Ve);for(Fe=0;Fe<Be.length;Fe+=1){var di=Oe[Te][Be[Fe]];"cellStart"in De&&De.cellStart instanceof Function&&De.cellStart({row:Te,col:Fe,data:di},this),Ae.call(this,new _e(Pe,Ee,Ve[Be[Fe]],ni,di,Te+2,pi[Be[Fe]]))}}return this.internal.__cell__.table_x=Pe,this.internal.__cell__.table_y=Ee,this};var Ce=function(Pe,Ee){var Oe=this.internal.__cell__.padding,Me=this.internal.__cell__.table_font_size,De=this.internal.scaleFactor;return Object.keys(Pe).map(function(Te){var ke=Pe[Te];return this.splitTextToSize(ke.hasOwnProperty("text")?ke.text:ke,Ee[Te]-Oe-Oe)},this).map(function(Te){return this.getLineHeightFactor()*Te.length*Me/De+Oe+Oe},this).reduce(function(Te,ke){return Math.max(Te,ke)},0)};t.setTableHeaderRow=function(Pe){xe.call(this),this.internal.__cell__.tableHeaderRow=Pe},t.printHeaderRow=function(Pe,Ee){if(xe.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Oe;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var Me=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new _e(Me[0],Me[1],Me[2],Me[3],void 0,-1)}this.setFont(void 0,"bold");for(var De=[],Te=0;Te<this.internal.__cell__.tableHeaderRow.length;Te+=1){Oe=this.internal.__cell__.tableHeaderRow[Te].clone(),Ee&&(Oe.y=this.internal.__cell__.margins.top||0,De.push(Oe)),Oe.lineNumber=Pe;var ke=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Ae.call(this,Oe),this.setTextColor(ke)}De.length>0&&this.setTableHeaderRow(De),this.setFont(void 0,"normal"),r=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t$1(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t$1(Ft);function jt(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(_e){return Pt[_e=_e||"normal"]?_e:"normal"}(t.style),xe=function(_e){if(!_e)return 400;if(typeof _e=="number")return _e>=100&&_e<=900&&_e%100==0?_e:400;if(/^\d00$/.test(_e))return parseInt(_e);switch(_e){case"bold":return 700;case"normal":default:return 400}}(t.weight),Se=function(_e){return typeof It[_e=_e||"normal"]=="number"?_e:"normal"}(t.stretch);return{family:e,style:r,weight:xe,stretch:Se,src:t.src||[],ref:t.ref||{name:e,style:[Se,r,xe].join(" ")}}}function Ot(t,e,r,xe){var Se;for(Se=r;Se>=0&&Se<e.length;Se+=xe)if(t[e[Se]])return t[e[Se]];for(Se=r;Se>=0&&Se<e.length;Se-=xe)if(t[e[Se]])return t[e[Se]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function qt(t,e,r){for(var xe=(r=r||{}).defaultFontFamily||"times",Se=Object.assign({},Bt,r.genericFontFamilies||{}),_e=null,Ae=null,Ce=0;Ce<e.length;++Ce)if(Se[(_e=jt(e[Ce])).family]&&(_e.family=Se[_e.family]),t.hasOwnProperty(_e.family)){Ae=t[_e.family];break}if(!(Ae=Ae||t[xe]))throw new Error("Could not find a font-family for the rule '"+Et(_e)+"' and default family '"+xe+"'.");if(Ae=function(Pe,Ee){if(Ee[Pe])return Ee[Pe];var Oe=It[Pe],Me=Oe<=It.normal?-1:1,De=Ot(Ee,kt,Oe,Me);if(!De)throw new Error("Could not find a matching font-stretch value for "+Pe);return De}(_e.stretch,Ae),Ae=function(Pe,Ee){if(Ee[Pe])return Ee[Pe];for(var Oe=Pt[Pe],Me=0;Me<Oe.length;++Me)if(Ee[Oe[Me]])return Ee[Oe[Me]];throw new Error("Could not find a matching font-style for "+Pe)}(_e.style,Ae),!(Ae=function(Pe,Ee){if(Ee[Pe])return Ee[Pe];if(Pe===400&&Ee[500])return Ee[500];if(Pe===500&&Ee[400])return Ee[400];var Oe=Ct[Pe],Me=Ot(Ee,Ft,Oe,Pe<400?-1:1);if(!Me)throw new Error("Could not find a matching font-weight for value "+Pe);return Me}(_e.weight,Ae)))throw new Error("Failed to resolve a font for the rule '"+Et(_e)+"'.");return Ae}function Dt(t){return t.trimLeft()}function Rt(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Tt(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(t){var e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe=function(ci){return ci=ci||{},this.isStrokeTransparent=ci.isStrokeTransparent||!1,this.strokeOpacity=ci.strokeOpacity||1,this.strokeStyle=ci.strokeStyle||"#000000",this.fillStyle=ci.fillStyle||"#000000",this.isFillTransparent=ci.isFillTransparent||!1,this.fillOpacity=ci.fillOpacity||1,this.font=ci.font||"10px sans-serif",this.textBaseline=ci.textBaseline||"alphabetic",this.textAlign=ci.textAlign||"left",this.lineWidth=ci.lineWidth||1,this.lineJoin=ci.lineJoin||"miter",this.lineCap=ci.lineCap||"butt",this.path=ci.path||[],this.transform=ci.transform!==void 0?ci.transform.clone():new Pe,this.globalCompositeOperation=ci.globalCompositeOperation||"normal",this.globalAlpha=ci.globalAlpha||1,this.clip_path=ci.clip_path||[],this.currentPoint=ci.currentPoint||new Ae,this.miterLimit=ci.miterLimit||10,this.lastPoint=ci.lastPoint||new Ae,this.lineDashOffset=ci.lineDashOffset||0,this.lineDash=ci.lineDash||[],this.margin=ci.margin||[0,0,0,0],this.prevPageLastElemOffset=ci.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ci.ignoreClearRect!="boolean"||ci.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new Me(this),e=this.internal.f2,r=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,Se=this.internal.getHorizontalCoordinate,_e=this.internal.getVerticalCoordinate,Ae=this.internal.Point,Ce=this.internal.Rectangle,Pe=this.internal.Matrix,Ee=new Oe}]);var Me=function(ci){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var xi=ci;Object.defineProperty(this,"pdf",{get:function(){return xi}});var yi=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return yi},set:function(ai){yi=!!ai}});var gi=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return gi},set:function(ai){gi=!!ai}});var Ai=0;Object.defineProperty(this,"posX",{get:function(){return Ai},set:function(ai){isNaN(ai)||(Ai=ai)}});var Mi=0;Object.defineProperty(this,"posY",{get:function(){return Mi},set:function(ai){isNaN(ai)||(Mi=ai)}}),Object.defineProperty(this,"margin",{get:function(){return Ee.margin},set:function(ai){var ii;typeof ai=="number"?ii=[ai,ai,ai,ai]:((ii=new Array(4))[0]=ai[0],ii[1]=ai.length>=2?ai[1]:ii[0],ii[2]=ai.length>=3?ai[2]:ii[0],ii[3]=ai.length>=4?ai[3]:ii[1]),Ee.margin=ii}});var Fi=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Fi},set:function(ai){Fi=ai}});var Di=0;Object.defineProperty(this,"lastBreak",{get:function(){return Di},set:function(ai){Di=ai}});var oi=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oi},set:function(ai){oi=ai}}),Object.defineProperty(this,"ctx",{get:function(){return Ee},set:function(ai){ai instanceof Oe&&(Ee=ai)}}),Object.defineProperty(this,"path",{get:function(){return Ee.path},set:function(ai){Ee.path=ai}});var Ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ke},set:function(ai){Ke=ai}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ai){var ii;ii=De(ai),this.ctx.fillStyle=ii.style,this.ctx.isFillTransparent=ii.a===0,this.ctx.fillOpacity=ii.a,this.pdf.setFillColor(ii.r,ii.g,ii.b,{a:ii.a}),this.pdf.setTextColor(ii.r,ii.g,ii.b,{a:ii.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ai){var ii=De(ai);this.ctx.strokeStyle=ii.style,this.ctx.isStrokeTransparent=ii.a===0,this.ctx.strokeOpacity=ii.a,ii.a===0?this.pdf.setDrawColor(255,255,255):(ii.a,this.pdf.setDrawColor(ii.r,ii.g,ii.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ai){["butt","round","square"].indexOf(ai)!==-1&&(this.ctx.lineCap=ai,this.pdf.setLineCap(ai))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ai){isNaN(ai)||(this.ctx.lineWidth=ai,this.pdf.setLineWidth(ai))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ai){["bevel","round","miter"].indexOf(ai)!==-1&&(this.ctx.lineJoin=ai,this.pdf.setLineJoin(ai))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ai){isNaN(ai)||(this.ctx.miterLimit=ai,this.pdf.setMiterLimit(ai))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ai){this.ctx.textBaseline=ai}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ai){["right","end","center","left","start"].indexOf(ai)!==-1&&(this.ctx.textAlign=ai)}});var St=null;function ei(ai,ii){if(St===null){var Ci=function(ki){var bi=[];return Object.keys(ki).forEach(function(Ii){ki[Ii].forEach(function(Bi){var Vi=null;switch(Bi){case"bold":Vi={family:Ii,weight:"bold"};break;case"italic":Vi={family:Ii,style:"italic"};break;case"bolditalic":Vi={family:Ii,weight:"bold",style:"italic"};break;case"":case"normal":Vi={family:Ii}}Vi!==null&&(Vi.ref={name:Ii,style:Bi},bi.push(Vi))})}),bi}(ai.getFontList());St=function(ki){for(var bi={},Ii=0;Ii<ki.length;++Ii){var Bi=jt(ki[Ii]),Vi=Bi.family,ji=Bi.stretch,Zi=Bi.style,Wi=Bi.weight;bi[Vi]=bi[Vi]||{},bi[Vi][ji]=bi[Vi][ji]||{},bi[Vi][ji][Zi]=bi[Vi][ji][Zi]||{},bi[Vi][ji][Zi][Wi]=Bi}return bi}(Ci.concat(ii))}return St}var ui=null;Object.defineProperty(this,"fontFaces",{get:function(){return ui},set:function(ai){St=null,ui=ai}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ai){var ii;if(this.ctx.font=ai,(ii=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ai))!==null){var Ci=ii[1],ki=(ii[2],ii[3]),bi=ii[4],Ii=(ii[5],ii[6]),Bi=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(bi)[2];bi=Math.floor(Bi==="px"?parseFloat(bi)*this.pdf.internal.scaleFactor:Bi==="em"?parseFloat(bi)*this.pdf.getFontSize():parseFloat(bi)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(bi);var Vi=function(Yi){var nn,Ni,Xi=[],an=Yi.trim();if(an==="")return Wt;if(an in Mt)return[Mt[an]];for(;an!=="";){switch(Ni=null,nn=(an=Dt(an)).charAt(0)){case'"':case"'":Ni=Rt(an.substring(1),nn);break;default:Ni=Tt(an)}if(Ni===null||(Xi.push(Ni[0]),(an=Dt(Ni[1]))!==""&&an.charAt(0)!==","))return Wt;an=an.replace(/^,/,"")}return Xi}(Ii);if(this.fontFaces){var ji=qt(ei(this.pdf,this.fontFaces),Vi.map(function(Yi){return{family:Yi,stretch:"normal",weight:ki,style:Ci}}));this.pdf.setFont(ji.ref.name,ji.ref.style)}else{var Zi="";(ki==="bold"||parseInt(ki,10)>=700||Ci==="bold")&&(Zi="bold"),Ci==="italic"&&(Zi+="italic"),Zi.length===0&&(Zi="normal");for(var Wi="",Qi={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},wi=0;wi<Vi.length;wi++){if(this.pdf.internal.getFont(Vi[wi],Zi,{noFallback:!0,disableWarning:!0})!==void 0){Wi=Vi[wi];break}if(Zi==="bolditalic"&&this.pdf.internal.getFont(Vi[wi],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Wi=Vi[wi],Zi="bold";else if(this.pdf.internal.getFont(Vi[wi],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Wi=Vi[wi],Zi="normal";break}}if(Wi===""){for(var tn=0;tn<Vi.length;tn++)if(Qi[Vi[tn]]){Wi=Qi[Vi[tn]];break}}Wi=Wi===""?"Times":Wi,this.pdf.setFont(Wi,Zi)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ai){this.ctx.globalCompositeOperation=ai}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ai){this.ctx.globalAlpha=ai}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ai){this.ctx.lineDashOffset=ai,Pi.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ai){this.ctx.lineDash=ai,Pi.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ai){this.ctx.ignoreClearRect=!!ai}})};Me.prototype.setLineDash=function(ci){this.lineDash=ci},Me.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Me.prototype.fill=function(){je.call(this,"fill",!1)},Me.prototype.stroke=function(){je.call(this,"stroke",!1)},Me.prototype.beginPath=function(){this.path=[{type:"begin"}]},Me.prototype.moveTo=function(ci,xi){if(isNaN(ci)||isNaN(xi))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var yi=this.ctx.transform.applyToPoint(new Ae(ci,xi));this.path.push({type:"mt",x:yi.x,y:yi.y}),this.ctx.lastPoint=new Ae(ci,xi)},Me.prototype.closePath=function(){var ci=new Ae(0,0),xi=0;for(xi=this.path.length-1;xi!==-1;xi--)if(this.path[xi].type==="begin"&&_typeof$5(this.path[xi+1])==="object"&&typeof this.path[xi+1].x=="number"){ci=new Ae(this.path[xi+1].x,this.path[xi+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Ae(ci.x,ci.y)},Me.prototype.lineTo=function(ci,xi){if(isNaN(ci)||isNaN(xi))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var yi=this.ctx.transform.applyToPoint(new Ae(ci,xi));this.path.push({type:"lt",x:yi.x,y:yi.y}),this.ctx.lastPoint=new Ae(yi.x,yi.y)},Me.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),je.call(this,null,!0)},Me.prototype.quadraticCurveTo=function(ci,xi,yi,gi){if(isNaN(yi)||isNaN(gi)||isNaN(ci)||isNaN(xi))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ai=this.ctx.transform.applyToPoint(new Ae(yi,gi)),Mi=this.ctx.transform.applyToPoint(new Ae(ci,xi));this.path.push({type:"qct",x1:Mi.x,y1:Mi.y,x:Ai.x,y:Ai.y}),this.ctx.lastPoint=new Ae(Ai.x,Ai.y)},Me.prototype.bezierCurveTo=function(ci,xi,yi,gi,Ai,Mi){if(isNaN(Ai)||isNaN(Mi)||isNaN(ci)||isNaN(xi)||isNaN(yi)||isNaN(gi))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Fi=this.ctx.transform.applyToPoint(new Ae(Ai,Mi)),Di=this.ctx.transform.applyToPoint(new Ae(ci,xi)),oi=this.ctx.transform.applyToPoint(new Ae(yi,gi));this.path.push({type:"bct",x1:Di.x,y1:Di.y,x2:oi.x,y2:oi.y,x:Fi.x,y:Fi.y}),this.ctx.lastPoint=new Ae(Fi.x,Fi.y)},Me.prototype.arc=function(ci,xi,yi,gi,Ai,Mi){if(isNaN(ci)||isNaN(xi)||isNaN(yi)||isNaN(gi)||isNaN(Ai))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Mi=!!Mi,!this.ctx.transform.isIdentity){var Fi=this.ctx.transform.applyToPoint(new Ae(ci,xi));ci=Fi.x,xi=Fi.y;var Di=this.ctx.transform.applyToPoint(new Ae(0,yi)),oi=this.ctx.transform.applyToPoint(new Ae(0,0));yi=Math.sqrt(Math.pow(Di.x-oi.x,2)+Math.pow(Di.y-oi.y,2))}Math.abs(Ai-gi)>=2*Math.PI&&(gi=0,Ai=2*Math.PI),this.path.push({type:"arc",x:ci,y:xi,radius:yi,startAngle:gi,endAngle:Ai,counterclockwise:Mi})},Me.prototype.arcTo=function(ci,xi,yi,gi,Ai){throw new Error("arcTo not implemented.")},Me.prototype.rect=function(ci,xi,yi,gi){if(isNaN(ci)||isNaN(xi)||isNaN(yi)||isNaN(gi))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ci,xi),this.lineTo(ci+yi,xi),this.lineTo(ci+yi,xi+gi),this.lineTo(ci,xi+gi),this.lineTo(ci,xi),this.lineTo(ci+yi,xi),this.lineTo(ci,xi)},Me.prototype.fillRect=function(ci,xi,yi,gi){if(isNaN(ci)||isNaN(xi)||isNaN(yi)||isNaN(gi))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Te.call(this)){var Ai={};this.lineCap!=="butt"&&(Ai.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ai.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ci,xi,yi,gi),this.fill(),Ai.hasOwnProperty("lineCap")&&(this.lineCap=Ai.lineCap),Ai.hasOwnProperty("lineJoin")&&(this.lineJoin=Ai.lineJoin)}},Me.prototype.strokeRect=function(ci,xi,yi,gi){if(isNaN(ci)||isNaN(xi)||isNaN(yi)||isNaN(gi))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ke.call(this)||(this.beginPath(),this.rect(ci,xi,yi,gi),this.stroke())},Me.prototype.clearRect=function(ci,xi,yi,gi){if(isNaN(ci)||isNaN(xi)||isNaN(yi)||isNaN(gi))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ci,xi,yi,gi))},Me.prototype.save=function(ci){ci=typeof ci!="boolean"||ci;for(var xi=this.pdf.internal.getCurrentPageInfo().pageNumber,yi=0;yi<this.pdf.internal.getNumberOfPages();yi++)this.pdf.setPage(yi+1),this.pdf.internal.out("q");if(this.pdf.setPage(xi),ci){this.ctx.fontSize=this.pdf.internal.getFontSize();var gi=new Oe(this.ctx);this.ctxStack.push(this.ctx),this.ctx=gi}},Me.prototype.restore=function(ci){ci=typeof ci!="boolean"||ci;for(var xi=this.pdf.internal.getCurrentPageInfo().pageNumber,yi=0;yi<this.pdf.internal.getNumberOfPages();yi++)this.pdf.setPage(yi+1),this.pdf.internal.out("Q");this.pdf.setPage(xi),ci&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Me.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var De=function(ci){var xi,yi,gi,Ai;if(ci.isCanvasGradient===!0&&(ci=ci.getColor()),!ci)return{r:0,g:0,b:0,a:0,style:ci};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ci))xi=0,yi=0,gi=0,Ai=0;else{var Mi=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ci);if(Mi!==null)xi=parseInt(Mi[1]),yi=parseInt(Mi[2]),gi=parseInt(Mi[3]),Ai=1;else if((Mi=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ci))!==null)xi=parseInt(Mi[1]),yi=parseInt(Mi[2]),gi=parseInt(Mi[3]),Ai=parseFloat(Mi[4]);else{if(Ai=1,typeof ci=="string"&&ci.charAt(0)!=="#"){var Fi=new f(ci);ci=Fi.ok?Fi.toHex():"#000000"}ci.length===4?(xi=ci.substring(1,2),xi+=xi,yi=ci.substring(2,3),yi+=yi,gi=ci.substring(3,4),gi+=gi):(xi=ci.substring(1,3),yi=ci.substring(3,5),gi=ci.substring(5,7)),xi=parseInt(xi,16),yi=parseInt(yi,16),gi=parseInt(gi,16)}}return{r:xi,g:yi,b:gi,a:Ai,style:ci}},Te=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},ke=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Me.prototype.fillText=function(ci,xi,yi,gi){if(isNaN(xi)||isNaN(yi)||typeof ci!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(gi=isNaN(gi)?void 0:gi,!Te.call(this)){var Ai=ni(this.ctx.transform.rotation),Mi=this.ctx.transform.scaleX;Ye.call(this,{text:ci,x:xi,y:yi,scale:Mi,angle:Ai,align:this.textAlign,maxWidth:gi})}},Me.prototype.strokeText=function(ci,xi,yi,gi){if(isNaN(xi)||isNaN(yi)||typeof ci!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ke.call(this)){gi=isNaN(gi)?void 0:gi;var Ai=ni(this.ctx.transform.rotation),Mi=this.ctx.transform.scaleX;Ye.call(this,{text:ci,x:xi,y:yi,scale:Mi,renderingMode:"stroke",angle:Ai,align:this.textAlign,maxWidth:gi})}},Me.prototype.measureText=function(ci){if(typeof ci!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var xi=this.pdf,yi=this.pdf.internal.scaleFactor,gi=xi.internal.getFontSize(),Ai=xi.getStringUnitWidth(ci)*gi/xi.internal.scaleFactor,Mi=function(Fi){var Di=(Fi=Fi||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Di}}),this};return new Mi({width:Ai*=Math.round(96*yi/72*1e4)/1e4})},Me.prototype.scale=function(ci,xi){if(isNaN(ci)||isNaN(xi))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var yi=new Pe(ci,0,0,xi,0,0);this.ctx.transform=this.ctx.transform.multiply(yi)},Me.prototype.rotate=function(ci){if(isNaN(ci))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var xi=new Pe(Math.cos(ci),Math.sin(ci),-Math.sin(ci),Math.cos(ci),0,0);this.ctx.transform=this.ctx.transform.multiply(xi)},Me.prototype.translate=function(ci,xi){if(isNaN(ci)||isNaN(xi))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var yi=new Pe(1,0,0,1,ci,xi);this.ctx.transform=this.ctx.transform.multiply(yi)},Me.prototype.transform=function(ci,xi,yi,gi,Ai,Mi){if(isNaN(ci)||isNaN(xi)||isNaN(yi)||isNaN(gi)||isNaN(Ai)||isNaN(Mi))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Fi=new Pe(ci,xi,yi,gi,Ai,Mi);this.ctx.transform=this.ctx.transform.multiply(Fi)},Me.prototype.setTransform=function(ci,xi,yi,gi,Ai,Mi){ci=isNaN(ci)?1:ci,xi=isNaN(xi)?0:xi,yi=isNaN(yi)?0:yi,gi=isNaN(gi)?1:gi,Ai=isNaN(Ai)?0:Ai,Mi=isNaN(Mi)?0:Mi,this.ctx.transform=new Pe(ci,xi,yi,gi,Ai,Mi)};var Fe=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Me.prototype.drawImage=function(ci,xi,yi,gi,Ai,Mi,Fi,Di,oi){var Ke=this.pdf.getImageProperties(ci),St=1,ei=1,ui=1,ai=1;gi!==void 0&&Di!==void 0&&(ui=Di/gi,ai=oi/Ai,St=Ke.width/gi*Di/gi,ei=Ke.height/Ai*oi/Ai),Mi===void 0&&(Mi=xi,Fi=yi,xi=0,yi=0),gi!==void 0&&Di===void 0&&(Di=gi,oi=Ai),gi===void 0&&Di===void 0&&(Di=Ke.width,oi=Ke.height);for(var ii,Ci=this.ctx.transform.decompose(),ki=ni(Ci.rotate.shx),bi=new Pe,Ii=(bi=(bi=(bi=bi.multiply(Ci.translate)).multiply(Ci.skew)).multiply(Ci.scale)).applyToRectangle(new Ce(Mi-xi*ui,Fi-yi*ai,gi*St,Ai*ei)),Bi=$e.call(this,Ii),Vi=[],ji=0;ji<Bi.length;ji+=1)Vi.indexOf(Bi[ji])===-1&&Vi.push(Bi[ji]);if(Re(Vi),this.autoPaging)for(var Zi=Vi[0],Wi=Vi[Vi.length-1],Qi=Zi;Qi<Wi+1;Qi++){this.pdf.setPage(Qi);var wi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tn=Qi===1?this.posY+this.margin[0]:this.margin[0],Yi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ni=Qi===1?0:Yi+(Qi-2)*nn;if(this.ctx.clip_path.length!==0){var Xi=this.path;ii=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ie(ii,this.posX+this.margin[3],-Ni+tn+this.ctx.prevPageLastElemOffset),Ve.call(this,"fill",!0),this.path=Xi}var an=JSON.parse(JSON.stringify(Ii));an=Ie([an],this.posX+this.margin[3],-Ni+tn+this.ctx.prevPageLastElemOffset)[0];var cn=(Qi>Zi||Qi<Wi)&&Fe.call(this);cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wi,nn,null).clip().discardPath()),this.pdf.addImage(ci,"JPEG",an.x,an.y,an.w,an.h,null,null,ki),cn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ci,"JPEG",Ii.x,Ii.y,Ii.w,Ii.h,null,null,ki)};var $e=function(ci,xi,yi){var gi=[];xi=xi||this.pdf.internal.pageSize.width,yi=yi||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ai=this.posY+this.ctx.prevPageLastElemOffset;switch(ci.type){default:case"mt":case"lt":gi.push(Math.floor((ci.y+Ai)/yi)+1);break;case"arc":gi.push(Math.floor((ci.y+Ai-ci.radius)/yi)+1),gi.push(Math.floor((ci.y+Ai+ci.radius)/yi)+1);break;case"qct":var Mi=di(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ci.x1,ci.y1,ci.x,ci.y);gi.push(Math.floor((Mi.y+Ai)/yi)+1),gi.push(Math.floor((Mi.y+Mi.h+Ai)/yi)+1);break;case"bct":var Fi=fi(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ci.x1,ci.y1,ci.x2,ci.y2,ci.x,ci.y);gi.push(Math.floor((Fi.y+Ai)/yi)+1),gi.push(Math.floor((Fi.y+Fi.h+Ai)/yi)+1);break;case"rect":gi.push(Math.floor((ci.y+Ai)/yi)+1),gi.push(Math.floor((ci.y+ci.h+Ai)/yi)+1)}for(var Di=0;Di<gi.length;Di+=1)for(;this.pdf.internal.getNumberOfPages()<gi[Di];)Be.call(this);return gi},Be=function(){var ci=this.fillStyle,xi=this.strokeStyle,yi=this.font,gi=this.lineCap,Ai=this.lineWidth,Mi=this.lineJoin;this.pdf.addPage(),this.fillStyle=ci,this.strokeStyle=xi,this.font=yi,this.lineCap=gi,this.lineWidth=Ai,this.lineJoin=Mi},Ie=function(ci,xi,yi){for(var gi=0;gi<ci.length;gi++)switch(ci[gi].type){case"bct":ci[gi].x2+=xi,ci[gi].y2+=yi;case"qct":ci[gi].x1+=xi,ci[gi].y1+=yi;case"mt":case"lt":case"arc":default:ci[gi].x+=xi,ci[gi].y+=yi}return ci},Re=function(ci){return ci.sort(function(xi,yi){return xi-yi})},je=function(ci,xi){for(var yi,gi,Ai=this.fillStyle,Mi=this.strokeStyle,Fi=this.lineCap,Di=this.lineWidth,oi=Math.abs(Di*this.ctx.transform.scaleX),Ke=this.lineJoin,St=JSON.parse(JSON.stringify(this.path)),ei=JSON.parse(JSON.stringify(this.path)),ui=[],ai=0;ai<ei.length;ai++)if(ei[ai].x!==void 0)for(var ii=$e.call(this,ei[ai]),Ci=0;Ci<ii.length;Ci+=1)ui.indexOf(ii[Ci])===-1&&ui.push(ii[Ci]);for(var ki=0;ki<ui.length;ki++)for(;this.pdf.internal.getNumberOfPages()<ui[ki];)Be.call(this);if(Re(ui),this.autoPaging)for(var bi=ui[0],Ii=ui[ui.length-1],Bi=bi;Bi<Ii+1;Bi++){this.pdf.setPage(Bi),this.fillStyle=Ai,this.strokeStyle=Mi,this.lineCap=Fi,this.lineWidth=oi,this.lineJoin=Ke;var Vi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ji=Bi===1?this.posY+this.margin[0]:this.margin[0],Zi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qi=Bi===1?0:Zi+(Bi-2)*Wi;if(this.ctx.clip_path.length!==0){var wi=this.path;yi=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ie(yi,this.posX+this.margin[3],-Qi+ji+this.ctx.prevPageLastElemOffset),Ve.call(this,ci,!0),this.path=wi}if(gi=JSON.parse(JSON.stringify(St)),this.path=Ie(gi,this.posX+this.margin[3],-Qi+ji+this.ctx.prevPageLastElemOffset),xi===!1||Bi===0){var tn=(Bi>bi||Bi<Ii)&&Fe.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vi,Wi,null).clip().discardPath()),Ve.call(this,ci,xi),tn&&this.pdf.restoreGraphicsState()}this.lineWidth=Di}else this.lineWidth=oi,Ve.call(this,ci,xi),this.lineWidth=Di;this.path=St},Ve=function(ci,xi){if((ci!=="stroke"||xi||!ke.call(this))&&(ci==="stroke"||xi||!Te.call(this))){for(var yi,gi,Ai=[],Mi=this.path,Fi=0;Fi<Mi.length;Fi++){var Di=Mi[Fi];switch(Di.type){case"begin":Ai.push({begin:!0});break;case"close":Ai.push({close:!0});break;case"mt":Ai.push({start:Di,deltas:[],abs:[]});break;case"lt":var oi=Ai.length;if(Mi[Fi-1]&&!isNaN(Mi[Fi-1].x)&&(yi=[Di.x-Mi[Fi-1].x,Di.y-Mi[Fi-1].y],oi>0)){for(;oi>=0;oi--)if(Ai[oi-1].close!==!0&&Ai[oi-1].begin!==!0){Ai[oi-1].deltas.push(yi),Ai[oi-1].abs.push(Di);break}}break;case"bct":yi=[Di.x1-Mi[Fi-1].x,Di.y1-Mi[Fi-1].y,Di.x2-Mi[Fi-1].x,Di.y2-Mi[Fi-1].y,Di.x-Mi[Fi-1].x,Di.y-Mi[Fi-1].y],Ai[Ai.length-1].deltas.push(yi);break;case"qct":var Ke=Mi[Fi-1].x+2/3*(Di.x1-Mi[Fi-1].x),St=Mi[Fi-1].y+2/3*(Di.y1-Mi[Fi-1].y),ei=Di.x+2/3*(Di.x1-Di.x),ui=Di.y+2/3*(Di.y1-Di.y),ai=Di.x,ii=Di.y;yi=[Ke-Mi[Fi-1].x,St-Mi[Fi-1].y,ei-Mi[Fi-1].x,ui-Mi[Fi-1].y,ai-Mi[Fi-1].x,ii-Mi[Fi-1].y],Ai[Ai.length-1].deltas.push(yi);break;case"arc":Ai.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ai[Ai.length-1].abs)&&Ai[Ai.length-1].abs.push(Di)}}gi=xi?null:ci==="stroke"?"stroke":"fill";for(var Ci=!1,ki=0;ki<Ai.length;ki++)if(Ai[ki].arc)for(var bi=Ai[ki].abs,Ii=0;Ii<bi.length;Ii++){var Bi=bi[Ii];Bi.type==="arc"?Ue.call(this,Bi.x,Bi.y,Bi.radius,Bi.startAngle,Bi.endAngle,Bi.counterclockwise,void 0,xi,!Ci):Qe.call(this,Bi.x,Bi.y),Ci=!0}else if(Ai[ki].close===!0)this.pdf.internal.out("h"),Ci=!1;else if(Ai[ki].begin!==!0){var Vi=Ai[ki].start.x,ji=Ai[ki].start.y;Je.call(this,Ai[ki].deltas,Vi,ji),Ci=!0}gi&&We.call(this,gi),xi&&qe.call(this)}},He=function(ci){var xi=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,yi=xi*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ci-yi;case"top":return ci+xi-yi;case"hanging":return ci+xi-2*yi;case"middle":return ci+xi/2-yi;case"ideographic":return ci;case"alphabetic":default:return ci}},ze=function(ci){return ci+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Me.prototype.createLinearGradient=function(){var ci=function(){};return ci.colorStops=[],ci.addColorStop=function(xi,yi){this.colorStops.push([xi,yi])},ci.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ci.isCanvasGradient=!0,ci},Me.prototype.createPattern=function(){return this.createLinearGradient()},Me.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ue=function(ci,xi,yi,gi,Ai,Mi,Fi,Di,oi){for(var Ke=hi.call(this,yi,gi,Ai,Mi),St=0;St<Ke.length;St++){var ei=Ke[St];St===0&&(oi?Ge.call(this,ei.x1+ci,ei.y1+xi):Qe.call(this,ei.x1+ci,ei.y1+xi)),ri.call(this,ci,xi,ei.x2,ei.y2,ei.x3,ei.y3,ei.x4,ei.y4)}Di?qe.call(this):We.call(this,Fi)},We=function(ci){switch(ci){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},qe=function(){this.pdf.clip(),this.pdf.discardPath()},Ge=function(ci,xi){this.pdf.internal.out(r(ci)+" "+xe(xi)+" m")},Ye=function(ci){var xi;switch(ci.align){case"right":case"end":xi="right";break;case"center":xi="center";break;case"left":case"start":default:xi="left"}var yi=this.pdf.getTextDimensions(ci.text),gi=He.call(this,ci.y),Ai=ze.call(this,gi)-yi.h,Mi=this.ctx.transform.applyToPoint(new Ae(ci.x,gi)),Fi=this.ctx.transform.decompose(),Di=new Pe;Di=(Di=(Di=Di.multiply(Fi.translate)).multiply(Fi.skew)).multiply(Fi.scale);for(var oi,Ke,St,ei=this.ctx.transform.applyToRectangle(new Ce(ci.x,gi,yi.w,yi.h)),ui=Di.applyToRectangle(new Ce(ci.x,Ai,yi.w,yi.h)),ai=$e.call(this,ui),ii=[],Ci=0;Ci<ai.length;Ci+=1)ii.indexOf(ai[Ci])===-1&&ii.push(ai[Ci]);if(Re(ii),this.autoPaging)for(var ki=ii[0],bi=ii[ii.length-1],Ii=ki;Ii<bi+1;Ii++){this.pdf.setPage(Ii);var Bi=Ii===1?this.posY+this.margin[0]:this.margin[0],Vi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ji=this.pdf.internal.pageSize.height-this.margin[2],Zi=ji-this.margin[0],Wi=this.pdf.internal.pageSize.width-this.margin[1],Qi=Wi-this.margin[3],wi=Ii===1?0:Vi+(Ii-2)*Zi;if(this.ctx.clip_path.length!==0){var tn=this.path;oi=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ie(oi,this.posX+this.margin[3],-1*wi+Bi),Ve.call(this,"fill",!0),this.path=tn}var Yi=Ie([JSON.parse(JSON.stringify(ui))],this.posX+this.margin[3],-wi+Bi+this.ctx.prevPageLastElemOffset)[0];ci.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*ci.scale),St=this.lineWidth,this.lineWidth=St*ci.scale);var nn=this.autoPaging!=="text";if(nn||Yi.y+Yi.h<=ji){if(nn||Yi.y>=Bi&&Yi.x<=Wi){var Ni=nn?ci.text:this.pdf.splitTextToSize(ci.text,ci.maxWidth||Wi-Yi.x)[0],Xi=Ie([JSON.parse(JSON.stringify(ei))],this.posX+this.margin[3],-wi+Bi+this.ctx.prevPageLastElemOffset)[0],an=nn&&(Ii>ki||Ii<bi)&&Fe.call(this);an&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qi,Zi,null).clip().discardPath()),this.pdf.text(Ni,Xi.x,Xi.y,{angle:ci.angle,align:xi,renderingMode:ci.renderingMode}),an&&this.pdf.restoreGraphicsState()}}else Yi.y<ji&&(this.ctx.prevPageLastElemOffset+=ji-Yi.y);ci.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=St)}else ci.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*ci.scale),St=this.lineWidth,this.lineWidth=St*ci.scale),this.pdf.text(ci.text,Mi.x+this.posX,Mi.y+this.posY,{angle:ci.angle,align:xi,renderingMode:ci.renderingMode,maxWidth:ci.maxWidth}),ci.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=St)},Qe=function(ci,xi,yi,gi){yi=yi||0,gi=gi||0,this.pdf.internal.out(r(ci+yi)+" "+xe(xi+gi)+" l")},Je=function(ci,xi,yi){return this.pdf.lines(ci,xi,yi,null,null)},ri=function(ci,xi,yi,gi,Ai,Mi,Fi,Di){this.pdf.internal.out([e(Se(yi+ci)),e(_e(gi+xi)),e(Se(Ai+ci)),e(_e(Mi+xi)),e(Se(Fi+ci)),e(_e(Di+xi)),"c"].join(" "))},hi=function(ci,xi,yi,gi){for(var Ai=2*Math.PI,Mi=Math.PI/2;xi>yi;)xi-=Ai;var Fi=Math.abs(yi-xi);Fi<Ai&&gi&&(Fi=Ai-Fi);for(var Di=[],oi=gi?-1:1,Ke=xi;Fi>1e-5;){var St=Ke+oi*Math.min(Fi,Mi);Di.push(pi.call(this,ci,Ke,St)),Fi-=Math.abs(St-Ke),Ke=St}return Di},pi=function(ci,xi,yi){var gi=(yi-xi)/2,Ai=ci*Math.cos(gi),Mi=ci*Math.sin(gi),Fi=Ai,Di=-Mi,oi=Fi*Fi+Di*Di,Ke=oi+Fi*Ai+Di*Mi,St=4/3*(Math.sqrt(2*oi*Ke)-Ke)/(Fi*Mi-Di*Ai),ei=Fi-St*Di,ui=Di+St*Fi,ai=ei,ii=-ui,Ci=gi+xi,ki=Math.cos(Ci),bi=Math.sin(Ci);return{x1:ci*Math.cos(xi),y1:ci*Math.sin(xi),x2:ei*ki-ui*bi,y2:ei*bi+ui*ki,x3:ai*ki-ii*bi,y3:ai*bi+ii*ki,x4:ci*Math.cos(yi),y4:ci*Math.sin(yi)}},ni=function(ci){return 180*ci/Math.PI},di=function(ci,xi,yi,gi,Ai,Mi){var Fi=ci+.5*(yi-ci),Di=xi+.5*(gi-xi),oi=Ai+.5*(yi-Ai),Ke=Mi+.5*(gi-Mi),St=Math.min(ci,Ai,Fi,oi),ei=Math.max(ci,Ai,Fi,oi),ui=Math.min(xi,Mi,Di,Ke),ai=Math.max(xi,Mi,Di,Ke);return new Ce(St,ui,ei-St,ai-ui)},fi=function(ci,xi,yi,gi,Ai,Mi,Fi,Di){var oi,Ke,St,ei,ui,ai,ii,Ci,ki,bi,Ii,Bi,Vi,ji,Zi=yi-ci,Wi=gi-xi,Qi=Ai-yi,wi=Mi-gi,tn=Fi-Ai,Yi=Di-Mi;for(Ke=0;Ke<41;Ke++)ki=(ii=(St=ci+(oi=Ke/40)*Zi)+oi*((ui=yi+oi*Qi)-St))+oi*(ui+oi*(Ai+oi*tn-ui)-ii),bi=(Ci=(ei=xi+oi*Wi)+oi*((ai=gi+oi*wi)-ei))+oi*(ai+oi*(Mi+oi*Yi-ai)-Ci),Ke==0?(Ii=ki,Bi=bi,Vi=ki,ji=bi):(Ii=Math.min(Ii,ki),Bi=Math.min(Bi,bi),Vi=Math.max(Vi,ki),ji=Math.max(ji,bi));return new Ce(Math.round(Ii),Math.round(Bi),Math.round(Vi-Ii),Math.round(ji-Bi))},Pi=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ci,xi,yi=(ci=this.ctx.lineDash,xi=this.ctx.lineDashOffset,JSON.stringify({lineDash:ci,lineDashOffset:xi}));this.prevLineDash!==yi&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=yi)}}})(E.API),function(t){var e=function(_e){var Ae,Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe;for(Ce=[],Pe=0,Ee=(_e+=Ae="\0\0\0\0".slice(_e.length%4||4)).length;Ee>Pe;Pe+=4)(Oe=(_e.charCodeAt(Pe)<<24)+(_e.charCodeAt(Pe+1)<<16)+(_e.charCodeAt(Pe+2)<<8)+_e.charCodeAt(Pe+3))!==0?(Me=(Oe=((Oe=((Oe=((Oe=(Oe-(Fe=Oe%85))/85)-(ke=Oe%85))/85)-(Te=Oe%85))/85)-(De=Oe%85))/85)%85,Ce.push(Me+33,De+33,Te+33,ke+33,Fe+33)):Ce.push(122);return function($e,Be){for(var Ie=Be;Ie>0;Ie--)$e.pop()}(Ce,Ae.length),String.fromCharCode.apply(String,Ce)+"~>"},r=function(_e){var Ae,Ce,Pe,Ee,Oe,Me=String,De="length",Te=255,ke="charCodeAt",Fe="slice",$e="replace";for(_e[Fe](-2),_e=_e[Fe](0,-2)[$e](/\s/g,"")[$e]("z","!!!!!"),Pe=[],Ee=0,Oe=(_e+=Ae="uuuuu"[Fe](_e[De]%5||5))[De];Oe>Ee;Ee+=5)Ce=52200625*(_e[ke](Ee)-33)+614125*(_e[ke](Ee+1)-33)+7225*(_e[ke](Ee+2)-33)+85*(_e[ke](Ee+3)-33)+(_e[ke](Ee+4)-33),Pe.push(Te&Ce>>24,Te&Ce>>16,Te&Ce>>8,Te&Ce);return function(Be,Ie){for(var Re=Ie;Re>0;Re--)Be.pop()}(Pe,Ae[De]),Me.fromCharCode.apply(Me,Pe)},xe=function(_e){var Ae=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((_e=_e.replace(/\s/g,"")).indexOf(">")!==-1&&(_e=_e.substr(0,_e.indexOf(">"))),_e.length%2&&(_e+="0"),Ae.test(_e)===!1)return"";for(var Ce="",Pe=0;Pe<_e.length;Pe+=2)Ce+=String.fromCharCode("0x"+(_e[Pe]+_e[Pe+1]));return Ce},Se=function(_e){for(var Ae=new Uint8Array(_e.length),Ce=_e.length;Ce--;)Ae[Ce]=_e.charCodeAt(Ce);return _e=(Ae=zlibSync(Ae)).reduce(function(Pe,Ee){return Pe+String.fromCharCode(Ee)},"")};t.processDataByFilters=function(_e,Ae){var Ce=0,Pe=_e||"",Ee=[];for(typeof(Ae=Ae||[])=="string"&&(Ae=[Ae]),Ce=0;Ce<Ae.length;Ce+=1)switch(Ae[Ce]){case"ASCII85Decode":case"/ASCII85Decode":Pe=r(Pe),Ee.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Pe=e(Pe),Ee.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Pe=xe(Pe),Ee.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Pe=Pe.split("").map(function(Oe){return("0"+Oe.charCodeAt().toString(16)).slice(-2)}).join("")+">",Ee.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Pe=Se(Pe),Ee.push("/FlateDecode");break;default:throw new Error('The filter: "'+Ae[Ce]+'" is not implemented')}return{data:Pe,reverseChain:Ee.reverse().join(" ")}}}(E.API),function(t){t.loadFile=function(e,r,xe){return function(Se,_e,Ae){_e=_e!==!1,Ae=typeof Ae=="function"?Ae:function(){};var Ce=void 0;try{Ce=function(Pe,Ee,Oe){var Me=new XMLHttpRequest,De=0,Te=function(ke){var Fe=ke.length,$e=[],Be=String.fromCharCode;for(De=0;De<Fe;De+=1)$e.push(Be(255&ke.charCodeAt(De)));return $e.join("")};if(Me.open("GET",Pe,!Ee),Me.overrideMimeType("text/plain; charset=x-user-defined"),Ee===!1&&(Me.onload=function(){Me.status===200?Oe(Te(this.responseText)):Oe(void 0)}),Me.send(null),Ee&&Me.status===200)return Te(Me.responseText)}(Se,_e,Ae)}catch{}return Ce}(e,r,xe)},t.loadImageFile=t.loadFile}(E.API),function(t){function e(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm-Ry1SfrtC.js"),__vite__mapDeps([]))).catch(function(Ae){return Promise.reject(new Error("Could not load html2canvas: "+Ae))}).then(function(Ae){return Ae.default?Ae.default:Ae})}function r(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es-zHtM-7sw.js"),__vite__mapDeps([]))).catch(function(Ae){return Promise.reject(new Error("Could not load dompurify: "+Ae))}).then(function(Ae){return Ae.default?Ae.default:Ae})}var xe=function(Ae){var Ce=_typeof$5(Ae);return Ce==="undefined"?"undefined":Ce==="string"||Ae instanceof String?"string":Ce==="number"||Ae instanceof Number?"number":Ce==="function"||Ae instanceof Function?"function":Ae&&Ae.constructor===Array?"array":Ae&&Ae.nodeType===1?"element":Ce==="object"?"object":"unknown"},Se=function(Ae,Ce){var Pe=document.createElement(Ae);for(var Ee in Ce.className&&(Pe.className=Ce.className),Ce.innerHTML&&Ce.dompurify&&(Pe.innerHTML=Ce.dompurify.sanitize(Ce.innerHTML)),Ce.style)Pe.style[Ee]=Ce.style[Ee];return Pe},_e=function Ae(Ce){var Pe=Object.assign(Ae.convert(Promise.resolve()),JSON.parse(JSON.stringify(Ae.template))),Ee=Ae.convert(Promise.resolve(),Pe);return Ee=(Ee=Ee.setProgress(1,Ae,1,[Ae])).set(Ce)};(_e.prototype=Object.create(Promise.prototype)).constructor=_e,_e.convert=function(Ae,Ce){return Ae.__proto__=Ce||_e.prototype,Ae},_e.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},_e.prototype.from=function(Ae,Ce){return this.then(function(){switch(Ce=Ce||function(Pe){switch(xe(Pe)){case"string":return"string";case"element":return Pe.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(Ae)){case"string":return this.then(r).then(function(Pe){return this.set({src:Se("div",{innerHTML:Ae,dompurify:Pe})})});case"element":return this.set({src:Ae});case"canvas":return this.set({canvas:Ae});case"img":return this.set({img:Ae});default:return this.error("Unknown source type.")}})},_e.prototype.to=function(Ae){switch(Ae){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},_e.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Ae={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Ce=function Pe(Ee,Oe){for(var Me=Ee.nodeType===3?document.createTextNode(Ee.nodeValue):Ee.cloneNode(!1),De=Ee.firstChild;De;De=De.nextSibling)Oe!==!0&&De.nodeType===1&&De.nodeName==="SCRIPT"||Me.appendChild(Pe(De,Oe));return Ee.nodeType===1&&(Ee.nodeName==="CANVAS"?(Me.width=Ee.width,Me.height=Ee.height,Me.getContext("2d").drawImage(Ee,0,0)):Ee.nodeName!=="TEXTAREA"&&Ee.nodeName!=="SELECT"||(Me.value=Ee.value),Me.addEventListener("load",function(){Me.scrollTop=Ee.scrollTop,Me.scrollLeft=Ee.scrollLeft},!0)),Me}(this.prop.src,this.opt.html2canvas.javascriptEnabled);Ce.tagName==="BODY"&&(Ae.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Se("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Se("div",{className:"html2pdf__container",style:Ae}),this.prop.container.appendChild(Ce),this.prop.container.firstChild.appendChild(Se("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},_e.prototype.toCanvas=function(){var Ae=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ae).then(e).then(function(Ce){var Pe=Object.assign({},this.opt.html2canvas);return delete Pe.onrendered,Ce(this.prop.container,Pe)}).then(function(Ce){(this.opt.html2canvas.onrendered||function(){})(Ce),this.prop.canvas=Ce,document.body.removeChild(this.prop.overlay)})},_e.prototype.toContext2d=function(){var Ae=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ae).then(e).then(function(Ce){var Pe=this.opt.jsPDF,Ee=this.opt.fontFaces,Oe=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Me=Object.assign({async:!0,allowTaint:!0,scale:Oe,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Me.onrendered,Pe.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Pe.context2d.posX=this.opt.x,Pe.context2d.posY=this.opt.y,Pe.context2d.margin=this.opt.margin,Pe.context2d.fontFaces=Ee,Ee)for(var De=0;De<Ee.length;++De){var Te=Ee[De],ke=Te.src.find(function(Fe){return Fe.format==="truetype"});ke&&Pe.addFont(ke.url,Te.ref.name,Te.ref.style)}return Me.windowHeight=Me.windowHeight||0,Me.windowHeight=Me.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Me.windowHeight,Pe.context2d.save(!0),Ce(this.prop.container,Me)}).then(function(Ce){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Ce),this.prop.canvas=Ce,document.body.removeChild(this.prop.overlay)})},_e.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Ae=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Ae})},_e.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},_e.prototype.output=function(Ae,Ce,Pe){return(Pe=Pe||"pdf").toLowerCase()==="img"||Pe.toLowerCase()==="image"?this.outputImg(Ae,Ce):this.outputPdf(Ae,Ce)},_e.prototype.outputPdf=function(Ae,Ce){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Ae,Ce)})},_e.prototype.outputImg=function(Ae){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Ae){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Ae+'" is not supported.'}})},_e.prototype.save=function(Ae){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Ae?{filename:Ae}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},_e.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},_e.prototype.set=function(Ae){if(xe(Ae)!=="object")return this;var Ce=Object.keys(Ae||{}).map(function(Pe){if(Pe in _e.template.prop)return function(){this.prop[Pe]=Ae[Pe]};switch(Pe){case"margin":return this.setMargin.bind(this,Ae.margin);case"jsPDF":return function(){return this.opt.jsPDF=Ae.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Ae.pageSize);default:return function(){this.opt[Pe]=Ae[Pe]}}},this);return this.then(function(){return this.thenList(Ce)})},_e.prototype.get=function(Ae,Ce){return this.then(function(){var Pe=Ae in _e.template.prop?this.prop[Ae]:this.opt[Ae];return Ce?Ce(Pe):Pe})},_e.prototype.setMargin=function(Ae){return this.then(function(){switch(xe(Ae)){case"number":Ae=[Ae,Ae,Ae,Ae];case"array":if(Ae.length===2&&(Ae=[Ae[0],Ae[1],Ae[0],Ae[1]]),Ae.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Ae}).then(this.setPageSize)},_e.prototype.setPageSize=function(Ae){function Ce(Pe,Ee){return Math.floor(Pe*Ee/72*96)}return this.then(function(){(Ae=Ae||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Ae.inner={width:Ae.width-this.opt.margin[1]-this.opt.margin[3],height:Ae.height-this.opt.margin[0]-this.opt.margin[2]},Ae.inner.px={width:Ce(Ae.inner.width,Ae.k),height:Ce(Ae.inner.height,Ae.k)},Ae.inner.ratio=Ae.inner.height/Ae.inner.width),this.prop.pageSize=Ae})},_e.prototype.setProgress=function(Ae,Ce,Pe,Ee){return Ae!=null&&(this.progress.val=Ae),Ce!=null&&(this.progress.state=Ce),Pe!=null&&(this.progress.n=Pe),Ee!=null&&(this.progress.stack=Ee),this.progress.ratio=this.progress.val/this.progress.state,this},_e.prototype.updateProgress=function(Ae,Ce,Pe,Ee){return this.setProgress(Ae?this.progress.val+Ae:null,Ce||null,Pe?this.progress.n+Pe:null,Ee?this.progress.stack.concat(Ee):null)},_e.prototype.then=function(Ae,Ce){var Pe=this;return this.thenCore(Ae,Ce,function(Ee,Oe){return Pe.updateProgress(null,null,1,[Ee]),Promise.prototype.then.call(this,function(Me){return Pe.updateProgress(null,Ee),Me}).then(Ee,Oe).then(function(Me){return Pe.updateProgress(1),Me})})},_e.prototype.thenCore=function(Ae,Ce,Pe){Pe=Pe||Promise.prototype.then,Ae&&(Ae=Ae.bind(this)),Ce&&(Ce=Ce.bind(this));var Ee=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:_e.convert(Object.assign({},this),Promise.prototype),Oe=Pe.call(Ee,Ae,Ce);return _e.convert(Oe,this.__proto__)},_e.prototype.thenExternal=function(Ae,Ce){return Promise.prototype.then.call(this,Ae,Ce)},_e.prototype.thenList=function(Ae){var Ce=this;return Ae.forEach(function(Pe){Ce=Ce.thenCore(Pe)}),Ce},_e.prototype.catch=function(Ae){Ae&&(Ae=Ae.bind(this));var Ce=Promise.prototype.catch.call(this,Ae);return _e.convert(Ce,this)},_e.prototype.catchExternal=function(Ae){return Promise.prototype.catch.call(this,Ae)},_e.prototype.error=function(Ae){return this.then(function(){throw new Error(Ae)})},_e.prototype.using=_e.prototype.set,_e.prototype.saveAs=_e.prototype.save,_e.prototype.export=_e.prototype.output,_e.prototype.run=_e.prototype.then,E.getPageSize=function(Ae,Ce,Pe){if(_typeof$5(Ae)==="object"){var Ee=Ae;Ae=Ee.orientation,Ce=Ee.unit||Ce,Pe=Ee.format||Pe}Ce=Ce||"mm",Pe=Pe||"a4",Ae=(""+(Ae||"P")).toLowerCase();var Oe,Me=(""+Pe).toLowerCase(),De={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Ce){case"pt":Oe=1;break;case"mm":Oe=72/25.4;break;case"cm":Oe=72/2.54;break;case"in":Oe=72;break;case"px":Oe=.75;break;case"pc":case"em":Oe=12;break;case"ex":Oe=6;break;default:throw"Invalid unit: "+Ce}var Te,ke=0,Fe=0;if(De.hasOwnProperty(Me))ke=De[Me][1]/Oe,Fe=De[Me][0]/Oe;else try{ke=Pe[1],Fe=Pe[0]}catch{throw new Error("Invalid format: "+Pe)}if(Ae==="p"||Ae==="portrait")Ae="p",Fe>ke&&(Te=Fe,Fe=ke,ke=Te);else{if(Ae!=="l"&&Ae!=="landscape")throw"Invalid orientation: "+Ae;Ae="l",ke>Fe&&(Te=Fe,Fe=ke,ke=Te)}return{width:Fe,height:ke,unit:Ce,k:Oe,orientation:Ae}},t.html=function(Ae,Ce){(Ce=Ce||{}).callback=Ce.callback||function(){},Ce.html2canvas=Ce.html2canvas||{},Ce.html2canvas.canvas=Ce.html2canvas.canvas||this.canvas,Ce.jsPDF=Ce.jsPDF||this,Ce.fontFaces=Ce.fontFaces?Ce.fontFaces.map(jt):null;var Pe=new _e(Ce);return Ce.worker?Pe:Pe.from(Ae).doCallback()}}(E.API),E.API.addJS=function(t){return Ht=t,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,xe=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Se=r.outline.render().split(/\r\n/),_e=0;_e<Se.length;_e++){var Ae=Se[_e],Ce=xe.exec(Ae);if(Ce!=null){var Pe=Ce[1];r.internal.newObjectDeferredBegin(Pe,!1)}r.internal.write(Ae)}if(this.outline.createNamedDestinations){var Ee=this.internal.pages.length,Oe=[];for(_e=0;_e<Ee;_e++){var Me=r.internal.newObject();Oe.push(Me);var De=r.internal.getPageInfo(_e+1);r.internal.write("<< /D["+De.objId+" 0 R /XYZ null null null]>> endobj")}var Te=r.internal.newObject();for(r.internal.write("<< /Names [ "),_e=0;_e<Oe.length;_e++)r.internal.write("(page_"+(_e+1)+")"+Oe[_e]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+Te+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(xe,Se,_e){var Ae={title:Se,options:_e,children:[]};return xe==null&&(xe=this.root),xe.children.push(Ae),Ae},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(xe){xe.id=r.internal.newObjectDeferred();for(var Se=0;Se<xe.children.length;Se++)this.genIds_r(xe.children[Se])},r.outline.renderRoot=function(xe){this.objStart(xe),this.line("/Type /Outlines"),xe.children.length>0&&(this.line("/First "+this.makeRef(xe.children[0])),this.line("/Last "+this.makeRef(xe.children[xe.children.length-1]))),this.line("/Count "+this.count_r({count:0},xe)),this.objEnd()},r.outline.renderItems=function(xe){for(var Se=this.ctx.pdf.internal.getVerticalCoordinateString,_e=0;_e<xe.children.length;_e++){var Ae=xe.children[_e];this.objStart(Ae),this.line("/Title "+this.makeString(Ae.title)),this.line("/Parent "+this.makeRef(xe)),_e>0&&this.line("/Prev "+this.makeRef(xe.children[_e-1])),_e<xe.children.length-1&&this.line("/Next "+this.makeRef(xe.children[_e+1])),Ae.children.length>0&&(this.line("/First "+this.makeRef(Ae.children[0])),this.line("/Last "+this.makeRef(Ae.children[Ae.children.length-1])));var Ce=this.count=this.count_r({count:0},Ae);if(Ce>0&&this.line("/Count "+Ce),Ae.options&&Ae.options.pageNumber){var Pe=r.internal.getPageInfo(Ae.options.pageNumber);this.line("/Dest ["+Pe.objId+" 0 R /XYZ 0 "+Se(0)+" 0]")}this.objEnd()}for(var Ee=0;Ee<xe.children.length;Ee++)this.renderItems(xe.children[Ee])},r.outline.line=function(xe){this.ctx.val+=xe+`\r
`},r.outline.makeRef=function(xe){return xe.id+" 0 R"},r.outline.makeString=function(xe){return"("+r.internal.pdfEscape(xe)+")"},r.outline.objStart=function(xe){this.ctx.val+=`\r
`+xe.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(xe,Se){for(var _e=0;_e<Se.children.length;_e++)xe.count++,this.count_r(xe,Se.children[_e]);return xe.count}}])}(E.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,xe,Se,_e,Ae,Ce){var Pe,Ee=this.decode.DCT_DECODE,Oe=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=Ae||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(Pe=function(Me){for(var De,Te=256*Me.charCodeAt(4)+Me.charCodeAt(5),ke=Me.length,Fe={width:0,height:0,numcomponents:1},$e=4;$e<ke;$e+=2){if($e+=Te,e.indexOf(Me.charCodeAt($e+1))!==-1){De=256*Me.charCodeAt($e+5)+Me.charCodeAt($e+6),Fe={width:256*Me.charCodeAt($e+7)+Me.charCodeAt($e+8),height:De,numcomponents:Me.charCodeAt($e+9)};break}Te=256*Me.charCodeAt($e+2)+Me.charCodeAt($e+3)}return Fe}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:Ce=this.color_spaces.DEVICE_GRAY;break;case 4:Ce=this.color_spaces.DEVICE_CMYK;break;case 3:Ce=this.color_spaces.DEVICE_RGB}Oe={data:r,width:Pe.width,height:Pe.height,colorSpace:Ce,bitsPerComponent:8,filter:Ee,index:xe,alias:Se}}return Oe}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var t,e,r;function xe(_e){var Ae,Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe,$e,Be,Ie,Re;for(this.data=_e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},Me=null;;){switch(Ae=this.readUInt32(),ke=(function(){var je,Ve;for(Ve=[],je=0;je<4;++je)Ve.push(String.fromCharCode(this.data[this.pos++]));return Ve}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(Ae);break;case"fcTL":Me&&this.animation.frames.push(Me),this.pos+=4,Me={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},Oe=this.readUInt16(),Ee=this.readUInt16()||100,Me.delay=1e3*Oe/Ee,Me.disposeOp=this.data[this.pos++],Me.blendOp=this.data[this.pos++],Me.data=[];break;case"IDAT":case"fdAT":for(ke==="fdAT"&&(this.pos+=4,Ae-=4),_e=(Me!=null?Me.data:void 0)||this.imgData,Be=0;0<=Ae?Be<Ae:Be>Ae;0<=Ae?++Be:--Be)_e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(Pe=this.palette.length/3,this.transparency.indexed=this.read(Ae),this.transparency.indexed.length>Pe)throw new Error("More transparent colors than palette size");if((Fe=Pe-this.transparency.indexed.length)>0)for(Ie=0;0<=Fe?Ie<Fe:Ie>Fe;0<=Fe?++Ie:--Ie)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(Ae)[0];break;case 2:this.transparency.rgb=this.read(Ae)}break;case"tEXt":De=($e=this.read(Ae)).indexOf(0),Te=String.fromCharCode.apply(String,$e.slice(0,De)),this.text[Te]=String.fromCharCode.apply(String,$e.slice(De+1));break;case"IEND":return Me&&this.animation.frames.push(Me),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(Re=this.colorType)===4||Re===6,Ce=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*Ce,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=Ae}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}xe.prototype.read=function(_e){var Ae,Ce;for(Ce=[],Ae=0;0<=_e?Ae<_e:Ae>_e;0<=_e?++Ae:--Ae)Ce.push(this.data[this.pos++]);return Ce},xe.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},xe.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},xe.prototype.decodePixels=function(_e){var Ae=this.pixelBitlength/8,Ce=new Uint8Array(this.width*this.height*Ae),Pe=0,Ee=this;if(_e==null&&(_e=this.imgData),_e.length===0)return new Uint8Array(0);function Oe(Me,De,Te,ke){var Fe,$e,Be,Ie,Re,je,Ve,He,ze,Ue,We,qe,Ge,Ye,Qe,Je,ri,hi,pi,ni,di,fi=Math.ceil((Ee.width-Me)/Te),Pi=Math.ceil((Ee.height-De)/ke),ci=Ee.width==fi&&Ee.height==Pi;for(Ye=Ae*fi,qe=ci?Ce:new Uint8Array(Ye*Pi),je=_e.length,Ge=0,$e=0;Ge<Pi&&Pe<je;){switch(_e[Pe++]){case 0:for(Ie=ri=0;ri<Ye;Ie=ri+=1)qe[$e++]=_e[Pe++];break;case 1:for(Ie=hi=0;hi<Ye;Ie=hi+=1)Fe=_e[Pe++],Re=Ie<Ae?0:qe[$e-Ae],qe[$e++]=(Fe+Re)%256;break;case 2:for(Ie=pi=0;pi<Ye;Ie=pi+=1)Fe=_e[Pe++],Be=(Ie-Ie%Ae)/Ae,Qe=Ge&&qe[(Ge-1)*Ye+Be*Ae+Ie%Ae],qe[$e++]=(Qe+Fe)%256;break;case 3:for(Ie=ni=0;ni<Ye;Ie=ni+=1)Fe=_e[Pe++],Be=(Ie-Ie%Ae)/Ae,Re=Ie<Ae?0:qe[$e-Ae],Qe=Ge&&qe[(Ge-1)*Ye+Be*Ae+Ie%Ae],qe[$e++]=(Fe+Math.floor((Re+Qe)/2))%256;break;case 4:for(Ie=di=0;di<Ye;Ie=di+=1)Fe=_e[Pe++],Be=(Ie-Ie%Ae)/Ae,Re=Ie<Ae?0:qe[$e-Ae],Ge===0?Qe=Je=0:(Qe=qe[(Ge-1)*Ye+Be*Ae+Ie%Ae],Je=Be&&qe[(Ge-1)*Ye+(Be-1)*Ae+Ie%Ae]),Ve=Re+Qe-Je,He=Math.abs(Ve-Re),Ue=Math.abs(Ve-Qe),We=Math.abs(Ve-Je),ze=He<=Ue&&He<=We?Re:Ue<=We?Qe:Je,qe[$e++]=(Fe+ze)%256;break;default:throw new Error("Invalid filter algorithm: "+_e[Pe-1])}if(!ci){var xi=((De+Ge*ke)*Ee.width+Me)*Ae,yi=Ge*Ye;for(Ie=0;Ie<fi;Ie+=1){for(var gi=0;gi<Ae;gi+=1)Ce[xi++]=qe[yi++];xi+=(Te-1)*Ae}}Ge++}}return _e=unzlibSync(_e),Ee.interlaceMethod==1?(Oe(0,0,8,8),Oe(4,0,8,8),Oe(0,4,4,8),Oe(2,0,4,4),Oe(0,2,2,4),Oe(1,0,2,2),Oe(0,1,1,2)):Oe(0,0,1,1),Ce},xe.prototype.decodePalette=function(){var _e,Ae,Ce,Pe,Ee,Oe,Me,De,Te;for(Ce=this.palette,Oe=this.transparency.indexed||[],Ee=new Uint8Array((Oe.length||0)+Ce.length),Pe=0,_e=0,Ae=Me=0,De=Ce.length;Me<De;Ae=Me+=3)Ee[Pe++]=Ce[Ae],Ee[Pe++]=Ce[Ae+1],Ee[Pe++]=Ce[Ae+2],Ee[Pe++]=(Te=Oe[_e++])!=null?Te:255;return Ee},xe.prototype.copyToImageData=function(_e,Ae){var Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe,$e,Be;if(Pe=this.colors,Fe=null,Ce=this.hasAlphaChannel,this.palette.length&&(Fe=(Be=this._decodedPalette)!=null?Be:this._decodedPalette=this.decodePalette(),Pe=4,Ce=!0),ke=(Ee=_e.data||_e).length,Me=Fe||Ae,Oe=De=0,Pe===1)for(;Oe<ke;)Te=Fe?4*Ae[Oe/4]:De,$e=Me[Te++],Ee[Oe++]=$e,Ee[Oe++]=$e,Ee[Oe++]=$e,Ee[Oe++]=Ce?Me[Te++]:255,De=Te;else for(;Oe<ke;)Te=Fe?4*Ae[Oe/4]:De,Ee[Oe++]=Me[Te++],Ee[Oe++]=Me[Te++],Ee[Oe++]=Me[Te++],Ee[Oe++]=Ce?Me[Te++]:255,De=Te},xe.prototype.decode=function(){var _e;return _e=new Uint8Array(this.width*this.height*4),this.copyToImageData(_e,this.decodePixels()),_e};var Se=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{e=n.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return Se(),t=function(_e){var Ae;if(Se()===!0)return r.width=_e.width,r.height=_e.height,r.clearRect(0,0,_e.width,_e.height),r.putImageData(_e,0,0),(Ae=new Image).src=e.toDataURL(),Ae;throw new Error("This method requires a Browser with Canvas-capability.")},xe.prototype.decodeFrames=function(_e){var Ae,Ce,Pe,Ee,Oe,Me,De,Te;if(this.animation){for(Te=[],Ce=Oe=0,Me=(De=this.animation.frames).length;Oe<Me;Ce=++Oe)Ae=De[Ce],Pe=_e.createImageData(Ae.width,Ae.height),Ee=this.decodePixels(new Uint8Array(Ae.data)),this.copyToImageData(Pe,Ee),Ae.imageData=Pe,Te.push(Ae.image=t(Pe));return Te}},xe.prototype.renderFrame=function(_e,Ae){var Ce,Pe,Ee;return Ce=(Pe=this.animation.frames)[Ae],Ee=Pe[Ae-1],Ae===0&&_e.clearRect(0,0,this.width,this.height),(Ee!=null?Ee.disposeOp:void 0)===1?_e.clearRect(Ee.xOffset,Ee.yOffset,Ee.width,Ee.height):(Ee!=null?Ee.disposeOp:void 0)===2&&_e.putImageData(Ee.imageData,Ee.xOffset,Ee.yOffset),Ce.blendOp===0&&_e.clearRect(Ce.xOffset,Ce.yOffset,Ce.width,Ce.height),_e.drawImage(Ce.image,Ce.xOffset,Ce.yOffset)},xe.prototype.animate=function(_e){var Ae,Ce,Pe,Ee,Oe,Me,De=this;return Ce=0,Me=this.animation,Ee=Me.numFrames,Pe=Me.frames,Oe=Me.numPlays,(Ae=function(){var Te,ke;if(Te=Ce++%Ee,ke=Pe[Te],De.renderFrame(_e,Te),Ee>1&&Ce/Ee<Oe)return De.animation._timeout=setTimeout(Ae,ke.delay)})()},xe.prototype.stopAnimation=function(){var _e;return clearTimeout((_e=this.animation)!=null?_e._timeout:void 0)},xe.prototype.render=function(_e){var Ae,Ce;return _e._png&&_e._png.stopAnimation(),_e._png=this,_e.width=this.width,_e.height=this.height,Ae=_e.getContext("2d"),this.animation?(this.decodeFrames(Ae),this.animate(Ae)):(Ce=Ae.createImageData(this.width,this.height),this.copyToImageData(Ce,this.decodePixels()),Ae.putImageData(Ce,0,0))},xe}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,xe=t[e++]|t[e++]<<8,Se=t[e++],_e=Se>>7,Ae=1<<(7&Se)+1;t[e++],t[e++];var Ce=null,Pe=null;_e&&(Ce=e,Pe=Ae,e+=3*Ae);var Ee=!0,Oe=[],Me=0,De=null,Te=0,ke=null;for(this.width=r,this.height=xe;Ee&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,ke=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((Ge=t[e++])>=0))throw Error("Invalid block size");if(Ge===0)break;e+=Ge}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var Fe=t[e++];Me=t[e++]|t[e++]<<8,De=t[e++],!(1&Fe)&&(De=null),Te=Fe>>2&7,e++;break;case 254:for(;;){if(!((Ge=t[e++])>=0))throw Error("Invalid block size");if(Ge===0)break;e+=Ge}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var $e=t[e++]|t[e++]<<8,Be=t[e++]|t[e++]<<8,Ie=t[e++]|t[e++]<<8,Re=t[e++]|t[e++]<<8,je=t[e++],Ve=je>>6&1,He=1<<(7&je)+1,ze=Ce,Ue=Pe,We=!1;je>>7&&(We=!0,ze=e,Ue=He,e+=3*He);var qe=e;for(e++;;){var Ge;if(!((Ge=t[e++])>=0))throw Error("Invalid block size");if(Ge===0)break;e+=Ge}Oe.push({x:$e,y:Be,width:Ie,height:Re,has_local_palette:We,palette_offset:ze,palette_size:Ue,data_offset:qe,data_length:e-qe,transparent_index:De,interlaced:!!Ve,delay:Me,disposal:Te});break;case 59:Ee=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return Oe.length},this.loopCount=function(){return ke},this.frameInfo=function(Ye){if(Ye<0||Ye>=Oe.length)throw new Error("Frame index out of range.");return Oe[Ye]},this.decodeAndBlitFrameBGRA=function(Ye,Qe){var Je=this.frameInfo(Ye),ri=Je.width*Je.height,hi=new Uint8Array(ri);$t(t,Je.data_offset,hi,ri);var pi=Je.palette_offset,ni=Je.transparent_index;ni===null&&(ni=256);var di=Je.width,fi=r-di,Pi=di,ci=4*(Je.y*r+Je.x),xi=4*((Je.y+Je.height)*r+Je.x),yi=ci,gi=4*fi;Je.interlaced===!0&&(gi+=4*r*7);for(var Ai=8,Mi=0,Fi=hi.length;Mi<Fi;++Mi){var Di=hi[Mi];if(Pi===0&&(Pi=di,(yi+=gi)>=xi&&(gi=4*fi+4*r*(Ai-1),yi=ci+(di+fi)*(Ai<<1),Ai>>=1)),Di===ni)yi+=4;else{var oi=t[pi+3*Di],Ke=t[pi+3*Di+1],St=t[pi+3*Di+2];Qe[yi++]=St,Qe[yi++]=Ke,Qe[yi++]=oi,Qe[yi++]=255}--Pi}},this.decodeAndBlitFrameRGBA=function(Ye,Qe){var Je=this.frameInfo(Ye),ri=Je.width*Je.height,hi=new Uint8Array(ri);$t(t,Je.data_offset,hi,ri);var pi=Je.palette_offset,ni=Je.transparent_index;ni===null&&(ni=256);var di=Je.width,fi=r-di,Pi=di,ci=4*(Je.y*r+Je.x),xi=4*((Je.y+Je.height)*r+Je.x),yi=ci,gi=4*fi;Je.interlaced===!0&&(gi+=4*r*7);for(var Ai=8,Mi=0,Fi=hi.length;Mi<Fi;++Mi){var Di=hi[Mi];if(Pi===0&&(Pi=di,(yi+=gi)>=xi&&(gi=4*fi+4*r*(Ai-1),yi=ci+(di+fi)*(Ai<<1),Ai>>=1)),Di===ni)yi+=4;else{var oi=t[pi+3*Di],Ke=t[pi+3*Di+1],St=t[pi+3*Di+2];Qe[yi++]=oi,Qe[yi++]=Ke,Qe[yi++]=St,Qe[yi++]=255}--Pi}}}function $t(t,e,r,xe){for(var Se=t[e++],_e=1<<Se,Ae=_e+1,Ce=Ae+1,Pe=Se+1,Ee=(1<<Pe)-1,Oe=0,Me=0,De=0,Te=t[e++],ke=new Int32Array(4096),Fe=null;;){for(;Oe<16&&Te!==0;)Me|=t[e++]<<Oe,Oe+=8,Te===1?Te=t[e++]:--Te;if(Oe<Pe)break;var $e=Me&Ee;if(Me>>=Pe,Oe-=Pe,$e!==_e){if($e===Ae)break;for(var Be=$e<Ce?$e:Fe,Ie=0,Re=Be;Re>_e;)Re=ke[Re]>>8,++Ie;var je=Re;if(De+Ie+(Be!==$e?1:0)>xe)return void a.log("Warning, gif stream longer than expected.");r[De++]=je;var Ve=De+=Ie;for(Be!==$e&&(r[De++]=je),Re=Be;Ie--;)Re=ke[Re],r[--Ve]=255&Re,Re>>=8;Fe!==null&&Ce<4096&&(ke[Ce++]=Fe<<8|je,Ce>=Ee+1&&Pe<12&&(++Pe,Ee=Ee<<1|1)),Fe=$e}else Ce=Ae+1,Ee=(1<<(Pe=Se+1))-1,Fe=null}return De!==xe&&a.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(t){var e,r,xe,Se,_e,Ae=Math.floor,Ce=new Array(64),Pe=new Array(64),Ee=new Array(64),Oe=new Array(64),Me=new Array(65535),De=new Array(65535),Te=new Array(64),ke=new Array(64),Fe=[],$e=0,Be=7,Ie=new Array(64),Re=new Array(64),je=new Array(64),Ve=new Array(256),He=new Array(2048),ze=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ue=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],We=[0,1,2,3,4,5,6,7,8,9,10,11],qe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ge=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Ye=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Qe=[0,1,2,3,4,5,6,7,8,9,10,11],Je=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ri=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function hi(ci,xi){for(var yi=0,gi=0,Ai=new Array,Mi=1;Mi<=16;Mi++){for(var Fi=1;Fi<=ci[Mi];Fi++)Ai[xi[gi]]=[],Ai[xi[gi]][0]=yi,Ai[xi[gi]][1]=Mi,gi++,yi++;yi*=2}return Ai}function pi(ci){for(var xi=ci[0],yi=ci[1]-1;yi>=0;)xi&1<<yi&&($e|=1<<Be),yi--,--Be<0&&($e==255?(ni(255),ni(0)):ni($e),Be=7,$e=0)}function ni(ci){Fe.push(ci)}function di(ci){ni(ci>>8&255),ni(255&ci)}function fi(ci,xi,yi,gi,Ai){for(var Mi,Fi=Ai[0],Di=Ai[240],oi=function(bi,Ii){var Bi,Vi,ji,Zi,Wi,Qi,wi,tn,Yi,nn,Ni=0;for(Yi=0;Yi<8;++Yi){Bi=bi[Ni],Vi=bi[Ni+1],ji=bi[Ni+2],Zi=bi[Ni+3],Wi=bi[Ni+4],Qi=bi[Ni+5],wi=bi[Ni+6];var Xi=Bi+(tn=bi[Ni+7]),an=Bi-tn,cn=Vi+wi,dn=Vi-wi,bn=ji+Qi,wn=ji-Qi,Sn=Zi+Wi,kn=Zi-Wi,Ln=Xi+Sn,jn=Xi-Sn,Rn=cn+bn,Fn=cn-bn;bi[Ni]=Ln+Rn,bi[Ni+4]=Ln-Rn;var On=.707106781*(Fn+jn);bi[Ni+2]=jn+On,bi[Ni+6]=jn-On;var Vn=.382683433*((Ln=kn+wn)-(Fn=dn+an)),un=.5411961*Ln+Vn,Si=1.306562965*Fn+Vn,Hi=.707106781*(Rn=wn+dn),Ji=an+Hi,rn=an-Hi;bi[Ni+5]=rn+un,bi[Ni+3]=rn-un,bi[Ni+1]=Ji+Si,bi[Ni+7]=Ji-Si,Ni+=8}for(Ni=0,Yi=0;Yi<8;++Yi){Bi=bi[Ni],Vi=bi[Ni+8],ji=bi[Ni+16],Zi=bi[Ni+24],Wi=bi[Ni+32],Qi=bi[Ni+40],wi=bi[Ni+48];var vn=Bi+(tn=bi[Ni+56]),An=Bi-tn,zn=Vi+wi,In=Vi-wi,Hn=ji+Qi,Yn=ji-Qi,Rr=Zi+Wi,er=Zi-Wi,dr=vn+Rr,Kn=vn-Rr,or=zn+Hn,tr=zn-Hn;bi[Ni]=dr+or,bi[Ni+32]=dr-or;var ar=.707106781*(tr+Kn);bi[Ni+16]=Kn+ar,bi[Ni+48]=Kn-ar;var vr=.382683433*((dr=er+Yn)-(tr=In+An)),xr=.5411961*dr+vr,Ur=1.306562965*tr+vr,no=.707106781*(or=Yn+In),ro=An+no,oo=An-no;bi[Ni+40]=oo+xr,bi[Ni+24]=oo-xr,bi[Ni+8]=ro+Ur,bi[Ni+56]=ro-Ur,Ni++}for(Yi=0;Yi<64;++Yi)nn=bi[Yi]*Ii[Yi],Te[Yi]=nn>0?nn+.5|0:nn-.5|0;return Te}(ci,xi),Ke=0;Ke<64;++Ke)ke[ze[Ke]]=oi[Ke];var St=ke[0]-yi;yi=ke[0],St==0?pi(gi[0]):(pi(gi[De[Mi=32767+St]]),pi(Me[Mi]));for(var ei=63;ei>0&&ke[ei]==0;)ei--;if(ei==0)return pi(Fi),yi;for(var ui,ai=1;ai<=ei;){for(var ii=ai;ke[ai]==0&&ai<=ei;)++ai;var Ci=ai-ii;if(Ci>=16){ui=Ci>>4;for(var ki=1;ki<=ui;++ki)pi(Di);Ci&=15}Mi=32767+ke[ai],pi(Ai[(Ci<<4)+De[Mi]]),pi(Me[Mi]),ai++}return ei!=63&&pi(Fi),yi}function Pi(ci){ci=Math.min(Math.max(ci,1),100),_e!=ci&&(function(xi){for(var yi=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],gi=0;gi<64;gi++){var Ai=Ae((yi[gi]*xi+50)/100);Ai=Math.min(Math.max(Ai,1),255),Ce[ze[gi]]=Ai}for(var Mi=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Fi=0;Fi<64;Fi++){var Di=Ae((Mi[Fi]*xi+50)/100);Di=Math.min(Math.max(Di,1),255),Pe[ze[Fi]]=Di}for(var oi=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ke=0,St=0;St<8;St++)for(var ei=0;ei<8;ei++)Ee[Ke]=1/(Ce[ze[Ke]]*oi[St]*oi[ei]*8),Oe[Ke]=1/(Pe[ze[Ke]]*oi[St]*oi[ei]*8),Ke++}(ci<50?Math.floor(5e3/ci):Math.floor(200-2*ci)),_e=ci)}this.encode=function(ci,xi){xi&&Pi(xi),Fe=new Array,$e=0,Be=7,di(65496),di(65504),di(16),ni(74),ni(70),ni(73),ni(70),ni(0),ni(1),ni(1),ni(0),di(1),di(1),ni(0),ni(0),function(){di(65499),di(132),ni(0);for(var Vi=0;Vi<64;Vi++)ni(Ce[Vi]);ni(1);for(var ji=0;ji<64;ji++)ni(Pe[ji])}(),function(Vi,ji){di(65472),di(17),ni(8),di(ji),di(Vi),ni(3),ni(1),ni(17),ni(0),ni(2),ni(17),ni(1),ni(3),ni(17),ni(1)}(ci.width,ci.height),function(){di(65476),di(418),ni(0);for(var Vi=0;Vi<16;Vi++)ni(Ue[Vi+1]);for(var ji=0;ji<=11;ji++)ni(We[ji]);ni(16);for(var Zi=0;Zi<16;Zi++)ni(qe[Zi+1]);for(var Wi=0;Wi<=161;Wi++)ni(Ge[Wi]);ni(1);for(var Qi=0;Qi<16;Qi++)ni(Ye[Qi+1]);for(var wi=0;wi<=11;wi++)ni(Qe[wi]);ni(17);for(var tn=0;tn<16;tn++)ni(Je[tn+1]);for(var Yi=0;Yi<=161;Yi++)ni(ri[Yi])}(),di(65498),di(12),ni(3),ni(1),ni(0),ni(2),ni(17),ni(3),ni(17),ni(0),ni(63),ni(0);var yi=0,gi=0,Ai=0;$e=0,Be=7,this.encode.displayName="_encode_";for(var Mi,Fi,Di,oi,Ke,St,ei,ui,ai,ii=ci.data,Ci=ci.width,ki=ci.height,bi=4*Ci,Ii=0;Ii<ki;){for(Mi=0;Mi<bi;){for(Ke=bi*Ii+Mi,ei=-1,ui=0,ai=0;ai<64;ai++)St=Ke+(ui=ai>>3)*bi+(ei=4*(7&ai)),Ii+ui>=ki&&(St-=bi*(Ii+1+ui-ki)),Mi+ei>=bi&&(St-=Mi+ei-bi+4),Fi=ii[St++],Di=ii[St++],oi=ii[St++],Ie[ai]=(He[Fi]+He[Di+256>>0]+He[oi+512>>0]>>16)-128,Re[ai]=(He[Fi+768>>0]+He[Di+1024>>0]+He[oi+1280>>0]>>16)-128,je[ai]=(He[Fi+1280>>0]+He[Di+1536>>0]+He[oi+1792>>0]>>16)-128;yi=fi(Ie,Ee,yi,e,xe),gi=fi(Re,Oe,gi,r,Se),Ai=fi(je,Oe,Ai,r,Se),Mi+=32}Ii+=8}if(Be>=0){var Bi=[];Bi[1]=Be+1,Bi[0]=(1<<Be+1)-1,pi(Bi)}return di(65497),new Uint8Array(Fe)},t=t||50,function(){for(var ci=String.fromCharCode,xi=0;xi<256;xi++)Ve[xi]=ci(xi)}(),e=hi(Ue,We),r=hi(Ye,Qe),xe=hi(qe,Ge),Se=hi(Je,ri),function(){for(var ci=1,xi=2,yi=1;yi<=15;yi++){for(var gi=ci;gi<xi;gi++)De[32767+gi]=yi,Me[32767+gi]=[],Me[32767+gi][1]=yi,Me[32767+gi][0]=gi;for(var Ai=-(xi-1);Ai<=-ci;Ai++)De[32767+Ai]=yi,Me[32767+Ai]=[],Me[32767+Ai][1]=yi,Me[32767+Ai][0]=xi-1+Ai;ci<<=1,xi<<=1}}(),function(){for(var ci=0;ci<256;ci++)He[ci]=19595*ci,He[ci+256>>0]=38470*ci,He[ci+512>>0]=7471*ci+32768,He[ci+768>>0]=-11059*ci,He[ci+1024>>0]=-21709*ci,He[ci+1280>>0]=32768*ci+8421375,He[ci+1536>>0]=-27439*ci,He[ci+1792>>0]=-5329*ci}(),Pi(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(t){function e(Ue){if(!Ue)throw Error("assert :P")}function r(Ue,We,qe){for(var Ge=0;4>Ge;Ge++)if(Ue[We+Ge]!=qe.charCodeAt(Ge))return!0;return!1}function xe(Ue,We,qe,Ge,Ye){for(var Qe=0;Qe<Ye;Qe++)Ue[We+Qe]=qe[Ge+Qe]}function Se(Ue,We,qe,Ge){for(var Ye=0;Ye<Ge;Ye++)Ue[We+Ye]=qe}function _e(Ue){return new Int32Array(Ue)}function Ae(Ue,We){for(var qe=[],Ge=0;Ge<Ue;Ge++)qe.push(new We);return qe}function Ce(Ue,We){var qe=[];return function Ge(Ye,Qe,Je){for(var ri=Je[Qe],hi=0;hi<ri&&(Ye.push(Je.length>Qe+1?[]:new We),!(Je.length<Qe+1));hi++)Ge(Ye[hi],Qe+1,Je)}(qe,0,Ue),qe}var Pe=function(){var Ue=this;function We(Xe,Ze){for(var si=1<<Ze-1>>>0;Xe&si;)si>>>=1;return si?(Xe&si-1)+si:Xe}function qe(Xe,Ze,si,mi,vi){e(!(mi%si));do Xe[Ze+(mi-=si)]=vi;while(0<mi)}function Ge(Xe,Ze,si,mi,vi){if(e(2328>=vi),512>=vi)var Ei=_e(512);else if((Ei=_e(vi))==null)return 0;return function(Oi,Ti,Li,Ri,zi,on){var sn,Ki,gn=Ti,hn=1<<Li,Gi=_e(16),qi=_e(16);for(e(zi!=0),e(Ri!=null),e(Oi!=null),e(0<Li),Ki=0;Ki<zi;++Ki){if(15<Ri[Ki])return 0;++Gi[Ri[Ki]]}if(Gi[0]==zi)return 0;for(qi[1]=0,sn=1;15>sn;++sn){if(Gi[sn]>1<<sn)return 0;qi[sn+1]=qi[sn]+Gi[sn]}for(Ki=0;Ki<zi;++Ki)sn=Ri[Ki],0<Ri[Ki]&&(on[qi[sn]++]=Ki);if(qi[15]==1)return(Ri=new Ye).g=0,Ri.value=on[0],qe(Oi,gn,1,hn,Ri),hn;var pn,xn=-1,mn=hn-1,En=0,_n=1,Dn=1,Cn=1<<Li;for(Ki=0,sn=1,zi=2;sn<=Li;++sn,zi<<=1){if(_n+=Dn<<=1,0>(Dn-=Gi[sn]))return 0;for(;0<Gi[sn];--Gi[sn])(Ri=new Ye).g=sn,Ri.value=on[Ki++],qe(Oi,gn+En,zi,Cn,Ri),En=We(En,sn)}for(sn=Li+1,zi=2;15>=sn;++sn,zi<<=1){if(_n+=Dn<<=1,0>(Dn-=Gi[sn]))return 0;for(;0<Gi[sn];--Gi[sn]){if(Ri=new Ye,(En&mn)!=xn){for(gn+=Cn,pn=1<<(xn=sn)-Li;15>xn&&!(0>=(pn-=Gi[xn]));)++xn,pn<<=1;hn+=Cn=1<<(pn=xn-Li),Oi[Ti+(xn=En&mn)].g=pn+Li,Oi[Ti+xn].value=gn-Ti-xn}Ri.g=sn-Li,Ri.value=on[Ki++],qe(Oi,gn+(En>>Li),zi,Cn,Ri),En=We(En,sn)}}return _n!=2*qi[15]-1?0:hn}(Xe,Ze,si,mi,vi,Ei)}function Ye(){this.value=this.g=0}function Qe(){this.value=this.g=0}function Je(){this.G=Ae(5,Ye),this.H=_e(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Ae(Mr,Qe)}function ri(Xe,Ze,si,mi){e(Xe!=null),e(Ze!=null),e(2147483648>mi),Xe.Ca=254,Xe.I=0,Xe.b=-8,Xe.Ka=0,Xe.oa=Ze,Xe.pa=si,Xe.Jd=Ze,Xe.Yc=si+mi,Xe.Zc=4<=mi?si+mi-4+1:si,Mi(Xe)}function hi(Xe,Ze){for(var si=0;0<Ze--;)si|=Di(Xe,128)<<Ze;return si}function pi(Xe,Ze){var si=hi(Xe,Ze);return Fi(Xe)?-si:si}function ni(Xe,Ze,si,mi){var vi,Ei=0;for(e(Xe!=null),e(Ze!=null),e(4294967288>mi),Xe.Sb=mi,Xe.Ra=0,Xe.u=0,Xe.h=0,4<mi&&(mi=4),vi=0;vi<mi;++vi)Ei+=Ze[si+vi]<<8*vi;Xe.Ra=Ei,Xe.bb=mi,Xe.oa=Ze,Xe.pa=si}function di(Xe){for(;8<=Xe.u&&Xe.bb<Xe.Sb;)Xe.Ra>>>=8,Xe.Ra+=Xe.oa[Xe.pa+Xe.bb]<<is-8>>>0,++Xe.bb,Xe.u-=8;yi(Xe)&&(Xe.h=1,Xe.u=0)}function fi(Xe,Ze){if(e(0<=Ze),!Xe.h&&Ze<=ts){var si=xi(Xe)&es[Ze];return Xe.u+=Ze,di(Xe),si}return Xe.h=1,Xe.u=0}function Pi(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ci(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function xi(Xe){return Xe.Ra>>>(Xe.u&is-1)>>>0}function yi(Xe){return e(Xe.bb<=Xe.Sb),Xe.h||Xe.bb==Xe.Sb&&Xe.u>is}function gi(Xe,Ze){Xe.u=Ze,Xe.h=yi(Xe)}function Ai(Xe){Xe.u>=Ts&&(e(Xe.u>=Ts),di(Xe))}function Mi(Xe){e(Xe!=null&&Xe.oa!=null),Xe.pa<Xe.Zc?(Xe.I=(Xe.oa[Xe.pa++]|Xe.I<<8)>>>0,Xe.b+=8):(e(Xe!=null&&Xe.oa!=null),Xe.pa<Xe.Yc?(Xe.b+=8,Xe.I=Xe.oa[Xe.pa++]|Xe.I<<8):Xe.Ka?Xe.b=0:(Xe.I<<=8,Xe.b+=8,Xe.Ka=1))}function Fi(Xe){return hi(Xe,1)}function Di(Xe,Ze){var si=Xe.Ca;0>Xe.b&&Mi(Xe);var mi=Xe.b,vi=si*Ze>>>8,Ei=(Xe.I>>>mi>vi)+0;for(Ei?(si-=vi,Xe.I-=vi+1<<mi>>>0):si=vi+1,mi=si,vi=0;256<=mi;)vi+=8,mi>>=8;return mi=7^vi+Dr[mi],Xe.b-=mi,Xe.Ca=(si<<mi)-1,Ei}function oi(Xe,Ze,si){Xe[Ze+0]=si>>24&255,Xe[Ze+1]=si>>16&255,Xe[Ze+2]=si>>8&255,Xe[Ze+3]=si>>0&255}function Ke(Xe,Ze){return Xe[Ze+0]<<0|Xe[Ze+1]<<8}function St(Xe,Ze){return Ke(Xe,Ze)|Xe[Ze+2]<<16}function ei(Xe,Ze){return Ke(Xe,Ze)|Ke(Xe,Ze+2)<<16}function ui(Xe,Ze){var si=1<<Ze;return e(Xe!=null),e(0<Ze),Xe.X=_e(si),Xe.X==null?0:(Xe.Mb=32-Ze,Xe.Xa=Ze,1)}function ai(Xe,Ze){e(Xe!=null),e(Ze!=null),e(Xe.Xa==Ze.Xa),xe(Ze.X,0,Xe.X,0,1<<Ze.Xa)}function ii(){this.X=[],this.Xa=this.Mb=0}function Ci(Xe,Ze,si,mi){e(si!=null),e(mi!=null);var vi=si[0],Ei=mi[0];return vi==0&&(vi=(Xe*Ei+Ze/2)/Ze),Ei==0&&(Ei=(Ze*vi+Xe/2)/Xe),0>=vi||0>=Ei?0:(si[0]=vi,mi[0]=Ei,1)}function ki(Xe,Ze){return Xe+(1<<Ze)-1>>>Ze}function bi(Xe,Ze){return((4278255360&Xe)+(4278255360&Ze)>>>0&4278255360)+((16711935&Xe)+(16711935&Ze)>>>0&16711935)>>>0}function Ii(Xe,Ze){Ue[Ze]=function(si,mi,vi,Ei,Oi,Ti,Li){var Ri;for(Ri=0;Ri<Oi;++Ri){var zi=Ue[Xe](Ti[Li+Ri-1],vi,Ei+Ri);Ti[Li+Ri]=bi(si[mi+Ri],zi)}}}function Bi(){this.ud=this.hd=this.jd=0}function Vi(Xe,Ze){return((4278124286&(Xe^Ze))>>>1)+(Xe&Ze)>>>0}function ji(Xe){return 0<=Xe&&256>Xe?Xe:0>Xe?0:255<Xe?255:void 0}function Zi(Xe,Ze){return ji(Xe+(Xe-Ze+.5>>1))}function Wi(Xe,Ze,si){return Math.abs(Ze-si)-Math.abs(Xe-si)}function Qi(Xe,Ze,si,mi,vi,Ei,Oi){for(mi=Ei[Oi-1],si=0;si<vi;++si)Ei[Oi+si]=mi=bi(Xe[Ze+si],mi)}function wi(Xe,Ze,si,mi,vi){var Ei;for(Ei=0;Ei<si;++Ei){var Oi=Xe[Ze+Ei],Ti=Oi>>8&255,Li=16711935&(Li=(Li=16711935&Oi)+((Ti<<16)+Ti));mi[vi+Ei]=(4278255360&Oi)+Li>>>0}}function tn(Xe,Ze){Ze.jd=Xe>>0&255,Ze.hd=Xe>>8&255,Ze.ud=Xe>>16&255}function Yi(Xe,Ze,si,mi,vi,Ei){var Oi;for(Oi=0;Oi<mi;++Oi){var Ti=Ze[si+Oi],Li=Ti>>>8,Ri=Ti,zi=255&(zi=(zi=Ti>>>16)+((Xe.jd<<24>>24)*(Li<<24>>24)>>>5));Ri=255&(Ri=(Ri=Ri+((Xe.hd<<24>>24)*(Li<<24>>24)>>>5))+((Xe.ud<<24>>24)*(zi<<24>>24)>>>5)),vi[Ei+Oi]=(4278255360&Ti)+(zi<<16)+Ri}}function nn(Xe,Ze,si,mi,vi){Ue[Ze]=function(Ei,Oi,Ti,Li,Ri,zi,on,sn,Ki){for(Li=on;Li<sn;++Li)for(on=0;on<Ki;++on)Ri[zi++]=vi(Ti[mi(Ei[Oi++])])},Ue[Xe]=function(Ei,Oi,Ti,Li,Ri,zi,on){var sn=8>>Ei.b,Ki=Ei.Ea,gn=Ei.K[0],hn=Ei.w;if(8>sn)for(Ei=(1<<Ei.b)-1,hn=(1<<sn)-1;Oi<Ti;++Oi){var Gi,qi=0;for(Gi=0;Gi<Ki;++Gi)Gi&Ei||(qi=mi(Li[Ri++])),zi[on++]=vi(gn[qi&hn]),qi>>=sn}else Ue["VP8LMapColor"+si](Li,Ri,gn,hn,zi,on,Oi,Ti,Ki)}}function Ni(Xe,Ze,si,mi,vi){for(si=Ze+si;Ze<si;){var Ei=Xe[Ze++];mi[vi++]=Ei>>16&255,mi[vi++]=Ei>>8&255,mi[vi++]=Ei>>0&255}}function Xi(Xe,Ze,si,mi,vi){for(si=Ze+si;Ze<si;){var Ei=Xe[Ze++];mi[vi++]=Ei>>16&255,mi[vi++]=Ei>>8&255,mi[vi++]=Ei>>0&255,mi[vi++]=Ei>>24&255}}function an(Xe,Ze,si,mi,vi){for(si=Ze+si;Ze<si;){var Ei=(Oi=Xe[Ze++])>>16&240|Oi>>12&15,Oi=Oi>>0&240|Oi>>28&15;mi[vi++]=Ei,mi[vi++]=Oi}}function cn(Xe,Ze,si,mi,vi){for(si=Ze+si;Ze<si;){var Ei=(Oi=Xe[Ze++])>>16&248|Oi>>13&7,Oi=Oi>>5&224|Oi>>3&31;mi[vi++]=Ei,mi[vi++]=Oi}}function dn(Xe,Ze,si,mi,vi){for(si=Ze+si;Ze<si;){var Ei=Xe[Ze++];mi[vi++]=Ei>>0&255,mi[vi++]=Ei>>8&255,mi[vi++]=Ei>>16&255}}function bn(Xe,Ze,si,mi,vi,Ei){if(Ei==0)for(si=Ze+si;Ze<si;)oi(mi,((Ei=Xe[Ze++])[0]>>24|Ei[1]>>8&65280|Ei[2]<<8&16711680|Ei[3]<<24)>>>0),vi+=32;else xe(mi,vi,Xe,Ze,si)}function wn(Xe,Ze){Ue[Ze][0]=Ue[Xe+"0"],Ue[Ze][1]=Ue[Xe+"1"],Ue[Ze][2]=Ue[Xe+"2"],Ue[Ze][3]=Ue[Xe+"3"],Ue[Ze][4]=Ue[Xe+"4"],Ue[Ze][5]=Ue[Xe+"5"],Ue[Ze][6]=Ue[Xe+"6"],Ue[Ze][7]=Ue[Xe+"7"],Ue[Ze][8]=Ue[Xe+"8"],Ue[Ze][9]=Ue[Xe+"9"],Ue[Ze][10]=Ue[Xe+"10"],Ue[Ze][11]=Ue[Xe+"11"],Ue[Ze][12]=Ue[Xe+"12"],Ue[Ze][13]=Ue[Xe+"13"],Ue[Ze][14]=Ue[Xe+"0"],Ue[Ze][15]=Ue[Xe+"0"]}function Sn(Xe){return Xe==pl||Xe==ml||Xe==xa||Xe==gl}function kn(){this.eb=[],this.size=this.A=this.fb=0}function Ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new kn,this.f.kb=new Ln,this.sd=null}function Rn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function On(Xe){return alert("todo:WebPSamplerProcessPlane"),Xe.T}function Vn(Xe,Ze){var si=Xe.T,mi=Ze.ba.f.RGBA,vi=mi.eb,Ei=mi.fb+Xe.ka*mi.A,Oi=Vr[Ze.ba.S],Ti=Xe.y,Li=Xe.O,Ri=Xe.f,zi=Xe.N,on=Xe.ea,sn=Xe.W,Ki=Ze.cc,gn=Ze.dc,hn=Ze.Mc,Gi=Ze.Nc,qi=Xe.ka,pn=Xe.ka+Xe.T,xn=Xe.U,mn=xn+1>>1;for(qi==0?Oi(Ti,Li,null,null,Ri,zi,on,sn,Ri,zi,on,sn,vi,Ei,null,null,xn):(Oi(Ze.ec,Ze.fc,Ti,Li,Ki,gn,hn,Gi,Ri,zi,on,sn,vi,Ei-mi.A,vi,Ei,xn),++si);qi+2<pn;qi+=2)Ki=Ri,gn=zi,hn=on,Gi=sn,zi+=Xe.Rc,sn+=Xe.Rc,Ei+=2*mi.A,Oi(Ti,(Li+=2*Xe.fa)-Xe.fa,Ti,Li,Ki,gn,hn,Gi,Ri,zi,on,sn,vi,Ei-mi.A,vi,Ei,xn);return Li+=Xe.fa,Xe.j+pn<Xe.o?(xe(Ze.ec,Ze.fc,Ti,Li,xn),xe(Ze.cc,Ze.dc,Ri,zi,mn),xe(Ze.Mc,Ze.Nc,on,sn,mn),si--):1&pn||Oi(Ti,Li,null,null,Ri,zi,on,sn,Ri,zi,on,sn,vi,Ei+mi.A,null,null,xn),si}function un(Xe,Ze,si){var mi=Xe.F,vi=[Xe.J];if(mi!=null){var Ei=Xe.U,Oi=Ze.ba.S,Ti=Oi==ga||Oi==xa;Ze=Ze.ba.f.RGBA;var Li=[0],Ri=Xe.ka;Li[0]=Xe.T,Xe.Kb&&(Ri==0?--Li[0]:(--Ri,vi[0]-=Xe.width),Xe.j+Xe.ka+Xe.T==Xe.o&&(Li[0]=Xe.o-Xe.j-Ri));var zi=Ze.eb;Ri=Ze.fb+Ri*Ze.A,Xe=ha(mi,vi[0],Xe.width,Ei,Li,zi,Ri+(Ti?0:3),Ze.A),e(si==Li),Xe&&Sn(Oi)&&Po(zi,Ri,Ti,Ei,Li,Ze.A)}return 0}function Si(Xe){var Ze=Xe.ma,si=Ze.ba.S,mi=11>si,vi=si==pa||si==ma||si==ga||si==dl||si==12||Sn(si);if(Ze.memory=null,Ze.Ib=null,Ze.Jb=null,Ze.Nd=null,!Ms(Ze.Oa,Xe,vi?11:12))return 0;if(vi&&Sn(si)&&yn(),Xe.da)alert("todo:use_scaling");else{if(mi){if(Ze.Ib=On,Xe.Kb){if(si=Xe.U+1>>1,Ze.memory=_e(Xe.U+2*si),Ze.memory==null)return 0;Ze.ec=Ze.memory,Ze.fc=0,Ze.cc=Ze.ec,Ze.dc=Ze.fc+Xe.U,Ze.Mc=Ze.cc,Ze.Nc=Ze.dc+si,Ze.Ib=Vn,yn()}}else alert("todo:EmitYUV");vi&&(Ze.Jb=un,mi&&en())}if(mi&&!nu){for(Xe=0;256>Xe;++Xe)qu[Xe]=89858*(Xe-128)+ba>>ya,Ju[Xe]=-22014*(Xe-128)+ba,Ku[Xe]=-45773*(Xe-128),Yu[Xe]=113618*(Xe-128)+ba>>ya;for(Xe=Rs;Xe<bl;++Xe)Ze=76283*(Xe-16)+ba>>ya,Zu[Xe-Rs]=Lr(Ze,255),Qu[Xe-Rs]=Lr(Ze+8>>4,15);nu=1}return 1}function Hi(Xe){var Ze=Xe.ma,si=Xe.U,mi=Xe.T;return e(!(1&Xe.ka)),0>=si||0>=mi?0:(si=Ze.Ib(Xe,Ze),Ze.Jb!=null&&Ze.Jb(Xe,Ze,si),Ze.Dc+=si,1)}function Ji(Xe){Xe.ma.memory=null}function rn(Xe,Ze,si,mi){return fi(Xe,8)!=47?0:(Ze[0]=fi(Xe,14)+1,si[0]=fi(Xe,14)+1,mi[0]=fi(Xe,1),fi(Xe,3)!=0?0:!Xe.h)}function vn(Xe,Ze){if(4>Xe)return Xe+1;var si=Xe-2>>1;return(2+(1&Xe)<<si)+fi(Ze,si)+1}function An(Xe,Ze){return 120<Ze?Ze-120:1<=(si=((si=Iu[Ze-1])>>4)*Xe+(8-(15&si)))?si:1;var si}function zn(Xe,Ze,si){var mi=xi(si),vi=Xe[Ze+=255&mi].g-8;return 0<vi&&(gi(si,si.u+8),mi=xi(si),Ze+=Xe[Ze].value,Ze+=mi&(1<<vi)-1),gi(si,si.u+Xe[Ze].g),Xe[Ze].value}function In(Xe,Ze,si){return si.g+=Xe.g,si.value+=Xe.value<<Ze>>>0,e(8>=si.g),Xe.g}function Hn(Xe,Ze,si){var mi=Xe.xc;return e((Ze=mi==0?0:Xe.vc[Xe.md*(si>>mi)+(Ze>>mi)])<Xe.Wb),Xe.Ya[Ze]}function Yn(Xe,Ze,si,mi){var vi=Xe.ab,Ei=Xe.c*Ze,Oi=Xe.C;Ze=Oi+Ze;var Ti=si,Li=mi;for(mi=Xe.Ta,si=Xe.Ua;0<vi--;){var Ri=Xe.gc[vi],zi=Oi,on=Ze,sn=Ti,Ki=Li,gn=(Li=mi,Ti=si,Ri.Ea);switch(e(zi<on),e(on<=Ri.nc),Ri.hc){case 2:ca(sn,Ki,(on-zi)*gn,Li,Ti);break;case 0:var hn=zi,Gi=on,qi=Li,pn=Ti,xn=(Cn=Ri).Ea;hn==0&&(ll(sn,Ki,null,null,1,qi,pn),Qi(sn,Ki+1,0,0,xn-1,qi,pn+1),Ki+=xn,pn+=xn,++hn);for(var mn=1<<Cn.b,En=mn-1,_n=ki(xn,Cn.b),Dn=Cn.K,Cn=Cn.w+(hn>>Cn.b)*_n;hn<Gi;){var qn=Dn,Jn=Cn,Xn=1;for(ks(sn,Ki,qi,pn-xn,1,qi,pn);Xn<xn;){var Gn=(Xn&~En)+mn;Gn>xn&&(Gn=xn),(0,So[qn[Jn++]>>8&15])(sn,Ki+ +Xn,qi,pn+Xn-xn,Gn-Xn,qi,pn+Xn),Xn=Gn}Ki+=xn,pn+=xn,++hn&En||(Cn+=_n)}on!=Ri.nc&&xe(Li,Ti-gn,Li,Ti+(on-zi-1)*gn,gn);break;case 1:for(gn=sn,Gi=Ki,xn=(sn=Ri.Ea)-(pn=sn&~(qi=(Ki=1<<Ri.b)-1)),hn=ki(sn,Ri.b),mn=Ri.K,Ri=Ri.w+(zi>>Ri.b)*hn;zi<on;){for(En=mn,_n=Ri,Dn=new Bi,Cn=Gi+pn,qn=Gi+sn;Gi<Cn;)tn(En[_n++],Dn),Br(Dn,gn,Gi,Ki,Li,Ti),Gi+=Ki,Ti+=Ki;Gi<qn&&(tn(En[_n++],Dn),Br(Dn,gn,Gi,xn,Li,Ti),Gi+=xn,Ti+=xn),++zi&qi||(Ri+=hn)}break;case 3:if(sn==Li&&Ki==Ti&&0<Ri.b){for(Gi=Li,sn=gn=Ti+(on-zi)*gn-(pn=(on-zi)*ki(Ri.Ea,Ri.b)),Ki=Li,qi=Ti,hn=[],pn=(xn=pn)-1;0<=pn;--pn)hn[pn]=Ki[qi+pn];for(pn=xn-1;0<=pn;--pn)Gi[sn+pn]=hn[pn];Xr(Ri,zi,on,Li,gn,Li,Ti)}else Xr(Ri,zi,on,sn,Ki,Li,Ti)}Ti=mi,Li=si}Li!=si&&xe(mi,si,Ti,Li,Ei)}function Rr(Xe,Ze){var si=Xe.V,mi=Xe.Ba+Xe.c*Xe.C,vi=Ze-Xe.C;if(e(Ze<=Xe.l.o),e(16>=vi),0<vi){var Ei=Xe.l,Oi=Xe.Ta,Ti=Xe.Ua,Li=Ei.width;if(Yn(Xe,vi,si,mi),vi=Ti=[Ti],e((si=Xe.C)<(mi=Ze)),e(Ei.v<Ei.va),mi>Ei.o&&(mi=Ei.o),si<Ei.j){var Ri=Ei.j-si;si=Ei.j,vi[0]+=Ri*Li}if(si>=mi?si=0:(vi[0]+=4*Ei.v,Ei.ka=si-Ei.j,Ei.U=Ei.va-Ei.v,Ei.T=mi-si,si=1),si){if(Ti=Ti[0],11>(si=Xe.ca).S){var zi=si.f.RGBA,on=(mi=si.S,vi=Ei.U,Ei=Ei.T,Ri=zi.eb,zi.A),sn=Ei;for(zi=zi.fb+Xe.Ma*zi.A;0<sn--;){var Ki=Oi,gn=Ti,hn=vi,Gi=Ri,qi=zi;switch(mi){case fa:qr(Ki,gn,hn,Gi,qi);break;case pa:_o(Ki,gn,hn,Gi,qi);break;case pl:_o(Ki,gn,hn,Gi,qi),Po(Gi,qi,0,hn,1,0);break;case Xl:ns(Ki,gn,hn,Gi,qi);break;case ma:bn(Ki,gn,hn,Gi,qi,1);break;case ml:bn(Ki,gn,hn,Gi,qi,1),Po(Gi,qi,0,hn,1,0);break;case ga:bn(Ki,gn,hn,Gi,qi,0);break;case xa:bn(Ki,gn,hn,Gi,qi,0),Po(Gi,qi,1,hn,1,0);break;case dl:to(Ki,gn,hn,Gi,qi);break;case gl:to(Ki,gn,hn,Gi,qi),ss(Gi,qi,hn,1,0);break;case ql:uo(Ki,gn,hn,Gi,qi);break;default:e(0)}Ti+=Li,zi+=on}Xe.Ma+=Ei}else alert("todo:EmitRescaledRowsYUVA");e(Xe.Ma<=si.height)}}Xe.C=Ze,e(Xe.C<=Xe.i)}function er(Xe){var Ze;if(0<Xe.ua)return 0;for(Ze=0;Ze<Xe.Wb;++Ze){var si=Xe.Ya[Ze].G,mi=Xe.Ya[Ze].H;if(0<si[1][mi[1]+0].g||0<si[2][mi[2]+0].g||0<si[3][mi[3]+0].g)return 0}return 1}function dr(Xe,Ze,si,mi,vi,Ei){if(Xe.Z!=0){var Oi=Xe.qd,Ti=Xe.rd;for(e(Oo[Xe.Z]!=null);Ze<si;++Ze)Oo[Xe.Z](Oi,Ti,mi,vi,mi,vi,Ei),Oi=mi,Ti=vi,vi+=Ei;Xe.qd=Oi,Xe.rd=Ti}}function Kn(Xe,Ze){var si=Xe.l.ma,mi=si.Z==0||si.Z==1?Xe.l.j:Xe.C;if(mi=Xe.C<mi?mi:Xe.C,e(Ze<=Xe.l.o),Ze>mi){var vi=Xe.l.width,Ei=si.ca,Oi=si.tb+vi*mi,Ti=Xe.V,Li=Xe.Ba+Xe.c*mi,Ri=Xe.gc;e(Xe.ab==1),e(Ri[0].hc==3),ul(Ri[0],mi,Ze,Ti,Li,Ei,Oi),dr(si,mi,Ze,Ei,Oi,vi)}Xe.C=Xe.Ma=Ze}function or(Xe,Ze,si,mi,vi,Ei,Oi){var Ti=Xe.$/mi,Li=Xe.$%mi,Ri=Xe.m,zi=Xe.s,on=si+Xe.$,sn=on;vi=si+mi*vi;var Ki=si+mi*Ei,gn=280+zi.ua,hn=Xe.Pb?Ti:16777216,Gi=0<zi.ua?zi.Wa:null,qi=zi.wc,pn=on<Ki?Hn(zi,Li,Ti):null;e(Xe.C<Ei),e(Ki<=vi);var xn=!1;e:for(;;){for(;xn||on<Ki;){var mn=0;if(Ti>=hn){var En=on-si;e((hn=Xe).Pb),hn.wd=hn.m,hn.xd=En,0<hn.s.ua&&ai(hn.s.Wa,hn.s.vb),hn=Ti+Nu}if(Li&qi||(pn=Hn(zi,Li,Ti)),e(pn!=null),pn.Qb&&(Ze[on]=pn.qb,xn=!0),!xn)if(Ai(Ri),pn.jc){mn=Ri,En=Ze;var _n=on,Dn=pn.pd[xi(mn)&Mr-1];e(pn.jc),256>Dn.g?(gi(mn,mn.u+Dn.g),En[_n]=Dn.value,mn=0):(gi(mn,mn.u+Dn.g-256),e(256<=Dn.value),mn=Dn.value),mn==0&&(xn=!0)}else mn=zn(pn.G[0],pn.H[0],Ri);if(Ri.h)break;if(xn||256>mn){if(!xn)if(pn.nd)Ze[on]=(pn.qb|mn<<8)>>>0;else{if(Ai(Ri),xn=zn(pn.G[1],pn.H[1],Ri),Ai(Ri),En=zn(pn.G[2],pn.H[2],Ri),_n=zn(pn.G[3],pn.H[3],Ri),Ri.h)break;Ze[on]=(_n<<24|xn<<16|mn<<8|En)>>>0}if(xn=!1,++on,++Li>=mi&&(Li=0,++Ti,Oi!=null&&Ti<=Ei&&!(Ti%16)&&Oi(Xe,Ti),Gi!=null))for(;sn<on;)mn=Ze[sn++],Gi.X[(506832829*mn&4294967295)>>>Gi.Mb]=mn}else if(280>mn){if(mn=vn(mn-256,Ri),En=zn(pn.G[4],pn.H[4],Ri),Ai(Ri),En=An(mi,En=vn(En,Ri)),Ri.h)break;if(on-si<En||vi-on<mn)break e;for(_n=0;_n<mn;++_n)Ze[on+_n]=Ze[on+_n-En];for(on+=mn,Li+=mn;Li>=mi;)Li-=mi,++Ti,Oi!=null&&Ti<=Ei&&!(Ti%16)&&Oi(Xe,Ti);if(e(on<=vi),Li&qi&&(pn=Hn(zi,Li,Ti)),Gi!=null)for(;sn<on;)mn=Ze[sn++],Gi.X[(506832829*mn&4294967295)>>>Gi.Mb]=mn}else{if(!(mn<gn))break e;for(xn=mn-280,e(Gi!=null);sn<on;)mn=Ze[sn++],Gi.X[(506832829*mn&4294967295)>>>Gi.Mb]=mn;mn=on,e(!(xn>>>(En=Gi).Xa)),Ze[mn]=En.X[xn],xn=!0}xn||e(Ri.h==yi(Ri))}if(Xe.Pb&&Ri.h&&on<vi)e(Xe.m.h),Xe.a=5,Xe.m=Xe.wd,Xe.$=Xe.xd,0<Xe.s.ua&&ai(Xe.s.vb,Xe.s.Wa);else{if(Ri.h)break e;Oi!=null&&Oi(Xe,Ti>Ei?Ei:Ti),Xe.a=0,Xe.$=on-si}return 1}return Xe.a=3,0}function tr(Xe){e(Xe!=null),Xe.vc=null,Xe.yc=null,Xe.Ya=null;var Ze=Xe.Wa;Ze!=null&&(Ze.X=null),Xe.vb=null,e(Xe!=null)}function ar(){var Xe=new al;return Xe==null?null:(Xe.a=0,Xe.xb=Jl,wn("Predictor","VP8LPredictors"),wn("Predictor","VP8LPredictors_C"),wn("PredictorAdd","VP8LPredictorsAdd"),wn("PredictorAdd","VP8LPredictorsAdd_C"),ca=wi,Br=Yi,qr=Ni,_o=Xi,to=an,uo=cn,ns=dn,Ue.VP8LMapColor32b=Ls,Ue.VP8LMapColor8b=cl,Xe)}function vr(Xe,Ze,si,mi,vi){var Ei=1,Oi=[Xe],Ti=[Ze],Li=mi.m,Ri=mi.s,zi=null,on=0;e:for(;;){if(si)for(;Ei&&fi(Li,1);){var sn=Oi,Ki=Ti,gn=mi,hn=1,Gi=gn.m,qi=gn.gc[gn.ab],pn=fi(Gi,2);if(gn.Oc&1<<pn)Ei=0;else{switch(gn.Oc|=1<<pn,qi.hc=pn,qi.Ea=sn[0],qi.nc=Ki[0],qi.K=[null],++gn.ab,e(4>=gn.ab),pn){case 0:case 1:qi.b=fi(Gi,3)+2,hn=vr(ki(qi.Ea,qi.b),ki(qi.nc,qi.b),0,gn,qi.K),qi.K=qi.K[0];break;case 3:var xn,mn=fi(Gi,8)+1,En=16<mn?0:4<mn?1:2<mn?2:3;if(sn[0]=ki(qi.Ea,En),qi.b=En,xn=hn=vr(mn,1,0,gn,qi.K)){var _n,Dn=mn,Cn=qi,qn=1<<(8>>Cn.b),Jn=_e(qn);if(Jn==null)xn=0;else{var Xn=Cn.K[0],Gn=Cn.w;for(Jn[0]=Cn.K[0][0],_n=1;_n<1*Dn;++_n)Jn[_n]=bi(Xn[Gn+_n],Jn[_n-1]);for(;_n<4*qn;++_n)Jn[_n]=0;Cn.K[0]=null,Cn.K[0]=Jn,xn=1}}hn=xn;break;case 2:break;default:e(0)}Ei=hn}}if(Oi=Oi[0],Ti=Ti[0],Ei&&fi(Li,1)&&!(Ei=1<=(on=fi(Li,4))&&11>=on)){mi.a=3;break e}var ir;if(ir=Ei)t:{var Qn,$n,pr,Tr=mi,mr=Oi,kr=Ti,Zn=on,Fr=si,Nr=Tr.m,br=Tr.s,Sr=[null],Er=1,Hr=0,io=Fu[Zn];i:for(;;){if(Fr&&fi(Nr,1)){var wr=fi(Nr,3)+2,mo=ki(mr,wr),Vo=ki(kr,wr),as=mo*Vo;if(!vr(mo,Vo,0,Tr,Sr))break i;for(Sr=Sr[0],br.xc=wr,Qn=0;Qn<as;++Qn){var Mo=Sr[Qn]>>8&65535;Sr[Qn]=Mo,Mo>=Er&&(Er=Mo+1)}}if(Nr.h)break i;for($n=0;5>$n;++$n){var ur=Yl[$n];!$n&&0<Zn&&(ur+=1<<Zn),Hr<ur&&(Hr=ur)}var wl=Ae(Er*io,Ye),su=Er,au=Ae(su,Je);if(au==null)var va=null;else e(65536>=su),va=au;var Bs=_e(Hr);if(va==null||Bs==null||wl==null){Tr.a=1;break i}var Sa=wl;for(Qn=pr=0;Qn<Er;++Qn){var Zr=va[Qn],ls=Zr.G,us=Zr.H,lu=0,Aa=1,uu=0;for($n=0;5>$n;++$n){ur=Yl[$n],ls[$n]=Sa,us[$n]=pr,!$n&&0<Zn&&(ur+=1<<Zn);r:{var Ca,vl=ur,Pa=Tr,$s=Bs,ic=Sa,nc=pr,Sl=0,Do=Pa.m,rc=fi(Do,1);if(Se($s,0,0,vl),rc){var oc=fi(Do,1)+1,sc=fi(Do,1),cu=fi(Do,sc==0?1:8);$s[cu]=1,oc==2&&($s[cu=fi(Do,8)]=1);var Ea=1}else{var hu=_e(19),du=fi(Do,4)+4;if(19<du){Pa.a=3;var Oa=0;break r}for(Ca=0;Ca<du;++Ca)hu[Lu[Ca]]=fi(Do,3);var _l=void 0,js=void 0,fu=Pa,ac=hu,Ma=vl,pu=$s,Al=0,To=fu.m,mu=8,gu=Ae(128,Ye);n:for(;Ge(gu,0,7,ac,19);){if(fi(To,1)){var uc=2+2*fi(To,3);if((_l=2+fi(To,uc))>Ma)break n}else _l=Ma;for(js=0;js<Ma&&_l--;){Ai(To);var xu=gu[0+(127&xi(To))];gi(To,To.u+xu.g);var cs=xu.value;if(16>cs)pu[js++]=cs,cs!=0&&(mu=cs);else{var cc=cs==16,yu=cs-16,hc=Tu[yu],bu=fi(To,Du[yu])+hc;if(js+bu>Ma)break n;for(var dc=cc?mu:0;0<bu--;)pu[js++]=dc}}Al=1;break n}Al||(fu.a=3),Ea=Al}(Ea=Ea&&!Do.h)&&(Sl=Ge(ic,nc,8,$s,vl)),Ea&&Sl!=0?Oa=Sl:(Pa.a=3,Oa=0)}if(Oa==0)break i;if(Aa&&ku[$n]==1&&(Aa=Sa[pr].g==0),lu+=Sa[pr].g,pr+=Oa,3>=$n){var Vs,Cl=Bs[0];for(Vs=1;Vs<ur;++Vs)Bs[Vs]>Cl&&(Cl=Bs[Vs]);uu+=Cl}}if(Zr.nd=Aa,Zr.Qb=0,Aa&&(Zr.qb=(ls[3][us[3]+0].value<<24|ls[1][us[1]+0].value<<16|ls[2][us[2]+0].value)>>>0,lu==0&&256>ls[0][us[0]+0].value&&(Zr.Qb=1,Zr.qb+=ls[0][us[0]+0].value<<8)),Zr.jc=!Zr.Qb&&6>uu,Zr.jc){var Da,go=Zr;for(Da=0;Da<Mr;++Da){var ko=Da,Lo=go.pd[ko],Ta=go.G[0][go.H[0]+ko];256<=Ta.value?(Lo.g=Ta.g+256,Lo.value=Ta.value):(Lo.g=0,Lo.value=0,ko>>=In(Ta,8,Lo),ko>>=In(go.G[1][go.H[1]+ko],16,Lo),ko>>=In(go.G[2][go.H[2]+ko],0,Lo),In(go.G[3][go.H[3]+ko],24,Lo))}}}br.vc=Sr,br.Wb=Er,br.Ya=va,br.yc=wl,ir=1;break t}ir=0}if(!(Ei=ir)){mi.a=3;break e}if(0<on){if(Ri.ua=1<<on,!ui(Ri.Wa,on)){mi.a=1,Ei=0;break e}}else Ri.ua=0;var Pl=mi,wu=Oi,fc=Ti,El=Pl.s,Ol=El.xc;if(Pl.c=wu,Pl.i=fc,El.md=ki(wu,Ol),El.wc=Ol==0?-1:(1<<Ol)-1,si){mi.xb=Uu;break e}if((zi=_e(Oi*Ti))==null){mi.a=1,Ei=0;break e}Ei=(Ei=or(mi,zi,0,Oi,Ti,Ti,null))&&!Li.h;break e}return Ei?(vi!=null?vi[0]=zi:(e(zi==null),e(si)),mi.$=0,si||tr(Ri)):tr(Ri),Ei}function xr(Xe,Ze){var si=Xe.c*Xe.i,mi=si+Ze+16*Ze;return e(Xe.c<=Ze),Xe.V=_e(mi),Xe.V==null?(Xe.Ta=null,Xe.Ua=0,Xe.a=1,0):(Xe.Ta=Xe.V,Xe.Ua=Xe.Ba+si+Ze,1)}function Ur(Xe,Ze){var si=Xe.C,mi=Ze-si,vi=Xe.V,Ei=Xe.Ba+Xe.c*si;for(e(Ze<=Xe.l.o);0<mi;){var Oi=16<mi?16:mi,Ti=Xe.l.ma,Li=Xe.l.width,Ri=Li*Oi,zi=Ti.ca,on=Ti.tb+Li*si,sn=Xe.Ta,Ki=Xe.Ua;Yn(Xe,Oi,vi,Ei),Vl(sn,Ki,zi,on,Ri),dr(Ti,si,si+Oi,zi,on,Li),mi-=Oi,vi+=Oi*Xe.c,si+=Oi}e(si==Ze),Xe.C=Xe.Ma=Ze}function no(){this.ub=this.yd=this.td=this.Rb=0}function ro(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function oo(){this.Fb=this.Bb=this.Cb=0,this.Zb=_e(4),this.Lb=_e(4)}function Io(){this.Yb=function(){var Xe=[];return function Ze(si,mi,vi){for(var Ei=vi[mi],Oi=0;Oi<Ei&&(si.push(vi.length>mi+1?[]:0),!(vi.length<mi+1));Oi++)Ze(si[Oi],mi+1,vi)}(Xe,0,[3,11]),Xe}()}function xo(){this.jb=_e(3),this.Wc=Ce([4,8],Io),this.Xc=Ce([4,17],Io)}function $a(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new _e(4),this.od=new _e(4)}function Ho(){this.ld=this.La=this.dd=this.tc=0}function Gs(){this.Na=this.la=0}function ja(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fs(){this.ad=_e(384),this.Za=0,this.Ob=_e(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Va(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ho),this.Y=0,this.ya=Array(new fs),this.aa=0,this.l=new Uo}function Ws(){this.y=_e(16),this.f=_e(8),this.ea=_e(8)}function Ha(){this.cb=this.a=0,this.sc="",this.m=new Pi,this.Od=new no,this.Kc=new ro,this.ed=new $a,this.Qa=new oo,this.Ic=this.$c=this.Aa=0,this.D=new Va,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Ae(8,Pi),this.ia=0,this.pb=Ae(4,ja),this.Pa=new xo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ws),this.Hd=0,this.rb=Array(new Gs),this.sb=0,this.wa=Array(new Ho),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fs),this.L=this.aa=0,this.gd=Ce([4,2],Ho),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Uo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ua(){var Xe=new Ha;return Xe!=null&&(Xe.a=0,Xe.sc="OK",Xe.cb=0,Xe.Xb=0,Ns||(Ns=Ys)),Xe}function cr(Xe,Ze,si){return Xe.a==0&&(Xe.a=Ze,Xe.sc=si,Xe.cb=0),0}function Xs(Xe,Ze,si){return 3<=si&&Xe[Ze+0]==157&&Xe[Ze+1]==1&&Xe[Ze+2]==42}function qs(Xe,Ze){if(Xe==null)return 0;if(Xe.a=0,Xe.sc="OK",Ze==null)return cr(Xe,2,"null VP8Io passed to VP8GetHeaders()");var si=Ze.data,mi=Ze.w,vi=Ze.ha;if(4>vi)return cr(Xe,7,"Truncated header.");var Ei=si[mi+0]|si[mi+1]<<8|si[mi+2]<<16,Oi=Xe.Od;if(Oi.Rb=!(1&Ei),Oi.td=Ei>>1&7,Oi.yd=Ei>>4&1,Oi.ub=Ei>>5,3<Oi.td)return cr(Xe,3,"Incorrect keyframe parameters.");if(!Oi.yd)return cr(Xe,4,"Frame not displayable.");mi+=3,vi-=3;var Ti=Xe.Kc;if(Oi.Rb){if(7>vi)return cr(Xe,7,"cannot parse picture header");if(!Xs(si,mi,vi))return cr(Xe,3,"Bad code word");Ti.c=16383&(si[mi+4]<<8|si[mi+3]),Ti.Td=si[mi+4]>>6,Ti.i=16383&(si[mi+6]<<8|si[mi+5]),Ti.Ud=si[mi+6]>>6,mi+=7,vi-=7,Xe.za=Ti.c+15>>4,Xe.Ub=Ti.i+15>>4,Ze.width=Ti.c,Ze.height=Ti.i,Ze.Da=0,Ze.j=0,Ze.v=0,Ze.va=Ze.width,Ze.o=Ze.height,Ze.da=0,Ze.ib=Ze.width,Ze.hb=Ze.height,Ze.U=Ze.width,Ze.T=Ze.height,Se((Ei=Xe.Pa).jb,0,255,Ei.jb.length),e((Ei=Xe.Qa)!=null),Ei.Cb=0,Ei.Bb=0,Ei.Fb=1,Se(Ei.Zb,0,0,Ei.Zb.length),Se(Ei.Lb,0,0,Ei.Lb)}if(Oi.ub>vi)return cr(Xe,7,"bad partition length");ri(Ei=Xe.m,si,mi,Oi.ub),mi+=Oi.ub,vi-=Oi.ub,Oi.Rb&&(Ti.Ld=Fi(Ei),Ti.Kd=Fi(Ei)),Ti=Xe.Qa;var Li,Ri=Xe.Pa;if(e(Ei!=null),e(Ti!=null),Ti.Cb=Fi(Ei),Ti.Cb){if(Ti.Bb=Fi(Ei),Fi(Ei)){for(Ti.Fb=Fi(Ei),Li=0;4>Li;++Li)Ti.Zb[Li]=Fi(Ei)?pi(Ei,7):0;for(Li=0;4>Li;++Li)Ti.Lb[Li]=Fi(Ei)?pi(Ei,6):0}if(Ti.Bb)for(Li=0;3>Li;++Li)Ri.jb[Li]=Fi(Ei)?hi(Ei,8):255}else Ti.Bb=0;if(Ei.Ka)return cr(Xe,3,"cannot parse segment header");if((Ti=Xe.ed).zd=Fi(Ei),Ti.Tb=hi(Ei,6),Ti.wb=hi(Ei,3),Ti.Pc=Fi(Ei),Ti.Pc&&Fi(Ei)){for(Ri=0;4>Ri;++Ri)Fi(Ei)&&(Ti.vd[Ri]=pi(Ei,6));for(Ri=0;4>Ri;++Ri)Fi(Ei)&&(Ti.od[Ri]=pi(Ei,6))}if(Xe.L=Ti.Tb==0?0:Ti.zd?1:2,Ei.Ka)return cr(Xe,3,"cannot parse filter header");var zi=vi;if(vi=Li=mi,mi=Li+zi,Ti=zi,Xe.Xb=(1<<hi(Xe.m,2))-1,zi<3*(Ri=Xe.Xb))si=7;else{for(Li+=3*Ri,Ti-=3*Ri,zi=0;zi<Ri;++zi){var on=si[vi+0]|si[vi+1]<<8|si[vi+2]<<16;on>Ti&&(on=Ti),ri(Xe.Jc[+zi],si,Li,on),Li+=on,Ti-=on,vi+=3}ri(Xe.Jc[+Ri],si,Li,Ti),si=Li<mi?0:5}if(si!=0)return cr(Xe,si,"cannot parse partitions");for(si=hi(Li=Xe.m,7),vi=Fi(Li)?pi(Li,4):0,mi=Fi(Li)?pi(Li,4):0,Ti=Fi(Li)?pi(Li,4):0,Ri=Fi(Li)?pi(Li,4):0,Li=Fi(Li)?pi(Li,4):0,zi=Xe.Qa,on=0;4>on;++on){if(zi.Cb){var sn=zi.Zb[on];zi.Fb||(sn+=si)}else{if(0<on){Xe.pb[on]=Xe.pb[0];continue}sn=si}var Ki=Xe.pb[on];Ki.Sc[0]=xl[Lr(sn+vi,127)],Ki.Sc[1]=yl[Lr(sn+0,127)],Ki.Eb[0]=2*xl[Lr(sn+mi,127)],Ki.Eb[1]=101581*yl[Lr(sn+Ti,127)]>>16,8>Ki.Eb[1]&&(Ki.Eb[1]=8),Ki.Qc[0]=xl[Lr(sn+Ri,117)],Ki.Qc[1]=yl[Lr(sn+Li,127)],Ki.lc=sn+Li}if(!Oi.Rb)return cr(Xe,4,"Not a key frame.");for(Fi(Ei),Oi=Xe.Pa,si=0;4>si;++si){for(vi=0;8>vi;++vi)for(mi=0;3>mi;++mi)for(Ti=0;11>Ti;++Ti)Ri=Di(Ei,Vu[si][vi][mi][Ti])?hi(Ei,8):$u[si][vi][mi][Ti],Oi.Wc[si][vi].Yb[mi][Ti]=Ri;for(vi=0;17>vi;++vi)Oi.Xc[si][vi]=Oi.Wc[si][Hu[vi]]}return Xe.kc=Fi(Ei),Xe.kc&&(Xe.Bd=hi(Ei,8)),Xe.cb=1}function Ys(Xe,Ze,si,mi,vi,Ei,Oi){var Ti=Ze[vi].Yb[si];for(si=0;16>vi;++vi){if(!Di(Xe,Ti[si+0]))return vi;for(;!Di(Xe,Ti[si+1]);)if(Ti=Ze[++vi].Yb[0],si=0,vi==16)return 16;var Li=Ze[vi+1].Yb;if(Di(Xe,Ti[si+2])){var Ri=Xe,zi=0;if(Di(Ri,(sn=Ti)[(on=si)+3]))if(Di(Ri,sn[on+6])){for(Ti=0,on=2*(zi=Di(Ri,sn[on+8]))+(sn=Di(Ri,sn[on+9+zi])),zi=0,sn=Ru[on];sn[Ti];++Ti)zi+=zi+Di(Ri,sn[Ti]);zi+=3+(8<<on)}else Di(Ri,sn[on+7])?(zi=7+2*Di(Ri,165),zi+=Di(Ri,145)):zi=5+Di(Ri,159);else zi=Di(Ri,sn[on+4])?3+Di(Ri,sn[on+5]):2;Ti=Li[2]}else zi=1,Ti=Li[1];Li=Oi+Bu[vi],0>(Ri=Xe).b&&Mi(Ri);var on,sn=Ri.b,Ki=(on=Ri.Ca>>1)-(Ri.I>>sn)>>31;--Ri.b,Ri.Ca+=Ki,Ri.Ca|=1,Ri.I-=(on+1&Ki)<<sn,Ei[Li]=((zi^Ki)-Ki)*mi[(0<vi)+0]}return 16}function ps(Xe){var Ze=Xe.rb[Xe.sb-1];Ze.la=0,Ze.Na=0,Se(Xe.zc,0,0,Xe.zc.length),Xe.ja=0}function za(Xe,Ze){if(Xe==null)return 0;if(Ze==null)return cr(Xe,2,"NULL VP8Io parameter in VP8Decode().");if(!Xe.cb&&!qs(Xe,Ze))return 0;if(e(Xe.cb),Ze.ac==null||Ze.ac(Ze)){Ze.ob&&(Xe.L=0);var si=wa[Xe.L];if(Xe.L==2?(Xe.yb=0,Xe.zb=0):(Xe.yb=Ze.v-si>>4,Xe.zb=Ze.j-si>>4,0>Xe.yb&&(Xe.yb=0),0>Xe.zb&&(Xe.zb=0)),Xe.Va=Ze.o+15+si>>4,Xe.Hb=Ze.va+15+si>>4,Xe.Hb>Xe.za&&(Xe.Hb=Xe.za),Xe.Va>Xe.Ub&&(Xe.Va=Xe.Ub),0<Xe.L){var mi=Xe.ed;for(si=0;4>si;++si){var vi;if(Xe.Qa.Cb){var Ei=Xe.Qa.Lb[si];Xe.Qa.Fb||(Ei+=mi.Tb)}else Ei=mi.Tb;for(vi=0;1>=vi;++vi){var Oi=Xe.gd[si][vi],Ti=Ei;if(mi.Pc&&(Ti+=mi.vd[0],vi&&(Ti+=mi.od[0])),0<(Ti=0>Ti?0:63<Ti?63:Ti)){var Li=Ti;0<mi.wb&&(Li=4<mi.wb?Li>>2:Li>>1)>9-mi.wb&&(Li=9-mi.wb),1>Li&&(Li=1),Oi.dd=Li,Oi.tc=2*Ti+Li,Oi.ld=40<=Ti?2:15<=Ti?1:0}else Oi.tc=0;Oi.La=vi}}}si=0}else cr(Xe,6,"Frame setup failed"),si=Xe.a;if(si=si==0){if(si){Xe.$c=0,0<Xe.Aa||(Xe.Ic=tc);e:{si=Xe.Ic,mi=4*(Li=Xe.za);var Ri=32*Li,zi=Li+1,on=0<Xe.L?Li*(0<Xe.Aa?2:1):0,sn=(Xe.Aa==2?2:1)*Li;if((Oi=mi+832+(vi=3*(16*si+wa[Xe.L])/2*Ri)+(Ei=Xe.Fa!=null&&0<Xe.Fa.length?Xe.Kc.c*Xe.Kc.i:0))!=Oi)si=0;else{if(Oi>Xe.Vb){if(Xe.Vb=0,Xe.Ec=_e(Oi),Xe.Fc=0,Xe.Ec==null){si=cr(Xe,1,"no memory during frame initialization.");break e}Xe.Vb=Oi}Oi=Xe.Ec,Ti=Xe.Fc,Xe.Ac=Oi,Xe.Bc=Ti,Ti+=mi,Xe.Gd=Ae(Ri,Ws),Xe.Hd=0,Xe.rb=Ae(zi+1,Gs),Xe.sb=1,Xe.wa=on?Ae(on,Ho):null,Xe.Y=0,Xe.D.Nb=0,Xe.D.wa=Xe.wa,Xe.D.Y=Xe.Y,0<Xe.Aa&&(Xe.D.Y+=Li),e(!0),Xe.oc=Oi,Xe.pc=Ti,Ti+=832,Xe.ya=Ae(sn,fs),Xe.aa=0,Xe.D.ya=Xe.ya,Xe.D.aa=Xe.aa,Xe.Aa==2&&(Xe.D.aa+=Li),Xe.R=16*Li,Xe.B=8*Li,Li=(Ri=wa[Xe.L])*Xe.R,Ri=Ri/2*Xe.B,Xe.sa=Oi,Xe.ta=Ti+Li,Xe.qa=Xe.sa,Xe.ra=Xe.ta+16*si*Xe.R+Ri,Xe.Ha=Xe.qa,Xe.Ia=Xe.ra+8*si*Xe.B+Ri,Xe.$c=0,Ti+=vi,Xe.mb=Ei?Oi:null,Xe.nb=Ei?Ti:null,e(Ti+Ei<=Xe.Fc+Xe.Vb),ps(Xe),Se(Xe.Ac,Xe.Bc,0,mi),si=1}}if(si){if(Ze.ka=0,Ze.y=Xe.sa,Ze.O=Xe.ta,Ze.f=Xe.qa,Ze.N=Xe.ra,Ze.ea=Xe.Ha,Ze.Vd=Xe.Ia,Ze.fa=Xe.R,Ze.Rc=Xe.B,Ze.F=null,Ze.J=0,!Wl){for(si=-255;255>=si;++si)Hl[255+si]=0>si?-si:si;for(si=-1020;1020>=si;++si)Ul[1020+si]=-128>si?-128:127<si?127:si;for(si=-112;112>=si;++si)zl[112+si]=-16>si?-16:15<si?15:si;for(si=-255;510>=si;++si)Gl[255+si]=0>si?0:255<si?255:si;Wl=1}Yr=Xa,rs=Ga,Ao=Js,Kr=Wa,co=Zs,Is=Ks,$o=ws,os=Ro,jo=sl,Co=vs,Fs=ol,$r=Yo,ho=Ss,nr=aa,rr=sa,hr=ao,gr=bo,fo=rl,Jr[0]=eo,Jr[1]=qa,Jr[2]=Za,Jr[3]=Qa,Jr[4]=ta,Jr[5]=Xo,Jr[6]=ia,Jr[7]=xs,Jr[8]=tl,Jr[9]=el,Eo[0]=Qs,Eo[1]=Ka,Eo[2]=so,Eo[3]=Go,Eo[4]=_r,Eo[5]=Ja,Eo[6]=ea,po[0]=yo,po[1]=Ya,po[2]=il,po[3]=ys,po[4]=No,po[5]=nl,po[6]=bs,si=1}else si=0}si&&(si=function(Ki,gn){for(Ki.M=0;Ki.M<Ki.Va;++Ki.M){var hn,Gi=Ki.Jc[Ki.M&Ki.Xb],qi=Ki.m,pn=Ki;for(hn=0;hn<pn.za;++hn){var xn=qi,mn=pn,En=mn.Ac,_n=mn.Bc+4*hn,Dn=mn.zc,Cn=mn.ya[mn.aa+hn];if(mn.Qa.Bb?Cn.$b=Di(xn,mn.Pa.jb[0])?2+Di(xn,mn.Pa.jb[2]):Di(xn,mn.Pa.jb[1]):Cn.$b=0,mn.kc&&(Cn.Ad=Di(xn,mn.Bd)),Cn.Za=!Di(xn,145)+0,Cn.Za){var qn=Cn.Ob,Jn=0;for(mn=0;4>mn;++mn){var Xn,Gn=Dn[0+mn];for(Xn=0;4>Xn;++Xn){Gn=ju[En[_n+Xn]][Gn];for(var ir=Kl[Di(xn,Gn[0])];0<ir;)ir=Kl[2*ir+Di(xn,Gn[ir])];Gn=-ir,En[_n+Xn]=Gn}xe(qn,Jn,En,_n,4),Jn+=4,Dn[0+mn]=Gn}}else Gn=Di(xn,156)?Di(xn,128)?1:3:Di(xn,163)?2:0,Cn.Ob[0]=Gn,Se(En,_n,Gn,4),Se(Dn,0,Gn,4);Cn.Dd=Di(xn,142)?Di(xn,114)?Di(xn,183)?1:3:2:0}if(pn.m.Ka)return cr(Ki,7,"Premature end-of-partition0 encountered.");for(;Ki.ja<Ki.za;++Ki.ja){if(pn=Gi,xn=(qi=Ki).rb[qi.sb-1],En=qi.rb[qi.sb+qi.ja],hn=qi.ya[qi.aa+qi.ja],_n=qi.kc?hn.Ad:0)xn.la=En.la=0,hn.Za||(xn.Na=En.Na=0),hn.Hc=0,hn.Gc=0,hn.ia=0;else{var Qn,$n;if(xn=En,En=pn,_n=qi.Pa.Xc,Dn=qi.ya[qi.aa+qi.ja],Cn=qi.pb[Dn.$b],mn=Dn.ad,qn=0,Jn=qi.rb[qi.sb-1],Gn=Xn=0,Se(mn,qn,0,384),Dn.Za)var pr=0,Tr=_n[3];else{ir=_e(16);var mr=xn.Na+Jn.Na;if(mr=Ns(En,_n[1],mr,Cn.Eb,0,ir,0),xn.Na=Jn.Na=(0<mr)+0,1<mr)Yr(ir,0,mn,qn);else{var kr=ir[0]+3>>3;for(ir=0;256>ir;ir+=16)mn[qn+ir]=kr}pr=1,Tr=_n[0]}var Zn=15&xn.la,Fr=15&Jn.la;for(ir=0;4>ir;++ir){var Nr=1&Fr;for(kr=$n=0;4>kr;++kr)Zn=Zn>>1|(Nr=(mr=Ns(En,Tr,mr=Nr+(1&Zn),Cn.Sc,pr,mn,qn))>pr)<<7,$n=$n<<2|(3<mr?3:1<mr?2:mn[qn+0]!=0),qn+=16;Zn>>=4,Fr=Fr>>1|Nr<<7,Xn=(Xn<<8|$n)>>>0}for(Tr=Zn,pr=Fr>>4,Qn=0;4>Qn;Qn+=2){for($n=0,Zn=xn.la>>4+Qn,Fr=Jn.la>>4+Qn,ir=0;2>ir;++ir){for(Nr=1&Fr,kr=0;2>kr;++kr)mr=Nr+(1&Zn),Zn=Zn>>1|(Nr=0<(mr=Ns(En,_n[2],mr,Cn.Qc,0,mn,qn)))<<3,$n=$n<<2|(3<mr?3:1<mr?2:mn[qn+0]!=0),qn+=16;Zn>>=2,Fr=Fr>>1|Nr<<5}Gn|=$n<<4*Qn,Tr|=Zn<<4<<Qn,pr|=(240&Fr)<<Qn}xn.la=Tr,Jn.la=pr,Dn.Hc=Xn,Dn.Gc=Gn,Dn.ia=43690&Gn?0:Cn.ia,_n=!(Xn|Gn)}if(0<qi.L&&(qi.wa[qi.Y+qi.ja]=qi.gd[hn.$b][hn.Za],qi.wa[qi.Y+qi.ja].La|=!_n),pn.Ka)return cr(Ki,7,"Premature end-of-file encountered.")}if(ps(Ki),qi=gn,pn=1,hn=(Gi=Ki).D,xn=0<Gi.L&&Gi.M>=Gi.zb&&Gi.M<=Gi.Va,Gi.Aa==0)e:{if(hn.M=Gi.M,hn.uc=xn,Os(Gi,hn),pn=1,hn=($n=Gi.D).Nb,xn=(Gn=wa[Gi.L])*Gi.R,En=Gn/2*Gi.B,ir=16*hn*Gi.R,kr=8*hn*Gi.B,_n=Gi.sa,Dn=Gi.ta-xn+ir,Cn=Gi.qa,mn=Gi.ra-En+kr,qn=Gi.Ha,Jn=Gi.Ia-En+kr,Fr=(Zn=$n.M)==0,Xn=Zn>=Gi.Va-1,Gi.Aa==2&&Os(Gi,$n),$n.uc)for(Nr=(mr=Gi).D.M,e(mr.D.uc),$n=mr.yb;$n<mr.Hb;++$n){pr=$n,Tr=Nr;var br=(Sr=(ur=mr).D).Nb;Qn=ur.R;var Sr=Sr.wa[Sr.Y+pr],Er=ur.sa,Hr=ur.ta+16*br*Qn+16*pr,io=Sr.dd,wr=Sr.tc;if(wr!=0)if(e(3<=wr),ur.L==1)0<pr&&hr(Er,Hr,Qn,wr+4),Sr.La&&fo(Er,Hr,Qn,wr),0<Tr&&rr(Er,Hr,Qn,wr+4),Sr.La&&gr(Er,Hr,Qn,wr);else{var mo=ur.B,Vo=ur.qa,as=ur.ra+8*br*mo+8*pr,Mo=ur.Ha,ur=ur.Ia+8*br*mo+8*pr;br=Sr.ld,0<pr&&(os(Er,Hr,Qn,wr+4,io,br),Co(Vo,as,Mo,ur,mo,wr+4,io,br)),Sr.La&&($r(Er,Hr,Qn,wr,io,br),nr(Vo,as,Mo,ur,mo,wr,io,br)),0<Tr&&($o(Er,Hr,Qn,wr+4,io,br),jo(Vo,as,Mo,ur,mo,wr+4,io,br)),Sr.La&&(Fs(Er,Hr,Qn,wr,io,br),ho(Vo,as,Mo,ur,mo,wr,io,br))}}if(Gi.ia&&alert("todo:DitherRow"),qi.put!=null){if($n=16*Zn,Zn=16*(Zn+1),Fr?(qi.y=Gi.sa,qi.O=Gi.ta+ir,qi.f=Gi.qa,qi.N=Gi.ra+kr,qi.ea=Gi.Ha,qi.W=Gi.Ia+kr):($n-=Gn,qi.y=_n,qi.O=Dn,qi.f=Cn,qi.N=mn,qi.ea=qn,qi.W=Jn),Xn||(Zn-=Gn),Zn>qi.o&&(Zn=qi.o),qi.F=null,qi.J=null,Gi.Fa!=null&&0<Gi.Fa.length&&$n<Zn&&(qi.J=Ps(Gi,qi,$n,Zn-$n),qi.F=Gi.mb,qi.F==null&&qi.F.length==0)){pn=cr(Gi,3,"Could not decode alpha data.");break e}$n<qi.j&&(Gn=qi.j-$n,$n=qi.j,e(!(1&Gn)),qi.O+=Gi.R*Gn,qi.N+=Gi.B*(Gn>>1),qi.W+=Gi.B*(Gn>>1),qi.F!=null&&(qi.J+=qi.width*Gn)),$n<Zn&&(qi.O+=qi.v,qi.N+=qi.v>>1,qi.W+=qi.v>>1,qi.F!=null&&(qi.J+=qi.v),qi.ka=$n-qi.j,qi.U=qi.va-qi.v,qi.T=Zn-$n,pn=qi.put(qi))}hn+1!=Gi.Ic||Xn||(xe(Gi.sa,Gi.ta-xn,_n,Dn+16*Gi.R,xn),xe(Gi.qa,Gi.ra-En,Cn,mn+8*Gi.B,En),xe(Gi.Ha,Gi.Ia-En,qn,Jn+8*Gi.B,En))}if(!pn)return cr(Ki,6,"Output aborted.")}return 1}(Xe,Ze)),Ze.bc!=null&&Ze.bc(Ze),si&=1}return si?(Xe.cb=0,si):0}function zr(Xe,Ze,si,mi,vi){vi=Xe[Ze+si+32*mi]+(vi>>3),Xe[Ze+si+32*mi]=-256&vi?0>vi?0:255:vi}function zo(Xe,Ze,si,mi,vi,Ei){zr(Xe,Ze,0,si,mi+vi),zr(Xe,Ze,1,si,mi+Ei),zr(Xe,Ze,2,si,mi-Ei),zr(Xe,Ze,3,si,mi-vi)}function Or(Xe){return(20091*Xe>>16)+Xe}function ms(Xe,Ze,si,mi){var vi,Ei=0,Oi=_e(16);for(vi=0;4>vi;++vi){var Ti=Xe[Ze+0]+Xe[Ze+8],Li=Xe[Ze+0]-Xe[Ze+8],Ri=(35468*Xe[Ze+4]>>16)-Or(Xe[Ze+12]),zi=Or(Xe[Ze+4])+(35468*Xe[Ze+12]>>16);Oi[Ei+0]=Ti+zi,Oi[Ei+1]=Li+Ri,Oi[Ei+2]=Li-Ri,Oi[Ei+3]=Ti-zi,Ei+=4,Ze++}for(vi=Ei=0;4>vi;++vi)Ti=(Xe=Oi[Ei+0]+4)+Oi[Ei+8],Li=Xe-Oi[Ei+8],Ri=(35468*Oi[Ei+4]>>16)-Or(Oi[Ei+12]),zr(si,mi,0,0,Ti+(zi=Or(Oi[Ei+4])+(35468*Oi[Ei+12]>>16))),zr(si,mi,1,0,Li+Ri),zr(si,mi,2,0,Li-Ri),zr(si,mi,3,0,Ti-zi),Ei++,mi+=32}function Ks(Xe,Ze,si,mi){var vi=Xe[Ze+0]+4,Ei=35468*Xe[Ze+4]>>16,Oi=Or(Xe[Ze+4]),Ti=35468*Xe[Ze+1]>>16;zo(si,mi,0,vi+Oi,Xe=Or(Xe[Ze+1]),Ti),zo(si,mi,1,vi+Ei,Xe,Ti),zo(si,mi,2,vi-Ei,Xe,Ti),zo(si,mi,3,vi-Oi,Xe,Ti)}function Ga(Xe,Ze,si,mi,vi){ms(Xe,Ze,si,mi),vi&&ms(Xe,Ze+16,si,mi+4)}function Js(Xe,Ze,si,mi){rs(Xe,Ze+0,si,mi,1),rs(Xe,Ze+32,si,mi+128,1)}function Wa(Xe,Ze,si,mi){var vi;for(Xe=Xe[Ze+0]+4,vi=0;4>vi;++vi)for(Ze=0;4>Ze;++Ze)zr(si,mi,Ze,vi,Xe)}function Zs(Xe,Ze,si,mi){Xe[Ze+0]&&Kr(Xe,Ze+0,si,mi),Xe[Ze+16]&&Kr(Xe,Ze+16,si,mi+4),Xe[Ze+32]&&Kr(Xe,Ze+32,si,mi+128),Xe[Ze+48]&&Kr(Xe,Ze+48,si,mi+128+4)}function Xa(Xe,Ze,si,mi){var vi,Ei=_e(16);for(vi=0;4>vi;++vi){var Oi=Xe[Ze+0+vi]+Xe[Ze+12+vi],Ti=Xe[Ze+4+vi]+Xe[Ze+8+vi],Li=Xe[Ze+4+vi]-Xe[Ze+8+vi],Ri=Xe[Ze+0+vi]-Xe[Ze+12+vi];Ei[0+vi]=Oi+Ti,Ei[8+vi]=Oi-Ti,Ei[4+vi]=Ri+Li,Ei[12+vi]=Ri-Li}for(vi=0;4>vi;++vi)Oi=(Xe=Ei[0+4*vi]+3)+Ei[3+4*vi],Ti=Ei[1+4*vi]+Ei[2+4*vi],Li=Ei[1+4*vi]-Ei[2+4*vi],Ri=Xe-Ei[3+4*vi],si[mi+0]=Oi+Ti>>3,si[mi+16]=Ri+Li>>3,si[mi+32]=Oi-Ti>>3,si[mi+48]=Ri-Li>>3,mi+=64}function gs(Xe,Ze,si){var mi,vi=Ze-32,Ei=Ir,Oi=255-Xe[vi-1];for(mi=0;mi<si;++mi){var Ti,Li=Ei,Ri=Oi+Xe[Ze-1];for(Ti=0;Ti<si;++Ti)Xe[Ze+Ti]=Li[Ri+Xe[vi+Ti]];Ze+=32}}function qa(Xe,Ze){gs(Xe,Ze,4)}function Ya(Xe,Ze){gs(Xe,Ze,8)}function Ka(Xe,Ze){gs(Xe,Ze,16)}function so(Xe,Ze){var si;for(si=0;16>si;++si)xe(Xe,Ze+32*si,Xe,Ze-32,16)}function Go(Xe,Ze){var si;for(si=16;0<si;--si)Se(Xe,Ze,Xe[Ze-1],16),Ze+=32}function Wo(Xe,Ze,si){var mi;for(mi=0;16>mi;++mi)Se(Ze,si+32*mi,Xe,16)}function Qs(Xe,Ze){var si,mi=16;for(si=0;16>si;++si)mi+=Xe[Ze-1+32*si]+Xe[Ze+si-32];Wo(mi>>5,Xe,Ze)}function _r(Xe,Ze){var si,mi=8;for(si=0;16>si;++si)mi+=Xe[Ze-1+32*si];Wo(mi>>4,Xe,Ze)}function Ja(Xe,Ze){var si,mi=8;for(si=0;16>si;++si)mi+=Xe[Ze+si-32];Wo(mi>>4,Xe,Ze)}function ea(Xe,Ze){Wo(128,Xe,Ze)}function Nn(Xe,Ze,si){return Xe+2*Ze+si+2>>2}function Za(Xe,Ze){var si,mi=Ze-32;for(mi=new Uint8Array([Nn(Xe[mi-1],Xe[mi+0],Xe[mi+1]),Nn(Xe[mi+0],Xe[mi+1],Xe[mi+2]),Nn(Xe[mi+1],Xe[mi+2],Xe[mi+3]),Nn(Xe[mi+2],Xe[mi+3],Xe[mi+4])]),si=0;4>si;++si)xe(Xe,Ze+32*si,mi,0,mi.length)}function Qa(Xe,Ze){var si=Xe[Ze-1],mi=Xe[Ze-1+32],vi=Xe[Ze-1+64],Ei=Xe[Ze-1+96];oi(Xe,Ze+0,16843009*Nn(Xe[Ze-1-32],si,mi)),oi(Xe,Ze+32,16843009*Nn(si,mi,vi)),oi(Xe,Ze+64,16843009*Nn(mi,vi,Ei)),oi(Xe,Ze+96,16843009*Nn(vi,Ei,Ei))}function eo(Xe,Ze){var si,mi=4;for(si=0;4>si;++si)mi+=Xe[Ze+si-32]+Xe[Ze-1+32*si];for(mi>>=3,si=0;4>si;++si)Se(Xe,Ze+32*si,mi,4)}function ta(Xe,Ze){var si=Xe[Ze-1+0],mi=Xe[Ze-1+32],vi=Xe[Ze-1+64],Ei=Xe[Ze-1-32],Oi=Xe[Ze+0-32],Ti=Xe[Ze+1-32],Li=Xe[Ze+2-32],Ri=Xe[Ze+3-32];Xe[Ze+0+96]=Nn(mi,vi,Xe[Ze-1+96]),Xe[Ze+1+96]=Xe[Ze+0+64]=Nn(si,mi,vi),Xe[Ze+2+96]=Xe[Ze+1+64]=Xe[Ze+0+32]=Nn(Ei,si,mi),Xe[Ze+3+96]=Xe[Ze+2+64]=Xe[Ze+1+32]=Xe[Ze+0+0]=Nn(Oi,Ei,si),Xe[Ze+3+64]=Xe[Ze+2+32]=Xe[Ze+1+0]=Nn(Ti,Oi,Ei),Xe[Ze+3+32]=Xe[Ze+2+0]=Nn(Li,Ti,Oi),Xe[Ze+3+0]=Nn(Ri,Li,Ti)}function ia(Xe,Ze){var si=Xe[Ze+1-32],mi=Xe[Ze+2-32],vi=Xe[Ze+3-32],Ei=Xe[Ze+4-32],Oi=Xe[Ze+5-32],Ti=Xe[Ze+6-32],Li=Xe[Ze+7-32];Xe[Ze+0+0]=Nn(Xe[Ze+0-32],si,mi),Xe[Ze+1+0]=Xe[Ze+0+32]=Nn(si,mi,vi),Xe[Ze+2+0]=Xe[Ze+1+32]=Xe[Ze+0+64]=Nn(mi,vi,Ei),Xe[Ze+3+0]=Xe[Ze+2+32]=Xe[Ze+1+64]=Xe[Ze+0+96]=Nn(vi,Ei,Oi),Xe[Ze+3+32]=Xe[Ze+2+64]=Xe[Ze+1+96]=Nn(Ei,Oi,Ti),Xe[Ze+3+64]=Xe[Ze+2+96]=Nn(Oi,Ti,Li),Xe[Ze+3+96]=Nn(Ti,Li,Li)}function Xo(Xe,Ze){var si=Xe[Ze-1+0],mi=Xe[Ze-1+32],vi=Xe[Ze-1+64],Ei=Xe[Ze-1-32],Oi=Xe[Ze+0-32],Ti=Xe[Ze+1-32],Li=Xe[Ze+2-32],Ri=Xe[Ze+3-32];Xe[Ze+0+0]=Xe[Ze+1+64]=Ei+Oi+1>>1,Xe[Ze+1+0]=Xe[Ze+2+64]=Oi+Ti+1>>1,Xe[Ze+2+0]=Xe[Ze+3+64]=Ti+Li+1>>1,Xe[Ze+3+0]=Li+Ri+1>>1,Xe[Ze+0+96]=Nn(vi,mi,si),Xe[Ze+0+64]=Nn(mi,si,Ei),Xe[Ze+0+32]=Xe[Ze+1+96]=Nn(si,Ei,Oi),Xe[Ze+1+32]=Xe[Ze+2+96]=Nn(Ei,Oi,Ti),Xe[Ze+2+32]=Xe[Ze+3+96]=Nn(Oi,Ti,Li),Xe[Ze+3+32]=Nn(Ti,Li,Ri)}function xs(Xe,Ze){var si=Xe[Ze+0-32],mi=Xe[Ze+1-32],vi=Xe[Ze+2-32],Ei=Xe[Ze+3-32],Oi=Xe[Ze+4-32],Ti=Xe[Ze+5-32],Li=Xe[Ze+6-32],Ri=Xe[Ze+7-32];Xe[Ze+0+0]=si+mi+1>>1,Xe[Ze+1+0]=Xe[Ze+0+64]=mi+vi+1>>1,Xe[Ze+2+0]=Xe[Ze+1+64]=vi+Ei+1>>1,Xe[Ze+3+0]=Xe[Ze+2+64]=Ei+Oi+1>>1,Xe[Ze+0+32]=Nn(si,mi,vi),Xe[Ze+1+32]=Xe[Ze+0+96]=Nn(mi,vi,Ei),Xe[Ze+2+32]=Xe[Ze+1+96]=Nn(vi,Ei,Oi),Xe[Ze+3+32]=Xe[Ze+2+96]=Nn(Ei,Oi,Ti),Xe[Ze+3+64]=Nn(Oi,Ti,Li),Xe[Ze+3+96]=Nn(Ti,Li,Ri)}function el(Xe,Ze){var si=Xe[Ze-1+0],mi=Xe[Ze-1+32],vi=Xe[Ze-1+64],Ei=Xe[Ze-1+96];Xe[Ze+0+0]=si+mi+1>>1,Xe[Ze+2+0]=Xe[Ze+0+32]=mi+vi+1>>1,Xe[Ze+2+32]=Xe[Ze+0+64]=vi+Ei+1>>1,Xe[Ze+1+0]=Nn(si,mi,vi),Xe[Ze+3+0]=Xe[Ze+1+32]=Nn(mi,vi,Ei),Xe[Ze+3+32]=Xe[Ze+1+64]=Nn(vi,Ei,Ei),Xe[Ze+3+64]=Xe[Ze+2+64]=Xe[Ze+0+96]=Xe[Ze+1+96]=Xe[Ze+2+96]=Xe[Ze+3+96]=Ei}function tl(Xe,Ze){var si=Xe[Ze-1+0],mi=Xe[Ze-1+32],vi=Xe[Ze-1+64],Ei=Xe[Ze-1+96],Oi=Xe[Ze-1-32],Ti=Xe[Ze+0-32],Li=Xe[Ze+1-32],Ri=Xe[Ze+2-32];Xe[Ze+0+0]=Xe[Ze+2+32]=si+Oi+1>>1,Xe[Ze+0+32]=Xe[Ze+2+64]=mi+si+1>>1,Xe[Ze+0+64]=Xe[Ze+2+96]=vi+mi+1>>1,Xe[Ze+0+96]=Ei+vi+1>>1,Xe[Ze+3+0]=Nn(Ti,Li,Ri),Xe[Ze+2+0]=Nn(Oi,Ti,Li),Xe[Ze+1+0]=Xe[Ze+3+32]=Nn(si,Oi,Ti),Xe[Ze+1+32]=Xe[Ze+3+64]=Nn(mi,si,Oi),Xe[Ze+1+64]=Xe[Ze+3+96]=Nn(vi,mi,si),Xe[Ze+1+96]=Nn(Ei,vi,mi)}function il(Xe,Ze){var si;for(si=0;8>si;++si)xe(Xe,Ze+32*si,Xe,Ze-32,8)}function ys(Xe,Ze){var si;for(si=0;8>si;++si)Se(Xe,Ze,Xe[Ze-1],8),Ze+=32}function Fo(Xe,Ze,si){var mi;for(mi=0;8>mi;++mi)Se(Ze,si+32*mi,Xe,8)}function yo(Xe,Ze){var si,mi=8;for(si=0;8>si;++si)mi+=Xe[Ze+si-32]+Xe[Ze-1+32*si];Fo(mi>>4,Xe,Ze)}function nl(Xe,Ze){var si,mi=4;for(si=0;8>si;++si)mi+=Xe[Ze+si-32];Fo(mi>>3,Xe,Ze)}function No(Xe,Ze){var si,mi=4;for(si=0;8>si;++si)mi+=Xe[Ze-1+32*si];Fo(mi>>3,Xe,Ze)}function bs(Xe,Ze){Fo(128,Xe,Ze)}function qo(Xe,Ze,si){var mi=Xe[Ze-si],vi=Xe[Ze+0],Ei=3*(vi-mi)+hl[1020+Xe[Ze-2*si]-Xe[Ze+si]],Oi=da[112+(Ei+4>>3)];Xe[Ze-si]=Ir[255+mi+da[112+(Ei+3>>3)]],Xe[Ze+0]=Ir[255+vi-Oi]}function na(Xe,Ze,si,mi){var vi=Xe[Ze+0],Ei=Xe[Ze+si];return jr[255+Xe[Ze-2*si]-Xe[Ze-si]]>mi||jr[255+Ei-vi]>mi}function ra(Xe,Ze,si,mi){return 4*jr[255+Xe[Ze-si]-Xe[Ze+0]]+jr[255+Xe[Ze-2*si]-Xe[Ze+si]]<=mi}function oa(Xe,Ze,si,mi,vi){var Ei=Xe[Ze-3*si],Oi=Xe[Ze-2*si],Ti=Xe[Ze-si],Li=Xe[Ze+0],Ri=Xe[Ze+si],zi=Xe[Ze+2*si],on=Xe[Ze+3*si];return 4*jr[255+Ti-Li]+jr[255+Oi-Ri]>mi?0:jr[255+Xe[Ze-4*si]-Ei]<=vi&&jr[255+Ei-Oi]<=vi&&jr[255+Oi-Ti]<=vi&&jr[255+on-zi]<=vi&&jr[255+zi-Ri]<=vi&&jr[255+Ri-Li]<=vi}function sa(Xe,Ze,si,mi){var vi=2*mi+1;for(mi=0;16>mi;++mi)ra(Xe,Ze+mi,si,vi)&&qo(Xe,Ze+mi,si)}function ao(Xe,Ze,si,mi){var vi=2*mi+1;for(mi=0;16>mi;++mi)ra(Xe,Ze+mi*si,1,vi)&&qo(Xe,Ze+mi*si,1)}function bo(Xe,Ze,si,mi){var vi;for(vi=3;0<vi;--vi)sa(Xe,Ze+=4*si,si,mi)}function rl(Xe,Ze,si,mi){var vi;for(vi=3;0<vi;--vi)ao(Xe,Ze+=4,si,mi)}function wo(Xe,Ze,si,mi,vi,Ei,Oi,Ti){for(Ei=2*Ei+1;0<vi--;){if(oa(Xe,Ze,si,Ei,Oi))if(na(Xe,Ze,si,Ti))qo(Xe,Ze,si);else{var Li=Xe,Ri=Ze,zi=si,on=Li[Ri-2*zi],sn=Li[Ri-zi],Ki=Li[Ri+0],gn=Li[Ri+zi],hn=Li[Ri+2*zi],Gi=27*(pn=hl[1020+3*(Ki-sn)+hl[1020+on-gn]])+63>>7,qi=18*pn+63>>7,pn=9*pn+63>>7;Li[Ri-3*zi]=Ir[255+Li[Ri-3*zi]+pn],Li[Ri-2*zi]=Ir[255+on+qi],Li[Ri-zi]=Ir[255+sn+Gi],Li[Ri+0]=Ir[255+Ki-Gi],Li[Ri+zi]=Ir[255+gn-qi],Li[Ri+2*zi]=Ir[255+hn-pn]}Ze+=mi}}function Gr(Xe,Ze,si,mi,vi,Ei,Oi,Ti){for(Ei=2*Ei+1;0<vi--;){if(oa(Xe,Ze,si,Ei,Oi))if(na(Xe,Ze,si,Ti))qo(Xe,Ze,si);else{var Li=Xe,Ri=Ze,zi=si,on=Li[Ri-zi],sn=Li[Ri+0],Ki=Li[Ri+zi],gn=da[112+((hn=3*(sn-on))+4>>3)],hn=da[112+(hn+3>>3)],Gi=gn+1>>1;Li[Ri-2*zi]=Ir[255+Li[Ri-2*zi]+Gi],Li[Ri-zi]=Ir[255+on+hn],Li[Ri+0]=Ir[255+sn-gn],Li[Ri+zi]=Ir[255+Ki-Gi]}Ze+=mi}}function ws(Xe,Ze,si,mi,vi,Ei){wo(Xe,Ze,si,1,16,mi,vi,Ei)}function Ro(Xe,Ze,si,mi,vi,Ei){wo(Xe,Ze,1,si,16,mi,vi,Ei)}function ol(Xe,Ze,si,mi,vi,Ei){var Oi;for(Oi=3;0<Oi;--Oi)Gr(Xe,Ze+=4*si,si,1,16,mi,vi,Ei)}function Yo(Xe,Ze,si,mi,vi,Ei){var Oi;for(Oi=3;0<Oi;--Oi)Gr(Xe,Ze+=4,1,si,16,mi,vi,Ei)}function sl(Xe,Ze,si,mi,vi,Ei,Oi,Ti){wo(Xe,Ze,vi,1,8,Ei,Oi,Ti),wo(si,mi,vi,1,8,Ei,Oi,Ti)}function vs(Xe,Ze,si,mi,vi,Ei,Oi,Ti){wo(Xe,Ze,1,vi,8,Ei,Oi,Ti),wo(si,mi,1,vi,8,Ei,Oi,Ti)}function Ss(Xe,Ze,si,mi,vi,Ei,Oi,Ti){Gr(Xe,Ze+4*vi,vi,1,8,Ei,Oi,Ti),Gr(si,mi+4*vi,vi,1,8,Ei,Oi,Ti)}function aa(Xe,Ze,si,mi,vi,Ei,Oi,Ti){Gr(Xe,Ze+4,1,vi,8,Ei,Oi,Ti),Gr(si,mi+4,1,vi,8,Ei,Oi,Ti)}function Ko(){this.ba=new jn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _s(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function As(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function la(){this.ua=0,this.Wa=new ii,this.vb=new ii,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Je,this.yc=new Ye}function al(){this.xb=this.a=0,this.l=new Uo,this.ca=new jn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ci,this.Pb=0,this.wd=new ci,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new la,this.ab=0,this.gc=Ae(4,As),this.Oc=0}function Jo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Uo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Bo(Xe,Ze,si,mi,vi,Ei,Oi){for(Xe=Xe==null?0:Xe[Ze+0],Ze=0;Ze<Oi;++Ze)vi[Ei+Ze]=Xe+si[mi+Ze]&255,Xe=vi[Ei+Ze]}function Cs(Xe,Ze,si,mi,vi,Ei,Oi){var Ti;if(Xe==null)Bo(null,null,si,mi,vi,Ei,Oi);else for(Ti=0;Ti<Oi;++Ti)vi[Ei+Ti]=Xe[Ze+Ti]+si[mi+Ti]&255}function vo(Xe,Ze,si,mi,vi,Ei,Oi){if(Xe==null)Bo(null,null,si,mi,vi,Ei,Oi);else{var Ti,Li=Xe[Ze+0],Ri=Li,zi=Li;for(Ti=0;Ti<Oi;++Ti)Ri=zi+(Li=Xe[Ze+Ti])-Ri,zi=si[mi+Ti]+(-256&Ri?0>Ri?0:255:Ri)&255,Ri=Li,vi[Ei+Ti]=zi}}function Ps(Xe,Ze,si,mi){var vi=Ze.width,Ei=Ze.o;if(e(Xe!=null&&Ze!=null),0>si||0>=mi||si+mi>Ei)return null;if(!Xe.Cc){if(Xe.ga==null){var Oi;if(Xe.ga=new Jo,(Oi=Xe.ga==null)||(Oi=Ze.width*Ze.o,e(Xe.Gb.length==0),Xe.Gb=_e(Oi),Xe.Uc=0,Xe.Gb==null?Oi=0:(Xe.mb=Xe.Gb,Xe.nb=Xe.Uc,Xe.rc=null,Oi=1),Oi=!Oi),!Oi){Oi=Xe.ga;var Ti=Xe.Fa,Li=Xe.P,Ri=Xe.qc,zi=Xe.mb,on=Xe.nb,sn=Li+1,Ki=Ri-1,gn=Oi.l;if(e(Ti!=null&&zi!=null&&Ze!=null),Oo[0]=null,Oo[1]=Bo,Oo[2]=Cs,Oo[3]=vo,Oi.ca=zi,Oi.tb=on,Oi.c=Ze.width,Oi.i=Ze.height,e(0<Oi.c&&0<Oi.i),1>=Ri)Ze=0;else if(Oi.$a=Ti[Li+0]>>0&3,Oi.Z=Ti[Li+0]>>2&3,Oi.Lc=Ti[Li+0]>>4&3,Li=Ti[Li+0]>>6&3,0>Oi.$a||1<Oi.$a||4<=Oi.Z||1<Oi.Lc||Li)Ze=0;else if(gn.put=Hi,gn.ac=Si,gn.bc=Ji,gn.ma=Oi,gn.width=Ze.width,gn.height=Ze.height,gn.Da=Ze.Da,gn.v=Ze.v,gn.va=Ze.va,gn.j=Ze.j,gn.o=Ze.o,Oi.$a)e:{e(Oi.$a==1),Ze=ar();t:for(;;){if(Ze==null){Ze=0;break e}if(e(Oi!=null),Oi.mc=Ze,Ze.c=Oi.c,Ze.i=Oi.i,Ze.l=Oi.l,Ze.l.ma=Oi,Ze.l.width=Oi.c,Ze.l.height=Oi.i,Ze.a=0,ni(Ze.m,Ti,sn,Ki),!vr(Oi.c,Oi.i,1,Ze,null)||(Ze.ab==1&&Ze.gc[0].hc==3&&er(Ze.s)?(Oi.ic=1,Ti=Ze.c*Ze.i,Ze.Ta=null,Ze.Ua=0,Ze.V=_e(Ti),Ze.Ba=0,Ze.V==null?(Ze.a=1,Ze=0):Ze=1):(Oi.ic=0,Ze=xr(Ze,Oi.c)),!Ze))break t;Ze=1;break e}Oi.mc=null,Ze=0}else Ze=Ki>=Oi.c*Oi.i;Oi=!Ze}if(Oi)return null;Xe.ga.Lc!=1?Xe.Ga=0:mi=Ei-si}e(Xe.ga!=null),e(si+mi<=Ei);e:{if(Ze=(Ti=Xe.ga).c,Ei=Ti.l.o,Ti.$a==0){if(sn=Xe.rc,Ki=Xe.Vc,gn=Xe.Fa,Li=Xe.P+1+si*Ze,Ri=Xe.mb,zi=Xe.nb+si*Ze,e(Li<=Xe.P+Xe.qc),Ti.Z!=0)for(e(Oo[Ti.Z]!=null),Oi=0;Oi<mi;++Oi)Oo[Ti.Z](sn,Ki,gn,Li,Ri,zi,Ze),sn=Ri,Ki=zi,zi+=Ze,Li+=Ze;else for(Oi=0;Oi<mi;++Oi)xe(Ri,zi,gn,Li,Ze),sn=Ri,Ki=zi,zi+=Ze,Li+=Ze;Xe.rc=sn,Xe.Vc=Ki}else{if(e(Ti.mc!=null),Ze=si+mi,e((Oi=Ti.mc)!=null),e(Ze<=Oi.i),Oi.C>=Ze)Ze=1;else if(Ti.ic||en(),Ti.ic){Ti=Oi.V,sn=Oi.Ba,Ki=Oi.c;var hn=Oi.i,Gi=(gn=1,Li=Oi.$/Ki,Ri=Oi.$%Ki,zi=Oi.m,on=Oi.s,Oi.$),qi=Ki*hn,pn=Ki*Ze,xn=on.wc,mn=Gi<pn?Hn(on,Ri,Li):null;e(Gi<=qi),e(Ze<=hn),e(er(on));t:for(;;){for(;!zi.h&&Gi<pn;){if(Ri&xn||(mn=Hn(on,Ri,Li)),e(mn!=null),Ai(zi),256>(hn=zn(mn.G[0],mn.H[0],zi)))Ti[sn+Gi]=hn,++Gi,++Ri>=Ki&&(Ri=0,++Li<=Ze&&!(Li%16)&&Kn(Oi,Li));else{if(!(280>hn)){gn=0;break t}hn=vn(hn-256,zi);var En,_n=zn(mn.G[4],mn.H[4],zi);if(Ai(zi),!(Gi>=(_n=An(Ki,_n=vn(_n,zi)))&&qi-Gi>=hn)){gn=0;break t}for(En=0;En<hn;++En)Ti[sn+Gi+En]=Ti[sn+Gi+En-_n];for(Gi+=hn,Ri+=hn;Ri>=Ki;)Ri-=Ki,++Li<=Ze&&!(Li%16)&&Kn(Oi,Li);Gi<pn&&Ri&xn&&(mn=Hn(on,Ri,Li))}e(zi.h==yi(zi))}Kn(Oi,Li>Ze?Ze:Li);break t}!gn||zi.h&&Gi<qi?(gn=0,Oi.a=zi.h?5:3):Oi.$=Gi,Ze=gn}else Ze=or(Oi,Oi.V,Oi.Ba,Oi.c,Oi.i,Ze,Ur);if(!Ze){mi=0;break e}}si+mi>=Ei&&(Xe.Cc=1),mi=1}if(!mi)return null;if(Xe.Cc&&((mi=Xe.ga)!=null&&(mi.mc=null),Xe.ga=null,0<Xe.Ga))return alert("todo:WebPDequantizeLevels"),null}return Xe.nb+si*vi}function ti(Xe,Ze,si,mi,vi,Ei){for(;0<vi--;){var Oi,Ti=Xe,Li=Ze+(si?1:0),Ri=Xe,zi=Ze+(si?0:3);for(Oi=0;Oi<mi;++Oi){var on=Ri[zi+4*Oi];on!=255&&(on*=32897,Ti[Li+4*Oi+0]=Ti[Li+4*Oi+0]*on>>23,Ti[Li+4*Oi+1]=Ti[Li+4*Oi+1]*on>>23,Ti[Li+4*Oi+2]=Ti[Li+4*Oi+2]*on>>23)}Ze+=Ei}}function _i(Xe,Ze,si,mi,vi){for(;0<mi--;){var Ei;for(Ei=0;Ei<si;++Ei){var Oi=Xe[Ze+2*Ei+0],Ti=15&(Ri=Xe[Ze+2*Ei+1]),Li=4369*Ti,Ri=(240&Ri|Ri>>4)*Li>>16;Xe[Ze+2*Ei+0]=(240&Oi|Oi>>4)*Li>>16&240|(15&Oi|Oi<<4)*Li>>16>>4&15,Xe[Ze+2*Ei+1]=240&Ri|Ti}Ze+=vi}}function $i(Xe,Ze,si,mi,vi,Ei,Oi,Ti){var Li,Ri,zi=255;for(Ri=0;Ri<vi;++Ri){for(Li=0;Li<mi;++Li){var on=Xe[Ze+Li];Ei[Oi+4*Li]=on,zi&=on}Ze+=si,Oi+=Ti}return zi!=255}function Ui(Xe,Ze,si,mi,vi){var Ei;for(Ei=0;Ei<vi;++Ei)si[mi+Ei]=Xe[Ze+Ei]>>8}function en(){Po=ti,ss=_i,ha=$i,Vl=Ui}function fn(Xe,Ze,si){Ue[Xe]=function(mi,vi,Ei,Oi,Ti,Li,Ri,zi,on,sn,Ki,gn,hn,Gi,qi,pn,xn){var mn,En=xn-1>>1,_n=Ti[Li+0]|Ri[zi+0]<<16,Dn=on[sn+0]|Ki[gn+0]<<16;e(mi!=null);var Cn=3*_n+Dn+131074>>2;for(Ze(mi[vi+0],255&Cn,Cn>>16,hn,Gi),Ei!=null&&(Cn=3*Dn+_n+131074>>2,Ze(Ei[Oi+0],255&Cn,Cn>>16,qi,pn)),mn=1;mn<=En;++mn){var qn=Ti[Li+mn]|Ri[zi+mn]<<16,Jn=on[sn+mn]|Ki[gn+mn]<<16,Xn=_n+qn+Dn+Jn+524296,Gn=Xn+2*(qn+Dn)>>3;Cn=Gn+_n>>1,_n=(Xn=Xn+2*(_n+Jn)>>3)+qn>>1,Ze(mi[vi+2*mn-1],255&Cn,Cn>>16,hn,Gi+(2*mn-1)*si),Ze(mi[vi+2*mn-0],255&_n,_n>>16,hn,Gi+(2*mn-0)*si),Ei!=null&&(Cn=Xn+Dn>>1,_n=Gn+Jn>>1,Ze(Ei[Oi+2*mn-1],255&Cn,Cn>>16,qi,pn+(2*mn-1)*si),Ze(Ei[Oi+2*mn+0],255&_n,_n>>16,qi,pn+(2*mn+0)*si)),_n=qn,Dn=Jn}1&xn||(Cn=3*_n+Dn+131074>>2,Ze(mi[vi+xn-1],255&Cn,Cn>>16,hn,Gi+(xn-1)*si),Ei!=null&&(Cn=3*Dn+_n+131074>>2,Ze(Ei[Oi+xn-1],255&Cn,Cn>>16,qi,pn+(xn-1)*si)))}}function yn(){Vr[fa]=zu,Vr[pa]=Zl,Vr[Xl]=Gu,Vr[ma]=Ql,Vr[ga]=eu,Vr[dl]=tu,Vr[ql]=Wu,Vr[pl]=Zl,Vr[ml]=Ql,Vr[xa]=eu,Vr[gl]=tu}function Pn(Xe){return Xe&~Xu?0>Xe?0:255:Xe>>iu}function Mn(Xe,Ze){return Pn((19077*Xe>>8)+(26149*Ze>>8)-14234)}function Bn(Xe,Ze,si){return Pn((19077*Xe>>8)-(6419*Ze>>8)-(13320*si>>8)+8708)}function Un(Xe,Ze){return Pn((19077*Xe>>8)+(33050*Ze>>8)-17685)}function Wn(Xe,Ze,si,mi,vi){mi[vi+0]=Mn(Xe,si),mi[vi+1]=Bn(Xe,Ze,si),mi[vi+2]=Un(Xe,Ze)}function sr(Xe,Ze,si,mi,vi){mi[vi+0]=Un(Xe,Ze),mi[vi+1]=Bn(Xe,Ze,si),mi[vi+2]=Mn(Xe,si)}function lr(Xe,Ze,si,mi,vi){var Ei=Bn(Xe,Ze,si);Ze=Ei<<3&224|Un(Xe,Ze)>>3,mi[vi+0]=248&Mn(Xe,si)|Ei>>5,mi[vi+1]=Ze}function fr(Xe,Ze,si,mi,vi){var Ei=240&Un(Xe,Ze)|15;mi[vi+0]=240&Mn(Xe,si)|Bn(Xe,Ze,si)>>4,mi[vi+1]=Ei}function Ar(Xe,Ze,si,mi,vi){mi[vi+0]=255,Wn(Xe,Ze,si,mi,vi+1)}function yr(Xe,Ze,si,mi,vi){sr(Xe,Ze,si,mi,vi),mi[vi+3]=255}function Wr(Xe,Ze,si,mi,vi){Wn(Xe,Ze,si,mi,vi),mi[vi+3]=255}function Lr(Xe,Ze){return 0>Xe?0:Xe>Ze?Ze:Xe}function lo(Xe,Ze,si){Ue[Xe]=function(mi,vi,Ei,Oi,Ti,Li,Ri,zi,on){for(var sn=zi+(-2&on)*si;zi!=sn;)Ze(mi[vi+0],Ei[Oi+0],Ti[Li+0],Ri,zi),Ze(mi[vi+1],Ei[Oi+0],Ti[Li+0],Ri,zi+si),vi+=2,++Oi,++Li,zi+=2*si;1&on&&Ze(mi[vi+0],Ei[Oi+0],Ti[Li+0],Ri,zi)}}function ua(Xe,Ze,si){return si==0?Xe==0?Ze==0?6:5:Ze==0?4:0:si}function Es(Xe,Ze,si,mi,vi){switch(Xe>>>30){case 3:rs(Ze,si,mi,vi,0);break;case 2:Is(Ze,si,mi,vi);break;case 1:Kr(Ze,si,mi,vi)}}function Os(Xe,Ze){var si,mi,vi=Ze.M,Ei=Ze.Nb,Oi=Xe.oc,Ti=Xe.pc+40,Li=Xe.oc,Ri=Xe.pc+584,zi=Xe.oc,on=Xe.pc+600;for(si=0;16>si;++si)Oi[Ti+32*si-1]=129;for(si=0;8>si;++si)Li[Ri+32*si-1]=129,zi[on+32*si-1]=129;for(0<vi?Oi[Ti-1-32]=Li[Ri-1-32]=zi[on-1-32]=129:(Se(Oi,Ti-32-1,127,21),Se(Li,Ri-32-1,127,9),Se(zi,on-32-1,127,9)),mi=0;mi<Xe.za;++mi){var sn=Ze.ya[Ze.aa+mi];if(0<mi){for(si=-1;16>si;++si)xe(Oi,Ti+32*si-4,Oi,Ti+32*si+12,4);for(si=-1;8>si;++si)xe(Li,Ri+32*si-4,Li,Ri+32*si+4,4),xe(zi,on+32*si-4,zi,on+32*si+4,4)}var Ki=Xe.Gd,gn=Xe.Hd+mi,hn=sn.ad,Gi=sn.Hc;if(0<vi&&(xe(Oi,Ti-32,Ki[gn].y,0,16),xe(Li,Ri-32,Ki[gn].f,0,8),xe(zi,on-32,Ki[gn].ea,0,8)),sn.Za){var qi=Oi,pn=Ti-32+16;for(0<vi&&(mi>=Xe.za-1?Se(qi,pn,Ki[gn].y[15],4):xe(qi,pn,Ki[gn+1].y,0,4)),si=0;4>si;si++)qi[pn+128+si]=qi[pn+256+si]=qi[pn+384+si]=qi[pn+0+si];for(si=0;16>si;++si,Gi<<=2)qi=Oi,pn=Ti+ru[si],Jr[sn.Ob[si]](qi,pn),Es(Gi,hn,16*+si,qi,pn)}else if(qi=ua(mi,vi,sn.Ob[0]),Eo[qi](Oi,Ti),Gi!=0)for(si=0;16>si;++si,Gi<<=2)Es(Gi,hn,16*+si,Oi,Ti+ru[si]);for(si=sn.Gc,qi=ua(mi,vi,sn.Dd),po[qi](Li,Ri),po[qi](zi,on),Gi=hn,qi=Li,pn=Ri,255&(sn=si>>0)&&(170&sn?Ao(Gi,256,qi,pn):co(Gi,256,qi,pn)),sn=zi,Gi=on,255&(si>>=8)&&(170&si?Ao(hn,320,sn,Gi):co(hn,320,sn,Gi)),vi<Xe.Ub-1&&(xe(Ki[gn].y,0,Oi,Ti+480,16),xe(Ki[gn].f,0,Li,Ri+224,8),xe(Ki[gn].ea,0,zi,on+224,8)),si=8*Ei*Xe.B,Ki=Xe.sa,gn=Xe.ta+16*mi+16*Ei*Xe.R,hn=Xe.qa,sn=Xe.ra+8*mi+si,Gi=Xe.Ha,qi=Xe.Ia+8*mi+si,si=0;16>si;++si)xe(Ki,gn+si*Xe.R,Oi,Ti+32*si,16);for(si=0;8>si;++si)xe(hn,sn+si*Xe.B,Li,Ri+32*si,8),xe(Gi,qi+si*Xe.B,zi,on+32*si,8)}}function Zo(Xe,Ze,si,mi,vi,Ei,Oi,Ti,Li){var Ri=[0],zi=[0],on=0,sn=Li!=null?Li.kd:0,Ki=Li??new _s;if(Xe==null||12>si)return 7;Ki.data=Xe,Ki.w=Ze,Ki.ha=si,Ze=[Ze],si=[si],Ki.gb=[Ki.gb];e:{var gn=Ze,hn=si,Gi=Ki.gb;if(e(Xe!=null),e(hn!=null),e(Gi!=null),Gi[0]=0,12<=hn[0]&&!r(Xe,gn[0],"RIFF")){if(r(Xe,gn[0]+8,"WEBP")){Gi=3;break e}var qi=ei(Xe,gn[0]+4);if(12>qi||4294967286<qi){Gi=3;break e}if(sn&&qi>hn[0]-8){Gi=7;break e}Gi[0]=qi,gn[0]+=12,hn[0]-=12}Gi=0}if(Gi!=0)return Gi;for(qi=0<Ki.gb[0],si=si[0];;){e:{var pn=Xe;hn=Ze,Gi=si;var xn=Ri,mn=zi,En=gn=[0];if((Cn=on=[on])[0]=0,8>Gi[0])Gi=7;else{if(!r(pn,hn[0],"VP8X")){if(ei(pn,hn[0]+4)!=10){Gi=3;break e}if(18>Gi[0]){Gi=7;break e}var _n=ei(pn,hn[0]+8),Dn=1+St(pn,hn[0]+12);if(2147483648<=Dn*(pn=1+St(pn,hn[0]+15))){Gi=3;break e}En!=null&&(En[0]=_n),xn!=null&&(xn[0]=Dn),mn!=null&&(mn[0]=pn),hn[0]+=18,Gi[0]-=18,Cn[0]=1}Gi=0}}if(on=on[0],gn=gn[0],Gi!=0)return Gi;if(hn=!!(2&gn),!qi&&on)return 3;if(Ei!=null&&(Ei[0]=!!(16&gn)),Oi!=null&&(Oi[0]=hn),Ti!=null&&(Ti[0]=0),Oi=Ri[0],gn=zi[0],on&&hn&&Li==null){Gi=0;break}if(4>si){Gi=7;break}if(qi&&on||!qi&&!on&&!r(Xe,Ze[0],"ALPH")){si=[si],Ki.na=[Ki.na],Ki.P=[Ki.P],Ki.Sa=[Ki.Sa];e:{_n=Xe,Gi=Ze,qi=si;var Cn=Ki.gb;xn=Ki.na,mn=Ki.P,En=Ki.Sa,Dn=22,e(_n!=null),e(qi!=null),pn=Gi[0];var qn=qi[0];for(e(xn!=null),e(En!=null),xn[0]=null,mn[0]=null,En[0]=0;;){if(Gi[0]=pn,qi[0]=qn,8>qn){Gi=7;break e}var Jn=ei(_n,pn+4);if(4294967286<Jn){Gi=3;break e}var Xn=8+Jn+1&-2;if(Dn+=Xn,0<Cn&&Dn>Cn){Gi=3;break e}if(!r(_n,pn,"VP8 ")||!r(_n,pn,"VP8L")){Gi=0;break e}if(qn[0]<Xn){Gi=7;break e}r(_n,pn,"ALPH")||(xn[0]=_n,mn[0]=pn+8,En[0]=Jn),pn+=Xn,qn-=Xn}}if(si=si[0],Ki.na=Ki.na[0],Ki.P=Ki.P[0],Ki.Sa=Ki.Sa[0],Gi!=0)break}si=[si],Ki.Ja=[Ki.Ja],Ki.xa=[Ki.xa];e:if(Cn=Xe,Gi=Ze,qi=si,xn=Ki.gb[0],mn=Ki.Ja,En=Ki.xa,_n=Gi[0],pn=!r(Cn,_n,"VP8 "),Dn=!r(Cn,_n,"VP8L"),e(Cn!=null),e(qi!=null),e(mn!=null),e(En!=null),8>qi[0])Gi=7;else{if(pn||Dn){if(Cn=ei(Cn,_n+4),12<=xn&&Cn>xn-12){Gi=3;break e}if(sn&&Cn>qi[0]-8){Gi=7;break e}mn[0]=Cn,Gi[0]+=8,qi[0]-=8,En[0]=Dn}else En[0]=5<=qi[0]&&Cn[_n+0]==47&&!(Cn[_n+4]>>5),mn[0]=qi[0];Gi=0}if(si=si[0],Ki.Ja=Ki.Ja[0],Ki.xa=Ki.xa[0],Ze=Ze[0],Gi!=0)break;if(4294967286<Ki.Ja)return 3;if(Ti==null||hn||(Ti[0]=Ki.xa?2:1),Oi=[Oi],gn=[gn],Ki.xa){if(5>si){Gi=7;break}Ti=Oi,sn=gn,hn=Ei,Xe==null||5>si?Xe=0:5<=si&&Xe[Ze+0]==47&&!(Xe[Ze+4]>>5)?(qi=[0],Cn=[0],xn=[0],ni(mn=new ci,Xe,Ze,si),rn(mn,qi,Cn,xn)?(Ti!=null&&(Ti[0]=qi[0]),sn!=null&&(sn[0]=Cn[0]),hn!=null&&(hn[0]=xn[0]),Xe=1):Xe=0):Xe=0}else{if(10>si){Gi=7;break}Ti=gn,Xe==null||10>si||!Xs(Xe,Ze+3,si-3)?Xe=0:(sn=Xe[Ze+0]|Xe[Ze+1]<<8|Xe[Ze+2]<<16,hn=16383&(Xe[Ze+7]<<8|Xe[Ze+6]),Xe=16383&(Xe[Ze+9]<<8|Xe[Ze+8]),1&sn||3<(sn>>1&7)||!(sn>>4&1)||sn>>5>=Ki.Ja||!hn||!Xe?Xe=0:(Oi&&(Oi[0]=hn),Ti&&(Ti[0]=Xe),Xe=1))}if(!Xe||(Oi=Oi[0],gn=gn[0],on&&(Ri[0]!=Oi||zi[0]!=gn)))return 3;Li!=null&&(Li[0]=Ki,Li.offset=Ze-Li.w,e(4294967286>Ze-Li.w),e(Li.offset==Li.ha-si));break}return Gi==0||Gi==7&&on&&Li==null?(Ei!=null&&(Ei[0]|=Ki.na!=null&&0<Ki.na.length),mi!=null&&(mi[0]=Oi),vi!=null&&(vi[0]=gn),0):Gi}function Ms(Xe,Ze,si){var mi=Ze.width,vi=Ze.height,Ei=0,Oi=0,Ti=mi,Li=vi;if(Ze.Da=Xe!=null&&0<Xe.Da,Ze.Da&&(Ti=Xe.cd,Li=Xe.bd,Ei=Xe.v,Oi=Xe.j,11>si||(Ei&=-2,Oi&=-2),0>Ei||0>Oi||0>=Ti||0>=Li||Ei+Ti>mi||Oi+Li>vi))return 0;if(Ze.v=Ei,Ze.j=Oi,Ze.va=Ei+Ti,Ze.o=Oi+Li,Ze.U=Ti,Ze.T=Li,Ze.da=Xe!=null&&0<Xe.da,Ze.da){if(!Ci(Ti,Li,si=[Xe.ib],Ei=[Xe.hb]))return 0;Ze.ib=si[0],Ze.hb=Ei[0]}return Ze.ob=Xe!=null&&Xe.ob,Ze.Kb=Xe==null||!Xe.Sd,Ze.da&&(Ze.ob=Ze.ib<3*mi/4&&Ze.hb<3*vi/4,Ze.Kb=0),1}function Ds(Xe){if(Xe==null)return 2;if(11>Xe.S){var Ze=Xe.f.RGBA;Ze.fb+=(Xe.height-1)*Ze.A,Ze.A=-Ze.A}else Ze=Xe.f.kb,Xe=Xe.height,Ze.O+=(Xe-1)*Ze.fa,Ze.fa=-Ze.fa,Ze.N+=(Xe-1>>1)*Ze.Ab,Ze.Ab=-Ze.Ab,Ze.W+=(Xe-1>>1)*Ze.Db,Ze.Db=-Ze.Db,Ze.F!=null&&(Ze.J+=(Xe-1)*Ze.lb,Ze.lb=-Ze.lb);return 0}function Qo(Xe,Ze,si,mi){if(mi==null||0>=Xe||0>=Ze)return 2;if(si!=null){if(si.Da){var vi=si.cd,Ei=si.bd,Oi=-2&si.v,Ti=-2&si.j;if(0>Oi||0>Ti||0>=vi||0>=Ei||Oi+vi>Xe||Ti+Ei>Ze)return 2;Xe=vi,Ze=Ei}if(si.da){if(!Ci(Xe,Ze,vi=[si.ib],Ei=[si.hb]))return 2;Xe=vi[0],Ze=Ei[0]}}mi.width=Xe,mi.height=Ze;e:{var Li=mi.width,Ri=mi.height;if(Xe=mi.S,0>=Li||0>=Ri||!(Xe>=fa&&13>Xe))Xe=2;else{if(0>=mi.Rd&&mi.sd==null){Oi=Ei=vi=Ze=0;var zi=(Ti=Li*ou[Xe])*Ri;if(11>Xe||(Ei=(Ri+1)/2*(Ze=(Li+1)/2),Xe==12&&(Oi=(vi=Li)*Ri)),(Ri=_e(zi+2*Ei+Oi))==null){Xe=1;break e}mi.sd=Ri,11>Xe?((Li=mi.f.RGBA).eb=Ri,Li.fb=0,Li.A=Ti,Li.size=zi):((Li=mi.f.kb).y=Ri,Li.O=0,Li.fa=Ti,Li.Fd=zi,Li.f=Ri,Li.N=0+zi,Li.Ab=Ze,Li.Cd=Ei,Li.ea=Ri,Li.W=0+zi+Ei,Li.Db=Ze,Li.Ed=Ei,Xe==12&&(Li.F=Ri,Li.J=0+zi+2*Ei),Li.Tc=Oi,Li.lb=vi)}if(Ze=1,vi=mi.S,Ei=mi.width,Oi=mi.height,vi>=fa&&13>vi)if(11>vi)Xe=mi.f.RGBA,Ze&=(Ti=Math.abs(Xe.A))*(Oi-1)+Ei<=Xe.size,Ze&=Ti>=Ei*ou[vi],Ze&=Xe.eb!=null;else{Xe=mi.f.kb,Ti=(Ei+1)/2,zi=(Oi+1)/2,Li=Math.abs(Xe.fa),Ri=Math.abs(Xe.Ab);var on=Math.abs(Xe.Db),sn=Math.abs(Xe.lb),Ki=sn*(Oi-1)+Ei;Ze&=Li*(Oi-1)+Ei<=Xe.Fd,Ze&=Ri*(zi-1)+Ti<=Xe.Cd,Ze=(Ze&=on*(zi-1)+Ti<=Xe.Ed)&Li>=Ei&Ri>=Ti&on>=Ti,Ze&=Xe.y!=null,Ze&=Xe.f!=null,Ze&=Xe.ea!=null,vi==12&&(Ze&=sn>=Ei,Ze&=Ki<=Xe.Tc,Ze&=Xe.F!=null)}else Ze=0;Xe=Ze?0:2}}return Xe!=0||si!=null&&si.fd&&(Xe=Ds(mi)),Xe}var Mr=64,es=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ts=24,is=32,Ts=8,Dr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ii("Predictor0","PredictorAdd0"),Ue.Predictor0=function(){return 4278190080},Ue.Predictor1=function(Xe){return Xe},Ue.Predictor2=function(Xe,Ze,si){return Ze[si+0]},Ue.Predictor3=function(Xe,Ze,si){return Ze[si+1]},Ue.Predictor4=function(Xe,Ze,si){return Ze[si-1]},Ue.Predictor5=function(Xe,Ze,si){return Vi(Vi(Xe,Ze[si+1]),Ze[si+0])},Ue.Predictor6=function(Xe,Ze,si){return Vi(Xe,Ze[si-1])},Ue.Predictor7=function(Xe,Ze,si){return Vi(Xe,Ze[si+0])},Ue.Predictor8=function(Xe,Ze,si){return Vi(Ze[si-1],Ze[si+0])},Ue.Predictor9=function(Xe,Ze,si){return Vi(Ze[si+0],Ze[si+1])},Ue.Predictor10=function(Xe,Ze,si){return Vi(Vi(Xe,Ze[si-1]),Vi(Ze[si+0],Ze[si+1]))},Ue.Predictor11=function(Xe,Ze,si){var mi=Ze[si+0];return 0>=Wi(mi>>24&255,Xe>>24&255,(Ze=Ze[si-1])>>24&255)+Wi(mi>>16&255,Xe>>16&255,Ze>>16&255)+Wi(mi>>8&255,Xe>>8&255,Ze>>8&255)+Wi(255&mi,255&Xe,255&Ze)?mi:Xe},Ue.Predictor12=function(Xe,Ze,si){var mi=Ze[si+0];return(ji((Xe>>24&255)+(mi>>24&255)-((Ze=Ze[si-1])>>24&255))<<24|ji((Xe>>16&255)+(mi>>16&255)-(Ze>>16&255))<<16|ji((Xe>>8&255)+(mi>>8&255)-(Ze>>8&255))<<8|ji((255&Xe)+(255&mi)-(255&Ze)))>>>0},Ue.Predictor13=function(Xe,Ze,si){var mi=Ze[si-1];return(Zi((Xe=Vi(Xe,Ze[si+0]))>>24&255,mi>>24&255)<<24|Zi(Xe>>16&255,mi>>16&255)<<16|Zi(Xe>>8&255,mi>>8&255)<<8|Zi(Xe>>0&255,mi>>0&255))>>>0};var ll=Ue.PredictorAdd0;Ue.PredictorAdd1=Qi,Ii("Predictor2","PredictorAdd2"),Ii("Predictor3","PredictorAdd3"),Ii("Predictor4","PredictorAdd4"),Ii("Predictor5","PredictorAdd5"),Ii("Predictor6","PredictorAdd6"),Ii("Predictor7","PredictorAdd7"),Ii("Predictor8","PredictorAdd8"),Ii("Predictor9","PredictorAdd9"),Ii("Predictor10","PredictorAdd10"),Ii("Predictor11","PredictorAdd11"),Ii("Predictor12","PredictorAdd12"),Ii("Predictor13","PredictorAdd13");var ks=Ue.PredictorAdd2;nn("ColorIndexInverseTransform","MapARGB","32b",function(Xe){return Xe>>8&255},function(Xe){return Xe}),nn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(Xe){return Xe},function(Xe){return Xe>>8&255});var ca,Xr=Ue.ColorIndexInverseTransform,Ls=Ue.MapARGB,ul=Ue.VP8LColorIndexInverseTransformAlpha,cl=Ue.MapAlpha,So=Ue.VP8LPredictorsAdd=[];So.length=16,(Ue.VP8LPredictors=[]).length=16,(Ue.VP8LPredictorsAdd_C=[]).length=16,(Ue.VP8LPredictors_C=[]).length=16;var Br,qr,_o,to,uo,ns,Yr,rs,Is,Ao,Kr,co,$o,os,jo,Co,Fs,$r,ho,nr,rr,hr,gr,fo,Po,ss,ha,Vl,Hl=_e(511),Ul=_e(2041),zl=_e(225),Gl=_e(767),Wl=0,hl=Ul,da=zl,Ir=Gl,jr=Hl,fa=0,pa=1,Xl=2,ma=3,ga=4,dl=5,ql=6,pl=7,ml=8,xa=9,gl=10,Du=[2,3,7],Tu=[3,3,11],Yl=[280,256,256,256,40],ku=[0,1,1,1,0],Lu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Iu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Fu=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Nu=8,xl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],yl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ns=null,Ru=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Bu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Kl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$u=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ju=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Vu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Hu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Eo=[],Jr=[],po=[],Uu=1,Jl=2,Oo=[],Vr=[];fn("UpsampleRgbLinePair",Wn,3),fn("UpsampleBgrLinePair",sr,3),fn("UpsampleRgbaLinePair",Wr,4),fn("UpsampleBgraLinePair",yr,4),fn("UpsampleArgbLinePair",Ar,4),fn("UpsampleRgba4444LinePair",fr,2),fn("UpsampleRgb565LinePair",lr,2);var zu=Ue.UpsampleRgbLinePair,Gu=Ue.UpsampleBgrLinePair,Zl=Ue.UpsampleRgbaLinePair,Ql=Ue.UpsampleBgraLinePair,eu=Ue.UpsampleArgbLinePair,tu=Ue.UpsampleRgba4444LinePair,Wu=Ue.UpsampleRgb565LinePair,ya=16,ba=1<<ya-1,Rs=-227,bl=482,iu=6,Xu=(256<<iu)-1,nu=0,qu=_e(256),Yu=_e(256),Ku=_e(256),Ju=_e(256),Zu=_e(bl-Rs),Qu=_e(bl-Rs);lo("YuvToRgbRow",Wn,3),lo("YuvToBgrRow",sr,3),lo("YuvToRgbaRow",Wr,4),lo("YuvToBgraRow",yr,4),lo("YuvToArgbRow",Ar,4),lo("YuvToRgba4444Row",fr,2),lo("YuvToRgb565Row",lr,2);var ru=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],wa=[0,2,8],ec=[8,7,6,4,4,2,2,2,1,1,1,1],tc=1;this.WebPDecodeRGBA=function(Xe,Ze,si,mi,vi){var Ei=pa,Oi=new Ko,Ti=new jn;Oi.ba=Ti,Ti.S=Ei,Ti.width=[Ti.width],Ti.height=[Ti.height];var Li=Ti.width,Ri=Ti.height,zi=new Rn;if(zi==null||Xe==null)var on=2;else e(zi!=null),on=Zo(Xe,Ze,si,zi.width,zi.height,zi.Pd,zi.Qd,zi.format,null);if(on!=0?Li=0:(Li!=null&&(Li[0]=zi.width[0]),Ri!=null&&(Ri[0]=zi.height[0]),Li=1),Li){Ti.width=Ti.width[0],Ti.height=Ti.height[0],mi!=null&&(mi[0]=Ti.width),vi!=null&&(vi[0]=Ti.height);e:{if(mi=new Uo,(vi=new _s).data=Xe,vi.w=Ze,vi.ha=si,vi.kd=1,Ze=[0],e(vi!=null),((Xe=Zo(vi.data,vi.w,vi.ha,null,null,null,Ze,null,vi))==0||Xe==7)&&Ze[0]&&(Xe=4),(Ze=Xe)==0){if(e(Oi!=null),mi.data=vi.data,mi.w=vi.w+vi.offset,mi.ha=vi.ha-vi.offset,mi.put=Hi,mi.ac=Si,mi.bc=Ji,mi.ma=Oi,vi.xa){if((Xe=ar())==null){Oi=1;break e}if(function(sn,Ki){var gn=[0],hn=[0],Gi=[0];t:for(;;){if(sn==null)return 0;if(Ki==null)return sn.a=2,0;if(sn.l=Ki,sn.a=0,ni(sn.m,Ki.data,Ki.w,Ki.ha),!rn(sn.m,gn,hn,Gi)){sn.a=3;break t}if(sn.xb=Jl,Ki.width=gn[0],Ki.height=hn[0],!vr(gn[0],hn[0],1,sn,null))break t;return 1}return e(sn.a!=0),0}(Xe,mi)){if(mi=(Ze=Qo(mi.width,mi.height,Oi.Oa,Oi.ba))==0){t:{mi=Xe;i:for(;;){if(mi==null){mi=0;break t}if(e(mi.s.yc!=null),e(mi.s.Ya!=null),e(0<mi.s.Wb),e((si=mi.l)!=null),e((vi=si.ma)!=null),mi.xb!=0){if(mi.ca=vi.ba,mi.tb=vi.tb,e(mi.ca!=null),!Ms(vi.Oa,si,ma)){mi.a=2;break i}if(!xr(mi,si.width)||si.da)break i;if((si.da||Sn(mi.ca.S))&&en(),11>mi.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),mi.ca.f.kb.F!=null&&en()),mi.Pb&&0<mi.s.ua&&mi.s.vb.X==null&&!ui(mi.s.vb,mi.s.Wa.Xa)){mi.a=1;break i}mi.xb=0}if(!or(mi,mi.V,mi.Ba,mi.c,mi.i,si.o,Rr))break i;vi.Dc=mi.Ma,mi=1;break t}e(mi.a!=0),mi=0}mi=!mi}mi&&(Ze=Xe.a)}else Ze=Xe.a}else{if((Xe=new Ua)==null){Oi=1;break e}if(Xe.Fa=vi.na,Xe.P=vi.P,Xe.qc=vi.Sa,qs(Xe,mi)){if((Ze=Qo(mi.width,mi.height,Oi.Oa,Oi.ba))==0){if(Xe.Aa=0,si=Oi.Oa,e((vi=Xe)!=null),si!=null){if(0<(Li=0>(Li=si.Md)?0:100<Li?255:255*Li/100)){for(Ri=zi=0;4>Ri;++Ri)12>(on=vi.pb[Ri]).lc&&(on.ia=Li*ec[0>on.lc?0:on.lc]>>3),zi|=on.ia;zi&&(alert("todo:VP8InitRandom"),vi.ia=1)}vi.Ga=si.Id,100<vi.Ga?vi.Ga=100:0>vi.Ga&&(vi.Ga=0)}za(Xe,mi)||(Ze=Xe.a)}}else Ze=Xe.a}Ze==0&&Oi.Oa!=null&&Oi.Oa.fd&&(Ze=Ds(Oi.ba))}Oi=Ze}Ei=Oi!=0?null:11>Ei?Ti.f.RGBA.eb:Ti.f.kb.y}else Ei=null;return Ei};var ou=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Ee(Ue,We){for(var qe="",Ge=0;Ge<4;Ge++)qe+=String.fromCharCode(Ue[We++]);return qe}function Oe(Ue,We){return(Ue[We+0]<<0|Ue[We+1]<<8|Ue[We+2]<<16)>>>0}function Me(Ue,We){return(Ue[We+0]<<0|Ue[We+1]<<8|Ue[We+2]<<16|Ue[We+3]<<24)>>>0}new Pe;var De=[0],Te=[0],ke=[],Fe=new Pe,$e=t,Be=function(Ue,We){var qe={},Ge=0,Ye=!1,Qe=0,Je=0;if(qe.frames=[],!function(xi,yi,gi,Ai){for(var Mi=0;Mi<Ai;Mi++)if(xi[yi+Mi]!=gi.charCodeAt(Mi))return!0;return!1}(Ue,We,"RIFF",4)){var ri,hi;for(Me(Ue,We+=4),We+=8;We<Ue.length;){var pi=Ee(Ue,We),ni=Me(Ue,We+=4);We+=4;var di=ni+(1&ni);switch(pi){case"VP8 ":case"VP8L":qe.frames[Ge]===void 0&&(qe.frames[Ge]={}),(ci=qe.frames[Ge]).src_off=Ye?Je:We-8,ci.src_size=Qe+ni+8,Ge++,Ye&&(Ye=!1,Qe=0,Je=0);break;case"VP8X":(ci=qe.header={}).feature_flags=Ue[We];var fi=We+4;ci.canvas_width=1+Oe(Ue,fi),fi+=3,ci.canvas_height=1+Oe(Ue,fi),fi+=3;break;case"ALPH":Ye=!0,Qe=di+8,Je=We-8;break;case"ANIM":(ci=qe.header).bgcolor=Me(Ue,We),fi=We+4,ci.loop_count=(ri=Ue)[(hi=fi)+0]<<0|ri[hi+1]<<8,fi+=2;break;case"ANMF":var Pi,ci;(ci=qe.frames[Ge]={}).offset_x=2*Oe(Ue,We),We+=3,ci.offset_y=2*Oe(Ue,We),We+=3,ci.width=1+Oe(Ue,We),We+=3,ci.height=1+Oe(Ue,We),We+=3,ci.duration=Oe(Ue,We),We+=3,Pi=Ue[We++],ci.dispose=1&Pi,ci.blend=Pi>>1&1}pi!="ANMF"&&(We+=di)}return qe}}($e,0);Be.response=$e,Be.rgbaoutput=!0,Be.dataurl=!1;var Ie=Be.header?Be.header:null,Re=Be.frames?Be.frames:null;if(Ie){Ie.loop_counter=Ie.loop_count,De=[Ie.canvas_height],Te=[Ie.canvas_width];for(var je=0;je<Re.length&&Re[je].blend!=0;je++);}var Ve=Re[0],He=Fe.WebPDecodeRGBA($e,Ve.src_off,Ve.src_size,Te,De);Ve.rgba=He,Ve.imgwidth=Te[0],Ve.imgheight=De[0];for(var ze=0;ze<Te[0]*De[0]*4;ze++)ke[ze]=He[ze];return this.width=Te,this.height=De,this.data=ke,this}(function(t){var e=function(){return typeof zlibSync=="function"},r=function(De,Te,ke,Fe){var $e=4,Be=Ae;switch(Fe){case t.image_compression.FAST:$e=1,Be=_e;break;case t.image_compression.MEDIUM:$e=6,Be=Ce;break;case t.image_compression.SLOW:$e=9,Be=Pe}De=xe(De,Te,ke,Be);var Ie=zlibSync(De,{level:$e});return t.__addimage__.arrayBufferToBinaryString(Ie)},xe=function(De,Te,ke,Fe){for(var $e,Be,Ie,Re=De.length/Te,je=new Uint8Array(De.length+Re),Ve=Oe(),He=0;He<Re;He+=1){if(Ie=He*Te,$e=De.subarray(Ie,Ie+Te),Fe)je.set(Fe($e,ke,Be),Ie+He);else{for(var ze,Ue=Ve.length,We=[];ze<Ue;ze+=1)We[ze]=Ve[ze]($e,ke,Be);var qe=Me(We.concat());je.set(We[qe],Ie+He)}Be=$e}return je},Se=function(De){var Te=Array.apply([],De);return Te.unshift(0),Te},_e=function(De,Te){var ke,Fe=[],$e=De.length;Fe[0]=1;for(var Be=0;Be<$e;Be+=1)ke=De[Be-Te]||0,Fe[Be+1]=De[Be]-ke+256&255;return Fe},Ae=function(De,Te,ke){var Fe,$e=[],Be=De.length;$e[0]=2;for(var Ie=0;Ie<Be;Ie+=1)Fe=ke&&ke[Ie]||0,$e[Ie+1]=De[Ie]-Fe+256&255;return $e},Ce=function(De,Te,ke){var Fe,$e,Be=[],Ie=De.length;Be[0]=3;for(var Re=0;Re<Ie;Re+=1)Fe=De[Re-Te]||0,$e=ke&&ke[Re]||0,Be[Re+1]=De[Re]+256-(Fe+$e>>>1)&255;return Be},Pe=function(De,Te,ke){var Fe,$e,Be,Ie,Re=[],je=De.length;Re[0]=4;for(var Ve=0;Ve<je;Ve+=1)Fe=De[Ve-Te]||0,$e=ke&&ke[Ve]||0,Be=ke&&ke[Ve-Te]||0,Ie=Ee(Fe,$e,Be),Re[Ve+1]=De[Ve]-Ie+256&255;return Re},Ee=function(De,Te,ke){if(De===Te&&Te===ke)return De;var Fe=Math.abs(Te-ke),$e=Math.abs(De-ke),Be=Math.abs(De+Te-ke-ke);return Fe<=$e&&Fe<=Be?De:$e<=Be?Te:ke},Oe=function(){return[Se,_e,Ae,Ce,Pe]},Me=function(De){var Te=De.map(function(ke){return ke.reduce(function(Fe,$e){return Fe+Math.abs($e)},0)});return Te.indexOf(Math.min.apply(null,Te))};t.processPNG=function(De,Te,ke,Fe){var $e,Be,Ie,Re,je,Ve,He,ze,Ue,We,qe,Ge,Ye,Qe,Je,ri=this.decode.FLATE_DECODE,hi="";if(this.__addimage__.isArrayBuffer(De)&&(De=new Uint8Array(De)),this.__addimage__.isArrayBufferView(De)){if(De=(Ie=new Kt(De)).imgData,Be=Ie.bits,$e=Ie.colorSpace,je=Ie.colors,[4,6].indexOf(Ie.colorType)!==-1){if(Ie.bits===8){Ue=(ze=Ie.pixelBitlength==32?new Uint32Array(Ie.decodePixels().buffer):Ie.pixelBitlength==16?new Uint16Array(Ie.decodePixels().buffer):new Uint8Array(Ie.decodePixels().buffer)).length,qe=new Uint8Array(Ue*Ie.colors),We=new Uint8Array(Ue);var pi,ni=Ie.pixelBitlength-Ie.bits;for(Qe=0,Je=0;Qe<Ue;Qe++){for(Ye=ze[Qe],pi=0;pi<ni;)qe[Je++]=Ye>>>pi&255,pi+=Ie.bits;We[Qe]=Ye>>>pi&255}}if(Ie.bits===16){Ue=(ze=new Uint32Array(Ie.decodePixels().buffer)).length,qe=new Uint8Array(Ue*(32/Ie.pixelBitlength)*Ie.colors),We=new Uint8Array(Ue*(32/Ie.pixelBitlength)),Ge=Ie.colors>1,Qe=0,Je=0;for(var di=0;Qe<Ue;)Ye=ze[Qe++],qe[Je++]=Ye>>>0&255,Ge&&(qe[Je++]=Ye>>>16&255,Ye=ze[Qe++],qe[Je++]=Ye>>>0&255),We[di++]=Ye>>>16&255;Be=8}Fe!==t.image_compression.NONE&&e()?(De=r(qe,Ie.width*Ie.colors,Ie.colors,Fe),He=r(We,Ie.width,1,Fe)):(De=qe,He=We,ri=void 0)}if(Ie.colorType===3&&($e=this.color_spaces.INDEXED,Ve=Ie.palette,Ie.transparency.indexed)){var fi=Ie.transparency.indexed,Pi=0;for(Qe=0,Ue=fi.length;Qe<Ue;++Qe)Pi+=fi[Qe];if((Pi/=255)===Ue-1&&fi.indexOf(0)!==-1)Re=[fi.indexOf(0)];else if(Pi!==Ue){for(ze=Ie.decodePixels(),We=new Uint8Array(ze.length),Qe=0,Ue=ze.length;Qe<Ue;Qe++)We[Qe]=fi[ze[Qe]];He=r(We,Ie.width,1)}}var ci=function(xi){var yi;switch(xi){case t.image_compression.FAST:yi=11;break;case t.image_compression.MEDIUM:yi=13;break;case t.image_compression.SLOW:yi=14;break;default:yi=12}return yi}(Fe);return ri===this.decode.FLATE_DECODE&&(hi="/Predictor "+ci+" "),hi+="/Colors "+je+" /BitsPerComponent "+Be+" /Columns "+Ie.width,(this.__addimage__.isArrayBuffer(De)||this.__addimage__.isArrayBufferView(De))&&(De=this.__addimage__.arrayBufferToBinaryString(De)),(He&&this.__addimage__.isArrayBuffer(He)||this.__addimage__.isArrayBufferView(He))&&(He=this.__addimage__.arrayBufferToBinaryString(He)),{alias:ke,data:De,index:Te,filter:ri,decodeParameters:hi,transparency:Re,palette:Ve,sMask:He,predictor:ci,width:Ie.width,height:Ie.height,bitsPerComponent:Be,colorSpace:$e}}}})(E.API),function(t){t.processGIF89A=function(e,r,xe,Se){var _e=new Zt(e),Ae=_e.width,Ce=_e.height,Pe=[];_e.decodeAndBlitFrameRGBA(0,Pe);var Ee={data:Pe,width:Ae,height:Ce},Oe=new Qt(100).encode(Ee,100);return t.processJPEG.call(this,Oe,r,xe,Se)},t.processGIF87A=t.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),xe=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),_e=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:Se,green:xe,blue:r,quad:_e}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){a.log("bit decode error:"+r)}},te.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var xe=this.bottom_up?t:this.height-1-t,Se=0;Se<e;Se++)for(var _e=this.datav.getUint8(this.pos++,!0),Ae=xe*this.width*4+8*Se*4,Ce=0;Ce<8&&8*Se+Ce<this.width;Ce++){var Pe=this.palette[_e>>7-Ce&1];this.data[Ae+4*Ce]=Pe.blue,this.data[Ae+4*Ce+1]=Pe.green,this.data[Ae+4*Ce+2]=Pe.red,this.data[Ae+4*Ce+3]=255}r!==0&&(this.pos+=4-r)}},te.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var xe=this.bottom_up?r:this.height-1-r,Se=0;Se<t;Se++){var _e=this.datav.getUint8(this.pos++,!0),Ae=xe*this.width*4+2*Se*4,Ce=_e>>4,Pe=15&_e,Ee=this.palette[Ce];if(this.data[Ae]=Ee.blue,this.data[Ae+1]=Ee.green,this.data[Ae+2]=Ee.red,this.data[Ae+3]=255,2*Se+1>=this.width)break;Ee=this.palette[Pe],this.data[Ae+4]=Ee.blue,this.data[Ae+4+1]=Ee.green,this.data[Ae+4+2]=Ee.red,this.data[Ae+4+3]=255}e!==0&&(this.pos+=4-e)}},te.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,xe=0;xe<this.width;xe++){var Se=this.datav.getUint8(this.pos++,!0),_e=r*this.width*4+4*xe;if(Se<this.palette.length){var Ae=this.palette[Se];this.data[_e]=Ae.red,this.data[_e+1]=Ae.green,this.data[_e+2]=Ae.blue,this.data[_e+3]=255}else this.data[_e]=255,this.data[_e+1]=255,this.data[_e+2]=255,this.data[_e+3]=255}t!==0&&(this.pos+=4-t)}},te.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var xe=this.bottom_up?r:this.height-1-r,Se=0;Se<this.width;Se++){var _e=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ae=(_e&e)/e*255|0,Ce=(_e>>5&e)/e*255|0,Pe=(_e>>10&e)/e*255|0,Ee=_e>>15?255:0,Oe=xe*this.width*4+4*Se;this.data[Oe]=Pe,this.data[Oe+1]=Ce,this.data[Oe+2]=Ae,this.data[Oe+3]=Ee}this.pos+=t}},te.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),xe=this.height-1;xe>=0;xe--){for(var Se=this.bottom_up?xe:this.height-1-xe,_e=0;_e<this.width;_e++){var Ae=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ce=(Ae&e)/e*255|0,Pe=(Ae>>5&r)/r*255|0,Ee=(Ae>>11)/e*255|0,Oe=Se*this.width*4+4*_e;this.data[Oe]=Ee,this.data[Oe+1]=Pe,this.data[Oe+2]=Ce,this.data[Oe+3]=255}this.pos+=t}},te.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var xe=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),_e=this.datav.getUint8(this.pos++,!0),Ae=e*this.width*4+4*r;this.data[Ae]=_e,this.data[Ae+1]=Se,this.data[Ae+2]=xe,this.data[Ae+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var xe=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),_e=this.datav.getUint8(this.pos++,!0),Ae=this.datav.getUint8(this.pos++,!0),Ce=e*this.width*4+4*r;this.data[Ce]=_e,this.data[Ce+1]=Se,this.data[Ce+2]=xe,this.data[Ce+3]=Ae}},te.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,xe,Se){var _e=new te(e,!1),Ae=_e.width,Ce=_e.height,Pe={data:_e.getData(),width:Ae,height:Ce},Ee=new Qt(100).encode(Pe,100);return t.processJPEG.call(this,Ee,r,xe,Se)}}(E.API),ee.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,xe,Se){var _e=new ee(e),Ae=_e.width,Ce=_e.height,Pe={data:_e.getData(),width:Ae,height:Ce},Ee=new Qt(100).encode(Pe,100);return t.processJPEG.call(this,Ee,r,xe,Se)}}(E.API),E.API.processRGBA=function(t,e,r){for(var xe=t.data,Se=xe.length,_e=new Uint8Array(Se/4*3),Ae=new Uint8Array(Se/4),Ce=0,Pe=0,Ee=0;Ee<Se;Ee+=4){var Oe=xe[Ee],Me=xe[Ee+1],De=xe[Ee+2],Te=xe[Ee+3];_e[Ce++]=Oe,_e[Ce++]=Me,_e[Ce++]=De,Ae[Pe++]=Te}var ke=this.__addimage__.arrayBufferToBinaryString(_e);return{alpha:this.__addimage__.arrayBufferToBinaryString(Ae),data:ke,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},E.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(t,e){var r,xe,Se=(e=e||{}).font||this.internal.getFont(),_e=e.fontSize||this.internal.getFontSize(),Ae=e.charSpace||this.internal.getCharSpace(),Ce=e.widths?e.widths:Se.metadata.Unicode.widths,Pe=Ce.fof?Ce.fof:1,Ee=e.kerning?e.kerning:Se.metadata.Unicode.kerning,Oe=Ee.fof?Ee.fof:1,Me=e.doKerning!==!1,De=0,Te=t.length,ke=0,Fe=Ce[0]||Pe,$e=[];for(r=0;r<Te;r++)xe=t.charCodeAt(r),typeof Se.metadata.widthOfString=="function"?$e.push((Se.metadata.widthOfGlyph(Se.metadata.characterToGlyph(xe))+Ae*(1e3/_e)||0)/1e3):(De=Me&&_typeof$5(Ee[xe])==="object"&&!isNaN(parseInt(Ee[xe][ke],10))?Ee[xe][ke]/Oe:0,$e.push((Ce[xe]||Fe)/Pe+De)),ke=xe;return $e},Yt=Vt.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),xe=e.font||this.internal.getFont(),Se=e.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(t=Vt.processArabic(t)),typeof xe.metadata.widthOfString=="function"?xe.metadata.widthOfString(t,r,Se)/r:Gt.apply(this,arguments).reduce(function(_e,Ae){return _e+Ae},0)},Jt=function(t,e,r,xe){for(var Se=[],_e=0,Ae=t.length,Ce=0;_e!==Ae&&Ce+e[_e]<r;)Ce+=e[_e],_e++;Se.push(t.slice(0,_e));var Pe=_e;for(Ce=0;_e!==Ae;)Ce+e[_e]>xe&&(Se.push(t.slice(Pe,_e)),Ce=0,Pe=_e),Ce+=e[_e],_e++;return Pe!==_e&&Se.push(t.slice(Pe,_e)),Se},Xt=function(t,e,r){r||(r={});var xe,Se,_e,Ae,Ce,Pe,Ee,Oe=[],Me=[Oe],De=r.textIndent||0,Te=0,ke=0,Fe=t.split(" "),$e=Gt.apply(this,[" ",r])[0];if(Pe=r.lineIndent===-1?Fe[0].length+2:r.lineIndent||0){var Be=Array(Pe).join(" "),Ie=[];Fe.map(function(je){(je=je.split(/\s*\n/)).length>1?Ie=Ie.concat(je.map(function(Ve,He){return(He&&Ve.length?`
`:"")+Ve})):Ie.push(je[0])}),Fe=Ie,Pe=Yt.apply(this,[Be,r])}for(_e=0,Ae=Fe.length;_e<Ae;_e++){var Re=0;if(xe=Fe[_e],Pe&&xe[0]==`
`&&(xe=xe.substr(1),Re=1),De+Te+(ke=(Se=Gt.apply(this,[xe,r])).reduce(function(je,Ve){return je+Ve},0))>e||Re){if(ke>e){for(Ce=Jt.apply(this,[xe,Se,e-(De+Te),e]),Oe.push(Ce.shift()),Oe=[Ce.pop()];Ce.length;)Me.push([Ce.shift()]);ke=Se.slice(xe.length-(Oe[0]?Oe[0].length:0)).reduce(function(je,Ve){return je+Ve},0)}else Oe=[xe];Me.push(Oe),De=ke+Pe,Te=$e}else Oe.push(xe),De+=Te+ke,Te=$e}return Ee=Pe?function(je,Ve){return(Ve?Be:"")+je.join(" ")}:function(je){return je.join(" ")},Me.map(Ee)},Vt.splitTextToSize=function(t,e,r){var xe,Se=(r=r||{}).fontSize||this.internal.getFontSize(),_e=(function(Oe){if(Oe.widths&&Oe.kerning)return{widths:Oe.widths,kerning:Oe.kerning};var Me=this.internal.getFont(Oe.fontName,Oe.fontStyle);return Me.metadata.Unicode?{widths:Me.metadata.Unicode.widths||{0:1},kerning:Me.metadata.Unicode.kerning||{}}:{font:Me.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);xe=Array.isArray(t)?t:String(t).split(/\r?\n/);var Ae=1*this.internal.scaleFactor*e/Se;_e.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/Se:0,_e.lineIndent=r.lineIndent;var Ce,Pe,Ee=[];for(Ce=0,Pe=xe.length;Ce<Pe;Ce++)Ee=Ee.concat(Xt.apply(this,[xe[Ce],Ae,_e]));return Ee},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},xe={},Se=0;Se<e.length;Se++)r[e[Se]]="0123456789abcdef"[Se],xe["0123456789abcdef"[Se]]=e[Se];var _e=function(Me){return"0x"+parseInt(Me,10).toString(16)},Ae=t.__fontmetrics__.compress=function(Me){var De,Te,ke,Fe,$e=["{"];for(var Be in Me){if(De=Me[Be],isNaN(parseInt(Be,10))?Te="'"+Be+"'":(Be=parseInt(Be,10),Te=(Te=_e(Be).slice(2)).slice(0,-1)+xe[Te.slice(-1)]),typeof De=="number")De<0?(ke=_e(De).slice(3),Fe="-"):(ke=_e(De).slice(2),Fe=""),ke=Fe+ke.slice(0,-1)+xe[ke.slice(-1)];else{if(_typeof$5(De)!=="object")throw new Error("Don't know what to do with value type "+_typeof$5(De)+".");ke=Ae(De)}$e.push(Te+ke)}return $e.push("}"),$e.join("")},Ce=t.__fontmetrics__.uncompress=function(Me){if(typeof Me!="string")throw new Error("Invalid argument passed to uncompress.");for(var De,Te,ke,Fe,$e={},Be=1,Ie=$e,Re=[],je="",Ve="",He=Me.length-1,ze=1;ze<He;ze+=1)(Fe=Me[ze])=="'"?De?(ke=De.join(""),De=void 0):De=[]:De?De.push(Fe):Fe=="{"?(Re.push([Ie,ke]),Ie={},ke=void 0):Fe=="}"?((Te=Re.pop())[0][Te[1]]=Ie,ke=void 0,Ie=Te[0]):Fe=="-"?Be=-1:ke===void 0?r.hasOwnProperty(Fe)?(je+=r[Fe],ke=parseInt(je,16)*Be,Be=1,je=""):je+=Fe:r.hasOwnProperty(Fe)?(Ve+=r[Fe],Ie[ke]=parseInt(Ve,16)*Be,Be=1,ke=void 0,Ve=""):Ve+=Fe;return $e},Pe={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Ce("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Ee={Unicode:{Courier:Pe,"Courier-Bold":Pe,"Courier-BoldOblique":Pe,"Courier-Oblique":Pe,Helvetica:Pe,"Helvetica-Bold":Pe,"Helvetica-BoldOblique":Pe,"Helvetica-Oblique":Pe,"Times-Roman":Pe,"Times-Bold":Pe,"Times-BoldItalic":Pe,"Times-Italic":Pe}},Oe={Unicode:{"Courier-Oblique":Ce("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Ce("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Ce("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Ce("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Ce("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Ce("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Ce("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Ce("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Ce("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Ce("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Ce("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Ce("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Ce("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Ce("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(Me){var De=Me.font,Te=Oe.Unicode[De.postScriptName];Te&&(De.metadata.Unicode={},De.metadata.Unicode.widths=Te.widths,De.metadata.Unicode.kerning=Te.kerning);var ke=Ee.Unicode[De.postScriptName];ke&&(De.metadata.Unicode.encoding=ke,De.encoding=ke.codePages[0])}])}(E.API),function(t){var e=function(r){for(var xe=r.length,Se=new Uint8Array(xe),_e=0;_e<xe;_e++)Se[_e]=r.charCodeAt(_e);return Se};t.API.events.push(["addFont",function(r){var xe=void 0,Se=r.font,_e=r.instance;if(!Se.isStandardFont){if(_e===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Se.postScriptName+"').");if(typeof(xe=_e.existsFileInVFS(Se.postScriptName)===!1?_e.loadFile(Se.postScriptName):_e.getFileFromVFS(Se.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Se.postScriptName+"').");(function(Ae,Ce){Ce=/^\x00\x01\x00\x00/.test(Ce)?e(Ce):e(u(Ce)),Ae.metadata=t.API.TTFFont.open(Ce),Ae.metadata.Unicode=Ae.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Ae.metadata.glyIdsUsed=[0]})(Se,xe)}}])}(E),function(t){function e(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es-E-R67z3J.js"),__vite__mapDeps([]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}E.API.addSvgAsImage=function(r,xe,Se,_e,Ae,Ce,Pe,Ee){if(isNaN(xe)||isNaN(Se))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(_e)||isNaN(Ae))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Oe=document.createElement("canvas");Oe.width=_e,Oe.height=Ae;var Me=Oe.getContext("2d");Me.fillStyle="#fff",Me.fillRect(0,0,Oe.width,Oe.height);var De={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},Te=this;return e().then(function(ke){return ke.fromString(Me,r,De)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ke){return ke.render(De)}).then(function(){Te.addImage(Oe.toDataURL("image/jpeg",1),xe,Se,_e,Ae,Pe,Ee)})}}(),E.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var xe=1;xe<=this.internal.getNumberOfPages();xe++)for(var Se=0;Se<this.internal.pages[xe].length;Se++)this.internal.pages[xe][Se]=this.internal.pages[xe][Se].replace(e,r);return this},E.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var xe,Se,_e,Ae={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Ce=Object.keys(Ae),Pe=[],Ee=0,Oe=0,Me=0;function De(ke,Fe){var $e,Be=!1;for($e=0;$e<ke.length;$e+=1)ke[$e]===Fe&&(Be=!0);return Be}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Ae)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var Te=Ce.length;for(Me=0;Me<Te;Me+=1)r[Ce[Me]].value=r[Ce[Me]].defaultValue,r[Ce[Me]].explicitSet=!1}if(_typeof$5(t)==="object"){for(Se in t)if(_e=t[Se],De(Ce,Se)&&_e!==void 0){if(r[Se].type==="boolean"&&typeof _e=="boolean")r[Se].value=_e;else if(r[Se].type==="name"&&De(r[Se].valueSet,_e))r[Se].value=_e;else if(r[Se].type==="integer"&&Number.isInteger(_e))r[Se].value=_e;else if(r[Se].type==="array"){for(Ee=0;Ee<_e.length;Ee+=1)if(xe=!0,_e[Ee].length===1&&typeof _e[Ee][0]=="number")Pe.push(String(_e[Ee]-1));else if(_e[Ee].length>1){for(Oe=0;Oe<_e[Ee].length;Oe+=1)typeof _e[Ee][Oe]!="number"&&(xe=!1);xe===!0&&Pe.push([_e[Ee][0]-1,_e[Ee][1]-1].join(" "))}r[Se].value="["+Pe.join(" ")+"]"}else r[Se].value=r[Se].defaultValue;r[Se].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var ke,Fe=[];for(ke in r)r[ke].explicitSet===!0&&(r[ke].type==="name"?Fe.push("/"+ke+" /"+r[ke].value):Fe.push("/"+ke+" "+r[ke].value));Fe.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Fe.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var xe='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Se=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),_e=unescape(encodeURIComponent(xe)),Ae=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Ce=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Pe=unescape(encodeURIComponent("</x:xmpmeta>")),Ee=_e.length+Ae.length+Ce.length+Se.length+Pe.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Ee+" >>"),this.internal.write("stream"),this.internal.write(Se+_e+Ae+Ce+Pe),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(xe,Se){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:xe,namespaceuri:Se||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(E.API),function(t){var e=t.API,r=e.pdfEscape16=function(_e,Ae){for(var Ce,Pe=Ae.metadata.Unicode.widths,Ee=["","0","00","000","0000"],Oe=[""],Me=0,De=_e.length;Me<De;++Me){if(Ce=Ae.metadata.characterToGlyph(_e.charCodeAt(Me)),Ae.metadata.glyIdsUsed.push(Ce),Ae.metadata.toUnicode[Ce]=_e.charCodeAt(Me),Pe.indexOf(Ce)==-1&&(Pe.push(Ce),Pe.push([parseInt(Ae.metadata.widthOfGlyph(Ce),10)])),Ce=="0")return Oe.join("");Ce=Ce.toString(16),Oe.push(Ee[4-Ce.length],Ce)}return Oe.join("")},xe=function(_e){var Ae,Ce,Pe,Ee,Oe,Me,De;for(Oe=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Pe=[],Me=0,De=(Ce=Object.keys(_e).sort(function(Te,ke){return Te-ke})).length;Me<De;Me++)Ae=Ce[Me],Pe.length>=100&&(Oe+=`
`+Pe.length+` beginbfchar
`+Pe.join(`
`)+`
endbfchar`,Pe=[]),_e[Ae]!==void 0&&_e[Ae]!==null&&typeof _e[Ae].toString=="function"&&(Ee=("0000"+_e[Ae].toString(16)).slice(-4),Ae=("0000"+(+Ae).toString(16)).slice(-4),Pe.push("<"+Ae+"><"+Ee+">"));return Pe.length&&(Oe+=`
`+Pe.length+` beginbfchar
`+Pe.join(`
`)+`
endbfchar
`),Oe+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(_e){(function(Ae){var Ce=Ae.font,Pe=Ae.out,Ee=Ae.newObject,Oe=Ae.putStream;if(Ce.metadata instanceof t.API.TTFFont&&Ce.encoding==="Identity-H"){for(var Me=Ce.metadata.Unicode.widths,De=Ce.metadata.subset.encode(Ce.metadata.glyIdsUsed,1),Te="",ke=0;ke<De.length;ke++)Te+=String.fromCharCode(De[ke]);var Fe=Ee();Oe({data:Te,addLength1:!0,objectId:Fe}),Pe("endobj");var $e=Ee();Oe({data:xe(Ce.metadata.toUnicode),addLength1:!0,objectId:$e}),Pe("endobj");var Be=Ee();Pe("<<"),Pe("/Type /FontDescriptor"),Pe("/FontName /"+F(Ce.fontName)),Pe("/FontFile2 "+Fe+" 0 R"),Pe("/FontBBox "+t.API.PDFObject.convert(Ce.metadata.bbox)),Pe("/Flags "+Ce.metadata.flags),Pe("/StemV "+Ce.metadata.stemV),Pe("/ItalicAngle "+Ce.metadata.italicAngle),Pe("/Ascent "+Ce.metadata.ascender),Pe("/Descent "+Ce.metadata.decender),Pe("/CapHeight "+Ce.metadata.capHeight),Pe(">>"),Pe("endobj");var Ie=Ee();Pe("<<"),Pe("/Type /Font"),Pe("/BaseFont /"+F(Ce.fontName)),Pe("/FontDescriptor "+Be+" 0 R"),Pe("/W "+t.API.PDFObject.convert(Me)),Pe("/CIDToGIDMap /Identity"),Pe("/DW 1000"),Pe("/Subtype /CIDFontType2"),Pe("/CIDSystemInfo"),Pe("<<"),Pe("/Supplement 0"),Pe("/Registry (Adobe)"),Pe("/Ordering ("+Ce.encoding+")"),Pe(">>"),Pe(">>"),Pe("endobj"),Ce.objectNumber=Ee(),Pe("<<"),Pe("/Type /Font"),Pe("/Subtype /Type0"),Pe("/ToUnicode "+$e+" 0 R"),Pe("/BaseFont /"+F(Ce.fontName)),Pe("/Encoding /"+Ce.encoding),Pe("/DescendantFonts ["+Ie+" 0 R]"),Pe(">>"),Pe("endobj"),Ce.isAlreadyPutted=!0}})(_e)}]),e.events.push(["putFont",function(_e){(function(Ae){var Ce=Ae.font,Pe=Ae.out,Ee=Ae.newObject,Oe=Ae.putStream;if(Ce.metadata instanceof t.API.TTFFont&&Ce.encoding==="WinAnsiEncoding"){for(var Me=Ce.metadata.rawData,De="",Te=0;Te<Me.length;Te++)De+=String.fromCharCode(Me[Te]);var ke=Ee();Oe({data:De,addLength1:!0,objectId:ke}),Pe("endobj");var Fe=Ee();Oe({data:xe(Ce.metadata.toUnicode),addLength1:!0,objectId:Fe}),Pe("endobj");var $e=Ee();Pe("<<"),Pe("/Descent "+Ce.metadata.decender),Pe("/CapHeight "+Ce.metadata.capHeight),Pe("/StemV "+Ce.metadata.stemV),Pe("/Type /FontDescriptor"),Pe("/FontFile2 "+ke+" 0 R"),Pe("/Flags 96"),Pe("/FontBBox "+t.API.PDFObject.convert(Ce.metadata.bbox)),Pe("/FontName /"+F(Ce.fontName)),Pe("/ItalicAngle "+Ce.metadata.italicAngle),Pe("/Ascent "+Ce.metadata.ascender),Pe(">>"),Pe("endobj"),Ce.objectNumber=Ee();for(var Be=0;Be<Ce.metadata.hmtx.widths.length;Be++)Ce.metadata.hmtx.widths[Be]=parseInt(Ce.metadata.hmtx.widths[Be]*(1e3/Ce.metadata.head.unitsPerEm));Pe("<</Subtype/TrueType/Type/Font/ToUnicode "+Fe+" 0 R/BaseFont/"+F(Ce.fontName)+"/FontDescriptor "+$e+" 0 R/Encoding/"+Ce.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(Ce.metadata.hmtx.widths)+">>"),Pe("endobj"),Ce.isAlreadyPutted=!0}})(_e)}]);var Se=function(_e){var Ae,Ce=_e.text||"",Pe=_e.x,Ee=_e.y,Oe=_e.options||{},Me=_e.mutex||{},De=Me.pdfEscape,Te=Me.activeFontKey,ke=Me.fonts,Fe=Te,$e="",Be=0,Ie="",Re=ke[Fe].encoding;if(ke[Fe].encoding!=="Identity-H")return{text:Ce,x:Pe,y:Ee,options:Oe,mutex:Me};for(Ie=Ce,Fe=Te,Array.isArray(Ce)&&(Ie=Ce[0]),Be=0;Be<Ie.length;Be+=1)ke[Fe].metadata.hasOwnProperty("cmap")&&(Ae=ke[Fe].metadata.cmap.unicode.codeMap[Ie[Be].charCodeAt(0)]),Ae||Ie[Be].charCodeAt(0)<256&&ke[Fe].metadata.hasOwnProperty("Unicode")?$e+=Ie[Be]:$e+="";var je="";return parseInt(Fe.slice(1))<14||Re==="WinAnsiEncoding"?je=De($e,Fe).split("").map(function(Ve){return Ve.charCodeAt(0).toString(16)}).join(""):Re==="Identity-H"&&(je=r($e,ke[Fe])),Me.isHex=!0,{text:je,x:Pe,y:Ee,options:Oe,mutex:Me}};e.events.push(["postProcessText",function(_e){var Ae=_e.text||"",Ce=[],Pe={text:Ae,x:_e.x,y:_e.y,options:_e.options,mutex:_e.mutex};if(Array.isArray(Ae)){var Ee=0;for(Ee=0;Ee<Ae.length;Ee+=1)Array.isArray(Ae[Ee])&&Ae[Ee].length===3?Ce.push([Se(Object.assign({},Pe,{text:Ae[Ee][0]})).text,Ae[Ee][1],Ae[Ee][2]]):Ce.push(Se(Object.assign({},Pe,{text:Ae[Ee]})).text);_e.text=Ce}else _e.text=Se(Object.assign({},Pe,{text:Ae})).text}])}(E),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,xe){return e.call(this),this.internal.vFS[r]=xe,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(E.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(xe){var Se,_e,Ae,Ce,Pe,Ee,Oe,Me=e,De=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Te=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ke={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Fe={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},$e=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Be=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Ie=!1,Re=0;this.__bidiEngine__={};var je=function(Ge){var Ye=Ge.charCodeAt(),Qe=Ye>>8,Je=Fe[Qe];return Je!==void 0?Me[256*Je+(255&Ye)]:Qe===252||Qe===253?"AL":Be.test(Qe)?"L":Qe===8?"R":"N"},Ve=function(Ge){for(var Ye,Qe=0;Qe<Ge.length;Qe++){if((Ye=je(Ge.charAt(Qe)))==="L")return!1;if(Ye==="R")return!0}return!1},He=function(Ge,Ye,Qe,Je){var ri,hi,pi,ni,di=Ye[Je];switch(di){case"L":case"R":Ie=!1;break;case"N":case"AN":break;case"EN":Ie&&(di="AN");break;case"AL":Ie=!0,di="R";break;case"WS":di="N";break;case"CS":Je<1||Je+1>=Ye.length||(ri=Qe[Je-1])!=="EN"&&ri!=="AN"||(hi=Ye[Je+1])!=="EN"&&hi!=="AN"?di="N":Ie&&(hi="AN"),di=hi===ri?hi:"N";break;case"ES":di=(ri=Je>0?Qe[Je-1]:"B")==="EN"&&Je+1<Ye.length&&Ye[Je+1]==="EN"?"EN":"N";break;case"ET":if(Je>0&&Qe[Je-1]==="EN"){di="EN";break}if(Ie){di="N";break}for(pi=Je+1,ni=Ye.length;pi<ni&&Ye[pi]==="ET";)pi++;di=pi<ni&&Ye[pi]==="EN"?"EN":"N";break;case"NSM":if(Ae&&!Ce){for(ni=Ye.length,pi=Je+1;pi<ni&&Ye[pi]==="NSM";)pi++;if(pi<ni){var fi=Ge[Je],Pi=fi>=1425&&fi<=2303||fi===64286;if(ri=Ye[pi],Pi&&(ri==="R"||ri==="AL")){di="R";break}}}di=Je<1||(ri=Ye[Je-1])==="B"?"N":Qe[Je-1];break;case"B":Ie=!1,Se=!0,di=Re;break;case"S":_e=!0,di="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Ie=!1;break;case"BN":di="N"}return di},ze=function(Ge,Ye,Qe){var Je=Ge.split("");return Qe&&Ue(Je,Qe,{hiLevel:Re}),Je.reverse(),Ye&&Ye.reverse(),Je.join("")},Ue=function(Ge,Ye,Qe){var Je,ri,hi,pi,ni,di=-1,fi=Ge.length,Pi=0,ci=[],xi=Re?Te:De,yi=[];for(Ie=!1,Se=!1,_e=!1,ri=0;ri<fi;ri++)yi[ri]=je(Ge[ri]);for(hi=0;hi<fi;hi++){if(ni=Pi,ci[hi]=He(Ge,yi,ci,hi),Je=240&(Pi=xi[ni][ke[ci[hi]]]),Pi&=15,Ye[hi]=pi=xi[Pi][5],Je>0)if(Je===16){for(ri=di;ri<hi;ri++)Ye[ri]=1;di=-1}else di=-1;if(xi[Pi][6])di===-1&&(di=hi);else if(di>-1){for(ri=di;ri<hi;ri++)Ye[ri]=pi;di=-1}yi[hi]==="B"&&(Ye[hi]=0),Qe.hiLevel|=pi}_e&&function(gi,Ai,Mi){for(var Fi=0;Fi<Mi;Fi++)if(gi[Fi]==="S"){Ai[Fi]=Re;for(var Di=Fi-1;Di>=0&&gi[Di]==="WS";Di--)Ai[Di]=Re}}(yi,Ye,fi)},We=function(Ge,Ye,Qe,Je,ri){if(!(ri.hiLevel<Ge)){if(Ge===1&&Re===1&&!Se)return Ye.reverse(),void(Qe&&Qe.reverse());for(var hi,pi,ni,di,fi=Ye.length,Pi=0;Pi<fi;){if(Je[Pi]>=Ge){for(ni=Pi+1;ni<fi&&Je[ni]>=Ge;)ni++;for(di=Pi,pi=ni-1;di<pi;di++,pi--)hi=Ye[di],Ye[di]=Ye[pi],Ye[pi]=hi,Qe&&(hi=Qe[di],Qe[di]=Qe[pi],Qe[pi]=hi);Pi=ni}Pi++}}},qe=function(Ge,Ye,Qe){var Je=Ge.split(""),ri={hiLevel:Re};return Qe||(Qe=[]),Ue(Je,Qe,ri),function(hi,pi,ni){if(ni.hiLevel!==0&&Oe)for(var di,fi=0;fi<hi.length;fi++)pi[fi]===1&&(di=$e.indexOf(hi[fi]))>=0&&(hi[fi]=$e[di+1])}(Je,Qe,ri),We(2,Je,Ye,Qe,ri),We(1,Je,Ye,Qe,ri),Je.join("")};return this.__bidiEngine__.doBidiReorder=function(Ge,Ye,Qe){if(function(ri,hi){if(hi)for(var pi=0;pi<ri.length;pi++)hi[pi]=pi;Ce===void 0&&(Ce=Ve(ri)),Ee===void 0&&(Ee=Ve(ri))}(Ge,Ye),Ae||!Pe||Ee)if(Ae&&Pe&&Ce^Ee)Re=Ce?1:0,Ge=ze(Ge,Ye,Qe);else if(!Ae&&Pe&&Ee)Re=Ce?1:0,Ge=qe(Ge,Ye,Qe),Ge=ze(Ge,Ye);else if(!Ae||Ce||Pe||Ee){if(Ae&&!Pe&&Ce^Ee)Ge=ze(Ge,Ye),Ce?(Re=0,Ge=qe(Ge,Ye,Qe)):(Re=1,Ge=qe(Ge,Ye,Qe),Ge=ze(Ge,Ye));else if(Ae&&Ce&&!Pe&&Ee)Re=1,Ge=qe(Ge,Ye,Qe),Ge=ze(Ge,Ye);else if(!Ae&&!Pe&&Ce^Ee){var Je=Oe;Ce?(Re=1,Ge=qe(Ge,Ye,Qe),Re=0,Oe=!1,Ge=qe(Ge,Ye,Qe),Oe=Je):(Re=0,Ge=qe(Ge,Ye,Qe),Ge=ze(Ge,Ye),Re=1,Oe=!1,Ge=qe(Ge,Ye,Qe),Oe=Je,Ge=ze(Ge,Ye))}}else Re=0,Ge=qe(Ge,Ye,Qe);else Re=Ce?1:0,Ge=qe(Ge,Ye,Qe);return Ge},this.__bidiEngine__.setOptions=function(Ge){Ge&&(Ae=Ge.isInputVisual,Pe=Ge.isOutputVisual,Ce=Ge.isInputRtl,Ee=Ge.isOutputRtl,Oe=Ge.isSymmetricSwapping)},this.__bidiEngine__.setOptions(xe),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(xe){var Se=xe.text,_e=(xe.x,xe.y,xe.options||{}),Ae=(xe.mutex,_e.lang,[]);if(_e.isInputVisual=typeof _e.isInputVisual!="boolean"||_e.isInputVisual,r.setOptions(_e),Object.prototype.toString.call(Se)==="[object Array]"){var Ce=0;for(Ae=[],Ce=0;Ce<Se.length;Ce+=1)Object.prototype.toString.call(Se[Ce])==="[object Array]"?Ae.push([r.doBidiReorder(Se[Ce][0]),Se[Ce][1],Se[Ce][2]]):Ae.push([r.doBidiReorder(Se[Ce])]);xe.text=Ae}else xe.text=r.doBidiReorder(Se);r.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new ne(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,xe,Se,_e;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Ae,Ce,Pe,Ee;for(Ee=[],Ae=0,Ce=(Pe=this.bbox).length;Ae<Ce;Ae++)e=Pe[Ae],Ee.push(Math.round(e*this.scaleFactor));return Ee}).call(this),this.stemV=0,this.post.exists?(xe=255&(Se=this.post.italic_angle),32768&(r=Se>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+xe)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(_e=this.familyClass)===1||_e===2||_e===3||_e===4||_e===5||_e===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,xe){var Se,_e,Ae,Ce;for(Ae=0,_e=0,Ce=(e=""+e).length;0<=Ce?_e<Ce:_e>Ce;_e=0<=Ce?++_e:--_e)Se=e.charCodeAt(_e),Ae+=this.widthOfGlyph(this.characterToGlyph(Se))+xe*(1e3/r)||0;return Ae*(r/1e3)},t.prototype.lineHeight=function(e,r){var xe;return r==null&&(r=!1),xe=r?this.lineGap:0,(this.ascender+xe-this.decender)/1e3*e},t}();var re,ne=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,xe;for(xe=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)xe[r]=String.fromCharCode(this.readByte());return xe.join("")},t.prototype.writeString=function(e){var r,xe,Se;for(Se=[],r=0,xe=e.length;0<=xe?r<xe:r>xe;r=0<=xe?++r:--r)Se.push(this.writeByte(e.charCodeAt(r)));return Se},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,xe,Se,_e,Ae,Ce,Pe;return e=this.readByte(),r=this.readByte(),xe=this.readByte(),Se=this.readByte(),_e=this.readByte(),Ae=this.readByte(),Ce=this.readByte(),Pe=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^xe)+4294967296*(255^Se)+16777216*(255^_e)+65536*(255^Ae)+256*(255^Ce)+(255^Pe)+1):72057594037927940*e+281474976710656*r+1099511627776*xe+4294967296*Se+16777216*_e+65536*Ae+256*Ce+Pe},t.prototype.writeLongLong=function(e){var r,xe;return r=Math.floor(e/4294967296),xe=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(xe>>24&255),this.writeByte(xe>>16&255),this.writeByte(xe>>8&255),this.writeByte(255&xe)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,xe;for(r=[],xe=0;0<=e?xe<e:xe>e;xe=0<=e?++xe:--xe)r.push(this.readByte());return r},t.prototype.write=function(e){var r,xe,Se,_e;for(_e=[],xe=0,Se=e.length;xe<Se;xe++)r=e[xe],_e.push(this.writeByte(r));return _e},t}(),ie=function(){var t;function e(r){var xe,Se,_e;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},Se=0,_e=this.tableCount;0<=_e?Se<_e:Se>_e;Se=0<=_e?++Se:--Se)xe={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[xe.tag]=xe}return e.prototype.encode=function(r){var xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe;for(Fe in Te=Object.keys(r).length,Pe=Math.log(2),Me=16*Math.floor(Math.log(Te)/Pe),Ae=Math.floor(Me/Pe),Oe=16*Te-Me,(Se=new ne).writeInt(this.scalarType),Se.writeShort(Te),Se.writeShort(Me),Se.writeShort(Ae),Se.writeShort(Oe),_e=16*Te,Ee=Se.pos+_e,Ce=null,ke=[],r)for(De=r[Fe],Se.writeString(Fe),Se.writeInt(t(De)),Se.writeInt(Ee),Se.writeInt(De.length),ke=ke.concat(De),Fe==="head"&&(Ce=Ee),Ee+=De.length;Ee%4;)ke.push(0),Ee++;return Se.write(ke),xe=2981146554-t(Se.data),Se.pos=Ce+8,Se.writeUInt32(xe),Se.data},t=function(r){var xe,Se,_e,Ae;for(r=ve.call(r);r.length%4;)r.push(0);for(_e=new ne(r),Se=0,xe=0,Ae=r.length;xe<Ae;xe=xe+=4)Se+=_e.readUInt32();return 4294967295&Se},e}(),ae={}.hasOwnProperty,oe=function(t,e){for(var r in e)ae.call(e,r)&&(t[r]=e[r]);function xe(){this.constructor=t}return xe.prototype=e.prototype,t.prototype=new xe,t.__super__=e.prototype,t};re=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var se=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var xe;return(xe=new ne).writeInt(this.version),xe.writeInt(this.revision),xe.writeInt(this.checkSumAdjustment),xe.writeInt(this.magicNumber),xe.writeShort(this.flags),xe.writeShort(this.unitsPerEm),xe.writeLongLong(this.created),xe.writeLongLong(this.modified),xe.writeShort(this.xMin),xe.writeShort(this.yMin),xe.writeShort(this.xMax),xe.writeShort(this.yMax),xe.writeShort(this.macStyle),xe.writeShort(this.lowestRecPPEM),xe.writeShort(this.fontDirectionHint),xe.writeShort(r),xe.writeShort(this.glyphDataFormat),xe.data},e}(),ce=function(){function t(e,r){var xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe,$e,Be,Ie,Re;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),Me=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Pe=0;Pe<256;++Pe)this.codeMap[Pe]=e.readByte();break;case 4:for(Te=e.readUInt16(),De=Te/2,e.pos+=6,_e=function(){var je,Ve;for(Ve=[],Pe=je=0;0<=De?je<De:je>De;Pe=0<=De?++je:--je)Ve.push(e.readUInt16());return Ve}(),e.pos+=2,Fe=function(){var je,Ve;for(Ve=[],Pe=je=0;0<=De?je<De:je>De;Pe=0<=De?++je:--je)Ve.push(e.readUInt16());return Ve}(),Ee=function(){var je,Ve;for(Ve=[],Pe=je=0;0<=De?je<De:je>De;Pe=0<=De?++je:--je)Ve.push(e.readUInt16());return Ve}(),Oe=function(){var je,Ve;for(Ve=[],Pe=je=0;0<=De?je<De:je>De;Pe=0<=De?++je:--je)Ve.push(e.readUInt16());return Ve}(),Se=(this.length-e.pos+this.offset)/2,Ce=function(){var je,Ve;for(Ve=[],Pe=je=0;0<=Se?je<Se:je>Se;Pe=0<=Se?++je:--je)Ve.push(e.readUInt16());return Ve}(),Pe=Be=0,Re=_e.length;Be<Re;Pe=++Be)for($e=_e[Pe],xe=Ie=ke=Fe[Pe];ke<=$e?Ie<=$e:Ie>=$e;xe=ke<=$e?++Ie:--Ie)Oe[Pe]===0?Ae=xe+Ee[Pe]:(Ae=Ce[Oe[Pe]/2+(xe-ke)-(De-Pe)]||0)!==0&&(Ae+=Ee[Pe]),this.codeMap[xe]=65535&Ae}e.pos=Me}return t.encode=function(e,r){var xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe,$e,Be,Ie,Re,je,Ve,He,ze,Ue,We,qe,Ge,Ye,Qe,Je,ri,hi,pi,ni,di,fi,Pi,ci,xi,yi,gi,Ai,Mi,Fi,Di,oi,Ke,St;switch(Je=new ne,Ae=Object.keys(e).sort(function(ei,ui){return ei-ui}),r){case"macroman":for(Fe=0,$e=function(){var ei=[];for(ke=0;ke<256;++ke)ei.push(0);return ei}(),Ie={0:0},_e={},ri=0,di=Ae.length;ri<di;ri++)Ie[Di=e[Se=Ae[ri]]]==null&&(Ie[Di]=++Fe),_e[Se]={old:e[Se],new:Ie[e[Se]]},$e[Se]=Ie[e[Se]];return Je.writeUInt16(1),Je.writeUInt16(0),Je.writeUInt32(12),Je.writeUInt16(0),Je.writeUInt16(262),Je.writeUInt16(0),Je.write($e),{charMap:_e,subtable:Je.data,maxGlyphID:Fe+1};case"unicode":for(Ye=[],Me=[],Re=0,Ie={},xe={},Be=Ee=null,hi=0,fi=Ae.length;hi<fi;hi++)Ie[Ve=e[Se=Ae[hi]]]==null&&(Ie[Ve]=++Re),xe[Se]={old:Ve,new:Ie[Ve]},Ce=Ie[Ve]-Se,Be!=null&&Ce===Ee||(Be&&Me.push(Be),Ye.push(Se),Ee=Ce),Be=Se;for(Be&&Me.push(Be),Me.push(65535),Ye.push(65535),qe=2*(We=Ye.length),Ue=2*Math.pow(Math.log(We)/Math.LN2,2),De=Math.log(Ue/2)/Math.LN2,ze=2*We-Ue,Pe=[],He=[],Te=[],ke=pi=0,Pi=Ye.length;pi<Pi;ke=++pi){if(Ge=Ye[ke],Oe=Me[ke],Ge===65535){Pe.push(0),He.push(0);break}if(Ge-(Qe=xe[Ge].new)>=32768)for(Pe.push(0),He.push(2*(Te.length+We-ke)),Se=ni=Ge;Ge<=Oe?ni<=Oe:ni>=Oe;Se=Ge<=Oe?++ni:--ni)Te.push(xe[Se].new);else Pe.push(Qe-Ge),He.push(0)}for(Je.writeUInt16(3),Je.writeUInt16(1),Je.writeUInt32(12),Je.writeUInt16(4),Je.writeUInt16(16+8*We+2*Te.length),Je.writeUInt16(0),Je.writeUInt16(qe),Je.writeUInt16(Ue),Je.writeUInt16(De),Je.writeUInt16(ze),Mi=0,ci=Me.length;Mi<ci;Mi++)Se=Me[Mi],Je.writeUInt16(Se);for(Je.writeUInt16(0),Fi=0,xi=Ye.length;Fi<xi;Fi++)Se=Ye[Fi],Je.writeUInt16(Se);for(oi=0,yi=Pe.length;oi<yi;oi++)Ce=Pe[oi],Je.writeUInt16(Ce);for(Ke=0,gi=He.length;Ke<gi;Ke++)je=He[Ke],Je.writeUInt16(je);for(St=0,Ai=Te.length;St<Ai;St++)Fe=Te[St],Je.writeUInt16(Fe);return{charMap:xe,subtable:Je.data,maxGlyphID:Re+1}}},t}(),ue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="cmap",e.prototype.parse=function(r){var xe,Se,_e;for(r.pos=this.offset,this.version=r.readUInt16(),_e=r.readUInt16(),this.tables=[],this.unicode=null,Se=0;0<=_e?Se<_e:Se>_e;Se=0<=_e?++Se:--Se)xe=new ce(r,this.offset),this.tables.push(xe),xe.isUnicode&&this.unicode==null&&(this.unicode=xe);return!0},e.encode=function(r,xe){var Se,_e;return xe==null&&(xe="macroman"),Se=ce.encode(r,xe),(_e=new ne).writeUInt16(0),_e.writeUInt16(1),Se.table=_e.data.concat(Se.subtable),Se},e}(),he=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),le=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var xe,Se;for(Se=[],xe=0;xe<10;++xe)Se.push(r.readByte());return Se}(),this.charRange=function(){var xe,Se;for(Se=[],xe=0;xe<4;++xe)Se.push(r.readInt());return Se}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var xe,Se;for(Se=[],xe=0;xe<2;xe=++xe)Se.push(r.readInt());return Se}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),fe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="post",e.prototype.parse=function(r){var xe,Se,_e;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var Ae;for(Se=r.readUInt16(),this.glyphNameIndex=[],Ae=0;0<=Se?Ae<Se:Ae>Se;Ae=0<=Se?++Ae:--Ae)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],_e=[];r.pos<this.offset+this.length;)xe=r.readByte(),_e.push(this.names.push(r.readString(xe)));return _e;case 151552:return Se=r.readUInt16(),this.offsets=r.read(Se);case 196608:break;case 262144:return this.map=(function(){var Ce,Pe,Ee;for(Ee=[],Ae=Ce=0,Pe=this.file.maxp.numGlyphs;0<=Pe?Ce<Pe:Ce>Pe;Ae=0<=Pe?++Ce:--Ce)Ee.push(r.readUInt32());return Ee}).call(this)}},e}(),de=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="name",e.prototype.parse=function(r){var xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me,De,Te;for(r.pos=this.offset,r.readShort(),xe=r.readShort(),Pe=r.readShort(),Se=[],Ae=0;0<=xe?Ae<xe:Ae>xe;Ae=0<=xe?++Ae:--Ae)Se.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+Pe+r.readShort()});for(Ee={},Ae=Me=0,De=Se.length;Me<De;Ae=++Me)_e=Se[Ae],r.pos=_e.offset,Oe=r.readString(_e.length),Ce=new de(Oe,_e),Ee[Te=_e.nameID]==null&&(Ee[Te]=[]),Ee[_e.nameID].push(Ce);this.strings=Ee,this.copyright=Ee[0],this.fontFamily=Ee[1],this.fontSubfamily=Ee[2],this.uniqueSubfamily=Ee[3],this.fontName=Ee[4],this.version=Ee[5];try{this.postscriptName=Ee[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Ee[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Ee[7],this.manufacturer=Ee[8],this.designer=Ee[9],this.description=Ee[10],this.vendorUrl=Ee[11],this.designerUrl=Ee[12],this.license=Ee[13],this.licenseUrl=Ee[14],this.preferredFamily=Ee[15],this.preferredSubfamily=Ee[17],this.compatibleFull=Ee[18],this.sampleText=Ee[19]},e}(),ge=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),me=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hmtx",e.prototype.parse=function(r){var xe,Se,_e,Ae,Ce,Pe,Ee;for(r.pos=this.offset,this.metrics=[],xe=0,Pe=this.file.hhea.numberOfMetrics;0<=Pe?xe<Pe:xe>Pe;xe=0<=Pe?++xe:--xe)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(_e=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var Oe,Me;for(Me=[],xe=Oe=0;0<=_e?Oe<_e:Oe>_e;xe=0<=_e?++Oe:--Oe)Me.push(r.readInt16());return Me}(),this.widths=(function(){var Oe,Me,De,Te;for(Te=[],Oe=0,Me=(De=this.metrics).length;Oe<Me;Oe++)Ae=De[Oe],Te.push(Ae.advance);return Te}).call(this),Se=this.widths[this.widths.length-1],Ee=[],xe=Ce=0;0<=_e?Ce<_e:Ce>_e;xe=0<=_e?++Ce:--Ce)Ee.push(this.widths.push(Se));return Ee},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),ve=[].slice,be=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me,De;return r in this.cache?this.cache[r]:(Ae=this.file.loca,xe=this.file.contents,Se=Ae.indexOf(r),(_e=Ae.lengthOf(r))===0?this.cache[r]=null:(xe.pos=this.offset+Se,Ce=(Pe=new ne(xe.read(_e))).readShort(),Oe=Pe.readShort(),De=Pe.readShort(),Ee=Pe.readShort(),Me=Pe.readShort(),this.cache[r]=Ce===-1?new we(Pe,Oe,De,Ee,Me):new ye(Pe,Ce,Oe,De,Ee,Me),this.cache[r]))},e.prototype.encode=function(r,xe,Se){var _e,Ae,Ce,Pe,Ee;for(Ce=[],Ae=[],Pe=0,Ee=xe.length;Pe<Ee;Pe++)_e=r[xe[Pe]],Ae.push(Ce.length),_e&&(Ce=Ce.concat(_e.encode(Se)));return Ae.push(Ce.length),{table:Ce,offsets:Ae}},e}(),ye=function(){function t(e,r,xe,Se,_e,Ae){this.raw=e,this.numberOfContours=r,this.xMin=xe,this.yMin=Se,this.xMax=_e,this.yMax=Ae,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),we=function(){function t(e,r,xe,Se,_e){var Ae,Ce;for(this.raw=e,this.xMin=r,this.yMin=xe,this.xMax=Se,this.yMax=_e,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Ae=this.raw;Ce=Ae.readShort(),this.glyphOffsets.push(Ae.pos),this.glyphIDs.push(Ae.readUInt16()),32&Ce;)Ae.pos+=1&Ce?4:2,128&Ce?Ae.pos+=8:64&Ce?Ae.pos+=4:8&Ce&&(Ae.pos+=2)}return t.prototype.encode=function(){var e,r,xe;for(r=new ne(ve.call(this.raw.data)),e=0,xe=this.glyphIDs.length;e<xe;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Ne=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="loca",e.prototype.parse=function(r){var xe,Se;return r.pos=this.offset,xe=this.file.head.indexToLocFormat,this.offsets=xe===0?(function(){var _e,Ae;for(Ae=[],Se=0,_e=this.length;Se<_e;Se+=2)Ae.push(2*r.readUInt16());return Ae}).call(this):(function(){var _e,Ae;for(Ae=[],Se=0,_e=this.length;Se<_e;Se+=4)Ae.push(r.readUInt32());return Ae}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,xe){for(var Se=new Uint32Array(this.offsets.length),_e=0,Ae=0,Ce=0;Ce<Se.length;++Ce)if(Se[Ce]=_e,Ae<xe.length&&xe[Ae]==Ce){++Ae,Se[Ce]=_e;var Pe=this.offsets[Ce],Ee=this.offsets[Ce+1]-Pe;Ee>0&&(_e+=Ee)}for(var Oe=new Array(4*Se.length),Me=0;Me<Se.length;++Me)Oe[4*Me+3]=255&Se[Me],Oe[4*Me+2]=(65280&Se[Me])>>8,Oe[4*Me+1]=(16711680&Se[Me])>>16,Oe[4*Me]=(4278190080&Se[Me])>>24;return Oe},e}(),Le=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,xe,Se,_e;for(r in Se=this.font.cmap.tables[0].codeMap,e={},_e=this.subset)xe=_e[r],e[r]=Se[xe];return e},t.prototype.glyphsFor=function(e){var r,xe,Se,_e,Ae,Ce,Pe;for(Se={},Ae=0,Ce=e.length;Ae<Ce;Ae++)Se[_e=e[Ae]]=this.font.glyf.glyphFor(_e);for(_e in r=[],Se)(xe=Se[_e])!=null&&xe.compound&&r.push.apply(r,xe.glyphIDs);if(r.length>0)for(_e in Pe=this.glyphsFor(r))xe=Pe[_e],Se[_e]=xe;return Se},t.prototype.encode=function(e,r){var xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me,De,Te,ke,Fe,$e,Be;for(Se in xe=ue.encode(this.generateCmap(),"unicode"),Ae=this.glyphsFor(e),Te={0:0},Be=xe.charMap)Te[(Pe=Be[Se]).old]=Pe.new;for(ke in De=xe.maxGlyphID,Ae)ke in Te||(Te[ke]=De++);return Oe=function(Ie){var Re,je;for(Re in je={},Ie)je[Ie[Re]]=Re;return je}(Te),Me=Object.keys(Oe).sort(function(Ie,Re){return Ie-Re}),Fe=function(){var Ie,Re,je;for(je=[],Ie=0,Re=Me.length;Ie<Re;Ie++)Ce=Me[Ie],je.push(Oe[Ce]);return je}(),_e=this.font.glyf.encode(Ae,Fe,Te),Ee=this.font.loca.encode(_e.offsets,Fe),$e={cmap:this.font.cmap.raw(),glyf:_e.table,loca:Ee,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&($e["OS/2"]=this.font.os2.raw()),this.font.directory.encode($e)},t}();E.API.PDFObject=function(){var t;function e(){}return t=function(r,xe){return(Array(xe+1).join("0")+r).slice(-xe)},e.convert=function(r){var xe,Se,_e,Ae;if(Array.isArray(r))return"["+function(){var Ce,Pe,Ee;for(Ee=[],Ce=0,Pe=r.length;Ce<Pe;Ce++)xe=r[Ce],Ee.push(e.convert(xe));return Ee}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(Se in _e=["<<"],r)Ae=r[Se],_e.push("/"+Se+" "+e.convert(Ae));return _e.push(">>"),_e.join(`
`)}return""+r},e}();var j=Object.defineProperty,Q=(t,e,r)=>e in t?j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,d=(t,e,r)=>(Q(t,typeof e!="symbol"?e+"":e,r),r);class J{constructor(){d(this,"controller"),d(this,"defaultController"),d(this,"_zoomRectangle"),d(this,"_model"),d(this,"_isModelInvalidated",!1),d(this,"_updateDataFlag",!1),d(this,"_rendering",!1)}get actualController(){return this.controller?this.controller:this.defaultController?this.defaultController:(this.defaultController=new PlotController,this.defaultController)}get actualModel(){return this._model}get model(){return this._model}set model(e){const r=this._model;this._model=e,this.onModelChanged(r,e)}onModelChanged(e,r){e&&e.attachPlotView(void 0),r&&r.attachPlotView(this),this.invalidatePlot(!0)}invalidatePlot(e){this._isModelInvalidated=!0,this._updateDataFlag=e||!1,this.render()}render(){const e=this._model;e&&(this._isModelInvalidated&&(e.update(this._updateDataFlag),this._isModelInvalidated=!1,this._updateDataFlag=!1),window.requestAnimationFrame(async()=>this.renderSync()))}setClipboardText(e){try{navigator.clipboard.writeText(e)}catch(r){console.error(r)}}setCursorType(e){}hideTracker(){}showTracker(e){}hideZoomRectangle(){this._zoomRectangle=void 0}showZoomRectangle(e){this._zoomRectangle=e}async renderSync(){if(this._model&&!this._rendering){this._rendering=!0;try{await this.renderOverride(this._model)}finally{this._rendering=!1}}}}function P(t){return{position:newScreenPoint(t.offsetX,t.offsetY),modifierKeys:rt(t),handled:!1}}function nt(t){const e=P(t);return e.clickCount=t.detail,e.changedButton=lt(t),e}function ot(t){const e=P(t);return e.delta=t.deltaY!=0?-t.deltaY:t.deltaX,e}function rt(t){let e=OxyModifierKeys.None;return t.ctrlKey&&(e|=OxyModifierKeys.Control),t.shiftKey&&(e|=OxyModifierKeys.Shift),t.altKey&&(e|=OxyModifierKeys.Alt),t.metaKey&&(e|=OxyModifierKeys.Windows),e}function lt(t){return t.button===0?OxyMouseButton.Left:t.button===1?OxyMouseButton.Middle:t.button===2?OxyMouseButton.Right:t.button===3?OxyMouseButton.XButton1:t.button===4?OxyMouseButton.XButton2:OxyMouseButton.None}function k(t){switch(t){case CursorType.Default:return"default";case CursorType.Pan:return"grab";case CursorType.ZoomRectangle:return"nwse-resize";case CursorType.ZoomHorizontal:return"ew-resize";case CursorType.ZoomVertical:return"ns-resize";default:return"default"}}function q(t,e){t.addEventListener("contextmenu",function(r){r.preventDefault()}),new ResizeObserver(()=>{e.invalidatePlot(!1)}).observe(t),t.onmousedown=r=>{e.actualController.handleMouseDown(e,nt(r))},t.onmousemove=r=>{e.actualController.handleMouseMove(e,P(r))},t.onmouseup=r=>{e.actualController.handleMouseUp(e,P(r))},t.onmouseenter=r=>{e.actualController.handleMouseEnter(e,P(r))},t.onmouseleave=r=>{e.actualController.handleMouseLeave(e,P(r))},t.onwheel=r=>{e.actualController.handleMouseWheel(e,ot(r))}}let O=null;function at(){if(O)return O;const t=document.createElement("canvas");if(O=t==null?void 0:t.getContext("2d"),!O)throw new Error("Could not get canvas context");return O}let V=null;const ht=(t,e,r)=>(V||(V=new D),V.convertFont(t,e,r||FontWeights.Normal));function U(t){t=t||at();function e(r,xe,Se,_e){if(!t)throw new Error("Could not get canvas context");t.font=ht(xe,Se,_e);const Ae=t.measureText(r);return newOxySize(Ae.width,Se)}return{measureText:e}}class D{convertLineJoin(e){switch(e=e||LineJoin.Miter,e){case LineJoin.Miter:return"miter";case LineJoin.Bevel:return"bevel";case LineJoin.Round:return"round"}}convertStrokeOrFillStyle(e){return OxyColorHelper.toRgba(e)}convertFont(e,r,xe){let Se="";return(xe||FontWeights.Normal)>FontWeights.Normal&&(Se+="bold "),Se+=`${r||12}px `,e&&(Se+=`"${e}" `),Se.trim()}}class ct{constructor(){d(this,"cache",new Map)}get(e){return this.cache.get(e)}set(e,r){this.cache.set(e,r)}clear(e){e?this.cache.delete(e):this.cache.clear()}}let Y=new ct;function dt(){return Y}class ut extends ClippingRenderContext{constructor(e){super(),d(this,"ctx"),d(this,"_textMeasurer"),d(this,"styleConverter",new D),d(this,"_ctxInitStyles"),d(this,"_renderContextImageCacheService"),this.canvas=e;const r=e.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.ctx=r,this._ctxInitStyles={fillStyle:r.fillStyle,strokeStyle:r.strokeStyle,lineJoin:r.lineJoin,lineWidth:r.lineWidth},this._renderContextImageCacheService=dt(),this._textMeasurer=U(r)}async drawImage(e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me){if(Oe<=0)return;this.resetStyles();const De=this.ctx,Te=await this.getOrCreateImage(e,()=>{const ke=new Blob([Uint8Array.from(e.data)],{type:"image/png"});return createImageBitmap(ke)});De.imageSmoothingEnabled=Me,De.drawImage(Te,r,xe,Se,_e,round(Ae,0),round(Ce,0),round(Pe,0),round(Ee,0))}async drawLineSegments(e,r,xe,Se,_e,Ae){if(e.length<2||OxyColorHelper.isInvisible(r)||xe==0)return;this.resetStyles();const Ce=this.ctx;Ce.beginPath(),this.applyLineStyle(r,xe,Se,_e,Ae);for(let Pe=0;Pe<e.length;Pe+=2){const Ee=e[Pe],Oe=e[Pe+1];this.drawPoints([Ee,Oe])}Ce.stroke()}async drawLine(e,r,xe,Se,_e,Ae){if(e.length<2||OxyColorHelper.isInvisible(r)||xe==0)return;this.resetStyles();const Ce=this.ctx;Ce.beginPath(),this.applyLineStyle(r,xe,Se,_e,Ae),this.drawPoints(e),Ce.stroke()}async drawPolygon(e,r,xe,Se,_e,Ae,Ce){if(OxyColorHelper.isInvisible(r)&&!(OxyColorHelper.isVisible(xe)||Se<=0)||e.length<2)return;this.resetStyles();const Pe=this.ctx;Pe.beginPath(),this.applyPolygonStyle(r,xe,Se,_e,Ae,Ce),this.drawPoints(e),Pe.closePath(),OxyColorHelper.isVisible(r)&&Pe.fill(),OxyColorHelper.isVisible(xe)&&Se>0&&Pe.stroke()}async drawPolygons(e,r,xe,Se,_e,Ae,Ce){if(OxyColorHelper.isInvisible(r)&&!(OxyColorHelper.isVisible(xe)||Se<=0)||e.length===0)return;this.resetStyles();const Pe=this.ctx;this.applyPolygonStyle(r,xe,Se,_e,Ae,Ce);for(const Ee of e)Ee.length<2||(Pe.beginPath(),this.drawPoints(Ee),Pe.closePath(),OxyColorHelper.isVisible(r)&&Pe.fill(),OxyColorHelper.isVisible(xe)&&Se>0&&Pe.stroke())}async drawText(e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe){if(!r||OxyColorHelper.isInvisible(xe))return;isNullOrUndef(Pe)&&(Pe=HorizontalAlignment.Left),isNullOrUndef(Ee)&&(Ee=VerticalAlignment.Top),this.resetStyles();const Me=this.ctx;_e=_e||12,Ae=Ae||FontWeights.Normal,this.applyTextStyle(xe,Se,_e,Ae),Me.save(),Me.translate(e.x,e.y),Ce&&Me.rotate(Ce*(Math.PI/180));const De=StringHelper.splitLines(r),Te=[];for(const $e of De){const Be=this.measureText($e,Se,_e,Ae);Te.push(Be)}const ke=Te.reduce(($e,Be)=>$e+Be.height,0);let Fe=0;Me.textBaseline="middle",Ee===VerticalAlignment.Top?Fe=0:Ee===VerticalAlignment.Middle?Fe=-ke/2:Ee===VerticalAlignment.Bottom&&(Fe=-ke);for(let $e=0;$e<De.length;$e++){const Be=De[$e];let Ie=0;const Re=Te[$e];Pe===HorizontalAlignment.Center?Ie=-Re.width/2:Pe===HorizontalAlignment.Right&&(Ie=-Re.width),Me.fillText(Be,Ie,Fe+Re.height/2,Oe==null?void 0:Oe.width),Fe+=Re.height}Me.restore()}measureText(e,r,xe,Se){return this._textMeasurer.measureText(e,r,xe,Se)}setClip(e){this.ctx.save();const r=new Path2D;r.rect(e.left,e.top,e.width,e.height),this.ctx.clip(r)}resetClip(){this.ctx.restore()}resetStyles(){const e=this.ctx;e.setLineDash([]),Object.assign(e,this._ctxInitStyles)}applyLineStyle(e,r,xe,Se,_e){const Ae=this.ctx;Se&&Se.length>0&&Ae.setLineDash(Se),Ae.lineWidth=r,Ae.lineJoin=this.styleConverter.convertLineJoin(_e),Ae.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(e)}applyPolygonStyle(e,r,xe,Se,_e,Ae){OxyColorHelper.isVisible(r)&&xe>0&&this.applyLineStyle(r,xe,Se,_e,Ae),OxyColorHelper.isVisible(e)&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(e))}applyTextStyle(e,r,xe,Se){const _e=this.ctx;_e.fillStyle=this.styleConverter.convertStrokeOrFillStyle(e),_e.font=this.styleConverter.convertFont(r,xe,Se)}drawPoints(e){this.ctx.moveTo(e[0].x,e[0].y);for(let r=1;r<e.length;r++){const xe=e[r];this.ctx.lineTo(xe.x,xe.y)}}async getOrCreateImage(e,r){const xe=OxyImageEx.from(e).getHashCode().toString(),Se=this._renderContextImageCacheService.get(xe);if(Se)return Promise.resolve(Se);const _e=await r();return this._renderContextImageCacheService.set(xe,_e),_e}}class _t extends J{constructor(e){if(super(),d(this,"_view"),d(this,"_tooltip"),d(this,"_renderContext"),d(this,"_drawCtx"),d(this,"_styleConverter",new D),this._view=e,this.setupCanvas(e),this._drawCtx=this._view.getContext("2d"),!this._drawCtx)throw new Error("Could not get 2d context");this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",this._tooltip.style.transition="transform 0.2s ease, top 0.2s ease, left 0.2s ease",document.body.appendChild(this._tooltip),this._renderContext=new ut(this._view),q(this._view,this),new ResizeObserver(()=>{this.setupCanvas(e)}).observe(e)}setupCanvas(e){const r=window.devicePixelRatio||1,xe=e.getBoundingClientRect();xe.width===0||xe.height===0||(e.width=xe.width*r,e.height=xe.height*r)}get tooltip(){return this._tooltip}get clientArea(){return newOxyRect(0,0,this._view.width,this._view.height)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(e){if(!(e!=null&&e.position))return;const r=e.toString()||"";if(r.trim().length===0)return;const{top:xe,left:Se}=this._view.getBoundingClientRect();this._tooltip.innerText=r,this._tooltip.style.top=`${xe+e.position.y}px`,this._tooltip.style.left=`${Se+e.position.x}px`,this._tooltip.style.visibility="visible"}setCursorType(e){this._view.style.cursor=k(e)}async renderOverride(e){this._drawCtx=this._view.getContext("2d");const r=window.devicePixelRatio||1;this._drawCtx.scale(r,r);const xe=this._view;if(this._drawCtx.reset(),OxyColorHelper.isUndefined(e.background)||(this._drawCtx.fillStyle=this._styleConverter.convertStrokeOrFillStyle(e.background),this._drawCtx.fillRect(0,0,xe.width,xe.height)),await e.render(this._renderContext,newOxyRect(0,0,xe.width,xe.height)),this._zoomRectangle&&OxyRectHelper.equals(this._zoomRectangle,OxyRect_Empty)){const Se=OxyColorHelper.parse("#40FFFF00"),_e=OxyColors.Black;await this._renderContext.drawRectangle(this._zoomRectangle,Se,_e,1,EdgeRenderingMode.Automatic)}}}class yt extends ClippingRenderContext{constructor(e){super(),d(this,"_pdf"),d(this,"ctx"),d(this,"_textMeasurer"),d(this,"styleConverter",new D),d(this,"_ctxInitStyles"),this._pdf=new E({unit:"px",orientation:e});const r=this._pdf.context2d;this.ctx=r,this._ctxInitStyles={fillStyle:r.fillStyle,strokeStyle:r.strokeStyle,lineJoin:r.lineJoin,lineWidth:r.lineWidth},this._textMeasurer=U()}getPdf(){return this._pdf}async drawImage(e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe,Me){if(Oe<=0)return;const De=Ae-r/Se*Pe,Te=e.width/Se*Pe,ke=Ce-xe/_e*Ee,Fe=e.height/_e*Ee;this.clearStyles(),this._pdf.addImage(Uint8Array.from(e.data),"PNG",De,ke,Te,Fe)}async drawLineSegments(e,r,xe,Se,_e,Ae){if(e.length<2||OxyColorHelper.isInvisible(r)||xe==0)return;this.clearStyles();const Ce=this.ctx;Ce.beginPath(),this.applyLineStyle(r,xe,Se,_e,Ae);for(let Pe=0;Pe<e.length;Pe+=2){const Ee=e[Pe],Oe=e[Pe+1];this.drawPoints([Ee,Oe])}Ce.stroke()}async drawLine(e,r,xe,Se,_e,Ae){if(e.length<2||OxyColorHelper.isInvisible(r)||xe==0)return;this.clearStyles();const Ce=this.ctx;Ce.beginPath(),this.applyLineStyle(r,xe,Se,_e,Ae),this.drawPoints(e),Ce.stroke()}async drawPolygon(e,r,xe,Se,_e,Ae,Ce){if(OxyColorHelper.isInvisible(r)&&!(OxyColorHelper.isVisible(xe)||Se<=0)||e.length<2)return;this.clearStyles();const Pe=OxyColorEx.fromOxyColor(r),Ee=OxyColorEx.fromOxyColor(xe),Oe=this.ctx;if(Pe.a<255||Ee.a<255){this._pdf.saveGraphicsState();let Me=1,De=1;Pe.a<255&&(Me=Pe.a/255),Ee.a<255&&(De=Ee.a/255),this._pdf.setGState(this._pdf.GState({opacity:Me,"stroke-opacity":De}))}Oe.beginPath(),this.applyPolygonStyle(r,xe,Se,_e,Ae,Ce),this.drawPoints(e),Oe.closePath(),OxyColorHelper.isVisible(r)&&Oe.fill(),OxyColorHelper.isVisible(xe)&&Se>0&&Oe.stroke(),(Pe.a<255||Ee.a<255)&&this._pdf.restoreGraphicsState()}async drawPolygons(e,r,xe,Se,_e,Ae,Ce){if(OxyColorHelper.isInvisible(r)&&!(OxyColorHelper.isVisible(xe)||Se<=0)||e.length===0)return;this.clearStyles();const Pe=this.ctx;this.applyPolygonStyle(r,xe,Se,_e,Ae,Ce);for(const Ee of e)Ee.length<2||(Pe.beginPath(),this.drawPoints(Ee),Pe.closePath(),OxyColorHelper.isVisible(r)&&Pe.fill(),OxyColorHelper.isVisible(xe)&&Se>0&&Pe.stroke())}async drawText(e,r,xe,Se,_e,Ae,Ce,Pe,Ee,Oe){if(!r||OxyColorHelper.isInvisible(xe))return;this.clearStyles(),isNullOrUndef(Pe)&&(Pe=HorizontalAlignment.Left),isNullOrUndef(Ee)&&(Ee=VerticalAlignment.Top);const Me=this.ctx;_e=_e||12,Ae=Ae||FontWeights.Normal,this.applyTextStyle(xe,Se,_e,Ae),Me.save(),Me.translate(e.x,e.y),Ce&&Me.rotate(Ce*(Math.PI/180));const De=StringHelper.splitLines(r),Te=[];for(const $e of De){const Be=this.measureText($e,Se,_e,Ae);Te.push(Be)}const ke=Te.reduce(($e,Be)=>$e+Be.height,0);let Fe=0;Me.textBaseline="middle",Ee===VerticalAlignment.Top?Fe=0:Ee===VerticalAlignment.Middle?Fe=-ke/2:Ee===VerticalAlignment.Bottom&&(Fe=-ke);for(let $e=0;$e<De.length;$e++){const Be=De[$e];let Ie=0;const Re=Te[$e];Pe===HorizontalAlignment.Center?Ie=-Re.width/2:Pe===HorizontalAlignment.Right&&(Ie=-Re.width),Me.fillText(Be,Ie,Fe+Re.height/2),Fe+=Re.height}Me.restore()}measureText(e,r,xe,Se){return this._textMeasurer.measureText(e,r,xe,Se)}setClip(e){this.ctx.save(),this.ctx.rect(e.left,e.top,e.width,e.height),this.ctx.clip()}resetClip(){this.ctx.restore()}applyLineStyle(e,r,xe,Se,_e){const Ae=this.ctx;Se&&Se.length>0&&Ae.setLineDash(Se),Ae.lineWidth=r,Ae.lineJoin=this.styleConverter.convertLineJoin(_e),Ae.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(e)}clearStyles(){this.ctx.setLineDash([])}applyPolygonStyle(e,r,xe,Se,_e,Ae){OxyColorHelper.isVisible(r)&&xe>0&&this.applyLineStyle(r,xe,Se,_e,Ae),OxyColorHelper.isVisible(e)&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(e))}applyTextStyle(e,r,xe,Se){const _e=this.ctx;_e.fillStyle=this.styleConverter.convertStrokeOrFillStyle(e),_e.font=this.styleConverter.convertFont(r,xe,Se)}drawPoints(e){this.ctx.moveTo(e[0].x,e[0].y);for(let r=1;r<e.length;r++){const xe=e[r];this.ctx.lineTo(xe.x,xe.y)}}}class vt extends J{constructor(e){super(),d(this,"_view"),d(this,"_orientation","portrait"),d(this,"_clientArea",OxyRect_Empty),this._view=e,this.calcClientArea()}get orientation(){return this._orientation}set orientation(e){e!==this._orientation&&(this._orientation=e,this.calcClientArea())}calcClientArea(){const e=new E({unit:"px",orientation:this.orientation}),r=newOxySize(e.internal.pageSize.width,e.internal.pageSize.height);e.close(),this._clientArea=OxyRectHelper.fromScreenPointAndSize(ScreenPoint_LeftTop,r)}get clientArea(){return this._clientArea}async renderOverride(e){const r=new yt(this.orientation);await e.render(r,this.clientArea);const xe=r.getPdf();xe.internal.pages.length>1&&xe.deletePage(1);const Se=xe.output("dataurlstring",{filename:e.title+".pdf"});this._view.src="",this._view.src=Se}}class wt extends J{constructor(e){super(),d(this,"_view"),d(this,"_tooltip"),d(this,"textMeasurer"),this._view=e,this.textMeasurer=U(),this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",document.body.appendChild(this._tooltip),q(this._view,this)}get tooltip(){return this._tooltip}get clientArea(){return newOxyRect(0,0,this._view.clientWidth,this._view.clientHeight)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(e){if(!(e!=null&&e.position))return;const r=e.toString()||"";if(r.trim().length===0)return;const xe=this._view.offsetTop,Se=this._view.offsetLeft;this._tooltip.innerText=r,this._tooltip.style.top=`${xe+e.position.y}px`,this._tooltip.style.left=`${Se+e.position.x}px`,this._tooltip.style.visibility="visible"}setCursorType(e){this._view.style.cursor=k(e)}async renderOverride(e){const r=this._view;this._view.innerHTML="";const xe=new SvgRenderContext(r.clientWidth,r.clientHeight,!0,this.textMeasurer,e.background);if(OxyColorHelper.isUndefined(e.background)||(this._view.style.backgroundColor=e.background.toString()),await e.render(xe,newOxyRect(0,0,r.clientWidth,r.clientHeight)),this._zoomRectangle&&OxyRectHelper.equals(this._zoomRectangle,OxyRect_Empty)){const Se=OxyColorHelper.parse("#40FFFF00"),_e=OxyColors.Black;await xe.drawRectangle(this._zoomRectangle,Se,_e,1,EdgeRenderingMode.Automatic)}xe.complete(),this._view.innerHTML=xe.getXml()}}const _hoisted_1$b={class:"w-[800px]"},_hoisted_2$9={id:"plotViewWrapper",style:{resize:"both",overflow:"auto",width:"800px",height:"600px"},class:"border border-gray-200 rounded-lg shadow p-4"},_hoisted_3$5={id:"pdfPlotView",class:"w-full h-full"},_hoisted_4$5={id:"canvasPlotView",class:"w-full h-full"},_hoisted_5$3={id:"svgPlotView",class:"w-full h-full"},_hoisted_6$2={class:"flex justify-between mt-2"},_hoisted_7$1={class:"flex items-center"},_hoisted_8$1={key:0,class:"flex"},_hoisted_9$1={key:0,class:"flex items-center"},_hoisted_10$1=createBaseVNode("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkTransposed"},"Transposed",-1),_hoisted_11={key:1,class:"flex items-center ml-2"},_hoisted_12=createBaseVNode("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkReversed"},"Reversed",-1),_sfc_main$3=defineComponent({__name:"PlotViewer",props:{exampleInfo:{}},emits:["optionsChanged"],setup(t,{emit:e}){const r=t,xe=e,Se=ref(!1),_e=ref(!1),Ae=ref(!1),Ce=ref(!1),Pe=ref("canvas"),Ee=ref(["canvas","pdf","svg"]),Oe=ref("landscape");watch([Se,Ae,Pe,Oe],()=>{Me(),xe("optionsChanged",{isTransposed:Se.value,isReversed:Ae.value,renderType:Pe})}),watch(()=>r.exampleInfo,()=>{Me()}),onMounted(()=>{Me()});async function Me(){if(!r.exampleInfo)return;const Fe=r.exampleInfo,$e=await Fe.example.model();if(!$e)return;_e.value=PlotModelUtilities.isTransposable($e),Ce.value=PlotModelUtilities.isReversible($e),Se.value&&(_e.value?PlotModelUtilities.transpose($e):Se.value=!1),Ae.value&&(Ce.value?PlotModelUtilities.reverseAllAxes($e):Ae.value=!1);const Be=ke();Be.model=$e,Fe.example.controller&&(Be.controller=Fe.example.controller());const Ie=$e.toJSON({excludeDefault:!0});console.log(safeStringify(Ie))}function De(){return document.getElementById("canvasPlotView")}let Te={};function ke(){if(Pe.value==="canvas"){const Fe="canvas";if(Te[Fe])return Te[Fe];const $e=De(),Be=new _t($e);return Te[Fe]=Be,Be}if(Pe.value==="pdf"){const Fe=Oe.value;if(Te[Fe])return Te[Fe];const $e=new vt(document.getElementById("pdfPlotView"));return $e.orientation=Oe.value,Te[Fe]=$e,$e}if(Pe.value==="svg"){const Fe="svg";let $e=Te[Fe];const Be=document.getElementById("svgPlotView");return Be.innerHTML="",$e||($e=new wt(Be),Te[Fe]=$e,$e)}throw new Error(`Unknown renderer type: ${Pe.value}`)}return(Fe,$e)=>{const Be=script$a,Ie=script$e,Re=script$f;return openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$9,[withDirectives(createBaseVNode("iframe",_hoisted_3$5,null,512),[[vShow,Pe.value==="pdf"]]),withDirectives(createBaseVNode("canvas",_hoisted_4$5,null,512),[[vShow,Pe.value==="canvas"]]),withDirectives(createBaseVNode("div",_hoisted_5$3,null,512),[[vShow,Pe.value==="svg"]])]),createBaseVNode("div",_hoisted_6$2,[createBaseVNode("div",_hoisted_7$1,[createTextVNode(" Renderer: "),createVNode(Be,{modelValue:Pe.value,"onUpdate:modelValue":$e[0]||($e[0]=je=>Pe.value=je),options:Ee.value,class:"ml-2 text-sm"},null,8,["modelValue","options"]),Pe.value==="pdf"?(openBlock(),createBlock(Ie,{key:0,modelValue:Oe.value,"onUpdate:modelValue":$e[1]||($e[1]=je=>Oe.value=je),options:["landscape","portrait"],class:"ml-4"},null,8,["modelValue"])):createCommentVNode("",!0)]),Pe.value==="canvas"||Pe.value==="svg"?(openBlock(),createElementBlock("div",_hoisted_8$1,[Fe.exampleInfo?(openBlock(),createElementBlock("div",_hoisted_9$1,[createVNode(Re,{modelValue:Se.value,"onUpdate:modelValue":$e[2]||($e[2]=je=>Se.value=je),binary:!0,disabled:!_e.value,inputId:"chkTransposed"},null,8,["modelValue","disabled"]),_hoisted_10$1])):createCommentVNode("",!0),Fe.exampleInfo?(openBlock(),createElementBlock("div",_hoisted_11,[createVNode(Re,{modelValue:Ae.value,"onUpdate:modelValue":$e[3]||($e[3]=je=>Ae.value=je),binary:!0,disabled:!Ce.value,inputId:"chkReversed"},null,8,["modelValue","disabled"]),_hoisted_12])):createCommentVNode("",!0)])):createCommentVNode("",!0)])])}}});var classes$3={root:function t(e){var r=e.props,xe=e.instance;return["p-badge p-component",{"p-badge-no-gutter":ObjectUtils.isNotEmpty(r.value)&&String(r.value).length===1,"p-badge-dot":ObjectUtils.isEmpty(r.value)&&!xe.$slots.default,"p-badge-lg":r.size==="large","p-badge-xl":r.size==="xlarge","p-badge-info":r.severity==="info","p-badge-success":r.severity==="success","p-badge-warning":r.severity==="warning","p-badge-danger":r.severity==="danger","p-badge-secondary":r.severity==="secondary","p-badge-contrast":r.severity==="contrast"}]}},BadgeStyle=BaseStyle.extend({name:"badge",classes:classes$3}),script$1$3={name:"BaseBadge",extends:script$t,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:BadgeStyle,provide:function t(){return{$parentInstance:this}}},script$9={name:"Badge",extends:script$1$3,inheritAttrs:!1};function render$8(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("span",mergeProps({class:t.cx("root")},t.ptmi("root")),[renderSlot(t.$slots,"default",{},function(){return[createTextVNode(toDisplayString(t.value),1)]})],16)}script$9.render=render$8;function _typeof$4(t){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(t)}function _defineProperty$4(t,e,r){return e=_toPropertyKey$4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$4(t){var e=_toPrimitive$4(t,"string");return _typeof$4(e)=="symbol"?e:String(e)}function _toPrimitive$4(t,e){if(_typeof$4(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$4(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var classes$2={root:function t(e){var r=e.instance,xe=e.props;return["p-button p-component",_defineProperty$4(_defineProperty$4(_defineProperty$4(_defineProperty$4(_defineProperty$4(_defineProperty$4(_defineProperty$4(_defineProperty$4({"p-button-icon-only":r.hasIcon&&!xe.label&&!xe.badge,"p-button-vertical":(xe.iconPos==="top"||xe.iconPos==="bottom")&&xe.label,"p-disabled":r.$attrs.disabled||r.$attrs.disabled===""||xe.loading,"p-button-loading":xe.loading,"p-button-loading-label-only":xe.loading&&!r.hasIcon&&xe.label,"p-button-link":xe.link},"p-button-".concat(xe.severity),xe.severity),"p-button-raised",xe.raised),"p-button-rounded",xe.rounded),"p-button-text",xe.text),"p-button-outlined",xe.outlined),"p-button-sm",xe.size==="small"),"p-button-lg",xe.size==="large"),"p-button-plain",xe.plain)]},loadingIcon:"p-button-loading-icon pi-spin",icon:function t(e){var r=e.props;return["p-button-icon",{"p-button-icon-left":r.iconPos==="left"&&r.label,"p-button-icon-right":r.iconPos==="right"&&r.label,"p-button-icon-top":r.iconPos==="top"&&r.label,"p-button-icon-bottom":r.iconPos==="bottom"&&r.label}]},label:"p-button-label"},ButtonStyle=BaseStyle.extend({name:"button",classes:classes$2}),script$1$2={name:"BaseButton",extends:script$t,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},badgeSeverity:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},style:ButtonStyle,provide:function t(){return{$parentInstance:this}}},script$8={name:"Button",extends:script$1$2,inheritAttrs:!1,methods:{getPTOptions:function t(e){var r=e==="root"?this.ptmi:this.ptm;return r(e,{context:{disabled:this.disabled}})}},computed:{disabled:function t(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function t(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function t(){return this.icon||this.$slots.icon}},components:{SpinnerIcon:script$j,Badge:script$9},directives:{ripple:Ripple}},_hoisted_1$a=["aria-label","disabled","data-p-severity"];function render$7(t,e,r,xe,Se,_e){var Ae=resolveComponent("SpinnerIcon"),Ce=resolveComponent("Badge"),Pe=resolveDirective("ripple");return withDirectives((openBlock(),createElementBlock("button",mergeProps({class:t.cx("root"),type:"button","aria-label":_e.defaultAriaLabel,disabled:_e.disabled},_e.getPTOptions("root"),{"data-p-severity":t.severity}),[renderSlot(t.$slots,"default",{},function(){return[t.loading?renderSlot(t.$slots,"loadingicon",{key:0,class:normalizeClass([t.cx("loadingIcon"),t.cx("icon")])},function(){return[t.loadingIcon?(openBlock(),createElementBlock("span",mergeProps({key:0,class:[t.cx("loadingIcon"),t.cx("icon"),t.loadingIcon]},t.ptm("loadingIcon")),null,16)):(openBlock(),createBlock(Ae,mergeProps({key:1,class:[t.cx("loadingIcon"),t.cx("icon")],spin:""},t.ptm("loadingIcon")),null,16,["class"]))]}):renderSlot(t.$slots,"icon",{key:1,class:normalizeClass([t.cx("icon")])},function(){return[t.icon?(openBlock(),createElementBlock("span",mergeProps({key:0,class:[t.cx("icon"),t.icon,t.iconClass]},t.ptm("icon")),null,16)):createCommentVNode("",!0)]}),createBaseVNode("span",mergeProps({class:t.cx("label")},t.ptm("label")),toDisplayString(t.label||""),17),t.badge?(openBlock(),createBlock(Ce,mergeProps({key:2,value:t.badge,class:t.badgeClass,severity:t.badgeSeverity,unstyled:t.unstyled},t.ptm("badge")),null,16,["value","class","severity","unstyled"])):createCommentVNode("",!0)]})],16,_hoisted_1$a)),[[Pe]])}script$8.render=render$7;var FocusTrapStyle={},BaseFocusTrap=BaseDirective.extend({style:FocusTrapStyle});function _typeof$3(t){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(t)}function ownKeys$3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$3(Object(r),!0).forEach(function(xe){_defineProperty$3(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$3(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$3(t,e,r){return e=_toPropertyKey$3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$3(t){var e=_toPrimitive$3(t,"string");return _typeof$3(e)=="symbol"?e:String(e)}function _toPrimitive$3(t,e){if(_typeof$3(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$3(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FocusTrap=BaseFocusTrap.extend("focustrap",{mounted:function t(e,r){var xe=r.value||{},Se=xe.disabled;Se||(this.createHiddenFocusableElements(e,r),this.bind(e,r),this.autoElementFocus(e,r)),e.setAttribute("data-pd-focustrap",!0),this.$el=e},updated:function t(e,r){var xe=r.value||{},Se=xe.disabled;Se&&this.unbind(e)},unmounted:function t(e){this.unbind(e)},methods:{getComputedSelector:function t(e){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(e??"")},bind:function t(e,r){var xe=this,Se=r.value||{},_e=Se.onFocusIn,Ae=Se.onFocusOut;e.$_pfocustrap_mutationobserver=new MutationObserver(function(Ce){Ce.forEach(function(Pe){if(Pe.type==="childList"&&!e.contains(document.activeElement)){var Ee=function Oe(Me){var De=DomHandler.isFocusableElement(Me)?DomHandler.isFocusableElement(Me,xe.getComputedSelector(e.$_pfocustrap_focusableselector))?Me:DomHandler.getFirstFocusableElement(e,xe.getComputedSelector(e.$_pfocustrap_focusableselector)):DomHandler.getFirstFocusableElement(Me);return ObjectUtils.isNotEmpty(De)?De:Me.nextSibling&&Oe(Me.nextSibling)};DomHandler.focus(Ee(Pe.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=function(Ce){return _e&&_e(Ce)},e.$_pfocustrap_focusoutlistener=function(Ce){return Ae&&Ae(Ce)},e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)},unbind:function t(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)},autoFocus:function t(e){this.autoElementFocus(this.$el,{value:_objectSpread$3(_objectSpread$3({},e),{},{autoFocus:!0})})},autoElementFocus:function t(e,r){var xe=r.value||{},Se=xe.autoFocusSelector,_e=Se===void 0?"":Se,Ae=xe.firstFocusableSelector,Ce=Ae===void 0?"":Ae,Pe=xe.autoFocus,Ee=Pe===void 0?!1:Pe,Oe=DomHandler.getFirstFocusableElement(e,"[autofocus]".concat(this.getComputedSelector(_e)));Ee&&!Oe&&(Oe=DomHandler.getFirstFocusableElement(e,this.getComputedSelector(Ce))),DomHandler.focus(Oe)},onFirstHiddenElementFocus:function t(e){var r,xe=e.currentTarget,Se=e.relatedTarget,_e=Se===xe.$_pfocustrap_lasthiddenfocusableelement||!((r=this.$el)!==null&&r!==void 0&&r.contains(Se))?DomHandler.getFirstFocusableElement(xe.parentElement,this.getComputedSelector(xe.$_pfocustrap_focusableselector)):xe.$_pfocustrap_lasthiddenfocusableelement;DomHandler.focus(_e)},onLastHiddenElementFocus:function t(e){var r,xe=e.currentTarget,Se=e.relatedTarget,_e=Se===xe.$_pfocustrap_firsthiddenfocusableelement||!((r=this.$el)!==null&&r!==void 0&&r.contains(Se))?DomHandler.getLastFocusableElement(xe.parentElement,this.getComputedSelector(xe.$_pfocustrap_focusableselector)):xe.$_pfocustrap_firsthiddenfocusableelement;DomHandler.focus(_e)},createHiddenFocusableElements:function t(e,r){var xe=this,Se=r.value||{},_e=Se.tabIndex,Ae=_e===void 0?0:_e,Ce=Se.firstFocusableSelector,Pe=Ce===void 0?"":Ce,Ee=Se.lastFocusableSelector,Oe=Ee===void 0?"":Ee,Me=function(Fe){return DomHandler.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:Ae,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:Fe==null?void 0:Fe.bind(xe)})},De=Me(this.onFirstHiddenElementFocus),Te=Me(this.onLastHiddenElementFocus);De.$_pfocustrap_lasthiddenfocusableelement=Te,De.$_pfocustrap_focusableselector=Pe,De.setAttribute("data-pc-section","firstfocusableelement"),Te.$_pfocustrap_firsthiddenfocusableelement=De,Te.$_pfocustrap_focusableselector=Oe,Te.setAttribute("data-pc-section","lastfocusableelement"),e.prepend(De),e.append(Te)}}}),script$7={name:"WindowMaximizeIcon",extends:script$s},_hoisted_1$9=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z",fill:"currentColor"},null,-1),_hoisted_2$8=[_hoisted_1$9];function render$6(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("svg",mergeProps({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_hoisted_2$8,16)}script$7.render=render$6;var script$6={name:"WindowMinimizeIcon",extends:script$s},_hoisted_1$8=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z",fill:"currentColor"},null,-1),_hoisted_2$7=[_hoisted_1$8];function render$5(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("svg",mergeProps({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_hoisted_2$7,16)}script$6.render=render$5;var inlineStyles={mask:function t(e){var r=e.position,xe=e.modal;return{position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:r==="left"||r==="topleft"||r==="bottomleft"?"flex-start":r==="right"||r==="topright"||r==="bottomright"?"flex-end":"center",alignItems:r==="top"||r==="topleft"||r==="topright"?"flex-start":r==="bottom"||r==="bottomleft"||r==="bottomright"?"flex-end":"center",pointerEvents:xe?"auto":"none"}},root:{display:"flex",flexDirection:"column",pointerEvents:"auto"}},classes$1={mask:function t(e){var r=e.props,xe=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"],Se=xe.find(function(_e){return _e===r.position});return["p-dialog-mask",{"p-component-overlay p-component-overlay-enter":r.modal},Se?"p-dialog-".concat(Se):""]},root:function t(e){var r=e.props,xe=e.instance;return["p-dialog p-component",{"p-dialog-rtl":r.rtl,"p-dialog-maximized":r.maximizable&&xe.maximized,"p-ripple-disabled":xe.$primevue.config.ripple===!1}]},header:"p-dialog-header",title:"p-dialog-title",icons:"p-dialog-header-icons",maximizableButton:"p-dialog-header-icon p-dialog-header-maximize p-link",maximizableIcon:"p-dialog-header-maximize-icon",closeButton:"p-dialog-header-icon p-dialog-header-close p-link",closeButtonIcon:"p-dialog-header-close-icon",content:"p-dialog-content",footer:"p-dialog-footer"},DialogStyle=BaseStyle.extend({name:"dialog",classes:classes$1,inlineStyles}),script$1$1={name:"BaseDialog",extends:script$t,props:{header:{type:null,default:null},footer:{type:null,default:null},visible:{type:Boolean,default:!1},modal:{type:Boolean,default:null},contentStyle:{type:null,default:null},contentClass:{type:String,default:null},contentProps:{type:null,default:null},rtl:{type:Boolean,default:null},maximizable:{type:Boolean,default:!1},dismissableMask:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},closeOnEscape:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!1},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},position:{type:String,default:"center"},breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0},keepInViewport:{type:Boolean,default:!0},minX:{type:Number,default:0},minY:{type:Number,default:0},appendTo:{type:[String,Object],default:"body"},closeIcon:{type:String,default:void 0},maximizeIcon:{type:String,default:void 0},minimizeIcon:{type:String,default:void 0},closeButtonProps:{type:null,default:null},_instance:null},style:DialogStyle,provide:function t(){return{$parentInstance:this}}},script$5={name:"Dialog",extends:script$1$1,inheritAttrs:!1,emits:["update:visible","show","hide","after-hide","maximize","unmaximize","dragend"],provide:function t(){var e=this;return{dialogRef:computed(function(){return e._instance})}},data:function t(){return{id:this.$attrs.id,containerVisible:this.visible,maximized:!1,focusableMax:null,focusableClose:null}},watch:{"$attrs.id":function t(e){this.id=e||UniqueComponentId()}},documentKeydownListener:null,container:null,mask:null,content:null,headerContainer:null,footerContainer:null,maximizableButton:null,closeButton:null,styleElement:null,dragging:null,documentDragListener:null,documentDragEndListener:null,lastPageX:null,lastPageY:null,updated:function t(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount:function t(){this.unbindDocumentState(),this.unbindGlobalListeners(),this.destroyStyle(),this.mask&&this.autoZIndex&&ZIndexUtils.clear(this.mask),this.container=null,this.mask=null},mounted:function t(){this.id=this.id||UniqueComponentId(),this.breakpoints&&this.createStyle()},methods:{close:function t(){this.$emit("update:visible",!1)},onBeforeEnter:function t(e){e.setAttribute(this.attributeSelector,"")},onEnter:function t(){this.$emit("show"),this.focus(),this.enableDocumentSettings(),this.bindGlobalListeners(),this.autoZIndex&&ZIndexUtils.set("modal",this.mask,this.baseZIndex+this.$primevue.config.zIndex.modal)},onBeforeLeave:function t(){this.modal&&!this.isUnstyled&&DomHandler.addClass(this.mask,"p-component-overlay-leave")},onLeave:function t(){this.$emit("hide"),this.focusableClose=null,this.focusableMax=null},onAfterLeave:function t(){this.autoZIndex&&ZIndexUtils.clear(this.mask),this.containerVisible=!1,this.unbindDocumentState(),this.unbindGlobalListeners(),this.$emit("after-hide")},onMaskClick:function t(e){this.dismissableMask&&this.modal&&this.mask===e.target&&this.close()},focus:function t(){var e=function(Se){return Se&&Se.querySelector("[autofocus]")},r=this.$slots.footer&&e(this.footerContainer);r||(r=this.$slots.header&&e(this.headerContainer),r||(r=this.$slots.default&&e(this.content),r||(this.maximizable?(this.focusableMax=!0,r=this.maximizableButton):(this.focusableClose=!0,r=this.closeButton)))),r&&DomHandler.focus(r,{focusVisible:!0})},maximize:function t(e){this.maximized?(this.maximized=!1,this.$emit("unmaximize",e)):(this.maximized=!0,this.$emit("maximize",e)),this.modal||(this.maximized?DomHandler.blockBodyScroll():DomHandler.unblockBodyScroll())},enableDocumentSettings:function t(){(this.modal||!this.modal&&this.blockScroll||this.maximizable&&this.maximized)&&DomHandler.blockBodyScroll()},unbindDocumentState:function t(){(this.modal||!this.modal&&this.blockScroll||this.maximizable&&this.maximized)&&DomHandler.unblockBodyScroll()},onKeyDown:function t(e){e.code==="Escape"&&this.closeOnEscape&&this.close()},bindDocumentKeyDownListener:function t(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener:function t(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},containerRef:function t(e){this.container=e},maskRef:function t(e){this.mask=e},contentRef:function t(e){this.content=e},headerContainerRef:function t(e){this.headerContainer=e},footerContainerRef:function t(e){this.footerContainer=e},maximizableRef:function t(e){this.maximizableButton=e},closeButtonRef:function t(e){this.closeButton=e},createStyle:function t(){if(!this.styleElement&&!this.isUnstyled){var e;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",DomHandler.setAttribute(this.styleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.head.appendChild(this.styleElement);var r="";for(var xe in this.breakpoints)r+=`
                        @media screen and (max-width: `.concat(xe,`) {
                            .p-dialog[`).concat(this.attributeSelector,`] {
                                width: `).concat(this.breakpoints[xe],` !important;
                            }
                        }
                    `);this.styleElement.innerHTML=r}},destroyStyle:function t(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},initDrag:function t(e){e.target.closest("div").getAttribute("data-pc-section")!=="icons"&&this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",document.body.setAttribute("data-p-unselectable-text","true"),!this.isUnstyled&&DomHandler.addClass(document.body,"p-unselectable-text"))},bindGlobalListeners:function t(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.closeOnEscape&&this.closable&&this.bindDocumentKeyDownListener()},unbindGlobalListeners:function t(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentKeyDownListener()},bindDocumentDragListener:function t(){var e=this;this.documentDragListener=function(r){if(e.dragging){var xe=DomHandler.getOuterWidth(e.container),Se=DomHandler.getOuterHeight(e.container),_e=r.pageX-e.lastPageX,Ae=r.pageY-e.lastPageY,Ce=e.container.getBoundingClientRect(),Pe=Ce.left+_e,Ee=Ce.top+Ae,Oe=DomHandler.getViewport(),Me=getComputedStyle(e.container),De=parseFloat(Me.marginLeft),Te=parseFloat(Me.marginTop);e.container.style.position="fixed",e.keepInViewport?(Pe>=e.minX&&Pe+xe<Oe.width&&(e.lastPageX=r.pageX,e.container.style.left=Pe-De+"px"),Ee>=e.minY&&Ee+Se<Oe.height&&(e.lastPageY=r.pageY,e.container.style.top=Ee-Te+"px")):(e.lastPageX=r.pageX,e.container.style.left=Pe-De+"px",e.lastPageY=r.pageY,e.container.style.top=Ee-Te+"px")}},window.document.addEventListener("mousemove",this.documentDragListener)},unbindDocumentDragListener:function t(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},bindDocumentDragEndListener:function t(){var e=this;this.documentDragEndListener=function(r){e.dragging&&(e.dragging=!1,document.body.removeAttribute("data-p-unselectable-text"),!e.isUnstyled&&DomHandler.removeClass(document.body,"p-unselectable-text"),e.$emit("dragend",r))},window.document.addEventListener("mouseup",this.documentDragEndListener)},unbindDocumentDragEndListener:function t(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}},computed:{maximizeIconComponent:function t(){return this.maximized?this.minimizeIcon?"span":"WindowMinimizeIcon":this.maximizeIcon?"span":"WindowMaximizeIcon"},ariaLabelledById:function t(){return this.header!=null||this.$attrs["aria-labelledby"]!==null?this.id+"_header":null},closeAriaLabel:function t(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},attributeSelector:function t(){return UniqueComponentId()}},directives:{ripple:Ripple,focustrap:FocusTrap},components:{Portal:script$b,WindowMinimizeIcon:script$6,WindowMaximizeIcon:script$7,TimesIcon:script$c}};function _typeof$2(t){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(t)}function ownKeys$2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object(r),!0).forEach(function(xe){_defineProperty$2(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$2(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$2(t,e,r){return e=_toPropertyKey$2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$2(t){var e=_toPrimitive$2(t,"string");return _typeof$2(e)=="symbol"?e:String(e)}function _toPrimitive$2(t,e){if(_typeof$2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$2(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _hoisted_1$7=["aria-labelledby","aria-modal"],_hoisted_2$6=["id"],_hoisted_3$4=["autofocus","tabindex"],_hoisted_4$4=["autofocus","aria-label"];function render$4(t,e,r,xe,Se,_e){var Ae=resolveComponent("Portal"),Ce=resolveDirective("ripple"),Pe=resolveDirective("focustrap");return openBlock(),createBlock(Ae,{appendTo:t.appendTo},{default:withCtx(function(){return[Se.containerVisible?(openBlock(),createElementBlock("div",mergeProps({key:0,ref:_e.maskRef,class:t.cx("mask"),style:t.sx("mask",!0,{position:t.position,modal:t.modal}),onClick:e[3]||(e[3]=function(){return _e.onMaskClick&&_e.onMaskClick.apply(_e,arguments)})},t.ptm("mask")),[createVNode(Transition,mergeProps({name:"p-dialog",onBeforeEnter:_e.onBeforeEnter,onEnter:_e.onEnter,onBeforeLeave:_e.onBeforeLeave,onLeave:_e.onLeave,onAfterLeave:_e.onAfterLeave,appear:""},t.ptm("transition")),{default:withCtx(function(){return[t.visible?withDirectives((openBlock(),createElementBlock("div",mergeProps({key:0,ref:_e.containerRef,class:t.cx("root"),style:t.sx("root"),role:"dialog","aria-labelledby":_e.ariaLabelledById,"aria-modal":t.modal},t.ptmi("root")),[t.$slots.container?renderSlot(t.$slots,"container",{key:0,onClose:_e.close,onMaximize:function(Oe){return _e.maximize(Oe)},closeCallback:_e.close,maximizeCallback:function(Oe){return _e.maximize(Oe)}}):(openBlock(),createElementBlock(Fragment,{key:1},[t.showHeader?(openBlock(),createElementBlock("div",mergeProps({key:0,ref:_e.headerContainerRef,class:t.cx("header"),onMousedown:e[2]||(e[2]=function(){return _e.initDrag&&_e.initDrag.apply(_e,arguments)})},t.ptm("header")),[renderSlot(t.$slots,"header",{class:normalizeClass(t.cx("title"))},function(){return[t.header?(openBlock(),createElementBlock("span",mergeProps({key:0,id:_e.ariaLabelledById,class:t.cx("title")},t.ptm("title")),toDisplayString(t.header),17,_hoisted_2$6)):createCommentVNode("",!0)]}),createBaseVNode("div",mergeProps({class:t.cx("icons")},t.ptm("icons")),[t.maximizable?withDirectives((openBlock(),createElementBlock("button",mergeProps({key:0,ref:_e.maximizableRef,autofocus:Se.focusableMax,class:t.cx("maximizableButton"),onClick:e[0]||(e[0]=function(){return _e.maximize&&_e.maximize.apply(_e,arguments)}),type:"button",tabindex:t.maximizable?"0":"-1"},t.ptm("maximizableButton"),{"data-pc-group-section":"headericon"}),[renderSlot(t.$slots,"maximizeicon",{maximized:Se.maximized,class:normalizeClass(t.cx("maximizableIcon"))},function(){return[(openBlock(),createBlock(resolveDynamicComponent(_e.maximizeIconComponent),mergeProps({class:[t.cx("maximizableIcon"),Se.maximized?t.minimizeIcon:t.maximizeIcon]},t.ptm("maximizableIcon")),null,16,["class"]))]})],16,_hoisted_3$4)),[[Ce]]):createCommentVNode("",!0),t.closable?withDirectives((openBlock(),createElementBlock("button",mergeProps({key:1,ref:_e.closeButtonRef,autofocus:Se.focusableClose,class:t.cx("closeButton"),onClick:e[1]||(e[1]=function(){return _e.close&&_e.close.apply(_e,arguments)}),"aria-label":_e.closeAriaLabel,type:"button"},_objectSpread$2(_objectSpread$2({},t.closeButtonProps),t.ptm("closeButton")),{"data-pc-group-section":"headericon"}),[renderSlot(t.$slots,"closeicon",{class:normalizeClass(t.cx("closeButtonIcon"))},function(){return[(openBlock(),createBlock(resolveDynamicComponent(t.closeIcon?"span":"TimesIcon"),mergeProps({class:[t.cx("closeButtonIcon"),t.closeIcon]},t.ptm("closeButtonIcon")),null,16,["class"]))]})],16,_hoisted_4$4)),[[Ce]]):createCommentVNode("",!0)],16)],16)):createCommentVNode("",!0),createBaseVNode("div",mergeProps({ref:_e.contentRef,class:[t.cx("content"),t.contentClass],style:t.contentStyle},_objectSpread$2(_objectSpread$2({},t.contentProps),t.ptm("content"))),[renderSlot(t.$slots,"default")],16),t.footer||t.$slots.footer?(openBlock(),createElementBlock("div",mergeProps({key:1,ref:_e.footerContainerRef,class:t.cx("footer")},t.ptm("footer")),[renderSlot(t.$slots,"footer",{},function(){return[createTextVNode(toDisplayString(t.footer),1)]})],16)):createCommentVNode("",!0)],64))],16,_hoisted_1$7)),[[Pe,{disabled:!t.modal}]]):createCommentVNode("",!0)]}),_:3},16,["onBeforeEnter","onEnter","onBeforeLeave","onLeave","onAfterLeave"])],16)):createCommentVNode("",!0)]}),_:3},8,["appendTo"])}script$5.render=render$4;var script$4={name:"ExclamationTriangleIcon",extends:script$s},_hoisted_1$6=createBaseVNode("path",{d:"M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z",fill:"currentColor"},null,-1),_hoisted_2$5=createBaseVNode("path",{d:"M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z",fill:"currentColor"},null,-1),_hoisted_3$3=createBaseVNode("path",{d:"M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z",fill:"currentColor"},null,-1),_hoisted_4$3=[_hoisted_1$6,_hoisted_2$5,_hoisted_3$3];function render$3(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("svg",mergeProps({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_hoisted_4$3,16)}script$4.render=render$3;var script$3={name:"InfoCircleIcon",extends:script$s},_hoisted_1$5=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z",fill:"currentColor"},null,-1),_hoisted_2$4=[_hoisted_1$5];function render$2(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("svg",mergeProps({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_hoisted_2$4,16)}script$3.render=render$2;var script$2={name:"TimesCircleIcon",extends:script$s},_hoisted_1$4=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),_hoisted_2$3=[_hoisted_1$4];function render$1(t,e,r,xe,Se,_e){return openBlock(),createElementBlock("svg",mergeProps({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_hoisted_2$3,16)}script$2.render=render$1;var classes={root:function t(e){var r=e.props;return"p-message p-component p-message-"+r.severity},wrapper:"p-message-wrapper",icon:"p-message-icon",text:"p-message-text",closeButton:"p-message-close p-link",closeIcon:"p-message-close-icon"},MessageStyle=BaseStyle.extend({name:"message",classes}),script$1={name:"BaseMessage",extends:script$t,props:{severity:{type:String,default:"info"},closable:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},life:{type:Number,default:3e3},icon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},closeButtonProps:{type:null,default:null}},style:MessageStyle,provide:function t(){return{$parentInstance:this}}},script={name:"Message",extends:script$1,inheritAttrs:!1,emits:["close","life-end"],timeout:null,data:function t(){return{visible:!0}},watch:{sticky:function t(e){e||this.closeAfterDelay()}},mounted:function t(){this.sticky||this.closeAfterDelay()},methods:{close:function t(e){this.visible=!1,this.$emit("close",e)},closeAfterDelay:function t(){var e=this;setTimeout(function(){e.visible=!1,e.$emit("life-end")},this.life)}},computed:{iconComponent:function t(){return{info:script$3,success:script$g,warn:script$4,error:script$2}[this.severity]},closeAriaLabel:function t(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{ripple:Ripple},components:{TimesIcon:script$c,InfoCircleIcon:script$3,CheckIcon:script$g,ExclamationTriangleIcon:script$4,TimesCircleIcon:script$2}};function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}function ownKeys$1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(r),!0).forEach(function(xe){_defineProperty$1(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty$1(t,e,r){return e=_toPropertyKey$1(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$1(t){var e=_toPrimitive$1(t,"string");return _typeof$1(e)=="symbol"?e:String(e)}function _toPrimitive$1(t,e){if(_typeof$1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof$1(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _hoisted_1$3=["aria-label"];function render(t,e,r,xe,Se,_e){var Ae=resolveComponent("TimesIcon"),Ce=resolveDirective("ripple");return openBlock(),createBlock(Transition,mergeProps({name:"p-message",appear:""},t.ptmi("transition")),{default:withCtx(function(){return[withDirectives(createBaseVNode("div",mergeProps({class:t.cx("root"),role:"alert","aria-live":"assertive","aria-atomic":"true"},t.ptm("root")),[t.$slots.container?renderSlot(t.$slots,"container",{key:0,onClose:_e.close,closeCallback:_e.close}):(openBlock(),createElementBlock("div",mergeProps({key:1,class:t.cx("wrapper")},t.ptm("wrapper")),[renderSlot(t.$slots,"messageicon",{class:"p-message-icon"},function(){return[(openBlock(),createBlock(resolveDynamicComponent(t.icon?"span":_e.iconComponent),mergeProps({class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16,["class"]))]}),createBaseVNode("div",mergeProps({class:["p-message-text",t.cx("text")]},t.ptm("text")),[renderSlot(t.$slots,"default")],16),t.closable?withDirectives((openBlock(),createElementBlock("button",mergeProps({key:0,class:t.cx("closeButton"),"aria-label":_e.closeAriaLabel,type:"button",onClick:e[0]||(e[0]=function(Pe){return _e.close(Pe)})},_objectSpread$1(_objectSpread$1(_objectSpread$1({},t.closeButtonProps),t.ptm("button")),t.ptm("closeButton"))),[renderSlot(t.$slots,"closeicon",{},function(){return[t.closeIcon?(openBlock(),createElementBlock("i",mergeProps({key:0,class:[t.cx("closeIcon"),t.closeIcon]},_objectSpread$1(_objectSpread$1({},t.ptm("buttonIcon")),t.ptm("closeIcon"))),null,16)):(openBlock(),createBlock(Ae,mergeProps({key:1,class:[t.cx("closeIcon"),t.closeIcon]},_objectSpread$1(_objectSpread$1({},t.ptm("buttonIcon")),t.ptm("closeIcon"))),null,16,["class"]))]})],16,_hoisted_1$3)),[[Ce]]):createCommentVNode("",!0)],16))],16),[[vShow,Se.visible]])]}),_:3},16)}script.render=render;const _hoisted_1$2={class:"flex",style:{height:"600px"}},_hoisted_2$2={class:"flex h-full w-full gap-x-4"},_hoisted_3$2={class:"basis-4/12"},_hoisted_4$2={class:"basis-8/12"},_hoisted_5$2={class:"w-full h-full"},_hoisted_6$1={class:"flex justify-between w-full text-sm jsontoplot-dlg"},_sfc_main$2=defineComponent({__name:"JsonToPlotDialog",props:{json:String},emits:["close"],setup(t,{emit:e}){const r=t,xe=ref(!0),Se=e,_e=ref(""),Ae=ref(""),Ce=ref(null);let Pe;watch(()=>r.json,$e=>{_e.value=$e||""},{immediate:!0}),onMounted(()=>{console.log("onMounted"),nextTick(()=>{setTimeout(()=>{_e.value&&Ee(_e.value)},300)})});function Ee($e){if(!De($e))return;const Be=PlotModelSerializer.deserialize($e);if(!Be){Ae.value="deserialize failed";return}console.log("plotModel",Be);const Ie=Oe();if(!Ie){Ae.value="can not get plotView";return}Ie.model=Be;const Re=Be.toJSON({excludeDefault:!1});console.log(safeStringify(Re))}function Oe(){if(Pe!==void 0)return Pe;const $e=Me();if($e)return Pe=new _t($e),Pe.tooltip.style.zIndex=`${new Date().getTime()}`,Pe}function Me(){return Ce.value}function De($e){let Be;try{Be=JSON.parse($e)}catch{return Ae.value="json parse failed",!1}const Ie=["DelegateAnnotation"];if(Ae.value="",Be.annotations&&Array.isArray(Be.annotations))for(const Re of Be.annotations){const je=Te(Re);if(je&&Ie.includes(je))return Ae.value=`[ ${je} ] is not deserializable`,!1}return!0}function Te($e){return $e.__oxy_element_name__}function ke(){xe.value=!1,Se("close")}function Fe(){const $e=_e.value;$e&&Ee($e)}return($e,Be)=>{const Ie=script$8,Re=script,je=script$5;return openBlock(),createBlock(je,{visible:xe.value,"onUpdate:visible":Be[1]||(Be[1]=Ve=>xe.value=Ve),onHide:ke,modal:"",header:"Json to Plot",style:{width:"80%"}},{footer:withCtx(()=>[createBaseVNode("div",_hoisted_6$1,[createVNode(Ie,{onClick:Fe,icon:"pi pi-play",label:"Run"}),Ae.value?(openBlock(),createBlock(Re,{key:0,severity:"warn",closable:!1},{default:withCtx(()=>[createTextVNode(toDisplayString(Ae.value),1)]),_:1})):createCommentVNode("",!0),createVNode(Ie,{onClick:ke,severity:"secondary"},{default:withCtx(()=>[createTextVNode("Close")]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":Be[0]||(Be[0]=Ve=>_e.value=Ve),class:"h-full w-full border p-1"}," ",512),[[vModelText,_e.value]])]),createBaseVNode("div",_hoisted_4$2,[createBaseVNode("div",_hoisted_5$2,[createBaseVNode("canvas",{ref_key:"canvas",ref:Ce,id:"canvasPlotView",class:"w-full h-full"},null,512)])])])])]),_:1},8,["visible"])}}}),_export_sfc=(t,e)=>{const r=t.__vccOpts||t;for(const[xe,Se]of e)r[xe]=Se;return r},JsonToPlotDialog=_export_sfc(_sfc_main$2,[["__scopeId","data-v-6a9394d2"]]),_hoisted_1$1={class:"flex flex-col"},_hoisted_2$1={class:"border border-gray-200 rounded-lg shadow p-1",style:{resize:"both",overflow:"hidden",width:"800px",height:"600px"}},_hoisted_3$1={class:"w-full h-full p-2",style:{resize:"none"}},_hoisted_4$1={class:"flex justify-between mt-4 items-center"},_hoisted_5$1={class:"flex items-center"},_hoisted_6={class:"flex items-center"},_hoisted_7=createBaseVNode("label",{for:"chk_def_val",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Hide Default Value",-1),_hoisted_8={class:"flex items-center ml-2"},_hoisted_9=createBaseVNode("label",{for:"chk_prettify",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Prettify",-1),_hoisted_10={class:"text-sm"},_sfc_main$1=defineComponent({__name:"JsonViewer",props:{exampleInfo:{},isActive:{type:Boolean}},setup(t){const e=ref(""),r=ref(!0),xe=ref(!0),Se=ref("Copy"),_e=ref(!1),Ae=ref(""),Ce=t;onMounted(()=>{Ce.exampleInfo&&Pe()}),watch([()=>Ce.exampleInfo,()=>Ce.isActive],()=>{Pe()}),watch([r,xe],()=>{Pe()});async function Pe(){if(!Ce.isActive){e.value="";return}if(!Ce.exampleInfo)return;const De=await Ce.exampleInfo.example.model();if(!Me(Ce.exampleInfo)){e.value="too many data points to display";return}const Te=De.toJSON({excludeDefault:xe.value});e.value=safeStringify(Te,r.value?2:void 0)}function Ee(){e.value&&(navigator.clipboard.writeText(e.value),Se.value="Copied!",setTimeout(()=>{Se.value="Copy"},2e3))}function Oe(){Ae.value=e.value,_e.value=!0}function Me(De,Te){const ke=["Performance"];return!(De.category&&ke.includes(De.category)||De.title.includes("Large Data Set"))}return(De,Te)=>{const ke=script$f,Fe=script$8;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("textarea",_hoisted_3$1,toDisplayString(e.value),1)]),createBaseVNode("div",_hoisted_4$1,[createBaseVNode("div",_hoisted_5$1,[createBaseVNode("div",_hoisted_6,[createVNode(ke,{modelValue:xe.value,"onUpdate:modelValue":Te[0]||(Te[0]=$e=>xe.value=$e),binary:!0,inputId:"chk_def_val"},null,8,["modelValue"]),_hoisted_7]),createBaseVNode("div",_hoisted_8,[createVNode(ke,{modelValue:r.value,"onUpdate:modelValue":Te[1]||(Te[1]=$e=>r.value=$e),binary:!0,inputId:"chk_prettify"},null,8,["modelValue"]),_hoisted_9])]),createBaseVNode("div",_hoisted_10,[createVNode(Fe,{onClick:Oe},{default:withCtx(()=>[createTextVNode("Json to Plot")]),_:1}),createVNode(Fe,{onClick:Ee,severity:"secondary",class:"ml-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(Se.value),1)]),_:1})])])]),_e.value?(openBlock(),createBlock(JsonToPlotDialog,{key:0,json:Ae.value,onClose:Te[2]||(Te[2]=$e=>_e.value=!1)},null,8,["json"])):createCommentVNode("",!0)],64)}}}),_withScopeId=t=>(pushScopeId("data-v-f3cd49f8"),t=t(),popScopeId(),t),_hoisted_1={class:"flex py-4"},_hoisted_2={class:"w-[350px]"},_hoisted_3={class:"overflow-x-hidden overflow-y-auto mt-4",style:{"max-height":"calc(100vh - 120px)"}},_hoisted_4={class:"flex-grow ml-4 custom-tab"},_hoisted_5=_withScopeId(()=>createBaseVNode("a",{class:"fixed bottom-2 right-2",style:{"font-size":"2rem",color:"rgb(31, 35, 40)"},href:"https://github.com/iniceice88/oxyplot-js",target:"_blank","aria-label":"View GitHub Repo"},[createBaseVNode("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},[createBaseVNode("path",{fill:"currentColor",d:"M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 0 0 6.838 9.488c.5.087.687-.213.687-.476c0-.237-.013-1.024-.013-1.862c-2.512.463-3.162-.612-3.362-1.175c-.113-.288-.6-1.175-1.025-1.413c-.35-.187-.85-.65-.013-.662c.788-.013 1.35.725 1.538 1.025c.9 1.512 2.338 1.087 2.912.825c.088-.65.35-1.087.638-1.337c-2.225-.25-4.55-1.113-4.55-4.938c0-1.088.387-1.987 1.025-2.688c-.1-.25-.45-1.275.1-2.65c0 0 .837-.262 2.75 1.026a9.28 9.28 0 0 1 2.5-.338c.85 0 1.7.112 2.5.337c1.912-1.3 2.75-1.024 2.75-1.024c.55 1.375.2 2.4.1 2.65c.637.7 1.025 1.587 1.025 2.687c0 3.838-2.337 4.688-4.562 4.938c.362.312.675.912.675 1.85c0 1.337-.013 2.412-.013 2.75c0 .262.188.574.688.474A10.016 10.016 0 0 0 22 12c0-5.525-4.475-10-10-10z"})])],-1)),_sfc_main=defineComponent({__name:"App",setup(t){window.oxyPlotImg=oxyPlotImg,dayjs.extend(duration),dayjs.extend(dayOfYear);const e=ref(null),r=ref(""),xe=ref(-1),Se=ref(0),_e=ref(""),{save:Ae,load:Ce}=useAutoSaveState(),Pe=computed(()=>{if(!_e.value)return examples;const Te=[],ke=_e.value.toLowerCase();function Fe($e,Be){return($e.category||"").toLowerCase().includes(ke)||(Be.title||"").toLowerCase().includes(ke)||($e.tags||[]).some(Ie=>Ie.toLowerCase().includes(ke))}for(const $e of examples){const Be=$e.examples.filter(Ie=>Fe($e,Ie));Be.length>0&&Te.push({category:$e.category,examples:Be})}return Te});onMounted(async()=>{const Te=Ce();if(Te){_e.value=Te.filter||"";const{category:ke,title:Fe}=Te;ke&&Fe&&Ee(ke,Fe)}});function Ee(Te,ke){const Fe=examples.find(Ie=>Ie.category===Te);if(!Fe)return;const $e=Fe.examples.find(Ie=>Ie.title===ke);if(!$e)return;Oe(Fe,$e);const Be=De($e);Be!==r.value&&(r.value=Be),xe.value=Pe.value.indexOf(Fe)}async function Oe(Te,ke){toRaw(e.value)!==ke&&(e.value=ke,dt().clear(),Ae({category:Te.category,title:ke.title,filter:_e.value}))}function Me(Te){const ke=Te.value,[Fe,$e]=ke.split("	");Ee(Fe,$e)}function De(Te){return Te.category+"	"+Te.title}return(Te,ke)=>{const Fe=script$h,$e=script$l,Be=script$m,Ie=script$o,Re=script$p;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ke[0]||(ke[0]=je=>_e.value=je),placeholder:"Filter",class:"shadow mt-2 appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[vModelText,_e.value]]),createBaseVNode("div",_hoisted_3,[createVNode(Be,{multiple:!1,"active-index":xe.value},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Pe.value,je=>(openBlock(),createBlock($e,{header:je.category,key:je.category},{default:withCtx(()=>[createVNode(Fe,{modelValue:r.value,"onUpdate:modelValue":ke[1]||(ke[1]=Ve=>r.value=Ve),options:je.examples,optionLabel:"title",onChange:Me,"option-value":De,class:"w-full text-sm border-0"},null,8,["modelValue","options"])]),_:2},1032,["header"]))),128))]),_:1},8,["active-index"])])]),createBaseVNode("div",_hoisted_4,[createVNode(Re,{activeIndex:Se.value,"onUpdate:activeIndex":ke[2]||(ke[2]=je=>Se.value=je)},{default:withCtx(()=>[createVNode(Ie,{header:"View"},{default:withCtx(()=>[createVNode(_sfc_main$3,{"example-info":e.value},null,8,["example-info"])]),_:1}),createVNode(Ie,{header:"Json"},{default:withCtx(()=>[createVNode(_sfc_main$1,{"example-info":e.value,"is-active":Se.value===1},null,8,["example-info","is-active"])]),_:1})]),_:1},8,["activeIndex"])])]),_hoisted_5],64)}}}),App=_export_sfc(_sfc_main,[["__scopeId","data-v-f3cd49f8"]]);function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(t);e&&(xe=xe.filter(function(Se){return Object.getOwnPropertyDescriptor(t,Se).enumerable})),r.push.apply(r,xe)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(xe){_defineProperty(t,xe,r[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(xe){Object.defineProperty(t,xe,Object.getOwnPropertyDescriptor(r,xe))})}return t}function _defineProperty(t,e,r){return e=_toPropertyKey(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return _typeof(e)=="symbol"?e:String(e)}function _toPrimitive(t,e){if(_typeof(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var xe=r.call(t,e||"default");if(_typeof(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var defaultOptions={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[FilterMatchMode.STARTS_WITH,FilterMatchMode.CONTAINS,FilterMatchMode.NOT_CONTAINS,FilterMatchMode.ENDS_WITH,FilterMatchMode.EQUALS,FilterMatchMode.NOT_EQUALS],numeric:[FilterMatchMode.EQUALS,FilterMatchMode.NOT_EQUALS,FilterMatchMode.LESS_THAN,FilterMatchMode.LESS_THAN_OR_EQUAL_TO,FilterMatchMode.GREATER_THAN,FilterMatchMode.GREATER_THAN_OR_EQUAL_TO],date:[FilterMatchMode.DATE_IS,FilterMatchMode.DATE_IS_NOT,FilterMatchMode.DATE_BEFORE,FilterMatchMode.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},PrimeVueSymbol=Symbol();function switchTheme(t,e,r,xe){if(t!==e){var Se=document.getElementById(r),_e=Se.cloneNode(!0),Ae=Se.getAttribute("href").replace(t,e);_e.setAttribute("id",r+"-clone"),_e.setAttribute("href",Ae),_e.addEventListener("load",function(){Se.remove(),_e.setAttribute("id",r),xe&&xe()}),Se.parentNode&&Se.parentNode.insertBefore(_e,Se.nextSibling)}}var PrimeVue={install:function t(e,r){var xe=r?_objectSpread(_objectSpread({},defaultOptions),r):_objectSpread({},defaultOptions),Se={config:reactive(xe),changeTheme:switchTheme};e.config.globalProperties.$primevue=Se,e.provide(PrimeVueSymbol,Se)}};const app=createApp(App);app.use(PrimeVue);app.mount("#app");export{_typeof$5 as _,commonjsGlobal$1 as c,getDefaultExportFromCjs$1 as g};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
