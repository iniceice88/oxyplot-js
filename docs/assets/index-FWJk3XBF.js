var bi=Object.defineProperty;var vi=(a,d,s)=>d in a?bi(a,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[d]=s;var ee=(a,d,s)=>(vi(a,typeof d!="symbol"?d+"":d,s),s),ci=(a,d,s)=>{if(!d.has(a))throw TypeError("Cannot "+s)};var wt=(a,d,s)=>(ci(a,d,"read from private field"),s?s.call(a):d.get(a)),hi=(a,d,s)=>{if(d.has(a))throw TypeError("Cannot add the same private member more than once");d instanceof WeakSet?d.add(a):d.set(a,s)},Gt=(a,d,s,m)=>(ci(a,d,"write to private field"),m?m.call(a,s):d.set(a,s),s);var di=(a,d,s)=>(ci(a,d,"access private method"),s);(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))m(f);new MutationObserver(f=>{for(const x of f)if(x.type==="childList")for(const g of x.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&m(g)}).observe(document,{childList:!0,subtree:!0});function s(f){const x={};return f.integrity&&(x.integrity=f.integrity),f.referrerPolicy&&(x.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?x.credentials="include":f.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function m(f){if(f.ep)return;f.ep=!0;const x=s(f);fetch(f.href,x)}})();function makeMap(a,d){const s=Object.create(null),m=a.split(",");for(let f=0;f<m.length;f++)s[m[f]]=!0;return d?f=>!!s[f.toLowerCase()]:f=>!!s[f]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=a=>a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&(a.charCodeAt(2)>122||a.charCodeAt(2)<97),isModelListener=a=>a.startsWith("onUpdate:"),extend$3=Object.assign,remove=(a,d)=>{const s=a.indexOf(d);s>-1&&a.splice(s,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn$2=(a,d)=>hasOwnProperty$1.call(a,d),isArray$1=Array.isArray,isMap=a=>toTypeString(a)==="[object Map]",isSet=a=>toTypeString(a)==="[object Set]",isDate=a=>toTypeString(a)==="[object Date]",isFunction=a=>typeof a=="function",isString=a=>typeof a=="string",isSymbol=a=>typeof a=="symbol",isObject=a=>a!==null&&typeof a=="object",isPromise=a=>(isObject(a)||isFunction(a))&&isFunction(a.then)&&isFunction(a.catch),objectToString$1=Object.prototype.toString,toTypeString=a=>objectToString$1.call(a),toRawType=a=>toTypeString(a).slice(8,-1),isPlainObject=a=>toTypeString(a)==="[object Object]",isIntegerKey=a=>isString(a)&&a!=="NaN"&&a[0]!=="-"&&""+parseInt(a,10)===a,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=a=>{const d=Object.create(null);return s=>d[s]||(d[s]=a(s))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(a=>a.replace(camelizeRE,(d,s)=>s?s.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(a=>a.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(a=>a.charAt(0).toUpperCase()+a.slice(1)),toHandlerKey=cacheStringFunction(a=>a?`on${capitalize(a)}`:""),hasChanged=(a,d)=>!Object.is(a,d),invokeArrayFns=(a,d)=>{for(let s=0;s<a.length;s++)a[s](d)},def=(a,d,s)=>{Object.defineProperty(a,d,{configurable:!0,enumerable:!1,value:s})},looseToNumber=a=>{const d=parseFloat(a);return isNaN(d)?a:d};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(a){if(isArray$1(a)){const d={};for(let s=0;s<a.length;s++){const m=a[s],f=isString(m)?parseStringStyle(m):normalizeStyle(m);if(f)for(const x in f)d[x]=f[x]}return d}else if(isString(a)||isObject(a))return a}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(a){const d={};return a.replace(styleCommentRE,"").split(listDelimiterRE).forEach(s=>{if(s){const m=s.split(propertyDelimiterRE);m.length>1&&(d[m[0].trim()]=m[1].trim())}}),d}function normalizeClass(a){let d="";if(isString(a))d=a;else if(isArray$1(a))for(let s=0;s<a.length;s++){const m=normalizeClass(a[s]);m&&(d+=m+" ")}else if(isObject(a))for(const s in a)a[s]&&(d+=s+" ");return d.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(a){return!!a||a===""}function looseCompareArrays(a,d){if(a.length!==d.length)return!1;let s=!0;for(let m=0;s&&m<a.length;m++)s=looseEqual(a[m],d[m]);return s}function looseEqual(a,d){if(a===d)return!0;let s=isDate(a),m=isDate(d);if(s||m)return s&&m?a.getTime()===d.getTime():!1;if(s=isSymbol(a),m=isSymbol(d),s||m)return a===d;if(s=isArray$1(a),m=isArray$1(d),s||m)return s&&m?looseCompareArrays(a,d):!1;if(s=isObject(a),m=isObject(d),s||m){if(!s||!m)return!1;const f=Object.keys(a).length,x=Object.keys(d).length;if(f!==x)return!1;for(const g in a){const w=a.hasOwnProperty(g),C=d.hasOwnProperty(g);if(w&&!C||!w&&C||!looseEqual(a[g],d[g]))return!1}}return String(a)===String(d)}function looseIndexOf(a,d){return a.findIndex(s=>looseEqual(s,d))}const toDisplayString=a=>isString(a)?a:a==null?"":isArray$1(a)||isObject(a)&&(a.toString===objectToString$1||!isFunction(a.toString))?JSON.stringify(a,replacer,2):String(a),replacer=(a,d)=>d&&d.__v_isRef?replacer(a,d.value):isMap(d)?{[`Map(${d.size})`]:[...d.entries()].reduce((s,[m,f])=>(s[`${m} =>`]=f,s),{})}:isSet(d)?{[`Set(${d.size})`]:[...d.values()]}:isObject(d)&&!isArray$1(d)&&!isPlainObject(d)?String(d):d;let activeEffectScope;class EffectScope{constructor(d=!1){this.detached=d,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!d&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(d){if(this._active){const s=activeEffectScope;try{return activeEffectScope=this,d()}finally{activeEffectScope=s}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(d){if(this._active){let s,m;for(s=0,m=this.effects.length;s<m;s++)this.effects[s].stop();for(s=0,m=this.cleanups.length;s<m;s++)this.cleanups[s]();if(this.scopes)for(s=0,m=this.scopes.length;s<m;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!d){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(a,d=activeEffectScope){d&&d.active&&d.effects.push(a)}function getCurrentScope(){return activeEffectScope}const createDep=a=>{const d=new Set(a);return d.w=0,d.n=0,d},wasTracked=a=>(a.w&trackOpBit)>0,newTracked=a=>(a.n&trackOpBit)>0,initDepMarkers=({deps:a})=>{if(a.length)for(let d=0;d<a.length;d++)a[d].w|=trackOpBit},finalizeDepMarkers=a=>{const{deps:d}=a;if(d.length){let s=0;for(let m=0;m<d.length;m++){const f=d[m];wasTracked(f)&&!newTracked(f)?f.delete(a):d[s++]=f,f.w&=~trackOpBit,f.n&=~trackOpBit}d.length=s}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(d,s=null,m){this.fn=d,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,m)}run(){if(!this.active)return this.fn();let d=activeEffect,s=shouldTrack;for(;d;){if(d===this)return;d=d.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(a){const{deps:d}=a;if(d.length){for(let s=0;s<d.length;s++)d[s].delete(a);d.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const a=trackStack.pop();shouldTrack=a===void 0?!0:a}function track(a,d,s){if(shouldTrack&&activeEffect){let m=targetMap.get(a);m||targetMap.set(a,m=new Map);let f=m.get(s);f||m.set(s,f=createDep()),trackEffects(f)}}function trackEffects(a,d){let s=!1;effectTrackDepth<=maxMarkerBits?newTracked(a)||(a.n|=trackOpBit,s=!wasTracked(a)):s=!a.has(activeEffect),s&&(a.add(activeEffect),activeEffect.deps.push(a))}function trigger(a,d,s,m,f,x){const g=targetMap.get(a);if(!g)return;let w=[];if(d==="clear")w=[...g.values()];else if(s==="length"&&isArray$1(a)){const C=Number(m);g.forEach((A,_)=>{(_==="length"||!isSymbol(_)&&_>=C)&&w.push(A)})}else switch(s!==void 0&&w.push(g.get(s)),d){case"add":isArray$1(a)?isIntegerKey(s)&&w.push(g.get("length")):(w.push(g.get(ITERATE_KEY)),isMap(a)&&w.push(g.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(a)||(w.push(g.get(ITERATE_KEY)),isMap(a)&&w.push(g.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(a)&&w.push(g.get(ITERATE_KEY));break}if(w.length===1)w[0]&&triggerEffects(w[0]);else{const C=[];for(const A of w)A&&C.push(...A);triggerEffects(createDep(C))}}function triggerEffects(a,d){const s=isArray$1(a)?a:[...a];for(const m of s)m.computed&&triggerEffect(m);for(const m of s)m.computed||triggerEffect(m)}function triggerEffect(a,d){(a!==activeEffect||a.allowRecurse)&&(a.scheduler?a.scheduler():a.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(a=>a!=="arguments"&&a!=="caller").map(a=>Symbol[a]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const a={};return["includes","indexOf","lastIndexOf"].forEach(d=>{a[d]=function(...s){const m=toRaw(this);for(let x=0,g=this.length;x<g;x++)track(m,"get",x+"");const f=m[d](...s);return f===-1||f===!1?m[d](...s.map(toRaw)):f}}),["push","pop","shift","unshift","splice"].forEach(d=>{a[d]=function(...s){pauseTracking();const m=toRaw(this)[d].apply(this,s);return resetTracking(),m}}),a}function hasOwnProperty(a){const d=toRaw(this);return track(d,"has",a),d.hasOwnProperty(a)}class BaseReactiveHandler{constructor(d=!1,s=!1){this._isReadonly=d,this._shallow=s}get(d,s,m){const f=this._isReadonly,x=this._shallow;if(s==="__v_isReactive")return!f;if(s==="__v_isReadonly")return f;if(s==="__v_isShallow")return x;if(s==="__v_raw"&&m===(f?x?shallowReadonlyMap:readonlyMap:x?shallowReactiveMap:reactiveMap).get(d))return d;const g=isArray$1(d);if(!f){if(g&&hasOwn$2(arrayInstrumentations,s))return Reflect.get(arrayInstrumentations,s,m);if(s==="hasOwnProperty")return hasOwnProperty}const w=Reflect.get(d,s,m);return(isSymbol(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(f||track(d,"get",s),x)?w:isRef(w)?g&&isIntegerKey(s)?w:w.value:isObject(w)?f?readonly(w):reactive(w):w}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(d=!1){super(!1,d)}set(d,s,m,f){let x=d[s];if(isReadonly(x)&&isRef(x)&&!isRef(m))return!1;if(!this._shallow&&(!isShallow(m)&&!isReadonly(m)&&(x=toRaw(x),m=toRaw(m)),!isArray$1(d)&&isRef(x)&&!isRef(m)))return x.value=m,!0;const g=isArray$1(d)&&isIntegerKey(s)?Number(s)<d.length:hasOwn$2(d,s),w=Reflect.set(d,s,m,f);return d===toRaw(f)&&(g?hasChanged(m,x)&&trigger(d,"set",s,m):trigger(d,"add",s,m)),w}deleteProperty(d,s){const m=hasOwn$2(d,s);d[s];const f=Reflect.deleteProperty(d,s);return f&&m&&trigger(d,"delete",s,void 0),f}has(d,s){const m=Reflect.has(d,s);return(!isSymbol(s)||!builtInSymbols.has(s))&&track(d,"has",s),m}ownKeys(d){return track(d,"iterate",isArray$1(d)?"length":ITERATE_KEY),Reflect.ownKeys(d)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(d=!1){super(!0,d)}set(d,s){return!0}deleteProperty(d,s){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=a=>a,getProto=a=>Reflect.getPrototypeOf(a);function get(a,d,s=!1,m=!1){a=a.__v_raw;const f=toRaw(a),x=toRaw(d);s||(hasChanged(d,x)&&track(f,"get",d),track(f,"get",x));const{has:g}=getProto(f),w=m?toShallow:s?toReadonly:toReactive;if(g.call(f,d))return w(a.get(d));if(g.call(f,x))return w(a.get(x));a!==f&&a.get(d)}function has(a,d=!1){const s=this.__v_raw,m=toRaw(s),f=toRaw(a);return d||(hasChanged(a,f)&&track(m,"has",a),track(m,"has",f)),a===f?s.has(a):s.has(a)||s.has(f)}function size(a,d=!1){return a=a.__v_raw,!d&&track(toRaw(a),"iterate",ITERATE_KEY),Reflect.get(a,"size",a)}function add$1(a){a=toRaw(a);const d=toRaw(this);return getProto(d).has.call(d,a)||(d.add(a),trigger(d,"add",a,a)),this}function set(a,d){d=toRaw(d);const s=toRaw(this),{has:m,get:f}=getProto(s);let x=m.call(s,a);x||(a=toRaw(a),x=m.call(s,a));const g=f.call(s,a);return s.set(a,d),x?hasChanged(d,g)&&trigger(s,"set",a,d):trigger(s,"add",a,d),this}function deleteEntry(a){const d=toRaw(this),{has:s,get:m}=getProto(d);let f=s.call(d,a);f||(a=toRaw(a),f=s.call(d,a)),m&&m.call(d,a);const x=d.delete(a);return f&&trigger(d,"delete",a,void 0),x}function clear(){const a=toRaw(this),d=a.size!==0,s=a.clear();return d&&trigger(a,"clear",void 0,void 0),s}function createForEach(a,d){return function(m,f){const x=this,g=x.__v_raw,w=toRaw(g),C=d?toShallow:a?toReadonly:toReactive;return!a&&track(w,"iterate",ITERATE_KEY),g.forEach((A,_)=>m.call(f,C(A),C(_),x))}}function createIterableMethod(a,d,s){return function(...m){const f=this.__v_raw,x=toRaw(f),g=isMap(x),w=a==="entries"||a===Symbol.iterator&&g,C=a==="keys"&&g,A=f[a](...m),_=s?toShallow:d?toReadonly:toReactive;return!d&&track(x,"iterate",C?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:M,done:P}=A.next();return P?{value:M,done:P}:{value:w?[_(M[0]),_(M[1])]:_(M),done:P}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(a){return function(...d){return a==="delete"?!1:a==="clear"?void 0:this}}function createInstrumentations(){const a={get(x){return get(this,x)},get size(){return size(this)},has,add:add$1,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},d={get(x){return get(this,x,!1,!0)},get size(){return size(this)},has,add:add$1,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},s={get(x){return get(this,x,!0)},get size(){return size(this,!0)},has(x){return has.call(this,x,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},m={get(x){return get(this,x,!0,!0)},get size(){return size(this,!0)},has(x){return has.call(this,x,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(x=>{a[x]=createIterableMethod(x,!1,!1),s[x]=createIterableMethod(x,!0,!1),d[x]=createIterableMethod(x,!1,!0),m[x]=createIterableMethod(x,!0,!0)}),[a,s,d,m]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(a,d){const s=d?a?shallowReadonlyInstrumentations:shallowInstrumentations:a?readonlyInstrumentations:mutableInstrumentations;return(m,f,x)=>f==="__v_isReactive"?!a:f==="__v_isReadonly"?a:f==="__v_raw"?m:Reflect.get(hasOwn$2(s,f)&&f in m?s:m,f,x)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(a){switch(a){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(a){return a.__v_skip||!Object.isExtensible(a)?0:targetTypeMap(toRawType(a))}function reactive(a){return isReadonly(a)?a:createReactiveObject(a,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(a){return createReactiveObject(a,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(a){return createReactiveObject(a,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(a,d,s,m,f){if(!isObject(a)||a.__v_raw&&!(d&&a.__v_isReactive))return a;const x=f.get(a);if(x)return x;const g=getTargetType(a);if(g===0)return a;const w=new Proxy(a,g===2?m:s);return f.set(a,w),w}function isReactive(a){return isReadonly(a)?isReactive(a.__v_raw):!!(a&&a.__v_isReactive)}function isReadonly(a){return!!(a&&a.__v_isReadonly)}function isShallow(a){return!!(a&&a.__v_isShallow)}function isProxy(a){return isReactive(a)||isReadonly(a)}function toRaw(a){const d=a&&a.__v_raw;return d?toRaw(d):a}function markRaw(a){return def(a,"__v_skip",!0),a}const toReactive=a=>isObject(a)?reactive(a):a,toReadonly=a=>isObject(a)?readonly(a):a;function trackRefValue(a){shouldTrack&&activeEffect&&(a=toRaw(a),trackEffects(a.dep||(a.dep=createDep())))}function triggerRefValue(a,d){a=toRaw(a);const s=a.dep;s&&triggerEffects(s)}function isRef(a){return!!(a&&a.__v_isRef===!0)}function ref(a){return createRef(a,!1)}function createRef(a,d){return isRef(a)?a:new RefImpl(a,d)}class RefImpl{constructor(d,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?d:toRaw(d),this._value=s?d:toReactive(d)}get value(){return trackRefValue(this),this._value}set value(d){const s=this.__v_isShallow||isShallow(d)||isReadonly(d);d=s?d:toRaw(d),hasChanged(d,this._rawValue)&&(this._rawValue=d,this._value=s?d:toReactive(d),triggerRefValue(this))}}function unref(a){return isRef(a)?a.value:a}const shallowUnwrapHandlers={get:(a,d,s)=>unref(Reflect.get(a,d,s)),set:(a,d,s,m)=>{const f=a[d];return isRef(f)&&!isRef(s)?(f.value=s,!0):Reflect.set(a,d,s,m)}};function proxyRefs(a){return isReactive(a)?a:new Proxy(a,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(d,s,m,f){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(d,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!f,this.__v_isReadonly=m}get value(){const d=toRaw(this);return trackRefValue(d),(d._dirty||!d._cacheable)&&(d._dirty=!1,d._value=d.effect.run()),d._value}set value(d){this._setter(d)}}function computed$1(a,d,s=!1){let m,f;const x=isFunction(a);return x?(m=a,f=NOOP):(m=a.get,f=a.set),new ComputedRefImpl(m,f,x||!f,s)}function warn(a,...d){}function callWithErrorHandling(a,d,s,m){let f;try{f=m?a(...m):a()}catch(x){handleError(x,d,s)}return f}function callWithAsyncErrorHandling(a,d,s,m){if(isFunction(a)){const x=callWithErrorHandling(a,d,s,m);return x&&isPromise(x)&&x.catch(g=>{handleError(g,d,s)}),x}const f=[];for(let x=0;x<a.length;x++)f.push(callWithAsyncErrorHandling(a[x],d,s,m));return f}function handleError(a,d,s,m=!0){const f=d?d.vnode:null;if(d){let x=d.parent;const g=d.proxy,w=s;for(;x;){const A=x.ec;if(A){for(let _=0;_<A.length;_++)if(A[_](a,g,w)===!1)return}x=x.parent}const C=d.appContext.config.errorHandler;if(C){callWithErrorHandling(C,null,10,[a,g,w]);return}}logError(a,s,f,m)}function logError(a,d,s,m=!0){console.error(a)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(a){const d=currentFlushPromise||resolvedPromise;return a?d.then(this?a.bind(this):a):d}function findInsertionIndex(a){let d=flushIndex+1,s=queue.length;for(;d<s;){const m=d+s>>>1,f=queue[m],x=getId(f);x<a||x===a&&f.pre?d=m+1:s=m}return d}function queueJob(a){(!queue.length||!queue.includes(a,isFlushing&&a.allowRecurse?flushIndex+1:flushIndex))&&(a.id==null?queue.push(a):queue.splice(findInsertionIndex(a.id),0,a),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(a){const d=queue.indexOf(a);d>flushIndex&&queue.splice(d,1)}function queuePostFlushCb(a){isArray$1(a)?pendingPostFlushCbs.push(...a):(!activePostFlushCbs||!activePostFlushCbs.includes(a,a.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(a),queueFlush()}function flushPreFlushCbs(a,d=isFlushing?flushIndex+1:0){for(;d<queue.length;d++){const s=queue[d];s&&s.pre&&(queue.splice(d,1),d--,s())}}function flushPostFlushCbs(a){if(pendingPostFlushCbs.length){const d=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...d);return}for(activePostFlushCbs=d,activePostFlushCbs.sort((s,m)=>getId(s)-getId(m)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=a=>a.id==null?1/0:a.id,comparator=(a,d)=>{const s=getId(a)-getId(d);if(s===0){if(a.pre&&!d.pre)return-1;if(d.pre&&!a.pre)return 1}return s};function flushJobs(a){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const d=queue[flushIndex];d&&d.active!==!1&&callWithErrorHandling(d,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(a,d,...s){if(a.isUnmounted)return;const m=a.vnode.props||EMPTY_OBJ;let f=s;const x=d.startsWith("update:"),g=x&&d.slice(7);if(g&&g in m){const _=`${g==="modelValue"?"model":g}Modifiers`,{number:M,trim:P}=m[_]||EMPTY_OBJ;P&&(f=s.map(D=>isString(D)?D.trim():D)),M&&(f=s.map(looseToNumber))}let w,C=m[w=toHandlerKey(d)]||m[w=toHandlerKey(camelize(d))];!C&&x&&(C=m[w=toHandlerKey(hyphenate(d))]),C&&callWithAsyncErrorHandling(C,a,6,f);const A=m[w+"Once"];if(A){if(!a.emitted)a.emitted={};else if(a.emitted[w])return;a.emitted[w]=!0,callWithAsyncErrorHandling(A,a,6,f)}}function normalizeEmitsOptions(a,d,s=!1){const m=d.emitsCache,f=m.get(a);if(f!==void 0)return f;const x=a.emits;let g={},w=!1;if(!isFunction(a)){const C=A=>{const _=normalizeEmitsOptions(A,d,!0);_&&(w=!0,extend$3(g,_))};!s&&d.mixins.length&&d.mixins.forEach(C),a.extends&&C(a.extends),a.mixins&&a.mixins.forEach(C)}return!x&&!w?(isObject(a)&&m.set(a,null),null):(isArray$1(x)?x.forEach(C=>g[C]=null):extend$3(g,x),isObject(a)&&m.set(a,g),g)}function isEmitListener(a,d){return!a||!isOn(d)?!1:(d=d.slice(2).replace(/Once$/,""),hasOwn$2(a,d[0].toLowerCase()+d.slice(1))||hasOwn$2(a,hyphenate(d))||hasOwn$2(a,d))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(a){const d=currentRenderingInstance;return currentRenderingInstance=a,currentScopeId=a&&a.type.__scopeId||null,d}function withCtx(a,d=currentRenderingInstance,s){if(!d||a._n)return a;const m=(...f)=>{m._d&&setBlockTracking(-1);const x=setCurrentRenderingInstance(d);let g;try{g=a(...f)}finally{setCurrentRenderingInstance(x),m._d&&setBlockTracking(1)}return g};return m._n=!0,m._c=!0,m._d=!0,m}function markAttrsAccessed(){}function renderComponentRoot(a){const{type:d,vnode:s,proxy:m,withProxy:f,props:x,propsOptions:[g],slots:w,attrs:C,emit:A,render:_,renderCache:M,data:P,setupState:D,ctx:E,inheritAttrs:I}=a;let B,F;const R=setCurrentRenderingInstance(a);try{if(s.shapeFlag&4){const z=f||m,G=z;B=normalizeVNode(_.call(G,z,M,x,D,P,E)),F=C}else{const z=d;B=normalizeVNode(z.length>1?z(x,{attrs:C,slots:w,emit:A}):z(x,null)),F=d.props?C:getFunctionalFallthrough(C)}}catch(z){blockStack.length=0,handleError(z,a,1),B=createVNode(Comment)}let L=B;if(F&&I!==!1){const z=Object.keys(F),{shapeFlag:G}=L;z.length&&G&7&&(g&&z.some(isModelListener)&&(F=filterModelListeners(F,g)),L=cloneVNode(L,F))}return s.dirs&&(L=cloneVNode(L),L.dirs=L.dirs?L.dirs.concat(s.dirs):s.dirs),s.transition&&(L.transition=s.transition),B=L,setCurrentRenderingInstance(R),B}const getFunctionalFallthrough=a=>{let d;for(const s in a)(s==="class"||s==="style"||isOn(s))&&((d||(d={}))[s]=a[s]);return d},filterModelListeners=(a,d)=>{const s={};for(const m in a)(!isModelListener(m)||!(m.slice(9)in d))&&(s[m]=a[m]);return s};function shouldUpdateComponent(a,d,s){const{props:m,children:f,component:x}=a,{props:g,children:w,patchFlag:C}=d,A=x.emitsOptions;if(d.dirs||d.transition)return!0;if(s&&C>=0){if(C&1024)return!0;if(C&16)return m?hasPropsChanged(m,g,A):!!g;if(C&8){const _=d.dynamicProps;for(let M=0;M<_.length;M++){const P=_[M];if(g[P]!==m[P]&&!isEmitListener(A,P))return!0}}}else return(f||w)&&(!w||!w.$stable)?!0:m===g?!1:m?g?hasPropsChanged(m,g,A):!0:!!g;return!1}function hasPropsChanged(a,d,s){const m=Object.keys(d);if(m.length!==Object.keys(a).length)return!0;for(let f=0;f<m.length;f++){const x=m[f];if(d[x]!==a[x]&&!isEmitListener(s,x))return!0}return!1}function updateHOCHostEl({vnode:a,parent:d},s){for(;d&&d.subTree===a;)(a=d.vnode).el=s,d=d.parent}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc"),isSuspense=a=>a.__isSuspense;function queueEffectWithSuspense(a,d){d&&d.pendingBranch?isArray$1(a)?d.effects.push(...a):d.effects.push(a):queuePostFlushCb(a)}function watchEffect(a,d){return doWatch(a,null,d)}const INITIAL_WATCHER_VALUE={};function watch(a,d,s){return doWatch(a,d,s)}function doWatch(a,d,{immediate:s,deep:m,flush:f,onTrack:x,onTrigger:g}=EMPTY_OBJ){var w;const C=getCurrentScope()===((w=currentInstance)==null?void 0:w.scope)?currentInstance:null;let A,_=!1,M=!1;if(isRef(a)?(A=()=>a.value,_=isShallow(a)):isReactive(a)?(A=()=>a,m=!0):isArray$1(a)?(M=!0,_=a.some(z=>isReactive(z)||isShallow(z)),A=()=>a.map(z=>{if(isRef(z))return z.value;if(isReactive(z))return traverse(z);if(isFunction(z))return callWithErrorHandling(z,C,2)})):isFunction(a)?d?A=()=>callWithErrorHandling(a,C,2):A=()=>{if(!(C&&C.isUnmounted))return P&&P(),callWithAsyncErrorHandling(a,C,3,[D])}:A=NOOP,d&&m){const z=A;A=()=>traverse(z())}let P,D=z=>{P=R.onStop=()=>{callWithErrorHandling(z,C,4),P=R.onStop=void 0}},E;if(isInSSRComponentSetup)if(D=NOOP,d?s&&callWithAsyncErrorHandling(d,C,3,[A(),M?[]:void 0,D]):A(),f==="sync"){const z=useSSRContext();E=z.__watcherHandles||(z.__watcherHandles=[])}else return NOOP;let I=M?new Array(a.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const B=()=>{if(R.active)if(d){const z=R.run();(m||_||(M?z.some((G,W)=>hasChanged(G,I[W])):hasChanged(z,I)))&&(P&&P(),callWithAsyncErrorHandling(d,C,3,[z,I===INITIAL_WATCHER_VALUE?void 0:M&&I[0]===INITIAL_WATCHER_VALUE?[]:I,D]),I=z)}else R.run()};B.allowRecurse=!!d;let F;f==="sync"?F=B:f==="post"?F=()=>queuePostRenderEffect(B,C&&C.suspense):(B.pre=!0,C&&(B.id=C.uid),F=()=>queueJob(B));const R=new ReactiveEffect(A,F);d?s?B():I=R.run():f==="post"?queuePostRenderEffect(R.run.bind(R),C&&C.suspense):R.run();const L=()=>{R.stop(),C&&C.scope&&remove(C.scope.effects,R)};return E&&E.push(L),L}function instanceWatch(a,d,s){const m=this.proxy,f=isString(a)?a.includes(".")?createPathGetter(m,a):()=>m[a]:a.bind(m,m);let x;isFunction(d)?x=d:(x=d.handler,s=d);const g=currentInstance;setCurrentInstance(this);const w=doWatch(f,x.bind(m),s);return g?setCurrentInstance(g):unsetCurrentInstance(),w}function createPathGetter(a,d){const s=d.split(".");return()=>{let m=a;for(let f=0;f<s.length&&m;f++)m=m[s[f]];return m}}function traverse(a,d){if(!isObject(a)||a.__v_skip||(d=d||new Set,d.has(a)))return a;if(d.add(a),isRef(a))traverse(a.value,d);else if(isArray$1(a))for(let s=0;s<a.length;s++)traverse(a[s],d);else if(isSet(a)||isMap(a))a.forEach(s=>{traverse(s,d)});else if(isPlainObject(a))for(const s in a)traverse(a[s],d);return a}function withDirectives(a,d){const s=currentRenderingInstance;if(s===null)return a;const m=getExposeProxy(s)||s.proxy,f=a.dirs||(a.dirs=[]);for(let x=0;x<d.length;x++){let[g,w,C,A=EMPTY_OBJ]=d[x];g&&(isFunction(g)&&(g={mounted:g,updated:g}),g.deep&&traverse(w),f.push({dir:g,instance:m,value:w,oldValue:void 0,arg:C,modifiers:A}))}return a}function invokeDirectiveHook(a,d,s,m){const f=a.dirs,x=d&&d.dirs;for(let g=0;g<f.length;g++){const w=f[g];x&&(w.oldValue=x[g].value);let C=w.dir[m];C&&(pauseTracking(),callWithAsyncErrorHandling(C,s,8,[a.el,w,a,d]),resetTracking())}}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(a,d){return isFunction(a)?extend$3({name:a.name},d,{setup:a}):a}const isAsyncWrapper=a=>!!a.type.__asyncLoader,isKeepAlive=a=>a.type.__isKeepAlive;function onActivated(a,d){registerKeepAliveHook(a,"a",d)}function onDeactivated(a,d){registerKeepAliveHook(a,"da",d)}function registerKeepAliveHook(a,d,s=currentInstance){const m=a.__wdc||(a.__wdc=()=>{let f=s;for(;f;){if(f.isDeactivated)return;f=f.parent}return a()});if(injectHook(d,m,s),s){let f=s.parent;for(;f&&f.parent;)isKeepAlive(f.parent.vnode)&&injectToKeepAliveRoot(m,d,s,f),f=f.parent}}function injectToKeepAliveRoot(a,d,s,m){const f=injectHook(d,a,m,!0);onUnmounted(()=>{remove(m[d],f)},s)}function injectHook(a,d,s=currentInstance,m=!1){if(s){const f=s[a]||(s[a]=[]),x=d.__weh||(d.__weh=(...g)=>{if(s.isUnmounted)return;pauseTracking(),setCurrentInstance(s);const w=callWithAsyncErrorHandling(d,s,a,g);return unsetCurrentInstance(),resetTracking(),w});return m?f.unshift(x):f.push(x),x}}const createHook=a=>(d,s=currentInstance)=>(!isInSSRComponentSetup||a==="sp")&&injectHook(a,(...m)=>d(...m),s),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(a,d=currentInstance){injectHook("ec",a,d)}function renderList(a,d,s,m){let f;const x=s&&s[m];if(isArray$1(a)||isString(a)){f=new Array(a.length);for(let g=0,w=a.length;g<w;g++)f[g]=d(a[g],g,void 0,x&&x[g])}else if(typeof a=="number"){f=new Array(a);for(let g=0;g<a;g++)f[g]=d(g+1,g,void 0,x&&x[g])}else if(isObject(a))if(a[Symbol.iterator])f=Array.from(a,(g,w)=>d(g,w,void 0,x&&x[w]));else{const g=Object.keys(a);f=new Array(g.length);for(let w=0,C=g.length;w<C;w++){const A=g[w];f[w]=d(a[A],A,w,x&&x[w])}}else f=[];return s&&(s[m]=f),f}const getPublicInstance=a=>a?isStatefulComponent(a)?getExposeProxy(a)||a.proxy:getPublicInstance(a.parent):null,publicPropertiesMap=extend$3(Object.create(null),{$:a=>a,$el:a=>a.vnode.el,$data:a=>a.data,$props:a=>a.props,$attrs:a=>a.attrs,$slots:a=>a.slots,$refs:a=>a.refs,$parent:a=>getPublicInstance(a.parent),$root:a=>getPublicInstance(a.root),$emit:a=>a.emit,$options:a=>resolveMergedOptions(a),$forceUpdate:a=>a.f||(a.f=()=>queueJob(a.update)),$nextTick:a=>a.n||(a.n=nextTick.bind(a.proxy)),$watch:a=>instanceWatch.bind(a)}),hasSetupBinding=(a,d)=>a!==EMPTY_OBJ&&!a.__isScriptSetup&&hasOwn$2(a,d),PublicInstanceProxyHandlers={get({_:a},d){const{ctx:s,setupState:m,data:f,props:x,accessCache:g,type:w,appContext:C}=a;let A;if(d[0]!=="$"){const D=g[d];if(D!==void 0)switch(D){case 1:return m[d];case 2:return f[d];case 4:return s[d];case 3:return x[d]}else{if(hasSetupBinding(m,d))return g[d]=1,m[d];if(f!==EMPTY_OBJ&&hasOwn$2(f,d))return g[d]=2,f[d];if((A=a.propsOptions[0])&&hasOwn$2(A,d))return g[d]=3,x[d];if(s!==EMPTY_OBJ&&hasOwn$2(s,d))return g[d]=4,s[d];shouldCacheAccess&&(g[d]=0)}}const _=publicPropertiesMap[d];let M,P;if(_)return d==="$attrs"&&track(a,"get",d),_(a);if((M=w.__cssModules)&&(M=M[d]))return M;if(s!==EMPTY_OBJ&&hasOwn$2(s,d))return g[d]=4,s[d];if(P=C.config.globalProperties,hasOwn$2(P,d))return P[d]},set({_:a},d,s){const{data:m,setupState:f,ctx:x}=a;return hasSetupBinding(f,d)?(f[d]=s,!0):m!==EMPTY_OBJ&&hasOwn$2(m,d)?(m[d]=s,!0):hasOwn$2(a.props,d)||d[0]==="$"&&d.slice(1)in a?!1:(x[d]=s,!0)},has({_:{data:a,setupState:d,accessCache:s,ctx:m,appContext:f,propsOptions:x}},g){let w;return!!s[g]||a!==EMPTY_OBJ&&hasOwn$2(a,g)||hasSetupBinding(d,g)||(w=x[0])&&hasOwn$2(w,g)||hasOwn$2(m,g)||hasOwn$2(publicPropertiesMap,g)||hasOwn$2(f.config.globalProperties,g)},defineProperty(a,d,s){return s.get!=null?a._.accessCache[d]=0:hasOwn$2(s,"value")&&this.set(a,d,s.value,null),Reflect.defineProperty(a,d,s)}};function normalizePropsOrEmits(a){return isArray$1(a)?a.reduce((d,s)=>(d[s]=null,d),{}):a}let shouldCacheAccess=!0;function applyOptions(a){const d=resolveMergedOptions(a),s=a.proxy,m=a.ctx;shouldCacheAccess=!1,d.beforeCreate&&callHook(d.beforeCreate,a,"bc");const{data:f,computed:x,methods:g,watch:w,provide:C,inject:A,created:_,beforeMount:M,mounted:P,beforeUpdate:D,updated:E,activated:I,deactivated:B,beforeDestroy:F,beforeUnmount:R,destroyed:L,unmounted:z,render:G,renderTracked:W,renderTriggered:K,errorCaptured:q,serverPrefetch:Z,expose:J,inheritAttrs:Q,components:ie,directives:se,filters:oe}=d;if(A&&resolveInjections(A,m,null),g)for(const xe in g){const ce=g[xe];isFunction(ce)&&(m[xe]=ce.bind(s))}if(f){const xe=f.call(s,s);isObject(xe)&&(a.data=reactive(xe))}if(shouldCacheAccess=!0,x)for(const xe in x){const ce=x[xe],me=isFunction(ce)?ce.bind(s,s):isFunction(ce.get)?ce.get.bind(s,s):NOOP,pe=!isFunction(ce)&&isFunction(ce.set)?ce.set.bind(s):NOOP,Se=computed({get:me,set:pe});Object.defineProperty(m,xe,{enumerable:!0,configurable:!0,get:()=>Se.value,set:Ae=>Se.value=Ae})}if(w)for(const xe in w)createWatcher(w[xe],m,s,xe);if(C){const xe=isFunction(C)?C.call(s):C;Reflect.ownKeys(xe).forEach(ce=>{provide(ce,xe[ce])})}_&&callHook(_,a,"c");function fe(xe,ce){isArray$1(ce)?ce.forEach(me=>xe(me.bind(s))):ce&&xe(ce.bind(s))}if(fe(onBeforeMount,M),fe(onMounted,P),fe(onBeforeUpdate,D),fe(onUpdated,E),fe(onActivated,I),fe(onDeactivated,B),fe(onErrorCaptured,q),fe(onRenderTracked,W),fe(onRenderTriggered,K),fe(onBeforeUnmount,R),fe(onUnmounted,z),fe(onServerPrefetch,Z),isArray$1(J))if(J.length){const xe=a.exposed||(a.exposed={});J.forEach(ce=>{Object.defineProperty(xe,ce,{get:()=>s[ce],set:me=>s[ce]=me})})}else a.exposed||(a.exposed={});G&&a.render===NOOP&&(a.render=G),Q!=null&&(a.inheritAttrs=Q),ie&&(a.components=ie),se&&(a.directives=se)}function resolveInjections(a,d,s=NOOP){isArray$1(a)&&(a=normalizeInject(a));for(const m in a){const f=a[m];let x;isObject(f)?"default"in f?x=inject(f.from||m,f.default,!0):x=inject(f.from||m):x=inject(f),isRef(x)?Object.defineProperty(d,m,{enumerable:!0,configurable:!0,get:()=>x.value,set:g=>x.value=g}):d[m]=x}}function callHook(a,d,s){callWithAsyncErrorHandling(isArray$1(a)?a.map(m=>m.bind(d.proxy)):a.bind(d.proxy),d,s)}function createWatcher(a,d,s,m){const f=m.includes(".")?createPathGetter(s,m):()=>s[m];if(isString(a)){const x=d[a];isFunction(x)&&watch(f,x)}else if(isFunction(a))watch(f,a.bind(s));else if(isObject(a))if(isArray$1(a))a.forEach(x=>createWatcher(x,d,s,m));else{const x=isFunction(a.handler)?a.handler.bind(s):d[a.handler];isFunction(x)&&watch(f,x,a)}}function resolveMergedOptions(a){const d=a.type,{mixins:s,extends:m}=d,{mixins:f,optionsCache:x,config:{optionMergeStrategies:g}}=a.appContext,w=x.get(d);let C;return w?C=w:!f.length&&!s&&!m?C=d:(C={},f.length&&f.forEach(A=>mergeOptions(C,A,g,!0)),mergeOptions(C,d,g)),isObject(d)&&x.set(d,C),C}function mergeOptions(a,d,s,m=!1){const{mixins:f,extends:x}=d;x&&mergeOptions(a,x,s,!0),f&&f.forEach(g=>mergeOptions(a,g,s,!0));for(const g in d)if(!(m&&g==="expose")){const w=internalOptionMergeStrats[g]||s&&s[g];a[g]=w?w(a[g],d[g]):d[g]}return a}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(a,d){return d?a?function(){return extend$3(isFunction(a)?a.call(this,this):a,isFunction(d)?d.call(this,this):d)}:d:a}function mergeInject(a,d){return mergeObjectOptions(normalizeInject(a),normalizeInject(d))}function normalizeInject(a){if(isArray$1(a)){const d={};for(let s=0;s<a.length;s++)d[a[s]]=a[s];return d}return a}function mergeAsArray(a,d){return a?[...new Set([].concat(a,d))]:d}function mergeObjectOptions(a,d){return a?extend$3(Object.create(null),a,d):d}function mergeEmitsOrPropsOptions(a,d){return a?isArray$1(a)&&isArray$1(d)?[...new Set([...a,...d])]:extend$3(Object.create(null),normalizePropsOrEmits(a),normalizePropsOrEmits(d??{})):d}function mergeWatchOptions(a,d){if(!a)return d;if(!d)return a;const s=extend$3(Object.create(null),a);for(const m in d)s[m]=mergeAsArray(a[m],d[m]);return s}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(a,d){return function(m,f=null){isFunction(m)||(m=extend$3({},m)),f!=null&&!isObject(f)&&(f=null);const x=createAppContext(),g=new WeakSet;let w=!1;const C=x.app={_uid:uid$1++,_component:m,_props:f,_container:null,_context:x,_instance:null,version:version$1,get config(){return x.config},set config(A){},use(A,..._){return g.has(A)||(A&&isFunction(A.install)?(g.add(A),A.install(C,..._)):isFunction(A)&&(g.add(A),A(C,..._))),C},mixin(A){return x.mixins.includes(A)||x.mixins.push(A),C},component(A,_){return _?(x.components[A]=_,C):x.components[A]},directive(A,_){return _?(x.directives[A]=_,C):x.directives[A]},mount(A,_,M){if(!w){const P=createVNode(m,f);return P.appContext=x,_&&d?d(P,A):a(P,A,M),w=!0,C._container=A,A.__vue_app__=C,getExposeProxy(P.component)||P.component.proxy}},unmount(){w&&(a(null,C._container),delete C._container.__vue_app__)},provide(A,_){return x.provides[A]=_,C},runWithContext(A){currentApp=C;try{return A()}finally{currentApp=null}}};return C}}let currentApp=null;function provide(a,d){if(currentInstance){let s=currentInstance.provides;const m=currentInstance.parent&&currentInstance.parent.provides;m===s&&(s=currentInstance.provides=Object.create(m)),s[a]=d}}function inject(a,d,s=!1){const m=currentInstance||currentRenderingInstance;if(m||currentApp){const f=m?m.parent==null?m.vnode.appContext&&m.vnode.appContext.provides:m.parent.provides:currentApp._context.provides;if(f&&a in f)return f[a];if(arguments.length>1)return s&&isFunction(d)?d.call(m&&m.proxy):d}}function initProps(a,d,s,m=!1){const f={},x={};def(x,InternalObjectKey,1),a.propsDefaults=Object.create(null),setFullProps(a,d,f,x);for(const g in a.propsOptions[0])g in f||(f[g]=void 0);s?a.props=m?f:shallowReactive(f):a.type.props?a.props=f:a.props=x,a.attrs=x}function updateProps(a,d,s,m){const{props:f,attrs:x,vnode:{patchFlag:g}}=a,w=toRaw(f),[C]=a.propsOptions;let A=!1;if((m||g>0)&&!(g&16)){if(g&8){const _=a.vnode.dynamicProps;for(let M=0;M<_.length;M++){let P=_[M];if(isEmitListener(a.emitsOptions,P))continue;const D=d[P];if(C)if(hasOwn$2(x,P))D!==x[P]&&(x[P]=D,A=!0);else{const E=camelize(P);f[E]=resolvePropValue(C,w,E,D,a,!1)}else D!==x[P]&&(x[P]=D,A=!0)}}}else{setFullProps(a,d,f,x)&&(A=!0);let _;for(const M in w)(!d||!hasOwn$2(d,M)&&((_=hyphenate(M))===M||!hasOwn$2(d,_)))&&(C?s&&(s[M]!==void 0||s[_]!==void 0)&&(f[M]=resolvePropValue(C,w,M,void 0,a,!0)):delete f[M]);if(x!==w)for(const M in x)(!d||!hasOwn$2(d,M))&&(delete x[M],A=!0)}A&&trigger(a,"set","$attrs")}function setFullProps(a,d,s,m){const[f,x]=a.propsOptions;let g=!1,w;if(d)for(let C in d){if(isReservedProp(C))continue;const A=d[C];let _;f&&hasOwn$2(f,_=camelize(C))?!x||!x.includes(_)?s[_]=A:(w||(w={}))[_]=A:isEmitListener(a.emitsOptions,C)||(!(C in m)||A!==m[C])&&(m[C]=A,g=!0)}if(x){const C=toRaw(s),A=w||EMPTY_OBJ;for(let _=0;_<x.length;_++){const M=x[_];s[M]=resolvePropValue(f,C,M,A[M],a,!hasOwn$2(A,M))}}return g}function resolvePropValue(a,d,s,m,f,x){const g=a[s];if(g!=null){const w=hasOwn$2(g,"default");if(w&&m===void 0){const C=g.default;if(g.type!==Function&&!g.skipFactory&&isFunction(C)){const{propsDefaults:A}=f;s in A?m=A[s]:(setCurrentInstance(f),m=A[s]=C.call(null,d),unsetCurrentInstance())}else m=C}g[0]&&(x&&!w?m=!1:g[1]&&(m===""||m===hyphenate(s))&&(m=!0))}return m}function normalizePropsOptions(a,d,s=!1){const m=d.propsCache,f=m.get(a);if(f)return f;const x=a.props,g={},w=[];let C=!1;if(!isFunction(a)){const _=M=>{C=!0;const[P,D]=normalizePropsOptions(M,d,!0);extend$3(g,P),D&&w.push(...D)};!s&&d.mixins.length&&d.mixins.forEach(_),a.extends&&_(a.extends),a.mixins&&a.mixins.forEach(_)}if(!x&&!C)return isObject(a)&&m.set(a,EMPTY_ARR),EMPTY_ARR;if(isArray$1(x))for(let _=0;_<x.length;_++){const M=camelize(x[_]);validatePropName(M)&&(g[M]=EMPTY_OBJ)}else if(x)for(const _ in x){const M=camelize(_);if(validatePropName(M)){const P=x[_],D=g[M]=isArray$1(P)||isFunction(P)?{type:P}:extend$3({},P);if(D){const E=getTypeIndex(Boolean,D.type),I=getTypeIndex(String,D.type);D[0]=E>-1,D[1]=I<0||E<I,(E>-1||hasOwn$2(D,"default"))&&w.push(M)}}}const A=[g,w];return isObject(a)&&m.set(a,A),A}function validatePropName(a){return a[0]!=="$"}function getType$1(a){const d=a&&a.toString().match(/^\s*(function|class) (\w+)/);return d?d[2]:a===null?"null":""}function isSameType(a,d){return getType$1(a)===getType$1(d)}function getTypeIndex(a,d){return isArray$1(d)?d.findIndex(s=>isSameType(s,a)):isFunction(d)&&isSameType(d,a)?0:-1}const isInternalKey=a=>a[0]==="_"||a==="$stable",normalizeSlotValue=a=>isArray$1(a)?a.map(normalizeVNode):[normalizeVNode(a)],normalizeSlot=(a,d,s)=>{if(d._n)return d;const m=withCtx((...f)=>normalizeSlotValue(d(...f)),s);return m._c=!1,m},normalizeObjectSlots=(a,d,s)=>{const m=a._ctx;for(const f in a){if(isInternalKey(f))continue;const x=a[f];if(isFunction(x))d[f]=normalizeSlot(f,x,m);else if(x!=null){const g=normalizeSlotValue(x);d[f]=()=>g}}},normalizeVNodeSlots=(a,d)=>{const s=normalizeSlotValue(d);a.slots.default=()=>s},initSlots=(a,d)=>{if(a.vnode.shapeFlag&32){const s=d._;s?(a.slots=toRaw(d),def(d,"_",s)):normalizeObjectSlots(d,a.slots={})}else a.slots={},d&&normalizeVNodeSlots(a,d);def(a.slots,InternalObjectKey,1)},updateSlots=(a,d,s)=>{const{vnode:m,slots:f}=a;let x=!0,g=EMPTY_OBJ;if(m.shapeFlag&32){const w=d._;w?s&&w===1?x=!1:(extend$3(f,d),!s&&w===1&&delete f._):(x=!d.$stable,normalizeObjectSlots(d,f)),g=d}else d&&(normalizeVNodeSlots(a,d),g={default:1});if(x)for(const w in f)!isInternalKey(w)&&g[w]==null&&delete f[w]};function setRef(a,d,s,m,f=!1){if(isArray$1(a)){a.forEach((P,D)=>setRef(P,d&&(isArray$1(d)?d[D]:d),s,m,f));return}if(isAsyncWrapper(m)&&!f)return;const x=m.shapeFlag&4?getExposeProxy(m.component)||m.component.proxy:m.el,g=f?null:x,{i:w,r:C}=a,A=d&&d.r,_=w.refs===EMPTY_OBJ?w.refs={}:w.refs,M=w.setupState;if(A!=null&&A!==C&&(isString(A)?(_[A]=null,hasOwn$2(M,A)&&(M[A]=null)):isRef(A)&&(A.value=null)),isFunction(C))callWithErrorHandling(C,w,12,[g,_]);else{const P=isString(C),D=isRef(C);if(P||D){const E=()=>{if(a.f){const I=P?hasOwn$2(M,C)?M[C]:_[C]:C.value;f?isArray$1(I)&&remove(I,x):isArray$1(I)?I.includes(x)||I.push(x):P?(_[C]=[x],hasOwn$2(M,C)&&(M[C]=_[C])):(C.value=[x],a.k&&(_[a.k]=C.value))}else P?(_[C]=g,hasOwn$2(M,C)&&(M[C]=g)):D&&(C.value=g,a.k&&(_[a.k]=g))};g?(E.id=-1,queuePostRenderEffect(E,s)):E()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(a){return baseCreateRenderer(a)}function baseCreateRenderer(a,d){const s=getGlobalThis();s.__VUE__=!0;const{insert:m,remove:f,patchProp:x,createElement:g,createText:w,createComment:C,setText:A,setElementText:_,parentNode:M,nextSibling:P,setScopeId:D=NOOP,insertStaticContent:E}=a,I=(re,ne,ae,he=null,de=null,be=null,Ce=!1,we=null,Pe=!!ne.dynamicChildren)=>{if(re===ne)return;re&&!isSameVNodeType(re,ne)&&(he=Le(re),Ae(re,de,be,!0),re=null),ne.patchFlag===-2&&(Pe=!1,ne.dynamicChildren=null);const{type:ke,ref:Be,shapeFlag:Re}=ne;switch(ke){case Text:B(re,ne,ae,he);break;case Comment:F(re,ne,ae,he);break;case Static:re==null&&R(ne,ae,he,Ce);break;case Fragment:ie(re,ne,ae,he,de,be,Ce,we,Pe);break;default:Re&1?G(re,ne,ae,he,de,be,Ce,we,Pe):Re&6?se(re,ne,ae,he,de,be,Ce,we,Pe):(Re&64||Re&128)&&ke.process(re,ne,ae,he,de,be,Ce,we,Pe,Oe)}Be!=null&&de&&setRef(Be,re&&re.ref,be,ne||re,!ne)},B=(re,ne,ae,he)=>{if(re==null)m(ne.el=w(ne.children),ae,he);else{const de=ne.el=re.el;ne.children!==re.children&&A(de,ne.children)}},F=(re,ne,ae,he)=>{re==null?m(ne.el=C(ne.children||""),ae,he):ne.el=re.el},R=(re,ne,ae,he)=>{[re.el,re.anchor]=E(re.children,ne,ae,he,re.el,re.anchor)},L=({el:re,anchor:ne},ae,he)=>{let de;for(;re&&re!==ne;)de=P(re),m(re,ae,he),re=de;m(ne,ae,he)},z=({el:re,anchor:ne})=>{let ae;for(;re&&re!==ne;)ae=P(re),f(re),re=ae;f(ne)},G=(re,ne,ae,he,de,be,Ce,we,Pe)=>{Ce=Ce||ne.type==="svg",re==null?W(ne,ae,he,de,be,Ce,we,Pe):Z(re,ne,de,be,Ce,we,Pe)},W=(re,ne,ae,he,de,be,Ce,we)=>{let Pe,ke;const{type:Be,props:Re,shapeFlag:ze,transition:$e,dirs:je}=re;if(Pe=re.el=g(re.type,be,Re&&Re.is,Re),ze&8?_(Pe,re.children):ze&16&&q(re.children,Pe,null,he,de,be&&Be!=="foreignObject",Ce,we),je&&invokeDirectiveHook(re,null,he,"created"),K(Pe,re,re.scopeId,Ce,he),Re){for(const He in Re)He!=="value"&&!isReservedProp(He)&&x(Pe,He,null,Re[He],be,re.children,he,de,Ee);"value"in Re&&x(Pe,"value",null,Re.value),(ke=Re.onVnodeBeforeMount)&&invokeVNodeHook(ke,he,re)}je&&invokeDirectiveHook(re,null,he,"beforeMount");const ge=needTransition(de,$e);ge&&$e.beforeEnter(Pe),m(Pe,ne,ae),((ke=Re&&Re.onVnodeMounted)||ge||je)&&queuePostRenderEffect(()=>{ke&&invokeVNodeHook(ke,he,re),ge&&$e.enter(Pe),je&&invokeDirectiveHook(re,null,he,"mounted")},de)},K=(re,ne,ae,he,de)=>{if(ae&&D(re,ae),he)for(let be=0;be<he.length;be++)D(re,he[be]);if(de){let be=de.subTree;if(ne===be){const Ce=de.vnode;K(re,Ce,Ce.scopeId,Ce.slotScopeIds,de.parent)}}},q=(re,ne,ae,he,de,be,Ce,we,Pe=0)=>{for(let ke=Pe;ke<re.length;ke++){const Be=re[ke]=we?cloneIfMounted(re[ke]):normalizeVNode(re[ke]);I(null,Be,ne,ae,he,de,be,Ce,we)}},Z=(re,ne,ae,he,de,be,Ce)=>{const we=ne.el=re.el;let{patchFlag:Pe,dynamicChildren:ke,dirs:Be}=ne;Pe|=re.patchFlag&16;const Re=re.props||EMPTY_OBJ,ze=ne.props||EMPTY_OBJ;let $e;ae&&toggleRecurse(ae,!1),($e=ze.onVnodeBeforeUpdate)&&invokeVNodeHook($e,ae,ne,re),Be&&invokeDirectiveHook(ne,re,ae,"beforeUpdate"),ae&&toggleRecurse(ae,!0);const je=de&&ne.type!=="foreignObject";if(ke?J(re.dynamicChildren,ke,we,ae,he,je,be):Ce||ce(re,ne,we,null,ae,he,je,be,!1),Pe>0){if(Pe&16)Q(we,ne,Re,ze,ae,he,de);else if(Pe&2&&Re.class!==ze.class&&x(we,"class",null,ze.class,de),Pe&4&&x(we,"style",Re.style,ze.style,de),Pe&8){const ge=ne.dynamicProps;for(let He=0;He<ge.length;He++){const Ue=ge[He],Ye=Re[Ue],Te=ze[Ue];(Te!==Ye||Ue==="value")&&x(we,Ue,Ye,Te,de,re.children,ae,he,Ee)}}Pe&1&&re.children!==ne.children&&_(we,ne.children)}else!Ce&&ke==null&&Q(we,ne,Re,ze,ae,he,de);(($e=ze.onVnodeUpdated)||Be)&&queuePostRenderEffect(()=>{$e&&invokeVNodeHook($e,ae,ne,re),Be&&invokeDirectiveHook(ne,re,ae,"updated")},he)},J=(re,ne,ae,he,de,be,Ce)=>{for(let we=0;we<ne.length;we++){const Pe=re[we],ke=ne[we],Be=Pe.el&&(Pe.type===Fragment||!isSameVNodeType(Pe,ke)||Pe.shapeFlag&70)?M(Pe.el):ae;I(Pe,ke,Be,null,he,de,be,Ce,!0)}},Q=(re,ne,ae,he,de,be,Ce)=>{if(ae!==he){if(ae!==EMPTY_OBJ)for(const we in ae)!isReservedProp(we)&&!(we in he)&&x(re,we,ae[we],null,Ce,ne.children,de,be,Ee);for(const we in he){if(isReservedProp(we))continue;const Pe=he[we],ke=ae[we];Pe!==ke&&we!=="value"&&x(re,we,ke,Pe,Ce,ne.children,de,be,Ee)}"value"in he&&x(re,"value",ae.value,he.value)}},ie=(re,ne,ae,he,de,be,Ce,we,Pe)=>{const ke=ne.el=re?re.el:w(""),Be=ne.anchor=re?re.anchor:w("");let{patchFlag:Re,dynamicChildren:ze,slotScopeIds:$e}=ne;$e&&(we=we?we.concat($e):$e),re==null?(m(ke,ae,he),m(Be,ae,he),q(ne.children,ae,Be,de,be,Ce,we,Pe)):Re>0&&Re&64&&ze&&re.dynamicChildren?(J(re.dynamicChildren,ze,ae,de,be,Ce,we),(ne.key!=null||de&&ne===de.subTree)&&traverseStaticChildren(re,ne,!0)):ce(re,ne,ae,Be,de,be,Ce,we,Pe)},se=(re,ne,ae,he,de,be,Ce,we,Pe)=>{ne.slotScopeIds=we,re==null?ne.shapeFlag&512?de.ctx.activate(ne,ae,he,Ce,Pe):oe(ne,ae,he,de,be,Ce,Pe):ue(re,ne,Pe)},oe=(re,ne,ae,he,de,be,Ce)=>{const we=re.component=createComponentInstance(re,he,de);if(isKeepAlive(re)&&(we.ctx.renderer=Oe),setupComponent(we),we.asyncDep){if(de&&de.registerDep(we,fe),!re.el){const Pe=we.subTree=createVNode(Comment);F(null,Pe,ne,ae)}return}fe(we,re,ne,ae,de,be,Ce)},ue=(re,ne,ae)=>{const he=ne.component=re.component;if(shouldUpdateComponent(re,ne,ae))if(he.asyncDep&&!he.asyncResolved){xe(he,ne,ae);return}else he.next=ne,invalidateJob(he.update),he.update();else ne.el=re.el,he.vnode=ne},fe=(re,ne,ae,he,de,be,Ce)=>{const we=()=>{if(re.isMounted){let{next:Be,bu:Re,u:ze,parent:$e,vnode:je}=re,ge=Be,He;toggleRecurse(re,!1),Be?(Be.el=je.el,xe(re,Be,Ce)):Be=je,Re&&invokeArrayFns(Re),(He=Be.props&&Be.props.onVnodeBeforeUpdate)&&invokeVNodeHook(He,$e,Be,je),toggleRecurse(re,!0);const Ue=renderComponentRoot(re),Ye=re.subTree;re.subTree=Ue,I(Ye,Ue,M(Ye.el),Le(Ye),re,de,be),Be.el=Ue.el,ge===null&&updateHOCHostEl(re,Ue.el),ze&&queuePostRenderEffect(ze,de),(He=Be.props&&Be.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(He,$e,Be,je),de)}else{let Be;const{el:Re,props:ze}=ne,{bm:$e,m:je,parent:ge}=re,He=isAsyncWrapper(ne);if(toggleRecurse(re,!1),$e&&invokeArrayFns($e),!He&&(Be=ze&&ze.onVnodeBeforeMount)&&invokeVNodeHook(Be,ge,ne),toggleRecurse(re,!0),Re&&te){const Ue=()=>{re.subTree=renderComponentRoot(re),te(Re,re.subTree,re,de,null)};He?ne.type.__asyncLoader().then(()=>!re.isUnmounted&&Ue()):Ue()}else{const Ue=re.subTree=renderComponentRoot(re);I(null,Ue,ae,he,re,de,be),ne.el=Ue.el}if(je&&queuePostRenderEffect(je,de),!He&&(Be=ze&&ze.onVnodeMounted)){const Ue=ne;queuePostRenderEffect(()=>invokeVNodeHook(Be,ge,Ue),de)}(ne.shapeFlag&256||ge&&isAsyncWrapper(ge.vnode)&&ge.vnode.shapeFlag&256)&&re.a&&queuePostRenderEffect(re.a,de),re.isMounted=!0,ne=ae=he=null}},Pe=re.effect=new ReactiveEffect(we,()=>queueJob(ke),re.scope),ke=re.update=()=>Pe.run();ke.id=re.uid,toggleRecurse(re,!0),ke()},xe=(re,ne,ae)=>{ne.component=re;const he=re.vnode.props;re.vnode=ne,re.next=null,updateProps(re,ne.props,he,ae),updateSlots(re,ne.children,ae),pauseTracking(),flushPreFlushCbs(),resetTracking()},ce=(re,ne,ae,he,de,be,Ce,we,Pe=!1)=>{const ke=re&&re.children,Be=re?re.shapeFlag:0,Re=ne.children,{patchFlag:ze,shapeFlag:$e}=ne;if(ze>0){if(ze&128){pe(ke,Re,ae,he,de,be,Ce,we,Pe);return}else if(ze&256){me(ke,Re,ae,he,de,be,Ce,we,Pe);return}}$e&8?(Be&16&&Ee(ke,de,be),Re!==ke&&_(ae,Re)):Be&16?$e&16?pe(ke,Re,ae,he,de,be,Ce,we,Pe):Ee(ke,de,be,!0):(Be&8&&_(ae,""),$e&16&&q(Re,ae,he,de,be,Ce,we,Pe))},me=(re,ne,ae,he,de,be,Ce,we,Pe)=>{re=re||EMPTY_ARR,ne=ne||EMPTY_ARR;const ke=re.length,Be=ne.length,Re=Math.min(ke,Be);let ze;for(ze=0;ze<Re;ze++){const $e=ne[ze]=Pe?cloneIfMounted(ne[ze]):normalizeVNode(ne[ze]);I(re[ze],$e,ae,null,de,be,Ce,we,Pe)}ke>Be?Ee(re,de,be,!0,!1,Re):q(ne,ae,he,de,be,Ce,we,Pe,Re)},pe=(re,ne,ae,he,de,be,Ce,we,Pe)=>{let ke=0;const Be=ne.length;let Re=re.length-1,ze=Be-1;for(;ke<=Re&&ke<=ze;){const $e=re[ke],je=ne[ke]=Pe?cloneIfMounted(ne[ke]):normalizeVNode(ne[ke]);if(isSameVNodeType($e,je))I($e,je,ae,null,de,be,Ce,we,Pe);else break;ke++}for(;ke<=Re&&ke<=ze;){const $e=re[Re],je=ne[ze]=Pe?cloneIfMounted(ne[ze]):normalizeVNode(ne[ze]);if(isSameVNodeType($e,je))I($e,je,ae,null,de,be,Ce,we,Pe);else break;Re--,ze--}if(ke>Re){if(ke<=ze){const $e=ze+1,je=$e<Be?ne[$e].el:he;for(;ke<=ze;)I(null,ne[ke]=Pe?cloneIfMounted(ne[ke]):normalizeVNode(ne[ke]),ae,je,de,be,Ce,we,Pe),ke++}}else if(ke>ze)for(;ke<=Re;)Ae(re[ke],de,be,!0),ke++;else{const $e=ke,je=ke,ge=new Map;for(ke=je;ke<=ze;ke++){const qe=ne[ke]=Pe?cloneIfMounted(ne[ke]):normalizeVNode(ne[ke]);qe.key!=null&&ge.set(qe.key,ke)}let He,Ue=0;const Ye=ze-je+1;let Te=!1,Ne=0;const Ge=new Array(Ye);for(ke=0;ke<Ye;ke++)Ge[ke]=0;for(ke=$e;ke<=Re;ke++){const qe=re[ke];if(Ue>=Ye){Ae(qe,de,be,!0);continue}let Je;if(qe.key!=null)Je=ge.get(qe.key);else for(He=je;He<=ze;He++)if(Ge[He-je]===0&&isSameVNodeType(qe,ne[He])){Je=He;break}Je===void 0?Ae(qe,de,be,!0):(Ge[Je-je]=ke+1,Je>=Ne?Ne=Je:Te=!0,I(qe,ne[Je],ae,null,de,be,Ce,we,Pe),Ue++)}const Xe=Te?getSequence(Ge):EMPTY_ARR;for(He=Xe.length-1,ke=Ye-1;ke>=0;ke--){const qe=je+ke,Je=ne[qe],Ke=qe+1<Be?ne[qe+1].el:he;Ge[ke]===0?I(null,Je,ae,Ke,de,be,Ce,we,Pe):Te&&(He<0||ke!==Xe[He]?Se(Je,ae,Ke,2):He--)}}},Se=(re,ne,ae,he,de=null)=>{const{el:be,type:Ce,transition:we,children:Pe,shapeFlag:ke}=re;if(ke&6){Se(re.component.subTree,ne,ae,he);return}if(ke&128){re.suspense.move(ne,ae,he);return}if(ke&64){Ce.move(re,ne,ae,Oe);return}if(Ce===Fragment){m(be,ne,ae);for(let Re=0;Re<Pe.length;Re++)Se(Pe[Re],ne,ae,he);m(re.anchor,ne,ae);return}if(Ce===Static){L(re,ne,ae);return}if(he!==2&&ke&1&&we)if(he===0)we.beforeEnter(be),m(be,ne,ae),queuePostRenderEffect(()=>we.enter(be),de);else{const{leave:Re,delayLeave:ze,afterLeave:$e}=we,je=()=>m(be,ne,ae),ge=()=>{Re(be,()=>{je(),$e&&$e()})};ze?ze(be,je,ge):ge()}else m(be,ne,ae)},Ae=(re,ne,ae,he=!1,de=!1)=>{const{type:be,props:Ce,ref:we,children:Pe,dynamicChildren:ke,shapeFlag:Be,patchFlag:Re,dirs:ze}=re;if(we!=null&&setRef(we,null,ae,re,!0),Be&256){ne.ctx.deactivate(re);return}const $e=Be&1&&ze,je=!isAsyncWrapper(re);let ge;if(je&&(ge=Ce&&Ce.onVnodeBeforeUnmount)&&invokeVNodeHook(ge,ne,re),Be&6)ve(re.component,ae,he);else{if(Be&128){re.suspense.unmount(ae,he);return}$e&&invokeDirectiveHook(re,null,ne,"beforeUnmount"),Be&64?re.type.remove(re,ne,ae,de,Oe,he):ke&&(be!==Fragment||Re>0&&Re&64)?Ee(ke,ne,ae,!1,!0):(be===Fragment&&Re&384||!de&&Be&16)&&Ee(Pe,ne,ae),he&&_e(re)}(je&&(ge=Ce&&Ce.onVnodeUnmounted)||$e)&&queuePostRenderEffect(()=>{ge&&invokeVNodeHook(ge,ne,re),$e&&invokeDirectiveHook(re,null,ne,"unmounted")},ae)},_e=re=>{const{type:ne,el:ae,anchor:he,transition:de}=re;if(ne===Fragment){Me(ae,he);return}if(ne===Static){z(re);return}const be=()=>{f(ae),de&&!de.persisted&&de.afterLeave&&de.afterLeave()};if(re.shapeFlag&1&&de&&!de.persisted){const{leave:Ce,delayLeave:we}=de,Pe=()=>Ce(ae,be);we?we(re.el,be,Pe):Pe()}else be()},Me=(re,ne)=>{let ae;for(;re!==ne;)ae=P(re),f(re),re=ae;f(ne)},ve=(re,ne,ae)=>{const{bum:he,scope:de,update:be,subTree:Ce,um:we}=re;he&&invokeArrayFns(he),de.stop(),be&&(be.active=!1,Ae(Ce,re,ne,ae)),we&&queuePostRenderEffect(we,ne),queuePostRenderEffect(()=>{re.isUnmounted=!0},ne),ne&&ne.pendingBranch&&!ne.isUnmounted&&re.asyncDep&&!re.asyncResolved&&re.suspenseId===ne.pendingId&&(ne.deps--,ne.deps===0&&ne.resolve())},Ee=(re,ne,ae,he=!1,de=!1,be=0)=>{for(let Ce=be;Ce<re.length;Ce++)Ae(re[Ce],ne,ae,he,de)},Le=re=>re.shapeFlag&6?Le(re.component.subTree):re.shapeFlag&128?re.suspense.next():P(re.anchor||re.el),Ie=(re,ne,ae)=>{re==null?ne._vnode&&Ae(ne._vnode,null,null,!0):I(ne._vnode||null,re,ne,null,null,null,ae),flushPreFlushCbs(),flushPostFlushCbs(),ne._vnode=re},Oe={p:I,um:Ae,m:Se,r:_e,mt:oe,mc:q,pc:ce,pbc:J,n:Le,o:a};let le,te;return d&&([le,te]=d(Oe)),{render:Ie,hydrate:le,createApp:createAppAPI(Ie,le)}}function toggleRecurse({effect:a,update:d},s){a.allowRecurse=d.allowRecurse=s}function needTransition(a,d){return(!a||a&&!a.pendingBranch)&&d&&!d.persisted}function traverseStaticChildren(a,d,s=!1){const m=a.children,f=d.children;if(isArray$1(m)&&isArray$1(f))for(let x=0;x<m.length;x++){const g=m[x];let w=f[x];w.shapeFlag&1&&!w.dynamicChildren&&((w.patchFlag<=0||w.patchFlag===32)&&(w=f[x]=cloneIfMounted(f[x]),w.el=g.el),s||traverseStaticChildren(g,w)),w.type===Text&&(w.el=g.el)}}function getSequence(a){const d=a.slice(),s=[0];let m,f,x,g,w;const C=a.length;for(m=0;m<C;m++){const A=a[m];if(A!==0){if(f=s[s.length-1],a[f]<A){d[m]=f,s.push(m);continue}for(x=0,g=s.length-1;x<g;)w=x+g>>1,a[s[w]]<A?x=w+1:g=w;A<a[s[x]]&&(x>0&&(d[m]=s[x-1]),s[x]=m)}}for(x=s.length,g=s[x-1];x-- >0;)s[x]=g,g=d[g];return s}const isTeleport=a=>a.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(a=!1){blockStack.push(currentBlock=a?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(a){isBlockTreeEnabled+=a}function setupBlock(a){return a.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(a),a}function createElementBlock(a,d,s,m,f,x){return setupBlock(createBaseVNode(a,d,s,m,f,x,!0))}function createBlock(a,d,s,m,f){return setupBlock(createVNode(a,d,s,m,f,!0))}function isVNode(a){return a?a.__v_isVNode===!0:!1}function isSameVNodeType(a,d){return a.type===d.type&&a.key===d.key}const InternalObjectKey="__vInternal",normalizeKey=({key:a})=>a??null,normalizeRef=({ref:a,ref_key:d,ref_for:s})=>(typeof a=="number"&&(a=""+a),a!=null?isString(a)||isRef(a)||isFunction(a)?{i:currentRenderingInstance,r:a,k:d,f:!!s}:a:null);function createBaseVNode(a,d=null,s=null,m=0,f=null,x=a===Fragment?0:1,g=!1,w=!1){const C={__v_isVNode:!0,__v_skip:!0,type:a,props:d,key:d&&normalizeKey(d),ref:d&&normalizeRef(d),scopeId:currentScopeId,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:x,patchFlag:m,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return w?(normalizeChildren(C,s),x&128&&a.normalize(C)):s&&(C.shapeFlag|=isString(s)?8:16),isBlockTreeEnabled>0&&!g&&currentBlock&&(C.patchFlag>0||x&6)&&C.patchFlag!==32&&currentBlock.push(C),C}const createVNode=_createVNode;function _createVNode(a,d=null,s=null,m=0,f=null,x=!1){if((!a||a===NULL_DYNAMIC_COMPONENT)&&(a=Comment),isVNode(a)){const w=cloneVNode(a,d,!0);return s&&normalizeChildren(w,s),isBlockTreeEnabled>0&&!x&&currentBlock&&(w.shapeFlag&6?currentBlock[currentBlock.indexOf(a)]=w:currentBlock.push(w)),w.patchFlag|=-2,w}if(isClassComponent(a)&&(a=a.__vccOpts),d){d=guardReactiveProps(d);let{class:w,style:C}=d;w&&!isString(w)&&(d.class=normalizeClass(w)),isObject(C)&&(isProxy(C)&&!isArray$1(C)&&(C=extend$3({},C)),d.style=normalizeStyle(C))}const g=isString(a)?1:isSuspense(a)?128:isTeleport(a)?64:isObject(a)?4:isFunction(a)?2:0;return createBaseVNode(a,d,s,m,f,g,x,!0)}function guardReactiveProps(a){return a?isProxy(a)||InternalObjectKey in a?extend$3({},a):a:null}function cloneVNode(a,d,s=!1){const{props:m,ref:f,patchFlag:x,children:g}=a,w=d?mergeProps(m||{},d):m;return{__v_isVNode:!0,__v_skip:!0,type:a.type,props:w,key:w&&normalizeKey(w),ref:d&&d.ref?s&&f?isArray$1(f)?f.concat(normalizeRef(d)):[f,normalizeRef(d)]:normalizeRef(d):f,scopeId:a.scopeId,slotScopeIds:a.slotScopeIds,children:g,target:a.target,targetAnchor:a.targetAnchor,staticCount:a.staticCount,shapeFlag:a.shapeFlag,patchFlag:d&&a.type!==Fragment?x===-1?16:x|16:x,dynamicProps:a.dynamicProps,dynamicChildren:a.dynamicChildren,appContext:a.appContext,dirs:a.dirs,transition:a.transition,component:a.component,suspense:a.suspense,ssContent:a.ssContent&&cloneVNode(a.ssContent),ssFallback:a.ssFallback&&cloneVNode(a.ssFallback),el:a.el,anchor:a.anchor,ctx:a.ctx,ce:a.ce}}function createTextVNode(a=" ",d=0){return createVNode(Text,null,a,d)}function createCommentVNode(a="",d=!1){return d?(openBlock(),createBlock(Comment,null,a)):createVNode(Comment,null,a)}function normalizeVNode(a){return a==null||typeof a=="boolean"?createVNode(Comment):isArray$1(a)?createVNode(Fragment,null,a.slice()):typeof a=="object"?cloneIfMounted(a):createVNode(Text,null,String(a))}function cloneIfMounted(a){return a.el===null&&a.patchFlag!==-1||a.memo?a:cloneVNode(a)}function normalizeChildren(a,d){let s=0;const{shapeFlag:m}=a;if(d==null)d=null;else if(isArray$1(d))s=16;else if(typeof d=="object")if(m&65){const f=d.default;f&&(f._c&&(f._d=!1),normalizeChildren(a,f()),f._c&&(f._d=!0));return}else{s=32;const f=d._;!f&&!(InternalObjectKey in d)?d._ctx=currentRenderingInstance:f===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?d._=1:(d._=2,a.patchFlag|=1024))}else isFunction(d)?(d={default:d,_ctx:currentRenderingInstance},s=32):(d=String(d),m&64?(s=16,d=[createTextVNode(d)]):s=8);a.children=d,a.shapeFlag|=s}function mergeProps(...a){const d={};for(let s=0;s<a.length;s++){const m=a[s];for(const f in m)if(f==="class")d.class!==m.class&&(d.class=normalizeClass([d.class,m.class]));else if(f==="style")d.style=normalizeStyle([d.style,m.style]);else if(isOn(f)){const x=d[f],g=m[f];g&&x!==g&&!(isArray$1(x)&&x.includes(g))&&(d[f]=x?[].concat(x,g):g)}else f!==""&&(d[f]=m[f])}return d}function invokeVNodeHook(a,d,s,m=null){callWithAsyncErrorHandling(a,d,7,[s,m])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(a,d,s){const m=a.type,f=(d?d.appContext:a.appContext)||emptyAppContext,x={uid:uid++,vnode:a,type:m,parent:d,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:d?d.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(m,f),emitsOptions:normalizeEmitsOptions(m,f),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:m.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return x.ctx={_:x},x.root=d?d.root:x,x.emit=emit.bind(null,x),a.ce&&a.ce(x),x}let currentInstance=null,internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(a=>currentInstance=a),internalSetCurrentInstance=a=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(d=>d(a)):globalCurrentInstanceSetters[0](a)};const setCurrentInstance=a=>{internalSetCurrentInstance(a),a.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(a){return a.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(a,d=!1){isInSSRComponentSetup=d;const{props:s,children:m}=a.vnode,f=isStatefulComponent(a);initProps(a,s,f,d),initSlots(a,m);const x=f?setupStatefulComponent(a,d):void 0;return isInSSRComponentSetup=!1,x}function setupStatefulComponent(a,d){const s=a.type;a.accessCache=Object.create(null),a.proxy=markRaw(new Proxy(a.ctx,PublicInstanceProxyHandlers));const{setup:m}=s;if(m){const f=a.setupContext=m.length>1?createSetupContext(a):null;setCurrentInstance(a),pauseTracking();const x=callWithErrorHandling(m,a,0,[a.props,f]);if(resetTracking(),unsetCurrentInstance(),isPromise(x)){if(x.then(unsetCurrentInstance,unsetCurrentInstance),d)return x.then(g=>{handleSetupResult(a,g,d)}).catch(g=>{handleError(g,a,0)});a.asyncDep=x}else handleSetupResult(a,x,d)}else finishComponentSetup(a,d)}function handleSetupResult(a,d,s){isFunction(d)?a.type.__ssrInlineRender?a.ssrRender=d:a.render=d:isObject(d)&&(a.setupState=proxyRefs(d)),finishComponentSetup(a,s)}let compile;function finishComponentSetup(a,d,s){const m=a.type;if(!a.render){if(!d&&compile&&!m.render){const f=m.template||resolveMergedOptions(a).template;if(f){const{isCustomElement:x,compilerOptions:g}=a.appContext.config,{delimiters:w,compilerOptions:C}=m,A=extend$3(extend$3({isCustomElement:x,delimiters:w},g),C);m.render=compile(f,A)}}a.render=m.render||NOOP}{setCurrentInstance(a),pauseTracking();try{applyOptions(a)}finally{resetTracking(),unsetCurrentInstance()}}}function getAttrsProxy(a){return a.attrsProxy||(a.attrsProxy=new Proxy(a.attrs,{get(d,s){return track(a,"get","$attrs"),d[s]}}))}function createSetupContext(a){const d=s=>{a.exposed=s||{}};return{get attrs(){return getAttrsProxy(a)},slots:a.slots,emit:a.emit,expose:d}}function getExposeProxy(a){if(a.exposed)return a.exposeProxy||(a.exposeProxy=new Proxy(proxyRefs(markRaw(a.exposed)),{get(d,s){if(s in d)return d[s];if(s in publicPropertiesMap)return publicPropertiesMap[s](a)},has(d,s){return s in d||s in publicPropertiesMap}}))}function isClassComponent(a){return isFunction(a)&&"__vccOpts"in a}const computed=(a,d)=>computed$1(a,d,isInSSRComponentSetup);function h(a,d,s){const m=arguments.length;return m===2?isObject(d)&&!isArray$1(d)?isVNode(d)?createVNode(a,null,[d]):createVNode(a,d):createVNode(a,null,d):(m>3?s=Array.prototype.slice.call(arguments,2):m===3&&isVNode(s)&&(s=[s]),createVNode(a,d,s))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version$1="3.3.10",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(a,d,s)=>{d.insertBefore(a,s||null)},remove:a=>{const d=a.parentNode;d&&d.removeChild(a)},createElement:(a,d,s,m)=>{const f=d?doc.createElementNS(svgNS,a):doc.createElement(a,s?{is:s}:void 0);return a==="select"&&m&&m.multiple!=null&&f.setAttribute("multiple",m.multiple),f},createText:a=>doc.createTextNode(a),createComment:a=>doc.createComment(a),setText:(a,d)=>{a.nodeValue=d},setElementText:(a,d)=>{a.textContent=d},parentNode:a=>a.parentNode,nextSibling:a=>a.nextSibling,querySelector:a=>doc.querySelector(a),setScopeId(a,d){a.setAttribute(d,"")},insertStaticContent(a,d,s,m,f,x){const g=s?s.previousSibling:d.lastChild;if(f&&(f===x||f.nextSibling))for(;d.insertBefore(f.cloneNode(!0),s),!(f===x||!(f=f.nextSibling)););else{templateContainer.innerHTML=m?`<svg>${a}</svg>`:a;const w=templateContainer.content;if(m){const C=w.firstChild;for(;C.firstChild;)w.appendChild(C.firstChild);w.removeChild(C)}d.insertBefore(w,s)}return[g?g.nextSibling:d.firstChild,s?s.previousSibling:d.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(a,d,s){const m=a[vtcKey];m&&(d=(d?[d,...m]:[...m]).join(" ")),d==null?a.removeAttribute("class"):s?a.setAttribute("class",d):a.className=d}const vShowOldKey=Symbol("_vod");function patchStyle(a,d,s){const m=a.style,f=isString(s);if(s&&!f){if(d&&!isString(d))for(const x in d)s[x]==null&&setStyle(m,x,"");for(const x in s)setStyle(m,x,s[x])}else{const x=m.display;f?d!==s&&(m.cssText=s):d&&a.removeAttribute("style"),vShowOldKey in a&&(m.display=x)}}const importantRE=/\s*!important$/;function setStyle(a,d,s){if(isArray$1(s))s.forEach(m=>setStyle(a,d,m));else if(s==null&&(s=""),d.startsWith("--"))a.setProperty(d,s);else{const m=autoPrefix(a,d);importantRE.test(s)?a.setProperty(hyphenate(m),s.replace(importantRE,""),"important"):a[m]=s}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(a,d){const s=prefixCache[d];if(s)return s;let m=camelize(d);if(m!=="filter"&&m in a)return prefixCache[d]=m;m=capitalize(m);for(let f=0;f<prefixes.length;f++){const x=prefixes[f]+m;if(x in a)return prefixCache[d]=x}return d}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(a,d,s,m,f){if(m&&d.startsWith("xlink:"))s==null?a.removeAttributeNS(xlinkNS,d.slice(6,d.length)):a.setAttributeNS(xlinkNS,d,s);else{const x=isSpecialBooleanAttr(d);s==null||x&&!includeBooleanAttr(s)?a.removeAttribute(d):a.setAttribute(d,x?"":s)}}function patchDOMProp(a,d,s,m,f,x,g){if(d==="innerHTML"||d==="textContent"){m&&g(m,f,x),a[d]=s??"";return}const w=a.tagName;if(d==="value"&&w!=="PROGRESS"&&!w.includes("-")){a._value=s;const A=w==="OPTION"?a.getAttribute("value"):a.value,_=s??"";A!==_&&(a.value=_),s==null&&a.removeAttribute(d);return}let C=!1;if(s===""||s==null){const A=typeof a[d];A==="boolean"?s=includeBooleanAttr(s):s==null&&A==="string"?(s="",C=!0):A==="number"&&(s=0,C=!0)}try{a[d]=s}catch{}C&&a.removeAttribute(d)}function addEventListener(a,d,s,m){a.addEventListener(d,s,m)}function removeEventListener(a,d,s,m){a.removeEventListener(d,s,m)}const veiKey=Symbol("_vei");function patchEvent(a,d,s,m,f=null){const x=a[veiKey]||(a[veiKey]={}),g=x[d];if(m&&g)g.value=m;else{const[w,C]=parseName(d);if(m){const A=x[d]=createInvoker(m,f);addEventListener(a,w,A,C)}else g&&(removeEventListener(a,w,g,C),x[d]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(a){let d;if(optionsModifierRE.test(a)){d={};let m;for(;m=a.match(optionsModifierRE);)a=a.slice(0,a.length-m[0].length),d[m[0].toLowerCase()]=!0}return[a[2]===":"?a.slice(3):hyphenate(a.slice(2)),d]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(a,d){const s=m=>{if(!m._vts)m._vts=Date.now();else if(m._vts<=s.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(m,s.value),d,5,[m])};return s.value=a,s.attached=getNow(),s}function patchStopImmediatePropagation(a,d){if(isArray$1(d)){const s=a.stopImmediatePropagation;return a.stopImmediatePropagation=()=>{s.call(a),a._stopped=!0},d.map(m=>f=>!f._stopped&&m&&m(f))}else return d}const isNativeOn=a=>a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&a.charCodeAt(2)>96&&a.charCodeAt(2)<123,patchProp=(a,d,s,m,f=!1,x,g,w,C)=>{d==="class"?patchClass(a,m,f):d==="style"?patchStyle(a,s,m):isOn(d)?isModelListener(d)||patchEvent(a,d,s,m,g):(d[0]==="."?(d=d.slice(1),!0):d[0]==="^"?(d=d.slice(1),!1):shouldSetAsProp(a,d,m,f))?patchDOMProp(a,d,m,x,g,w,C):(d==="true-value"?a._trueValue=m:d==="false-value"&&(a._falseValue=m),patchAttr(a,d,m,f))};function shouldSetAsProp(a,d,s,m){if(m)return!!(d==="innerHTML"||d==="textContent"||d in a&&isNativeOn(d)&&isFunction(s));if(d==="spellcheck"||d==="draggable"||d==="translate"||d==="form"||d==="list"&&a.tagName==="INPUT"||d==="type"&&a.tagName==="TEXTAREA")return!1;if(d==="width"||d==="height"){const f=a.tagName;return!(f==="IMG"||f==="VIDEO"||f==="CANVAS"||f==="SOURCE")}return isNativeOn(d)&&isString(s)?!1:d in a}const getModelAssigner=a=>{const d=a.props["onUpdate:modelValue"]||!1;return isArray$1(d)?s=>invokeArrayFns(d,s):d};function onCompositionStart(a){a.target.composing=!0}function onCompositionEnd(a){const d=a.target;d.composing&&(d.composing=!1,d.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(a,{modifiers:{lazy:d,trim:s,number:m}},f){a[assignKey]=getModelAssigner(f);const x=m||f.props&&f.props.type==="number";addEventListener(a,d?"change":"input",g=>{if(g.target.composing)return;let w=a.value;s&&(w=w.trim()),x&&(w=looseToNumber(w)),a[assignKey](w)}),s&&addEventListener(a,"change",()=>{a.value=a.value.trim()}),d||(addEventListener(a,"compositionstart",onCompositionStart),addEventListener(a,"compositionend",onCompositionEnd),addEventListener(a,"change",onCompositionEnd))},mounted(a,{value:d}){a.value=d??""},beforeUpdate(a,{value:d,modifiers:{lazy:s,trim:m,number:f}},x){if(a[assignKey]=getModelAssigner(x),a.composing)return;const g=f||a.type==="number"?looseToNumber(a.value):a.value,w=d??"";g!==w&&(document.activeElement===a&&a.type!=="range"&&(s||m&&a.value.trim()===w)||(a.value=w))}},vModelCheckbox={deep:!0,created(a,d,s){a[assignKey]=getModelAssigner(s),addEventListener(a,"change",()=>{const m=a._modelValue,f=getValue(a),x=a.checked,g=a[assignKey];if(isArray$1(m)){const w=looseIndexOf(m,f),C=w!==-1;if(x&&!C)g(m.concat(f));else if(!x&&C){const A=[...m];A.splice(w,1),g(A)}}else if(isSet(m)){const w=new Set(m);x?w.add(f):w.delete(f),g(w)}else g(getCheckboxValue(a,x))})},mounted:setChecked,beforeUpdate(a,d,s){a[assignKey]=getModelAssigner(s),setChecked(a,d,s)}};function setChecked(a,{value:d,oldValue:s},m){a._modelValue=d,isArray$1(d)?a.checked=looseIndexOf(d,m.props.value)>-1:isSet(d)?a.checked=d.has(m.props.value):d!==s&&(a.checked=looseEqual(d,getCheckboxValue(a,!0)))}function getValue(a){return"_value"in a?a._value:a.value}function getCheckboxValue(a,d){const s=d?"_trueValue":"_falseValue";return s in a?a[s]:d}const rendererOptions=extend$3({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...a)=>{const d=ensureRenderer().createApp(...a),{mount:s}=d;return d.mount=m=>{const f=normalizeContainer(m);if(!f)return;const x=d._component;!isFunction(x)&&!x.render&&!x.template&&(x.template=f.innerHTML),f.innerHTML="";const g=s(f,!1,f instanceof SVGElement);return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),g},d};function normalizeContainer(a){return isString(a)?document.querySelector(a):a}var DayOfWeek=(a=>(a[a.Sunday=0]="Sunday",a[a.Monday=1]="Monday",a[a.Tuesday=2]="Tuesday",a[a.Wednesday=3]="Wednesday",a[a.Thursday=4]="Thursday",a[a.Friday=5]="Friday",a[a.Saturday=6]="Saturday",a))(DayOfWeek||{});function groupBy(a,d){return groupBy2(a,s=>s[d])}function groupBy2(a,d){return a.reduce((s,m)=>{const f=d(m);let x=s.get(f);return x?x.push(m):(x=[m],s.set(f,x)),s},new Map)}function indexOfAny(a,d,s=0){for(let m=s;m<a.length;m++)if(d.includes(a[m]))return m;return-1}function sortArray(a,d){const s=(m,f,x,g)=>m[x]>f[x]?g.toUpperCase()=="DESC"?-1:1:m[x]<f[x]?g.toUpperCase()=="DESC"?1:-1:0;return[...a].sort((m,f)=>{for(const x of d){const g=s(m,f,x[0],x[1]);if(g!==0)return g}return 0})}function create2DArray(a,d,s){const m=Array(a);for(let f=0;f<a;f++)m[f]=new Array(d),s!==void 0&&m[f].fill(s);return m}function arrayRemoveFirst(a,d){const s=a.indexOf(d);return s>-1?(a.splice(s,1),!0):!1}function arrayRemoveIf(a,d){let s=0;for(let m=a.length-1;m>=0;m--)d(a[m])&&(a.splice(m,1),s++);return s}function pushMany(a,d){for(let s=0;s<d.length;s++)a.push(d[s])}function getReversedCopy(a){if(!a||a.length===0)return[];const d=[];return pushMany(d,a),d.reverse()}function maxValueOfArray(a,...d){let s=0;return a.length>=1e5?s=a.reduce(function(m,f){return Math.max(m,f)}):s=Math.max.apply(null,a),!d||d.length===0?s:Math.max(s,...d)}function minValueOfArray(a,...d){let s=0;return a.length>=1e5?s=a.reduce(function(m,f){return Math.min(m,f)}):s=Math.min.apply(null,a),!d||d.length===0?s:Math.min(s,...d)}function getEnumName(a,d){return a[d]}function getEnumKeys(a){return Object.keys(a).filter(d=>typeof a[d]!="number").map(d=>Number(d))}const DateTime_MaxValue=new Date(9999,11,31,23,59,59,999),DateTime_MinValue=new Date(1,0,1,0,0,0,0);DateTime_MinValue.setUTCFullYear(1);DateTime_MinValue.setUTCMonth(0);DateTime_MinValue.setUTCDate(1);DateTime_MinValue.setUTCHours(0);DateTime_MinValue.setUTCMinutes(0);DateTime_MinValue.setUTCSeconds(0);DateTime_MinValue.setUTCMilliseconds(0);function formatTimeSpan(a,d){let s="";if(d.includes("d")&&(s+=a.days.toString().padStart(2,"0")+":"),d.includes("hh")&&(s+=a.hours.toString().padStart(2,"0")+":"),d.includes("mm")&&(s+=a.minutes.toString().padStart(2,"0")+":"),d.includes("ss")&&(s+=a.seconds.toString().padStart(2,"0")),!s)throw new Error("Invalid format");return s}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(a.__esModule)return a;var d=a.default;if(typeof d=="function"){var s=function m(){return this instanceof m?Reflect.construct(d,arguments,this.constructor):d.apply(this,arguments)};s.prototype=d.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(a).forEach(function(m){var f=Object.getOwnPropertyDescriptor(a,m);Object.defineProperty(s,m,f.get?f:{enumerable:!0,get:function(){return a[m]}})}),s}var dayjs_min={exports:{}};(function(a,d){(function(s,m){a.exports=m()})(commonjsGlobal,function(){var s=1e3,m=6e4,f=36e5,x="millisecond",g="second",w="minute",C="hour",A="day",_="week",M="month",P="quarter",D="year",E="date",I="Invalid Date",B=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,F=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(oe){var ue=["th","st","nd","rd"],fe=oe%100;return"["+oe+(ue[(fe-20)%10]||ue[fe]||ue[0])+"]"}},L=function(oe,ue,fe){var xe=String(oe);return!xe||xe.length>=ue?oe:""+Array(ue+1-xe.length).join(fe)+oe},z={s:L,z:function(oe){var ue=-oe.utcOffset(),fe=Math.abs(ue),xe=Math.floor(fe/60),ce=fe%60;return(ue<=0?"+":"-")+L(xe,2,"0")+":"+L(ce,2,"0")},m:function oe(ue,fe){if(ue.date()<fe.date())return-oe(fe,ue);var xe=12*(fe.year()-ue.year())+(fe.month()-ue.month()),ce=ue.clone().add(xe,M),me=fe-ce<0,pe=ue.clone().add(xe+(me?-1:1),M);return+(-(xe+(fe-ce)/(me?ce-pe:pe-ce))||0)},a:function(oe){return oe<0?Math.ceil(oe)||0:Math.floor(oe)},p:function(oe){return{M,y:D,w:_,d:A,D:E,h:C,m:w,s:g,ms:x,Q:P}[oe]||String(oe||"").toLowerCase().replace(/s$/,"")},u:function(oe){return oe===void 0}},G="en",W={};W[G]=R;var K="$isDayjsObject",q=function(oe){return oe instanceof ie||!(!oe||!oe[K])},Z=function oe(ue,fe,xe){var ce;if(!ue)return G;if(typeof ue=="string"){var me=ue.toLowerCase();W[me]&&(ce=me),fe&&(W[me]=fe,ce=me);var pe=ue.split("-");if(!ce&&pe.length>1)return oe(pe[0])}else{var Se=ue.name;W[Se]=ue,ce=Se}return!xe&&ce&&(G=ce),ce||!xe&&G},J=function(oe,ue){if(q(oe))return oe.clone();var fe=typeof ue=="object"?ue:{};return fe.date=oe,fe.args=arguments,new ie(fe)},Q=z;Q.l=Z,Q.i=q,Q.w=function(oe,ue){return J(oe,{locale:ue.$L,utc:ue.$u,x:ue.$x,$offset:ue.$offset})};var ie=function(){function oe(fe){this.$L=Z(fe.locale,null,!0),this.parse(fe),this.$x=this.$x||fe.x||{},this[K]=!0}var ue=oe.prototype;return ue.parse=function(fe){this.$d=function(xe){var ce=xe.date,me=xe.utc;if(ce===null)return new Date(NaN);if(Q.u(ce))return new Date;if(ce instanceof Date)return new Date(ce);if(typeof ce=="string"&&!/Z$/i.test(ce)){var pe=ce.match(B);if(pe){var Se=pe[2]-1||0,Ae=(pe[7]||"0").substring(0,3);return me?new Date(Date.UTC(pe[1],Se,pe[3]||1,pe[4]||0,pe[5]||0,pe[6]||0,Ae)):new Date(pe[1],Se,pe[3]||1,pe[4]||0,pe[5]||0,pe[6]||0,Ae)}}return new Date(ce)}(fe),this.init()},ue.init=function(){var fe=this.$d;this.$y=fe.getFullYear(),this.$M=fe.getMonth(),this.$D=fe.getDate(),this.$W=fe.getDay(),this.$H=fe.getHours(),this.$m=fe.getMinutes(),this.$s=fe.getSeconds(),this.$ms=fe.getMilliseconds()},ue.$utils=function(){return Q},ue.isValid=function(){return this.$d.toString()!==I},ue.isSame=function(fe,xe){var ce=J(fe);return this.startOf(xe)<=ce&&ce<=this.endOf(xe)},ue.isAfter=function(fe,xe){return J(fe)<this.startOf(xe)},ue.isBefore=function(fe,xe){return this.endOf(xe)<J(fe)},ue.$g=function(fe,xe,ce){return Q.u(fe)?this[xe]:this.set(ce,fe)},ue.unix=function(){return Math.floor(this.valueOf()/1e3)},ue.valueOf=function(){return this.$d.getTime()},ue.startOf=function(fe,xe){var ce=this,me=!!Q.u(xe)||xe,pe=Q.p(fe),Se=function(Oe,le){var te=Q.w(ce.$u?Date.UTC(ce.$y,le,Oe):new Date(ce.$y,le,Oe),ce);return me?te:te.endOf(A)},Ae=function(Oe,le){return Q.w(ce.toDate()[Oe].apply(ce.toDate("s"),(me?[0,0,0,0]:[23,59,59,999]).slice(le)),ce)},_e=this.$W,Me=this.$M,ve=this.$D,Ee="set"+(this.$u?"UTC":"");switch(pe){case D:return me?Se(1,0):Se(31,11);case M:return me?Se(1,Me):Se(0,Me+1);case _:var Le=this.$locale().weekStart||0,Ie=(_e<Le?_e+7:_e)-Le;return Se(me?ve-Ie:ve+(6-Ie),Me);case A:case E:return Ae(Ee+"Hours",0);case C:return Ae(Ee+"Minutes",1);case w:return Ae(Ee+"Seconds",2);case g:return Ae(Ee+"Milliseconds",3);default:return this.clone()}},ue.endOf=function(fe){return this.startOf(fe,!1)},ue.$set=function(fe,xe){var ce,me=Q.p(fe),pe="set"+(this.$u?"UTC":""),Se=(ce={},ce[A]=pe+"Date",ce[E]=pe+"Date",ce[M]=pe+"Month",ce[D]=pe+"FullYear",ce[C]=pe+"Hours",ce[w]=pe+"Minutes",ce[g]=pe+"Seconds",ce[x]=pe+"Milliseconds",ce)[me],Ae=me===A?this.$D+(xe-this.$W):xe;if(me===M||me===D){var _e=this.clone().set(E,1);_e.$d[Se](Ae),_e.init(),this.$d=_e.set(E,Math.min(this.$D,_e.daysInMonth())).$d}else Se&&this.$d[Se](Ae);return this.init(),this},ue.set=function(fe,xe){return this.clone().$set(fe,xe)},ue.get=function(fe){return this[Q.p(fe)]()},ue.add=function(fe,xe){var ce,me=this;fe=Number(fe);var pe=Q.p(xe),Se=function(Me){var ve=J(me);return Q.w(ve.date(ve.date()+Math.round(Me*fe)),me)};if(pe===M)return this.set(M,this.$M+fe);if(pe===D)return this.set(D,this.$y+fe);if(pe===A)return Se(1);if(pe===_)return Se(7);var Ae=(ce={},ce[w]=m,ce[C]=f,ce[g]=s,ce)[pe]||1,_e=this.$d.getTime()+fe*Ae;return Q.w(_e,this)},ue.subtract=function(fe,xe){return this.add(-1*fe,xe)},ue.format=function(fe){var xe=this,ce=this.$locale();if(!this.isValid())return ce.invalidDate||I;var me=fe||"YYYY-MM-DDTHH:mm:ssZ",pe=Q.z(this),Se=this.$H,Ae=this.$m,_e=this.$M,Me=ce.weekdays,ve=ce.months,Ee=ce.meridiem,Le=function(le,te,re,ne){return le&&(le[te]||le(xe,me))||re[te].slice(0,ne)},Ie=function(le){return Q.s(Se%12||12,le,"0")},Oe=Ee||function(le,te,re){var ne=le<12?"AM":"PM";return re?ne.toLowerCase():ne};return me.replace(F,function(le,te){return te||function(re){switch(re){case"YY":return String(xe.$y).slice(-2);case"YYYY":return Q.s(xe.$y,4,"0");case"M":return _e+1;case"MM":return Q.s(_e+1,2,"0");case"MMM":return Le(ce.monthsShort,_e,ve,3);case"MMMM":return Le(ve,_e);case"D":return xe.$D;case"DD":return Q.s(xe.$D,2,"0");case"d":return String(xe.$W);case"dd":return Le(ce.weekdaysMin,xe.$W,Me,2);case"ddd":return Le(ce.weekdaysShort,xe.$W,Me,3);case"dddd":return Me[xe.$W];case"H":return String(Se);case"HH":return Q.s(Se,2,"0");case"h":return Ie(1);case"hh":return Ie(2);case"a":return Oe(Se,Ae,!0);case"A":return Oe(Se,Ae,!1);case"m":return String(Ae);case"mm":return Q.s(Ae,2,"0");case"s":return String(xe.$s);case"ss":return Q.s(xe.$s,2,"0");case"SSS":return Q.s(xe.$ms,3,"0");case"Z":return pe}return null}(le)||pe.replace(":","")})},ue.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ue.diff=function(fe,xe,ce){var me,pe=this,Se=Q.p(xe),Ae=J(fe),_e=(Ae.utcOffset()-this.utcOffset())*m,Me=this-Ae,ve=function(){return Q.m(pe,Ae)};switch(Se){case D:me=ve()/12;break;case M:me=ve();break;case P:me=ve()/3;break;case _:me=(Me-_e)/6048e5;break;case A:me=(Me-_e)/864e5;break;case C:me=Me/f;break;case w:me=Me/m;break;case g:me=Me/s;break;default:me=Me}return ce?me:Q.a(me)},ue.daysInMonth=function(){return this.endOf(M).$D},ue.$locale=function(){return W[this.$L]},ue.locale=function(fe,xe){if(!fe)return this.$L;var ce=this.clone(),me=Z(fe,xe,!0);return me&&(ce.$L=me),ce},ue.clone=function(){return Q.w(this.$d,this)},ue.toDate=function(){return new Date(this.valueOf())},ue.toJSON=function(){return this.isValid()?this.toISOString():null},ue.toISOString=function(){return this.$d.toISOString()},ue.toString=function(){return this.$d.toUTCString()},oe}(),se=ie.prototype;return J.prototype=se,[["$ms",x],["$s",g],["$m",w],["$H",C],["$W",A],["$M",M],["$y",D],["$D",E]].forEach(function(oe){se[oe[1]]=function(ue){return this.$g(ue,oe[0],oe[1])}}),J.extend=function(oe,ue){return oe.$i||(oe(ue,ie,J),oe.$i=!0),J},J.locale=Z,J.isDayjs=q,J.unix=function(oe){return J(1e3*oe)},J.en=W[G],J.Ls=W,J.p={},J})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var utc$1={exports:{}};(function(a,d){(function(s,m){a.exports=m()})(commonjsGlobal,function(){var s="minute",m=/[+-]\d\d(?::?\d\d)?/g,f=/([+-]|\d\d)/g;return function(x,g,w){var C=g.prototype;w.utc=function(I){var B={date:I,utc:!0,args:arguments};return new g(B)},C.utc=function(I){var B=w(this.toDate(),{locale:this.$L,utc:!0});return I?B.add(this.utcOffset(),s):B},C.local=function(){return w(this.toDate(),{locale:this.$L,utc:!1})};var A=C.parse;C.parse=function(I){I.utc&&(this.$u=!0),this.$utils().u(I.$offset)||(this.$offset=I.$offset),A.call(this,I)};var _=C.init;C.init=function(){if(this.$u){var I=this.$d;this.$y=I.getUTCFullYear(),this.$M=I.getUTCMonth(),this.$D=I.getUTCDate(),this.$W=I.getUTCDay(),this.$H=I.getUTCHours(),this.$m=I.getUTCMinutes(),this.$s=I.getUTCSeconds(),this.$ms=I.getUTCMilliseconds()}else _.call(this)};var M=C.utcOffset;C.utcOffset=function(I,B){var F=this.$utils().u;if(F(I))return this.$u?0:F(this.$offset)?M.call(this):this.$offset;if(typeof I=="string"&&(I=function(G){G===void 0&&(G="");var W=G.match(m);if(!W)return null;var K=(""+W[0]).match(f)||["-",0,0],q=K[0],Z=60*+K[1]+ +K[2];return Z===0?0:q==="+"?Z:-Z}(I),I===null))return this;var R=Math.abs(I)<=16?60*I:I,L=this;if(B)return L.$offset=R,L.$u=I===0,L;if(I!==0){var z=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(L=this.local().add(R+z,s)).$offset=R,L.$x.$localOffset=z}else L=this.utc();return L};var P=C.format;C.format=function(I){var B=I||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return P.call(this,B)},C.valueOf=function(){var I=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*I},C.isUTC=function(){return!!this.$u},C.toISOString=function(){return this.toDate().toISOString()},C.toString=function(){return this.toDate().toUTCString()};var D=C.toDate;C.toDate=function(I){return I==="s"&&this.$offset?w(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():D.call(this)};var E=C.diff;C.diff=function(I,B,F){if(I&&this.$u===I.$u)return E.call(this,I,B,F);var R=this.local(),L=w(I).local();return E.call(R,L,B,F)}}})})(utc$1);var utcExports=utc$1.exports;const utc=getDefaultExportFromCjs(utcExports);var timezone$1={exports:{}};(function(a,d){(function(s,m){a.exports=m()})(commonjsGlobal,function(){var s={year:0,month:1,day:2,hour:3,minute:4,second:5},m={};return function(f,x,g){var w,C=function(P,D,E){E===void 0&&(E={});var I=new Date(P),B=function(F,R){R===void 0&&(R={});var L=R.timeZoneName||"short",z=F+"|"+L,G=m[z];return G||(G=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:F,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:L}),m[z]=G),G}(D,E);return B.formatToParts(I)},A=function(P,D){for(var E=C(P,D),I=[],B=0;B<E.length;B+=1){var F=E[B],R=F.type,L=F.value,z=s[R];z>=0&&(I[z]=parseInt(L,10))}var G=I[3],W=G===24?0:G,K=I[0]+"-"+I[1]+"-"+I[2]+" "+W+":"+I[4]+":"+I[5]+":000",q=+P;return(g.utc(K).valueOf()-(q-=q%1e3))/6e4},_=x.prototype;_.tz=function(P,D){P===void 0&&(P=w);var E=this.utcOffset(),I=this.toDate(),B=I.toLocaleString("en-US",{timeZone:P}),F=Math.round((I-new Date(B))/1e3/60),R=g(B,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(I.getTimezoneOffset()/15)-F,!0);if(D){var L=R.utcOffset();R=R.add(E-L,"minute")}return R.$x.$timezone=P,R},_.offsetName=function(P){var D=this.$x.$timezone||g.tz.guess(),E=C(this.valueOf(),D,{timeZoneName:P}).find(function(I){return I.type.toLowerCase()==="timezonename"});return E&&E.value};var M=_.startOf;_.startOf=function(P,D){if(!this.$x||!this.$x.$timezone)return M.call(this,P,D);var E=g(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return M.call(E,P,D).tz(this.$x.$timezone,!0)},g.tz=function(P,D,E){var I=E&&D,B=E||D||w,F=A(+g(),B);if(typeof P!="string")return g(P).tz(B);var R=function(W,K,q){var Z=W-60*K*1e3,J=A(Z,q);if(K===J)return[Z,K];var Q=A(Z-=60*(J-K)*1e3,q);return J===Q?[Z,J]:[W-60*Math.min(J,Q)*1e3,Math.max(J,Q)]}(g.utc(P,I).valueOf(),F,B),L=R[0],z=R[1],G=g(L).utcOffset(z);return G.$x.$timezone=B,G},g.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},g.tz.setDefault=function(P){w=P}}})})(timezone$1);var timezoneExports=timezone$1.exports;const timezone=getDefaultExportFromCjs(timezoneExports);function getDateService(){return DefaultDateService}dayjs.extend(utc);dayjs.extend(timezone);const DefaultDateService={format:(a,d)=>dayjs(a).format(d),convertTime:(a,d)=>dayjs(a).tz(d).toDate(),addYears:(a,d)=>dayjs(a).add(d,"year").toDate(),addMonths:(a,d)=>dayjs(a).add(d,"month").toDate(),addTimespan:(a,d)=>{let s=dayjs(a);return d.days&&(s=s.add(d.days,"day")),d.hours&&(s=s.add(d.hours,"hour")),d.minutes&&(s=s.add(d.minutes,"minute")),d.seconds&&(s=s.add(d.seconds,"second")),d.milliseconds&&(s=s.add(d.milliseconds,"millisecond")),s.toDate()},dayOfWeek:a=>dayjs(a).day(),diff:(a,d)=>{const s=dayjs(a).diff(dayjs(d));return TimeSpan.fromMilliseconds(s)}},bitMethods={getBit(a){return this.data[getSlot(a)]&1<<getShift(a)?1:0},setBit(a){this.data[getSlot(a)]|=1<<getShift(a)},clearBit(a){this.data[getSlot(a)]&=~(1<<getShift(a))},toggleBit(a){this.data[getSlot(a)]^=1<<getShift(a)},getBitXY(a,d){return a>=this.width||d>=this.height?0:this.getBit(d*this.width+a)},setBitXY(a,d){this.setBit(d*this.width+a)},clearBitXY(a,d){this.clearBit(d*this.width+a)},toggleBitXY(a,d){this.toggleBit(d*this.width+a)}};function getSlot(a){return a>>3}function getShift(a){return 7-(a&7)}function setBitMethods(a){for(const d in bitMethods)a.prototype[d]=bitMethods[d]}function checkProcessable(a,d={}){let{bitDepth:s,alpha:m,colorModel:f,components:x,channels:g}=d;if(typeof a!="string"||a.length===0)throw new TypeError("processName must be a string");if(s&&(Array.isArray(s)||(s=[s]),!s.includes(this.bitDepth)))throw new TypeError(`The process: ${a} can only be applied if bit depth is in: ${s}`);if(m&&(Array.isArray(m)||(m=[m]),!m.includes(this.alpha)))throw new TypeError(`The process: ${a} can only be applied if alpha is in: ${m}`);if(f&&(Array.isArray(f)||(f=[f]),!f.includes(this.colorModel)))throw new TypeError(`The process: ${a} can only be applied if color model is in: ${f}`);if(x&&(Array.isArray(x)||(x=[x]),!x.includes(this.components))){let w=`The process: ${a} can only be applied if the number of components is in: ${x}`;throw x.length===1&&x[0]===1?new TypeError(`${w}.\rYou should transform your image using "image.grey()" before applying the algorithm.`):new TypeError(w)}if(g&&(Array.isArray(g)||(g=[g]),!g.includes(this.channels)))throw new TypeError(`The process: ${a} can only be applied if the number of channels is in: ${g}`)}function createBlob(a,d){a=a||[],d=d||{},typeof d=="string"&&(d={type:d});try{return new Blob(a,d)}catch(x){if(x.name!=="TypeError")throw x;for(var s=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,m=new s,f=0;f<a.length;f+=1)m.append(a[f]);return m.getBlob(d.type)}}function dataURLToBlob(a){var d=a.match(/data:([^;]+)/)[1],s=a.replace(/^[^,]+,/,""),m=binaryStringToArrayBuffer(atob(s));return createBlob([m],{type:d})}function canvasToBlob(a,d,s){return typeof a.toBlob=="function"?new Promise(function(m){a.toBlob(m,d,s)}):Promise.resolve(dataURLToBlob(a.toDataURL(d,s)))}function binaryStringToArrayBuffer(a){for(var d=a.length,s=new ArrayBuffer(d),m=new Uint8Array(s),f=-1;++f<d;)m[f]=a.charCodeAt(f);return s}(function(a){if(a.TextEncoder&&a.TextDecoder)return!1;function d(m="utf-8"){if(m!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${m}') is invalid.`)}Object.defineProperty(d.prototype,"encoding",{value:"utf-8"}),d.prototype.encode=function(m,f={stream:!1}){if(f.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let x=0;const g=m.length;let w=0,C=Math.max(32,g+(g>>1)+7),A=new Uint8Array(C>>3<<3);for(;x<g;){let _=m.charCodeAt(x++);if(_>=55296&&_<=56319){if(x<g){const M=m.charCodeAt(x);(M&64512)===56320&&(++x,_=((_&1023)<<10)+(M&1023)+65536)}if(_>=55296&&_<=56319)continue}if(w+4>A.length){C+=8,C*=1+x/m.length*2,C=C>>3<<3;const M=new Uint8Array(C);M.set(A),A=M}if(_&4294967168)if(!(_&4294965248))A[w++]=_>>6&31|192;else if(!(_&4294901760))A[w++]=_>>12&15|224,A[w++]=_>>6&63|128;else if(!(_&4292870144))A[w++]=_>>18&7|240,A[w++]=_>>12&63|128,A[w++]=_>>6&63|128;else continue;else{A[w++]=_;continue}A[w++]=_&63|128}return A.slice(0,w)};function s(m="utf-8",f={fatal:!1}){if(m!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${m}') is invalid.`);if(f.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(s.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(s.prototype,"fatal",{value:!1}),Object.defineProperty(s.prototype,"ignoreBOM",{value:!1}),s.prototype.decode=function(m,f={stream:!1}){if(f.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const x=new Uint8Array(m);let g=0;const w=x.length,C=[];for(;g<w;){const A=x[g++];if(A===0)break;if(!(A&128))C.push(A);else if((A&224)===192){const _=x[g++]&63;C.push((A&31)<<6|_)}else if((A&240)===224){const _=x[g++]&63,M=x[g++]&63;C.push((A&31)<<12|_<<6|M)}else if((A&248)===240){const _=x[g++]&63,M=x[g++]&63,P=x[g++]&63;let D=(A&7)<<18|_<<12|M<<6|P;D>65535&&(D-=65536,C.push(D>>>10&1023|55296),D=56320|D&1023),C.push(D)}}return String.fromCharCode.apply(null,C)},a.TextEncoder=d,a.TextDecoder=s})(typeof window<"u"?window:typeof self<"u"?self:void 0);function decode$5(a,d="utf8"){return new TextDecoder(d).decode(a)}const encoder$1=new TextEncoder;function encode$3(a){return encoder$1.encode(a)}const defaultByteLength$1=1024*8,hostBigEndian=(()=>{const a=new Uint8Array(4),d=new Uint32Array(a.buffer);return!((d[0]=1)&a[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};let IOBuffer$4=class yi{constructor(d=defaultByteLength$1,s={}){let m=!1;typeof d=="number"?d=new ArrayBuffer(d):(m=!0,this.lastWrittenByte=d.byteLength);const f=s.offset?s.offset>>>0:0,x=d.byteLength-f;let g=f;(ArrayBuffer.isView(d)||d instanceof yi)&&(d.byteLength!==d.buffer.byteLength&&(g=d.byteOffset+f),d=d.buffer),m?this.lastWrittenByte=x:this.lastWrittenByte=0,this.buffer=d,this.length=x,this.byteLength=x,this.byteOffset=g,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,g,x),this._mark=0,this._marks=[]}available(d=1){return this.offset+d<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(d=1){return this.offset+=d,this}back(d=1){return this.offset-=d,this}seek(d){return this.offset=d,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const d=this._marks.pop();if(d===void 0)throw new Error("Mark stack empty");return this.seek(d),this}rewind(){return this.offset=0,this}ensureAvailable(d=1){if(!this.available(d)){const m=(this.offset+d)*2,f=new Uint8Array(m);f.set(new Uint8Array(this.buffer)),this.buffer=f.buffer,this.length=this.byteLength=m,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(d=1){return this.readArray(d,"uint8")}readArray(d,s){const m=typedArrays[s].BYTES_PER_ELEMENT*d,f=this.byteOffset+this.offset,x=this.buffer.slice(f,f+m);if(this.littleEndian===hostBigEndian&&s!=="uint8"&&s!=="int8"){const w=new Uint8Array(this.buffer.slice(f,f+m));w.reverse();const C=new typedArrays[s](w.buffer);return this.offset+=m,C.reverse(),C}const g=new typedArrays[s](x);return this.offset+=m,g}readInt16(){const d=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,d}readUint16(){const d=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,d}readInt32(){const d=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,d}readUint32(){const d=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,d}readFloat32(){const d=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,d}readFloat64(){const d=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,d}readBigInt64(){const d=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,d}readBigUint64(){const d=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,d}readChar(){return String.fromCharCode(this.readInt8())}readChars(d=1){let s="";for(let m=0;m<d;m++)s+=this.readChar();return s}readUtf8(d=1){return decode$5(this.readBytes(d))}decodeText(d=1,s="utf-8"){return decode$5(this.readBytes(d),s)}writeBoolean(d){return this.writeUint8(d?255:0),this}writeInt8(d){return this.ensureAvailable(1),this._data.setInt8(this.offset++,d),this._updateLastWrittenByte(),this}writeUint8(d){return this.ensureAvailable(1),this._data.setUint8(this.offset++,d),this._updateLastWrittenByte(),this}writeByte(d){return this.writeUint8(d)}writeBytes(d){this.ensureAvailable(d.length);for(let s=0;s<d.length;s++)this._data.setUint8(this.offset++,d[s]);return this._updateLastWrittenByte(),this}writeInt16(d){return this.ensureAvailable(2),this._data.setInt16(this.offset,d,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(d){return this.ensureAvailable(2),this._data.setUint16(this.offset,d,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(d){return this.ensureAvailable(4),this._data.setInt32(this.offset,d,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(d){return this.ensureAvailable(4),this._data.setUint32(this.offset,d,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(d){return this.ensureAvailable(4),this._data.setFloat32(this.offset,d,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(d){return this.ensureAvailable(8),this._data.setFloat64(this.offset,d,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(d){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,d,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(d){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,d,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(d){return this.writeUint8(d.charCodeAt(0))}writeChars(d){for(let s=0;s<d.length;s++)this.writeUint8(d.charCodeAt(s));return this}writeUtf8(d){return this.writeBytes(encode$3(d))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};const IOBuffer$5=Object.freeze(Object.defineProperty({__proto__:null,IOBuffer:IOBuffer$4},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(IOBuffer$5);var constants$4={BITMAPV5HEADER:{LogicalColorSpace:{LCS_CALIBRATED_RGB:0,LCS_sRGB:1934772034,LCS_WINDOWS_COLOR_SPACE:1466527264},Compression:{BI_RGB:0,BI_RLE8:1,BI_RLE4:2,BI_BITFIELDS:3,BI_JPEG:4,BI_PNG:5,BI_CMYK:11,BI_CMYKRLE8:12,BI_CMYKRLE4:13},GamutMappingIntent:{LCS_GM_ABS_COLORIMETRIC:8,LCS_GM_BUSINESS:1,LCS_GM_GRAPHICS:2,LCS_GM_IMAGES:4}}};const{IOBuffer:IOBuffer$3}=require$$0$3,constants$3=constants$4,tableLeft=[];for(let a=0;a<=8;a++)tableLeft.push(255<<a);class BMPEncoder extends IOBuffer$3{constructor(d){if(d.bitDepth!==1)throw new Error("Only bitDepth of 1 is supported");if(!d.height||!d.width)throw new Error("ImageData width and height are required");super(d.data),this.width=d.width,this.height=d.height,this.bitDepth=d.bitDepth,this.channels=d.channels,this.components=d.components}encode(){this.encoded=new IOBuffer$3,this.encoded.skip(14),this.writeBitmapV5Header(),this.writeColorTable();const d=this.encoded.offset;return this.writePixelArray(),this.encoded.rewind(),this.writeBitmapFileHeader(d),this.encoded.toArray()}writePixelArray(){let d=this.encoded;const s=Math.floor((this.bitDepth*this.width+31)/32)*4,m=Math.ceil(this.bitDepth*this.width/8),f=s-m,x=this.bitDepth*this.width%8,g=x===0?0:8-x,w=s*this.height;let C,A,_=0,M=0,P=8;d.mark(),A=this.readUint8();for(let D=this.height-1;D>=0;D--){const E=D===0;d.reset(),d.skip(D*s);for(let I=0;I<m;I++){const B=I===m-1;M<=g&&B?(d.writeByte(A<<M),(g===0||g===M)&&!E&&(C=A,A=this.readByte())):M===0?(C=A,A=this.readUint8(),d.writeByte(C)):(C=A,A=this.readUint8(),d.writeByte(C<<M&tableLeft[M]|A>>P)),B&&(_+=x||0,d.skip(f),M=_%8,P=8-M)}}s>m&&(d.reset(),d.skip(w-1),d.writeUint8(0))}writeColorTable(){this.encoded.writeUint32(0).writeUint32(16777215)}writeBitmapFileHeader(d){this.encoded.writeChars("BM").writeInt32(this.encoded.lastWrittenByte).writeUint16(0).writeUint16(0).writeUint32(d)}writeBitmapV5Header(){const s=Math.floor((this.bitDepth*this.width+31)/32)*4*this.height;this.encoded.writeUint32(124).writeInt32(this.width).writeInt32(this.height).writeUint16(1).writeUint16(this.bitDepth).writeUint32(constants$3.BITMAPV5HEADER.Compression.BI_RGB).writeUint32(s).writeInt32(0).writeInt32(0).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(4278190080).writeUint32(16711680).writeUint32(65280).writeUint32(255).writeUint32(constants$3.BITMAPV5HEADER.LogicalColorSpace.LCS_sRGB).skip(36).skip(12).writeUint32(constants$3.BITMAPV5HEADER.GamutMappingIntent.LCS_GM_IMAGES).skip(12)}}var BMPEncoder_1=BMPEncoder;const Encoder=BMPEncoder_1;var encode$2=function(d){return new Encoder(d).encode()};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(a){let d=a.length;for(;--d>=0;)a[d]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(a,d,s,m,f){this.static_tree=a,this.extra_bits=d,this.extra_base=s,this.elems=m,this.max_length=f,this.has_stree=a&&a.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(a,d){this.dyn_tree=a,this.max_code=0,this.stat_desc=d}const d_code=a=>a<256?_dist_code[a]:_dist_code[256+(a>>>7)],put_short=(a,d)=>{a.pending_buf[a.pending++]=d&255,a.pending_buf[a.pending++]=d>>>8&255},send_bits=(a,d,s)=>{a.bi_valid>Buf_size-s?(a.bi_buf|=d<<a.bi_valid&65535,put_short(a,a.bi_buf),a.bi_buf=d>>Buf_size-a.bi_valid,a.bi_valid+=s-Buf_size):(a.bi_buf|=d<<a.bi_valid&65535,a.bi_valid+=s)},send_code=(a,d,s)=>{send_bits(a,s[d*2],s[d*2+1])},bi_reverse=(a,d)=>{let s=0;do s|=a&1,a>>>=1,s<<=1;while(--d>0);return s>>>1},bi_flush=a=>{a.bi_valid===16?(put_short(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)},gen_bitlen=(a,d)=>{const s=d.dyn_tree,m=d.max_code,f=d.stat_desc.static_tree,x=d.stat_desc.has_stree,g=d.stat_desc.extra_bits,w=d.stat_desc.extra_base,C=d.stat_desc.max_length;let A,_,M,P,D,E,I=0;for(P=0;P<=MAX_BITS$1;P++)a.bl_count[P]=0;for(s[a.heap[a.heap_max]*2+1]=0,A=a.heap_max+1;A<HEAP_SIZE$1;A++)_=a.heap[A],P=s[s[_*2+1]*2+1]+1,P>C&&(P=C,I++),s[_*2+1]=P,!(_>m)&&(a.bl_count[P]++,D=0,_>=w&&(D=g[_-w]),E=s[_*2],a.opt_len+=E*(P+D),x&&(a.static_len+=E*(f[_*2+1]+D)));if(I!==0){do{for(P=C-1;a.bl_count[P]===0;)P--;a.bl_count[P]--,a.bl_count[P+1]+=2,a.bl_count[C]--,I-=2}while(I>0);for(P=C;P!==0;P--)for(_=a.bl_count[P];_!==0;)M=a.heap[--A],!(M>m)&&(s[M*2+1]!==P&&(a.opt_len+=(P-s[M*2+1])*s[M*2],s[M*2+1]=P),_--)}},gen_codes=(a,d,s)=>{const m=new Array(MAX_BITS$1+1);let f=0,x,g;for(x=1;x<=MAX_BITS$1;x++)f=f+s[x-1]<<1,m[x]=f;for(g=0;g<=d;g++){let w=a[g*2+1];w!==0&&(a[g*2]=bi_reverse(m[w]++,w))}},tr_static_init=()=>{let a,d,s,m,f;const x=new Array(MAX_BITS$1+1);for(s=0,m=0;m<LENGTH_CODES$1-1;m++)for(base_length[m]=s,a=0;a<1<<extra_lbits[m];a++)_length_code[s++]=m;for(_length_code[s-1]=m,f=0,m=0;m<16;m++)for(base_dist[m]=f,a=0;a<1<<extra_dbits[m];a++)_dist_code[f++]=m;for(f>>=7;m<D_CODES$1;m++)for(base_dist[m]=f<<7,a=0;a<1<<extra_dbits[m]-7;a++)_dist_code[256+f++]=m;for(d=0;d<=MAX_BITS$1;d++)x[d]=0;for(a=0;a<=143;)static_ltree[a*2+1]=8,a++,x[8]++;for(;a<=255;)static_ltree[a*2+1]=9,a++,x[9]++;for(;a<=279;)static_ltree[a*2+1]=7,a++,x[7]++;for(;a<=287;)static_ltree[a*2+1]=8,a++,x[8]++;for(gen_codes(static_ltree,L_CODES$1+1,x),a=0;a<D_CODES$1;a++)static_dtree[a*2+1]=5,static_dtree[a*2]=bi_reverse(a,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=a=>{let d;for(d=0;d<L_CODES$1;d++)a.dyn_ltree[d*2]=0;for(d=0;d<D_CODES$1;d++)a.dyn_dtree[d*2]=0;for(d=0;d<BL_CODES$1;d++)a.bl_tree[d*2]=0;a.dyn_ltree[END_BLOCK*2]=1,a.opt_len=a.static_len=0,a.sym_next=a.matches=0},bi_windup=a=>{a.bi_valid>8?put_short(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0},smaller=(a,d,s,m)=>{const f=d*2,x=s*2;return a[f]<a[x]||a[f]===a[x]&&m[d]<=m[s]},pqdownheap=(a,d,s)=>{const m=a.heap[s];let f=s<<1;for(;f<=a.heap_len&&(f<a.heap_len&&smaller(d,a.heap[f+1],a.heap[f],a.depth)&&f++,!smaller(d,m,a.heap[f],a.depth));)a.heap[s]=a.heap[f],s=f,f<<=1;a.heap[s]=m},compress_block=(a,d,s)=>{let m,f,x=0,g,w;if(a.sym_next!==0)do m=a.pending_buf[a.sym_buf+x++]&255,m+=(a.pending_buf[a.sym_buf+x++]&255)<<8,f=a.pending_buf[a.sym_buf+x++],m===0?send_code(a,f,d):(g=_length_code[f],send_code(a,g+LITERALS$1+1,d),w=extra_lbits[g],w!==0&&(f-=base_length[g],send_bits(a,f,w)),m--,g=d_code(m),send_code(a,g,s),w=extra_dbits[g],w!==0&&(m-=base_dist[g],send_bits(a,m,w)));while(x<a.sym_next);send_code(a,END_BLOCK,d)},build_tree=(a,d)=>{const s=d.dyn_tree,m=d.stat_desc.static_tree,f=d.stat_desc.has_stree,x=d.stat_desc.elems;let g,w,C=-1,A;for(a.heap_len=0,a.heap_max=HEAP_SIZE$1,g=0;g<x;g++)s[g*2]!==0?(a.heap[++a.heap_len]=C=g,a.depth[g]=0):s[g*2+1]=0;for(;a.heap_len<2;)A=a.heap[++a.heap_len]=C<2?++C:0,s[A*2]=1,a.depth[A]=0,a.opt_len--,f&&(a.static_len-=m[A*2+1]);for(d.max_code=C,g=a.heap_len>>1;g>=1;g--)pqdownheap(a,s,g);A=x;do g=a.heap[1],a.heap[1]=a.heap[a.heap_len--],pqdownheap(a,s,1),w=a.heap[1],a.heap[--a.heap_max]=g,a.heap[--a.heap_max]=w,s[A*2]=s[g*2]+s[w*2],a.depth[A]=(a.depth[g]>=a.depth[w]?a.depth[g]:a.depth[w])+1,s[g*2+1]=s[w*2+1]=A,a.heap[1]=A++,pqdownheap(a,s,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],gen_bitlen(a,d),gen_codes(s,C,a.bl_count)},scan_tree=(a,d,s)=>{let m,f=-1,x,g=d[0*2+1],w=0,C=7,A=4;for(g===0&&(C=138,A=3),d[(s+1)*2+1]=65535,m=0;m<=s;m++)x=g,g=d[(m+1)*2+1],!(++w<C&&x===g)&&(w<A?a.bl_tree[x*2]+=w:x!==0?(x!==f&&a.bl_tree[x*2]++,a.bl_tree[REP_3_6*2]++):w<=10?a.bl_tree[REPZ_3_10*2]++:a.bl_tree[REPZ_11_138*2]++,w=0,f=x,g===0?(C=138,A=3):x===g?(C=6,A=3):(C=7,A=4))},send_tree=(a,d,s)=>{let m,f=-1,x,g=d[0*2+1],w=0,C=7,A=4;for(g===0&&(C=138,A=3),m=0;m<=s;m++)if(x=g,g=d[(m+1)*2+1],!(++w<C&&x===g)){if(w<A)do send_code(a,x,a.bl_tree);while(--w!==0);else x!==0?(x!==f&&(send_code(a,x,a.bl_tree),w--),send_code(a,REP_3_6,a.bl_tree),send_bits(a,w-3,2)):w<=10?(send_code(a,REPZ_3_10,a.bl_tree),send_bits(a,w-3,3)):(send_code(a,REPZ_11_138,a.bl_tree),send_bits(a,w-11,7));w=0,f=x,g===0?(C=138,A=3):x===g?(C=6,A=3):(C=7,A=4)}},build_bl_tree=a=>{let d;for(scan_tree(a,a.dyn_ltree,a.l_desc.max_code),scan_tree(a,a.dyn_dtree,a.d_desc.max_code),build_tree(a,a.bl_desc),d=BL_CODES$1-1;d>=3&&a.bl_tree[bl_order[d]*2+1]===0;d--);return a.opt_len+=3*(d+1)+5+5+4,d},send_all_trees=(a,d,s,m)=>{let f;for(send_bits(a,d-257,5),send_bits(a,s-1,5),send_bits(a,m-4,4),f=0;f<m;f++)send_bits(a,a.bl_tree[bl_order[f]*2+1],3);send_tree(a,a.dyn_ltree,d-1),send_tree(a,a.dyn_dtree,s-1)},detect_data_type=a=>{let d=4093624447,s;for(s=0;s<=31;s++,d>>>=1)if(d&1&&a.dyn_ltree[s*2]!==0)return Z_BINARY;if(a.dyn_ltree[9*2]!==0||a.dyn_ltree[10*2]!==0||a.dyn_ltree[13*2]!==0)return Z_TEXT;for(s=32;s<LITERALS$1;s++)if(a.dyn_ltree[s*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=a=>{static_init_done||(tr_static_init(),static_init_done=!0),a.l_desc=new TreeDesc(a.dyn_ltree,static_l_desc),a.d_desc=new TreeDesc(a.dyn_dtree,static_d_desc),a.bl_desc=new TreeDesc(a.bl_tree,static_bl_desc),a.bi_buf=0,a.bi_valid=0,init_block(a)},_tr_stored_block$1=(a,d,s,m)=>{send_bits(a,(STORED_BLOCK<<1)+(m?1:0),3),bi_windup(a),put_short(a,s),put_short(a,~s),s&&a.pending_buf.set(a.window.subarray(d,d+s),a.pending),a.pending+=s},_tr_align$1=a=>{send_bits(a,STATIC_TREES<<1,3),send_code(a,END_BLOCK,static_ltree),bi_flush(a)},_tr_flush_block$1=(a,d,s,m)=>{let f,x,g=0;a.level>0?(a.strm.data_type===Z_UNKNOWN$1&&(a.strm.data_type=detect_data_type(a)),build_tree(a,a.l_desc),build_tree(a,a.d_desc),g=build_bl_tree(a),f=a.opt_len+3+7>>>3,x=a.static_len+3+7>>>3,x<=f&&(f=x)):f=x=s+5,s+4<=f&&d!==-1?_tr_stored_block$1(a,d,s,m):a.strategy===Z_FIXED$1||x===f?(send_bits(a,(STATIC_TREES<<1)+(m?1:0),3),compress_block(a,static_ltree,static_dtree)):(send_bits(a,(DYN_TREES<<1)+(m?1:0),3),send_all_trees(a,a.l_desc.max_code+1,a.d_desc.max_code+1,g+1),compress_block(a,a.dyn_ltree,a.dyn_dtree)),init_block(a),m&&bi_windup(a)},_tr_tally$1=(a,d,s)=>(a.pending_buf[a.sym_buf+a.sym_next++]=d,a.pending_buf[a.sym_buf+a.sym_next++]=d>>8,a.pending_buf[a.sym_buf+a.sym_next++]=s,d===0?a.dyn_ltree[s*2]++:(a.matches++,d--,a.dyn_ltree[(_length_code[s]+LITERALS$1+1)*2]++,a.dyn_dtree[d_code(d)*2]++),a.sym_next===a.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(a,d,s,m)=>{let f=a&65535|0,x=a>>>16&65535|0,g=0;for(;s!==0;){g=s>2e3?2e3:s,s-=g;do f=f+d[m++]|0,x=x+f|0;while(--g);f%=65521,x%=65521}return f|x<<16|0};var adler32_1=adler32;const makeTable=()=>{let a,d=[];for(var s=0;s<256;s++){a=s;for(var m=0;m<8;m++)a=a&1?3988292384^a>>>1:a>>>1;d[s]=a}return d},crcTable$1=new Uint32Array(makeTable()),crc32=(a,d,s,m)=>{const f=crcTable$1,x=m+s;a^=-1;for(let g=m;g<x;g++)a=a>>>8^f[(a^d[g])&255];return a^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(a,d)=>(a.msg=messages[d],d),rank=a=>a*2-(a>4?9:0),zero=a=>{let d=a.length;for(;--d>=0;)a[d]=0},slide_hash=a=>{let d,s,m,f=a.w_size;d=a.hash_size,m=d;do s=a.head[--m],a.head[m]=s>=f?s-f:0;while(--d);d=f,m=d;do s=a.prev[--m],a.prev[m]=s>=f?s-f:0;while(--d)};let HASH_ZLIB=(a,d,s)=>(d<<a.hash_shift^s)&a.hash_mask,HASH=HASH_ZLIB;const flush_pending=a=>{const d=a.state;let s=d.pending;s>a.avail_out&&(s=a.avail_out),s!==0&&(a.output.set(d.pending_buf.subarray(d.pending_out,d.pending_out+s),a.next_out),a.next_out+=s,d.pending_out+=s,a.total_out+=s,a.avail_out-=s,d.pending-=s,d.pending===0&&(d.pending_out=0))},flush_block_only=(a,d)=>{_tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,d),a.block_start=a.strstart,flush_pending(a.strm)},put_byte=(a,d)=>{a.pending_buf[a.pending++]=d},putShortMSB=(a,d)=>{a.pending_buf[a.pending++]=d>>>8&255,a.pending_buf[a.pending++]=d&255},read_buf=(a,d,s,m)=>{let f=a.avail_in;return f>m&&(f=m),f===0?0:(a.avail_in-=f,d.set(a.input.subarray(a.next_in,a.next_in+f),s),a.state.wrap===1?a.adler=adler32_1(a.adler,d,f,s):a.state.wrap===2&&(a.adler=crc32_1(a.adler,d,f,s)),a.next_in+=f,a.total_in+=f,f)},longest_match=(a,d)=>{let s=a.max_chain_length,m=a.strstart,f,x,g=a.prev_length,w=a.nice_match;const C=a.strstart>a.w_size-MIN_LOOKAHEAD?a.strstart-(a.w_size-MIN_LOOKAHEAD):0,A=a.window,_=a.w_mask,M=a.prev,P=a.strstart+MAX_MATCH;let D=A[m+g-1],E=A[m+g];a.prev_length>=a.good_match&&(s>>=2),w>a.lookahead&&(w=a.lookahead);do if(f=d,!(A[f+g]!==E||A[f+g-1]!==D||A[f]!==A[m]||A[++f]!==A[m+1])){m+=2,f++;do;while(A[++m]===A[++f]&&A[++m]===A[++f]&&A[++m]===A[++f]&&A[++m]===A[++f]&&A[++m]===A[++f]&&A[++m]===A[++f]&&A[++m]===A[++f]&&A[++m]===A[++f]&&m<P);if(x=MAX_MATCH-(P-m),m=P-MAX_MATCH,x>g){if(a.match_start=d,g=x,x>=w)break;D=A[m+g-1],E=A[m+g]}}while((d=M[d&_])>C&&--s!==0);return g<=a.lookahead?g:a.lookahead},fill_window=a=>{const d=a.w_size;let s,m,f;do{if(m=a.window_size-a.lookahead-a.strstart,a.strstart>=d+(d-MIN_LOOKAHEAD)&&(a.window.set(a.window.subarray(d,d+d-m),0),a.match_start-=d,a.strstart-=d,a.block_start-=d,a.insert>a.strstart&&(a.insert=a.strstart),slide_hash(a),m+=d),a.strm.avail_in===0)break;if(s=read_buf(a.strm,a.window,a.strstart+a.lookahead,m),a.lookahead+=s,a.lookahead+a.insert>=MIN_MATCH)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=HASH(a,a.ins_h,a.window[f+1]);a.insert&&(a.ins_h=HASH(a,a.ins_h,a.window[f+MIN_MATCH-1]),a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<MIN_MATCH)););}while(a.lookahead<MIN_LOOKAHEAD&&a.strm.avail_in!==0)},deflate_stored=(a,d)=>{let s=a.pending_buf_size-5>a.w_size?a.w_size:a.pending_buf_size-5,m,f,x,g=0,w=a.strm.avail_in;do{if(m=65535,x=a.bi_valid+42>>3,a.strm.avail_out<x||(x=a.strm.avail_out-x,f=a.strstart-a.block_start,m>f+a.strm.avail_in&&(m=f+a.strm.avail_in),m>x&&(m=x),m<s&&(m===0&&d!==Z_FINISH$3||d===Z_NO_FLUSH$2||m!==f+a.strm.avail_in)))break;g=d===Z_FINISH$3&&m===f+a.strm.avail_in?1:0,_tr_stored_block(a,0,0,g),a.pending_buf[a.pending-4]=m,a.pending_buf[a.pending-3]=m>>8,a.pending_buf[a.pending-2]=~m,a.pending_buf[a.pending-1]=~m>>8,flush_pending(a.strm),f&&(f>m&&(f=m),a.strm.output.set(a.window.subarray(a.block_start,a.block_start+f),a.strm.next_out),a.strm.next_out+=f,a.strm.avail_out-=f,a.strm.total_out+=f,a.block_start+=f,m-=f),m&&(read_buf(a.strm,a.strm.output,a.strm.next_out,m),a.strm.next_out+=m,a.strm.avail_out-=m,a.strm.total_out+=m)}while(g===0);return w-=a.strm.avail_in,w&&(w>=a.w_size?(a.matches=2,a.window.set(a.strm.input.subarray(a.strm.next_in-a.w_size,a.strm.next_in),0),a.strstart=a.w_size,a.insert=a.strstart):(a.window_size-a.strstart<=w&&(a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),a.matches<2&&a.matches++,a.insert>a.strstart&&(a.insert=a.strstart)),a.window.set(a.strm.input.subarray(a.strm.next_in-w,a.strm.next_in),a.strstart),a.strstart+=w,a.insert+=w>a.w_size-a.insert?a.w_size-a.insert:w),a.block_start=a.strstart),a.high_water<a.strstart&&(a.high_water=a.strstart),g?BS_FINISH_DONE:d!==Z_NO_FLUSH$2&&d!==Z_FINISH$3&&a.strm.avail_in===0&&a.strstart===a.block_start?BS_BLOCK_DONE:(x=a.window_size-a.strstart,a.strm.avail_in>x&&a.block_start>=a.w_size&&(a.block_start-=a.w_size,a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),a.matches<2&&a.matches++,x+=a.w_size,a.insert>a.strstart&&(a.insert=a.strstart)),x>a.strm.avail_in&&(x=a.strm.avail_in),x&&(read_buf(a.strm,a.window,a.strstart,x),a.strstart+=x,a.insert+=x>a.w_size-a.insert?a.w_size-a.insert:x),a.high_water<a.strstart&&(a.high_water=a.strstart),x=a.bi_valid+42>>3,x=a.pending_buf_size-x>65535?65535:a.pending_buf_size-x,s=x>a.w_size?a.w_size:x,f=a.strstart-a.block_start,(f>=s||(f||d===Z_FINISH$3)&&d!==Z_NO_FLUSH$2&&a.strm.avail_in===0&&f<=x)&&(m=f>x?x:f,g=d===Z_FINISH$3&&a.strm.avail_in===0&&m===f?1:0,_tr_stored_block(a,a.block_start,m,g),a.block_start+=m,flush_pending(a.strm)),g?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(a,d)=>{let s,m;for(;;){if(a.lookahead<MIN_LOOKAHEAD){if(fill_window(a),a.lookahead<MIN_LOOKAHEAD&&d===Z_NO_FLUSH$2)return BS_NEED_MORE;if(a.lookahead===0)break}if(s=0,a.lookahead>=MIN_MATCH&&(a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+MIN_MATCH-1]),s=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),s!==0&&a.strstart-s<=a.w_size-MIN_LOOKAHEAD&&(a.match_length=longest_match(a,s)),a.match_length>=MIN_MATCH)if(m=_tr_tally(a,a.strstart-a.match_start,a.match_length-MIN_MATCH),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=MIN_MATCH){a.match_length--;do a.strstart++,a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+MIN_MATCH-1]),s=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(--a.match_length!==0);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+1]);else m=_tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(m&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}return a.insert=a.strstart<MIN_MATCH-1?a.strstart:MIN_MATCH-1,d===Z_FINISH$3?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.sym_next&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(a,d)=>{let s,m,f;for(;;){if(a.lookahead<MIN_LOOKAHEAD){if(fill_window(a),a.lookahead<MIN_LOOKAHEAD&&d===Z_NO_FLUSH$2)return BS_NEED_MORE;if(a.lookahead===0)break}if(s=0,a.lookahead>=MIN_MATCH&&(a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+MIN_MATCH-1]),s=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=MIN_MATCH-1,s!==0&&a.prev_length<a.max_lazy_match&&a.strstart-s<=a.w_size-MIN_LOOKAHEAD&&(a.match_length=longest_match(a,s),a.match_length<=5&&(a.strategy===Z_FILTERED||a.match_length===MIN_MATCH&&a.strstart-a.match_start>4096)&&(a.match_length=MIN_MATCH-1)),a.prev_length>=MIN_MATCH&&a.match_length<=a.prev_length){f=a.strstart+a.lookahead-MIN_MATCH,m=_tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-MIN_MATCH),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=f&&(a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+MIN_MATCH-1]),s=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(--a.prev_length!==0);if(a.match_available=0,a.match_length=MIN_MATCH-1,a.strstart++,m&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}else if(a.match_available){if(m=_tr_tally(a,0,a.window[a.strstart-1]),m&&flush_block_only(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return BS_NEED_MORE}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(m=_tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<MIN_MATCH-1?a.strstart:MIN_MATCH-1,d===Z_FINISH$3?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.sym_next&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(a,d)=>{let s,m,f,x;const g=a.window;for(;;){if(a.lookahead<=MAX_MATCH){if(fill_window(a),a.lookahead<=MAX_MATCH&&d===Z_NO_FLUSH$2)return BS_NEED_MORE;if(a.lookahead===0)break}if(a.match_length=0,a.lookahead>=MIN_MATCH&&a.strstart>0&&(f=a.strstart-1,m=g[f],m===g[++f]&&m===g[++f]&&m===g[++f])){x=a.strstart+MAX_MATCH;do;while(m===g[++f]&&m===g[++f]&&m===g[++f]&&m===g[++f]&&m===g[++f]&&m===g[++f]&&m===g[++f]&&m===g[++f]&&f<x);a.match_length=MAX_MATCH-(x-f),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=MIN_MATCH?(s=_tr_tally(a,1,a.match_length-MIN_MATCH),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(s=_tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),s&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}return a.insert=0,d===Z_FINISH$3?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.sym_next&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(a,d)=>{let s;for(;;){if(a.lookahead===0&&(fill_window(a),a.lookahead===0)){if(d===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(a.match_length=0,s=_tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,s&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}return a.insert=0,d===Z_FINISH$3?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.sym_next&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(a,d,s,m,f){this.good_length=a,this.max_lazy=d,this.nice_length=s,this.max_chain=m,this.func=f}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=a=>{a.window_size=2*a.w_size,zero(a.head),a.max_lazy_match=configuration_table[a.level].max_lazy,a.good_match=configuration_table[a.level].good_length,a.nice_match=configuration_table[a.level].nice_length,a.max_chain_length=configuration_table[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=MIN_MATCH-1,a.match_available=0,a.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=a=>{if(!a)return 1;const d=a.state;return!d||d.strm!==a||d.status!==INIT_STATE&&d.status!==GZIP_STATE&&d.status!==EXTRA_STATE&&d.status!==NAME_STATE&&d.status!==COMMENT_STATE&&d.status!==HCRC_STATE&&d.status!==BUSY_STATE&&d.status!==FINISH_STATE?1:0},deflateResetKeep=a=>{if(deflateStateCheck(a))return err(a,Z_STREAM_ERROR$2);a.total_in=a.total_out=0,a.data_type=Z_UNKNOWN;const d=a.state;return d.pending=0,d.pending_out=0,d.wrap<0&&(d.wrap=-d.wrap),d.status=d.wrap===2?GZIP_STATE:d.wrap?INIT_STATE:BUSY_STATE,a.adler=d.wrap===2?0:1,d.last_flush=-2,_tr_init(d),Z_OK$3},deflateReset=a=>{const d=deflateResetKeep(a);return d===Z_OK$3&&lm_init(a.state),d},deflateSetHeader=(a,d)=>deflateStateCheck(a)||a.state.wrap!==2?Z_STREAM_ERROR$2:(a.state.gzhead=d,Z_OK$3),deflateInit2=(a,d,s,m,f,x)=>{if(!a)return Z_STREAM_ERROR$2;let g=1;if(d===Z_DEFAULT_COMPRESSION$1&&(d=6),m<0?(g=0,m=-m):m>15&&(g=2,m-=16),f<1||f>MAX_MEM_LEVEL||s!==Z_DEFLATED$2||m<8||m>15||d<0||d>9||x<0||x>Z_FIXED||m===8&&g!==1)return err(a,Z_STREAM_ERROR$2);m===8&&(m=9);const w=new DeflateState;return a.state=w,w.strm=a,w.status=INIT_STATE,w.wrap=g,w.gzhead=null,w.w_bits=m,w.w_size=1<<w.w_bits,w.w_mask=w.w_size-1,w.hash_bits=f+7,w.hash_size=1<<w.hash_bits,w.hash_mask=w.hash_size-1,w.hash_shift=~~((w.hash_bits+MIN_MATCH-1)/MIN_MATCH),w.window=new Uint8Array(w.w_size*2),w.head=new Uint16Array(w.hash_size),w.prev=new Uint16Array(w.w_size),w.lit_bufsize=1<<f+6,w.pending_buf_size=w.lit_bufsize*4,w.pending_buf=new Uint8Array(w.pending_buf_size),w.sym_buf=w.lit_bufsize,w.sym_end=(w.lit_bufsize-1)*3,w.level=d,w.strategy=x,w.method=s,deflateReset(a)},deflateInit=(a,d)=>deflateInit2(a,d,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(a,d)=>{if(deflateStateCheck(a)||d>Z_BLOCK$1||d<0)return a?err(a,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const s=a.state;if(!a.output||a.avail_in!==0&&!a.input||s.status===FINISH_STATE&&d!==Z_FINISH$3)return err(a,a.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const m=s.last_flush;if(s.last_flush=d,s.pending!==0){if(flush_pending(a),a.avail_out===0)return s.last_flush=-1,Z_OK$3}else if(a.avail_in===0&&rank(d)<=rank(m)&&d!==Z_FINISH$3)return err(a,Z_BUF_ERROR$1);if(s.status===FINISH_STATE&&a.avail_in!==0)return err(a,Z_BUF_ERROR$1);if(s.status===INIT_STATE&&s.wrap===0&&(s.status=BUSY_STATE),s.status===INIT_STATE){let f=Z_DEFLATED$2+(s.w_bits-8<<4)<<8,x=-1;if(s.strategy>=Z_HUFFMAN_ONLY||s.level<2?x=0:s.level<6?x=1:s.level===6?x=2:x=3,f|=x<<6,s.strstart!==0&&(f|=PRESET_DICT),f+=31-f%31,putShortMSB(s,f),s.strstart!==0&&(putShortMSB(s,a.adler>>>16),putShortMSB(s,a.adler&65535)),a.adler=1,s.status=BUSY_STATE,flush_pending(a),s.pending!==0)return s.last_flush=-1,Z_OK$3}if(s.status===GZIP_STATE){if(a.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead)put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,s.gzhead.time&255),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,s.gzhead.os&255),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,s.gzhead.extra.length&255),put_byte(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(a.adler=crc32_1(a.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=EXTRA_STATE;else if(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,OS_CODE),s.status=BUSY_STATE,flush_pending(a),s.pending!==0)return s.last_flush=-1,Z_OK$3}if(s.status===EXTRA_STATE){if(s.gzhead.extra){let f=s.pending,x=(s.gzhead.extra.length&65535)-s.gzindex;for(;s.pending+x>s.pending_buf_size;){let w=s.pending_buf_size-s.pending;if(s.pending_buf.set(s.gzhead.extra.subarray(s.gzindex,s.gzindex+w),s.pending),s.pending=s.pending_buf_size,s.gzhead.hcrc&&s.pending>f&&(a.adler=crc32_1(a.adler,s.pending_buf,s.pending-f,f)),s.gzindex+=w,flush_pending(a),s.pending!==0)return s.last_flush=-1,Z_OK$3;f=0,x-=w}let g=new Uint8Array(s.gzhead.extra);s.pending_buf.set(g.subarray(s.gzindex,s.gzindex+x),s.pending),s.pending+=x,s.gzhead.hcrc&&s.pending>f&&(a.adler=crc32_1(a.adler,s.pending_buf,s.pending-f,f)),s.gzindex=0}s.status=NAME_STATE}if(s.status===NAME_STATE){if(s.gzhead.name){let f=s.pending,x;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>f&&(a.adler=crc32_1(a.adler,s.pending_buf,s.pending-f,f)),flush_pending(a),s.pending!==0)return s.last_flush=-1,Z_OK$3;f=0}s.gzindex<s.gzhead.name.length?x=s.gzhead.name.charCodeAt(s.gzindex++)&255:x=0,put_byte(s,x)}while(x!==0);s.gzhead.hcrc&&s.pending>f&&(a.adler=crc32_1(a.adler,s.pending_buf,s.pending-f,f)),s.gzindex=0}s.status=COMMENT_STATE}if(s.status===COMMENT_STATE){if(s.gzhead.comment){let f=s.pending,x;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>f&&(a.adler=crc32_1(a.adler,s.pending_buf,s.pending-f,f)),flush_pending(a),s.pending!==0)return s.last_flush=-1,Z_OK$3;f=0}s.gzindex<s.gzhead.comment.length?x=s.gzhead.comment.charCodeAt(s.gzindex++)&255:x=0,put_byte(s,x)}while(x!==0);s.gzhead.hcrc&&s.pending>f&&(a.adler=crc32_1(a.adler,s.pending_buf,s.pending-f,f))}s.status=HCRC_STATE}if(s.status===HCRC_STATE){if(s.gzhead.hcrc){if(s.pending+2>s.pending_buf_size&&(flush_pending(a),s.pending!==0))return s.last_flush=-1,Z_OK$3;put_byte(s,a.adler&255),put_byte(s,a.adler>>8&255),a.adler=0}if(s.status=BUSY_STATE,flush_pending(a),s.pending!==0)return s.last_flush=-1,Z_OK$3}if(a.avail_in!==0||s.lookahead!==0||d!==Z_NO_FLUSH$2&&s.status!==FINISH_STATE){let f=s.level===0?deflate_stored(s,d):s.strategy===Z_HUFFMAN_ONLY?deflate_huff(s,d):s.strategy===Z_RLE?deflate_rle(s,d):configuration_table[s.level].func(s,d);if((f===BS_FINISH_STARTED||f===BS_FINISH_DONE)&&(s.status=FINISH_STATE),f===BS_NEED_MORE||f===BS_FINISH_STARTED)return a.avail_out===0&&(s.last_flush=-1),Z_OK$3;if(f===BS_BLOCK_DONE&&(d===Z_PARTIAL_FLUSH?_tr_align(s):d!==Z_BLOCK$1&&(_tr_stored_block(s,0,0,!1),d===Z_FULL_FLUSH$1&&(zero(s.head),s.lookahead===0&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(a),a.avail_out===0))return s.last_flush=-1,Z_OK$3}return d!==Z_FINISH$3?Z_OK$3:s.wrap<=0?Z_STREAM_END$3:(s.wrap===2?(put_byte(s,a.adler&255),put_byte(s,a.adler>>8&255),put_byte(s,a.adler>>16&255),put_byte(s,a.adler>>24&255),put_byte(s,a.total_in&255),put_byte(s,a.total_in>>8&255),put_byte(s,a.total_in>>16&255),put_byte(s,a.total_in>>24&255)):(putShortMSB(s,a.adler>>>16),putShortMSB(s,a.adler&65535)),flush_pending(a),s.wrap>0&&(s.wrap=-s.wrap),s.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=a=>{if(deflateStateCheck(a))return Z_STREAM_ERROR$2;const d=a.state.status;return a.state=null,d===BUSY_STATE?err(a,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(a,d)=>{let s=d.length;if(deflateStateCheck(a))return Z_STREAM_ERROR$2;const m=a.state,f=m.wrap;if(f===2||f===1&&m.status!==INIT_STATE||m.lookahead)return Z_STREAM_ERROR$2;if(f===1&&(a.adler=adler32_1(a.adler,d,s,0)),m.wrap=0,s>=m.w_size){f===0&&(zero(m.head),m.strstart=0,m.block_start=0,m.insert=0);let C=new Uint8Array(m.w_size);C.set(d.subarray(s-m.w_size,s),0),d=C,s=m.w_size}const x=a.avail_in,g=a.next_in,w=a.input;for(a.avail_in=s,a.next_in=0,a.input=d,fill_window(m);m.lookahead>=MIN_MATCH;){let C=m.strstart,A=m.lookahead-(MIN_MATCH-1);do m.ins_h=HASH(m,m.ins_h,m.window[C+MIN_MATCH-1]),m.prev[C&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=C,C++;while(--A);m.strstart=C,m.lookahead=MIN_MATCH-1,fill_window(m)}return m.strstart+=m.lookahead,m.block_start=m.strstart,m.insert=m.lookahead,m.lookahead=0,m.match_length=m.prev_length=MIN_MATCH-1,m.match_available=0,a.next_in=g,a.input=w,a.avail_in=x,m.wrap=f,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(a,d)=>Object.prototype.hasOwnProperty.call(a,d);var assign=function(a){const d=Array.prototype.slice.call(arguments,1);for(;d.length;){const s=d.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(const m in s)_has(s,m)&&(a[m]=s[m])}}return a},flattenChunks=a=>{let d=0;for(let m=0,f=a.length;m<f;m++)d+=a[m].length;const s=new Uint8Array(d);for(let m=0,f=0,x=a.length;m<x;m++){let g=a[m];s.set(g,f),f+=g.length}return s},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let a=0;a<256;a++)_utf8len[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=a=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(a);let d,s,m,f,x,g=a.length,w=0;for(f=0;f<g;f++)s=a.charCodeAt(f),(s&64512)===55296&&f+1<g&&(m=a.charCodeAt(f+1),(m&64512)===56320&&(s=65536+(s-55296<<10)+(m-56320),f++)),w+=s<128?1:s<2048?2:s<65536?3:4;for(d=new Uint8Array(w),x=0,f=0;x<w;f++)s=a.charCodeAt(f),(s&64512)===55296&&f+1<g&&(m=a.charCodeAt(f+1),(m&64512)===56320&&(s=65536+(s-55296<<10)+(m-56320),f++)),s<128?d[x++]=s:s<2048?(d[x++]=192|s>>>6,d[x++]=128|s&63):s<65536?(d[x++]=224|s>>>12,d[x++]=128|s>>>6&63,d[x++]=128|s&63):(d[x++]=240|s>>>18,d[x++]=128|s>>>12&63,d[x++]=128|s>>>6&63,d[x++]=128|s&63);return d};const buf2binstring=(a,d)=>{if(d<65534&&a.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,a.length===d?a:a.subarray(0,d));let s="";for(let m=0;m<d;m++)s+=String.fromCharCode(a[m]);return s};var buf2string=(a,d)=>{const s=d||a.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(a.subarray(0,d));let m,f;const x=new Array(s*2);for(f=0,m=0;m<s;){let g=a[m++];if(g<128){x[f++]=g;continue}let w=_utf8len[g];if(w>4){x[f++]=65533,m+=w-1;continue}for(g&=w===2?31:w===3?15:7;w>1&&m<s;)g=g<<6|a[m++]&63,w--;if(w>1){x[f++]=65533;continue}g<65536?x[f++]=g:(g-=65536,x[f++]=55296|g>>10&1023,x[f++]=56320|g&1023)}return buf2binstring(x,f)},utf8border=(a,d)=>{d=d||a.length,d>a.length&&(d=a.length);let s=d-1;for(;s>=0&&(a[s]&192)===128;)s--;return s<0||s===0?d:s+_utf8len[a[s]]>d?s:d},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(a){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},a||{});let d=this.options;d.raw&&d.windowBits>0?d.windowBits=-d.windowBits:d.gzip&&d.windowBits>0&&d.windowBits<16&&(d.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let s=deflate_1$2.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(s!==Z_OK$2)throw new Error(messages[s]);if(d.header&&deflate_1$2.deflateSetHeader(this.strm,d.header),d.dictionary){let m;if(typeof d.dictionary=="string"?m=strings.string2buf(d.dictionary):toString$1$1.call(d.dictionary)==="[object ArrayBuffer]"?m=new Uint8Array(d.dictionary):m=d.dictionary,s=deflate_1$2.deflateSetDictionary(this.strm,m),s!==Z_OK$2)throw new Error(messages[s]);this._dict_set=!0}}Deflate$1.prototype.push=function(a,d){const s=this.strm,m=this.options.chunkSize;let f,x;if(this.ended)return!1;for(d===~~d?x=d:x=d===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof a=="string"?s.input=strings.string2buf(a):toString$1$1.call(a)==="[object ArrayBuffer]"?s.input=new Uint8Array(a):s.input=a,s.next_in=0,s.avail_in=s.input.length;;){if(s.avail_out===0&&(s.output=new Uint8Array(m),s.next_out=0,s.avail_out=m),(x===Z_SYNC_FLUSH||x===Z_FULL_FLUSH)&&s.avail_out<=6){this.onData(s.output.subarray(0,s.next_out)),s.avail_out=0;continue}if(f=deflate_1$2.deflate(s,x),f===Z_STREAM_END$2)return s.next_out>0&&this.onData(s.output.subarray(0,s.next_out)),f=deflate_1$2.deflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===Z_OK$2;if(s.avail_out===0){this.onData(s.output);continue}if(x>0&&s.next_out>0){this.onData(s.output.subarray(0,s.next_out)),s.avail_out=0;continue}if(s.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(a){this.chunks.push(a)};Deflate$1.prototype.onEnd=function(a){a===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};function deflate$1(a,d){const s=new Deflate$1(d);if(s.push(a,!0),s.err)throw s.msg||messages[s.err];return s.result}function deflateRaw$1(a,d){return d=d||{},d.raw=!0,deflate$1(a,d)}function gzip$1(a,d){return d=d||{},d.gzip=!0,deflate$1(a,d)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,constants$1=constants$2,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1,constants:constants$1};const BAD$1=16209,TYPE$1=16191;var inffast=function(d,s){let m,f,x,g,w,C,A,_,M,P,D,E,I,B,F,R,L,z,G,W,K,q,Z,J;const Q=d.state;m=d.next_in,Z=d.input,f=m+(d.avail_in-5),x=d.next_out,J=d.output,g=x-(s-d.avail_out),w=x+(d.avail_out-257),C=Q.dmax,A=Q.wsize,_=Q.whave,M=Q.wnext,P=Q.window,D=Q.hold,E=Q.bits,I=Q.lencode,B=Q.distcode,F=(1<<Q.lenbits)-1,R=(1<<Q.distbits)-1;e:do{E<15&&(D+=Z[m++]<<E,E+=8,D+=Z[m++]<<E,E+=8),L=I[D&F];t:for(;;){if(z=L>>>24,D>>>=z,E-=z,z=L>>>16&255,z===0)J[x++]=L&65535;else if(z&16){G=L&65535,z&=15,z&&(E<z&&(D+=Z[m++]<<E,E+=8),G+=D&(1<<z)-1,D>>>=z,E-=z),E<15&&(D+=Z[m++]<<E,E+=8,D+=Z[m++]<<E,E+=8),L=B[D&R];i:for(;;){if(z=L>>>24,D>>>=z,E-=z,z=L>>>16&255,z&16){if(W=L&65535,z&=15,E<z&&(D+=Z[m++]<<E,E+=8,E<z&&(D+=Z[m++]<<E,E+=8)),W+=D&(1<<z)-1,W>C){d.msg="invalid distance too far back",Q.mode=BAD$1;break e}if(D>>>=z,E-=z,z=x-g,W>z){if(z=W-z,z>_&&Q.sane){d.msg="invalid distance too far back",Q.mode=BAD$1;break e}if(K=0,q=P,M===0){if(K+=A-z,z<G){G-=z;do J[x++]=P[K++];while(--z);K=x-W,q=J}}else if(M<z){if(K+=A+M-z,z-=M,z<G){G-=z;do J[x++]=P[K++];while(--z);if(K=0,M<G){z=M,G-=z;do J[x++]=P[K++];while(--z);K=x-W,q=J}}}else if(K+=M-z,z<G){G-=z;do J[x++]=P[K++];while(--z);K=x-W,q=J}for(;G>2;)J[x++]=q[K++],J[x++]=q[K++],J[x++]=q[K++],G-=3;G&&(J[x++]=q[K++],G>1&&(J[x++]=q[K++]))}else{K=x-W;do J[x++]=J[K++],J[x++]=J[K++],J[x++]=J[K++],G-=3;while(G>2);G&&(J[x++]=J[K++],G>1&&(J[x++]=J[K++]))}}else if(z&64){d.msg="invalid distance code",Q.mode=BAD$1;break e}else{L=B[(L&65535)+(D&(1<<z)-1)];continue i}break}}else if(z&64)if(z&32){Q.mode=TYPE$1;break e}else{d.msg="invalid literal/length code",Q.mode=BAD$1;break e}else{L=I[(L&65535)+(D&(1<<z)-1)];continue t}break}}while(m<f&&x<w);G=E>>3,m-=G,E-=G<<3,D&=(1<<E)-1,d.next_in=m,d.next_out=x,d.avail_in=m<f?5+(f-m):5-(m-f),d.avail_out=x<w?257+(w-x):257-(x-w),Q.hold=D,Q.bits=E};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(a,d,s,m,f,x,g,w)=>{const C=w.bits;let A=0,_=0,M=0,P=0,D=0,E=0,I=0,B=0,F=0,R=0,L,z,G,W,K,q=null,Z;const J=new Uint16Array(MAXBITS+1),Q=new Uint16Array(MAXBITS+1);let ie=null,se,oe,ue;for(A=0;A<=MAXBITS;A++)J[A]=0;for(_=0;_<m;_++)J[d[s+_]]++;for(D=C,P=MAXBITS;P>=1&&J[P]===0;P--);if(D>P&&(D=P),P===0)return f[x++]=1<<24|64<<16|0,f[x++]=1<<24|64<<16|0,w.bits=1,0;for(M=1;M<P&&J[M]===0;M++);for(D<M&&(D=M),B=1,A=1;A<=MAXBITS;A++)if(B<<=1,B-=J[A],B<0)return-1;if(B>0&&(a===CODES$1||P!==1))return-1;for(Q[1]=0,A=1;A<MAXBITS;A++)Q[A+1]=Q[A]+J[A];for(_=0;_<m;_++)d[s+_]!==0&&(g[Q[d[s+_]]++]=_);if(a===CODES$1?(q=ie=g,Z=20):a===LENS$1?(q=lbase,ie=lext,Z=257):(q=dbase,ie=dext,Z=0),R=0,_=0,A=M,K=x,E=D,I=0,G=-1,F=1<<D,W=F-1,a===LENS$1&&F>ENOUGH_LENS$1||a===DISTS$1&&F>ENOUGH_DISTS$1)return 1;for(;;){se=A-I,g[_]+1<Z?(oe=0,ue=g[_]):g[_]>=Z?(oe=ie[g[_]-Z],ue=q[g[_]-Z]):(oe=96,ue=0),L=1<<A-I,z=1<<E,M=z;do z-=L,f[K+(R>>I)+z]=se<<24|oe<<16|ue|0;while(z!==0);for(L=1<<A-1;R&L;)L>>=1;if(L!==0?(R&=L-1,R+=L):R=0,_++,--J[A]===0){if(A===P)break;A=d[s+g[_]]}if(A>D&&(R&W)!==G){for(I===0&&(I=D),K+=M,E=A-I,B=1<<E;E+I<P&&(B-=J[E+I],!(B<=0));)E++,B<<=1;if(F+=1<<E,a===LENS$1&&F>ENOUGH_LENS$1||a===DISTS$1&&F>ENOUGH_DISTS$1)return 1;G=R&W,f[G]=D<<24|E<<16|K-x|0}}return R!==0&&(f[K+R]=A-I<<24|64<<16|0),w.bits=D,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=a=>(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=a=>{if(!a)return 1;const d=a.state;return!d||d.strm!==a||d.mode<HEAD||d.mode>SYNC?1:0},inflateResetKeep=a=>{if(inflateStateCheck(a))return Z_STREAM_ERROR$1;const d=a.state;return a.total_in=a.total_out=d.total=0,a.msg="",d.wrap&&(a.adler=d.wrap&1),d.mode=HEAD,d.last=0,d.havedict=0,d.flags=-1,d.dmax=32768,d.head=null,d.hold=0,d.bits=0,d.lencode=d.lendyn=new Int32Array(ENOUGH_LENS),d.distcode=d.distdyn=new Int32Array(ENOUGH_DISTS),d.sane=1,d.back=-1,Z_OK$1},inflateReset=a=>{if(inflateStateCheck(a))return Z_STREAM_ERROR$1;const d=a.state;return d.wsize=0,d.whave=0,d.wnext=0,inflateResetKeep(a)},inflateReset2=(a,d)=>{let s;if(inflateStateCheck(a))return Z_STREAM_ERROR$1;const m=a.state;return d<0?(s=0,d=-d):(s=(d>>4)+5,d<48&&(d&=15)),d&&(d<8||d>15)?Z_STREAM_ERROR$1:(m.window!==null&&m.wbits!==d&&(m.window=null),m.wrap=s,m.wbits=d,inflateReset(a))},inflateInit2=(a,d)=>{if(!a)return Z_STREAM_ERROR$1;const s=new InflateState;a.state=s,s.strm=a,s.window=null,s.mode=HEAD;const m=inflateReset2(a,d);return m!==Z_OK$1&&(a.state=null),m},inflateInit=a=>inflateInit2(a,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=a=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let d=0;for(;d<144;)a.lens[d++]=8;for(;d<256;)a.lens[d++]=9;for(;d<280;)a.lens[d++]=7;for(;d<288;)a.lens[d++]=8;for(inftrees(LENS,a.lens,0,288,lenfix,0,a.work,{bits:9}),d=0;d<32;)a.lens[d++]=5;inftrees(DISTS,a.lens,0,32,distfix,0,a.work,{bits:5}),virgin=!1}a.lencode=lenfix,a.lenbits=9,a.distcode=distfix,a.distbits=5},updatewindow=(a,d,s,m)=>{let f;const x=a.state;return x.window===null&&(x.wsize=1<<x.wbits,x.wnext=0,x.whave=0,x.window=new Uint8Array(x.wsize)),m>=x.wsize?(x.window.set(d.subarray(s-x.wsize,s),0),x.wnext=0,x.whave=x.wsize):(f=x.wsize-x.wnext,f>m&&(f=m),x.window.set(d.subarray(s-m,s-m+f),x.wnext),m-=f,m?(x.window.set(d.subarray(s-m,s),0),x.wnext=m,x.whave=x.wsize):(x.wnext+=f,x.wnext===x.wsize&&(x.wnext=0),x.whave<x.wsize&&(x.whave+=f))),0},inflate$2=(a,d)=>{let s,m,f,x,g,w,C,A,_,M,P,D,E,I,B=0,F,R,L,z,G,W,K,q;const Z=new Uint8Array(4);let J,Q;const ie=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(a)||!a.output||!a.input&&a.avail_in!==0)return Z_STREAM_ERROR$1;s=a.state,s.mode===TYPE&&(s.mode=TYPEDO),g=a.next_out,f=a.output,C=a.avail_out,x=a.next_in,m=a.input,w=a.avail_in,A=s.hold,_=s.bits,M=w,P=C,q=Z_OK$1;e:for(;;)switch(s.mode){case HEAD:if(s.wrap===0){s.mode=TYPEDO;break}for(;_<16;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}if(s.wrap&2&&A===35615){s.wbits===0&&(s.wbits=15),s.check=0,Z[0]=A&255,Z[1]=A>>>8&255,s.check=crc32_1(s.check,Z,2,0),A=0,_=0,s.mode=FLAGS;break}if(s.head&&(s.head.done=!1),!(s.wrap&1)||(((A&255)<<8)+(A>>8))%31){a.msg="incorrect header check",s.mode=BAD;break}if((A&15)!==Z_DEFLATED){a.msg="unknown compression method",s.mode=BAD;break}if(A>>>=4,_-=4,K=(A&15)+8,s.wbits===0&&(s.wbits=K),K>15||K>s.wbits){a.msg="invalid window size",s.mode=BAD;break}s.dmax=1<<s.wbits,s.flags=0,a.adler=s.check=1,s.mode=A&512?DICTID:TYPE,A=0,_=0;break;case FLAGS:for(;_<16;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}if(s.flags=A,(s.flags&255)!==Z_DEFLATED){a.msg="unknown compression method",s.mode=BAD;break}if(s.flags&57344){a.msg="unknown header flags set",s.mode=BAD;break}s.head&&(s.head.text=A>>8&1),s.flags&512&&s.wrap&4&&(Z[0]=A&255,Z[1]=A>>>8&255,s.check=crc32_1(s.check,Z,2,0)),A=0,_=0,s.mode=TIME;case TIME:for(;_<32;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}s.head&&(s.head.time=A),s.flags&512&&s.wrap&4&&(Z[0]=A&255,Z[1]=A>>>8&255,Z[2]=A>>>16&255,Z[3]=A>>>24&255,s.check=crc32_1(s.check,Z,4,0)),A=0,_=0,s.mode=OS;case OS:for(;_<16;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}s.head&&(s.head.xflags=A&255,s.head.os=A>>8),s.flags&512&&s.wrap&4&&(Z[0]=A&255,Z[1]=A>>>8&255,s.check=crc32_1(s.check,Z,2,0)),A=0,_=0,s.mode=EXLEN;case EXLEN:if(s.flags&1024){for(;_<16;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}s.length=A,s.head&&(s.head.extra_len=A),s.flags&512&&s.wrap&4&&(Z[0]=A&255,Z[1]=A>>>8&255,s.check=crc32_1(s.check,Z,2,0)),A=0,_=0}else s.head&&(s.head.extra=null);s.mode=EXTRA;case EXTRA:if(s.flags&1024&&(D=s.length,D>w&&(D=w),D&&(s.head&&(K=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Uint8Array(s.head.extra_len)),s.head.extra.set(m.subarray(x,x+D),K)),s.flags&512&&s.wrap&4&&(s.check=crc32_1(s.check,m,D,x)),w-=D,x+=D,s.length-=D),s.length))break e;s.length=0,s.mode=NAME;case NAME:if(s.flags&2048){if(w===0)break e;D=0;do K=m[x+D++],s.head&&K&&s.length<65536&&(s.head.name+=String.fromCharCode(K));while(K&&D<w);if(s.flags&512&&s.wrap&4&&(s.check=crc32_1(s.check,m,D,x)),w-=D,x+=D,K)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=COMMENT;case COMMENT:if(s.flags&4096){if(w===0)break e;D=0;do K=m[x+D++],s.head&&K&&s.length<65536&&(s.head.comment+=String.fromCharCode(K));while(K&&D<w);if(s.flags&512&&s.wrap&4&&(s.check=crc32_1(s.check,m,D,x)),w-=D,x+=D,K)break e}else s.head&&(s.head.comment=null);s.mode=HCRC;case HCRC:if(s.flags&512){for(;_<16;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}if(s.wrap&4&&A!==(s.check&65535)){a.msg="header crc mismatch",s.mode=BAD;break}A=0,_=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),a.adler=s.check=0,s.mode=TYPE;break;case DICTID:for(;_<32;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}a.adler=s.check=zswap32(A),A=0,_=0,s.mode=DICT;case DICT:if(s.havedict===0)return a.next_out=g,a.avail_out=C,a.next_in=x,a.avail_in=w,s.hold=A,s.bits=_,Z_NEED_DICT$1;a.adler=s.check=1,s.mode=TYPE;case TYPE:if(d===Z_BLOCK||d===Z_TREES)break e;case TYPEDO:if(s.last){A>>>=_&7,_-=_&7,s.mode=CHECK;break}for(;_<3;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}switch(s.last=A&1,A>>>=1,_-=1,A&3){case 0:s.mode=STORED;break;case 1:if(fixedtables(s),s.mode=LEN_,d===Z_TREES){A>>>=2,_-=2;break e}break;case 2:s.mode=TABLE;break;case 3:a.msg="invalid block type",s.mode=BAD}A>>>=2,_-=2;break;case STORED:for(A>>>=_&7,_-=_&7;_<32;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}if((A&65535)!==(A>>>16^65535)){a.msg="invalid stored block lengths",s.mode=BAD;break}if(s.length=A&65535,A=0,_=0,s.mode=COPY_,d===Z_TREES)break e;case COPY_:s.mode=COPY;case COPY:if(D=s.length,D){if(D>w&&(D=w),D>C&&(D=C),D===0)break e;f.set(m.subarray(x,x+D),g),w-=D,x+=D,C-=D,g+=D,s.length-=D;break}s.mode=TYPE;break;case TABLE:for(;_<14;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}if(s.nlen=(A&31)+257,A>>>=5,_-=5,s.ndist=(A&31)+1,A>>>=5,_-=5,s.ncode=(A&15)+4,A>>>=4,_-=4,s.nlen>286||s.ndist>30){a.msg="too many length or distance symbols",s.mode=BAD;break}s.have=0,s.mode=LENLENS;case LENLENS:for(;s.have<s.ncode;){for(;_<3;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}s.lens[ie[s.have++]]=A&7,A>>>=3,_-=3}for(;s.have<19;)s.lens[ie[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,J={bits:s.lenbits},q=inftrees(CODES,s.lens,0,19,s.lencode,0,s.work,J),s.lenbits=J.bits,q){a.msg="invalid code lengths set",s.mode=BAD;break}s.have=0,s.mode=CODELENS;case CODELENS:for(;s.have<s.nlen+s.ndist;){for(;B=s.lencode[A&(1<<s.lenbits)-1],F=B>>>24,R=B>>>16&255,L=B&65535,!(F<=_);){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}if(L<16)A>>>=F,_-=F,s.lens[s.have++]=L;else{if(L===16){for(Q=F+2;_<Q;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}if(A>>>=F,_-=F,s.have===0){a.msg="invalid bit length repeat",s.mode=BAD;break}K=s.lens[s.have-1],D=3+(A&3),A>>>=2,_-=2}else if(L===17){for(Q=F+3;_<Q;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}A>>>=F,_-=F,K=0,D=3+(A&7),A>>>=3,_-=3}else{for(Q=F+7;_<Q;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}A>>>=F,_-=F,K=0,D=11+(A&127),A>>>=7,_-=7}if(s.have+D>s.nlen+s.ndist){a.msg="invalid bit length repeat",s.mode=BAD;break}for(;D--;)s.lens[s.have++]=K}}if(s.mode===BAD)break;if(s.lens[256]===0){a.msg="invalid code -- missing end-of-block",s.mode=BAD;break}if(s.lenbits=9,J={bits:s.lenbits},q=inftrees(LENS,s.lens,0,s.nlen,s.lencode,0,s.work,J),s.lenbits=J.bits,q){a.msg="invalid literal/lengths set",s.mode=BAD;break}if(s.distbits=6,s.distcode=s.distdyn,J={bits:s.distbits},q=inftrees(DISTS,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,J),s.distbits=J.bits,q){a.msg="invalid distances set",s.mode=BAD;break}if(s.mode=LEN_,d===Z_TREES)break e;case LEN_:s.mode=LEN;case LEN:if(w>=6&&C>=258){a.next_out=g,a.avail_out=C,a.next_in=x,a.avail_in=w,s.hold=A,s.bits=_,inffast(a,P),g=a.next_out,f=a.output,C=a.avail_out,x=a.next_in,m=a.input,w=a.avail_in,A=s.hold,_=s.bits,s.mode===TYPE&&(s.back=-1);break}for(s.back=0;B=s.lencode[A&(1<<s.lenbits)-1],F=B>>>24,R=B>>>16&255,L=B&65535,!(F<=_);){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}if(R&&!(R&240)){for(z=F,G=R,W=L;B=s.lencode[W+((A&(1<<z+G)-1)>>z)],F=B>>>24,R=B>>>16&255,L=B&65535,!(z+F<=_);){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}A>>>=z,_-=z,s.back+=z}if(A>>>=F,_-=F,s.back+=F,s.length=L,R===0){s.mode=LIT;break}if(R&32){s.back=-1,s.mode=TYPE;break}if(R&64){a.msg="invalid literal/length code",s.mode=BAD;break}s.extra=R&15,s.mode=LENEXT;case LENEXT:if(s.extra){for(Q=s.extra;_<Q;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}s.length+=A&(1<<s.extra)-1,A>>>=s.extra,_-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=DIST;case DIST:for(;B=s.distcode[A&(1<<s.distbits)-1],F=B>>>24,R=B>>>16&255,L=B&65535,!(F<=_);){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}if(!(R&240)){for(z=F,G=R,W=L;B=s.distcode[W+((A&(1<<z+G)-1)>>z)],F=B>>>24,R=B>>>16&255,L=B&65535,!(z+F<=_);){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}A>>>=z,_-=z,s.back+=z}if(A>>>=F,_-=F,s.back+=F,R&64){a.msg="invalid distance code",s.mode=BAD;break}s.offset=L,s.extra=R&15,s.mode=DISTEXT;case DISTEXT:if(s.extra){for(Q=s.extra;_<Q;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}s.offset+=A&(1<<s.extra)-1,A>>>=s.extra,_-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){a.msg="invalid distance too far back",s.mode=BAD;break}s.mode=MATCH;case MATCH:if(C===0)break e;if(D=P-C,s.offset>D){if(D=s.offset-D,D>s.whave&&s.sane){a.msg="invalid distance too far back",s.mode=BAD;break}D>s.wnext?(D-=s.wnext,E=s.wsize-D):E=s.wnext-D,D>s.length&&(D=s.length),I=s.window}else I=f,E=g-s.offset,D=s.length;D>C&&(D=C),C-=D,s.length-=D;do f[g++]=I[E++];while(--D);s.length===0&&(s.mode=LEN);break;case LIT:if(C===0)break e;f[g++]=s.length,C--,s.mode=LEN;break;case CHECK:if(s.wrap){for(;_<32;){if(w===0)break e;w--,A|=m[x++]<<_,_+=8}if(P-=C,a.total_out+=P,s.total+=P,s.wrap&4&&P&&(a.adler=s.check=s.flags?crc32_1(s.check,f,P,g-P):adler32_1(s.check,f,P,g-P)),P=C,s.wrap&4&&(s.flags?A:zswap32(A))!==s.check){a.msg="incorrect data check",s.mode=BAD;break}A=0,_=0}s.mode=LENGTH;case LENGTH:if(s.wrap&&s.flags){for(;_<32;){if(w===0)break e;w--,A+=m[x++]<<_,_+=8}if(s.wrap&4&&A!==(s.total&4294967295)){a.msg="incorrect length check",s.mode=BAD;break}A=0,_=0}s.mode=DONE;case DONE:q=Z_STREAM_END$1;break e;case BAD:q=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return a.next_out=g,a.avail_out=C,a.next_in=x,a.avail_in=w,s.hold=A,s.bits=_,(s.wsize||P!==a.avail_out&&s.mode<BAD&&(s.mode<CHECK||d!==Z_FINISH$1))&&updatewindow(a,a.output,a.next_out,P-a.avail_out),M-=a.avail_in,P-=a.avail_out,a.total_in+=M,a.total_out+=P,s.total+=P,s.wrap&4&&P&&(a.adler=s.check=s.flags?crc32_1(s.check,f,P,a.next_out-P):adler32_1(s.check,f,P,a.next_out-P)),a.data_type=s.bits+(s.last?64:0)+(s.mode===TYPE?128:0)+(s.mode===LEN_||s.mode===COPY_?256:0),(M===0&&P===0||d===Z_FINISH$1)&&q===Z_OK$1&&(q=Z_BUF_ERROR),q},inflateEnd=a=>{if(inflateStateCheck(a))return Z_STREAM_ERROR$1;let d=a.state;return d.window&&(d.window=null),a.state=null,Z_OK$1},inflateGetHeader=(a,d)=>{if(inflateStateCheck(a))return Z_STREAM_ERROR$1;const s=a.state;return s.wrap&2?(s.head=d,d.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(a,d)=>{const s=d.length;let m,f,x;return inflateStateCheck(a)||(m=a.state,m.wrap!==0&&m.mode!==DICT)?Z_STREAM_ERROR$1:m.mode===DICT&&(f=1,f=adler32_1(f,d,s,0),f!==m.check)?Z_DATA_ERROR$1:(x=updatewindow(a,d,s,s),x?(m.mode=MEM,Z_MEM_ERROR$1):(m.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(a){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},a||{});const d=this.options;d.raw&&d.windowBits>=0&&d.windowBits<16&&(d.windowBits=-d.windowBits,d.windowBits===0&&(d.windowBits=-15)),d.windowBits>=0&&d.windowBits<16&&!(a&&a.windowBits)&&(d.windowBits+=32),d.windowBits>15&&d.windowBits<48&&(d.windowBits&15||(d.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let s=inflate_1$2.inflateInit2(this.strm,d.windowBits);if(s!==Z_OK)throw new Error(messages[s]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),d.dictionary&&(typeof d.dictionary=="string"?d.dictionary=strings.string2buf(d.dictionary):toString$2.call(d.dictionary)==="[object ArrayBuffer]"&&(d.dictionary=new Uint8Array(d.dictionary)),d.raw&&(s=inflate_1$2.inflateSetDictionary(this.strm,d.dictionary),s!==Z_OK)))throw new Error(messages[s])}Inflate$1.prototype.push=function(a,d){const s=this.strm,m=this.options.chunkSize,f=this.options.dictionary;let x,g,w;if(this.ended)return!1;for(d===~~d?g=d:g=d===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(a)==="[object ArrayBuffer]"?s.input=new Uint8Array(a):s.input=a,s.next_in=0,s.avail_in=s.input.length;;){for(s.avail_out===0&&(s.output=new Uint8Array(m),s.next_out=0,s.avail_out=m),x=inflate_1$2.inflate(s,g),x===Z_NEED_DICT&&f&&(x=inflate_1$2.inflateSetDictionary(s,f),x===Z_OK?x=inflate_1$2.inflate(s,g):x===Z_DATA_ERROR&&(x=Z_NEED_DICT));s.avail_in>0&&x===Z_STREAM_END&&s.state.wrap>0&&a[s.next_in]!==0;)inflate_1$2.inflateReset(s),x=inflate_1$2.inflate(s,g);switch(x){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(x),this.ended=!0,!1}if(w=s.avail_out,s.next_out&&(s.avail_out===0||x===Z_STREAM_END))if(this.options.to==="string"){let C=strings.utf8border(s.output,s.next_out),A=s.next_out-C,_=strings.buf2string(s.output,C);s.next_out=A,s.avail_out=m-A,A&&s.output.set(s.output.subarray(C,C+A),0),this.onData(_)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(!(x===Z_OK&&w===0)){if(x===Z_STREAM_END)return x=inflate_1$2.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,!0;if(s.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(a){this.chunks.push(a)};Inflate$1.prototype.onEnd=function(a){a===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};function inflate$1(a,d){const s=new Inflate$1(d);if(s.push(a),s.err)throw s.msg||messages[s.err];return s.result}function inflateRaw$1(a,d){return d=d||{},d.raw=!0,inflate$1(a,d)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var deflate_1=deflate,Inflate_1=Inflate,inflate_1=inflate;const pngSignature=[137,80,78,71,13,10,26,10],crcTable=[];for(let a=0;a<256;a++){let d=a;for(let s=0;s<8;s++)d&1?d=3988292384^d>>>1:d=d>>>1;crcTable[a]=d}const initialCrc=4294967295;function updateCrc(a,d,s){let m=a;for(let f=0;f<s;f++)m=crcTable[(m^d[f])&255]^m>>>8;return m}function crc(a,d){return(updateCrc(initialCrc,a,d)^initialCrc)>>>0}var ColorType;(function(a){a[a.UNKNOWN=-1]="UNKNOWN",a[a.GREYSCALE=0]="GREYSCALE",a[a.TRUECOLOUR=2]="TRUECOLOUR",a[a.INDEXED_COLOUR=3]="INDEXED_COLOUR",a[a.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",a[a.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"})(ColorType||(ColorType={}));var CompressionMethod;(function(a){a[a.UNKNOWN=-1]="UNKNOWN",a[a.DEFLATE=0]="DEFLATE"})(CompressionMethod||(CompressionMethod={}));var FilterMethod;(function(a){a[a.UNKNOWN=-1]="UNKNOWN",a[a.ADAPTIVE=0]="ADAPTIVE"})(FilterMethod||(FilterMethod={}));var InterlaceMethod;(function(a){a[a.UNKNOWN=-1]="UNKNOWN",a[a.NO_INTERLACE=0]="NO_INTERLACE",a[a.ADAM7=1]="ADAM7"})(InterlaceMethod||(InterlaceMethod={}));const empty=new Uint8Array(0),NULL="\0",uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255;class PngDecoder extends IOBuffer$4{constructor(d,s={}){super(d);const{checkCrc:m=!1}=s;this._checkCrc=m,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=ColorType.UNKNOWN,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let d=0;d<pngSignature.length;d++)if(this.readUint8()!==pngSignature[d])throw new Error(`wrong PNG signature. Byte at ${d} should be ${pngSignature[d]}.`)}decodeChunk(){const d=this.readUint32(),s=this.readChars(4),m=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(d);break;case"IDAT":this.decodeIDAT(d);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(d);break;case"iCCP":this.decodeiCCP(d);break;case"tEXt":this.decodetEXt(d);break;case"pHYs":this.decodepHYs();break;default:this.skip(d);break}if(this.offset-m!==d)throw new Error(`Length mismatch while decoding chunk ${s}`);if(this._checkCrc){const f=this.readUint32(),x=d+4,g=crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-x-4,x),x);if(g!==f)throw new Error(`CRC mismatch for chunk ${s}. Expected ${f}, found ${g}`)}else this.skip(4)}decodeIHDR(){const d=this._png;d.width=this.readUint32(),d.height=this.readUint32(),d.depth=checkBitDepth(this.readUint8());const s=this.readUint8();this._colorType=s;let m;switch(s){case ColorType.GREYSCALE:m=1;break;case ColorType.TRUECOLOUR:m=3;break;case ColorType.INDEXED_COLOUR:m=1;break;case ColorType.GREYSCALE_ALPHA:m=2;break;case ColorType.TRUECOLOUR_ALPHA:m=4;break;default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=m,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(d){if(d%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${d}`);const s=d/3;this._hasPalette=!0;const m=[];this._palette=m;for(let f=0;f<s;f++)m.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(d){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,d)),this.skip(d)}decodetRNS(d){switch(this._colorType){case ColorType.GREYSCALE:case ColorType.TRUECOLOUR:{if(d%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${d}`);if(d/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${d/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(d/2);for(let s=0;s<d/2;s++)this._transparency[s]=this.readUint16();break}case ColorType.INDEXED_COLOUR:{if(d>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${d} vs ${this._palette.length})`);let s=0;for(;s<d;s++){const m=this.readByte();this._palette[s].push(m)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(d){let s="",m;for(;(m=this.readChar())!==NULL;)s+=m;const f=this.readUint8();if(f!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${f}`);const x=this.readBytes(d-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:inflate_1(x)}}decodetEXt(d){let s="",m;for(;(m=this.readChar())!==NULL;)s+=m;this._png.text[s]=this.readChars(d-s.length-1)}decodepHYs(){const d=this.readUint32(),s=this.readUint32(),m=this.readByte();this._png.resolution={x:d,y:s,unit:m}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const d=this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this.decodeInterlaceNull(d);else throw new Error(`Interlace method ${this._interlaceMethod} not supported`)}decodeInterlaceNull(d){const s=this._png.height,m=this._png.channels*this._png.depth/8,f=this._png.width*m,x=new Uint8Array(this._png.height*f);let g=empty,w=0,C,A;for(let _=0;_<s;_++){switch(C=d.subarray(w+1,w+1+f),A=x.subarray(_*f,(_+1)*f),d[w]){case 0:unfilterNone(C,A,f);break;case 1:unfilterSub(C,A,f,m);break;case 2:unfilterUp(C,A,g,f);break;case 3:unfilterAverage(C,A,g,f,m);break;case 4:unfilterPaeth(C,A,g,f,m);break;default:throw new Error(`Unsupported filter: ${d[w]}`)}g=A,w+=f+1}if(this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency),this._png.depth===16){const _=new Uint16Array(x.buffer);if(osIsLittleEndian)for(let M=0;M<_.length;M++)_[M]=swap16(_[M]);this._png.data=_}else this._png.data=x}}function unfilterNone(a,d,s){for(let m=0;m<s;m++)d[m]=a[m]}function unfilterSub(a,d,s,m){let f=0;for(;f<m;f++)d[f]=a[f];for(;f<s;f++)d[f]=a[f]+d[f-m]&255}function unfilterUp(a,d,s,m){let f=0;if(s.length===0)for(;f<m;f++)d[f]=a[f];else for(;f<m;f++)d[f]=a[f]+s[f]&255}function unfilterAverage(a,d,s,m,f){let x=0;if(s.length===0){for(;x<f;x++)d[x]=a[x];for(;x<m;x++)d[x]=a[x]+(d[x-f]>>1)&255}else{for(;x<f;x++)d[x]=a[x]+(s[x]>>1)&255;for(;x<m;x++)d[x]=a[x]+(d[x-f]+s[x]>>1)&255}}function unfilterPaeth(a,d,s,m,f){let x=0;if(s.length===0){for(;x<f;x++)d[x]=a[x];for(;x<m;x++)d[x]=a[x]+d[x-f]&255}else{for(;x<f;x++)d[x]=a[x]+s[x]&255;for(;x<m;x++)d[x]=a[x]+paethPredictor(d[x-f],s[x],s[x-f])&255}}function paethPredictor(a,d,s){const m=a+d-s,f=Math.abs(m-a),x=Math.abs(m-d),g=Math.abs(m-s);return f<=x&&f<=g?a:x<=g?d:s}function swap16(a){return(a&255)<<8|a>>8&255}function checkBitDepth(a){if(a!==1&&a!==2&&a!==4&&a!==8&&a!==16)throw new Error(`invalid bit depth: ${a}`);return a}const defaultZlibOptions={level:3};class PngEncoder extends IOBuffer$4{constructor(d,s={}){super(),this._colorType=ColorType.UNKNOWN,this._zlibOptions={...defaultZlibOptions,...s.zlib},this._png=this._checkData(d),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(pngSignature)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(CompressionMethod.DEFLATE),this.writeByte(FilterMethod.ADAPTIVE),this.writeByte(InterlaceMethod.NO_INTERLACE),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT(d){this.writeUint32(d.length),this.writeChars("IDAT"),this.writeBytes(d),this.writeCrc(d.length+4)}encodeData(){const{width:d,height:s,channels:m,depth:f,data:x}=this._png,g=m*d,w=new IOBuffer$4().setBigEndian();let C=0;for(let M=0;M<s;M++)if(w.writeByte(0),f===8)C=writeDataBytes(x,w,g,C);else if(f===16)C=writeDataUint16(x,w,g,C);else throw new Error("unreachable");const A=w.toArray(),_=deflate_1(A,this._zlibOptions);this.encodeIDAT(_)}_checkData(d){const{colorType:s,channels:m,depth:f}=getColorType(d),x={width:checkInteger(d.width,"width"),height:checkInteger(d.height,"height"),channels:m,data:d.data,depth:f,text:{}};this._colorType=s;const g=x.width*x.height*m;if(x.data.length!==g)throw new RangeError(`wrong data size. Found ${x.data.length}, expected ${g}`);return x}writeCrc(d){this.writeUint32(crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-d,d),d))}}function checkInteger(a,d){if(Number.isInteger(a)&&a>0)return a;throw new TypeError(`${d} must be a positive integer`)}function getColorType(a){const{channels:d=4,depth:s=8}=a;if(d!==4&&d!==3&&d!==2&&d!==1)throw new RangeError(`unsupported number of channels: ${d}`);if(s!==8&&s!==16)throw new RangeError(`unsupported bit depth: ${s}`);const m={channels:d,depth:s,colorType:ColorType.UNKNOWN};switch(d){case 4:m.colorType=ColorType.TRUECOLOUR_ALPHA;break;case 3:m.colorType=ColorType.TRUECOLOUR;break;case 1:m.colorType=ColorType.GREYSCALE;break;case 2:m.colorType=ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return m}function writeDataBytes(a,d,s,m){for(let f=0;f<s;f++)d.writeByte(a[m++]);return m}function writeDataUint16(a,d,s,m){for(let f=0;f<s;f++)d.writeUint16(a[m++]);return m}var ResolutionUnitSpecifier;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng(a,d){return new PngDecoder(a,d).decode()}function encodePng$1(a,d){return new PngEncoder(a,d).encode()}var encoder={exports:{}};(function(a){function d(m){var f=Math.floor,x=new Array(64),g=new Array(64),w=new Array(64),C=new Array(64),A,_,M,P,D=new Array(65535),E=new Array(65535),I=new Array(64),B=new Array(64),F=[],R=0,L=7,z=new Array(64),G=new Array(64),W=new Array(64),K=new Array(256),q=new Array(2048),Z,J=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],oe=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ue=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],fe=[0,1,2,3,4,5,6,7,8,9,10,11],xe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function me(we){for(var Pe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ke=0;ke<64;ke++){var Be=f((Pe[ke]*we+50)/100);Be<1?Be=1:Be>255&&(Be=255),x[J[ke]]=Be}for(var Re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ze=0;ze<64;ze++){var $e=f((Re[ze]*we+50)/100);$e<1?$e=1:$e>255&&($e=255),g[J[ze]]=$e}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,He=0;He<8;He++)for(var Ue=0;Ue<8;Ue++)w[ge]=1/(x[J[ge]]*je[He]*je[Ue]*8),C[ge]=1/(g[J[ge]]*je[He]*je[Ue]*8),ge++}function pe(we,Pe){for(var ke=0,Be=0,Re=new Array,ze=1;ze<=16;ze++){for(var $e=1;$e<=we[ze];$e++)Re[Pe[Be]]=[],Re[Pe[Be]][0]=ke,Re[Pe[Be]][1]=ze,Be++,ke++;ke*=2}return Re}function Se(){A=pe(Q,ie),_=pe(ue,fe),M=pe(se,oe),P=pe(xe,ce)}function Ae(){for(var we=1,Pe=2,ke=1;ke<=15;ke++){for(var Be=we;Be<Pe;Be++)E[32767+Be]=ke,D[32767+Be]=[],D[32767+Be][1]=ke,D[32767+Be][0]=Be;for(var Re=-(Pe-1);Re<=-we;Re++)E[32767+Re]=ke,D[32767+Re]=[],D[32767+Re][1]=ke,D[32767+Re][0]=Pe-1+Re;we<<=1,Pe<<=1}}function _e(){for(var we=0;we<256;we++)q[we]=19595*we,q[we+256>>0]=38470*we,q[we+512>>0]=7471*we+32768,q[we+768>>0]=-11059*we,q[we+1024>>0]=-21709*we,q[we+1280>>0]=32768*we+8421375,q[we+1536>>0]=-27439*we,q[we+1792>>0]=-5329*we}function Me(we){for(var Pe=we[0],ke=we[1]-1;ke>=0;)Pe&1<<ke&&(R|=1<<L),ke--,L--,L<0&&(R==255?(ve(255),ve(0)):ve(R),L=7,R=0)}function ve(we){F.push(we)}function Ee(we){ve(we>>8&255),ve(we&255)}function Le(we,Pe){var ke,Be,Re,ze,$e,je,ge,He,Ue=0,Ye,Te=8,Ne=64;for(Ye=0;Ye<Te;++Ye){ke=we[Ue],Be=we[Ue+1],Re=we[Ue+2],ze=we[Ue+3],$e=we[Ue+4],je=we[Ue+5],ge=we[Ue+6],He=we[Ue+7];var Ge=ke+He,Xe=ke-He,qe=Be+ge,Je=Be-ge,Ke=Re+je,et=Re-je,tt=ze+$e,ot=ze-$e,nt=Ge+tt,it=Ge-tt,st=qe+Ke,gt=qe-Ke;we[Ue]=nt+st,we[Ue+4]=nt-st;var St=(gt+it)*.707106781;we[Ue+2]=it+St,we[Ue+6]=it-St,nt=ot+et,st=et+Je,gt=Je+Xe;var Ve=(nt-gt)*.382683433,ye=.5411961*nt+Ve,De=1.306562965*gt+Ve,Fe=st*.707106781,We=Xe+Fe,Ze=Xe-Fe;we[Ue+5]=Ze+ye,we[Ue+3]=Ze-ye,we[Ue+1]=We+De,we[Ue+7]=We-De,Ue+=8}for(Ue=0,Ye=0;Ye<Te;++Ye){ke=we[Ue],Be=we[Ue+8],Re=we[Ue+16],ze=we[Ue+24],$e=we[Ue+32],je=we[Ue+40],ge=we[Ue+48],He=we[Ue+56];var Qe=ke+He,at=ke-He,rt=Be+ge,ut=Be-ge,dt=Re+je,$t=Re-je,ct=ze+$e,_t=ze-$e,ht=Qe+ct,yt=Qe-ct,mt=rt+dt,At=rt-dt;we[Ue]=ht+mt,we[Ue+32]=ht-mt;var Lt=(At+yt)*.707106781;we[Ue+16]=yt+Lt,we[Ue+48]=yt-Lt,ht=_t+$t,mt=$t+ut,At=ut+at;var bt=(ht-At)*.382683433,Ht=.5411961*ht+bt,fi=1.306562965*At+bt,pi=mt*.707106781,xi=at+pi,gi=at-pi;we[Ue+40]=gi+Ht,we[Ue+24]=gi-Ht,we[Ue+8]=xi+fi,we[Ue+56]=xi-fi,Ue++}var Xt;for(Ye=0;Ye<Ne;++Ye)Xt=we[Ye]*Pe[Ye],I[Ye]=Xt>0?Xt+.5|0:Xt-.5|0;return I}function Ie(){Ee(65504),Ee(16),ve(74),ve(70),ve(73),ve(70),ve(0),ve(1),ve(1),ve(0),Ee(1),Ee(1),ve(0),ve(0)}function Oe(we){if(we){Ee(65505),we[0]===69&&we[1]===120&&we[2]===105&&we[3]===102?Ee(we.length+2):(Ee(we.length+5+2),ve(69),ve(120),ve(105),ve(102),ve(0));for(var Pe=0;Pe<we.length;Pe++)ve(we[Pe])}}function le(we,Pe){Ee(65472),Ee(17),ve(8),Ee(Pe),Ee(we),ve(3),ve(1),ve(17),ve(0),ve(2),ve(17),ve(1),ve(3),ve(17),ve(1)}function te(){Ee(65499),Ee(132),ve(0);for(var we=0;we<64;we++)ve(x[we]);ve(1);for(var Pe=0;Pe<64;Pe++)ve(g[Pe])}function re(){Ee(65476),Ee(418),ve(0);for(var we=0;we<16;we++)ve(Q[we+1]);for(var Pe=0;Pe<=11;Pe++)ve(ie[Pe]);ve(16);for(var ke=0;ke<16;ke++)ve(se[ke+1]);for(var Be=0;Be<=161;Be++)ve(oe[Be]);ve(1);for(var Re=0;Re<16;Re++)ve(ue[Re+1]);for(var ze=0;ze<=11;ze++)ve(fe[ze]);ve(17);for(var $e=0;$e<16;$e++)ve(xe[$e+1]);for(var je=0;je<=161;je++)ve(ce[je])}function ne(we){typeof we>"u"||we.constructor!==Array||we.forEach(Pe=>{if(typeof Pe=="string"){Ee(65534);var ke=Pe.length;Ee(ke+2);var Be;for(Be=0;Be<ke;Be++)ve(Pe.charCodeAt(Be))}})}function ae(){Ee(65498),Ee(12),ve(3),ve(1),ve(0),ve(2),ve(17),ve(3),ve(17),ve(0),ve(63),ve(0)}function he(we,Pe,ke,Be,Re){for(var ze=Re[0],$e=Re[240],je,ge=16,He=63,Ue=64,Ye=Le(we,Pe),Te=0;Te<Ue;++Te)B[J[Te]]=Ye[Te];var Ne=B[0]-ke;ke=B[0],Ne==0?Me(Be[0]):(je=32767+Ne,Me(Be[E[je]]),Me(D[je]));for(var Ge=63;Ge>0&&B[Ge]==0;Ge--);if(Ge==0)return Me(ze),ke;for(var Xe=1,qe;Xe<=Ge;){for(var Je=Xe;B[Xe]==0&&Xe<=Ge;++Xe);var Ke=Xe-Je;if(Ke>=ge){qe=Ke>>4;for(var et=1;et<=qe;++et)Me($e);Ke=Ke&15}je=32767+B[Xe],Me(Re[(Ke<<4)+E[je]]),Me(D[je]),Xe++}return Ge!=He&&Me(ze),ke}function de(){for(var we=String.fromCharCode,Pe=0;Pe<256;Pe++)K[Pe]=we(Pe)}this.encode=function(we,Pe){new Date().getTime(),Pe&&be(Pe),F=new Array,R=0,L=7,Ee(65496),Ie(),ne(we.comments),Oe(we.exifBuffer),te(),le(we.width,we.height),re(),ae();var ke=0,Be=0,Re=0;R=0,L=7,this.encode.displayName="_encode_";for(var ze=we.data,$e=we.width,je=we.height,ge=$e*4,He,Ue=0,Ye,Te,Ne,Ge,Xe,qe,Je,Ke;Ue<je;){for(He=0;He<ge;){for(Ge=ge*Ue+He,Xe=Ge,qe=-1,Je=0,Ke=0;Ke<64;Ke++)Je=Ke>>3,qe=(Ke&7)*4,Xe=Ge+Je*ge+qe,Ue+Je>=je&&(Xe-=ge*(Ue+1+Je-je)),He+qe>=ge&&(Xe-=He+qe-ge+4),Ye=ze[Xe++],Te=ze[Xe++],Ne=ze[Xe++],z[Ke]=(q[Ye]+q[Te+256>>0]+q[Ne+512>>0]>>16)-128,G[Ke]=(q[Ye+768>>0]+q[Te+1024>>0]+q[Ne+1280>>0]>>16)-128,W[Ke]=(q[Ye+1280>>0]+q[Te+1536>>0]+q[Ne+1792>>0]>>16)-128;ke=he(z,w,ke,A,M),Be=he(G,C,Be,_,P),Re=he(W,C,Re,_,P),He+=32}Ue+=8}if(L>=0){var et=[];et[1]=L+1,et[0]=(1<<L+1)-1,Me(et)}return Ee(65497),Buffer.from(F)};function be(we){if(we<=0&&(we=1),we>100&&(we=100),Z!=we){var Pe=0;we<50?Pe=Math.floor(5e3/we):Pe=Math.floor(200-we*2),me(Pe),Z=we}}function Ce(){var we=new Date().getTime();m||(m=50),de(),Se(),Ae(),_e(),be(m),new Date().getTime()-we}Ce()}a.exports=s;function s(m,f){typeof f>"u"&&(f=50);var x=new d(f),g=x.encode(m,f);return{data:g,width:m.width,height:m.height}}})(encoder);var encoderExports=encoder.exports,decoder={exports:{}};(function(a){var d=function(){var f=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),x=4017,g=799,w=3406,C=2276,A=1567,_=3784,M=5793,P=2896;function D(){}function E(G,W){for(var K=0,q=[],Z,J,Q=16;Q>0&&!G[Q-1];)Q--;q.push({children:[],index:0});var ie=q[0],se;for(Z=0;Z<Q;Z++){for(J=0;J<G[Z];J++){for(ie=q.pop(),ie.children[ie.index]=W[K];ie.index>0;){if(q.length===0)throw new Error("Could not recreate Huffman Table");ie=q.pop()}for(ie.index++,q.push(ie);q.length<=Z;)q.push(se={children:[],index:0}),ie.children[ie.index]=se.children,ie=se;K++}Z+1<Q&&(q.push(se={children:[],index:0}),ie.children[ie.index]=se.children,ie=se)}return q[0].children}function I(G,W,K,q,Z,J,Q,ie,se,oe){K.precision,K.samplesPerLine,K.scanLines;var ue=K.mcusPerLine,fe=K.progressive;K.maxH,K.maxV;var xe=W,ce=0,me=0;function pe(){if(me>0)return me--,ce>>me&1;if(ce=G[W++],ce==255){var je=G[W++];if(je)throw new Error("unexpected marker: "+(ce<<8|je).toString(16))}return me=7,ce>>>7}function Se(je){for(var ge=je,He;(He=pe())!==null;){if(ge=ge[He],typeof ge=="number")return ge;if(typeof ge!="object")throw new Error("invalid huffman sequence")}return null}function Ae(je){for(var ge=0;je>0;){var He=pe();if(He===null)return;ge=ge<<1|He,je--}return ge}function _e(je){var ge=Ae(je);return ge>=1<<je-1?ge:ge+(-1<<je)+1}function Me(je,ge){var He=Se(je.huffmanTableDC),Ue=He===0?0:_e(He);ge[0]=je.pred+=Ue;for(var Ye=1;Ye<64;){var Te=Se(je.huffmanTableAC),Ne=Te&15,Ge=Te>>4;if(Ne===0){if(Ge<15)break;Ye+=16;continue}Ye+=Ge;var Xe=f[Ye];ge[Xe]=_e(Ne),Ye++}}function ve(je,ge){var He=Se(je.huffmanTableDC),Ue=He===0?0:_e(He)<<se;ge[0]=je.pred+=Ue}function Ee(je,ge){ge[0]|=pe()<<se}var Le=0;function Ie(je,ge){if(Le>0){Le--;return}for(var He=J,Ue=Q;He<=Ue;){var Ye=Se(je.huffmanTableAC),Te=Ye&15,Ne=Ye>>4;if(Te===0){if(Ne<15){Le=Ae(Ne)+(1<<Ne)-1;break}He+=16;continue}He+=Ne;var Ge=f[He];ge[Ge]=_e(Te)*(1<<se),He++}}var Oe=0,le;function te(je,ge){for(var He=J,Ue=Q,Ye=0;He<=Ue;){var Te=f[He],Ne=ge[Te]<0?-1:1;switch(Oe){case 0:var Ge=Se(je.huffmanTableAC),Xe=Ge&15,Ye=Ge>>4;if(Xe===0)Ye<15?(Le=Ae(Ye)+(1<<Ye),Oe=4):(Ye=16,Oe=1);else{if(Xe!==1)throw new Error("invalid ACn encoding");le=_e(Xe),Oe=Ye?2:3}continue;case 1:case 2:ge[Te]?ge[Te]+=(pe()<<se)*Ne:(Ye--,Ye===0&&(Oe=Oe==2?3:0));break;case 3:ge[Te]?ge[Te]+=(pe()<<se)*Ne:(ge[Te]=le<<se,Oe=0);break;case 4:ge[Te]&&(ge[Te]+=(pe()<<se)*Ne);break}He++}Oe===4&&(Le--,Le===0&&(Oe=0))}function re(je,ge,He,Ue,Ye){var Te=He/ue|0,Ne=He%ue,Ge=Te*je.v+Ue,Xe=Ne*je.h+Ye;je.blocks[Ge]===void 0&&oe.tolerantDecoding||ge(je,je.blocks[Ge][Xe])}function ne(je,ge,He){var Ue=He/je.blocksPerLine|0,Ye=He%je.blocksPerLine;je.blocks[Ue]===void 0&&oe.tolerantDecoding||ge(je,je.blocks[Ue][Ye])}var ae=q.length,he,de,be,Ce,we,Pe;fe?J===0?Pe=ie===0?ve:Ee:Pe=ie===0?Ie:te:Pe=Me;var ke=0,Be,Re;ae==1?Re=q[0].blocksPerLine*q[0].blocksPerColumn:Re=ue*K.mcusPerColumn,Z||(Z=Re);for(var ze,$e;ke<Re;){for(de=0;de<ae;de++)q[de].pred=0;if(Le=0,ae==1)for(he=q[0],we=0;we<Z;we++)ne(he,Pe,ke),ke++;else for(we=0;we<Z;we++){for(de=0;de<ae;de++)for(he=q[de],ze=he.h,$e=he.v,be=0;be<$e;be++)for(Ce=0;Ce<ze;Ce++)re(he,Pe,ke,be,Ce);if(ke++,ke===Re)break}if(ke===Re)do{if(G[W]===255&&G[W+1]!==0)break;W+=1}while(W<G.length-2);if(me=0,Be=G[W]<<8|G[W+1],Be<65280)throw new Error("marker was not found");if(Be>=65488&&Be<=65495)W+=2;else break}return W-xe}function B(G,W){var K=[],q=W.blocksPerLine,Z=W.blocksPerColumn,J=q<<3,Q=new Int32Array(64),ie=new Uint8Array(64);function se(Ae,_e,Me){var ve=W.quantizationTable,Ee,Le,Ie,Oe,le,te,re,ne,ae,he=Me,de;for(de=0;de<64;de++)he[de]=Ae[de]*ve[de];for(de=0;de<8;++de){var be=8*de;if(he[1+be]==0&&he[2+be]==0&&he[3+be]==0&&he[4+be]==0&&he[5+be]==0&&he[6+be]==0&&he[7+be]==0){ae=M*he[0+be]+512>>10,he[0+be]=ae,he[1+be]=ae,he[2+be]=ae,he[3+be]=ae,he[4+be]=ae,he[5+be]=ae,he[6+be]=ae,he[7+be]=ae;continue}Ee=M*he[0+be]+128>>8,Le=M*he[4+be]+128>>8,Ie=he[2+be],Oe=he[6+be],le=P*(he[1+be]-he[7+be])+128>>8,ne=P*(he[1+be]+he[7+be])+128>>8,te=he[3+be]<<4,re=he[5+be]<<4,ae=Ee-Le+1>>1,Ee=Ee+Le+1>>1,Le=ae,ae=Ie*_+Oe*A+128>>8,Ie=Ie*A-Oe*_+128>>8,Oe=ae,ae=le-re+1>>1,le=le+re+1>>1,re=ae,ae=ne+te+1>>1,te=ne-te+1>>1,ne=ae,ae=Ee-Oe+1>>1,Ee=Ee+Oe+1>>1,Oe=ae,ae=Le-Ie+1>>1,Le=Le+Ie+1>>1,Ie=ae,ae=le*C+ne*w+2048>>12,le=le*w-ne*C+2048>>12,ne=ae,ae=te*g+re*x+2048>>12,te=te*x-re*g+2048>>12,re=ae,he[0+be]=Ee+ne,he[7+be]=Ee-ne,he[1+be]=Le+re,he[6+be]=Le-re,he[2+be]=Ie+te,he[5+be]=Ie-te,he[3+be]=Oe+le,he[4+be]=Oe-le}for(de=0;de<8;++de){var Ce=de;if(he[8+Ce]==0&&he[16+Ce]==0&&he[24+Ce]==0&&he[32+Ce]==0&&he[40+Ce]==0&&he[48+Ce]==0&&he[56+Ce]==0){ae=M*Me[de+0]+8192>>14,he[0+Ce]=ae,he[8+Ce]=ae,he[16+Ce]=ae,he[24+Ce]=ae,he[32+Ce]=ae,he[40+Ce]=ae,he[48+Ce]=ae,he[56+Ce]=ae;continue}Ee=M*he[0+Ce]+2048>>12,Le=M*he[32+Ce]+2048>>12,Ie=he[16+Ce],Oe=he[48+Ce],le=P*(he[8+Ce]-he[56+Ce])+2048>>12,ne=P*(he[8+Ce]+he[56+Ce])+2048>>12,te=he[24+Ce],re=he[40+Ce],ae=Ee-Le+1>>1,Ee=Ee+Le+1>>1,Le=ae,ae=Ie*_+Oe*A+2048>>12,Ie=Ie*A-Oe*_+2048>>12,Oe=ae,ae=le-re+1>>1,le=le+re+1>>1,re=ae,ae=ne+te+1>>1,te=ne-te+1>>1,ne=ae,ae=Ee-Oe+1>>1,Ee=Ee+Oe+1>>1,Oe=ae,ae=Le-Ie+1>>1,Le=Le+Ie+1>>1,Ie=ae,ae=le*C+ne*w+2048>>12,le=le*w-ne*C+2048>>12,ne=ae,ae=te*g+re*x+2048>>12,te=te*x-re*g+2048>>12,re=ae,he[0+Ce]=Ee+ne,he[56+Ce]=Ee-ne,he[8+Ce]=Le+re,he[48+Ce]=Le-re,he[16+Ce]=Ie+te,he[40+Ce]=Ie-te,he[24+Ce]=Oe+le,he[32+Ce]=Oe-le}for(de=0;de<64;++de){var we=128+(he[de]+8>>4);_e[de]=we<0?0:we>255?255:we}}z(J*Z*8);for(var oe,ue,fe=0;fe<Z;fe++){var xe=fe<<3;for(oe=0;oe<8;oe++)K.push(new Uint8Array(J));for(var ce=0;ce<q;ce++){se(W.blocks[fe][ce],ie,Q);var me=0,pe=ce<<3;for(ue=0;ue<8;ue++){var Se=K[xe+ue];for(oe=0;oe<8;oe++)Se[pe+oe]=ie[me++]}}}return K}function F(G){return G<0?0:G>255?255:G}D.prototype={load:function(W){var K=new XMLHttpRequest;K.open("GET",W,!0),K.responseType="arraybuffer",K.onload=(function(){var q=new Uint8Array(K.response||K.mozResponseArrayBuffer);this.parse(q),this.onload&&this.onload()}).bind(this),K.send(null)},parse:function(W){var K=this.opts.maxResolutionInMP*1e3*1e3,q=0;W.length;function Z(){var Ne=W[q]<<8|W[q+1];return q+=2,Ne}function J(){var Ne=Z(),Ge=W.subarray(q,q+Ne-2);return q+=Ge.length,Ge}function Q(Ne){var Ge=1,Xe=1,qe,Je;for(Je in Ne.components)Ne.components.hasOwnProperty(Je)&&(qe=Ne.components[Je],Ge<qe.h&&(Ge=qe.h),Xe<qe.v&&(Xe=qe.v));var Ke=Math.ceil(Ne.samplesPerLine/8/Ge),et=Math.ceil(Ne.scanLines/8/Xe);for(Je in Ne.components)if(Ne.components.hasOwnProperty(Je)){qe=Ne.components[Je];var tt=Math.ceil(Math.ceil(Ne.samplesPerLine/8)*qe.h/Ge),ot=Math.ceil(Math.ceil(Ne.scanLines/8)*qe.v/Xe),nt=Ke*qe.h,it=et*qe.v,st=it*nt,gt=[];z(st*256);for(var St=0;St<it;St++){for(var Ve=[],ye=0;ye<nt;ye++)Ve.push(new Int32Array(64));gt.push(Ve)}qe.blocksPerLine=tt,qe.blocksPerColumn=ot,qe.blocks=gt}Ne.maxH=Ge,Ne.maxV=Xe,Ne.mcusPerLine=Ke,Ne.mcusPerColumn=et}var ie=null,se=null,oe,ue,fe=[],xe=[],ce=[],me=[],pe=Z(),Se=-1;if(this.comments=[],pe!=65496)throw new Error("SOI not found");for(pe=Z();pe!=65497;){var Ae,_e;switch(pe){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Me=J();if(pe===65534){var ve=String.fromCharCode.apply(null,Me);this.comments.push(ve)}pe===65504&&Me[0]===74&&Me[1]===70&&Me[2]===73&&Me[3]===70&&Me[4]===0&&(ie={version:{major:Me[5],minor:Me[6]},densityUnits:Me[7],xDensity:Me[8]<<8|Me[9],yDensity:Me[10]<<8|Me[11],thumbWidth:Me[12],thumbHeight:Me[13],thumbData:Me.subarray(14,14+3*Me[12]*Me[13])}),pe===65505&&Me[0]===69&&Me[1]===120&&Me[2]===105&&Me[3]===102&&Me[4]===0&&(this.exifBuffer=Me.subarray(5,Me.length)),pe===65518&&Me[0]===65&&Me[1]===100&&Me[2]===111&&Me[3]===98&&Me[4]===101&&Me[5]===0&&(se={version:Me[6],flags0:Me[7]<<8|Me[8],flags1:Me[9]<<8|Me[10],transformCode:Me[11]});break;case 65499:for(var Ee=Z(),Le=Ee+q-2;q<Le;){var Ie=W[q++];z(256);var Oe=new Int32Array(64);if(Ie>>4)if(Ie>>4===1)for(_e=0;_e<64;_e++){var le=f[_e];Oe[le]=Z()}else throw new Error("DQT: invalid table spec");else for(_e=0;_e<64;_e++){var le=f[_e];Oe[le]=W[q++]}fe[Ie&15]=Oe}break;case 65472:case 65473:case 65474:Z(),oe={},oe.extended=pe===65473,oe.progressive=pe===65474,oe.precision=W[q++],oe.scanLines=Z(),oe.samplesPerLine=Z(),oe.components={},oe.componentsOrder=[];var te=oe.scanLines*oe.samplesPerLine;if(te>K){var re=Math.ceil((te-K)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${re}MP`)}var ne=W[q++],ae;for(Ae=0;Ae<ne;Ae++){ae=W[q];var he=W[q+1]>>4,de=W[q+1]&15,be=W[q+2];if(he<=0||de<=0)throw new Error("Invalid sampling factor, expected values above 0");oe.componentsOrder.push(ae),oe.components[ae]={h:he,v:de,quantizationIdx:be},q+=3}Q(oe),xe.push(oe);break;case 65476:var Ce=Z();for(Ae=2;Ae<Ce;){var we=W[q++],Pe=new Uint8Array(16),ke=0;for(_e=0;_e<16;_e++,q++)ke+=Pe[_e]=W[q];z(16+ke);var Be=new Uint8Array(ke);for(_e=0;_e<ke;_e++,q++)Be[_e]=W[q];Ae+=17+ke,(we>>4?ce:me)[we&15]=E(Pe,Be)}break;case 65501:Z(),ue=Z();break;case 65500:Z(),Z();break;case 65498:Z();var Re=W[q++],ze=[],$e;for(Ae=0;Ae<Re;Ae++){$e=oe.components[W[q++]];var je=W[q++];$e.huffmanTableDC=me[je>>4],$e.huffmanTableAC=ce[je&15],ze.push($e)}var ge=W[q++],He=W[q++],Ue=W[q++],Ye=I(W,q,oe,ze,ue,ge,He,Ue>>4,Ue&15,this.opts);q+=Ye;break;case 65535:W[q]!==255&&q--;break;default:if(W[q-3]==255&&W[q-2]>=192&&W[q-2]<=254){q-=3;break}else if(pe===224||pe==225){if(Se!==-1)throw new Error(`first unknown JPEG marker at offset ${Se.toString(16)}, second unknown JPEG marker ${pe.toString(16)} at offset ${(q-1).toString(16)}`);Se=q-1;const Ne=Z();if(W[q+Ne-2]===255){q+=Ne-2;break}}throw new Error("unknown JPEG marker "+pe.toString(16))}pe=Z()}if(xe.length!=1)throw new Error("only single frame JPEGs supported");for(var Ae=0;Ae<xe.length;Ae++){var Te=xe[Ae].components;for(var _e in Te)Te[_e].quantizationTable=fe[Te[_e].quantizationIdx],delete Te[_e].quantizationIdx}this.width=oe.samplesPerLine,this.height=oe.scanLines,this.jfif=ie,this.adobe=se,this.components=[];for(var Ae=0;Ae<oe.componentsOrder.length;Ae++){var $e=oe.components[oe.componentsOrder[Ae]];this.components.push({lines:B(oe,$e),scaleX:$e.h/oe.maxH,scaleY:$e.v/oe.maxV})}},getData:function(W,K){var q=this.width/W,Z=this.height/K,J,Q,ie,se,oe,ue,fe,xe,ce,me,pe=0,Se,Ae,_e,Me,ve,Ee,Le,Ie,Oe,le,te,re=W*K*this.components.length;z(re);var ne=new Uint8Array(re);switch(this.components.length){case 1:for(J=this.components[0],me=0;me<K;me++)for(oe=J.lines[0|me*J.scaleY*Z],ce=0;ce<W;ce++)Se=oe[0|ce*J.scaleX*q],ne[pe++]=Se;break;case 2:for(J=this.components[0],Q=this.components[1],me=0;me<K;me++)for(oe=J.lines[0|me*J.scaleY*Z],ue=Q.lines[0|me*Q.scaleY*Z],ce=0;ce<W;ce++)Se=oe[0|ce*J.scaleX*q],ne[pe++]=Se,Se=ue[0|ce*Q.scaleX*q],ne[pe++]=Se;break;case 3:for(te=!0,this.adobe&&this.adobe.transformCode?te=!0:typeof this.opts.colorTransform<"u"&&(te=!!this.opts.colorTransform),J=this.components[0],Q=this.components[1],ie=this.components[2],me=0;me<K;me++)for(oe=J.lines[0|me*J.scaleY*Z],ue=Q.lines[0|me*Q.scaleY*Z],fe=ie.lines[0|me*ie.scaleY*Z],ce=0;ce<W;ce++)te?(Se=oe[0|ce*J.scaleX*q],Ae=ue[0|ce*Q.scaleX*q],_e=fe[0|ce*ie.scaleX*q],Ie=F(Se+1.402*(_e-128)),Oe=F(Se-.3441363*(Ae-128)-.71413636*(_e-128)),le=F(Se+1.772*(Ae-128))):(Ie=oe[0|ce*J.scaleX*q],Oe=ue[0|ce*Q.scaleX*q],le=fe[0|ce*ie.scaleX*q]),ne[pe++]=Ie,ne[pe++]=Oe,ne[pe++]=le;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(te=!1,this.adobe&&this.adobe.transformCode?te=!0:typeof this.opts.colorTransform<"u"&&(te=!!this.opts.colorTransform),J=this.components[0],Q=this.components[1],ie=this.components[2],se=this.components[3],me=0;me<K;me++)for(oe=J.lines[0|me*J.scaleY*Z],ue=Q.lines[0|me*Q.scaleY*Z],fe=ie.lines[0|me*ie.scaleY*Z],xe=se.lines[0|me*se.scaleY*Z],ce=0;ce<W;ce++)te?(Se=oe[0|ce*J.scaleX*q],Ae=ue[0|ce*Q.scaleX*q],_e=fe[0|ce*ie.scaleX*q],Me=xe[0|ce*se.scaleX*q],ve=255-F(Se+1.402*(_e-128)),Ee=255-F(Se-.3441363*(Ae-128)-.71413636*(_e-128)),Le=255-F(Se+1.772*(Ae-128))):(ve=oe[0|ce*J.scaleX*q],Ee=ue[0|ce*Q.scaleX*q],Le=fe[0|ce*ie.scaleX*q],Me=xe[0|ce*se.scaleX*q]),ne[pe++]=255-ve,ne[pe++]=255-Ee,ne[pe++]=255-Le,ne[pe++]=255-Me;break;default:throw new Error("Unsupported color mode")}return ne},copyToImageData:function(W,K){var q=W.width,Z=W.height,J=W.data,Q=this.getData(q,Z),ie=0,se=0,oe,ue,fe,xe,ce,me,pe,Se,Ae;switch(this.components.length){case 1:for(ue=0;ue<Z;ue++)for(oe=0;oe<q;oe++)fe=Q[ie++],J[se++]=fe,J[se++]=fe,J[se++]=fe,K&&(J[se++]=255);break;case 3:for(ue=0;ue<Z;ue++)for(oe=0;oe<q;oe++)pe=Q[ie++],Se=Q[ie++],Ae=Q[ie++],J[se++]=pe,J[se++]=Se,J[se++]=Ae,K&&(J[se++]=255);break;case 4:for(ue=0;ue<Z;ue++)for(oe=0;oe<q;oe++)ce=Q[ie++],me=Q[ie++],fe=Q[ie++],xe=Q[ie++],pe=255-F(ce*(1-xe/255)+xe),Se=255-F(me*(1-xe/255)+xe),Ae=255-F(fe*(1-xe/255)+xe),J[se++]=pe,J[se++]=Se,J[se++]=Ae,K&&(J[se++]=255);break;default:throw new Error("Unsupported color mode")}}};var R=0,L=0;function z(G=0){var W=R+G;if(W>L){var K=Math.ceil((W-L)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${K}MB`)}R=W}return D.resetMaxMemoryUsage=function(G){R=0,L=G},D.getBytesAllocated=function(){return R},D.requestMemoryAllocation=z,D}();a.exports=s;function s(m,f={}){var x={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},g={...x,...f},w=new Uint8Array(m),C=new d;C.opts=g,d.resetMaxMemoryUsage(g.maxMemoryUsageInMB*1024*1024),C.parse(w);var A=g.formatAsRGBA?4:3,_=C.width*C.height*A;try{d.requestMemoryAllocation(_);var M={width:C.width,height:C.height,exifBuffer:C.exifBuffer,data:g.useTArray?new Uint8Array(_):Buffer.alloc(_)};C.comments.length>0&&(M.comments=C.comments)}catch(P){throw P instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+_):P instanceof ReferenceError&&P.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):P}return C.copyToImageData(M,g.formatAsRGBA),M}})(decoder);var decoderExports=decoder.exports,encode$1=encoderExports,decode$4=decoderExports,jpegJs={encode:encode$1,decode:decode$4};let chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(let a=0;a<chars.length;a++)lookup[chars.charCodeAt(a)]=a;function encode(a){let d,s=a.length,m="";for(d=0;d<s;d+=3)m+=chars[a[d]>>2],m+=chars[(a[d]&3)<<4|a[d+1]>>4],m+=chars[(a[d+1]&15)<<2|a[d+2]>>6],m+=chars[a[d+2]&63];return s%3===2?m=`${m.substring(0,m.length-1)}=`:s%3===1&&(m=`${m.substring(0,m.length-2)}==`),m}function decode$3(a){let d=a.length*.75,s=a.length,m=0,f,x,g,w;a[a.length-1]==="="&&(d--,a[a.length-2]==="="&&d--);const C=new Uint8Array(d);for(let A=0;A<s;A+=4)f=lookup[a.charCodeAt(A)],x=lookup[a.charCodeAt(A+1)],g=lookup[a.charCodeAt(A+2)],w=lookup[a.charCodeAt(A+3)],C[m++]=f<<2|x>>4,C[m++]=(x&15)<<4|g>>2,C[m++]=(g&3)<<6|w&63;return C}function toBase64URL(a,d){const s=encode(a);return`data:${d};base64,${s}`}const ImageData=self.ImageData,DOMImage=self.Image;function createCanvas(a,d){let s=self.document.createElement("canvas");return s.width=a,s.height=d,s}function fetchBinary(a,{withCredentials:d=!1}={}){return new Promise(function(s,m){let f=new self.XMLHttpRequest;f.open("GET",a,!0),f.responseType="arraybuffer",f.withCredentials=d,f.onload=function(x){this.status!==200?m(x):s(this.response)},f.onerror=m,f.send()})}function createWriteStream(){throw new Error("createWriteStream does not exist in the browser")}function writeFile(){throw new Error("writeFile does not exist in the browser")}function getType(a){return a.includes("/")||(a=`image/${a}`),a}function encodeJpeg(a,d={}){const s={width:a.width,height:a.height,data:a.getRGBAData()};return jpegJs.encode(s,d.quality).data}function encodePng(a,d){const s={width:a.width,height:a.height,channels:a.channels,depth:a.bitDepth,data:a.data};return(s.depth===1||s.depth===32)&&(s.depth=8,s.channels=4,s.data=a.getRGBAData()),encodePng$1(s,d)}const exportMethods={save(a,d={}){const{useCanvas:s=!1,encoder:m=void 0}=d;let{format:f}=d;if(!f){const x=/\.(?<format>[a-zA-Z]+)$/.exec(a);x&&(f=x.groups.format.toLowerCase())}if(!f)throw new Error("file format not provided");return new Promise((x,g)=>{let w,C;switch(f.toLowerCase()){case"png":{s?w=this.getCanvas().pngStream():C=encodePng(this,m);break}case"jpg":case"jpeg":s?w=this.getCanvas().jpegStream():C=encodeJpeg(this,m);break;case"bmp":C=encode$2(this,m);break;default:throw new RangeError(`invalid output format: ${f}`)}if(w){let A=createWriteStream();A.on("finish",x),A.on("error",g),w.pipe(A)}else C&&writeFile()})},toDataURL(a="image/png",d={}){typeof a=="object"&&(d=a,a="image/png");const{useCanvas:s=!1,encoder:m=void 0}=d;a=getType(a);function f(x,g){const w=x(g,m);return toBase64URL(w,a)}return a==="image/bmp"?f(encode$2,this):a==="image/png"&&!s?f(encodePng,this):a==="image/jpeg"&&!s?f(encodeJpeg,this):this.getCanvas().toDataURL(a)},toBuffer(a={}){const{format:d="png",encoder:s=void 0}=a;switch(d.toLowerCase()){case"png":return encodePng(this,s);case"jpeg":case"jpg":return encodeJpeg(this,s);case"bmp":return encode$2(this,s);default:throw new RangeError(`invalid output format: ${d}`)}},toBase64(a="image/png",d={}){if(d.async)return this.toDataURL(a,d).then(function(s){return s.substring(s.indexOf(",")+1)});{const s=this.toDataURL(a,d);return s.substring(s.indexOf(",")+1)}},toBlob(a="image/png",d=.8){return canvasToBlob(this.getCanvas(),a,d)},getCanvas(){const a=new ImageData(this.getRGBAData({clamped:!0}),this.width,this.height);let d=createCanvas(this.width,this.height);return d.getContext("2d").putImageData(a,0,0),d}};function setExportMethods(a){for(const d in exportMethods)a.prototype[d]=exportMethods[d]}var hasOwn$1={exports:{}};const name="has-own",version="1.0.1",description="A safer .hasOwnProperty() - hasOwn(name, obj)",main="index.js",scripts={test:"make test"},author="Aaron Heckmann <aaron.heckmann+github@gmail.com>",license="MIT",repository={type:"git",url:"git://github.com/aheckmann/has-own.git"},homepage="https://github.com/aheckmann/has-own/",devDependencies={mocha:"^6.2.2"},require$$0$2={name,version,description,main,scripts,author,license,repository,homepage,devDependencies};(function(a,d){var s=Object.prototype.hasOwnProperty;a.exports=d=function(f,x){return s.call(x,f)},d.version=require$$0$2.version})(hasOwn$1,hasOwn$1.exports);var hasOwnExports=hasOwn$1.exports;const hasOwn=getDefaultExportFromCjs(hasOwnExports);let computedPropertyDescriptor$1={configurable:!0,enumerable:!1,get:void 0};function extendMethod(a,d,s={}){let{inPlace:m=!1,returnThis:f=!0,partialArgs:x=[]}=s;return m?Image$1.prototype[a]=function(...g){this.computed=null;let w=d.apply(this,[...x,...g]);return f?this:w}:Image$1.prototype[a]=function(...g){return d.apply(this,[...x,...g])},Image$1}function extendProperty(a,d,s={}){let{partialArgs:m=[]}=s;return computedPropertyDescriptor$1.get=function(){if(this.computed===null)this.computed={};else if(hasOwn(a,this.computed))return this.computed[a];let f=d.apply(this,m);return this.computed[a]=f,f},Object.defineProperty(Image$1.prototype,a,computedPropertyDescriptor$1),Image$1}const GREY$1="GREY",RGB$1="RGB",HSL="HSL",HSV="HSV",CMYK$1="CMYK",ColorModel=Object.freeze(Object.defineProperty({__proto__:null,CMYK:CMYK$1,GREY:GREY$1,HSL,HSV,RGB:RGB$1},Symbol.toStringTag,{value:"Module"}));function getRGBAData(a={}){const{clamped:d}=a;this.checkProcessable("getRGBAData",{components:[1,3],bitDepth:[1,8,16,32]});const s=this.width*this.height*4;let m=d?new Uint8ClampedArray(s):new Uint8Array(s);return this.bitDepth===1?fillDataFromBinary(this,m):this.bitDepth===32?(this.checkProcessable("getRGBAData",{alpha:0}),this.components===1?fillDataFromGrey32(this,m):this.components===3&&(this.checkProcessable("getRGBAData",{colorModel:[RGB$1]}),fillDataFromRGB32(this,m))):this.components===1?fillDataFromGrey(this,m):this.components===3&&(this.checkProcessable("getRGBAData",{colorModel:[RGB$1]}),fillDataFromRGB(this,m)),this.alpha===1?(this.checkProcessable("getRGBAData",{bitDepth:[8,16]}),copyAlpha(this,m)):fillAlpha(this,m),m}function fillDataFromBinary(a,d){for(let s=0;s<a.size;s++){const m=a.getBit(s);d[s*4]=m*255,d[s*4+1]=m*255,d[s*4+2]=m*255}}function fillDataFromGrey32(a,d){const s=a.min[0],f=a.max[0]-s;for(let x=0;x<a.size;x++){const g=Math.floor(255*(a.data[x]-s)/f);d[x*4]=g,d[x*4+1]=g,d[x*4+2]=g}}function fillDataFromRGB32(a,d){const s=Math.min(...a.min),f=Math.max(...a.max)-s;for(let x=0;x<a.size;x++){const g=Math.floor(255*(a.data[x*3]-s)/f),w=Math.floor(255*(a.data[x*3+1]-s)/f),C=Math.floor(255*(a.data[x*3+2]-s)/f);d[x*4]=g,d[x*4+1]=w,d[x*4+2]=C}}function fillDataFromGrey(a,d){for(let s=0;s<a.size;s++)d[s*4]=a.data[s*a.channels]>>>a.bitDepth-8,d[s*4+1]=a.data[s*a.channels]>>>a.bitDepth-8,d[s*4+2]=a.data[s*a.channels]>>>a.bitDepth-8}function fillDataFromRGB(a,d){for(let s=0;s<a.size;s++)d[s*4]=a.data[s*a.channels]>>>a.bitDepth-8,d[s*4+1]=a.data[s*a.channels+1]>>>a.bitDepth-8,d[s*4+2]=a.data[s*a.channels+2]>>>a.bitDepth-8}function copyAlpha(a,d){for(let s=0;s<a.size;s++)d[s*4+3]=a.data[s*a.channels+a.components]>>a.bitDepth-8}function fillAlpha(a,d){for(let s=0;s<a.size;s++)d[s*4+3]=255}const BINARY="BINARY",GREY="GREY",GREYA="GREYA",RGB="RGB",RGBA="RGBA",CMYK="CMYK",CMYKA="CMYKA",kinds={};kinds[BINARY]={components:1,alpha:0,bitDepth:1,colorModel:GREY$1};kinds[GREYA]={components:1,alpha:1,bitDepth:8,colorModel:GREY$1};kinds[GREY]={components:1,alpha:0,bitDepth:8,colorModel:GREY$1};kinds[RGBA]={components:3,alpha:1,bitDepth:8,colorModel:RGB$1};kinds[RGB]={components:3,alpha:0,bitDepth:8,colorModel:RGB$1};kinds[CMYK]={components:4,alpha:0,bitDepth:8,colorModel:CMYK$1};kinds[CMYKA]={components:4,alpha:1,bitDepth:8,colorModel:CMYK$1};function getKind(a){const d=kinds[a];if(!d)throw new RangeError(`invalid image kind: ${a}`);return d}const validBitDepth=[1,8,16,32];function verifyKindDefinition(a){const{components:d,alpha:s,bitDepth:m,colorModel:f}=a;if(!Number.isInteger(d)||d<=0)throw new RangeError(`invalid components: ${d}. Must be a positive integer`);if(s!==0&&s!==1&&typeof s!="boolean")throw new TypeError(`invalid alpha: ${s}: must be a boolean, 0 or 1`);if(!validBitDepth.includes(m))throw new RangeError(`invalid bitDepth: ${m}. Must be one of ${validBitDepth.join(", ")}`);if(!ColorModel[f])throw new RangeError(`invalid colorModel: ${f}. Must be one of ${Object.keys(ColorModel).join(", ")}`)}function getTheoreticalPixelArraySize(a,d,s){let m=d*a;return s===1&&(m=Math.ceil(m/8)),m}function createPixelArray(a,d,s,m,f,x){const g=m*a;let w;switch(f){case 1:w=new Uint8Array(Math.ceil(g/8));break;case 8:w=new Uint8Array(g);break;case 16:w=new Uint16Array(g);break;case 32:w=new Float32Array(g);break;default:throw new Error(`Cannot create pixel array for bit depth ${f}`)}if(s)for(let C=d;C<w.length;C+=m)w[C]=x;return w}const defaultByteLength=1024*8,charArray=[];let IOBuffer$2=class{constructor(d,s){s=s||{},d===void 0&&(d=defaultByteLength),typeof d=="number"&&(d=new ArrayBuffer(d));let m=d.byteLength;const f=s.offset?s.offset>>>0:0;d.buffer&&(m=d.byteLength-f,d.byteLength!==d.buffer.byteLength?d=d.buffer.slice(d.byteOffset+f,d.byteOffset+d.byteLength):f?d=d.buffer.slice(f):d=d.buffer),this.buffer=d,this.length=m,this.byteLength=m,this.byteOffset=0,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer),this._increment=m||defaultByteLength,this._mark=0}available(d){return d===void 0&&(d=1),this.offset+d<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){this.littleEndian=!0}isBigEndian(){return!this.littleEndian}setBigEndian(){this.littleEndian=!1}skip(d){d===void 0&&(d=1),this.offset+=d}seek(d){this.offset=d}mark(){this._mark=this.offset}reset(){this.offset=this._mark}rewind(){this.offset=0}ensureAvailable(d){if(d===void 0&&(d=1),!this.available(d)){const s=this._increment+this._increment;this._increment=s;const m=this.length+s,f=new Uint8Array(m);f.set(new Uint8Array(this.buffer)),this.buffer=f.buffer,this.length=m,this._data=new DataView(this.buffer)}}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(d){d===void 0&&(d=1);for(var s=new Uint8Array(d),m=0;m<d;m++)s[m]=this.readByte();return s}readInt16(){var d=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,d}readUint16(){var d=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,d}readInt32(){var d=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,d}readUint32(){var d=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,d}readFloat32(){var d=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,d}readFloat64(){var d=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,d}readChar(){return String.fromCharCode(this.readInt8())}readChars(d){d===void 0&&(d=1),charArray.length=d;for(var s=0;s<d;s++)charArray[s]=this.readChar();return charArray.join("")}writeBoolean(d){this.writeUint8(d?255:0)}writeInt8(d){this.ensureAvailable(1),this._data.setInt8(this.offset++,d)}writeUint8(d){this.ensureAvailable(1),this._data.setUint8(this.offset++,d)}writeByte(d){this.writeUint8(d)}writeBytes(d){this.ensureAvailable(d.length);for(var s=0;s<d.length;s++)this._data.setUint8(this.offset++,d[s])}writeInt16(d){this.ensureAvailable(2),this._data.setInt16(this.offset,d,this.littleEndian),this.offset+=2}writeUint16(d){this.ensureAvailable(2),this._data.setUint16(this.offset,d,this.littleEndian),this.offset+=2}writeInt32(d){this.ensureAvailable(4),this._data.setInt32(this.offset,d,this.littleEndian),this.offset+=4}writeUint32(d){this.ensureAvailable(4),this._data.setUint32(this.offset,d,this.littleEndian),this.offset+=4}writeFloat32(d){this.ensureAvailable(4),this._data.setFloat32(this.offset,d,this.littleEndian),this.offset+=4}writeFloat64(d){this.ensureAvailable(8),this._data.setFloat64(this.offset,d,this.littleEndian),this.offset+=8}writeChar(d){this.writeUint8(d.charCodeAt(0))}writeChars(d){for(var s=0;s<d.length;s++)this.writeUint8(d.charCodeAt(s))}toArray(){return new Uint8Array(this.buffer,0,this.offset)}};var IOBuffer_1=IOBuffer$2,src$3={};const tagsById$5={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName$5={};for(var i$2 in tagsById$5)tagsByName$5[tagsById$5[i$2]]=i$2;var standard$1={tagsById:tagsById$5,tagsByName:tagsByName$5};const tagsById$4={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$4={};for(var i$1 in tagsById$4)tagsByName$4[tagsById$4[i$1]]=i$1;var exif$1={tagsById:tagsById$4,tagsByName:tagsByName$4};const tagsById$3={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$3={};for(var i in tagsById$3)tagsByName$3[tagsById$3[i]]=i;var gps$1={tagsById:tagsById$3,tagsByName:tagsByName$3};const tags$1={standard:standard$1,exif:exif$1,gps:gps$1};let IFD$2=class{constructor(d){if(!d)throw new Error("missing kind");this.data=null,this.fields=new Map,this.kind=d,this._map=null}get(d){if(typeof d=="number")return this.fields.get(d);if(typeof d=="string")return this.fields.get(tags$1[this.kind].tagsByName[d]);throw new Error("expected a number or string")}get map(){if(!this._map){this._map={};const s=tags$1[this.kind].tagsById;for(var d of this.fields.keys())s[d]&&(this._map[s[d]]=this.fields.get(d))}return this._map}};var ifd=IFD$2;const Ifd=ifd,dateTimeRegex$1=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;let TiffIfd$1=class extends Ifd{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){var d=new Date,s=dateTimeRegex$1.exec(this.dateTime);return d.setFullYear(s[1],s[2]-1,s[3]),d.setHours(s[4],s[5],s[6]),d}get newSubfileType(){return this.get(254)}get imageWidth(){return this.get(256)}get imageLength(){return this.get(257)}get bitsPerSample(){return this.get(258)}get compression(){return this.get(259)||1}get type(){return this.get(262)}get fillOrder(){return this.get(266)||1}get documentName(){return this.get(269)}get imageDescription(){return this.get(270)}get stripOffsets(){return alwaysArray$1(this.get(273))}get orientation(){return this.get(274)}get samplesPerPixel(){return this.get(277)}get rowsPerStrip(){return this.get(278)}get stripByteCounts(){return alwaysArray$1(this.get(279))}get minSampleValue(){return this.get(280)||0}get maxSampleValue(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get(282)}get yResolution(){return this.get(283)}get planarConfiguration(){return this.get(284)||1}get resolutionUnit(){return this.get(296)||2}get dateTime(){return this.get(306)}get predictor(){return this.get(317)||1}get sampleFormat(){return this.get(339)||1}get sMinSampleValue(){return this.get(340)||this.minSampleValue}get sMaxSampleValue(){return this.get(341)||this.maxSampleValue}};function alwaysArray$1(a){return typeof a=="number"?[a]:a}var tiffIfd=TiffIfd$1,ifdValue={},types$1=new Map([[1,[1,readByte$1]],[2,[1,readASCII$1]],[3,[2,readShort$1]],[4,[4,readLong$1]],[5,[8,readRational$1]],[6,[1,readSByte$1]],[7,[1,readByte$1]],[8,[2,readSShort$1]],[9,[4,readSLong$1]],[10,[8,readSRational$1]],[11,[4,readFloat$1]],[12,[8,readDouble$1]]]);ifdValue.getByteLength=function(a,d){return types$1.get(a)[0]*d};ifdValue.readData=function(a,d,s){return types$1.get(d)[1](a,s)};function readByte$1(a,d){if(d===1)return a.readUint8();for(var s=new Uint8Array(d),m=0;m<d;m++)s[m]=a.readUint8();return s}function readASCII$1(a,d){for(var s=[],m="",f=0;f<d;f++){var x=String.fromCharCode(a.readUint8());x==="\0"?(s.push(m),m=""):m+=x}return s.length===1?s[0]:s}function readShort$1(a,d){if(d===1)return a.readUint16();for(var s=new Uint16Array(d),m=0;m<d;m++)s[m]=a.readUint16();return s}function readLong$1(a,d){if(d===1)return a.readUint32();for(var s=new Uint32Array(d),m=0;m<d;m++)s[m]=a.readUint32();return s}function readRational$1(a,d){if(d===1)return a.readUint32()/a.readUint32();for(var s=new Array(d),m=0;m<d;m++)s[m]=a.readUint32()/a.readUint32();return s}function readSByte$1(a,d){if(d===1)return a.readInt8();for(var s=new Int8Array(d),m=0;m<d;m++)s[m]=a.readInt8();return s}function readSShort$1(a,d){if(d===1)return a.readInt16();for(var s=new Int16Array(d),m=0;m<d;m++)s[m]=a.readInt16();return s}function readSLong$1(a,d){if(d===1)return a.readInt32();for(var s=new Int32Array(d),m=0;m<d;m++)s[m]=a.readInt32();return s}function readSRational$1(a,d){if(d===1)return a.readInt32()/a.readInt32();for(var s=new Array(d),m=0;m<d;m++)s[m]=a.readInt32()/a.readInt32();return s}function readFloat$1(a,d){if(d===1)return a.readFloat32();for(var s=new Float32Array(d),m=0;m<d;m++)s[m]=a.readFloat32();return s}function readDouble$1(a,d){if(d===1)return a.readFloat64();for(var s=new Float64Array(d),m=0;m<d;m++)s[m]=a.readFloat64();return s}const IOBuffer$1=IOBuffer_1,IFD$1=ifd,TiffIFD=tiffIfd,IFDValue=ifdValue,defaultOptions$d={ignoreImageData:!1,onlyFirst:!1};let TIFFDecoder$2=class extends IOBuffer$1{constructor(d,s){super(d,s),this._nextIFD=0}decode(d){d=Object.assign({},defaultOptions$d,d);const s=[];for(this.decodeHeader();this._nextIFD;)if(s.push(this.decodeIFD(d)),d.onlyFirst)return s[0];return s}decodeHeader(){let d=this.readUint16();if(d===18761)this.setLittleEndian();else if(d===19789)this.setBigEndian();else throw new Error("invalid byte order: 0x"+d.toString(16));if(d=this.readUint16(),d!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(d){this.seek(this._nextIFD);var s;d.kind?s=new IFD$1(d.kind):s=new TiffIFD;const m=this.readUint16();for(var f=0;f<m;f++)this.decodeIFDEntry(s);return d.ignoreImageData||this.decodeImageData(s),this._nextIFD=this.readUint32(),s}decodeIFDEntry(d){const s=this.offset,m=this.readUint16(),f=this.readUint16(),x=this.readUint32();if(f<1||f>12){this.skip(4);return}IFDValue.getByteLength(f,x)>4&&this.seek(this.readUint32());const w=IFDValue.readData(this,f,x);if(d.fields.set(m,w),m===34665||m===34853){let C=this.offset,A;m===34665?A="exif":m===34853&&(A="gps"),this._nextIFD=w,d[A]=this.decodeIFD({kind:A,ignoreImageData:!0}),this.offset=C}this.seek(s),this.skip(12)}decodeImageData(d){const s=d.orientation;switch(s&&s!==1&&unsupported$1("orientation",s),d.type){case 1:case 2:this.readStripData(d);break;default:unsupported$1("image type",d.type);break}}readStripData(d){const s=d.width,m=d.height,f=validateBitDepth(d.bitsPerSample),x=d.sampleFormat;let g=s*m;const w=getDataArray$1(g,1,f,x),C=d.compression,_=d.rowsPerStrip*s,M=d.stripOffsets,P=d.stripByteCounts;for(var D=0,E=0;E<M.length;E++){var I=this.getStripData(C,M[E],P[E]),B=g>_?_:g;g-=B,f===8?D=fill8bit$1(w,I,D,B):f===16?D=fill16bit$1(w,I,D,B,this.isLittleEndian()):f===32&&x===3?D=fillFloat32$1(w,I,D,B,this.isLittleEndian()):unsupported$1("bitDepth",f)}d.data=w}getStripData(d,s,m){switch(d){case 1:return new DataView(this.buffer,s,m);case 2:case 32773:return unsupported$1("Compression",d);default:throw new Error("invalid compression: "+d)}}};var tiffDecoder=TIFFDecoder$2;function getDataArray$1(a,d,s,m){return s===8?new Uint8Array(a*d):s===16?new Uint16Array(a*d):s===32&&m===3?new Float32Array(a*d):unsupported$1("bit depth / sample format",s+" / "+m)}function fill8bit$1(a,d,s,m){for(var f=0;f<m;f++)a[s++]=d.getUint8(f);return s}function fill16bit$1(a,d,s,m,f){for(var x=0;x<m*2;x+=2)a[s++]=d.getUint16(x,f);return s}function fillFloat32$1(a,d,s,m,f){for(var x=0;x<m*4;x+=4)a[s++]=d.getFloat32(x,f);return s}function unsupported$1(a,d){throw new Error("Unsupported "+a+": "+d)}function validateBitDepth(a){if(a.length){const s=a;a=s[0];for(var d=0;d<s.length;d++)s[d]!==a&&unsupported$1("bit depth",s)}return a}const TIFFDecoder$1=tiffDecoder;var decode$2=function(d,s){return new TIFFDecoder$1(d,s).decode(s)};src$3.decode=decode$2;const IOBuffer=IOBuffer_1,tiff=src$3;function decode$1(a){const d=new IOBuffer(a),s={};if(d.setBigEndian(),d.readUint16()!==65496)throw new Error("SOI marker not found. Not a valid JPEG file");if(d.readUint16()===65505){d.readUint16();const x=d.readBytes(6);if(x[0]===69&&x[1]===120&&x[2]===105&&x[3]===102&&x[4]===0&&x[5]===0){const g=tiff.decode(d,{onlyFirst:!0,ignoreImageData:!0,offset:d.offset});s.exif=g}}return s}var decode_1=decode$1,decode=decode_1,imageType$2={exports:{}},fileType$1={exports:{}};(function(module){const toBytes=a=>[...a].map(d=>d.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(a,d=0){let s=a[d],m=1,f=0;for(;++f<8;)m*=256,s+=a[d+f]*m;return s}const fileType=a=>{if(!(a instanceof Uint8Array||a instanceof ArrayBuffer||Buffer.isBuffer(a)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof a}\``);const d=a instanceof Uint8Array?a:new Uint8Array(a);if(!(d&&d.length>1))return null;const s=(f,x)=>{x=Object.assign({offset:0},x);for(let g=0;g<f.length;g++)if(x.mask){if(f[g]!==(x.mask[g]&d[g+x.offset]))return!1}else if(f[g]!==d[g+x.offset])return!1;return!0},m=(f,x)=>s(toBytes(f),x);if(s([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(s([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(s([71,73,70]))return{ext:"gif",mime:"image/gif"};if(s([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(s([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((s([73,73,42,0])||s([77,77,0,42]))&&s([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(s([73,73,42,0])||s([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(s([66,77]))return{ext:"bmp",mime:"image/bmp"};if(s([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(s([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(s([80,75,3,4])){if(s([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(s(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(m("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(m("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(m("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const f=(C,A=0)=>C.findIndex((_,M,P)=>M>=A&&P[M]===80&&P[M+1]===75&&P[M+2]===3&&P[M+3]===4);let x=0,g=!1,w=null;do{const C=x+30;if(g||(g=s(oxmlContentTypes,{offset:C})||s(oxmlRels,{offset:C})),w||(m("word/",{offset:C})?w={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:m("ppt/",{offset:C})?w={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:m("xl/",{offset:C})&&(w={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),g&&w)return w;x=f(d,C)}while(x>=0);if(w)return w}if(s([80,75])&&(d[2]===3||d[2]===5||d[2]===7)&&(d[3]===4||d[3]===6||d[3]===8))return{ext:"zip",mime:"application/zip"};if(s([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(s([82,97,114,33,26,7])&&(d[6]===0||d[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(s([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(s([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(s([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(s([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(s([51,103,112,53])||s([0,0,0])&&s([102,116,121,112],{offset:4})&&(s([109,112,52,49],{offset:8})||s([109,112,52,50],{offset:8})||s([105,115,111,109],{offset:8})||s([105,115,111,50],{offset:8})||s([109,109,112,52],{offset:8})||s([77,52,86],{offset:8})||s([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(s([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(s([26,69,223,163])){const f=d.subarray(4,4100),x=f.findIndex((g,w,C)=>C[w]===66&&C[w+1]===130);if(x!==-1){const g=x+3,w=C=>[...C].every((A,_)=>f[g+_]===A.charCodeAt(0));if(w("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(w("webm"))return{ext:"webm",mime:"video/webm"}}}if(s([0,0,0,20,102,116,121,112,113,116,32,32])||s([102,114,101,101],{offset:4})||s([102,116,121,112,113,116,32,32],{offset:4})||s([109,100,97,116],{offset:4})||s([109,111,111,118],{offset:4})||s([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(s([82,73,70,70])){if(s([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(s([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(s([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(s([48,38,178,117,142,102,207,17,166,217])){let f=30;do{const x=readUInt64LE(d,f+16);if(s([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:f})){if(s([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:f+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(s([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:f+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}f+=x}while(f+24<=d.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(s([0,0,1,186])||s([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(s([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let f=0;f<2&&f<d.length-16;f++){if(s([73,68,51],{offset:f})||s([255,226],{offset:f,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(s([255,228],{offset:f,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(s([255,248],{offset:f,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(s([255,240],{offset:f,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(s([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(s([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(s([79,103,103,83]))return s([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:s([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:s([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:s([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:s([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(s([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(s([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(s([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(s([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(s([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(s([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((d[0]===67||d[0]===70)&&s([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(s([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(s([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(s([119,79,70,70])&&(s([0,1,0,0],{offset:4})||s([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(s([119,79,70,50])&&(s([0,1,0,0],{offset:4})||s([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(s([76,80],{offset:34})&&(s([0,0,1],{offset:8})||s([1,0,2],{offset:8})||s([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(s([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(s([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(s([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(s([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(s([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(s([37,33]))return{ext:"ps",mime:"application/postscript"};if(s([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(s([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(s([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(s([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(s([77,83,67,70])||s([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(s([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(s([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(s([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(s([31,160])||s([31,157]))return{ext:"Z",mime:"application/x-compress"};if(s([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(s([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(s([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(s([71],{offset:4})&&(s([71],{offset:192})||s([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(s([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(s([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(s([0,0,0,12,106,80,32,32,13,10,135,10])){if(s([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(s([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(s([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(s([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(s([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(m("<?xml "))return{ext:"xml",mime:"application/xml"};if(s([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(s([102,116,121,112],{offset:4})){if(s([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(s([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(s([104,101,105,99],{offset:8})||s([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(s([104,101,118,99],{offset:8})||s([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return s([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:s([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:s([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:s([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:s([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:s([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:s([212,195,178,161])||s([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const a=new stream.PassThrough,d=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{a.fileType=fileType(d)}catch(s){reject(s)}readableStream.unshift(d),stream.pipeline?resolve(stream.pipeline(readableStream,a,()=>{})):resolve(readableStream.pipe(a))})})})(fileType$1);var fileTypeExports=fileType$1.exports;const fileType=fileTypeExports,imageExts=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),imageType=a=>{const d=fileType(a);return imageExts.has(d&&d.ext)?d:null};imageType$2.exports=imageType;imageType$2.exports.default=imageType;Object.defineProperty(imageType,"minimumBytes",{value:fileType.minimumBytes});var imageTypeExports=imageType$2.exports;const imageType$1=getDefaultExportFromCjs(imageTypeExports);function guessStripByteCounts(a){if(a.compression!==1)throw new Error("missing mandatory StripByteCounts field in compressed image");const d=a.rowsPerStrip*a.width*a.samplesPerPixel*(a.bitsPerSample/8);return new Array(a.stripOffsets.length).fill(d)}function applyHorizontalDifferencing8Bit(a,d,s){let m=0;for(;m<a.length;){for(let f=s;f<d*s;f+=s)for(let x=0;x<s;x++)a[m+f+x]=a[m+f+x]+a[m+f-(s-x)]&255;m+=d*s}}function applyHorizontalDifferencing16Bit(a,d,s){let m=0;for(;m<a.length;){for(let f=s;f<d*s;f+=s)for(let x=0;x<s;x++)a[m+f+x]=a[m+f+x]+a[m+f-(s-x)]&65535;m+=d*s}}const tagsById$2={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$2={};for(let a in tagsById$2)tagsByName$2[tagsById$2[a]]=Number(a);const exif=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$2,tagsByName:tagsByName$2},Symbol.toStringTag,{value:"Module"})),tagsById$1={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$1={};for(let a in tagsById$1)tagsByName$1[tagsById$1[a]]=Number(a);const gps=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$1,tagsByName:tagsByName$1},Symbol.toStringTag,{value:"Module"})),tagsById={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName={};for(let a in tagsById)tagsByName[tagsById[a]]=Number(a);const standard=Object.freeze(Object.defineProperty({__proto__:null,tagsById,tagsByName},Symbol.toStringTag,{value:"Module"})),tags={standard,exif,gps};class IFD{constructor(d){if(!d)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=d,this._hasMap=!1,this._map={}}get(d){if(typeof d=="number")return this.fields.get(d);if(typeof d=="string")return this.fields.get(tags[this.kind].tagsByName[d]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const d=tags[this.kind].tagsById;for(let s of this.fields.keys())d[s]&&(this._map[d[s]]=this.fields.get(s));this._hasMap=!0}return this._map}}let types=new Map([[1,[1,readByte]],[2,[1,readASCII]],[3,[2,readShort]],[4,[4,readLong]],[5,[8,readRational]],[6,[1,readSByte]],[7,[1,readByte]],[8,[2,readSShort]],[9,[4,readSLong]],[10,[8,readSRational]],[11,[4,readFloat]],[12,[8,readDouble]]]);function getByteLength(a,d){const s=types.get(a);if(!s)throw new Error(`type not found: ${a}`);return s[0]*d}function readData(a,d,s){const m=types.get(d);if(!m)throw new Error(`type not found: ${d}`);return m[1](a,s)}function readByte(a,d){if(d===1)return a.readUint8();let s=new Uint8Array(d);for(let m=0;m<d;m++)s[m]=a.readUint8();return s}function readASCII(a,d){let s=[],m="";for(let f=0;f<d;f++){let x=String.fromCharCode(a.readUint8());x==="\0"?(s.push(m),m=""):m+=x}return s.length===1?s[0]:s}function readShort(a,d){if(d===1)return a.readUint16();let s=new Uint16Array(d);for(let m=0;m<d;m++)s[m]=a.readUint16();return s}function readLong(a,d){if(d===1)return a.readUint32();let s=new Uint32Array(d);for(let m=0;m<d;m++)s[m]=a.readUint32();return s}function readRational(a,d){if(d===1)return a.readUint32()/a.readUint32();let s=new Array(d);for(let m=0;m<d;m++)s[m]=a.readUint32()/a.readUint32();return s}function readSByte(a,d){if(d===1)return a.readInt8();let s=new Int8Array(d);for(let m=0;m<d;m++)s[m]=a.readInt8();return s}function readSShort(a,d){if(d===1)return a.readInt16();let s=new Int16Array(d);for(let m=0;m<d;m++)s[m]=a.readInt16();return s}function readSLong(a,d){if(d===1)return a.readInt32();let s=new Int32Array(d);for(let m=0;m<d;m++)s[m]=a.readInt32();return s}function readSRational(a,d){if(d===1)return a.readInt32()/a.readInt32();let s=new Array(d);for(let m=0;m<d;m++)s[m]=a.readInt32()/a.readInt32();return s}function readFloat(a,d){if(d===1)return a.readFloat32();let s=new Float32Array(d);for(let m=0;m<d;m++)s[m]=a.readFloat32();return s}function readDouble(a,d){if(d===1)return a.readFloat64();let s=new Float64Array(d);for(let m=0;m<d;m++)s[m]=a.readFloat64();return s}const CLEAR_CODE=256,EOI_CODE=257,TABLE_START=258,MIN_BIT_LENGTH=9;let stringTable=[];function initializeStringTable(){if(stringTable.length===0){for(let d=0;d<256;d++)stringTable.push([d]);const a=[];for(let d=256;d<4096;d++)stringTable.push(a)}}const andTable=[511,1023,2047,4095],bitJumps=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095];class LzwDecoder{constructor(d){this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH,this.stripArray=new Uint8Array(d.buffer,d.byteOffset,d.byteLength),this.outData=new IOBuffer$4(d.byteLength),this.initializeTable()}decode(){let d=0,s=0;for(;(d=this.getNextCode())!==EOI_CODE;)if(d===CLEAR_CODE){if(this.initializeTable(),d=this.getNextCode(),d===EOI_CODE)break;this.writeString(this.stringFromCode(d)),s=d}else if(this.isInTable(d))this.writeString(this.stringFromCode(d)),this.addStringToTable(this.stringFromCode(s).concat(this.stringFromCode(d)[0])),s=d;else{const f=this.stringFromCode(s).concat(this.stringFromCode(s)[0]);this.writeString(f),this.addStringToTable(f),s=d}const m=this.outData.toArray();return new DataView(m.buffer,m.byteOffset,m.byteLength)}initializeTable(){initializeStringTable(),this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH}writeString(d){this.outData.writeBytes(d)}stringFromCode(d){return stringTable[d]}isInTable(d){return d<this.tableLength}addStringToTable(d){if(stringTable[this.tableLength++]=d,stringTable.length>4096)throw stringTable=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===bitJumps[this.currentBitLength]&&this.currentBitLength++}getNextCode(){this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8);const d=this.nextData>>this.nextBits-this.currentBitLength&andTable[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:d}}function decompressLzw(a){return new LzwDecoder(a).decode()}const dateTimeRegex=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class TiffIfd extends IFD{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){let d=new Date,s=dateTimeRegex.exec(this.dateTime);if(s===null)throw new Error(`invalid dateTime: ${this.dateTime}`);return d.setFullYear(Number(s[1]),Number(s[2])-1,Number(s[3])),d.setHours(Number(s[4]),Number(s[5]),Number(s[6])),d}get newSubfileType(){return this.get("NewSubfileType")}get imageWidth(){return this.get("ImageWidth")}get imageLength(){return this.get("ImageLength")}get bitsPerSample(){const d=this.get("BitsPerSample");return d&&typeof d!="number"?d[0]:d}get alpha(){const d=this.extraSamples;return d?d[0]!==0:!1}get associatedAlpha(){const d=this.extraSamples;return d?d[0]===1:!1}get extraSamples(){return alwaysArray(this.get("ExtraSamples"))}get compression(){return this.get("Compression")||1}get type(){return this.get("PhotometricInterpretation")}get fillOrder(){return this.get("FillOrder")||1}get documentName(){return this.get("DocumentName")}get imageDescription(){return this.get("ImageDescription")}get stripOffsets(){return alwaysArray(this.get("StripOffsets"))}get orientation(){return this.get("Orientation")}get samplesPerPixel(){return this.get("SamplesPerPixel")||1}get rowsPerStrip(){return this.get("RowsPerStrip")}get stripByteCounts(){return alwaysArray(this.get("StripByteCounts"))}get minSampleValue(){return this.get("MinSampleValue")||0}get maxSampleValue(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get("XResolution")}get yResolution(){return this.get("YResolution")}get planarConfiguration(){return this.get("PlanarConfiguration")||1}get resolutionUnit(){return this.get("ResolutionUnit")||2}get dateTime(){return this.get("DateTime")}get predictor(){return this.get("Predictor")||1}get sampleFormat(){return this.get("SampleFormat")||1}get sMinSampleValue(){return this.get("SMinSampleValue")||this.minSampleValue}get sMaxSampleValue(){return this.get("SMaxSampleValue")||this.maxSampleValue}get palette(){const d=2**this.bitsPerSample,s=this.get("ColorMap");if(!s)return;if(s.length!==3*d)throw new Error(`ColorMap size must be ${d}`);const m=[];for(let f=0;f<d;f++)m.push([s[f],s[f+d],s[f+2*d]]);return m}}function alwaysArray(a){return typeof a=="number"?[a]:a}function decompressZlib(a){const d=new Uint8Array(a.buffer,a.byteOffset,a.byteLength),s=inflate_1(d);return new DataView(s.buffer,s.byteOffset,s.byteLength)}const defaultOptions$c={ignoreImageData:!1,onlyFirst:!1};class TIFFDecoder extends IOBuffer$4{constructor(d){super(d),this._nextIFD=0}get isMultiPage(){let d=0;for(this.decodeHeader();this._nextIFD;)if(d++,this.decodeIFD({ignoreImageData:!0},!0),d===2)return!0;if(d===1)return!1;throw unsupported("ifdCount",d)}get pageCount(){let d=0;for(this.decodeHeader();this._nextIFD;)d++,this.decodeIFD({ignoreImageData:!0},!0);if(d>0)return d;throw unsupported("ifdCount",d)}decode(d={}){d=Object.assign({},defaultOptions$c,d);const s=[];for(this.decodeHeader();this._nextIFD;)if(s.push(this.decodeIFD(d,!0)),d.onlyFirst)return[s[0]];return s}decodeHeader(){const d=this.readUint16();if(d===18761)this.setLittleEndian();else if(d===19789)this.setBigEndian();else throw new Error(`invalid byte order: 0x${d.toString(16)}`);if(this.readUint16()!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(d,s){this.seek(this._nextIFD);let m;if(s)m=new TiffIfd;else{if(!d.kind)throw new Error("kind is missing");m=new IFD(d.kind)}const f=this.readUint16();for(let x=0;x<f;x++)this.decodeIFDEntry(m);if(!d.ignoreImageData){if(!(m instanceof TiffIfd))throw new Error("must be a tiff ifd");this.decodeImageData(m)}return this._nextIFD=this.readUint32(),m}decodeIFDEntry(d){const s=this.offset,m=this.readUint16(),f=this.readUint16(),x=this.readUint32();if(f<1||f>12){this.skip(4);return}getByteLength(f,x)>4&&this.seek(this.readUint32());const w=readData(this,f,x);if(d.fields.set(m,w),m===34665||m===34853){let C=this.offset,A="exif";m===34665?A="exif":m===34853&&(A="gps"),this._nextIFD=w,d[A]=this.decodeIFD({kind:A,ignoreImageData:!0},!1),this.offset=C}this.seek(s),this.skip(12)}decodeImageData(d){const s=d.orientation;if(s&&s!==1)throw unsupported("orientation",s);switch(d.type){case 0:case 1:case 2:case 3:this.readStripData(d);break;default:throw unsupported("image type",d.type)}if(this.applyPredictor(d),this.convertAlpha(d),d.type===0){const m=d.bitsPerSample,f=Math.pow(2,m)-1;for(let x=0;x<d.data.length;x++)d.data[x]=f-d.data[x]}}readStripData(d){const s=d.width,m=d.height,f=d.bitsPerSample,x=d.sampleFormat,g=s*m*d.samplesPerPixel,w=getDataArray(g,f,x),A=d.rowsPerStrip*s*d.samplesPerPixel,_=d.stripOffsets,M=d.stripByteCounts||guessStripByteCounts(d);let P=g,D=0;for(let E=0;E<_.length;E++){let I=new DataView(this.buffer,this.byteOffset+_[E],M[E]),B=P>A?A:P;P-=B;let F=I;switch(d.compression){case 1:break;case 5:{F=decompressLzw(I);break}case 8:{F=decompressZlib(I);break}case 2:throw unsupported("Compression","CCITT Group 3");case 32773:throw unsupported("Compression","PackBits");default:throw unsupported("Compression",d.compression)}D=this.fillUncompressed(f,x,w,F,D,B)}d.data=w}fillUncompressed(d,s,m,f,x,g){if(d===8)return fill8bit(m,f,x,g);if(d===16)return fill16bit(m,f,x,g,this.isLittleEndian());if(d===32&&s===3)return fillFloat32(m,f,x,g,this.isLittleEndian());throw unsupported("bitDepth",d)}applyPredictor(d){const s=d.bitsPerSample;switch(d.predictor){case 1:break;case 2:{if(s===8)applyHorizontalDifferencing8Bit(d.data,d.width,d.components);else if(s===16)applyHorizontalDifferencing16Bit(d.data,d.width,d.components);else throw new Error(`Horizontal differencing is only supported for images with a bit depth of ${s}`);break}default:throw new Error(`invalid predictor: ${d.predictor}`)}}convertAlpha(d){if(d.alpha&&d.associatedAlpha){const{data:s,components:m,maxSampleValue:f}=d;for(let x=0;x<s.length;x+=m){const g=s[x+m-1];for(let w=0;w<m-1;w++)s[x+w]=Math.round(s[x+w]*f/g)}}}}function getDataArray(a,d,s){if(d===8)return new Uint8Array(a);if(d===16)return new Uint16Array(a);if(d===32&&s===3)return new Float32Array(a);throw unsupported("bit depth / sample format",`${d} / ${s}`)}function fill8bit(a,d,s,m){for(let f=0;f<m;f++)a[s++]=d.getUint8(f);return s}function fill16bit(a,d,s,m,f){for(let x=0;x<m*2;x+=2)a[s++]=d.getUint16(x,f);return s}function fillFloat32(a,d,s,m,f){for(let x=0;x<m*4;x+=4)a[s++]=d.getFloat32(x,f);return s}function unsupported(a,d){return new Error(`Unsupported ${a}: ${d}`)}function decodeTIFF(a,d){return new TIFFDecoder(a).decode(d)}function matchAndCrop(a={}){let{algorithm:d="matchToPrevious",ignoreBorder:s=[0,0]}=a;this.checkProcessable("matchAndCrop",{bitDepth:[8,16]});let m=d==="matchToPrevious",f=this[0],x=[];x[0]={position:[0,0],image:this[0]};let g=[0,0];for(let P=1;P<this.length;P++){let D=f.getBestMatch(this[P],{border:s});x[P]={position:[D[0]+g[0],D[1]+g[1]],image:this[P]},m&&(g[0]+=D[0],g[1]+=D[1],f=this[P])}let w=0,C=0,A=0,_=0;for(let P=0;P<x.length;P++){let D=x[P];D.position[0]>w&&(w=D.position[0]),D.position[0]<C&&(C=D.position[0]),D.position[1]>A&&(A=D.position[1]),D.position[1]<_&&(_=D.position[1])}C=0-C,_=0-_;for(let P=0;P<x.length;P++){let D=x[P];D.crop=D.image.crop({x:w-D.position[0],y:A-D.position[1],width:f.width-C-w,height:f.height-_-A})}let M=[];for(let P=0;P<x.length;P++)M[P]=x[P].crop;return new Stack(M)}function min$2(){this.checkProcessable("min",{bitDepth:[8,16]});let a=this[0].min;for(let d=1;d<this.length;d++)for(let s=0;s<a.length;s++)a[s]=Math.min(a[s],this[d].min[s]);return a}function max$2(){this.checkProcessable("min",{bitDepth:[8,16]});let a=this[0].max;for(let d=1;d<this.length;d++)for(let s=0;s<a.length;s++)a[s]=Math.max(a[s],this[d].max[s]);return a}function median$2(a){let d=a.reduce((g,w)=>g+w);if(d===0)throw new Error("unreachable");let s=0,m=0,f=d/2,x;for(;;){if(a[s]>0){if(x!==void 0)return(x+s)/2;if(m+=a[s],m>f)return s;m===f&&(x=s)}s++}}function mean$2(a){let d=0,s=0;for(let m=0;m<a.length;m++)d+=a[m],s+=a[m]*m;return d===0?0:s/d}function median$1(){this.checkProcessable("median",{bitDepth:[8,16]});let a=this.getHistograms({maxSlots:this[0].maxValue+1}),d=new Array(a.length);for(let s=0;s<a.length;s++){let m=a[s];d[s]=median$2(m)}return d}function histogram(a){this.checkProcessable("min",{bitDepth:[8,16]});let d=this[0].getHistogram(a);for(let s=1;s<this.length;s++){let m=this[s].getHistogram(a);for(let f=0;f<d.length;f++)d[f]+=m[f]}return d}function histograms(a){this.checkProcessable("min",{bitDepth:[8,16]});let d=this[0].getHistograms(a),s=d[0].length;for(let m=1;m<this.length;m++){let f=this[m].getHistograms(a);for(let x=0;x<d.length;x++)for(let g=0;g<s;g++)d[x][g]+=f[x][g]}return d}function averageImage(){this.checkProcessable("averageImage",{bitDepth:[8,16]});let a=new Uint32Array(this[0].data.length);for(let m=0;m<this.length;m++){let f=this[m];for(let x=0;x<this[0].data.length;x++)a[x]+=f.data[x]}let d=Image$1.createFrom(this[0]),s=d.data;for(let m=0;m<this[0].data.length;m++)s[m]=a[m]/this.length;return d}function maxImage(){this.checkProcessable("max",{bitDepth:[8,16]});let a=Image$1.createFrom(this[0]);a.data.fill(0);for(const d of this)for(let s=0;s<a.data.length;s++)a.data[s]=Math.max(d.data[s],a.data[s]);return a}function minImage(){this.checkProcessable("max",{bitDepth:[8,16]});let a=Image$1.createFrom(this[0]);a.data.fill(a.maxValue);for(const d of this)for(let s=0;s<a.data.length;s++)a.data[s]=Math.min(d.data[s],a.data[s]);return a}function extend$2(a){a.extendMethod("matchAndCrop",matchAndCrop),a.extendMethod("getMin",min$2),a.extendMethod("getMax",max$2),a.extendMethod("getMedian",median$1),a.extendMethod("getHistogram",histogram),a.extendMethod("getHistograms",histograms),a.extendMethod("getAverage",averageImage),a.extendMethod("getAverageImage",averageImage),a.extendMethod("getMaxImage",maxImage),a.extendMethod("getMinImage",minImage)}let computedPropertyDescriptor={configurable:!0,enumerable:!1,get:void 0};class Stack extends Array{constructor(d){if(Array.isArray(d)){super(d.length);for(let s=0;s<d.length;s++)this[s]=d[s]}else typeof d=="number"?super(d):super();this.computed=null}static load(d){return Promise.all(d.map(Image$1.load)).then(s=>new Stack(s))}static extendMethod(d,s,m={}){let{inPlace:f=!1,returnThis:x=!0,partialArgs:g=[]}=m;return f?Stack.prototype[d]=function(...w){this.computed=null;let C=s.apply(this,[...g,...w]);return x?this:C}:Stack.prototype[d]=function(...w){return s.apply(this,[...g,...w])},Stack}static extendProperty(d,s,m={}){let{partialArgs:f=[]}=m;return computedPropertyDescriptor.get=function(){if(this.computed===null)this.computed={};else if(hasOwn(d,this.computed))return this.computed[d];let x=s.apply(this,f);return this.computed[d]=x,x},Object.defineProperty(Stack.prototype,d,computedPropertyDescriptor),Stack}checkProcessable(d,s={}){if(typeof d!="string")throw new TypeError("checkProcessable requires as first parameter the processName (a string)");if(this.size===0)throw new TypeError(`The process: ${d} can not be applied on an empty stack`);this[0].checkProcessable(d,s);for(let m=1;m<this.length;m++){if((s.sameSize===void 0||s.sameSize)&&this[0].width!==this[m].width)throw new TypeError(`The process: ${d} can not be applied if width is not identical in all images`);if((s.sameSize===void 0||s.sameSize)&&this[0].height!==this[m].height)throw new TypeError(`The process: ${d} can not be applied if height is not identical in all images`);if((s.sameAlpha===void 0||s.sameAlpha)&&this[0].alpha!==this[m].alpha)throw new TypeError(`The process: ${d} can not be applied if alpha is not identical in all images`);if((s.sameBitDepth===void 0||s.sameBitDepth)&&this[0].bitDepth!==this[m].bitDepth)throw new TypeError(`The process: ${d} can not be applied if bitDepth is not identical in all images`);if((s.sameColorModel===void 0||s.sameColorModel)&&this[0].colorModel!==this[m].colorModel)throw new TypeError(`The process: ${d} can not be applied if colorModel is not identical in all images`);if((s.sameNumberChannels===void 0||s.sameNumberChannels)&&this[0].channels!==this[m].channels)throw new TypeError(`The process: ${d} can not be applied if channels is not identical in all images`)}}}Array[Symbol.species]||(Stack.prototype.map=function(a,d){if(typeof a!="function")throw new TypeError(`${a} is not a function`);let s=new Stack(this.length);for(let m=0;m<this.length;m++)s[m]=a.call(d,this[m],m,this);return s});extend$2(Stack);const isDataURL=/^data:[a-z]+\/(?:[a-z]+);base64,/;function load(a,d){if(typeof a=="string")return loadURL(a,d);if(a instanceof ArrayBuffer)return Promise.resolve(loadBinary(new Uint8Array(a),void 0,d&&d.ignorePalette));if(a.buffer)return Promise.resolve(loadBinary(a,void 0,d&&d.ignorePalette));throw new Error('argument to "load" must be a string or buffer.')}function loadBinary(a,d,s){const m=imageType$1(a);if(m)switch(m.mime){case"image/png":return loadPNG(a);case"image/jpeg":return loadJPEG(a);case"image/tiff":return loadTIFF(a,s);default:return loadGeneric(f(m.mime))}return loadGeneric(f("application/octet-stream"));function f(x){return d||toBase64URL(a,x)}}function loadURL(a,d){const s=a.slice(0,64).match(isDataURL);let m;return s!==null?m=Promise.resolve(decode$3(a.slice(s[0].length))):m=fetchBinary(a,d),m.then(f=>{const x=new Uint8Array(f);return loadBinary(x,s?a:void 0,d&&d.ignorePalette)})}function loadPNG(a){const d=decodePng(a);let s=d.channels,m,f=0;return s===2||s===4?(m=s-1,f=1):m=s,d.palette?loadPNGFromPalette(d):new Image$1(d.width,d.height,d.data,{components:m,alpha:f,bitDepth:d.depth})}function loadPNGFromPalette(a){const d=a.width*a.height,s=a.palette[0].length,m=new Uint8Array(d*s),f=8/a.depth,x=a.depth<8?f:1,g=parseInt("1".repeat(a.depth),2),w=s===4;let C=0;for(let A=0;A<d;A++){const _=Math.floor(A/x);let M=a.data[_];a.depth<8&&(M=M>>>a.depth*(f-1-A%f)&g);const P=a.palette[M];m[C++]=P[0],m[C++]=P[1],m[C++]=P[2],w&&(m[C++]=P[3])}return new Image$1(a.width,a.height,m,{components:3,alpha:w,bitDepth:8})}function loadJPEG(a){const d=decode(a);let s;d.exif&&(s=getMetadata(d.exif));const m=jpegJs.decode(a,{useTArray:!0,maxMemoryUsageInMB:1024});let f=new Image$1(m.width,m.height,m.data,{meta:s});if(s&&s.tiff.tags.Orientation){const x=s.tiff.tags.Orientation;x>2&&(f=f.rotate({3:180,4:180,5:90,6:90,7:270,8:270}[x])),[2,4,5,7].includes(x)&&(f=f.flipX())}return f}function loadTIFF(a,d){let s=decodeTIFF(a);return s.length===1?getImageFromIFD(s[0],d):new Stack(s.map(function(m){return getImageFromIFD(m,d)}))}function getMetadata(a){const d={tiff:{fields:a.fields,tags:a.map}};return a.exif&&(d.exif=a.exif),a.gps&&(d.gps=a.gps),d}function getImageFromIFD(a,d){if(!d&&a.type===3){const s=new Uint16Array(3*a.width*a.height),m=a.palette;let f=0;for(let x=0;x<a.data.length;x++){const g=a.data[x],w=m[g];s[f++]=w[0],s[f++]=w[1],s[f++]=w[2]}return new Image$1(a.width,a.height,s,{components:3,alpha:a.alpha,colorModel:RGB$1,bitDepth:16,meta:getMetadata(a)})}else return new Image$1(a.width,a.height,a.data,{components:a.type===2?3:1,alpha:a.alpha,colorModel:a.type===2?RGB$1:GREY$1,bitDepth:a.bitsPerSample.length?a.bitsPerSample[0]:a.bitsPerSample,meta:getMetadata(a)})}function loadGeneric(a,d){return d=d||{},new Promise(function(s,m){let f=new DOMImage;f.onload=function(){let x=f.width,g=f.height,C=createCanvas(x,g).getContext("2d");C.drawImage(f,0,0,x,g);let A=C.getImageData(0,0,x,g).data;s(new Image$1(x,g,A,d))},f.onerror=function(){m(new Error(`Could not load ${a}`))},f.src=a})}const valueMethods={getValueXY(a,d,s){return this.data[(d*this.width+a)*this.channels+s]},setValueXY(a,d,s,m){return this.data[(d*this.width+a)*this.channels+s]=m,this.computed=null,this},getValue(a,d){return this.data[a*this.channels+d]},setValue(a,d,s){return this.data[a*this.channels+d]=s,this.computed=null,this},getPixelXY(a,d){return this.getPixel(d*this.width+a)},setPixelXY(a,d,s){return this.setPixel(d*this.width+a,s)},getPixel(a){const d=new Array(this.channels),s=a*this.channels;for(let m=0;m<this.channels;m++)d[m]=this.data[s+m];return d},setPixel(a,d){const s=a*this.channels;for(let m=0;m<d.length;m++)this.data[s+m]=d[m];return this.computed=null,this}};function setValueMethods(a){for(const d in valueMethods)a.prototype[d]=valueMethods[d]}function getImageParameters(a){return{width:a.width,height:a.height,components:a.components,alpha:a.alpha,colorModel:a.colorModel,bitDepth:a.bitDepth}}function getOutputImage(a,d,s,m={}){const{out:f}=d;if(f===void 0)return m.copy?a.clone():Image$1.createFrom(a,s);{if(!Image$1.isImage(f))throw new TypeError("out must be an Image object");const x=Object.assign(getImageParameters(a),s);for(const g in x)if(f[g]!==x[g])throw new RangeError(`cannot use out. Its ${g} must be "${x[g]}" (found "${f[g]}")`);return f}}function getOutputImageOrInPlace(a,d,s){if(d.inPlace!==void 0&&typeof d.inPlace!="boolean")throw new TypeError("inPlace option must be a boolean");if(d.inPlace){if(d.out!==void 0)throw new TypeError("out option must not be set if inPlace option is true");return a}return getOutputImage(a,d,null,s)}function abs(a={}){this.checkProcessable("abs",{bitDepth:[32]});const d=getOutputImageOrInPlace(this,a);return absolute(this,d),d}function absolute(a,d){for(let s=0;s<a.data.length;s++)d.data[s]=Math.abs(a.data[s])}function copyAlphaChannel(a,d){if(a.alpha===1&&d.alpha===1)for(let s=0;s<a.size;s++)d.data[s*d.channels+d.components]=a.data[s*a.channels+a.components]}function invert(a={}){this.checkProcessable("invert",{bitDepth:[1,8,16]});const d=getOutputImageOrInPlace(this,a);return this.bitDepth===1?invertBinary(this,d):(invertColor(this,d),this!==d&&copyAlphaChannel(this,d)),d}function invertBinary(a,d){for(let s=0;s<a.data.length;s++)d.data[s]=~a.data[s]}function invertColor(a,d){for(let s=0;s<a.data.length;s+=a.channels)for(let m=0;m<a.components;m++)d.data[s+m]=a.maxValue-a.data[s+m]}function flipX(){this.checkProcessable("flipX",{bitDepth:[8,16]});for(let a=0;a<this.height;a++){let d=a*this.width*this.channels;for(let s=0;s<Math.floor(this.width/2);s++){let m=s*this.channels+d,f=(this.width-s-1)*this.channels+d;for(let x=0;x<this.channels;x++){let g=this.data[m+x];this.data[m+x]=this.data[f+x],this.data[f+x]=g}}}return this}function flipY(){this.checkProcessable("flipY",{bitDepth:[8,16]});for(let a=0;a<Math.floor(this.height/2);a++)for(let d=0;d<this.width;d++){let s=d*this.channels+a*this.width*this.channels,m=d*this.channels+(this.height-1-a)*this.channels*this.width;for(let f=0;f<this.channels;f++){let x=this.data[s+f];this.data[s+f]=this.data[m+f],this.data[m+f]=x}}return this}function blurFilter(a={}){const{radius:d=1}=a;if(d<1)throw new Error("radius must be greater than 1");const s=2*d+1,m=new Array(s);for(let f=0;f<s;f++){m[f]=new Array(s);for(let x=0;x<s;x++)m[f][x]=1/(s*s)}return this.convolution(m)}var medianQuickselect_min={exports:{}};(function(a){(function(){function d(f){for(var x=0,g=f.length-1,w=void 0,C=void 0,A=void 0,_=m(x,g);;){if(g<=x)return f[_];if(g==x+1)return f[x]>f[g]&&s(f,x,g),f[_];for(w=m(x,g),f[w]>f[g]&&s(f,w,g),f[x]>f[g]&&s(f,x,g),f[w]>f[x]&&s(f,w,x),s(f,w,x+1),C=x+1,A=g;;){do C++;while(f[x]>f[C]);do A--;while(f[A]>f[x]);if(A<C)break;s(f,C,A)}s(f,x,A),A<=_&&(x=C),A>=_&&(g=A-1)}}var s=function(x,g,w){var C;return C=[x[w],x[g]],x[g]=C[0],x[w]=C[1],C},m=function(x,g){return~~((x+g)/2)};a.exports?a.exports=d:window.median=d})()})(medianQuickselect_min);var medianQuickselect_minExports=medianQuickselect_min.exports;const quickSelectMedian=getDefaultExportFromCjs(medianQuickselect_minExports);function validateArrayOfChannels(a,d={}){let{channels:s,allowAlpha:m,defaultAlpha:f}=d;return typeof m!="boolean"&&(m=!0),typeof s>"u"?allChannels(a,f):validateChannels(a,s,m)}function allChannels(a,d){let s=d?a.channels:a.components,m=new Array(s);for(let f=0;f<s;f++)m[f]=f;return m}function validateChannels(a,d,s){Array.isArray(d)||(d=[d]);for(let m=0;m<d.length;m++)d[m]=validateChannel(a,d[m],s);return d}function validateChannel(a,d,s=!0){if(d===void 0)throw new RangeError(`validateChannel : the channel has to be >=0 and <${a.channels}`);if(typeof d=="string"){switch(a.colorModel){case GREY$1:break;case RGB$1:if("rgb".includes(d))switch(d){case"r":d=0;break;case"g":d=1;break;case"b":d=2;break}break;case HSL:if("hsl".includes(d))switch(d){case"h":d=0;break;case"s":d=1;break;case"l":d=2;break}break;case HSV:if("hsv".includes(d))switch(d){case"h":d=0;break;case"s":d=1;break;case"v":d=2;break}break;case CMYK$1:if("cmyk".includes(d))switch(d){case"c":d=0;break;case"m":d=1;break;case"y":d=2;break;case"k":d=3;break}break;default:throw new Error(`Unexpected color model: ${a.colorModel}`)}if(d==="a"){if(!a.alpha)throw new Error("validateChannel : the image does not contain alpha channel");d=a.components}if(typeof d=="string")throw new Error(`validateChannel : undefined channel: ${d}`)}if(d>=a.channels)throw new RangeError(`validateChannel : the channel has to be >=0 and <${a.channels}`);if(!s&&d>=a.components)throw new RangeError("validateChannel : alpha channel may not be selected");return d}function medianFilter(a={}){let{radius:d=1,border:s="copy",channels:m}=a;if(this.checkProcessable("medianFilter",{bitDepth:[8,16]}),d<1)throw new Error("radius must be greater than 0");m=validateArrayOfChannels(this,m);let f=d,x=d,g=Image$1.createFrom(this),w=(f*2+1)*(x*2+1),C=new Array(w);for(let A=0;A<m.length;A++){let _=m[A];for(let M=x;M<this.height-x;M++)for(let P=f;P<this.width-f;P++){let D=0;for(let I=-x;I<=x;I++)for(let B=-f;B<=f;B++){let F=((M+I)*this.width+P+B)*this.channels+_;C[D++]=this.data[F]}let E=(M*this.width+P)*this.channels+_;g.data[E]=quickSelectMedian(C)}}if(this.alpha&&!m.includes(this.channels))for(let A=this.components;A<this.data.length;A=A+this.channels)g.data[A]=this.data[A];return g.setBorder({size:[f,x],algorithm:s}),g}function gaussianFilter(a={}){let{radius:d=1,sigma:s,channels:m,border:f="copy"}=a;this.checkProcessable("gaussian",{bitDepth:[8,16]});const x=getKernel(d,s);return this.convolution([x,x],{border:f,channels:m,algorithm:"separable"})}function getKernel(a,d){const s=a*2+1,m=new Array(s),f=d||((s-1)*.5-1)*.3+.8,x=-.5/(f*f);let g=0;for(let w=0;w<s;w++){const C=w-a,A=Math.exp(x*C*C);m[w]=A,g+=A}for(let w=0;w<s;w++)m[w]/=g;return m}const SOBEL_X=[[-1,0,1],[-2,0,2],[-1,0,1]],SOBEL_Y=[[-1,-2,-1],[0,0,0],[1,2,1]],SCHARR_X=[[3,0,-3],[10,0,-10],[3,0,-3]],SCHARR_Y=[[3,10,3],[0,0,0],[-3,-10,-3]];var src$2={},fftlib={};(function(a){(function(){var d;d=a;var s={release:"0.3.0",date:"2013-03"};d.toString=function(){return"version "+s.release+", released "+s.date};for(var m=0,f=null,x=null,g={init:function(A){if(A!==0&&!(A&A-1))m=A,g._initArray(),g._makeBitReversalTable(),g._makeCosSinTable();else throw new Error("init: radix-2 required")},fft1d:function(A,_){g.fft(A,_,1)},ifft1d:function(A,_){var M=1/m;g.fft(A,_,-1);for(var P=0;P<m;P++)A[P]*=M,_[P]*=M},bt1d:function(A,_){g.fft(A,_,-1)},fft2d:function(A,_){for(var M=[],P=[],D=0,E=0;E<m;E++){D=E*m;for(var I=0;I<m;I++)M[I]=A[I+D],P[I]=_[I+D];g.fft1d(M,P);for(var B=0;B<m;B++)A[B+D]=M[B],_[B+D]=P[B]}for(var F=0;F<m;F++){for(var R=0;R<m;R++)D=F+R*m,M[R]=A[D],P[R]=_[D];g.fft1d(M,P);for(var L=0;L<m;L++)D=F+L*m,A[D]=M[L],_[D]=P[L]}},ifft2d:function(A,_){for(var M=[],P=[],D=0,E=0;E<m;E++){D=E*m;for(var I=0;I<m;I++)M[I]=A[I+D],P[I]=_[I+D];g.ifft1d(M,P);for(var B=0;B<m;B++)A[B+D]=M[B],_[B+D]=P[B]}for(var F=0;F<m;F++){for(var R=0;R<m;R++)D=F+R*m,M[R]=A[D],P[R]=_[D];g.ifft1d(M,P);for(var L=0;L<m;L++)D=F+L*m,A[D]=M[L],_[D]=P[L]}},fft:function(A,_,M){for(var P,D,E,I,B,F,R,L,z,G=m>>2,W=0;W<m;W++)I=f[W],W<I&&(B=A[W],A[W]=A[I],A[I]=B,B=_[W],_[W]=_[I],_[I]=B);for(var K=1;K<m;K<<=1){D=0,P=m/(K<<1);for(var q=0;q<K;q++){F=x[D+G],R=M*x[D];for(var Z=q;Z<m;Z+=K<<1)E=Z+K,L=F*A[E]+R*_[E],z=F*_[E]-R*A[E],A[E]=A[Z]-L,A[Z]+=L,_[E]=_[Z]-z,_[Z]+=z;D+=P}}},_initArray:function(){typeof Uint32Array<"u"?f=new Uint32Array(m):f=[],typeof Float64Array<"u"?x=new Float64Array(m*1.25):x=[]},_paddingZero:function(){},_makeBitReversalTable:function(){var A=0,_=0,M=0;for(f[0]=0;++A<m;){for(M=m>>1;M<=_;)_-=M,M>>=1;_+=M,f[A]=_}},_makeCosSinTable:function(){var A=m>>1,_=m>>2,M=m>>3,P=A+_,D=Math.sin(Math.PI/m),E=2*D*D,I=Math.sqrt(E*(2-E)),B=x[_]=1,F=x[0]=0;D=2*E;for(var R=1;R<M;R++)B-=E,E+=D*B,F+=I,I-=D*F,x[R]=F,x[_-R]=B;M!==0&&(x[M]=Math.sqrt(.5));for(var L=0;L<_;L++)x[A-L]=x[L];for(var z=0;z<P;z++)x[z+A]=-x[z]}},w=["init","fft1d","ifft1d","fft2d","ifft2d"],C=0;C<w.length;C++)d[w[C]]=g[w[C]];return d.bt=g.bt1d,d.fft=g.fft1d,d.ifft=g.ifft1d,d}).call(commonjsGlobal)})(fftlib);var FFT$1=fftlib,FFTUtils$1={DEBUG:!1,ifft2DArray:function(a,d,s){var m=new Array(d*s),f=d/2,x=(s-1)*2;FFT$1.init(f);for(var g={re:new Array(f),im:new Array(f)},w=0;w<s;w++){for(var C=f-1;C>=0;C--)g.re[C]=a[C*2*s+w],g.im[C]=a[(C*2+1)*s+w];FFT$1.bt(g.re,g.im);for(var C=f-1;C>=0;C--)m[C*2*s+w]=g.re[C],m[(C*2+1)*s+w]=g.im[C]}var A=new Array(f*x);FFT$1.init(x);for(var _={re:new Array(x),im:new Array(x)},M=x*f,C=0;C<d;C+=2){_.re[0]=m[C*s],_.im[0]=m[(C+1)*s];for(var w=1;w<s;w++)_.re[w]=m[C*s+w],_.im[w]=m[(C+1)*s+w],_.re[x-w]=m[C*s+w],_.im[x-w]=-m[(C+1)*s+w];FFT$1.bt(_.re,_.im);for(var P=C/2*x,w=x-1;w>=0;w--)A[P+w]=_.re[w]/M}return A},fft2DArray:function(a,d,s,m){Object.assign({},{inplace:!0});var f=s/2+1,x=d*2,g=new Array(x*f);FFT$1.init(s);for(var w={re:new Array(s),im:new Array(s)},C={re:new Array(s),im:new Array(s)},A={re:new Array(s),im:new Array(s)},_,M,P,D,E,I=0;I<d/2;I++){_=I*2*s,w.re=a.slice(_,_+s),_=(I*2+1)*s,w.im=a.slice(_,_+s),FFT$1.fft1d(w.re,w.im),this.reconstructTwoRealFFT(w,C,A),M=I*4*f,P=(I*4+1)*f,D=(I*4+2)*f,E=(I*4+3)*f;for(var B=f-1;B>=0;B--)g[M+B]=C.re[B],g[P+B]=C.im[B],g[D+B]=A.re[B],g[E+B]=A.im[B]}C=null,A=null;var F=new Array(x*f);FFT$1.init(d);for(var R={re:new Array(d),im:new Array(d)},L=f-1;L>=0;L--){for(var I=d-1;I>=0;I--)R.re[I]=g[I*2*f+L],R.im[I]=g[(I*2+1)*f+L],isNaN(R.re[I])&&(R.re[I]=0),isNaN(R.im[I])&&(R.im[I]=0);FFT$1.fft1d(R.re,R.im);for(var I=d-1;I>=0;I--)F[I*2*f+L]=R.re[I],F[(I*2+1)*f+L]=R.im[I]}return F},reconstructTwoRealFFT:function(a,d,s){var m=a.re.length;d.re[0]=a.re[0],d.im[0]=0,s.re[0]=a.im[0],s.im[0]=0;for(var f,x,g,w,C,A=m/2;A>0;A--)C=m-A,f=.5*(a.re[A]-a.re[C]),x=.5*(a.re[A]+a.re[C]),g=.5*(a.im[A]-a.im[C]),w=.5*(a.im[A]+a.im[C]),d.re[A]=x,d.im[A]=g,d.re[C]=x,d.im[C]=-g,s.re[A]=w,s.im[A]=-f,s.re[C]=w,s.im[C]=f},convolute2DI:function(a,d,s,m){for(var f,x,g=0;g<s/2;g++)for(var w=0;w<m;w++)f=a[g*2*m+w]*d[g*2*m+w]-a[(g*2+1)*m+w]*d[(g*2+1)*m+w],x=a[g*2*m+w]*d[(g*2+1)*m+w]+a[(g*2+1)*m+w]*d[g*2*m+w],a[g*2*m+w]=f,a[(g*2+1)*m+w]=x},convolute:function(a,d,s,m,f){for(var x=new Array(m*s),g=0;g<s*m;g++)x[g]=a[g];x=this.fft2DArray(x,s,m);for(var w=d.length,C=d[0].length,A=new Array(m*s),g=0;g<m*s;g++)A[g]=0;for(var _,M,P=Math.floor((w-1)/2),D=Math.floor((C-1)/2),E=0;E<w;E++){_=(E-P+s)%s;for(var I=0;I<C;I++)M=(I-D+m)%m,A[_*m+M]=d[E][I]}A=this.fft2DArray(A,s,m);var B=s*2,F=m/2+1;return this.convolute2DI(x,A,B,F),this.ifft2DArray(x,B,F)},toRadix2:function(a,d,s){var m,f,x,g,w=s,C=d;if(!(s!==0&&!(s&s-1))){for(w=0;s>>++w;);w=1<<w}if(!(d!==0&&!(d&d-1))){for(C=0;d>>++C;);C=1<<C}if(C==d&&w==s)return{data:a,rows:d,cols:s};var A=new Array(C*w),_=Math.floor((C-d)/2)-d,M=Math.floor((w-s)/2)-s;for(m=0;m<C;m++)for(x=m*w,g=(m-_)%d*s,f=0;f<w;f++)A[x+f]=a[g+(f-M)%s];return{data:A,rows:C,cols:w}},crop:function(a,d,s,m,f,x){if(d==m&&s==f)return a;Object.assign({},x);var g=new Array(f*m),w=Math.floor((d-m)/2),C=Math.floor((s-f)/2),A,_,M,P;for(M=0;M<m;M++)for(A=M*f,_=(M+w)*s,P=0;P<f;P++)g[A+P]=a[_+(P+C)];return g}},FFTUtils_1=FFTUtils$1;src$2.FFTUtils=FFTUtils_1;src$2.FFT=fftlib;var FFTUtils=src$2.FFTUtils;function convolutionFFT(a,d,s){var m=matrix2Array(a),f=m.data,x=Object.assign({normalize:!1,divisor:1,rows:m.rows,cols:m.cols},s),g,w;if(x.rows&&x.cols)g=x.rows,w=x.cols;else throw new Error("Invalid number of rows or columns "+g+" "+w);var C=x.divisor,A,_,M=d.length,P=d[0].length;if(x.normalize)for(C=0,A=0;A<M;A++)for(_=0;_<P;_++)C+=d[A][_];if(C===0)throw new RangeError("convolution: The divisor is equal to zero");var D=FFTUtils.toRadix2(f,g,w),E=FFTUtils.convolute(D.data,d,D.rows,D.cols);if(E=FFTUtils.crop(E,D.rows,D.cols,g,w),C!=0&&C!=1)for(A=0;A<E.length;A++)E[A]/=C;return E}function convolutionDirect(a,d,s){var m=matrix2Array(a),f=m.data,x=Object.assign({normalize:!1,divisor:1,rows:m.rows,cols:m.cols},s),g,w;if(x.rows&&x.cols)g=x.rows,w=x.cols;else throw new Error("Invalid number of rows or columns "+g+" "+w);var C=x.divisor,A=d.length,_=d[0].length,M,P,D,E,I,B,F,R,L;if(x.normalize)for(C=0,M=0;M<A;M++)for(P=0;P<_;P++)C+=d[M][P];if(C===0)throw new RangeError("convolution: The divisor is equal to zero");var z=new Array(g*w),G=Math.floor(A/2),W=Math.floor(_/2);for(E=0;E<g;E++)for(D=0;D<w;D++){for(B=0,P=0;P<A;P++)for(M=0;M<_;M++)F=d[A-P-1][_-M-1],R=(E+P-G+g)%g,L=(D+M-W+w)%w,I=R*w+L,B+=f[I]*F;I=E*w+D,z[I]=B/C}return z}function LoG(a,d,s){var m=1e3;s&&s.factor&&(m=s.factor);var f=new Array(d),x,g,w,C;m*=-1;var A=(d-1)/2,_=2*a*a;for(x=0;x<d;x++)for(f[x]=new Array(d),C=(x-A)*(x-A),g=0;g<d;g++)w=-((g-A)*(g-A)+C)/_,f[x][g]=Math.round(m*(1+w)*Math.exp(w));return f}function matrix2Array(a){var d=a,s,m;if(typeof a[0]!="number"){s=a.length,m=a[0].length,d=new Array(s*m);for(var f=0;f<s;f++)for(var x=0;x<m;x++)d[f*m+x]=a[f][x]}else{var g=Math.sqrt(a.length);Number.isInteger(g)&&(s=g,m=g)}return{data:d,rows:s,cols:m}}var src$1={fft:convolutionFFT,direct:convolutionDirect,kernelFactory:{LoG},matrix2Array},_isFinite=Number.isFinite||function(a){return!(typeof a!="number"||a!==a||a===1/0||a===-1/0)},isFinite$1=_isFinite,isInteger=Number.isInteger||function(a){return typeof a=="number"&&isFinite$1(a)&&Math.floor(a)===a};const isInteger$1=getDefaultExportFromCjs(isInteger);function validateKernel(a){let d,s;if(Array.isArray(a))if(Array.isArray(a[0])){if(!(a.length&1)||!(a[0].length&1))throw new RangeError("validateKernel: Kernel rows and columns should be odd numbers");d=Math.floor(a.length/2),s=Math.floor(a[0].length/2)}else{let m=Math.sqrt(a.length);if(isInteger$1(m))s=d=Math.floor(Math.sqrt(a.length)/2);else throw new RangeError("validateKernel: Kernel array should be a square");let f=new Array(m);for(let x=0;x<m;x++){f[x]=new Array(m);for(let g=0;g<m;g++)f[x][g]=a[x*m+g]}a=f}else throw new Error(`validateKernel: Invalid Kernel: ${a}`);return{kernel:a,kWidth:s,kHeight:d}}function clamp(a,d){return Math.round(Math.min(Math.max(a,0),d.maxValue))}function directConvolution(a,d,s){if(s===void 0){const x=a.length+d.length-1;s=new Array(x)}fill(s);for(var m=0;m<a.length;m++)for(var f=0;f<d.length;f++)s[m+f]+=a[m]*d[f];return s}function fill(a){for(var d=0;d<a.length;d++)a[d]=0}function FFT(a){if(this.size=a|0,this.size<=1||this.size&this.size-1)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=a<<1;for(var d=new Array(this.size*2),s=0;s<d.length;s+=2){const C=Math.PI*s/this.size;d[s]=Math.cos(C),d[s+1]=-Math.sin(C)}this.table=d;for(var m=0,f=1;this.size>f;f<<=1)m++;this._width=m%2===0?m-1:m,this._bitrev=new Array(1<<this._width);for(var x=0;x<this._bitrev.length;x++){this._bitrev[x]=0;for(var g=0;g<this._width;g+=2){var w=this._width-g-2;this._bitrev[x]|=(x>>>g&3)<<w}}this._out=null,this._data=null,this._inv=0}FFT.prototype.fromComplexArray=function a(d,s){for(var m=s||new Array(d.length>>>1),f=0;f<d.length;f+=2)m[f>>>1]=d[f];return m};FFT.prototype.createComplexArray=function a(){const d=new Array(this._csize);for(var s=0;s<d.length;s++)d[s]=0;return d};FFT.prototype.toComplexArray=function a(d,s){for(var m=s||this.createComplexArray(),f=0;f<m.length;f+=2)m[f]=d[f>>>1],m[f+1]=0;return m};FFT.prototype.completeSpectrum=function a(d){for(var s=this._csize,m=s>>>1,f=2;f<m;f+=2)d[s-f]=d[f],d[s-f+1]=-d[f+1]};FFT.prototype.transform=function a(d,s){if(d===s)throw new Error("Input and output buffers must be different");this._out=d,this._data=s,this._inv=0,this._transform4(),this._out=null,this._data=null};FFT.prototype.realTransform=function a(d,s){if(d===s)throw new Error("Input and output buffers must be different");this._out=d,this._data=s,this._inv=0,this._realTransform4(),this._out=null,this._data=null};FFT.prototype.inverseTransform=function a(d,s){if(d===s)throw new Error("Input and output buffers must be different");this._out=d,this._data=s,this._inv=1,this._transform4();for(var m=0;m<d.length;m++)d[m]/=this.size;this._out=null,this._data=null};FFT.prototype._transform4=function a(){var d=this._out,s=this._csize,m=this._width,f=1<<m,x=s/f<<1,g,w,C=this._bitrev;if(x===4)for(g=0,w=0;g<s;g+=x,w++){const I=C[w];this._singleTransform2(g,I,f)}else for(g=0,w=0;g<s;g+=x,w++){const I=C[w];this._singleTransform4(g,I,f)}var A=this._inv?-1:1,_=this.table;for(f>>=2;f>=2;f>>=2){x=s/f<<1;var M=x>>>2;for(g=0;g<s;g+=x)for(var P=g+M,D=g,E=0;D<P;D+=2,E+=f){const I=D,B=I+M,F=B+M,R=F+M,L=d[I],z=d[I+1],G=d[B],W=d[B+1],K=d[F],q=d[F+1],Z=d[R],J=d[R+1],Q=L,ie=z,se=_[E],oe=A*_[E+1],ue=G*se-W*oe,fe=G*oe+W*se,xe=_[2*E],ce=A*_[2*E+1],me=K*xe-q*ce,pe=K*ce+q*xe,Se=_[3*E],Ae=A*_[3*E+1],_e=Z*Se-J*Ae,Me=Z*Ae+J*Se,ve=Q+me,Ee=ie+pe,Le=Q-me,Ie=ie-pe,Oe=ue+_e,le=fe+Me,te=A*(ue-_e),re=A*(fe-Me),ne=ve+Oe,ae=Ee+le,he=ve-Oe,de=Ee-le,be=Le+re,Ce=Ie-te,we=Le-re,Pe=Ie+te;d[I]=ne,d[I+1]=ae,d[B]=be,d[B+1]=Ce,d[F]=he,d[F+1]=de,d[R]=we,d[R+1]=Pe}}};FFT.prototype._singleTransform2=function a(d,s,m){const f=this._out,x=this._data,g=x[s],w=x[s+1],C=x[s+m],A=x[s+m+1],_=g+C,M=w+A,P=g-C,D=w-A;f[d]=_,f[d+1]=M,f[d+2]=P,f[d+3]=D};FFT.prototype._singleTransform4=function a(d,s,m){const f=this._out,x=this._data,g=this._inv?-1:1,w=m*2,C=m*3,A=x[s],_=x[s+1],M=x[s+m],P=x[s+m+1],D=x[s+w],E=x[s+w+1],I=x[s+C],B=x[s+C+1],F=A+D,R=_+E,L=A-D,z=_-E,G=M+I,W=P+B,K=g*(M-I),q=g*(P-B),Z=F+G,J=R+W,Q=L+q,ie=z-K,se=F-G,oe=R-W,ue=L-q,fe=z+K;f[d]=Z,f[d+1]=J,f[d+2]=Q,f[d+3]=ie,f[d+4]=se,f[d+5]=oe,f[d+6]=ue,f[d+7]=fe};FFT.prototype._realTransform4=function a(){var d=this._out,s=this._csize,m=this._width,f=1<<m,x=s/f<<1,g,w,C=this._bitrev;if(x===4)for(g=0,w=0;g<s;g+=x,w++){const Xe=C[w];this._singleRealTransform2(g,Xe>>>1,f>>>1)}else for(g=0,w=0;g<s;g+=x,w++){const Xe=C[w];this._singleRealTransform4(g,Xe>>>1,f>>>1)}var A=this._inv?-1:1,_=this.table;for(f>>=2;f>=2;f>>=2){x=s/f<<1;var M=x>>>1,P=M>>>1,D=P>>>1;for(g=0;g<s;g+=x)for(var E=0,I=0;E<=D;E+=2,I+=f){var B=g+E,F=B+P,R=F+P,L=R+P,z=d[B],G=d[B+1],W=d[F],K=d[F+1],q=d[R],Z=d[R+1],J=d[L],Q=d[L+1],ie=z,se=G,oe=_[I],ue=A*_[I+1],fe=W*oe-K*ue,xe=W*ue+K*oe,ce=_[2*I],me=A*_[2*I+1],pe=q*ce-Z*me,Se=q*me+Z*ce,Ae=_[3*I],_e=A*_[3*I+1],Me=J*Ae-Q*_e,ve=J*_e+Q*Ae,Ee=ie+pe,Le=se+Se,Ie=ie-pe,Oe=se-Se,le=fe+Me,te=xe+ve,re=A*(fe-Me),ne=A*(xe-ve),ae=Ee+le,he=Le+te,de=Ie+ne,be=Oe-re;if(d[B]=ae,d[B+1]=he,d[F]=de,d[F+1]=be,E===0){var Ce=Ee-le,we=Le-te;d[R]=Ce,d[R+1]=we;continue}if(E!==D){var Pe=Ie,ke=-Oe,Be=Ee,Re=-Le,ze=-A*ne,$e=-A*re,je=-A*te,ge=-A*le,He=Pe+ze,Ue=ke+$e,Ye=Be+ge,Te=Re-je,Ne=g+P-E,Ge=g+M-E;d[Ne]=He,d[Ne+1]=Ue,d[Ge]=Ye,d[Ge+1]=Te}}}};FFT.prototype._singleRealTransform2=function a(d,s,m){const f=this._out,x=this._data,g=x[s],w=x[s+m],C=g+w,A=g-w;f[d]=C,f[d+1]=0,f[d+2]=A,f[d+3]=0};FFT.prototype._singleRealTransform4=function a(d,s,m){const f=this._out,x=this._data,g=this._inv?-1:1,w=m*2,C=m*3,A=x[s],_=x[s+m],M=x[s+w],P=x[s+C],D=A+M,E=A-M,I=_+P,B=g*(_-P),F=D+I,R=E,L=-B,z=D-I,G=E,W=B;f[d]=F,f[d+1]=0,f[d+2]=R,f[d+3]=L,f[d+4]=z,f[d+5]=0,f[d+6]=G,f[d+7]=W};function convolutionSeparable(a,d,s,m){const f=new Array(a.length);let x,g,w,C;C=d[1],w=(C.length-1)/2,g=new Array(s+C.length-1),x=new Array(s);for(let A=0;A<m;A++){for(let _=0;_<s;_++)x[_]=a[A*s+_];directConvolution(x,C,g);for(let _=0;_<s;_++)f[A*s+_]=g[w+_]}C=d[0],w=(C.length-1)/2,g=new Array(m+C.length-1),x=new Array(m);for(let A=0;A<s;A++){for(let _=0;_<m;_++)x[_]=f[_*s+A];directConvolution(x,C,g);for(let _=0;_<m;_++)f[_*s+A]=g[w+_]}return f}var matrix={};const toString$1=Object.prototype.toString;function isAnyArray$1(a){const d=toString$1.call(a);return d.endsWith("Array]")&&!d.includes("Big")}const libEsm=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:isAnyArray$1},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(libEsm);function max$1(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray$1(a))throw new TypeError("input must be an array");if(a.length===0)throw new TypeError("input must not be empty");var s=d.fromIndex,m=s===void 0?0:s,f=d.toIndex,x=f===void 0?a.length:f;if(m<0||m>=a.length||!Number.isInteger(m))throw new Error("fromIndex must be a positive integer smaller than length");if(x<=m||x>a.length||!Number.isInteger(x))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var g=a[m],w=m+1;w<x;w++)a[w]>g&&(g=a[w]);return g}function min$1(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray$1(a))throw new TypeError("input must be an array");if(a.length===0)throw new TypeError("input must not be empty");var s=d.fromIndex,m=s===void 0?0:s,f=d.toIndex,x=f===void 0?a.length:f;if(m<0||m>=a.length||!Number.isInteger(m))throw new Error("fromIndex must be a positive integer smaller than length");if(x<=m||x>a.length||!Number.isInteger(x))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var g=a[m],w=m+1;w<x;w++)a[w]<g&&(g=a[w]);return g}function rescale$1(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(isAnyArray$1(a)){if(a.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var s;if(d.output!==void 0){if(!isAnyArray$1(d.output))throw new TypeError("output option must be an array if specified");s=d.output}else s=new Array(a.length);var m=min$1(a),f=max$1(a);if(m===f)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var x=d.min,g=x===void 0?d.autoMinMax?m:0:x,w=d.max,C=w===void 0?d.autoMinMax?f:1:w;if(g>=C)throw new RangeError("min option must be smaller than max option");for(var A=(C-g)/(f-m),_=0;_<a.length;_++)s[_]=(a[_]-m)*A+g;return s}const libEs6=Object.freeze(Object.defineProperty({__proto__:null,default:rescale$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(libEs6);Object.defineProperty(matrix,"__esModule",{value:!0});var isAnyArray=require$$0$1,rescale=require$$1;const indent=" ".repeat(2),indentData=" ".repeat(4);function inspectMatrix(){return inspectMatrixWithOptions(this)}function inspectMatrixWithOptions(a,d={}){const{maxRows:s=15,maxColumns:m=10,maxNumSize:f=8,padMinus:x="auto"}=d;return`${a.constructor.name} {
${indent}[
${indentData}${inspectData(a,s,m,f,x)}
${indent}]
${indent}rows: ${a.rows}
${indent}columns: ${a.columns}
}`}function inspectData(a,d,s,m,f){const{rows:x,columns:g}=a,w=Math.min(x,d),C=Math.min(g,s),A=[];if(f==="auto"){f=!1;e:for(let _=0;_<w;_++)for(let M=0;M<C;M++)if(a.get(_,M)<0){f=!0;break e}}for(let _=0;_<w;_++){let M=[];for(let P=0;P<C;P++)M.push(formatNumber(a.get(_,P),m,f));A.push(`${M.join(" ")}`)}return C!==g&&(A[A.length-1]+=` ... ${g-s} more columns`),w!==x&&A.push(`... ${x-d} more rows`),A.join(`
${indentData}`)}function formatNumber(a,d,s){return(a>=0&&s?` ${formatNumber2(a,d-1)}`:formatNumber2(a,d)).padEnd(d)}function formatNumber2(a,d){let s=a.toString();if(s.length<=d)return s;let m=a.toFixed(d);if(m.length>d&&(m=a.toFixed(Math.max(0,d-(m.length-d)))),m.length<=d&&!m.startsWith("0.000")&&!m.startsWith("-0.000"))return m;let f=a.toExponential(d);return f.length>d&&(f=a.toExponential(Math.max(0,d-(f.length-d)))),f.slice(0)}function installMathOperations(a,d){a.prototype.add=function(m){return typeof m=="number"?this.addS(m):this.addM(m)},a.prototype.addS=function(m){for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)+m);return this},a.prototype.addM=function(m){if(m=d.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)+m.get(f,x));return this},a.add=function(m,f){return new d(m).add(f)},a.prototype.sub=function(m){return typeof m=="number"?this.subS(m):this.subM(m)},a.prototype.subS=function(m){for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)-m);return this},a.prototype.subM=function(m){if(m=d.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)-m.get(f,x));return this},a.sub=function(m,f){return new d(m).sub(f)},a.prototype.subtract=a.prototype.sub,a.prototype.subtractS=a.prototype.subS,a.prototype.subtractM=a.prototype.subM,a.subtract=a.sub,a.prototype.mul=function(m){return typeof m=="number"?this.mulS(m):this.mulM(m)},a.prototype.mulS=function(m){for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)*m);return this},a.prototype.mulM=function(m){if(m=d.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)*m.get(f,x));return this},a.mul=function(m,f){return new d(m).mul(f)},a.prototype.multiply=a.prototype.mul,a.prototype.multiplyS=a.prototype.mulS,a.prototype.multiplyM=a.prototype.mulM,a.multiply=a.mul,a.prototype.div=function(m){return typeof m=="number"?this.divS(m):this.divM(m)},a.prototype.divS=function(m){for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)/m);return this},a.prototype.divM=function(m){if(m=d.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)/m.get(f,x));return this},a.div=function(m,f){return new d(m).div(f)},a.prototype.divide=a.prototype.div,a.prototype.divideS=a.prototype.divS,a.prototype.divideM=a.prototype.divM,a.divide=a.div,a.prototype.mod=function(m){return typeof m=="number"?this.modS(m):this.modM(m)},a.prototype.modS=function(m){for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)%m);return this},a.prototype.modM=function(m){if(m=d.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)%m.get(f,x));return this},a.mod=function(m,f){return new d(m).mod(f)},a.prototype.modulus=a.prototype.mod,a.prototype.modulusS=a.prototype.modS,a.prototype.modulusM=a.prototype.modM,a.modulus=a.mod,a.prototype.and=function(m){return typeof m=="number"?this.andS(m):this.andM(m)},a.prototype.andS=function(m){for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)&m);return this},a.prototype.andM=function(m){if(m=d.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)&m.get(f,x));return this},a.and=function(m,f){return new d(m).and(f)},a.prototype.or=function(m){return typeof m=="number"?this.orS(m):this.orM(m)},a.prototype.orS=function(m){for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)|m);return this},a.prototype.orM=function(m){if(m=d.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)|m.get(f,x));return this},a.or=function(m,f){return new d(m).or(f)},a.prototype.xor=function(m){return typeof m=="number"?this.xorS(m):this.xorM(m)},a.prototype.xorS=function(m){for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)^m);return this},a.prototype.xorM=function(m){if(m=d.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)^m.get(f,x));return this},a.xor=function(m,f){return new d(m).xor(f)},a.prototype.leftShift=function(m){return typeof m=="number"?this.leftShiftS(m):this.leftShiftM(m)},a.prototype.leftShiftS=function(m){for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)<<m);return this},a.prototype.leftShiftM=function(m){if(m=d.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)<<m.get(f,x));return this},a.leftShift=function(m,f){return new d(m).leftShift(f)},a.prototype.signPropagatingRightShift=function(m){return typeof m=="number"?this.signPropagatingRightShiftS(m):this.signPropagatingRightShiftM(m)},a.prototype.signPropagatingRightShiftS=function(m){for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)>>m);return this},a.prototype.signPropagatingRightShiftM=function(m){if(m=d.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)>>m.get(f,x));return this},a.signPropagatingRightShift=function(m,f){return new d(m).signPropagatingRightShift(f)},a.prototype.rightShift=function(m){return typeof m=="number"?this.rightShiftS(m):this.rightShiftM(m)},a.prototype.rightShiftS=function(m){for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)>>>m);return this},a.prototype.rightShiftM=function(m){if(m=d.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,this.get(f,x)>>>m.get(f,x));return this},a.rightShift=function(m,f){return new d(m).rightShift(f)},a.prototype.zeroFillRightShift=a.prototype.rightShift,a.prototype.zeroFillRightShiftS=a.prototype.rightShiftS,a.prototype.zeroFillRightShiftM=a.prototype.rightShiftM,a.zeroFillRightShift=a.rightShift,a.prototype.not=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,~this.get(m,f));return this},a.not=function(m){return new d(m).not()},a.prototype.abs=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.abs(this.get(m,f)));return this},a.abs=function(m){return new d(m).abs()},a.prototype.acos=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.acos(this.get(m,f)));return this},a.acos=function(m){return new d(m).acos()},a.prototype.acosh=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.acosh(this.get(m,f)));return this},a.acosh=function(m){return new d(m).acosh()},a.prototype.asin=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.asin(this.get(m,f)));return this},a.asin=function(m){return new d(m).asin()},a.prototype.asinh=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.asinh(this.get(m,f)));return this},a.asinh=function(m){return new d(m).asinh()},a.prototype.atan=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.atan(this.get(m,f)));return this},a.atan=function(m){return new d(m).atan()},a.prototype.atanh=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.atanh(this.get(m,f)));return this},a.atanh=function(m){return new d(m).atanh()},a.prototype.cbrt=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.cbrt(this.get(m,f)));return this},a.cbrt=function(m){return new d(m).cbrt()},a.prototype.ceil=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.ceil(this.get(m,f)));return this},a.ceil=function(m){return new d(m).ceil()},a.prototype.clz32=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.clz32(this.get(m,f)));return this},a.clz32=function(m){return new d(m).clz32()},a.prototype.cos=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.cos(this.get(m,f)));return this},a.cos=function(m){return new d(m).cos()},a.prototype.cosh=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.cosh(this.get(m,f)));return this},a.cosh=function(m){return new d(m).cosh()},a.prototype.exp=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.exp(this.get(m,f)));return this},a.exp=function(m){return new d(m).exp()},a.prototype.expm1=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.expm1(this.get(m,f)));return this},a.expm1=function(m){return new d(m).expm1()},a.prototype.floor=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.floor(this.get(m,f)));return this},a.floor=function(m){return new d(m).floor()},a.prototype.fround=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.fround(this.get(m,f)));return this},a.fround=function(m){return new d(m).fround()},a.prototype.log=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.log(this.get(m,f)));return this},a.log=function(m){return new d(m).log()},a.prototype.log1p=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.log1p(this.get(m,f)));return this},a.log1p=function(m){return new d(m).log1p()},a.prototype.log10=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.log10(this.get(m,f)));return this},a.log10=function(m){return new d(m).log10()},a.prototype.log2=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.log2(this.get(m,f)));return this},a.log2=function(m){return new d(m).log2()},a.prototype.round=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.round(this.get(m,f)));return this},a.round=function(m){return new d(m).round()},a.prototype.sign=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.sign(this.get(m,f)));return this},a.sign=function(m){return new d(m).sign()},a.prototype.sin=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.sin(this.get(m,f)));return this},a.sin=function(m){return new d(m).sin()},a.prototype.sinh=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.sinh(this.get(m,f)));return this},a.sinh=function(m){return new d(m).sinh()},a.prototype.sqrt=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.sqrt(this.get(m,f)));return this},a.sqrt=function(m){return new d(m).sqrt()},a.prototype.tan=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.tan(this.get(m,f)));return this},a.tan=function(m){return new d(m).tan()},a.prototype.tanh=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.tanh(this.get(m,f)));return this},a.tanh=function(m){return new d(m).tanh()},a.prototype.trunc=function(){for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.set(m,f,Math.trunc(this.get(m,f)));return this},a.trunc=function(m){return new d(m).trunc()},a.pow=function(m,f){return new d(m).pow(f)},a.prototype.pow=function(m){return typeof m=="number"?this.powS(m):this.powM(m)},a.prototype.powS=function(m){for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,Math.pow(this.get(f,x),m));return this},a.prototype.powM=function(m){if(m=d.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(let f=0;f<this.rows;f++)for(let x=0;x<this.columns;x++)this.set(f,x,Math.pow(this.get(f,x),m.get(f,x)));return this}}function checkRowIndex(a,d,s){let m=s?a.rows:a.rows-1;if(d<0||d>m)throw new RangeError("Row index out of range")}function checkColumnIndex(a,d,s){let m=s?a.columns:a.columns-1;if(d<0||d>m)throw new RangeError("Column index out of range")}function checkRowVector(a,d){if(d.to1DArray&&(d=d.to1DArray()),d.length!==a.columns)throw new RangeError("vector size must be the same as the number of columns");return d}function checkColumnVector(a,d){if(d.to1DArray&&(d=d.to1DArray()),d.length!==a.rows)throw new RangeError("vector size must be the same as the number of rows");return d}function checkRowIndices(a,d){if(!isAnyArray.isAnyArray(d))throw new TypeError("row indices must be an array");for(let s=0;s<d.length;s++)if(d[s]<0||d[s]>=a.rows)throw new RangeError("row indices are out of range")}function checkColumnIndices(a,d){if(!isAnyArray.isAnyArray(d))throw new TypeError("column indices must be an array");for(let s=0;s<d.length;s++)if(d[s]<0||d[s]>=a.columns)throw new RangeError("column indices are out of range")}function checkRange(a,d,s,m,f){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(checkNumber("startRow",d),checkNumber("endRow",s),checkNumber("startColumn",m),checkNumber("endColumn",f),d>s||m>f||d<0||d>=a.rows||s<0||s>=a.rows||m<0||m>=a.columns||f<0||f>=a.columns)throw new RangeError("Submatrix indices are out of range")}function newArray$2(a,d=0){let s=[];for(let m=0;m<a;m++)s.push(d);return s}function checkNumber(a,d){if(typeof d!="number")throw new TypeError(`${a} must be a number`)}function checkNonEmpty(a){if(a.isEmpty())throw new Error("Empty matrix has no elements to index")}function sumByRow(a){let d=newArray$2(a.rows);for(let s=0;s<a.rows;++s)for(let m=0;m<a.columns;++m)d[s]+=a.get(s,m);return d}function sumByColumn(a){let d=newArray$2(a.columns);for(let s=0;s<a.rows;++s)for(let m=0;m<a.columns;++m)d[m]+=a.get(s,m);return d}function sumAll(a){let d=0;for(let s=0;s<a.rows;s++)for(let m=0;m<a.columns;m++)d+=a.get(s,m);return d}function productByRow(a){let d=newArray$2(a.rows,1);for(let s=0;s<a.rows;++s)for(let m=0;m<a.columns;++m)d[s]*=a.get(s,m);return d}function productByColumn(a){let d=newArray$2(a.columns,1);for(let s=0;s<a.rows;++s)for(let m=0;m<a.columns;++m)d[m]*=a.get(s,m);return d}function productAll(a){let d=1;for(let s=0;s<a.rows;s++)for(let m=0;m<a.columns;m++)d*=a.get(s,m);return d}function varianceByRow(a,d,s){const m=a.rows,f=a.columns,x=[];for(let g=0;g<m;g++){let w=0,C=0,A=0;for(let _=0;_<f;_++)A=a.get(g,_)-s[g],w+=A,C+=A*A;d?x.push((C-w*w/f)/(f-1)):x.push((C-w*w/f)/f)}return x}function varianceByColumn(a,d,s){const m=a.rows,f=a.columns,x=[];for(let g=0;g<f;g++){let w=0,C=0,A=0;for(let _=0;_<m;_++)A=a.get(_,g)-s[g],w+=A,C+=A*A;d?x.push((C-w*w/m)/(m-1)):x.push((C-w*w/m)/m)}return x}function varianceAll(a,d,s){const m=a.rows,f=a.columns,x=m*f;let g=0,w=0,C=0;for(let A=0;A<m;A++)for(let _=0;_<f;_++)C=a.get(A,_)-s,g+=C,w+=C*C;return d?(w-g*g/x)/(x-1):(w-g*g/x)/x}function centerByRow(a,d){for(let s=0;s<a.rows;s++)for(let m=0;m<a.columns;m++)a.set(s,m,a.get(s,m)-d[s])}function centerByColumn(a,d){for(let s=0;s<a.rows;s++)for(let m=0;m<a.columns;m++)a.set(s,m,a.get(s,m)-d[m])}function centerAll(a,d){for(let s=0;s<a.rows;s++)for(let m=0;m<a.columns;m++)a.set(s,m,a.get(s,m)-d)}function getScaleByRow(a){const d=[];for(let s=0;s<a.rows;s++){let m=0;for(let f=0;f<a.columns;f++)m+=Math.pow(a.get(s,f),2)/(a.columns-1);d.push(Math.sqrt(m))}return d}function scaleByRow(a,d){for(let s=0;s<a.rows;s++)for(let m=0;m<a.columns;m++)a.set(s,m,a.get(s,m)/d[s])}function getScaleByColumn(a){const d=[];for(let s=0;s<a.columns;s++){let m=0;for(let f=0;f<a.rows;f++)m+=Math.pow(a.get(f,s),2)/(a.rows-1);d.push(Math.sqrt(m))}return d}function scaleByColumn(a,d){for(let s=0;s<a.rows;s++)for(let m=0;m<a.columns;m++)a.set(s,m,a.get(s,m)/d[m])}function getScaleAll(a){const d=a.size-1;let s=0;for(let m=0;m<a.columns;m++)for(let f=0;f<a.rows;f++)s+=Math.pow(a.get(f,m),2)/d;return Math.sqrt(s)}function scaleAll(a,d){for(let s=0;s<a.rows;s++)for(let m=0;m<a.columns;m++)a.set(s,m,a.get(s,m)/d)}class AbstractMatrix{static from1DArray(d,s,m){if(d*s!==m.length)throw new RangeError("data length does not match given dimensions");let x=new Matrix$3(d,s);for(let g=0;g<d;g++)for(let w=0;w<s;w++)x.set(g,w,m[g*s+w]);return x}static rowVector(d){let s=new Matrix$3(1,d.length);for(let m=0;m<d.length;m++)s.set(0,m,d[m]);return s}static columnVector(d){let s=new Matrix$3(d.length,1);for(let m=0;m<d.length;m++)s.set(m,0,d[m]);return s}static zeros(d,s){return new Matrix$3(d,s)}static ones(d,s){return new Matrix$3(d,s).fill(1)}static rand(d,s,m={}){if(typeof m!="object")throw new TypeError("options must be an object");const{random:f=Math.random}=m;let x=new Matrix$3(d,s);for(let g=0;g<d;g++)for(let w=0;w<s;w++)x.set(g,w,f());return x}static randInt(d,s,m={}){if(typeof m!="object")throw new TypeError("options must be an object");const{min:f=0,max:x=1e3,random:g=Math.random}=m;if(!Number.isInteger(f))throw new TypeError("min must be an integer");if(!Number.isInteger(x))throw new TypeError("max must be an integer");if(f>=x)throw new RangeError("min must be smaller than max");let w=x-f,C=new Matrix$3(d,s);for(let A=0;A<d;A++)for(let _=0;_<s;_++){let M=f+Math.round(g()*w);C.set(A,_,M)}return C}static eye(d,s,m){s===void 0&&(s=d),m===void 0&&(m=1);let f=Math.min(d,s),x=this.zeros(d,s);for(let g=0;g<f;g++)x.set(g,g,m);return x}static diag(d,s,m){let f=d.length;s===void 0&&(s=f),m===void 0&&(m=s);let x=Math.min(f,s,m),g=this.zeros(s,m);for(let w=0;w<x;w++)g.set(w,w,d[w]);return g}static min(d,s){d=this.checkMatrix(d),s=this.checkMatrix(s);let m=d.rows,f=d.columns,x=new Matrix$3(m,f);for(let g=0;g<m;g++)for(let w=0;w<f;w++)x.set(g,w,Math.min(d.get(g,w),s.get(g,w)));return x}static max(d,s){d=this.checkMatrix(d),s=this.checkMatrix(s);let m=d.rows,f=d.columns,x=new this(m,f);for(let g=0;g<m;g++)for(let w=0;w<f;w++)x.set(g,w,Math.max(d.get(g,w),s.get(g,w)));return x}static checkMatrix(d){return AbstractMatrix.isMatrix(d)?d:new Matrix$3(d)}static isMatrix(d){return d!=null&&d.klass==="Matrix"}get size(){return this.rows*this.columns}apply(d){if(typeof d!="function")throw new TypeError("callback must be a function");for(let s=0;s<this.rows;s++)for(let m=0;m<this.columns;m++)d.call(this,s,m);return this}to1DArray(){let d=[];for(let s=0;s<this.rows;s++)for(let m=0;m<this.columns;m++)d.push(this.get(s,m));return d}to2DArray(){let d=[];for(let s=0;s<this.rows;s++){d.push([]);for(let m=0;m<this.columns;m++)d[s].push(this.get(s,m))}return d}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let d=0;d<this.rows;d++)for(let s=0;s<=d;s++)if(this.get(d,s)!==this.get(s,d))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let d=0;d<this.rows;d++)if(this.get(d,d)!==0)return!1;return!0}isEchelonForm(){let d=0,s=0,m=-1,f=!0,x=!1;for(;d<this.rows&&f;){for(s=0,x=!1;s<this.columns&&x===!1;)this.get(d,s)===0?s++:this.get(d,s)===1&&s>m?(x=!0,m=s):(f=!1,x=!0);d++}return f}isReducedEchelonForm(){let d=0,s=0,m=-1,f=!0,x=!1;for(;d<this.rows&&f;){for(s=0,x=!1;s<this.columns&&x===!1;)this.get(d,s)===0?s++:this.get(d,s)===1&&s>m?(x=!0,m=s):(f=!1,x=!0);for(let g=s+1;g<this.rows;g++)this.get(d,g)!==0&&(f=!1);d++}return f}echelonForm(){let d=this.clone(),s=0,m=0;for(;s<d.rows&&m<d.columns;){let f=s;for(let x=s;x<d.rows;x++)d.get(x,m)>d.get(f,m)&&(f=x);if(d.get(f,m)===0)m++;else{d.swapRows(s,f);let x=d.get(s,m);for(let g=m;g<d.columns;g++)d.set(s,g,d.get(s,g)/x);for(let g=s+1;g<d.rows;g++){let w=d.get(g,m)/d.get(s,m);d.set(g,m,0);for(let C=m+1;C<d.columns;C++)d.set(g,C,d.get(g,C)-d.get(s,C)*w)}s++,m++}}return d}reducedEchelonForm(){let d=this.echelonForm(),s=d.columns,m=d.rows,f=m-1;for(;f>=0;)if(d.maxRow(f)===0)f--;else{let x=0,g=!1;for(;x<m&&g===!1;)d.get(f,x)===1?g=!0:x++;for(let w=0;w<f;w++){let C=d.get(w,x);for(let A=x;A<s;A++){let _=d.get(w,A)-C*d.get(f,A);d.set(w,A,_)}}f--}return d}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(d={}){if(typeof d!="object")throw new TypeError("options must be an object");const{rows:s=1,columns:m=1}=d;if(!Number.isInteger(s)||s<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(m)||m<=0)throw new TypeError("columns must be a positive integer");let f=new Matrix$3(this.rows*s,this.columns*m);for(let x=0;x<s;x++)for(let g=0;g<m;g++)f.setSubMatrix(this,this.rows*x,this.columns*g);return f}fill(d){for(let s=0;s<this.rows;s++)for(let m=0;m<this.columns;m++)this.set(s,m,d);return this}neg(){return this.mulS(-1)}getRow(d){checkRowIndex(this,d);let s=[];for(let m=0;m<this.columns;m++)s.push(this.get(d,m));return s}getRowVector(d){return Matrix$3.rowVector(this.getRow(d))}setRow(d,s){checkRowIndex(this,d),s=checkRowVector(this,s);for(let m=0;m<this.columns;m++)this.set(d,m,s[m]);return this}swapRows(d,s){checkRowIndex(this,d),checkRowIndex(this,s);for(let m=0;m<this.columns;m++){let f=this.get(d,m);this.set(d,m,this.get(s,m)),this.set(s,m,f)}return this}getColumn(d){checkColumnIndex(this,d);let s=[];for(let m=0;m<this.rows;m++)s.push(this.get(m,d));return s}getColumnVector(d){return Matrix$3.columnVector(this.getColumn(d))}setColumn(d,s){checkColumnIndex(this,d),s=checkColumnVector(this,s);for(let m=0;m<this.rows;m++)this.set(m,d,s[m]);return this}swapColumns(d,s){checkColumnIndex(this,d),checkColumnIndex(this,s);for(let m=0;m<this.rows;m++){let f=this.get(m,d);this.set(m,d,this.get(m,s)),this.set(m,s,f)}return this}addRowVector(d){d=checkRowVector(this,d);for(let s=0;s<this.rows;s++)for(let m=0;m<this.columns;m++)this.set(s,m,this.get(s,m)+d[m]);return this}subRowVector(d){d=checkRowVector(this,d);for(let s=0;s<this.rows;s++)for(let m=0;m<this.columns;m++)this.set(s,m,this.get(s,m)-d[m]);return this}mulRowVector(d){d=checkRowVector(this,d);for(let s=0;s<this.rows;s++)for(let m=0;m<this.columns;m++)this.set(s,m,this.get(s,m)*d[m]);return this}divRowVector(d){d=checkRowVector(this,d);for(let s=0;s<this.rows;s++)for(let m=0;m<this.columns;m++)this.set(s,m,this.get(s,m)/d[m]);return this}addColumnVector(d){d=checkColumnVector(this,d);for(let s=0;s<this.rows;s++)for(let m=0;m<this.columns;m++)this.set(s,m,this.get(s,m)+d[s]);return this}subColumnVector(d){d=checkColumnVector(this,d);for(let s=0;s<this.rows;s++)for(let m=0;m<this.columns;m++)this.set(s,m,this.get(s,m)-d[s]);return this}mulColumnVector(d){d=checkColumnVector(this,d);for(let s=0;s<this.rows;s++)for(let m=0;m<this.columns;m++)this.set(s,m,this.get(s,m)*d[s]);return this}divColumnVector(d){d=checkColumnVector(this,d);for(let s=0;s<this.rows;s++)for(let m=0;m<this.columns;m++)this.set(s,m,this.get(s,m)/d[s]);return this}mulRow(d,s){checkRowIndex(this,d);for(let m=0;m<this.columns;m++)this.set(d,m,this.get(d,m)*s);return this}mulColumn(d,s){checkColumnIndex(this,d);for(let m=0;m<this.rows;m++)this.set(m,d,this.get(m,d)*s);return this}max(d){if(this.isEmpty())return NaN;switch(d){case"row":{const s=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.get(m,f)>s[m]&&(s[m]=this.get(m,f));return s}case"column":{const s=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.get(m,f)>s[f]&&(s[f]=this.get(m,f));return s}case void 0:{let s=this.get(0,0);for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.get(m,f)>s&&(s=this.get(m,f));return s}default:throw new Error(`invalid option: ${d}`)}}maxIndex(){checkNonEmpty(this);let d=this.get(0,0),s=[0,0];for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.get(m,f)>d&&(d=this.get(m,f),s[0]=m,s[1]=f);return s}min(d){if(this.isEmpty())return NaN;switch(d){case"row":{const s=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.get(m,f)<s[m]&&(s[m]=this.get(m,f));return s}case"column":{const s=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.get(m,f)<s[f]&&(s[f]=this.get(m,f));return s}case void 0:{let s=this.get(0,0);for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.get(m,f)<s&&(s=this.get(m,f));return s}default:throw new Error(`invalid option: ${d}`)}}minIndex(){checkNonEmpty(this);let d=this.get(0,0),s=[0,0];for(let m=0;m<this.rows;m++)for(let f=0;f<this.columns;f++)this.get(m,f)<d&&(d=this.get(m,f),s[0]=m,s[1]=f);return s}maxRow(d){if(checkRowIndex(this,d),this.isEmpty())return NaN;let s=this.get(d,0);for(let m=1;m<this.columns;m++)this.get(d,m)>s&&(s=this.get(d,m));return s}maxRowIndex(d){checkRowIndex(this,d),checkNonEmpty(this);let s=this.get(d,0),m=[d,0];for(let f=1;f<this.columns;f++)this.get(d,f)>s&&(s=this.get(d,f),m[1]=f);return m}minRow(d){if(checkRowIndex(this,d),this.isEmpty())return NaN;let s=this.get(d,0);for(let m=1;m<this.columns;m++)this.get(d,m)<s&&(s=this.get(d,m));return s}minRowIndex(d){checkRowIndex(this,d),checkNonEmpty(this);let s=this.get(d,0),m=[d,0];for(let f=1;f<this.columns;f++)this.get(d,f)<s&&(s=this.get(d,f),m[1]=f);return m}maxColumn(d){if(checkColumnIndex(this,d),this.isEmpty())return NaN;let s=this.get(0,d);for(let m=1;m<this.rows;m++)this.get(m,d)>s&&(s=this.get(m,d));return s}maxColumnIndex(d){checkColumnIndex(this,d),checkNonEmpty(this);let s=this.get(0,d),m=[0,d];for(let f=1;f<this.rows;f++)this.get(f,d)>s&&(s=this.get(f,d),m[0]=f);return m}minColumn(d){if(checkColumnIndex(this,d),this.isEmpty())return NaN;let s=this.get(0,d);for(let m=1;m<this.rows;m++)this.get(m,d)<s&&(s=this.get(m,d));return s}minColumnIndex(d){checkColumnIndex(this,d),checkNonEmpty(this);let s=this.get(0,d),m=[0,d];for(let f=1;f<this.rows;f++)this.get(f,d)<s&&(s=this.get(f,d),m[0]=f);return m}diag(){let d=Math.min(this.rows,this.columns),s=[];for(let m=0;m<d;m++)s.push(this.get(m,m));return s}norm(d="frobenius"){switch(d){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${d}`)}}cumulativeSum(){let d=0;for(let s=0;s<this.rows;s++)for(let m=0;m<this.columns;m++)d+=this.get(s,m),this.set(s,m,d);return this}dot(d){AbstractMatrix.isMatrix(d)&&(d=d.to1DArray());let s=this.to1DArray();if(s.length!==d.length)throw new RangeError("vectors do not have the same size");let m=0;for(let f=0;f<s.length;f++)m+=s[f]*d[f];return m}mmul(d){d=Matrix$3.checkMatrix(d);let s=this.rows,m=this.columns,f=d.columns,x=new Matrix$3(s,f),g=new Float64Array(m);for(let w=0;w<f;w++){for(let C=0;C<m;C++)g[C]=d.get(C,w);for(let C=0;C<s;C++){let A=0;for(let _=0;_<m;_++)A+=this.get(C,_)*g[_];x.set(C,w,A)}}return x}strassen2x2(d){d=Matrix$3.checkMatrix(d);let s=new Matrix$3(2,2);const m=this.get(0,0),f=d.get(0,0),x=this.get(0,1),g=d.get(0,1),w=this.get(1,0),C=d.get(1,0),A=this.get(1,1),_=d.get(1,1),M=(m+A)*(f+_),P=(w+A)*f,D=m*(g-_),E=A*(C-f),I=(m+x)*_,B=(w-m)*(f+g),F=(x-A)*(C+_),R=M+E-I+F,L=D+I,z=P+E,G=M-P+D+B;return s.set(0,0,R),s.set(0,1,L),s.set(1,0,z),s.set(1,1,G),s}strassen3x3(d){d=Matrix$3.checkMatrix(d);let s=new Matrix$3(3,3);const m=this.get(0,0),f=this.get(0,1),x=this.get(0,2),g=this.get(1,0),w=this.get(1,1),C=this.get(1,2),A=this.get(2,0),_=this.get(2,1),M=this.get(2,2),P=d.get(0,0),D=d.get(0,1),E=d.get(0,2),I=d.get(1,0),B=d.get(1,1),F=d.get(1,2),R=d.get(2,0),L=d.get(2,1),z=d.get(2,2),G=(m+f+x-g-w-_-M)*B,W=(m-g)*(-D+B),K=w*(-P+D+I-B-F-R+z),q=(-m+g+w)*(P-D+B),Z=(g+w)*(-P+D),J=m*P,Q=(-m+A+_)*(P-E+F),ie=(-m+A)*(E-F),se=(A+_)*(-P+E),oe=(m+f+x-w-C-A-_)*F,ue=_*(-P+E+I-B-F-R+L),fe=(-x+_+M)*(B+R-L),xe=(x-M)*(B-L),ce=x*R,me=(_+M)*(-R+L),pe=(-x+w+C)*(F+R-z),Se=(x-C)*(F-z),Ae=(w+C)*(-R+z),_e=f*I,Me=C*L,ve=g*E,Ee=A*D,Le=M*z,Ie=J+ce+_e,Oe=G+q+Z+J+fe+ce+me,le=J+Q+se+oe+ce+pe+Ae,te=W+K+q+J+ce+pe+Se,re=W+q+Z+J+Me,ne=ce+pe+Se+Ae+ve,ae=J+Q+ie+ue+fe+xe+ce,he=fe+xe+ce+me+Ee,de=J+Q+ie+se+Le;return s.set(0,0,Ie),s.set(0,1,Oe),s.set(0,2,le),s.set(1,0,te),s.set(1,1,re),s.set(1,2,ne),s.set(2,0,ae),s.set(2,1,he),s.set(2,2,de),s}mmulStrassen(d){d=Matrix$3.checkMatrix(d);let s=this.clone(),m=s.rows,f=s.columns,x=d.rows,g=d.columns;f!==x&&console.warn(`Multiplying ${m} x ${f} and ${x} x ${g} matrix: dimensions do not match.`);function w(M,P,D){let E=M.rows,I=M.columns;if(E===P&&I===D)return M;{let B=AbstractMatrix.zeros(P,D);return B=B.setSubMatrix(M,0,0),B}}let C=Math.max(m,x),A=Math.max(f,g);s=w(s,C,A),d=w(d,C,A);function _(M,P,D,E){if(D<=512||E<=512)return M.mmul(P);D%2===1&&E%2===1?(M=w(M,D+1,E+1),P=w(P,D+1,E+1)):D%2===1?(M=w(M,D+1,E),P=w(P,D+1,E)):E%2===1&&(M=w(M,D,E+1),P=w(P,D,E+1));let I=parseInt(M.rows/2,10),B=parseInt(M.columns/2,10),F=M.subMatrix(0,I-1,0,B-1),R=P.subMatrix(0,I-1,0,B-1),L=M.subMatrix(0,I-1,B,M.columns-1),z=P.subMatrix(0,I-1,B,P.columns-1),G=M.subMatrix(I,M.rows-1,0,B-1),W=P.subMatrix(I,P.rows-1,0,B-1),K=M.subMatrix(I,M.rows-1,B,M.columns-1),q=P.subMatrix(I,P.rows-1,B,P.columns-1),Z=_(AbstractMatrix.add(F,K),AbstractMatrix.add(R,q),I,B),J=_(AbstractMatrix.add(G,K),R,I,B),Q=_(F,AbstractMatrix.sub(z,q),I,B),ie=_(K,AbstractMatrix.sub(W,R),I,B),se=_(AbstractMatrix.add(F,L),q,I,B),oe=_(AbstractMatrix.sub(G,F),AbstractMatrix.add(R,z),I,B),ue=_(AbstractMatrix.sub(L,K),AbstractMatrix.add(W,q),I,B),fe=AbstractMatrix.add(Z,ie);fe.sub(se),fe.add(ue);let xe=AbstractMatrix.add(Q,se),ce=AbstractMatrix.add(J,ie),me=AbstractMatrix.sub(Z,J);me.add(Q),me.add(oe);let pe=AbstractMatrix.zeros(2*fe.rows,2*fe.columns);return pe=pe.setSubMatrix(fe,0,0),pe=pe.setSubMatrix(xe,fe.rows,0),pe=pe.setSubMatrix(ce,0,fe.columns),pe=pe.setSubMatrix(me,fe.rows,fe.columns),pe.subMatrix(0,D-1,0,E-1)}return _(s,d,C,A)}scaleRows(d={}){if(typeof d!="object")throw new TypeError("options must be an object");const{min:s=0,max:m=1}=d;if(!Number.isFinite(s))throw new TypeError("min must be a number");if(!Number.isFinite(m))throw new TypeError("max must be a number");if(s>=m)throw new RangeError("min must be smaller than max");let f=new Matrix$3(this.rows,this.columns);for(let x=0;x<this.rows;x++){const g=this.getRow(x);g.length>0&&rescale(g,{min:s,max:m,output:g}),f.setRow(x,g)}return f}scaleColumns(d={}){if(typeof d!="object")throw new TypeError("options must be an object");const{min:s=0,max:m=1}=d;if(!Number.isFinite(s))throw new TypeError("min must be a number");if(!Number.isFinite(m))throw new TypeError("max must be a number");if(s>=m)throw new RangeError("min must be smaller than max");let f=new Matrix$3(this.rows,this.columns);for(let x=0;x<this.columns;x++){const g=this.getColumn(x);g.length&&rescale(g,{min:s,max:m,output:g}),f.setColumn(x,g)}return f}flipRows(){const d=Math.ceil(this.columns/2);for(let s=0;s<this.rows;s++)for(let m=0;m<d;m++){let f=this.get(s,m),x=this.get(s,this.columns-1-m);this.set(s,m,x),this.set(s,this.columns-1-m,f)}return this}flipColumns(){const d=Math.ceil(this.rows/2);for(let s=0;s<this.columns;s++)for(let m=0;m<d;m++){let f=this.get(m,s),x=this.get(this.rows-1-m,s);this.set(m,s,x),this.set(this.rows-1-m,s,f)}return this}kroneckerProduct(d){d=Matrix$3.checkMatrix(d);let s=this.rows,m=this.columns,f=d.rows,x=d.columns,g=new Matrix$3(s*f,m*x);for(let w=0;w<s;w++)for(let C=0;C<m;C++)for(let A=0;A<f;A++)for(let _=0;_<x;_++)g.set(f*w+A,x*C+_,this.get(w,C)*d.get(A,_));return g}kroneckerSum(d){if(d=Matrix$3.checkMatrix(d),!this.isSquare()||!d.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let s=this.rows,m=d.rows,f=this.kroneckerProduct(Matrix$3.eye(m,m)),x=Matrix$3.eye(s,s).kroneckerProduct(d);return f.add(x)}transpose(){let d=new Matrix$3(this.columns,this.rows);for(let s=0;s<this.rows;s++)for(let m=0;m<this.columns;m++)d.set(m,s,this.get(s,m));return d}sortRows(d=compareNumbers){for(let s=0;s<this.rows;s++)this.setRow(s,this.getRow(s).sort(d));return this}sortColumns(d=compareNumbers){for(let s=0;s<this.columns;s++)this.setColumn(s,this.getColumn(s).sort(d));return this}subMatrix(d,s,m,f){checkRange(this,d,s,m,f);let x=new Matrix$3(s-d+1,f-m+1);for(let g=d;g<=s;g++)for(let w=m;w<=f;w++)x.set(g-d,w-m,this.get(g,w));return x}subMatrixRow(d,s,m){if(s===void 0&&(s=0),m===void 0&&(m=this.columns-1),s>m||s<0||s>=this.columns||m<0||m>=this.columns)throw new RangeError("Argument out of range");let f=new Matrix$3(d.length,m-s+1);for(let x=0;x<d.length;x++)for(let g=s;g<=m;g++){if(d[x]<0||d[x]>=this.rows)throw new RangeError(`Row index out of range: ${d[x]}`);f.set(x,g-s,this.get(d[x],g))}return f}subMatrixColumn(d,s,m){if(s===void 0&&(s=0),m===void 0&&(m=this.rows-1),s>m||s<0||s>=this.rows||m<0||m>=this.rows)throw new RangeError("Argument out of range");let f=new Matrix$3(m-s+1,d.length);for(let x=0;x<d.length;x++)for(let g=s;g<=m;g++){if(d[x]<0||d[x]>=this.columns)throw new RangeError(`Column index out of range: ${d[x]}`);f.set(g-s,x,this.get(g,d[x]))}return f}setSubMatrix(d,s,m){if(d=Matrix$3.checkMatrix(d),d.isEmpty())return this;let f=s+d.rows-1,x=m+d.columns-1;checkRange(this,s,f,m,x);for(let g=0;g<d.rows;g++)for(let w=0;w<d.columns;w++)this.set(s+g,m+w,d.get(g,w));return this}selection(d,s){checkRowIndices(this,d),checkColumnIndices(this,s);let m=new Matrix$3(d.length,s.length);for(let f=0;f<d.length;f++){let x=d[f];for(let g=0;g<s.length;g++){let w=s[g];m.set(f,g,this.get(x,w))}}return m}trace(){let d=Math.min(this.rows,this.columns),s=0;for(let m=0;m<d;m++)s+=this.get(m,m);return s}clone(){return this.constructor.copy(this,new Matrix$3(this.rows,this.columns))}static copy(d,s){for(const[m,f,x]of d.entries())s.set(m,f,x);return s}sum(d){switch(d){case"row":return sumByRow(this);case"column":return sumByColumn(this);case void 0:return sumAll(this);default:throw new Error(`invalid option: ${d}`)}}product(d){switch(d){case"row":return productByRow(this);case"column":return productByColumn(this);case void 0:return productAll(this);default:throw new Error(`invalid option: ${d}`)}}mean(d){const s=this.sum(d);switch(d){case"row":{for(let m=0;m<this.rows;m++)s[m]/=this.columns;return s}case"column":{for(let m=0;m<this.columns;m++)s[m]/=this.rows;return s}case void 0:return s/this.size;default:throw new Error(`invalid option: ${d}`)}}variance(d,s={}){if(typeof d=="object"&&(s=d,d=void 0),typeof s!="object")throw new TypeError("options must be an object");const{unbiased:m=!0,mean:f=this.mean(d)}=s;if(typeof m!="boolean")throw new TypeError("unbiased must be a boolean");switch(d){case"row":{if(!isAnyArray.isAnyArray(f))throw new TypeError("mean must be an array");return varianceByRow(this,m,f)}case"column":{if(!isAnyArray.isAnyArray(f))throw new TypeError("mean must be an array");return varianceByColumn(this,m,f)}case void 0:{if(typeof f!="number")throw new TypeError("mean must be a number");return varianceAll(this,m,f)}default:throw new Error(`invalid option: ${d}`)}}standardDeviation(d,s){typeof d=="object"&&(s=d,d=void 0);const m=this.variance(d,s);if(d===void 0)return Math.sqrt(m);for(let f=0;f<m.length;f++)m[f]=Math.sqrt(m[f]);return m}center(d,s={}){if(typeof d=="object"&&(s=d,d=void 0),typeof s!="object")throw new TypeError("options must be an object");const{center:m=this.mean(d)}=s;switch(d){case"row":{if(!isAnyArray.isAnyArray(m))throw new TypeError("center must be an array");return centerByRow(this,m),this}case"column":{if(!isAnyArray.isAnyArray(m))throw new TypeError("center must be an array");return centerByColumn(this,m),this}case void 0:{if(typeof m!="number")throw new TypeError("center must be a number");return centerAll(this,m),this}default:throw new Error(`invalid option: ${d}`)}}scale(d,s={}){if(typeof d=="object"&&(s=d,d=void 0),typeof s!="object")throw new TypeError("options must be an object");let m=s.scale;switch(d){case"row":{if(m===void 0)m=getScaleByRow(this);else if(!isAnyArray.isAnyArray(m))throw new TypeError("scale must be an array");return scaleByRow(this,m),this}case"column":{if(m===void 0)m=getScaleByColumn(this);else if(!isAnyArray.isAnyArray(m))throw new TypeError("scale must be an array");return scaleByColumn(this,m),this}case void 0:{if(m===void 0)m=getScaleAll(this);else if(typeof m!="number")throw new TypeError("scale must be a number");return scaleAll(this,m),this}default:throw new Error(`invalid option: ${d}`)}}toString(d){return inspectMatrixWithOptions(this,d)}[Symbol.iterator](){return this.entries()}*entries(){for(let d=0;d<this.rows;d++)for(let s=0;s<this.columns;s++)yield[d,s,this.get(d,s)]}*values(){for(let d=0;d<this.rows;d++)for(let s=0;s<this.columns;s++)yield this.get(d,s)}}AbstractMatrix.prototype.klass="Matrix";typeof Symbol<"u"&&(AbstractMatrix.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspectMatrix);function compareNumbers(a,d){return a-d}function isArrayOfNumbers(a){return a.every(d=>typeof d=="number")}AbstractMatrix.random=AbstractMatrix.rand;AbstractMatrix.randomInt=AbstractMatrix.randInt;AbstractMatrix.diagonal=AbstractMatrix.diag;AbstractMatrix.prototype.diagonal=AbstractMatrix.prototype.diag;AbstractMatrix.identity=AbstractMatrix.eye;AbstractMatrix.prototype.negate=AbstractMatrix.prototype.neg;AbstractMatrix.prototype.tensorProduct=AbstractMatrix.prototype.kroneckerProduct;var zt,mi,Bt;let Matrix$3=(Bt=class extends AbstractMatrix{constructor(s,m){super();hi(this,zt);ee(this,"data");if(Bt.isMatrix(s))di(this,zt,mi).call(this,s.rows,s.columns),Bt.copy(s,this);else if(Number.isInteger(s)&&s>=0)di(this,zt,mi).call(this,s,m);else if(isAnyArray.isAnyArray(s)){const f=s;if(s=f.length,m=s?f[0].length:0,typeof m!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let x=0;x<s;x++){if(f[x].length!==m)throw new RangeError("Inconsistent array dimensions");if(!isArrayOfNumbers(f[x]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(f[x]))}this.rows=s,this.columns=m}else throw new TypeError("First argument must be a positive number or an array")}set(s,m,f){return this.data[s][m]=f,this}get(s,m){return this.data[s][m]}removeRow(s){return checkRowIndex(this,s),this.data.splice(s,1),this.rows-=1,this}addRow(s,m){return m===void 0&&(m=s,s=this.rows),checkRowIndex(this,s,!0),m=Float64Array.from(checkRowVector(this,m)),this.data.splice(s,0,m),this.rows+=1,this}removeColumn(s){checkColumnIndex(this,s);for(let m=0;m<this.rows;m++){const f=new Float64Array(this.columns-1);for(let x=0;x<s;x++)f[x]=this.data[m][x];for(let x=s+1;x<this.columns;x++)f[x-1]=this.data[m][x];this.data[m]=f}return this.columns-=1,this}addColumn(s,m){typeof m>"u"&&(m=s,s=this.columns),checkColumnIndex(this,s,!0),m=checkColumnVector(this,m);for(let f=0;f<this.rows;f++){const x=new Float64Array(this.columns+1);let g=0;for(;g<s;g++)x[g]=this.data[f][g];for(x[g++]=m[f];g<this.columns+1;g++)x[g]=this.data[f][g-1];this.data[f]=x}return this.columns+=1,this}},zt=new WeakSet,mi=function(s,m){if(this.data=[],Number.isInteger(m)&&m>=0)for(let f=0;f<s;f++)this.data.push(new Float64Array(m));else throw new TypeError("nColumns must be a positive integer");this.rows=s,this.columns=m},Bt);installMathOperations(AbstractMatrix,Matrix$3);var xt;const Wt=class Wt extends AbstractMatrix{constructor(s){super();hi(this,xt,void 0);if(Matrix$3.isMatrix(s)){if(!s.isSymmetric())throw new TypeError("not symmetric data");Gt(this,xt,Matrix$3.copy(s,new Matrix$3(s.rows,s.rows)))}else if(Number.isInteger(s)&&s>=0)Gt(this,xt,new Matrix$3(s,s));else if(Gt(this,xt,new Matrix$3(s)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return wt(this,xt).size}get rows(){return wt(this,xt).rows}get columns(){return wt(this,xt).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(s){return Matrix$3.isMatrix(s)&&s.klassType==="SymmetricMatrix"}static zeros(s){return new this(s)}static ones(s){return new this(s).fill(1)}clone(){const s=new Wt(this.diagonalSize);for(const[m,f,x]of this.upperRightEntries())s.set(m,f,x);return s}toMatrix(){return new Matrix$3(this)}get(s,m){return wt(this,xt).get(s,m)}set(s,m,f){return wt(this,xt).set(s,m,f),wt(this,xt).set(m,s,f),this}removeCross(s){return wt(this,xt).removeRow(s),wt(this,xt).removeColumn(s),this}addCross(s,m){m===void 0&&(m=s,s=this.diagonalSize);const f=m.slice();return f.splice(s,1),wt(this,xt).addRow(s,f),wt(this,xt).addColumn(s,m),this}applyMask(s){if(s.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const m=[];for(const[f,x]of s.entries())x||m.push(f);m.reverse();for(const f of m)this.removeCross(f);return this}toCompact(){const{diagonalSize:s}=this,m=new Array(s*(s+1)/2);for(let f=0,x=0,g=0;g<m.length;g++)m[g]=this.get(x,f),++f>=s&&(f=++x);return m}static fromCompact(s){const m=s.length,f=(Math.sqrt(8*m+1)-1)/2;if(!Number.isInteger(f))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(s)}`);const x=new Wt(f);for(let g=0,w=0,C=0;C<m;C++)x.set(g,w,s[C]),++g>=f&&(g=++w);return x}*upperRightEntries(){for(let s=0,m=0;s<this.diagonalSize;void 0){const f=this.get(s,m);yield[s,m,f],++m>=this.diagonalSize&&(m=++s)}}*upperRightValues(){for(let s=0,m=0;s<this.diagonalSize;void 0)yield this.get(s,m),++m>=this.diagonalSize&&(m=++s)}};xt=new WeakMap;let SymmetricMatrix=Wt;SymmetricMatrix.prototype.klassType="SymmetricMatrix";class DistanceMatrix extends SymmetricMatrix{static isDistanceMatrix(d){return SymmetricMatrix.isSymmetricMatrix(d)&&d.klassSubType==="DistanceMatrix"}constructor(d){if(super(d),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(d,s,m){return d===s&&(m=0),super.set(d,s,m)}addCross(d,s){return s===void 0&&(s=d,d=this.diagonalSize),s=s.slice(),s[d]=0,super.addCross(d,s)}toSymmetricMatrix(){return new SymmetricMatrix(this)}clone(){const d=new DistanceMatrix(this.diagonalSize);for(const[s,m,f]of this.upperRightEntries())s!==m&&d.set(s,m,f);return d}toCompact(){const{diagonalSize:d}=this,s=(d-1)*d/2,m=new Array(s);for(let f=1,x=0,g=0;g<m.length;g++)m[g]=this.get(x,f),++f>=d&&(f=++x+1);return m}static fromCompact(d){const s=d.length,m=(Math.sqrt(8*s+1)+1)/2;if(!Number.isInteger(m))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(d)}`);const f=new this(m);for(let x=1,g=0,w=0;w<s;w++)f.set(x,g,d[w]),++x>=m&&(x=++g+1);return f}}DistanceMatrix.prototype.klassSubType="DistanceMatrix";class BaseView extends AbstractMatrix{constructor(d,s,m){super(),this.matrix=d,this.rows=s,this.columns=m}}class MatrixColumnView extends BaseView{constructor(d,s){checkColumnIndex(d,s),super(d,d.rows,1),this.column=s}set(d,s,m){return this.matrix.set(d,this.column,m),this}get(d){return this.matrix.get(d,this.column)}}class MatrixColumnSelectionView extends BaseView{constructor(d,s){checkColumnIndices(d,s),super(d,d.rows,s.length),this.columnIndices=s}set(d,s,m){return this.matrix.set(d,this.columnIndices[s],m),this}get(d,s){return this.matrix.get(d,this.columnIndices[s])}}class MatrixFlipColumnView extends BaseView{constructor(d){super(d,d.rows,d.columns)}set(d,s,m){return this.matrix.set(d,this.columns-s-1,m),this}get(d,s){return this.matrix.get(d,this.columns-s-1)}}class MatrixFlipRowView extends BaseView{constructor(d){super(d,d.rows,d.columns)}set(d,s,m){return this.matrix.set(this.rows-d-1,s,m),this}get(d,s){return this.matrix.get(this.rows-d-1,s)}}class MatrixRowView extends BaseView{constructor(d,s){checkRowIndex(d,s),super(d,1,d.columns),this.row=s}set(d,s,m){return this.matrix.set(this.row,s,m),this}get(d,s){return this.matrix.get(this.row,s)}}class MatrixRowSelectionView extends BaseView{constructor(d,s){checkRowIndices(d,s),super(d,s.length,d.columns),this.rowIndices=s}set(d,s,m){return this.matrix.set(this.rowIndices[d],s,m),this}get(d,s){return this.matrix.get(this.rowIndices[d],s)}}class MatrixSelectionView extends BaseView{constructor(d,s,m){checkRowIndices(d,s),checkColumnIndices(d,m),super(d,s.length,m.length),this.rowIndices=s,this.columnIndices=m}set(d,s,m){return this.matrix.set(this.rowIndices[d],this.columnIndices[s],m),this}get(d,s){return this.matrix.get(this.rowIndices[d],this.columnIndices[s])}}class MatrixSubView extends BaseView{constructor(d,s,m,f,x){checkRange(d,s,m,f,x),super(d,m-s+1,x-f+1),this.startRow=s,this.startColumn=f}set(d,s,m){return this.matrix.set(this.startRow+d,this.startColumn+s,m),this}get(d,s){return this.matrix.get(this.startRow+d,this.startColumn+s)}}let MatrixTransposeView$1=class extends BaseView{constructor(d){super(d,d.columns,d.rows)}set(d,s,m){return this.matrix.set(s,d,m),this}get(d,s){return this.matrix.get(s,d)}};class WrapperMatrix1D extends AbstractMatrix{constructor(d,s={}){const{rows:m=1}=s;if(d.length%m!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=m,this.columns=d.length/m,this.data=d}set(d,s,m){let f=this._calculateIndex(d,s);return this.data[f]=m,this}get(d,s){let m=this._calculateIndex(d,s);return this.data[m]}_calculateIndex(d,s){return d*this.columns+s}}class WrapperMatrix2D extends AbstractMatrix{constructor(d){super(),this.data=d,this.rows=d.length,this.columns=d[0].length}set(d,s,m){return this.data[d][s]=m,this}get(d,s){return this.data[d][s]}}function wrap(a,d){if(isAnyArray.isAnyArray(a))return a[0]&&isAnyArray.isAnyArray(a[0])?new WrapperMatrix2D(a):new WrapperMatrix1D(a,d);throw new Error("the argument is not an array")}class LuDecomposition{constructor(d){d=WrapperMatrix2D.checkMatrix(d);let s=d.clone(),m=s.rows,f=s.columns,x=new Float64Array(m),g=1,w,C,A,_,M,P,D,E,I;for(w=0;w<m;w++)x[w]=w;for(E=new Float64Array(m),C=0;C<f;C++){for(w=0;w<m;w++)E[w]=s.get(w,C);for(w=0;w<m;w++){for(I=Math.min(w,C),M=0,A=0;A<I;A++)M+=s.get(w,A)*E[A];E[w]-=M,s.set(w,C,E[w])}for(_=C,w=C+1;w<m;w++)Math.abs(E[w])>Math.abs(E[_])&&(_=w);if(_!==C){for(A=0;A<f;A++)P=s.get(_,A),s.set(_,A,s.get(C,A)),s.set(C,A,P);D=x[_],x[_]=x[C],x[C]=D,g=-g}if(C<m&&s.get(C,C)!==0)for(w=C+1;w<m;w++)s.set(w,C,s.get(w,C)/s.get(C,C))}this.LU=s,this.pivotVector=x,this.pivotSign=g}isSingular(){let d=this.LU,s=d.columns;for(let m=0;m<s;m++)if(d.get(m,m)===0)return!0;return!1}solve(d){d=Matrix$3.checkMatrix(d);let s=this.LU;if(s.rows!==d.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let f=d.columns,x=d.subMatrixRow(this.pivotVector,0,f-1),g=s.columns,w,C,A;for(A=0;A<g;A++)for(w=A+1;w<g;w++)for(C=0;C<f;C++)x.set(w,C,x.get(w,C)-x.get(A,C)*s.get(w,A));for(A=g-1;A>=0;A--){for(C=0;C<f;C++)x.set(A,C,x.get(A,C)/s.get(A,A));for(w=0;w<A;w++)for(C=0;C<f;C++)x.set(w,C,x.get(w,C)-x.get(A,C)*s.get(w,A))}return x}get determinant(){let d=this.LU;if(!d.isSquare())throw new Error("Matrix must be square");let s=this.pivotSign,m=d.columns;for(let f=0;f<m;f++)s*=d.get(f,f);return s}get lowerTriangularMatrix(){let d=this.LU,s=d.rows,m=d.columns,f=new Matrix$3(s,m);for(let x=0;x<s;x++)for(let g=0;g<m;g++)x>g?f.set(x,g,d.get(x,g)):x===g?f.set(x,g,1):f.set(x,g,0);return f}get upperTriangularMatrix(){let d=this.LU,s=d.rows,m=d.columns,f=new Matrix$3(s,m);for(let x=0;x<s;x++)for(let g=0;g<m;g++)x<=g?f.set(x,g,d.get(x,g)):f.set(x,g,0);return f}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function hypotenuse$1(a,d){let s=0;return Math.abs(a)>Math.abs(d)?(s=d/a,Math.abs(a)*Math.sqrt(1+s*s)):d!==0?(s=a/d,Math.abs(d)*Math.sqrt(1+s*s)):0}class QrDecomposition{constructor(d){d=WrapperMatrix2D.checkMatrix(d);let s=d.clone(),m=d.rows,f=d.columns,x=new Float64Array(f),g,w,C,A;for(C=0;C<f;C++){let _=0;for(g=C;g<m;g++)_=hypotenuse$1(_,s.get(g,C));if(_!==0){for(s.get(C,C)<0&&(_=-_),g=C;g<m;g++)s.set(g,C,s.get(g,C)/_);for(s.set(C,C,s.get(C,C)+1),w=C+1;w<f;w++){for(A=0,g=C;g<m;g++)A+=s.get(g,C)*s.get(g,w);for(A=-A/s.get(C,C),g=C;g<m;g++)s.set(g,w,s.get(g,w)+A*s.get(g,C))}}x[C]=-_}this.QR=s,this.Rdiag=x}solve(d){d=Matrix$3.checkMatrix(d);let s=this.QR,m=s.rows;if(d.rows!==m)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let f=d.columns,x=d.clone(),g=s.columns,w,C,A,_;for(A=0;A<g;A++)for(C=0;C<f;C++){for(_=0,w=A;w<m;w++)_+=s.get(w,A)*x.get(w,C);for(_=-_/s.get(A,A),w=A;w<m;w++)x.set(w,C,x.get(w,C)+_*s.get(w,A))}for(A=g-1;A>=0;A--){for(C=0;C<f;C++)x.set(A,C,x.get(A,C)/this.Rdiag[A]);for(w=0;w<A;w++)for(C=0;C<f;C++)x.set(w,C,x.get(w,C)-x.get(A,C)*s.get(w,A))}return x.subMatrix(0,g-1,0,f-1)}isFullRank(){let d=this.QR.columns;for(let s=0;s<d;s++)if(this.Rdiag[s]===0)return!1;return!0}get upperTriangularMatrix(){let d=this.QR,s=d.columns,m=new Matrix$3(s,s),f,x;for(f=0;f<s;f++)for(x=0;x<s;x++)f<x?m.set(f,x,d.get(f,x)):f===x?m.set(f,x,this.Rdiag[f]):m.set(f,x,0);return m}get orthogonalMatrix(){let d=this.QR,s=d.rows,m=d.columns,f=new Matrix$3(s,m),x,g,w,C;for(w=m-1;w>=0;w--){for(x=0;x<s;x++)f.set(x,w,0);for(f.set(w,w,1),g=w;g<m;g++)if(d.get(w,w)!==0){for(C=0,x=w;x<s;x++)C+=d.get(x,w)*f.get(x,g);for(C=-C/d.get(w,w),x=w;x<s;x++)f.set(x,g,f.get(x,g)+C*d.get(x,w))}}return f}}let SingularValueDecomposition$1=class{constructor(d,s={}){if(d=WrapperMatrix2D.checkMatrix(d),d.isEmpty())throw new Error("Matrix must be non-empty");let m=d.rows,f=d.columns;const{computeLeftSingularVectors:x=!0,computeRightSingularVectors:g=!0,autoTranspose:w=!1}=s;let C=!!x,A=!!g,_=!1,M;if(m<f)if(!w)M=d.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{M=d.transpose(),m=M.rows,f=M.columns,_=!0;let J=C;C=A,A=J}else M=d.clone();let P=Math.min(m,f),D=Math.min(m+1,f),E=new Float64Array(D),I=new Matrix$3(m,P),B=new Matrix$3(f,f),F=new Float64Array(f),R=new Float64Array(m),L=new Float64Array(D);for(let J=0;J<D;J++)L[J]=J;let z=Math.min(m-1,f),G=Math.max(0,Math.min(f-2,m)),W=Math.max(z,G);for(let J=0;J<W;J++){if(J<z){E[J]=0;for(let Q=J;Q<m;Q++)E[J]=hypotenuse$1(E[J],M.get(Q,J));if(E[J]!==0){M.get(J,J)<0&&(E[J]=-E[J]);for(let Q=J;Q<m;Q++)M.set(Q,J,M.get(Q,J)/E[J]);M.set(J,J,M.get(J,J)+1)}E[J]=-E[J]}for(let Q=J+1;Q<f;Q++){if(J<z&&E[J]!==0){let ie=0;for(let se=J;se<m;se++)ie+=M.get(se,J)*M.get(se,Q);ie=-ie/M.get(J,J);for(let se=J;se<m;se++)M.set(se,Q,M.get(se,Q)+ie*M.get(se,J))}F[Q]=M.get(J,Q)}if(C&&J<z)for(let Q=J;Q<m;Q++)I.set(Q,J,M.get(Q,J));if(J<G){F[J]=0;for(let Q=J+1;Q<f;Q++)F[J]=hypotenuse$1(F[J],F[Q]);if(F[J]!==0){F[J+1]<0&&(F[J]=0-F[J]);for(let Q=J+1;Q<f;Q++)F[Q]/=F[J];F[J+1]+=1}if(F[J]=-F[J],J+1<m&&F[J]!==0){for(let Q=J+1;Q<m;Q++)R[Q]=0;for(let Q=J+1;Q<m;Q++)for(let ie=J+1;ie<f;ie++)R[Q]+=F[ie]*M.get(Q,ie);for(let Q=J+1;Q<f;Q++){let ie=-F[Q]/F[J+1];for(let se=J+1;se<m;se++)M.set(se,Q,M.get(se,Q)+ie*R[se])}}if(A)for(let Q=J+1;Q<f;Q++)B.set(Q,J,F[Q])}}let K=Math.min(f,m+1);if(z<f&&(E[z]=M.get(z,z)),m<K&&(E[K-1]=0),G+1<K&&(F[G]=M.get(G,K-1)),F[K-1]=0,C){for(let J=z;J<P;J++){for(let Q=0;Q<m;Q++)I.set(Q,J,0);I.set(J,J,1)}for(let J=z-1;J>=0;J--)if(E[J]!==0){for(let Q=J+1;Q<P;Q++){let ie=0;for(let se=J;se<m;se++)ie+=I.get(se,J)*I.get(se,Q);ie=-ie/I.get(J,J);for(let se=J;se<m;se++)I.set(se,Q,I.get(se,Q)+ie*I.get(se,J))}for(let Q=J;Q<m;Q++)I.set(Q,J,-I.get(Q,J));I.set(J,J,1+I.get(J,J));for(let Q=0;Q<J-1;Q++)I.set(Q,J,0)}else{for(let Q=0;Q<m;Q++)I.set(Q,J,0);I.set(J,J,1)}}if(A)for(let J=f-1;J>=0;J--){if(J<G&&F[J]!==0)for(let Q=J+1;Q<f;Q++){let ie=0;for(let se=J+1;se<f;se++)ie+=B.get(se,J)*B.get(se,Q);ie=-ie/B.get(J+1,J);for(let se=J+1;se<f;se++)B.set(se,Q,B.get(se,Q)+ie*B.get(se,J))}for(let Q=0;Q<f;Q++)B.set(Q,J,0);B.set(J,J,1)}let q=K-1,Z=Number.EPSILON;for(;K>0;){let J,Q;for(J=K-2;J>=-1&&J!==-1;J--){const ie=Number.MIN_VALUE+Z*Math.abs(E[J]+Math.abs(E[J+1]));if(Math.abs(F[J])<=ie||Number.isNaN(F[J])){F[J]=0;break}}if(J===K-2)Q=4;else{let ie;for(ie=K-1;ie>=J&&ie!==J;ie--){let se=(ie!==K?Math.abs(F[ie]):0)+(ie!==J+1?Math.abs(F[ie-1]):0);if(Math.abs(E[ie])<=Z*se){E[ie]=0;break}}ie===J?Q=3:ie===K-1?Q=1:(Q=2,J=ie)}switch(J++,Q){case 1:{let ie=F[K-2];F[K-2]=0;for(let se=K-2;se>=J;se--){let oe=hypotenuse$1(E[se],ie),ue=E[se]/oe,fe=ie/oe;if(E[se]=oe,se!==J&&(ie=-fe*F[se-1],F[se-1]=ue*F[se-1]),A)for(let xe=0;xe<f;xe++)oe=ue*B.get(xe,se)+fe*B.get(xe,K-1),B.set(xe,K-1,-fe*B.get(xe,se)+ue*B.get(xe,K-1)),B.set(xe,se,oe)}break}case 2:{let ie=F[J-1];F[J-1]=0;for(let se=J;se<K;se++){let oe=hypotenuse$1(E[se],ie),ue=E[se]/oe,fe=ie/oe;if(E[se]=oe,ie=-fe*F[se],F[se]=ue*F[se],C)for(let xe=0;xe<m;xe++)oe=ue*I.get(xe,se)+fe*I.get(xe,J-1),I.set(xe,J-1,-fe*I.get(xe,se)+ue*I.get(xe,J-1)),I.set(xe,se,oe)}break}case 3:{const ie=Math.max(Math.abs(E[K-1]),Math.abs(E[K-2]),Math.abs(F[K-2]),Math.abs(E[J]),Math.abs(F[J])),se=E[K-1]/ie,oe=E[K-2]/ie,ue=F[K-2]/ie,fe=E[J]/ie,xe=F[J]/ie,ce=((oe+se)*(oe-se)+ue*ue)/2,me=se*ue*(se*ue);let pe=0;(ce!==0||me!==0)&&(ce<0?pe=0-Math.sqrt(ce*ce+me):pe=Math.sqrt(ce*ce+me),pe=me/(ce+pe));let Se=(fe+se)*(fe-se)+pe,Ae=fe*xe;for(let _e=J;_e<K-1;_e++){let Me=hypotenuse$1(Se,Ae);Me===0&&(Me=Number.MIN_VALUE);let ve=Se/Me,Ee=Ae/Me;if(_e!==J&&(F[_e-1]=Me),Se=ve*E[_e]+Ee*F[_e],F[_e]=ve*F[_e]-Ee*E[_e],Ae=Ee*E[_e+1],E[_e+1]=ve*E[_e+1],A)for(let Le=0;Le<f;Le++)Me=ve*B.get(Le,_e)+Ee*B.get(Le,_e+1),B.set(Le,_e+1,-Ee*B.get(Le,_e)+ve*B.get(Le,_e+1)),B.set(Le,_e,Me);if(Me=hypotenuse$1(Se,Ae),Me===0&&(Me=Number.MIN_VALUE),ve=Se/Me,Ee=Ae/Me,E[_e]=Me,Se=ve*F[_e]+Ee*E[_e+1],E[_e+1]=-Ee*F[_e]+ve*E[_e+1],Ae=Ee*F[_e+1],F[_e+1]=ve*F[_e+1],C&&_e<m-1)for(let Le=0;Le<m;Le++)Me=ve*I.get(Le,_e)+Ee*I.get(Le,_e+1),I.set(Le,_e+1,-Ee*I.get(Le,_e)+ve*I.get(Le,_e+1)),I.set(Le,_e,Me)}F[K-2]=Se;break}case 4:{if(E[J]<=0&&(E[J]=E[J]<0?-E[J]:0,A))for(let ie=0;ie<=q;ie++)B.set(ie,J,-B.get(ie,J));for(;J<q&&!(E[J]>=E[J+1]);){let ie=E[J];if(E[J]=E[J+1],E[J+1]=ie,A&&J<f-1)for(let se=0;se<f;se++)ie=B.get(se,J+1),B.set(se,J+1,B.get(se,J)),B.set(se,J,ie);if(C&&J<m-1)for(let se=0;se<m;se++)ie=I.get(se,J+1),I.set(se,J+1,I.get(se,J)),I.set(se,J,ie);J++}K--;break}}}if(_){let J=B;B=I,I=J}this.m=m,this.n=f,this.s=E,this.U=I,this.V=B}solve(d){let s=d,m=this.threshold,f=this.s.length,x=Matrix$3.zeros(f,f);for(let P=0;P<f;P++)Math.abs(this.s[P])<=m?x.set(P,P,0):x.set(P,P,1/this.s[P]);let g=this.U,w=this.rightSingularVectors,C=w.mmul(x),A=w.rows,_=g.rows,M=Matrix$3.zeros(A,_);for(let P=0;P<A;P++)for(let D=0;D<_;D++){let E=0;for(let I=0;I<f;I++)E+=C.get(P,I)*g.get(D,I);M.set(P,D,E)}return M.mmul(s)}solveForDiagonal(d){return this.solve(Matrix$3.diag(d))}inverse(){let d=this.V,s=this.threshold,m=d.rows,f=d.columns,x=new Matrix$3(m,this.s.length);for(let _=0;_<m;_++)for(let M=0;M<f;M++)Math.abs(this.s[M])>s&&x.set(_,M,d.get(_,M)/this.s[M]);let g=this.U,w=g.rows,C=g.columns,A=new Matrix$3(m,w);for(let _=0;_<m;_++)for(let M=0;M<w;M++){let P=0;for(let D=0;D<C;D++)P+=x.get(_,D)*g.get(M,D);A.set(_,M,P)}return A}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let d=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,s=0,m=this.s;for(let f=0,x=m.length;f<x;f++)m[f]>d&&s++;return s}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Matrix$3.diag(this.s)}};function inverse$1(a,d=!1){return a=WrapperMatrix2D.checkMatrix(a),d?new SingularValueDecomposition$1(a).inverse():solve$1(a,Matrix$3.eye(a.rows))}function solve$1(a,d,s=!1){return a=WrapperMatrix2D.checkMatrix(a),d=WrapperMatrix2D.checkMatrix(d),s?new SingularValueDecomposition$1(a).solve(d):a.isSquare()?new LuDecomposition(a).solve(d):new QrDecomposition(a).solve(d)}function determinant(a){if(a=Matrix$3.checkMatrix(a),a.isSquare()){if(a.columns===0)return 1;let d,s,m,f;if(a.columns===2)return d=a.get(0,0),s=a.get(0,1),m=a.get(1,0),f=a.get(1,1),d*f-s*m;if(a.columns===3){let x,g,w;return x=new MatrixSelectionView(a,[1,2],[1,2]),g=new MatrixSelectionView(a,[1,2],[0,2]),w=new MatrixSelectionView(a,[1,2],[0,1]),d=a.get(0,0),s=a.get(0,1),m=a.get(0,2),d*determinant(x)-s*determinant(g)+m*determinant(w)}else return new LuDecomposition(a).determinant}else throw Error("determinant can only be calculated for a square matrix")}function xrange(a,d){let s=[];for(let m=0;m<a;m++)m!==d&&s.push(m);return s}function dependenciesOneRow(a,d,s,m=1e-9,f=1e-9){if(a>f)return new Array(d.rows+1).fill(0);{let x=d.addRow(s,[0]);for(let g=0;g<x.rows;g++)Math.abs(x.get(g,0))<m&&x.set(g,0,0);return x.to1DArray()}}function linearDependencies(a,d={}){const{thresholdValue:s=1e-9,thresholdError:m=1e-9}=d;a=Matrix$3.checkMatrix(a);let f=a.rows,x=new Matrix$3(f,f);for(let g=0;g<f;g++){let w=Matrix$3.columnVector(a.getRow(g)),C=a.subMatrixRow(xrange(f,g)).transpose(),_=new SingularValueDecomposition$1(C).solve(w),M=Matrix$3.sub(w,C.mmul(_)).abs().max();x.setRow(g,dependenciesOneRow(M,_,g,s,m))}return x}function pseudoInverse(a,d=Number.EPSILON){if(a=Matrix$3.checkMatrix(a),a.isEmpty())return a.transpose();let s=new SingularValueDecomposition$1(a,{autoTranspose:!0}),m=s.leftSingularVectors,f=s.rightSingularVectors,x=s.diagonal;for(let g=0;g<x.length;g++)Math.abs(x[g])>d?x[g]=1/x[g]:x[g]=0;return f.mmul(Matrix$3.diag(x).mmul(m.transpose()))}function covariance$1(a,d=a,s={}){a=new Matrix$3(a);let m=!1;if(typeof d=="object"&&!Matrix$3.isMatrix(d)&&!isAnyArray.isAnyArray(d)?(s=d,d=a,m=!0):d=new Matrix$3(d),a.rows!==d.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:f=!0}=s;f&&(a=a.center("column"),m||(d=d.center("column")));const x=a.transpose().mmul(d);for(let g=0;g<x.rows;g++)for(let w=0;w<x.columns;w++)x.set(g,w,x.get(g,w)*(1/(a.rows-1)));return x}function correlation(a,d=a,s={}){a=new Matrix$3(a);let m=!1;if(typeof d=="object"&&!Matrix$3.isMatrix(d)&&!isAnyArray.isAnyArray(d)?(s=d,d=a,m=!0):d=new Matrix$3(d),a.rows!==d.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:f=!0,scale:x=!0}=s;f&&(a.center("column"),m||d.center("column")),x&&(a.scale("column"),m||d.scale("column"));const g=a.standardDeviation("column",{unbiased:!0}),w=m?g:d.standardDeviation("column",{unbiased:!0}),C=a.transpose().mmul(d);for(let A=0;A<C.rows;A++)for(let _=0;_<C.columns;_++)C.set(A,_,C.get(A,_)*(1/(g[A]*w[_]))*(1/(a.rows-1)));return C}class EigenvalueDecomposition{constructor(d,s={}){const{assumeSymmetric:m=!1}=s;if(d=WrapperMatrix2D.checkMatrix(d),!d.isSquare())throw new Error("Matrix is not a square matrix");if(d.isEmpty())throw new Error("Matrix must be non-empty");let f=d.columns,x=new Matrix$3(f,f),g=new Float64Array(f),w=new Float64Array(f),C=d,A,_,M=!1;if(m?M=!0:M=d.isSymmetric(),M){for(A=0;A<f;A++)for(_=0;_<f;_++)x.set(A,_,C.get(A,_));tred2(f,w,g,x),tql2(f,w,g,x)}else{let P=new Matrix$3(f,f),D=new Float64Array(f);for(_=0;_<f;_++)for(A=0;A<f;A++)P.set(A,_,C.get(A,_));orthes(f,P,D,x),hqr2(f,w,g,x,P)}this.n=f,this.e=w,this.d=g,this.V=x}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let d=this.n,s=this.e,m=this.d,f=new Matrix$3(d,d),x,g;for(x=0;x<d;x++){for(g=0;g<d;g++)f.set(x,g,0);f.set(x,x,m[x]),s[x]>0?f.set(x,x+1,s[x]):s[x]<0&&f.set(x,x-1,s[x])}return f}}function tred2(a,d,s,m){let f,x,g,w,C,A,_,M;for(C=0;C<a;C++)s[C]=m.get(a-1,C);for(w=a-1;w>0;w--){for(M=0,g=0,A=0;A<w;A++)M=M+Math.abs(s[A]);if(M===0)for(d[w]=s[w-1],C=0;C<w;C++)s[C]=m.get(w-1,C),m.set(w,C,0),m.set(C,w,0);else{for(A=0;A<w;A++)s[A]/=M,g+=s[A]*s[A];for(f=s[w-1],x=Math.sqrt(g),f>0&&(x=-x),d[w]=M*x,g=g-f*x,s[w-1]=f-x,C=0;C<w;C++)d[C]=0;for(C=0;C<w;C++){for(f=s[C],m.set(C,w,f),x=d[C]+m.get(C,C)*f,A=C+1;A<=w-1;A++)x+=m.get(A,C)*s[A],d[A]+=m.get(A,C)*f;d[C]=x}for(f=0,C=0;C<w;C++)d[C]/=g,f+=d[C]*s[C];for(_=f/(g+g),C=0;C<w;C++)d[C]-=_*s[C];for(C=0;C<w;C++){for(f=s[C],x=d[C],A=C;A<=w-1;A++)m.set(A,C,m.get(A,C)-(f*d[A]+x*s[A]));s[C]=m.get(w-1,C),m.set(w,C,0)}}s[w]=g}for(w=0;w<a-1;w++){if(m.set(a-1,w,m.get(w,w)),m.set(w,w,1),g=s[w+1],g!==0){for(A=0;A<=w;A++)s[A]=m.get(A,w+1)/g;for(C=0;C<=w;C++){for(x=0,A=0;A<=w;A++)x+=m.get(A,w+1)*m.get(A,C);for(A=0;A<=w;A++)m.set(A,C,m.get(A,C)-x*s[A])}}for(A=0;A<=w;A++)m.set(A,w+1,0)}for(C=0;C<a;C++)s[C]=m.get(a-1,C),m.set(a-1,C,0);m.set(a-1,a-1,1),d[0]=0}function tql2(a,d,s,m){let f,x,g,w,C,A,_,M,P,D,E,I,B,F,R,L;for(g=1;g<a;g++)d[g-1]=d[g];d[a-1]=0;let z=0,G=0,W=Number.EPSILON;for(A=0;A<a;A++){for(G=Math.max(G,Math.abs(s[A])+Math.abs(d[A])),_=A;_<a&&!(Math.abs(d[_])<=W*G);)_++;if(_>A)do{for(f=s[A],M=(s[A+1]-f)/(2*d[A]),P=hypotenuse$1(M,1),M<0&&(P=-P),s[A]=d[A]/(M+P),s[A+1]=d[A]*(M+P),D=s[A+1],x=f-s[A],g=A+2;g<a;g++)s[g]-=x;for(z=z+x,M=s[_],E=1,I=E,B=E,F=d[A+1],R=0,L=0,g=_-1;g>=A;g--)for(B=I,I=E,L=R,f=E*d[g],x=E*M,P=hypotenuse$1(M,d[g]),d[g+1]=R*P,R=d[g]/P,E=M/P,M=E*s[g]-R*f,s[g+1]=x+R*(E*f+R*s[g]),C=0;C<a;C++)x=m.get(C,g+1),m.set(C,g+1,R*m.get(C,g)+E*x),m.set(C,g,E*m.get(C,g)-R*x);M=-R*L*B*F*d[A]/D,d[A]=R*M,s[A]=E*M}while(Math.abs(d[A])>W*G);s[A]=s[A]+z,d[A]=0}for(g=0;g<a-1;g++){for(C=g,M=s[g],w=g+1;w<a;w++)s[w]<M&&(C=w,M=s[w]);if(C!==g)for(s[C]=s[g],s[g]=M,w=0;w<a;w++)M=m.get(w,g),m.set(w,g,m.get(w,C)),m.set(w,C,M)}}function orthes(a,d,s,m){let f=0,x=a-1,g,w,C,A,_,M,P;for(M=f+1;M<=x-1;M++){for(P=0,A=M;A<=x;A++)P=P+Math.abs(d.get(A,M-1));if(P!==0){for(C=0,A=x;A>=M;A--)s[A]=d.get(A,M-1)/P,C+=s[A]*s[A];for(w=Math.sqrt(C),s[M]>0&&(w=-w),C=C-s[M]*w,s[M]=s[M]-w,_=M;_<a;_++){for(g=0,A=x;A>=M;A--)g+=s[A]*d.get(A,_);for(g=g/C,A=M;A<=x;A++)d.set(A,_,d.get(A,_)-g*s[A])}for(A=0;A<=x;A++){for(g=0,_=x;_>=M;_--)g+=s[_]*d.get(A,_);for(g=g/C,_=M;_<=x;_++)d.set(A,_,d.get(A,_)-g*s[_])}s[M]=P*s[M],d.set(M,M-1,P*w)}}for(A=0;A<a;A++)for(_=0;_<a;_++)m.set(A,_,A===_?1:0);for(M=x-1;M>=f+1;M--)if(d.get(M,M-1)!==0){for(A=M+1;A<=x;A++)s[A]=d.get(A,M-1);for(_=M;_<=x;_++){for(w=0,A=M;A<=x;A++)w+=s[A]*m.get(A,_);for(w=w/s[M]/d.get(M,M-1),A=M;A<=x;A++)m.set(A,_,m.get(A,_)+w*s[A])}}}function hqr2(a,d,s,m,f){let x=a-1,g=0,w=a-1,C=Number.EPSILON,A=0,_=0,M=0,P=0,D=0,E=0,I=0,B=0,F,R,L,z,G,W,K,q,Z,J,Q,ie,se,oe,ue;for(F=0;F<a;F++)for((F<g||F>w)&&(s[F]=f.get(F,F),d[F]=0),R=Math.max(F-1,0);R<a;R++)_=_+Math.abs(f.get(F,R));for(;x>=g;){for(z=x;z>g&&(E=Math.abs(f.get(z-1,z-1))+Math.abs(f.get(z,z)),E===0&&(E=_),!(Math.abs(f.get(z,z-1))<C*E));)z--;if(z===x)f.set(x,x,f.get(x,x)+A),s[x]=f.get(x,x),d[x]=0,x--,B=0;else if(z===x-1){if(K=f.get(x,x-1)*f.get(x-1,x),M=(f.get(x-1,x-1)-f.get(x,x))/2,P=M*M+K,I=Math.sqrt(Math.abs(P)),f.set(x,x,f.get(x,x)+A),f.set(x-1,x-1,f.get(x-1,x-1)+A),q=f.get(x,x),P>=0){for(I=M>=0?M+I:M-I,s[x-1]=q+I,s[x]=s[x-1],I!==0&&(s[x]=q-K/I),d[x-1]=0,d[x]=0,q=f.get(x,x-1),E=Math.abs(q)+Math.abs(I),M=q/E,P=I/E,D=Math.sqrt(M*M+P*P),M=M/D,P=P/D,R=x-1;R<a;R++)I=f.get(x-1,R),f.set(x-1,R,P*I+M*f.get(x,R)),f.set(x,R,P*f.get(x,R)-M*I);for(F=0;F<=x;F++)I=f.get(F,x-1),f.set(F,x-1,P*I+M*f.get(F,x)),f.set(F,x,P*f.get(F,x)-M*I);for(F=g;F<=w;F++)I=m.get(F,x-1),m.set(F,x-1,P*I+M*m.get(F,x)),m.set(F,x,P*m.get(F,x)-M*I)}else s[x-1]=q+M,s[x]=q+M,d[x-1]=I,d[x]=-I;x=x-2,B=0}else{if(q=f.get(x,x),Z=0,K=0,z<x&&(Z=f.get(x-1,x-1),K=f.get(x,x-1)*f.get(x-1,x)),B===10){for(A+=q,F=g;F<=x;F++)f.set(F,F,f.get(F,F)-q);E=Math.abs(f.get(x,x-1))+Math.abs(f.get(x-1,x-2)),q=Z=.75*E,K=-.4375*E*E}if(B===30&&(E=(Z-q)/2,E=E*E+K,E>0)){for(E=Math.sqrt(E),Z<q&&(E=-E),E=q-K/((Z-q)/2+E),F=g;F<=x;F++)f.set(F,F,f.get(F,F)-E);A+=E,q=Z=K=.964}for(B=B+1,G=x-2;G>=z&&(I=f.get(G,G),D=q-I,E=Z-I,M=(D*E-K)/f.get(G+1,G)+f.get(G,G+1),P=f.get(G+1,G+1)-I-D-E,D=f.get(G+2,G+1),E=Math.abs(M)+Math.abs(P)+Math.abs(D),M=M/E,P=P/E,D=D/E,!(G===z||Math.abs(f.get(G,G-1))*(Math.abs(P)+Math.abs(D))<C*(Math.abs(M)*(Math.abs(f.get(G-1,G-1))+Math.abs(I)+Math.abs(f.get(G+1,G+1))))));)G--;for(F=G+2;F<=x;F++)f.set(F,F-2,0),F>G+2&&f.set(F,F-3,0);for(L=G;L<=x-1&&(oe=L!==x-1,L!==G&&(M=f.get(L,L-1),P=f.get(L+1,L-1),D=oe?f.get(L+2,L-1):0,q=Math.abs(M)+Math.abs(P)+Math.abs(D),q!==0&&(M=M/q,P=P/q,D=D/q)),q!==0);L++)if(E=Math.sqrt(M*M+P*P+D*D),M<0&&(E=-E),E!==0){for(L!==G?f.set(L,L-1,-E*q):z!==G&&f.set(L,L-1,-f.get(L,L-1)),M=M+E,q=M/E,Z=P/E,I=D/E,P=P/M,D=D/M,R=L;R<a;R++)M=f.get(L,R)+P*f.get(L+1,R),oe&&(M=M+D*f.get(L+2,R),f.set(L+2,R,f.get(L+2,R)-M*I)),f.set(L,R,f.get(L,R)-M*q),f.set(L+1,R,f.get(L+1,R)-M*Z);for(F=0;F<=Math.min(x,L+3);F++)M=q*f.get(F,L)+Z*f.get(F,L+1),oe&&(M=M+I*f.get(F,L+2),f.set(F,L+2,f.get(F,L+2)-M*D)),f.set(F,L,f.get(F,L)-M),f.set(F,L+1,f.get(F,L+1)-M*P);for(F=g;F<=w;F++)M=q*m.get(F,L)+Z*m.get(F,L+1),oe&&(M=M+I*m.get(F,L+2),m.set(F,L+2,m.get(F,L+2)-M*D)),m.set(F,L,m.get(F,L)-M),m.set(F,L+1,m.get(F,L+1)-M*P)}}}if(_!==0){for(x=a-1;x>=0;x--)if(M=s[x],P=d[x],P===0)for(z=x,f.set(x,x,1),F=x-1;F>=0;F--){for(K=f.get(F,F)-M,D=0,R=z;R<=x;R++)D=D+f.get(F,R)*f.get(R,x);if(d[F]<0)I=K,E=D;else if(z=F,d[F]===0?f.set(F,x,K!==0?-D/K:-D/(C*_)):(q=f.get(F,F+1),Z=f.get(F+1,F),P=(s[F]-M)*(s[F]-M)+d[F]*d[F],W=(q*E-I*D)/P,f.set(F,x,W),f.set(F+1,x,Math.abs(q)>Math.abs(I)?(-D-K*W)/q:(-E-Z*W)/I)),W=Math.abs(f.get(F,x)),C*W*W>1)for(R=F;R<=x;R++)f.set(R,x,f.get(R,x)/W)}else if(P<0)for(z=x-1,Math.abs(f.get(x,x-1))>Math.abs(f.get(x-1,x))?(f.set(x-1,x-1,P/f.get(x,x-1)),f.set(x-1,x,-(f.get(x,x)-M)/f.get(x,x-1))):(ue=cdiv(0,-f.get(x-1,x),f.get(x-1,x-1)-M,P),f.set(x-1,x-1,ue[0]),f.set(x-1,x,ue[1])),f.set(x,x-1,0),f.set(x,x,1),F=x-2;F>=0;F--){for(J=0,Q=0,R=z;R<=x;R++)J=J+f.get(F,R)*f.get(R,x-1),Q=Q+f.get(F,R)*f.get(R,x);if(K=f.get(F,F)-M,d[F]<0)I=K,D=J,E=Q;else if(z=F,d[F]===0?(ue=cdiv(-J,-Q,K,P),f.set(F,x-1,ue[0]),f.set(F,x,ue[1])):(q=f.get(F,F+1),Z=f.get(F+1,F),ie=(s[F]-M)*(s[F]-M)+d[F]*d[F]-P*P,se=(s[F]-M)*2*P,ie===0&&se===0&&(ie=C*_*(Math.abs(K)+Math.abs(P)+Math.abs(q)+Math.abs(Z)+Math.abs(I))),ue=cdiv(q*D-I*J+P*Q,q*E-I*Q-P*J,ie,se),f.set(F,x-1,ue[0]),f.set(F,x,ue[1]),Math.abs(q)>Math.abs(I)+Math.abs(P)?(f.set(F+1,x-1,(-J-K*f.get(F,x-1)+P*f.get(F,x))/q),f.set(F+1,x,(-Q-K*f.get(F,x)-P*f.get(F,x-1))/q)):(ue=cdiv(-D-Z*f.get(F,x-1),-E-Z*f.get(F,x),I,P),f.set(F+1,x-1,ue[0]),f.set(F+1,x,ue[1]))),W=Math.max(Math.abs(f.get(F,x-1)),Math.abs(f.get(F,x))),C*W*W>1)for(R=F;R<=x;R++)f.set(R,x-1,f.get(R,x-1)/W),f.set(R,x,f.get(R,x)/W)}for(F=0;F<a;F++)if(F<g||F>w)for(R=F;R<a;R++)m.set(F,R,f.get(F,R));for(R=a-1;R>=g;R--)for(F=g;F<=w;F++){for(I=0,L=g;L<=Math.min(R,w);L++)I=I+m.get(F,L)*f.get(L,R);m.set(F,R,I)}}}function cdiv(a,d,s,m){let f,x;return Math.abs(s)>Math.abs(m)?(f=m/s,x=s+f*m,[(a+f*d)/x,(d-f*a)/x]):(f=s/m,x=m+f*s,[(f*a+d)/x,(f*d-a)/x])}class CholeskyDecomposition{constructor(d){if(d=WrapperMatrix2D.checkMatrix(d),!d.isSymmetric())throw new Error("Matrix is not symmetric");let s=d,m=s.rows,f=new Matrix$3(m,m),x=!0,g,w,C;for(w=0;w<m;w++){let A=0;for(C=0;C<w;C++){let _=0;for(g=0;g<C;g++)_+=f.get(C,g)*f.get(w,g);_=(s.get(w,C)-_)/f.get(C,C),f.set(w,C,_),A=A+_*_}for(A=s.get(w,w)-A,x&=A>0,f.set(w,w,Math.sqrt(Math.max(A,0))),C=w+1;C<m;C++)f.set(w,C,0)}this.L=f,this.positiveDefinite=!!x}isPositiveDefinite(){return this.positiveDefinite}solve(d){d=WrapperMatrix2D.checkMatrix(d);let s=this.L,m=s.rows;if(d.rows!==m)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let f=d.columns,x=d.clone(),g,w,C;for(C=0;C<m;C++)for(w=0;w<f;w++){for(g=0;g<C;g++)x.set(C,w,x.get(C,w)-x.get(g,w)*s.get(C,g));x.set(C,w,x.get(C,w)/s.get(C,C))}for(C=m-1;C>=0;C--)for(w=0;w<f;w++){for(g=C+1;g<m;g++)x.set(C,w,x.get(C,w)-x.get(g,w)*s.get(g,C));x.set(C,w,x.get(C,w)/s.get(C,C))}return x}get lowerTriangularMatrix(){return this.L}}class nipals{constructor(d,s={}){d=WrapperMatrix2D.checkMatrix(d);let{Y:m}=s;const{scaleScores:f=!1,maxIterations:x=1e3,terminationCriteria:g=1e-10}=s;let w;if(m){if(isAnyArray.isAnyArray(m)&&typeof m[0]=="number"?m=Matrix$3.columnVector(m):m=WrapperMatrix2D.checkMatrix(m),m.rows!==d.rows)throw new Error("Y should have the same number of rows as X");w=m.getColumnVector(0)}else w=d.getColumnVector(0);let C=1,A,_,M,P;for(let D=0;D<x&&C>g;D++)M=d.transpose().mmul(w).div(w.transpose().mmul(w).get(0,0)),M=M.div(M.norm()),A=d.mmul(M).div(M.transpose().mmul(M).get(0,0)),D>0&&(C=A.clone().sub(P).pow(2).sum()),P=A.clone(),m?(_=m.transpose().mmul(A).div(A.transpose().mmul(A).get(0,0)),_=_.div(_.norm()),w=m.mmul(_).div(_.transpose().mmul(_).get(0,0))):w=A;if(m){let D=d.transpose().mmul(A).div(A.transpose().mmul(A).get(0,0));D=D.div(D.norm());let E=d.clone().sub(A.clone().mmul(D.transpose())),I=w.transpose().mmul(A).div(A.transpose().mmul(A).get(0,0)),B=m.clone().sub(A.clone().mulS(I.get(0,0)).mmul(_.transpose()));this.t=A,this.p=D.transpose(),this.w=M.transpose(),this.q=_,this.u=w,this.s=A.transpose().mmul(A),this.xResidual=E,this.yResidual=B,this.betas=I}else this.w=M.transpose(),this.s=A.transpose().mmul(A).sqrt(),f?this.t=A.clone().div(this.s.get(0,0)):this.t=A,this.xResidual=d.sub(A.mmul(M.transpose()))}}matrix.AbstractMatrix=AbstractMatrix;matrix.CHO=CholeskyDecomposition;matrix.CholeskyDecomposition=CholeskyDecomposition;matrix.DistanceMatrix=DistanceMatrix;matrix.EVD=EigenvalueDecomposition;matrix.EigenvalueDecomposition=EigenvalueDecomposition;matrix.LU=LuDecomposition;matrix.LuDecomposition=LuDecomposition;var Matrix_1=matrix.Matrix=Matrix$3;matrix.MatrixColumnSelectionView=MatrixColumnSelectionView;matrix.MatrixColumnView=MatrixColumnView;matrix.MatrixFlipColumnView=MatrixFlipColumnView;matrix.MatrixFlipRowView=MatrixFlipRowView;matrix.MatrixRowSelectionView=MatrixRowSelectionView;matrix.MatrixRowView=MatrixRowView;matrix.MatrixSelectionView=MatrixSelectionView;matrix.MatrixSubView=MatrixSubView;matrix.MatrixTransposeView=MatrixTransposeView$1;matrix.NIPALS=nipals;matrix.Nipals=nipals;matrix.QR=QrDecomposition;matrix.QrDecomposition=QrDecomposition;var SVD$1=matrix.SVD=SingularValueDecomposition$1,SingularValueDecomposition_1=matrix.SingularValueDecomposition=SingularValueDecomposition$1;matrix.SymmetricMatrix=SymmetricMatrix;matrix.WrapperMatrix1D=WrapperMatrix1D;matrix.WrapperMatrix2D=WrapperMatrix2D;matrix.correlation=correlation;matrix.covariance=covariance$1;var _default=matrix.default=Matrix$3;matrix.determinant=determinant;var inverse_1=matrix.inverse=inverse$1;matrix.linearDependencies=linearDependencies;matrix.pseudoInverse=pseudoInverse;var solve_1=matrix.solve=solve$1;matrix.wrap=wrap;const Matrix$2=Matrix_1,SVD=SVD$1,SingularValueDecomposition=SingularValueDecomposition_1;_default.Matrix&&_default.Matrix;const inverse=inverse_1,solve=solve_1;function getSeparatedKernel(a){const d=new SVD(a,{autoTranspose:!0});if(d.rank!==1)return null;const s=Math.sqrt(d.s[0]),m=d.U.to2DArray().map(x=>x[0]*s),f=d.V.to2DArray().map(x=>x[0]*s);return[m,f]}function convolution(a,d={}){let{channels:s,bitDepth:m,normalize:f=!1,divisor:x=1,border:g="copy",algorithm:w="auto"}=d,C={};m&&(C.bitDepth=m);let A=Image$1.createFrom(this,C);if(s=validateArrayOfChannels(this,s),w!=="separable")({kernel:a}=validateKernel(a));else if(!Array.isArray(a)||a.length!==2)throw new RangeError("separable convolution requires two arrays of numbers to represent the kernel");if(w==="auto"){let z=getSeparatedKernel(a);z!==null?(w="separable",a=z):(a.length>9||a[0].length>9)&&this.width<=4096&&this.height<=4096?w="fft":w="direct"}let _,M;w==="separable"?(_=Math.floor(a[0].length/2),M=Math.floor(a[1].length/2)):(_=Math.floor(a.length/2),M=Math.floor(a[0].length/2));let P=A.isClamped,D=new Array(this.height*this.width),E,I,B,F,R,L;for(F=0;F<s.length;F++){for(R=s[F],B=0;B<this.height;B++)for(I=0;I<this.width;I++)E=B*this.width+I,D[E]=this.data[E*this.channels+R];if(w==="direct")L=src$1.direct(D,a,{rows:this.height,cols:this.width,normalize:f,divisor:x});else if(w==="separable"){if(L=convolutionSeparable(D,a,this.width,this.height),f){x=0;for(let z=0;z<a[0].length;z++)for(let G=0;G<a[1].length;G++)x+=a[0][z]*a[1][G]}if(x!==1)for(let z=0;z<L.length;z++)L[z]/=x}else L=src$1.fft(D,a,{rows:this.height,cols:this.width,normalize:f,divisor:x});for(B=0;B<this.height;B++)for(I=0;I<this.width;I++)E=B*this.width+I,P?A.data[E*this.channels+R]=clamp(L[E],A):A.data[E*this.channels+R]=L[E]}if(this.alpha&&!s.includes(this.channels))for(I=this.components;I<this.data.length;I=I+this.channels)A.data[I]=this.data[I];return g!=="periodic"&&A.setBorder({size:[M,_],algorithm:g}),A}function gradientFilter(a={}){let{direction:d="xy",border:s="copy",kernelX:m,kernelY:f,channels:x,bitDepth:g=this.bitDepth}=a;switch(this.checkProcessable("gradientFilter",{bitDepth:[8,16]}),d){case"x":if(!m)throw new Error("kernelX option is missing");return convolution.call(this,m,{channels:x,border:s,bitDepth:g});case"y":if(!f)throw new Error("kernelY option is missing");return convolution.call(this,f,{channels:x,border:s,bitDepth:g});case"xy":{if(!m)throw new Error("kernelX option is missing");if(!f)throw new Error("kernelY option is missing");const w=convolution.call(this,m,{channels:x,border:s,bitDepth:32}),C=convolution.call(this,f,{channels:x,border:s,bitDepth:32});return w.hypotenuse(C,{bitDepth:g,channels:x})}default:throw new Error(`Unknown parameter direction: ${d}`)}}function sobelFilter(a){return gradientFilter.call(this,Object.assign({},a,{kernelX:SOBEL_X,kernelY:SOBEL_Y}))}function scharrFilter(a){return gradientFilter.call(this,Object.assign({},a,{kernelX:SCHARR_X,kernelY:SCHARR_Y}))}var newArray_1=newArray;function newArray(a,d){a=a||0;for(var s=new Array(a),m=0;m<a;m++)s[m]=d;return s}const newArray$1=getDefaultExportFromCjs(newArray_1);function level(a={}){let{algorithm:d="range",channels:s,min:m=this.min,max:f=this.max}=a;switch(this.checkProcessable("level",{bitDepth:[8,16,32]}),s=validateArrayOfChannels(this,{channels:s}),s.length!==this.channel&&(Array.isArray(m)&&m.length===this.channels&&(m=m.filter((x,g)=>s.includes(g))),Array.isArray(f)&&f.length===this.channels&&(f=f.filter((x,g)=>s.includes(g)))),d){case"range":m<0&&(m=0),f>this.maxValue&&(f=this.maxValue),Array.isArray(m)||(m=newArray$1(s.length,m)),Array.isArray(f)||(f=newArray$1(s.length,f)),processImage(this,m,f,s);break;default:throw new Error(`level: algorithm not implement: ${d}`)}return this}function processImage(a,d,s,m){let f=1e-5,x=new Array(m.length);for(let g=0;g<m.length;g++)d[g]===0&&s[g]===a.maxValue||s[g]===d[g]?x[g]=0:x[g]=(a.maxValue+1-f)/(s[g]-d[g]),d[g]+=(.5-f/2)/x[g];for(let g=0;g<m.length;g++){let w=m[g];if(x[g]!==0)for(let C=0;C<a.data.length;C+=a.channels)a.data[C+w]=Math.min(Math.max(0,(a.data[C+w]-d[g])*x[g]+.5|0),a.maxValue)}}var toString=Object.prototype.toString,isArrayType=function a(d){return toString.call(d).substr(-6,5)==="Array"};const isArray=getDefaultExportFromCjs(isArrayType);function checkNumberArray(a){if(isNaN(a)){if(a instanceof Image$1)return a.data;if(!isArray(a))throw new Error("checkNumberArray: the value should be either a number, array or Image");return a}else{if(a<=0)throw new Error("checkNumberArray: the value must be greater than 0");return a}}function add(a,d={}){let{channels:s}=d;if(this.checkProcessable("add",{bitDepth:[8,16]}),s=validateArrayOfChannels(this,{channels:s}),a=checkNumberArray(a),isNaN(a)){if(this.data.length!==a.length)throw new Error("add: the data size is different");for(let m=0;m<s.length;m++){let f=s[m];for(let x=0;x<this.data.length;x+=this.channels)this.data[x+f]=Math.max(0,Math.min(this.maxValue,this.data[x+f]+a[x+f]>>0))}}else for(let m=0;m<s.length;m++){let f=s[m];for(let x=0;x<this.data.length;x+=this.channels)this.data[x+f]=Math.min(this.maxValue,this.data[x+f]+a>>0)}return this}function subtract(a,d={}){let{channels:s}=d;if(this.checkProcessable("subtract",{bitDepth:[8,16]}),s=validateArrayOfChannels(this,{channels:s}),a=checkNumberArray(a),isNaN(a)){if(this.data.length!==a.length)throw new Error("subtract: the data size is different");for(let m=0;m<s.length;m++){let f=s[m];for(let x=0;x<this.data.length;x+=this.channels)this.data[x+f]=Math.max(0,Math.min(this.maxValue,this.data[x+f]-a[x+f]>>0))}}else for(let m=0;m<s.length;m++){let f=s[m];for(let x=0;x<this.data.length;x+=this.channels)this.data[x+f]=Math.max(0,this.data[x+f]-a>>0)}return this}function subtractImage(a,d={}){let{channels:s,absolute:m=!1}=d;if(this.checkProcessable("subtractImage",{bitDepth:[8,16]}),this.width!==a.width||this.height!==a.height)throw new Error("subtractImage: both images must have the same size");if(this.alpha!==a.alpha||this.bitDepth!==a.bitDepth)throw new Error("subtractImage: both images must have the same alpha and bitDepth");if(this.channels!==a.channels)throw new Error("subtractImage: both images must have the same number of channels");let f=this.clone();s=validateArrayOfChannels(this,{channels:s});for(let x=0;x<s.length;x++){let g=s[x];for(let w=g;w<this.data.length;w+=this.channels){let C=this.data[w]-a.data[w];m?f.data[w]=Math.abs(C):f.data[w]=Math.max(C,0)}}return f}function hypotenuse(a,d={}){let{bitDepth:s=this.bitDepth,channels:m}=d;if(this.checkProcessable("hypotenuse",{bitDepth:[8,16,32]}),this.width!==a.width||this.height!==a.height)throw new Error("hypotenuse: both images must have the same size");if(this.alpha!==a.alpha||this.bitDepth!==a.bitDepth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(this.channels!==a.channels)throw new Error("hypotenuse: both images must have the same number of channels");let f=Image$1.createFrom(this,{bitDepth:s});m=validateArrayOfChannels(this,{channels:m});let x=f.isClamped;for(let g=0;g<m.length;g++){let w=m[g];for(let C=w;C<this.data.length;C+=this.channels){let A=Math.hypot(this.data[C],a.data[C]);x?f.data[C]=Math.min(Math.max(Math.round(A),0),f.maxValue):f.data[C]=A}}return f}function multiply(a,d={}){let{channels:s}=d;if(this.checkProcessable("multiply",{bitDepth:[8,16]}),a<=0)throw new Error("multiply: the value must be greater than 0");if(s=validateArrayOfChannels(this,{channels:s}),a=checkNumberArray(a),isNaN(a)){if(this.data.length!==a.length)throw new Error("multiply: the data size is different");for(let m=0;m<s.length;m++){let f=s[m];for(let x=0;x<this.data.length;x+=this.channels)this.data[x+f]=Math.max(0,Math.min(this.maxValue,this.data[x+f]*a[x+f]>>0))}}else for(let m=0;m<s.length;m++){let f=s[m];for(let x=0;x<this.data.length;x+=this.channels)this.data[x+f]=Math.min(this.maxValue,this.data[x+f]*a>>0)}return this}function divide(a,d={}){let{channels:s}=d;if(this.checkProcessable("divide",{bitDepth:[8,16]}),s=validateArrayOfChannels(this,{channels:s}),a=checkNumberArray(a),isNaN(a)){if(this.data.length!==a.length)throw new Error("divide: the: the data size is different");for(let m=0;m<s.length;m++){let f=s[m];for(let x=0;x<this.data.length;x+=this.channels)this.data[x+f]=Math.max(0,Math.min(this.maxValue,this.data[x+f]/a[x+f]>>0))}}else for(let m=0;m<s.length;m++){let f=s[m];for(let x=0;x<this.data.length;x+=this.channels)this.data[x+f]=Math.min(this.maxValue,this.data[x+f]/a>>0)}return this}class BaseRegression{constructor(){if(new.target===BaseRegression)throw new Error("BaseRegression must be subclassed")}predict(d){if(typeof d=="number")return this._predict(d);if(isAnyArray$1(d)){const s=[];for(let m=0;m<d.length;m++)s.push(this._predict(d[m]));return s}else throw new TypeError("x must be a number or array")}_predict(){throw new Error("_predict must be implemented")}train(){}toString(){return""}toLaTeX(){return""}score(d,s){if(!isAnyArray$1(d)||!isAnyArray$1(s)||d.length!==s.length)throw new Error("x and y must be arrays of the same length");const m=d.length,f=new Array(m);for(let D=0;D<m;D++)f[D]=this._predict(d[D]);let x=0,g=0,w=0,C=0,A=0,_=0,M=0;for(let D=0;D<m;D++)x+=f[D],g+=s[D],A+=f[D]*f[D],_+=s[D]*s[D],M+=f[D]*s[D],s[D]!==0&&(w+=(s[D]-f[D])*(s[D]-f[D])/s[D]),C+=(s[D]-f[D])*(s[D]-f[D]);const P=(m*M-x*g)/Math.sqrt((m*A-x*x)*(m*_-g*g));return{r:P,r2:P*P,chi2:w,rmsd:Math.sqrt(C/m)}}}function squaredEuclidean$4(a,d){let s=0;for(let m=0;m<a.length;m++)s+=(a[m]-d[m])*(a[m]-d[m]);return s}function euclidean$2(a,d){return Math.sqrt(squaredEuclidean$4(a,d))}const euclidean$3=Object.freeze(Object.defineProperty({__proto__:null,euclidean:euclidean$2,squaredEuclidean:squaredEuclidean$4},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(euclidean$3),{squaredEuclidean:squaredEuclidean$3}=require$$0,defaultOptions$b={sigma:1};let GaussianKernel$1=class{constructor(d){d=Object.assign({},defaultOptions$b,d),this.sigma=d.sigma,this.divisor=2*d.sigma*d.sigma}compute(d,s){const m=squaredEuclidean$3(d,s);return Math.exp(-m/this.divisor)}};var gaussianKernel=GaussianKernel$1;const defaultOptions$a={degree:1,constant:1,scale:1};let PolynomialKernel$1=class{constructor(d){d=Object.assign({},defaultOptions$a,d),this.degree=d.degree,this.constant=d.constant,this.scale=d.scale}compute(d,s){for(var m=0,f=0;f<d.length;f++)m+=d[f]*s[f];return Math.pow(this.scale*m+this.constant,this.degree)}};var polynomialKernel=PolynomialKernel$1;const defaultOptions$9={alpha:.01,constant:-Math.E};let SigmoidKernel$1=class{constructor(d){d=Object.assign({},defaultOptions$9,d),this.alpha=d.alpha,this.constant=d.constant}compute(d,s){for(var m=0,f=0;f<d.length;f++)m+=d[f]*s[f];return Math.tanh(this.alpha*m+this.constant)}};var sigmoidKernel=SigmoidKernel$1;const defaultOptions$8={sigma:1,degree:1};let ANOVAKernel$1=class{constructor(d){d=Object.assign({},defaultOptions$8,d),this.sigma=d.sigma,this.degree=d.degree}compute(d,s){for(var m=0,f=Math.min(d.length,s.length),x=1;x<=f;++x)m+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(d[x-1],x)-Math.pow(s[x-1],x),2)),this.degree);return m}};var anovaKernel=ANOVAKernel$1;const{squaredEuclidean:squaredEuclidean$2}=require$$0,defaultOptions$7={sigma:1};let CauchyKernel$1=class{constructor(d){d=Object.assign({},defaultOptions$7,d),this.sigma=d.sigma}compute(d,s){return 1/(1+squaredEuclidean$2(d,s)/(this.sigma*this.sigma))}};var cauchyKernel=CauchyKernel$1;const{euclidean:euclidean$1}=require$$0,defaultOptions$6={sigma:1};let ExponentialKernel$1=class{constructor(d){d=Object.assign({},defaultOptions$6,d),this.sigma=d.sigma,this.divisor=2*d.sigma*d.sigma}compute(d,s){const m=euclidean$1(d,s);return Math.exp(-m/this.divisor)}};var exponentialKernel=ExponentialKernel$1;class HistogramIntersectionKernel{compute(d,s){for(var m=Math.min(d.length,s.length),f=0,x=0;x<m;++x)f+=Math.min(d[x],s[x]);return f}}var histogramIntersectionKernel=HistogramIntersectionKernel;const{euclidean}=require$$0,defaultOptions$5={sigma:1};let LaplacianKernel$1=class{constructor(d){d=Object.assign({},defaultOptions$5,d),this.sigma=d.sigma}compute(d,s){const m=euclidean(d,s);return Math.exp(-m/this.sigma)}};var laplacianKernel=LaplacianKernel$1;const{squaredEuclidean:squaredEuclidean$1}=require$$0,defaultOptions$4={constant:1};let MultiquadraticKernel$1=class{constructor(d){d=Object.assign({},defaultOptions$4,d),this.constant=d.constant}compute(d,s){return Math.sqrt(squaredEuclidean$1(d,s)+this.constant*this.constant)}};var multiquadraticKernel=MultiquadraticKernel$1;const{squaredEuclidean}=require$$0,defaultOptions$3={constant:1};class RationalQuadraticKernel{constructor(d){d=Object.assign({},defaultOptions$3,d),this.constant=d.constant}compute(d,s){const m=squaredEuclidean(d,s);return 1-m/(m+this.constant)}}var rationalQuadraticKernel=RationalQuadraticKernel;const{Matrix:Matrix$1,MatrixTransposeView}=matrix,GaussianKernel=gaussianKernel,PolynomialKernel=polynomialKernel,SigmoidKernel=sigmoidKernel,ANOVAKernel=anovaKernel,CauchyKernel=cauchyKernel,ExponentialKernel=exponentialKernel,HistogramKernel=histogramIntersectionKernel,LaplacianKernel=laplacianKernel,MultiquadraticKernel=multiquadraticKernel,RationalKernel=rationalQuadraticKernel,kernelType={gaussian:GaussianKernel,rbf:GaussianKernel,polynomial:PolynomialKernel,poly:PolynomialKernel,anova:ANOVAKernel,cauchy:CauchyKernel,exponential:ExponentialKernel,histogram:HistogramKernel,min:HistogramKernel,laplacian:LaplacianKernel,multiquadratic:MultiquadraticKernel,rational:RationalKernel,sigmoid:SigmoidKernel,mlp:SigmoidKernel};class Kernel{constructor(d,s){if(this.kernelType=d,d!=="linear")if(typeof d=="string"){d=d.toLowerCase();var m=kernelType[d];if(m)this.kernelFunction=new m(s);else throw new Error(`unsupported kernel type: ${d}`)}else if(typeof d=="object"&&typeof d.compute=="function")this.kernelFunction=d;else throw new TypeError("first argument must be a valid kernel type or instance")}compute(d,s){if(d=Matrix$1.checkMatrix(d),s===void 0?s=d:s=Matrix$1.checkMatrix(s),this.kernelType==="linear")return d.mmul(new MatrixTransposeView(s));const m=new Matrix$1(d.rows,s.rows);if(d===s)for(let f=0;f<d.rows;f++)for(let x=f;x<d.rows;x++){const g=this.kernelFunction.compute(d.getRow(f),d.getRow(x));m.set(f,x,g),m.set(x,f,g)}else for(let f=0;f<d.rows;f++)for(let x=0;x<s.rows;x++)m.set(f,x,this.kernelFunction.compute(d.getRow(f),s.getRow(x)));return m}}var kernel=Kernel;const Kernel$1=getDefaultExportFromCjs(kernel),defaultOptions$2={lambda:.1,kernelType:"gaussian",kernelOptions:{},computeCoefficient:!1};class KernelRidgeRegression extends BaseRegression{constructor(d,s,m){if(super(),d===!0)this.alpha=s.alpha,this.inputs=s.inputs,this.kernelType=s.kernelType,this.kernelOptions=s.kernelOptions,this.kernel=new Kernel$1(s.kernelType,s.kernelOptions);else{d=Matrix$2.checkMatrix(d),m=Object.assign({},defaultOptions$2,m);const f=new Kernel$1(m.kernelType,m.kernelOptions),x=f.compute(d),g=d.rows;x.add(Matrix$2.eye(g,g).mul(m.lambda)),this.alpha=solve(x,s),this.inputs=d,this.kernelType=m.kernelType,this.kernelOptions=m.kernelOptions,this.kernel=f}}_predict(d){return this.kernel.compute([d],this.inputs).mmul(this.alpha).getRow(0)}toJSON(){return{name:"kernelRidgeRegression",alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}static load(d){if(d.name!=="kernelRidgeRegression")throw new TypeError("not a KRR model");return new KernelRidgeRegression(!0,d)}}function background$1(a,d,s){const m=new KernelRidgeRegression(a,d,s),f=new Array(this.size);for(let w=0;w<this.width;w++)for(let C=0;C<this.height;C++)f[C*this.width+w]=[w,C];const x=m.predict(f),g=Image$1.createFrom(this);for(let w=0;w<this.size;w++)g.data[w]=Math.min(this.maxValue,Math.max(0,x[w][0]));return g}function dilate(a={}){let{kernel:d=[[1,1,1],[1,1,1],[1,1,1]],iterations:s=1}=a;if(this.checkProcessable("dilate",{bitDepth:[1,8,16],components:1,alpha:0}),d.columns%2===0||d.rows%2===0)throw new TypeError("dilate: The number of rows and columns of the kernel must be odd");let m=!0;e:for(const x of d)for(const g of x)if(g!==1){m=!1;break e}let f=this;for(let x=0;x<s;x++)if(this.bitDepth===1)if(m){const g=f.clone();f=dilateOnceBinaryOnlyOnes(f,g,d.length,d[0].length)}else{const g=Image$1.createFrom(f);f=dilateOnceBinary(f,g,d)}else if(m){const g=Image$1.createFrom(f);f=dilateOnceGreyOnlyOnes(f,g,d.length,d[0].length)}else{const g=Image$1.createFrom(f);f=dilateOnceGrey(f,g,d)}return f}function dilateOnceGrey(a,d,s){const m=s.length,f=s[0].length;let x=(m-1)/2,g=(f-1)/2;for(let w=0;w<a.height;w++)for(let C=0;C<a.width;C++){let A=0;for(let _=0;_<f;_++)for(let M=0;M<m;M++){if(s[M][_]!==1)continue;let P=M-x+C,D=_-g+w;if(P<0||D<0||P>=a.width||D>=a.height)continue;const E=a.getValueXY(P,D,0);E>A&&(A=E)}d.setValueXY(C,w,0,A)}return d}function dilateOnceGreyOnlyOnes(a,d,s,m){const f=(s-1)/2,x=(m-1)/2,g=[];for(let w=0;w<a.width;w++)g.push(0);for(let w=0;w<a.height;w++){for(let C=0;C<a.width;C++){let A=0;for(let _=Math.max(0,w-x);_<Math.min(a.height,w+x+1);_++){const M=a.getValueXY(C,_,0);M>A&&(A=M)}g[C]=A}for(let C=0;C<a.width;C++){let A=0;for(let _=Math.max(0,C-f);_<Math.min(a.width,C+f+1);_++)g[_]>A&&(A=g[_]);d.setValueXY(C,w,0,A)}}return d}function dilateOnceBinary(a,d,s){const m=s.length,f=s[0].length;let x=(m-1)/2,g=(f-1)/2;for(let w=0;w<a.height;w++)for(let C=0;C<a.width;C++){let A=0;e:for(let _=0;_<f;_++)for(let M=0;M<m;M++){if(s[M][_]!==1)continue;let P=M-x+C,D=_-g+w;if(D<0||P<0||P>=a.width||D>=a.height)continue;if(a.getBitXY(P,D)===1){A=1;break e}}A===1&&d.setBitXY(C,w)}return d}function dilateOnceBinaryOnlyOnes(a,d,s,m){const f=(s-1)/2,x=(m-1)/2,g=[];for(let w=0;w<a.width;w++)g.push(1);for(let w=0;w<a.height;w++){for(let C=0;C<a.width;C++){g[C]=0;for(let A=Math.max(0,w-x);A<Math.min(a.height,w+x+1);A++)if(a.getBitXY(C,A)===1){g[C]=1;break}}for(let C=0;C<a.width;C++)if(d.getBitXY(C,w)!==1){for(let A=Math.max(0,C-f);A<Math.min(a.width,C+f+1);A++)if(g[A]===1){d.setBitXY(C,w);break}}}return d}function erode(a={}){let{kernel:d=[[1,1,1],[1,1,1],[1,1,1]],iterations:s=1}=a;if(this.checkProcessable("erode",{bitDepth:[1,8,16],components:1,alpha:0}),d.columns%2===0||d.rows%2===0)throw new TypeError("erode: The number of rows and columns of the kernel must be odd");let m=!0;e:for(const x of d)for(const g of x)if(g!==1){m=!1;break e}let f=this;for(let x=0;x<s;x++)if(this.bitDepth===1)if(m){const g=f.clone();f=erodeOnceBinaryOnlyOnes(f,g,d.length,d[0].length)}else{const g=Image$1.createFrom(f);f=erodeOnceBinary(f,g,d)}else if(m){const g=Image$1.createFrom(f);f=erodeOnceGreyOnlyOnes(f,g,d.length,d[0].length)}else{const g=Image$1.createFrom(f);f=erodeOnceGrey(f,g,d)}return f}function erodeOnceGrey(a,d,s){const m=s.length,f=s[0].length;let x=(m-1)/2,g=(f-1)/2;for(let w=0;w<a.height;w++)for(let C=0;C<a.width;C++){let A=a.maxValue;for(let _=0;_<f;_++)for(let M=0;M<m;M++){if(s[M][_]!==1)continue;let P=M-x+C,D=_-g+w;if(P<0||D<0||P>=a.width||D>=a.height)continue;const E=a.getValueXY(P,D,0);E<A&&(A=E)}d.setValueXY(C,w,0,A)}return d}function erodeOnceGreyOnlyOnes(a,d,s,m){const f=(s-1)/2,x=(m-1)/2,g=[];for(let w=0;w<a.width;w++)g.push(0);for(let w=0;w<a.height;w++){for(let C=0;C<a.width;C++){let A=a.maxValue;for(let _=Math.max(0,w-x);_<Math.min(a.height,w+x+1);_++){const M=a.getValueXY(C,_,0);M<A&&(A=M)}g[C]=A}for(let C=0;C<a.width;C++){let A=a.maxValue;for(let _=Math.max(0,C-f);_<Math.min(a.width,C+f+1);_++)g[_]<A&&(A=g[_]);d.setValueXY(C,w,0,A)}}return d}function erodeOnceBinary(a,d,s){const m=s.length,f=s[0].length;let x=(m-1)/2,g=(f-1)/2;for(let w=0;w<a.height;w++)for(let C=0;C<a.width;C++){let A=1;e:for(let _=0;_<f;_++)for(let M=0;M<m;M++){if(s[M][_]!==1)continue;let P=M-x+C,D=_-g+w;if(D<0||P<0||P>=a.width||D>=a.height)continue;if(a.getBitXY(P,D)===0){A=0;break e}}A===1&&d.setBitXY(C,w)}return d}function erodeOnceBinaryOnlyOnes(a,d,s,m){const f=(s-1)/2,x=(m-1)/2,g=[];for(let w=0;w<a.width;w++)g.push(0);for(let w=0;w<a.height;w++){for(let C=0;C<a.width;C++){g[C]=1;for(let A=Math.max(0,w-x);A<Math.min(a.height,w+x+1);A++)if(a.getBitXY(C,A)===0){g[C]=0;break}}for(let C=0;C<a.width;C++)if(d.getBitXY(C,w)!==0){for(let A=Math.max(0,C-f);A<Math.min(a.width,C+f+1);A++)if(g[A]===0){d.clearBitXY(C,w);break}}}return d}function open(a={}){let{kernel:d=[[1,1,1],[1,1,1],[1,1,1]],iterations:s=1}=a;if(this.checkProcessable("open",{bitDepth:[8,16],components:1,alpha:0}),d.columns%2===0||d.rows%2===0)throw new TypeError("open: The number of rows and columns of the kernel must be odd");let m=this;for(let f=0;f<s;f++)m=m.erode({kernel:d}),m=m.dilate({kernel:d});return m}function close(a={}){let{kernel:d=[[1,1,1],[1,1,1],[1,1,1]],iterations:s=1}=a;if(this.checkProcessable("close",{bitDepth:[1,8,16],components:1,alpha:0}),d.columns%2===0||d.rows%2===0)throw new TypeError("close: The number of rows and columns of the kernel must be odd");let m=this;for(let f=0;f<s;f++)m=m.dilate({kernel:d}).erode({kernel:d});return m}function topHat(a={}){let{kernel:d=[[1,1,1],[1,1,1],[1,1,1]],iterations:s=1}=a;if(this.checkProcessable("topHat",{bitDepth:[8,16],components:1,alpha:0}),d.length%2===0||d[0].length%2===0)throw new TypeError("topHat: The number of rows and columns of the kernel must be odd");let m=this;for(let f=0;f<s;f++)m=m.open({kernel:d}).subtractImage(m,{absolute:!0});return m}function blackHat(a={}){let{kernel:d=[[1,1,1],[1,1,1],[1,1,1]],iterations:s=1}=a;if(this.checkProcessable("blackHat",{bitDepth:[8,16],components:1,alpha:0}),d.columns%2===0||d.rows%2===0)throw new TypeError("blackHat: The number of rows and columns of the kernel must be odd");let m=this;for(let f=0;f<s;f++)m=m.close({kernel:d}).subtractImage(m,{absolute:!0});return m}function morphologicalGradient(a={}){let{kernel:d=[[1,1,1],[1,1,1],[1,1,1]],iterations:s=1}=a;if(this.checkProcessable("morphologicalGradient",{bitDepth:[8,16],components:1,alpha:0}),d.columns%2===0||d.rows%2===0)throw new TypeError("morphologicalGradient: The number of rows and columns of the kernel must be odd");let m=this;for(let f=0;f<s;f++){let x=m.dilate({kernel:d}),g=m.erode({kernel:d});m=x.subtractImage(g,{absolute:!0})}return m}function order4Points(a){let d=0,s=0,m=0,f=0,x=a[0][0],g=0;for(let A=1;A<a.length;A++)a[A][0]<x&&(x=a[A][0],g=A);let w=a[(g+1)%a.length][0],C=(g+1)%a.length;for(let A=1;A<a.length;A++)a[A][0]<w&&A!==g&&(w=a[A][0],C=A);return a[C][1]<a[g][1]?(d=a[C],f=a[g],g!==(C+1)%4?(s=a[(C+1)%4],m=a[(C+2)%4]):(s=a[(C+2)%4],m=a[(C+3)%4])):(f=a[C],d=a[g],C!==(g+1)%4?(s=a[(g+1)%4],m=a[(g+2)%4]):(s=a[(g+2)%4],m=a[(g+3)%4])),[d,s,m,f]}function distance2Points(a,d){return Math.sqrt(Math.pow(a[0]-d[0],2)+Math.pow(a[1]-d[1],2))}function crossVect(a,d){return[a[1]*d[2]-a[2]*d[1],a[2]*d[0]-a[0]*d[2],a[0]*d[1]-a[1]*d[0]]}function dotVect(a,d){return a[0]*d[0]+a[1]*d[1]+a[2]*d[2]}function computeWidthAndHeigth(a,d,s,m,f,x){let g=Math.max(distance2Points(a,d),distance2Points(m,s)),w=Math.max(distance2Points(a,m),distance2Points(d,s)),C=0,A=0,_=Math.ceil(f/2),M=Math.ceil(x/2),P=g/w,D=[a[0],a[1],1],E=[d[0],d[1],1],I=[m[0],m[1],1],B=[s[0],s[1],1],F=dotVect(crossVect(D,B),I)/dotVect(crossVect(E,B),I),R=dotVect(crossVect(D,B),E)/dotVect(crossVect(I,B),E),L=[F*E[0]-D[0],F*E[1]-D[1],F*E[2]-D[2]],z=[R*I[0]-D[0],R*I[1]-D[1],R*I[2]-D[2]],G=L[0],W=L[1],K=L[2],q=z[0],Z=z[1],J=z[2],Q=1/(K*J)*(G*q-(G*J+K*q)*_+K*J*_*_+(W*Z-(W*J+K*Z)*M+K*J*M*M));Q>=0?Q=Math.sqrt(Q):Q=Math.sqrt(-Q);let ie=new Matrix$2([[Q,0,_],[0,Q,M],[0,0,1]]),se=ie.transpose(),oe=inverse(se),ue=inverse(ie),fe=Matrix$2.rowVector(L),xe=Matrix$2.rowVector(z),ce=Math.sqrt(dotVect(fe.mmul(oe).mmul(ue).to1DArray(),L)/dotVect(xe.mmul(oe).mmul(ue).to1DArray(),z));return ce===0||P===0?(C=Math.ceil(g),A=Math.ceil(w)):ce<P?(C=Math.ceil(g),A=Math.ceil(C/ce)):(A=Math.ceil(w),C=Math.ceil(ce*A)),[C,A]}function projectionPoint(a,d,s,m,f,x,g,w,C,A,_,M){let[P,D]=[(s*a+m*d+f)/(C*a+A*d+1),(x*a+g*d+w)/(C*a+A*d+1)];return _.getValueXY(Math.floor(P),Math.floor(D),M)}function warpingFourPoints(a,d={}){let{calculateRatio:s=!0}=d;if(a.length!==4)throw new Error(`The array pts must have four elements, which are the four corners. Currently, pts have ${a.length} elements`);let[m,f,x,g]=a,w=[m,f,x,g],[C,A,_,M]=order4Points(w),P,D;s?[P,D]=computeWidthAndHeigth(C,A,_,M,this.width,this.height):(P=Math.ceil(Math.max(distance2Points(C,A),distance2Points(M,_))),D=Math.ceil(Math.max(distance2Points(C,M),distance2Points(A,_))));let E=Image$1.createFrom(this,{width:P,height:D}),[I,B]=C,[F,R]=A,[L,z]=_,[G,W]=M,[K,q]=[0,0],[Z,J]=[0,P-1],[Q,ie]=[D-1,P-1],[se,oe]=[D-1,0],ue=new Matrix$2([[K,q,1,0,0,0,-K*I,-q*I],[Z,J,1,0,0,0,-Z*F,-J*F],[Q,ie,1,0,0,0,-Q*L,-q*L],[se,oe,1,0,0,0,-se*G,-oe*G],[0,0,0,K,q,1,-K*B,-q*B],[0,0,0,Z,J,1,-Z*R,-J*R],[0,0,0,Q,ie,1,-Q*z,-ie*z],[0,0,0,se,oe,1,-se*W,-oe*W]]),fe=Matrix$2.columnVector([I,F,L,G,B,R,z,W]),ce=new SingularValueDecomposition(ue).solve(fe),[me,pe,Se,Ae,_e,Me,ve,Ee]=ce.to1DArray(),Le=new Matrix$2(D,P);for(let Ie=0;Ie<this.channels;Ie++){for(let Oe=0;Oe<D;Oe++)for(let le=0;le<P;le++)Le.set(Oe,le,projectionPoint(Oe,le,me,pe,Se,Ae,_e,Me,ve,Ee,this,Ie));E.setMatrix(Le,{channel:Ie})}return E}function crop(a={}){let{x:d=0,y:s=0,width:m=this.width-d,height:f=this.height-s}=a;if(this.checkProcessable("crop",{bitDepth:[1,8,16]}),d=Math.round(d),s=Math.round(s),m=Math.round(m),f=Math.round(f),d>this.width-1||s>this.height-1)throw new RangeError(`crop: origin (x:${d}, y:${s}) out of range (${this.width-1}; ${this.height-1})`);if(m<=0||f<=0)throw new RangeError(`crop: width and height (width:${m}; height:${f}) must be positive numbers`);if(d<0||s<0)throw new RangeError(`crop: x and y (x:${d}, y:${s}) must be positive numbers`);if(m>this.width-d||f>this.height-s)throw new RangeError(`crop: (x: ${d}, y:${s}, width:${m}, height:${f}) size is out of range`);let x=this;if(this.bitDepth===1){const g=new Image$1(m,f,{kind:"BINARY",parent:this});x=cropBinary(this,g,d,s,m,f)}else{const g=Image$1.createFrom(this,{width:m,height:f,position:[d,s]});x=cropDefault(this,g,d,s,m,f)}return x}function cropDefault(a,d,s,m,f,x){let g=f*a.channels,w=m+x,C=0,A=s*a.channels;for(let _=m;_<w;_++){let M=_*a.width*a.channels+A,P=M+g;for(;M<P;M++)d.data[C++]=a.data[M]}return d}function cropBinary(a,d,s,m,f,x){let g=f*a.channels,w=m+x,C=0,A=s*a.channels;for(let _=m;_<w;_++){let M=_*a.width*a.channels+A,P=M+g;for(;M<P;M++)a.getBit(M)&&d.setBit(C),++C}return d}function cropAlpha(a={}){this.checkProcessable("cropAlpha",{alpha:1});const{threshold:d=this.maxValue}=a;let s=findLeft(this,d,this.components);if(s===-1)throw new Error("Could not find new dimensions. Threshold may be too high.");let m=findTop(this,d,this.components,s),f=findBottom(this,d,this.components,s),x=findRight(this,d,this.components,s,m,f);return this.crop({x:s,y:m,width:x-s+1,height:f-m+1})}function findLeft(a,d,s){for(let m=0;m<a.width;m++)for(let f=0;f<a.height;f++)if(a.getValueXY(m,f,s)>=d)return m;return-1}function findTop(a,d,s,m){for(let f=0;f<a.height;f++)for(let x=m;x<a.width;x++)if(a.getValueXY(x,f,s)>=d)return f;return-1}function findBottom(a,d,s,m){for(let f=a.height-1;f>=0;f--)for(let x=m;x<a.width;x++)if(a.getValueXY(x,f,s)>=d)return f;return-1}function findRight(a,d,s,m,f,x){for(let g=a.width-1;g>=m;g--)for(let w=f;w<=x;w++)if(a.getValueXY(g,w,s)>=d)return g;return-1}function getFactor(a){if(typeof a=="string"){const d=a[a.length-1];a=parseFloat(a),d==="%"&&(a/=100)}return a}function getThreshold$1(a,d){if(!d)throw Error("getThreshold : the maxValue should be specified");if(typeof a=="string"){if(a[a.length-1]!=="%")throw Error("getThreshold : if the value is a string it must finish by %");return parseFloat(a)/100*d}else{if(typeof a=="number")return a<1?a*d:a;throw Error("getThreshold : the value is not valid")}}function factorDimensions(a,d,s){a=getFactor(a);let m=Math.round(a*d),f=Math.round(a*s);return m<=0&&(m=1),f<=0&&(f=1),{width:m,height:f}}function checkRow(a,d){if(d<0||d>=a.height)throw new RangeError(`row must be included between 0 and ${a.height-1}. Current value: ${d}`)}function checkColumn(a,d){if(d<0||d>=a.width)throw new RangeError(`column must be included between 0 and ${a.width-1}. Current value: ${d}`)}function checkChannel(a,d){if(d<0||d>=a.channels)throw new RangeError(`channel must be included between 0 and ${a.channels-1}. Current value: ${d}`)}const validInterpolations={nearestneighbor:"nearestNeighbor",nearestneighbour:"nearestNeighbor",bilinear:"bilinear"};function checkInterpolation(a){if(typeof a!="string")throw new TypeError("interpolation must be a string");if(a=a.toLowerCase(),!validInterpolations[a])throw new RangeError(`invalid interpolation algorithm: ${a}`);return validInterpolations[a]}function nearestNeighbor(a,d,s){const m=this.width/d,f=this.height/s;if(this.bitDepth>1)for(let x=0;x<d;x++){const g=Math.floor((x+.5)*m);for(let w=0;w<s;w++){const C=Math.floor((w+.5)*f);for(let A=0;A<this.channels;A++)a.setValueXY(x,w,A,this.getValueXY(g,C,A))}}else for(let x=0;x<d;x++){const g=Math.floor((x+.5)*m);for(let w=0;w<s;w++){const C=Math.floor((w+.5)*f);this.getBitXY(g,C)&&a.setBitXY(x,w)}}}function resize(a={}){const{factor:d=1,interpolation:s=validInterpolations.nearestneighbor,preserveAspectRatio:m=!0}=a,f=checkInterpolation(s);let x=a.width,g=a.height;if(x||(g&&m?x=Math.round(g*(this.width/this.height)):x=this.width),g||(m?g=Math.round(x*(this.height/this.width)):g=this.height),{width:x,height:g}=factorDimensions(d,x,g),x===this.width&&g===this.height){const _=this.clone();return _.position=[0,0],_}let w=Math.round((this.width-x)/2),C=Math.round((this.height-g)/2);const A=Image$1.createFrom(this,{width:x,height:g,position:[w,C]});switch(f){case validInterpolations.nearestneighbor:nearestNeighbor.call(this,A,x,g);break;default:throw new Error(`unsupported resize interpolation: ${f}`)}return A}function hsv(){this.checkProcessable("hsv",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let a=Image$1.createFrom(this,{colorModel:HSV}),d=0,s=this.data;for(let m=0;m<s.length;m+=this.channels){let f=s[m],x=s[m+1],g=s[m+2],w=Math.min(f,x,g),C=Math.max(f,x,g),A=C-w,_=0,M=C===0?0:A/C,P=C;if(C!==w){switch(C){case f:_=(x-g)/A+(x<g?6:0);break;case x:_=(g-f)/A+2;break;case g:_=(f-x)/A+4;break;default:throw new Error("unreachable")}_/=6}a.data[d++]=_*this.maxValue,a.data[d++]=M*this.maxValue,a.data[d++]=P,this.alpha&&(a.data[d++]=s[m+3])}return a}function hsl$1(){this.checkProcessable("hsl",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let a=Image$1.createFrom(this,{colorModel:HSL}),d=Math.floor(this.maxValue/2),s=0,m=this.data;for(let f=0;f<m.length;f+=this.channels){let x=m[f],g=m[f+1],w=m[f+2],C=Math.max(x,g,w),A=Math.min(x,g,w),_=0,M=0,P=(C+A)/2;if(C!==A){let D=C-A;switch(M=P>d?D/(2-C-A):D/(C+A),C){case x:_=(g-w)/D+(g<w?6:0);break;case g:_=(w-x)/D+2;break;case w:_=(x-g)/D+4;break;default:throw new Error("unreachable")}_/=6}a.data[s++]=_*this.maxValue,a.data[s++]=M*this.maxValue,a.data[s++]=P,this.alpha&&(a.data[s++]=m[f+3])}return a}function cmyk(){this.checkProcessable("cmyk",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let a=Image$1.createFrom(this,{components:4,colorModel:CMYK$1}),d=0,s=this.data;for(let m=0;m<s.length;m+=this.channels){let f=s[m],x=s[m+1],g=s[m+2],w=Math.min(this.maxValue-f,this.maxValue-x,this.maxValue-g),C=(this.maxValue-f-w)/(1-w/this.maxValue),A=(this.maxValue-x-w)/(1-w/this.maxValue),_=(this.maxValue-g-w)/(1-w/this.maxValue);a.data[d++]=Math.round(C),a.data[d++]=Math.round(A),a.data[d++]=Math.round(_),a.data[d++]=Math.round(w),this.alpha&&(a.data[d++]=s[m+3])}return a}function rgba8(){return new Image$1(this.width,this.height,this.getRGBAData(),{kind:"RGBA",parent:this})}const methods$1={luma709(a,d,s){return a*6966+d*23436+s*2366>>15},luma601(a,d,s){return a*9798+d*19235+s*3735>>15},maximum(a,d,s){return Math.max(a,d,s)},minimum(a,d,s){return Math.min(a,d,s)},average(a,d,s){return(a+d+s)/3>>0},minmax(a,d,s){return(Math.max(a,d,s)+Math.min(a,d,s))/2},red(a){return a},green(a,d){return d},blue(a,d,s){return s},cyan(a,d,s,m){let f=methods$1.black(a,d,s,m);return(m.maxValue-a-f)/(1-f/m.maxValue)>>0},magenta(a,d,s,m){let f=methods$1.black(a,d,s,m);return(m.maxValue-d-f)/(1-f/m.maxValue)>>0},yellow(a,d,s,m){let f=methods$1.black(a,d,s,m);return(m.maxValue-s-f)/(1-f/m.maxValue)>>0},black(a,d,s,m){return Math.min(m.maxValue-a,m.maxValue-d,m.maxValue-s)},hue(a,d,s,m){let f=methods$1.min(a,d,s),x=methods$1.max(a,d,s);if(x===f)return 0;let g=0,w=x-f;switch(x){case a:g=(d-s)/w+(d<s?6:0);break;case d:g=(s-a)/w+2;break;case s:g=(a-d)/w+4;break;default:throw new Error("unreachable")}return g/6*m.maxValue>>0},saturation(a,d,s,m){let f=methods$1.min(a,d,s),x=methods$1.max(a,d,s),g=x-f;return x===0?0:g/x*m.maxValue},lightness(a,d,s){let m=methods$1.min(a,d,s);return(methods$1.max(a,d,s)+m)/2}};Object.defineProperty(methods$1,"luminosity",{enumerable:!1,value:methods$1.lightness});Object.defineProperty(methods$1,"luminance",{enumerable:!1,value:methods$1.lightness});Object.defineProperty(methods$1,"min",{enumerable:!1,value:methods$1.minimum});Object.defineProperty(methods$1,"max",{enumerable:!1,value:methods$1.maximum});Object.defineProperty(methods$1,"brightness",{enumerable:!1,value:methods$1.maximum});Object.keys(methods$1).forEach(a=>{});function grey(a={}){let{algorithm:d="luma709",keepAlpha:s=!1,mergeAlpha:m=!0}=a;if(typeof d!="string"&&typeof d!="function")throw new TypeError("algorithm must be a string or a function");this.checkProcessable("grey",{bitDepth:[8,16],alpha:[0,1]}),this.components===1&&(d="red"),s&=this.alpha,m&=this.alpha,s&&(m=!1);let f=getOutputImage(this,a,{components:1,alpha:s,colorModel:GREY$1}),x;if(typeof d=="function")x=d;else if(x=methods$1[d.toLowerCase()],!x)throw new Error(`unsupported grey algorithm: ${d}`);let g=0;for(let w=0;w<this.data.length;w+=this.channels)m?f.data[g++]=clamp(x(this.data[w],this.data[w+1],this.data[w+2],this)*this.data[w+this.components]/this.maxValue,this):(f.data[g++]=clamp(x(this.data[w],this.data[w+1],this.data[w+2],this),this),f.alpha&&(f.data[g++]=this.data[w+this.components]));return f}function huang(a){let d=0;for(let _=0;_<a.length;_++)if(a[_]!==0){d=_;break}let s=a.length-1;for(let _=a.length-1;_>=d;_--)if(a[_]!==0){s=_;break}let m=1/(s-d),f=new Array(a.length),x=0,g=0;for(let _=d;_<a.length;_++)x+=_*a[_],g+=a[_],f[_]=x/g;let w=new Array(a.length);x=g=0;for(let _=s;_>0;_--)x+=_*a[_],g+=a[_],w[_-1]=x/g;let C=-1,A=Number.MAX_VALUE;for(let _=0;_<a.length;_++){let M=0,P;for(let D=0;D<=_;D++)P=1/(1+m*Math.abs(D-f[_])),P<1e-6||P>.999999||(M+=a[D]*(-P*Math.log(P)-(1-P)*Math.log(1-P)));for(let D=_+1;D<a.length;D++)P=1/(1+m*Math.abs(D-w[_])),P<1e-6||P>.999999||(M+=a[D]*(-P*Math.log(P)-(1-P)*Math.log(1-P)));M<A&&(A=M,C=_)}return C}function intermodes(a){let d=a.slice(),s=0;for(;!bimodalTest$1(d);){let f=0,x=0,g=d[0];for(let w=0;w<a.length-1;w++)f=x,x=g,g=d[w+1],d[w]=(f+x+g)/3;if(d[a.length-1]=(x+g)/3,s++,s>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}let m=0;for(let f=1;f<a.length-1;f++)d[f-1]<d[f]&&d[f+1]<d[f]&&(m+=f);return Math.floor(m/2)}function bimodalTest$1(a){let d=!1,s=0;for(let m=1;m<a.length-1;m++)if(a[m-1]<a[m]&&a[m+1]<a[m]&&(s++,s>2))return!1;return s===2&&(d=!0),d}function isodata(a){let d,s,m,f,x=0;for(let g=1;g<a.length;g++)if(a[g]>0){x=g+1;break}for(;;){d=0,m=0;for(let g=0;g<x;g++)m=m+a[g],d=d+a[g]*g;f=0,s=0;for(let g=x+1;g<a.length;g++)s+=a[g],f+=a[g]*g;if(m>0&&s>0&&(d/=m,f/=s,x===Math.round((d+f)/2)))break;if(x++,x>a.length-2)throw new Error("Threshold not found")}return x}function li(a,d){let s,m,f,x,g,w,C,A,_,M,P,D;P=.5,M=0;for(let E=0;E<a.length;E++)M+=E*a[E];M/=d,C=M;do{w=C,s=w+.5|0,m=0,x=0;for(let E=0;E<=s;E++)m+=E*a[E],x+=a[E];A=x===0?0:m/x,f=0,g=0;for(let E=s+1;E<a.length;E++)f+=E*a[E],g+=a[E];_=g===0?0:f/g,D=(A-_)/(Math.log(A)-Math.log(_)),D<-Number.EPSILON?C=D-.5|0:C=D+.5|0}while(Math.abs(C-w)>P);return s}function maxEntropy(a,d){let s=new Array(a.length);for(let P=0;P<a.length;P++)s[P]=a[P]/d;let m=new Array(a.length),f=new Array(a.length);m[0]=s[0],f[0]=1-m[0];for(let P=1;P<a.length;P++)m[P]=m[P-1]+s[P],f[P]=1-m[P];let x=0;for(let P=0;P<a.length;P++)if(Math.abs(m[P])>=Number.EPSILON){x=P;break}let g=a.length-1;for(let P=a.length-1;P>=x;P--)if(Math.abs(f[P])>=Number.EPSILON){g=P;break}let w=-1,C,A=Number.MIN_VALUE,_,M;for(let P=x;P<=g;P++){_=0;for(let D=0;D<=P;D++)a[D]!==0&&(_-=s[D]/m[P]*Math.log(s[D]/m[P]));M=0;for(let D=P+1;D<a.length;D++)a[D]!==0&&(M-=s[D]/f[P]*Math.log(s[D]/f[P]));C=_+M,A<C&&(A=C,w=P)}return w}function mean$1(a,d){let s=0;for(let m=0;m<a.length;m++)s+=m*a[m];return Math.floor(s/d)}function minError(a,d){let s,m=-2,f,x,g,w,C,A,_,M,P,D,E,I=0;for(let B=0;B<a.length;B++)I+=B*a[B];for(I/=d,s=I;s!==m;){let B=sumA(a,s),F=sumA(a,a.length-1),R=sumB(a,s),L=sumB(a,a.length-1),z=sumC(a,s),G=sumC(a,a.length-1);if(f=R/B,x=(L-R)/(F-B),g=B/F,w=(F-B)/F,C=z/B-f*f,A=(G-z)/(F-B)-x*x,_=1/C-1/A,M=f/C-x/A,P=f*f/C-x*x/A+Math.log10(C*(w*w)/(A*(g*g))),D=M*M-_*P,D<0)return s;m=s,E=(M+Math.sqrt(D))/_,isNaN(E)?s=m:s=Math.floor(E)}return s}function sumA(a,d){let s=0;for(let m=0;m<=d;m++)s+=a[m];return s}function sumB(a,d){let s=0;for(let m=0;m<=d;m++)s+=m*a[m];return s}function sumC(a,d){let s=0;for(let m=0;m<=d;m++)s+=m*m*a[m];return s}function minimum(a){if(a.length<2)return 0;let d=0,s=-1,m=-1,f=new Array(a.length);for(let x=0;x<a.length;x++)f[x]=a[x],a[x]>0&&(m=x);for(;!bimodalTest(f);)if(f=smoothed(f),d++,d>1e4)return s;return s=minimumBetweenPeeks(f,m),s}function smoothed(a){let d=new Array(a.length);for(let s=1;s<a.length-1;s++)d[s]=(a[s-1]+a[s]+a[s+1])/3;return d[0]=(a[0]+a[1])/3,d[a.length-1]=(a[a.length-2]+a[a.length-1])/3,d}function minimumBetweenPeeks(a,d){let s;for(let m=1;m<d;m++)if(a[m-1]>a[m]&&a[m+1]>=a[m]){s=m;break}return s}function bimodalTest(a){let d=a.length,s=!1,m=0;for(let f=1;f<d-1;f++)if(a[f-1]<a[f]&&a[f+1]<a[f]&&(m++,m>2))return!1;return m===2&&(s=!0),s}function moments(a,d){let s=1,m=0,f=0,x=0,g=0,w,C,A,_,M,P,D=-1,E=a.length,I=new Array(E);for(let B=0;B<E;B++)I[B]=a[B]/d;for(let B=0;B<E;B++)m+=B*I[B],f+=B*B*I[B],x+=B*B*B*I[B];C=s*f-m*m,A=(-f*f+m*x)/C,_=(s*-x+f*m)/C,M=.5*(-_-Math.sqrt(_*_-4*A)),P=.5*(-_+Math.sqrt(_*_-4*A)),w=(P-m)/(P-M);for(let B=0;B<E;B++)if(g+=I[B],g>w){D=B;break}return D}function otsu(a,d){let s=0,m=0,f=0,x=0,g=0;for(let w=0;w<a.length;w++)g+=w*a[w];for(let w=0;w<a.length;w++){m=m+a[w];const C=d-m;if(m===0||C===0)continue;s=s+w*a[w];const A=(g-s)/C,_=m*C*(s/m-A)*(s/m-A);_>=f&&(x=w,f=_)}return x}function percentile(a){let d=-1,s=.5,m=new Array(a.length),f=partialSum(a,a.length-1),x=1;for(let g=0;g<a.length;g++)m[g]=Math.abs(partialSum(a,g)/f-s),m[g]<x&&(x=m[g],d=g);return d}function partialSum(a,d){let s=0;for(let m=0;m<=d;m++)s+=a[m];return s}function renyiEntropy(a,d){let s,m,f,x=new Array(a.length),g=new Array(a.length),w=new Array(a.length),C=0,A=0,_=0,M=0,P=0,D=0,I=1/(1-.5),F=1/(1-2);for(let G=0;G<a.length;G++)x[G]=a[G]/d;g[0]=x[0],w[0]=1-g[0];for(let G=1;G<a.length;G++)g[G]=g[G-1]+x[G],w[G]=1-g[G];m=0;for(let G=0;G<a.length;G++)if(Math.abs(g[G])>=Number.EPSILON){m=G;break}f=a.length-1;for(let G=a.length-1;G>=m;G--)if(Math.abs(w[G])>=Number.EPSILON){f=G;break}for(let G=m;G<=f;G++){let W=0,K=0,q=0;for(let ue=0;ue<=G;ue++)a[ue]!==0&&(W-=x[ue]/g[G]*Math.log(x[ue]/g[G])),K+=Math.sqrt(x[ue]/g[G]),q+=x[ue]*x[ue]/(g[G]*g[G]);let Z=0,J=0,Q=0;for(let ue=G+1;ue<a.length;ue++)a[ue]!==0&&(Z-=x[ue]/w[G]*Math.log(x[ue]/w[G])),J+=Math.sqrt(x[ue]/w[G]),Q+=x[ue]*x[ue]/(w[G]*w[G]);let ie=W+Z,se=I*(K*J>0?Math.log(K*J):0),oe=F*(q*Q>0?Math.log(q*Q):0);ie>M&&(M=ie,C=G),se>P&&(P=se,A=G),oe>D&&(D=oe,_=G)}let R=[C,A,_];R.sort((G,W)=>G-W);let L;Math.abs(R[0]-R[1])<=5?Math.abs(R[1]-R[2])<=5?L=[1,2,1]:L=[0,1,3]:Math.abs(R[1]-R[2])<=5?L=[3,1,0]:L=[1,2,1];let z=g[R[2]]-g[R[0]];return s=Math.round(R[0]*(g[R[0]]+.25*z*L[0])+.25*R[1]*z*L[1]+R[2]*(w[R[2]]+.25*z*L[2])),s}function shanbhag(a,d){let s=new Array(a.length);for(let D=0;D<a.length;D++)s[D]=a[D]/d;let m=new Array(a.length),f=new Array(a.length);m[0]=s[0],f[0]=1-m[0];for(let D=1;D<a.length;D++)m[D]=m[D-1]+s[D],f[D]=1-m[D];let x=0;for(let D=0;D<a.length;D++)if(Math.abs(m[D])>=Number.EPSILON){x=D;break}let g=a.length-1;for(let D=a.length-1;D>=x;D--)if(Math.abs(f[D])>=Number.EPSILON){g=D;break}let w=-1,C=Number.MAX_VALUE,A,_,M,P;for(let D=x;D<=g;D++){M=0,A=.5/m[D];for(let E=1;E<=D;E++)M-=s[E]*Math.log(1-A*m[E-1]);M*=A,P=0,A=.5/f[D];for(let E=D+1;E<a.length;E++)P-=s[E]*Math.log(1-A*f[E]);P*=A,_=Math.abs(M-P),_<C&&(C=_,w=D)}return w}function triangle$1(a){let d=0,s=0,m=0,f=0;for(let M=0;M<a.length;M++)if(a[M]>0){d=M;break}d>0&&d--;for(let M=a.length-1;M>0;M--)if(a[M]>0){f=M;break}f<a.length-1&&f++;for(let M=0;M<a.length;M++)a[M]>s&&(m=M,s=a[M]);let x=!1;if(m-d<f-m){x=!0;let M=0,P=a.length-1;for(;M<P;){let D=a[M];a[M]=a[P],a[P]=D,M++,P--}d=a.length-1-f,m=a.length-1-m}if(d===m)return d;let g,w,C;g=a[m],w=d-m,C=Math.sqrt(g*g+w*w),g/=C,w/=C,C=g*d+w*a[d];let A=d,_=0;for(let M=d+1;M<=m;M++){let P=g*M+w*a[M]-C;P>_&&(A=M,_=P)}if(A--,x){let M=0,P=a.length-1;for(;M<P;){let D=a[M];a[M]=a[P],a[P]=D,M++,P--}return a.length-1-A}else return A}function yen(a,d){let s=new Array(a.length);for(let A=0;A<a.length;A++)s[A]=a[A]/d;let m=new Array(a.length);m[0]=s[0];for(let A=1;A<a.length;A++)m[A]=m[A-1]+s[A];let f=new Array(a.length);f[0]=s[0]*s[0];for(let A=1;A<a.length;A++)f[A]=f[A-1]+s[A]*s[A];let x=new Array(a.length);x[a.length-1]=0;for(let A=a.length-2;A>=0;A--)x[A]=x[A+1]+s[A+1]*s[A+1];let g=-1,w=Number.MIN_VALUE,C;for(let A=0;A<a.length;A++)C=-1*(f[A]*x[A]>0?Math.log(f[A]*x[A]):0)+2*(m[A]*(1-m[A])>0?Math.log(m[A]*(1-m[A])):0),C>w&&(w=C,g=A);return g}const methods={huang,intermodes,isodata,li,maxentropy:maxEntropy,mean:mean$1,minerror:minError,minimum,moments,otsu,percentile,renyientropy:renyiEntropy,shanbhag,triangle:triangle$1,yen},names={};Object.keys(methods).forEach(a=>{names[a]=a});function getThreshold(a={}){let{algorithm:d=names.otsu}=a;this.checkProcessable("getThreshold",{components:1,bitDepth:[8,16]});let s=methods[d.toLowerCase()];if(s){let m=this.getHistogram();return s(m,this.size)}else throw new Error(`unknown thresholding algorithm: ${d}`)}const THRESHOLD="threshold";function mask(a={}){let{algorithm:d=THRESHOLD,threshold:s=.5,useAlpha:m=!0,invert:f=!1}=a;this.checkProcessable("mask",{components:1,bitDepth:[8,16]}),d===THRESHOLD?s=getThreshold$1(s,this.maxValue):s=getThreshold.call(this,a);let x=new Image$1(this.width,this.height,{kind:"BINARY",parent:this}),g=0;if(this.alpha&&m)for(let w=0;w<this.data.length;w+=this.channels){let C=this.data[w]+(this.maxValue-this.data[w])*(this.maxValue-this.data[w+1])/this.maxValue;(f&&C<=s||!f&&C>=s)&&x.setBit(g),g++}else for(let w=0;w<this.data.length;w+=this.channels)(f&&this.data[w]<=s||!f&&this.data[w]>=s)&&x.setBit(g),g++;return x}function copyImage(a,d,s,m){let f=a.width,x=a.height,g=d.width,w=a.channels;for(let C=0;C<f;C++)for(let A=0;A<x;A++)for(let _=0;_<w;_++){let M=(A*f+C)*w+_,P=((m+A)*g+s+C)*w+_;d.data[P]=a.data[M]}}function pad(a={}){let{size:d=0,algorithm:s="copy",color:m}=a;if(this.checkProcessable("pad",{bitDepth:[8,16]}),s==="set"){if(m.length!==this.channels)throw new Error(`pad: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let C=0;C<m.length;C++)m[C]===0&&(m[C]=.001)}else m=newArray$1(this.channels,null);Array.isArray(d)||(d=[d,d]);let f=this.width+d[0]*2,x=this.height+d[1]*2,g=this.channels,w=Image$1.createFrom(this,{width:f,height:x});copyImage(this,w,d[0],d[1]);for(let C=d[0];C<f-d[0];C++)for(let A=0;A<g;A++){let _=m[A]||w.data[(d[1]*f+C)*g+A];for(let M=0;M<d[1];M++)w.data[(M*f+C)*g+A]=_;_=m[A]||w.data[((x-d[1]-1)*f+C)*g+A];for(let M=x-d[1];M<x;M++)w.data[(M*f+C)*g+A]=_}for(let C=0;C<x;C++)for(let A=0;A<g;A++){let _=m[A]||w.data[(C*f+d[0])*g+A];for(let M=0;M<d[0];M++)w.data[(C*f+M)*g+A]=_;_=m[A]||w.data[(C*f+f-d[0]-1)*g+A];for(let M=f-d[0];M<f;M++)w.data[(C*f+M)*g+A]=_}return w}function colorDepth(a=8){if(this.checkProcessable("colorDepth",{bitDepth:[1,8,16]}),![8,16].includes(a))throw Error("You need to specify the new colorDepth as 8 or 16");if(this.bitDepth===a)return this.clone();let d=Image$1.createFrom(this,{bitDepth:a});switch(a){case 8:if(this.bitDepth===1)for(let s=0;s<this.size;s++)this.getBit(s)&&(d.data[s]=255);else for(let s=0;s<this.data.length;s++)d.data[s]=this.data[s]>>8;break;case 16:if(this.bitDepth===1)for(let s=0;s<this.size;s++)this.getBit(s)&&(d.data[s]=65535);else for(let s=0;s<this.data.length;s++)d.data[s]=this.data[s]<<8|this.data[s];break;default:throw new Error("colorDepth conversion unexpected case")}return d}function rotateFree(a,d={}){const{interpolation:s=validInterpolations.nearestneighbor,width:m=this.width,height:f=this.height}=d;if(typeof a!="number")throw new TypeError("degrees must be a number");const x=checkInterpolation(s),g=a*Math.PI/180,w=Math.floor(Math.abs(m*Math.cos(g))+Math.abs(f*Math.sin(g))),C=Math.floor(Math.abs(f*Math.cos(g))+Math.abs(m*Math.sin(g))),A=Math.cos(-g),_=Math.sin(-g);let M=w/2,P=C/2;w%2===0?(M=M-.5,C%2===0?P=P-.5:P=Math.floor(P)):(M=Math.floor(M),C%2===0?P=P-.5:P=Math.floor(P));const D=Math.floor(m/2-M),E=Math.floor(f/2-P);if(this.bitDepth===1){const I=new Image$1(w,C,{kind:"BINARY",parent:this});switch(x){case validInterpolations.nearestneighbor:return rotateBinaryNearestNeighbor(this,I,D,E,M,P,A,_);case validInterpolations.bilinear:return rotateBinaryBilinear(this,I,D,E,M,P,A,_);default:throw new Error(`unsupported rotate interpolation: ${x}`)}}else{const I=Image$1.createFrom(this,{width:w,height:C});switch(x){case validInterpolations.nearestneighbor:return rotateNearestNeighbor(this,I,D,E,M,P,A,_);case validInterpolations.bilinear:return rotateBilinear(this,I,D,E,M,P,A,_);default:throw new Error(`unsupported rotate interpolation: ${x}`)}}}function rotateNearestNeighbor(a,d,s,m,f,x,g,w){for(let C=0;C<d.width;C+=1)for(let A=0;A<d.height;A+=1)for(let _=0;_<a.channels;_++){let M=Math.round((C-f)*g-(A-x)*w+f)+s,P=Math.round((A-x)*g+(C-f)*w+x)+m;M<0||M>=a.width||P<0||P>=a.height?a.alpha===1&&_===a.channels-1?d.setValueXY(C,A,_,0):d.setValueXY(C,A,_,a.maxValue):d.setValueXY(C,A,_,a.getValueXY(M,P,_))}return d}function rotateBinaryNearestNeighbor(a,d,s,m,f,x,g,w){for(let C=0;C<d.width;C+=1)for(let A=0;A<d.height;A+=1){let _=Math.round((C-f)*g-(A-x)*w+f)+s,M=Math.round((A-x)*g+(C-f)*w+x)+m;(_<0||_>=a.width||M<0||M>=a.height||a.getBitXY(_,M))&&d.setBitXY(C,A)}return d}function rotateBilinear(a,d,s,m,f,x,g,w){let C=a.width*a.channels;for(let A=0;A<d.height;A++)for(let _=0;_<d.width;_++){let M=(_-f)*g-(A-x)*w+f+s,P=(A-x)*g+(_-f)*w+x+m,D=M|0,E=P|0,I=M-D,B=P-E;for(let F=0;F<a.channels;F++)if(M<0||M>=a.width||P<0||P>=a.height)a.alpha===1&&F===a.channels-1?d.setValueXY(_,A,F,0):d.setValueXY(_,A,F,a.maxValue);else{let R=(E*a.width+D)*a.channels+F,L=a.data[R],z=a.data[R+a.channels],G=a.data[R+C],W=a.data[R+C+a.channels],K=L+I*(z-L)+B*(G-L)+I*B*(L-z-G+W)|0;d.setValueXY(_,A,F,K)}}return d}function rotateBinaryBilinear(a,d,s,m,f,x,g,w){let C=a.width;for(let A=0;A<d.height;A++)for(let _=0;_<d.width;_++){let M=(_-f)*g-(A-x)*w+f+s,P=(A-x)*g+(_-f)*w+x+m,D=M|0,E=P|0,I=M-D,B=P-E;if(M<0||M>=a.width||P<0||P>=a.height)d.setBitXY(_,A);else{let F=E*a.width+D,R=a.getBit(F),L=a.getBit(F+1),z=a.getBit(F+C),G=a.getBit(F+1+C);(R|I&L-R|B&z-R|I&B&R-L-z+G)>0&&d.setBitXY(_,A)}}return d}function rotate$1(a,d){if(this.checkProcessable("rotate",{bitDepth:[1,8,16]}),typeof a!="number")throw new TypeError("angle must be a number");switch(a<0&&(a=Math.ceil(-a/360)*360+a),a%360){case 0:return this.clone();case 90:return rotateRight.call(this);case 180:return rotate180.call(this);case 270:return rotateLeft.call(this);default:return rotateFree.call(this,a,d)}}function rotateLeft(){if(this.bitDepth===1){const a=new Image$1(this.height,this.width,{kind:"BINARY",parent:this}),d=a.height-1;for(let s=0;s<this.height;s++)for(let m=0;m<this.width;m++)this.getBitXY(m,s)&&a.setBitXY(s,d-m);return a}else{const a=Image$1.createFrom(this,{width:this.height,height:this.width}),d=a.height-1;for(let s=0;s<this.height;s++)for(let m=0;m<this.width;m++)for(let f=0;f<this.channels;f++)a.setValueXY(s,d-m,f,this.getValueXY(m,s,f));return a}}function rotateRight(){if(this.bitDepth===1){const a=new Image$1(this.height,this.width,{kind:"BINARY",parent:this}),d=a.width-1;for(let s=0;s<this.height;s++)for(let m=0;m<this.width;m++)this.getBitXY(m,s)&&a.setBitXY(d-s,m);return a}else{const a=Image$1.createFrom(this,{width:this.height,height:this.width}),d=a.width-1;for(let s=0;s<this.height;s++)for(let m=0;m<this.width;m++)for(let f=0;f<this.channels;f++)a.setValueXY(d-s,m,f,this.getValueXY(m,s,f));return a}}function rotate180(){if(this.bitDepth===1){const a=new Image$1(this.width,this.height,{kind:"BINARY",parent:this}),d=a.width-1,s=a.height-1;for(let m=0;m<this.height;m++)for(let f=0;f<this.width;f++)this.getBitXY(f,m)&&a.setBitXY(d-f,s-m);return a}else{const a=Image$1.createFrom(this),d=a.width-1,s=a.height-1;for(let m=0;m<this.height;m++)for(let f=0;f<this.width;f++)for(let x=0;x<this.channels;x++)a.setValueXY(d-f,s-m,x,this.getValueXY(f,m,x));return a}}function insert(a,d={}){const s=getImageParameters(a);this.checkProcessable("insert",s);let{x:m=0,y:f=0}=d;const x=getOutputImageOrInPlace(this,d,{copy:!0}),g=Math.min(x.height,f+a.height),w=Math.min(x.width,m+a.width);if(x.bitDepth===1)for(let C=f;C<g;C++)for(let A=m;A<w;A++)a.getBitXY(A-m,C-f)?x.setBitXY(A,C):x.clearBitXY(A,C);else for(let C=f;C<g;C++)for(let A=m;A<w;A++)x.setPixelXY(A,C,a.getPixelXY(A-m,C-f));return x}function setBorder(a={}){let{size:d=0,algorithm:s="copy",color:m}=a;if(this.checkProcessable("setBorder",{bitDepth:[8,16,32,64]}),s==="set"){if(m.length!==this.channels)throw new Error(`setBorder: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let w=0;w<m.length;w++)m[w]===0&&(m[w]=.001)}else m=newArray$1(this.channels,null);Array.isArray(d)||(d=[d,d]);let f=d[0],x=d[1],g=this.channels;for(let w=f;w<this.width-f;w++)for(let C=0;C<g;C++){let A=m[C]||this.data[(w+this.width*x)*g+C];for(let _=0;_<x;_++)this.data[(_*this.width+w)*g+C]=A;A=m[C]||this.data[(w+this.width*(this.height-x-1))*g+C];for(let _=this.height-x;_<this.height;_++)this.data[(_*this.width+w)*g+C]=A}for(let w=0;w<this.height;w++)for(let C=0;C<g;C++){let A=m[C]||this.data[(w*this.width+f)*g+C];for(let _=0;_<f;_++)this.data[(w*this.width+_)*g+C]=A;A=m[C]||this.data[(w*this.width+this.width-f-1)*g+C];for(let _=this.width-f;_<this.width;_++)this.data[(w*this.width+_)*g+C]=A}return this}function split(a={}){let{preserveAlpha:d=!0}=a;if(this.checkProcessable("split",{bitDepth:[8,16]}),this.components===1)return new Stack([this.clone()]);let s=new Stack,m=this.data;if(this.alpha&&d)for(let f=0;f<this.components;f++){let x=Image$1.createFrom(this,{components:1,alpha:!0,colorModel:GREY$1}),g=0;for(let w=0;w<m.length;w+=this.channels)x.data[g++]=m[w+f],x.data[g++]=m[w+this.components];s.push(x)}else for(let f=0;f<this.channels;f++){let x=Image$1.createFrom(this,{components:1,alpha:!1,colorModel:GREY$1}),g=0;for(let w=0;w<m.length;w+=this.channels)x.data[g++]=m[w+f];s.push(x)}return s}function getChannel(a,d={}){let{keepAlpha:s=!1,mergeAlpha:m=!1}=d;s&=this.alpha,m&=this.alpha,this.checkProcessable("getChannel",{bitDepth:[8,16]}),a=validateChannel(this,a);let f=Image$1.createFrom(this,{components:1,alpha:s,colorModel:GREY$1}),x=0;for(let g=0;g<this.data.length;g+=this.channels)m?f.data[x++]=this.data[g+a]*this.data[g+this.components]/this.maxValue:(f.data[x++]=this.data[g+a],s&&(f.data[x++]=this.data[g+this.components]));return f}function combineChannels(a=defaultCombineMethod,d={}){let{mergeAlpha:s=!1,keepAlpha:m=!1}=d;s&=this.alpha,m&=this.alpha,this.checkProcessable("combineChannels",{bitDepth:[8,16]});let f=Image$1.createFrom(this,{components:1,alpha:m,colorModel:GREY$1}),x=0;for(let g=0;g<this.size;g++){let w=a(this.getPixel(g));s?f.data[x++]=w*this.data[g*this.channels+this.components]/this.maxValue:(f.data[x++]=w,m&&(f.data[x++]=this.data[g*this.channels+this.components]))}return f}function defaultCombineMethod(a){return(a[0]+a[1]+a[2])/3}function setChannel(a,d){if(this.checkProcessable("setChannel",{bitDepth:[8,16]}),d.checkProcessable("setChannel (image parameter check)",{bitDepth:[this.bitDepth],alpha:[0],components:[1]}),d.width!==this.width||d.height!==this.height)throw new Error("Images must have exactly the same width and height");a=validateChannel(this,a);let s=a;for(let m=0;m<d.data.length;m++)this.data[s]=d.data[m],s+=this.channels;return this}function getSimilarity(a,d={}){let{shift:s=[0,0],average:m,channels:f,defaultAlpha:x,normalize:g,border:w=[0,0]}=d;if(this.checkProcessable("getSimilarity",{bitDepth:[8,16]}),Array.isArray(w)||(w=[w,w]),f=validateArrayOfChannels(this,{channels:f,defaultAlpha:x}),this.bitDepth!==a.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==a.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==a.colorModel)throw new Error("Both images must have the same colorModel");typeof m>"u"&&(m=!0);let C=Math.max(w[0],-s[0]),A=Math.min(this.width-w[0],this.width-s[0]),_=Math.max(w[1],-s[1]),M=Math.min(this.height-w[1],this.height-s[1]),P=newArray$1(f.length,0);for(let D=0;D<f.length;D++){let E=f[D],I=g?this.sum[E]:Math.max(this.sum[E],a.sum[E]),B=g?a.sum[E]:Math.max(this.sum[E],a.sum[E]);if(I!==0&&B!==0)for(let F=C;F<A;F++)for(let R=_;R<M;R++){let L=F*this.multiplierX+R*this.multiplierY+E,z=L+s[0]*this.multiplierX+s[1]*this.multiplierY;P[D]+=Math.min(this.data[L]/I,a.data[z]/B)}}return m?P.reduce((D,E)=>D+E)/P.length:P}function getPixelsGrid(a={}){let{sampling:d=[10,10],painted:s=!1,mask:m}=a;this.checkProcessable("getPixelsGrid",{bitDepth:[8,16],channels:1}),Array.isArray(d)||(d=[d,d]);const f=d[0],x=d[1],g=[],w=[],C=this.width/f,A=this.height/x;let _=Math.floor(C/2);for(let P=0;P<f;P++){let D=Math.floor(A/2);for(let E=0;E<x;E++){let I=Math.round(_),B=Math.round(D);(!m||m.getBitXY(I,B))&&(g.push([I,B]),w.push(this.getPixelXY(I,B))),D+=A}_+=C}const M={xyS:g,zS:w};return s&&(M.painted=this.rgba8().paintPoints(g)),M}function Matrix(a,d,s){const m=new Array(a);for(let f=0;f<a;f++)m[f]=new Array(d);if(s)for(let f=0;f<a;f++)for(let x=0;x<d;x++)m[f][x]=s;return m.width=a,m.height=d,Object.setPrototypeOf(m,Matrix.prototype),m}Matrix.prototype.localMin=function(a,d){let s=this[a][d],m=[a,d];for(let f=Math.max(0,a-1);f<Math.min(this.length,a+2);f++)for(let x=Math.max(0,d-1);x<Math.min(this[0].length,d+2);x++)this[f][x]<s&&(s=this[f][x],m=[f,x]);return{position:m,value:s}};Matrix.prototype.localMax=function(a,d){let s=this[a][d],m=[a,d];for(let f=Math.max(0,a-1);f<Math.min(this.length,a+2);f++)for(let x=Math.max(0,d-1);x<Math.min(this[0].length,d+2);x++)this[f][x]>s&&(s=this[f][x],m=[f,x]);return{position:m,value:s}};Matrix.prototype.localSearch=function(a,d,s){let m=[];for(let f=Math.max(0,a-1);f<Math.min(this.length,a+2);f++)for(let x=Math.max(0,d-1);x<Math.min(this[0].length,d+2);x++)this[f][x]===s&&m.push([f,x]);return m};function getBestMatch(a,d={}){let{border:s}=d;if(this.checkProcessable("getChannel",{bitDepth:[8,16]}),this.bitDepth!==a.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==a.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==a.colorModel)throw new Error("Both images must have the same colorModel");let m=new Matrix(a.width,a.height,-1/0),f=Math.floor(a.width/2),x=Math.floor(a.height/2),g=f,w=x,C=!1;for(;!C;){let A=m.localSearch(f,x,-1/0);for(let M=0;M<A.length;M++){let P=A[M],D=this.getSimilarity(a,{border:s,shift:[g-P[0],w-P[1]]});m[P[0]][P[1]]=D}let _=m.localMax(f,x);_.position[0]!==f||_.position[1]!==x?(f=_.position[0],x=_.position[1]):C=!0}return[f-g,x-w]}function getRow(a,d=0){this.checkProcessable("getRow",{bitDepth:[8,16]}),checkRow(this,a),checkChannel(this,d);let s=new Array(this.width),m=0,f=a*this.width*this.channels+d,x=f+this.width*this.channels;for(let g=f;g<x;g+=this.channels)s[m++]=this.data[g];return s}function getColumn(a,d=0){this.checkProcessable("getColumn",{bitDepth:[8,16]}),checkColumn(this,a),checkChannel(this,d);let s=new Array(this.height),m=0,f=this.width*this.channels;for(let x=d+a*this.channels;x<this.data.length;x+=f)s[m++]=this.data[x];return s}function getMatrix(a={}){let{channel:d}=a;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),d===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");d=0}let s=new Matrix$2(this.height,this.width);for(let m=0;m<this.height;m++)for(let f=0;f<this.width;f++)s.set(m,f,this.getValueXY(f,m,d));return s}function setMatrix(a,d={}){a=new Matrix$2(a);let{channel:s}=d;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),s===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");s=0}if(this.width!==a.columns||this.height!==a.rows)throw new RangeError("The size of the matrix must be equal to the size of the image");for(let m=0;m<this.height;m++)for(let f=0;f<this.width;f++)this.setValueXY(f,m,s,a.get(m,f));return this}function getPixelsArray(){this.checkProcessable("getPixelsArray",{bitDepth:[8,16,32]});let a=new Array(this.size),d=0;for(let s=0;s<this.data.length;s+=this.channels){let m=new Array(this.components);for(let f=0;f<this.components;f++)m[f]=this.data[s+f];a[d++]=m}return a}function getIntersection(a){let d=this,s=d.getClosestCommonParent(a),m=d.getRelativePosition(s,{defaultFurther:!0}),f=getRelativePositionForAllPixels(d,m),x=a.getRelativePosition(s,{defaultFurther:!0}),g=getRelativePositionForAllPixels(a,x),w=getCommonSurface(f,g),C={whitePixelsMask1:[],whitePixelsMask2:[],commonWhitePixels:[]};for(let A=0;A<w.length;A++){let _=w[A],M=[_[0]-m[0],_[1]-m[1]],P=[_[0]-x[0],_[1]-x[1]],D=d.getBitXY(M[0],M[1]),E=a.getBitXY(P[0],P[1]);D===1&&E===1&&C.commonWhitePixels.push(_)}for(let A=0;A<f.length;A++){let _,M;A!==0&&(_=Math.floor(A/d.width),M=A%d.width),d.getBitXY(_,M)===1&&C.whitePixelsMask1.push(f[A])}for(let A=0;A<g.length;A++){let _=0,M=0;A!==0&&(_=Math.floor(A/a.width),M=A%a.width),a.getBitXY(_,M)===1&&C.whitePixelsMask2.push(g[A])}return C}function getRelativePositionForAllPixels(a,d){let s=[];for(let m=0;m<a.height;m++)for(let f=0;f<a.width;f++){let x=[m,f];s.push([x[0]+d[0],x[1]+d[1]])}return s}function getCommonSurface(a,d){let s=0,m=0,f=[];for(;s<a.length&&m<d.length;)a[s][0]===d[m][0]&&a[s][1]===d[m][1]?(f.push(a[s]),s++,m++):a[s][0]<d[m][0]||a[s][0]===d[m][0]&&a[s][1]<d[m][1]?s++:m++;return f}function getClosestCommonParent(a){let d=getDepth(this),s=getDepth(a),m;if(d>=s?m=getFurthestParent(this,d):m=getFurthestParent(a,s),d===0||s===0)return m;let f=this,x=a;for(;d!==s;)if(d>s){if(f=f.parent,f===null)return m;d=d-1}else{if(x=x.parent,x===null)return m;s=s-1}for(;f!==x&&f!==null&&x!==null;)if(f=f.parent,x=x.parent,f===null||x===null)return m;return f!==x?m:f}function getDepth(a){let d=0,s=a;for(;s.parent!=null;)s=s.parent,d++;return d}function getFurthestParent(a,d){let s=a;for(;d>0;)s=s.parent,d=d-1;return s}const defaultOptions$1={lowThreshold:10,highThreshold:30,gaussianBlur:1.1},Gx=[[-1,0,1],[-2,0,2],[-1,0,1]],Gy=[[-1,-2,-1],[0,0,0],[1,2,1]],convOptions={bitDepth:32,mode:"periodic"};function cannyEdgeDetector(a,d){a.checkProcessable("Canny edge detector",{bitDepth:8,channels:1,components:1}),d=Object.assign({},defaultOptions$1,d);const s=a.width,m=a.height,f=a.maxValue,x={sigma:d.gaussianBlur,radius:3},g=a.gaussianFilter(x),w=g.convolution(Gy,convOptions),C=g.convolution(Gx,convOptions),A=C.hypotenuse(w),_=a.constructor,M=new _(s,m,{kind:"GREY",bitDepth:32}),P=new _(s,m,{kind:"GREY",bitDepth:32}),D=new _(s,m,{kind:"GREY"});for(var E=1;E<s-1;E++)for(var I=1;I<m-1;I++){var B=(Math.round(Math.atan2(C.getValueXY(E,I,0),w.getValueXY(E,I,0))*(5/Math.PI))+5)%5;B===0&&(A.getValueXY(E,I,0)<=A.getValueXY(E,I-1,0)||A.getValueXY(E,I,0)<=A.getValueXY(E,I+1,0))||B===1&&(A.getValueXY(E,I,0)<=A.getValueXY(E-1,I+1,0)||A.getValueXY(E,I,0)<=A.getValueXY(E+1,I-1,0))||B===2&&(A.getValueXY(E,I,0)<=A.getValueXY(E-1,I,0)||A.getValueXY(E,I,0)<=A.getValueXY(E+1,I,0))||B===3&&(A.getValueXY(E,I,0)<=A.getValueXY(E-1,I-1,0)||A.getValueXY(E,I,0)<=A.getValueXY(E+1,I+1,0))||M.setValueXY(E,I,0,A.getValueXY(E,I,0))}for(E=0;E<s*m;++E){var F=M.data[E],R=0;F>d.highThreshold&&(R++,D.data[E]=f),F>d.lowThreshold&&R++,P.data[E]=R}var L=[];for(E=1;E<s-1;++E)for(I=1;I<m-1;++I)if(P.getValueXY(E,I,0)===1){e:for(var z=E-1;z<E+2;++z)for(var G=I-1;G<I+2;++G)if(P.getValueXY(z,G,0)===2){L.push([E,I]),D.setValueXY(E,I,0,f);break e}}for(;L.length>0;){var W=[];for(E=0;E<L.length;++E)for(I=-1;I<2;++I)for(z=-1;z<2;++z)if(!(I===0&&z===0)){var K=L[E][0]+I,q=L[E][1]+z;P.getValueXY(K,q,0)===1&&D.getValueXY(K,q,0)===0&&(W.push([K,q]),D.setValueXY(K,q,0,f))}L=W}return D}function cannyEdge(a){return cannyEdgeDetector(this,a)}function extract(a,d={}){let{position:s}=d;if(this.checkProcessable("extract",{bitDepth:[1,8,16]}),!s&&(s=a.getRelativePosition(this),!s))throw new Error("extract : can not extract an image because the relative position can not be determined, try to specify manually the position as an array of 2 elements [x,y].");if(this.bitDepth>1){let m=Image$1.createFrom(this,{width:a.width,height:a.height,alpha:1,position:s,parent:this});for(let f=0;f<a.width;f++)for(let x=0;x<a.height;x++){for(let g=0;g<this.channels;g++){let w=this.getValueXY(f+s[0],x+s[1],g);m.setValueXY(f,x,g,w)}a.getBitXY(f,x)||m.setValueXY(f,x,this.components,0)}return m}else{let m=Image$1.createFrom(this,{width:a.width,height:a.height,position:s,parent:this});for(let f=0;f<a.height;f++)for(let x=0;x<a.width;x++)a.getBitXY(x,f)&&this.getBitXY(x+s[0],f+s[1])&&m.setBitXY(x,f);return m}}var fastList={exports:{}};(function(a,d){(function(){function s(f,x,g){this.next=g,g&&(g.prev=this),this.prev=x,x&&(x.next=this),this.data=f}function m(){if(!(this instanceof m))return new m;this._head=null,this._tail=null,this.length=0}m.prototype={push:function(f){this._tail=new s(f,this._tail,null),this._head||(this._head=this._tail),this.length++},pop:function(){if(this.length!==0){var f=this._tail;return this._tail=f.prev,f.prev&&(f.prev=this._tail.next=null),this.length--,this.length===1?this._head=this._tail:this.length===0&&(this._head=this._tail=null),f.data}},unshift:function(f){this._head=new s(f,null,this._head),this._tail||(this._tail=this._head),this.length++},shift:function(){if(this.length!==0){var f=this._head;return this._head=f.next,f.next&&(f.next=this._head.prev=null),this.length--,this.length===1?this._tail=this._head:this.length===0&&(this._head=this._tail=null),f.data}},item:function(f){f<0&&(f=this.length+f);for(var x=this._head;f-- >0&&x;)x=x.next;return x?x.data:void 0},slice:function(f,x){if(f||(f=0),x||(x=this.length),x<0&&(x=this.length+x),f<0&&(f=this.length+f),x===f)return[];if(x<f)throw new Error("invalid offset: "+f+","+x+" (length="+this.length+")");for(var g=x-f,w=new Array(g),C=0,A=this._head;f-- >0&&A;)A=A.next;for(;C<g&&A;)w[C++]=A.data,A=A.next;return w},drop:function(){m.call(this)},forEach:function(f,x){for(var g=this._head,w=0,C=this.length;w<C&&g;)f.call(x||this,g.data,w,this),g=g.next,w++},map:function(f,x){var g=new m;return this.forEach(function(w,C,A){g.push(f.call(x||A,w,C,A))}),g},filter:function(f,x){var g=new m;return this.forEach(function(w,C,A){f.call(x||A,w,C,A)&&g.push(w)}),g},reduce:function(f,x,g){var w=0,C=this._head,A=this.length;for(x||(w=1,x=C&&C.data,C=C&&C.next);w<A&&C;)x=f.call(g||this,x,C.data,this),w++,C=C.next;return x}},a.exports=m})()})(fastList);var fastListExports=fastList.exports;const LinkedList=getDefaultExportFromCjs(fastListExports);function floodFill(a={}){const{x:d=0,y:s=0,inPlace:m=!0}=a,f=m?this:Image$1.createFrom(this);if(this.checkProcessable("floodFill",{bitDepth:1}),this.getBitXY(d,s))return f;const g=new LinkedList;for(g.push(new Node(d,s));g.length>0;){const w=g.shift();f.setBitXY(w.x,w.y);for(let C=w.x+1;C<this.width&&(!f.getBitXY(C,w.y)&&!this.getBitXY(C,w.y));C++)f.setBitXY(C,w.y),w.y+1<this.height&&!this.getBitXY(C,w.y+1)&&g.push(new Node(C,w.y+1)),w.y-1>=0&&!this.getBitXY(C,w.y-1)&&g.push(new Node(C,w.y-1));for(let C=w.x-1;C>=0&&(!f.getBitXY(C,w.y)&&!this.getBitXY(C,w.y));C++)f.setBitXY(C,w.y),w.y+1<this.height&&!this.getBitXY(C,w.y+1)&&g.push(new Node(C,w.y+1)),w.y-1>=0&&!this.getBitXY(C,w.y-1)&&g.push(new Node(C,w.y-1))}return f}function Node(a,d){this.x=a,this.y=d}function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var d=1;d<arguments.length;d++){var s=arguments[d];for(var m in s)Object.prototype.hasOwnProperty.call(s,m)&&(a[m]=s[m])}return a},_extends.apply(this,arguments)}function hsv2rgb(a,d,s){d=d/100,s=s/100;var m=[],f=s*d,x=a/60,g=f*(1-Math.abs(x%2-1)),w=s-f;return x>=0&&x<1?m=[f,g,0]:x>=1&&x<2?m=[g,f,0]:x>=2&&x<3?m=[0,f,g]:a>=3&&x<4?m=[0,g,f]:a>=4&&x<5?m=[g,0,f]:a>=5&&x<=6?m=[f,0,g]:m=[0,0,0],{r:Math.round(255*(m[0]+w)),g:Math.round(255*(m[1]+w)),b:Math.round(255*(m[2]+w))}}function hsl2hsv(a,d,s){return d*=(s<50?s:100-s)/100,{h:a,s:2*d/(s+d)*100,v:s+d}}function hsl2rgb$1(a,d,s){var m=hsl2hsv(a,d,s);return hsv2rgb(m.h,m.s,m.v)}var colors={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]};function parse(a){return named(a)||hex3(a)||hex6(a)||rgb(a)||rgba$1(a)||hsl(a)||hsla(a)}function named(a){var d=colors[a.toLowerCase()];if(d)return{r:d[0],g:d[1],b:d[2],a:100}}function rgb(a){var d=a.match(/rgb\(([^)]+)\)/);if(d){var s=d[1].split(/ *, */).map(Number);return{r:s[0],g:s[1],b:s[2],a:100}}}function rgba$1(a){var d=a.match(/rgba\(([^)]+)\)/);if(d){var s=d[1].split(/ *, */).map(Number);return{r:s[0],g:s[1],b:s[2],a:s[3]*100}}}function hex6(a){if(a[0]==="#"&&a.length===7)return{r:parseInt(a.slice(1,3),16),g:parseInt(a.slice(3,5),16),b:parseInt(a.slice(5,7),16),a:100}}function hex3(a){if(a[0]==="#"&&a.length===4)return{r:parseInt(a[1]+a[1],16),g:parseInt(a[2]+a[2],16),b:parseInt(a[3]+a[3],16),a:100}}function hsl(a){var d=a.match(/hsl\(([^)]+)\)/);if(d){var s=d[1].split(/ *, */),m=parseInt(s[0],10),f=parseInt(s[1],10),x=parseInt(s[2],10),g=hsl2rgb$1(m,f,x);return _extends({},g,{a:100})}}function hsla(a){var d=a.match(/hsla\(([^)]+)\)/);if(d){var s=d[1].split(/ *, */),m=parseInt(s[0],10),f=parseInt(s[1],10),x=parseInt(s[2],10),g=parseInt(parseFloat(s[3])*100,10),w=hsl2rgb$1(m,f,x);return _extends({},w,{a:g})}}function css2array(a){let d=parse(a);return[d.r,d.g,d.b,Math.round(d.a*255/100)]}function hue2rgb(a,d,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?a+(d-a)*6*s:s<1/2?d:s<2/3?a+(d-a)*(2/3-s)*6:a}function hsl2rgb(a,d,s){let m,f,x,g,w,C;return d/=100,s/=100,d===0?g=w=C=s*255:(s<=.5?f=s*(d+1):f=s+d-s*d,m=s*2-f,x=a/360,g=hue2rgb(m,f,x+1/3),w=hue2rgb(m,f,x),C=hue2rgb(m,f,x-1/3)),{r:g,g:w,b:C}}function getDistinctColors(a){let d=new Array(a),s=0;for(let m=0;m<360;m+=360/a){s++;let f=hsl2rgb(m,100,30+s%4*15);d[s-1]=[Math.round(f.r*255),Math.round(f.g*255),Math.round(f.b*255)]}return d}function getRandomColor(){return[Math.floor(Math.random()*256),Math.floor(Math.random()*256),Math.floor(Math.random()*256)]}function getColors(a){let{color:d,colors:s,randomColors:m,numberColors:f=50}=a;if(d&&!Array.isArray(d)&&(d=css2array(d)),d)return[d];if(s)return s=s.map(function(x){return Array.isArray(x)?x:css2array(x)}),s;if(m){s=new Array(f);for(let x=0;x<f;x++)s[x]=getRandomColor()}return getDistinctColors(f)}function paintLabels(a,d,s={}){let{color:m="blue",colors:f,font:x="12px Helvetica",rotate:g=0}=s;if(this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:RGB$1}),!Array.isArray(a))throw Error("paintLabels: labels must be an array");if(!Array.isArray(d))throw Error("paintLabels: positions must be an array");if(m&&!Array.isArray(m)&&(m=css2array(m)),f?f=f.map(function(A){return Array.isArray(A)?A:css2array(A)}):f=[m],a.length!==d.length)throw Error("paintLabels: positions and labels must be arrays from the same size");Array.isArray(x)||(x=[x]),Array.isArray(g)||(g=[g]);let C=this.getCanvas().getContext("2d");for(let A=0;A<a.length;A++){C.save();let _=f[A%f.length];C.fillStyle=`rgba(${_[0]},${_[1]},${_[2]},${_[3]/this.maxValue})`,C.font=x[A%x.length];let M=d[A];C.translate(M[0],M[1]),C.rotate(g[A%g.length]/180*Math.PI),C.fillText(a[A],0,0),C.restore()}return this.data=Uint8Array.from(C.getImageData(0,0,this.width,this.height).data),this}function paintMasks(a,d={}){let{alpha:s=255,labels:m=[],labelsPosition:f=[],labelColor:x="blue",labelFont:g="12px Helvetica"}=d;this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:RGB$1});let w=getColors(Object.assign({},d,{numberColors:a.length}));Array.isArray(a)||(a=[a]);for(let C=0;C<a.length;C++){let A=a[C],_=w[C%w.length];for(let M=0;M<A.width;M++)for(let P=0;P<A.height;P++)if(A.getBitXY(M,P))for(let D=0;D<Math.min(this.components,_.length);D++)if(s===255)this.setValueXY(M+A.position[0],P+A.position[1],D,_[D]);else{let E=this.getValueXY(M+A.position[0],P+A.position[1],D);E=Math.round((E*(255-s)+_[D]*s)/255),this.setValueXY(M+A.position[0],P+A.position[1],D,E)}}if(Array.isArray(m)&&m.length>0){let A=this.getCanvas().getContext("2d");A.fillStyle=x,A.font=g;for(let _=0;_<Math.min(a.length,m.length);_++){let M=f[_]?f[_]:a[_].position;A.fillText(m[_],M[0],M[1])}this.data=Uint8Array.from(A.getImageData(0,0,this.width,this.height).data)}return this}function zerosMatrix(a,d){let s=new Array(a);for(let m=0;m<a;m++)s[m]=new Array(d).fill(0);return s}const cross=[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0]],smallCross=[[0,1,0],[1,1,1],[0,1,0]];class Shape{constructor(d={}){let{kind:s="cross",shape:m,size:f,width:x,height:g,filled:w=!0}=d;if(f&&(x=f,g=f),m)switch(m.toLowerCase()){case"square":case"rectangle":this.matrix=rectangle(x,g,{filled:w});break;case"circle":case"ellipse":this.matrix=ellipse(x,g,{filled:w});break;case"triangle":this.matrix=triangle(x,g,{filled:w});break;default:throw new Error(`Shape: unexpected shape: ${m}`)}else if(s)switch(s.toLowerCase()){case"cross":this.matrix=cross;break;case"smallcross":this.matrix=smallCross;break;default:throw new Error(`Shape: unexpected kind: ${s}`)}else throw new Error("Shape: expected a kind or a shape option");this.height=this.matrix.length,this.width=this.matrix[0].length,this.halfHeight=this.height/2>>0,this.halfWidth=this.width/2>>0}getPoints(){let d=this.matrix,s=[];for(let m=0;m<d.length;m++)for(let f=0;f<d[0].length;f++)d[m][f]&&s.push([f-this.halfWidth,m-this.halfHeight]);return s}getMask(){let d=new Image$1(this.width,this.height,{kind:BINARY});for(let s=0;s<this.matrix.length;s++)for(let m=0;m<this.matrix[0].length;m++)this.matrix[s][m]&&d.setBitXY(m,s);return d}}function rectangle(a,d,s){const m=zerosMatrix(d,a);if(s.filled)for(let f=0;f<d;f++)for(let x=0;x<a;x++)m[f][x]=1;else{for(let f of[0,d-1])for(let x=0;x<a;x++)m[f][x]=1;for(let f=0;f<d;f++)for(let x of[0,a-1])m[f][x]=1}return m}function ellipse(a,d,s){const m=zerosMatrix(d,a);let f=1-d%2,x=1-a%2,g=Math.floor((a-1)/2),w=Math.floor((d-1)/2),C=g*g,A=w*w;if(s.filled)for(let _=0;_<=w;_++){let M=Math.floor(Math.sqrt(C-C*_*_/A));for(let P=g-M;P<=g;P++)m[w-_][P]=1,m[w+_+f][P]=1,m[w-_][a-P-1]=1,m[w+_+f][a-P-1]=1}else{for(let _=0;_<=w;_++){let M=Math.floor(Math.sqrt(C-C*_*_/A)),P=g-M;m[w-_][P]=1,m[w+_+f][P]=1,m[w-_][a-P-1]=1,m[w+_+f][a-P-1]=1}for(let _=0;_<=g;_++){let M=Math.floor(Math.sqrt(A-A*_*_/C)),P=w-M;m[P][g-_]=1,m[P][g+_+x]=1,m[d-P-1][g-_]=1,m[d-P-1][g+_+x]=1}}return m}function triangle(a,d,s){if(!s.filled)throw new Error("Non filled triangle is not implemented");const m=zerosMatrix(d,a);for(let f=0;f<d;f++){let x=Math.floor((1-f/d)*a/2);for(let g=x;g<a-x;g++)m[f][g]=1}return m}function paintPoints(a,d={}){let{shape:s}=d;this.checkProcessable("paintPoints",{bitDepth:[8,16]});let m=getColors(Object.assign({},d,{numberColors:a.length})),f=new Shape(s).getPoints(),x=Math.min(this.channels,m[0].length);for(let g=0;g<a.length;g++){let w=m[g%m.length],C=a[g][0],A=a[g][1];for(let _=0;_<f.length;_++){let M=f[_][0],P=f[_][1];if(C+M>=0&&A+P>=0&&C+M<this.width&&A+P<this.height){let D=(C+M+(A+P)*this.width)*this.channels;for(let E=0;E<x;E++)this.data[D+E]=w[E]}}}return this}function paintPolyline(a,d={}){let{color:s=[this.maxValue,0,0],closed:m=!1}=d;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]});let f=Math.min(this.channels,s.length);for(let x=0;x<a.length-1+m;x++){let g=a[x],w=a[(x+1)%a.length],C=w[0]-g[0],A=w[1]-g[1],_=Math.max(Math.abs(C),Math.abs(A)),M=C/_,P=A/_,D=g[0],E=g[1];for(let I=0;I<=_;I++){let B=Math.round(D),F=Math.round(E);if(B>=0&&F>=0&&B<this.width&&F<this.height)if(this.bitDepth===1)this.setBitXY(B,F);else{let R=(B+F*this.width)*this.channels;for(let L=0;L<f;L++)this.data[R+L]=s[L]}D=D+M,E=E+P}}return this}function paintPolylines(a,d={}){let s=Object.assign({},d);this.checkProcessable("paintPolylines",{bitDepth:[8,16]});let m=getColors(Object.assign({},d,{numberColors:a.length}));for(let f=0;f<a.length;f++)s.color=m[f%m.length],this.paintPolyline(a[f],s);return this}function paintPolygon(a,d={}){let{color:s=[this.maxValue,0,0],filled:m=!1}=d;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]}),d.closed=!0;let f=deleteDouble(a);if(m===!1)return this.paintPolyline(a,d);{let x=Array(this.height);for(let g=0;g<this.height;g++){x[g]=[];for(let w=0;w<this.width;w++)x[g].push(0)}for(let g=0;g<f.length;g++){const w=lineBetweenTwoPoints(f[g],f[(g+1)%f.length]);for(let C=0;C<this.height;C++)for(let A=0;A<this.width;A++)isAtTheRightOfTheLine(A,C,w,this.height)&&(x[C][A]=x[C][A]===0?1:0)}for(let g=0;g<this.height;g++)for(let w=0;w<this.width;w++)if(x[g][w]===1)if(this.bitDepth===1)this.setBitXY(w,g);else{let C=Math.min(this.channels,s.length),A=(w+g*this.width)*this.channels;for(let _=0;_<C;_++)this.data[A+_]=s[_]}return this.paintPolyline(a,d)}}function deleteDouble(a){let d=[];for(let s=0;s<a.length;s++)if(!(a[s][0]===a[(s+1)%a.length][0]&&a[s][1]===a[(s+1)%a.length][1])){if(a[s][0]===a[(s-1+a.length)%a.length][0]&&a[s][1]===a[(s-1+a.length)%a.length][1])continue;if(a[(s+1)%a.length][0]===a[(s-1+a.length)%a.length][0]&&a[(s-1+a.length)%a.length][1]===a[(s+1)%a.length][1])continue;d.push(a[s])}return d}function lineBetweenTwoPoints(a,d){if(a[0]===d[0])return{a:0,b:a[0],vertical:!0};{const s=(d[1]-a[1])/(d[0]-a[0]),m=a[1]-s*a[0];return{a:s,b:m,vertical:!1}}}function isAtTheRightOfTheLine(a,d,s,m){if(s.vertical===!0)return s.b<=a;if(s.a===0)return!1;{const f=(d-s.b)/s.a;return f<a&&f>=0&&f<=m}}function paintPolygons(a,d={}){let s=Object.assign({},d);this.checkProcessable("paintPolygons",{bitDepth:[8,16]});let m=getColors(Object.assign({},d,{numberColors:a.length}));for(let f=0;f<a.length;f++)s.color=m[f%m.length],this.paintPolygon(a[f],s);return this}function getHistogram(a={}){let{maxSlots:d=256,channel:s,useAlpha:m=!0}=a;if(this.checkProcessable("getHistogram",{bitDepth:[1,8,16]}),s===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");s=0}return getChannelHistogram.call(this,s,{useAlpha:m,maxSlots:d})}function getHistograms(a={}){const{maxSlots:d=256,useAlpha:s=!0}=a;this.checkProcessable("getHistograms",{bitDepth:[8,16]});let m=new Array(s?this.components:this.channels);for(let f=0;f<m.length;f++)m[f]=getChannelHistogram.call(this,f,{useAlpha:s,maxSlots:d});return m}function getChannelHistogram(a,d){let{useAlpha:s,maxSlots:m}=d;if(this.bitDepth===1){let C=[0,0];for(let A=0;A<this.height;A++)for(let _=0;_<this.width;_++){let M=this.getBitXY(A,_);M===0?C[0]+=1:M===1&&(C[1]+=1)}return C}let f=Math.log2(m);if(!isInteger$1(f))throw new RangeError("maxSlots must be a power of 2, for example: 64, 256, 1024");let x=0;this.bitDepth>f&&(x=this.bitDepth-f);let g=this.data,w=newArray$1(Math.pow(2,Math.min(this.bitDepth,f)),0);if(s&&this.alpha){let C=this.channels-a-1;for(let A=a;A<g.length;A+=this.channels)w[g[A]>>x]+=g[A+C]/this.maxValue}else for(let C=a;C<g.length;C+=this.channels)w[g[C]>>x]++;return w}function getColorHistogram(a={}){let{useAlpha:d=!0,nbSlots:s=512}=a;this.checkProcessable("getColorHistogram",{bitDepth:[8,16],components:[3]});let m=Math.log(s)/Math.log(8);if(m!==Math.floor(m))throw new RangeError("nbSlots must be a power of 8. Usually 8, 64, 512 or 4096");let f=this.bitDepth-m,x=this.data,g=newArray$1(Math.pow(8,m),0),w=Math.pow(2,m*2),C=Math.pow(2,m);for(let A=0;A<x.length;A+=this.channels){let _=(x[A]>>f)*w+(x[A+1]>>f)*C+(x[A+2]>>f);d&&this.alpha?g[_]+=x[A+this.channels-1]/this.maxValue:g[_]++}return g}function min(){this.checkProcessable("min",{bitDepth:[8,16,32]});let a=newArray$1(this.channels,1/0);for(let d=0;d<this.data.length;d+=this.channels)for(let s=0;s<this.channels;s++)this.data[d+s]<a[s]&&(a[s]=this.data[d+s]);return a}function max(){this.checkProcessable("max",{bitDepth:[8,16,32]});let a=newArray$1(this.channels,-1/0);for(let d=0;d<this.data.length;d+=this.channels)for(let s=0;s<this.channels;s++)this.data[d+s]>a[s]&&(a[s]=this.data[d+s]);return a}function sum(){this.checkProcessable("sum",{bitDepth:[8,16]});let a=newArray$1(this.channels,0);for(let d=0;d<this.data.length;d+=this.channels)for(let s=0;s<this.channels;s++)a[s]+=this.data[d+s];return a}function getMoment(a=0,d=0){this.checkProcessable("getMoment",{bitDepth:[1]});let s=0;for(let m=0;m<this.width;m++)for(let f=0;f<this.height;f++)this.getBitXY(m,f)===1&&(s+=m**a*f**d);return s}function localMaxima(a={}){let{mask:d,region:s=3,removeClosePoints:m=0,invert:f=!1,maxEquals:x=2}=a,g=this;this.checkProcessable("localMaxima",{bitDepth:[8,16],components:1}),s*=4;let w=f?0:1,C=[1,0,-1,0,1,1,-1,-1,2,0,-2,0,2,2,-2,-2],A=[0,1,0,-1,1,-1,1,-1,0,2,0,-2,2,-2,2,-2],_=s<=8?1:2,M=[];for(let P=_;P<g.height-_;P++)for(let D=_;D<g.width-_;D++){if(d&&d.getBitXY(D,P)!==w)continue;let E=0,I=0,B=g.data[D+P*g.width];for(let F=0;F<s;F++)f?g.data[D+C[F]+(P+A[F])*g.width]>B&&E++:g.data[D+C[F]+(P+A[F])*g.width]<B&&E++,g.data[D+C[F]+(P+A[F])*g.width]===B&&I++;E+I===s&&I<=x&&M.push([D,P])}if(m>0)for(let P=0;P<M.length;P++)for(let D=P+1;D<M.length;D++)Math.sqrt(Math.pow(M[P][0]-M[D][0],2)+Math.pow(M[P][1]-M[D][1],2))<m&&(M[P][0]=M[P][0]+M[D][0]>>1,M[P][1]=M[P][1]+M[D][1]>>1,M.splice(D,1),D--);return M}function mean(){let a=this.getHistograms({maxSlots:this.maxValue+1}),d=new Array(a.length);for(let s=0;s<a.length;s++){let m=a[s];d[s]=mean$2(m)}return d}function median(){let a=this.getHistograms({maxSlots:this.maxValue+1}),d=new Array(a.length);for(let s=0;s<a.length;s++){let m=a[s];d[s]=median$2(m)}return d}function points$1(){this.checkProcessable("points",{bitDepth:[1]});const a=[];for(let d=0;d<this.width;d++)for(let s=0;s<this.height;s++)this.getBitXY(d,s)===1&&a.push([d,s]);return a}function extendedPoints(){this.checkProcessable("extendedPoints",{bitDepth:[1]});const a=[];for(let d=0;d<this.height;d++)for(let s=0;s<this.width;s++)if(this.getBitXY(s,d)===1)for(a.push([s,d]),this.getBitXY(s+1,d)!==1?(a.push([s+1,d]),a.push([s+1,d+1]),this.getBitXY(s,d+1)!==1&&a.push([s,d+1])):this.getBitXY(s,d+1)!==1&&(a.push([s,d+1]),a.push([s+1,d+1]));s<this.width-2&&this.getBitXY(s+1,d)===1&&this.getBitXY(s+2,d)===1;)s++;return a}function getRelativePosition(a,d={}){if(this===a)return[0,0];let s=[0,0],m=this;for(;m;){if(m===a)return s;m.position&&(s[0]+=m.position[0],s[1]+=m.position[1]),m=m.parent}return d.defaultFurther?s:!1}function countAlphaPixels(a={}){let{alpha:d=1}=a;this.checkProcessable("countAlphaPixels",{bitDepth:[8,16],alpha:1});let s=0;if(d!==void 0){for(let m=this.components;m<this.data.length;m+=this.channels)this.data[m]===d&&s++;return s}else return this.size}function monotoneChainConvexHull$1(a,d={}){const{sorted:s}=d;s||(a=a.slice().sort(byXThenY));const m=a.length,f=new Array(m*2);let x=0;for(let w=0;w<m;w++){const C=a[w];for(;x>=2&&cw(f[x-2],f[x-1],C)<=0;)x--;f[x++]=C}const g=x+1;for(let w=m-2;w>=0;w--){const C=a[w];for(;x>=g&&cw(f[x-2],f[x-1],C)<=0;)x--;f[x++]=C}return f.slice(0,x-1)}function cw(a,d,s){return(d[1]-a[1])*(s[0]-a[0])-(d[0]-a[0])*(s[1]-a[1])}function byXThenY(a,d){return a[0]===d[0]?a[1]-d[1]:a[0]-d[0]}function monotoneChainConvexHull(){return monotoneChainConvexHull$1(this.extendedPoints,{sorted:!1})}function round$1(a){for(let d=0;d<a.length;d++)a[d][0]=Math.round(a[d][0]),a[d][1]=Math.round(a[d][1]);return a}function difference(a,d){return[a[0]-d[0],a[1]-d[1]]}function normalize(a){let d=Math.sqrt(a[0]**2+a[1]**2);return[a[0]/d,a[1]/d]}function rotate(a,d,s){s===void 0&&(s=new Array(d.length));let m=Math.cos(a),f=Math.sin(a);for(let x=0;x<s.length;++x)s[x]=[m*d[x][0]-f*d[x][1],f*d[x][0]+m*d[x][1]];return s}function perimeter(a){let d=0;for(let s=0;s<a.length;s++){let m=a[s][0],f=a[s][1],x=a[s===a.length-1?0:s+1][0],g=a[s===a.length-1?0:s+1][1];d+=Math.sqrt((x-m)**2+(g-f)**2)}return d}function surface(a){let d=0;for(let s=0;s<a.length;s++){let m=a[s][0],f=a[s===a.length-1?0:s+1][1],x=a[s===a.length-1?0:s+1][0],g=a[s][1];d+=m*f*.5,d-=x*g*.5}return Math.abs(d)}function minMax(a){let d=1/0,s=1/0,m=-1/0,f=-1/0;for(let x=0;x<a.length;x++)a[x][0]<d&&(d=a[x][0]),a[x][0]>m&&(m=a[x][0]),a[x][1]<s&&(s=a[x][1]),a[x][1]>f&&(f=a[x][1]);return[[d,s],[m,f]]}function moveToZeroZero(a,d){d===void 0&&(d=new Array(a.length).fill(0).map(()=>[]));let s=minMax(a),m=s[0][0],f=s[0][1];for(let x=0;x<a.length;x++)d[x][0]=a[x][0]-m,d[x][1]=a[x][1]-f;return d}function minimalBoundingRectangle(a={}){const{originalPoints:d=monotoneChainConvexHull.call(this)}=a;if(d.length===0)return[];if(d.length===1)return[d[0],d[0],d[0],d[0]];const s=new Array(d.length);let m=1/0,f=0,x;for(let g=0;g<s.length;g++){let w=getAngle$1(d[g],d[(g+1)%s.length]);rotate(-w,d,s);let C=s[g][0],A=s[g][1],_=s[(g+1)%s.length][0],M=s[(g+1)%s.length][1],P=!0,D=0,E=0,I=0;for(let L=0;L<s.length;L++){let z=s[L][0],G=s[L][1],W=(z-C)/(_-C);P===!0?(P=!1,D=W,E=W):(W<D&&(D=W),W>E&&(E=W));let K=(-(_-C)*G+_*A-M*C)/(_-C);Math.abs(K)>Math.abs(I)&&(I=K)}let B=[C+D*(_-C),A],F=[C+E*(_-C),A],R=Math.abs(I*(D-E)*(_-C));R<m&&(f=w,m=R,x=[B,F,[F[0],F[1]-I],[B[0],B[1]-I]])}return rotate(f,x,x),x}function getAngle$1(a,d){let s=difference(d,a),m=normalize(s),f=Math.acos(m[0]);return m[1]<0?-f:f}function extend$1(a){let d={inPlace:!0};a.extendMethod("invert",invert),a.extendMethod("abs",abs),a.extendMethod("level",level,d),a.extendMethod("add",add,d),a.extendMethod("subtract",subtract,d),a.extendMethod("subtractImage",subtractImage),a.extendMethod("multiply",multiply,d),a.extendMethod("divide",divide,d),a.extendMethod("hypotenuse",hypotenuse),a.extendMethod("background",background$1),a.extendMethod("flipX",flipX),a.extendMethod("flipY",flipY),a.extendMethod("blurFilter",blurFilter),a.extendMethod("medianFilter",medianFilter),a.extendMethod("gaussianFilter",gaussianFilter),a.extendMethod("sobelFilter",sobelFilter),a.extendMethod("gradientFilter",gradientFilter),a.extendMethod("scharrFilter",scharrFilter),a.extendMethod("dilate",dilate),a.extendMethod("erode",erode),a.extendMethod("open",open),a.extendMethod("close",close),a.extendMethod("topHat",topHat),a.extendMethod("blackHat",blackHat),a.extendMethod("morphologicalGradient",morphologicalGradient),a.extendMethod("warpingFourPoints",warpingFourPoints),a.extendMethod("crop",crop),a.extendMethod("cropAlpha",cropAlpha),a.extendMethod("resize",resize).extendMethod("scale",resize),a.extendMethod("hsv",hsv),a.extendMethod("hsl",hsl$1),a.extendMethod("cmyk",cmyk),a.extendMethod("rgba8",rgba8),a.extendMethod("grey",grey).extendMethod("gray",grey),a.extendMethod("mask",mask),a.extendMethod("pad",pad),a.extendMethod("colorDepth",colorDepth),a.extendMethod("setBorder",setBorder,d),a.extendMethod("rotate",rotate$1),a.extendMethod("rotateLeft",rotateLeft),a.extendMethod("rotateRight",rotateRight),a.extendMethod("insert",insert),a.extendMethod("getRow",getRow),a.extendMethod("getColumn",getColumn),a.extendMethod("getMatrix",getMatrix),a.extendMethod("setMatrix",setMatrix),a.extendMethod("getPixelsArray",getPixelsArray),a.extendMethod("getIntersection",getIntersection),a.extendMethod("getClosestCommonParent",getClosestCommonParent),a.extendMethod("getThreshold",getThreshold),a.extendMethod("split",split),a.extendMethod("getChannel",getChannel),a.extendMethod("combineChannels",combineChannels),a.extendMethod("setChannel",setChannel),a.extendMethod("getSimilarity",getSimilarity),a.extendMethod("getPixelsGrid",getPixelsGrid),a.extendMethod("getBestMatch",getBestMatch),a.extendMethod("cannyEdge",cannyEdge),a.extendMethod("convolution",convolution),a.extendMethod("extract",extract),a.extendMethod("floodFill",floodFill),a.extendMethod("paintLabels",paintLabels,d),a.extendMethod("paintMasks",paintMasks,d),a.extendMethod("paintPoints",paintPoints,d),a.extendMethod("paintPolyline",paintPolyline,d),a.extendMethod("paintPolylines",paintPolylines,d),a.extendMethod("paintPolygon",paintPolygon,d),a.extendMethod("paintPolygons",paintPolygons,d),a.extendMethod("countAlphaPixels",countAlphaPixels),a.extendMethod("monotoneChainConvexHull",monotoneChainConvexHull),a.extendMethod("minimalBoundingRectangle",minimalBoundingRectangle),a.extendMethod("getHistogram",getHistogram).extendProperty("histogram",getHistogram),a.extendMethod("getHistograms",getHistograms).extendProperty("histograms",getHistograms),a.extendMethod("getColorHistogram",getColorHistogram).extendProperty("colorHistogram",getColorHistogram),a.extendMethod("getMin",min).extendProperty("min",min),a.extendMethod("getMax",max).extendProperty("max",max),a.extendMethod("getSum",sum).extendProperty("sum",sum),a.extendMethod("getMoment",getMoment).extendProperty("moment",getMoment),a.extendMethod("getLocalMaxima",localMaxima),a.extendMethod("getMedian",median).extendProperty("median",median),a.extendMethod("getMean",mean).extendProperty("mean",mean),a.extendMethod("getPoints",points$1).extendProperty("points",points$1),a.extendMethod("getExtendedPoints",extendedPoints).extendProperty("extendedPoints",extendedPoints),a.extendMethod("getRelativePosition",getRelativePosition)}var quantities={exports:{}};(function(a,d){(function(s,m){a.exports=m()})(commonjsGlobal,function(){function s(ye){return typeof ye=="string"||ye instanceof String}var m=Number.isFinite||window.isFinite;function f(ye){return m(ye)}function x(ye){return ye}function g(ye){var De={};return ye.filter(function(Fe){return De.hasOwnProperty(Fe)?!1:De[Fe]=!0})}function w(ye,De){if(De.length!==ye.length)return!1;for(var Fe=0;Fe<ye.length;Fe++)if(De[Fe].compareArray&&!De[Fe].compareArray(ye[Fe])||De[Fe]!==ye[Fe])return!1;return!0}function C(ye,De){Object.keys(De).forEach(function(Fe){ye[Fe]=De[Fe]})}function A(){for(var ye=1,De=0,Fe=0;Fe<arguments.length;Fe++){var We=arguments[Fe];De=De+P(We),ye*=We}return De!==0?M(ye,De):ye}function _(ye,De){if(De===0)throw new Error("Divide by zero");var Fe=Math.pow(10,P(De)),We=Fe/(Fe*De);return A(ye,We)}function M(ye,De){return Math.round(ye*Math.pow(10,De))/Math.pow(10,De)}function P(ye){if(!isFinite(ye))return 0;for(var De=0;ye%1!==0;)ye*=10,De++;return De}function D(){var ye;if(!this)return ye=Object.create(D.prototype),D.apply(ye,arguments),ye;ye=Error.apply(this,arguments),this.name="QtyError",this.message=ye.message,this.stack=ye.stack}D.prototype=Object.create(Error.prototype,{constructor:{value:D}});function E(ye,De){throw new D("Incompatible units: "+ye+" and "+De)}var I={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","","","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1302773e20,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1660538921e-36,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1660538921e-36,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["t","tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oilbarrel","oilbarrels","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beerbarrel","beerbarrels","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beerbarrel-imp","beerbarrels-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<Gal>":[["Gal"],.01,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],3600*24,"time",["<second>"]],"<week>":[["wk","week","weeks"],7*3600*24,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"molar_concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"molar_concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],16667e-19,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","",""],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules","Joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<electronvolt>":[["eV","electronvolt","electronvolts"],1602176634e-28,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<arcminute>":[["arcmin","arcminute","arcminutes"],Math.PI/10800,"angle",["<radian>"]],"<arcsecond>":[["arcsec","arcsecond","arcseconds"],Math.PI/648e3,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppb>":[["ppb"],1e-9,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-12,"prefix_only",["<1>"]],"<ppq>":[["ppq"],1e-15,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},B=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],F="<1>",R=[F];function L(ye,De){var Fe=De[1],We=De[3]||[],Ze=De[4]||[];if(!f(Fe))throw new D(ye+": Invalid unit definition. 'scalar' must be a number");We.forEach(function(Qe){if(I[Qe]===void 0)throw new D(ye+": Invalid unit definition. Unit "+Qe+" in 'numerator' is not recognized")}),Ze.forEach(function(Qe){if(I[Qe]===void 0)throw new D(ye+": Invalid unit definition. Unit "+Qe+" in 'denominator' is not recognized")})}var z={},G={},W={},K={},q={};for(var Z in I)if(I.hasOwnProperty(Z)){var J=I[Z];if(J[2]==="prefix"){z[Z]=J[1];for(var Q=0;Q<J[0].length;Q++)G[J[0][Q]]=Z}else{L(Z,J),W[Z]={scalar:J[1],numerator:J[3],denominator:J[4]};for(var ie=0;ie<J[0].length;ie++)K[J[0][ie]]=Z}q[Z]=J[0][0]}function se(ye){var De,Fe=[],We=Object.keys(I);if(typeof ye>"u")for(De=0;De<We.length;De++)["","prefix"].indexOf(I[We[De]][2])===-1&&Fe.push(We[De].substr(1,We[De].length-2));else{if(this.getKinds().indexOf(ye)===-1)throw new D("Kind not recognized");for(De=0;De<We.length;De++)I[We[De]][2]===ye&&Fe.push(We[De].substr(1,We[De].length-2))}return Fe.sort(function(Ze,Qe){return Ze.toLowerCase()<Qe.toLowerCase()?-1:Ze.toLowerCase()>Qe.toLowerCase()?1:0})}function oe(ye){if(!K[ye])throw new D("Unit not recognized");return I[K[ye]][0]}var ue=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function fe(){if(this.signature)return this.signature;for(var ye=xe.call(this),De=0;De<ye.length;De++)ye[De]*=Math.pow(20,De);return ye.reduce(function(Fe,We){return Fe+We},0)}function xe(){if(!this.isBase())return xe.call(this.toBase());for(var ye=new Array(ue.length),De=0;De<ye.length;De++)ye[De]=0;for(var Fe,We,Ze=0;Ze<this.numerator.length;Ze++)(Fe=I[this.numerator[Ze]])&&(We=ue.indexOf(Fe[2]),We>=0&&(ye[We]=ye[We]+1));for(var Qe=0;Qe<this.denominator.length;Qe++)(Fe=I[this.denominator[Qe]])&&(We=ue.indexOf(Fe[2]),We>=0&&(ye[We]=ye[We]-1));return ye}var ce="[+-]",me="\\d+",pe=ce+"?"+me,Se="\\."+me,Ae="(?:"+me+"(?:"+Se+")?)|(?:"+Se+")",_e="[Ee]"+pe,Me="(?:"+Ae+")(?:"+_e+")?",ve=ce+"?\\s*"+Me,Ee="("+ve+")?\\s*([^/]*)(?:/(.+))?",Le=new RegExp("^"+Ee+"$"),Ie="\\^|\\*{2}",Oe="[01234]",le=new RegExp("([^ \\*\\d]+?)(?:"+Ie+")?(-?"+Oe+"(?![a-zA-Z]))"),te=new RegExp("([^ \\*\\d]+?)(?:"+Ie+")?("+Oe+"(?![a-zA-Z]))");function re(ye){s(ye)||(ye=ye.toString()),ye=ye.trim();var De=Le.exec(ye);if(!De)throw new D(ye+": Quantity not recognized");var Fe=De[1];Fe?(Fe=Fe.replace(/\s/g,""),this.scalar=parseFloat(Fe)):this.scalar=1;for(var We=De[2],Ze=De[3],Qe,at,rt;De=le.exec(We);){if(Qe=parseFloat(De[2]),isNaN(Qe))throw new D("Unit exponent is not a number");if(Qe===0&&!be.test(De[1]))throw new D("Unit not recognized");at=De[1]+" ",rt="";for(var ut=0;ut<Math.abs(Qe);ut++)rt+=at;Qe>=0?We=We.replace(De[0],rt):(Ze=Ze?Ze+rt:rt,We=We.replace(De[0],""))}for(;De=te.exec(Ze);){if(Qe=parseFloat(De[2]),isNaN(Qe))throw new D("Unit exponent is not a number");if(Qe===0&&!be.test(De[1]))throw new D("Unit not recognized");at=De[1]+" ",rt="";for(var dt=0;dt<Qe;dt++)rt+=at;Ze=Ze.replace(De[0],rt)}We&&(this.numerator=Pe(We.trim())),Ze&&(this.denominator=Pe(Ze.trim()))}var ne=Object.keys(G).sort(function(ye,De){return De.length-ye.length}).join("|"),ae=Object.keys(K).sort(function(ye,De){return De.length-ye.length}).join("|"),he="\\b|$",de="("+ne+")??("+ae+")(?:"+he+")",be=new RegExp("^\\s*("+de+"[\\s\\*]*)+$"),Ce=new RegExp(de,"g"),we={};function Pe(ye){var De=we[ye];if(De)return De;var Fe,We=[];if(!be.test(ye))throw new D("Unit not recognized");for(;Fe=Ce.exec(ye);)We.push(Fe.slice(1));return We=We.map(function(Ze){return G[Ze[0]]?[G[Ze[0]],K[Ze[1]]]:[K[Ze[1]]]}),We=We.reduce(function(Ze,Qe){return Ze.concat(Qe)},[]),We=We.filter(function(Ze){return Ze}),we[ye]=We,We}function ke(ye){if(!s(ye))throw new D("Argument should be a string");try{return this(ye)}catch{return null}}function Be(ye){return ye instanceof Re}function Re(ye,De){if(ze.apply(null,arguments),!Be(this))return new Re(ye,De);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=R,this.denominator=R,$e(ye)?(this.scalar=ye.scalar,this.numerator=ye.numerator&&ye.numerator.length!==0?ye.numerator:R,this.denominator=ye.denominator&&ye.denominator.length!==0?ye.denominator:R):De?(re.call(this,De),this.scalar=ye):re.call(this,ye),this.denominator.join("*").indexOf("temp")>=0)throw new D("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new D("Cannot multiply by temperatures");if(!w(this.denominator,R))throw new D("Cannot divide with temperatures")}if(this.initValue=ye,je.call(this),this.isTemperature()&&this.baseScalar<0)throw new D("Temperatures must not be less than absolute zero")}Re.prototype={constructor:Re};function ze(ye,De){if(De){if(!(f(ye)&&s(De)))throw new D("Only number accepted as initialization value when units are explicitly provided")}else if(!(s(ye)||f(ye)||Be(ye)||$e(ye)))throw new D("Only string, number or quantity accepted as single initialization value")}function $e(ye){return ye&&typeof ye=="object"&&ye.hasOwnProperty("scalar")}function je(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=fe.call(this);else{var ye=this.toBase();this.baseScalar=ye.scalar,this.signature=ye.signature}}var ge={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8e3:"mass",152020:"radiation_exposure",159999:"magnetism",16e4:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",32e5:"substance",63999998:"illuminance",64e6:"luminous_power",128e7:"currency","25599999980":"information_rate","25600000000":"information","511999999980":"angular_velocity","512000000000":"angle"};function He(){return g(Object.keys(ge).map(function(ye){return ge[ye]}))}Re.prototype.kind=function(){return ge[this.signature.toString()]},C(Re.prototype,{isDegrees:function(){return(this.signature===null||this.signature===400)&&this.numerator.length===1&&w(this.denominator,R)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}});function Ue(ye,De){var Fe=ye.units(),We=De.to(Fe),Ze=Re(Ne(Fe));return Re({scalar:ye.scalar-We.scalar,numerator:Ze.numerator,denominator:Ze.denominator})}function Ye(ye,De){var Fe=De.to(Ne(ye.units()));return Re({scalar:ye.scalar-Fe.scalar,numerator:ye.numerator,denominator:ye.denominator})}function Te(ye,De){var Fe=De.to(Ne(ye.units()));return Re({scalar:ye.scalar+Fe.scalar,numerator:ye.numerator,denominator:ye.denominator})}function Ne(ye){if(ye==="tempK")return"degK";if(ye==="tempC")return"degC";if(ye==="tempF")return"degF";if(ye==="tempR")return"degR";throw new D("Unknown type for temp conversion from: "+ye)}function Ge(ye,De){var Fe=Xe(ye),We=De.units(),Ze;if(We==="degK")Ze=Fe.scalar;else if(We==="degC")Ze=Fe.scalar;else if(We==="degF")Ze=Fe.scalar*9/5;else if(We==="degR")Ze=Fe.scalar*9/5;else throw new D("Unknown type for degree conversion to: "+We);return Re({scalar:Ze,numerator:De.numerator,denominator:De.denominator})}function Xe(ye){var De=ye.units(),Fe;if(De.match(/(deg)[CFRK]/))Fe=ye.baseScalar;else if(De==="tempK")Fe=ye.scalar;else if(De==="tempC")Fe=ye.scalar;else if(De==="tempF")Fe=ye.scalar*5/9;else if(De==="tempR")Fe=ye.scalar*5/9;else throw new D("Unknown type for temp conversion from: "+De);return Re({scalar:Fe,numerator:["<kelvin>"],denominator:R})}function qe(ye,De){var Fe=De.units(),We;if(Fe==="tempK")We=ye.baseScalar;else if(Fe==="tempC")We=ye.baseScalar-273.15;else if(Fe==="tempF")We=ye.baseScalar*9/5-459.67;else if(Fe==="tempR")We=ye.baseScalar*9/5;else throw new D("Unknown type for temp conversion to: "+Fe);return Re({scalar:We,numerator:De.numerator,denominator:De.denominator})}function Je(ye){var De=ye.units(),Fe;if(De.match(/(deg)[CFRK]/))Fe=ye.baseScalar;else if(De==="tempK")Fe=ye.scalar;else if(De==="tempC")Fe=ye.scalar+273.15;else if(De==="tempF")Fe=(ye.scalar+459.67)*5/9;else if(De==="tempR")Fe=ye.scalar*5/9;else throw new D("Unknown type for temp conversion from: "+De);return Re({scalar:Fe,numerator:["<temp-K>"],denominator:R})}C(Re.prototype,{to:function(ye){var De,Fe;if(ye==null)return this;if(!s(ye))return this.to(ye.units());if(De=this._conversionCache[ye],De)return De;if(Fe=Re(ye),Fe.units()===this.units())return this;if(!this.isCompatible(Fe))this.isInverse(Fe)?Fe=this.inverse().to(ye):E(this.units(),Fe.units());else if(Fe.isTemperature())Fe=qe(this,Fe);else if(Fe.isDegrees())Fe=Ge(this,Fe);else{var We=_(this.baseScalar,Fe.baseScalar);Fe=Re({scalar:We,numerator:Fe.numerator,denominator:Fe.denominator})}return this._conversionCache[ye]=Fe,Fe},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return Je(this);var ye=et[this.units()];return ye||(ye=tt(this.numerator,this.denominator),et[this.units()]=ye),ye.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new D("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(ye){if(s(ye)&&(ye=Re(ye)),f(ye)&&(ye=Re(ye+" "+this.units())),this.isUnitless()?ye.isUnitless()||E(this.units(),ye.units()):ye=ye.to(this.units()),ye.scalar===0)throw new D("Divide by zero");var De=A(Math.round(this.scalar/ye.scalar),ye.scalar);return Re(De+this.units())}});function Ke(ye,De){var Fe=Re(ye),We=Re(De);if(Fe.eq(We))return x;var Ze;return Fe.isTemperature()?Ze=function(Qe){return Fe.mul(Qe).to(We).scalar}:Ze=function(Qe){return Qe*Fe.baseScalar/We.baseScalar},function(at){var rt,ut,dt;if(Array.isArray(at)){for(ut=at.length,dt=[],rt=0;rt<ut;rt++)dt.push(Ze(at[rt]));return dt}else return Ze(at)}}var et={};function tt(ye,De){for(var Fe=[],We=[],Ze=1,Qe,at=0;at<ye.length;at++)Qe=ye[at],z[Qe]?Ze=A(Ze,z[Qe]):W[Qe]&&(Ze*=W[Qe].scalar,W[Qe].numerator&&Fe.push(W[Qe].numerator),W[Qe].denominator&&We.push(W[Qe].denominator));for(var rt=0;rt<De.length;rt++)Qe=De[rt],z[Qe]?Ze/=z[Qe]:W[Qe]&&(Ze/=W[Qe].scalar,W[Qe].numerator&&We.push(W[Qe].numerator),W[Qe].denominator&&Fe.push(W[Qe].denominator));return Fe=Fe.reduce(function(ut,dt){return ut.concat(dt)},[]),We=We.reduce(function(ut,dt){return ut.concat(dt)},[]),Re({scalar:Ze,numerator:Fe,denominator:We})}Re.parse=ke,Re.getUnits=se,Re.getAliases=oe,Re.mulSafe=A,Re.divSafe=_,Re.getKinds=He,Re.swiftConverter=Ke,Re.Error=D,C(Re.prototype,{add:function(ye){if(s(ye)&&(ye=Re(ye)),this.isCompatible(ye)||E(this.units(),ye.units()),this.isTemperature()&&ye.isTemperature())throw new D("Cannot add two temperatures");return this.isTemperature()?Te(this,ye):ye.isTemperature()?Te(ye,this):Re({scalar:this.scalar+ye.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(ye){if(s(ye)&&(ye=Re(ye)),this.isCompatible(ye)||E(this.units(),ye.units()),this.isTemperature()&&ye.isTemperature())return Ue(this,ye);if(this.isTemperature())return Ye(this,ye);if(ye.isTemperature())throw new D("Cannot subtract a temperature from a differential degree unit");return Re({scalar:this.scalar-ye.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(ye){if(f(ye))return Re({scalar:A(this.scalar,ye),numerator:this.numerator,denominator:this.denominator});if(s(ye)&&(ye=Re(ye)),(this.isTemperature()||ye.isTemperature())&&!(this.isUnitless()||ye.isUnitless()))throw new D("Cannot multiply by temperatures");var De=this,Fe=ye;De.isCompatible(Fe)&&De.signature!==400&&(Fe=Fe.to(De));var We=ot(De.numerator,De.denominator,Fe.numerator,Fe.denominator);return Re({scalar:A(De.scalar,Fe.scalar,We[2]),numerator:We[0],denominator:We[1]})},div:function(ye){if(f(ye)){if(ye===0)throw new D("Divide by zero");return Re({scalar:this.scalar/ye,numerator:this.numerator,denominator:this.denominator})}else s(ye)&&(ye=Re(ye));if(ye.scalar===0)throw new D("Divide by zero");if(ye.isTemperature())throw new D("Cannot divide with temperatures");if(this.isTemperature()&&!ye.isUnitless())throw new D("Cannot divide with temperatures");var De=this,Fe=ye;De.isCompatible(Fe)&&De.signature!==400&&(Fe=Fe.to(De));var We=ot(De.numerator,De.denominator,Fe.denominator,Fe.numerator);return Re({scalar:A(De.scalar,We[2])/Fe.scalar,numerator:We[0],denominator:We[1]})},inverse:function(){if(this.isTemperature())throw new D("Cannot divide with temperatures");if(this.scalar===0)throw new D("Divide by zero");return Re({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}});function ot(ye,De,Fe,We){function Ze(ht){return ht!==F}ye=ye.filter(Ze),Fe=Fe.filter(Ze),De=De.filter(Ze),We=We.filter(Ze);var Qe={};function at(ht,yt){for(var mt,At,Lt,bt=0;bt<ht.length;bt++)if(z[ht[bt]]?(mt=ht[bt+1],At=ht[bt],Lt=z[At],bt++):(mt=ht[bt],At=null,Lt=1),mt&&mt!==F)if(Qe[mt]){Qe[mt][0]+=yt;var Ht=Qe[mt][2]?z[Qe[mt][2]]:1;Qe[mt][yt===1?3:4]*=_(Lt,Ht)}else Qe[mt]=[yt,mt,At,1,1]}at(ye,1),at(De,-1),at(Fe,1),at(We,-1);var rt=[],ut=[],dt=1;for(var $t in Qe)if(Qe.hasOwnProperty($t)){var ct=Qe[$t],_t;if(ct[0]>0)for(_t=0;_t<ct[0];_t++)rt.push(ct[2]===null?ct[1]:[ct[2],ct[1]]);else if(ct[0]<0)for(_t=0;_t<-ct[0];_t++)ut.push(ct[2]===null?ct[1]:[ct[2],ct[1]]);dt*=_(ct[3],ct[4])}return rt.length===0&&(rt=R),ut.length===0&&(ut=R),rt=rt.reduce(function(ht,yt){return ht.concat(yt)},[]),ut=ut.reduce(function(ht,yt){return ht.concat(yt)},[]),[rt,ut,dt]}C(Re.prototype,{eq:function(ye){return this.compareTo(ye)===0},lt:function(ye){return this.compareTo(ye)===-1},lte:function(ye){return this.eq(ye)||this.lt(ye)},gt:function(ye){return this.compareTo(ye)===1},gte:function(ye){return this.eq(ye)||this.gt(ye)},compareTo:function(ye){if(s(ye))return this.compareTo(Re(ye));if(this.isCompatible(ye)||E(this.units(),ye.units()),this.baseScalar<ye.baseScalar)return-1;if(this.baseScalar===ye.baseScalar)return 0;if(this.baseScalar>ye.baseScalar)return 1},same:function(ye){return this.scalar===ye.scalar&&this.units()===ye.units()}}),C(Re.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every(function(ye){return w(ye,R)})},isCompatible:function(ye){return s(ye)?this.isCompatible(Re(ye)):Be(ye)&&ye.signature!==void 0?this.signature===ye.signature:!1},isInverse:function(ye){return this.inverse().isCompatible(ye)},isBase:function(){return this._isBase!==void 0?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach(function(ye){ye!==F&&B.indexOf(ye)===-1&&(this._isBase=!1)},this),this._isBase===!1?this._isBase:(this._isBase=!0,this._isBase))}});function nt(){}nt.prototype.get=function(ye){return arguments.length>1&&(ye=Array.apply(null,arguments)),ye.reduce(function(De,Fe,We){if(De){var Ze=De[Fe];return We===ye.length-1?Ze?Ze.data:void 0:Ze}},this)},nt.prototype.set=function(ye,De){return arguments.length>2&&(ye=Array.prototype.slice.call(arguments,0,-1),De=arguments[arguments.length-1]),ye.reduce(function(Fe,We,Ze){var Qe=Fe[We];return Qe===void 0&&(Qe=Fe[We]={}),Ze===ye.length-1?(Qe.data=De,De):Qe},this)};function it(ye,De){return(ye+" "+De).trim()}Re.formatter=it,C(Re.prototype,{units:function(){if(this._units!==void 0)return this._units;var ye=w(this.numerator,R),De=w(this.denominator,R);if(ye&&De)return this._units="",this._units;var Fe=gt(this.numerator),We=gt(this.denominator);return this._units=Fe+(De?"":"/"+We),this._units},toString:function(ye,De){var Fe;if(f(ye))Fe=this.units(),De=ye;else if(s(ye))Fe=ye;else if(Be(ye))return this.toPrec(ye).toString(De);var We=this.to(Fe),Ze=De!==void 0?M(We.scalar,De):We.scalar;return We=(Ze+" "+We.units()).trim(),We},format:function(ye,De){arguments.length===1&&typeof ye=="function"&&(De=ye,ye=void 0),De=De||Re.formatter;var Fe=this.to(ye);return De.call(this,Fe.scalar,Fe.units())}});var st=new nt;function gt(ye){var De=st.get(ye);if(De)return De;var Fe=w(ye,R);return Fe?De="1":De=Ve(St(ye)).join("*"),st.set(ye,De),De}function St(ye){for(var De=[],Fe,We,Ze=0;Ze<ye.length;Ze++)Fe=ye[Ze],We=ye[Ze+1],z[Fe]?(De.push(q[Fe]+q[We]),Ze++):De.push(q[Fe]);return De}function Ve(ye){var De=ye.reduce(function(Fe,We){var Ze=Fe[We];return Ze||Fe.push(Ze=Fe[We]=[We,0]),Ze[1]++,Fe},[]);return De.map(function(Fe){return Fe[0]+(Fe[1]>1?Fe[1]:"")})}return Re.version="1.8.0",Re})})(quantities);var quantitiesExports=quantities.exports;const Qty=getDefaultExportFromCjs(quantitiesExports);function deepValue(a,d=""){let s=d.split(".");for(let m of s){if(a[m]===void 0)return;a=a[m]}return a}var orientation={exports:{}},twoProduct_1=twoProduct$1,SPLITTER=+(Math.pow(2,27)+1);function twoProduct$1(a,d,s){var m=a*d,f=SPLITTER*a,x=f-a,g=f-x,w=a-g,C=SPLITTER*d,A=C-d,_=C-A,M=d-_,P=m-g*_,D=P-w*_,E=D-g*M,I=w*M-E;return s?(s[0]=I,s[1]=m,s):[I,m]}var robustSum=linearExpansionSum;function scalarScalar$1(a,d){var s=a+d,m=s-a,f=s-m,x=d-m,g=a-f,w=g+x;return w?[w,s]:[s]}function linearExpansionSum(a,d){var s=a.length|0,m=d.length|0;if(s===1&&m===1)return scalarScalar$1(a[0],d[0]);var f=s+m,x=new Array(f),g=0,w=0,C=0,A=Math.abs,_=a[w],M=A(_),P=d[C],D=A(P),E,I;M<D?(I=_,w+=1,w<s&&(_=a[w],M=A(_))):(I=P,C+=1,C<m&&(P=d[C],D=A(P))),w<s&&M<D||C>=m?(E=_,w+=1,w<s&&(_=a[w],M=A(_))):(E=P,C+=1,C<m&&(P=d[C],D=A(P)));for(var B=E+I,F=B-E,R=I-F,L=R,z=B,G,W,K,q,Z;w<s&&C<m;)M<D?(E=_,w+=1,w<s&&(_=a[w],M=A(_))):(E=P,C+=1,C<m&&(P=d[C],D=A(P))),I=L,B=E+I,F=B-E,R=I-F,R&&(x[g++]=R),G=z+B,W=G-z,K=G-W,q=B-W,Z=z-K,L=Z+q,z=G;for(;w<s;)E=_,I=L,B=E+I,F=B-E,R=I-F,R&&(x[g++]=R),G=z+B,W=G-z,K=G-W,q=B-W,Z=z-K,L=Z+q,z=G,w+=1,w<s&&(_=a[w]);for(;C<m;)E=P,I=L,B=E+I,F=B-E,R=I-F,R&&(x[g++]=R),G=z+B,W=G-z,K=G-W,q=B-W,Z=z-K,L=Z+q,z=G,C+=1,C<m&&(P=d[C]);return L&&(x[g++]=L),z&&(x[g++]=z),g||(x[g++]=0),x.length=g,x}var twoSum$1=fastTwoSum;function fastTwoSum(a,d,s){var m=a+d,f=m-a,x=m-f,g=d-f,w=a-x;return s?(s[0]=w+g,s[1]=m,s):[w+g,m]}var twoProduct=twoProduct_1,twoSum=twoSum$1,robustScale=scaleLinearExpansion;function scaleLinearExpansion(a,d){var s=a.length;if(s===1){var m=twoProduct(a[0],d);return m[0]?m:[m[1]]}var f=new Array(2*s),x=[.1,.1],g=[.1,.1],w=0;twoProduct(a[0],d,x),x[0]&&(f[w++]=x[0]);for(var C=1;C<s;++C){twoProduct(a[C],d,g);var A=x[1];twoSum(A,g[0],x),x[0]&&(f[w++]=x[0]);var _=g[1],M=x[1],P=_+M,D=P-_,E=M-D;x[1]=P,E&&(f[w++]=E)}return x[1]&&(f[w++]=x[1]),w===0&&(f[w++]=0),f.length=w,f}var robustDiff=robustSubtract;function scalarScalar(a,d){var s=a+d,m=s-a,f=s-m,x=d-m,g=a-f,w=g+x;return w?[w,s]:[s]}function robustSubtract(a,d){var s=a.length|0,m=d.length|0;if(s===1&&m===1)return scalarScalar(a[0],-d[0]);var f=s+m,x=new Array(f),g=0,w=0,C=0,A=Math.abs,_=a[w],M=A(_),P=-d[C],D=A(P),E,I;M<D?(I=_,w+=1,w<s&&(_=a[w],M=A(_))):(I=P,C+=1,C<m&&(P=-d[C],D=A(P))),w<s&&M<D||C>=m?(E=_,w+=1,w<s&&(_=a[w],M=A(_))):(E=P,C+=1,C<m&&(P=-d[C],D=A(P)));for(var B=E+I,F=B-E,R=I-F,L=R,z=B,G,W,K,q,Z;w<s&&C<m;)M<D?(E=_,w+=1,w<s&&(_=a[w],M=A(_))):(E=P,C+=1,C<m&&(P=-d[C],D=A(P))),I=L,B=E+I,F=B-E,R=I-F,R&&(x[g++]=R),G=z+B,W=G-z,K=G-W,q=B-W,Z=z-K,L=Z+q,z=G;for(;w<s;)E=_,I=L,B=E+I,F=B-E,R=I-F,R&&(x[g++]=R),G=z+B,W=G-z,K=G-W,q=B-W,Z=z-K,L=Z+q,z=G,w+=1,w<s&&(_=a[w]);for(;C<m;)E=P,I=L,B=E+I,F=B-E,R=I-F,R&&(x[g++]=R),G=z+B,W=G-z,K=G-W,q=B-W,Z=z-K,L=Z+q,z=G,C+=1,C<m&&(P=-d[C]);return L&&(x[g++]=L),z&&(x[g++]=z),g||(x[g++]=0),x.length=g,x}(function(a){var d=twoProduct_1,s=robustSum,m=robustScale,f=robustDiff,x=5,g=11102230246251565e-32,w=(3+16*g)*g,C=(7+56*g)*g;function A(L,z,G,W){return function(q,Z,J){var Q=L(L(z(Z[1],J[0]),z(-J[1],Z[0])),L(z(q[1],Z[0]),z(-Z[1],q[0]))),ie=L(z(q[1],J[0]),z(-J[1],q[0])),se=W(Q,ie);return se[se.length-1]}}function _(L,z,G,W){return function(q,Z,J,Q){var ie=L(L(G(L(z(J[1],Q[0]),z(-Q[1],J[0])),Z[2]),L(G(L(z(Z[1],Q[0]),z(-Q[1],Z[0])),-J[2]),G(L(z(Z[1],J[0]),z(-J[1],Z[0])),Q[2]))),L(G(L(z(Z[1],Q[0]),z(-Q[1],Z[0])),q[2]),L(G(L(z(q[1],Q[0]),z(-Q[1],q[0])),-Z[2]),G(L(z(q[1],Z[0]),z(-Z[1],q[0])),Q[2])))),se=L(L(G(L(z(J[1],Q[0]),z(-Q[1],J[0])),q[2]),L(G(L(z(q[1],Q[0]),z(-Q[1],q[0])),-J[2]),G(L(z(q[1],J[0]),z(-J[1],q[0])),Q[2]))),L(G(L(z(Z[1],J[0]),z(-J[1],Z[0])),q[2]),L(G(L(z(q[1],J[0]),z(-J[1],q[0])),-Z[2]),G(L(z(q[1],Z[0]),z(-Z[1],q[0])),J[2])))),oe=W(ie,se);return oe[oe.length-1]}}function M(L,z,G,W){return function(q,Z,J,Q,ie){var se=L(L(L(G(L(G(L(z(Q[1],ie[0]),z(-ie[1],Q[0])),J[2]),L(G(L(z(J[1],ie[0]),z(-ie[1],J[0])),-Q[2]),G(L(z(J[1],Q[0]),z(-Q[1],J[0])),ie[2]))),Z[3]),L(G(L(G(L(z(Q[1],ie[0]),z(-ie[1],Q[0])),Z[2]),L(G(L(z(Z[1],ie[0]),z(-ie[1],Z[0])),-Q[2]),G(L(z(Z[1],Q[0]),z(-Q[1],Z[0])),ie[2]))),-J[3]),G(L(G(L(z(J[1],ie[0]),z(-ie[1],J[0])),Z[2]),L(G(L(z(Z[1],ie[0]),z(-ie[1],Z[0])),-J[2]),G(L(z(Z[1],J[0]),z(-J[1],Z[0])),ie[2]))),Q[3]))),L(G(L(G(L(z(J[1],Q[0]),z(-Q[1],J[0])),Z[2]),L(G(L(z(Z[1],Q[0]),z(-Q[1],Z[0])),-J[2]),G(L(z(Z[1],J[0]),z(-J[1],Z[0])),Q[2]))),-ie[3]),L(G(L(G(L(z(Q[1],ie[0]),z(-ie[1],Q[0])),Z[2]),L(G(L(z(Z[1],ie[0]),z(-ie[1],Z[0])),-Q[2]),G(L(z(Z[1],Q[0]),z(-Q[1],Z[0])),ie[2]))),q[3]),G(L(G(L(z(Q[1],ie[0]),z(-ie[1],Q[0])),q[2]),L(G(L(z(q[1],ie[0]),z(-ie[1],q[0])),-Q[2]),G(L(z(q[1],Q[0]),z(-Q[1],q[0])),ie[2]))),-Z[3])))),L(L(G(L(G(L(z(Z[1],ie[0]),z(-ie[1],Z[0])),q[2]),L(G(L(z(q[1],ie[0]),z(-ie[1],q[0])),-Z[2]),G(L(z(q[1],Z[0]),z(-Z[1],q[0])),ie[2]))),Q[3]),L(G(L(G(L(z(Z[1],Q[0]),z(-Q[1],Z[0])),q[2]),L(G(L(z(q[1],Q[0]),z(-Q[1],q[0])),-Z[2]),G(L(z(q[1],Z[0]),z(-Z[1],q[0])),Q[2]))),-ie[3]),G(L(G(L(z(J[1],Q[0]),z(-Q[1],J[0])),Z[2]),L(G(L(z(Z[1],Q[0]),z(-Q[1],Z[0])),-J[2]),G(L(z(Z[1],J[0]),z(-J[1],Z[0])),Q[2]))),q[3]))),L(G(L(G(L(z(J[1],Q[0]),z(-Q[1],J[0])),q[2]),L(G(L(z(q[1],Q[0]),z(-Q[1],q[0])),-J[2]),G(L(z(q[1],J[0]),z(-J[1],q[0])),Q[2]))),-Z[3]),L(G(L(G(L(z(Z[1],Q[0]),z(-Q[1],Z[0])),q[2]),L(G(L(z(q[1],Q[0]),z(-Q[1],q[0])),-Z[2]),G(L(z(q[1],Z[0]),z(-Z[1],q[0])),Q[2]))),J[3]),G(L(G(L(z(Z[1],J[0]),z(-J[1],Z[0])),q[2]),L(G(L(z(q[1],J[0]),z(-J[1],q[0])),-Z[2]),G(L(z(q[1],Z[0]),z(-Z[1],q[0])),J[2]))),-Q[3]))))),oe=L(L(L(G(L(G(L(z(Q[1],ie[0]),z(-ie[1],Q[0])),J[2]),L(G(L(z(J[1],ie[0]),z(-ie[1],J[0])),-Q[2]),G(L(z(J[1],Q[0]),z(-Q[1],J[0])),ie[2]))),q[3]),G(L(G(L(z(Q[1],ie[0]),z(-ie[1],Q[0])),q[2]),L(G(L(z(q[1],ie[0]),z(-ie[1],q[0])),-Q[2]),G(L(z(q[1],Q[0]),z(-Q[1],q[0])),ie[2]))),-J[3])),L(G(L(G(L(z(J[1],ie[0]),z(-ie[1],J[0])),q[2]),L(G(L(z(q[1],ie[0]),z(-ie[1],q[0])),-J[2]),G(L(z(q[1],J[0]),z(-J[1],q[0])),ie[2]))),Q[3]),G(L(G(L(z(J[1],Q[0]),z(-Q[1],J[0])),q[2]),L(G(L(z(q[1],Q[0]),z(-Q[1],q[0])),-J[2]),G(L(z(q[1],J[0]),z(-J[1],q[0])),Q[2]))),-ie[3]))),L(L(G(L(G(L(z(J[1],ie[0]),z(-ie[1],J[0])),Z[2]),L(G(L(z(Z[1],ie[0]),z(-ie[1],Z[0])),-J[2]),G(L(z(Z[1],J[0]),z(-J[1],Z[0])),ie[2]))),q[3]),G(L(G(L(z(J[1],ie[0]),z(-ie[1],J[0])),q[2]),L(G(L(z(q[1],ie[0]),z(-ie[1],q[0])),-J[2]),G(L(z(q[1],J[0]),z(-J[1],q[0])),ie[2]))),-Z[3])),L(G(L(G(L(z(Z[1],ie[0]),z(-ie[1],Z[0])),q[2]),L(G(L(z(q[1],ie[0]),z(-ie[1],q[0])),-Z[2]),G(L(z(q[1],Z[0]),z(-Z[1],q[0])),ie[2]))),J[3]),G(L(G(L(z(Z[1],J[0]),z(-J[1],Z[0])),q[2]),L(G(L(z(q[1],J[0]),z(-J[1],q[0])),-Z[2]),G(L(z(q[1],Z[0]),z(-Z[1],q[0])),J[2]))),-ie[3])))),ue=W(se,oe);return ue[ue.length-1]}}function P(L){var z=L===3?A:L===4?_:M;return z(s,d,m,f)}var D=P(3),E=P(4),I=[function(){return 0},function(){return 0},function(z,G){return G[0]-z[0]},function(z,G,W){var K=(z[1]-W[1])*(G[0]-W[0]),q=(z[0]-W[0])*(G[1]-W[1]),Z=K-q,J;if(K>0){if(q<=0)return Z;J=K+q}else if(K<0){if(q>=0)return Z;J=-(K+q)}else return Z;var Q=w*J;return Z>=Q||Z<=-Q?Z:D(z,G,W)},function(z,G,W,K){var q=z[0]-K[0],Z=G[0]-K[0],J=W[0]-K[0],Q=z[1]-K[1],ie=G[1]-K[1],se=W[1]-K[1],oe=z[2]-K[2],ue=G[2]-K[2],fe=W[2]-K[2],xe=Z*se,ce=J*ie,me=J*Q,pe=q*se,Se=q*ie,Ae=Z*Q,_e=oe*(xe-ce)+ue*(me-pe)+fe*(Se-Ae),Me=(Math.abs(xe)+Math.abs(ce))*Math.abs(oe)+(Math.abs(me)+Math.abs(pe))*Math.abs(ue)+(Math.abs(Se)+Math.abs(Ae))*Math.abs(fe),ve=C*Me;return _e>ve||-_e>ve?_e:E(z,G,W,K)}];function B(L){var z=I[L.length];return z||(z=I[L.length]=P(L.length)),z.apply(void 0,L)}function F(L,z,G,W,K,q,Z){return function(Q,ie,se,oe,ue){switch(arguments.length){case 0:case 1:return 0;case 2:return W(Q,ie);case 3:return K(Q,ie,se);case 4:return q(Q,ie,se,oe);case 5:return Z(Q,ie,se,oe,ue)}for(var fe=new Array(arguments.length),xe=0;xe<arguments.length;++xe)fe[xe]=arguments[xe];return L(fe)}}function R(){for(;I.length<=x;)I.push(P(I.length));a.exports=F.apply(void 0,[B].concat(I));for(var L=0;L<=x;++L)a.exports[L]=I[L]}R()})(orientation);var orientationExports=orientation.exports,robustPnp=robustPointInPolygon,orient=orientationExports;function robustPointInPolygon(a,d){for(var s=d[0],m=d[1],f=a.length,x=1,g=f,w=0,C=f-1;w<g;C=w++){var A=a[w],_=a[C],M=A[1],P=_[1];if(P<M){if(P<m&&m<M){var D=orient(A,_,d);if(D===0)return 0;x^=0<D|0}else if(m===M){var E=a[(w+1)%f],I=E[1];if(M<I){var D=orient(A,_,d);if(D===0)return 0;x^=0<D|0}}}else if(M<P){if(M<m&&m<P){var D=orient(A,_,d);if(D===0)return 0;x^=D<0|0}else if(m===M){var E=a[(w+1)%f],I=E[1];if(I<M){var D=orient(A,_,d);if(D===0)return 0;x^=D<0|0}}}else if(m===M){var B=Math.min(A[0],_[0]),F=Math.max(A[0],_[0]);if(w===0){for(;C>0;){var R=(C+f-1)%f,L=a[R];if(L[1]!==m)break;var z=L[0];B=Math.min(B,z),F=Math.max(F,z),C=R}if(C===0)return B<=s&&s<=F?0:1;g=C+1}for(var G=a[(C+f-1)%f][1];w+1<g;){var L=a[w+1];if(L[1]!==m)break;var z=L[0];B=Math.min(B,z),F=Math.max(F,z),w+=1}if(B<=s&&s<=F)return 0;var W=a[(w+1)%f][1];s<B&&G<m!=W<m&&(x^=1)}}return 2*x-1}const robustPointInPolygon$1=getDefaultExportFromCjs(robustPnp);function feretDiameters(a={}){const{originalPoints:d=monotoneChainConvexHull.call(this)}=a;if(d.length===0)return{min:0,max:0,minLine:[],maxLine:[],aspectRatio:1};if(d.length===1)return{min:1,max:1,minLine:[d[0],d[0]],maxLine:[d[0],d[0]],aspectRatio:1};const s=new Array(d.length);let m=1/0,f=0,x=[];for(let A=0;A<d.length;A++){let _=getAngle(d[A],d[(A+1)%d.length]);rotate(-_,d,s);let M=0,P=[];for(let D=0;D<d.length;D++){let E=Math.abs(s[A][1]-s[D][1]);E>M&&(M=E,P=[],P.push([s[D][0],s[A][1]],[s[D][0],s[D][1]]))}M<m&&(m=M,f=_,x=P)}rotate(f,x,x);let g=0,w=[],C=0;for(let A=0;A<d.length-1;A++)for(let _=A+1;_<d.length;_++){let M=(d[A][0]-d[_][0])**2+(d[A][1]-d[_][1])**2;M>C&&(C=M,g=Math.sqrt(M),w=[d[A],d[_]])}return{min:m,minLine:x,max:g,maxLine:w,aspectRatio:m/g}}function getAngle(a,d){let s=difference(d,a),m=normalize(s),f=Math.acos(m[0]);return m[1]<0?-f:f}class Roi{constructor(d,s){this.map=d,this.id=s,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,this.meanX=0,this.meanY=0,this.surface=0,this.computed={}}getMask(d={}){const{scale:s=1,kind:m=""}=d;let f;switch(m){case"contour":f=this.contourMask;break;case"box":f=this.boxMask;break;case"filled":f=this.filledMask;break;case"center":f=this.centerMask;break;case"mbr":f=this.mbrFilledMask;break;case"hull":f=this.convexHullFilledMask;break;case"hullContour":f=this.convexHullMask;break;case"mbrContour":f=this.mbrMask;break;case"feret":f=this.feretMask;break;default:f=this.mask}return s<1&&(f=f.resize({factor:s}),f.parent=this.mask.parent,f.position[0]+=this.minX,f.position[1]+=this.minY),f}get mean(){throw new Error("Roi mean not implemented yet")}get center(){return this.computed.center||(this.computed.center=[this.width/2>>0,this.height/2>>0]),this.computed.center}get ratio(){return this.width/this.height}get width(){return this.maxX-this.minX+1}get height(){return this.maxY-this.minY+1}_computExternalIDs(){let d=this.borderIDs,s=this.borderLengths;this.computed.externalIDs=[],this.computed.externalLengths=[];let m=this.internalIDs;for(let f=0;f<d.length;f++)m.includes(d[f])||(this.computed.externalIDs.push(d[f]),this.computed.externalLengths.push(s[f]))}get externalIDs(){return this.computed.externalIDs?this.computed.externalIDs:(this._computExternalIDs(),this.computed.externalIDs)}get externalLengths(){return this.computed.externalLengths?this.computed.externalLengths:(this._computExternalIDs(),this.computed.externalLengths)}_computeBorderIDs(){let d=getBorders(this);this.computed.borderIDs=d.ids,this.computed.borderLengths=d.lengths}get borderIDs(){return this.computed.borderIDs?this.computed.borderIDs:(this._computeBorderIDs(),this.computed.borderIDs)}get borderLengths(){return this.computed.borderLengths?this.computed.borderLengths:(this._computeBorderIDs(),this.computed.borderLengths)}get boxIDs(){return this.computed.boxIDs||(this.computed.boxIDs=getBoxIDs(this)),this.computed.boxIDs}get internalIDs(){return this.computed.internalIDs||(this.computed.internalIDs=getInternalIDs(this)),this.computed.internalIDs}get box(){return this.computed.box||(this.computed.box=getBox(this)),this.computed.box}get external(){return this.computed.external||(this.computed.external=getExternal(this)),this.computed.external}get holesInfo(){return this.computed.holesInfo||(this.computed.holesInfo=getHolesInfo(this)),this.computed.holesInfo}get border(){return this.computed.border||(this.computed.border=getBorder(this)),this.computed.border}get contourMask(){if(!this.computed.contourMask){let d=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let s=0;s<this.width;s++)for(let m=0;m<this.height;m++)this.map.data[s+this.minX+(m+this.minY)*this.map.width]===this.id&&(s>0&&s<this.width-1&&m>0&&m<this.height-1?(this.map.data[s-1+this.minX+(m+this.minY)*this.map.width]!==this.id||this.map.data[s+1+this.minX+(m+this.minY)*this.map.width]!==this.id||this.map.data[s+this.minX+(m-1+this.minY)*this.map.width]!==this.id||this.map.data[s+this.minX+(m+1+this.minY)*this.map.width]!==this.id)&&d.setBitXY(s,m):d.setBitXY(s,m));this.computed.contourMask=d}return this.computed.contourMask}get boxMask(){if(!this.computed.boxMask){let d=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let s=0;s<this.width;s++)d.setBitXY(s,0),d.setBitXY(s,this.height-1);for(let s=0;s<this.height;s++)d.setBitXY(0,s),d.setBitXY(this.width-1,s);this.computed.boxMask=d}return this.computed.boxMask}get mask(){if(!this.computed.mask){let d=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let s=0;s<this.width;s++)for(let m=0;m<this.height;m++)this.map.data[s+this.minX+(m+this.minY)*this.map.width]===this.id&&d.setBitXY(s,m);this.computed.mask=d}return this.computed.mask}get filledMask(){if(!this.computed.filledMask){let d=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let s=0;s<this.width;s++)for(let m=0;m<this.height;m++){let f=s+this.minX+(m+this.minY)*this.map.width;this.internalIDs.includes(this.map.data[f])&&d.setBitXY(s,m)}this.computed.filledMask=d}return this.computed.filledMask}get centerMask(){if(!this.computed.centerMask){let d=new Shape({kind:"smallCross"}).getMask();d.parent=this.map.parent,d.position=[this.minX+this.center[0]-1,this.minY+this.center[1]-1],this.computed.centerMask=d}return this.computed.centerMask}get convexHull(){if(!this.computed.convexHull){const d=[];for(let m=0;m<this.width;m++)for(let f=0;f<this.height;f++)this.map.data[m+this.minX+(f+this.minY)*this.map.width]===this.id&&(m>0&&m<this.width-1&&f>0&&f<this.height-1?(this.map.data[m-1+this.minX+(f+this.minY)*this.map.width]!==this.id||this.map.data[m+1+this.minX+(f+this.minY)*this.map.width]!==this.id||this.map.data[m+this.minX+(f-1+this.minY)*this.map.width]!==this.id||this.map.data[m+this.minX+(f+1+this.minY)*this.map.width]!==this.id)&&(d.push([m,f]),d.push([m+1,f]),d.push([m,f+1]),d.push([m+1,f+1])):(d.push([m,f]),d.push([m+1,f]),d.push([m,f+1]),d.push([m+1,f+1])));const s=monotoneChainConvexHull$1(d);this.computed.convexHull={polyline:s,surface:surface(s),perimeter:perimeter(s)}}return this.computed.convexHull}get convexHullMask(){if(!this.computed.convexHullMask){const d=this.convexHull,s=new Image$1(this.width+1,this.height+1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});s.paintPolyline(d.polyline,{closed:!0}),this.computed.convexHullMask=s}return this.computed.convexHullMask}get convexHullFilledMask(){if(!this.computed.convexHullFilledMask){const d=this.convexHull,s=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let m=0;m<this.width;m++)for(let f=0;f<this.height;f++)robustPointInPolygon$1(d.polyline,[m,f])!==1&&s.setBitXY(m,f);this.computed.convexHullFilledMask=s}return this.computed.convexHullFilledMask}get mbr(){if(!this.computed.mbr){let d=minimalBoundingRectangle({originalPoints:this.convexHull.polyline});if(d.length===0)this.computed.mbr={width:0,height:0,surface:0,perimeter:0,rectangle:d};else{let s=d[0],m=d[1],f=d[2],x=Math.sqrt((s[0]-m[0])**2+(s[1]-m[1])**2),g=Math.sqrt((f[0]-m[0])**2+(f[1]-m[1])**2);this.computed.mbr={width:x,height:g,elongation:1-x/g,aspectRatio:x/g,surface:x*g,perimeter:(x+g)*2,rectangle:d}}}return this.computed.mbr}get fillRatio(){return this.surface/(this.surface+this.holesInfo.surface)}get feretDiameters(){return this.computed.feretDiameters||(this.computed.feretDiameters=feretDiameters({originalPoints:this.convexHull.polyline})),this.computed.feretDiameters}get eqpc(){return this.computed.eqpc||(this.computed.eqpc=2*Math.sqrt(this.surface/Math.PI)),this.computed.eqpc}get perimeterInfo(){return this.computed.perimeterInfo||(this.computed.perimeterInfo=getPerimeterInfo(this)),this.computed.perimeterInfo}get perimeter(){let d=this.perimeterInfo,s=2-Math.sqrt(2);return d.one+d.two*2+d.three*3+d.four*4-s*(d.two+d.three*2+d.four)}get ped(){return this.computed.ped||(this.computed.ped=this.perimeter/Math.PI),this.computed.ped}get feretMask(){if(!this.computed.feretMask){const d=new Image$1(this.width+1,this.height+1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});d.paintPolyline(this.feretDiameters.minLine),d.paintPolyline(this.feretDiameters.maxLine),this.computed.feretMask=d}return this.computed.feretMask}get mbrMask(){if(!this.computed.mbrMask){let d=round$1(this.mbr.rectangle);if(d.length>0){const s=minMax(d),m=new Image$1(s[1][0]-s[0][0]+1,s[1][1]-s[0][1]+1,{kind:BINARY,position:[this.minX+s[0][0],this.minY+s[0][1]],parent:this.map.parent});d=moveToZeroZero(d),m.paintPolyline(d,{closed:!0}),this.computed.mbrMask=m}else this.computed.mbrMask=new Image$1(1,1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent})}return this.computed.mbrMask}get mbrFilledMask(){if(!this.computed.mbrFilledMask){const d=new Image$1(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent}),s=this.mask.minimalBoundingRectangle();for(let m=0;m<this.width;m++)for(let f=0;f<this.height;f++)robustPointInPolygon$1(s,[m,f])!==1&&d.setBitXY(m,f);this.computed.mbrFilledMask=d}return this.computed.mbrFilledMask}get points(){if(!this.computed.points){let d=[];for(let s=0;s<this.height;s++)for(let m=0;m<this.width;m++){let f=(s+this.minY)*this.map.width+m+this.minX;this.map.data[f]===this.id&&d.push([m,s])}this.computed.points=d}return this.computed.points}get maxLengthPoints(){if(!this.computed.maxLengthPoints){let d=0,s;const m=this.points;for(let f=0;f<m.length;f++)for(let x=f+1;x<m.length;x++){let g=Math.pow(m[f][0]-m[x][0],2)+Math.pow(m[f][1]-m[x][1],2);g>=d&&(d=g,s=[m[f],m[x]])}this.computed.maxLengthPoints=s}return this.computed.maxLengthPoints}get maxLength(){if(!this.computed.maxLength){let d=Math.sqrt(Math.pow(this.maxLengthPoints[0][0]-this.maxLengthPoints[1][0],2)+Math.pow(this.maxLengthPoints[0][1]-this.maxLengthPoints[1][1],2));this.computed.maxLength=d}return this.computed.maxLength}get roundness(){return 4*this.surface/(Math.PI*this.feretDiameters.max**2)}get sphericity(){return 2*Math.sqrt(this.surface*Math.PI)/this.perimeter}get solidity(){return this.surface/this.convexHull.surface}get angle(){if(!this.computed.angle){let d=this.maxLengthPoints,s=-Math.atan2(d[0][1]-d[1][1],d[0][0]-d[1][0])*180/Math.PI;this.computed.angle=s}return this.computed.angle}toJSON(){return{id:this.id,minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,meanX:this.meanX,meanY:this.meanY,height:this.height,width:this.width,surface:this.surface,mbrWidth:this.mbr.width,mbrHeight:this.mbr.height,mbrSurface:this.mbr.surface,eqpc:this.eqpc,ped:this.ped,feretDiameterMin:this.feretDiameters.min,feretDiameterMax:this.feretDiameters.max,aspectRatio:this.feretDiameters.aspectRatio,fillRatio:this.fillRatio,sphericity:this.sphericity,roundness:this.roundness,solidity:this.solidity,perimeter:this.perimeter}}}function getBorders(a){let d=a.map,s=d.data,m=new Set,f=new Map,x=new Set,g=[1,0,-1,0],w=[0,1,0,-1];for(let _=a.minX;_<=a.maxX;_++)for(let M=a.minY;M<=a.maxY;M++){let P=_+M*d.width;if(s[P]===a.id)for(let D=0;D<4;D++){let E=_+g[D],I=M+w[D];if(E>=0&&I>=0&&E<d.width&&I<d.height){let B=E+I*d.width;if(s[B]!==a.id&&!x.has(B)){x.add(B),m.add(s[B]);let F=f.get(s[B]);F?f.set(s[B],++F):f.set(s[B],1)}}}}let C=Array.from(m),A=C.map(function(_){return f.get(_)});return{ids:C,lengths:A}}function getBoxIDs(a){let d=new Set,s=a.map,m=s.data;for(let f of[0,a.height-1])for(let x=0;x<a.width;x++){let g=(f+a.minY)*s.width+x+a.minX;if(x-a.minX>0&&m[g]===a.id&&m[g-1]!==a.id){let w=m[g-1];d.add(w)}if(s.width-x-a.minX>1&&m[g]===a.id&&m[g+1]!==a.id){let w=m[g+1];d.add(w)}}for(let f of[0,a.width-1])for(let x=0;x<a.height;x++){let g=(x+a.minY)*s.width+f+a.minX;if(x-a.minY>0&&m[g]===a.id&&m[g-s.width]!==a.id){let w=m[g-s.width];d.add(w)}if(s.height-x-a.minY>1&&m[g]===a.id&&m[g+s.width]!==a.id){let w=m[g+s.width];d.add(w)}}return Array.from(d)}function getBox(a){let d=0,s=a.map,m=s.data,f=[0];a.height>1&&(f[1]=a.height-1);for(let g of f)for(let w=1;w<a.width-1;w++){let C=(g+a.minY)*s.width+w+a.minX;m[C]===a.id&&d++}let x=[0];a.width>1&&(x[1]=a.width-1);for(let g of x)for(let w=0;w<a.height;w++){let C=(w+a.minY)*s.width+g+a.minX;m[C]===a.id&&d++}return d}function getBorder(a){let d=0,s=a.map,m=s.data;for(let f=1;f<a.width-1;f++)for(let x=1;x<a.height-1;x++){let g=(x+a.minY)*s.width+f+a.minX;m[g]===a.id&&(m[g-1]!==a.id||m[g+1]!==a.id||m[g-s.width]!==a.id||m[g+s.width]!==a.id)&&d++}return d+a.box}function getPerimeterInfo(a){let d=a.map,s=d.data,m=0,f=0,x=0,g=0;for(let w=0;w<a.width;w++)for(let C=0;C<a.height;C++){let A=(C+a.minY)*d.width+w+a.minX;if(s[A]===a.id){let _=0;switch((w===0||a.externalIDs.includes(s[A-1]))&&_++,(w===a.width-1||a.externalIDs.includes(s[A+1]))&&_++,(C===0||a.externalIDs.includes(s[A-d.width]))&&_++,(C===a.height-1||a.externalIDs.includes(s[A+d.width]))&&_++,_){case 1:m++;break;case 2:f++;break;case 3:x++;break;case 4:g++;break}}}return{one:m,two:f,three:x,four:g}}function getExternal(a){let d=0,s=a.map,m=s.data;for(let f=1;f<a.width-1;f++)for(let x=1;x<a.height-1;x++){let g=(x+a.minY)*s.width+f+a.minX;m[g]===a.id&&(a.externalIDs.includes(m[g-1])||a.externalIDs.includes(m[g+1])||a.externalIDs.includes(m[g-s.width])||a.externalIDs.includes(m[g+s.width]))&&d++}return d+a.box}function getHolesInfo(a){let d=0,s=a.map.width,m=a.map.data;for(let f=1;f<a.width-1;f++)for(let x=1;x<a.height-1;x++){let g=(x+a.minY)*s+f+a.minX;a.internalIDs.includes(m[g])&&m[g]!==a.id&&d++}return{number:a.internalIDs.length-1,surface:d}}function getInternalIDs(a){let d=[a.id],s=a.map,m=s.data;if(a.height>2)for(let x=0;x<a.width;x++){let g=a.minY*s.width+x+a.minX;if(d.includes(m[g])){let w=m[g+s.width];!d.includes(w)&&!a.boxIDs.includes(w)&&d.push(w)}}let f=new Array(4);for(let x=1;x<a.width-1;x++)for(let g=1;g<a.height-1;g++){let w=(g+a.minY)*s.width+x+a.minX;if(d.includes(m[w])){f[0]=m[w-1],f[1]=m[w+1],f[2]=m[w-s.width],f[3]=m[w+s.width];for(let C=0;C<4;C++){let A=f[C];!d.includes(A)&&!a.boxIDs.includes(A)&&d.push(A)}}}return d}class RoiLayer{constructor(d,s){this.roiMap=d,this.options=s,this.roi=this.createRoi()}createRoi(){let d=this.roiMap.data,s={};this.roiMap.positive=0,this.roiMap.negative=0;for(let w=0;w<d.length;w++)d[w]&&!s[d[w]]&&(s[d[w]]=!0,d[w]>0?this.roiMap.positive++:this.roiMap.negative++);let m={};for(let w in s)m[w]=new Roi(this.roiMap,w*1);let f=this.roiMap.width,x=this.roiMap.height;for(let w=0;w<x;w++)for(let C=0;C<f;C++){let A=w*f+C;if(d[A]!==0){const _=d[A],M=m[_];C<M.minX&&(M.minX=C),C>M.maxX&&(M.maxX=C),w<M.minY&&(M.minY=w),w>M.maxY&&(M.maxY=w),M.meanX+=C,M.meanY+=w,M.surface++}}let g=[];for(let w in s)m[w].meanX/=m[w].surface,m[w].meanY/=m[w].surface,g.push(m[w]);return g}}function commonBorderLength(a){let d=a.data,s=[1,0,-1,0],m=[0,1,0,-1],f=a.minMax,x=-f.min,g=f.max+x,w=[];for(let A=0;A<=g;A++)w.push(Object.create(null));for(let A=0;A<a.width;A++)for(let _=0;_<a.height;_++){let M=A+_*a.width,P=d[M];if(P!==0){let D=Object.create(null),E=!1;for(let I=0;I<4;I++){let B=A+s[I],F=_+m[I];if(B>=0&&F>=0&&B<a.width&&F<a.height){let R=d[B+F*a.width];P!==R&&(E=!0,R!==0&&D[R]===void 0&&(D[R]=!0,w[R+x][P]?w[R+x][P]++:w[R+x][P]=1))}else E=!0}E&&(w[P+x][P]?w[P+x][P]++:w[P+x][P]=1)}}let C={};for(let A=0;A<w.length;A++)Object.keys(w[A]).length>0&&(C[A-x]=w[A]);return C}function mergeRoi(a={}){const{algorithm:d="commonBorderLength",minCommonBorderLength:s=5,maxCommonBorderLength:m=100,minCommonBorderRatio:f=.3,maxCommonBorderRatio:x=1}=a;let g=function(B,F,R){return B[R]>=s&&B[R]<=m};typeof d=="function"&&(g=d),d.toLowerCase()==="commonborderratio"&&(g=function(B,F,R){let L=Math.min(B[R]/B[F],1);return L>=f&&L<=x});const w=this,C=w.commonBorderLength;let A={},_={};for(let B of Object.keys(C)){let F=C[B],R=Object.keys(F);for(let L of R)if(L!==B&&g(F,B,L)){let z=L;_[L]&&(z=_[L]);let G=B;if(_[B]&&(G=_[B]),Number(z)!==G){let W=Math.min(z,G),K=Math.max(z,G);if(A[W]||(A[W]={}),A[W][K]=!0,_[K]=W,A[K]){for(let q of Object.keys(A[K]))A[W][q]=!0,_[q]=W;delete A[K]}}}}let M=w.minMax,P=-M.min,D=M.max+P,E=new Array(D+1).fill(0);for(let B of Object.keys(_))E[Number(B)+P]=_[B];let I=w.data;for(let B=0;B<I.length;B++){let F=I[B];if(F!==0){let R=E[F+P];R!==0&&(I[B]=R)}}return w.computed={},w}class RoiMap{constructor(d,s){this.parent=d,this.width=d.width,this.height=d.height,this.data=s,this.negative=0,this.positive=0}get total(){return this.negative+this.positive}get minMax(){let d=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;for(let m=0;m<this.data.length;m++)this.data[m]<d&&(d=this.data[m]),this.data[m]>s&&(s=this.data[m]);return{min:d,max:s}}get commonBorderLength(){return commonBorderLength(this)}mergeRoi(d={}){return mergeRoi.call(this,d)}mergeRois(d){const s=d[0],m=d.slice(1);for(let f=0;f<this.data.length;f++)m.includes(this.data[f])&&(this.data[f]=s)}rowsInfo(){let d=new Array(this.height),s=0;for(let m=0;m<this.data.length;m+=this.width){let f={row:s,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};d[s++]=f;let x={},g={},w=[],C=this.data[m],A=0;for(let _=m;_<m+this.width;_++){let M=this.data[_];C!==M&&(C=M,w.push(A),A=0),A++,M>0?(f.positivePixel++,x[M]||(x[M]=!0)):M<0?(f.negativePixel++,g[M]||(g[M]=!0)):f.zeroPixel++}w.push(A),f.medianChange=w.sort((_,M)=>_-M)[Math.floor(w.length/2)],f.positiveRoiIDs=Object.keys(x),f.negativeRoiIDs=Object.keys(g),f.positiveRoi=f.positiveRoiIDs.length,f.negativeRoi=f.negativeRoiIDs.length}return d}colsInfo(){let d=new Array(this.width),s=0;for(let m=0;m<this.width;m++){let f={col:s,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};d[s++]=f;let x={},g={},w=[],C=this.data[m],A=0;for(let _=m;_<m+this.data.length;_+=this.width){let M=this.data[_];C!==M&&(C=M,w.push(A),A=0),A++,M>0?(f.positivePixel++,x[M]||(x[M]=!0)):M<0?(f.negativePixel++,g[M]||(g[M]=!0)):f.zeroPixel++}w.push(A),f.medianChange=w.sort((_,M)=>_-M)[Math.floor(w.length/2)],f.positiveRoiIDs=Object.keys(x),f.negativeRoiIDs=Object.keys(g),f.positiveRoi=f.positiveRoiIDs.length,f.negativeRoi=f.negativeRoiIDs.length}return d}}function fromMask(a,d={}){const{allowCorners:s=!1}=d,m=65535;let f=new Int16Array(a.size),x=0,g=0,w=new Uint16Array(m+1),C=new Uint16Array(m+1);for(let _=0;_<a.width;_++)for(let M=0;M<a.height;M++)f[M*a.width+_]===0&&A(_,M);function A(_,M){let P=0,D=0,E=a.getBitXY(_,M),I=E?++x:--g;if(x>32767||g<-32768)throw new Error("Too many regions of interest");for(w[0]=_,C[0]=M;P<=D;){let B=w[P&m],F=C[P&m];if(f[F*a.width+B]=I,B>0&&f[F*a.width+B-1]===0&&a.getBitXY(B-1,F)===E&&(D++,w[D&m]=B-1,C[D&m]=F,f[F*a.width+B-1]=-32768),F>0&&f[(F-1)*a.width+B]===0&&a.getBitXY(B,F-1)===E&&(D++,w[D&m]=B,C[D&m]=F-1,f[(F-1)*a.width+B]=-32768),B<a.width-1&&f[F*a.width+B+1]===0&&a.getBitXY(B+1,F)===E&&(D++,w[D&m]=B+1,C[D&m]=F,f[F*a.width+B+1]=-32768),F<a.height-1&&f[(F+1)*a.width+B]===0&&a.getBitXY(B,F+1)===E&&(D++,w[D&m]=B,C[D&m]=F+1,f[(F+1)*a.width+B]=-32768),s&&(B>0&&F>0&&f[(F-1)*a.width+B-1]===0&&a.getBitXY(B-1,F-1)===E&&(D++,w[D&m]=B-1,C[D&m]=F-1,f[(F-1)*a.width+B-1]=-32768),B<a.width-1&&F>0&&f[(F-1)*a.width+B+1]===0&&a.getBitXY(B+1,F-1)===E&&(D++,w[D&m]=B+1,C[D&m]=F-1,f[(F-1)*a.width+B+1]=-32768),B>0&&F<a.height-1&&f[(F+1)*a.width+B-1]===0&&a.getBitXY(B-1,F+1)===E&&(D++,w[D&m]=B-1,C[D&m]=F+1,f[(F+1)*a.width+B-1]=-32768),B<a.width-1&&F<a.height-1&&f[(F+1)*a.width+B+1]===0&&a.getBitXY(B+1,F+1)===E&&(D++,w[D&m]=B+1,C[D&m]=F+1,f[(F+1)*a.width+B+1]=-32768)),P++,D-P>m)throw new Error("analyseMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new RoiMap(a,f)}class DisjointSet{constructor(){this.nodes=new Map}add(d){var s=this.nodes.get(d);return s||(s=new DisjointSetNode(d),this.nodes.set(d,s)),s}union(d,s){const m=this.find(d),f=this.find(s);m!==f&&(m.rank<f.rank?m.parent=f:m.rank>f.rank?f.parent=m:(f.parent=m,m.rank++))}find(d){for(var s=d;s.parent!==null;)s=s.parent;for(var m=d;m.parent!==null;){var f=m;m=m.parent,f.parent=s}return s}connected(d,s){return this.find(d)===this.find(s)}}var DisjointSet_1=DisjointSet;function DisjointSetNode(a){this.value=a,this.parent=null,this.rank=0}const DisjointSet$1=getDefaultExportFromCjs(DisjointSet_1),direction4X=[-1,0],direction4Y=[0,-1],neighbours4=[null,null],direction8X=[-1,-1,0,1],direction8Y=[0,-1,-1,-1],neighbours8=[null,null,null,null];function fromMaskConnectedComponentLabelingAlgorithm(a,d={}){const{allowCorners:s=!1}=d;let m=4;s&&(m=8);let f,x,g;if(m===8)f=direction8X,x=direction8Y,g=neighbours8;else if(m===4)f=direction4X,x=direction4Y,g=neighbours4;else throw new RangeError(`unsupported neighbours count: ${m}`);const w=a.size,C=a.width,A=a.height,_=new Array(w),M=new Uint32Array(w),P=new DisjointSet$1;let D=1;for(let E=0;E<A;E++)for(let I=0;I<C;I++){const B=I+E*C;if(a.getBit(B)){let F=null;for(let R=0;R<g.length;R++){const L=I+f[R],z=E+x[R];if(L>=0&&z>=0&&L<C&&z<A){const G=L+z*C;let W=_[G];W?(g[R]=W,(!F||g[R].value<F.value)&&(F=g[R])):g[R]=null}}if(!F)_[B]=P.add(D++);else{_[B]=F;for(let R=0;R<g.length;R++)g[R]&&g[R]!==F&&P.union(F,g[R])}}}for(let E=0;E<A;E++)for(let I=0;I<C;I++){const B=I+E*C;a.getBit(B)&&(M[B]=P.find(_[B]).value)}return new RoiMap(a,M)}function fromMaxima(a={}){let{allowCorner:d=!0,onlyTop:s=!1,invert:m=!1}=a,f=this;f.checkProcessable("fromMaxima",{components:[1]});const x=1,g=2;let w=0,C=0,A=new Int16Array(f.size),_=new Int8Array(f.size),M=new Float32Array(f.size),P=1048575,D=new Uint16Array(P+1),E=new Uint16Array(P+1),I=0,B=0,F=new Uint16Array(P+1),R=new Uint16Array(P+1),L=0,z=0;for(G(f);I<B;){let q=D[I&P],Z=E[I&P];K(q,Z,g),I++}return new RoiMap(f,A);function G({maxima:q=!0}){for(let Z=1;Z<f.height-1;Z++)for(let J=1;J<f.width-1;J++){let Q=J+Z*f.width;if(_[Q]===0){let ie=q?f.data[Q]:-f.data[J+Z*f.width];if(f.data[Z*f.width+J-1]>ie||f.data[Z*f.width+J+1]>ie||f.data[(Z-1)*f.width+J]>ie||f.data[(Z+1)*f.width+J]>ie||d&&(f.data[(Z-1)*f.width+J-1]>ie||f.data[(Z-1)*f.width+J+1]>ie||f.data[(Z+1)*f.width+J-1]>ie||f.data[(Z+1)*f.width+J+1]>ie))continue;A[Q]=q?++w:--C,W(J,Z)||(q?--w:++C)}}}function W(q,Z){let J=B;L=0,z=1,F[0]=q,R[0]=Z;let Q=!0;for(;L<z;){let ie=F[L&P],se=R[L&P];Q&=K(ie,se,x),L++}if(!Q){for(let ie=0;ie<z;ie++){let se=F[ie&P],ue=R[ie&P]*f.width+se;A[ue]=0}B=J}return Q}function K(q,Z,J){let Q=A[Z*f.width+q],ie=f.data[Z*f.width+q];for(let se=Z-1;se<=Z+1;se++)for(let oe=q-1;oe<=q+1;oe++){let ue=se*f.width+oe;if(_[ue]===0)switch(_[ue]=1,M[ue]=f.data[ue]-ie,J){case x:if(M[ue]===0){if(oe===0||se===0||oe===f.width-1||se===f.height-1)return!1;A[ue]=Q,F[z&P]=oe,R[z&P]=se,z++}else{if(M[ue]>0)return!1;s||(A[ue]=Q,D[B&P]=oe,E[B&P]=se,B++)}break;case g:M[ue]<=0&&(A[ue]=Q,D[B&P]=oe,E[B&P]=se,B++);break;default:throw new Error("unreachable")}}return!0}}function fromPoints(a,d={}){let s=new Shape(d),m=new Int16Array(this.size),f=0,x=s.getPoints();for(let g=0;g<a.length;g++){f++;let w=a[g][0],C=a[g][1];for(let A=0;A<x.length;A++){let _=x[A][0],M=x[A][1];w+_>=0&&C+M>=0&&w+_<this.width&&C+M<this.height&&(m[w+_+(C+M)*this.width]=f)}}return new RoiMap(this,m)}function commonjsRequire(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var priorityQueue={exports:{}};(function(a,d){(function(s){a.exports=s()})(function(){return function s(m,f,x){function g(A,_){if(!f[A]){if(!m[A]){var M=typeof commonjsRequire=="function"&&commonjsRequire;if(!_&&M)return M(A,!0);if(w)return w(A,!0);var P=new Error("Cannot find module '"+A+"'");throw P.code="MODULE_NOT_FOUND",P}var D=f[A]={exports:{}};m[A][0].call(D.exports,function(E){var I=m[A][1][E];return g(I||E)},D,D.exports,s,m,f,x)}return f[A].exports}for(var w=typeof commonjsRequire=="function"&&commonjsRequire,C=0;C<x.length;C++)g(x[C]);return g}({1:[function(s,m,f){var x,g,w,C,A,_=function(P,D){for(var E in D)M.call(D,E)&&(P[E]=D[E]);function I(){this.constructor=P}return I.prototype=D.prototype,P.prototype=new I,P.__super__=D.prototype,P},M={}.hasOwnProperty;x=s("./PriorityQueue/AbstractPriorityQueue"),g=s("./PriorityQueue/ArrayStrategy"),C=s("./PriorityQueue/BinaryHeapStrategy"),w=s("./PriorityQueue/BHeapStrategy"),A=function(P){_(D,P);function D(E){E||(E={}),E.strategy||(E.strategy=C),E.comparator||(E.comparator=function(I,B){return(I||0)-(B||0)}),D.__super__.constructor.call(this,E)}return D}(x),A.ArrayStrategy=g,A.BinaryHeapStrategy=C,A.BHeapStrategy=w,m.exports=A},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(s,m,f){m.exports=function(){function x(g){var w;if((g!=null?g.strategy:void 0)==null)throw"Must pass options.strategy, a strategy";if((g!=null?g.comparator:void 0)==null)throw"Must pass options.comparator, a comparator";this.priv=new g.strategy(g),this.length=(g!=null&&(w=g.initialValues)!=null?w.length:void 0)||0}return x.prototype.queue=function(g){this.length++,this.priv.queue(g)},x.prototype.dequeue=function(g){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},x.prototype.peek=function(g){if(!this.length)throw"Empty queue";return this.priv.peek()},x.prototype.clear=function(){return this.length=0,this.priv.clear()},x}()},{}],3:[function(s,m,f){var x;x=function(g,w,C){var A,_,M;for(_=0,A=g.length;_<A;)M=_+A>>>1,C(g[M],w)>=0?_=M+1:A=M;return _},m.exports=function(){function g(w){var C;this.options=w,this.comparator=this.options.comparator,this.data=((C=this.options.initialValues)!=null?C.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return g.prototype.queue=function(w){var C;C=x(this.data,w,this.comparator),this.data.splice(C,0,w)},g.prototype.dequeue=function(){return this.data.pop()},g.prototype.peek=function(){return this.data[this.data.length-1]},g.prototype.clear=function(){this.data.length=0},g}()},{}],4:[function(s,m,f){m.exports=function(){function x(g){var w,C,A,_,M,P,D,E;for(this.comparator=(g!=null?g.comparator:void 0)||function(I,B){return I-B},this.pageSize=(g!=null?g.pageSize:void 0)||512,this.length=0,D=0;1<<D<this.pageSize;)D+=1;if(1<<D!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=D,this._emptyMemoryPageTemplate=w=[],C=0,M=this.pageSize;0<=M?C<M:C>M;0<=M?++C:--C)w.push(null);if(this._memory=[],this._mask=this.pageSize-1,g.initialValues)for(P=g.initialValues,A=0,_=P.length;A<_;A++)E=P[A],this.queue(E)}return x.prototype.queue=function(g){this.length+=1,this._write(this.length,g),this._bubbleUp(this.length,g)},x.prototype.dequeue=function(){var g,w;return g=this._read(1),w=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,w),this._bubbleDown(1,w)),g},x.prototype.peek=function(){return this._read(1)},x.prototype.clear=function(){this.length=0,this._memory.length=0},x.prototype._write=function(g,w){var C;for(C=g>>this._shift;C>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[C][g&this._mask]=w},x.prototype._read=function(g){return this._memory[g>>this._shift][g&this._mask]},x.prototype._bubbleUp=function(g,w){var C,A,_,M;for(C=this.comparator;g>1&&(A=g&this._mask,g<this.pageSize||A>3?_=g&~this._mask|A>>1:A<2?(_=g-this.pageSize>>this._shift,_+=_&~(this._mask>>1),_|=this.pageSize>>1):_=g-2,M=this._read(_),!(C(M,w)<0));)this._write(_,w),this._write(g,M),g=_},x.prototype._bubbleDown=function(g,w){var C,A,_,M,P;for(P=this.comparator;g<this.length;)if(g>this._mask&&!(g&this._mask-1)?C=A=g+2:g&this.pageSize>>1?(C=(g&~this._mask)>>1,C|=g&this._mask>>1,C=C+1<<this._shift,A=C+1):(C=g+(g&this._mask),A=C+1),C!==A&&A<=this.length)if(_=this._read(C),M=this._read(A),P(_,w)<0&&P(_,M)<=0)this._write(C,w),this._write(g,_),g=C;else if(P(M,w)<0)this._write(A,w),this._write(g,M),g=A;else break;else if(C<=this.length)if(_=this._read(C),P(_,w)<0)this._write(C,w),this._write(g,_),g=C;else break;else break},x}()},{}],5:[function(s,m,f){m.exports=function(){function x(g){var w;this.comparator=(g!=null?g.comparator:void 0)||function(C,A){return C-A},this.length=0,this.data=((w=g.initialValues)!=null?w.slice(0):void 0)||[],this._heapify()}return x.prototype._heapify=function(){var g,w,C;if(this.data.length>0)for(g=w=1,C=this.data.length;1<=C?w<C:w>C;g=1<=C?++w:--w)this._bubbleUp(g)},x.prototype.queue=function(g){this.data.push(g),this._bubbleUp(this.data.length-1)},x.prototype.dequeue=function(){var g,w;return w=this.data[0],g=this.data.pop(),this.data.length>0&&(this.data[0]=g,this._bubbleDown(0)),w},x.prototype.peek=function(){return this.data[0]},x.prototype.clear=function(){this.length=0,this.data.length=0},x.prototype._bubbleUp=function(g){for(var w,C;g>0&&(w=g-1>>>1,this.comparator(this.data[g],this.data[w])<0);)C=this.data[w],this.data[w]=this.data[g],this.data[g]=C,g=w},x.prototype._bubbleDown=function(g){var w,C,A,_,M;for(w=this.data.length-1;C=(g<<1)+1,_=C+1,A=g,C<=w&&this.comparator(this.data[C],this.data[A])<0&&(A=C),_<=w&&this.comparator(this.data[_],this.data[A])<0&&(A=_),A!==g;)M=this.data[A],this.data[A]=this.data[g],this.data[g]=M,g=A},x}()},{}]},{},[1])(1)})})(priorityQueue);var priorityQueueExports=priorityQueue.exports;const PriorityQueue=getDefaultExportFromCjs(priorityQueueExports),dxs=[1,0,-1,0,1,1,-1,-1],dys=[0,1,0,-1,1,-1,1,-1];function fromWaterShed(a={}){let{points:d,mask:s,image:m,fillMaxValue:f=this.maxValue,invert:x=!1}=a,g=m||this;g.checkProcessable("fromWaterShed",{bitDepth:[8,16],components:1}),x=!x,d||(d=g.getLocalMaxima({invert:x,mask:s}));let w=x?0:1,C=new Int16Array(g.size),A=g.width,_=g.height,M=new PriorityQueue({comparator:(P,D)=>P[2]-D[2],strategy:PriorityQueue.BinaryHeapStrategy});for(let P=0;P<d.length;P++){let D=d[P][0]+d[P][1]*A;C[D]=P+1;let E=g.data[D];(x&&E<=f||!x&&E>=f)&&M.queue([d[P][0],d[P][1],E])}for(;M.length>0;){let P=M.dequeue(),D=P[0]+P[1]*A;for(let E=0;E<4;E++){let I=P[0]+dxs[E],B=P[1]+dys[E];if(I>=0&&B>=0&&I<A&&B<_){let F=I+B*A;if(!s||s.getBit(F)===w){let R=g.data[F];(x&&R<=f||!x&&R>=f)&&C[F]===0&&(C[F]=C[D],M.queue([P[0]+dxs[E],P[1]+dys[E],R]))}}}}return new RoiMap(g,C)}class RoiManager{constructor(d,s={}){this._image=d,this._options=s,this._options.label||(this._options.label="default"),this._layers={},this._painted=null}fromMaxima(d={}){let s=Object.assign({},this._options,d),m=fromMaxima.call(this._image,d);this._layers[s.label]=new RoiLayer(m,s)}fromPoints(d,s={}){let m=Object.assign({},this._options,s),f=fromPoints.call(this._image,d,s);return this._layers[m.label]=new RoiLayer(f,m),this}putMap(d,s={}){let m=new RoiMap(this._image,d),f=Object.assign({},this._options,s);return this._layers[f.label]=new RoiLayer(m,f),this}fromWaterShed(d={}){let s=Object.assign({},this._options,d),m=fromWaterShed.call(this._image,d);this._layers[s.label]=new RoiLayer(m,s)}fromMask(d,s={}){let m=Object.assign({},this._options,s),f=fromMask.call(this._image,d,s);return this._layers[m.label]=new RoiLayer(f,m),this}fromMaskConnectedComponentLabelingAlgorithm(d,s={}){let m=Object.assign({},this._options,s),f=fromMaskConnectedComponentLabelingAlgorithm.call(this._image,d,s);return this._layers[m.label]=new RoiLayer(f,m),this}getMap(d={}){let s=Object.assign({},this._options,d);return this._assertLayerWithLabel(s.label),this._layers[s.label].roiMap}rowsInfo(d={}){return this.getMap(d).rowsInfo()}colsInfo(d={}){return this.getMap(d).rowsInfo()}getRoiIds(d={}){let s=this.getRois(d);if(s){let m=new Array(s.length);for(let f=0;f<s.length;f++)m[f]=s[f].id;return m}throw new Error("ROIs not found")}getRois(d={}){let{label:s=this._options.label,positive:m=!0,negative:f=!0,minSurface:x=0,maxSurface:g=Number.POSITIVE_INFINITY,minWidth:w=0,maxWidth:C=Number.POSITIVE_INFINITY,minHeight:A=0,maxHeight:_=Number.POSITIVE_INFINITY,minRatio:M=0,maxRatio:P=Number.POSITIVE_INFINITY}=d;if(!this._layers[s])throw new Error(`this Roi layer (${s}) does not exist`);const D=this._layers[s].roi,E=[];for(const I of D)(I.id<0&&f||I.id>0&&m)&&I.surface>=x&&I.surface<=g&&I.width>=w&&I.width<=C&&I.height>=A&&I.height<=_&&I.ratio>=M&&I.ratio<=P&&E.push(I);return E}getRoi(d,s={}){const{label:m=this._options.label}=s;if(!this._layers[m])throw new Error(`this Roi layer (${m}) does not exist`);const f=this._layers[m].roi.find(x=>x.id===d);if(!f)throw new Error(`found no Roi with id ${d}`);return f}getMasks(d={}){let s=this.getRois(d),m=new Array(s.length);for(let f=0;f<s.length;f++)m[f]=s[f].getMask(d);return m}getAnalysisMasks(d={}){const{analysisProperty:s}=d;let m=`${s}Mask`,f=this.getRois(d);return f.length===0||!f[0][m]?[]:f.map(x=>x[m])}getData(d={}){let s=Object.assign({},this._options,d);return this._assertLayerWithLabel(s.label),this._layers[s.label].roiMap.data}paint(d={}){let{labelProperty:s,analysisProperty:m}=d;this._painted||(this._painted=this._image.rgba8());let f=this.getMasks(d);if(s){const x=this.getRois(d);d.labels=x.map(A=>deepValue(A,s));const g=Math.max(...d.labels);let w=!1,C=!1;if(s.includes("surface")?w=!0:/(?:perimeter|min|max|external|width|height|length)/.test(s)&&(C=!0),isFinite(g)){let A="";if(d.unit!=="pixel"&&d.pixelSize&&(C||w)){A=w?`${d.unit}^2`:d.unit;let _=w?"m^2":"m",M=w?d.pixelSize**2:d.pixelSize;const P=Qty.swiftConverter(_,A);d.labels=d.labels.map(D=>P(M*D))}g>50?d.labels=d.labels.map(_=>Math.round(_)+A):g>10?d.labels=d.labels.map(_=>_.toFixed(1)+A):d.labels=d.labels.map(_=>_.toFixed(2)+A)}d.labelsPosition=x.map(A=>[A.meanX,A.meanY])}if(this._painted.paintMasks(f,d),m){let x=this.getAnalysisMasks(d);this._painted.paintMasks(x,{color:d.analysisColor,alpha:d.analysisAlpha})}return this._painted}getMask(d={}){let s=new Image$1(this._image.width,this._image.height,{kind:"BINARY"}),m=this.getMasks(d);for(let f=0;f<m.length;f++){let x=m[f];for(let g=0;g<x.width;g++)for(let w=0;w<x.height;w++)x.getBitXY(g,w)&&s.setBitXY(g+x.position[0],w+x.position[1])}return s}resetPainted(d={}){const{image:s}=d;s?this._painted=this.image.rgba8():this._painted=this._image.rgba8()}mergeRoi(d={}){const s=this.getMap(d);return s.mergeRoi(d),this.putMap(s.data,d),this}mergeRois(d,s={}){if(!Array.isArray(d)||d.some(f=>!Number.isInteger(f)))throw new Error("Roi ids must be an array of integers");if(d.length<2)throw new Error("Roi ids must have at least two elements");if(new Set(d).size!==d.length)throw new Error("Roi ids must be all different");d.forEach(f=>this.getRoi(f));const m=this.getMap(s);return m.mergeRois(d),this.putMap(m.data,s),this}findCorrespondingRoi(d,s={}){let m=this.getRois(s),f=[];for(let x=0;x<m.length;x++){let g=m[x],w=g.minX,C=g.minY,A=g.points,_=Math.sign(g.id),M=correspondingRoisInformation(w,C,A,d,_);f.push(M)}return f}_assertLayerWithLabel(d){if(!this._layers[d])throw new Error(`no layer with label ${d}`)}}function correspondingRoisInformation(a,d,s,m,f){let x={id:[],surface:[],roiSurfaceCovered:[],same:0,opposite:0,total:0};for(let g=0;g<s.length;g++){let w=s[g],C=w[0],A=w[1],_=C+a+(A+d)*m.width,M=m.data[_];(M>0||M<0)&&(x.id.includes(M)?x.surface[x.id.indexOf(M)]+=1:(x.id.push(M),x.surface.push(1)))}for(let g=0;g<x.id.length;g++)Math.sign(x.id[g])===f?x.same+=x.surface[g]:x.opposite+=x.surface[g],x.roiSurfaceCovered[g]=x.surface[g]/s.length;return x.total=x.opposite+x.same,x}const objectToString=Object.prototype.toString;let Image$1=class Yt{constructor(d,s,m,f){if(arguments.length===1?(f=d,{width:d,height:s,data:m}=f):m&&!m.length&&(f=m,{data:m}=f),d===void 0&&(d=1),s===void 0&&(s=1),f===void 0&&(f={}),typeof f!="object"||f===null)throw new TypeError("options must be an object");if(!Number.isInteger(d)||d<=0)throw new RangeError("width must be a positive integer");if(!Number.isInteger(s)||s<=0)throw new RangeError("height must be a positive integer");const{kind:x=RGBA}=f;if(typeof x!="string")throw new TypeError("kind must be a string");const g=getKind(x),w=Object.assign({},f);for(const I in g)w[I]===void 0&&(w[I]=g[I]);verifyKindDefinition(w);const{components:C,bitDepth:A,colorModel:_}=w,M=w.alpha+0,P=d*s,D=C+M,E=A===32?Number.MAX_VALUE:2**A-1;if(m===void 0)m=createPixelArray(P,C,M,D,A,E);else{const I=getTheoreticalPixelArraySize(P,D,A);if(m.length!==I)throw new RangeError(`incorrect data size: ${m.length}. Should be ${I}`)}this.width=d,this.height=s,this.data=m,this.size=P,this.components=C,this.alpha=M,this.bitDepth=A,this.maxValue=E,this.colorModel=_,this.channels=D,this.meta=f.meta||{},Object.defineProperty(this,"parent",{enumerable:!1,writable:!0,configurable:!0,value:f.parent||null}),this.position=f.position||[0,0],this.computed=null,this.sizes=[this.width,this.height],this.multiplierX=this.channels,this.multiplierY=this.channels*this.width,this.isClamped=this.bitDepth<32,this.borderSizes=[0,0]}get[Symbol.toStringTag](){return"IJSImage"}static isImage(d){return objectToString.call(d)==="[object IJSImage]"}static fromCanvas(d){const m=d.getContext("2d").getImageData(0,0,d.width,d.height);return new Yt(m.width,m.height,m.data)}static createFrom(d,s){const m=getImageParameters(d);return Object.assign(m,{parent:d,position:[0,0]},s),new Yt(m)}getRoiManager(d){return new RoiManager(this,d)}clone(){const d=this.data.slice();return new Yt(this.width,this.height,d,this)}apply(d){for(let s=0;s<this.height;s++)for(let m=0;m<this.width;m++){let f=(s*this.width+m)*this.channels;d.call(this,f)}}};setValueMethods(Image$1);setBitMethods(Image$1);setExportMethods(Image$1);Image$1.prototype.checkProcessable=checkProcessable;Image$1.prototype.getRGBAData=getRGBAData;Image$1.load=load;Image$1.extendMethod=extendMethod;Image$1.extendProperty=extendProperty;extend$1(Image$1);var workerTemplate$1={},worker$1=function(){self.window=self;function a(){this._listeners={}}a.prototype.on=function(s,m){if(this._listeners[s])throw new RangeError("there is already a listener for "+s);if(typeof m!="function")throw new TypeError("callback argument must be a function");this._listeners[s]=m},a.prototype._send=function(s,m,f){f===void 0?f=[]:Array.isArray(f)||(f=[f]),self.postMessage({id:s,data:m},f)},a.prototype._trigger=function(s,m){if(!this._listeners[s])throw new Error("event "+s+" is not defined");this._listeners[s].apply(null,m)};var d=new a;self.onmessage=function(s){switch(s.data.action){case"exec":s.data.args.unshift(function(m,f){d._send(s.data.id,m,f)}),d._trigger(s.data.event,s.data.args);break;case"ping":d._send(s.data.id,"pong");break;default:throw new Error("unexpected action: "+s.data.action)}}},workerStr=worker$1.toString().split('"CODE";');workerTemplate$1.newWorkerURL=function a(d,s){var m=new Blob(["(",workerStr[0],"importScripts.apply(self, "+JSON.stringify(s)+`);
`,"(",d,")();",workerStr[1],")();"],{type:"application/javascript"});return URL.createObjectURL(m)};var workerTemplate=workerTemplate$1,CORES=navigator.hardwareConcurrency||1;function WorkerManager(a,d){if(typeof a!="string"&&typeof a!="function")throw new TypeError("func argument must be a function");if(d===void 0&&(d={}),typeof d!="object"||d===null)throw new TypeError("options argument must be an object");this._workerCode=a.toString(),d.maxWorkers===void 0||d.maxWorkers==="auto"?this._numWorkers=Math.min(CORES-1,1):d.maxWorkers>0?this._numWorkers=Math.min(d.maxWorkers,CORES):this._numWorkers=CORES,this._workers=new Map,this._timeout=d.timeout||0,this._terminateOnError=!!d.terminateOnError;var s=d.deps;typeof s=="string"&&(s=[s]),Array.isArray(s)||(s=void 0),this._id=0,this._terminated=!1,this._working=0,this._waiting=[],this._init(s)}WorkerManager.prototype._init=function(a){for(var d=workerTemplate.newWorkerURL(this._workerCode,a),s=0;s<this._numWorkers;s++){var m=new Worker(d);m.onmessage=this._onmessage.bind(this,m),m.onerror=this._onerror.bind(this,m),m.running=!1,m.id=s,this._workers.set(m,null)}URL.revokeObjectURL(d)};WorkerManager.prototype._onerror=function(a,d){if(!this._terminated){this._working--,a.running=!1;var s=this._workers.get(a);s&&s[1](d.message),this._workers.set(a,null),this._terminateOnError?this.terminate():this._exec()}};WorkerManager.prototype._onmessage=function(a,d){if(!this._terminated){this._working--,a.running=!1;var s=this._workers.get(a);s&&s[0](d.data.data),this._workers.set(a,null),this._exec()}};WorkerManager.prototype._exec=function(){for(var a of this._workers.keys()){if(this._working===this._numWorkers||this._waiting.length===0)return;if(!a.running)for(var d=0;d<this._waiting.length;d++){var s=this._waiting[d];if(!(typeof s[4]=="number"&&s[4]!==a.id)){this._waiting.splice(d,1),a.postMessage({action:"exec",event:s[0],args:s[1]},s[2]),a.running=!0,a.time=Date.now(),this._workers.set(a,s[3]),this._working++;break}}}};WorkerManager.prototype.terminate=function(){if(!this._terminated){for(var a of this._workers)a[0].terminate(),a[1]&&a[1][1](new Error("Terminated"));this._workers.clear(),this._waiting=[],this._working=0,this._terminated=!0}};WorkerManager.prototype.postAll=function(a,d){if(this._terminated)throw new Error("Cannot post (terminated)");var s=[];for(var m of this._workers.keys())s.push(this.post(a,d,[],m.id));return Promise.all(s)};WorkerManager.prototype.post=function(a,d,s,m){d===void 0&&(d=[]),s===void 0&&(s=[]),Array.isArray(d)||(d=[d]),Array.isArray(s)||(s=[s]);var f=this;return new Promise(function(x,g){if(f._terminated)throw new Error("Cannot post (terminated)");f._waiting.push([a,d,s,[x,g],m]),f._exec()})};var src=WorkerManager;const WorkerManager$1=getDefaultExportFromCjs(src),defaultOptions={regression:{kernelType:"polynomial",kernelOptions:{degree:2,constant:1}},threshold:.02,roi:{minSurface:100,positive:!1},sampling:20,include:[]};function run(a,d,s){d=Object.assign({},defaultOptions,d);const m=this.manager;return Array.isArray(a)?Promise.all(a.map(function(f){const x=runOnce(m,f,d);return typeof s=="function"&&x.then(s),x})):runOnce(m,a,d)}function runOnce(a,d,s){return a.post("data",[d,s]).then(function(m){for(let f in m)m[f]=new Image$1(m[f]);return m})}function work(){worker.on("data",function(a,d,s){d=new IJS(d);const m={},f=[],x=d.grey(),g=x.sobelFilter();D("sobel",g);const w=g.level().mask({threshold:s.threshold});D("mask",w);const C=g.getRoiManager();C.fromMask(w);const A=C.getMask(s.roi);D("realMask",A);const _=x.getPixelsGrid({sampling:s.sampling,mask:A}),M=d.getBackground(_.xyS,_.zS,s.regression);D("background",M);const P=d.subtract(M);m.result=P,f.push(P.data.buffer),a(m,f);function D(E,I){s.include.includes(E)&&(m[E]=I,f.push(I.data.buffer))}})}const background={run,work};function extend(a){a.extendMethod("background",background)}let Worker$1=class wi{constructor(){this._url=null,this._deps=[null]}checkUrl(){if(this._url===null)throw new Error("image worker must be initialized with an URL")}get url(){return this._url}set url(d){if(typeof d!="string")throw new TypeError("worker URL must be a string");this._url=d,this._deps[0]=d}static extendMethod(d,s){let m,f,x={};function g(...w){return m||(this.checkUrl(),f=this.url,m=new WorkerManager$1(s.work,{deps:f}),x.manager=m),s.run.call(x,...w)}g.reset=function(){m&&(m.terminate(),m=new WorkerManager$1(s.work,{deps:f}),x.manager=m)},wi.prototype[d]=g}};extend(Worker$1);let _imageService=null;function getImageService(){return _imageService||(_imageService=new DefaultOxyImageService,_imageService)}class DefaultOxyImageService{async decode(d){const s=await Image$1.load(d),m=s.height,f=s.width,x=s.data,g=create2DArray(f,m);for(let w=0;w<m;w++)for(let C=0;C<f;C++){let A=w*f+C;const _=x[A++],M=x[A++],P=x[A++],D=x[A++];g[w][C]=OxyColor.fromArgb(D,_,M,P)}return g}encode(d){const s=new DataView(new ArrayBuffer(d.imageInfo.width*d.imageInfo.height*4));let m=0;const f=d.pixels;for(let g=0;g<d.imageInfo.height;g++)for(let w=0;w<d.imageInfo.width;w++){const C=f.get(w,g);s.setUint8(m++,C.r),s.setUint8(m++,C.g),s.setUint8(m++,C.b),s.setUint8(m++,C.a)}const x=new Image$1(d.imageInfo.width,d.imageInfo.height,new Uint8Array(s.buffer)).toBuffer();return Promise.resolve(x)}async getImageInfo(d){const s=await Image$1.load(d);return{width:s.width,height:s.height,bitsPerPixel:s.bitDepth,dpiX:0,dpiY:0,format:OxyImage.getImageFormat(d)}}async load(d){const s=await Image$1.load(d),m=s.toBuffer(),f=new OxyImage(m);return f.format=OxyImage.getImageFormat(m),f.width=s.width,f.height=s.height,f}}function isUndef(a){return a===void 0}function isNullOrUndef(a){return a==null}function removeProperties(a,...d){if(a)for(const s of d)delete a[s]}function getOrDefault(a,d,s){if(!a||!d)return s;const m=a[d];return isNullOrUndef(m)?s:m}function removeUndef(a,d){const s=a;if(Array.isArray(s))return s.forEach(f=>removeUndef(f,d)),a;const m=Object.assign({removeNull:!0,removeEmptyStr:!1,deep:1},d);return Object.keys(s).forEach(f=>{const x=s[f];if(x===void 0){delete s[f];return}if(x===null&&m.removeNull){delete s[f];return}if(m.removeEmptyStr&&typeof x=="string"&&x.length==0){delete s[f];return}if(typeof x=="object"&&m.deep>1){const g=Object.assign({},m,{deep:m.deep-1});removeUndef(x,g);return}}),a}function hashCode(a){let d=0;for(let s=0;s<a.length;s++)d=Math.imul(31,d)+a[s];return d}const Number_MIN_VALUE=-17976931348623157e292,Number_MAX_VALUE=Number.MAX_VALUE;function round(a,d){if(d<0){const s=Math.pow(10,d);return Math.round(a*s)/s}return+(Math.round(+(a+"e+"+d))+"e-"+d)}function isInfinity(a){return!isFinite(a)}function isNegativeInfinity(a){return a===Number.NEGATIVE_INFINITY}function isPositiveInfinity(a){return a===Number.POSITIVE_INFINITY}function toUint(a){return a>=0?a:a>>>0}function log(a,d){return isNaN(a)?a:isNaN(d)?d:d===1?NaN:a!==1&&(d===0||Number.POSITIVE_INFINITY===d)?NaN:Math.log(a)/Math.log(d)}function pettyNumber(a,d){let s;if(a>=1e6||a<=-1e6?s=a.toExponential(d):s=a.toString(),s.includes("e")){const m=Number(s.split("e")[0]);return round(m,d).toString()+"e"+s.split("e")[1]}return round(a,d).toString()}function toPercent(a,d=1){return isNullOrUndef(a)?"":isNaN(a)?"NaN":round(a*100,d)+"%"}function assertInteger(a,d){if(Math.round(a)!==a)throw new Error(`${d||"number"} must be an integer.`)}function toByte(a){return Math.round(a)}function trimString(a,d){return a&&a.replace(new RegExp(`^${d}+|${d}+$`,"g"),"")}function substring(a,d,s){return s===void 0?a.substring(d):a.substring(d,d+s)}const $1Second=1e3,$1Minute=6e4,$1Hour=36e5,$1Day=864e5;class TimeSpan{constructor(d){ee(this,"_totalMs",0);ee(this,"_ms",0);ee(this,"_seconds",0);ee(this,"_minutes",0);ee(this,"_hours",0);ee(this,"_days",0);ee(this,"toString",()=>`${this._days}day ${this._hours}hour ${this._minutes}minute ${this._seconds}second ${this._ms}ms`);this.ms=d,this._totalMs=d;const s=d<0?-1:1;let m=Math.abs(d);m>=$1Day&&(this._days=s*Math.floor(m/$1Day),m=m%$1Day),m>=$1Hour&&(this._hours=s*Math.floor(m/$1Hour),m=m%$1Hour),m>=$1Minute&&(this._minutes=s*Math.floor(m/$1Minute),m=m%$1Minute),m>=$1Second&&(this._seconds=s*Math.floor(m/$1Second),m=m%$1Second),this._ms=s*m}get milliseconds(){return this._ms}get seconds(){return this._seconds}get minutes(){return this._minutes}get hours(){return this._hours}get days(){return this._days}get totalMs(){return this._totalMs}get totalSeconds(){return this._totalMs/$1Second}get totalMinutes(){return this._totalMs/$1Minute}get totalHours(){return this._totalMs/$1Hour}get totalDays(){return this._totalMs/$1Day}static fromMilliseconds(d){return new TimeSpan(d)}static fromSeconds(d){return new TimeSpan(d*$1Second)}static fromMinutes(d){return new TimeSpan(d*$1Minute)}static fromHours(d){return new TimeSpan(d*$1Hour)}static fromDays(d){return new TimeSpan(d*$1Day)}static from(d=0,s=0,m=0,f=0,x=0){return new TimeSpan(d*$1Day+s*$1Hour+m*$1Minute+f*$1Second+x)}}class TwoDimensionalArray{constructor(d,s,m){ee(this,"_data");this.columnCount=d,this.rowCount=s,this._data=create2DArray(s,d,m)}static fromArray(d){const s=d.length,m=d[0].length,f=new TwoDimensionalArray(m,s);for(let x=0;x<s;x++)for(let g=0;g<m;g++)f.set(g,x,d[x][g]);return f}toArray(){const d=create2DArray(this.rowCount,this.columnCount);for(let s=0;s<this.rowCount;s++)for(let m=0;m<this.columnCount;m++)d[s][m]=this.get(m,s);return d}get height(){return this.rowCount}get width(){return this.columnCount}get(d,s){return this._data[s][d]}set(d,s,m){this._data[s][d]=m}}const ft=class ft{constructor(d,s,m,f){ee(this,"_r");ee(this,"_g");ee(this,"_b");ee(this,"_a");this._a=toByte(d),this._r=toByte(s),this._g=toByte(m),this._b=toByte(f)}get a(){return this._a}get b(){return this._b}get g(){return this._g}get r(){return this._r}static parse(d){if(!d||d.toLowerCase()==="none")return this._undefined;if(d.toLowerCase()==="auto")return this._automatic;if(d=d.trim(),d.startsWith("#")){d=trimString(d,"#"),d.length===3&&(d=`${d[0]}${d[0]}${d[1]}${d[1]}${d[2]}${d[2]}`);let C=parseInt(d,16);return d.length<8&&(C+=4278190080),ft.fromUInt32(C)}const s=d.split(",");if(s.length<3||s.length>4)throw new Error("Invalid format.");let m=0,f=255;s.length>3&&(f=parseInt(s[m],10),m++);const x=parseInt(s[m],10),g=parseInt(s[m+1],10),w=parseInt(s[m+2],10);return ft.fromArgb(f,x,g,w)}static colorDifference(d,s){const m=(d.r-s.r)/255,f=(d.g-s.g)/255,x=(d.b-s.b)/255,g=(d.a-s.a)/255,w=m*m+f*f+x*x+g*g;return Math.sqrt(w)}static fromUInt32(d){const s=d>>24&255,m=d>>16&255,f=d>>8&255,x=d&255;return ft.fromArgb(s,m,f,x)}static fromHsv(d,s,m){let f,x,g=f=x=0;if(s===0)g=f=x=m;else{d===1&&(d=0),d*=6;const w=Math.floor(d),C=d-w,A=m*(1-s),_=m*(1-s*C),M=m*(1-s*(1-C));switch(w){case 0:g=m,f=M,x=A;break;case 1:g=_,f=m,x=A;break;case 2:g=A,f=m,x=M;break;case 3:g=A,f=_,x=m;break;case 4:g=M,f=A,x=m;break;case 5:g=m,f=A,x=_;break}}return ft.fromRgb(g*255,f*255,x*255)}static fromAColor(d,s){return ft.fromArgb(d,s.r,s.g,s.b)}static fromArgb(d,s,m,f){return new ft(d,s,m,f)}static fromRgb(d,s,m){return new ft(255,d,s,m)}static interpolate(d,s,m){const f=d.a*(1-m)+s.a*m,x=d.r*(1-m)+s.r*m,g=d.g*(1-m)+s.g*m,w=d.b*(1-m)+s.b*m;return ft.fromArgb(toByte(f),toByte(x),toByte(g),toByte(w))}equals(d){return d.a===this.a&&d.r===this.r&&d.g===this.g&&d.b===this.b}toArgb(){return this.toArgbInner("start")}toRgba(){return this.toArgbInner("end")}toRgb(){return this.toArgbInner("none")}toArgbInner(d){const s=f=>f.toString(16).padStart(2,"0"),m=`${s(this.r)}${s(this.g)}${s(this.b)}`;return d==="start"?`#${s(this.a)}${m}`:d==="end"?`#${m}${s(this.a)}`:`#${m}`}toString(){return this.toArgb()}isInvisible(){return this.a===0}isVisible(){return this.a>0}isUndefined(){return this.equals(ft._undefined)}isAutomatic(){return this.equals(ft._automatic)}getActualColor(d){return this.isAutomatic()?d:this}};ee(ft,"_undefined",ft.fromUInt32(0)),ee(ft,"_automatic",ft.fromUInt32(1));let OxyColor=ft;const OxyColors={Undefined:OxyColor.fromUInt32(0),Automatic:OxyColor.fromUInt32(1),AliceBlue:OxyColor.fromUInt32(4293982463),AntiqueWhite:OxyColor.fromUInt32(4294634455),Aqua:OxyColor.fromUInt32(4278255615),Aquamarine:OxyColor.fromUInt32(4286578644),Azure:OxyColor.fromUInt32(4293984255),Beige:OxyColor.fromUInt32(4294309340),Bisque:OxyColor.fromUInt32(4294960324),Black:OxyColor.fromUInt32(4278190080),BlanchedAlmond:OxyColor.fromUInt32(4294962125),Blue:OxyColor.fromUInt32(4278190335),BlueViolet:OxyColor.fromUInt32(4287245282),Brown:OxyColor.fromUInt32(4289014314),BurlyWood:OxyColor.fromUInt32(4292786311),CadetBlue:OxyColor.fromUInt32(4284456608),Chartreuse:OxyColor.fromUInt32(4286578432),Chocolate:OxyColor.fromUInt32(4291979550),Coral:OxyColor.fromUInt32(4294934352),CornflowerBlue:OxyColor.fromUInt32(4284782061),Cornsilk:OxyColor.fromUInt32(4294965468),Crimson:OxyColor.fromUInt32(4292613180),Cyan:OxyColor.fromUInt32(4278255615),DarkBlue:OxyColor.fromUInt32(4278190219),DarkCyan:OxyColor.fromUInt32(4278225803),DarkGoldenrod:OxyColor.fromUInt32(4290283019),DarkGray:OxyColor.fromUInt32(4289309097),DarkGreen:OxyColor.fromUInt32(4278215680),DarkKhaki:OxyColor.fromUInt32(4290623339),DarkMagenta:OxyColor.fromUInt32(4287299723),DarkOliveGreen:OxyColor.fromUInt32(4283788079),DarkOrange:OxyColor.fromUInt32(4294937600),DarkOrchid:OxyColor.fromUInt32(4288230092),DarkRed:OxyColor.fromUInt32(4287299584),DarkSalmon:OxyColor.fromUInt32(4293498490),DarkSeaGreen:OxyColor.fromUInt32(4287609999),DarkSlateBlue:OxyColor.fromUInt32(4282924427),DarkSlateGray:OxyColor.fromUInt32(4281290575),DarkTurquoise:OxyColor.fromUInt32(4278243025),DarkViolet:OxyColor.fromUInt32(4287889619),DeepPink:OxyColor.fromUInt32(4294907027),DeepSkyBlue:OxyColor.fromUInt32(4278239231),DimGray:OxyColor.fromUInt32(4285098345),DodgerBlue:OxyColor.fromUInt32(4280193279),Firebrick:OxyColor.fromUInt32(4289864226),FloralWhite:OxyColor.fromUInt32(4294966e3),ForestGreen:OxyColor.fromUInt32(4280453922),Fuchsia:OxyColor.fromUInt32(4294902015),Gainsboro:OxyColor.fromUInt32(4292664540),GhostWhite:OxyColor.fromUInt32(4294506751),Gold:OxyColor.fromUInt32(4294956800),Goldenrod:OxyColor.fromUInt32(4292519200),Gray:OxyColor.fromUInt32(4286611584),Green:OxyColor.fromUInt32(4278222848),GreenYellow:OxyColor.fromUInt32(4289593135),Honeydew:OxyColor.fromUInt32(4293984240),HotPink:OxyColor.fromUInt32(4294928820),IndianRed:OxyColor.fromUInt32(4291648604),Indigo:OxyColor.fromUInt32(4283105410),Ivory:OxyColor.fromUInt32(4294967280),Khaki:OxyColor.fromUInt32(4293977740),Lavender:OxyColor.fromUInt32(4293322490),LavenderBlush:OxyColor.fromUInt32(4294963445),LawnGreen:OxyColor.fromUInt32(4286381056),LemonChiffon:OxyColor.fromUInt32(4294965965),LightBlue:OxyColor.fromUInt32(4289583334),LightCoral:OxyColor.fromUInt32(4293951616),LightCyan:OxyColor.fromUInt32(4292935679),LightGoldenrodYellow:OxyColor.fromUInt32(4294638290),LightGray:OxyColor.fromUInt32(4292072403),LightGreen:OxyColor.fromUInt32(4287688336),LightPink:OxyColor.fromUInt32(4294948545),LightSalmon:OxyColor.fromUInt32(4294942842),LightSeaGreen:OxyColor.fromUInt32(4280332970),LightSkyBlue:OxyColor.fromUInt32(4287090426),LightSlateGray:OxyColor.fromUInt32(4286023833),LightSteelBlue:OxyColor.fromUInt32(4289774814),LightYellow:OxyColor.fromUInt32(4294967264),Lime:OxyColor.fromUInt32(4278255360),LimeGreen:OxyColor.fromUInt32(4281519410),Linen:OxyColor.fromUInt32(4294635750),Magenta:OxyColor.fromUInt32(4294902015),Maroon:OxyColor.fromUInt32(4286578688),MediumAquamarine:OxyColor.fromUInt32(4284927402),MediumBlue:OxyColor.fromUInt32(4278190285),MediumOrchid:OxyColor.fromUInt32(4290401747),MediumPurple:OxyColor.fromUInt32(4287852763),MediumSeaGreen:OxyColor.fromUInt32(4282168177),MediumSlateBlue:OxyColor.fromUInt32(4286277870),MediumSpringGreen:OxyColor.fromUInt32(4278254234),MediumTurquoise:OxyColor.fromUInt32(4282962380),MediumVioletRed:OxyColor.fromUInt32(4291237253),MidnightBlue:OxyColor.fromUInt32(4279834992),MintCream:OxyColor.fromUInt32(4294311930),MistyRose:OxyColor.fromUInt32(4294960353),Moccasin:OxyColor.fromUInt32(4294960309),NavajoWhite:OxyColor.fromUInt32(4294958765),Navy:OxyColor.fromUInt32(4278190208),OldLace:OxyColor.fromUInt32(4294833638),Olive:OxyColor.fromUInt32(4286611456),OliveDrab:OxyColor.fromUInt32(4285238819),Orange:OxyColor.fromUInt32(4294944e3),OrangeRed:OxyColor.fromUInt32(4294919424),Orchid:OxyColor.fromUInt32(4292505814),PaleGoldenrod:OxyColor.fromUInt32(4293847210),PaleGreen:OxyColor.fromUInt32(4288215960),PaleTurquoise:OxyColor.fromUInt32(4289720046),PaleVioletRed:OxyColor.fromUInt32(4292571283),PapayaWhip:OxyColor.fromUInt32(4294963157),PeachPuff:OxyColor.fromUInt32(4294957753),Peru:OxyColor.fromUInt32(4291659071),Pink:OxyColor.fromUInt32(4294951115),Plum:OxyColor.fromUInt32(4292714717),PowderBlue:OxyColor.fromUInt32(4289781990),Purple:OxyColor.fromUInt32(4286578816),Red:OxyColor.fromUInt32(4294901760),RosyBrown:OxyColor.fromUInt32(4290547599),RoyalBlue:OxyColor.fromUInt32(4282477025),SaddleBrown:OxyColor.fromUInt32(4287317267),Salmon:OxyColor.fromUInt32(4294606962),SandyBrown:OxyColor.fromUInt32(4294222944),SeaGreen:OxyColor.fromUInt32(4281240407),SeaShell:OxyColor.fromUInt32(4294964718),Sienna:OxyColor.fromUInt32(4288696877),Silver:OxyColor.fromUInt32(4290822336),SkyBlue:OxyColor.fromUInt32(4287090411),SlateBlue:OxyColor.fromUInt32(4285160141),SlateGray:OxyColor.fromUInt32(4285563024),Snow:OxyColor.fromUInt32(4294966010),SpringGreen:OxyColor.fromUInt32(4278255487),SteelBlue:OxyColor.fromUInt32(4282811060),Tan:OxyColor.fromUInt32(4291998860),Teal:OxyColor.fromUInt32(4278222976),Thistle:OxyColor.fromUInt32(4292394968),Tomato:OxyColor.fromUInt32(4294927175),Transparent:OxyColor.fromUInt32(16777215),Turquoise:OxyColor.fromUInt32(4282441936),Violet:OxyColor.fromUInt32(4293821166),Wheat:OxyColor.fromUInt32(4294303411),White:OxyColor.fromUInt32(4294967295),WhiteSmoke:OxyColor.fromUInt32(4294309365),Yellow:OxyColor.fromUInt32(4294967040),YellowGreen:OxyColor.fromUInt32(4288335154)};Object.freeze(OxyColors);const colorNamesCache=new Map,OxyColorExtensions={changeIntensity:(a,d)=>{const s=OxyColorExtensions.toHsv(a);return s[2]*=d,s[2]>1&&(s[2]=1),OxyColor.fromHsv(s[0],s[1],s[2])},changeSaturation:(a,d)=>{const s=OxyColorExtensions.toHsv(a);return s[1]*=d,s[1]>1&&(s[1]=1),OxyColor.fromHsv(s[0],s[1],s[2])},changeOpacity:(a,d)=>OxyColor.fromAColor(a.a*d,a),complementary:a=>{const d=OxyColorExtensions.toHsv(a);let s=d[0]-.5;return s<0&&(s+=1),OxyColor.fromHsv(s,d[1],d[2])},toHsv:a=>{const d=a.r,s=a.g,m=a.b,f=Math.min(Math.min(d,s),m),x=Math.max(Math.max(d,s),m),g=x-f,w=x===0?0:g/x;let C=0;w===0?C=0:(d===x?C=(s-m)/g:s===x?C=2+(m-d)/g:m===x&&(C=4+(d-s)/g),C*=60,C<0&&(C+=360));const A=new Array(3);return A[0]=C/360,A[1]=w,A[2]=x/255,A},toUint:a=>{let d=toUint(a.a<<24);return d+=toUint(a.r<<16),d+=toUint(a.g<<8),d+=toUint(a.b),toUint(d)},toByteString:a=>`${a.a},${a.r},${a.g},${a.b}`,getColorName:a=>{const d=OxyColorExtensions.toUint(a);if(colorNamesCache.has(d))return colorNamesCache.get(d);const s=OxyColors;for(const m of Object.keys(s)){const f=s[m];if(OxyColorExtensions.toUint(f)===d)return colorNamesCache.set(d,m),m}},hueDifference:(a,d)=>{const s=OxyColorExtensions.toHsv(a),m=OxyColorExtensions.toHsv(d);let f=s[0]-m[0];f>.5&&(f-=1),f<-.5&&(f+=1);const x=Math.pow(f,2);return Math.sqrt(x)}};class OxyPalette{constructor(d){ee(this,"colors",[]);d&&(this.colors=[...d],Object.freeze(this.colors))}static interpolate(d,...s){if(!s||s.length===0||d<1)return new OxyPalette([]);const m=[],f=d===1?0:1/(d-1);for(let x=0;x<d;x++){const w=x*f*(s.length-1),C=Math.floor(w),A=C+1<s.length?C+1:C;m[x]=OxyColor.interpolate(s[C],s[A],w-C)}return new OxyPalette(m)}reverse(){return new OxyPalette(getReversedCopy(this.colors))}}class OxyPalettes{static blackWhiteRed(d){return OxyPalette.interpolate(d,OxyColors.Black,OxyColors.White,OxyColors.Red)}static blueWhiteRed(d){return OxyPalette.interpolate(d,OxyColors.Blue,OxyColors.White,OxyColors.Red)}static cool(d){return OxyPalette.interpolate(d,OxyColors.Cyan,OxyColors.Magenta)}static gray(d){return OxyPalette.interpolate(d,OxyColors.Black,OxyColors.White)}static hot(d){return OxyPalette.interpolate(d,OxyColors.Black,OxyColor.fromRgb(127,0,0),OxyColor.fromRgb(255,127,0),OxyColor.fromRgb(255,255,127),OxyColors.White)}static hue(d){return OxyPalette.interpolate(d,OxyColors.Red,OxyColors.Yellow,OxyColors.Green,OxyColors.Cyan,OxyColors.Blue,OxyColors.Magenta,OxyColors.Red)}static hueDistinct(d){return OxyPalette.interpolate(d,OxyColors.Magenta,OxyColors.Blue,OxyColors.Cyan,OxyColors.Green,OxyColors.Yellow,OxyColors.Red)}static jet(d){return OxyPalette.interpolate(d,OxyColors.DarkBlue,OxyColors.Cyan,OxyColors.Yellow,OxyColors.Orange,OxyColors.DarkRed)}static rainbow(d){return OxyPalette.interpolate(d,OxyColors.Violet,OxyColors.Indigo,OxyColors.Blue,OxyColors.Green,OxyColors.Yellow,OxyColors.Orange,OxyColors.Red)}static cividis(d=256){return d===cividisColors.length?new OxyPalette(cividisColors):OxyPalette.interpolate(d,...cividisColors)}static inferno(d=256){return d===infernoColors.length?new OxyPalette(infernoColors):OxyPalette.interpolate(d,...infernoColors)}static magma(d=256){return d===magmaColors.length?new OxyPalette(magmaColors):OxyPalette.interpolate(d,...magmaColors)}static plasma(d=256){return d===plasmaColors.length?new OxyPalette(plasmaColors):OxyPalette.interpolate(d,...plasmaColors)}static viridis(d=256){return d===viridisColors.length?new OxyPalette(viridisColors):OxyPalette.interpolate(d,...viridisColors)}}ee(OxyPalettes,"blueWhiteRed31"),ee(OxyPalettes,"hot64"),ee(OxyPalettes,"hue64");OxyPalettes.blueWhiteRed31=OxyPalettes.blueWhiteRed(31);OxyPalettes.hot64=OxyPalettes.hot(64);OxyPalettes.hue64=OxyPalettes.hue(64);const cividisColors=[OxyColor.fromRgb(0,32,77),OxyColor.fromRgb(0,33,78),OxyColor.fromRgb(0,34,80),OxyColor.fromRgb(0,34,82),OxyColor.fromRgb(0,35,83),OxyColor.fromRgb(0,36,85),OxyColor.fromRgb(0,37,87),OxyColor.fromRgb(0,37,88),OxyColor.fromRgb(0,38,90),OxyColor.fromRgb(0,39,92),OxyColor.fromRgb(0,39,94),OxyColor.fromRgb(0,40,96),OxyColor.fromRgb(0,41,97),OxyColor.fromRgb(0,42,99),OxyColor.fromRgb(0,42,101),OxyColor.fromRgb(0,43,103),OxyColor.fromRgb(0,44,105),OxyColor.fromRgb(0,44,106),OxyColor.fromRgb(0,45,108),OxyColor.fromRgb(0,46,110),OxyColor.fromRgb(0,46,111),OxyColor.fromRgb(0,47,111),OxyColor.fromRgb(0,47,111),OxyColor.fromRgb(0,48,111),OxyColor.fromRgb(0,48,111),OxyColor.fromRgb(0,49,111),OxyColor.fromRgb(0,50,111),OxyColor.fromRgb(0,51,111),OxyColor.fromRgb(0,51,111),OxyColor.fromRgb(0,52,111),OxyColor.fromRgb(0,53,110),OxyColor.fromRgb(1,54,110),OxyColor.fromRgb(6,54,110),OxyColor.fromRgb(11,55,110),OxyColor.fromRgb(15,56,110),OxyColor.fromRgb(18,56,109),OxyColor.fromRgb(21,57,109),OxyColor.fromRgb(24,58,109),OxyColor.fromRgb(26,59,109),OxyColor.fromRgb(29,59,109),OxyColor.fromRgb(31,60,109),OxyColor.fromRgb(33,61,109),OxyColor.fromRgb(35,62,108),OxyColor.fromRgb(36,62,108),OxyColor.fromRgb(38,63,108),OxyColor.fromRgb(40,64,108),OxyColor.fromRgb(42,64,108),OxyColor.fromRgb(43,65,108),OxyColor.fromRgb(45,66,108),OxyColor.fromRgb(46,67,108),OxyColor.fromRgb(48,67,108),OxyColor.fromRgb(49,68,107),OxyColor.fromRgb(50,69,107),OxyColor.fromRgb(52,69,107),OxyColor.fromRgb(53,70,107),OxyColor.fromRgb(54,71,107),OxyColor.fromRgb(56,72,107),OxyColor.fromRgb(57,72,107),OxyColor.fromRgb(58,73,107),OxyColor.fromRgb(59,74,107),OxyColor.fromRgb(61,74,107),OxyColor.fromRgb(62,75,107),OxyColor.fromRgb(63,76,107),OxyColor.fromRgb(64,77,107),OxyColor.fromRgb(65,77,107),OxyColor.fromRgb(66,78,107),OxyColor.fromRgb(67,79,107),OxyColor.fromRgb(68,79,107),OxyColor.fromRgb(70,80,107),OxyColor.fromRgb(71,81,107),OxyColor.fromRgb(72,82,107),OxyColor.fromRgb(73,82,107),OxyColor.fromRgb(74,83,107),OxyColor.fromRgb(75,84,108),OxyColor.fromRgb(76,84,108),OxyColor.fromRgb(77,85,108),OxyColor.fromRgb(78,86,108),OxyColor.fromRgb(79,87,108),OxyColor.fromRgb(80,87,108),OxyColor.fromRgb(81,88,108),OxyColor.fromRgb(82,89,108),OxyColor.fromRgb(83,89,108),OxyColor.fromRgb(84,90,108),OxyColor.fromRgb(85,91,109),OxyColor.fromRgb(86,92,109),OxyColor.fromRgb(87,92,109),OxyColor.fromRgb(88,93,109),OxyColor.fromRgb(89,94,109),OxyColor.fromRgb(89,95,109),OxyColor.fromRgb(90,95,109),OxyColor.fromRgb(91,96,110),OxyColor.fromRgb(92,97,110),OxyColor.fromRgb(93,97,110),OxyColor.fromRgb(94,98,110),OxyColor.fromRgb(95,99,110),OxyColor.fromRgb(96,100,111),OxyColor.fromRgb(97,100,111),OxyColor.fromRgb(98,101,111),OxyColor.fromRgb(99,102,111),OxyColor.fromRgb(100,102,111),OxyColor.fromRgb(100,103,112),OxyColor.fromRgb(101,104,112),OxyColor.fromRgb(102,105,112),OxyColor.fromRgb(103,105,112),OxyColor.fromRgb(104,106,113),OxyColor.fromRgb(105,107,113),OxyColor.fromRgb(106,108,113),OxyColor.fromRgb(107,108,113),OxyColor.fromRgb(108,109,114),OxyColor.fromRgb(108,110,114),OxyColor.fromRgb(109,110,114),OxyColor.fromRgb(110,111,115),OxyColor.fromRgb(111,112,115),OxyColor.fromRgb(112,113,115),OxyColor.fromRgb(113,113,116),OxyColor.fromRgb(114,114,116),OxyColor.fromRgb(114,115,116),OxyColor.fromRgb(115,116,117),OxyColor.fromRgb(116,116,117),OxyColor.fromRgb(117,117,117),OxyColor.fromRgb(118,118,118),OxyColor.fromRgb(119,119,118),OxyColor.fromRgb(120,119,119),OxyColor.fromRgb(120,120,119),OxyColor.fromRgb(121,121,119),OxyColor.fromRgb(122,122,120),OxyColor.fromRgb(123,122,120),OxyColor.fromRgb(124,123,120),OxyColor.fromRgb(125,124,120),OxyColor.fromRgb(126,125,120),OxyColor.fromRgb(127,125,120),OxyColor.fromRgb(128,126,121),OxyColor.fromRgb(129,127,121),OxyColor.fromRgb(130,128,121),OxyColor.fromRgb(131,128,121),OxyColor.fromRgb(132,129,121),OxyColor.fromRgb(132,130,121),OxyColor.fromRgb(133,131,121),OxyColor.fromRgb(134,131,121),OxyColor.fromRgb(135,132,121),OxyColor.fromRgb(136,133,121),OxyColor.fromRgb(137,134,121),OxyColor.fromRgb(138,135,121),OxyColor.fromRgb(139,135,121),OxyColor.fromRgb(140,136,121),OxyColor.fromRgb(141,137,121),OxyColor.fromRgb(142,138,121),OxyColor.fromRgb(143,138,121),OxyColor.fromRgb(144,139,121),OxyColor.fromRgb(145,140,120),OxyColor.fromRgb(146,141,120),OxyColor.fromRgb(147,142,120),OxyColor.fromRgb(148,142,120),OxyColor.fromRgb(149,143,120),OxyColor.fromRgb(150,144,120),OxyColor.fromRgb(151,145,120),OxyColor.fromRgb(152,146,120),OxyColor.fromRgb(153,146,120),OxyColor.fromRgb(154,147,119),OxyColor.fromRgb(155,148,119),OxyColor.fromRgb(156,149,119),OxyColor.fromRgb(157,150,119),OxyColor.fromRgb(158,150,119),OxyColor.fromRgb(159,151,119),OxyColor.fromRgb(160,152,119),OxyColor.fromRgb(161,153,118),OxyColor.fromRgb(162,154,118),OxyColor.fromRgb(163,154,118),OxyColor.fromRgb(164,155,118),OxyColor.fromRgb(165,156,118),OxyColor.fromRgb(166,157,117),OxyColor.fromRgb(168,158,117),OxyColor.fromRgb(169,159,117),OxyColor.fromRgb(170,159,117),OxyColor.fromRgb(171,160,116),OxyColor.fromRgb(172,161,116),OxyColor.fromRgb(173,162,116),OxyColor.fromRgb(174,163,116),OxyColor.fromRgb(175,164,115),OxyColor.fromRgb(176,164,115),OxyColor.fromRgb(177,165,115),OxyColor.fromRgb(178,166,114),OxyColor.fromRgb(179,167,114),OxyColor.fromRgb(180,168,114),OxyColor.fromRgb(181,169,113),OxyColor.fromRgb(182,169,113),OxyColor.fromRgb(183,170,113),OxyColor.fromRgb(184,171,112),OxyColor.fromRgb(185,172,112),OxyColor.fromRgb(186,173,112),OxyColor.fromRgb(187,174,111),OxyColor.fromRgb(188,175,111),OxyColor.fromRgb(190,175,111),OxyColor.fromRgb(191,176,110),OxyColor.fromRgb(192,177,110),OxyColor.fromRgb(193,178,109),OxyColor.fromRgb(194,179,109),OxyColor.fromRgb(195,180,109),OxyColor.fromRgb(196,181,108),OxyColor.fromRgb(197,181,108),OxyColor.fromRgb(198,182,107),OxyColor.fromRgb(199,183,107),OxyColor.fromRgb(200,184,106),OxyColor.fromRgb(201,185,106),OxyColor.fromRgb(203,186,105),OxyColor.fromRgb(204,187,105),OxyColor.fromRgb(205,188,104),OxyColor.fromRgb(206,188,104),OxyColor.fromRgb(207,189,103),OxyColor.fromRgb(208,190,103),OxyColor.fromRgb(209,191,102),OxyColor.fromRgb(210,192,102),OxyColor.fromRgb(211,193,101),OxyColor.fromRgb(212,194,100),OxyColor.fromRgb(214,195,100),OxyColor.fromRgb(215,196,99),OxyColor.fromRgb(216,197,99),OxyColor.fromRgb(217,197,98),OxyColor.fromRgb(218,198,97),OxyColor.fromRgb(219,199,97),OxyColor.fromRgb(220,200,96),OxyColor.fromRgb(221,201,95),OxyColor.fromRgb(222,202,95),OxyColor.fromRgb(224,203,94),OxyColor.fromRgb(225,204,93),OxyColor.fromRgb(226,205,92),OxyColor.fromRgb(227,206,92),OxyColor.fromRgb(228,207,91),OxyColor.fromRgb(229,208,90),OxyColor.fromRgb(230,209,89),OxyColor.fromRgb(232,210,89),OxyColor.fromRgb(233,211,88),OxyColor.fromRgb(234,211,87),OxyColor.fromRgb(235,212,86),OxyColor.fromRgb(236,213,85),OxyColor.fromRgb(237,214,84),OxyColor.fromRgb(239,215,83),OxyColor.fromRgb(240,216,82),OxyColor.fromRgb(241,217,81),OxyColor.fromRgb(242,218,80),OxyColor.fromRgb(243,219,79),OxyColor.fromRgb(244,220,78),OxyColor.fromRgb(246,221,77),OxyColor.fromRgb(247,222,76),OxyColor.fromRgb(248,223,75),OxyColor.fromRgb(249,224,74),OxyColor.fromRgb(250,225,73),OxyColor.fromRgb(251,226,72),OxyColor.fromRgb(253,227,70),OxyColor.fromRgb(254,228,69),OxyColor.fromRgb(255,229,68),OxyColor.fromRgb(255,230,66),OxyColor.fromRgb(255,231,66),OxyColor.fromRgb(255,232,67),OxyColor.fromRgb(255,233,68),OxyColor.fromRgb(255,234,70)],infernoColors=[OxyColor.fromRgb(0,0,4),OxyColor.fromRgb(1,0,5),OxyColor.fromRgb(1,1,6),OxyColor.fromRgb(1,1,8),OxyColor.fromRgb(2,1,10),OxyColor.fromRgb(2,2,12),OxyColor.fromRgb(2,2,14),OxyColor.fromRgb(3,2,16),OxyColor.fromRgb(4,3,18),OxyColor.fromRgb(4,3,20),OxyColor.fromRgb(5,4,23),OxyColor.fromRgb(6,4,25),OxyColor.fromRgb(7,5,27),OxyColor.fromRgb(8,5,29),OxyColor.fromRgb(9,6,31),OxyColor.fromRgb(10,7,34),OxyColor.fromRgb(11,7,36),OxyColor.fromRgb(12,8,38),OxyColor.fromRgb(13,8,41),OxyColor.fromRgb(14,9,43),OxyColor.fromRgb(16,9,45),OxyColor.fromRgb(17,10,48),OxyColor.fromRgb(18,10,50),OxyColor.fromRgb(20,11,52),OxyColor.fromRgb(21,11,55),OxyColor.fromRgb(22,11,57),OxyColor.fromRgb(24,12,60),OxyColor.fromRgb(25,12,62),OxyColor.fromRgb(27,12,65),OxyColor.fromRgb(28,12,67),OxyColor.fromRgb(30,12,69),OxyColor.fromRgb(31,12,72),OxyColor.fromRgb(33,12,74),OxyColor.fromRgb(35,12,76),OxyColor.fromRgb(36,12,79),OxyColor.fromRgb(38,12,81),OxyColor.fromRgb(40,11,83),OxyColor.fromRgb(41,11,85),OxyColor.fromRgb(43,11,87),OxyColor.fromRgb(45,11,89),OxyColor.fromRgb(47,10,91),OxyColor.fromRgb(49,10,92),OxyColor.fromRgb(50,10,94),OxyColor.fromRgb(52,10,95),OxyColor.fromRgb(54,9,97),OxyColor.fromRgb(56,9,98),OxyColor.fromRgb(57,9,99),OxyColor.fromRgb(59,9,100),OxyColor.fromRgb(61,9,101),OxyColor.fromRgb(62,9,102),OxyColor.fromRgb(64,10,103),OxyColor.fromRgb(66,10,104),OxyColor.fromRgb(68,10,104),OxyColor.fromRgb(69,10,105),OxyColor.fromRgb(71,11,106),OxyColor.fromRgb(73,11,106),OxyColor.fromRgb(74,12,107),OxyColor.fromRgb(76,12,107),OxyColor.fromRgb(77,13,108),OxyColor.fromRgb(79,13,108),OxyColor.fromRgb(81,14,108),OxyColor.fromRgb(82,14,109),OxyColor.fromRgb(84,15,109),OxyColor.fromRgb(85,15,109),OxyColor.fromRgb(87,16,110),OxyColor.fromRgb(89,16,110),OxyColor.fromRgb(90,17,110),OxyColor.fromRgb(92,18,110),OxyColor.fromRgb(93,18,110),OxyColor.fromRgb(95,19,110),OxyColor.fromRgb(97,19,110),OxyColor.fromRgb(98,20,110),OxyColor.fromRgb(100,21,110),OxyColor.fromRgb(101,21,110),OxyColor.fromRgb(103,22,110),OxyColor.fromRgb(105,22,110),OxyColor.fromRgb(106,23,110),OxyColor.fromRgb(108,24,110),OxyColor.fromRgb(109,24,110),OxyColor.fromRgb(111,25,110),OxyColor.fromRgb(113,25,110),OxyColor.fromRgb(114,26,110),OxyColor.fromRgb(116,26,110),OxyColor.fromRgb(117,27,110),OxyColor.fromRgb(119,28,109),OxyColor.fromRgb(120,28,109),OxyColor.fromRgb(122,29,109),OxyColor.fromRgb(124,29,109),OxyColor.fromRgb(125,30,109),OxyColor.fromRgb(127,30,108),OxyColor.fromRgb(128,31,108),OxyColor.fromRgb(130,32,108),OxyColor.fromRgb(132,32,107),OxyColor.fromRgb(133,33,107),OxyColor.fromRgb(135,33,107),OxyColor.fromRgb(136,34,106),OxyColor.fromRgb(138,34,106),OxyColor.fromRgb(140,35,105),OxyColor.fromRgb(141,35,105),OxyColor.fromRgb(143,36,105),OxyColor.fromRgb(144,37,104),OxyColor.fromRgb(146,37,104),OxyColor.fromRgb(147,38,103),OxyColor.fromRgb(149,38,103),OxyColor.fromRgb(151,39,102),OxyColor.fromRgb(152,39,102),OxyColor.fromRgb(154,40,101),OxyColor.fromRgb(155,41,100),OxyColor.fromRgb(157,41,100),OxyColor.fromRgb(159,42,99),OxyColor.fromRgb(160,42,99),OxyColor.fromRgb(162,43,98),OxyColor.fromRgb(163,44,97),OxyColor.fromRgb(165,44,96),OxyColor.fromRgb(166,45,96),OxyColor.fromRgb(168,46,95),OxyColor.fromRgb(169,46,94),OxyColor.fromRgb(171,47,94),OxyColor.fromRgb(173,48,93),OxyColor.fromRgb(174,48,92),OxyColor.fromRgb(176,49,91),OxyColor.fromRgb(177,50,90),OxyColor.fromRgb(179,50,90),OxyColor.fromRgb(180,51,89),OxyColor.fromRgb(182,52,88),OxyColor.fromRgb(183,53,87),OxyColor.fromRgb(185,53,86),OxyColor.fromRgb(186,54,85),OxyColor.fromRgb(188,55,84),OxyColor.fromRgb(189,56,83),OxyColor.fromRgb(191,57,82),OxyColor.fromRgb(192,58,81),OxyColor.fromRgb(193,58,80),OxyColor.fromRgb(195,59,79),OxyColor.fromRgb(196,60,78),OxyColor.fromRgb(198,61,77),OxyColor.fromRgb(199,62,76),OxyColor.fromRgb(200,63,75),OxyColor.fromRgb(202,64,74),OxyColor.fromRgb(203,65,73),OxyColor.fromRgb(204,66,72),OxyColor.fromRgb(206,67,71),OxyColor.fromRgb(207,68,70),OxyColor.fromRgb(208,69,69),OxyColor.fromRgb(210,70,68),OxyColor.fromRgb(211,71,67),OxyColor.fromRgb(212,72,66),OxyColor.fromRgb(213,74,65),OxyColor.fromRgb(215,75,63),OxyColor.fromRgb(216,76,62),OxyColor.fromRgb(217,77,61),OxyColor.fromRgb(218,78,60),OxyColor.fromRgb(219,80,59),OxyColor.fromRgb(221,81,58),OxyColor.fromRgb(222,82,56),OxyColor.fromRgb(223,83,55),OxyColor.fromRgb(224,85,54),OxyColor.fromRgb(225,86,53),OxyColor.fromRgb(226,87,52),OxyColor.fromRgb(227,89,51),OxyColor.fromRgb(228,90,49),OxyColor.fromRgb(229,92,48),OxyColor.fromRgb(230,93,47),OxyColor.fromRgb(231,94,46),OxyColor.fromRgb(232,96,45),OxyColor.fromRgb(233,97,43),OxyColor.fromRgb(234,99,42),OxyColor.fromRgb(235,100,41),OxyColor.fromRgb(235,102,40),OxyColor.fromRgb(236,103,38),OxyColor.fromRgb(237,105,37),OxyColor.fromRgb(238,106,36),OxyColor.fromRgb(239,108,35),OxyColor.fromRgb(239,110,33),OxyColor.fromRgb(240,111,32),OxyColor.fromRgb(241,113,31),OxyColor.fromRgb(241,115,29),OxyColor.fromRgb(242,116,28),OxyColor.fromRgb(243,118,27),OxyColor.fromRgb(243,120,25),OxyColor.fromRgb(244,121,24),OxyColor.fromRgb(245,123,23),OxyColor.fromRgb(245,125,21),OxyColor.fromRgb(246,126,20),OxyColor.fromRgb(246,128,19),OxyColor.fromRgb(247,130,18),OxyColor.fromRgb(247,132,16),OxyColor.fromRgb(248,133,15),OxyColor.fromRgb(248,135,14),OxyColor.fromRgb(248,137,12),OxyColor.fromRgb(249,139,11),OxyColor.fromRgb(249,140,10),OxyColor.fromRgb(249,142,9),OxyColor.fromRgb(250,144,8),OxyColor.fromRgb(250,146,7),OxyColor.fromRgb(250,148,7),OxyColor.fromRgb(251,150,6),OxyColor.fromRgb(251,151,6),OxyColor.fromRgb(251,153,6),OxyColor.fromRgb(251,155,6),OxyColor.fromRgb(251,157,7),OxyColor.fromRgb(252,159,7),OxyColor.fromRgb(252,161,8),OxyColor.fromRgb(252,163,9),OxyColor.fromRgb(252,165,10),OxyColor.fromRgb(252,166,12),OxyColor.fromRgb(252,168,13),OxyColor.fromRgb(252,170,15),OxyColor.fromRgb(252,172,17),OxyColor.fromRgb(252,174,18),OxyColor.fromRgb(252,176,20),OxyColor.fromRgb(252,178,22),OxyColor.fromRgb(252,180,24),OxyColor.fromRgb(251,182,26),OxyColor.fromRgb(251,184,29),OxyColor.fromRgb(251,186,31),OxyColor.fromRgb(251,188,33),OxyColor.fromRgb(251,190,35),OxyColor.fromRgb(250,192,38),OxyColor.fromRgb(250,194,40),OxyColor.fromRgb(250,196,42),OxyColor.fromRgb(250,198,45),OxyColor.fromRgb(249,199,47),OxyColor.fromRgb(249,201,50),OxyColor.fromRgb(249,203,53),OxyColor.fromRgb(248,205,55),OxyColor.fromRgb(248,207,58),OxyColor.fromRgb(247,209,61),OxyColor.fromRgb(247,211,64),OxyColor.fromRgb(246,213,67),OxyColor.fromRgb(246,215,70),OxyColor.fromRgb(245,217,73),OxyColor.fromRgb(245,219,76),OxyColor.fromRgb(244,221,79),OxyColor.fromRgb(244,223,83),OxyColor.fromRgb(244,225,86),OxyColor.fromRgb(243,227,90),OxyColor.fromRgb(243,229,93),OxyColor.fromRgb(242,230,97),OxyColor.fromRgb(242,232,101),OxyColor.fromRgb(242,234,105),OxyColor.fromRgb(241,236,109),OxyColor.fromRgb(241,237,113),OxyColor.fromRgb(241,239,117),OxyColor.fromRgb(241,241,121),OxyColor.fromRgb(242,242,125),OxyColor.fromRgb(242,244,130),OxyColor.fromRgb(243,245,134),OxyColor.fromRgb(243,246,138),OxyColor.fromRgb(244,248,142),OxyColor.fromRgb(245,249,146),OxyColor.fromRgb(246,250,150),OxyColor.fromRgb(248,251,154),OxyColor.fromRgb(249,252,157),OxyColor.fromRgb(250,253,161),OxyColor.fromRgb(252,255,164)],magmaColors=[OxyColor.fromRgb(0,0,4),OxyColor.fromRgb(1,0,5),OxyColor.fromRgb(1,1,6),OxyColor.fromRgb(1,1,8),OxyColor.fromRgb(2,1,9),OxyColor.fromRgb(2,2,11),OxyColor.fromRgb(2,2,13),OxyColor.fromRgb(3,3,15),OxyColor.fromRgb(3,3,18),OxyColor.fromRgb(4,4,20),OxyColor.fromRgb(5,4,22),OxyColor.fromRgb(6,5,24),OxyColor.fromRgb(6,5,26),OxyColor.fromRgb(7,6,28),OxyColor.fromRgb(8,7,30),OxyColor.fromRgb(9,7,32),OxyColor.fromRgb(10,8,34),OxyColor.fromRgb(11,9,36),OxyColor.fromRgb(12,9,38),OxyColor.fromRgb(13,10,41),OxyColor.fromRgb(14,11,43),OxyColor.fromRgb(16,11,45),OxyColor.fromRgb(17,12,47),OxyColor.fromRgb(18,13,49),OxyColor.fromRgb(19,13,52),OxyColor.fromRgb(20,14,54),OxyColor.fromRgb(21,14,56),OxyColor.fromRgb(22,15,59),OxyColor.fromRgb(24,15,61),OxyColor.fromRgb(25,16,63),OxyColor.fromRgb(26,16,66),OxyColor.fromRgb(28,16,68),OxyColor.fromRgb(29,17,71),OxyColor.fromRgb(30,17,73),OxyColor.fromRgb(32,17,75),OxyColor.fromRgb(33,17,78),OxyColor.fromRgb(34,17,80),OxyColor.fromRgb(36,18,83),OxyColor.fromRgb(37,18,85),OxyColor.fromRgb(39,18,88),OxyColor.fromRgb(41,17,90),OxyColor.fromRgb(42,17,92),OxyColor.fromRgb(44,17,95),OxyColor.fromRgb(45,17,97),OxyColor.fromRgb(47,17,99),OxyColor.fromRgb(49,17,101),OxyColor.fromRgb(51,16,103),OxyColor.fromRgb(52,16,105),OxyColor.fromRgb(54,16,107),OxyColor.fromRgb(56,16,108),OxyColor.fromRgb(57,15,110),OxyColor.fromRgb(59,15,112),OxyColor.fromRgb(61,15,113),OxyColor.fromRgb(63,15,114),OxyColor.fromRgb(64,15,116),OxyColor.fromRgb(66,15,117),OxyColor.fromRgb(68,15,118),OxyColor.fromRgb(69,16,119),OxyColor.fromRgb(71,16,120),OxyColor.fromRgb(73,16,120),OxyColor.fromRgb(74,16,121),OxyColor.fromRgb(76,17,122),OxyColor.fromRgb(78,17,123),OxyColor.fromRgb(79,18,123),OxyColor.fromRgb(81,18,124),OxyColor.fromRgb(82,19,124),OxyColor.fromRgb(84,19,125),OxyColor.fromRgb(86,20,125),OxyColor.fromRgb(87,21,126),OxyColor.fromRgb(89,21,126),OxyColor.fromRgb(90,22,126),OxyColor.fromRgb(92,22,127),OxyColor.fromRgb(93,23,127),OxyColor.fromRgb(95,24,127),OxyColor.fromRgb(96,24,128),OxyColor.fromRgb(98,25,128),OxyColor.fromRgb(100,26,128),OxyColor.fromRgb(101,26,128),OxyColor.fromRgb(103,27,128),OxyColor.fromRgb(104,28,129),OxyColor.fromRgb(106,28,129),OxyColor.fromRgb(107,29,129),OxyColor.fromRgb(109,29,129),OxyColor.fromRgb(110,30,129),OxyColor.fromRgb(112,31,129),OxyColor.fromRgb(114,31,129),OxyColor.fromRgb(115,32,129),OxyColor.fromRgb(117,33,129),OxyColor.fromRgb(118,33,129),OxyColor.fromRgb(120,34,129),OxyColor.fromRgb(121,34,130),OxyColor.fromRgb(123,35,130),OxyColor.fromRgb(124,35,130),OxyColor.fromRgb(126,36,130),OxyColor.fromRgb(128,37,130),OxyColor.fromRgb(129,37,129),OxyColor.fromRgb(131,38,129),OxyColor.fromRgb(132,38,129),OxyColor.fromRgb(134,39,129),OxyColor.fromRgb(136,39,129),OxyColor.fromRgb(137,40,129),OxyColor.fromRgb(139,41,129),OxyColor.fromRgb(140,41,129),OxyColor.fromRgb(142,42,129),OxyColor.fromRgb(144,42,129),OxyColor.fromRgb(145,43,129),OxyColor.fromRgb(147,43,128),OxyColor.fromRgb(148,44,128),OxyColor.fromRgb(150,44,128),OxyColor.fromRgb(152,45,128),OxyColor.fromRgb(153,45,128),OxyColor.fromRgb(155,46,127),OxyColor.fromRgb(156,46,127),OxyColor.fromRgb(158,47,127),OxyColor.fromRgb(160,47,127),OxyColor.fromRgb(161,48,126),OxyColor.fromRgb(163,48,126),OxyColor.fromRgb(165,49,126),OxyColor.fromRgb(166,49,125),OxyColor.fromRgb(168,50,125),OxyColor.fromRgb(170,51,125),OxyColor.fromRgb(171,51,124),OxyColor.fromRgb(173,52,124),OxyColor.fromRgb(174,52,123),OxyColor.fromRgb(176,53,123),OxyColor.fromRgb(178,53,123),OxyColor.fromRgb(179,54,122),OxyColor.fromRgb(181,54,122),OxyColor.fromRgb(183,55,121),OxyColor.fromRgb(184,55,121),OxyColor.fromRgb(186,56,120),OxyColor.fromRgb(188,57,120),OxyColor.fromRgb(189,57,119),OxyColor.fromRgb(191,58,119),OxyColor.fromRgb(192,58,118),OxyColor.fromRgb(194,59,117),OxyColor.fromRgb(196,60,117),OxyColor.fromRgb(197,60,116),OxyColor.fromRgb(199,61,115),OxyColor.fromRgb(200,62,115),OxyColor.fromRgb(202,62,114),OxyColor.fromRgb(204,63,113),OxyColor.fromRgb(205,64,113),OxyColor.fromRgb(207,64,112),OxyColor.fromRgb(208,65,111),OxyColor.fromRgb(210,66,111),OxyColor.fromRgb(211,67,110),OxyColor.fromRgb(213,68,109),OxyColor.fromRgb(214,69,108),OxyColor.fromRgb(216,69,108),OxyColor.fromRgb(217,70,107),OxyColor.fromRgb(219,71,106),OxyColor.fromRgb(220,72,105),OxyColor.fromRgb(222,73,104),OxyColor.fromRgb(223,74,104),OxyColor.fromRgb(224,76,103),OxyColor.fromRgb(226,77,102),OxyColor.fromRgb(227,78,101),OxyColor.fromRgb(228,79,100),OxyColor.fromRgb(229,80,100),OxyColor.fromRgb(231,82,99),OxyColor.fromRgb(232,83,98),OxyColor.fromRgb(233,84,98),OxyColor.fromRgb(234,86,97),OxyColor.fromRgb(235,87,96),OxyColor.fromRgb(236,88,96),OxyColor.fromRgb(237,90,95),OxyColor.fromRgb(238,91,94),OxyColor.fromRgb(239,93,94),OxyColor.fromRgb(240,95,94),OxyColor.fromRgb(241,96,93),OxyColor.fromRgb(242,98,93),OxyColor.fromRgb(242,100,92),OxyColor.fromRgb(243,101,92),OxyColor.fromRgb(244,103,92),OxyColor.fromRgb(244,105,92),OxyColor.fromRgb(245,107,92),OxyColor.fromRgb(246,108,92),OxyColor.fromRgb(246,110,92),OxyColor.fromRgb(247,112,92),OxyColor.fromRgb(247,114,92),OxyColor.fromRgb(248,116,92),OxyColor.fromRgb(248,118,92),OxyColor.fromRgb(249,120,93),OxyColor.fromRgb(249,121,93),OxyColor.fromRgb(249,123,93),OxyColor.fromRgb(250,125,94),OxyColor.fromRgb(250,127,94),OxyColor.fromRgb(250,129,95),OxyColor.fromRgb(251,131,95),OxyColor.fromRgb(251,133,96),OxyColor.fromRgb(251,135,97),OxyColor.fromRgb(252,137,97),OxyColor.fromRgb(252,138,98),OxyColor.fromRgb(252,140,99),OxyColor.fromRgb(252,142,100),OxyColor.fromRgb(252,144,101),OxyColor.fromRgb(253,146,102),OxyColor.fromRgb(253,148,103),OxyColor.fromRgb(253,150,104),OxyColor.fromRgb(253,152,105),OxyColor.fromRgb(253,154,106),OxyColor.fromRgb(253,155,107),OxyColor.fromRgb(254,157,108),OxyColor.fromRgb(254,159,109),OxyColor.fromRgb(254,161,110),OxyColor.fromRgb(254,163,111),OxyColor.fromRgb(254,165,113),OxyColor.fromRgb(254,167,114),OxyColor.fromRgb(254,169,115),OxyColor.fromRgb(254,170,116),OxyColor.fromRgb(254,172,118),OxyColor.fromRgb(254,174,119),OxyColor.fromRgb(254,176,120),OxyColor.fromRgb(254,178,122),OxyColor.fromRgb(254,180,123),OxyColor.fromRgb(254,182,124),OxyColor.fromRgb(254,183,126),OxyColor.fromRgb(254,185,127),OxyColor.fromRgb(254,187,129),OxyColor.fromRgb(254,189,130),OxyColor.fromRgb(254,191,132),OxyColor.fromRgb(254,193,133),OxyColor.fromRgb(254,194,135),OxyColor.fromRgb(254,196,136),OxyColor.fromRgb(254,198,138),OxyColor.fromRgb(254,200,140),OxyColor.fromRgb(254,202,141),OxyColor.fromRgb(254,204,143),OxyColor.fromRgb(254,205,144),OxyColor.fromRgb(254,207,146),OxyColor.fromRgb(254,209,148),OxyColor.fromRgb(254,211,149),OxyColor.fromRgb(254,213,151),OxyColor.fromRgb(254,215,153),OxyColor.fromRgb(254,216,154),OxyColor.fromRgb(253,218,156),OxyColor.fromRgb(253,220,158),OxyColor.fromRgb(253,222,160),OxyColor.fromRgb(253,224,161),OxyColor.fromRgb(253,226,163),OxyColor.fromRgb(253,227,165),OxyColor.fromRgb(253,229,167),OxyColor.fromRgb(253,231,169),OxyColor.fromRgb(253,233,170),OxyColor.fromRgb(253,235,172),OxyColor.fromRgb(252,236,174),OxyColor.fromRgb(252,238,176),OxyColor.fromRgb(252,240,178),OxyColor.fromRgb(252,242,180),OxyColor.fromRgb(252,244,182),OxyColor.fromRgb(252,246,184),OxyColor.fromRgb(252,247,185),OxyColor.fromRgb(252,249,187),OxyColor.fromRgb(252,251,189),OxyColor.fromRgb(252,253,191)],plasmaColors=[OxyColor.fromRgb(13,8,135),OxyColor.fromRgb(16,7,136),OxyColor.fromRgb(19,7,137),OxyColor.fromRgb(22,7,138),OxyColor.fromRgb(25,6,140),OxyColor.fromRgb(27,6,141),OxyColor.fromRgb(29,6,142),OxyColor.fromRgb(32,6,143),OxyColor.fromRgb(34,6,144),OxyColor.fromRgb(36,6,145),OxyColor.fromRgb(38,5,145),OxyColor.fromRgb(40,5,146),OxyColor.fromRgb(42,5,147),OxyColor.fromRgb(44,5,148),OxyColor.fromRgb(46,5,149),OxyColor.fromRgb(47,5,150),OxyColor.fromRgb(49,5,151),OxyColor.fromRgb(51,5,151),OxyColor.fromRgb(53,4,152),OxyColor.fromRgb(55,4,153),OxyColor.fromRgb(56,4,154),OxyColor.fromRgb(58,4,154),OxyColor.fromRgb(60,4,155),OxyColor.fromRgb(62,4,156),OxyColor.fromRgb(63,4,156),OxyColor.fromRgb(65,4,157),OxyColor.fromRgb(67,3,158),OxyColor.fromRgb(68,3,158),OxyColor.fromRgb(70,3,159),OxyColor.fromRgb(72,3,159),OxyColor.fromRgb(73,3,160),OxyColor.fromRgb(75,3,161),OxyColor.fromRgb(76,2,161),OxyColor.fromRgb(78,2,162),OxyColor.fromRgb(80,2,162),OxyColor.fromRgb(81,2,163),OxyColor.fromRgb(83,2,163),OxyColor.fromRgb(85,2,164),OxyColor.fromRgb(86,1,164),OxyColor.fromRgb(88,1,164),OxyColor.fromRgb(89,1,165),OxyColor.fromRgb(91,1,165),OxyColor.fromRgb(92,1,166),OxyColor.fromRgb(94,1,166),OxyColor.fromRgb(96,1,166),OxyColor.fromRgb(97,0,167),OxyColor.fromRgb(99,0,167),OxyColor.fromRgb(100,0,167),OxyColor.fromRgb(102,0,167),OxyColor.fromRgb(103,0,168),OxyColor.fromRgb(105,0,168),OxyColor.fromRgb(106,0,168),OxyColor.fromRgb(108,0,168),OxyColor.fromRgb(110,0,168),OxyColor.fromRgb(111,0,168),OxyColor.fromRgb(113,0,168),OxyColor.fromRgb(114,1,168),OxyColor.fromRgb(116,1,168),OxyColor.fromRgb(117,1,168),OxyColor.fromRgb(119,1,168),OxyColor.fromRgb(120,1,168),OxyColor.fromRgb(122,2,168),OxyColor.fromRgb(123,2,168),OxyColor.fromRgb(125,3,168),OxyColor.fromRgb(126,3,168),OxyColor.fromRgb(128,4,168),OxyColor.fromRgb(129,4,167),OxyColor.fromRgb(131,5,167),OxyColor.fromRgb(132,5,167),OxyColor.fromRgb(134,6,166),OxyColor.fromRgb(135,7,166),OxyColor.fromRgb(136,8,166),OxyColor.fromRgb(138,9,165),OxyColor.fromRgb(139,10,165),OxyColor.fromRgb(141,11,165),OxyColor.fromRgb(142,12,164),OxyColor.fromRgb(143,13,164),OxyColor.fromRgb(145,14,163),OxyColor.fromRgb(146,15,163),OxyColor.fromRgb(148,16,162),OxyColor.fromRgb(149,17,161),OxyColor.fromRgb(150,19,161),OxyColor.fromRgb(152,20,160),OxyColor.fromRgb(153,21,159),OxyColor.fromRgb(154,22,159),OxyColor.fromRgb(156,23,158),OxyColor.fromRgb(157,24,157),OxyColor.fromRgb(158,25,157),OxyColor.fromRgb(160,26,156),OxyColor.fromRgb(161,27,155),OxyColor.fromRgb(162,29,154),OxyColor.fromRgb(163,30,154),OxyColor.fromRgb(165,31,153),OxyColor.fromRgb(166,32,152),OxyColor.fromRgb(167,33,151),OxyColor.fromRgb(168,34,150),OxyColor.fromRgb(170,35,149),OxyColor.fromRgb(171,36,148),OxyColor.fromRgb(172,38,148),OxyColor.fromRgb(173,39,147),OxyColor.fromRgb(174,40,146),OxyColor.fromRgb(176,41,145),OxyColor.fromRgb(177,42,144),OxyColor.fromRgb(178,43,143),OxyColor.fromRgb(179,44,142),OxyColor.fromRgb(180,46,141),OxyColor.fromRgb(181,47,140),OxyColor.fromRgb(182,48,139),OxyColor.fromRgb(183,49,138),OxyColor.fromRgb(184,50,137),OxyColor.fromRgb(186,51,136),OxyColor.fromRgb(187,52,136),OxyColor.fromRgb(188,53,135),OxyColor.fromRgb(189,55,134),OxyColor.fromRgb(190,56,133),OxyColor.fromRgb(191,57,132),OxyColor.fromRgb(192,58,131),OxyColor.fromRgb(193,59,130),OxyColor.fromRgb(194,60,129),OxyColor.fromRgb(195,61,128),OxyColor.fromRgb(196,62,127),OxyColor.fromRgb(197,64,126),OxyColor.fromRgb(198,65,125),OxyColor.fromRgb(199,66,124),OxyColor.fromRgb(200,67,123),OxyColor.fromRgb(201,68,122),OxyColor.fromRgb(202,69,122),OxyColor.fromRgb(203,70,121),OxyColor.fromRgb(204,71,120),OxyColor.fromRgb(204,73,119),OxyColor.fromRgb(205,74,118),OxyColor.fromRgb(206,75,117),OxyColor.fromRgb(207,76,116),OxyColor.fromRgb(208,77,115),OxyColor.fromRgb(209,78,114),OxyColor.fromRgb(210,79,113),OxyColor.fromRgb(211,81,113),OxyColor.fromRgb(212,82,112),OxyColor.fromRgb(213,83,111),OxyColor.fromRgb(213,84,110),OxyColor.fromRgb(214,85,109),OxyColor.fromRgb(215,86,108),OxyColor.fromRgb(216,87,107),OxyColor.fromRgb(217,88,106),OxyColor.fromRgb(218,90,106),OxyColor.fromRgb(218,91,105),OxyColor.fromRgb(219,92,104),OxyColor.fromRgb(220,93,103),OxyColor.fromRgb(221,94,102),OxyColor.fromRgb(222,95,101),OxyColor.fromRgb(222,97,100),OxyColor.fromRgb(223,98,99),OxyColor.fromRgb(224,99,99),OxyColor.fromRgb(225,100,98),OxyColor.fromRgb(226,101,97),OxyColor.fromRgb(226,102,96),OxyColor.fromRgb(227,104,95),OxyColor.fromRgb(228,105,94),OxyColor.fromRgb(229,106,93),OxyColor.fromRgb(229,107,93),OxyColor.fromRgb(230,108,92),OxyColor.fromRgb(231,110,91),OxyColor.fromRgb(231,111,90),OxyColor.fromRgb(232,112,89),OxyColor.fromRgb(233,113,88),OxyColor.fromRgb(233,114,87),OxyColor.fromRgb(234,116,87),OxyColor.fromRgb(235,117,86),OxyColor.fromRgb(235,118,85),OxyColor.fromRgb(236,119,84),OxyColor.fromRgb(237,121,83),OxyColor.fromRgb(237,122,82),OxyColor.fromRgb(238,123,81),OxyColor.fromRgb(239,124,81),OxyColor.fromRgb(239,126,80),OxyColor.fromRgb(240,127,79),OxyColor.fromRgb(240,128,78),OxyColor.fromRgb(241,129,77),OxyColor.fromRgb(241,131,76),OxyColor.fromRgb(242,132,75),OxyColor.fromRgb(243,133,75),OxyColor.fromRgb(243,135,74),OxyColor.fromRgb(244,136,73),OxyColor.fromRgb(244,137,72),OxyColor.fromRgb(245,139,71),OxyColor.fromRgb(245,140,70),OxyColor.fromRgb(246,141,69),OxyColor.fromRgb(246,143,68),OxyColor.fromRgb(247,144,68),OxyColor.fromRgb(247,145,67),OxyColor.fromRgb(247,147,66),OxyColor.fromRgb(248,148,65),OxyColor.fromRgb(248,149,64),OxyColor.fromRgb(249,151,63),OxyColor.fromRgb(249,152,62),OxyColor.fromRgb(249,154,62),OxyColor.fromRgb(250,155,61),OxyColor.fromRgb(250,156,60),OxyColor.fromRgb(250,158,59),OxyColor.fromRgb(251,159,58),OxyColor.fromRgb(251,161,57),OxyColor.fromRgb(251,162,56),OxyColor.fromRgb(252,163,56),OxyColor.fromRgb(252,165,55),OxyColor.fromRgb(252,166,54),OxyColor.fromRgb(252,168,53),OxyColor.fromRgb(252,169,52),OxyColor.fromRgb(253,171,51),OxyColor.fromRgb(253,172,51),OxyColor.fromRgb(253,174,50),OxyColor.fromRgb(253,175,49),OxyColor.fromRgb(253,177,48),OxyColor.fromRgb(253,178,47),OxyColor.fromRgb(253,180,47),OxyColor.fromRgb(253,181,46),OxyColor.fromRgb(254,183,45),OxyColor.fromRgb(254,184,44),OxyColor.fromRgb(254,186,44),OxyColor.fromRgb(254,187,43),OxyColor.fromRgb(254,189,42),OxyColor.fromRgb(254,190,42),OxyColor.fromRgb(254,192,41),OxyColor.fromRgb(253,194,41),OxyColor.fromRgb(253,195,40),OxyColor.fromRgb(253,197,39),OxyColor.fromRgb(253,198,39),OxyColor.fromRgb(253,200,39),OxyColor.fromRgb(253,202,38),OxyColor.fromRgb(253,203,38),OxyColor.fromRgb(252,205,37),OxyColor.fromRgb(252,206,37),OxyColor.fromRgb(252,208,37),OxyColor.fromRgb(252,210,37),OxyColor.fromRgb(251,211,36),OxyColor.fromRgb(251,213,36),OxyColor.fromRgb(251,215,36),OxyColor.fromRgb(250,216,36),OxyColor.fromRgb(250,218,36),OxyColor.fromRgb(249,220,36),OxyColor.fromRgb(249,221,37),OxyColor.fromRgb(248,223,37),OxyColor.fromRgb(248,225,37),OxyColor.fromRgb(247,226,37),OxyColor.fromRgb(247,228,37),OxyColor.fromRgb(246,230,38),OxyColor.fromRgb(246,232,38),OxyColor.fromRgb(245,233,38),OxyColor.fromRgb(245,235,39),OxyColor.fromRgb(244,237,39),OxyColor.fromRgb(243,238,39),OxyColor.fromRgb(243,240,39),OxyColor.fromRgb(242,242,39),OxyColor.fromRgb(241,244,38),OxyColor.fromRgb(241,245,37),OxyColor.fromRgb(240,247,36),OxyColor.fromRgb(240,249,33)],viridisColors=[OxyColor.fromRgb(68,1,84),OxyColor.fromRgb(68,2,86),OxyColor.fromRgb(69,4,87),OxyColor.fromRgb(69,5,89),OxyColor.fromRgb(70,7,90),OxyColor.fromRgb(70,8,92),OxyColor.fromRgb(70,10,93),OxyColor.fromRgb(70,11,94),OxyColor.fromRgb(71,13,96),OxyColor.fromRgb(71,14,97),OxyColor.fromRgb(71,16,99),OxyColor.fromRgb(71,17,100),OxyColor.fromRgb(71,19,101),OxyColor.fromRgb(72,20,103),OxyColor.fromRgb(72,22,104),OxyColor.fromRgb(72,23,105),OxyColor.fromRgb(72,24,106),OxyColor.fromRgb(72,26,108),OxyColor.fromRgb(72,27,109),OxyColor.fromRgb(72,28,110),OxyColor.fromRgb(72,29,111),OxyColor.fromRgb(72,31,112),OxyColor.fromRgb(72,32,113),OxyColor.fromRgb(72,33,115),OxyColor.fromRgb(72,35,116),OxyColor.fromRgb(72,36,117),OxyColor.fromRgb(72,37,118),OxyColor.fromRgb(72,38,119),OxyColor.fromRgb(72,40,120),OxyColor.fromRgb(72,41,121),OxyColor.fromRgb(71,42,122),OxyColor.fromRgb(71,44,122),OxyColor.fromRgb(71,45,123),OxyColor.fromRgb(71,46,124),OxyColor.fromRgb(71,47,125),OxyColor.fromRgb(70,48,126),OxyColor.fromRgb(70,50,126),OxyColor.fromRgb(70,51,127),OxyColor.fromRgb(70,52,128),OxyColor.fromRgb(69,53,129),OxyColor.fromRgb(69,55,129),OxyColor.fromRgb(69,56,130),OxyColor.fromRgb(68,57,131),OxyColor.fromRgb(68,58,131),OxyColor.fromRgb(68,59,132),OxyColor.fromRgb(67,61,132),OxyColor.fromRgb(67,62,133),OxyColor.fromRgb(66,63,133),OxyColor.fromRgb(66,64,134),OxyColor.fromRgb(66,65,134),OxyColor.fromRgb(65,66,135),OxyColor.fromRgb(65,68,135),OxyColor.fromRgb(64,69,136),OxyColor.fromRgb(64,70,136),OxyColor.fromRgb(63,71,136),OxyColor.fromRgb(63,72,137),OxyColor.fromRgb(62,73,137),OxyColor.fromRgb(62,74,137),OxyColor.fromRgb(62,76,138),OxyColor.fromRgb(61,77,138),OxyColor.fromRgb(61,78,138),OxyColor.fromRgb(60,79,138),OxyColor.fromRgb(60,80,139),OxyColor.fromRgb(59,81,139),OxyColor.fromRgb(59,82,139),OxyColor.fromRgb(58,83,139),OxyColor.fromRgb(58,84,140),OxyColor.fromRgb(57,85,140),OxyColor.fromRgb(57,86,140),OxyColor.fromRgb(56,88,140),OxyColor.fromRgb(56,89,140),OxyColor.fromRgb(55,90,140),OxyColor.fromRgb(55,91,141),OxyColor.fromRgb(54,92,141),OxyColor.fromRgb(54,93,141),OxyColor.fromRgb(53,94,141),OxyColor.fromRgb(53,95,141),OxyColor.fromRgb(52,96,141),OxyColor.fromRgb(52,97,141),OxyColor.fromRgb(51,98,141),OxyColor.fromRgb(51,99,141),OxyColor.fromRgb(50,100,142),OxyColor.fromRgb(50,101,142),OxyColor.fromRgb(49,102,142),OxyColor.fromRgb(49,103,142),OxyColor.fromRgb(49,104,142),OxyColor.fromRgb(48,105,142),OxyColor.fromRgb(48,106,142),OxyColor.fromRgb(47,107,142),OxyColor.fromRgb(47,108,142),OxyColor.fromRgb(46,109,142),OxyColor.fromRgb(46,110,142),OxyColor.fromRgb(46,111,142),OxyColor.fromRgb(45,112,142),OxyColor.fromRgb(45,113,142),OxyColor.fromRgb(44,113,142),OxyColor.fromRgb(44,114,142),OxyColor.fromRgb(44,115,142),OxyColor.fromRgb(43,116,142),OxyColor.fromRgb(43,117,142),OxyColor.fromRgb(42,118,142),OxyColor.fromRgb(42,119,142),OxyColor.fromRgb(42,120,142),OxyColor.fromRgb(41,121,142),OxyColor.fromRgb(41,122,142),OxyColor.fromRgb(41,123,142),OxyColor.fromRgb(40,124,142),OxyColor.fromRgb(40,125,142),OxyColor.fromRgb(39,126,142),OxyColor.fromRgb(39,127,142),OxyColor.fromRgb(39,128,142),OxyColor.fromRgb(38,129,142),OxyColor.fromRgb(38,130,142),OxyColor.fromRgb(38,130,142),OxyColor.fromRgb(37,131,142),OxyColor.fromRgb(37,132,142),OxyColor.fromRgb(37,133,142),OxyColor.fromRgb(36,134,142),OxyColor.fromRgb(36,135,142),OxyColor.fromRgb(35,136,142),OxyColor.fromRgb(35,137,142),OxyColor.fromRgb(35,138,141),OxyColor.fromRgb(34,139,141),OxyColor.fromRgb(34,140,141),OxyColor.fromRgb(34,141,141),OxyColor.fromRgb(33,142,141),OxyColor.fromRgb(33,143,141),OxyColor.fromRgb(33,144,141),OxyColor.fromRgb(33,145,140),OxyColor.fromRgb(32,146,140),OxyColor.fromRgb(32,146,140),OxyColor.fromRgb(32,147,140),OxyColor.fromRgb(31,148,140),OxyColor.fromRgb(31,149,139),OxyColor.fromRgb(31,150,139),OxyColor.fromRgb(31,151,139),OxyColor.fromRgb(31,152,139),OxyColor.fromRgb(31,153,138),OxyColor.fromRgb(31,154,138),OxyColor.fromRgb(30,155,138),OxyColor.fromRgb(30,156,137),OxyColor.fromRgb(30,157,137),OxyColor.fromRgb(31,158,137),OxyColor.fromRgb(31,159,136),OxyColor.fromRgb(31,160,136),OxyColor.fromRgb(31,161,136),OxyColor.fromRgb(31,161,135),OxyColor.fromRgb(31,162,135),OxyColor.fromRgb(32,163,134),OxyColor.fromRgb(32,164,134),OxyColor.fromRgb(33,165,133),OxyColor.fromRgb(33,166,133),OxyColor.fromRgb(34,167,133),OxyColor.fromRgb(34,168,132),OxyColor.fromRgb(35,169,131),OxyColor.fromRgb(36,170,131),OxyColor.fromRgb(37,171,130),OxyColor.fromRgb(37,172,130),OxyColor.fromRgb(38,173,129),OxyColor.fromRgb(39,173,129),OxyColor.fromRgb(40,174,128),OxyColor.fromRgb(41,175,127),OxyColor.fromRgb(42,176,127),OxyColor.fromRgb(44,177,126),OxyColor.fromRgb(45,178,125),OxyColor.fromRgb(46,179,124),OxyColor.fromRgb(47,180,124),OxyColor.fromRgb(49,181,123),OxyColor.fromRgb(50,182,122),OxyColor.fromRgb(52,182,121),OxyColor.fromRgb(53,183,121),OxyColor.fromRgb(55,184,120),OxyColor.fromRgb(56,185,119),OxyColor.fromRgb(58,186,118),OxyColor.fromRgb(59,187,117),OxyColor.fromRgb(61,188,116),OxyColor.fromRgb(63,188,115),OxyColor.fromRgb(64,189,114),OxyColor.fromRgb(66,190,113),OxyColor.fromRgb(68,191,112),OxyColor.fromRgb(70,192,111),OxyColor.fromRgb(72,193,110),OxyColor.fromRgb(74,193,109),OxyColor.fromRgb(76,194,108),OxyColor.fromRgb(78,195,107),OxyColor.fromRgb(80,196,106),OxyColor.fromRgb(82,197,105),OxyColor.fromRgb(84,197,104),OxyColor.fromRgb(86,198,103),OxyColor.fromRgb(88,199,101),OxyColor.fromRgb(90,200,100),OxyColor.fromRgb(92,200,99),OxyColor.fromRgb(94,201,98),OxyColor.fromRgb(96,202,96),OxyColor.fromRgb(99,203,95),OxyColor.fromRgb(101,203,94),OxyColor.fromRgb(103,204,92),OxyColor.fromRgb(105,205,91),OxyColor.fromRgb(108,205,90),OxyColor.fromRgb(110,206,88),OxyColor.fromRgb(112,207,87),OxyColor.fromRgb(115,208,86),OxyColor.fromRgb(117,208,84),OxyColor.fromRgb(119,209,83),OxyColor.fromRgb(122,209,81),OxyColor.fromRgb(124,210,80),OxyColor.fromRgb(127,211,78),OxyColor.fromRgb(129,211,77),OxyColor.fromRgb(132,212,75),OxyColor.fromRgb(134,213,73),OxyColor.fromRgb(137,213,72),OxyColor.fromRgb(139,214,70),OxyColor.fromRgb(142,214,69),OxyColor.fromRgb(144,215,67),OxyColor.fromRgb(147,215,65),OxyColor.fromRgb(149,216,64),OxyColor.fromRgb(152,216,62),OxyColor.fromRgb(155,217,60),OxyColor.fromRgb(157,217,59),OxyColor.fromRgb(160,218,57),OxyColor.fromRgb(162,218,55),OxyColor.fromRgb(165,219,54),OxyColor.fromRgb(168,219,52),OxyColor.fromRgb(170,220,50),OxyColor.fromRgb(173,220,48),OxyColor.fromRgb(176,221,47),OxyColor.fromRgb(178,221,45),OxyColor.fromRgb(181,222,43),OxyColor.fromRgb(184,222,41),OxyColor.fromRgb(186,222,40),OxyColor.fromRgb(189,223,38),OxyColor.fromRgb(192,223,37),OxyColor.fromRgb(194,223,35),OxyColor.fromRgb(197,224,33),OxyColor.fromRgb(200,224,32),OxyColor.fromRgb(202,225,31),OxyColor.fromRgb(205,225,29),OxyColor.fromRgb(208,225,28),OxyColor.fromRgb(210,226,27),OxyColor.fromRgb(213,226,26),OxyColor.fromRgb(216,226,25),OxyColor.fromRgb(218,227,25),OxyColor.fromRgb(221,227,24),OxyColor.fromRgb(223,227,24),OxyColor.fromRgb(226,228,24),OxyColor.fromRgb(229,228,25),OxyColor.fromRgb(231,228,25),OxyColor.fromRgb(234,229,26),OxyColor.fromRgb(236,229,27),OxyColor.fromRgb(239,229,28),OxyColor.fromRgb(241,229,29),OxyColor.fromRgb(244,230,30),OxyColor.fromRgb(246,230,32),OxyColor.fromRgb(248,230,33),OxyColor.fromRgb(251,231,35),OxyColor.fromRgb(253,231,37)];let Element$1=class{constructor(d){ee(this,"parent");ee(this,"keyDown");ee(this,"mouseDown");ee(this,"mouseMove");ee(this,"mouseUp");ee(this,"touchStarted");ee(this,"touchDelta");ee(this,"touchCompleted");ee(this,"selection");ee(this,"selectionChanged");ee(this,"selectable",!0);ee(this,"selectionMode",SelectionMode.All)}hitTest(d){return this.hitTestOverride(d)}hitTestOverride(d){}onMouseDown(d){this.mouseDown&&this.mouseDown(this,d)}onMouseMove(d){this.mouseMove&&this.mouseMove(this,d)}onKeyDown(d){this.keyDown&&this.keyDown(this,d)}onMouseUp(d){this.mouseUp&&this.mouseUp(this,d)}onTouchStarted(d){this.touchStarted&&this.touchStarted(this,d)}onTouchDelta(d){this.touchDelta&&this.touchDelta(this,d)}onTouchCompleted(d){this.touchCompleted&&this.touchCompleted(this,d)}get actualSelectedColor(){return this.parent?this.parent.selectionColor.getActualColor(Model.DefaultSelectionColor):Model.DefaultSelectionColor}isSelected(){return!!this.selection}getSelectedItems(){return this.ensureSelection(),this.selection.getSelectedItems()}clearSelection(){this.selection=void 0,this.onSelectionChanged()}unselect(){this.selection=void 0,this.onSelectionChanged()}isItemSelected(d){return this.selection?d===-1?this.selection.isEverythingSelected():this.selection.isItemSelected(d):!1}select(){this.selection=Selection.Everything,this.onSelectionChanged()}selectItem(d){if(this.selectionMode===SelectionMode.All)throw new Error("Use the select() method when using SelectionMode.All");this.ensureSelection(),this.selectionMode===SelectionMode.Single&&this.selection.clear(),this.selection.select(d),this.onSelectionChanged()}unselectItem(d){if(this.selectionMode===SelectionMode.All)throw new Error("Use the unselect() method when using SelectionMode.All");this.ensureSelection(),this.selection.unselect(d),this.onSelectionChanged()}getSelectableColor(d,s=-1){return d.isUndefined()?OxyColors.Undefined:this.isItemSelected(s)?this.actualSelectedColor:d}getSelectableFillColor(d,s=-1){return this.getSelectableColor(d,s)}ensureSelection(){this.selection=this.selection||new Selection}onSelectionChanged(d){this.selectionChanged&&this.selectionChanged(this,d)}};class PlotElement extends Element$1{constructor(s){super(s);ee(this,"font");ee(this,"fontSize",NaN);ee(this,"fontWeight",FontWeights.Normal);ee(this,"tag");ee(this,"textColor");ee(this,"edgeRenderingMode");ee(this,"toolTip");ee(this,"_plotElementId");this.fontSize=NaN,this.fontWeight=FontWeights.Normal,this.textColor=OxyColors.Automatic,this.edgeRenderingMode=EdgeRenderingMode.Automatic}get plotModel(){return this.parent}get actualFont(){return this.font||this.plotModel.defaultFont}get actualFontSize(){return isNaN(this.fontSize)?this.plotModel.defaultFontSize:this.fontSize}get actualFontWeight(){return this.fontWeight}get actualTextColor(){return this.textColor.getActualColor(this.plotModel.textColor)}getClippingRect(){return OxyRect.Everything}getElementHashCode(){return isUndef(this._plotElementId)&&(plotElementId++,this._plotElementId=plotElementId),this._plotElementId}}let plotElementId=0;var AnnotationLayer=(a=>(a[a.BelowAxes=0]="BelowAxes",a[a.BelowSeries=1]="BelowSeries",a[a.AboveSeries=2]="AboveSeries",a))(AnnotationLayer||{}),AnnotationTextOrientation=(a=>(a[a.Horizontal=0]="Horizontal",a[a.Vertical=1]="Vertical",a[a.AlongLine=2]="AlongLine",a))(AnnotationTextOrientation||{});class Annotation extends PlotElement{constructor(s){super();ee(this,"layer");ee(this,"_xAxis");ee(this,"xAxisKey");ee(this,"_yAxis");ee(this,"clipByXAxis");ee(this,"clipByYAxis");ee(this,"yAxisKey");this.layer=AnnotationLayer.AboveSeries,this.clipByXAxis=!0,this.clipByYAxis=!0,s&&(s.xAxis&&(this._xAxis=s.xAxis),s.yAxis&&(this._yAxis=s.yAxis))}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}getClippingRect(){const s=this.plotModel.plotArea,m=PlotElementUtilities.getClippingRect(this);let f=0,x=Number.POSITIVE_INFINITY,g=0,w=Number.POSITIVE_INFINITY;this.clipByXAxis&&(f=m.topLeft.x,x=m.bottomRight.x),this.clipByYAxis&&(g=m.topLeft.y,w=m.bottomRight.y);const C=new ScreenPoint(f,g),A=new ScreenPoint(x,w),_=OxyRect.fromScreenPoints(C,A);return s.clip(_)}transform(s){return PlotElementUtilities.transform(this,s)}inverseTransform(s){return PlotElementUtilities.inverseTransform(this,s)}}class TransposableAnnotation extends Annotation{constructor(d){super(d),setTransposablePlotElement(this)}getClippingRect(){const d=this.plotModel.plotArea,s=PlotElementUtilities.getClippingRect(this);let m=0,f=Number.POSITIVE_INFINITY,x=0,g=Number.POSITIVE_INFINITY;this.clipByXAxis&&(m=PlotElementExtensions.orientate(this,s.topLeft).x,f=PlotElementExtensions.orientate(this,s.bottomRight).x),this.clipByYAxis&&(x=PlotElementExtensions.orientate(this,s.topLeft).y,g=PlotElementExtensions.orientate(this,s.bottomRight).y);const w=PlotElementExtensions.orientate(this,new ScreenPoint(m,x)),C=PlotElementExtensions.orientate(this,new ScreenPoint(f,g)),A=OxyRect.fromScreenPoints(w,C);return d.clip(A)}transform(d){return PlotElementUtilities.transformOrientated(this,d)}inverseTransform(d){return PlotElementUtilities.inverseTransformOrientated(this,d)}}class TextualAnnotation extends TransposableAnnotation{constructor(s){super(s);ee(this,"text");ee(this,"textPosition");ee(this,"textHorizontalAlignment");ee(this,"textVerticalAlignment");ee(this,"textRotation");this.textHorizontalAlignment=HorizontalAlignment.Center,this.textVerticalAlignment=VerticalAlignment.Middle,this.textPosition=DataPoint.Undefined,this.textRotation=0}getActualTextPosition(s){return this.textPosition.isDefined()?this.transform(this.textPosition):s()}getActualTextAlignment(){return[this.textHorizontalAlignment,this.textVerticalAlignment]}}class TextAnnotation extends TextualAnnotation{constructor(s){super(s);ee(this,"actualBounds");ee(this,"background");ee(this,"offset",ScreenVector.Zero);ee(this,"padding");ee(this,"stroke");ee(this,"strokeThickness");this.stroke=OxyColors.Black,this.background=OxyColors.Undefined,this.strokeThickness=1,this.textVerticalAlignment=VerticalAlignment.Bottom,this.padding=new OxyThickness(4),s&&Object.assign(this,removeUndef(s))}async render(s){if(!this.text)throw new Error("text must be non-undefined before rendering.");const m=this.transform(this.textPosition).plus(PlotElementExtensions.orientateVector(this,this.offset)),f=s.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),[x,g]=this.getActualTextAlignment();if(this.actualBounds=TextAnnotation.getTextBounds(m,f,this.padding,this.textRotation,x,g),this.textRotation%90===0){const w=OxyRect.fromScreenPoints(this.actualBounds[0],this.actualBounds[2]);await s.drawRectangle(w,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode)}else await s.drawPolygon(this.actualBounds,this.background,this.stroke,this.strokeThickness,this.edgeRenderingMode);await MathRenderingExtensions.drawMathText(s,m,this.text,this.getSelectableFillColor(this.actualTextColor),this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,x,g)}hitTestOverride(s){if(this.actualBounds)return ScreenPointHelper.isPointInPolygon(s.point,this.actualBounds)?{element:this,nearestHitPoint:s.point}:void 0}static getTextBounds(s,m,f,x,g,w){let C,A,_,M;switch(g){case HorizontalAlignment.Center:C=-m.width*.5,A=-C;break;case HorizontalAlignment.Right:C=-m.width,A=0;break;default:C=0,A=m.width;break}switch(w){case VerticalAlignment.Middle:_=-m.height*.5,M=-_;break;case VerticalAlignment.Bottom:_=-m.height,M=0;break;default:_=0,M=m.height;break}const P=Math.cos(x/180*Math.PI),D=Math.sin(x/180*Math.PI),E=new ScreenVector(P,D),I=new ScreenVector(-D,P),B=new Array(4);return B[0]=s.plus(E.times(C-f.left)).plus(I.times(_-f.top)),B[1]=s.plus(E.times(A+f.right)).plus(I.times(_-f.top)),B[2]=s.plus(E.times(A+f.right)).plus(I.times(M+f.bottom)),B[3]=s.plus(E.times(C-f.left)).plus(I.times(M+f.bottom)),B}}class PathAnnotation extends TextualAnnotation{constructor(s){super(s);ee(this,"screenPoints");ee(this,"color");ee(this,"lineJoin");ee(this,"lineStyle");ee(this,"maximumX");ee(this,"maximumY");ee(this,"minimumX");ee(this,"minimumY");ee(this,"strokeThickness");ee(this,"textMargin");ee(this,"textPadding",0);ee(this,"borderPadding",OxyThickness.Zero);ee(this,"borderBackground",OxyColors.Undefined);ee(this,"borderStroke",OxyColors.Undefined);ee(this,"borderStrokeThickness",0);ee(this,"textOrientation");ee(this,"textLinePosition");ee(this,"minimumSegmentLength");ee(this,"actualMinimumX",NaN);ee(this,"actualMinimumY",NaN);ee(this,"actualMaximumX",NaN);ee(this,"actualMaximumY",NaN);this.minimumX=Number_MIN_VALUE,this.maximumX=Number_MAX_VALUE,this.minimumY=Number_MIN_VALUE,this.maximumY=Number_MAX_VALUE,this.color=OxyColors.Blue,this.strokeThickness=1,this.lineStyle=LineStyle.Dash,this.lineJoin=LineJoin.Miter,this.textLinePosition=1,this.textOrientation=AnnotationTextOrientation.AlongLine,this.textMargin=12,this.textHorizontalAlignment=HorizontalAlignment.Right,this.textVerticalAlignment=VerticalAlignment.Top,this.minimumSegmentLength=2}async render(s){if(this.calculateActualMinimumsMaximums(),this.actualMinimumX>this.actualMaximumX||this.actualMinimumY>this.actualMaximumY)return;this.screenPoints=this.getScreenPoints();const m=[],f=LineStyleHelper.getDashArray(this.lineStyle);this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&await RenderingExtensions.drawReducedLine(s,this.screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,f,this.lineJoin,void 0,E=>m.push(...E));let x=this.textMargin;const[g,w]=this.getActualTextAlignment(),C=PlotElementExtensions.isTransposed(this)?this.yAxis.isReversed?1-this.textLinePosition:this.textLinePosition:this.xAxis.isReversed?1-this.textLinePosition:this.textLinePosition;g===HorizontalAlignment.Center?x=0:x*=C<.5?1:-1;const A=PathAnnotation.getPointAtRelativeDistance(m,C,x);if(!A)return;let{position:_,angle:M}=A;switch(M<-90&&(M+=180),M>=90&&(M-=180),this.textOrientation){case AnnotationTextOrientation.Horizontal:M=0;break;case AnnotationTextOrientation.Vertical:M=-90;break}const P=M/180*Math.PI;let D=1;if(g===HorizontalAlignment.Right&&(D=-1),g===HorizontalAlignment.Center&&(D=0),_=_.plus(new ScreenVector(D*this.textPadding*Math.cos(P),D*this.textPadding*Math.sin(P))),this.text){const E=this.getActualTextPosition(()=>_);this.textPosition.isDefined()&&(M=this.textRotation);const I=s.measureText(this.text,this.actualFont,this.actualFontSize,this.actualFontWeight),B=TextAnnotation.getTextBounds(_,I,this.borderPadding,M,g,w);if(M%90==0){const F=OxyRect.fromScreenPoints(B[0],B[2]);await s.drawRectangle(F,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode)}else await s.drawPolygon(B,this.borderBackground,this.borderStroke,this.borderStrokeThickness,this.edgeRenderingMode);await s.drawText(E,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,M,g,w)}}hitTestOverride(s){if(!this.screenPoints)return;const m=ScreenPointHelper.findNearestPointOnPolyline(s.point,this.screenPoints);if(s.point.minus(m).length<s.tolerance)return{element:this,nearestHitPoint:m}}calculateActualMinimumsMaximums(){if(!this.xAxis)throw new Error("xAxis is undefined.");if(!this.yAxis)throw new Error("yAxis is undefined.");this.actualMinimumX=Math.max(this.minimumX,this.xAxis.clipMinimum),this.actualMaximumX=Math.min(this.maximumX,this.xAxis.clipMaximum),this.actualMinimumY=Math.max(this.minimumY,this.yAxis.clipMinimum),this.actualMaximumY=Math.min(this.maximumY,this.yAxis.clipMaximum);const s=this.inverseTransform(this.plotModel.plotArea.topLeft),m=this.inverseTransform(this.plotModel.plotArea.bottomRight);this.clipByXAxis||(this.actualMaximumX=Math.max(s.x,m.x),this.actualMinimumX=Math.min(s.x,m.x)),this.clipByYAxis||(this.actualMaximumY=Math.max(s.y,m.y),this.actualMinimumY=Math.min(s.y,m.y))}static getPointAtRelativeDistance(s,m,f){if(!s||s.length===0)return;let x=0;for(let C=1;C<s.length;C++)x+=s[C].minus(s[C-1]).length;const g=x*m+f,w=1e-8;x=0;for(let C=1;C<s.length;C++){const A=s[C].minus(s[C-1]).length;if(g>=x-w&&g<=x+A+w){const _=(g-x)/A,M=s[C].x*_+s[C-1].x*(1-_),P=s[C].y*_+s[C-1].y*(1-_),D=new ScreenPoint(M,P),E=s[C].x-s[C-1].x,I=s[C].y-s[C-1].y,B=Math.atan2(I,E)/Math.PI*180;return{position:D,angle:B}}x+=A}}}var LineAnnotationType=(a=>(a[a.Horizontal=0]="Horizontal",a[a.Vertical=1]="Vertical",a[a.LinearEquation=2]="LinearEquation",a))(LineAnnotationType||{});class LineAnnotation extends PathAnnotation{constructor(s){super(s);ee(this,"intercept",0);ee(this,"slope",0);ee(this,"type");ee(this,"x",0);ee(this,"y",0);this.type=2,s&&Object.assign(this,removeUndef(s))}getScreenPoints(){let s,m;switch(this.type){case 0:s=g=>this.y;break;case 1:m=g=>this.x;break;default:s=g=>this.slope*g+this.intercept;break}const f=[];if(!(this.xAxis instanceof LinearAxis&&this.yAxis instanceof LinearAxis)){if(s){const w=(this.actualMaximumX-this.actualMinimumX)/100;for(let C=0;C<=100;C++){const A=this.actualMinimumX+C*w;f.push(new DataPoint(A,s(A)))}}else if(m){const w=(this.actualMaximumY-this.actualMinimumY)/100;for(let C=0;C<=100;C++){const A=this.actualMinimumY+C*w;f.push(new DataPoint(m(A),A))}}}else if(s)f.push(new DataPoint(this.actualMinimumX,s(this.actualMinimumX))),f.push(new DataPoint(this.actualMaximumX,s(this.actualMaximumX)));else if(m)f.push(new DataPoint(m(this.actualMinimumY),this.actualMinimumY)),f.push(new DataPoint(m(this.actualMaximumY),this.actualMaximumY));else throw new Error("fx or fy must be non-undefined.");return f.map(g=>this.transform(g))}}class ShapeAnnotation extends TextualAnnotation{constructor(s){super(s);ee(this,"fill");ee(this,"stroke");ee(this,"strokeThickness",0);this.stroke=OxyColors.Black,this.fill=OxyColors.LightBlue}}class PointAnnotation extends ShapeAnnotation{constructor(s){super(s);ee(this,"screenPosition",ScreenPoint.LeftTop);ee(this,"x",0);ee(this,"y",0);ee(this,"size");ee(this,"textMargin");ee(this,"shape");ee(this,"customOutline");this.size=4,this.textMargin=2,this.shape=MarkerType.Circle,this.textVerticalAlignment=VerticalAlignment.Top,s&&Object.assign(this,removeUndef(s))}async render(s){if(this.screenPosition=PlotElementExtensions.transform(this,this.x,this.y),await RenderingExtensions.drawMarker(s,this.screenPosition,this.shape,this.customOutline,this.size,this.fill,this.stroke,this.strokeThickness,this.edgeRenderingMode),this.text){const[m,f]=this.getActualTextAlignment(),x=-Number(m)*(this.size+this.textMargin),g=-Number(f)*(this.size+this.textMargin),w=this.screenPosition.plus(new ScreenVector(x,g));await s.drawText(w,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,m,f)}}hitTestOverride(s){if(this.screenPosition.distanceTo(s.point)<this.size)return{element:this,nearestHitPoint:this.screenPosition}}}class FunctionAnnotation extends PathAnnotation{constructor(s){super(s);ee(this,"type");ee(this,"equation");ee(this,"resolution");this.resolution=400,this.type=0,s&&Object.assign(this,removeUndef(s))}getScreenPoints(){let s,m;switch(this.type){case 0:s=this.equation;break;case 1:m=this.equation;break}const f=[];if(s){let x=this.actualMinimumX;const g=(this.actualMaximumX-this.actualMinimumX)/this.resolution;for(;f.push(new DataPoint(x,s(x))),!(x>this.actualMaximumX);)x+=g}else if(m){let x=this.actualMinimumY;const g=(this.actualMaximumY-this.actualMinimumY)/this.resolution;for(;f.push(new DataPoint(m(x),x)),!(x>this.actualMaximumY);)x+=g}return f.map(x=>this.transform(x))}}var FunctionAnnotationType=(a=>(a[a.EquationX=0]="EquationX",a[a.EquationY=1]="EquationY",a))(FunctionAnnotationType||{});class ArrowAnnotation extends TextualAnnotation{constructor(s){super();ee(this,"screenEndPoint",ScreenPoint.LeftTop);ee(this,"screenStartPoint",ScreenPoint.LeftTop);ee(this,"arrowDirection",ScreenVector.Zero);ee(this,"color");ee(this,"endPoint",DataPoint.Zero);ee(this,"headLength");ee(this,"headWidth");ee(this,"lineJoin");ee(this,"lineStyle");ee(this,"startPoint",DataPoint.Zero);ee(this,"strokeThickness");ee(this,"veeness",0);this.headLength=10,this.headWidth=3,this.color=OxyColors.Blue,this.strokeThickness=2,this.lineStyle=LineStyle.Solid,this.lineJoin=LineJoin.Miter,s&&Object.assign(this,removeUndef(s))}async render(s){this.screenEndPoint=this.transform(this.endPoint),this.arrowDirection.lengthSquared>0?this.screenStartPoint=this.screenEndPoint.minusVector(PlotElementExtensions.orientateVector(this,this.arrowDirection)):this.screenStartPoint=this.transform(this.startPoint);const m=this.screenEndPoint.minus(this.screenStartPoint);m.normalize();const f=new ScreenVector(m.y,-m.x),x=this.screenEndPoint.minusVector(m.times(this.headLength*this.strokeThickness)),g=x.plus(f.times(this.headWidth*this.strokeThickness)),w=x.minusVector(f.times(this.headWidth*this.strokeThickness)),C=x.plus(m.times(this.veeness*this.strokeThickness)),A=0,_=LineStyleHelper.getDashArray(this.lineStyle);if(this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&(await RenderingExtensions.drawReducedLine(s,[this.screenStartPoint,C],A*A,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,_,this.lineJoin),await RenderingExtensions.drawReducedPolygon(s,[w,this.screenEndPoint,g,C],A*A,this.getSelectableColor(this.color),OxyColors.Undefined,0,this.edgeRenderingMode)),!this.text)return;let M,P;if(this.textPosition.isDefined())[M,P]=this.getActualTextAlignment();else{const E=Math.atan2(m.y,m.x),I=Math.PI/8;E<3*I&&E>-3*I?M=HorizontalAlignment.Right:E>5*I||E<-5*I?M=HorizontalAlignment.Left:M=HorizontalAlignment.Center,E>I&&E<7*I?P=VerticalAlignment.Bottom:E<-I&&E>-7*I?P=VerticalAlignment.Top:P=VerticalAlignment.Middle}const D=this.getActualTextPosition(()=>this.screenStartPoint);await s.drawText(D,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,M,P)}hitTestOverride(s){if(s.point.minus(this.screenStartPoint).length<s.tolerance)return{element:this,nearestHitPoint:this.screenStartPoint,index:0};if(s.point.minus(this.screenEndPoint).length<s.tolerance)return{element:this,nearestHitPoint:this.screenEndPoint,index:2};const m=ScreenPointHelper.findPointOnLine(s.point,this.screenStartPoint,this.screenEndPoint);if(m.minus(s.point).length<s.tolerance)return{element:this,nearestHitPoint:m}}}class DelegateAnnotation extends Annotation{constructor(s){super();ee(this,"rendering");this.rendering=s}async render(s){await this.rendering(s)}getClippingRect(){return OxyRect.Everything}}class EllipseAnnotation extends ShapeAnnotation{constructor(s){super(s);ee(this,"screenRectangle",OxyRect.Empty);ee(this,"x",0);ee(this,"y",0);ee(this,"width",0);ee(this,"height",0);this.width=NaN,this.height=NaN,s&&Object.assign(this,removeUndef(s))}async render(s){const m=PlotElementExtensions.transform(this,this.x-this.width/2,this.y-this.height/2),f=PlotElementExtensions.transform(this,this.x+this.width/2,this.y+this.height/2);if(this.screenRectangle=OxyRect.fromScreenPoints(m,f),await s.drawEllipse(this.screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode),this.text){const x=this.getActualTextPosition(()=>this.screenRectangle.center),[g,w]=this.getActualTextAlignment();await s.drawText(x,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,g,w)}}hitTestOverride(s){if(this.screenRectangle.containsPoint(s.point))return{element:this,nearestHitPoint:s.point}}}class PolygonAnnotation extends ShapeAnnotation{constructor(s){super(s);ee(this,"screenPoints",[]);ee(this,"lineJoin");ee(this,"lineStyle");ee(this,"minimumSegmentLength");ee(this,"points",[]);this.lineStyle=LineStyle.Solid,this.lineJoin=LineJoin.Miter,this.minimumSegmentLength=2,s&&Object.assign(this,s)}async render(s){if(this.points&&(this.screenPoints=this.points.map(m=>this.transform(m)),this.screenPoints.length!==0&&(await RenderingExtensions.drawReducedPolygon(s,this.screenPoints,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,this.edgeRenderingMode,this.lineStyle,this.lineJoin),this.text))){const[m,f]=this.getActualTextAlignment(),x=this.getActualTextPosition(()=>ScreenPointHelper.getCentroid(this.screenPoints));await s.drawText(x,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,m,f)}}hitTestOverride(s){if(!(!this.screenPoints||this.screenPoints.length===0))return ScreenPointHelper.isPointInPolygon(s.point,this.screenPoints)?{element:this,nearestHitPoint:s.point}:void 0}}class PolylineAnnotation extends PathAnnotation{constructor(s){super(s);ee(this,"_points",[]);ee(this,"interpolationAlgorithm");s&&Object.assign(this,removeUndef(s))}get points(){return this._points}getScreenPoints(){const s=this.points.map(m=>this.transform(m));if(this.interpolationAlgorithm){const m=ScreenPointHelper.resamplePoints(s,this.minimumSegmentLength);return this.interpolationAlgorithm.createSplineSp(m,!1,.25)}return this.points.map(m=>this.transform(m))}}class RectangleAnnotation extends ShapeAnnotation{constructor(s){super(s);ee(this,"screenRectangle",OxyRect.Empty);ee(this,"minimumX");ee(this,"maximumX");ee(this,"minimumY");ee(this,"maximumY");this.minimumX=-1/0,this.maximumX=1/0,this.minimumY=-1/0,this.maximumY=1/0,this.textRotation=0,this.textHorizontalAlignment=HorizontalAlignment.Center,this.textVerticalAlignment=VerticalAlignment.Middle,s&&Object.assign(this,removeUndef(s))}async render(s){const m=this.getClippingRect(),f=this.inverseTransform(m.topLeft),x=this.inverseTransform(m.bottomRight),g=this.minimumX===-1/0||isNaN(this.minimumX)?Math.min(f.x,x.x):this.minimumX,w=this.maximumX===1/0||isNaN(this.maximumX)?Math.max(f.x,x.x):this.maximumX,C=this.minimumY===-1/0||isNaN(this.minimumY)?Math.min(f.y,x.y):this.minimumY,A=this.maximumY===1/0||isNaN(this.maximumY)?Math.max(f.y,x.y):this.maximumY,_=PlotElementExtensions.transform;this.screenRectangle=OxyRect.fromScreenPoints(_(this,g,C),_(this,w,A));const M=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);if(await s.drawRectangle(this.screenRectangle,this.getSelectableFillColor(this.fill),this.getSelectableColor(this.stroke),this.strokeThickness,M),this.text){const[P,D]=this.getActualTextAlignment(),E=this.getActualTextPosition(()=>this.screenRectangle.center);await s.drawText(E,this.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.textRotation,P,D)}}hitTestOverride(s){if(this.screenRectangle.containsPoint(s.point))return{element:this,nearestHitPoint:s.point}}}class ImageAnnotation extends TransposableAnnotation{constructor(s){super(s);ee(this,"actualBounds",OxyRect.Empty);ee(this,"imageSource");ee(this,"horizontalAlignment");ee(this,"x");ee(this,"y");ee(this,"offsetX");ee(this,"offsetY");ee(this,"width");ee(this,"height");ee(this,"opacity");ee(this,"interpolate");ee(this,"verticalAlignment");this.x=new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),this.y=new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),this.offsetX=new PlotLength(0,PlotLengthUnit.ScreenUnits),this.offsetY=new PlotLength(0,PlotLengthUnit.ScreenUnits),this.width=new PlotLength(NaN,PlotLengthUnit.ScreenUnits),this.height=new PlotLength(NaN,PlotLengthUnit.ScreenUnits),this.opacity=1,this.interpolate=!0,this.horizontalAlignment=HorizontalAlignment.Center,this.verticalAlignment=VerticalAlignment.Middle,s&&Object.assign(this,removeUndef(s))}async render(s){if(!this.imageSource)throw new Error(`${this.imageSource} must be non-null before rendering.`);const m=this.getPoint(this.x,this.y,this.plotModel),f=this.getVector(this.offsetX,this.offsetY,this.plotModel),x=m.plus(f),g=this.getVector(this.width,this.height,this.plotModel);let w=g.x,C=g.y;isNaN(w)&&isNaN(C)&&(w=this.imageSource.width,C=this.imageSource.height),isNaN(w)&&(w=C/this.imageSource.height*this.imageSource.width),isNaN(C)&&(C=w/this.imageSource.width*this.imageSource.height),w=Math.abs(w),C=Math.abs(C);let A=x.x,_=x.y;const M=this.horizontalAlignment,P=this.verticalAlignment;M===HorizontalAlignment.Center?A-=w*.5:M===HorizontalAlignment.Right&&(A-=w),P===VerticalAlignment.Middle?_-=C*.5:P===VerticalAlignment.Bottom&&(_-=C),this.actualBounds=new OxyRect(A,_,w,C),await RenderingExtensions.drawImage(s,this.imageSource,A,_,w,C,this.opacity,this.interpolate)}hitTestOverride(s){if(this.actualBounds.containsPoint(s.point))return{element:this,nearestHitPoint:s.point}}getPoint(s,m,f){let x=NaN,g=NaN;if(s.unit===PlotLengthUnit.Data||m.unit===PlotLengthUnit.Data){const w=s.unit===PlotLengthUnit.Data?s.value:NaN,C=m.unit===PlotLengthUnit.Data?m.value:NaN,A=PlotElementExtensions.transform(this,w,C);x=A.x,g=A.y}switch(s.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:x=s.value;break;case PlotLengthUnit.RelativeToViewport:x=f.width*s.value;break;case PlotLengthUnit.RelativeToPlotArea:x=f.plotArea.left+f.plotArea.width*s.value;break;default:throw new Error("Invalid unit")}switch(m.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:g=m.value;break;case PlotLengthUnit.RelativeToViewport:g=f.height*m.value;break;case PlotLengthUnit.RelativeToPlotArea:g=f.plotArea.top+f.plotArea.height*m.value;break;default:throw new Error("Invalid unit")}return new ScreenPoint(x,g)}getVector(s,m,f){let x=NaN,g=NaN;if(s.unit===PlotLengthUnit.Data||m.unit===PlotLengthUnit.Data){const w=s.unit===PlotLengthUnit.Data?s.value:NaN,C=m.unit===PlotLengthUnit.Data?m.value:NaN,A=PlotElementExtensions.transform(this,w,C).minus(this.transform(DataPoint.Zero));x=A.x,g=A.y}switch(s.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:x=s.value;break;case PlotLengthUnit.RelativeToViewport:x=f.width*s.value;break;case PlotLengthUnit.RelativeToPlotArea:x=f.plotArea.width*s.value;break;default:throw new Error("Invalid unit")}switch(m.unit){case PlotLengthUnit.Data:break;case PlotLengthUnit.ScreenUnits:g=m.value;break;case PlotLengthUnit.RelativeToViewport:g=f.height*m.value;break;case PlotLengthUnit.RelativeToPlotArea:g=f.plotArea.height*m.value;break;default:throw new Error("Invalid unit")}return new ScreenVector(x,g)}getClippingRect(){return this.x.unit===PlotLengthUnit.Data||this.y.unit===PlotLengthUnit.Data?super.getClippingRect():OxyRect.Everything}}const vt=class vt extends PlotElement{constructor(s){super(s);ee(this,"_offset",0);ee(this,"_scale",1);ee(this,"axisChanged");ee(this,"transformChanged");ee(this,"absoluteMaximum");ee(this,"absoluteMinimum");ee(this,"_actualMajorStep",0);ee(this,"minimumMajorIntervalCount");ee(this,"maximumMajorIntervalCount");ee(this,"_actualMaximum",0);ee(this,"_actualMinimum",0);ee(this,"_clipMaximum",0);ee(this,"_clipMinimum",0);ee(this,"_actualMinorStep",0);ee(this,"_actualStringFormatter");ee(this,"angle");ee(this,"axisTickToLabelDistance");ee(this,"axisTitleDistance");ee(this,"axisDistance");ee(this,"axislineColor");ee(this,"axislineStyle");ee(this,"axislineThickness");ee(this,"clipTitle");ee(this,"cropGridlines",!1);ee(this,"_dataMaximum",0);ee(this,"_dataMinimum",0);ee(this,"endPosition");ee(this,"extraGridlineColor");ee(this,"extraGridlineStyle");ee(this,"extraGridlineThickness");ee(this,"extraGridlines");ee(this,"filterFunction");ee(this,"filterMaxValue");ee(this,"filterMinValue");ee(this,"intervalLength");ee(this,"isAxisVisible");ee(this,"isPanEnabled");ee(this,"isZoomEnabled");ee(this,"key");ee(this,"labelFormatter");ee(this,"layer");ee(this,"majorGridlineColor");ee(this,"majorGridlineStyle");ee(this,"majorGridlineThickness");ee(this,"majorStep");ee(this,"majorTickSize");ee(this,"maximum");ee(this,"maximumPadding");ee(this,"maximumDataMargin");ee(this,"maximumMargin");ee(this,"maximumRange");ee(this,"minimum");ee(this,"minimumMajorStep");ee(this,"minimumMinorStep");ee(this,"minimumPadding");ee(this,"minimumDataMargin");ee(this,"minimumMargin");ee(this,"minimumRange");ee(this,"minorGridlineColor");ee(this,"minorGridlineStyle");ee(this,"minorGridlineThickness");ee(this,"minorStep");ee(this,"minorTicklineColor");ee(this,"minorTickSize");ee(this,"position",AxisPosition.Left);ee(this,"positionAtZeroCrossing",!1);ee(this,"positionTier",0);ee(this,"_screenMax",ScreenPoint.Undefined);ee(this,"_screenMin",ScreenPoint.Undefined);ee(this,"startPosition");ee(this,"stringFormatter");ee(this,"tickStyle");ee(this,"ticklineColor");ee(this,"title");ee(this,"titleClippingLength");ee(this,"titleColor");ee(this,"titleFont");ee(this,"titleFontSize");ee(this,"titleFontWeight");ee(this,"titleFormatter");ee(this,"titlePosition");ee(this,"unit");ee(this,"useSuperExponentialFormat",!1);ee(this,"_desiredMargin",OxyThickness.Zero);ee(this,"positionTierMaxShift",0);ee(this,"positionTierMinShift",0);ee(this,"positionTierSize",0);ee(this,"viewMaximum");ee(this,"viewMinimum");this.position=AxisPosition.Left,this.positionTier=0,this.isAxisVisible=!0,this.layer=AxisLayer.BelowSeries,this.viewMaximum=Number.NaN,this.viewMinimum=Number.NaN,this.absoluteMaximum=Number_MAX_VALUE,this.absoluteMinimum=Number_MIN_VALUE,this.minimum=Number.NaN,this.maximum=Number.NaN,this.minorStep=Number.NaN,this.majorStep=Number.NaN,this.minimumMinorStep=0,this.minimumMajorStep=0,this.minimumMajorIntervalCount=2,this.maximumMajorIntervalCount=Number_MAX_VALUE,this.minimumPadding=.01,this.maximumPadding=.01,this.minimumRange=0,this.maximumRange=Number.POSITIVE_INFINITY,this.minimumDataMargin=0,this.maximumDataMargin=0,this.minimumMargin=0,this.maximumMargin=0,this.tickStyle=TickStyle.Outside,this.ticklineColor=OxyColors.Black,this.minorTicklineColor=OxyColors.Automatic,this.axislineStyle=LineStyle.None,this.axislineColor=OxyColors.Black,this.axislineThickness=1,this.majorGridlineStyle=LineStyle.None,this.majorGridlineColor=OxyColor.fromArgb(64,0,0,0),this.majorGridlineThickness=1,this.minorGridlineStyle=LineStyle.None,this.minorGridlineColor=OxyColor.fromArgb(32,0,0,0),this.minorGridlineThickness=1,this.extraGridlineStyle=LineStyle.Solid,this.extraGridlineColor=OxyColors.Black,this.extraGridlineThickness=1,this.minorTickSize=4,this.majorTickSize=7,this.startPosition=0,this.endPosition=1,this.titlePosition=.5,this.titleFormatter=(m,f)=>`${m||""} [${f||""}]`,this.titleClippingLength=.9,this.titleColor=OxyColors.Automatic,this.titleFontSize=Number.NaN,this.titleFontWeight=FontWeights.Normal,this.clipTitle=!0,this.angle=0,this.isZoomEnabled=!0,this.isPanEnabled=!0,this.filterMinValue=Number_MIN_VALUE,this.filterMaxValue=Number_MAX_VALUE,this.filterFunction=void 0,this.intervalLength=60,this.axisDistance=0,this.axisTitleDistance=4,this.axisTickToLabelDistance=4,this.dataMaximum=Number.NaN,this.dataMinimum=Number.NaN}get actualMajorStep(){return this._actualMajorStep}set actualMajorStep(s){this._actualMajorStep=s}get actualMaximum(){return this._actualMaximum}set actualMaximum(s){this._actualMaximum=s}get actualMinimum(){return this._actualMinimum}set actualMinimum(s){this._actualMinimum=s}get clipMaximum(){return this._clipMaximum}set clipMaximum(s){this._clipMaximum=s}get clipMinimum(){return this._clipMinimum}set clipMinimum(s){this._clipMinimum=s}get actualMinorStep(){return this._actualMinorStep}set actualMinorStep(s){this._actualMinorStep=s}get actualStringFormatter(){return this._actualStringFormatter}set actualStringFormatter(s){this._actualStringFormatter=s}get actualTitle(){return this.unit?`${this.title} [${this.unit}]`:this.title}get dataMaximum(){return this._dataMaximum}set dataMaximum(s){this._dataMaximum=s}get dataMinimum(){return this._dataMinimum}set dataMinimum(s){this._dataMinimum=s}get isReversed(){return this.startPosition>this.endPosition}get offset(){return this._offset}get scale(){return this._scale}get screenMax(){return this._screenMax}set screenMax(s){this._screenMax=s}get screenMin(){return this._screenMin}set screenMin(s){this._screenMin=s}get desiredMargin(){return this._desiredMargin}set desiredMargin(s){this._desiredMargin=s}get actualTitleColor(){return this.titleColor.getActualColor(this.plotModel.textColor)}get actualTitleFont(){return this.titleFont||this.plotModel.defaultFont}get actualTitleFontSize(){return isNaN(this.titleFontSize)?this.actualFontSize:this.titleFontSize}get actualTitleFontWeight(){return isNaN(this.titleFontWeight)?this.actualFontWeight:this.titleFontWeight}itemToDouble(s){return Number(s)}static inverseTransform(s,m,f){return m.inverseTransformPoint(s.x,s.y,f)}formatValue(s){return this.labelFormatter?this.labelFormatter(s):this.formatValueOverride(s)}getTickValues(s,m,f){s.length=0,m.length=0,f.length=0;const x=this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep);m.push(...this.createTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep)),s.push(...m),f.push(...AxisUtilities.filterRedundantMinorTicks(m,x))}getValue(s){return s}inverseTransformPoint(s,m,f){return new DataPoint(this.inverseTransform(s),f?f.inverseTransform(m):0)}inverseTransform(s){return s/this._scale+this._offset}isHorizontal(){return this.position===AxisPosition.Top||this.position===AxisPosition.Bottom}isValidValue(s){return Number.isFinite(s)&&s<this.filterMaxValue&&s>this.filterMinValue&&(!this.filterFunction||this.filterFunction(s))}isVertical(){return this.position===AxisPosition.Left||this.position===AxisPosition.Right}isLogarithmic(){return!1}measure(s){if(this.position===AxisPosition.None){this.desiredMargin=new OxyThickness(0);return}const m=[];this.getTickValues(m,[],[]);let f=new OxySize;for(const D of m){const E=this.formatValue(D),I=RenderingExtensions.measureText(s,E,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle);f=f.include(I)}const x=s.measureText(this.actualTitle||"",this.actualTitleFont,this.actualTitleFontSize,this.actualTitleFontWeight);let g=0,w=0,C=0,A=0;const _=Math.max(0,this.isReversed?this.maximumMargin:this.minimumMargin),M=Math.max(0,this.isReversed?this.minimumMargin:this.maximumMargin);let P=0;switch(this.tickStyle){case TickStyle.Outside:P=this.majorTickSize;break;case TickStyle.Crossing:P=this.majorTickSize*.75;break}switch(P+=this.axisDistance+this.axisTickToLabelDistance,x.height>0&&(P+=this.axisTitleDistance+x.height),this.position){case AxisPosition.Left:g=P+f.width;break;case AxisPosition.Right:C=P+f.width;break;case AxisPosition.Top:w=P+f.height;break;case AxisPosition.Bottom:A=P+f.height;break;case AxisPosition.All:g=C=P+f.width,w=A=P+f.height;break;default:throw new Error("Invalid operation")}if(this.isPanEnabled||this.isZoomEnabled){const D=Math.min(this.startPosition,this.endPosition)<.01,E=Math.max(this.startPosition,this.endPosition)>.99;switch(this.position){case AxisPosition.Left:case AxisPosition.Right:D&&(A=Math.max(0,f.height/2-_)),E&&(w=Math.max(0,f.height/2-M));break;case AxisPosition.Top:case AxisPosition.Bottom:D&&(g=Math.max(0,f.width/2-_)),E&&(C=Math.max(0,f.width/2-M));break}}else if(m.length>0){const D=Math.min(...m),E=Math.max(...m),I=this.formatValue(D),B=this.formatValue(E);let F=RenderingExtensions.measureText(s,I,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),R=RenderingExtensions.measureText(s,B,this.actualFont,this.actualFontSize,this.actualFontWeight,this.angle),L=this.transform(D),z=this.transform(E);L>z&&([L,z]=[z,L],[F,R]=[R,F]);let G=0,W=0,K=0,q=0;switch(this.position){case AxisPosition.Left:case AxisPosition.Right:G=Math.min(this.screenMin.y,this.screenMax.y),W=Math.max(this.screenMin.y,this.screenMax.y),w=Math.max(0,G-L+F.height/2-_),A=Math.max(0,z-W+R.height/2-M);break;case AxisPosition.Top:case AxisPosition.Bottom:K=Math.min(this.screenMin.x,this.screenMax.x),q=Math.max(this.screenMin.x,this.screenMax.x),g=Math.max(0,K-L+F.width/2-_),C=Math.max(0,z-q+R.width/2-M);break}}this.desiredMargin=new OxyThickness(g,w,C,A)}pan(s,m){if(typeof s=="number"){this.pan2(s);return}this.pan1(s,m)}pan1(s,m){if(!this.isPanEnabled)return;const x=this.isHorizontal()?m.x-s.x:m.y-s.y;this.pan(x)}pan2(s){if(!this.isPanEnabled)return;const m=this.actualMinimum,f=this.actualMaximum,x=s/this._scale;let g=this.actualMinimum-x,w=this.actualMaximum-x;g<this.absoluteMinimum&&(g=this.absoluteMinimum,w=Math.min(g+this.actualMaximum-this.actualMinimum,this.absoluteMaximum)),w>this.absoluteMaximum&&(w=this.absoluteMaximum,g=Math.max(w-(this.actualMaximum-this.actualMinimum),this.absoluteMinimum)),this.viewMinimum=g,this.viewMaximum=w,this.updateActualMaxMin();const C=this.actualMinimum-m,A=this.actualMaximum-f;this.onAxisChanged({changeType:AxisChangeTypes.Pan,deltaMaximum:A,deltaMinimum:C})}async render(s,m){if(this.position===AxisPosition.None)return;await new HorizontalAndVerticalAxisRenderer(s,this.plotModel).render(this,m)}reset(){const s=this.actualMinimum,m=this.actualMaximum;this.viewMinimum=NaN,this.viewMaximum=NaN,this.updateActualMaxMin();const f=this.actualMinimum-s,x=this.actualMaximum-m;this.onAxisChanged({changeType:AxisChangeTypes.Reset,deltaMinimum:f,deltaMaximum:x})}toString(){return`${this.constructor.name}(${this.position}, ${this.clipMinimum}, ${this.clipMaximum}, ${this.actualMajorStep})`}transformPoint(s,m,f){if(!f)throw new Error("Y axis should not be null when transforming.");return new ScreenPoint(this.transform(s),f.transform(m))}transform(s){return(s-this._offset)*this._scale}zoomScale(s){const m=this.actualMinimum,f=this.actualMaximum,x=this.transform(this.actualMaximum),g=this.transform(this.actualMinimum),w=Math.sign(this._scale),C=(this.preTransform(this.actualMaximum)+this.preTransform(this.actualMinimum))/2,_=(this._offset-C)*this._scale/(w*s)+C;this.setTransform(w*s,_);let M=this.inverseTransform(x),P=this.inverseTransform(g);if(P<this.absoluteMinimum&&M>this.absoluteMaximum)P=this.absoluteMinimum,M=this.absoluteMaximum;else if(P<this.absoluteMinimum){const I=M-P;P=this.absoluteMinimum,M=this.absoluteMinimum+I,M>this.absoluteMaximum&&(M=this.absoluteMaximum)}else if(M>this.absoluteMaximum){const I=M-P;M=this.absoluteMaximum,P=this.absoluteMaximum-I,P<this.absoluteMinimum&&(P=this.absoluteMinimum)}this.clipMaximum=this.viewMaximum=M,this.clipMinimum=this.viewMinimum=P,this.updateActualMaxMin();const D=this.actualMinimum-m,E=this.actualMaximum-f;this.actualMaximumAndMinimumChangedOverride(),this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:D,deltaMaximum:E})}zoom(s,m){if(!this.isZoomEnabled)return;const f=this.actualMinimum,x=this.actualMaximum,g=Math.max(Math.min(s,m),this.absoluteMinimum),w=Math.min(Math.max(s,m),this.absoluteMaximum);this.viewMinimum=g,this.viewMaximum=w,this.updateActualMaxMin();const C=this.actualMinimum-f,A=this.actualMaximum-x;this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:C,deltaMaximum:A})}zoomAt(s,m){if(!this.isZoomEnabled)return;const f=this.actualMinimum,x=this.actualMaximum,g=(this.actualMinimum-m)*this._scale,w=(this.actualMaximum-m)*this._scale;this._scale*=s;let C=g/this._scale+m,A=w/this._scale+m;if(A-C>this.maximumRange){const P=(C+A)*.5;A=P+this.maximumRange*.5,C=P-this.maximumRange*.5}if(A-C<this.minimumRange){const P=(C+A)*.5;A=P+this.minimumRange*.5,C=P-this.minimumRange*.5}C=Math.max(C,this.absoluteMinimum),A=Math.min(A,this.absoluteMaximum),this.viewMinimum=C,this.viewMaximum=A,this.updateActualMaxMin();const _=this.actualMinimum-f,M=this.actualMaximum-x;this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:_,deltaMaximum:M})}zoomAtCenter(s){const m=(this.transform(this.clipMaximum)+this.transform(this.clipMinimum))*.5,f=this.inverseTransform(m);this.zoomAt(s,f)}include(s){this.isValidValue(s)&&(this.dataMinimum=isNaN(this.dataMinimum)?s:Math.min(this.dataMinimum,s),this.dataMaximum=isNaN(this.dataMaximum)?s:Math.max(this.dataMaximum,s))}resetDataMaxMin(){this.dataMaximum=this.dataMinimum=this.actualMaximum=this.actualMinimum=NaN}updateActualMaxMin(){isNaN(this.viewMaximum)?isNaN(this.maximum)?this.actualMaximum=this.calculateActualMaximum():this.actualMaximum=this.maximum:this.actualMaximum=this.viewMaximum,isNaN(this.viewMinimum)?isNaN(this.minimum)?this.actualMinimum=this.calculateActualMinimum():this.actualMinimum=this.minimum:this.actualMinimum=this.viewMinimum,this.coerceActualMaxMin()}updateIntervals(s){const m=this.intervalLength;let f=this.isHorizontal()?s.width:s.height;f*=Math.abs(this.endPosition-this.startPosition),this.actualMajorStep=isNaN(this.majorStep)?this.calculateActualInterval(f,m,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount):this.majorStep,this.actualMinorStep=isNaN(this.minorStep)?this.calculateMinorInterval(this.actualMajorStep):this.minorStep,isNaN(this.actualMinorStep)&&(this.actualMinorStep=2),isNaN(this.actualMajorStep)&&(this.actualMajorStep=10),this.actualMinorStep=Math.max(this.actualMinorStep,this.minimumMinorStep),this.actualMajorStep=Math.max(this.actualMajorStep,this.minimumMajorStep),this.actualStringFormatter=this.stringFormatter||this.getDefaultStringFormatter()}updateTransform(s){const m=s.left,f=s.right,x=s.bottom,g=s.top;let w=this.isHorizontal()?m:x,C=this.isHorizontal()?f:g;const A=C-w;C=w+this.endPosition*A,w=w+this.startPosition*A;const _=this.isHorizontal()!=this.isReversed?1:-1;this.minimumMargin>0&&(w+=this.minimumMargin*_),this.maximumMargin>0&&(C-=this.maximumMargin*_),this.isHorizontal()?(this.screenMin=new ScreenPoint(w,g),this.screenMax=new ScreenPoint(C,x)):this.isVertical()&&(this.screenMin=new ScreenPoint(m,C),this.screenMax=new ScreenPoint(f,w)),this.minimumDataMargin>0&&(w+=this.minimumDataMargin*_),this.maximumDataMargin>0&&(C-=this.maximumDataMargin*_),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const M=this.preTransform(this.actualMaximum),P=this.preTransform(this.actualMinimum),D=w-C;let E,I;Math.abs(D)>Number.EPSILON?E=w/D*M-C/D*P:E=0;const B=M-P;Math.abs(B)>Number.EPSILON?I=(C-w)/B:I=1,this.setTransform(I,E),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(w-this.minimumDataMargin*_):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(C+this.maximumDataMargin*_):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}actualMaximumAndMinimumChangedOverride(){}getDefaultStringFormatter(){return s=>pettyNumber(s,4)}postInverseTransform(s){return s}preTransform(s){return s}calculateMinorInterval(s){return AxisUtilities.calculateMinorInterval(s)}createTickValues(s,m,f,x=1e3){return AxisUtilities.createTickValues(s,m,f,x)}coerceActualMaxMin(){if(this.absoluteMaximum<=this.absoluteMinimum)throw new Error("AbsoluteMaximum must be larger than AbsoluteMinimum.");if(this.absoluteMaximum-this.absoluteMinimum<this.minimumRange)throw new Error("MinimumRange must not be larger than AbsoluteMaximum-AbsoluteMinimum.");if(this.maximumRange<this.minimumRange)throw new Error("MinimumRange must not be larger than MaximumRange.");if((isNaN(this.actualMinimum)||isInfinity(this.actualMinimum))&&(this.actualMinimum=0),(isNaN(this.actualMaximum)||isInfinity(this.actualMaximum))&&(this.actualMaximum=100),this.absoluteMinimum>Number_MIN_VALUE&&this.absoluteMinimum<Number_MAX_VALUE&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMinimum),this.maximumRange<Number_MAX_VALUE&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMinimum+this.maximumRange))),this.absoluteMaximum>Number_MIN_VALUE&&this.absoluteMaximum<Number_MAX_VALUE&&(this.actualMaximum=Math.min(this.actualMaximum,this.absoluteMaximum),this.maximumRange<Number_MAX_VALUE&&(this.actualMinimum=Math.max(this.actualMinimum,this.absoluteMaximum-this.maximumRange))),this.actualMaximum-this.actualMinimum<this.minimumRange)if(this.actualMinimum+this.minimumRange<this.absoluteMaximum){const s=(this.actualMaximum+this.actualMinimum)*.5,m=this.minimumRange/2;if(this.actualMinimum=s-m,this.actualMaximum=s+m,this.actualMinimum<this.absoluteMinimum){const f=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=f}if(this.actualMaximum>this.absoluteMaximum){const f=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=f}}else this.absoluteMaximum-this.minimumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.minimumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);if(this.actualMaximum-this.actualMinimum>this.maximumRange)if(this.actualMinimum+this.maximumRange<this.absoluteMaximum){const s=(this.actualMaximum+this.actualMinimum)*.5,m=this.maximumRange/2;if(this.actualMinimum=s-m,this.actualMaximum=s+m,this.actualMinimum<this.absoluteMinimum){const f=this.absoluteMinimum-this.actualMinimum;this.actualMinimum=this.absoluteMinimum,this.actualMaximum+=f}if(this.actualMaximum>this.absoluteMaximum){const f=this.absoluteMaximum-this.actualMaximum;this.actualMaximum=this.absoluteMaximum,this.actualMinimum+=f}}else this.absoluteMaximum-this.maximumRange>this.absoluteMinimum?(this.actualMinimum=this.absoluteMaximum-this.maximumRange,this.actualMaximum=this.absoluteMaximum):(this.actualMaximum=this.absoluteMaximum,this.actualMinimum=this.absoluteMinimum);this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum+100)}formatValueOverride(s){let m=this.stringFormatter;if(this.useSuperExponentialFormat&&s!==0){const f=vt.Exponent(s),x=vt.Mantissa(s);if(m){if(typeof m=="function")return`${m(s)}10^{${f}}`}else return Math.abs(x-1)<1e-6?`10^{${f}}`:`${x}10^{${f}}`;throw new Error("invalid stringFormat")}if(m=this.actualStringFormatter||this.stringFormatter,typeof m=="function")return m(s);if(!m)return s.toString();throw new Error("invalid stringFormat")}calculateActualMaximum(){let s=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<=0){const f=this.dataMaximum>0?this.dataMaximum:1;s+=f*.5}if(!isNaN(this.dataMinimum)&&!isNaN(s)){const f=this.preTransform(s),x=this.preTransform(this.dataMinimum),g=this.maximumPadding*(f-x);return this.postInverseTransform(f+g)}return s}calculateActualMinimum(){let s=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<=0){const f=this.dataMaximum>0?this.dataMaximum:1;s-=f*.5}if(!isNaN(this.actualMaximum)){const f=this.preTransform(this.actualMaximum),x=this.preTransform(s),g=this.maximumPadding,w=this.minimumPadding*((f-x)/(1+g));return this.postInverseTransform(x-w)}return s}setTransform(s,m){this._scale=s,this._offset=m,this.onTransformChanged()}calculateActualInterval(s,m,f,x,g){if(isNullOrUndef(g)&&(g=Math.abs(this.clipMinimum-this.clipMaximum)),s<=0)return m;if(Math.abs(m)<=0)throw new Error("Maximum interval size cannot be zero.");if(Math.abs(g)<=0)throw new Error("Range cannot be zero.");const w=P=>Math.ceil(Math.log10(P)),C=P=>P/Math.pow(10,w(P)-1);f=Math.max(f,0),x=Math.min(x,s/m),g=Math.abs(g);let A=Math.pow(10,w(g)),_=A;const M=P=>parseFloat(P.toPrecision(14));for(;;){const P=C(_);if(P===5?_=M(_/2.5):_=M(_/2),g/A>=f&&g/_>x||isNaN(_)||isInfinity(_))break;A=_}return A}onAxisChanged(s){this.updateActualMaxMin();const m=this.axisChanged;m&&m(this,s)}onTransformChanged(){const s=this.transformChanged;s&&s(this)}};ee(vt,"Exponent",s=>Math.floor(vt.ThresholdRound(Math.log(Math.abs(s))/Math.LN10))),ee(vt,"Mantissa",s=>vt.ThresholdRound(s/Math.pow(10,vt.Exponent(s)))),ee(vt,"ThresholdRound",s=>Math.abs(Math.round(s)-s)<1e-6?Math.round(s):s);let Axis=vt;class LinearAxis extends Axis{constructor(s){super();ee(this,"formatAsFractions");ee(this,"fractionUnit");ee(this,"fractionUnitSymbol");this.fractionUnit=1,this.fractionUnitSymbol=void 0,this.formatAsFractions=!1,s&&Object.assign(this,removeUndef(s))}isXyAxis(){return!0}isLogarithmic(){return!1}formatValueOverride(s){return this.formatAsFractions?FractionHelper.convertToFractionString(s,this.fractionUnit,this.fractionUnitSymbol,1e-6,this.stringFormatter):super.formatValueOverride(s)}}class AngleAxis extends LinearAxis{constructor(s){super(s);ee(this,"startAngle");ee(this,"endAngle");this.position=AxisPosition.All,this.tickStyle=TickStyle.None,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.majorGridlineStyle=LineStyle.Solid,this.minorGridlineStyle=LineStyle.Solid,this.startAngle=0,this.endAngle=360,s&&Object.assign(this,removeUndef(s))}getTickValues(s,m,f){const x=this.startAngle/this.scale,g=this.endAngle/this.scale;f.length=0,f.push(...this.createTickValues(x,g,this.actualMinorStep)),m.length=0,m.push(...this.createTickValues(x,g,this.actualMajorStep)),s.length=0,s.push(...this.createTickValues(this.minimum,this.maximum,this.actualMajorStep));const w=AxisUtilities.filterRedundantMinorTicks(m,f);f.length=0,f.push(...w)}inverseTransformPoint(s,m,f){throw new Error("Angle axis should always be the y-axis.")}isXyAxis(){return!1}async render(s,m){await new AngleAxisRenderer(s,this.plotModel).render(this,m)}transformPoint(s,m,f){throw new Error("Angle axis should always be the y-axis.")}updateTransform(s){const m=s.left,f=s.right,x=s.bottom,g=s.top;this.screenMin=new ScreenPoint(m,g),this.screenMax=new ScreenPoint(f,x);const w=(this.endAngle-this.startAngle)/(this.actualMaximum-this.actualMinimum),C=this.actualMinimum-this.startAngle/w;this.setTransform(w,C),this.clipMinimum=this.actualMinimum,this.clipMaximum=this.actualMaximum}}class AngleAxisFullPlotArea extends AngleAxis{async render(d,s){await new AngleAxisFullPlotAreaRenderer(d,this.plotModel).render(this,s)}}var AxisChangeTypes=(a=>(a[a.Zoom=0]="Zoom",a[a.Pan=1]="Pan",a[a.Reset=2]="Reset",a))(AxisChangeTypes||{}),AxisLayer=(a=>(a[a.BelowSeries=0]="BelowSeries",a[a.AboveSeries=1]="AboveSeries",a))(AxisLayer||{}),AxisPosition=(a=>(a[a.None=0]="None",a[a.Left=1]="Left",a[a.Right=2]="Right",a[a.Top=3]="Top",a[a.Bottom=4]="Bottom",a[a.All=5]="All",a))(AxisPosition||{});class AxisUtilities{static calculateMinorInterval(d){return Math.abs((Math.log10(d)+1e3)%1-Math.log10(2))<1e-10?d/4:d/5}static calculateMinorInterval2(d){const s=Math.ceil(Math.log(d)/Math.LN10);return(d/Math.pow(10,s-1)|0)===2?d/4:d/5}static createTickValues(d,s,m,f=1e3){if(m<=0)throw new Error("Step cannot be zero or negative.");s<d&&(m=-m);const x=m*.001;d-=x,s+=x;let g=Math.ceil(d/m)*m;Math.abs(g)<Number.EPSILON&&(g=0);const w=[],C=Math.sign(m);let A=0,_=g;for(;(s-_)*C>=0&&A<f;)w.push(_),_=g+ ++A*m;return w}static filterRedundantMinorTicks(d,s){if(d.length===0||s.length===0)return s;const m=[];let f=0,x=1,g=d.length>1?d[x]:d[0];const w=(_,M)=>Math.abs(_-M)*.001;let C=s.length>1?w(s[0],s[1]):0,A=1;d.length>1&&d[0]>d[1]&&(A=-1);for(let _=0;_<s.length;_++){const M=s[_];for(_>0&&(C=w(M,f));(g-M)*A<0&&x<d.length-1;)g=d[++x];const P=d[x-1];Math.abs(M-g)>C&&Math.abs(M-P)>C&&m.push(M),f=M}return m}}class CategoryAxis extends LinearAxis{constructor(s){super(s);ee(this,"_autoGeneratedLabels",[]);ee(this,"_itemsSourceLabels",[]);ee(this,"gapWidth");ee(this,"isTickCentered",!1);ee(this,"itemsSource");ee(this,"labelField");ee(this,"_labels",[]);this.tickStyle=TickStyle.Outside,this.position=AxisPosition.Bottom,this.minimumPadding=0,this.maximumPadding=0,this.majorStep=1,this.gapWidth=1,s&&Object.assign(this,removeUndef(s))}get actualLabels(){return this.itemsSource?this._itemsSourceLabels:this.labels.length>0?this.labels:this._autoGeneratedLabels}get labels(){return this._labels}getTickValues(s,m,f){if(super.getTickValues(s,m,f),f.length=0,!this.isTickCentered){let g=[];if(g=s.map(w=>w-.5).filter(w=>w>this.clipMinimum-.001),g.length>0){const w=g[g.length-1]+this.majorStep;w<this.clipMaximum+.001&&g.push(w)}m.length=0,m.push(...g)}}getValue(s){return this.formatValue(s)}updateActualMaxMin(){this.include(-.5);const s=this.actualLabels;s.length>0?this.include(s.length-1+.5):this.include(.5),super.updateActualMaxMin(),this.minorStep=1}updateLabels(s){if(this.itemsSource){this._itemsSourceLabels.length=0;const m=[];for(let f of this.itemsSource||[])f=this.labelField?f[this.labelField]:f,this.stringFormatter?m.push(this.stringFormatter(f)):m.push(f.toString());this._itemsSourceLabels.push(...m);return}if(this.labels.length===0){if(this._autoGeneratedLabels.length===s)return;this._autoGeneratedLabels.length=0,this._autoGeneratedLabels.push(...Array.from({length:s},(m,f)=>(f+1).toString()))}}formatValueOverride(s){const m=Math.floor(s),f=this.actualLabels;return m>=0&&m<f.length?f[m]:""}}function isColorAxis(a){return a&&typeof a.getColor=="function"&&typeof a.getPaletteIndex=="function"}function toColorAxis(a){return a}class MagnitudeAxis extends LinearAxis{constructor(s){super(s);ee(this,"midPoint",ScreenPoint.LeftTop);this.position=AxisPosition.None,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.majorGridlineStyle=LineStyle.Solid,this.minorGridlineStyle=LineStyle.Solid,s&&Object.assign(this,s)}inverseTransformPoint(s,m,f){if(!(f instanceof AngleAxis))throw new Error("Polar angle axis not defined!");const x=f;s-=this.midPoint.x,m-=this.midPoint.y,m*=-1;const g=Math.atan2(m,s);return s=Math.sqrt(s*s+m*m)/this.scale+this.offset,m=g/x.scale+x.offset*Math.PI/180,new DataPoint(s,m)}isXyAxis(){return!1}async render(s,m){await new MagnitudeAxisRenderer(s,this.plotModel).render(this,m)}transformPoint(s,m,f){if(!(f instanceof AngleAxis))throw new Error("Polar angle axis not defined!");const x=f,g=(s-this.offset)*this.scale,w=(m-x.offset)*x.scale;return new ScreenPoint(this.midPoint.x+g*Math.cos(w/180*Math.PI),this.midPoint.y-g*Math.sin(w/180*Math.PI))}updateTransform(s){const m=s.left,f=s.right,x=s.bottom,g=s.top;this.screenMin=new ScreenPoint(m,g),this.screenMax=new ScreenPoint(f,x),this.midPoint=new ScreenPoint((m+f)/2,(x+g)/2);const w=Math.min(Math.abs(f-m),Math.abs(g-x));let C=0,A=w*.5;const _=A-C;A=C+this.endPosition*_,C=C+this.startPosition*_;const M=this.isReversed?-1:1;this.minimumMargin>0&&(C+=this.minimumMargin*M),this.maximumMargin>0&&(A-=this.maximumMargin*M),this.minimumDataMargin>0&&(C+=this.minimumDataMargin*M),this.maximumDataMargin>0&&(A-=this.maximumDataMargin*M),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const P=this.preTransform(this.actualMaximum),D=this.preTransform(this.actualMinimum),E=C-A;let I,B;Math.abs(E)>Number.EPSILON?I=C/E*P-A/E*D:I=0;const F=P-D;Math.abs(F)>Number.EPSILON?B=(A-C)/F:B=1,this.setTransform(B,I),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(w*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}}var TickStyle=(a=>(a[a.Crossing=0]="Crossing",a[a.Inside=1]="Inside",a[a.Outside=2]="Outside",a[a.None=3]="None",a))(TickStyle||{});class AxisRendererBase{constructor(d,s){ee(this,"_plot");ee(this,"rc");ee(this,"minorTickValues",[]);ee(this,"axislinePen");ee(this,"extraPen");ee(this,"majorLabelValues",[]);ee(this,"majorPen");ee(this,"majorTickPen");ee(this,"majorTickValues",[]);ee(this,"minorPen");ee(this,"minorTickPen");ee(this,"zeroPen");this._plot=s,this.rc=d}get plot(){return this._plot}get renderContext(){return this.rc}async render(d,s){d&&(d.getTickValues(this.majorLabelValues,this.majorTickValues,this.minorTickValues),this.createPens(d))}createPens(d){const s=d.minorTicklineColor.isAutomatic()?d.ticklineColor:d.minorTicklineColor;this.minorPen=OxyPen.create(d.minorGridlineColor,d.minorGridlineThickness,d.minorGridlineStyle),this.majorPen=OxyPen.create(d.majorGridlineColor,d.majorGridlineThickness,d.majorGridlineStyle),this.minorTickPen=OxyPen.create(s,d.minorGridlineThickness),this.majorTickPen=OxyPen.create(d.ticklineColor,d.majorGridlineThickness),this.zeroPen=OxyPen.create(d.ticklineColor,d.majorGridlineThickness),this.extraPen=OxyPen.create(d.extraGridlineColor,d.extraGridlineThickness,d.extraGridlineStyle),this.axislinePen=OxyPen.create(d.axislineColor,d.axislineThickness,d.axislineStyle)}getTickPositions(d,s,m,f){let x=0,g=0;const C=f===AxisPosition.Top||f===AxisPosition.Left?-1:1;switch(s){case TickStyle.Crossing:x=-m*C*.75,g=m*C*.75;break;case TickStyle.Inside:x=-m*C;break;case TickStyle.Outside:g=m*C;break}return[x,g]}isWithin(d,s,m){return d<s?!1:d<=m}}class AngleAxisRenderer extends AxisRendererBase{constructor(d,s){super(d,s)}async render(d,s){const m=d;await super.render(d,s);const f=this.plot.defaultMagnitudeAxis;if(!f)throw new Error("Magnitude axis not defined.");const x=m.startAngle/m.scale,g=m.endAngle/m.scale,w=Math.abs(g-x);if(this.minorPen){const _=Math.abs(w/d.actualMinorStep|0),M=this.minorTickValues.slice(0,_+1).map(P=>f.transformPoint(f.clipMaximum,P,d));for(const P of M)await RenderingExtensions.drawLine(this.renderContext,f.midPoint.x,f.midPoint.y,P.x,P.y,this.minorPen,d.edgeRenderingMode)}const C=Math.abs(Math.abs(Math.max(m.endAngle,m.startAngle)-Math.min(m.startAngle,m.endAngle))-360)<.001;let A=w/d.actualMajorStep|0;if(C||A++,this.majorPen){const _=this.majorTickValues.slice(0,A).map(M=>f.transformPoint(f.clipMaximum,M,d));for(const M of _)await RenderingExtensions.drawLine(this.renderContext,f.midPoint.x,f.midPoint.y,M.x,M.y,this.majorPen,d.edgeRenderingMode)}for(const _ of this.majorLabelValues.slice(0,A)){let M=f.transformPoint(f.clipMaximum,_,d);const P=Math.atan2(M.y-f.midPoint.y,M.x-f.midPoint.x);let{x:D,y:E}=M;D+=Math.cos(P)*d.axisTickToLabelDistance,E+=Math.sin(P)*d.axisTickToLabelDistance,M=new ScreenPoint(D,E);let I=P*180/Math.PI;const B=d.formatValue(_);let F=HorizontalAlignment.Left,R=VerticalAlignment.Middle;Math.abs(Math.abs(I)-90)<10?(F=HorizontalAlignment.Center,R=I>=90?VerticalAlignment.Top:VerticalAlignment.Bottom,I=0):(I>90||I<-90)&&(I-=180,F=HorizontalAlignment.Right),await MathRenderingExtensions.drawMathText(this.renderContext,M,B,d.actualTextColor,d.actualFont,d.actualFontSize,d.actualFontWeight,I,F,R)}}}class HorizontalAndVerticalAxisRenderer extends AxisRendererBase{constructor(d,s){super(d,s)}async render(d,s){await super.render(d,s);let m=!0;const f=d.axisDistance+d.positionTierMinShift,x=d.positionTierSize-this.plot.axisTierDistance,g=this.plot.plotArea.left,w=this.plot.plotArea.right,C=this.plot.plotArea.top,A=this.plot.plotArea.bottom;let _=0,M=0;switch(d.position){case AxisPosition.Left:_=g-f;break;case AxisPosition.Right:_=w+f;break;case AxisPosition.Top:_=C-f;break;case AxisPosition.Bottom:_=A+f;break}if(d.positionAtZeroCrossing){const P=d.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis;_=P.transform(0);const D=d.isHorizontal()?P.screenMin.y:P.screenMin.x,E=d.isHorizontal()?P.screenMax.y:P.screenMax.x;let I=Math.min(D,E),B=Math.max(D,E);const F=d.isHorizontal()?C:g,R=d.isHorizontal()?A:w;if(I=Math.max(I,F),B=Math.min(B,R),_<I){_=I;const L=d.isHorizontal()?this.plot.plotAreaBorderThickness.top:this.plot.plotAreaBorderThickness.left,z=d.isHorizontal()?this.plot.plotArea.top:this.plot.plotArea.left;_<=z&&L>0&&this.plot.plotAreaBorderColor.isVisible()&&(m=!1)}if(_>B){_=B;const L=d.isHorizontal()?this.plot.plotAreaBorderThickness.bottom:this.plot.plotAreaBorderThickness.right,z=d.isHorizontal()?this.plot.plotArea.bottom:this.plot.plotArea.right;_>=z&&L>0&&this.plot.plotAreaBorderColor.isVisible()&&(m=!1)}}switch(d.position){case AxisPosition.Left:M=_-x;break;case AxisPosition.Right:M=_+x;break;case AxisPosition.Top:M=_-x;break;case AxisPosition.Bottom:M=_+x;break}switch(d.position){case AxisPosition.Left:case AxisPosition.Top:M+=d.axisDistance;break;case AxisPosition.Right:case AxisPosition.Bottom:M-=d.axisDistance;break}s==0&&await this.renderMinorItems(d,_),s==1&&(await this.renderMajorItems(d,_,M,m),await this.renderAxisTitle(d,M))}static lerp(d,s,m){return d*(1-m)+s*m}static snapTo(d,s,m=.5){return s>d-m&&s<d+m?d:s}getAxisTitlePositionAndAlignment(d,s){let m=-90,f=HorizontalAlignment.Center,x=VerticalAlignment.Top,g=d.isHorizontal()?HorizontalAndVerticalAxisRenderer.lerp(d.screenMin.x,d.screenMax.x,d.titlePosition):HorizontalAndVerticalAxisRenderer.lerp(d.screenMax.y,d.screenMin.y,d.titlePosition);d.positionAtZeroCrossing&&(g=HorizontalAndVerticalAxisRenderer.lerp(d.transform(d.clipMaximum),d.transform(d.clipMinimum),d.titlePosition));let w=ScreenPoint.LeftTop;switch(d.position){case AxisPosition.Left:w=new ScreenPoint(s,g);break;case AxisPosition.Right:x=VerticalAlignment.Bottom,w=new ScreenPoint(s,g);break;case AxisPosition.Top:f=HorizontalAlignment.Center,x=VerticalAlignment.Top,m=0,w=new ScreenPoint(g,s);break;case AxisPosition.Bottom:f=HorizontalAlignment.Center,x=VerticalAlignment.Bottom,m=0,w=new ScreenPoint(g,s);break;default:throw new Error("Invalid axis position")}return{point:w,angle:m,halign:f,valign:x}}async renderAxisTitle(d,s){if(!d.actualTitle)return;const m=d.isHorizontal();let f;if(d.clipTitle){const A=Math.abs(m?d.screenMax.x-d.screenMin.x:d.screenMax.y-d.screenMin.y);f=new OxySize(A*d.titleClippingLength,Number_MAX_VALUE)}const{point:x,angle:g,halign:w,valign:C}=this.getAxisTitlePositionAndAlignment(d,s);await MathRenderingExtensions.drawMathText(this.renderContext,x,d.actualTitle,d.actualTitleColor,d.actualTitleFont,d.actualTitleFontSize,d.actualTitleFontWeight,g,w,C,f)}async renderMajorItems(d,s,m,f){const x=d.actualMinorStep*.001,g=d.clipMinimum,w=d.clipMaximum,C=this.plot.plotArea.left,A=this.plot.plotArea.right,_=this.plot.plotArea.top,M=this.plot.plotArea.bottom,P=d.isHorizontal(),D=d.cropGridlines,E=[],I=[],[B,F]=this.getTickPositions(d,d.tickStyle,d.majorTickSize,d.position),R=d.isHorizontal()?this.plot.defaultYAxis:this.plot.defaultXAxis,L=d.positionAtZeroCrossing&&(R==null?void 0:R.positionAtZeroCrossing);let z=[];D&&(P?z=this.plot.axes.filter(K=>K.isXyAxis()&&K.isVertical()):z=this.plot.axes.filter(K=>K.isXyAxis()&&K.isHorizontal()));const G=HorizontalAndVerticalAxisRenderer.snapTo;for(const K of this.majorTickValues){if(L&&Math.abs(K)<x)continue;let q=d.transform(K);P?(q=G(C,q),q=G(A,q)):(q=G(_,q),q=G(M,q)),this.majorPen&&this.addSegments(E,z,P,D,q,C,A,_,M),d.tickStyle!=TickStyle.None&&d.majorTickSize>0&&(P?(I.push(new ScreenPoint(q,s+B)),I.push(new ScreenPoint(q,s+F))):(I.push(new ScreenPoint(s+B,q)),I.push(new ScreenPoint(s+F,q))))}for(const K of this.majorLabelValues){if(K<g-x||K>w+x||L&&Math.abs(K)<x)continue;let q=d.transform(K);P?(q=G(C,q),q=G(A,q)):(q=G(_,q),q=G(M,q));let Z=new ScreenPoint,J=[HorizontalAlignment.Center,VerticalAlignment.Middle];switch(d.position){case AxisPosition.Left:Z=new ScreenPoint(s+F-d.axisTickToLabelDistance,q),J=this.getRotatedAlignments(d.angle,-90);break;case AxisPosition.Right:Z=new ScreenPoint(s+F+d.axisTickToLabelDistance,q),J=this.getRotatedAlignments(d.angle,90);break;case AxisPosition.Top:Z=new ScreenPoint(q,s+F-d.axisTickToLabelDistance),J=this.getRotatedAlignments(d.angle,0);break;case AxisPosition.Bottom:Z=new ScreenPoint(q,s+F+d.axisTickToLabelDistance),J=this.getRotatedAlignments(d.angle,-180);break}const[Q,ie]=J,se=d.formatValue(K);await MathRenderingExtensions.drawMathText(this.renderContext,Z,se,d.actualTextColor,d.actualFont,d.actualFontSize,d.actualFontWeight,d.angle,Q,ie)}const W=RenderingExtensions.getActualEdgeRenderingMode(d.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);if(d.extraGridlines&&this.extraPen){const K=[];for(const q of d.extraGridlines){if(!this.isWithin(q,g,w))continue;const Z=d.transform(q);this.addSegments(K,z,P,D,Z,C,A,_,M)}await RenderingExtensions.drawLineSegments(this.renderContext,K,this.extraPen,W)}f&&(P?await RenderingExtensions.drawLine(this.renderContext,d.transform(g),s,d.transform(w),s,this.axislinePen,W):await RenderingExtensions.drawLine(this.renderContext,s,d.transform(g),s,d.transform(w),this.axislinePen,W)),this.majorPen&&await RenderingExtensions.drawLineSegments(this.renderContext,E,this.majorPen,W),this.majorTickPen&&await RenderingExtensions.drawLineSegments(this.renderContext,I,this.majorTickPen,W)}async renderMinorItems(d,s){const m=d.actualMinorStep*.001,f=this.plot.plotArea.left,x=this.plot.plotArea.right,g=this.plot.plotArea.top,w=this.plot.plotArea.bottom,C=d.cropGridlines,A=d.isHorizontal(),_=[],M=[];let P=[];C&&(A?P=this.plot.axes.filter(F=>F.isXyAxis()&&F.isVertical()):P=this.plot.axes.filter(F=>F.isXyAxis()&&F.isHorizontal()));const[D,E]=this.getTickPositions(d,d.tickStyle,d.minorTickSize,d.position),I=HorizontalAndVerticalAxisRenderer.snapTo;for(const F of this.minorTickValues){if(d.positionAtZeroCrossing&&Math.abs(F)<m)continue;let R=d.transform(F);A?(R=I(f,R),R=I(x,R)):(R=I(g,R),R=I(w,R)),this.minorPen&&this.addSegments(_,P,A,C,R,f,x,g,w),d.tickStyle!=TickStyle.None&&d.minorTickSize>0&&(A?(M.push(new ScreenPoint(R,s+D)),M.push(new ScreenPoint(R,s+E))):(M.push(new ScreenPoint(s+D,R)),M.push(new ScreenPoint(s+E,R))))}const B=RenderingExtensions.getActualEdgeRenderingMode(d.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);this.minorPen&&await RenderingExtensions.drawLineSegments(this.renderContext,_,this.minorPen,B),this.minorTickPen&&await RenderingExtensions.drawLineSegments(this.renderContext,M,this.minorTickPen,B)}addSegments(d,s,m,f,x,g,w,C,A){if(m)if(!f)d.push(new ScreenPoint(x,C)),d.push(new ScreenPoint(x,A));else for(const _ of s)d.push(new ScreenPoint(x,_.transform(_.clipMinimum))),d.push(new ScreenPoint(x,_.transform(_.clipMaximum)));else if(!f)d.push(new ScreenPoint(g,x)),d.push(new ScreenPoint(w,x));else for(const _ of s)d.push(new ScreenPoint(_.transform(_.clipMinimum),x)),d.push(new ScreenPoint(_.transform(_.clipMaximum),x))}getRotatedAlignments(d,s){const f=(s+360)%360-180;let x=d>=Math.min(s,f)&&d<Math.max(s,f)?HorizontalAlignment.Left:HorizontalAlignment.Right,g=VerticalAlignment.Middle;return s<0&&(x=x===HorizontalAlignment.Left?HorizontalAlignment.Right:HorizontalAlignment.Left),(Math.abs(d-f)<10||Math.abs(d-s)<10)&&(x=HorizontalAlignment.Center),Math.abs(d-s)<10&&(g=VerticalAlignment.Bottom),Math.abs(d-f)<10&&(g=VerticalAlignment.Top),[x,g]}}class MagnitudeAxisRenderer extends AxisRendererBase{constructor(d,s){super(d,s)}async render(d,s){await super.render(d,s);const m=this.plot.defaultAngleAxis;if(!m)throw new Error("Angle axis should not be null.");if(m.updateActualMaxMin(),s===0&&this.extraPen){const f=d.extraGridlines;if(f)for(let x=0;x<f.length;x++)await this.renderTick(d,m,f[x],this.extraPen)}if(s===0&&this.minorPen)for(const f of this.minorTickValues)await this.renderTick(d,m,f,this.minorPen);if(s===0&&this.majorPen)for(const f of this.majorTickValues)await this.renderTick(d,m,f,this.majorPen);if(s===1)for(const f of this.majorTickValues)await this.renderTickText(d,f,m)}static getActualAngle(d,s){const m=d.transformPoint(0,s.angle,s),f=d.transformPoint(1,s.angle,s);return Math.atan2(f.y-m.y,f.x-m.x)}static getTickTextAlignment(d){let s=HorizontalAlignment.Center,m=VerticalAlignment.Bottom;return d>3*Math.PI/4||d<-3*Math.PI/4?(s=HorizontalAlignment.Center,m=VerticalAlignment.Top):d<-Math.PI/4?(s=HorizontalAlignment.Right,m=VerticalAlignment.Middle):d>Math.PI/4?(s=HorizontalAlignment.Left,m=VerticalAlignment.Middle):(s=HorizontalAlignment.Center,m=VerticalAlignment.Bottom),[s,m]}async renderTick(d,s,m,f){Math.abs(Math.abs(s.endAngle-s.startAngle)-360)<1e-6&&!f.actualDashArray?await this.renderTickCircle(d,s,m,f):await this.renderTickArc(d,s,m,f)}async renderTickCircle(d,s,m,f){const x=s.offset,g=d.transformPoint(d.clipMinimum,x,s),w=d.transformPoint(m,x,s).x,C=w-g.x,A=C*2,_=w-A,M=g.y-C,P=A;await this.renderContext.drawEllipse(new OxyRect(_,M,A,P),OxyColors.Undefined,f.color,f.thickness,d.edgeRenderingMode)}async renderTickArc(d,s,m,f){const x=s.clipMinimum,g=s.clipMaximum,C=Math.round(90*Math.abs(s.endAngle-s.startAngle)/360),A=(g-x)/(C-1),_=[];for(let M=0;M<C;M++){const P=x+M*A;_.push(d.transformPoint(m,P,s))}await this.renderContext.drawLine(_,f.color,f.thickness,d.edgeRenderingMode,f.actualDashArray)}async renderTickText(d,s,m){const f=MagnitudeAxisRenderer.getActualAngle(d,m),x=d.axisTickToLabelDistance*Math.sin(f),g=-d.axisTickToLabelDistance*Math.cos(f),[w,C]=MagnitudeAxisRenderer.getTickTextAlignment(f);let A=d.transformPoint(s,m.angle,m);A=new ScreenPoint(A.x+x,A.y+g);const _=d.formatValue(s);await MathRenderingExtensions.drawMathText(this.renderContext,A,_,d.actualTextColor,d.actualFont,d.actualFontSize,d.actualFontWeight,d.angle,w,C)}}class AngleAxisFullPlotAreaRenderer extends AxisRendererBase{constructor(d,s){super(d,s)}async render(d,s){const m=d;await super.render(d,s);const f=this.plot.defaultMagnitudeAxis;if(!f)throw new Error("Magnitude axis not defined.");const x=m.startAngle/m.scale,g=m.endAngle/m.scale,w=Math.abs(g-x);if(this.minorPen){const _=Math.abs(w/d.actualMinorStep),M=this.minorTickValues.slice(0,_+1).map(P=>this.transformToClientRectangle(f.clipMaximum,P,d,this.plot.plotArea,f.midPoint));for(const P of M)await RenderingExtensions.drawLine(this.renderContext,f.midPoint.x,f.midPoint.y,P.x,P.y,this.minorPen,d.edgeRenderingMode)}const C=Math.abs(Math.abs(Math.max(m.endAngle,m.startAngle)-Math.min(m.startAngle,m.endAngle))-360)<.001;let A=Math.floor(w/d.actualMajorStep);if(C||A++,this.majorPen){const _=this.majorTickValues.slice(0,A).map(M=>this.transformToClientRectangle(f.clipMaximum,M,d,this.plot.plotArea,f.midPoint));for(const M of _)await RenderingExtensions.drawLine(this.renderContext,f.midPoint.x,f.midPoint.y,M.x,M.y,this.majorPen,d.edgeRenderingMode)}for(const _ of this.majorLabelValues.slice(0,A)){const M=this.transformToClientRectangle(f.clipMaximum,_,d,this.plot.plotArea,f.midPoint),P=d.formatValue(_);let D=HorizontalAlignment.Center,E=VerticalAlignment.Middle;const I=this.plot.plotArea;let B=M.y,F=M.x;B<=I.top?(D=HorizontalAlignment.Center,E=VerticalAlignment.Top,B+=d.axisTickToLabelDistance):B>=I.bottom?(D=HorizontalAlignment.Center,E=VerticalAlignment.Bottom,B-=d.axisTickToLabelDistance):F<=I.left?(D=HorizontalAlignment.Left,E=VerticalAlignment.Middle,F+=d.axisTickToLabelDistance):F>=I.right&&(D=HorizontalAlignment.Right,E=VerticalAlignment.Middle,F-=d.axisTickToLabelDistance);const R=new ScreenPoint(F,B);await MathRenderingExtensions.drawMathText(this.renderContext,R,P,d.actualTextColor,d.actualFont,d.actualFontSize,d.actualFontWeight,0,D,E)}}transformToClientRectangle(d,s,m,f,x){let g=new ScreenPoint,w=(s-m.offset)*m.scale;w%=360;const C=w/180*Math.PI,A=Math.cos(C),_=-Math.sin(C);if(A!==0){let M=0;A>0?M=f.right-x.x:A<0&&(M=f.left-x.x);const P=M/A;let D=P*A,E=P*_;if(E+x.y>f.bottom||E+x.y<f.top){let I=0;_>0?I=f.bottom-x.y:I=f.top-x.y;const B=I/_;D=B*A,E=B*_,g=new ScreenPoint(B*A+x.x,B*_+x.y)}else g=new ScreenPoint(D+x.x,E+x.y)}return g}}const degree=180/Math.PI,rad=Math.PI/180,Mt=class Mt extends AxisRendererBase{constructor(d,s){super(d,s)}async render(d,s){await super.render(d,s);const m=this.plot.defaultAngleAxis,f=this.plot.defaultMagnitudeAxis;if(!m)throw new Error("Angle axis should not be undefined.");m.updateActualMaxMin();const x=Math.abs(d.plotModel.plotArea.top-f.midPoint.y),g=Math.abs(d.plotModel.plotArea.bottom-f.midPoint.y),w=Math.abs(d.plotModel.plotArea.left-f.midPoint.x),C=Math.abs(d.plotModel.plotArea.right-f.midPoint.x),A=d.plotModel.plotArea.offset(-f.midPoint.x,-f.midPoint.y),_=-degree*Math.atan2(A.top,A.right);let M=-degree*Math.atan2(A.top,A.left),P=360-degree*Math.atan2(A.bottom,A.left);const D=360-degree*Math.atan2(A.bottom,A.right);M<0&&(M+=360),P>360&&(P-=360);const E=Math.sqrt(Math.pow(A.top,2)+Math.pow(A.right,2)),I=Math.sqrt(Math.pow(A.top,2)+Math.pow(A.left,2)),B=Math.sqrt(Math.pow(A.bottom,2)+Math.pow(A.left,2)),F=Math.sqrt(Math.pow(A.bottom,2)+Math.pow(A.right,2));if(s===0&&this.minorPen){const R=this.minorPen;for(const L of this.minorTickValues){const z=d.transform(L);let G=0,W=90,K=90,q=180,Z=180,J=270,Q=270,ie=360;const se=C/z,oe=x/z,ue=w/z,fe=g/z;z>C&&(ie=360-degree*Math.acos(se),G=degree*Math.acos(se)),z>x&&(W=degree*Math.asin(oe),K=180-degree*Math.asin(oe)),z>w&&(q=180-degree*Math.acos(ue),Z=180+degree*Math.acos(ue)),z>g&&(J=180+degree*Math.asin(fe),Q=360-degree*Math.asin(fe)),z<=E&&(G<_&&await this.renderTickArc(d,m,L,R,G+m.offset,_+m.offset),_<W&&await this.renderTickArc(d,m,L,R,_+m.offset,W+m.offset)),z<=I&&(K<M&&await this.renderTickArc(d,m,L,R,K+m.offset,M+m.offset),M<q&&await this.renderTickArc(d,m,L,R,M+m.offset,q+m.offset)),z<=B&&(Z<P&&await this.renderTickArc(d,m,L,R,Z+m.offset,P+m.offset),P<J&&await this.renderTickArc(d,m,L,R,P+m.offset,J+m.offset)),z<=F&&(Q<D&&await this.renderTickArc(d,m,L,R,Q+m.offset,D+m.offset),D<ie&&await this.renderTickArc(d,m,L,R,D+m.offset,ie+m.offset))}}if(s===0&&this.majorPen){const R=this.majorPen;for(const L of this.majorTickValues){const z=d.transform(L);let G=0,W=90,K=90,q=180,Z=180,J=270,Q=270,ie=360;const se=C/z,oe=x/z,ue=w/z,fe=g/z;z>C&&(ie=360-degree*Math.acos(se),G=degree*Math.acos(se)),z>x&&(W=degree*Math.asin(oe),K=180-degree*Math.asin(oe)),z>w&&(q=180-degree*Math.acos(ue),Z=180+degree*Math.acos(ue)),z>g&&(J=180+degree*Math.asin(fe),Q=360-degree*Math.asin(fe)),z<=E&&(G<_&&await this.renderTickArc(d,m,L,R,G+m.offset,_+m.offset),_<W&&await this.renderTickArc(d,m,L,R,_+m.offset,W+m.offset)),z<=I&&(K<M&&await this.renderTickArc(d,m,L,R,K+m.offset,M+m.offset),M<q&&await this.renderTickArc(d,m,L,R,M+m.offset,q+m.offset)),z<=B&&(Z<P&&await this.renderTickArc(d,m,L,R,Z+m.offset,P+m.offset),P<J&&await this.renderTickArc(d,m,L,R,P+m.offset,J+m.offset)),z<=F&&(Q<D&&await this.renderTickArc(d,m,L,R,Q+m.offset,D+m.offset),D<ie&&await this.renderTickArc(d,m,L,R,D+m.offset,ie+m.offset))}}if(s===1){const R=RenderingExtensions.autoResetClip(this.renderContext,OxyRect.fromScreenPoints(d.screenMin,d.screenMax));for(const L of this.majorLabelValues)await this.renderTickText(d,L,m);R.dispose()}}static getActualAngle(d,s){const m=d.transformPoint(0,s.angle,s),f=d.transformPoint(1,s.angle,s);return Math.atan2(f.y-m.y,f.x-m.x)}static getTickTextAligment(d){let s=HorizontalAlignment.Center,m=VerticalAlignment.Bottom;return d>3*Math.PI/4||d<-3*Math.PI/4?(s=HorizontalAlignment.Center,m=VerticalAlignment.Top):d<-Math.PI/4?(s=HorizontalAlignment.Right,m=VerticalAlignment.Middle):d>Math.PI/4?(s=HorizontalAlignment.Left,m=VerticalAlignment.Middle):(s=HorizontalAlignment.Center,m=VerticalAlignment.Bottom),[s,m]}async renderTickArc(d,s,m,f,x,g){let w=Mt.maxSegments*Math.abs(g-x)/360;(s.fractionUnit===Math.PI||s.actualMaximum===2*Math.PI)&&(w=Mt.maxSegments*Math.abs(g-x)/(2*Math.PI),x*=rad,g*=rad),w=Math.max(w,2),w=Math.min(w,Mt.maxSegments);const C=Math.abs(g-x)/(w-1),A=[];for(let _=0;_<w;_++){const M=x+_*C,P=d.transformPoint(m,M,s);A.push(P)}await this.renderContext.drawLine(A,f.color,f.thickness,d.edgeRenderingMode,f.actualDashArray)}async renderTickText(d,s,m){const f=Mt.getActualAngle(d,m),x=d.axisTickToLabelDistance*Math.sin(f),g=-d.axisTickToLabelDistance*Math.cos(f),[w,C]=Mt.getTickTextAligment(f);let A=d.transformPoint(s,m.angle,m);A=new ScreenPoint(A.x+x,A.y+g);const _=d.formatValue(s);await MathRenderingExtensions.drawMathText(this.renderContext,A,_,d.actualTextColor,d.actualFont,d.actualFontSize,d.actualFontWeight,d.angle,w,C)}};ee(Mt,"maxSegments",180);let MagnitudeAxisFullPlotAreaRenderer=Mt;class LogarithmicAxis extends Axis{constructor(s){super(s);ee(this,"base");ee(this,"powerPadding");ee(this,"logActualMaximum",0);ee(this,"logActualMinimum",0);ee(this,"logClipMaximum",0);ee(this,"logClipMinimum",0);this.powerPadding=!0,this.base=10,this.filterMinValue=0,s&&Object.assign(this,removeUndef(s))}getTickValues(s,m,f){s.length=0,m.length=0,f.length=0;let x=[],g=[],w=[];const C=Math.abs(this.logClipMaximum-this.logClipMinimum),M=Math.abs(this.isVertical()?this.screenMax.y-this.screenMin.y:this.screenMax.x-this.screenMin.x)/this.intervalLength/C,P=1/Math.floor(M),D=Math.round(this.base);if(M<.75){const E=Math.pow(2,Math.ceil(Math.log(1/M)/Math.log(2)));g=this.decadeTicks(E),w=this.decadeTicks(Math.ceil(E/8))}else if(Math.abs(this.base-D)>1e-10)g=this.decadeTicks(P),w=this.decadeTicks(.5*P);else if(M<2)g=this.decadeTicks(),w=this.subdividedDecadeTicks();else{if(M>this.base*1.5)return super.getTickValues(s,m,f);{const E=this.logSubdividedDecadeTicks(!1);if(E.length<2)return super.getTickValues(s,m,f);const I=this.logCalculateMinorCandidates(E,P);w=this.powList(I,!0),g=this.alignTicksToCandidates(E,P)}}x=g,w=AxisUtilities.filterRedundantMinorTicks(g,w),s.push(...x),m.push(...g),f.push(...w)}isXyAxis(){return!0}isLogarithmic(){return!0}pan(s,m){if(!this.isPanEnabled)return;const f=this.isHorizontal(),x=this.inverseTransform(f?s.x:s.y),g=this.inverseTransform(f?m.x:m.y);if(Math.abs(g)<=0)return;const w=this.actualMinimum,C=this.actualMaximum,A=x/g;let _=this.actualMinimum*A,M=this.actualMaximum*A;_<this.absoluteMinimum&&(_=this.absoluteMinimum,M=_*this.actualMaximum/this.actualMinimum),M>this.absoluteMaximum&&(M=this.absoluteMaximum,_=M*this.actualMinimum/this.actualMaximum),this.viewMinimum=_,this.viewMaximum=M;const P=this.actualMinimum-w,D=this.actualMaximum-C;this.onAxisChanged({changeType:AxisChangeTypes.Pan,deltaMinimum:P,deltaMaximum:D})}inverseTransform(s){return Math.exp(s/this.scale+this.offset)}transform(s){return s<=0?-1:(Math.log(s)-this.offset)*this.scale}zoomAt(s,m){if(!this.isZoomEnabled)return;const f=this.actualMinimum,x=this.actualMaximum,g=this.preTransform(m),w=this.preTransform(this.actualMinimum)-g,C=this.preTransform(this.actualMaximum)-g,A=this.postInverseTransform(w/s+g),_=this.postInverseTransform(C/s+g),M=Math.max(A,this.absoluteMinimum),P=Math.min(_,this.absoluteMaximum);this.viewMinimum=M,this.viewMaximum=P,this.updateActualMaxMin();const D=this.actualMinimum-f,E=this.actualMaximum-x;this.onAxisChanged({changeType:AxisChangeTypes.Zoom,deltaMinimum:D,deltaMaximum:E})}powList(s,m=!1){return s.filter(f=>!m||!(f<this.logClipMinimum)).filter(f=>!m||!(f>this.logClipMaximum)).map(f=>Math.pow(this.base,f))}logList(s,m=!1){return s.filter(f=>!m||!(f<this.clipMinimum)).filter(f=>!m||!(f>this.clipMaximum)).map(f=>Math.log(f)/Math.log(this.base))}decadeTicks(s=1){return this.powList(this.logDecadeTicks(s))}logDecadeTicks(s=1){const m=[];if(s<=0)return m;let f=Number.NaN;for(let x=Math.ceil(this.logClipMinimum);x<=this.logClipMaximum&&!(x<=f);x+=s)f=x,x>=this.logClipMinimum&&m.push(x);return m}logSubdividedDecadeTicks(s=!0){return this.logList(this.subdividedDecadeTicks(s))}subdividedDecadeTicks(s=!0){const m=[];for(let f=Math.floor(this.logClipMinimum);!(f>this.logClipMaximum);f++){const x=Math.pow(this.base,f);for(let g=1;g<this.base;g++){const w=x*g;if(!(s&&w<this.clipMinimum)){if(s&&w>this.clipMaximum)break;m.push(x*g)}}}return m}alignTicksToCandidates(s,m){return this.powList(this.logAlignTicksToCandidates(s,m))}logAlignTicksToCandidates(s,m){const f=[];let x=1,g=Number.NaN;for(let w=Math.floor(this.logClipMinimum);;w+=m){if(w<this.logClipMinimum-m)continue;if(w>this.logClipMaximum+m)break;for(;x<s.length-1&&s[x]<w;)x++;const C=Math.abs(s[x]-w)<Math.abs(s[x-1]-w)?s[x]:s[x-1];C!=g&&C>=this.logClipMinimum&&C<=this.logClipMaximum&&f.push(C),g=C}return f}logCalculateMinorCandidates(s,m){const f=[];for(let x=1;x<s.length;x++){const g=s[x-1],w=s[x];if(w<this.logClipMinimum)continue;if(g>this.logClipMaximum)break;(w-g)/m>2&&this.logSubdivideInterval(f,this.base,g,w),f.push(w)}return f}logSubdivideInterval(s,m,f,x){let g=1;const w=Math.round(this.base);if(m<2)return;if(Math.abs(this.base-w)>this.base*1e-10)g=Math.round(m);else if(w&w-1)for(w!=10&&(g=w);!(g>=m||(g*=2,g>=m)||(g=Math.round(g*2.5),g>=m));)g*=2;else for(;g<m;)g*=2;const C=Math.pow(this.base,f),A=Math.pow(this.base,x);for(let _=1;_<g;_++){const M=_/g,P=Math.log(C+(A-C)*M)/Math.log(this.base);s.push(P)}}updateActualMaxMin(){if(this.powerPadding){const s=Math.log(this.base),m=Math.floor(Math.log(this.actualMinimum)/s),f=Math.ceil(Math.log(this.actualMaximum)/s);isNaN(this.actualMinimum)||(this.actualMinimum=round(Math.exp(m*s),14)),isNaN(this.actualMaximum)||(this.actualMaximum=round(Math.exp(f*s),14))}super.updateActualMaxMin(),this.actualMinimum<=0&&(this.actualMinimum=.1)}actualMaximumAndMinimumChangedOverride(){this.logActualMinimum=log(this.actualMinimum,this.base),this.logActualMaximum=log(this.actualMaximum,this.base),this.logClipMinimum=log(this.clipMinimum,this.base),this.logClipMaximum=log(this.clipMaximum,this.base)}postInverseTransform(s){return Math.exp(s)}preTransform(s){if(s<=0)throw new Error("Value should be positive.");return s<=0?0:Math.log(s)}coerceActualMaxMin(){(isNaN(this.actualMinimum)||isInfinity(this.actualMinimum))&&(this.actualMinimum=1),this.actualMinimum<=0&&(this.actualMinimum=1),this.actualMaximum<=this.actualMinimum&&(this.actualMaximum=this.actualMinimum*100),super.coerceActualMaxMin()}calculateActualMaximum(){let s=this.dataMaximum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const f=this.dataMaximum>0?this.dataMaximum:1;s+=f*.5}if(!isNaN(this.dataMinimum)&&!isNaN(s)){const f=s,x=this.dataMinimum;return Math.pow(f,this.maximumPadding+1)*(x>Number.EPSILON?Math.pow(x,-this.maximumPadding):1)}return s}calculateActualMinimum(){let s=this.dataMinimum;if(this.dataMaximum-this.dataMinimum<Number.EPSILON){const f=this.dataMaximum>0?this.dataMaximum:1;s-=f*.5}if(!isNaN(this.actualMaximum)){const f=this.actualMaximum,x=s,g=this.maximumPadding;return Math.pow(x,1+this.minimumPadding-this.minimumPadding*g/(1+g))*Math.pow(f,-this.minimumPadding/(1+g))}return s}}var DateTimeIntervalType=(a=>(a[a.Auto=0]="Auto",a[a.Manual=1]="Manual",a[a.Milliseconds=2]="Milliseconds",a[a.Seconds=3]="Seconds",a[a.Minutes=4]="Minutes",a[a.Hours=5]="Hours",a[a.Days=6]="Days",a[a.Weeks=7]="Weeks",a[a.Months=8]="Months",a[a.Years=9]="Years",a))(DateTimeIntervalType||{});const lt=class lt extends LinearAxis{constructor(s){super(s);ee(this,"actualIntervalType",DateTimeIntervalType.Auto);ee(this,"actualMinorIntervalType",DateTimeIntervalType.Auto);ee(this,"_dateService");ee(this,"firstDayOfWeek");ee(this,"intervalType");ee(this,"minorIntervalType",DateTimeIntervalType.Auto);ee(this,"timeZone");this.position=AxisPosition.Bottom,this.intervalType=DateTimeIntervalType.Auto,this.firstDayOfWeek=DayOfWeek.Monday,this._dateService=getDateService(),s&&Object.assign(this,removeUndef(s))}static createDataPoint(s,m){return new DataPoint(lt.toDouble(s),m)}static toDateTime(s){return isNaN(s)||s<lt.MinDayValue||s>lt.MaxDayValue?new Date:getDateService().addTimespan(lt.TimeOrigin,TimeSpan.fromDays(s-1))}static toDouble(s){return getDateService().diff(s,lt.TimeOrigin).totalDays+1}itemToDouble(s){return s instanceof Date?lt.toDouble(s):super.itemToDouble(s)}getTickValues(s,m,f){let x=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMinorStep,this.actualMinorIntervalType);m.length=0;const g=this.createDateTimeTickValues(this.clipMinimum,this.clipMaximum,this.actualMajorStep,this.actualIntervalType);m.push(...g),s.length=0,s.push(...m),x=AxisUtilities.filterRedundantMinorTicks(m,x),f.length=0,f.push(...x)}getValue(s){const m=lt.toDateTime(s);return this.timeZone?this._dateService.convertTime(m,this.timeZone):m}updateIntervals(s){super.updateIntervals(s);const m=!isNullOrUndef(this.stringFormatter);switch(this.actualIntervalType){case DateTimeIntervalType.Years:this.actualMinorStep=31,this.actualMinorIntervalType=DateTimeIntervalType.Years,m||(this.actualStringFormatter=f=>this._dateService.format(f,"YYYY"));break;case DateTimeIntervalType.Months:this.actualMinorIntervalType=DateTimeIntervalType.Months,m||(this.actualStringFormatter=f=>this._dateService.format(f,"YYYY-MM-DD"));break;case DateTimeIntervalType.Weeks:this.actualMinorIntervalType=DateTimeIntervalType.Days,this.actualMajorStep=7,this.actualMinorStep=1,m||(this.actualStringFormatter=f=>this._dateService.format(f,"YYYY/ww"));break;case DateTimeIntervalType.Days:this.actualMinorStep=this.actualMajorStep,m||(this.actualStringFormatter=f=>this._dateService.format(f,"YYYY-MM-DD"));break;case DateTimeIntervalType.Hours:this.actualMinorStep=this.actualMajorStep,m||(this.actualStringFormatter=f=>this._dateService.format(f,"HH:mm"));break;case DateTimeIntervalType.Minutes:this.actualMinorStep=this.actualMajorStep,m||(this.actualStringFormatter=f=>this._dateService.format(f,"HH:mm"));break;case DateTimeIntervalType.Seconds:this.actualMinorStep=this.actualMajorStep,m||(this.actualStringFormatter=f=>this._dateService.format(f,"HH:mm:ss"));break;case DateTimeIntervalType.Milliseconds:this.actualMinorStep=this.actualMajorStep,m||(this.actualStringFormatter=f=>this._dateService.format(f,"HH:mm:ss.SSS"));break;case DateTimeIntervalType.Manual:break;case DateTimeIntervalType.Auto:break}}getDefaultStringFormatter(){return s=>this._dateService.format(s,"yyyy-MM-dd")}formatValueOverride(s){let m=lt.toDateTime(s);this.timeZone&&(m=this._dateService.convertTime(m,this.timeZone));const f=this.actualStringFormatter;return f?f(m):m.toLocaleDateString()}calculateActualInterval(s,m,f,x,g){const M=.041666666666666664,P=M/60,D=P/60,E=D/1e3;g=Math.abs(this.clipMinimum-this.clipMaximum);const I=[E,2*E,10*E,100*E,D,2*D,5*D,10*D,30*D,P,2*P,5*P,10*P,30*P,M,4*M,8*M,12*M,1,2*1,5*1,7,2*7,30.5,2*30.5,3*30.5,4*30.5,6*30.5,365.25];let B=I[0];for(f=Math.max(f,0),x=Math.min(x,Math.max(Math.floor(s/m),2));!(g/B<x);){let F=I.find(R=>R>B);if(isUndef(F))throw new Error(`cannot calculate interval,range=${g}`);if(Math.abs(F)<=0&&(F=B*2),g/F<f)break;B=F}if(this.actualIntervalType=this.intervalType,this.actualMinorIntervalType=this.minorIntervalType,this.intervalType===DateTimeIntervalType.Auto&&(this.actualIntervalType=DateTimeIntervalType.Milliseconds,B>=1/24/60/60&&(this.actualIntervalType=DateTimeIntervalType.Seconds),B>=1/24/60&&(this.actualIntervalType=DateTimeIntervalType.Minutes),B>=1/24&&(this.actualIntervalType=DateTimeIntervalType.Hours),B>=1&&(this.actualIntervalType=DateTimeIntervalType.Days),B>=30&&(this.actualIntervalType=DateTimeIntervalType.Months),g>=365.25&&(this.actualIntervalType=DateTimeIntervalType.Years)),this.actualIntervalType===DateTimeIntervalType.Months){const F=g/30.5;B=super.calculateActualInterval(s,m,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,F)}if(this.actualIntervalType===DateTimeIntervalType.Years){const F=g/365.25;B=super.calculateActualInterval(s,m,this.minimumMajorIntervalCount,this.maximumMajorIntervalCount,F)}if(this.actualMinorIntervalType===DateTimeIntervalType.Auto)switch(this.actualIntervalType){case DateTimeIntervalType.Years:this.actualMinorIntervalType=DateTimeIntervalType.Months;break;case DateTimeIntervalType.Months:this.actualMinorIntervalType=DateTimeIntervalType.Days;break;case DateTimeIntervalType.Weeks:this.actualMinorIntervalType=DateTimeIntervalType.Days;break;case DateTimeIntervalType.Days:this.actualMinorIntervalType=DateTimeIntervalType.Hours;break;case DateTimeIntervalType.Hours:this.actualMinorIntervalType=DateTimeIntervalType.Minutes;break;default:this.actualMinorIntervalType=DateTimeIntervalType.Days;break}return B}createDateTickValues(s,m,f,x){const g=[];let w=lt.toDateTime(s);if(!w)return g;let C=0;switch(x){case DateTimeIntervalType.Weeks:C=this._dateService.dayOfWeek(w),w=this._dateService.addTimespan(w,TimeSpan.fromDays(-C+this.firstDayOfWeek));break;case DateTimeIntervalType.Months:w=new Date(w.getFullYear(),w.getMonth(),1);break;case DateTimeIntervalType.Years:w=new Date(w.getFullYear(),0,1);break}const A=this._dateService.addTimespan(lt.toDateTime(m),TimeSpan.fromMilliseconds(1));if(!A)return g;let _=w;const M=f*.001,P=lt.toDateTime(s-M),D=lt.toDateTime(m+M);if(!P||!D)return g;for(;_<A;)switch(_>P&&_<D&&g.push(lt.toDouble(_)),x){case DateTimeIntervalType.Months:_=this._dateService.addMonths(_,Math.ceil(f));break;case DateTimeIntervalType.Years:_=this._dateService.addYears(_,Math.ceil(f));break;default:_=this._dateService.addTimespan(_,TimeSpan.fromDays(f));break}return g}createDateTimeTickValues(s,m,f,x){return x>DateTimeIntervalType.Days?this.createDateTickValues(s,m,f,x):this.createTickValues(s,m,f)}};ee(lt,"TimeOrigin",new Date(Date.UTC(1901,0,1,0,0,0))),ee(lt,"MaxDayValue",TimeSpan.fromMilliseconds(DateTime_MaxValue.getTime()-lt.TimeOrigin.getTime()).totalDays),ee(lt,"MinDayValue",TimeSpan.fromMilliseconds(DateTime_MinValue.getTime()-lt.TimeOrigin.getTime()).totalDays);let DateTimeAxis=lt;class TimeSpanAxis extends LinearAxis{static toDouble(d){return d.totalSeconds}itemToDouble(d){return d instanceof TimeSpan?TimeSpanAxis.toDouble(d):super.itemToDouble(d)}static toTimeSpan(d){return TimeSpan.fromSeconds(d)}getValue(d){return TimeSpanAxis.toTimeSpan(d)}getDefaultStringFormatter(){function d(s){return s.toString().padStart(2,"0")}return s=>`${s.hours}:${d(s.minutes)}:${d(s.seconds)}`}formatValueOverride(d){const s=TimeSpanAxis.toTimeSpan(d),m=this.actualStringFormatter??this.stringFormatter;return m?m(s):s.toString()}calculateActualInterval(d,s,m,f){const x=Math.abs(this.clipMinimum-this.clipMaximum);let g=1;const w=[1,5,10,30,60,120,300,600,900,1200,1800,3600];for(m=Math.max(m,0),f=Math.min(f,Math.max(Math.floor(d/s),2));!(x/g<f);){let C=w.find(A=>A>g);if(C||(C=g*2),x/C<m)break;g=C}return g}}class LinearColorAxis extends LinearAxis{constructor(s){super(s);ee(this,"invalidNumberColor");ee(this,"highColor");ee(this,"lowColor");ee(this,"palette");ee(this,"renderAsImage",!1);this.position=AxisPosition.None,this.axisDistance=20,this.isPanEnabled=!1,this.isZoomEnabled=!1,this.palette=OxyPalettes.viridis(),this.lowColor=OxyColors.Undefined,this.highColor=OxyColors.Undefined,this.invalidNumberColor=OxyColors.Gray,s&&Object.assign(this,removeUndef(s))}isXyAxis(){return!1}getColor(s){return assertInteger(s,"paletteIndex"),s===Number_MIN_VALUE?this.invalidNumberColor:s===0?this.lowColor:s===this.palette.colors.length+1?this.highColor:this.palette.colors[s-1]}getColors(){return[this.lowColor,...this.palette.colors,this.highColor]}getPaletteIndex(s){if(isNaN(s))return Number_MIN_VALUE;if(!this.lowColor.isUndefined()&&s<this.clipMinimum)return 0;if(!this.highColor.isUndefined()&&s>this.clipMaximum)return this.palette.colors.length+1;let m=1+Math.floor((s-this.clipMinimum)/(this.clipMaximum-this.clipMinimum)*this.palette.colors.length);return m<1&&(m=1),m>this.palette.colors.length&&(m=this.palette.colors.length),m}async render(s,m){if(this.position!==AxisPosition.None){if(this.palette===void 0)throw new Error("No Palette defined for color axis.");if(m===0){const f=this.axisDistance;let x=this.plotModel.plotArea.left,g=this.plotModel.plotArea.top;const w=this.majorTickSize-2,C=this.majorTickSize-2;switch(this.position){case AxisPosition.Left:x=this.plotModel.plotArea.left-this.positionTierMinShift-w-f,g=this.plotModel.plotArea.top;break;case AxisPosition.Right:x=this.plotModel.plotArea.right+this.positionTierMinShift+f,g=this.plotModel.plotArea.top;break;case AxisPosition.Top:x=this.plotModel.plotArea.left,g=this.plotModel.plotArea.top-this.positionTierMinShift-C-f;break;case AxisPosition.Bottom:x=this.plotModel.plotArea.left,g=this.plotModel.plotArea.bottom+this.positionTierMinShift+f;break}if(this.renderAsImage){const A=this.transform(this.clipMaximum)-this.transform(this.clipMinimum),_=A>0,M=Math.abs(A);if(this.isHorizontal()){const P=await this.generateColorAxisImage(_);await RenderingExtensions.drawImage(s,P,x,g,M,C,1,!0)}else{const P=await this.generateColorAxisImage(_);await RenderingExtensions.drawImage(s,P,x,g,w,M,1,!0)}}else{const A=async(P,D,E)=>{const I=Math.min(P,D),B=Math.max(P,D)+.5;await s.drawRectangle(this.isHorizontal()?new OxyRect(I,g,B-I,C):new OxyRect(x,I,w,B-I),E,OxyColors.Undefined,0,this.edgeRenderingMode)},_=this.palette.colors.length;for(let P=0;P<_;P++){const D=this.transform(this.getLowValue(P)),E=this.transform(this.getHighValue(P));await A(D,E,this.palette.colors[P])}let M=10;if(this.isHorizontal()&&(M*=-1),!this.lowColor.isUndefined()){const P=this.transform(this.clipMinimum);await A(P,P+M,this.lowColor)}if(!this.highColor.isUndefined()){const P=this.transform(this.clipMaximum);await A(P,P-M,this.highColor)}}}await super.render(s,m)}}getHighValue(s){return this.getLowValue(s+1)}getLowValue(s){return s/this.palette.colors.length*(this.clipMaximum-this.clipMinimum)+this.clipMinimum}generateColorAxisImage(s){const m=this.palette.colors.length,f=this.isHorizontal()?m:1,x=this.isHorizontal()?1:m,g=new TwoDimensionalArray(f,x);for(let w=0;w<m;w++){const C=this.palette.colors[w],A=s?m-1-w:w;this.isHorizontal()?g.set(A,0,C):g.set(0,A,C)}return OxyImage.create(g,ImageFormat.Png)}}class RangeColorAxis extends LinearAxis{constructor(s){super(s);ee(this,"ranges",[]);ee(this,"invalidNumberColor");ee(this,"highColor");ee(this,"lowColor");this.position=AxisPosition.None,this.axisDistance=20,this.lowColor=OxyColors.Undefined,this.highColor=OxyColors.Undefined,this.invalidNumberColor=OxyColors.Gray,this.isPanEnabled=!1,this.isZoomEnabled=!1,s&&Object.assign(this,s)}addRange(s,m,f){this.ranges.push({lowerBound:s,upperBound:m,color:f})}clearRanges(){this.ranges.length=0}getPaletteIndex(s){if(!this.lowColor.isUndefined()&&s<this.ranges[0].lowerBound)return-1;if(!this.highColor.isUndefined()&&s>this.ranges[this.ranges.length-1].upperBound)return this.ranges.length;for(let m=0;m<this.ranges.length;m++){const f=this.ranges[m];if(f.lowerBound<=s&&f.upperBound>s)return m}return Number_MIN_VALUE}getColor(s){return s===Number_MIN_VALUE?this.invalidNumberColor:s===-1?this.lowColor:s===this.ranges.length?this.highColor:this.ranges[s].color}async render(s,m){if(this.position===AxisPosition.None)return;if(m===0){const x=this.axisDistance;let g=this.plotModel.plotArea.left,w=this.plotModel.plotArea.top;const C=this.majorTickSize-2,A=this.majorTickSize-2,_=0;switch(this.position){case AxisPosition.Left:g=this.plotModel.plotArea.left-_-C-x,w=this.plotModel.plotArea.top;break;case AxisPosition.Right:g=this.plotModel.plotArea.right+_+x,w=this.plotModel.plotArea.top;break;case AxisPosition.Top:g=this.plotModel.plotArea.left,w=this.plotModel.plotArea.top-_-A-x;break;case AxisPosition.Bottom:g=this.plotModel.plotArea.left,w=this.plotModel.plotArea.bottom+_+x;break}const M=async(I,B,F)=>{const R=Math.min(I,B),L=Math.max(I,B);await s.drawRectangle(this.isHorizontal()?new OxyRect(R,w,L-R,A):new OxyRect(g,R,C,L-R),F,OxyColors.Undefined,0,this.edgeRenderingMode)},P=this.transform(this.isReversed?this.actualMinimum:this.actualMaximum),D=this.transform(this.isReversed?this.actualMaximum:this.actualMinimum);for(const I of this.ranges){let B=this.transform(I.lowerBound),F=this.transform(I.upperBound);this.isHorizontal()?(B<D&&(B=D),F>P&&(F=P)):(B>D&&(B=D),F<P&&(F=P)),await M(B,F,I.color)}let E=10;if(this.isHorizontal()&&(E*=-1),!this.lowColor.isUndefined()){const I=this.transform(this.actualMinimum);await M(I,I+E,this.lowColor)}if(!this.highColor.isUndefined()){const I=this.transform(this.actualMaximum);await M(I,I-E,this.highColor)}}await new HorizontalAndVerticalAxisRenderer(s,this.plotModel).render(this,m)}}class MagnitudeAxisFullPlotArea extends MagnitudeAxis{constructor(s){super(s);ee(this,"_midShiftH",0);ee(this,"_midShiftV",0);this.position=AxisPosition.None,this.isPanEnabled=!0,this.isZoomEnabled=!1,this.majorGridlineStyle=LineStyle.Solid,this.minorGridlineStyle=LineStyle.Solid,s&&Object.assign(this,s)}get midShiftH(){return this._midShiftH}set midShiftH(s){this._midShiftH=s,this._midShiftH=Math.max(this._midShiftH,-.5),this._midShiftH=Math.min(this._midShiftH,.5)}get midShiftV(){return this._midShiftV}set midShiftV(s){this._midShiftV=s,this._midShiftV=Math.max(this._midShiftV,-.5),this._midShiftV=Math.min(this._midShiftV,.5)}async render(s,m){await new MagnitudeAxisFullPlotAreaRenderer(s,this.plotModel).render(this,m)}getTickValues(s,m,f){const x=OxyRect.fromScreenPoints(this.screenMin,this.screenMax),g=x.topLeft.distanceTo(this.midPoint),w=x.topRight.distanceTo(this.midPoint),C=x.bottomRight.distanceTo(this.midPoint),A=x.bottomLeft.distanceTo(this.midPoint);let _=Math.max(g,w);_=Math.max(_,C),_=Math.max(_,A);const M=this.inverseTransform(_),P=AxisUtilities.createTickValues(this.actualMinimum,M,this.actualMajorStep);let D=AxisUtilities.createTickValues(this.actualMinimum,M,this.actualMinorStep);D=AxisUtilities.filterRedundantMinorTicks(P,D);const E=P;s.length=0,s.push(...E),m.length=0,m.push(...P),f.length=0,f.push(...D)}updateTransform(s){const m=s.left,f=s.right,x=s.bottom,g=s.top;this.screenMin=new ScreenPoint(m,g),this.screenMax=new ScreenPoint(f,x),this.midPoint=new ScreenPoint((m+f)/2+this.midShiftH*s.width,(x+g)/2+this.midShiftV*s.height);const w=Math.min(Math.abs(f-m),Math.abs(g-x));let C=0,A=w*.5;const _=A-C;A=C+this.endPosition*_,C=C+this.startPosition*_;const M=this.isReversed?-1:1;this.minimumDataMargin>0&&(C+=this.minimumDataMargin*M),this.maximumDataMargin>0&&(A-=this.maximumDataMargin*M),this.actualMaximum-this.actualMinimum<=0&&(this.actualMaximum=this.actualMinimum+1);const P=this.preTransform(this.actualMaximum),D=this.preTransform(this.actualMinimum),E=C-A;let I,B;Math.abs(E)>Number.EPSILON?I=C/E*P-A/E*D:I=0;const F=P-D;Math.abs(F)>Number.EPSILON?B=(A-C)/F:B=1,this.setTransform(B,I),this.minimumDataMargin>0?this.clipMinimum=this.inverseTransform(0):this.clipMinimum=this.actualMinimum,this.maximumDataMargin>0?this.clipMaximum=this.inverseTransform(w*.5):this.clipMaximum=this.actualMaximum,this.actualMaximumAndMinimumChangedOverride()}pan(s,m){if(!this.isPanEnabled)return;const f=m.x-s.x,x=m.y-s.y,g=f/this.plotModel.plotArea.width,w=x/this.plotModel.plotArea.height;this.midShiftH+=g,this.midShiftV+=w,this.onAxisChanged({changeType:AxisChangeTypes.Pan,deltaMinimum:0,deltaMaximum:0})}zoomAt(s,m){this.isZoomEnabled&&super.zoomAt(s,0)}}class ColorAxisExtensions{static getColor(d,s){return d.getColor(d.getPaletteIndex(s))}}class CategoryColorAxis extends CategoryAxis{constructor(s){super(s);ee(this,"invalidCategoryColor",OxyColors.Undefined);ee(this,"palette");this.palette=new OxyPalette,s&&Object.assign(this,s)}getColor(s){return s===-1?this.invalidCategoryColor:s>=this.palette.colors.length?this.invalidCategoryColor:this.palette.colors[s]}getPaletteIndex(s){return Math.floor(s)}async render(s,m){if(this.position!==AxisPosition.None){if(m===0){let f=this.plotModel.plotArea.left,x=this.plotModel.plotArea.top;const g=this.majorTickSize-2,w=this.majorTickSize-2;switch(this.position){case AxisPosition.Left:f=this.plotModel.plotArea.left-this.positionTierMinShift-g,x=this.plotModel.plotArea.top;break;case AxisPosition.Right:f=this.plotModel.plotArea.right+this.positionTierMinShift,x=this.plotModel.plotArea.top;break;case AxisPosition.Top:f=this.plotModel.plotArea.left,x=this.plotModel.plotArea.top-this.positionTierMinShift-w;break;case AxisPosition.Bottom:f=this.plotModel.plotArea.left,x=this.plotModel.plotArea.bottom+this.positionTierMinShift;break}const C=async(D,E,I)=>{const B=Math.min(D,E),F=Math.max(D,E);await s.drawRectangle(this.isHorizontal()?new OxyRect(B,x,F-B,w):new OxyRect(f,B,g,F-B),I,OxyColors.Undefined,0,this.edgeRenderingMode)},A=[],_=[],M=[];this.getTickValues(A,_,M);const P=this.palette.colors.length;for(let D=0;D<P;D++){const E=this.transform(this.getLowValue(D,A)),I=this.transform(this.getHighValue(D,A));await C(E,I,this.palette.colors[D])}}await super.render(s,m)}}getHighValue(s,m){return s>=this.palette.colors.length-1?this.clipMaximum:(m[s]+m[s+1])/2}getLowValue(s,m){return s===0?this.clipMinimum:(m[s-1]+m[s])/2}}const Pt=class Pt{constructor(d,s){ee(this,"_x");ee(this,"_y");this._x=d,this._y=s}get x(){return this._x}get y(){return this._y}equals(d){return this._x===d._x&&this._y===d._y}plus(d){const s=this;return new Pt(s._x+d.x,s._y+d.y)}minus(d){const s=this;return new DataVector(s._x-d._x,s._y-d._y)}minusVector(d){const s=this;return new Pt(s._x-d.x,s._y-d.y)}toString(){return`${this._x} ${this._y}`}isDefined(){return this._x===this._x&&this._y===this._y}};ee(Pt,"Undefined",new Pt(NaN,NaN)),ee(Pt,"Zero",new Pt(0,0));let DataPoint=Pt;const Tt=class Tt{constructor(d,s){ee(this,"_x");ee(this,"_y");this._x=d,this._y=s}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}times(d){const s=this;return new Tt(s._x*d,s._y*d)}plus(d){const s=this;return new Tt(s._x+d._x,s._y+d._y)}minus(d){const s=this;return new Tt(s._x-d._x,s._y-d._y)}negate(){const d=this;return new Tt(-d._x,-d._y)}equals(d){return this._x===d._x&&this._y===d._y}toString(){return`${this._x} ${this._y}`}isDefined(){return this._x===this._x&&this._y===this._y}};ee(Tt,"Undefined",new Tt(NaN,NaN));let DataVector=Tt;function isDataPointProvider(a){return a.getDataPoint&&typeof a.getDataPoint=="function"}var MarkerType=(a=>(a[a.None=0]="None",a[a.Circle=1]="Circle",a[a.Square=2]="Square",a[a.Diamond=3]="Diamond",a[a.Triangle=4]="Triangle",a[a.Cross=5]="Cross",a[a.Plus=6]="Plus",a[a.Star=7]="Star",a[a.Custom=8]="Custom",a))(MarkerType||{});class CodeGenerator{constructor(d){this.model=d}toCode(){throw new Error("Not supported")}static formatCode(d,...s){throw new Error("Not supported")}static formatConstructor(d,s,...m){throw new Error("Not supported")}}var PlotLengthUnit=(a=>(a[a.Data=0]="Data",a[a.ScreenUnits=1]="ScreenUnits",a[a.RelativeToViewport=2]="RelativeToViewport",a[a.RelativeToPlotArea=3]="RelativeToPlotArea",a))(PlotLengthUnit||{});class PlotLength{constructor(d,s){ee(this,"_unit");ee(this,"_value");this._value=d,this._unit=s}get value(){return this._value}get unit(){return this._unit}equals(d){return this._value===d.value&&this._unit===d.unit}}var CursorType=(a=>(a[a.Default=0]="Default",a[a.Pan=1]="Pan",a[a.ZoomRectangle=2]="ZoomRectangle",a[a.ZoomHorizontal=3]="ZoomHorizontal",a[a.ZoomVertical=4]="ZoomVertical",a))(CursorType||{});function newElementCollection(a){const d=[];return new Proxy(d,{deleteProperty:function(s,m){const f=s[m];return f&&f instanceof Element$1&&(f.parent=void 0),delete s[m],!0},set:function(s,m,f,x){return s[m]=f,m==="length"||f&&f instanceof Element$1&&(f.parent=a),!0}})}class HitTestArguments{constructor(d,s){ee(this,"point");ee(this,"tolerance");this.point=d,this.tolerance=s}}class ManipulatorBase{constructor(d){ee(this,"view");this.view=d}completed(d){}delta(d){}started(d){}}const Rt=class Rt{constructor(){ee(this,"selectionColor");ee(this,"currentMouseEventElement");ee(this,"currentTouchEventElement");ee(this,"keyDown");ee(this,"mouseDown");ee(this,"mouseMove");ee(this,"mouseUp");ee(this,"mouseEnter");ee(this,"mouseLeave");ee(this,"touchStarted");ee(this,"touchDelta");ee(this,"touchCompleted");this.selectionColor=OxyColors.Yellow}hitTest(d){const s=this.getHitTestElements(),m=[];for(const f of s){const x=f.hitTest(d);x&&m.push(x)}return m}handleMouseDown(d,s){const m=new HitTestArguments(s.position,Rt.mouseHitTolerance);for(const f of this.hitTest(m)){s.hitTestResult=f;const x=f.element;if(x.onMouseDown(s),s.handled){this.currentMouseEventElement=x;return}}s.handled||this.onMouseDown(d,s)}handleMouseMove(d,s){this.currentMouseEventElement&&this.currentMouseEventElement.onMouseMove(s),s.handled||this.onMouseMove(d,s)}handleMouseUp(d,s){this.currentMouseEventElement&&(this.currentMouseEventElement.onMouseUp(s),this.currentMouseEventElement=void 0),s.handled||this.onMouseUp(d,s)}handleMouseEnter(d,s){s.handled||this.onMouseEnter(d,s)}handleMouseLeave(d,s){s.handled||this.onMouseLeave(d,s)}handleTouchStarted(d,s){const m=new HitTestArguments(s.position,Rt.mouseHitTolerance);for(const f of this.hitTest(m)){const x=f.element;if(x.onTouchStarted(s),s.handled){this.currentTouchEventElement=x;return}}s.handled||this.onTouchStarted(d,s)}handleTouchDelta(d,s){this.currentTouchEventElement&&this.currentTouchEventElement.onTouchDelta(s),s.handled||this.onTouchDelta(d,s)}handleTouchCompleted(d,s){this.currentTouchEventElement&&(this.currentTouchEventElement.onTouchCompleted(s),this.currentTouchEventElement=void 0),s.handled||this.onTouchCompleted(d,s)}handleKeyDown(d,s){for(const m of this.getHitTestElements())if(m.onKeyDown(s),s.handled)break;s.handled||this.onKeyDown(d,s)}onKeyDown(d,s){const m=this.keyDown;m&&m(d,s)}onMouseDown(d,s){const m=this.mouseDown;m&&m(d,s)}onMouseMove(d,s){const m=this.mouseMove;m&&m(d,s)}onMouseUp(d,s){const m=this.mouseUp;m&&m(d,s)}onMouseEnter(d,s){const m=this.mouseEnter;m&&m(d,s)}onMouseLeave(d,s){const m=this.mouseLeave;m&&m(d,s)}onTouchStarted(d,s){const m=this.touchStarted;m&&m(d,s)}onTouchDelta(d,s){const m=this.touchDelta;m&&m(d,s)}onTouchCompleted(d,s){const m=this.touchCompleted;m&&m(d,s)}};ee(Rt,"DefaultSelectionColor",OxyColors.Yellow),ee(Rt,"mouseHitTolerance",10);let Model=Rt;const It=class It{constructor(){ee(this,"selection",new Map)}static get Everything(){return It.EverythingSelection}isEverythingSelected(){return this===It.EverythingSelection}getSelectedItems(){return Array.from(this.selection.keys()).map(d=>d.Index)}getSelectedItemsByFeature(d){return Array.from(this.selection.keys()).filter(s=>s.Feature===d).map(s=>s.Index)}clear(){this.selection.clear()}isItemSelected(d,s=null){if(this.isEverythingSelected())return!0;const m=new SelectionItem(d,s);return this.hasSelection(m)}select(d,s=null){const m=new SelectionItem(d,s);this.setSelection(m,!0)}unselect(d,s=null){const m=new SelectionItem(d,s);if(!this.hasSelection(m))throw new Error(`Item ${d} and feature ${s} is not selected. Cannot unselect.`);this.deleteSelection(m)}getSameKey(d){for(const s of this.selection.keys())if(s.equals(d))return s}hasSelection(d){return!!this.getSameKey(d)}deleteSelection(d){const s=this.getSameKey(d);s&&this.selection.delete(s)}setSelection(d,s){const m=this.getSameKey(d)||d;this.selection.set(m,s)}};ee(It,"EverythingSelection",new It);let Selection=It;class SelectionItem{constructor(d,s){ee(this,"index");ee(this,"feature");this.index=d,this.feature=s}get Index(){return this.index}get Feature(){return this.feature}equals(d){return d.index===this.index&&d.feature===this.feature}}var SelectionMode=(a=>(a[a.All=0]="All",a[a.Single=1]="Single",a[a.Multiple=2]="Multiple",a))(SelectionMode||{});class InputCommandBinding{constructor(d,s){ee(this,"gesture");ee(this,"command");this.gesture=d,this.command=s}static fromKeyGesture(d,s,m){return new InputCommandBinding(new OxyKeyGesture(d,s),m)}static fromMouseGesture(d,s,m){return new InputCommandBinding(new OxyMouseDownGesture(d,s),m)}getGesture(){return this.gesture}getCommand(){return this.command}}class ControllerBase{constructor(){ee(this,"inputCommandBindings",[]);ee(this,"mouseDownManipulators",[]);ee(this,"mouseHoverManipulators",[]);ee(this,"touchManipulators",[])}handleGesture(d,s,m){const f=this.getCommand(s);return this.handleCommand(f,d,m)}handleMouseDown(d,s){if(d.actualModel&&(d.actualModel.handleMouseDown(this,s),s.handled))return!0;const m=this.getCommand(new OxyMouseDownGesture(s.changedButton,s.modifierKeys,s.clickCount));return this.handleCommand(m,d,s)}handleMouseEnter(d,s){if(d.actualModel&&(d.actualModel.handleMouseEnter(this,s),s.handled))return!0;const m=this.getCommand(new OxyMouseEnterGesture(s.modifierKeys));return this.handleCommand(m,d,s)}handleMouseLeave(d,s){if(d.actualModel&&(d.actualModel.handleMouseLeave(this,s),s.handled))return!0;for(const m of[...this.mouseHoverManipulators])m.completed(s),arrayRemoveFirst(this.mouseHoverManipulators,m);return s.handled}handleMouseMove(d,s){if(d.actualModel&&(d.actualModel.handleMouseMove(this,s),s.handled))return!0;for(const m of this.mouseDownManipulators)m.delta(s);for(const m of this.mouseHoverManipulators)m.delta(s);return s.handled}handleMouseUp(d,s){if(d.actualModel&&(d.actualModel.handleMouseUp(this,s),s.handled))return!0;for(const m of[...this.mouseDownManipulators])m.completed(s),arrayRemoveFirst(this.mouseDownManipulators,m);return s.handled}handleMouseWheel(d,s){const m=this.getCommand(new OxyMouseWheelGesture(s.modifierKeys));return this.handleCommand(m,d,s)}handleTouchStarted(d,s){if(d.actualModel&&(d.actualModel.handleTouchStarted(this,s),s.handled))return!0;const m=this.getCommand(new OxyTouchGesture);return this.handleCommand(m,d,s)}handleTouchDelta(d,s){if(d.actualModel&&(d.actualModel.handleTouchDelta(this,s),s.handled))return!0;for(const m of this.touchManipulators)m.delta(s);return s.handled}handleTouchCompleted(d,s){if(d.actualModel&&(d.actualModel.handleTouchCompleted(this,s),s.handled))return!0;for(const m of[...this.touchManipulators])m.completed(s),arrayRemoveFirst(this.touchManipulators,m);return s.handled}handleKeyDown(d,s){if(!d.actualModel)return!1;if(d.actualModel.handleKeyDown(this,s),s.handled)return!0;const m=this.getCommand(new OxyKeyGesture(s.key,s.modifierKeys));return this.handleCommand(m,d,s)}addMouseManipulator(d,s,m){this.mouseDownManipulators.push(s),s.started(m)}addHoverManipulator(d,s,m){this.mouseHoverManipulators.push(s),s.started(m)}addTouchManipulator(d,s,m){this.touchManipulators.push(s),s.started(m)}bindMouseDown(d,s){this.bindCore(d,s)}bindMouseEnter(d,s){this.bindCore(d,s)}bindMouseWheel(d,s){this.bindCore(d,s)}bindTouch(d,s){this.bindCore(d,s)}bindKey(d,s){this.bindCore(d,s)}unbindInput(d){arrayRemoveIf(this.inputCommandBindings,s=>s.getGesture().equals(d))}unbindViewCommand(d){arrayRemoveIf(this.inputCommandBindings,s=>s.getCommand()===d)}unbindAll(){this.inputCommandBindings.length=0}bindCore(d,s){const m=this.inputCommandBindings.find(f=>f.getGesture().equals(d));m&&arrayRemoveFirst(this.inputCommandBindings,m),s&&this.inputCommandBindings.push(new InputCommandBinding(d,s))}getCommand(d){const s=this.inputCommandBindings.find(m=>m.getGesture().equals(d));return s?s.getCommand():void 0}handleCommand(d,s,m){return d?(d.execute(s,this,m),m.handled):!1}}class ControllerExtensions{static bindKeyDown(d,s,m,f=OxyModifierKeys.None){d.bindKey(new OxyKeyGesture(s,f),m)}static bindMouseDown(d,s,m,f=OxyModifierKeys.None,x=1){d.bindMouseDown(new OxyMouseDownGesture(s,f,x),m)}static bindTouchDown(d,s){d.bindTouch(new OxyTouchGesture,s)}static bindMouseEnter(d,s){d.bindMouseEnter(new OxyMouseEnterGesture,s)}static bindMouseWheel(d,s,m=OxyModifierKeys.None){d.bindMouseWheel(new OxyMouseWheelGesture(m),s)}static unbindMouseDown(d,s,m=OxyModifierKeys.None,f=1){d.unbindInput(new OxyMouseDownGesture(s,m,f))}static unbindKeyDown(d,s,m=OxyModifierKeys.None){d.unbindInput(new OxyKeyGesture(s,m))}static unbindMouseEnter(d){d.unbindInput(new OxyMouseEnterGesture)}static unbindTouchDown(d){d.unbindInput(new OxyTouchGesture)}static unbindMouseWheel(d){d.unbindInput(new OxyMouseWheelGesture)}}class DelegateViewCommand{constructor(d){ee(this,"handler");this.handler=d}execute(d,s,m){this.handler(d,s,m)}}var ImageFormat=(a=>(a[a.Png=0]="Png",a[a.Bmp=1]="Bmp",a[a.Jpeg=2]="Jpeg",a[a.Unknown=3]="Unknown",a))(ImageFormat||{});class OxyImage{constructor(d){ee(this,"_data");ee(this,"uri");ee(this,"format",ImageFormat.Unknown);ee(this,"width",0);ee(this,"height",0);ee(this,"bitsPerPixel",0);ee(this,"dpiX",96);ee(this,"dpiY",96);this._data=d}static async create(d,s,m,f){const x=getImageService(),g=d.height,w=d.width,C={pixels:d,palette:f,imageInfo:{width:w,height:g,bitsPerPixel:0,dpiX:m==null?void 0:m.dpiX,dpiY:m==null?void 0:m.dpiY,format:s}},A=await x.encode(C),_=new OxyImage(A);return _.width=w,_.height=g,_}get data(){return this._data}static getImageFormat(d){return d.length>=2&&d[0]===255&&d[1]===216?ImageFormat.Jpeg:d.length>=2&&d[0]===66&&d[1]===77?ImageFormat.Bmp:d.length>=4&&d[0]===137&&d[1]===80&&d[2]===78&&d[3]===71?ImageFormat.Png:ImageFormat.Unknown}}var OxyKey=(a=>(a[a.Space=0]="Space",a[a.Enter=1]="Enter",a[a.Escape=2]="Escape",a[a.Tab=3]="Tab",a[a.Backspace=4]="Backspace",a[a.Insert=5]="Insert",a[a.Delete=6]="Delete",a[a.Home=7]="Home",a[a.End=8]="End",a[a.Up=9]="Up",a[a.Down=10]="Down",a[a.Left=11]="Left",a[a.Right=12]="Right",a[a.PageUp=13]="PageUp",a[a.PageDown=14]="PageDown",a[a.A=15]="A",a[a.B=16]="B",a[a.C=17]="C",a[a.D=18]="D",a[a.E=19]="E",a[a.F=20]="F",a[a.G=21]="G",a[a.H=22]="H",a[a.I=23]="I",a[a.J=24]="J",a[a.K=25]="K",a[a.L=26]="L",a[a.M=27]="M",a[a.N=28]="N",a[a.O=29]="O",a[a.P=30]="P",a[a.Q=31]="Q",a[a.R=32]="R",a[a.S=33]="S",a[a.T=34]="T",a[a.U=35]="U",a[a.V=36]="V",a[a.W=37]="W",a[a.X=38]="X",a[a.Y=39]="Y",a[a.Z=40]="Z",a[a.D0=41]="D0",a[a.D1=42]="D1",a[a.D2=43]="D2",a[a.D3=44]="D3",a[a.D4=45]="D4",a[a.D5=46]="D5",a[a.D6=47]="D6",a[a.D7=48]="D7",a[a.D8=49]="D8",a[a.D9=50]="D9",a[a.NumPad0=51]="NumPad0",a[a.NumPad1=52]="NumPad1",a[a.NumPad2=53]="NumPad2",a[a.NumPad3=54]="NumPad3",a[a.NumPad4=55]="NumPad4",a[a.NumPad5=56]="NumPad5",a[a.NumPad6=57]="NumPad6",a[a.NumPad7=58]="NumPad7",a[a.NumPad8=59]="NumPad8",a[a.NumPad9=60]="NumPad9",a[a.Add=61]="Add",a[a.Subtract=62]="Subtract",a[a.Multiply=63]="Multiply",a[a.Divide=64]="Divide",a[a.Decimal=65]="Decimal",a[a.F1=66]="F1",a[a.F2=67]="F2",a[a.F3=68]="F3",a[a.F4=69]="F4",a[a.F5=70]="F5",a[a.F6=71]="F6",a[a.F7=72]="F7",a[a.F8=73]="F8",a[a.F9=74]="F9",a[a.F10=75]="F10",a[a.F11=76]="F11",a[a.F12=77]="F12",a[a.Unknown=78]="Unknown",a))(OxyKey||{}),OxyModifierKeys=(a=>(a[a.None=0]="None",a[a.Control=1]="Control",a[a.Alt=2]="Alt",a[a.Shift=4]="Shift",a[a.Windows=8]="Windows",a))(OxyModifierKeys||{}),OxyMouseButton=(a=>(a[a.None=0]="None",a[a.Left=1]="Left",a[a.Middle=2]="Middle",a[a.Right=3]="Right",a[a.XButton1=4]="XButton1",a[a.XButton2=5]="XButton2",a))(OxyMouseButton||{});class OxyKeyGesture{constructor(d,s=OxyModifierKeys.None){this.key=d,this.modifiers=s}equals(d){if(!(d instanceof OxyKeyGesture))return!1;const s=d;return s.modifiers===this.modifiers&&s.key===this.key}}class OxyMouseDownGesture{constructor(d,s=OxyModifierKeys.None,m=1){this.mouseButton=d,this.modifiers=s,this.clickCount=m}equals(d){if(!(d instanceof OxyMouseDownGesture))return!1;const s=d;return s.modifiers===this.modifiers&&s.mouseButton===this.mouseButton&&s.clickCount===this.clickCount}}class OxyMouseEnterGesture{constructor(d=OxyModifierKeys.None){this.modifiers=d}equals(d){return d instanceof OxyMouseEnterGesture?d.modifiers===this.modifiers:!1}}class OxyMouseWheelGesture{constructor(d=OxyModifierKeys.None){this.modifiers=d}equals(d){return d instanceof OxyMouseWheelGesture?d.modifiers===this.modifiers:!1}}class OxyShakeGesture{equals(d){return d instanceof OxyShakeGesture}}class OxyTouchGesture{equals(d){return d instanceof OxyTouchGesture}}var LegendPlacement=(a=>(a[a.Inside=0]="Inside",a[a.Outside=1]="Outside",a))(LegendPlacement||{}),LegendPosition=(a=>(a[a.TopLeft=0]="TopLeft",a[a.TopCenter=1]="TopCenter",a[a.TopRight=2]="TopRight",a[a.BottomLeft=3]="BottomLeft",a[a.BottomCenter=4]="BottomCenter",a[a.BottomRight=5]="BottomRight",a[a.LeftTop=6]="LeftTop",a[a.LeftMiddle=7]="LeftMiddle",a[a.LeftBottom=8]="LeftBottom",a[a.RightTop=9]="RightTop",a[a.RightMiddle=10]="RightMiddle",a[a.RightBottom=11]="RightBottom",a))(LegendPosition||{});const isLeftLegend=a=>a===6||a===7||a===8,isRightLegend=a=>a===9||a===10||a===11,isTopLegend=a=>a===0||a===1||a===2,isBottomLegend=a=>a===3||a===4||a===5;var LegendOrientation=(a=>(a[a.Horizontal=0]="Horizontal",a[a.Vertical=1]="Vertical",a))(LegendOrientation||{}),LegendItemOrder=(a=>(a[a.Normal=0]="Normal",a[a.Reverse=1]="Reverse",a))(LegendItemOrder||{}),LegendSymbolPlacement=(a=>(a[a.Left=0]="Left",a[a.Right=1]="Right",a))(LegendSymbolPlacement||{});class LegendBase extends PlotElement{constructor(s){super(s);ee(this,"key");ee(this,"isLegendVisible",!1);ee(this,"legendOrientation",0);ee(this,"legendPadding",0);ee(this,"legendSymbolLength",0);ee(this,"legendSymbolMargin",0);ee(this,"legendSymbolPlacement",0);ee(this,"legendTitle");ee(this,"legendTitleColor",OxyColors.Undefined);ee(this,"legendTitleFont");ee(this,"legendTitleFontSize",0);ee(this,"legendTitleFontWeight",0);ee(this,"legendArea",OxyRect.Empty);ee(this,"legendSize",OxySize.Empty);ee(this,"legendBackground",OxyColors.Undefined);ee(this,"legendBorder",OxyColors.Undefined);ee(this,"legendBorderThickness",0);ee(this,"legendColumnSpacing",0);ee(this,"legendFont");ee(this,"legendFontSize",0);ee(this,"legendTextColor");ee(this,"legendFontWeight",0);ee(this,"legendItemAlignment",HorizontalAlignment.Left);ee(this,"legendItemOrder",0);ee(this,"legendItemSpacing",0);ee(this,"legendLineSpacing",0);ee(this,"legendMargin",0);ee(this,"legendMaxWidth",0);ee(this,"legendMaxHeight",0);ee(this,"legendPlacement",0);ee(this,"legendPosition",0);ee(this,"allowUseFullExtent",!1);ee(this,"showInvisibleSeries",!1)}hitTestOverride(s){return this.legendHitTest(s)}}class Legend extends LegendBase{constructor(s){super(s);ee(this,"legendBox");ee(this,"seriesPosMap",new Map);ee(this,"groupNameFont");ee(this,"groupNameFontSize");ee(this,"groupNameFontWeight");ee(this,"seriesInvisibleTextColor");this.isLegendVisible=!0,this.legendBox=OxyRect.Empty,this.key=void 0,this.groupNameFont=void 0,this.groupNameFontWeight=FontWeights.Normal,this.groupNameFontSize=NaN,this.legendTitleFont=void 0,this.legendTitleFontSize=NaN,this.legendTitleFontWeight=FontWeights.Bold,this.legendFont=void 0,this.legendFontSize=NaN,this.legendFontWeight=FontWeights.Normal,this.legendSymbolLength=16,this.legendSymbolMargin=4,this.legendPadding=8,this.legendColumnSpacing=8,this.legendItemSpacing=24,this.legendLineSpacing=0,this.legendMargin=8,this.legendBackground=OxyColors.Undefined,this.legendBorder=OxyColors.Undefined,this.legendBorderThickness=1,this.legendTextColor=OxyColors.Automatic,this.legendTitleColor=OxyColors.Automatic,this.legendMaxWidth=NaN,this.legendMaxHeight=NaN,this.legendPlacement=LegendPlacement.Inside,this.legendPosition=LegendPosition.RightTop,this.legendOrientation=LegendOrientation.Vertical,this.legendItemOrder=LegendItemOrder.Normal,this.legendItemAlignment=HorizontalAlignment.Left,this.legendSymbolPlacement=LegendSymbolPlacement.Left,this.showInvisibleSeries=!0,this.seriesInvisibleTextColor=OxyColor.fromAColor(64,this.legendTextColor),this.selectable=!0,this.selectionMode=SelectionMode.Single,s&&Object.assign(this,removeUndef(s))}legendHitTest(s){if(!this.isLegendVisible||!this.plotModel.isLegendVisible)return;const m=s.point;if(this.isPointInLegend(m)&&this.seriesPosMap&&this.seriesPosMap.size>0){for(const[f,x]of this.seriesPosMap)if(x.containsPoint(m)&&this.showInvisibleSeries){f.isVisible=!f.isVisible,this.plotModel.invalidatePlot(!1);break}}}isPointInLegend(s){return this.legendBox.containsPoint(s)}ensureLegendProperties(){switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:this.legendOrientation===LegendOrientation.Horizontal&&(this.legendOrientation=LegendOrientation.Vertical);break}}async renderLegends(s){await this.renderOrMeasureLegends(s,this.legendArea)}async getLegendSize(s,m){const f=m.width,x=m.height;let g=await this.measureLegends(s,new OxySize(Math.max(0,f),Math.max(0,x)));return g=new OxySize(Math.max(0,g.width),Math.max(0,g.height)),g}getLegendRectangle(s){let m=0,f=0;if(this.legendPlacement===LegendPlacement.Outside){switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:f=this.plotModel.plotAndAxisArea.left-s.width-this.legendMargin;break;case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:f=this.plotModel.plotAndAxisArea.right+this.legendMargin;break;case LegendPosition.TopLeft:case LegendPosition.TopCenter:case LegendPosition.TopRight:m=this.plotModel.plotAndAxisArea.top-s.height-this.legendMargin;break;case LegendPosition.BottomLeft:case LegendPosition.BottomCenter:case LegendPosition.BottomRight:m=this.plotModel.plotAndAxisArea.bottom+this.legendMargin;break}const x=this.allowUseFullExtent?this.plotModel.plotAndAxisArea:this.plotModel.plotArea;switch(this.legendPosition){case LegendPosition.TopLeft:case LegendPosition.BottomLeft:f=x.left;break;case LegendPosition.TopRight:case LegendPosition.BottomRight:f=x.right-s.width;break;case LegendPosition.LeftTop:case LegendPosition.RightTop:m=x.top;break;case LegendPosition.LeftBottom:case LegendPosition.RightBottom:m=x.bottom-s.height;break;case LegendPosition.LeftMiddle:case LegendPosition.RightMiddle:m=(x.top+x.bottom-s.height)*.5;break;case LegendPosition.TopCenter:case LegendPosition.BottomCenter:f=(x.left+x.right-s.width)*.5;break}}else{switch(this.legendPosition){case LegendPosition.LeftTop:case LegendPosition.LeftMiddle:case LegendPosition.LeftBottom:f=this.plotModel.plotArea.left+this.legendMargin;break;case LegendPosition.RightTop:case LegendPosition.RightMiddle:case LegendPosition.RightBottom:f=this.plotModel.plotArea.right-s.width-this.legendMargin;break;case LegendPosition.TopLeft:case LegendPosition.TopCenter:case LegendPosition.TopRight:m=this.plotModel.plotArea.top+this.legendMargin;break;case LegendPosition.BottomLeft:case LegendPosition.BottomCenter:case LegendPosition.BottomRight:m=this.plotModel.plotArea.bottom-s.height-this.legendMargin;break}switch(this.legendPosition){case LegendPosition.TopLeft:case LegendPosition.BottomLeft:f=this.plotModel.plotArea.left+this.legendMargin;break;case LegendPosition.TopRight:case LegendPosition.BottomRight:f=this.plotModel.plotArea.right-s.width-this.legendMargin;break;case LegendPosition.LeftTop:case LegendPosition.RightTop:m=this.plotModel.plotArea.top+this.legendMargin;break;case LegendPosition.LeftBottom:case LegendPosition.RightBottom:m=this.plotModel.plotArea.bottom-s.height-this.legendMargin;break;case LegendPosition.LeftMiddle:case LegendPosition.RightMiddle:m=(this.plotModel.plotArea.top+this.plotModel.plotArea.bottom-s.height)*.5;break;case LegendPosition.TopCenter:case LegendPosition.BottomCenter:f=(this.plotModel.plotArea.left+this.plotModel.plotArea.right-s.width)*.5;break}}return new OxyRect(f,m,s.width,s.height)}async renderLegend(s,m,f){let x=this.legendItemAlignment;this.legendOrientation===LegendOrientation.Horizontal&&(x=HorizontalAlignment.Left);let g=f.left;switch(x){case HorizontalAlignment.Center:g=(f.left+f.right)/2,this.legendSymbolPlacement===LegendSymbolPlacement.Left?g-=(this.legendSymbolLength+this.legendSymbolMargin)/2:g-=(this.legendSymbolLength+this.legendSymbolMargin)/2;break;case HorizontalAlignment.Right:g=f.right,this.legendSymbolPlacement===LegendSymbolPlacement.Right&&(g-=this.legendSymbolLength+this.legendSymbolMargin);break}this.legendSymbolPlacement===LegendSymbolPlacement.Left&&(g+=this.legendSymbolLength+this.legendSymbolMargin);const w=f.top,C=new OxySize(Math.max(f.width-this.legendSymbolLength-this.legendSymbolMargin,0),f.height),A=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize;let _=m.isVisible?this.legendTextColor:this.seriesInvisibleTextColor;_=_||OxyColors.Black,s.setToolTip(m.toolTip);const M=await MathRenderingExtensions.drawMathText(s,new ScreenPoint(g,w),m.title||"",_.getActualColor(this.plotModel.textColor),this.legendFont??this.plotModel.defaultFont,A,this.legendFontWeight,0,x,VerticalAlignment.Top,C,!0);this.seriesPosMap.set(m,OxyRect.fromScreenPointAndSize(new ScreenPoint(g,w),M));let P=g;switch(x){case HorizontalAlignment.Center:P=g-M.width*.5;break;case HorizontalAlignment.Right:P=g-M.width;break}if(m.isVisible){const D=new OxyRect(this.legendSymbolPlacement===LegendSymbolPlacement.Right?P+M.width+this.legendSymbolMargin:P-this.legendSymbolMargin-this.legendSymbolLength,f.top,this.legendSymbolLength,M.height);await m.renderLegend(s,D)}s.setToolTip(void 0)}measureLegends(s,m){return this.renderOrMeasureLegends(s,new OxyRect(0,0,m.width,m.height),!0)}async renderOrMeasureLegends(s,m,f=!1){if(!f&&m.width>0&&m.height>0){this.legendBox=m;const W=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await s.drawRectangle(m,this.legendBackground,this.legendBorder,this.legendBorderThickness,W)}const x=m.width,g=m.height;let w=this.legendPadding,C=this.legendPadding,A=OxySize.Empty;const _=isNaN(this.legendFontSize)?this.plotModel.defaultFontSize:this.legendFontSize,M=isNaN(this.legendTitleFontSize)?_:this.legendTitleFontSize,P=isNaN(this.groupNameFontSize)?_:this.groupNameFontSize;if(this.legendTitle){let W;f?W=await MathRenderingExtensions.measureMathText(s,this.legendTitle,this.legendTitleFont??this.plotModel.defaultFont,M,this.legendTitleFontWeight):W=await MathRenderingExtensions.drawMathText(s,new ScreenPoint(m.left+w,m.top+C),this.legendTitle,this.legendTitleColor.getActualColor(this.plotModel.textColor),this.legendTitleFont??this.plotModel.defaultFont,M,this.legendTitleFontWeight,0,HorizontalAlignment.Left,VerticalAlignment.Top,void 0,!0),C+=W.height,A=new OxySize(w+W.width+this.legendPadding,C+W.height)}let D=C,E=0;const I=.001;let B=0;const F=getReversedCopy(this.plotModel.series),R=this.legendItemOrder===LegendItemOrder.Reverse?F.filter(W=>W.renderInLegend&&W.legendKey===this.key):this.plotModel.series.filter(W=>W.renderInLegend&&W.legendKey===this.key),L=[];for(const W of R)L.includes(W.seriesGroupName||"")||L.push(W.seriesGroupName||"");this.seriesPosMap.clear();const z=new Map,G=async()=>{const W=[];for(const[K,q]of z){if(K.seriesGroupName&&!W.includes(K.seriesGroupName)){W.push(K.seriesGroupName);const ie=await MathRenderingExtensions.measureMathText(s,K.seriesGroupName,this.groupNameFont??this.plotModel.defaultFont,P,this.groupNameFontWeight);let se=q.top,oe=q.left;this.legendOrientation===LegendOrientation.Vertical?se-=ie.height+this.legendLineSpacing/2:oe-=ie.width+this.legendItemSpacing/2,await MathRenderingExtensions.drawMathText(s,new ScreenPoint(oe,se),K.seriesGroupName,this.legendTitleColor.getActualColor(this.plotModel.textColor),this.groupNameFont??this.plotModel.defaultFont,P,this.groupNameFontWeight,0,HorizontalAlignment.Left,VerticalAlignment.Top,void 0,!0)}let Z=x;q.left+Z+this.legendPadding>m.left+x&&(Z=m.left+x-q.left-this.legendPadding);let J=q.height;m.top+J+this.legendPadding>m.top+g&&(J=m.top+g-m.top-this.legendPadding);const Q=new OxyRect(q.left,q.top,Math.max(Z,0),Math.max(J,0));await this.renderLegend(s,K,Q)}W.length=0,z.clear()};f||s.pushClip(m);for(const W of L){const K=R.filter(J=>(J.seriesGroupName||"")===W);let q=OxySize.Empty;K.length>0&&W&&(q=await MathRenderingExtensions.measureMathText(s,W,this.groupNameFont??this.plotModel.defaultFont,P,this.groupNameFontWeight),this.legendOrientation===LegendOrientation.Vertical?D+=q.height:w+=q.width);let Z=0;for(const J of K){if(!J.title||!J.renderInLegend||!J.isVisible&&!this.showInvisibleSeries)continue;const Q=await MathRenderingExtensions.measureMathText(s,J.title,this.legendFont??this.plotModel.defaultFont,_,this.legendFontWeight),ie=this.legendSymbolLength+this.legendSymbolMargin+Q.width,se=Q.height;this.legendOrientation===LegendOrientation.Horizontal?(w>this.legendPadding&&(w+=this.legendItemSpacing),w+ie>x-this.legendPadding+I&&(w=this.legendPadding,Z===0&&q.width>0&&(w+=q.width+this.legendItemSpacing),D+=E+this.legendLineSpacing,E=0),E=Math.max(E,Q.height),f||z.set(J,new OxyRect(m.left+w,m.top+D,ie,se)),w+=ie,w=Math.max(q.width,w),A=new OxySize(Math.max(A.width,w),Math.max(A.height,D+Q.height))):(D+se>g-this.legendPadding+I&&(await G(),D=C+q.height,w+=B+this.legendColumnSpacing,B=0),f||z.set(J,new OxyRect(m.left+w,m.top+D,ie,se)),D+=se+this.legendLineSpacing,B=Math.max(B,ie),A=new OxySize(Math.max(A.width,w+ie),Math.max(A.height,D))),Z++}await G()}return f||s.popClip(),A.width>0&&(A=new OxySize(A.width+this.legendPadding,A.height)),A.height>0&&(A=new OxySize(A.width,A.height+this.legendPadding)),A.width>x&&(A=new OxySize(x,A.height)),A.height>g&&(A=new OxySize(A.width,g)),!isNaN(this.legendMaxWidth)&&A.width>this.legendMaxWidth&&(A=new OxySize(this.legendMaxWidth,A.height)),!isNaN(this.legendMaxHeight)&&A.height>this.legendMaxHeight&&(A=new OxySize(A.width,this.legendMaxHeight)),A}}class OxyModifierKeysExtensions{static isAltDown(d){return(d.modifierKeys&OxyModifierKeys.Alt)===OxyModifierKeys.Alt}static isControlDown(d){return(d.modifierKeys&OxyModifierKeys.Control)===OxyModifierKeys.Control}static isShiftDown(d){return(d.modifierKeys&OxyModifierKeys.Shift)===OxyModifierKeys.Shift}}class TrackerHitResult{constructor(d){ee(this,"dataPoint");ee(this,"item");ee(this,"index",0);ee(this,"lineExtents");ee(this,"plotModel");ee(this,"position");ee(this,"series");ee(this,"text");d&&Object.assign(this,removeUndef(d))}get xAxis(){return!this.series||!(this.series instanceof XYAxisSeries)?void 0:this.series.xAxis}get yAxis(){return!this.series||!(this.series instanceof XYAxisSeries)?void 0:this.series.yAxis}toString(){return this.text?this.text.trim():""}}var AxisPreference=(a=>(a[a.None=0]="None",a[a.X=1]="X",a[a.Y=2]="Y",a))(AxisPreference||{});class PlotManipulator extends ManipulatorBase{constructor(s){super(s);ee(this,"plotView");ee(this,"axisPreference",AxisPreference.None);ee(this,"xAxis");ee(this,"yAxis");this.plotView=s}inverseTransform(s,m){return this.xAxis?this.xAxis.inverseTransformPoint(s,m,this.yAxis):this.yAxis?new DataPoint(0,this.yAxis.inverseTransform(m)):DataPoint.Zero}assignAxes(s){let m,f;this.plotView.actualModel?([m,f]=this.plotView.actualModel.getAxesFromPoint(s),this.axisPreference!==AxisPreference.None&&this.plotView.actualModel.plotArea.containsPoint(s)&&(this.axisPreference===AxisPreference.X?m&&(f=void 0):this.axisPreference===AxisPreference.Y&&f&&(m=void 0))):(m=void 0,f=void 0),this.xAxis=m,this.yAxis=f}}class MouseManipulator extends PlotManipulator{constructor(s){super(s);ee(this,"startPosition")}started(s){this.assignAxes(s.position),this.startPosition=s.position}}class ZoomStepManipulator extends MouseManipulator{constructor(s,m,f){super(s);ee(this,"fineControl");ee(this,"step");this.step=m,this.fineControl=f}started(s){if(super.started(s),!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled))return;const f=this.inverseTransform(s.position.x,s.position.y);let x=this.step;this.fineControl&&(x*=3),x>0?x=1+x:x=1/(1-x),this.xAxis&&this.xAxis.zoomAt(x,f.x),this.yAxis&&this.yAxis.zoomAt(x,f.y),this.plotView.invalidatePlot(!1),s.handled=!0}}class PanManipulator extends MouseManipulator{constructor(s){super(s);ee(this,"previousPosition",ScreenPoint.LeftTop);ee(this,"isPanEnabled",!1)}completed(s){super.completed(s),this.isPanEnabled&&(this.view.setCursorType(CursorType.Default),s.handled=!0)}delta(s){super.delta(s),this.isPanEnabled&&(this.xAxis&&this.xAxis.pan(this.previousPosition,s.position),this.yAxis&&this.yAxis.pan(this.previousPosition,s.position),this.plotView.invalidatePlot(!1),this.previousPosition=s.position,s.handled=!0)}started(s){super.started(s),this.previousPosition=s.position,this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isPanEnabled&&(this.view.setCursorType(CursorType.Pan),s.handled=!0)}}class ZoomRectangleManipulator extends MouseManipulator{constructor(s){super(s);ee(this,"zoomRectangle",OxyRect.Empty);ee(this,"isZoomEnabled",!1)}completed(s){if(super.completed(s),!!this.isZoomEnabled){if(this.plotView.setCursorType(CursorType.Default),this.plotView.hideZoomRectangle(),this.zoomRectangle.width>10&&this.zoomRectangle.height>10){const m=this.inverseTransform(this.zoomRectangle.left,this.zoomRectangle.top),f=this.inverseTransform(this.zoomRectangle.right,this.zoomRectangle.bottom);this.xAxis&&this.xAxis.zoom(m.x,f.x),this.yAxis&&this.yAxis.zoom(m.y,f.y),this.plotView.invalidatePlot()}s.handled=!0}}delta(s){if(super.delta(s),!this.plotView.actualModel||!this.isZoomEnabled||!this.startPosition)return;const m=this.plotView.actualModel.plotArea;let f=Math.min(this.startPosition.x,s.position.x),x=Math.abs(this.startPosition.x-s.position.x),g=Math.min(this.startPosition.y,s.position.y),w=Math.abs(this.startPosition.y-s.position.y);(this.xAxis===void 0||!this.xAxis.isZoomEnabled)&&(f=m.left,x=m.width),(this.yAxis===void 0||!this.yAxis.isZoomEnabled)&&(g=m.top,w=m.height),this.zoomRectangle=new OxyRect(f,g,x,w),this.plotView.showZoomRectangle(this.zoomRectangle),s.handled=!0}started(s){super.started(s),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),this.isZoomEnabled&&this.startPosition&&(this.zoomRectangle=new OxyRect(this.startPosition.x,this.startPosition.y,0,0),this.plotView.showZoomRectangle(this.zoomRectangle),this.plotView.setCursorType(this.getCursorType()),s.handled=!0)}getCursorType(){return this.xAxis===void 0?CursorType.ZoomVertical:this.yAxis===void 0?CursorType.ZoomHorizontal:CursorType.ZoomRectangle}}class TouchManipulator extends PlotManipulator{constructor(s){super(s);ee(this,"setHandledForPanOrZoom");ee(this,"isPanEnabled",!1);ee(this,"isZoomEnabled",!1);this.setHandledForPanOrZoom=!0}completed(s){super.completed(s),this.setHandledForPanOrZoom&&(s.handled=s.handled||this.isPanEnabled||this.isZoomEnabled)}delta(s){if(super.delta(s),!this.isPanEnabled&&!this.isZoomEnabled)return;const m=s.position,f=m.minusVector(s.deltaTranslation);this.xAxis&&this.xAxis.pan(f,m),this.yAxis&&this.yAxis.pan(f,m);const x=this.inverseTransform(m.x,m.y);this.xAxis&&this.xAxis.zoomAt(s.deltaScale.x,x.x),this.yAxis&&this.yAxis.zoomAt(s.deltaScale.y,x.y),this.plotView.invalidatePlot(!1),s.handled=!0}started(s){this.assignAxes(s.position),super.started(s),this.setHandledForPanOrZoom&&(this.isPanEnabled=!!(this.xAxis&&this.xAxis.isPanEnabled||this.yAxis&&this.yAxis.isPanEnabled),this.isZoomEnabled=!!(this.xAxis&&this.xAxis.isZoomEnabled||this.yAxis&&this.yAxis.isZoomEnabled),s.handled=s.handled||this.isPanEnabled||this.isZoomEnabled)}}class TrackerManipulator extends MouseManipulator{constructor(s,m){super(s);ee(this,"currentSeries");ee(this,"pointsOnly");ee(this,"snap");ee(this,"lockToInitialSeries");ee(this,"firesDistance");ee(this,"checkDistanceBetweenPoints");ee(this,"isTrackAnnotations",!0);this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.isTrackAnnotations=!0,m&&Object.assign(this,removeUndef(m))}completed(s){super.completed(s),s.handled=!0,this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(s){var x;if(super.delta(s),s.handled=!0,(!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(x=this.plotView.actualModel)==null?void 0:x.getSeriesFromPoint(s.position,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker(),this.isTrackAnnotations&&this.trackAnnotations(s.position);return}const m=this.plotView.actualModel;if(!m||!m.plotArea.contains(s.position.x,s.position.y))return;const f=TrackerHelper.getNearestHit(this.currentSeries,s.position,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);f&&(f.plotModel=this.plotView.actualModel,this.plotView.showTracker(f),this.plotView.actualModel.raiseTrackerChanged(f))}started(s){var m;super.started(s),this.currentSeries=(m=this.plotView.actualModel)==null?void 0:m.getSeriesFromPoint(s.position,this.firesDistance),this.delta(s)}trackAnnotations(s){const m=this.plotView.actualModel;for(const f of m.annotations.filter(x=>x.toolTip).reverse()){if(!f.toolTip)continue;const x=new HitTestArguments(s,this.firesDistance);if(!f.hitTest(x))continue;const w=f.inverseTransform(s),C=new TrackerHitResult({position:s,dataPoint:w,text:f.toolTip,plotModel:this.plotView.actualModel});this.plotView.showTracker(C),m.raiseTrackerChanged(C);break}}}class TouchTrackerManipulator extends TouchManipulator{constructor(s,m){super(s);ee(this,"currentSeries");ee(this,"pointsOnly");ee(this,"snap");ee(this,"lockToInitialSeries");ee(this,"firesDistance");ee(this,"checkDistanceBetweenPoints");this.snap=!0,this.pointsOnly=!1,this.lockToInitialSeries=!0,this.firesDistance=20,this.checkDistanceBetweenPoints=!1,this.setHandledForPanOrZoom=!1,m&&Object.assign(this,removeUndef(m))}completed(s){super.completed(s),this.currentSeries=void 0,this.plotView.hideTracker(),this.plotView.actualModel&&this.plotView.actualModel.raiseTrackerChanged(void 0)}delta(s){super.delta(s),this.plotView.hideTracker()}started(s){var m;super.started(s),this.currentSeries=(m=this.plotView.actualModel)==null?void 0:m.getSeriesFromPoint(s.position,this.firesDistance),this.updateTracker(s.position)}updateTracker(s){var x;if((!this.currentSeries||!this.lockToInitialSeries)&&(this.currentSeries=(x=this.plotView.actualModel)==null?void 0:x.getSeriesFromPoint(s,this.firesDistance)),!this.currentSeries){this.lockToInitialSeries||this.plotView.hideTracker();return}const m=this.plotView.actualModel;if(!m||!m.plotArea.contains(s.x,s.y))return;const f=TrackerHelper.getNearestHit(this.currentSeries,s,this.snap,this.pointsOnly,this.firesDistance,this.checkDistanceBetweenPoints);f&&(f.plotModel=this.plotView.actualModel,this.plotView.showTracker(f),this.plotView.actualModel.raiseTrackerChanged(f))}}class DelegatePlotCommand extends DelegateViewCommand{constructor(d){super((s,m,f)=>d(s,m,f))}}class PlotCommands{static init(){this.reset=new DelegatePlotCommand((d,s,m)=>this.handleReset(d,m)),this.copyCode=new DelegatePlotCommand((d,s,m)=>this.handleCopyCode(d,m)),this.resetAt=new DelegatePlotCommand((d,s,m)=>this.handleReset(d,m)),this.panAt=new DelegatePlotCommand((d,s,m)=>s.addMouseManipulator(d,new PanManipulator(d),m)),this.zoomRectangle=new DelegatePlotCommand((d,s,m)=>s.addMouseManipulator(d,new ZoomRectangleManipulator(d),m)),this.track=new DelegatePlotCommand((d,s,m)=>s.addMouseManipulator(d,new TrackerManipulator(d,{snap:!1,pointsOnly:!1}),m)),this.snapTrack=new DelegatePlotCommand((d,s,m)=>s.addMouseManipulator(d,new TrackerManipulator(d,{snap:!0,pointsOnly:!1}),m)),this.pointsOnlyTrack=new DelegatePlotCommand((d,s,m)=>s.addMouseManipulator(d,new TrackerManipulator(d,{snap:!1,pointsOnly:!0}),m)),this.zoomWheel=new DelegatePlotCommand((d,s,m)=>this.handleZoomByWheel(d,m)),this.zoomWheelFine=new DelegatePlotCommand((d,s,m)=>this.handleZoomByWheel(d,m,.1)),this.zoomInAt=new DelegatePlotCommand((d,s,m)=>this.handleZoomAt(d,m,.05)),this.zoomOutAt=new DelegatePlotCommand((d,s,m)=>this.handleZoomAt(d,m,-.05)),this.hoverTrack=new DelegatePlotCommand((d,s,m)=>s.addHoverManipulator(d,new TrackerManipulator(d,{lockToInitialSeries:!1,snap:!1,pointsOnly:!1}),m)),this.hoverSnapTrack=new DelegatePlotCommand((d,s,m)=>s.addHoverManipulator(d,new TrackerManipulator(d,{lockToInitialSeries:!1,snap:!0,pointsOnly:!1}),m)),this.hoverPointsOnlyTrack=new DelegatePlotCommand((d,s,m)=>s.addHoverManipulator(d,new TrackerManipulator(d,{lockToInitialSeries:!1,snap:!1,pointsOnly:!0}),m)),this.snapTrackTouch=new DelegatePlotCommand((d,s,m)=>s.addTouchManipulator(d,new TouchTrackerManipulator(d,{snap:!0,pointsOnly:!1}),m)),this.pointsOnlyTrackTouch=new DelegatePlotCommand((d,s,m)=>s.addTouchManipulator(d,new TouchTrackerManipulator(d,{snap:!0,pointsOnly:!0}),m)),this.panZoomByTouch=new DelegatePlotCommand((d,s,m)=>s.addTouchManipulator(d,new TouchManipulator(d),m)),this.panLeft=new DelegatePlotCommand((d,s,m)=>this.handlePan(d,m,-.1,0)),this.panRight=new DelegatePlotCommand((d,s,m)=>this.handlePan(d,m,.1,0)),this.panUp=new DelegatePlotCommand((d,s,m)=>this.handlePan(d,m,0,-.1)),this.panDown=new DelegatePlotCommand((d,s,m)=>this.handlePan(d,m,0,.1)),this.panLeftFine=new DelegatePlotCommand((d,s,m)=>this.handlePan(d,m,-.01,0)),this.panRightFine=new DelegatePlotCommand((d,s,m)=>this.handlePan(d,m,.01,0)),this.panUpFine=new DelegatePlotCommand((d,s,m)=>this.handlePan(d,m,0,-.01)),this.panDownFine=new DelegatePlotCommand((d,s,m)=>this.handlePan(d,m,0,.01)),this.zoomIn=new DelegatePlotCommand((d,s,m)=>this.handleZoomCenter(d,m,1)),this.zoomOut=new DelegatePlotCommand((d,s,m)=>this.handleZoomCenter(d,m,-1)),this.zoomInFine=new DelegatePlotCommand((d,s,m)=>this.handleZoomCenter(d,m,.1)),this.zoomOutFine=new DelegatePlotCommand((d,s,m)=>this.handleZoomCenter(d,m,-.1))}static handleReset(d,s){d.actualModel&&(s.handled=!0,d.actualModel.resetAllAxes(),d.invalidatePlot(!1))}static handleCopyCode(d,s){if(!d.actualModel)return;s.handled=!0;const m=d.actualModel.toCode();d.setClipboardText(m)}static handleZoomAt(d,s,m){const f=OxyModifierKeysExtensions.isControlDown(s);new ZoomStepManipulator(d,m,f).started(s)}static handleZoomByWheel(d,s,m=1){const f=OxyModifierKeysExtensions.isControlDown(s);new ZoomStepManipulator(d,s.delta*.001*m,f).started(s)}static handleZoomCenter(d,s,m){d.actualModel&&(s.handled=!0,d.actualModel.zoomAllAxes(1+m*.12),d.invalidatePlot(!1))}static handlePan(d,s,m,f){d.actualModel&&(s.handled=!0,m*=d.actualModel.plotArea.width,f*=d.actualModel.plotArea.height,d.actualModel.panAllAxes(m,f),d.invalidatePlot(!1))}}ee(PlotCommands,"reset"),ee(PlotCommands,"resetAt"),ee(PlotCommands,"copyCode"),ee(PlotCommands,"panZoomByTouch"),ee(PlotCommands,"panAt"),ee(PlotCommands,"zoomRectangle"),ee(PlotCommands,"zoomWheel"),ee(PlotCommands,"zoomWheelFine"),ee(PlotCommands,"track"),ee(PlotCommands,"snapTrack"),ee(PlotCommands,"snapTrackTouch"),ee(PlotCommands,"pointsOnlyTrack"),ee(PlotCommands,"pointsOnlyTrackTouch"),ee(PlotCommands,"hoverTrack"),ee(PlotCommands,"hoverSnapTrack"),ee(PlotCommands,"hoverPointsOnlyTrack"),ee(PlotCommands,"panLeft"),ee(PlotCommands,"panRight"),ee(PlotCommands,"panUp"),ee(PlotCommands,"panDown"),ee(PlotCommands,"panLeftFine"),ee(PlotCommands,"panRightFine"),ee(PlotCommands,"panUpFine"),ee(PlotCommands,"panDownFine"),ee(PlotCommands,"zoomInAt"),ee(PlotCommands,"zoomOutAt"),ee(PlotCommands,"zoomIn"),ee(PlotCommands,"zoomOut"),ee(PlotCommands,"zoomInFine"),ee(PlotCommands,"zoomOutFine");PlotCommands.init();class PlotController extends ControllerBase{constructor(){super(),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Middle,PlotCommands.zoomRectangle),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.zoomRectangle,OxyModifierKeys.Control),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.zoomRectangle,OxyModifierKeys.Control|OxyModifierKeys.Alt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Middle,PlotCommands.resetAt,OxyModifierKeys.None,2),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.resetAt,OxyModifierKeys.Control,2),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.resetAt,OxyModifierKeys.Control|OxyModifierKeys.Alt,2),ControllerExtensions.bindKeyDown(this,OxyKey.A,PlotCommands.reset),ControllerExtensions.bindKeyDown(this,OxyKey.C,PlotCommands.copyCode,OxyModifierKeys.Control|OxyModifierKeys.Alt),ControllerExtensions.bindKeyDown(this,OxyKey.Home,PlotCommands.reset),this.bindCore(new OxyShakeGesture,PlotCommands.reset),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Right,PlotCommands.panAt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.panAt,OxyModifierKeys.Alt),ControllerExtensions.bindKeyDown(this,OxyKey.Left,PlotCommands.panLeft),ControllerExtensions.bindKeyDown(this,OxyKey.Right,PlotCommands.panRight),ControllerExtensions.bindKeyDown(this,OxyKey.Up,PlotCommands.panUp),ControllerExtensions.bindKeyDown(this,OxyKey.Down,PlotCommands.panDown),ControllerExtensions.bindKeyDown(this,OxyKey.Left,PlotCommands.panLeftFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Right,PlotCommands.panRightFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Up,PlotCommands.panUpFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Down,PlotCommands.panDownFine,OxyModifierKeys.Control),ControllerExtensions.bindTouchDown(this,PlotCommands.panZoomByTouch),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.snapTrack),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.track,OxyModifierKeys.Control),ControllerExtensions.bindMouseDown(this,OxyMouseButton.Left,PlotCommands.pointsOnlyTrack,OxyModifierKeys.Shift),ControllerExtensions.bindTouchDown(this,PlotCommands.snapTrackTouch),ControllerExtensions.bindMouseDown(this,OxyMouseButton.XButton1,PlotCommands.zoomInAt),ControllerExtensions.bindMouseDown(this,OxyMouseButton.XButton2,PlotCommands.zoomOutAt),ControllerExtensions.bindMouseWheel(this,PlotCommands.zoomWheel),ControllerExtensions.bindMouseWheel(this,PlotCommands.zoomWheelFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Add,PlotCommands.zoomIn),ControllerExtensions.bindKeyDown(this,OxyKey.Subtract,PlotCommands.zoomOut),ControllerExtensions.bindKeyDown(this,OxyKey.PageUp,PlotCommands.zoomIn),ControllerExtensions.bindKeyDown(this,OxyKey.PageDown,PlotCommands.zoomOut),ControllerExtensions.bindKeyDown(this,OxyKey.Add,PlotCommands.zoomInFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.Subtract,PlotCommands.zoomOutFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.PageUp,PlotCommands.zoomInFine,OxyModifierKeys.Control),ControllerExtensions.bindKeyDown(this,OxyKey.PageDown,PlotCommands.zoomOutFine,OxyModifierKeys.Control)}}function isTransposablePlotElement(a){return a instanceof Object&&"__isTransposable"in a}function setTransposablePlotElement(a){a.__isTransposable=!0}class PlotElementExtensions{static inverseTransform(d,s,m){return d.inverseTransform(new ScreenPoint(s,m))}static isTransposed(d){return d.xAxis.isVertical()}static orientate(d,s){return PlotElementExtensions.isTransposed(d)?new ScreenPoint(s.y,s.x):s}static orientateVector(d,s){return s=new ScreenVector(d.xAxis.isReversed?-s.x:s.x,d.yAxis.isReversed?-s.y:s.y),PlotElementExtensions.isTransposed(d)?new ScreenVector(-s.y,-s.x):s}static orientateAlignment(d,s,m){if(d.xAxis.isReversed&&(s=-s),d.yAxis.isReversed&&(m=-m),PlotElementExtensions.isTransposed(d)){const f=-m;m=-s,s=f}return[s,m]}static transform(d,s,m){return d.transform(new DataPoint(s,m))}}class PlotElementUtilities{static getClippingRect(d){const s=OxyRect.fromScreenPoints(d.xAxis.screenMin,d.xAxis.screenMax),m=OxyRect.fromScreenPoints(d.yAxis.screenMin,d.yAxis.screenMax);return s.intersect(m)}static inverseTransform(d,s){return d.xAxis.inverseTransformPoint(s.x,s.y,d.yAxis)}static inverseTransformOrientated(d,s){return this.inverseTransform(d,PlotElementExtensions.orientate(d,s))}static transform(d,s){return d.xAxis.transformPoint(s.x,s.y,d.yAxis)}static transformOrientated(d,s){return PlotElementExtensions.orientate(d,this.transform(d,s))}}var PlotType=(a=>(a[a.XY=0]="XY",a[a.Cartesian=1]="Cartesian",a[a.Polar=2]="Polar",a))(PlotType||{}),TitleHorizontalAlignment=(a=>(a[a.CenteredWithinPlotArea=0]="CenteredWithinPlotArea",a[a.CenteredWithinView=1]="CenteredWithinView",a))(TitleHorizontalAlignment||{});class PlotModel extends Model{constructor(s){super();ee(this,"barSeriesManagers",[]);ee(this,"plotViewReference");ee(this,"currentColorIndex",0);ee(this,"isDataUpdated",!1);ee(this,"lastPlotException");ee(this,"trackerChanged");ee(this,"updated");ee(this,"updating");ee(this,"defaultFont");ee(this,"defaultFontSize");ee(this,"_actualPlotMargins",OxyThickness.Zero);ee(this,"_annotations");ee(this,"_axes");ee(this,"_legends");ee(this,"background",OxyColors.Undefined);ee(this,"defaultColors");ee(this,"edgeRenderingMode");ee(this,"assignColorsToInvisibleSeries");ee(this,"isLegendVisible");ee(this,"padding",OxyThickness.Zero);ee(this,"_plotBounds",OxyRect.Empty);ee(this,"_plotAndAxisArea",OxyRect.Empty);ee(this,"_plotArea",OxyRect.Empty);ee(this,"axisTierDistance");ee(this,"plotAreaBackground",OxyColors.Undefined);ee(this,"plotAreaBorderColor",OxyColors.Undefined);ee(this,"plotAreaBorderThickness");ee(this,"plotMargins");ee(this,"plotType");ee(this,"_series");ee(this,"renderingDecorator");ee(this,"subtitle");ee(this,"subtitleFont");ee(this,"subtitleFontSize");ee(this,"subtitleFontWeight");ee(this,"textColor",OxyColors.Black);ee(this,"title");ee(this,"titleToolTip");ee(this,"titleColor",OxyColors.Automatic);ee(this,"clipTitle");ee(this,"titleClippingLength");ee(this,"subtitleColor",OxyColors.Automatic);ee(this,"titleHorizontalAlignment",0);ee(this,"_titleArea",OxyRect.Empty);ee(this,"titleFont");ee(this,"titleFontSize");ee(this,"titleFontWeight");ee(this,"titlePadding");ee(this,"_defaultAngleAxis");ee(this,"_defaultMagnitudeAxis");ee(this,"_defaultXAxis");ee(this,"_defaultYAxis");ee(this,"_defaultColorAxis");this._axes=newElementCollection(this),this._series=newElementCollection(this),this._annotations=newElementCollection(this),this._legends=newElementCollection(this),this.plotType=0,this.plotMargins=new OxyThickness(NaN),this.padding=new OxyThickness(8),this.background=OxyColors.Undefined,this.plotAreaBackground=OxyColors.Undefined,this.textColor=OxyColors.Black,this.titleColor=OxyColors.Automatic,this.subtitleColor=OxyColors.Automatic,this.defaultFont="Segoe UI",this.defaultFontSize=12,this.titleToolTip=void 0,this.titleFont=void 0,this.titleFontSize=18,this.titleFontWeight=FontWeights.Bold,this.subtitleFont=void 0,this.subtitleFontSize=14,this.subtitleFontWeight=FontWeights.Normal,this.titlePadding=6,this.clipTitle=!0,this.titleClippingLength=.9,this.plotAreaBorderColor=OxyColors.Black,this.plotAreaBorderThickness=new OxyThickness(1),this.edgeRenderingMode=EdgeRenderingMode.Automatic,this.assignColorsToInvisibleSeries=!0,this.isLegendVisible=!0,this.defaultColors=[OxyColor.fromRgb(78,154,6),OxyColor.fromRgb(200,141,0),OxyColor.fromRgb(204,0,0),OxyColor.fromRgb(32,74,135),OxyColors.Red,OxyColors.Orange,OxyColors.Yellow,OxyColors.Green,OxyColors.Blue,OxyColors.Indigo,OxyColors.Violet],this.axisTierDistance=4,s&&this.applyOptions(s)}applyOptions(s){removeProperties(s,"_axes","_series","_annotations","_legends"),s.axes&&s.axes.length>0&&this._axes.push(...s.axes),s.series&&s.series.length>0&&this._series.push(...s.series),s.annotations&&s.annotations.length>0&&this._annotations.push(...s.annotations),s.legends&&s.legends.length>0&&this._legends.push(...s.legends),removeProperties(s,"axes","series","annotations","legends"),Object.assign(this,removeUndef(s))}get actualPlotMargins(){return this._actualPlotMargins}get plotView(){return this.plotViewReference}get annotations(){return this._annotations}get axes(){return this._axes}get legends(){return this._legends}get plotBounds(){return this._plotBounds}get width(){return this.plotBounds.width}get height(){return this.plotBounds.height}get plotAndAxisArea(){return this._plotAndAxisArea}get plotArea(){return this._plotArea}get series(){return this._series}get titleArea(){return this._titleArea}get defaultAngleAxis(){return this._defaultAngleAxis}get defaultMagnitudeAxis(){return this._defaultMagnitudeAxis}get defaultXAxis(){return this._defaultXAxis}get defaultYAxis(){return this._defaultYAxis}get defaultColorAxis(){return this._defaultColorAxis}get actualTitleFont(){return this.titleFont||this.defaultFont}get actualSubtitleFont(){return this.subtitleFont||this.defaultFont}attachPlotView(s){const m=this.plotView;if(m&&s&&m!==s)throw new Error("This PlotModel is already in use by some other PlotView control.");this.plotViewReference=s}invalidatePlot(s){var m;(m=this.plotView)==null||m.invalidatePlot(s)}getAxesFromPoint(s){let m,f,x,g=0;s.x<this.plotArea.left&&(x=AxisPosition.Left,g=this.plotArea.left),s.x>this.plotArea.right&&(x=AxisPosition.Right,g=this.plotArea.right),s.y<this.plotArea.top&&(x=AxisPosition.Top,g=this.plotArea.top),s.y>this.plotArea.bottom&&(x=AxisPosition.Bottom,g=this.plotArea.bottom);for(const w of this.axes){if(!w.isAxisVisible||isColorAxis(w))continue;if(w instanceof MagnitudeAxis){m=w;continue}if(w instanceof AngleAxis){f=w;continue}let C=NaN;if(w.isHorizontal()&&(C=w.inverseTransform(s.x)),w.isVertical()&&(C=w.inverseTransform(s.y)),C>=w.clipMinimum&&C<=w.clipMaximum){if(!x)w.isHorizontal()?m||(m=w):w.isVertical()&&(f||(f=w));else if(x===w.position){const A=w.positionTierMinShift,_=w.positionTierMaxShift,M=w.isHorizontal()?s.y:s.x,P=x===AxisPosition.Top||x===AxisPosition.Left;(M>=g+A&&M<g+_&&!P||M<=g-A&&M>g-_&&P)&&(w.isHorizontal()?isNullOrUndef(m)&&(m=w):w.isVertical()&&isNullOrUndef(f)&&(f=w))}}}return[m,f]}getDefaultColor(){return this.defaultColors[this.currentColorIndex++%this.defaultColors.length]}getDefaultLineStyle(){return this.currentColorIndex/this.defaultColors.length%Number(LineStyle.None)}getSeriesFromPoint(s,m=100){let f=Number_MAX_VALUE,x;const g=getReversedCopy(this.series);for(const w of g.filter(C=>C.isVisible)){const C=w.getNearestPoint(s,!0)||w.getNearestPoint(s,!1);if(!(C!=null&&C.position))continue;const A=s.distanceTo(C.position);A<f&&(x=w,f=A)}if(f<m)return x}toCode(){return new CodeGenerator(this).toCode()}toString(){return this.title||""}getLastPlotException(){return this.lastPlotException}update(s){try{this.lastPlotException=null,this.onUpdating(),this.ensureDefaultAxes();const m=this.series.filter(x=>x.isVisible);if(s||!this.isDataUpdated){for(const x of m)x.updateData();this.isDataUpdated=!0}this.updateBarSeriesManagers(),this.updateMaxMin(s),this.updateUnmanagedCategoryAxes();const f=this.assignColorsToInvisibleSeries?this.series:m;this.resetDefaultColor();for(const x of f)x.setDefaultValues();this.onUpdated()}catch(m){console.log(m),this.lastPlotException=m}}getAxis(s){if(!s)throw new Error("Axis key cannot be null.");const m=this.axes.find(f=>f.key===s);if(!m)throw new Error(`Cannot find axis with Key = "${s}"`);return m}getAxisOrDefault(s,m){return s?m:this.axes.find(x=>x.key===s)||m}resetAllAxes(){for(const s of this.axes)s.reset()}panAllAxes(s,m){for(const f of this.axes)f.pan(f.isHorizontal()?s:m)}zoomAllAxes(s){for(const m of this.axes)m.zoomAtCenter(s)}raiseTrackerChanged(s){const m=this.trackerChanged;m&&m(this,{hitResult:s})}onTrackerChanged(s){this.raiseTrackerChanged(s)}getHitTestElements(){const s=[],m=getReversedCopy(this.axes);for(const g of m.filter(w=>w.isAxisVisible&&w.layer===AxisLayer.AboveSeries))s.push(g);const f=getReversedCopy(this.annotations);for(const g of f.filter(w=>w.layer===AnnotationLayer.AboveSeries))s.push(g);const x=getReversedCopy(this.series);for(const g of x.filter(w=>w.isVisible))s.push(g);for(const g of f.filter(w=>w.layer===AnnotationLayer.BelowSeries))s.push(g);for(const g of m.filter(w=>w.isAxisVisible&&w.layer===AxisLayer.BelowSeries))s.push(g);for(const g of f.filter(w=>w.layer===AnnotationLayer.BelowAxes))s.push(g);for(const g of this.legends)s.push(g);return s}onUpdated(){const s=this.updated;s&&s(this)}onUpdating(){const s=this.updating;s&&s(this)}updateAxisTransforms(){for(const s of this.axes)s.updateTransform(this.plotArea)}enforceCartesianTransforms(){const s=this.axes.filter(f=>!isColorAxis(f));let m=Math.min(...s.map(f=>Math.abs(f.scale)));for(const f of s)f.zoomScale(m);m=Math.max(...s.map(f=>Math.abs(f.scale)));for(const f of s)f.zoomScale(m);for(const f of s)f.updateTransform(this.plotArea)}updateIntervals(){for(const s of this.axes)s.updateIntervals(this.plotArea)}ensureDefaultAxes(){const s=this.axes,m=this.series;if(this._defaultXAxis=s.find(x=>x.isHorizontal()&&x.isXyAxis()),this._defaultYAxis=s.find(x=>x.isVertical()&&x.isXyAxis()),this._defaultMagnitudeAxis=s.find(x=>x instanceof MagnitudeAxis),this._defaultAngleAxis=s.find(x=>x instanceof AngleAxis),this._defaultColorAxis=s.find(x=>isColorAxis(x)),isNullOrUndef(this.defaultXAxis)&&(this._defaultXAxis=this.defaultMagnitudeAxis),isNullOrUndef(this.defaultYAxis)&&(this._defaultYAxis=this.defaultAngleAxis),this.plotType===2)isNullOrUndef(this.defaultXAxis)&&(this._defaultXAxis=this._defaultMagnitudeAxis=new MagnitudeAxis),isNullOrUndef(this.defaultYAxis)&&(this._defaultYAxis=this._defaultAngleAxis=new AngleAxis);else{let x=!1,g=!1;isNullOrUndef(this.defaultXAxis)&&(this._defaultXAxis=new LinearAxis({position:AxisPosition.Bottom}),x=!0),isNullOrUndef(this.defaultYAxis)&&(m.some(w=>w.isVisible&&w instanceof BarSeries)?this._defaultYAxis=new CategoryAxis({position:AxisPosition.Left}):(this._defaultYAxis=new LinearAxis({position:AxisPosition.Left}),g=!0)),x&&this.defaultXAxis&&this.defaultYAxis instanceof CategoryAxis&&(this.defaultXAxis.minimumPadding=0),g&&this.defaultYAxis&&this.defaultXAxis instanceof CategoryAxis&&(this.defaultYAxis.minimumPadding=0)}m.some(x=>x.isVisible&&x.areAxesRequired())&&(s.includes(this.defaultXAxis)||(console.assert(this.defaultXAxis,"Default x-axis not created."),this.defaultXAxis&&this.axes.push(this.defaultXAxis)),s.includes(this.defaultYAxis)||(console.assert(this.defaultYAxis,"Default y-axis not created."),this.defaultYAxis&&this.axes.push(this.defaultYAxis)));for(const x of this.series)x.isVisible&&x.areAxesRequired()&&x.ensureAxes();for(const x of this.annotations)x.ensureAxes()}resetDefaultColor(){this.currentColorIndex=0}updateMaxMin(s){if(s){for(const m of this.axes)m.resetDataMaxMin();for(const m of this.series.filter(f=>f.isVisible))m.updateMaxMin()}for(const m of this.series.filter(f=>f.isVisible))m.updateAxisMaxMin();for(const m of this.axes)m.updateActualMaxMin()}updateBarSeriesManagers(){this.barSeriesManagers=[];const s=this.series.filter(f=>f.isVisible&&isBarSeries(f)).map(f=>f),m=new Map;for(const f of s){const x=[...m.keys()].find(g=>g.ca===f.categoryAxis&&g.va===f.valueAxis);if(x){m.get(x).push(f);continue}m.set({ca:f.categoryAxis,va:f.valueAxis},[f])}m.forEach((f,x)=>{const g=new BarSeriesManager(x.ca,x.va,f);g.update(),this.barSeriesManagers.push(g)})}updateUnmanagedCategoryAxes(){const s=this.barSeriesManagers.map(x=>x.categoryAxis),f=this.axes.filter(x=>x instanceof CategoryAxis).map(x=>x).filter(x=>!s.includes(x));for(const x of f){let g=0;!isInfinity(x.dataMaximum)&&!isNaN(x.dataMaximum)&&x.dataMaximum>0&&(g=Math.floor(x.dataMaximum)+1),x.updateLabels(g)}}render(s,m){return this.renderOverride(s,m)}async renderOverride(s,m){var g;const f=s.clipCount;let x=null;try{if(x=RenderingExtensions.autoResetClip(s,m),this.lastPlotException){const w=`An exception of type ${this.lastPlotException.constructor.name} was thrown when updating the plot model.\r
${this.lastPlotException.stack}`;await this.renderErrorMessage(s,`OxyPlot exception: ${this.lastPlotException.message}`,w);return}this.renderingDecorator&&(s=this.renderingDecorator(s)),this._plotBounds=m,this._actualPlotMargins=new OxyThickness(isNaN(this.plotMargins.left)?0:this.plotMargins.left,isNaN(this.plotMargins.top)?0:this.plotMargins.top,isNaN(this.plotMargins.right)?0:this.plotMargins.right,isNaN(this.plotMargins.bottom)?0:this.plotMargins.bottom);for(const w of this.legends)w.ensureLegendProperties();for(let w=0;w<10&&(await this.updatePlotArea(s),this.updateAxisTransforms(),this.updateIntervals(),!!this.adjustPlotMargins(s));w++);if(this.plotType===1&&(this.enforceCartesianTransforms(),this.updateIntervals()),await this.renderBackgrounds(s),await this.renderAnnotations(s,AnnotationLayer.BelowAxes),await this.renderAxes(s,AxisLayer.BelowSeries),await this.renderAnnotations(s,AnnotationLayer.BelowSeries),await this.renderSeries(s),await this.renderAnnotations(s,AnnotationLayer.AboveSeries),await this.renderTitle(s),await this.renderBox(s),await this.renderAxes(s,AxisLayer.AboveSeries),this.isLegendVisible&&await this.renderLegends(s),s.clipCount!==f+1)throw new Error("Unbalanced calls to IRenderContext.pushClip were made during rendering.")}catch(w){debugger;for(console.log(w);s.clipCount>f;)s.popClip();const C=`An exception of type ${(g=w.constructor)==null?void 0:g.name} was thrown when rendering the plot model.\r
${w.stack}`;this.lastPlotException=w,await this.renderErrorMessage(s,`OxyPlot exception: ${w.message}`,C)}finally{x==null||x.dispose(),s.cleanUp()}}async renderErrorMessage(s,m,f,x=12){const g=new ScreenPoint(10,10);await s.drawText(g,m,this.textColor,void 0,x,FontWeights.Bold),await RenderingExtensions.drawMultilineText(s,g.plus(new ScreenVector(0,x*1.5)),f,this.textColor,void 0,x,x*1.25)}adjustPlotMargins(s){const m=this.axes.filter(w=>w.isAxisVisible);m.forEach(w=>{w.measure(s)});let f=OxyThickness.Zero;const x=(w,C)=>{switch(C){case AxisPosition.Bottom:f=new OxyThickness(f.left,f.top,f.right,Math.max(f.bottom,w));break;case AxisPosition.Left:f=new OxyThickness(Math.max(f.left,w),f.top,f.right,f.bottom);break;case AxisPosition.Right:f=new OxyThickness(f.left,f.top,Math.max(f.right,w),f.bottom);break;case AxisPosition.Top:f=new OxyThickness(f.left,Math.max(f.top,w),f.right,f.bottom);break}};for(let w=AxisPosition.Left;w<=AxisPosition.Bottom;w++){const C=m.filter(_=>_.position===w),A=this.adjustAxesPositions(C);x(A,w)}m.forEach(w=>{f=f.include(w.desiredMargin)});let g=this.plotMargins;return g=new OxyThickness(isNaN(g.left)?f.left:g.left,isNaN(g.top)?f.top:g.top,isNaN(g.right)?f.right:g.right,isNaN(g.bottom)?f.bottom:g.bottom),g.equals(this.actualPlotMargins)?!1:(this._actualPlotMargins=g,!0)}adjustAxesPositions(s){let m=0;const f=g=>{switch(g.position){case AxisPosition.Left:return g.desiredMargin.left;case AxisPosition.Right:return g.desiredMargin.right;case AxisPosition.Top:return g.desiredMargin.top;case AxisPosition.Bottom:return g.desiredMargin.bottom;default:throw new Error("We don't do this for polar axes")}};return s.reduce((g,w)=>{const C=w.positionTier,A=g.get(C);return A?A.push(w):g.set(C,[w]),g},new Map).forEach((g,w)=>{const C=Math.max(...g.map(f)),A=m;Math.abs(m)>1e-5&&(m+=this.axisTierDistance),m+=C,g.forEach(_=>{_.positionTierSize=C,_.positionTierMinShift=A,_.positionTierMaxShift=m})}),m}measureTitles(s){const m=s.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),f=s.measureText(this.subtitle||"",this.subtitleFont||this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight),x=m.height+f.height,g=Math.max(m.width,f.width);return new OxySize(g,x)}renderAnnotations(s,m){return this.renderPlotElements(this.annotations.filter(f=>f.layer===m),s,async f=>f.render(s))}async renderAxes(s,m){for(const f of this.axes.filter(x=>x.isAxisVisible&&x.layer===m))s.setToolTip(f.toolTip),await f.render(s,0);for(const f of this.axes.filter(x=>x.isAxisVisible&&x.layer===m))s.setToolTip(f.toolTip),await f.render(s,1);s.setToolTip(void 0)}async renderLegends(s){if(this.isLegendVisible)return this.legends.filter(m=>m.isLegendVisible).forEach(m=>(s.setToolTip(m.toolTip),m.renderLegends(s)))}async renderBackgrounds(s){this.axes.length>0&&this.plotAreaBackground.isVisible()&&await s.drawRectangle(this.plotArea,this.plotAreaBackground,OxyColors.Undefined,0,this.edgeRenderingMode);const f=this.series.filter(x=>x instanceof XYAxisSeries).map(x=>x).filter(x=>x.isVisible&&x.background.isVisible());for(const x of f)await s.drawRectangle(x.getScreenRectangle(),x.background,OxyColors.Undefined,0,this.edgeRenderingMode)}async renderBox(s){if(this.axes.length>0){const m=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await RenderingExtensions.drawRectangle(s,this.plotArea,this.plotAreaBorderColor,this.plotAreaBorderThickness,m)}}async renderSeries(s){return this.barSeriesManagers.forEach(m=>{m.initializeRender()}),this.renderPlotElements(this.series.filter(m=>m.isVisible),s,async m=>m.render(s))}async renderPlotElements(s,m,f){let x=OxyRect.Everything;for(const g of s){const w=g.getClippingRect();w.equals(x)||(x.equals(OxyRect.Everything)||(m.popClip(),x=OxyRect.Everything),w.equals(OxyRect.Everything)||(m.pushClip(w),x=w)),m.setToolTip(g.toolTip),await f(g)}x.equals(OxyRect.Everything)||m.popClip(),m.setToolTip(void 0)}async renderTitle(s){let m;this.clipTitle&&(m=new OxySize(this.titleArea.width*this.titleClippingLength,Number_MAX_VALUE));const f=s.measureText(this.title||"",this.actualTitleFont,this.titleFontSize,this.titleFontWeight),x=(this.titleArea.left+this.titleArea.right)*.5;let g=this.titleArea.top;this.title&&(s.setToolTip(this.titleToolTip),await MathRenderingExtensions.drawMathText(s,new ScreenPoint(x,g),this.title,this.titleColor.getActualColor(this.textColor),this.actualTitleFont,this.titleFontSize,this.titleFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Top,m),g+=f.height,s.setToolTip(void 0)),this.subtitle&&await MathRenderingExtensions.drawMathText(s,new ScreenPoint(x,g),this.subtitle,this.subtitleColor.getActualColor(this.textColor),this.actualSubtitleFont,this.subtitleFontSize,this.subtitleFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Top,m)}async updatePlotArea(s){let m=new OxyRect(this.plotBounds.left+this.padding.left,this.plotBounds.top+this.padding.top,Math.max(0,this.width-this.padding.left-this.padding.right),Math.max(0,this.height-this.padding.top-this.padding.bottom));const f=this.measureTitles(s);if(f.height>0){const g=f.height+this.titlePadding;m=new OxyRect(m.left,m.top+g,m.width,Math.max(0,m.height-g))}let x=m.deflate(this.actualPlotMargins);if(this.isLegendVisible){let g=new OxySize(0,0),w=0;const C=this.legends.filter(A=>A.legendPlacement===LegendPlacement.Outside&&A.isLegendVisible);for(const A of C.filter(_=>isLeftLegend(_.legendPosition))){const _=A.allowUseFullExtent?m.width:x.width;let M=A.allowUseFullExtent?m.height:x.height;M=isNaN(A.legendMaxHeight)?M:Math.min(M,A.legendMaxHeight);const P=await A.getLegendSize(s,new OxySize(_,M));A.legendSize=P,g=new OxySize(Math.max(g.width,P.width),Math.max(g.height,P.height)),A.legendMargin>w&&(w=A.legendMargin)}(g.width>0||g.height>0)&&(x=new OxyRect(x.left+g.width+w,x.top,Math.max(0,x.width-(g.width+w)),x.height)),g=new OxySize(0,0),w=0;for(const A of C.filter(_=>isRightLegend(_.legendPosition))){const _=A.allowUseFullExtent?m.width:x.width;let M=A.allowUseFullExtent?m.height:x.height;M=isNaN(A.legendMaxHeight)?M:Math.min(M,A.legendMaxHeight);const P=await A.getLegendSize(s,new OxySize(_,M));A.legendSize=P,g=new OxySize(Math.max(g.width,P.width),Math.max(g.height,P.height)),A.legendMargin>w&&(w=A.legendMargin)}(g.width>0||g.height>0)&&(x=new OxyRect(x.left,x.top,Math.max(0,x.width-(g.width+w)),x.height)),g=new OxySize(0,0),w=0;for(const A of C.filter(_=>isTopLegend(_.legendPosition))){const _=A.allowUseFullExtent?m.width:x.width;let M=A.allowUseFullExtent?m.height:x.height;M=isNaN(A.legendMaxHeight)?M:Math.min(M,A.legendMaxHeight);const P=await A.getLegendSize(s,new OxySize(_,M));A.legendSize=P,g=new OxySize(Math.max(g.width,P.width),Math.max(g.height,P.height)),A.legendMargin>w&&(w=A.legendMargin)}(g.width>0||g.height>0)&&(x=new OxyRect(x.left,x.top+g.height+w,x.width,Math.max(0,x.height-(g.height+w)))),g=new OxySize(0,0),w=0;for(const A of C.filter(_=>isBottomLegend(_.legendPosition))){const _=A.allowUseFullExtent?m.width:x.width;let M=A.allowUseFullExtent?m.height:x.height;M=isNaN(A.legendMaxHeight)?M:Math.min(M,A.legendMaxHeight);const P=await A.getLegendSize(s,new OxySize(_,M));A.legendSize=P,g=new OxySize(Math.max(g.width,P.width),Math.max(g.height,P.height)),A.legendMargin>w&&(w=A.legendMargin)}(g.width>0||g.height>0)&&(x=new OxyRect(x.left,x.top,x.width,Math.max(0,x.height-(g.height+w))));for(const A of this.legends.filter(_=>_.legendPlacement===LegendPlacement.Inside&&_.isLegendVisible)){let _=x.width,M=isNaN(A.legendMaxHeight)?x.height:Math.min(x.height,A.legendMaxHeight);A.legendPlacement===LegendPlacement.Inside&&(_-=A.legendMargin*2,M-=A.legendMargin*2),A.legendSize=await A.getLegendSize(s,new OxySize(_,M))}}switch(x.height<0&&(x=new OxyRect(x.left,x.top,x.width,1)),x.width<0&&(x=new OxyRect(x.left,x.top,1,x.height)),this._plotArea=x,this._plotAndAxisArea=x.inflate2(this.actualPlotMargins),this.titleHorizontalAlignment){case 1:this._titleArea=new OxyRect(this.plotBounds.left,this.plotBounds.top+this.padding.top,this.width,f.height+this.titlePadding*2);break;default:this._titleArea=new OxyRect(this.plotArea.left,this.plotBounds.top+this.padding.top,this.plotArea.width,f.height+this.titlePadding*2);break}for(const g of this.legends)g.legendArea=g.getLegendRectangle(g.legendSize)}}class FontWeights{}ee(FontWeights,"Bold",700),ee(FontWeights,"Normal",400);var HorizontalAlignment=(a=>(a[a.Left=-1]="Left",a[a.Center=0]="Center",a[a.Right=1]="Right",a))(HorizontalAlignment||{}),LineJoin=(a=>(a[a.Miter=0]="Miter",a[a.Round=1]="Round",a[a.Bevel=2]="Bevel",a))(LineJoin||{}),LineStyle=(a=>(a[a.Solid=0]="Solid",a[a.Dash=1]="Dash",a[a.Dot=2]="Dot",a[a.DashDot=3]="DashDot",a[a.DashDashDot=4]="DashDashDot",a[a.DashDotDot=5]="DashDotDot",a[a.DashDashDotDot=6]="DashDashDotDot",a[a.LongDash=7]="LongDash",a[a.LongDashDot=8]="LongDashDot",a[a.LongDashDotDot=9]="LongDashDotDot",a[a.None=10]="None",a[a.Automatic=11]="Automatic",a))(LineStyle||{});class LineStyleHelper{static getDashArray(d){switch(d){case LineStyle.Solid:return;case LineStyle.Dash:return[4,1];case LineStyle.Dot:return[1,1];case LineStyle.DashDot:return[4,1,1,1];case LineStyle.DashDashDot:return[4,1,4,1,1,1];case LineStyle.DashDotDot:return[4,1,1,1,1,1];case LineStyle.DashDashDotDot:return[4,1,4,1,1,1,1,1];case LineStyle.LongDash:return[10,1];case LineStyle.LongDashDot:return[10,1,1,1];case LineStyle.LongDashDotDot:return[10,1,1,1,1,1];default:return}}}class OxyPen{constructor(d,s=1,m=LineStyle.Solid,f=LineJoin.Miter){ee(this,"dashArray");this.color=d,this.thickness=s,this.lineStyle=m,this.lineJoin=f,this.dashArray=LineStyleHelper.getDashArray(m)}get actualDashArray(){return this.dashArray||LineStyleHelper.getDashArray(this.lineStyle)}static create(d,s,m=LineStyle.Solid,f=LineJoin.Miter){if(!(d.isInvisible()||m===LineStyle.None||Math.abs(s)<=0))return new OxyPen(d,s,m,f)}}const pt=class pt{constructor(d,s,m,f){ee(this,"_height");ee(this,"_left");ee(this,"_top");ee(this,"_width");if(m<0)throw new Error("width;The width should not be negative.");if(f<0)throw new Error("height;The height should not be negative.");this._left=d,this._top=s,this._width=m,this._height=f}static fromScreenPoints(d,s){return new pt(Math.min(d.x,s.x),Math.min(d.y,s.y),Math.abs(s.x-d.x),Math.abs(s.y-d.y))}static fromScreenPointAndSize(d,s){return new pt(d.x,d.y,s.width,s.height)}get bottom(){return this._top+this._height}get height(){return this._height}get left(){return this._left}get right(){return this._left+this._width}get top(){return this._top}get width(){return this._width}get center(){return new ScreenPoint(this._left+this._width*.5,this._top+this._height*.5)}get topLeft(){return new ScreenPoint(this.left,this.top)}get topRight(){return new ScreenPoint(this.right,this.top)}get bottomLeft(){return new ScreenPoint(this.left,this.bottom)}get bottomRight(){return new ScreenPoint(this.right,this.bottom)}static create(d,s,m,f){return new pt(Math.min(d,m),Math.min(s,f),Math.abs(m-d),Math.abs(f-s))}contains(d,s){return d>=this.left&&d<=this.right&&s>=this.top&&s<=this.bottom}containsPoint(d){return this.contains(d.x,d.y)}toString(){return`(${this._left}, ${this._top}, ${this._width}, ${this._height})`}equals(d){return this.left===d.left&&this.top===d.top&&this.width===d.width&&this.height===d.height}inflate(d,s){return new pt(this._left-d,this._top-s,this._width+d*2,this._height+s*2)}inflate2(d){return new pt(this._left-d.left,this._top-d.top,this._width+d.left+d.right,this._height+d.top+d.bottom)}intersect(d){const s=Math.max(this.left,d.left),m=Math.max(this.top,d.top),f=Math.min(this.right,d.right),x=Math.min(this.bottom,d.bottom);return f<s||x<m?pt.Empty:new pt(s,m,f-s,x-m)}deflate(d){return new pt(this._left+d.left,this._top+d.top,Math.max(0,this._width-d.left-d.right),Math.max(0,this._height-d.top-d.bottom))}offset(d,s){return new pt(this._left+d,this._top+s,this._width,this._height)}clip(d){const s=isNegativeInfinity(d.left)&&isPositiveInfinity(d.width)?d.right:1/0,m=isNegativeInfinity(d.top)&&isPositiveInfinity(d.height)?d.bottom:1/0;return pt.create(Math.max(Math.min(this.left,s),d.left),Math.max(Math.min(this.top,m),d.top),Math.max(Math.min(this.right,s),d.left),Math.max(Math.min(this.bottom,m),d.top))}};ee(pt,"Everything",new pt(0,0,1/0,1/0)),ee(pt,"Empty",new pt(0,0,0,0));let OxyRect=pt;const Vt=class Vt{constructor(d,s){ee(this,"_height");ee(this,"_width");this._width=d||0,this._height=s||0}get height(){return this._height}get width(){return this._width}toString(){return`(${this.width}, ${this.height})`}equals(d){return this.width===d.width&&this.height===d.height}include(d){return new Vt(Math.max(this.width,d.width),Math.max(this.height,d.height))}};ee(Vt,"Empty",new Vt(0,0));let OxySize=Vt;OxySize.prototype.getBounds=function(a,d,s){return OxySizeExtensions.getBounds(this,a,d,s)};class OxySizeExtensions{static getBounds(d,s,m,f){const x=m===HorizontalAlignment.Left?0:m===HorizontalAlignment.Center?.5:1,g=f===VerticalAlignment.Top?0:f===VerticalAlignment.Middle?.5:1,w=new ScreenVector(x*d.width,g*d.height);if(s===0)return new OxyRect(-w.x,-w.y,d.width,d.height);const C=new ScreenVector(0,0).minus(w),A=new ScreenVector(d.width,0).minus(w),_=new ScreenVector(d.width,d.height).minus(w),M=new ScreenVector(0,d.height).minus(w),P=s*Math.PI/180,D=Math.cos(P),E=Math.sin(P),I=q=>new ScreenVector(D*q.x-E*q.y,E*q.x+D*q.y),B=I(C),F=I(A),R=I(_),L=I(M),z=Math.min(Math.min(B.x,F.x),Math.min(R.x,L.x)),G=Math.min(Math.min(B.y,F.y),Math.min(R.y,L.y)),W=Math.max(Math.max(B.x-z,F.x-z),Math.max(R.x-z,L.x-z)),K=Math.max(Math.max(B.y-G,F.y-G),Math.max(R.y-G,L.y-G));return new OxyRect(z,G,W,K)}static getPolygon(d,s,m,f,x){const g=f===HorizontalAlignment.Left?0:f===HorizontalAlignment.Center?.5:1,w=x===VerticalAlignment.Top?0:x===VerticalAlignment.Middle?.5:1,C=new ScreenVector(g*d.width,w*d.height);let A=new ScreenVector(0,0).minus(C),_=new ScreenVector(d.width,0).minus(C),M=new ScreenVector(d.width,d.height).minus(C),P=new ScreenVector(0,d.height).minus(C);if(m!==0){const D=m*Math.PI/180,E=Math.cos(D),I=Math.sin(D),B=F=>new ScreenVector(E*F.x-I*F.y,I*F.x+E*F.y);A=B(A),_=B(_),M=B(M),P=B(P)}return[s.plus(A),s.plus(_),s.plus(M),s.plus(P)]}}const Ut=class Ut{constructor(d,s,m,f){ee(this,"_bottom");ee(this,"_left");ee(this,"_right");ee(this,"_top");if(isNullOrUndef(s)&&isNullOrUndef(m)&&isNullOrUndef(f))this._left=this._top=this._right=this._bottom=d;else if(!isNullOrUndef(s)&&!isNullOrUndef(m)&&!isNullOrUndef(f))this._left=d,this._top=s,this._right=m,this._bottom=f;else throw new Error("Invalid arguments")}get bottom(){return this._bottom}get left(){return this._left}get right(){return this._right}get top(){return this._top}toString(){return`(${this._left}, ${this._top}, ${this._right}, ${this._bottom})`}equals(d){return this.left===d.left&&this.top===d.top&&this.right===d.right&&this.bottom===d.bottom}include(d){return new Ut(Math.max(d.left,this.left),Math.max(d.top,this.top),Math.max(d.right,this.right),Math.max(d.bottom,this.bottom))}};ee(Ut,"Zero",new Ut(0));let OxyThickness=Ut;const Dt=class Dt{constructor(d,s){ee(this,"_x");ee(this,"_y");this._x=d||0,this._y=s||0}get x(){return this._x}get y(){return this._y}static isUndefined(d){return isNaN(d._x)&&isNaN(d._y)}plus(d){const s=this;return new Dt(s.x+d.x,s.y+d.y)}minus(d){const s=this;return new ScreenVector(s.x-d.x,s.y-d.y)}minusVector(d){const s=this;return new Dt(s.x-d.x,s.y-d.y)}distanceTo(d){const s=d._x-this._x,m=d._y-this._y;return Math.sqrt(s*s+m*m)}distanceToSquared(d){const s=d._x-this._x,m=d._y-this._y;return s*s+m*m}toString(){return`${this._x} ${this._y}`}equals(d){return this._x===d._x&&this._y===d._y}};ee(Dt,"Undefined",new Dt(NaN,NaN)),ee(Dt,"LeftTop",new Dt(0,0));let ScreenPoint=Dt;class ScreenPointHelper{static findNearestPointOnPolyline(d,s){if(!s)throw new Error("points is null");let m=Number_MAX_VALUE,f=ScreenPoint.LeftTop;for(let x=0;x+1<s.length;x++){const g=s[x],w=s[x+1];if(ScreenPoint.isUndefined(g)||ScreenPoint.isUndefined(w))continue;const C=ScreenPointHelper.findPointOnLine(d,g,w);if(ScreenPoint.isUndefined(C))continue;const A=d.minus(C).lengthSquared;A<m&&(f=C,m=A)}return f}static findPointOnLine(d,s,m){const f=m.x-s.x,x=m.y-s.y;let g=ScreenPointHelper.findPositionOnLine(d,s,m);return isNaN(g)&&(g=0),g<0&&(g=0),g>1&&(g=1),new ScreenPoint(s.x+g*f,s.y+g*x)}static findPositionOnLine(d,s,m){const f=m.x-s.x,x=m.y-s.y,g=(d.x-s.x)*f+(d.y-s.y)*x,w=f*f+x*x;return w<1e-6?NaN:g/w}static isPointInPolygon(d,s){if(!s)return!1;const m=s.length;let f=!1;for(let x=0,g=m-1;x<m;g=x++)s[x].y>d.y!=s[g].y>d.y&&d.x<(s[g].x-s[x].x)*((d.y-s[x].y)/(s[g].y-s[x].y))+s[x].x&&(f=!f);return f}static resamplePoints(d,s){const m=s*s,f=d.length,x=[];if(f>0){x.push(d[0]);let g=0;for(let w=1;w<f;w++)d[g].distanceToSquared(d[w])<m&&w!==f-1||(g=w,x.push(d[w]))}return x}static getCentroid(d){let s=0,m=0,f=0;for(let x=0;x<d.length;x++){const g=(x+1)%d.length,w=d[x].x*d[g].y-d[g].x*d[x].y;s+=(d[x].x+d[g].x)*w,m+=(d[x].y+d[g].y)*w,f+=w}return f*=.5,s/=6*f,m/=6*f,new ScreenPoint(s,m)}}const Ct=class Ct{constructor(d,s){ee(this,"_x");ee(this,"_y");this._x=d,this._y=s}get length(){return Math.sqrt(this._x*this._x+this._y*this._y)}get lengthSquared(){return this._x*this._x+this._y*this._y}get x(){return this._x}get y(){return this._y}normalize(){if(this===Ct.Zero)throw new Error("Cannot normalize the zero vector");const d=Math.sqrt(this._x*this._x+this._y*this._y);d>0&&(this._x/=d,this._y/=d)}plus(d){const s=this;return new Ct(s.x+d.x,s.y+d.y)}minus(d){const s=this;return new Ct(s.x-d.x,s.y-d.y)}times(d){const s=this;return new Ct(s.x*d,s.y*d)}negate(){const d=this;return new Ct(-d.x,-d.y)}toString(){return`${this._x} ${this._y}`}equals(d){return this._x===d._x&&this._y===d._y}};ee(Ct,"Zero",Object.freeze(new Ct(0,0)));let ScreenVector=Ct;var VerticalAlignment=(a=>(a[a.Top=-1]="Top",a[a.Middle=0]="Middle",a[a.Bottom=1]="Bottom",a))(VerticalAlignment||{}),EdgeRenderingMode=(a=>(a[a.Automatic=0]="Automatic",a[a.Adaptive=1]="Adaptive",a[a.PreferSharpness=2]="PreferSharpness",a[a.PreferSpeed=3]="PreferSpeed",a[a.PreferGeometricAccuracy=4]="PreferGeometricAccuracy",a))(EdgeRenderingMode||{});const SubAlignment=.6,SubSize=.62,SuperAlignment=0,SuperSize=.62;class MathRenderingExtensions{static async drawMathText(d,s,m,f,x,g,w,C,A,_,M,P=!1){if(!m)return OxySize.Empty;if(m.includes("^{")||m.includes("_{")){const D=s.x,E=s.y,I=await this.internalDrawMathText(d,D,E,0,0,m,f,x,g,w,!0,C);let B=0,F=0;switch(A){case HorizontalAlignment.Right:B=-I.width;break;case HorizontalAlignment.Center:B=-I.width*.5;break}switch(_){case VerticalAlignment.Bottom:F=-I.height;break;case VerticalAlignment.Middle:F=-I.height*.5;break}return await this.internalDrawMathText(d,D,E,B,F,m,f,x,g,w,!1,C),P?I:OxySize.Empty}return await d.drawText(s,m,f,x,g,w,C,A,_,M),P?d.measureText(m,x,g,w):OxySize.Empty}static async measureMathText(d,s,m,f,x){return s.includes("^{")||s.includes("_{")?this.internalDrawMathText(d,0,0,0,0,s,OxyColors.Black,m,f,x,!0,0):d.measureText(s,m,f,x)}static async internalDrawMathText(d,s,m,f,x,g,w,C,A,_,M,P){let D=0;const E=P*Math.PI/180,I=round(Math.cos(E),5),B=round(Math.sin(E),5);let F=s,R=s,L=s;const z=m;let G=m,W=m;const K=A*SuperAlignment,q=A*SubAlignment,Z=A*SuperSize,J=A*SubSize,Q=async(ie,se,oe,ue)=>{if(!M){const xe=s+(ie-s+f)*I-(se-m+x)*B,ce=m+(ie-s+f)*B+(se-m+x)*I;await d.drawText(new ScreenPoint(xe,ce),oe,w,C,ue,_,P)}const fe=d.measureText(oe,C,ue,_);return new OxySize(fe.width,fe.height)};for(;D<g.length;){if(D+1<g.length&&g[D]==="^"&&g[D+1]==="{"){const ue=g.indexOf("}",D);if(ue!==-1){const fe=substring(g,D+2,ue-D-2);D=ue+1;const xe=F,ce=z+K,me=await Q(xe,ce,fe,Z);R=Math.max(xe+me.width,R),G=Math.max(ce+me.height,G),L=Math.min(xe,L),W=Math.min(ce,W);continue}}if(D+1<g.length&&g[D]==="_"&&g[D+1]==="{"){const ue=g.indexOf("}",D);if(ue!==-1){const fe=substring(g,D+2,ue-D-2);D=ue+1;const xe=F,ce=z+q,me=await Q(xe,ce,fe,J);R=Math.max(xe+me.width,R),G=Math.max(ce+me.height,G),L=Math.min(xe,L),W=Math.min(ce,W);continue}}const ie=indexOfAny(g.split(""),["^","_"],D+1);let se;ie===-1?(se=substring(g,D),D=g.length):(se=substring(g,D,ie-D),D=ie),F=R+2;const oe=await Q(F,z,se,A);R=Math.max(F+oe.width,R),G=Math.max(z+oe.height,G),L=Math.min(F,L),W=Math.min(z,W),F=R}return new OxySize(R-L,G-W)}}class RenderContextBase{constructor(){ee(this,"rendersToScreen");this.rendersToScreen=!0}static isStraightLine(d,s){return Math.abs(d.x-s.x)<1e-5||Math.abs(d.y-s.y)<1e-5}static isStraightLine2(d){for(let s=1;s<d.length;s++)if(!this.isStraightLine(d[s-1],d[s]))return!1;return!0}async drawEllipse(d,s,m,f,x){const g=RenderContextBase.createEllipse(d);await this.drawPolygon(g,s,m,f,x,void 0,LineJoin.Miter)}async drawEllipses(d,s,m,f,x){for(const g of d)await this.drawEllipse(g,s,m,f,x)}async drawLineSegments(d,s,m,f,x,g){for(let w=0;w+1<d.length;w+=2)await this.drawLine([d[w],d[w+1]],s,m,f,x,g)}async drawPolygons(d,s,m,f,x,g,w){for(const C of d)await this.drawPolygon(C,s,m,f,x,g,w)}async drawRectangle(d,s,m,f,x){const g=RenderContextBase.createRectangle(d);await this.drawPolygon(g,s,m,f,x,void 0,LineJoin.Miter)}async drawRectangles(d,s,m,f,x){for(const g of d)await this.drawRectangle(g,s,m,f,x)}setToolTip(d){}cleanUp(){}static createEllipse(d,s=40){const m=d.center.x,f=d.center.y,x=d.width/2,g=d.height/2,w=new Array(s);for(let C=0;C<s;C++){const A=Math.PI*2*C/s;w[C]=new ScreenPoint(m+Math.cos(A)*x,f+Math.sin(A)*g)}return w}static createRectangle(d){return[new ScreenPoint(d.left,d.top),new ScreenPoint(d.left,d.bottom),new ScreenPoint(d.right,d.bottom),new ScreenPoint(d.right,d.top)]}shouldUseAntiAliasingForRect(d){switch(d){case EdgeRenderingMode.PreferGeometricAccuracy:return!0;default:return!1}}shouldUseAntiAliasingForEllipse(d){switch(d){case EdgeRenderingMode.PreferSpeed:return!1;default:return!0}}shouldUseAntiAliasingForLine(d,s){switch(d){case EdgeRenderingMode.PreferSpeed:case EdgeRenderingMode.PreferSharpness:return!1;case EdgeRenderingMode.Automatic:if(RenderContextBase.isStraightLine2(s))return!1;break;case EdgeRenderingMode.Adaptive:if(RenderContextBase.isStraightLine2(s))return!1;break;default:return!0}return!0}}const kt=class kt{static getActualEdgeRenderingMode(d,s){return d===EdgeRenderingMode.Automatic?s:d}static async drawReducedLine(d,s,m,f,x,g,w,C,A,_){s.length!==0&&(A?A.length=0:A=[],this.reducePoints(s,m,A),await d.drawLine(A,f,x,g,w,C),A.length=0,pushMany(A,s),_&&_(A))}static async drawReducedPolygon(d,s,m,f,x,g,w,C=LineStyle.Solid,A=LineJoin.Miter){if(s.length===0||C===LineStyle.None)return;const M=[];this.reducePoints(s,m,M),await d.drawPolygon(M,f,x,g,w,LineStyleHelper.getDashArray(C),A)}static async drawImage(d,s,m,f,x,g,w,C){await d.drawImage(s,0,0,s.width,s.height,m,f,x,g,w,C)}static async drawMultilineText(d,s,m,f,x,g=10,w=FontWeights.Normal,C=12){const A=StringHelper.splitLines(m);for(let _=0;_<A.length;_++)await d.drawText(new ScreenPoint(s.x,s.y+_*C),A[_],f,void 0,g,w)}static async drawLine(d,s,m,f,x,g,w){g&&await d.drawLine([new ScreenPoint(s,m),new ScreenPoint(f,x)],g.color,g.thickness,w,g.actualDashArray,g.lineJoin)}static async drawLineSegments(d,s,m,f){m&&await d.drawLineSegments(s,m.color,m.thickness,f,m.actualDashArray,m.lineJoin)}static async drawMarker(d,s,m,f,x,g,w,C,A){await this.drawMarkers(d,[s],m,f,x,g,w,C,A)}static async drawMarkers(d,s,m,f,x,g,w,C,A,_=0,M=new ScreenPoint){await this.drawMarkers2(d,s,m,f,[x],g,w,C,A,_,M)}static async drawMarkers2(d,s,m,f,x,g,w,C,A,_=0,M=new ScreenPoint){if(m===MarkerType.None)return;const P=[],D=[],E=[],I=[],B=new Set;let F=0;for(const R of s){if(_>1){const z=Math.floor((R.x-M.x)/_),G=Math.floor((R.y-M.y)/_),W=toUint(z<<16)+toUint(G);if(B.has(W)){F++;continue}B.add(W)}const L=F<x.length?F:0;this.addMarkerGeometry(R,m,f,x[L],P,D,E,I),F++}A===EdgeRenderingMode.Automatic&&(A=EdgeRenderingMode.PreferGeometricAccuracy),P.length>0&&await d.drawEllipses(P,g,w,C,A),D.length>0&&await d.drawRectangles(D,g,w,C,A),E.length>0&&await d.drawPolygons(E,g,w,C,A),I.length>0&&await d.drawLineSegments(I,w,C,A)}static async drawCircle(d,s,m,f,x,g,w,C){await d.drawEllipse(new OxyRect(s-f,m-f,f*2,f*2),x,g,w,C)}static async drawCircle2(d,s,m,f,x,g,w){await this.drawCircle(d,s.x,s.y,m,f,x,g,w)}static async fillCircle(d,s,m,f,x){await this.drawCircle(d,s.x,s.y,m,f,OxyColors.Undefined,0,x)}static async fillRectangle(d,s,m,f){await d.drawRectangle(s,m,OxyColors.Undefined,0,f)}static async drawRectangle(d,s,m,f,x){if(f.left===f.right&&f.left===f.top&&f.left===f.bottom){await d.drawRectangle(s,OxyColors.Undefined,m,f.left,x);return}const g=s.left-f.left/2+.5,w=s.right+f.right/2-.5,C=s.top-f.top/2+.5,A=s.bottom+f.bottom/2-.5,_=[new ScreenPoint(g,s.top),new ScreenPoint(w,s.top)],M=[new ScreenPoint(s.right,C),new ScreenPoint(s.right,A)],P=[new ScreenPoint(g,s.bottom),new ScreenPoint(w,s.bottom)],D=[new ScreenPoint(s.left,C),new ScreenPoint(s.left,A)];await d.drawLine(_,m,f.top,x,void 0,LineJoin.Miter),await d.drawLine(M,m,f.right,x,void 0,LineJoin.Miter),await d.drawLine(P,m,f.bottom,x,void 0,LineJoin.Miter),await d.drawLine(D,m,f.left,x,void 0,LineJoin.Miter)}static measureText(d,s,m,f,x,g){const w=d.measureText(s,m,f,x);return this.measureRotatedRectangleBound(w,g)}static autoResetClip(d,s){return new AutoResetClipToken(d,s)}static addMarkerGeometry(d,s,m,f,x,g,w,C){if(s===MarkerType.Custom){if(!m)throw new Error("The outline should be set when MarkerType is 'Custom'.");const _=m.map(M=>new ScreenPoint(d.x+M.x*f,d.y+M.y*f));w.push(_);return}switch(s){case MarkerType.Circle:x.push(new OxyRect(d.x-f,d.y-f,f*2,f*2));break;case MarkerType.Square:g.push(new OxyRect(d.x-f,d.y-f,f*2,f*2));break;case MarkerType.Diamond:w.push([new ScreenPoint(d.x,d.y-this.M2*f),new ScreenPoint(d.x+this.M2*f,d.y),new ScreenPoint(d.x,d.y+this.M2*f),new ScreenPoint(d.x-this.M2*f,d.y)]);break;case MarkerType.Triangle:w.push([new ScreenPoint(d.x-f,d.y+this.M1*f),new ScreenPoint(d.x+f,d.y+this.M1*f),new ScreenPoint(d.x,d.y-this.M2*f)]);break;case MarkerType.Plus:case MarkerType.Star:C.push(new ScreenPoint(d.x-f,d.y)),C.push(new ScreenPoint(d.x+f,d.y)),C.push(new ScreenPoint(d.x,d.y-f)),C.push(new ScreenPoint(d.x,d.y+f));break}const A=this.M3;switch(s){case MarkerType.Cross:case MarkerType.Star:C.push(new ScreenPoint(d.x-f*A,d.y-f*A)),C.push(new ScreenPoint(d.x+f*A,d.y+f*A)),C.push(new ScreenPoint(d.x-f*A,d.y+f*A)),C.push(new ScreenPoint(d.x+f*A,d.y-f*A));break}}static measureRotatedRectangleBound(d,s){const m=d.getBounds(s,HorizontalAlignment.Center,VerticalAlignment.Middle);return new OxySize(m.width,m.height)}static reducePoints(d,s,m){const f=d.length;if(f===0)return;m.push(d[0]);let x=0;for(let g=1;g<f;g++){const w=d[g],C=w.x-d[x].x,A=w.y-d[x].y;(C*C+A*A>s||g===f-1)&&(m.push(new ScreenPoint(w.x,w.y)),x=g)}}static transformAndInterpolateLines(d,s,m,f){const x=d.xAxis,g=d.yAxis;if(x.isLogarithmic()||g.isLogarithmic()){let w=!1,C=!0,A=DataPoint.Undefined;for(const _ of s)if(!_.isDefined()||x.isLogarithmic()&&_.x<=0||g.isLogarithmic()&&_.y<=0)C=!0;else{if(C)m.length>0&&m.push(ScreenPoint.Undefined),C=!1,w=!0;else if(w){const M=_.minus(A);this.interpolatePoints(P=>d.transform(A.plus(M.times(P))),m,f,w)}A=_}}else{let w=!0;for(const C of s)C.isDefined()?(w&&m.length>0&&m.push(ScreenPoint.Undefined),m.push(d.transform(C)),w=!1):w=!0}}static interpolatePoints(d,s,m,f){const x=m*m,g=[],w=[];g.push(1),w.push(d(1));let C=0,A=d(0);for(f&&s.push(A);g.length>0;){let _=g[g.length-1],M=w[w.length-1];M.distanceToSquared(A)<x?(C=_,A=M,s.push(M),g.pop(),w.pop()):(_=C+(_-C)/2,M=d(_),g.push(_),w.push(M))}}};ee(kt,"M1",Math.tan(Math.PI/6)),ee(kt,"M2",Math.sqrt(1+kt.M1*kt.M1)),ee(kt,"M3",Math.tan(Math.PI/4));let RenderingExtensions=kt;class AutoResetClipToken{constructor(d,s){ee(this,"renderContext");this.renderContext=d,d.pushClip(s)}dispose(){this.renderContext.popClip()}}class ClippingRenderContext extends RenderContextBase{constructor(){super(...arguments);ee(this,"clipStack",[])}popClip(){if(this.clipStack.length===0)throw new Error("Unbalanced call to popClip.");const s=this.clipStack.pop();if(this.clipStack.length>0){const m=this.clipStack[this.clipStack.length-1];s.equals(m)||(this.resetClip(),this.setClip(m))}else this.resetClip()}pushClip(s){if(this.clipStack.length>0){const m=this.clipStack[this.clipStack.length-1],f=s.intersect(m);m.equals(f)||(this.resetClip(),this.setClip(f)),this.clipStack.push(f)}else this.setClip(s),this.clipStack.push(s)}get clipCount(){return this.clipStack.length}}class XkcdRenderingDecorator extends RenderContextBase{constructor(s){super();ee(this,"rc");ee(this,"distortionFactor");ee(this,"interpolationDistance");ee(this,"fontFamily");ee(this,"thicknessScale");this.rc=s,this.rendersToScreen=this.rc.rendersToScreen,this.distortionFactor=7,this.interpolationDistance=10,this.thicknessScale=2,this.fontFamily="Humor Sans"}get clipCount(){return this.rc.clipCount}async drawLine(s,m,f,x,g,w){const C=this.distort(s);await this.rc.drawLine(C,m,f*this.thicknessScale,x,g,w)}async drawPolygon(s,m,f,x,g,w,C){const A=[...s,s[0]],_=this.distort(A);await this.rc.drawPolygon(_,m,f,x*this.thicknessScale,g,w,C)}async drawText(s,m,f,x,g,w,C,A,_,M){await this.rc.drawText(s,m,f,this.getFontFamily(x),g,w,C,A,_,M)}measureText(s,m,f,x){return this.rc.measureText(s,this.getFontFamily(m),f,x)}setToolTip(s){this.rc.setToolTip(s)}cleanUp(){this.rc.cleanUp()}async drawImage(s,m,f,x,g,w,C,A,_,M,P){await this.rc.drawImage(s,m,f,x,g,w,C,A,_,M,P)}pushClip(s){this.rc.pushClip(s)}popClip(){this.rc.popClip()}getFontFamily(s){return this.fontFamily}distort(s){const m=this.interpolate(s,this.interpolationDistance),f=new Array(m.length);let x=this.generateRandomNumbers(m.length);x=this.applyMovingAverage(x,5);const g=this.distortionFactor,w=g/2;for(let C=0;C<m.length;C++){if(C===0||C===m.length-1){f[C]=m[C];continue}const A=m[C+1].minus(m[C-1]);A.normalize();const M=new ScreenVector(A.y,-A.x).times(x[C]*g-w);f[C]=m[C].plus(M)}return f}generateRandomNumbers(s){const m=new Array(s);for(let f=0;f<s;f++)m[f]=Math.random();return m}applyMovingAverage(s,m){const f=s.length,x=new Array(f).fill(0),g=Math.round(m/2);for(let w=0;w<f;w++){const C=Math.max(0,w-g),A=Math.min(f-1,w+g);for(let _=C;_<=A;_++)x[w]+=s[_];x[w]/=m}return x}interpolate(s,m){let f=ScreenPoint.LeftTop,x=-1,g=m;const w=[];for(const C of s){if(x<0){w.push(C),f=C,x=0;continue}const _=C.minus(f).length;if(_>0)for(;g>=x&&g<=x+_;){const M=(g-x)/_;w.push(new ScreenPoint(f.x*(1-M)+C.x*M,f.y*(1-M)+C.y*M)),g+=m}x+=_,f=C}return w.push(f),w}}class Decimator{static decimate(d,s){if(d===void 0||d.length===0)return;let m=d[0],f=Math.round(m.x),x=Math.round(m.y),g=x,w=x,C=x;for(let A=1;A<d.length;++A){m=d[A];const _=Math.round(m.x),M=Math.round(m.y);if(_!==f){Decimator.addVerticalPoints(s,f,w,C,x,g),w=C=x=g=M,f=_;continue}M<x&&(x=M),M>g&&(g=M),C=M}C=w===x?g:x,Decimator.addVerticalPoints(s,f,w,C,x,g)}static addVerticalPoints(d,s,m,f,x,g){if(d.push(new ScreenPoint(s,m)),m===x){x!==g&&d.push(new ScreenPoint(s,g)),g!==f&&d.push(new ScreenPoint(s,f));return}if(m===g){g!==x&&d.push(new ScreenPoint(s,x)),x!==f&&d.push(new ScreenPoint(s,f));return}f===x?x!==g&&d.push(new ScreenPoint(s,g)):f===g?g!==x&&d.push(new ScreenPoint(s,x)):(d.push(new ScreenPoint(s,x)),d.push(new ScreenPoint(s,g))),d.push(new ScreenPoint(s,f))}}class CanonicalSpline{constructor(d){ee(this,"tension");this.tension=d}createSplineDp(d,s,m){return CanonicalSpline.createSplineForDp(d,this.tension,void 0,s,m)}createSplineSp(d,s,m){return CanonicalSpline.createSpline(d,this.tension,void 0,s,m)}static createSplineForDp(d,s,m,f,x){const g=d.map(A=>new ScreenPoint(A.x,A.y)),w=CanonicalSpline.createSpline(g,s,m,f,x),C=[];for(const A of w)C.push(new DataPoint(A.x,A.y));return C}static createSpline(d,s,m,f,x){const g=[];if(!d)return g;const w=d.length;if(w<1)return g;if(w<2)return g.push(...d),g;if(w===2)f?(CanonicalSpline.segment(g,d[1],d[0],d[1],d[0],s,s,x),CanonicalSpline.segment(g,d[0],d[1],d[0],d[1],s,s,x)):CanonicalSpline.segment(g,d[0],d[0],d[1],d[1],s,s,x);else{const C=m&&m.length>0;for(let A=0;A<w;A++){const _=C?m[A%m.length]:s,M=C?m[(A+1)%m.length]:s;A===0?CanonicalSpline.segment(g,f?d[w-1]:d[0],d[0],d[1],d[2],_,M,x):A===w-2?CanonicalSpline.segment(g,d[A-1],d[A],d[A+1],f?d[0]:d[A+1],_,M,x):A===w-1?f&&CanonicalSpline.segment(g,d[A-1],d[A],d[0],d[1],_,M,x):CanonicalSpline.segment(g,d[A-1],d[A],d[A+1],d[A+2],_,M,x)}}return g}static segment(d,s,m,f,x,g,w,C,A=1e3){const _=g*(f.x-s.x),M=g*(f.y-s.y),P=w*(x.x-m.x),D=w*(x.y-m.y),E=_+P+2*m.x-2*f.x,I=M+D+2*m.y-2*f.y,B=-2*_-P-3*m.x+3*f.x,F=-2*M-D-3*m.y+3*f.y,R=_,L=M,z=m.x,G=m.y,W=Math.min(A,Math.round((Math.abs(m.x-f.x)+Math.abs(m.y-f.y))/C));for(let K=1;K<W;K++){const q=K/(W-1),Z=new ScreenPoint(E*q*q*q+B*q*q+R*q+z,I*q*q*q+F*q*q+L*q+G);d.push(Z)}}}class CatmullRomSpline{constructor(d){ee(this,"alpha");ee(this,"maxSegments");this.alpha=d,this.maxSegments=100}createSplineDp(d,s,m){return CatmullRomSpline.createSplineForDp(d,this.alpha,s,m,this.maxSegments)}createSplineSp(d,s,m){return CatmullRomSpline.createSpline(d,this.alpha,s,m,this.maxSegments)}static createSplineForDp(d,s,m,f,x){const g=d.map(A=>new ScreenPoint(A.x,A.y)),w=this.createSpline(g,s,m,f,x),C=[];for(const A of w)C.push(new DataPoint(A.x,A.y));return C}static createSpline(d,s,m,f,x){const g=[];if(d===void 0)return g;const w=d.length;if(w<1)return g;if(w<2)return g.push(...d),g;if(w===2)m?(this.segment(g,d[1],d[0],d[1],d[0],s,f,x),this.segment(g,d[0],d[1],d[0],d[1],s,f,x)):this.segment(g,d[0],d[0],d[1],d[1],s,f,x);else for(let C=0;C<w;C++)C===0?this.segment(g,m?d[w-1]:d[0],d[0],d[1],d[2],s,f,x):C===w-2?this.segment(g,d[C-1],d[C],d[C+1],m?d[0]:d[C+1],s,f,x):C===w-1?m&&this.segment(g,d[C-1],d[C],d[0],d[1],s,f,x):this.segment(g,d[C-1],d[C],d[C+1],d[C+2],s,f,x);return g}static segment(d,s,m,f,x,g,w,C){if(m.equals(f)){d.push(m);return}s.equals(m)&&(s=this.prev(m,f)),f.equals(x)&&(x=this.prev(f,m));const A=0,_=this.getT(A,s,m,g),M=this.getT(_,m,f,g),P=this.getT(M,f,x,g);let D=Math.round((Math.abs(m.x-f.x)+Math.abs(m.y-f.y))/w);D=Math.max(0,D),D=Math.min(C,D);for(let E=_;E<M;E+=(M-_)/D){const I=this.sum(this.mult((_-E)/(_-A),s),this.mult((E-A)/(_-A),m)),B=this.sum(this.mult((M-E)/(M-_),m),this.mult((E-_)/(M-_),f)),F=this.sum(this.mult((P-E)/(P-M),f),this.mult((E-M)/(P-M),x)),R=this.sum(this.mult((M-E)/(M-A),I),this.mult((E-A)/(M-A),B)),L=this.sum(this.mult((P-E)/(P-_),B),this.mult((E-_)/(P-_),F)),z=this.sum(this.mult((M-E)/(M-_),R),this.mult((E-_)/(M-_),L));d.push(z)}}static getT(d,s,m,f){const x=Math.pow(m.x-s.x,2)+Math.pow(m.y-s.y,2),g=Math.sqrt(x);return Math.pow(g,f)+d}static mult(d,s){return new ScreenPoint(s.x*d,s.y*d)}static equals(d,s){return d.x===s.x&&d.y===s.y}static prev(d,s){return new ScreenPoint(d.x-1e-4*(s.x-d.x),d.y-1e-4*(s.y-d.y))}static sum(d,s){return new ScreenPoint(d.x+s.x,d.y+s.y)}}class InterpolationAlgorithms{}ee(InterpolationAlgorithms,"CanonicalSpline",new CanonicalSpline(.5)),ee(InterpolationAlgorithms,"CatmullRomSpline",new CatmullRomSpline(.5)),ee(InterpolationAlgorithms,"UniformCatmullRomSpline",new CatmullRomSpline(0)),ee(InterpolationAlgorithms,"ChordalCatmullRomSpline",new CatmullRomSpline(1));let Series$1=class extends PlotElement{constructor(s){super(s);ee(this,"background");ee(this,"isVisible");ee(this,"title");ee(this,"legendKey");ee(this,"seriesGroupName");ee(this,"renderInLegend");ee(this,"trackerStringFormatter");ee(this,"trackerKey");this.isVisible=!0,this.background=OxyColors.Undefined,this.renderInLegend=!0}getNearestPoint(s,m){}hitTestOverride(s){const m=this.getNearestPoint(s.point,!0)||this.getNearestPoint(s.point,!1);if(m!=null&&m.position)return m.position.distanceTo(s.point)>s.tolerance?void 0:{element:this,nearestHitPoint:m.position,item:m.item,index:m.index}}};class ItemsSeries extends Series$1{constructor(s){super(s);ee(this,"itemsSource")}static getItem(s,m){if(!(!s||m<0)&&m<s.length&&m>=0)return s[m]}getItem(s){if(this.itemsSource)return ItemsSeries.getItem(this.itemsSource,s)}}const Et=class Et extends ItemsSeries{constructor(s){super(s);ee(this,"trackerStringFormatter");ee(this,"_maxX",0);ee(this,"_maxY",0);ee(this,"_minX",0);ee(this,"_minY",0);ee(this,"_xAxis");ee(this,"xAxisKey");ee(this,"_yAxis");ee(this,"yAxisKey");ee(this,"isXMonotonic",!1);ee(this,"windowStartIndex",0);this.trackerStringFormatter=Et.DefaultTrackerFormatter,setTransposablePlotElement(this)}get maxX(){return this._maxX}set maxX(s){this._maxX=s}get maxY(){return this._maxY}set maxY(s){this._maxY=s}get minX(){return this._minX}set minX(s){this._minX=s}get minY(){return this._minY}set minY(s){this._minY=s}get xAxis(){return this._xAxis}get yAxis(){return this._yAxis}getClippingRect(){return PlotElementUtilities.getClippingRect(this)}getScreenRectangle(){return this.getClippingRect()}inverseTransform(s){return PlotElementUtilities.inverseTransformOrientated(this,s)}async renderLegend(s,m){}transform(s){return PlotElementUtilities.transformOrientated(this,s)}areAxesRequired(){return!0}ensureAxes(){this._xAxis=this.xAxisKey?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis,this._yAxis=this.yAxisKey?this.plotModel.getAxis(this.yAxisKey):this.plotModel.defaultYAxis}isUsing(s){return!1}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX),this.yAxis.include(this.minY),this.yAxis.include(this.maxY)}updateData(){this.windowStartIndex=0}updateMaxMin(){this.minX=this.minY=this.maxX=this.maxY=Number.NaN}getNearestInterpolatedPointInternal2(s,m){return this.getNearestInterpolatedPointInternal(s,0,m)}getNearestInterpolatedPointInternal(s,m,f){if(!this.xAxis||!this.yAxis||!s)return;let x=ScreenPoint.LeftTop,g=DataPoint.Zero,w=-1,C=Number_MAX_VALUE;for(let A=m;A+1<s.length;A++){const _=s[A],M=s[A+1];if(!this.isValidPoint(_)||!this.isValidPoint(M))continue;const P=this.transform(_),D=this.transform(M),E=ScreenPointHelper.findPointOnLine(f,P,D);if(ScreenPoint.isUndefined(E))continue;const I=f.minus(E).lengthSquared;if(I<C){const B=D.minus(P).length,F=B>0?E.minus(P).length/B:0;g=this.inverseTransform(E),x=E,C=I,w=A+F}}if(C<Number_MAX_VALUE){const A=this.getItem(Math.round(w));return new TrackerHitResult({series:this,dataPoint:g,position:x,item:A,index:w})}}getNearestPointInternal2(s,m){return this.getNearestPointInternal(s,0,m)}getNearestPointInternal(s,m,f){let x=ScreenPoint.LeftTop,g=DataPoint.Zero,w=-1,C=Number_MAX_VALUE,A=m;for(const _ of s.slice(m)){if(!this.isValidPoint(_)){A++;continue}const M=PlotElementExtensions.transform(this,_.x,_.y),P=M.minus(f).lengthSquared;P<C&&(g=_,x=M,C=P,w=A),A++}if(C<Number_MAX_VALUE){const _=this.getItem(Math.round(w));return new TrackerHitResult({series:this,dataPoint:g,position:x,item:_,index:w})}}isValidPoint(s){return this.isValidPoint2(s.x,s.y)}isValidPoint2(s,m){return!!(this.xAxis&&this.xAxis.isValidValue(s)&&this.yAxis&&this.yAxis.isValidValue(m))}internalUpdateMaxMin(s){if(!s)throw new Error("points is null");if(this.isXMonotonic=!0,s.length===0)return;let m=this.minX,f=this.minY,x=this.maxX,g=this.maxY;isNaN(m)&&(m=Number_MAX_VALUE),isNaN(f)&&(f=Number_MAX_VALUE),isNaN(x)&&(x=Number_MIN_VALUE),isNaN(g)&&(g=Number_MIN_VALUE);let w=Number_MIN_VALUE;for(const C of s){const A=C.x,_=C.y;this.isValidPoint2(A,_)&&(A<w&&(this.isXMonotonic=!1),A<m&&(m=A),A>x&&(x=A),_<f&&(f=_),_>g&&(g=_),w=A)}m<Number_MAX_VALUE&&(this.minX=m),f<Number_MAX_VALUE&&(this.minY=f),x>Number_MIN_VALUE&&(this.maxX=x),g>Number_MIN_VALUE&&(this.maxY=g)}internalUpdateMaxMin2(s,m,f){if(!s)throw new Error("items is null");if(this.isXMonotonic=!0,s.length===0)return;let x=this.minX,g=this.minY,w=this.maxX,C=this.maxY;isNaN(x)&&(x=Number_MAX_VALUE),isNaN(g)&&(g=Number_MAX_VALUE),isNaN(w)&&(w=Number_MIN_VALUE),isNaN(C)&&(C=Number_MIN_VALUE);let A=Number_MIN_VALUE;for(const _ of s){const M=m(_),P=f(_);this.isValidPoint2(M,P)&&(M<A&&(this.isXMonotonic=!1),M<x&&(x=M),M>w&&(w=M),P<g&&(g=P),P>C&&(C=P),A=M)}x<Number_MAX_VALUE&&(this.minX=x),g<Number_MAX_VALUE&&(this.minY=g),w>Number_MIN_VALUE&&(this.maxX=w),C>Number_MIN_VALUE&&(this.maxY=C)}internalUpdateMaxMin3(s,m,f,x,g){if(!s)throw new Error("items is null");if(this.isXMonotonic=!0,s.length===0)return;let w=this.minX,C=this.minY,A=this.maxX,_=this.maxY;isNaN(w)&&(w=Number_MAX_VALUE),isNaN(C)&&(C=Number_MAX_VALUE),isNaN(A)&&(A=Number_MIN_VALUE),isNaN(_)&&(_=Number_MIN_VALUE);let M=Number_MIN_VALUE,P=Number_MIN_VALUE;for(const D of s){const E=m(D),I=f(D),B=x(D),F=g(D);!this.isValidPoint2(E,B)||!this.isValidPoint2(I,F)||((E<M||I<P)&&(this.isXMonotonic=!1),E<w&&(w=E),I>A&&(A=I),B<C&&(C=B),F>_&&(_=F),M=E,P=I)}w<Number_MAX_VALUE&&(this.minX=w),C<Number_MAX_VALUE&&(this.minY=C),A>Number_MIN_VALUE&&(this.maxX=A),_>Number_MIN_VALUE&&(this.maxY=_)}verifyAxes(){if(!this.xAxis)throw new Error("XAxis not defined.");if(!this.yAxis)throw new Error("YAxis not defined.")}updateWindowStartIndex(s,m,f,x){return x=this.findWindowStartIndex(s,m,f,x),x>0&&x--,x}findWindowStartIndex(s,m,f,x){let g=0,w=s.length-1;for(;w>0&&isNaN(m(s[w]));)w-=1;let C=w,A=Math.max(0,Math.min(C,x));const _=M=>{for(;M<=w;){const P=m(s[M]);if(isNaN(P))M+=1;else return P}return m(s[w])};for(;g<C;){const M=_(A);if(M===f){g=A;break}else M>f?C=A-1:g=A;if(g>=C)break;const P=_(C),D=_(g),E=(C-g+1)/(P-D);A=g+Math.round((f-D)*E),A=Math.max(g+1,Math.min(A,C))}for(;g>0&&m(s[g])>f;)g-=1;return g}formatDefaultTrackerString(s,m,f){var g,w,C,A;if(!this.trackerStringFormatter)return;const x={item:s,title:this.title||""};return m&&(x.xLabel=((g=this.xAxis)==null?void 0:g.title)??Et.defaultXAxisTitle,x.xValue=(w=this.xAxis)==null?void 0:w.getValue(m.x),x.yLabel=((C=this.yAxis)==null?void 0:C.title)??Et.defaultYAxisTitle,x.yValue=(A=this.yAxis)==null?void 0:A.getValue(m.y)),f&&f(x),this.trackerStringFormatter(x)}};ee(Et,"DefaultTrackerFormatter",s=>`${s.title||""}
${s.xLabel}: ${s.xValue}
${s.yLabel}: ${s.yValue}`),ee(Et,"defaultXAxisTitle","X"),ee(Et,"defaultYAxisTitle","Y");let XYAxisSeries=Et;class DataPointSeries extends XYAxisSeries{constructor(s){super(s);ee(this,"_points",[]);ee(this,"_itemsSourcePoints",[]);ee(this,"canTrackerInterpolatePoints",!1);ee(this,"dataFieldX");ee(this,"dataFieldY");ee(this,"mapping");s&&s.points&&(this._points.push(...s.points),delete s.points)}get points(){return this._points}get actualPoints(){return this.itemsSource?this._itemsSourcePoints:this._points}getNearestPoint(s,m){if(m&&!this.canTrackerInterpolatePoints)return;let f;return m&&(f=this.getNearestInterpolatedPointInternal2(this.actualPoints,s)),f||(f=this.getNearestPointInternal2(this.actualPoints,s)),f&&this.trackerStringFormatter&&(f.text=this.formatDefaultTrackerString(f.item,f.dataPoint)),f}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints)}getItem(s){const m=this.actualPoints;return!this.itemsSource&&m&&s<m.length?m[s]:super.getItem(s)}clearItemsSourcePoints(){this._itemsSourcePoints&&(this._itemsSourcePoints.length=0)}updateItemsSourcePoints(){if(!this.itemsSource)return;const s=this.itemsSource;if(this.mapping){this.clearItemsSourcePoints();for(const m of s)this._itemsSourcePoints.push(this.mapping(m));return}this.clearItemsSourcePoints();for(const m of s){const f=this.convertToDataPoint(m);f&&this._itemsSourcePoints.push(f)}}convertToDataPoint(s){if(s){if(s instanceof DataPoint)return s;if(this.dataFieldX&&this.dataFieldY){const m=this.xAxis?this.xAxis.itemToDouble(s[this.dataFieldX]):Number(s[this.dataFieldX]),f=this.yAxis?this.yAxis.itemToDouble(s[this.dataFieldY]):Number(s[this.dataFieldY]);return new DataPoint(m,f)}if(isDataPointProvider(s))return s.getDataPoint();throw new Error(`Cannot convert item ${s} to DataPoint`)}}}var LineLegendPosition=(a=>(a[a.None=0]="None",a[a.Start=1]="Start",a[a.End=2]="End",a))(LineLegendPosition||{});const qt=class qt extends DataPointSeries{constructor(s){super(s);ee(this,"outputBuffer");ee(this,"contiguousScreenPointsBuffer");ee(this,"decimatorBuffer",[]);ee(this,"defaultColor",OxyColors.Undefined);ee(this,"defaultMarkerFill",OxyColors.Undefined);ee(this,"defaultLineStyle",LineStyle.Solid);ee(this,"_smoothedPoints");ee(this,"color");ee(this,"brokenLineColor");ee(this,"brokenLineStyle",LineStyle.Solid);ee(this,"brokenLineThickness",0);ee(this,"dashes");ee(this,"decimator");ee(this,"labelStringFormatter");ee(this,"labelMargin");ee(this,"lineJoin");ee(this,"lineStyle");ee(this,"lineLegendPosition",0);ee(this,"markerFill");ee(this,"markerOutline");ee(this,"markerResolution");ee(this,"markerSize");ee(this,"markerStroke");ee(this,"markerStrokeThickness");ee(this,"markerType");ee(this,"minimumSegmentLength");ee(this,"interpolationAlgorithm");ee(this,"strokeThickness");this.strokeThickness=2,this.lineJoin=LineJoin.Bevel,this.lineStyle=LineStyle.Automatic,this.color=OxyColors.Automatic,this.brokenLineColor=OxyColors.Undefined,this.markerFill=OxyColors.Automatic,this.markerStroke=OxyColors.Automatic,this.markerResolution=0,this.markerSize=3,this.markerStrokeThickness=1,this.markerType=MarkerType.None,this.minimumSegmentLength=2,this.canTrackerInterpolatePoints=!0,this.labelMargin=6,this._smoothedPoints=new Array,s&&Object.assign(this,removeUndef(s))}get actualColor(){return this.color.getActualColor(this.defaultColor)}get actualMarkerFill(){return this.markerFill.getActualColor(this.defaultMarkerFill)}get actualLineStyle(){return this.lineStyle!=LineStyle.Automatic?this.lineStyle:this.defaultLineStyle}get actualDashArray(){return this.dashes??LineStyleHelper.getDashArray(this.actualLineStyle)}get smoothedPoints(){return this._smoothedPoints}getNearestPoint(s,m){if(m&&(this.actualColor.isInvisible()||this.strokeThickness===0||!this.canTrackerInterpolatePoints))return;const f=this.trackerStringFormatter;if(m&&this.interpolationAlgorithm){const x=this.getNearestInterpolatedPointInternal2(this.smoothedPoints,s);return x&&f&&(x.text=f({item:x.item,title:this.title,xLabel:this.xAxis.title??XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(x.dataPoint.x),yLabel:this.yAxis.title??XYAxisSeries.defaultYAxisTitle,yValue:this.yAxis.getValue(x.dataPoint.y)})),x}return super.getNearestPoint(s,m)}async render(s){const m=this.actualPoints;!m||m.length===0||(this.verifyAxes(),await this.renderPoints(s,m),this.labelStringFormatter&&await this.renderPointLabels(s),this.lineLegendPosition!==0&&this.title&&await this.renderLegendOnLine(s))}async renderLegend(s,m){const f=(m.left+m.right)/2,x=(m.top+m.bottom)/2,g=[new ScreenPoint(m.left,x),new ScreenPoint(m.right,x)];await s.drawLine(g,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray);const w=new ScreenPoint(f,x);await RenderingExtensions.drawMarker(s,w,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.lineStyle===LineStyle.Automatic&&(this.defaultLineStyle=this.plotModel.getDefaultLineStyle()),this.color.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor()),this.markerFill.isAutomatic()&&(this.defaultMarkerFill=this.color.isAutomatic()?this.defaultColor:this.color)}updateMaxMin(){if(this.interpolationAlgorithm){if(super.updateMaxMin(),this.resetSmoothedPoints(),this.smoothedPoints.every(f=>isNaN(f.x)))return;const s=this.smoothedPoints.filter(f=>!isNaN(f.x)).map(f=>f.x),m=this.smoothedPoints.filter(f=>!isNaN(f.y)).map(f=>f.y);this.minX=minValueOfArray(s),this.minY=minValueOfArray(m),this.maxX=maxValueOfArray(s),this.maxY=maxValueOfArray(m)}else super.updateMaxMin()}async renderPoints(s,m){let f;const x=this.brokenLineThickness>0&&this.brokenLineStyle!==LineStyle.None,g=x?LineStyleHelper.getDashArray(this.brokenLineStyle):void 0,w=x?[]:void 0;this.contiguousScreenPointsBuffer||(this.contiguousScreenPointsBuffer=[]);let C=0,A=Number_MAX_VALUE;if(this.isXMonotonic){const _=this.xAxis.clipMinimum;A=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(m,M=>M.x,_,this.windowStartIndex),C=this.windowStartIndex}for(let _=C;_<m.length;_++){const{result:M,pointIdx:P,previousContiguousLineSegmentEndPoint:D}=this.extractNextContiguousLineSegment(m,_,f,A,w,this.contiguousScreenPointsBuffer);if(_=P,f=D,!M)break;if(x){if(w&&w.length>0){const E=this.brokenLineColor.isAutomatic()?this.actualColor:this.brokenLineColor;await s.drawLineSegments(w,E,this.brokenLineThickness,this.edgeRenderingMode,g,this.lineJoin),w.length=0}}else f=void 0;this.decimator?(this.decimatorBuffer?this.decimatorBuffer.length=0:this.decimatorBuffer=[],this.decimator(this.contiguousScreenPointsBuffer,this.decimatorBuffer),await this.renderLineAndMarkers(s,this.decimatorBuffer)):await this.renderLineAndMarkers(s,this.contiguousScreenPointsBuffer),this.contiguousScreenPointsBuffer.length=0}}extractNextContiguousLineSegment(s,m,f,x,g,w){let C=new DataPoint(0,0),A=!1;for(;m<s.length;m++){if(C=s[m],C.x>x)return{result:!1,pointIdx:m,previousContiguousLineSegmentEndPoint:f};if(A=this.isValidPoint(C),A)break}if(!A)return{result:!1,pointIdx:m,previousContiguousLineSegmentEndPoint:f};let _=this.transform(C);f&&(g.push(f),g.push(_)),w.push(_);let M=0;for(m++;m<s.length&&(C=s[m],M+=C.x>x?1:0,!(M>1||!this.isValidPoint(C)));m++)_=this.transform(C),w.push(_);return f=_,{result:!0,pointIdx:m,previousContiguousLineSegmentEndPoint:f}}async renderPointLabels(s){if(!this.labelStringFormatter)return;let m=-1;for(const f of this.actualPoints){if(m++,!this.isValidPoint(f))continue;const x=this.transform(f).plus(new ScreenVector(0,-this.labelMargin)),g=this.getItem(m),w=this.labelStringFormatter(g,[f.x,f.y]);await s.drawText(x,w,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Bottom)}}async renderLegendOnLine(s){if(!this.title)return;let m,f,x=VerticalAlignment.Middle,g=4;switch(this.lineLegendPosition){case 1:m=this.actualPoints[0],f=HorizontalAlignment.Right,g=-g;break;case 2:m=this.actualPoints[this.actualPoints.length-1],f=HorizontalAlignment.Left;break;case 0:return;default:throw new Error("Invalid LineLegendPosition")}const w=PlotElementExtensions.orientateAlignment(this,f,x);f=w[0],x=w[1];const C=this.transform(m).plus(PlotElementExtensions.orientateVector(this,new ScreenVector(g,0)));await s.drawText(C,this.title,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,f,x)}async renderLineAndMarkers(s,m){let f=m;if(this.interpolationAlgorithm){const x=ScreenPointHelper.resamplePoints(m,this.minimumSegmentLength);f=this.interpolationAlgorithm.createSplineSp(x,!1,.25)}if(this.strokeThickness>0&&this.actualLineStyle!==LineStyle.None&&await this.renderLine(s,f),this.markerType!==MarkerType.None){const x=this.markerResolution>0?PlotElementExtensions.transform(this,this.minX,this.minY):ScreenPoint.LeftTop;await RenderingExtensions.drawMarkers2(s,m,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.markerResolution,x)}}async renderLine(s,m){const f=this.actualDashArray;this.outputBuffer||(this.outputBuffer=[]),await RenderingExtensions.drawReducedLine(s,m,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,f,this.lineJoin,this.outputBuffer)}resetSmoothedPoints(){const s=Math.abs(Math.max(this.maxX-this.minX,this.maxY-this.minY)/qt.ToleranceDivisor);this._smoothedPoints=this.interpolationAlgorithm.createSplineDp(this.actualPoints,!1,s)}};ee(qt,"ToleranceDivisor",200);let LineSeries=qt;class BarItemBase{constructor(d){ee(this,"categoryIndex");this.categoryIndex=-1,d&&(isNullOrUndef(d.categoryIndex)||(this.categoryIndex=d.categoryIndex))}getCategoryIndex(d){return this.categoryIndex<0?d:this.categoryIndex}}class BarItem extends BarItemBase{constructor(s){super(s);ee(this,"color");ee(this,"value",0);this.color=OxyColors.Automatic,s&&Object.assign(this,removeUndef(s))}static fromValue(s){return new BarItem({value:s})}}class BarSeriesBase extends XYAxisSeries{constructor(s){super(s);ee(this,"barWidth");ee(this,"itemsSourceItems");ee(this,"strokeColor");ee(this,"strokeThickness",0);ee(this,"manager");ee(this,"validItems",[]);ee(this,"validItemsIndexInversion",new Map);ee(this,"labelColor",OxyColors.Undefined);ee(this,"labelMargin",0);ee(this,"labelAngle",0);ee(this,"labelPlacement",LabelPlacement.Outside);ee(this,"items",[]);this.strokeColor=OxyColors.Black,this.barWidth=1}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getActualBarWidth(){if(!this.manager)return 0;const s=this.getCategoryAxis();return this.barWidth/(1+s.gapWidth)/this.manager.getMaxWidth()}get categoryAxis(){return this.getCategoryAxis()}getCategoryAxis(){if(!(this.yAxis instanceof CategoryAxis))throw new Error("BarSeries requires a CategoryAxis on the Y Axis.");return this.yAxis}get valueAxis(){return this.xAxis}getItem(s){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(s):this.actualItems[s]}clearItemsSourceItems(){this.itemsSourceItems&&(this.itemsSourceItems.length=0)}isUsing(s){return this.xAxis===s||this.yAxis===s}async renderLabel(s,m,f,x,g,w,C,...A){const _=[];if(A.length)_.push(...A);else if(m instanceof BarItem)_.push(m.value);else if(m instanceof IntervalBarItem)_.push(m.start),_.push(m.end);else throw m instanceof TornadoBarItem?new Error("RenderLabel does not support automatic determination of label values for TornadoBarItem objects. Please populate the labelValues parameter."):new Error(`RenderLabel automatic value determination not implemented for ${this.constructor.name}. Please populate the labelValues parameter.`);const M=C?C(m,_):"";let P;const D=(w+g)/2,E=Math.sign(x-f);let I=new ScreenVector(this.labelMargin,0).times(E),B=new ScreenVector(0,0);const F=RenderingExtensions.measureText(s,M,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle),R=(PlotElementExtensions.isTransposed(this)?F.height:F.width)/2,L=PlotElementExtensions.transform;switch(this.labelPlacement){case LabelPlacement.Inside:P=L(this,x,D),I=I.negate(),B=new ScreenVector(-E*R,0);break;case LabelPlacement.Outside:P=L(this,x,D),B=new ScreenVector(E*R,0);break;case LabelPlacement.Middle:P=L(this,(x+f)/2,D),I=new ScreenVector(0,0);break;case LabelPlacement.Base:P=L(this,f,D),B=new ScreenVector(E*R,0);break;default:throw new Error("Invalid label placement")}const z=PlotElementExtensions.orientateVector;P=P.plus(z(this,I)).plus(z(this,B)),await s.drawText(P,M,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,this.labelAngle,HorizontalAlignment.Center,VerticalAlignment.Middle)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX)}updateData(){this.clearItemsSourceItems(),!(!this.itemsSource||this.itemsSource.length==0)&&(this.updateFromDataFields()||(this.itemsSourceItems||(this.itemsSourceItems=[]),this.itemsSourceItems.push(...this.itemsSource)))}updateValidData(){this.validItems.length=0,this.validItemsIndexInversion.clear();const s=this.manager.categories.length;for(let m=0;m<this.actualItems.length;m++){const f=this.actualItems[m];f&&f.getCategoryIndex(m)<s&&this.isValid(f)&&(this.validItemsIndexInversion.set(this.validItems.length,m),this.validItems.push(f))}}}ee(BarSeriesBase,"DefaultCategoryAxisTitle","Category"),ee(BarSeriesBase,"DefaultValueAxisTitle","Value");const Kt=class Kt extends BarSeriesBase{constructor(s){super(s);ee(this,"defaultFillColor",OxyColors.Undefined);ee(this,"trackerStringFormatter");ee(this,"baseValue");ee(this,"baseLine");ee(this,"actualBaseLine");ee(this,"colorField");ee(this,"fillColor");ee(this,"isStacked",!1);ee(this,"overlapsStack",!1);ee(this,"labelStringFormatter");ee(this,"negativeFillColor");ee(this,"stackGroup");ee(this,"valueField");ee(this,"actualBarRectangles");this.fillColor=OxyColors.Automatic,this.negativeFillColor=OxyColors.Undefined,this.trackerStringFormatter=Kt.DefaultTrackerFormatter,this.labelMargin=2,this.labelAngle=0,this.stackGroup="",this.strokeThickness=0,this.baseValue=0,this.baseLine=NaN,this.actualBaseLine=NaN,s&&Object.assign(this,removeUndef(s))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(s,m){if(!this.actualBarRectangles||this.validItems.length===0)return;let f=0;for(const x of this.actualBarRectangles){if(x.containsPoint(s)){const g=this.validItems[f],w=g.getCategoryIndex(f),C=new DataPoint(w,this.validItems[f].value),A=this.getItem(this.validItemsIndexInversion.get(f));return new TrackerHitResult({series:this,dataPoint:C,position:s,item:A,index:f,text:this.getTrackerText(g,A,w)})}f++}}renderLegend(s,m){const f=(m.left+m.right)/2,x=(m.top+m.bottom)/2,g=(m.bottom-m.top)*.8,w=g;return s.drawRectangle(new OxyRect(f-.5*w,x-.5*g,w,g),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.xAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.xAxis.isLogarithmic()){const s=(this.actualItems||[]).map(f=>f.value),m=minValueOfArray(s.filter(f=>f>0),1);this.actualBaseLine=Math.max(m/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;const s=this.getCategoryAxis();let m=Number_MAX_VALUE,f=Number_MIN_VALUE;const x=this.manager;if(this.isStacked){const g=s.actualLabels;for(let w=0;w<g.length;w++){let C=0;const A=this.validItems.filter(I=>I.getCategoryIndex(C++)===w).map(I=>I.value).concat([0]);let _=A.filter(I=>I<=0).reduce((I,B)=>I+B,0),M=A.filter(I=>I>=0).reduce((I,B)=>I+B,0);const P=x.getStackIndex(this.stackGroup),D=x.getCurrentMinValue(P,w);isNaN(D)||(_+=D),x.setCurrentMinValue(P,w,_);const E=x.getCurrentMaxValue(P,w);!this.overlapsStack&&!isNaN(E)&&(M+=E),x.setCurrentMaxValue(P,w,M),m=Math.min(m,_+this.baseValue),f=Math.max(f,M+this.baseValue)}}else{const g=this.validItems.map(w=>w.value).concat([0]);m=minValueOfArray(g),f=maxValueOfArray(g),this.baseValue<m&&(m=this.baseValue),this.baseValue>f&&(f=this.baseValue)}this.minX=m,this.maxX=f}getTrackerText(s,m,f){if(!this.trackerStringFormatter)return;const x=this.getCategoryAxis(),g=this.xAxis;return this.trackerStringFormatter({item:m,title:this.title,category:x.formatValue(f),value:g==null?void 0:g.getValue(s.value)})}isValid(s){return this.xAxis.isValidValue(s.value)}async renderItem(s,m,f,x,g,w){let C=g.color;C.isAutomatic()&&(C=this.actualFillColor,g.value<0&&!this.negativeFillColor.isUndefined()&&(C=this.negativeFillColor));const A=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await s.drawRectangle(w,this.getSelectableFillColor(C),this.strokeColor,this.strokeThickness,A)}async render(s){if(this.actualBarRectangles=[],this.validItems.length===0)return;const m=this.manager,f=this.yAxis,x=this.xAxis,g=PlotElementExtensions.transform,w=this.getActualBarWidth(),C=this.isStacked?m.getStackIndex(this.stackGroup):0;for(let A=0;A<this.validItems.length;A++){const _=this.validItems[A],M=_.getCategoryIndex(A),P=_.value;let D=NaN;this.isStacked&&!this.overlapsStack&&(D=m.getCurrentBaseValue(C,M,P<0)),isNaN(D)&&(D=this.baseValue);const E=this.isStacked?D+P:P;if(f.isLogarithmic()&&!f.isValidValue(E))continue;let I;this.isStacked?I=m.getCategoryValue(M,C,w):I=M-.5+m.getCurrentBarOffset(M),this.isStacked&&m.setCurrentBaseValue(C,M,P<0,E);const B=x.isLogarithmic()&&!x.isValidValue(D),F=g(this,B?x.clipMinimum:D,I),R=g(this,E,I+w),L=OxyRect.fromScreenPoints(F,R);this.actualBarRectangles.push(L),await this.renderItem(s,E,I,w,_,L),this.labelStringFormatter&&await this.renderLabel(s,_,D,E,I,I+w,this.labelStringFormatter),this.isStacked||m.increaseCurrentBarOffset(M,w)}}updateFromDataFields(){if(!this.valueField)return!1;if(!this.itemsSource||this.itemsSource.length==0)return!0;this.itemsSourceItems=this.itemsSourceItems||[];for(const s of this.itemsSource){if(isNullOrUndef(s))continue;const m=s[this.valueField],f=new BarItem;f.value=isNullOrUndef(m)?NaN:m;let x=OxyColors.Automatic;this.colorField&&s[this.colorField]&&s[this.colorField]instanceof OxyColor&&(x=s[this.colorField]),f.color=x,this.itemsSourceItems.push(f)}return!0}};ee(Kt,"DefaultTrackerFormatter",s=>`${s.title||""}
${s.category}: ${s.value}`);let BarSeries=Kt;class BarSeriesManager{constructor(d,s,m){ee(this,"currentBarOffset");ee(this,"currentMaxValue");ee(this,"currentMinValue");ee(this,"currentNegativeBaseValues");ee(this,"currentPositiveBaseValues");ee(this,"maxWidth",NaN);ee(this,"_categoryAxis");ee(this,"_series");ee(this,"_valueAxis");ee(this,"_barOffset");ee(this,"_stackedBarOffset");ee(this,"_stackIndexMapping",new Map);if(!d.plotModel)throw new Error("The category axis must be part of a plot model.");this._categoryAxis=d,this._valueAxis=s,this._series=m;for(const f of this._series)f.manager=this}get categoryAxis(){return this._categoryAxis}get managedSeries(){return this._series}get plotModel(){return this.categoryAxis.plotModel}get valueAxis(){return this._valueAxis}get categories(){return this._categoryAxis.actualLabels}get stackIndexMapping(){return this._stackIndexMapping}getCategoryValue(d,s,m){const f=this._stackedBarOffset[s][d],x=this._stackedBarOffset[s+1][d];return d-.5+(x+f-m)*.5}getCurrentBarOffset(d){return this.currentBarOffset?this.currentBarOffset[d]:0}getCurrentBaseValue(d,s,m){return m?this.currentNegativeBaseValues[d][s]:this.currentPositiveBaseValues[d][s]}getCurrentMaxValue(d,s){return this.currentMaxValue?this.currentMaxValue[d][s]:0}getCurrentMinValue(d,s){return this.currentMinValue?this.currentMinValue[d][s]:0}getMaxWidth(){return this.maxWidth}getStackIndex(d){const s=this._stackIndexMapping.get(d);return isUndef(s)?-1:s}increaseCurrentBarOffset(d,s){this.currentBarOffset&&(this.currentBarOffset[d]+=s)}initializeRender(){this.resetCurrentValues()}setCurrentBaseValue(d,s,m,f){m?this.currentNegativeBaseValues[d][s]=f:this.currentPositiveBaseValues[d][s]=f}setCurrentMaxValue(d,s,m){this.currentMaxValue[d][s]=m}setCurrentMinValue(d,s,m){this.currentMinValue[d][s]=m}update(){this.categoryAxis.updateLabels(Math.max(...this.managedSeries.map(d=>d.actualItems.length))),this.updateBarOffsets(),this.updateValidData(),this.resetCurrentValues()}static hasCategory(d,s){return d.actualItems.length>s&&d.actualItems[s].categoryIndex<0?!0:d.actualItems.some(m=>m.categoryIndex===s)}resetCurrentValues(){this.currentBarOffset=[...this._barOffset||[]];const d=this.categoryAxis.actualLabels,s=this._stackIndexMapping.size;s>0?(this.currentPositiveBaseValues=create2DArray(s,d.length,Number.NaN),this.currentNegativeBaseValues=create2DArray(s,d.length,Number.NaN),this.currentMaxValue=create2DArray(s,d.length,Number.NaN),this.currentMinValue=create2DArray(s,d.length,Number.NaN)):(this.currentPositiveBaseValues=void 0,this.currentNegativeBaseValues=void 0,this.currentMaxValue=void 0,this.currentMinValue=void 0)}updateBarOffsets(){if(this.categories.length===0){this.maxWidth=Number.NaN,this._stackedBarOffset=void 0,this._stackIndexMapping.clear();return}const d=new Array(this.categories.length).fill(0),s=new Map;this._barOffset=new Array(this.categories.length).fill(0);const m=this.managedSeries.filter(w=>isStackableSeries(w)).map(w=>w),f=Array.from(m.filter(w=>w.isStacked).reduce((w,C)=>w.set(C.stackGroup,(w.get(C.stackGroup)||[]).concat(C)),new Map).values());for(const w of f){const C=Math.max(...w.map(A=>A.barWidth));s.set(w[0].stackGroup,C);for(let A=0;A<this.categories.length;A++)w.some(_=>BarSeriesManager.hasCategory(_,A))&&(d[A]+=C)}for(const w of this.managedSeries.filter(C=>!isStackableSeries(C)||!C.isStacked))for(let C=0;C<this.categories.length;C++){let A=w.actualItems.filter(_=>_.categoryIndex===C).length;w.actualItems.length>C&&w.actualItems[C].categoryIndex<0&&A++,d[C]+=w.barWidth*A}this.maxWidth=Math.max(...d),this._stackedBarOffset=create2DArray(f.length+1,this.categories.length,0);const x=1/(1+this.categoryAxis.gapWidth)/this.maxWidth;for(let w=0;w<this.categories.length;w++)this._barOffset[w]=.5-d[w]*x*.5;for(let w=0;w<f.length;w++){const C=f[w];for(let A=0;A<this.categories.length;A++)this._stackedBarOffset[w][A]=this._barOffset[A],C.some(_=>BarSeriesManager.hasCategory(_,A))&&(this._barOffset[A]+=s.get(C[0].stackGroup)*x)}for(let w=0;w<this.categories.length;w++)this._stackedBarOffset[f.length][w]=this._barOffset[w];this._stackIndexMapping.clear();let g=0;for(const w of f.map(C=>C[0].stackGroup).sort())this._stackIndexMapping.set(w,g++)}updateValidData(){for(const d of this.managedSeries)d.updateValidData()}}function isBarSeries(a){return a&&!isNullOrUndef(a.barWidth)&&a.categoryAxis}class IntervalBarItem extends BarItemBase{constructor(s){super(s);ee(this,"color");ee(this,"end",0);ee(this,"start",0);ee(this,"title");this.color=OxyColors.Automatic,s&&Object.assign(this,removeUndef(s))}}const Zt=class Zt extends BarSeriesBase{constructor(s){super(s);ee(this,"defaultFillColor",OxyColors.Undefined);ee(this,"trackerStringFormatter");ee(this,"colorField");ee(this,"endField");ee(this,"fillColor");ee(this,"isStacked",!0);ee(this,"overlapsStack",!0);ee(this,"labelStringFormatter",(s,m)=>`${m[0]} - ${m[1]}`);ee(this,"stackGroup","");ee(this,"startField");ee(this,"actualBarRectangles",[]);this.fillColor=OxyColors.Automatic,this.strokeThickness=1,this.trackerStringFormatter=Zt.DefaultTrackerStringFormatter,this.labelMargin=4,this.labelPlacement=LabelPlacement.Middle,s&&Object.assign(this,removeUndef(s))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(s,m){for(let f=0;f<this.actualBarRectangles.length;f++){if(!this.actualBarRectangles[f].containsPoint(s))continue;const g=this.getItem(this.validItemsIndexInversion.get(f)),w=g.getCategoryIndex(f),C=(this.validItems[f].start+this.validItems[f].end)/2,A=new DataPoint(w,C),_=this.getCategoryAxis(),M=this.xAxis,P=this.trackerStringFormatter({item:g,title:this.title,categoryTitle:_.title??BarSeriesBase.DefaultCategoryAxisTitle,categoryValue:_.formatValue(w),valueTitle:M.title??BarSeriesBase.DefaultValueAxisTitle});return new TrackerHitResult({series:this,dataPoint:A,position:s,item:g,index:f,text:P})}}async renderLegend(s,m){const f=(m.left+m.right)/2,x=(m.top+m.bottom)/2,g=(m.bottom-m.top)*.8,w=g;await s.drawRectangle(new OxyRect(f-.5*w,x-.5*g,w,g),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let s=Number_MAX_VALUE,m=Number_MIN_VALUE;for(const f of this.validItems)s=Math.min(s,f.start),s=Math.min(s,f.end),m=Math.max(m,f.start),m=Math.max(m,f.end);this.minX=s,this.maxX=m}isValid(s){return this.xAxis.isValidValue(s.start)&&this.xAxis.isValidValue(s.end)}async render(s){if(this.actualBarRectangles=[],this.validItems.length===0)return;const m=this.getActualBarWidth(),f=this.manager.getStackIndex(this.stackGroup),x=PlotElementExtensions.transform,g=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(let w=0;w<this.validItems.length;w++){const C=this.validItems[w],A=C.getCategoryIndex(w),_=this.manager.getCategoryValue(A,f,m),M=x(this,C.start,_),P=x(this,C.end,_+m),D=OxyRect.fromScreenPoints(M,P);this.actualBarRectangles.push(D),await s.drawRectangle(D,this.getSelectableFillColor(C.color.getActualColor(this.actualFillColor)),this.strokeColor,this.strokeThickness,g),this.labelStringFormatter&&await this.renderLabel(s,this.getItem(w),C.start,C.end,_,_+m,this.labelStringFormatter)}}updateFromDataFields(){var s;if(!this.startField||!this.endField||!this.itemsSource)return!1;for(const m of this.itemsSource){const f=getOrDefault(m,this.startField,NaN),x=getOrDefault(m,this.endField,NaN),g=getOrDefault(m,this.colorField,OxyColors.Automatic);(s=this.itemsSourceItems)==null||s.push(new IntervalBarItem({start:f,end:x,color:g}))}return!0}};ee(Zt,"DefaultTrackerStringFormatter",s=>{var m,f;return`${s.title}
${s.categoryTitle}: ${s.categoryValue}
${s.valueTitle}: ${(m=s.item)==null?void 0:m.start} - ${(f=s.item)==null?void 0:f.end}`});let IntervalBarSeries=Zt;function isStackableSeries(a){return a&&!isUndef(a.isStacked)&&typeof a.isStacked=="boolean"&&!isUndef(a.stackGroup)&&typeof a.stackGroup=="string"}var LabelPlacement=(a=>(a[a.Outside=0]="Outside",a[a.Inside=1]="Inside",a[a.Middle=2]="Middle",a[a.Base=3]="Base",a))(LabelPlacement||{});class ErrorBarItem extends BarItem{constructor(s){super(s);ee(this,"error",0);this.color=OxyColors.Automatic,s&&Object.assign(this,removeUndef(s))}}const Jt=class Jt extends BarSeries{constructor(s){super(s);ee(this,"errorStrokeThickness");ee(this,"errorWidth");this.errorWidth=.4,this.errorStrokeThickness=1,this.trackerStringFormatter=Jt.DefaultTrackerStringFormatter,s&&Object.assign(this,removeUndef(s))}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let s=Number_MAX_VALUE,m=Number_MIN_VALUE;if(!this.isStacked){const f=this.validItems.map(g=>g.value-g.error).concat([0]),x=this.validItems.map(g=>g.value+g.error).concat([0]);s=minValueOfArray(f),m=maxValueOfArray(x),this.baseValue<s&&(s=this.baseValue),this.baseValue>m&&(m=this.baseValue)}this.minX=s,this.maxX=m}async renderItem(s,m,f,x,g,w){await super.renderItem(s,m,f,x,g,w);const C=m-g.error,A=m+g.error,_=.5-this.errorWidth/2,M=.5+this.errorWidth/2,P=f+_*x,D=f+.5*x,E=f+M*x,I=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness),B=PlotElementExtensions.transform,F=B(this,C,D),R=B(this,A,D);if(await s.drawLine([F,R],this.strokeColor,this.errorStrokeThickness,I,void 0,LineJoin.Miter),this.errorWidth>0){const L=B(this,C,P),z=B(this,C,E);await s.drawLine([L,z],this.strokeColor,this.errorStrokeThickness,I,void 0,LineJoin.Miter);const G=B(this,A,P),W=B(this,A,E);await s.drawLine([G,W],this.strokeColor,this.errorStrokeThickness,I,void 0,LineJoin.Miter)}}};ee(Jt,"DefaultTrackerStringFormatter",s=>`${s.title||""}
${s.category}: ${s.value}, Error: ${round(s.item.error,3)}`);let ErrorBarSeries=Jt;class LinearBarSeries extends DataPointSeries{constructor(s){super(s);ee(this,"rectangles",[]);ee(this,"rectanglesPointIndexes",[]);ee(this,"defaultColor",OxyColors.Undefined);ee(this,"fillColor");ee(this,"barWidth");ee(this,"strokeThickness");ee(this,"strokeColor");ee(this,"negativeFillColor");ee(this,"negativeStrokeColor");ee(this,"baseValue");ee(this,"baseLine");ee(this,"actualBaseLine");this.fillColor=OxyColors.Automatic,this.barWidth=5,this.strokeColor=OxyColors.Black,this.strokeThickness=0,this.negativeFillColor=OxyColors.Undefined,this.negativeStrokeColor=OxyColors.Undefined,this.baseValue=0,this.baseLine=Number.NaN,this.actualBaseLine=Number.NaN,s&&Object.assign(this,removeUndef(s))}get actualColor(){return this.fillColor.getActualColor(this.defaultColor)}getNearestPoint(s,m){const f=this.findRectangleIndex(s);if(f<0||!this.rectangles[f].containsPoint(s))return;const g=this.rectanglesPointIndexes[f],w=this.actualPoints[g],C=this.getItem(g),A=this.formatDefaultTrackerString(C,w);return new TrackerHitResult({series:this,dataPoint:w,position:s,item:C,index:g,text:A})}async render(s){this.rectangles.length=0,this.rectanglesPointIndexes.length=0;const m=this.actualPoints;!m||m.length===0||(this.verifyAxes(),await this.renderBars(s,m))}async renderLegend(s,m){const f=(m.left+m.right)/2,x=(m.top+m.bottom)/2,g=(m.bottom-m.top)*.8,w=g;await s.drawRectangle(new OxyRect(f-.5*w,x-.5*g,w,g),this.getSelectableColor(this.actualColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.yAxis.isLogarithmic()){const s=this.actualPoints?minValueOfArray(this.actualPoints.filter(m=>m.y>0).map(m=>m.y),1):1;this.actualBaseLine=Math.max(s/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}findRectangleIndex(s){let m;return PlotElementExtensions.isTransposed(this)?m=(f,x)=>f.bottom<s.y?1:f.top>s.y?-1:0:m=(f,x)=>f.right<s.x?-1:f.left>s.x?1:0,this.rectangles.findIndex(f=>m(f,OxyRect.Empty)===0)}async renderBars(s,m){const f=this.yAxis.isLogarithmic()&&!this.yAxis.isValidValue(this.baseValue),x=this.getBarWidth(m)/2,g=PlotElementExtensions.orientateVector(this,new ScreenVector(x,0)),w=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(let C=0;C<m.length;C++){const A=m[C];if(!this.isValidPoint(A))continue;const _=this.transform(A).minusVector(g),M=this.transform(new DataPoint(A.x,f?this.yAxis.clipMinimum:this.baseValue)).plus(g),P=OxyRect.fromScreenPoints(M,_);this.rectangles.push(P),this.rectanglesPointIndexes.push(C);const D=this.getBarColors(A.y);await s.drawRectangle(P,D.fillColor,D.strokeColor,this.strokeThickness,w)}}getBarWidth(s){let m=this.barWidth/this.xAxis.scale;for(let f=1;f<s.length;f++){const x=s[f].x-s[f-1].x;x<m&&(m=x)}return m*this.xAxis.scale}getBarColors(s){const m=s>=this.baseValue,f=m||this.negativeFillColor.isUndefined()?this.getSelectableFillColor(this.actualColor):this.negativeFillColor,x=m||this.negativeStrokeColor.isUndefined()?this.strokeColor:this.negativeStrokeColor;return{fillColor:f,strokeColor:x}}}class TornadoBarItem extends BarItemBase{constructor(s){super(s);ee(this,"baseValue");ee(this,"maximum");ee(this,"maximumColor");ee(this,"minimum");ee(this,"minimumColor");this.minimum=NaN,this.maximum=NaN,this.baseValue=NaN,this.minimumColor=OxyColors.Automatic,this.maximumColor=OxyColors.Automatic,s&&Object.assign(this,removeUndef(s))}}const Qt=class Qt extends BarSeriesBase{constructor(s){super(s);ee(this,"defaultMaximumFillColor",OxyColors.Undefined);ee(this,"defaultMinimumFillColor",OxyColors.Undefined);ee(this,"baseField");ee(this,"baseValue",NaN);ee(this,"maximumColorField");ee(this,"maximumField");ee(this,"maximumFillColor");ee(this,"maximumLabelStringFormatter");ee(this,"minimumColorField");ee(this,"minimumField");ee(this,"minimumFillColor");ee(this,"minimumLabelStringFormatter");ee(this,"actualMaximumBarRectangles",[]);ee(this,"actualMinimumBarRectangles",[]);this.maximumFillColor=OxyColor.fromRgb(216,82,85),this.minimumFillColor=OxyColor.fromRgb(84,138,209),this.strokeColor=OxyColors.Black,this.strokeThickness=1,this.trackerStringFormatter=Qt.defaultTrackerStringFormatter,this.labelMargin=4,this.minimumLabelStringFormatter=(m,f)=>f[0].toString(),this.maximumLabelStringFormatter=(m,f)=>f[0].toString(),s&&Object.assign(this,removeUndef(s))}get actualMaximumFillColor(){return this.maximumFillColor.getActualColor(this.defaultMaximumFillColor)}get actualMinimumFillColor(){return this.minimumFillColor.getActualColor(this.defaultMinimumFillColor)}getNearestPoint(s,m){for(let f=0;f<this.actualMinimumBarRectangles.length;f++){const x=this.actualMinimumBarRectangles[f].containsPoint(s),g=this.actualMaximumBarRectangles[f].containsPoint(s);if(x||g){const w=this.getItem(this.validItemsIndexInversion.get(f)),C=w.getCategoryIndex(f),A=g?this.validItems[f].maximum:this.validItems[f].minimum,_=new DataPoint(C,A),M=this.getCategoryAxis(),P=this.trackerStringFormatter({item:w,title:this.title,yLabel:M.title??BarSeriesBase.DefaultCategoryAxisTitle,yValue:M.formatValue(C),xLabel:this.xAxis.title??BarSeriesBase.DefaultValueAxisTitle,xValue:this.xAxis.getValue(A)});return new TrackerHitResult({series:this,dataPoint:_,position:s,item:w,index:f,text:P})}}}async render(s){if(this.actualMinimumBarRectangles=[],this.actualMaximumBarRectangles=[],this.validItems.length===0)return;const m=this.getActualBarWidth();for(let f=0;f<this.validItems.length;f++){const x=this.validItems[f],g=x.getCategoryIndex(f),w=isNaN(x.baseValue)?this.baseValue:x.baseValue,C=this.manager.getCurrentBarOffset(g),A=g-.5+C,_=A+m,M=PlotElementExtensions.transform,P=M(this,x.minimum,A),D=M(this,x.maximum,A),E=M(this,w,A+m),I=OxyRect.fromScreenPoints(P,E),B=OxyRect.fromScreenPoints(D,E);this.actualMinimumBarRectangles.push(I),this.actualMaximumBarRectangles.push(B);const F=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await s.drawRectangle(I,x.minimumColor.getActualColor(this.actualMinimumFillColor),this.strokeColor,this.strokeThickness,F),await s.drawRectangle(B,x.maximumColor.getActualColor(this.actualMaximumFillColor),this.strokeColor,this.strokeThickness,F),this.minimumLabelStringFormatter&&await this.renderLabel(s,x,w,x.minimum,A,_,this.minimumLabelStringFormatter,x.minimum),this.maximumLabelStringFormatter&&await this.renderLabel(s,x,w,x.maximum,A,_,this.maximumLabelStringFormatter,x.maximum)}}async renderLegend(s,m){const f=(m.left+m.right)/2,x=(m.top+m.bottom)/2,g=(m.bottom-m.top)*.8,w=g,C=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await s.drawRectangle(new OxyRect(f-.5*w,x-.5*g,.5*w,g),this.actualMinimumFillColor,this.strokeColor,this.strokeThickness,C),await s.drawRectangle(new OxyRect(f,x-.5*g,.5*w,g),this.actualMaximumFillColor,this.strokeColor,this.strokeThickness,C)}setDefaultValues(){this.maximumFillColor.isAutomatic()&&(this.defaultMaximumFillColor=this.plotModel.getDefaultColor()),this.minimumFillColor.isAutomatic()&&(this.defaultMinimumFillColor=this.plotModel.getDefaultColor())}updateMaxMin(){if(super.updateMaxMin(),this.validItems.length===0)return;let s=Number_MAX_VALUE,m=Number_MIN_VALUE;for(const f of this.validItems)s=Math.min(s,f.minimum),m=Math.max(m,f.maximum);this.minX=s,this.maxX=m}isValid(s){return this.xAxis.isValidValue(s.minimum)&&this.xAxis.isValidValue(s.maximum)}updateFromDataFields(){if(!this.minimumField||!this.maximumField||!this.itemsSource)return!1;this.itemsSourceItems?this.itemsSourceItems.length=0:this.itemsSourceItems=[];for(const s of this.itemsSource){if(!s)continue;if(s instanceof TornadoBarItem){this.itemsSourceItems.push(s);continue}const m=getOrDefault(s,this.minimumField,Number.NaN),f=getOrDefault(s,this.maximumField,Number.NaN),x=getOrDefault(s,this.baseField,Number.NaN),g=getOrDefault(s,this.minimumColorField,OxyColors.Automatic),w=getOrDefault(s,this.maximumColorField,OxyColors.Automatic);this.itemsSourceItems.push(new TornadoBarItem({minimum:m,maximum:f,baseValue:x,minimumColor:g,maximumColor:w}))}return!0}};ee(Qt,"defaultTrackerStringFormatter",s=>`${s.title||""}
${s.yLabel}: ${s.yValue}
${s.xLabel}: ${s.xValue}`);let TornadoBarSeries=Qt;const ei=class ei extends XYAxisSeries{constructor(s){super(s);ee(this,"defaultFillColor",OxyColors.Undefined);ee(this,"fillColor");ee(this,"items");ee(this,"labelStringFormatter");ee(this,"strokeColor");ee(this,"strokeThickness");ee(this,"actualBarRectangles",[]);ee(this,"actualItems",[]);this.items=[],this.fillColor=OxyColors.Automatic,this.strokeColor=OxyColors.Black,this.strokeThickness=1,this.trackerStringFormatter=ei.defaultTrackerStringFormatter,this.labelStringFormatter=(m,f)=>`${f[4]||""}`,s&&Object.assign(this,removeUndef(s))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}getNearestPoint(s,m){if(!(!this.actualBarRectangles||!this.actualItems)){for(let f=0;f<this.actualBarRectangles.length;f++)if(this.actualBarRectangles[f].containsPoint(s)){const g=(this.actualItems[f].y0+this.actualItems[f].y1)/2,w=s,C=new DataPoint(f,g),A=this.actualItems[f],_=this.formatDefaultTrackerString(A,new DataPoint(this.actualItems[f].x0,this.actualItems[f].y0),M=>{M.x1Value=this.xAxis.getValue(this.actualItems[f].x1),M.y1Value=this.yAxis.getValue(this.actualItems[f].y1)});return new TrackerHitResult({series:this,dataPoint:C,position:w,item:A,index:f,text:_})}}}async render(s){if(this.items.length===0)return;let m=0,f=Number_MAX_VALUE;if(this.actualBarRectangles=[],this.actualItems=[],this.isXMonotonic){const w=this.xAxis.clipMinimum;f=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(this.items,C=>C.x0,w,this.windowStartIndex),m=this.windowStartIndex}const x=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);let g=0;for(let w=m;w<this.items.length;w++){const C=this.items[w];if(!this.isValid(C.x0)||!this.isValid(C.x1)||!this.isValid(C.y0)||!this.isValid(C.y1))continue;const A=PlotElementExtensions.transform,_=A(this,C.x0,C.y0),M=A(this,C.x1,C.y1),P=OxyRect.create(_.x,_.y,M.x,M.y);if(this.actualBarRectangles.push(P),this.actualItems.push(C),await s.drawRectangle(P,this.getSelectableFillColor(C.color.getActualColor(this.actualFillColor)),this.strokeColor,this.strokeThickness,x),this.labelStringFormatter){const D=this.labelStringFormatter(this.getItem(w),[C.x0,C.x1,C.y0,C.y1,C.title]),E=new ScreenPoint((P.left+P.right)/2,(P.top+P.bottom)/2);await s.drawText(E,D,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}if(g+=C.x0>f?1:0,g>1)break}}async renderLegend(s,m){const f=(m.left+m.right)/2,x=(m.top+m.bottom)/2,g=(m.bottom-m.top)*.8,w=g;await s.drawRectangle(new OxyRect(f-.5*w,x-.5*g,w,g),this.getSelectableFillColor(this.actualFillColor),this.strokeColor,this.strokeThickness,this.edgeRenderingMode)}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource)throw this.items=[],new Error("Not implemented")}updateMaxMin(){if(super.updateMaxMin(),this.isXMonotonic=!0,this.items===null||this.items.length===0)return;let s=Number_MAX_VALUE,m=Number_MIN_VALUE,f=Number_MAX_VALUE,x=Number_MIN_VALUE,g=Number_MIN_VALUE,w=Number_MIN_VALUE;for(const C of this.items)(C.x0<g||C.x1<w)&&(this.isXMonotonic=!1),s=Math.min(s,Math.min(C.x0,C.x1)),m=Math.max(m,Math.max(C.x1,C.x0)),f=Math.min(f,Math.min(C.y0,C.y1)),x=Math.max(x,Math.max(C.y0,C.y1)),g=C.x0,w=C.x1;this.minX=s,this.maxX=m,this.minY=f,this.maxY=x}isValid(s){return!isNaN(s)&&isFinite(s)}};ee(ei,"defaultTrackerStringFormatter",s=>`${s.title}
${s.xLabel}: ${s.xValue} ${s.x1Value}  
${s.yLabel}: ${s.yValue} ${s.y1Value}`);let RectangleBarSeries=ei;function createHighLowItem(a,d,s,m=NaN,f=NaN){return{x:a,high:d,low:s,open:m,close:f}}const ti=class ti extends XYAxisSeries{constructor(s){super(s);ee(this,"_items",[]);ee(this,"defaultColor",OxyColors.Undefined);ee(this,"trackerStringFormatter");ee(this,"color");ee(this,"dashes");ee(this,"dataFieldClose");ee(this,"dataFieldHigh");ee(this,"dataFieldLow");ee(this,"dataFieldOpen");ee(this,"dataFieldX");ee(this,"lineJoin",LineJoin.Miter);ee(this,"lineStyle",LineStyle.Solid);ee(this,"mapping");ee(this,"strokeThickness");ee(this,"tickLength");this.color=OxyColors.Automatic,this.tickLength=4,this.strokeThickness=1,this.trackerStringFormatter=ti.DefaultTrackerStringFormatter,s&&Object.assign(this,removeUndef(s))}get actualColor(){return this.color.getActualColor(this.defaultColor)}get items(){return this._items}getNearestPoint(s,m){if(!this.xAxis||!this.yAxis||m)return;let f=Number_MAX_VALUE,x;const g=(w,C,A)=>{const _=this.transform(w),M=_.x-s.x,P=_.y-s.y,D=M*M+P*P;if(D<f){const E=this.formatHighLowItemTrackerString(C);x=new TrackerHitResult({series:this,dataPoint:w,position:_,item:C,index:A,text:E}),f=D}};for(let w=0;w<this.items.length;w++){const C=this.items[w];g(new DataPoint(C.x,C.high),C,w),g(new DataPoint(C.x,C.low),C,w),g(new DataPoint(C.x,C.open),C,w),g(new DataPoint(C.x,C.close),C,w)}if(f<Number_MAX_VALUE)return x}formatHighLowItemTrackerString(s){return this.trackerStringFormatter&&this.trackerStringFormatter({item:s,title:this.title||"",xLabel:this.xAxis.title??XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(s.x),high:this.yAxis.getValue(s.high),low:this.yAxis.getValue(s.low),open:this.yAxis.getValue(s.open),close:this.yAxis.getValue(s.close)})||""}isValidItem(s,m,f){return!isNaN(s.x)&&isFinite(s.x)&&!isNaN(s.high)&&isFinite(s.high)&&!isNaN(s.low)&&isFinite(s.low)}async render(s){if(this.items.length===0)return;this.verifyAxes();const m=LineStyleHelper.getDashArray(this.lineStyle),f=this.getSelectableColor(this.actualColor),x=PlotElementExtensions.transform;for(const g of this.items)if(this.isValidItem(g,this.xAxis,this.yAxis)&&this.strokeThickness>0&&this.lineStyle!==LineStyle.None){const w=x(this,g.x,g.high),C=x(this,g.x,g.low);await s.drawLine([C,w],f,this.strokeThickness,this.edgeRenderingMode,m,this.lineJoin);const A=PlotElementExtensions.orientateVector(this,new ScreenVector(this.tickLength,0));if(!isNaN(g.open)){const _=x(this,g.x,g.open),M=_.minusVector(A);await s.drawLine([_,M],f,this.strokeThickness,this.edgeRenderingMode,m,this.lineJoin)}if(!isNaN(g.close)){const _=x(this,g.x,g.close),M=_.plus(A);await s.drawLine([_,M],f,this.strokeThickness,this.edgeRenderingMode,m,this.lineJoin)}}}async renderLegend(s,m){const f=(m.left+m.right)/2,x=m.top+(m.bottom-m.top)*.7,g=m.top+(m.bottom-m.top)*.3,w=LineStyleHelper.getDashArray(this.lineStyle),C=this.getSelectableColor(this.actualColor);this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&(await s.drawLine([new ScreenPoint(f,m.top),new ScreenPoint(f,m.bottom)],C,this.strokeThickness,this.edgeRenderingMode,w,LineJoin.Miter),await s.drawLine([new ScreenPoint(f-this.tickLength,x),new ScreenPoint(f,x)],C,this.strokeThickness,this.edgeRenderingMode,w,LineJoin.Miter),await s.drawLine([new ScreenPoint(f+this.tickLength,g),new ScreenPoint(f,g)],C,this.strokeThickness,this.edgeRenderingMode,w,LineJoin.Miter))}setDefaultValues(){this.color.isAutomatic()&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateData(){if(this.itemsSource){if(this._items.length=0,this.mapping){for(const s of this.itemsSource)this._items.push(this.mapping(s));return}for(const s of this.itemsSource){if(!s)continue;if("high"in s&&"low"in s&&"x"in s){this._items.push(s);continue}if(!this.dataFieldX||!this.dataFieldHigh||!this.dataFieldLow)throw new Error("HighLowSeries: dataFieldX, dataFieldHigh and dataFieldLow are required");const m=getOrDefault(s,this.dataFieldX,NaN),f=getOrDefault(s,this.dataFieldHigh,NaN),x=getOrDefault(s,this.dataFieldLow,NaN),g=getOrDefault(s,this.dataFieldOpen,NaN),w=getOrDefault(s,this.dataFieldClose,NaN);this._items.push({x:m,high:f,low:x,open:g,close:w})}}}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin3(this.items,s=>s.x,s=>s.x,s=>s.low,s=>s.high)}};ee(ti,"DefaultTrackerStringFormatter",s=>`${s.title}
${s.xLabel}: ${s.xValue}
High: ${round(s.high,3)}
Low: ${round(s.low,3)}
Open: ${round(s.open,3)}
Close: ${round(s.close,3)}`);let HighLowSeries=ti;const ii=class ii{constructor(d=NaN,s,m){ee(this,"x");ee(this,"buyVolume");ee(this,"sellVolume");this.x=d||NaN,this.buyVolume=s,this.sellVolume=m}static findIndex(d,s,m){let f=0,x=0,g=d.length-1;for(;x<=g;){if(m<x)return f;if(m>g)return g;const w=d[m].x;if(w===s)return m;if(w>s){if(g=m-1,g<x)return f;if(g===x)return g}else x=m+1,f=m;if(x>=g)return f;const C=d[g].x,A=d[x].x,_=(g-x+1)/(C-A);m=x+Math.round((s-A)*_)}return f}isValid(){return!isNaN(this.x)&&!isNaN(this.buyVolume)&&!isNaN(this.sellVolume)}};ee(ii,"Undefined",new ii(NaN,NaN,NaN));let OhlcvItem=ii;var VolumeStyle=(a=>(a[a.None=0]="None",a[a.Combined=1]="Combined",a[a.Stacked=2]="Stacked",a[a.PositiveNegative=3]="PositiveNegative",a))(VolumeStyle||{});const ni=class ni extends XYAxisSeries{constructor(s){super(s);ee(this,"data",[]);ee(this,"minDx",0);ee(this,"winIndex",0);ee(this,"volumeStyle");ee(this,"strokeThickness");ee(this,"strokeIntensity");ee(this,"positiveColor");ee(this,"negativeColor");ee(this,"interceptColor");ee(this,"interceptStrokeThickness");ee(this,"interceptLineStyle");ee(this,"positiveHollow");ee(this,"negativeHollow");ee(this,"barWidth");ee(this,"minimumVolume",0);ee(this,"maximumVolume",0);ee(this,"averageVolume",0);this.positiveColor=OxyColors.DarkGreen,this.negativeColor=OxyColors.Red,this.barWidth=0,this.strokeThickness=1,this.negativeHollow=!1,this.positiveHollow=!0,this.strokeIntensity=.8,this.volumeStyle=1,this.interceptColor=OxyColors.Gray,this.interceptLineStyle=LineStyle.Dash,this.interceptStrokeThickness=1,this.trackerStringFormatter=ni.DefaultTrackerStringFormatter,s&&Object.assign(this,removeUndef(s))}get items(){return this.data}set items(s){this.data=s}append(s){if(this.data===null&&(this.data=[]),this.data.length>0&&this.data[this.data.length-1].x>s.x)throw new Error("cannot append bar out of order, must be sequential in X");this.data.push(s)}async render(s){if(this.data===null||this.data.length===0)return;const m=this.data,f=this.data.length;this.verifyAxes();const x=this.getClippingRect();this.barWidth>0?this.barWidth:this.minDx*.8;const g=this.getSelectableFillColor(this.positiveColor),w=this.getSelectableFillColor(this.negativeColor),C=this.positiveHollow?OxyColors.Transparent:g,A=this.negativeHollow?OxyColors.Transparent:w,_=OxyColorExtensions.changeIntensity(this.positiveColor,this.strokeIntensity),M=OxyColorExtensions.changeIntensity(this.negativeColor,this.strokeIntensity),P=this.getSelectableColor(_),D=this.getSelectableColor(M),E=this.xAxis.clipMinimum,I=this.xAxis.clipMaximum;this.winIndex=OhlcvItem.findIndex(m,E,this.winIndex);const B=PlotElementExtensions.transform;for(let F=this.winIndex;F<f;F++){const R=m[F];if(R.x>I)break;if(!R.isValid())continue;const L=this.getBuyBarRect(R),z=this.getSellBarRect(R);switch(this.volumeStyle){case 1:{const G=R.buyVolume>R.sellVolume?C:A,W=R.buyVolume>R.sellVolume?P:D;await s.drawRectangle(L,G,W,this.strokeThickness,this.edgeRenderingMode)}break;case 3:await s.drawRectangle(L,g,P,this.strokeThickness,this.edgeRenderingMode),await s.drawRectangle(z,w,D,this.strokeThickness,this.edgeRenderingMode);break;case 2:{await s.drawRectangle(L,g,P,this.strokeThickness,this.edgeRenderingMode),await s.drawRectangle(z,w,D,this.strokeThickness,this.edgeRenderingMode);break}case 0:break;default:throw new Error("Invalid VolumeStyle")}}if(this.interceptStrokeThickness>0&&this.interceptLineStyle!==LineStyle.None){const F=this.inverseTransform(x.bottomLeft),R=this.inverseTransform(x.topRight),L=B(this,F.x,0),z=B(this,R.x,0);await s.drawLine([L,z],this.interceptColor,this.interceptStrokeThickness,this.edgeRenderingMode,LineStyleHelper.getDashArray(this.interceptLineStyle),LineJoin.Miter)}}getBuyBarRect(s){const m=PlotElementExtensions.transform,x=(this.barWidth>0?this.barWidth:this.minDx*.8)*.5,g=m(this,s.x-x,0);switch(this.volumeStyle){case 1:{const w=m(this,s.x+x,Math.abs(s.buyVolume-s.sellVolume));return OxyRect.fromScreenPoints(g,w)}case 3:{const w=m(this,s.x+x,s.buyVolume);return OxyRect.fromScreenPoints(g,w)}case 2:{const w=m(this,s.x+x,s.buyVolume),C=m(this,s.x+x,s.sellVolume),A=m(this,s.x-x,s.buyVolume+s.sellVolume);return s.buyVolume>s.sellVolume?OxyRect.fromScreenPoints(C,A):OxyRect.fromScreenPoints(g,w)}}throw new Error("Invalid VolumeStyle")}getSellBarRect(s){const m=PlotElementExtensions.transform,x=(this.barWidth>0?this.barWidth:this.minDx*.8)*.5,g=m(this,s.x-x,0);switch(this.volumeStyle){case 1:{const w=m(this,s.x+x,Math.abs(s.buyVolume-s.sellVolume));return OxyRect.fromScreenPoints(g,w)}case 3:{const w=m(this,s.x+x,-s.sellVolume);return OxyRect.fromScreenPoints(g,w)}case 2:{const w=m(this,s.x+x,s.buyVolume),C=m(this,s.x+x,s.sellVolume),A=m(this,s.x-x,s.buyVolume+s.sellVolume);return s.buyVolume>s.sellVolume?OxyRect.fromScreenPoints(g,C):OxyRect.fromScreenPoints(w,A)}}throw new Error("Invalid VolumeStyle")}async renderLegend(s,m){const f=(m.left+m.right)/2,x=m.top+(m.bottom-m.top)*.7,g=m.top+(m.bottom-m.top)*.3,w=LineStyleHelper.getDashArray(LineStyle.Solid),C=this.getSelectableFillColor(this.positiveColor),A=this.getSelectableColor(OxyColorExtensions.changeIntensity(this.positiveColor,this.strokeIntensity)),_=m.width*.75;this.strokeThickness>0&&(await s.drawLine([new ScreenPoint(f,m.top),new ScreenPoint(f,m.bottom)],A,this.strokeThickness,this.edgeRenderingMode,w,LineJoin.Miter),await s.drawRectangle(new OxyRect(f-_*.5,g,_,x-g),C,A,this.strokeThickness,this.edgeRenderingMode))}getNearestPoint(s,m){if(!this.xAxis||!this.yAxis||m||!this.data||this.data.length===0)return;const f=this.data.length,x=this.inverseTransform(s),g=x.x;if(g>this.data[f-1].x+this.minDx)return;if(g<this.data[0].x-this.minDx)return;const w=OhlcvItem.findIndex(this.data,g,this.winIndex),C=w+1<this.data.length?w+1:w,A=I=>{const B=I.x-x.x;return B*B},_=A(this.data[w])<=A(this.data[C])?w:C,M=this.data[_];let P=!1;if(this.getBuyBarRect(M).containsPoint(s)&&(P=!0),P||this.getSellBarRect(M).containsPoint(s)&&(P=!0),P)return;const E=this.formatDefaultTrackerString(M,new DataPoint(M.x,0));return new TrackerHitResult({series:this,dataPoint:x,position:s,item:M,index:_,text:E})}updateData(){if(super.updateData(),this.winIndex=0,!this.data||this.data.length===0)return;const s=this.data,m=s.length;this.minDx=Number_MAX_VALUE;for(let f=1;f<m;f++)if(this.minDx=Math.min(this.minDx,s[f].x-s[f-1].x),this.minDx<0)throw new Error("bars are out of order, must be sequential in x");m<=1&&(this.minDx=1)}updateAxisMaxMin(){this.xAxis.include(this.minX),this.xAxis.include(this.maxX);let s=this.minimumVolume,m=this.maximumVolume;const f=this.averageVolume,x=(m-s)/4;switch(this.volumeStyle){case 3:s=-(f+x/2),m=+(f+x/2);break;case 2:m=f+x,s=0;break;default:m=f+x/2,s=0;break}s=Math.max(this.yAxis.filterMinValue,s),m=Math.min(this.yAxis.filterMaxValue,m),this.yAxis.include(s),this.yAxis.include(m)}updateMaxMin(){super.updateMaxMin();let s=Number_MAX_VALUE,m=Number_MIN_VALUE,f=0,x=Number_MIN_VALUE,g=0,w=0;for(const C of this.items)C.isValid()&&(C.sellVolume>0&&g++,C.buyVolume>0&&g++,w+=C.buyVolume,w+=C.sellVolume,s=Math.min(s,C.x),m=Math.max(m,C.x),f=Math.min(f,-C.sellVolume),x=Math.max(x,+C.buyVolume));this.minX=Math.max(this.xAxis.filterMinValue,s),this.maxX=Math.min(this.xAxis.filterMaxValue,m),this.minimumVolume=f,this.maximumVolume=x,this.averageVolume=w/g}};ee(ni,"DefaultTrackerStringFormatter",s=>{const m=s.item;return`Time: ${s.xValue}
Buy Volume: ${m.buyVolume}
Sell Volume: ${m.sellVolume}`});let VolumeSeries=ni;class CandleStickSeries extends HighLowSeries{constructor(s){super();ee(this,"minDx",0);ee(this,"increasingColor");ee(this,"decreasingColor");ee(this,"candleWidth");this.increasingColor=OxyColors.DarkGreen,this.decreasingColor=OxyColors.Red,this.candleWidth=0,s&&Object.assign(this,removeUndef(s))}findByX(s,m=-1){return m<0&&(m=this.windowStartIndex),this.findWindowStartIndex(this.items,f=>f.x,s,m)}async render(s){const m=this.items.length,f=this.items;if(m===0||this.strokeThickness<=0||this.lineStyle===LineStyle.None)return;this.verifyAxes();const x=LineStyleHelper.getDashArray(this.lineStyle),w=.5*(this.candleWidth>0?this.candleWidth:this.minDx*.8),C=this.getSelectableFillColor(this.increasingColor),A=this.getSelectableFillColor(this.decreasingColor),_=this.getSelectableColor(OxyColorExtensions.changeIntensity(this.increasingColor,.7)),M=this.getSelectableColor(OxyColorExtensions.changeIntensity(this.decreasingColor,.7)),P=this.xAxis.clipMinimum,D=this.xAxis.clipMaximum;this.windowStartIndex=this.updateWindowStartIndex(f,I=>I.x,P,this.windowStartIndex);const E=PlotElementExtensions.transform;for(let I=this.windowStartIndex;I<m;I++){const B=f[I];if(B.x>D)return;if(!this.isValidItem(B,this.xAxis,this.yAxis))continue;const F=B.close>B.open?C:A,R=B.close>B.open?_:M,L=E(this,B.x,B.high),z=E(this,B.x,B.low),G=E(this,B.x,Math.max(B.open,B.close)),W=E(this,B.x,Math.min(B.open,B.close));this.strokeThickness>0&&(await s.drawLine([L,G],R,this.strokeThickness,this.edgeRenderingMode,x,this.lineJoin),await s.drawLine([W,z],R,this.strokeThickness,this.edgeRenderingMode,x,this.lineJoin));const K=E(this,B.x-w,B.open),q=E(this,B.x+w,B.close),Z=OxyRect.fromScreenPoints(K,q);await s.drawRectangle(Z,F,R,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(s,m){const f=(m.left+m.right)/2,x=m.top+(m.bottom-m.top)*.7,g=m.top+(m.bottom-m.top)*.3,w=LineStyleHelper.getDashArray(this.lineStyle),C=m.width*.75;this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&await s.drawLine([new ScreenPoint(f,m.top),new ScreenPoint(f,m.bottom)],this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,w,LineJoin.Miter),await s.drawRectangle(new OxyRect(f-C*.5,g,C,x-g),this.getSelectableFillColor(this.increasingColor),this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode)}getNearestPoint(s,m){if(!this.xAxis||!this.yAxis||m||this.items.length===0)return;const f=this.items.length,x=this.inverseTransform(s),g=x.x;if(g>this.items[f-1].x+this.minDx||g<this.items[0].x-this.minDx)return;const w=this.findWindowStartIndex(this.items,E=>E.x,g,this.windowStartIndex),C=w+1<this.items.length?w+1:w,A=E=>{const I=E.x-x.x,B=E.open-x.y,F=E.high-x.y,R=E.low-x.y,L=E.close-x.y,z=I*I+B*B,G=I*I+F*F,W=I*I+R*R,K=I*I+L*L;return Math.min(z,Math.min(G,Math.min(W,K)))},_=A(this.items[w])<=A(this.items[C])?w:C,M=this.items[_],P=new DataPoint(M.x,M.close),D=this.formatHighLowItemTrackerString(M);return new TrackerHitResult({series:this,dataPoint:P,position:this.transform(P),item:M,index:_,text:D})}updateData(){super.updateData();const s=this.items,m=s.length;this.minDx=Number_MAX_VALUE;for(let f=1;f<m;f++)if(this.minDx=Math.min(this.minDx,s[f].x-s[f-1].x),this.minDx<0)throw new Error("bars are out of order, must be sequential in x");m<=1&&(this.minDx=1)}}class FunctionSeries extends LineSeries{constructor(d){if(super(d),d.title&&(this.title=d.title),d.f){d.dx?this.f1(d.f,d.x0,d.x1,d.dx):d.n&&this.f2(d.f,d.x0,d.x1,d.n);return}d.fx&&d.fy&&(d.dt?this.f3(d.fx,d.fy,d.t0,d.t1,d.dt):d.n&&this.f4(d.fx,d.fy,d.t0,d.t1,d.n))}static fromDx(d,s,m,f,x){return new FunctionSeries({f:d,x0:s,x1:m,dx:f,title:x})}static fromN(d,s,m,f,x){return assertInteger(f,"n"),new FunctionSeries({f:d,x0:s,x1:m,n:f,title:x})}static fromFxFyDt(d,s,m,f,x,g){return new FunctionSeries({fx:d,fy:s,t0:m,t1:f,dt:x,title:g})}static fromFxFyN(d,s,m,f,x,g){return assertInteger(x,"n"),new FunctionSeries({fx:d,fy:s,t0:m,t1:f,n:x,title:g})}f1(d,s,m,f){for(let x=s;x<=m+f*.5;x+=f)this.points.push(new DataPoint(x,d(x)))}f2(d,s,m,f){this.f1(d,s,m,(m-s)/(f-1))}f3(d,s,m,f,x){for(let g=m;g<=f+x*.5;g+=x)this.points.push(new DataPoint(d(g),s(g)))}f4(d,s,m,f,x){this.f3(d,s,m,f,(f-m)/(x-1))}}class HistogramItem{constructor(d,s,m,f,x=OxyColors.Automatic){ee(this,"rangeStart");ee(this,"rangeEnd");ee(this,"area");ee(this,"count");ee(this,"color");this.rangeStart=d,this.rangeEnd=s,this.area=m,this.count=f,this.color=x}get rangeCenter(){return this.rangeStart+(this.rangeEnd-this.rangeStart)/2}get width(){return this.rangeEnd-this.rangeStart}get height(){return this.area/this.width}get value(){return this.height}contains(d){return this.height<0?d.x<=this.rangeEnd&&d.x>=this.rangeStart&&d.y>=this.height&&d.y<=0||d.x<=this.rangeStart&&d.x>=this.rangeEnd&&d.y>=this.height&&d.y<=0:d.x<=this.rangeEnd&&d.x>=this.rangeStart&&d.y<=this.height&&d.y>=0||d.x<=this.rangeStart&&d.x>=this.rangeEnd&&d.y<=this.height&&d.y>=0}toString(){return`${this.rangeStart} ${this.rangeEnd} ${this.area} ${this.count}`}}const ri=class ri extends XYAxisSeries{constructor(s){super(s);ee(this,"defaultFillColor",OxyColors.Undefined);ee(this,"_actualItems");ee(this,"baseValue");ee(this,"baseLine");ee(this,"actualBaseLine");ee(this,"fillColor");ee(this,"strokeColor");ee(this,"negativeFillColor");ee(this,"negativeStrokeColor");ee(this,"strokeThickness");ee(this,"minValue",0);ee(this,"maxValue",0);ee(this,"labelStringFormatter");ee(this,"trackerStringFormatter");ee(this,"labelMargin",0);ee(this,"labelPlacement");ee(this,"colorMapping");ee(this,"mapping");ee(this,"items",[]);this.fillColor=OxyColors.Automatic,this.strokeColor=OxyColors.Black,this.strokeThickness=0,this.trackerStringFormatter=ri.defaultTrackerStringFormatter,this.labelPlacement=LabelPlacement.Outside,this.colorMapping=this.getDefaultColor,this.negativeFillColor=OxyColors.Undefined,this.negativeStrokeColor=OxyColors.Undefined,this.baseValue=0,this.baseLine=NaN,this.actualBaseLine=NaN,s&&Object.assign(this,removeUndef(s))}get actualFillColor(){return this.fillColor.getActualColor(this.defaultFillColor)}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(s){this.verifyAxes(),await this.renderBins(s,this.actualItems)}getNearestPoint(s,m){const f=this.inverseTransform(s);if(this.isPointInRange(f)&&this.actualItems)for(let x=0;x<this.actualItems.length;x++){const g=this.actualItems[x];if(g.contains(f)){const w=this.getItem(x);return new TrackerHitResult({series:this,dataPoint:f,position:s,item:w,index:x,text:this.formatDefaultTrackerString(g,f)})}}}async renderLegend(s,m){const f=(m.left+m.right)/2,x=(m.top+m.bottom)/2,g=(m.bottom-m.top)*.8,w=g,C=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await s.drawRectangle(new OxyRect(f-.5*w,x-.5*g,w,g),this.getSelectableColor(this.actualFillColor),this.strokeColor,this.strokeThickness,C)}updateData(){this.itemsSource&&this.updateActualItems()}setDefaultValues(){this.fillColor.isAutomatic()&&(this.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){super.updateAxisMaxMin(),this.computeActualBaseLine(),this.yAxis.include(this.actualBaseLine)}computeActualBaseLine(){if(isNaN(this.baseLine))if(this.yAxis.isLogarithmic()){const s=this.actualItems?minValueOfArray(this.actualItems.map(m=>m.value).filter(m=>m>0),1):1;this.actualBaseLine=Math.max(s/10,this.baseValue)}else this.actualBaseLine=0;else this.actualBaseLine=this.baseLine}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const s=this.actualItems.map(x=>x.rangeStart),m=this.actualItems.map(x=>x.rangeEnd),f=this.actualItems.map(x=>x.height);this.minX=Math.min(minValueOfArray(s),minValueOfArray(m)),this.maxX=Math.max(maxValueOfArray(s),maxValueOfArray(m)),this.yAxis.isLogarithmic()?(this.minY=Math.max(minValueOfArray(f),Number.EPSILON),this.maxY=maxValueOfArray(f,Number.EPSILON)):(this.minY=minValueOfArray(f,0),this.maxY=maxValueOfArray(f,0))}}updateMaxMin(){super.updateMaxMin();const s=[];if(pushMany(s,this.actualItems.map(m=>new DataPoint(m.rangeStart,0))),pushMany(s,this.actualItems.map(m=>new DataPoint(m.rangeEnd,m.height))),this.internalUpdateMaxMin(s),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const m=this.actualItems.map(f=>f.value);this.minValue=minValueOfArray(m),this.maxValue=maxValueOfArray(m)}}getItem(s){const m=this.actualItems;return!this.itemsSource&&m&&s<m.length?m[s]:super.getItem(s)}async renderBins(s,m){const f=this.yAxis,x=f.isLogarithmic()&&!f.isValidValue(this.baseValue);for(const g of m){if(f.isLogarithmic()&&!f.isValidValue(g.height))continue;const w=this.getItemFillColor(g),C=this.getItemStrokeColor(g),A=this.transform(new DataPoint(g.rangeStart,x?f.clipMinimum:this.baseValue)),_=this.transform(new DataPoint(g.rangeEnd,g.height)),M=OxyRect.fromScreenPoints(A,_),P=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await s.drawRectangle(M,w,C,this.strokeThickness,P),this.labelStringFormatter&&await this.renderLabel(s,M,g)}}getItemFillColor(s){return s.color.isAutomatic()?this.colorMapping(s):s.color}getItemStrokeColor(s){return this.negativeStrokeColor.isUndefined()||s.height>=this.baseValue?this.strokeColor:this.negativeStrokeColor}async renderLabel(s,m,f){const x=this.labelStringFormatter(f,[f.value,f.rangeStart,f.rangeEnd,f.area,f.count]);let g,w,C=HorizontalAlignment.Center;const A=(f.rangeStart+f.rangeEnd)/2,_=Math.sign(f.value);let M=_*this.labelMargin;switch(this.labelPlacement){case LabelPlacement.Inside:g=new DataPoint(A,f.value),w=-_;break;case LabelPlacement.Middle:{const E=this.inverseTransform(m.topLeft),I=this.inverseTransform(m.bottomRight);g=new DataPoint(A,(E.y+I.y)/2),w=VerticalAlignment.Middle;break}case LabelPlacement.Base:g=new DataPoint(A,0),M=-M,w=_;break;case LabelPlacement.Outside:g=new DataPoint(A,f.value),M=-M,w=_;break;default:throw new Error("Invalid label placement")}const P=PlotElementExtensions.orientateAlignment(this,C,w);C=P[0],w=P[1];const D=this.transform(g).plus(PlotElementExtensions.orientateVector(this,new ScreenVector(0,M)));await s.drawText(D,x,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,C,w)}isPointInRange(s){return this.updateMaxMinXY(),s.x>=this.minX&&s.x<=this.maxX&&s.y>=this.minY&&s.y<=this.maxY}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}getDefaultColor(s){return this.negativeFillColor.isUndefined()||s.value>=this.baseValue?this.actualFillColor:this.negativeFillColor}updateActualItems(){if(this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when using the Mapping property");this.clearActualItems(),this._actualItems=this._actualItems||[];for(const s of this.itemsSource)this._actualItems.push(this.mapping(s));return}this.clearActualItems(),this._actualItems=this._actualItems||[];for(const s of this.itemsSource||[])if(s)throw s instanceof HistogramItem&&this._actualItems.push(s),new Error("invalid item type")}};ee(ri,"defaultTrackerStringFormatter",s=>`Start: ${s.item.rangeStart}
End: ${s.item.rangeEnd}
Value: ${s.item.value}
Area: ${s.item.area}
Count: ${s.item.count}`);let HistogramSeries=ri;function isScatterPointProvider(a){return a&&typeof a.getScatterPoint=="function"}const oi=class oi extends XYAxisSeries{constructor(s){super(s);ee(this,"_points",[]);ee(this,"defaultMarkerFillColor",OxyColors.Undefined);ee(this,"markerFill",OxyColors.Automatic);ee(this,"markerOutline");ee(this,"markerSize",5);ee(this,"markerType",MarkerType.Square);ee(this,"markerStroke",OxyColors.Automatic);ee(this,"markerStrokeThickness",1);ee(this,"labelStringFormatter");ee(this,"labelMargin",6);ee(this,"binSize",0);ee(this,"colorAxisKey");ee(this,"dataFieldX");ee(this,"dataFieldY");ee(this,"dataFieldSize");ee(this,"dataFieldTag");ee(this,"dataFieldValue");ee(this,"mapping");ee(this,"colorAxis");ee(this,"itemsSourcePoints");ee(this,"maxValue",0);ee(this,"minValue",0);this.markerFill=OxyColors.Automatic,this.markerSize=5,this.markerType=MarkerType.Square,this.markerStroke=OxyColors.Automatic,this.markerStrokeThickness=1,this.labelMargin=6,s&&Object.assign(this,removeUndef(s))}get actualMarkerFillColor(){return this.markerFill.getActualColor(this.defaultMarkerFillColor)}get points(){return this._points}get actualPoints(){return this.itemsSource?this.itemsSourcePoints:this.points}getNearestPoint(s,m){if(!this.xAxis||!this.yAxis||m)return;const f=this.actualPoints;if(!f||f.length===0)return;let x,g=Number_MAX_VALUE,w=0;const C=this.colorAxis?this.colorAxis.title:oi.defaultColorAxisTitle,A=this.xAxis.clipMinimum,_=this.xAxis.clipMaximum,M=this.yAxis.clipMinimum,P=this.yAxis.clipMaximum;for(const D of f){if(D.x<A||D.x>_||D.y<M||D.y>P){w++;continue}const E=this.transform(new DataPoint(D.x,D.y)),I=E.x-s.x,B=E.y-s.y,F=I*I+B*B;if(F<g){const R=this.getItem(w)??D;let L;!isNullOrUndef(D.value)&&!isNaN(D.value)&&!isInfinity(D.value)&&(L=D.value);const z=new DataPoint(D.x,D.y);x=new TrackerHitResult({series:this,dataPoint:z,position:E,item:R,index:w,text:this.formatDefaultTrackerString(R,z,G=>{G.colorAxisTitle=C,G.zValue=L})}),g=F}w++}return x}async render(s){const m=this.actualPoints;if(!m||m.length===0)return;const f=this.getClippingRect(),x=m.length,g=[],w=[],C=[],A=[],_=new Map,M=new Map,P=this.isSelected();for(let E=0;E<x;E++){const I=new DataPoint(m[E].x,m[E].y);if(!this.isValidPoint(I))continue;let B=NaN,F=NaN;const R=m[E];R&&(isNullOrUndef(R.size)||(B=R.size),isNullOrUndef(R.value)||(F=R.value)),isNaN(B)&&(B=this.markerSize);const L=this.transform(new DataPoint(I.x,I.y));if(P&&this.isItemSelected(E)){C.push(L),A.push(B);continue}if(this.colorAxis){if(isNaN(F))continue;const z=this.colorAxis.getPaletteIndex(F);_.has(z)||(_.set(z,[]),M.set(z,[])),_.get(z).push(L),M.get(z).push(B)}else g.push(L),w.push(B)}const D=this.transform(new DataPoint(this.minX,this.maxY));if(this.colorAxis){const E=this.markerType===MarkerType.Plus||this.markerType===MarkerType.Star||this.markerType===MarkerType.Cross;for(const[I,B]of _){const F=this.colorAxis.getColor(I);await RenderingExtensions.drawMarkers2(s,B,this.markerType,this.markerOutline,M.get(I),this.markerFill.getActualColor(F),E?F:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,D)}}await RenderingExtensions.drawMarkers2(s,g,this.markerType,this.markerOutline,w,this.actualMarkerFillColor,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,D),await RenderingExtensions.drawMarkers2(s,C,this.markerType,this.markerOutline,A,this.plotModel.selectionColor,this.plotModel.selectionColor,this.markerStrokeThickness,this.edgeRenderingMode,this.binSize,D),this.labelStringFormatter&&await this.renderPointLabels(s,f)}async renderLegend(s,m){const f=(m.left+m.right)/2,x=(m.top+m.bottom)/2,g=new ScreenPoint(f,x);await RenderingExtensions.drawMarker(s,g,this.markerType,this.markerOutline,this.markerSize,this.isSelected()?this.plotModel.selectionColor:this.actualMarkerFillColor,this.isSelected()?this.plotModel.selectionColor:this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){this.markerFill.isAutomatic()&&(this.defaultMarkerFillColor=this.plotModel.getDefaultColor())}updateData(){this.itemsSource&&this.updateItemsSourcePoints()}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMinValue(this.actualPoints)}async renderPointLabels(s,m){const f=this.actualPoints;if(!f||f.length===0)return;let x=-1;for(const g of f){x++;const w=new DataPoint(g.x,g.y);if(!this.isValidPoint(w))continue;const C=this.transform(w).plus(new ScreenVector(0,-this.labelMargin));if(!m.containsPoint(C))continue;const A=this.getItem(x),_=this.labelStringFormatter(A,[g.x,g.y]);await s.drawText(C,_,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Bottom)}}internalUpdateMaxMinValue(s){if(!s||s.length===0)return;let m=Number_MAX_VALUE,f=Number_MAX_VALUE,x=Number_MAX_VALUE,g=Number_MIN_VALUE,w=Number_MIN_VALUE,C=Number_MIN_VALUE;isNaN(m)&&(m=Number_MAX_VALUE),isNaN(f)&&(f=Number_MAX_VALUE),isNaN(g)&&(g=Number_MIN_VALUE),isNaN(w)&&(w=Number_MIN_VALUE),isNaN(x)&&(x=Number_MIN_VALUE),isNaN(C)&&(C=Number_MIN_VALUE);for(const A of s){const _=A.x,M=A.y;if(_!==_||M!==M)continue;const P=isNullOrUndef(A.value)?Number.NaN:A.value;_<m&&(m=_),_>g&&(g=_),M<f&&(f=M),M>w&&(w=M),P<x&&(x=P),P>C&&(C=P)}m<Number_MAX_VALUE&&(this.minX=m),f<Number_MAX_VALUE&&(this.minY=f),g>Number_MIN_VALUE&&(this.maxX=g),w>Number_MIN_VALUE&&(this.maxY=w),x<Number_MAX_VALUE&&(this.minValue=x),C>Number_MIN_VALUE&&(this.maxValue=C),this.colorAxis instanceof Axis&&(this.colorAxis.include(this.minValue),this.colorAxis.include(this.maxValue))}clearItemsSourcePoints(){this.itemsSourcePoints&&(this.itemsSourcePoints.length=0)}updateItemsSourcePoints(){var s,m,f;if(this.clearItemsSourcePoints(),this.mapping){if(!this.itemsSource)throw new Error("itemsSource is required when mapping is set");this.itemsSourcePoints=this.itemsSourcePoints||[];for(const x of this.itemsSource)this.itemsSourcePoints.push(this.mapping(x));return}this.itemsSourcePoints=this.itemsSourcePoints||[];for(const x of this.itemsSource||[])if(!isNullOrUndef(x)){if(!isUndef(x.x)&&!isUndef(x.y)){(s=this.itemsSourcePoints)==null||s.push(x);continue}if(this.dataFieldX&&this.dataFieldY){const g=this.updateFromDataFields(x);if(!g)continue;(m=this.itemsSourcePoints)==null||m.push(g);continue}if(isScatterPointProvider(x)){const g=x.getScatterPoint();if(!g)continue;(f=this.itemsSourcePoints)==null||f.push(g);continue}throw new Error("Invalid item type")}}updateFromDataFields(s){const m=getOrDefault(s,this.dataFieldX,Number.NaN),f=getOrDefault(s,this.dataFieldY,Number.NaN);return{x:m,y:f,size:getOrDefault(s,this.dataFieldSize,Number.NaN),value:getOrDefault(s,this.dataFieldValue,Number.NaN),tag:getOrDefault(s,this.dataFieldTag,void 0)}}};ee(oi,"defaultColorAxisTitle","Value");let ScatterSeries=oi;const Nt=class Nt extends XYAxisSeries{constructor(s){super(s);ee(this,"_actualItems");ee(this,"defaultColor",OxyColors.Undefined);ee(this,"defaultLineStyle",LineStyle.Solid);ee(this,"color");ee(this,"minValue",0);ee(this,"maxValue",0);ee(this,"arrowHeadLength");ee(this,"arrowHeadWidth");ee(this,"arrowHeadPosition");ee(this,"lineJoin");ee(this,"lineStyle");ee(this,"strokeThickness");ee(this,"minimumSegmentLength");ee(this,"arrowVeeness");ee(this,"arrowStartPosition");ee(this,"arrowLabelPosition");ee(this,"colorAxis");ee(this,"colorAxisKey");ee(this,"labelStringFormatter");ee(this,"trackerStringFormatter");ee(this,"labelFontSize");ee(this,"canTrackerInterpolatePoints",!1);ee(this,"mapping");ee(this,"items",[]);this.color=OxyColors.Automatic,this.minimumSegmentLength=2,this.strokeThickness=2,this.lineStyle=LineStyle.Solid,this.lineJoin=LineJoin.Miter,this.arrowHeadLength=3,this.arrowHeadWidth=2,this.arrowHeadPosition=1,this.arrowVeeness=0,this.arrowStartPosition=0,this.arrowLabelPosition=0,this.trackerStringFormatter=Nt.DefaultTrackerStringFormatter,this.labelStringFormatter=m=>m.value.toFixed(2),this.labelFontSize=0,s&&Object.assign(this,s)}get actualLineStyle(){return this.lineStyle!=LineStyle.Automatic?this.lineStyle:this.defaultLineStyle}get ActualItems(){return this.itemsSource?this._actualItems:this.items}async render(s){const m=this.ActualItems;this.verifyAxes(),await this.renderVectors(s,m)}updateData(){this.itemsSource&&this.updateActualItems()}clearActualItems(){this._actualItems&&(this._actualItems.length=0)}updateActualItems(){if(!this.itemsSource)return;this.clearActualItems(),this._actualItems=this._actualItems||[];let s=this.itemsSource;this.mapping&&(s=this.itemsSource.map(m=>this.mapping(m))),this._actualItems.push(...s)}async renderVectors(s,m){let f=0;for(const x of m){let g;this.colorAxis&&(this.color.isUndefined()||this.color.isAutomatic())?g=ColorAxisExtensions.getColor(this.colorAxis,x.value):g=this.color.getActualColor(this.defaultColor),g=this.getSelectableColor(g,f);const w=x.direction,C=x.origin.minusVector(w.times(this.arrowStartPosition)),A=C.plus(w.times(this.arrowLabelPosition));await this.drawVector(s,C,w,g),this.labelFontSize>0&&this.labelStringFormatter&&await s.drawText(this.transform(A),this.labelStringFormatter(x),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle),f++}}async drawVector(s,m,f,x){const g=[m,m.plus(f)],w=[];RenderingExtensions.transformAndInterpolateLines(this,g,w,this.minimumSegmentLength),w.length>=2&&await this.drawArrow(s,w,w[w.length-1].minus(w[w.length-2]),x)}async drawArrow(s,m,f,x){const g=f;g.normalize();const w=new ScreenVector(g.y,-g.x),C=this.arrowHeadLength*this.strokeThickness,A=this.arrowHeadWidth*this.strokeThickness,_=m[m.length-1].minusVector(g.times(C*this.arrowHeadPosition)),M=g.times(this.arrowVeeness*this.strokeThickness),P=_.plus(g.times(C)),D=_.plus(w.times(A)).minusVector(M),E=_.minusVector(w.times(A)).minusVector(M),I=this.actualLineStyle,B=LineStyleHelper.getDashArray(I);if(this.arrowHeadPosition>0&&this.arrowHeadPosition<=1){const F=C*this.arrowHeadPosition*C*this.arrowHeadPosition;for(let R=m.length-1;R>=0;R--)m[R].distanceToSquared(P)<=F&&m.splice(R,1);m.length>0&&m.push(_)}this.strokeThickness>0&&I!==LineStyle.None&&(await s.drawLine(m,x,this.strokeThickness,this.edgeRenderingMode,B,this.lineJoin),await s.drawPolygon([E,P,D,_],x,OxyColors.Undefined,0,this.edgeRenderingMode))}getNearestPoint(s,m){const f=this.colorAxis,x=(f==null?void 0:f.title)??Nt.DefaultColorAxisTitle;if(!(this.ActualItems&&this.ActualItems.length>0))return;const g=argMin(this.ActualItems,A=>this.transform(A.origin).distanceToSquared(s)),w=g.origin,C=this.formatDefaultTrackerString(g,w,A=>{const _=A;_.colorAxisTitle=x,_.itemDirection=g.direction});return new TrackerHitResult({series:this,dataPoint:w,position:this.transform(w),item:void 0,index:-1,text:C})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}setDefaultValues(){this.color.isAutomatic()&&this.colorAxis===void 0&&(this.defaultLineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateMaxMinXY(){const s=this.ActualItems;s&&s.length>0&&(this.minX=Math.min(...s.map(m=>m.origin.x-m.direction.x*this.arrowStartPosition),...s.map(m=>m.origin.x-m.direction.x*(this.arrowStartPosition-1))),this.maxX=Math.max(...s.map(m=>m.origin.x-m.direction.x*this.arrowStartPosition),...s.map(m=>m.origin.x-m.direction.x*(this.arrowStartPosition-1))),this.minY=Math.min(...s.map(m=>m.origin.y-m.direction.y*this.arrowStartPosition),...s.map(m=>m.origin.y-m.direction.y*(this.arrowStartPosition-1))),this.maxY=Math.max(...s.map(m=>m.origin.y-m.direction.y*this.arrowStartPosition),...s.map(m=>m.origin.y-m.direction.y*(this.arrowStartPosition-1))))}updateMaxMin(){super.updateMaxMin();const s=this.ActualItems,m=[];if(m.push(...s.map(f=>f.origin.minusVector(f.direction.times(this.arrowStartPosition)))),m.push(...s.map(f=>f.origin.plus(f.direction.times(1-this.arrowStartPosition)))),this.internalUpdateMaxMin(m),this.updateMaxMinXY(),s&&s.length>0){const f=s.map(x=>x.value);this.minValue=minValueOfArray(f),this.maxValue=maxValueOfArray(f)}}updateAxisMaxMin(){if(super.updateAxisMaxMin(),!this.colorAxis)return;const s=this.colorAxis;s.include(this.minValue),s.include(this.maxValue)}};ee(Nt,"DefaultTrackerStringFormatter",s=>`${s.title}
${s.xLabel}: ${s.xValue}
${s.yLabel}: ${s.yValue}
${s.colorAxisTitle}: ${s.item.value}
${s.xLabel}: ${s.itemDirection.x}
${s.yLabel}: ${s.itemDirection.y}`),ee(Nt,"DefaultColorAxisTitle","Value");let VectorSeries=Nt;const argMin=(a,d)=>{if(!a)throw new Error("Sequence must be defined.");if(!d)throw new Error("Projection must be defined.");let s,m,f=!0;for(const x of a){const g=d(x);(f||g<m)&&(s=x,m=g,f=!1)}if(f)throw new Error("Sequence must be non-empty.");return s};class DataRange{constructor(d,s){ee(this,"_minimum");ee(this,"_maximum");ee(this,"_isDefined");if(isNaN(d)||isNaN(s))throw new Error("NaN values are not permitted");if(s<d)throw new Error("max must be larger or equal min");this._minimum=d,this._maximum=s,this._isDefined=!0}get minimum(){return this._minimum}get maximum(){return this._maximum}get range(){return this.maximum-this.minimum}isDefined(){return this._isDefined}contains(d){return d>=this.minimum&&d<=this.maximum}intersectsWith(d){return this.isDefined()&&d.isDefined()&&(this.contains(d.minimum)||this.contains(d.maximum)||d.contains(this.minimum)||d.contains(this.maximum))}toString(){return`[${this.minimum}, ${this.maximum}]`}}const DataRange_Undefined=new DataRange(0,0);DataRange_Undefined._isDefined=!1;Object.freeze(DataRange_Undefined);class ExtrapolationLineSeries extends LineSeries{constructor(s){super(s);ee(this,"defaultExtrapolationColor",OxyColors.Black);ee(this,"defaultExtrapolationLineStyle",LineStyle.Dash);ee(this,"orderedIntervals",[]);ee(this,"extrapolationColor");ee(this,"extrapolationDashes");ee(this,"extrapolationLineStyle",LineStyle.Solid);ee(this,"ignoreExtraplotationForScaling",!1);ee(this,"intervals",[]);this.extrapolationColor=OxyColors.Black,this.lineStyle=LineStyle.Dot,s&&Object.assign(this,s)}get actualExtrapolationColor(){return this.extrapolationColor.getActualColor(this.defaultExtrapolationColor)}get actualExtrapolationLineStyle(){return this.extrapolationLineStyle!==LineStyle.Automatic?this.extrapolationLineStyle:this.defaultExtrapolationLineStyle}get actualExtrapolationDashArray(){return this.extrapolationDashes||LineStyleHelper.getDashArray(this.actualExtrapolationLineStyle)}async renderLegend(s,m){const f=(m.left+m.right)/2,x=(m.top+m.bottom)/2;let g=[new ScreenPoint(m.left,x),new ScreenPoint(f,x)];await s.drawLine(g,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray),g=[new ScreenPoint(f,x),new ScreenPoint(m.right,x)],await s.drawLine(g,this.getSelectableColor(this.actualExtrapolationColor),this.strokeThickness,this.edgeRenderingMode,this.actualExtrapolationDashArray);const w=new ScreenPoint(f,x);await RenderingExtensions.drawMarker(s,w,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}updateData(){super.updateData(),this.orderedIntervals=this.mergeOverlaps(this.intervals)}updateMaxMin(){this.ignoreExtraplotationForScaling&&this.orderedIntervals.length>0?(this.minX=this.points.filter(s=>!this.inAnyInterval(s.x)).map(s=>s.x).filter(s=>!isNaN(s)).reduce((s,m)=>Math.min(s,m),Number.NaN),this.minY=this.points.filter(s=>!this.inAnyInterval(s.x)).map(s=>s.y).filter(s=>!isNaN(s)).reduce((s,m)=>Math.min(s,m),Number.NaN),this.maxX=this.points.filter(s=>!this.inAnyInterval(s.x)).map(s=>s.x).filter(s=>!isNaN(s)).reduce((s,m)=>Math.max(s,m),Number.NaN),this.maxY=this.points.filter(s=>!this.inAnyInterval(s.x)).map(s=>s.y).filter(s=>!isNaN(s)).reduce((s,m)=>Math.max(s,m),Number.NaN)):super.updateMaxMin()}async renderLine(s,m){if(this.strokeThickness<=0||this.actualLineStyle===LineStyle.None)return;const f=this.getClippingRect(),x=this.inverseTransform(f.bottomLeft),g=this.inverseTransform(f.topRight),w=Math.min(x.x,g.x),C=Math.max(x.x,g.x),A=Math.min(x.y,g.y),_=Math.max(x.y,g.y),M=this.createClippingRectangles(f,w,C,A,_);for(const P of M){const D=this.inverseTransform(P.center).x,E=this.orderedIntervals&&this.orderedIntervals.some(B=>B.contains(D)),I=RenderingExtensions.autoResetClip(s,P);await this.renderLinePart(s,m,E),I.dispose()}}createClippingRectangles(s,m,f,x,g){const w=[];let C=m;const A=PlotElementExtensions.transform;if(this.orderedIntervals&&this.orderedIntervals.length>0){const _=this.flatten(this.orderedIntervals).filter(M=>M>=m&&M<=f);for(const M of _){const P=OxyRect.fromScreenPoints(A(this,C,x),A(this,M,g));w.push(P.clip(s)),C=M}}return w.push(OxyRect.fromScreenPoints(A(this,C,x),A(this,f,g)).clip(s)),w}flatten(s){const m=[];for(const f of s)m.push(f.minimum),m.push(f.maximum);return m}async renderLinePart(s,m,f){const x=f?this.extrapolationColor:this.color,g=f?this.actualExtrapolationDashArray:this.actualDashArray;await RenderingExtensions.drawReducedLine(s,m,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(x),this.strokeThickness,this.edgeRenderingMode,g,this.lineJoin)}mergeOverlaps(s){const m=[];if(s){const f=s.sort((x,g)=>x.minimum-g.minimum);for(const x of f){const g=m[m.length-1]||DataRange_Undefined;x.intersectsWith(g)?m[m.length-1]=new DataRange(g.minimum,Math.max(g.maximum,x.maximum)):m.push(x)}}return m}inAnyInterval(s){let m=0,f=this.orderedIntervals.length-1;for(;m<=f;){const x=Math.floor((m+f)/2),g=this.compare(this.orderedIntervals[x],s);if(g===0)return!0;g<0?f=x-1:m=x+1}return!1}compare(s,m){return m<s.minimum?-1:m>s.maximum?1:0}}const jt=class jt extends XYAxisSeries{constructor(s){super(s);ee(this,"contours");ee(this,"segments",[]);ee(this,"defaultColor",OxyColors.Undefined);ee(this,"color");ee(this,"columnCoordinates",[]);ee(this,"contourLevelStep");ee(this,"contourLevels");ee(this,"contourColors",[]);ee(this,"data");ee(this,"labelBackground");ee(this,"labelStringFormatter");ee(this,"trackerStringFormatter");ee(this,"labelSpacing");ee(this,"multiLabel");ee(this,"labelStep");ee(this,"lineStyle");ee(this,"rowCoordinates",[]);ee(this,"strokeThickness");ee(this,"minimumSegmentLength");this.contourLevelStep=NaN,this.labelStep=1,this.multiLabel=!1,this.labelSpacing=150,this.labelBackground=OxyColor.fromAColor(220,OxyColors.White),this.color=OxyColors.Automatic,this.strokeThickness=1,this.lineStyle=LineStyle.Solid,this.minimumSegmentLength=2,this.trackerStringFormatter=jt.DefaultTrackerFormatString,s&&Object.assign(this,removeUndef(s))}get actualColor(){return this.color.getActualColor(this.defaultColor)}calculateContours(){if(!this.data)return;let s=this.contourLevels;this.segments=[];const m=(f,x,g,w,C)=>{this.segments.push({startPoint:new DataPoint(f,x),endPoint:new DataPoint(g,w),contourLevel:C})};if(!s){let f=this.data[0][0],x=this.data[0][0];for(let w=0;w<this.data.length;w++)for(let C=0;C<this.data[w].length;C++)f=Math.max(f,this.data[w][C]),x=Math.min(x,this.data[w][C]);let g=this.contourLevelStep;if(isNaN(g)){const C=(f-x)/20,A=Math.round(Math.log(Math.abs(C))/Math.LN10);g=Math.pow(10,Math.floor(A)),this.contourLevelStep=g}f=Math.round(g*Math.ceil(f/g)*1e14)/1e14,x=Math.round(g*Math.floor(x/g)*1e14)/1e14,s=ArrayBuilder.createVectorWithStep(x,f,g)}if(Conrec.contour(this.data,this.columnCoordinates,this.rowCoordinates,s,m),this.joinContourSegments(),this.contourColors&&this.contourColors.length>0)for(const f of this.contours){let x=jt.indexOf(s,f.contourLevel);x>=0&&(x=x%this.contourColors.length,f.color=this.contourColors[x])}}getNearestPoint(s,m){let f;const x="Z";for(const g of this.contours){const w=m?this.getNearestInterpolatedPointInternal2(g.points,s):this.getNearestPointInternal2(g.points,s);w&&(!f||f.position.distanceToSquared(s)>w.position.distanceToSquared(s))&&(f=w,f.text=this.formatDefaultTrackerString(g,w.dataPoint,C=>{const A=C;A.zLabel=x,A.contourLevel=g.contourLevel}))}return f}async render(s){if(this.contours||this.calculateContours(),this.contours.length===0)return;this.verifyAxes();const m=[],f=LineStyleHelper.getDashArray(this.lineStyle);for(const x of this.contours){if(this.strokeThickness<=0||this.lineStyle===LineStyle.None)continue;const g=x.points.map(I=>this.transform(I)),w=x.color.getActualColor(this.actualColor);await RenderingExtensions.drawReducedLine(s,g,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(w),this.strokeThickness,this.edgeRenderingMode,f,LineJoin.Miter);let C=0;for(let I=1;I<g.length;I++)C+=g[I].minus(g[I-1]).length;if(g.length<=10||Math.round(x.contourLevel/this.contourLevelStep)%this.labelStep!==0)continue;if(!this.multiLabel){this.addContourLabels(x,g,m,(g.length-1)*.5);continue}const A=Math.floor(C/this.labelSpacing);if(A===0){this.addContourLabels(x,g,m,(g.length-1)*.5);continue}let _=0,M=0,P=1,D=0;const E=(C-(A-1)*this.labelSpacing)/2;for(let I=0;I<A;I++){let B=0;P===1?D=E:D=E+I*this.labelSpacing;for(let F=P;F<g.length;F++){if(_+=g[F].minus(g[F-1]).length,_>D){B=F-1+(D-M)/(_-M),P=F+1;break}M=_}this.addContourLabels(x,g,m,B)}}for(const x of m)await this.renderLabelBackground(s,x);for(const x of m)await this.renderLabel(s,x)}setDefaultValues(){this.color.isAutomatic()&&(this.lineStyle=this.plotModel.getDefaultLineStyle(),this.defaultColor=this.plotModel.getDefaultColor())}updateMaxMin(){this.minX=Math.min(...this.columnCoordinates),this.maxX=Math.max(...this.columnCoordinates),this.minY=Math.min(...this.rowCoordinates),this.maxY=Math.max(...this.rowCoordinates)}static indexOf(s,m){let f=Number_MAX_VALUE,x=-1;for(let g=0;g<s.length;g++){const w=Math.abs(s[g]-m);w<f&&(f=w,x=g)}return x}addContourLabels(s,m,f,x){if(m.length<2)return;const g=Math.floor(x),w=g+1,C=m[w].x-m[g].x,A=m[w].y-m[g].y,_=m[g].x+C*(x-g),M=m[g].y+A*(x-g),P=new ScreenPoint(_,M);let D=Math.atan2(A,C)*180/Math.PI;D>90&&(D-=180),D<-90&&(D+=180);const E=this.labelStringFormatter?this.labelStringFormatter(s.contourLevel,[]):s.contourLevel.toString();f.push({position:P,angle:D,text:E})}joinContourSegments(s=1e-10){this.contours=new Array;const m=x=>{const g=new SegmentPoint(x.startPoint),w=new SegmentPoint(x.endPoint);return g.partner=w,w.partner=g,[g,w]},f=groupBy(this.segments,"contourLevel");for(const x of f){const g=x[0],w=x[1].flatMap(C=>m(C)).sort((C,A)=>C.point.x-A.point.x);for(let C=0;C<w.length-1;C++){const A=w[C];if(A.join)continue;const M=Math.sqrt(Math.pow(A.point.x,2)+Math.pow(A.point.y,2))*s,P=A.point.x+M;let D=C+1,E;for(;;){if(D>=w.length){E=void 0;break}if(E=w[D],D++,E.join)continue;if(E.point.x>P){E=void 0;break}if(Math.sqrt(Math.pow(E.point.x-A.point.x,2)+Math.pow(E.point.y-A.point.y,2))<M)break}E&&(A.join=E,E.join=A)}for(const C of w){if(C.processed)continue;let A=C;for(;A.join&&(A=A.join.partner,A!==C););const _=new Array(A.point,A.partner.point);for(A.processed=!0,A=A.partner,A.processed=!0;A.join&&(A=A.join,!A.processed);)A.processed=!0,A=A.partner,A.processed=!0,_.push(A.point);const M=new Contour(_,g);this.contours.push(M)}}}async renderLabel(s,m){this.actualFontSize>0&&await s.drawText(m.position,m.text,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,m.angle,HorizontalAlignment.Center,VerticalAlignment.Middle)}async renderLabelBackground(s,m){if(this.labelBackground.isInvisible())return;const f=s.measureText(m.text,this.actualFont,this.actualFontSize,this.actualFontWeight),x=m.angle/180*Math.PI,g=Math.cos(x),w=Math.sin(x),C=g*.6,A=w*.6,_=-w*.5,M=g*.5,P=m.position.x,D=m.position.y,E=[new ScreenPoint(P-f.width*C-f.height*_,D-f.width*A-f.height*M),new ScreenPoint(P+f.width*C-f.height*_,D+f.width*A-f.height*M),new ScreenPoint(P+f.width*C+f.height*_,D+f.width*A+f.height*M),new ScreenPoint(P-f.width*C+f.height*_,D-f.width*A+f.height*M)];await s.drawPolygon(E,this.labelBackground,OxyColors.Undefined,0,this.edgeRenderingMode)}};ee(jt,"DefaultTrackerFormatString",s=>`${s.title}
${s.xLabel}: ${s.xValue}
${s.yLabel}: ${s.yValue}
${s.zLabel}: ${s.contourLevel}`);let ContourSeries=jt;class SegmentPoint{constructor(d){ee(this,"partner");ee(this,"join");ee(this,"processed");ee(this,"point");this.point=d,this.processed=!1}}class Contour{constructor(d,s){ee(this,"contourLevel");ee(this,"points");ee(this,"color");this.points=d,this.contourLevel=s,this.color=OxyColors.Automatic}}class StairStepSeries extends LineSeries{constructor(s){super(s);ee(this,"verticalStrokeThickness");ee(this,"verticalLineStyle");this.verticalStrokeThickness=NaN,this.verticalLineStyle=this.lineStyle,s&&Object.assign(this,removeUndef(s))}getNearestPoint(s,m){if(!this.xAxis||!this.yAxis)return;let f=16*16,x=this.getNearestPointInternal2(this.actualPoints,s);if(!m&&x&&x.position.distanceToSquared(s)<f)return x.text=this.formatDefaultTrackerString(x.item,x.dataPoint),x;x=void 0;const g=this.actualPoints.length;for(let w=0;w<g;w++){const C=this.actualPoints[w],A=this.actualPoints[w+1<g?w+1:w],_=PlotElementExtensions.transform(this,C.x,C.y),M=PlotElementExtensions.transform(this,A.x,C.y),P=M.x-_.x,D=M.y-_.y;let E=(s.x-_.x)*P+(s.y-_.y)*D,I=P*P+D*D;if(P*P+D*D<4&&(E=0,I=1),Math.abs(I)<=0)continue;const F=E/I;if(F<0||F>1)continue;const R=_.x+F*P,L=_.y+F*D,z=s.x-R,G=s.y-L,W=z*z+G*G;if(W>=f)continue;const K=C.x+F*(A.x-C.x),q=C.y,Z=this.getItem(w),J=this.formatDefaultTrackerString(Z,new DataPoint(K,q));x=new TrackerHitResult({series:this,dataPoint:new DataPoint(K,q),position:new ScreenPoint(R,L),item:Z,index:w,text:J}),f=W}return x}async render(s){if(!this.actualPoints||this.actualPoints.length===0)return;this.verifyAxes();const m=this.actualDashArray,f=LineStyleHelper.getDashArray(this.verticalLineStyle),x=this.actualLineStyle,g=isNaN(this.verticalStrokeThickness)?this.strokeThickness:this.verticalStrokeThickness,w=this.getSelectableColor(this.actualColor),C=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness),A=async(I,B)=>{if(this.strokeThickness>0&&x!==LineStyle.None)if(g!==this.strokeThickness||this.verticalLineStyle!==x){const F=[],R=[];if(I.length>=2){F.push(I[0]),F.push(I[1]);for(let L=1;L+2<I.length;L+=2)R.push(I[L]),R.push(I[L+1]),F.push(I[L+1]),F.push(I[L+2])}await s.drawLineSegments(F,w,this.strokeThickness,C,m,this.lineJoin),await s.drawLineSegments(R,w,g,C,f,this.lineJoin)}else await s.drawLine(I,w,this.strokeThickness,C,m,this.lineJoin);this.markerType!==MarkerType.None&&await RenderingExtensions.drawMarkers2(s,B,this.markerType,this.markerOutline,[this.markerSize],this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)},_=this.actualPoints;let M=0,P=Number_MAX_VALUE;if(this.isXMonotonic){const I=this.xAxis.clipMinimum;P=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(_,B=>B.x,I,this.windowStartIndex),M=this.windowStartIndex}const D=[],E=[];for(let I=M;I<_.length;){const{valid:B,validOffset:F,endOffset:R}=this.findNextValidSegment(_,I,P);if(!B)break;let L=new ScreenPoint(0,0),z=DataPoint.Undefined,G=!1,W=!1;for(I=F;I<R;++I){const K=_[I];G=G||K.x>z.x,W=W||K.x<z.x,G&&W&&(D.push(this.transform(z)),D.push(this.transform(z)),G=K.x>z.x,W=K.x<z.x),L=this.transform(K),K.y!==z.y&&(isNaN(z.y)||D.push(this.transform(new DataPoint(K.x,z.y))),D.push(L),G=!1,W=!1),z=K,E.push(L)}I<_.length&&this.xAxis.isValidValue(_[I].x)?D.push(this.transform(new DataPoint(_[I].x,z.y))):D.push(L),await A(D,E),D.length=0,E.length=0}this.labelStringFormatter&&await this.renderPointLabels(s)}findNextValidSegment(s,m,f){for(;;++m){if(m>=s.length)return{valid:!1,validOffset:0,endOffset:0};const w=s[m];if(w.x>f)return{valid:!1,validOffset:0,endOffset:0};if(this.isValidPoint(w))break}const x=m;for(;!(m>=s.length);++m){const w=s[m];if(!this.isValidPoint(w)||w.x>f)break}return{valid:!0,validOffset:x,endOffset:m}}}const si=class si extends XYAxisSeries{constructor(s){super(s);ee(this,"itemsSourceItems",[]);ee(this,"trackerStringFormatter");ee(this,"boxWidth");ee(this,"fill");ee(this,"items");ee(this,"lineStyle");ee(this,"medianPointSize");ee(this,"medianThickness");ee(this,"meanPointSize");ee(this,"meanThickness");ee(this,"outlierSize");ee(this,"outlierTrackerStringFormatter");ee(this,"outlierType");ee(this,"outlierOutline");ee(this,"showBox");ee(this,"showMedianAsDot");ee(this,"showMeanAsDot");ee(this,"stroke");ee(this,"strokeThickness");ee(this,"whiskerWidth");this.items=[],this.trackerStringFormatter=si.DefaultTrackerFormatString,this.outlierTrackerStringFormatter=m=>`${m.title||""}
${m.xLabel}: ${m.xValue}
Y: ${m.outlier.toFixed(2)}`,this.title=void 0,this.fill=OxyColors.Automatic,this.stroke=OxyColors.Black,this.boxWidth=.3,this.strokeThickness=1,this.medianThickness=2,this.meanThickness=2,this.outlierSize=2,this.outlierType=MarkerType.Circle,this.medianPointSize=2,this.meanPointSize=2,this.whiskerWidth=.5,this.lineStyle=LineStyle.Solid,this.showMedianAsDot=!1,this.showMeanAsDot=!1,this.showBox=!0,s&&Object.assign(this,removeUndef(s))}get actualItems(){return this.itemsSource?this.itemsSourceItems:this.items}getNearestPoint(s,m){if(!this.xAxis||!this.yAxis)return;let f=Number_MAX_VALUE,x;for(const g of this.actualItems){for(const D of g.outliers){const E=PlotElementExtensions.transform(this,g.x,D),I=E.minus(s).lengthSquared;if(I<f){const B=this.outlierTrackerStringFormatter({item:g,title:this.title,xLabel:this.xAxis.title||XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(g.x),outlier:D});x=new TrackerHitResult({series:this,dataPoint:new DataPoint(g.x,D),position:E,item:g,text:B}),f=I}}let w=DataPoint.Undefined;if(this.getBoxRect(g).containsPoint(s)){const D=this.inverseTransform(s);w=new DataPoint(g.x,D.y),f=0}const A=PlotElementExtensions.transform(this,g.x,g.upperWhisker),_=PlotElementExtensions.transform(this,g.x,g.lowerWhisker),M=ScreenPointHelper.findPointOnLine(s,A,_),P=M.minus(s).lengthSquared;if(P<f&&(w=this.inverseTransform(M),f=P),w.isDefined()){const D=this.trackerStringFormatter({item:g,title:this.title,xLabel:this.xAxis.title||XYAxisSeries.defaultXAxisTitle,xValue:this.xAxis.getValue(g.x),upperWhisker:this.yAxis.getValue(g.upperWhisker),boxTop:this.yAxis.getValue(g.boxTop),median:this.yAxis.getValue(g.median),boxBottom:this.yAxis.getValue(g.boxBottom),lowerWhisker:this.yAxis.getValue(g.lowerWhisker),mean:this.yAxis.getValue(g.mean!==void 0?g.mean:NaN)});x=new TrackerHitResult({series:this,dataPoint:w,position:this.transform(w),item:g,text:D})}}if(f<Number_MAX_VALUE)return x}isValidPointBoxPlot(s,m,f){const x=getBoxPlotItemValues(s);return!isNaN(s.x)&&!isInfinity(s.x)&&!x.some(isNaN)&&!x.some(isInfinity)&&m&&m.isValidValue(s.x)&&f&&x.every(g=>f.isValidValue(g))}async render(s){if(this.actualItems.length===0)return;const m=this.getClippingRect(),f=[],x=this.boxWidth*.5,g=x*this.whiskerWidth,w=this.getSelectableColor(this.stroke),C=this.getSelectableFillColor(this.fill),A=LineStyleHelper.getDashArray(this.lineStyle),_=PlotElementExtensions.transform,M=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);for(const P of this.actualItems){const D=P.mean!==void 0?P.mean:NaN;f.push(...P.outliers.map(R=>_(this,P.x,R)));const E=_(this,P.x,P.upperWhisker),I=_(this,P.x,P.boxTop),B=_(this,P.x,P.boxBottom),F=_(this,P.x,P.lowerWhisker);if(this.strokeThickness>0&&this.lineStyle!==LineStyle.None&&(await s.drawLine([E,I],w,this.strokeThickness,M,A,LineJoin.Miter),await s.drawLine([B,F],w,this.strokeThickness,M,A,LineJoin.Miter)),this.whiskerWidth>0){const R=_(this,P.x-g,P.upperWhisker),L=_(this,P.x+g,P.upperWhisker),z=_(this,P.x-g,P.lowerWhisker),G=_(this,P.x+g,P.lowerWhisker);await s.drawLine([R,L],w,this.strokeThickness,M,void 0,LineJoin.Miter),await s.drawLine([z,G],w,this.strokeThickness,M,void 0,LineJoin.Miter)}if(this.showBox){const R=this.getBoxRect(P);await s.drawRectangle(R,C,w,this.strokeThickness,M)}if(this.showMedianAsDot){const R=_(this,P.x,P.median);if(m.containsPoint(R)){const L=new OxyRect(R.x-this.medianPointSize,R.y-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await s.drawEllipse(L,C,OxyColors.Undefined,0,this.edgeRenderingMode)}}else{const R=_(this,P.x-x,P.median),L=_(this,P.x+x,P.median);await s.drawLine([R,L],w,this.strokeThickness*this.medianThickness,M,void 0,LineJoin.Miter)}if(!this.showMeanAsDot&&!isNaN(D)){const R=_(this,P.x-x,D),L=_(this,P.x+x,D);await s.drawLine([R,L],w,this.strokeThickness*this.meanThickness,M,LineStyleHelper.getDashArray(LineStyle.Dash),LineJoin.Miter)}else if(!isNaN(D)){const R=_(this,P.x,D);if(m.containsPoint(R)){const L=new OxyRect(R.x-this.meanPointSize,R.y-this.meanPointSize,this.meanPointSize*2,this.meanPointSize*2);await s.drawEllipse(L,C,OxyColors.Undefined,0,this.edgeRenderingMode)}}}if(this.outlierType!==MarkerType.None){const P=f.map(D=>this.outlierSize);await RenderingExtensions.drawMarkers2(s,f,this.outlierType,this.outlierOutline,P,C,w,this.strokeThickness,this.edgeRenderingMode)}}async renderLegend(s,m){const f=(m.left+m.right)/2,x=m.top+(m.bottom-m.top)*.7,g=m.top+(m.bottom-m.top)*.3,w=(x+g)*.5,C=m.width*.24,A=C*this.whiskerWidth,_=1,M=this.getSelectableColor(this.stroke),P=this.getSelectableFillColor(this.fill),D=LineStyleHelper.getDashArray(LineStyle.Solid),E=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferGeometricAccuracy);if(await s.drawLine([new ScreenPoint(f,m.top),new ScreenPoint(f,g)],M,_,E,D,LineJoin.Miter),await s.drawLine([new ScreenPoint(f,x),new ScreenPoint(f,m.bottom)],M,_,E,D,LineJoin.Miter),this.whiskerWidth>0&&(await s.drawLine([new ScreenPoint(f-A,m.bottom),new ScreenPoint(f+A,m.bottom)],M,_,E,D,LineJoin.Miter),await s.drawLine([new ScreenPoint(f-A,m.top),new ScreenPoint(f+A,m.top)],M,_,E,D,LineJoin.Miter)),this.showBox&&await s.drawRectangle(new OxyRect(f-C,g,2*C,x-g),P,M,_,E),!this.showMedianAsDot)await s.drawLine([new ScreenPoint(f-C,w),new ScreenPoint(f+C,w)],M,_*this.medianThickness,E,D,LineJoin.Miter);else{const I=new OxyRect(f-this.medianPointSize,w-this.medianPointSize,this.medianPointSize*2,this.medianPointSize*2);await s.drawEllipse(I,P,OxyColors.Undefined,0,E)}}updateData(){this.itemsSource&&(this.clearItemsSourceItems(),this.itemsSourceItems.push(...this.itemsSource),this.itemsSourceItems.forEach(s=>{s.mean===void 0&&(s.median=NaN)}))}updateMaxMin(){super.updateMaxMin(),this.internalUpdateBoxPlotMaxMin(this.actualItems)}internalUpdateBoxPlotMaxMin(s){if(!s||s.length===0)return;let m=this.minX,f=this.minY,x=this.maxX,g=this.maxY;for(const w of s){if(!this.isValidPointBoxPlot(w,this.xAxis,this.yAxis))continue;const C=w.x;(C<m||isNaN(m))&&(m=C),(C>x||isNaN(x))&&(x=C);const A=getBoxPlotItemValues(w);for(const _ of A)(_<f||isNaN(f))&&(f=_),(_>g||isNaN(g))&&(g=_)}this.minX=m,this.minY=f,this.maxX=x,this.maxY=g}getItem(s){return this.itemsSource||!this.actualItems||this.actualItems.length===0?super.getItem(s):this.actualItems[s]}getBoxRect(s){const m=this.boxWidth*.5,f=PlotElementExtensions.transform(this,s.x-m,s.boxTop),x=PlotElementExtensions.transform(this,s.x+m,s.boxBottom);return OxyRect.fromScreenPoints(f,x)}clearItemsSourceItems(){this.itemsSourceItems.length=0}};ee(si,"DefaultTrackerFormatString",s=>`${s.title||""}
${s.xLabel}: ${s.xValue}
Upper Whisker: ${s.upperWhisker.toFixed(2)}
Third Quartil: ${s.boxTop.toFixed(2)}
Median: ${s.median.toFixed(2)}
First Quartil: ${s.boxBottom.toFixed(2)}
Lower Whisker: ${s.lowerWhisker.toFixed(2)}
Mean: ${s.mean.toFixed(2)}`);let BoxPlotSeries=si;function getBoxPlotItemValues(a){const d=[a.lowerWhisker,a.boxBottom,a.median,a.boxTop,a.upperWhisker];return a.mean!==void 0&&!isNaN(a.mean)&&d.push(a.mean),d.push(...a.outliers),d}class StemSeries extends LineSeries{constructor(s){super(s);ee(this,"base");this.base=0,s&&(this.base=s.base??0)}getNearestPoint(s,m){if(!this.xAxis||!this.yAxis||m)return;let f,x=Number_MAX_VALUE;const g=this.actualPoints;for(let w=0;w<g.length;w++){const C=g[w],A=new DataPoint(C.x,this.base),_=this.transform(C),M=this.transform(A);let P=ScreenPointHelper.findPositionOnLine(s,_,M);isNaN(P)&&(P=1),(P<0||P>1)&&(P=1);const D=_.plus(M.minus(_).times(P)),E=s.minus(D).lengthSquared;if(E<x){const I=this.getItem(w),B=this.formatDefaultTrackerString(I,C);f=new TrackerHitResult({series:this,dataPoint:new DataPoint(C.x,C.y),position:new ScreenPoint(_.x,_.y),item:this.getItem(w),index:w,text:B}),x=E}}return f}async render(s){if(this.actualPoints.length===0)return;this.verifyAxes();const m=this.minimumSegmentLength*this.minimumSegmentLength,f=this.actualDashArray,x=this.getSelectableColor(this.actualColor),g=[],w=this.markerType!==MarkerType.None?[]:void 0;for(const C of this.actualPoints)if(this.isValidPoint(C)){if(g[0]=PlotElementExtensions.transform(this,C.x,this.base),g[1]=PlotElementExtensions.transform(this,C.x,C.y),this.strokeThickness>0&&this.actualLineStyle!==LineStyle.None){const A=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness);await RenderingExtensions.drawReducedLine(s,g,m,x,this.strokeThickness,A,f,this.lineJoin)}w&&w.push(g[1])}w&&w.length>0&&await RenderingExtensions.drawMarkers(s,w,this.markerType,this.markerOutline,this.markerSize,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}}function getActualFillColor(a){return a.fill.getActualColor(a.defaultFillColor)}const ai=class ai extends ItemsSeries{constructor(s){super(s);ee(this,"slicePoints",[]);ee(this,"total",0);ee(this,"angleIncrement");ee(this,"angleSpan");ee(this,"areInsideLabelsAngled",!1);ee(this,"colorField");ee(this,"diameter");ee(this,"explodedDistance",0);ee(this,"innerDiameter");ee(this,"insideLabelColor");ee(this,"insideLabelFormatter");ee(this,"insideLabelPosition");ee(this,"isExplodedField");ee(this,"labelField");ee(this,"outsideLabelFormatter");ee(this,"slices",[]);ee(this,"startAngle");ee(this,"stroke");ee(this,"strokeThickness");ee(this,"tickDistance");ee(this,"tickHorizontalLength");ee(this,"tickLabelDistance");ee(this,"tickRadialLength");ee(this,"valueField");ee(this,"trackerStringFormatter");this.stroke=OxyColors.White,this.strokeThickness=1,this.diameter=1,this.innerDiameter=0,this.startAngle=0,this.angleSpan=360,this.angleIncrement=1,this.outsideLabelFormatter=(m,f)=>`${round(f,0)} %`,this.insideLabelColor=OxyColors.Automatic,this.insideLabelFormatter=(m,f)=>m.label,this.tickDistance=0,this.tickRadialLength=6,this.tickHorizontalLength=8,this.tickLabelDistance=4,this.insideLabelPosition=.5,this.fontSize=12,this.trackerStringFormatter=ai.DefaultTrackerStringFormatter,s&&Object.assign(this,s)}getNearestPoint(s,m){const f=this.trackerStringFormatter;for(let x=0;x<this.slicePoints.length;x++)if(ScreenPointHelper.isPointInPolygon(s,this.slicePoints[x])){const g=this.slices[x],w=this.getItem(x),C=f?f({item:w,title:this.title,xLabel:g.label,xValue:g.value,percent:g.value/this.total*100}):void 0;return new TrackerHitResult({series:this,position:s,item:w,index:x,text:C})}}async render(s){if(this.slicePoints=[],this.slices.length===0||(this.total=this.slices.reduce((C,A)=>C+A.value,0),Math.abs(this.total)<=0))return;const m=Math.min(this.plotModel.plotArea.width,this.plotModel.plotArea.height)/2,f=m*(this.diameter-this.explodedDistance),x=m*this.innerDiameter;let g=this.startAngle;const w=new ScreenPoint((this.plotModel.plotArea.left+this.plotModel.plotArea.right)*.5,(this.plotModel.plotArea.top+this.plotModel.plotArea.bottom)*.5);for(const C of this.slices){const A=[],_=[],M=C.value/this.total*this.angleSpan,P=g+M,D=C.isExploded?this.explodedDistance*m:0,E=g+M/2,I=E*Math.PI/180,B=new ScreenPoint(w.x+D*Math.cos(I),w.y+D*Math.sin(I));for(;;){let R=!1;g>=P&&(g=P,R=!0);const L=g*Math.PI/180,z=new ScreenPoint(B.x+f*Math.cos(L),B.y+f*Math.sin(L));A.push(z);const G=new ScreenPoint(B.x+x*Math.cos(L),B.y+x*Math.sin(L));if(x+D>0&&_.push(G),R)break;g+=this.angleIncrement}_.reverse(),_.length===0&&_.push(B),_.push(A[0]);const F=[...A,..._];if(await s.drawPolygon(F,getActualFillColor(C),this.stroke,this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin.Bevel),this.slicePoints.push(F),this.outsideLabelFormatter){const R=this.outsideLabelFormatter(C,C.value/this.total*100),L=Math.sign(Math.cos(I)),z=new ScreenPoint(B.x+(f+this.tickDistance)*Math.cos(I),B.y+(f+this.tickDistance)*Math.sin(I)),G=new ScreenPoint(z.x+this.tickRadialLength*Math.cos(I),z.y+this.tickRadialLength*Math.sin(I)),W=new ScreenPoint(G.x+this.tickHorizontalLength*L,G.y);await s.drawLine([z,G,W],this.actualTextColor,1,this.edgeRenderingMode,void 0,LineJoin.Bevel);const K=new ScreenPoint(W.x+this.tickLabelDistance*L,W.y);await s.drawText(K,R,this.actualTextColor,this.actualFont,this.actualFontSize,this.actualFontWeight,0,L>0?HorizontalAlignment.Left:HorizontalAlignment.Right,VerticalAlignment.Middle)}if(this.insideLabelFormatter&&!this.insideLabelColor.isUndefined()){const R=this.insideLabelFormatter(C,C.value/this.total*100),L=x*(1-this.insideLabelPosition)+f*this.insideLabelPosition,z=new ScreenPoint(B.x+L*Math.cos(I),B.y+L*Math.sin(I));let G=0;this.areInsideLabelsAngled&&(G=E,Math.cos(I)<0&&(G+=180));const W=this.insideLabelColor.isAutomatic()?this.actualTextColor:this.insideLabelColor;await s.drawText(z,R,W,this.actualFont,this.actualFontSize,this.actualFontWeight,G,HorizontalAlignment.Center,VerticalAlignment.Middle)}}}async renderLegend(s,m){}areAxesRequired(){return!1}ensureAxes(){}isUsing(s){return!1}setDefaultValues(){for(const s of this.slices)s.fill=s.fill||OxyColors.Automatic,s.fill.isAutomatic()&&(s.defaultFillColor=this.plotModel.getDefaultColor())}updateAxisMaxMin(){}updateData(){if(this.itemsSource){this.slices=[];for(const s of this.itemsSource){const m=getOrDefault(s,this.labelField,""),f=getOrDefault(s,this.valueField,NaN),x=getOrDefault(s,this.colorField,OxyColors.Automatic),g=getOrDefault(s,this.isExplodedField,!1);this.slices.push({label:m,value:f,fill:x,isExploded:g})}}}updateMaxMin(){}};ee(ai,"DefaultTrackerStringFormatter",s=>`${s.xLabel}: ${round(s.xValue,3)} (${toPercent((s.percent||0)/100)})`);let PieSeries=ai;class AreaSeries extends LineSeries{constructor(s){super(s);ee(this,"_points2",[]);ee(this,"itemsSourcePoints2",[]);ee(this,"_actualPoints2");ee(this,"constantY2",0);ee(this,"dataFieldX2");ee(this,"dataFieldY2");ee(this,"color2");ee(this,"fill");ee(this,"reverse2",!1);ee(this,"windowStartIndex2",0);ee(this,"isPoints2Defined",!1);this.reverse2=!0,this.color2=OxyColors.Automatic,this.fill=OxyColors.Automatic,s&&Object.assign(this,removeUndef(s))}get actualColor2(){return this.color2.getActualColor(this.actualColor)}get actualFill(){return this.fill.getActualColor(OxyColor.fromAColor(100,this.actualColor))}get points2(){return this._points2}get actualPoints2(){return this.itemsSource?this.itemsSourcePoints2:this._actualPoints2}getNearestPoint(s,m){const f=this.isXMonotonic?this.windowStartIndex:0,x=this.isXMonotonic?this.windowStartIndex2:0;let g,w;m&&this.canTrackerInterpolatePoints?(g=this.getNearestInterpolatedPointInternal(this.actualPoints,f,s),w=this.getNearestInterpolatedPointInternal(this.actualPoints2,x,s)):(g=this.getNearestPointInternal(this.actualPoints,f,s),w=this.getNearestPointInternal(this.actualPoints2,x,s));let C;if(g&&w){const A=g.position.distanceTo(s),_=w.position.distanceTo(s);C=A<_?g:w}else C=g??w;return C&&(C.text=this.formatDefaultTrackerString(C.item,C.dataPoint)),C}async render(s){this.verifyAxes();const m=this.actualPoints;if(!m||m.length===0)return;const f=this.actualPoints2;if(!f||f.length===0)return;let x=0,g=0,w=Number_MAX_VALUE;if(this.isXMonotonic){const P=this.xAxis.clipMinimum;w=this.xAxis.clipMaximum,this.windowStartIndex=this.updateWindowStartIndex(m,D=>D.x,P,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(f,D=>D.x,P,this.windowStartIndex2),x=this.windowStartIndex,g=this.windowStartIndex2}const C=this.minimumSegmentLength*this.minimumSegmentLength,A={points:m,windowStartIndex:x,xMax:w,renderContext:s,minDistSquared:C,reverse:!1,color:this.actualColor,dashArray:this.actualDashArray},_=await this.renderChunkedPoints(A);A.points=f,A.windowStartIndex=g,A.reverse=this.reverse2,A.color=this.actualColor2;const M=await this.renderChunkedPoints(A);if(_.length===M.length)for(let P=0;P<_.length;P++){const D=_[P],E=M[P],I=[];I.push(...E),I.push(...D),await RenderingExtensions.drawReducedPolygon(s,I,C,this.getSelectableFillColor(this.actualFill),OxyColors.Undefined,0,this.edgeRenderingMode);const B=[this.markerSize];await RenderingExtensions.drawMarkers2(s,D,this.markerType,void 0,B,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await RenderingExtensions.drawMarkers2(s,E,this.markerType,void 0,B,this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}}async renderLegend(s,m){const f=m.top*.2+m.bottom*.8,x=m.top*.4+m.bottom*.6,g=m.top*.8+m.bottom*.2,w=[new ScreenPoint(m.left,f),new ScreenPoint(m.right,f)],C=[new ScreenPoint(m.right,g),new ScreenPoint(m.left,x)],A=[...w,...C];if(this.strokeThickness>0&&this.actualLineStyle!==LineStyle.None){const _=LineStyleHelper.getDashArray(this.actualLineStyle);await s.drawLine(w,this.getSelectableColor(this.actualColor),this.strokeThickness,this.edgeRenderingMode,_),await s.drawLine(C,this.getSelectableColor(this.actualColor2),this.strokeThickness,this.edgeRenderingMode,_)}await s.drawPolygon(A,this.getSelectableFillColor(this.actualFill),OxyColors.Undefined,0,this.edgeRenderingMode)}updateData(){if(super.updateData(),!this.itemsSource){this.isPoints2Defined=this._points2.length>0,this.isPoints2Defined?this._actualPoints2=this._points2:this._actualPoints2=this.getConstantPoints2();return}if(this.itemsSourcePoints2.length=0,this.isPoints2Defined=!!(this.dataFieldX2&&this.dataFieldY2),this.isPoints2Defined)for(const s of this.itemsSource){if(!s)continue;const m=getOrDefault(s,this.dataFieldX2,Number.NaN),f=getOrDefault(s,this.dataFieldY2,Number.NaN),x=new DataPoint(this.xAxis.itemToDouble(m),this.yAxis.itemToDouble(f));this.itemsSourcePoints2.push(x)}else this.itemsSourcePoints2.push(...this.getConstantPoints2())}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin(this.actualPoints2)}async renderChunkedPoints(s){const m=[];let f=[],x=0;const g=s.points;for(let w=s.windowStartIndex;w<g.length;w++){const C=g[w];if(isNaN(C.y)){if(f.length===0)continue;m.push(await this.renderScreenPoints(s,f)),f=[]}else{const A=PlotElementExtensions.transform(this,C.x,C.y);f.push(A)}if(x+=C.x>s.xMax?1:0,x>1)break}return f.length>0&&m.push(await this.renderScreenPoints(s,f)),m}async renderScreenPoints(s,m){let f=m;if(s.reverse&&f.reverse(),this.interpolationAlgorithm){const x=ScreenPointHelper.resamplePoints(f,this.minimumSegmentLength);f=this.interpolationAlgorithm.createSplineSp(x,!1,.25)}return await RenderingExtensions.drawReducedLine(s.renderContext,f,s.minDistSquared,this.getSelectableColor(s.color),this.strokeThickness,this.edgeRenderingMode,s.dashArray,this.lineJoin),f}getConstantPoints2(){const s=this.actualPoints,m=[];if(!isNaN(this.constantY2)&&s.length>0){const f=s[0].x,x=s[s.length-1].x;m.push(new DataPoint(f,this.constantY2)),m.push(new DataPoint(x,this.constantY2))}return m}}var HeatMapCoordinateDefinition=(a=>(a[a.Center=0]="Center",a[a.Edge=1]="Edge",a))(HeatMapCoordinateDefinition||{}),HeatMapRenderMethod=(a=>(a[a.Bitmap=0]="Bitmap",a[a.Rectangles=1]="Rectangles",a))(HeatMapRenderMethod||{});const Ot=class Ot extends XYAxisSeries{constructor(s){super(s);ee(this,"dataHash",0);ee(this,"colorAxisHash",0);ee(this,"image");ee(this,"x0",0);ee(this,"x1",0);ee(this,"y0",0);ee(this,"y1",0);ee(this,"data");ee(this,"interpolate",!0);ee(this,"minValue",0);ee(this,"maxValue",0);ee(this,"colorAxis");ee(this,"colorAxisKey");ee(this,"coordinateDefinition",0);ee(this,"renderMethod",0);ee(this,"labelStringFormatter",s=>s.toFixed(2));ee(this,"labelFontSize",0);this.trackerStringFormatter=Ot.DefaultTrackerFormatString,this.interpolate=!0,this.labelFontSize=0,s&&Object.assign(this,removeUndef(s))}invalidate(){this.image=void 0}async render(s){if(!this.data){this.image=void 0;return}if(!this.colorAxis)throw new Error("Color axis not specified.");let m=this.x0,f=this.x1,x=this.y0,g=this.y1;const w=this.data.length,C=this.data[0].length,A=(this.x1-this.x0)/(w-1),_=(this.y1-this.y0)/(C-1);if(this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const R=Math.log(this.x1/this.x0)/(w-1);m*=Math.exp(R/-2),f*=Math.exp(R/2)}else m-=A/2,f+=A/2;if(this.yAxis.isLogarithmic()){const R=Math.log(this.y1/this.y0)/(C-1);x*=Math.exp(R/-2),g*=Math.exp(R/2)}else x-=_/2,g+=_/2}const M=PlotElementExtensions.transform(this,m,x),P=PlotElementExtensions.transform(this,f,g),D=OxyRect.fromScreenPoints(M,P),E=this.renderMethod===0,I=calculateHashcode(this.data),B=this.colorAxis.getElementHashCode();(E&&!this.image||I!==this.dataHash||B!==this.colorAxisHash)&&(E&&await this.updateImage(),this.dataHash=I,this.colorAxisHash=B);const F=PlotElementExtensions.orientate;if(E)this.image&&await RenderingExtensions.drawImage(s,this.image,D.left,D.top,D.width,D.height,1,this.interpolate);else{const R=F(this,M),L=F(this,P),z=(L.x-R.x)/w,G=(L.y-R.y)/C,W=ColorAxisExtensions.getColor;for(let K=0;K<w;K++)for(let q=0;q<C;q++){const Z=W(this.colorAxis,this.data[K][q]),J=F(this,new ScreenPoint(R.x+K*z,R.y+q*G)),Q=F(this,new ScreenPoint(R.x+(K+1)*z,R.y+(q+1)*G)),ie=OxyRect.fromScreenPoints(J,Q);await s.drawRectangle(ie,Z,OxyColors.Undefined,0,this.edgeRenderingMode)}}this.labelFontSize>0&&await this.renderLabels(s,D)}getNearestPoint(s,m){if(!this.data)return;this.interpolate||(m=!1);let f=this.inverseTransform(s);if(!this.isPointInRange(f))return;let x,g;if(this.xAxis.isLogarithmic()){const M=Math.log(this.x1/this.x0)/(this.data.length-1);x=Math.log(f.x/this.x0)/M}else{const M=(this.x1-this.x0)/(this.data.length-1);x=(f.x-this.x0)/M}if(this.yAxis.isLogarithmic()){const M=Math.log(this.y1/this.y0)/(this.data[0].length-1);g=Math.log(f.y/this.y0)/M}else{const M=(this.y1-this.y0)/(this.data[0].length-1);g=(f.y-this.y0)/M}if(!m){x=Math.round(x),g=Math.round(g);let M,P;if(this.xAxis.isLogarithmic()){const D=Math.log(this.x1/this.x0)/(this.data.length-1);M=this.x0*Math.exp(x*D)}else{const D=(this.x1-this.x0)/(this.data.length-1);M=x*D+this.x0}if(this.yAxis.isLogarithmic()){const D=Math.log(this.y1/this.y0)/(this.data[0].length-1);P=this.y0*Math.exp(g*D)}else{const D=(this.y1-this.y0)/(this.data[0].length-1);P=g*D+this.y0}f=new DataPoint(M,P),s=this.transform(f)}if(x<-.5||x>this.data.length-.5||g<-.5||g>this.data[0].length-.5)return;const w=Ot.getValue(this.data,x,g),C=this.colorAxis,A=(C==null?void 0:C.title)??Ot.DefaultColorAxisTitle,_=this.formatDefaultTrackerString(void 0,f,M=>{M.colorAxisTitle=A,M.value=w});return new TrackerHitResult({series:this,dataPoint:f,position:s,item:null,index:-1,text:_})}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(!this.data)return;const s=this.data.length,m=this.data[0].length;if(this.minX=Math.min(this.x0,this.x1),this.maxX=Math.max(this.x0,this.x1),this.minY=Math.min(this.y0,this.y1),this.maxY=Math.max(this.y0,this.y1),this.coordinateDefinition===0){if(this.xAxis.isLogarithmic()){const f=Math.log(this.maxX/this.minX)/(s-1);this.minX*=Math.exp(f/-2),this.maxX*=Math.exp(f/2)}else{const f=(this.maxX-this.minX)/(s-1);this.minX-=f/2,this.maxX+=f/2}if(this.yAxis.isLogarithmic()){const f=Math.log(this.maxY/this.minY)/(m-1);this.minY*=Math.exp(f/-2),this.maxY*=Math.exp(f/2)}else{const f=(this.maxY-this.minY)/(m-1);this.minY-=f/2,this.maxY+=f/2}}}updateMaxMin(){if(super.updateMaxMin(),this.updateMaxMinXY(),!this.data)return;const s=this.data.flat().filter(m=>!isNaN(m));this.minValue=minValueOfArray(s),this.maxValue=maxValueOfArray(s)}updateAxisMaxMin(){super.updateAxisMaxMin();const s=this.colorAxis;s&&(s.include(this.minValue),s.include(this.maxValue))}async renderLabels(s,m){if(!this.data)return;const f=this.data.length,x=this.data[0].length,g=m.height/x*this.labelFontSize,w=this.x0,C=this.x1,A=this.y0,_=this.y1,M=PlotElementExtensions.orientate,P=PlotElementExtensions.transform,D=M(this,P(this,w,A)),E=M(this,P(this,C,_)),I=(E.x-D.x)/(f-1),B=(E.y-D.y)/(x-1),F=ColorAxisExtensions.getColor;for(let R=0;R<f;R++)for(let L=0;L<x;L++){const z=M(this,new ScreenPoint(D.x+R*I,D.y+L*B)),G=Ot.getValue(this.data,R,L),W=F(this.colorAxis,G),q=OxyColorExtensions.toHsv(W)[2]>.6?OxyColors.Black:OxyColors.White,Z=this.getLabel(G,R,L);await s.drawText(z,Z,q,this.actualFont,g,500,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}}getLabel(s,m,f){return this.labelStringFormatter(s,[])}static getValue(s,m,f){m=Math.max(m,0),f=Math.max(f,0);const x=Math.floor(m),g=x+1<s.length?x+1:x,w=Math.floor(f),C=w+1<s[0].length?w+1:w;if(m=Math.min(m,g),f=Math.min(f,C),m===x&&f===w)return s[x][w];if(m!==x&&f===w){if(isNaN(s[x][w])||isNaN(s[g][w]))return NaN;const A=m-x;return x!==g?s[x][w]*(1-A)+s[g][w]*A:s[x][w]}if(m===x&&f!==w){if(isNaN(s[x][w])||isNaN(s[x][C]))return NaN;const A=f-w;return w!==C?s[x][w]*(1-A)+s[x][C]*A:s[x][w]}else{if(isNaN(s[x][w])||isNaN(s[g][w])||isNaN(s[x][C])||isNaN(s[g][C]))return NaN;const A=m-x,_=f-w;let M,P;return x!==g?(M=s[x][w]*(1-A)+s[g][w]*A,P=s[x][C]*(1-A)+s[g][C]*A):(M=s[x][w],P=s[x][C]),w!==C?M*(1-_)+P*_:M}}isPointInRange(s){return this.updateMaxMinXY(),s.x>=this.minX&&s.x<=this.maxX&&s.y>=this.minY&&s.y<=this.maxY}async updateImage(){if(!this.data)return;const s=this.xAxis.transform(this.x0)>this.xAxis.transform(this.x1),m=this.yAxis.transform(this.y0)>this.yAxis.transform(this.y1),f=PlotElementExtensions.isTransposed(this),x=this.data.length,g=this.data[0].length,w=f?new TwoDimensionalArray(g,x):new TwoDimensionalArray(x,g),C=ColorAxisExtensions.getColor;for(let A=0;A<x;A++){const _=s?x-1-A:A;for(let M=0;M<g;M++){const P=m?g-1-M:M,D=C(this.colorAxis,this.data[_][P]);f?w.set(M,A,D):w.set(A,M,D)}}this.image=await OxyImage.create(w,ImageFormat.Png)}};ee(Ot,"DefaultTrackerFormatString",s=>`${s.title}
${s.xLabel}: ${s.xValue}
${s.yLabel}: ${s.yValue}
${s.colorAxisTitle}: ${s.value}`),ee(Ot,"DefaultColorAxisTitle","Value");let HeatMapSeries=Ot;function calculateHashcode(a){return hashCode(a.flat())}const ui=class ui{constructor(d,s,m,f,x){ee(this,"a");ee(this,"b");ee(this,"value");typeof d=="number"?(this.a=new DataPoint(d,m),this.b=new DataPoint(s,f),this.value=x):(this.a=d,this.b=s,this.value=m)}contains(d){return d.x<=this.b.x&&d.x>=this.a.x&&d.y<=this.b.y&&d.y>=this.a.y||d.x<=this.a.x&&d.x>=this.b.x&&d.y<=this.a.y&&d.y>=this.b.y}equals(d){return this.a.equals(d.a)&&this.b.equals(d.b)&&this.value===d.value}toString(){return`${this.a} ${this.b} ${this.value}`}isDefined(){return this.a.isDefined()&&this.b.isDefined()&&!isNaN(this.value)}};ee(ui,"Undefined",new ui(DataPoint.Undefined,DataPoint.Undefined,Number.NaN));let RectangleItem=ui;const Ft=class Ft extends XYAxisSeries{constructor(s){super(s);ee(this,"_actualItems",[]);ee(this,"_minValue",0);ee(this,"_maxValue",0);ee(this,"_colorAxis");ee(this,"colorAxisKey");ee(this,"labelStringFormatter",s=>s.toFixed(2));ee(this,"labelFontSize");ee(this,"mapping");ee(this,"items",[]);this.trackerStringFormatter=Ft.DefaultTrackerFormatString,this.labelFontSize=0,s&&Object.assign(this,removeUndef(s))}get minValue(){return this._minValue}get maxValue(){return this._maxValue}get colorAxis(){return this._colorAxis}set colorAxis(s){this._colorAxis=s}get actualItems(){return this.itemsSource?this._actualItems:this.items}async render(s){this.verifyAxes(),await this.renderRectangles(s,this.actualItems)}updateData(){this.itemsSource&&this.updateActualItems()}getItem(s){const m=this.actualItems;return!this.itemsSource&&m&&s<m.length?m[s]:super.getItem(s)}clearActualItems(){this._actualItems.length=0}updateActualItems(){if(this.clearActualItems(),!(!this.itemsSource||this.itemsSource.length==0)){for(const s of this.itemsSource)if(s){if(s instanceof RectangleItem){this._actualItems.push(s);continue}if(this.mapping){this._actualItems.push(this.mapping(s));continue}throw new Error("Invalid itemsSource")}}}async renderRectangles(s,m){const f=RenderingExtensions.getActualEdgeRenderingMode(this.edgeRenderingMode,EdgeRenderingMode.PreferSharpness),x=PlotElementExtensions.transform;for(const g of m){const w=ColorAxisExtensions.getColor(this.colorAxis,g.value),C=x(this,g.a.x,g.a.y),A=x(this,g.b.x,g.b.y),_=OxyRect.fromScreenPoints(C,A);await s.drawRectangle(_,w,OxyColors.Undefined,0,f),this.labelFontSize>0&&await s.drawText(_.center,this.labelStringFormatter(g.value,[]),this.actualTextColor,this.actualFont,this.labelFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}}getNearestPoint(s,m){const f=this.inverseTransform(s);if(!this.isPointInRange(f)||!this.actualItems)return;const x=this.colorAxis,g=(x==null?void 0:x.title)??Ft.DefaultColorAxisTitle;for(const w of this.actualItems)if(w.contains(f)){const C=this.formatDefaultTrackerString(w,f,A=>{A.colorAxisTitle=g,A.value=w.value});return new TrackerHitResult({series:this,dataPoint:f,position:s,item:null,index:-1,text:C})}}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMinXY(){if(this.actualItems&&this.actualItems.length>0){const s=minValueOfArray(this.actualItems.map(_=>_.a.x)),m=minValueOfArray(this.actualItems.map(_=>_.b.x)),f=maxValueOfArray(this.actualItems.map(_=>_.a.x)),x=maxValueOfArray(this.actualItems.map(_=>_.b.x)),g=minValueOfArray(this.actualItems.map(_=>_.a.y)),w=minValueOfArray(this.actualItems.map(_=>_.b.y)),C=maxValueOfArray(this.actualItems.map(_=>_.a.y)),A=maxValueOfArray(this.actualItems.map(_=>_.b.y));this.minX=Math.min(s,m),this.maxX=Math.max(f,x),this.minY=Math.min(g,w),this.maxY=Math.max(C,A)}}updateMaxMin(){super.updateMaxMin();const s=[];if(pushMany(s,this.actualItems.map(m=>m.a)),pushMany(s,this.actualItems.map(m=>m.b)),this.internalUpdateMaxMin(s),this.updateMaxMinXY(),this.actualItems&&this.actualItems.length>0){const m=this.actualItems.map(f=>f.value);this._minValue=minValueOfArray(m),this._maxValue=minValueOfArray(m)}}updateAxisMaxMin(){super.updateAxisMaxMin();const s=this.colorAxis;s&&(s.include(this.minValue),s.include(this.maxValue))}isPointInRange(s){return this.updateMaxMinXY(),s.x>=this.minX&&s.x<=this.maxX&&s.y>=this.minY&&s.y<=this.maxY}};ee(Ft,"DefaultTrackerFormatString",s=>`${s.title}
${s.xLabel}: ${s.xValue}
${s.yLabel}: ${s.yValue}
${s.colorAxisTitle}: ${s.value}`),ee(Ft,"DefaultColorAxisTitle","Value");let RectangleSeries=Ft;class ThreeColorLineSeries extends LineSeries{constructor(s){super(s);ee(this,"defaultColorLo",OxyColors.Undefined);ee(this,"defaultColorHi",OxyColors.Undefined);ee(this,"colorLo");ee(this,"colorHi");ee(this,"limitHi");ee(this,"limitLo");ee(this,"dashesHi");ee(this,"dashesLo");ee(this,"lineStyleHi");ee(this,"lineStyleLo");this.limitLo=-5,this.colorLo=OxyColor.fromRgb(0,0,255),this.lineStyleLo=LineStyle.Solid,this.limitHi=5,this.colorHi=OxyColor.fromRgb(255,0,0),this.lineStyleHi=LineStyle.Solid,s&&Object.assign(this,removeUndef(s))}get actualColorLo(){return this.colorLo.getActualColor(this.defaultColorLo)}get actualColorHi(){return this.colorHi.getActualColor(this.defaultColorHi)}get actualLineStyleHi(){return this.lineStyleHi!==LineStyle.Automatic?this.lineStyleHi:LineStyle.Solid}get actualLineStyleLo(){return this.lineStyleLo!==LineStyle.Automatic?this.lineStyleLo:LineStyle.Solid}get actualDashArrayHi(){return this.dashesHi??LineStyleHelper.getDashArray(this.actualLineStyleHi)}get actualDashArrayLo(){return this.dashesLo??LineStyleHelper.getDashArray(this.actualLineStyleLo)}setDefaultValues(){super.setDefaultValues(),this.colorLo.isAutomatic()&&(this.defaultColorLo=this.plotModel.getDefaultColor()),this.lineStyleLo===LineStyle.Automatic&&(this.lineStyleLo=this.plotModel.getDefaultLineStyle()),this.colorHi.isAutomatic()&&(this.defaultColorHi=this.plotModel.getDefaultColor()),this.lineStyleHi===LineStyle.Automatic&&(this.lineStyleHi=this.plotModel.getDefaultLineStyle())}async renderLine(s,m){const f=this.getClippingRect(),x=this.inverseTransform(f.bottomLeft),g=this.inverseTransform(f.topRight),w=PlotElementExtensions.transform;let C=w(this,x.x,Math.min(x.y,g.y)),A=w(this,g.x,this.limitLo);const _=OxyRect.fromScreenPoints(C,A).clip(f);C=w(this,x.x,this.limitLo),A=w(this,g.x,this.limitHi);const M=OxyRect.fromScreenPoints(C,A).clip(f);C=w(this,x.x,Math.max(x.y,g.y)),A=w(this,g.x,this.limitHi);const P=OxyRect.fromScreenPoints(C,A).clip(f);if(this.strokeThickness<=0||this.actualLineStyle===LineStyle.None)return;const D=async I=>{await RenderingExtensions.drawReducedLine(s,m,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(I),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let E=RenderingExtensions.autoResetClip(s,M);await D(this.actualColor),E.dispose(),E=RenderingExtensions.autoResetClip(s,_),await D(this.actualColorLo),E.dispose(),E=RenderingExtensions.autoResetClip(s,P),await D(this.actualColorHi),E.dispose()}}class TwoColorAreaSeries extends AreaSeries{constructor(s){super(s);ee(this,"defaultColor2",OxyColors.Undefined);ee(this,"abovePoints",[]);ee(this,"belowPoints",[]);ee(this,"markerStartIndex",0);ee(this,"fill2");ee(this,"dashes2");ee(this,"lineStyle2");ee(this,"markerFill2");ee(this,"markerStroke2");ee(this,"limit",0);this.color2=OxyColor.fromRgb(0,0,255),this.fill=OxyColors.Automatic,this.fill2=OxyColors.Automatic,this.markerFill2=OxyColors.Automatic,this.markerStroke2=OxyColors.Automatic,this.lineStyle2=LineStyle.Solid,s&&Object.assign(this,removeUndef(s))}get actualFill2(){return this.fill2.getActualColor(OxyColor.fromAColor(100,this.actualColor2))}get actualColor2(){return this.color2.getActualColor(this.defaultColor2)}get actualLineStyle2(){return this.lineStyle2!==LineStyle.Automatic?this.lineStyle2:LineStyle.Solid}get actualDashArray2(){return this.dashes2??LineStyleHelper.getDashArray(this.actualLineStyle2)}getNearestPoint(s,m){let f;return m&&this.canTrackerInterpolatePoints?f=this.getNearestInterpolatedPointInternal2(this.actualPoints,s):f=this.getNearestPointInternal2(this.actualPoints,s),f&&(f.text=this.formatDefaultTrackerString(f.item,f.dataPoint)),f}async render(s){const m=this.xAxis.clipMinimum,f=this.xAxis.clipMaximum,x=C=>C.x;this.windowStartIndex=this.updateWindowStartIndex(this.abovePoints,x,m,this.windowStartIndex),this.windowStartIndex2=this.updateWindowStartIndex(this.belowPoints,x,m,this.windowStartIndex2);const g=this.minimumSegmentLength*this.minimumSegmentLength,w={points:this.abovePoints,windowStartIndex:this.windowStartIndex,xMax:f,renderContext:s,minDistSquared:g,reverse:!1,color:this.actualColor,fill:this.actualFill,markerFill:this.actualMarkerFill,markerStroke:this.markerStroke,dashArray:this.actualDashArray,baseline:this.limit};if(await this.renderChunkedPoints(w),w.points=this.belowPoints,w.windowStartIndex=this.windowStartIndex2,w.reverse=this.reverse2,w.color=this.actualColor2,w.fill=this.actualFill2,w.markerFill=this.markerFill2,w.markerStroke=this.markerStroke2,w.dashArray=this.actualDashArray2,this.isPoints2Defined&&(w.baseline=this.constantY2),await this.renderChunkedPoints(w),!this.isPoints2Defined){const C=[this.markerSize],A=this.limit,_=this.actualPoints,M=[],P=[];this.markerStartIndex=this.updateWindowStartIndex(_,x,m,this.markerStartIndex);let D=0;for(let E=this.markerStartIndex;E<_.length;E++){const I=_[E];if((I.y>=A?M:P).push(this.transform(I)),D+=I.x>f?1:0,D>1)break}await RenderingExtensions.drawMarkers2(s,M,this.markerType,void 0,C,this.actualMarkerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1),await RenderingExtensions.drawMarkers2(s,P,this.markerType,void 0,C,this.markerFill2,this.markerStroke2,this.markerStrokeThickness,this.edgeRenderingMode,1)}}setDefaultValues(){super.setDefaultValues(),this.color2.isAutomatic()&&(this.defaultColor2=this.plotModel.getDefaultColor()),this.lineStyle2===LineStyle.Automatic&&(this.lineStyle2=this.plotModel.getDefaultLineStyle())}updateData(){super.updateData(),this.isPoints2Defined?(this.abovePoints=this.actualPoints,this.belowPoints=this.actualPoints2):this.splitPoints(this.actualPoints)}async renderScreenPoints(s,m){const f=await super.renderScreenPoints(s,m),x=s,w=[...this.getConstantScreenPoints2(f,x.baseline),...f],C=s.renderContext;if(await RenderingExtensions.drawReducedPolygon(C,w,s.minDistSquared,this.getSelectableFillColor(x.fill),OxyColors.Undefined,0,this.edgeRenderingMode),this.isPoints2Defined){const A=[this.markerSize];await RenderingExtensions.drawMarkers2(C,f,this.markerType,void 0,A,x.markerFill,x.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode,1)}return f}splitPoints(s){const m=new DataPoint(Number.NaN,Number.NaN),f=this.limit;this.abovePoints=new Array,this.belowPoints=new Array;let x=!1,g=null;for(const w of s){const C=w.y>=f;if(g&&C!==x){const A=new DataPoint(this.getInterpolatedX(g,w,f),f);this.abovePoints.push(C?m:A),this.abovePoints.push(C?A:m),this.belowPoints.push(C?A:m),this.belowPoints.push(C?m:A)}(C?this.abovePoints:this.belowPoints).push(w),g=w,x=C}}getConstantScreenPoints2(s,m){const f=[];if(isNaN(m)||s.length<=0)return f;let x=this.inverseTransform(s[0]);x=new DataPoint(x.x,m),f.push(this.transform(x));let g=this.inverseTransform(s[s.length-1]);return g=new DataPoint(g.x,m),f.push(this.transform(g)),this.reverse2&&f.reverse(),f}getInterpolatedX(s,m,f){return(f-s.y)/(m.y-s.y)*(m.x-s.x)+s.x}}class TwoColorLineSeries extends LineSeries{constructor(s){super(s);ee(this,"defaultColor2",OxyColors.Undefined);ee(this,"color2");ee(this,"limit");this.limit=0,this.color2=OxyColor.fromRgb(0,0,255),s&&Object.assign(this,removeUndef(s))}get actualColor2(){return this.color2.getActualColor(this.defaultColor2)}setDefaultValues(){super.setDefaultValues(),this.color2.isAutomatic()&&(this.defaultColor2=this.plotModel.getDefaultColor())}async renderLine(s,m){const f=this.getClippingRect(),x=this.inverseTransform(f.bottomLeft),g=this.inverseTransform(f.topRight),w=PlotElementExtensions.transform;let C=w(this,x.x,Math.min(x.y,g.y));const A=w(this,g.x,this.limit),_=OxyRect.fromScreenPoints(C,A).clip(f);C=w(this,x.x,Math.max(x.y,g.y));const M=OxyRect.fromScreenPoints(C,A).clip(f);if(this.strokeThickness<=0||this.actualLineStyle===LineStyle.None)return;const P=async E=>{await RenderingExtensions.drawReducedLine(s,m,this.minimumSegmentLength*this.minimumSegmentLength,this.getSelectableColor(E),this.strokeThickness,this.edgeRenderingMode,this.actualDashArray,this.lineJoin)};let D=RenderingExtensions.autoResetClip(s,_);await P(this.actualColor2),D.dispose(),D=RenderingExtensions.autoResetClip(s,M),await P(this.actualColor),D.dispose()}}var xmlbuilder2_min={exports:{}};(function(a,d){(function(s,m){a.exports=m()})(commonjsGlobal,function(){return function(s){var m={};function f(x){if(m[x])return m[x].exports;var g=m[x]={i:x,l:!1,exports:{}};return s[x].call(g.exports,g,g.exports,f),g.l=!0,g.exports}return f.m=s,f.c=m,f.d=function(x,g,w){f.o(x,g)||Object.defineProperty(x,g,{enumerable:!0,get:w})},f.r=function(x){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})},f.t=function(x,g){if(1&g&&(x=f(x)),8&g||4&g&&typeof x=="object"&&x&&x.__esModule)return x;var w=Object.create(null);if(f.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:x}),2&g&&typeof x!="string")for(var C in x)f.d(w,C,(function(A){return x[A]}).bind(null,C));return w},f.n=function(x){var g=x&&x.__esModule?function(){return x.default}:function(){return x};return f.d(g,"a",g),g},f.o=function(x,g){return Object.prototype.hasOwnProperty.call(x,g)},f.p="",f(f.s=184)}([function(s,m,f){function x(g){for(var w in g)m.hasOwnProperty(w)||(m[w]=g[w])}Object.defineProperty(m,"__esModule",{value:!0}),x(f(240)),x(f(251)),x(f(175)),x(f(107)),x(f(29)),x(f(73)),x(f(106)),x(f(30)),x(f(252)),x(f(52)),x(f(97)),x(f(253)),x(f(37)),x(f(51)),x(f(173)),x(f(176)),x(f(172)),x(f(108)),x(f(254)),x(f(255)),x(f(256)),x(f(72)),x(f(177)),x(f(105)),x(f(17)),x(f(257)),x(f(12)),x(f(174))},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0}),function(x){x[x.Before=0]="Before",x[x.Equal=1]="Equal",x[x.After=2]="After"}(m.BoundaryPosition||(m.BoundaryPosition={})),function(x){x[x.None=0]="None",x[x.Capturing=1]="Capturing",x[x.AtTarget=2]="AtTarget",x[x.Bubbling=3]="Bubbling"}(m.EventPhase||(m.EventPhase={})),function(x){x[x.Element=1]="Element",x[x.Attribute=2]="Attribute",x[x.Text=3]="Text",x[x.CData=4]="CData",x[x.EntityReference=5]="EntityReference",x[x.Entity=6]="Entity",x[x.ProcessingInstruction=7]="ProcessingInstruction",x[x.Comment=8]="Comment",x[x.Document=9]="Document",x[x.DocumentType=10]="DocumentType",x[x.DocumentFragment=11]="DocumentFragment",x[x.Notation=12]="Notation"}(m.NodeType||(m.NodeType={})),function(x){x[x.Disconnected=1]="Disconnected",x[x.Preceding=2]="Preceding",x[x.Following=4]="Following",x[x.Contains=8]="Contains",x[x.ContainedBy=16]="ContainedBy",x[x.ImplementationSpecific=32]="ImplementationSpecific"}(m.Position||(m.Position={})),function(x){x[x.Accept=1]="Accept",x[x.Reject=2]="Reject",x[x.Skip=3]="Skip"}(m.FilterResult||(m.FilterResult={})),function(x){x[x.All=4294967295]="All",x[x.Element=1]="Element",x[x.Attribute=2]="Attribute",x[x.Text=4]="Text",x[x.CDataSection=8]="CDataSection",x[x.EntityReference=16]="EntityReference",x[x.Entity=32]="Entity",x[x.ProcessingInstruction=64]="ProcessingInstruction",x[x.Comment=128]="Comment",x[x.Document=256]="Document",x[x.DocumentType=512]="DocumentType",x[x.DocumentFragment=1024]="DocumentFragment",x[x.Notation=2048]="Notation"}(m.WhatToShow||(m.WhatToShow={})),function(x){x[x.StartToStart=0]="StartToStart",x[x.StartToEnd=1]="StartToEnd",x[x.EndToEnd=2]="EndToEnd",x[x.EndToStart=3]="EndToStart"}(m.HowToCompare||(m.HowToCompare={}))},function(s,m,f){var x=this&&this.__values||function(L){var z=typeof Symbol=="function"&&Symbol.iterator,G=z&&L[z],W=0;if(G)return G.call(L);if(L&&typeof L.length=="number")return{next:function(){return L&&W>=L.length&&(L=void 0),{value:L&&L[W++],done:!L}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(212);m.FixedSizeSet=g.FixedSizeSet;var w=f(213);m.ObjectCache=w.ObjectCache;var C=f(214);m.CompareCache=C.CompareCache;var A=f(215);m.Lazy=A.Lazy;var _=f(216);function M(L,z,G){if(F(L))L.forEach(function(K,q){return z.call(G,q,K)});else for(var W in L)L.hasOwnProperty(W)&&z.call(G,W,L[W])}function P(L){var z,G;if(D(L))return L;if(I(L)){var W=[];try{for(var K=x(L),q=K.next();!q.done;q=K.next()){var Z=q.value;W.push(P(Z))}}catch(ie){z={error:ie}}finally{try{q&&!q.done&&(G=K.return)&&G.call(K)}finally{if(z)throw z.error}}return W}if(E(L)){W={};for(var J in L)if(L.hasOwnProperty(J)){var Q=L[J];W[J]=P(Q)}return W}return L}function D(L){return!!L&&Object.prototype.toString.call(L)==="[object Function]"}function E(L){var z=typeof L;return!!L&&(z==="function"||z==="object")}function I(L){return Array.isArray(L)}function B(L){return L instanceof Set}function F(L){return L instanceof Map}function R(L){if(E(L)){var z=Object.getPrototypeOf(L),G=z.constructor;return z&&G&&typeof G=="function"&&G instanceof G&&Function.prototype.toString.call(G)===Function.prototype.toString.call(Object)}return!1}m.StringWalker=_.StringWalker,m.applyMixin=function(L,z){for(var G=[],W=2;W<arguments.length;W++)G[W-2]=arguments[W];Object.getOwnPropertyNames(z.prototype).forEach(function(K){if(K!=="constructor"){if(G.indexOf(K)!==-1){var q=Object.getOwnPropertyDescriptor(L.prototype,K);q&&Object.defineProperty(L.prototype,"_"+K,q)}var Z=Object.getOwnPropertyDescriptor(z.prototype,K);Z&&Object.defineProperty(L.prototype,K,Z)}})},m.applyDefaults=function L(z,G,W){W===void 0&&(W=!1);var K=P(z||{});return M(G,function(q,Z){R(Z)?K[q]=L(K[q],Z,W):(W||K[q]===void 0)&&(K[q]=Z)}),K},m.forEachArray=function(L,z,G){L.forEach(z,G)},m.forEachObject=M,m.arrayLength=function(L){return B(L)?L.size:L.length},m.objectLength=function(L){return F(L)?L.size:Object.keys(L).length},m.getObjectValue=function(L,z){return F(L)?L.get(z):L[z]},m.removeObjectValue=function(L,z){F(L)?L.delete(z):delete L[z]},m.clone=P,m.isBoolean=function(L){return typeof L=="boolean"},m.isNumber=function(L){return typeof L=="number"},m.isString=function(L){return typeof L=="string"},m.isFunction=D,m.isObject=E,m.isArray=I,m.isSet=B,m.isMap=F,m.isEmpty=function(L){if(I(L))return!L.length;if(B(L)||F(L))return!L.size;if(E(L)){for(var z in L)if(L.hasOwnProperty(z))return!1;return!0}return!1},m.isPlainObject=R,m.isIterable=function(L){return L&&typeof L[Symbol.iterator]=="function"},m.getValue=function(L){return D(L.valueOf)?L.valueOf():L},m.utf8Encode=function(L){for(var z=new Uint8Array(4*L.length),G=0,W=0;W<L.length;W++){var K=L.charCodeAt(W);if(K<128)z[G++]=K;else{if(K<2048)z[G++]=K>>6|192;else{if(K>55295&&K<56320){if(++W>=L.length)throw new Error("Incomplete surrogate pair.");var q=L.charCodeAt(W);if(q<56320||q>57343)throw new Error("Invalid surrogate character.");K=65536+((1023&K)<<10)+(1023&q),z[G++]=K>>18|240,z[G++]=K>>12&63|128}else z[G++]=K>>12|224;z[G++]=K>>6&63|128}z[G++]=63&K|128}}return z.subarray(0,G)},m.utf8Decode=function(L){for(var z="",G=0;G<L.length;){var W=L[G++];if(W>127)if(W>191&&W<224){if(G>=L.length)throw new Error("Incomplete 2-byte sequence.");W=(31&W)<<6|63&L[G++]}else if(W>223&&W<240){if(G+1>=L.length)throw new Error("Incomplete 3-byte sequence.");W=(15&W)<<12|(63&L[G++])<<6|63&L[G++]}else{if(!(W>239&&W<248))throw new Error("Unknown multi-byte start.");if(G+2>=L.length)throw new Error("Incomplete 4-byte sequence.");W=(7&W)<<18|(63&L[G++])<<12|(63&L[G++])<<6|63&L[G++]}if(W<=65535)z+=String.fromCharCode(W);else{if(!(W<=1114111))throw new Error("Code point exceeds UTF-16 limit.");W-=65536,z+=String.fromCharCode(W>>10|55296),z+=String.fromCharCode(1023&W|56320)}}return z}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(241);m.Cast=x.Cast;var g=f(150);m.Guard=g.Guard;var w=f(242);m.EmptySet=w.EmptySet},function(s,m,f){var x=f(11),g=f(55).f,w=f(21),C=f(25),A=f(80),_=f(119),M=f(123);s.exports=function(P,D){var E,I,B,F,R,L=P.target,z=P.global,G=P.stat;if(E=z?x:G?x[L]||A(L,{}):(x[L]||{}).prototype)for(I in D){if(F=D[I],B=P.noTargetGet?(R=g(E,I))&&R.value:E[I],!M(z?I:L+(G?".":"#")+I,P.forced)&&B!==void 0){if(typeof F==typeof B)continue;_(F,B)}(P.sham||B&&B.sham)&&w(F,"sham",!0),C(E,I,F,P)}}},function(s,m,f){var x=f(11),g=f(81),w=f(14),C=f(58),A=f(86),_=f(124),M=g("wks"),P=x.Symbol,D=_?P:P&&P.withoutSetter||C;s.exports=function(E){return w(M,E)||(A&&w(P,E)?M[E]=P[E]:M[E]=D("Symbol."+E)),M[E]}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(2),g=f(29),w=function(){function C(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new x.CompareCache,this._rangeList=new x.FixedSizeSet}return C.prototype.setFeatures=function(A){if(A===void 0&&(A=!0),x.isObject(A))for(var _ in A)this._features[_]=A[_]||!1;else for(var _ in this._features)this._features[_]=A},Object.defineProperty(C.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"window",{get:function(){return this._window===null&&(this._window=g.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"compareCache",{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"rangeList",{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(C,"instance",{get:function(){return C._instance||(C._instance=new C),C._instance},enumerable:!0,configurable:!0}),C}();m.dom=w.instance},function(s,m,f){var x=this&&this.__importStar||function(R){if(R&&R.__esModule)return R;var L={};if(R!=null)for(var z in R)Object.hasOwnProperty.call(R,z)&&(L[z]=R[z]);return L.default=R,L};Object.defineProperty(m,"__esModule",{value:!0});var g=x(f(228));m.base64=g;var w=x(f(146));m.byte=w;var C=x(f(147));m.byteSequence=C;var A=x(f(96));m.codePoint=A;var _=x(f(232));m.json=_;var M=x(f(233));m.list=M;var P=x(f(234));m.map=P;var D=x(f(235));m.namespace=D;var E=x(f(236));m.queue=E;var I=x(f(237));m.set=I;var B=x(f(238));m.stack=B;var F=x(f(239));m.string=F},function(s,m){s.exports=function(f){try{return!!f()}catch{return!0}}},function(s,m,f){var x,g=this&&this.__extends||(x=function(ce,me){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pe,Se){pe.__proto__=Se}||function(pe,Se){for(var Ae in Se)Se.hasOwnProperty(Ae)&&(pe[Ae]=Se[Ae])})(ce,me)},function(ce,me){function pe(){this.constructor=ce}x(ce,me),ce.prototype=me===null?Object.create(me):(pe.prototype=me.prototype,new pe)});Object.defineProperty(m,"__esModule",{value:!0});var w=function(ce){function me(pe,Se){Se===void 0&&(Se="");var Ae=ce.call(this,Se)||this;return Ae.name=pe,Ae}return g(me,ce),me}(Error);m.DOMException=w;var C=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"DOMStringSizeError",pe)||this}return g(me,ce),me}(w);m.DOMStringSizeError=C;var A=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"WrongDocumentError","The object is in the wrong document. "+pe)||this}return g(me,ce),me}(w);m.WrongDocumentError=A;var _=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"NoDataAllowedError",pe)||this}return g(me,ce),me}(w);m.NoDataAllowedError=_;var M=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"NoModificationAllowedError","The object can not be modified. "+pe)||this}return g(me,ce),me}(w);m.NoModificationAllowedError=M;var P=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"NotSupportedError","The operation is not supported. "+pe)||this}return g(me,ce),me}(w);m.NotSupportedError=P;var D=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"InUseAttributeError",pe)||this}return g(me,ce),me}(w);m.InUseAttributeError=D;var E=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"InvalidStateError","The object is in an invalid state. "+pe)||this}return g(me,ce),me}(w);m.InvalidStateError=E;var I=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"InvalidModificationError","The object can not be modified in this way. "+pe)||this}return g(me,ce),me}(w);m.InvalidModificationError=I;var B=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"NamespaceError","The operation is not allowed by Namespaces in XML. [XMLNS] "+pe)||this}return g(me,ce),me}(w);m.NamespaceError=B;var F=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"InvalidAccessError","The object does not support the operation or argument. "+pe)||this}return g(me,ce),me}(w);m.InvalidAccessError=F;var R=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"ValidationError",pe)||this}return g(me,ce),me}(w);m.ValidationError=R;var L=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"TypeMismatchError",pe)||this}return g(me,ce),me}(w);m.TypeMismatchError=L;var z=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"SecurityError","The operation is insecure. "+pe)||this}return g(me,ce),me}(w);m.SecurityError=z;var G=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"NetworkError","A network error occurred. "+pe)||this}return g(me,ce),me}(w);m.NetworkError=G;var W=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"AbortError","The operation was aborted. "+pe)||this}return g(me,ce),me}(w);m.AbortError=W;var K=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"URLMismatchError","The given URL does not match another URL. "+pe)||this}return g(me,ce),me}(w);m.URLMismatchError=K;var q=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"QuotaExceededError","The quota has been exceeded. "+pe)||this}return g(me,ce),me}(w);m.QuotaExceededError=q;var Z=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"TimeoutError","The operation timed out. "+pe)||this}return g(me,ce),me}(w);m.TimeoutError=Z;var J=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"InvalidNodeTypeError","The supplied node is incorrect or has an incorrect ancestor for this operation. "+pe)||this}return g(me,ce),me}(w);m.InvalidNodeTypeError=J;var Q=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"DataCloneError","The object can not be cloned. "+pe)||this}return g(me,ce),me}(w);m.DataCloneError=Q;var ie=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"NotImplementedError","The DOM method is not implemented by this module. "+pe)||this}return g(me,ce),me}(w);m.NotImplementedError=ie;var se=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"HierarchyRequestError","The operation would yield an incorrect node tree. "+pe)||this}return g(me,ce),me}(w);m.HierarchyRequestError=se;var oe=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"NotFoundError","The object can not be found here. "+pe)||this}return g(me,ce),me}(w);m.NotFoundError=oe;var ue=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"IndexSizeError","The index is not in the allowed range. "+pe)||this}return g(me,ce),me}(w);m.IndexSizeError=ue;var fe=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"SyntaxError","The string did not match the expected pattern. "+pe)||this}return g(me,ce),me}(w);m.SyntaxError=fe;var xe=function(ce){function me(pe){return pe===void 0&&(pe=""),ce.call(this,"InvalidCharacterError","The string contains invalid characters. "+pe)||this}return g(me,ce),me}(w);m.InvalidCharacterError=xe},function(s,m,f){var x=f(53),g=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],w=["scalar","sequence","mapping"];s.exports=function(C,A){var _,M;if(A=A||{},Object.keys(A).forEach(function(P){if(g.indexOf(P)===-1)throw new x('Unknown option "'+P+'" is met in definition of "'+C+'" YAML type.')}),this.tag=C,this.kind=A.kind||null,this.resolve=A.resolve||function(){return!0},this.construct=A.construct||function(P){return P},this.instanceOf=A.instanceOf||null,this.predicate=A.predicate||null,this.represent=A.represent||null,this.defaultStyle=A.defaultStyle||null,this.styleAliases=(_=A.styleAliases||null,M={},_!==null&&Object.keys(_).forEach(function(P){_[P].forEach(function(D){M[String(D)]=P})}),M),w.indexOf(this.kind)===-1)throw new x('Unknown kind "'+this.kind+'" is specified for "'+C+'" YAML type.')}},function(s,m,f){(function(x){var g=function(w){return w&&w.Math==Math&&w};s.exports=g(typeof globalThis=="object"&&globalThis)||g(typeof window=="object"&&window)||g(typeof self=="object"&&self)||g(typeof x=="object"&&x)||Function("return this")()}).call(this,f(78))},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0}),m.idl_defineConst=function(x,g,w){Object.defineProperty(x,g,{writable:!1,enumerable:!0,configurable:!1,value:w})}},function(s,m){s.exports=function(f){return typeof f=="object"?f!==null:typeof f=="function"}},function(s,m){var f={}.hasOwnProperty;s.exports=function(x,g){return f.call(x,g)}},function(s,m,f){var x=f(16),g=f(115),w=f(18),C=f(56),A=Object.defineProperty;m.f=x?A:function(_,M,P){if(w(_),M=C(M,!0),w(P),g)try{return A(_,M,P)}catch{}if("get"in P||"set"in P)throw TypeError("Accessors not supported");return"value"in P&&(_[M]=P.value),_}},function(s,m,f){var x=f(8);s.exports=!x(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(s,m,f){var x=this&&this.__values||function(L){var z=typeof Symbol=="function"&&Symbol.iterator,G=z&&L[z],W=0;if(G)return G.call(L);if(L&&typeof L.length=="number")return{next:function(){return L&&W>=L.length&&(L=void 0),{value:L&&L[W++],done:!L}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(3),w=f(1);function C(L,z,G){if(G===void 0&&(G=!1),G&&g.Guard.isElementNode(z)&&g.Guard.isShadowRoot(z.shadowRoot)&&z.shadowRoot._firstChild)return z.shadowRoot._firstChild;if(z._firstChild)return z._firstChild;if(z===L)return null;if(z._nextSibling)return z._nextSibling;for(var W=z._parent;W&&W!==L;){if(W._nextSibling)return W._nextSibling;W=W._parent}return null}function A(){var L;return(L={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},L}function _(L,z,G,W){z===void 0&&(z=!1),G===void 0&&(G=!1);for(var K=z?L:C(L,L,G);K&&W&&!W(K);)K=C(L,K,G);return K}function M(L,z,G,W,K){W===void 0&&(W=!1);for(var q=C(L,z,W);q&&K&&!K(q);)q=C(L,q,W);return q}function P(L,z,G,W){var K;return z===void 0&&(z=!1),G===void 0&&(G=!1),z||L._children.size!==0?((K={})[Symbol.iterator]=function(){var q=z?L:C(L,L,G);return{next:function(){for(;q&&W&&!W(q);)q=C(L,q,G);if(q===null)return{done:!0,value:null};var Z={done:!1,value:q};return q=C(L,q,G),Z}}},K):A()}function D(L,z,G){z===void 0&&(z=!1);for(var W=z?L:L._parent;W&&G&&!G(W);)W=W._parent;return W}function E(L,z,G,W){for(var K=z._parent;K&&W&&!W(K);)K=K._parent;return K}function I(L){return g.Guard.isDocumentTypeNode(L)?0:g.Guard.isCharacterDataNode(L)?L._data.length:L._children.size}function B(L,z){if(z===void 0&&(z=!1),z){var G=B(L,!1);return g.Guard.isShadowRoot(G)?B(G._host,!0):G}return L._parent?B(L._parent):L}function F(L,z,G,W){G===void 0&&(G=!1),W===void 0&&(W=!1);for(var K=G?L:W&&g.Guard.isShadowRoot(L)?L._host:L._parent;K!==null;){if(K===z)return!0;K=W&&g.Guard.isShadowRoot(K)?K._host:K._parent}return!1}function R(L){for(var z=B(L),G=0,W=_(z);W!==null;){if(G++,W===L)return G;W=M(z,W)}return-1}m.tree_getFirstDescendantNode=_,m.tree_getNextDescendantNode=M,m.tree_getDescendantNodes=P,m.tree_getDescendantElements=function(L,z,G,W){var K;return z===void 0&&(z=!1),G===void 0&&(G=!1),z||L._children.size!==0?((K={})[Symbol.iterator]=function(){var q=P(L,z,G,function(J){return g.Guard.isElementNode(J)})[Symbol.iterator](),Z=q.next().value;return{next:function(){for(;Z&&W&&!W(Z);)Z=q.next().value;if(Z===null)return{done:!0,value:null};var J={done:!1,value:Z};return Z=q.next().value,J}}},K):A()},m.tree_getSiblingNodes=function(L,z,G){var W;return z===void 0&&(z=!1),L._parent&&L._parent._children.size!==0?((W={})[Symbol.iterator]=function(){var K=L._parent?L._parent._firstChild:null;return{next:function(){for(;K&&(G&&!G(K)||!z&&K===L);)K=K._nextSibling;if(K===null)return{done:!0,value:null};var q={done:!1,value:K};return K=K._nextSibling,q}}},W):A()},m.tree_getFirstAncestorNode=D,m.tree_getNextAncestorNode=E,m.tree_getAncestorNodes=function(L,z,G){var W;return z===void 0&&(z=!1),z||L._parent?((W={})[Symbol.iterator]=function(){var K=D(L,z,G);return{next:function(){if(K===null)return{done:!0,value:null};var q={done:!1,value:K};return K=E(0,K,z,G),q}}},W):A()},m.tree_getCommonAncestor=function(L,z){if(L===z)return L._parent;for(var G=[],W=[],K=D(L,!0);K!==null;)G.push(K),K=E(0,K);for(var q=D(z,!0);q!==null;)W.push(q),q=E(0,q);for(var Z=G.length,J=W.length,Q=null,ie=Math.min(Z,J);ie>0;ie--){var se=G[--Z];if(se!==W[--J])break;Q=se}return Q},m.tree_getFollowingNode=function(L,z){if(z._firstChild)return z._firstChild;if(z._nextSibling)return z._nextSibling;for(;;){var G=z._parent;if(G===null||G===L)return null;if(G._nextSibling)return G._nextSibling;z=G}},m.tree_getPrecedingNode=function(L,z){return z===L?null:z._previousSibling?(z=z._previousSibling)._lastChild?z._lastChild:z:z._parent},m.tree_isConstrained=function L(z){var G,W,K,q,Z,J;switch(z._nodeType){case w.NodeType.Document:var Q=!1,ie=!1;try{for(var se=x(z._children),oe=se.next();!oe.done;oe=se.next())switch(oe.value._nodeType){case w.NodeType.ProcessingInstruction:case w.NodeType.Comment:break;case w.NodeType.DocumentType:if(Q||ie)return!1;Q=!0;break;case w.NodeType.Element:if(ie)return!1;ie=!0;break;default:return!1}}catch(me){G={error:me}}finally{try{oe&&!oe.done&&(W=se.return)&&W.call(se)}finally{if(G)throw G.error}}break;case w.NodeType.DocumentFragment:case w.NodeType.Element:try{for(var ue=x(z._children),fe=ue.next();!fe.done;fe=ue.next())switch(fe.value._nodeType){case w.NodeType.Element:case w.NodeType.Text:case w.NodeType.ProcessingInstruction:case w.NodeType.CData:case w.NodeType.Comment:break;default:return!1}}catch(me){K={error:me}}finally{try{fe&&!fe.done&&(q=ue.return)&&q.call(ue)}finally{if(K)throw K.error}}break;case w.NodeType.DocumentType:case w.NodeType.Text:case w.NodeType.ProcessingInstruction:case w.NodeType.CData:case w.NodeType.Comment:return!z.hasChildNodes()}try{for(var xe=x(z._children),ce=xe.next();!ce.done;ce=xe.next())if(!L(ce.value))return!1}catch(me){Z={error:me}}finally{try{ce&&!ce.done&&(J=xe.return)&&J.call(xe)}finally{if(Z)throw Z.error}}return!0},m.tree_nodeLength=I,m.tree_isEmpty=function(L){return I(L)===0},m.tree_rootNode=B,m.tree_isDescendantOf=function(L,z,G,W){G===void 0&&(G=!1),W===void 0&&(W=!1);for(var K=_(L,G,W);K!==null;){if(K===z)return!0;K=M(L,K,G,W)}return!1},m.tree_isAncestorOf=F,m.tree_isHostIncludingAncestorOf=function L(z,G,W){if(W===void 0&&(W=!1),F(z,G,W))return!0;var K=B(z);return!(!g.Guard.isDocumentFragmentNode(K)||K._host===null||!L(K._host,G,W))},m.tree_isSiblingOf=function(L,z,G){return G===void 0&&(G=!1),L!==z?L._parent!==null&&L._parent===z._parent:!!G},m.tree_isPreceding=function(L,z){var G=R(L),W=R(z);return G!==-1&&W!==-1&&B(L)===B(z)&&W<G},m.tree_isFollowing=function(L,z){var G=R(L),W=R(z);return G!==-1&&W!==-1&&B(L)===B(z)&&W>G},m.tree_isParentOf=function(L,z){return L._parent===z},m.tree_isChildOf=function(L,z){return z._parent===L},m.tree_previousSibling=function(L){return L._previousSibling},m.tree_nextSibling=function(L){return L._nextSibling},m.tree_firstChild=function(L){return L._firstChild},m.tree_lastChild=function(L){return L._lastChild},m.tree_treePosition=R,m.tree_index=function(L){for(var z=0;L._previousSibling!==null;)z++,L=L._previousSibling;return z},m.tree_retarget=function(L,z){for(;;){if(!L||!g.Guard.isNode(L))return L;var G=B(L);if(!g.Guard.isShadowRoot(G)||z&&g.Guard.isNode(z)&&F(G,z,!0,!0))return L;L=G.host}}},function(s,m,f){var x=f(13);s.exports=function(g){if(!x(g))throw TypeError(String(g)+" is not an object");return g}},function(s,m,f){var x=f(24),g=f(130),w=f(49),C=f(43),A=f(88),_=C.set,M=C.getterFor("Array Iterator");s.exports=A(Array,"Array",function(P,D){_(this,{type:"Array Iterator",target:x(P),index:0,kind:D})},function(){var P=M(this),D=P.target,E=P.kind,I=P.index++;return!D||I>=D.length?(P.target=void 0,{value:void 0,done:!0}):E=="keys"?{value:I,done:!1}:E=="values"?{value:D[I],done:!1}:{value:[I,D[I]],done:!1}},"values"),w.Arguments=w.Array,g("keys"),g("values"),g("entries")},function(s,m,f){var x=f(90),g=f(25),w=f(202);x||g(Object.prototype,"toString",w,{unsafe:!0})},function(s,m,f){var x=f(16),g=f(15),w=f(40);s.exports=x?function(C,A,_){return g.f(C,A,w(1,_))}:function(C,A,_){return C[A]=_,C}},function(s,m,f){var x=f(137).charAt,g=f(43),w=f(88),C=g.set,A=g.getterFor("String Iterator");w(String,"String",function(_){C(this,{type:"String Iterator",string:String(_),index:0})},function(){var _,M=A(this),P=M.string,D=M.index;return D>=P.length?{value:void 0,done:!0}:(_=x(P,D),M.index+=_.length,{value:_,done:!1})})},function(s,m,f){var x=f(11),g=f(203),w=f(19),C=f(21),A=f(5),_=A("iterator"),M=A("toStringTag"),P=w.values;for(var D in g){var E=x[D],I=E&&E.prototype;if(I){if(I[_]!==P)try{C(I,_,P)}catch{I[_]=P}if(I[M]||C(I,M,D),g[D]){for(var B in w)if(I[B]!==w[B])try{C(I,B,w[B])}catch{I[B]=w[B]}}}}},function(s,m,f){var x=f(41),g=f(35);s.exports=function(w){return x(g(w))}},function(s,m,f){var x=f(11),g=f(21),w=f(14),C=f(80),A=f(117),_=f(43),M=_.get,P=_.enforce,D=String(String).split("String");(s.exports=function(E,I,B,F){var R=!!F&&!!F.unsafe,L=!!F&&!!F.enumerable,z=!!F&&!!F.noTargetGet;typeof B=="function"&&(typeof I!="string"||w(B,"name")||g(B,"name",I),P(B).source=D.join(typeof I=="string"?I:"")),E!==x?(R?!z&&E[I]&&(L=!0):delete E[I],L?E[I]=B:g(E,I,B)):L?E[I]=B:C(I,B)})(Function.prototype,"toString",function(){return typeof this=="function"&&M(this).source||A(this)})},function(s,m,f){var x=f(47),g=Math.min;s.exports=function(w){return w>0?g(x(w),9007199254740991):0}},function(s,m,f){var x=f(35);s.exports=function(g){return Object(x(g))}},function(s,m,f){var x=f(16),g=f(8),w=f(14),C=Object.defineProperty,A={},_=function(M){throw M};s.exports=function(M,P){if(w(A,M))return A[M];P||(P={});var D=[][M],E=!!w(P,"ACCESSORS")&&P.ACCESSORS,I=w(P,0)?P[0]:_,B=w(P,1)?P[1]:void 0;return A[M]=!!D&&!g(function(){if(E&&!x)return!0;var F={length:-1};E?C(F,1,{enumerable:!0,get:_}):F[1]=1,D.call(F,I,B)})}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(148),g=f(149),w=f(151),C=f(98),A=f(153),_=f(154),M=f(155),P=f(99),D=f(100),E=f(156),I=f(157),B=f(101),F=f(158),R=f(159),L=f(160),z=f(161),G=f(162),W=f(163),K=f(164),q=f(165),Z=f(166),J=f(167),Q=f(168),ie=f(169),se=f(170);m.create_domImplementation=function(oe){return x.DOMImplementationImpl._create(oe)},m.create_window=function(){return g.WindowImpl._create()},m.create_xmlDocument=function(){return new w.XMLDocumentImpl},m.create_document=function(){return new C.DocumentImpl},m.create_abortController=function(){return new A.AbortControllerImpl},m.create_abortSignal=function(){return _.AbortSignalImpl._create()},m.create_documentType=function(oe,ue,fe,xe){return M.DocumentTypeImpl._create(oe,ue,fe,xe)},m.create_element=function(oe,ue,fe,xe){return P.ElementImpl._create(oe,ue,fe,xe)},m.create_htmlElement=function(oe,ue,fe,xe){return P.ElementImpl._create(oe,ue,fe,xe)},m.create_htmlUnknownElement=function(oe,ue,fe,xe){return P.ElementImpl._create(oe,ue,fe,xe)},m.create_documentFragment=function(oe){return D.DocumentFragmentImpl._create(oe)},m.create_shadowRoot=function(oe,ue){return E.ShadowRootImpl._create(oe,ue)},m.create_attr=function(oe,ue){return I.AttrImpl._create(oe,ue)},m.create_text=function(oe,ue){return B.TextImpl._create(oe,ue)},m.create_cdataSection=function(oe,ue){return F.CDATASectionImpl._create(oe,ue)},m.create_comment=function(oe,ue){return R.CommentImpl._create(oe,ue)},m.create_processingInstruction=function(oe,ue,fe){return L.ProcessingInstructionImpl._create(oe,ue,fe)},m.create_htmlCollection=function(oe,ue){return ue===void 0&&(ue=function(){return!0}),z.HTMLCollectionImpl._create(oe,ue)},m.create_nodeList=function(oe){return G.NodeListImpl._create(oe)},m.create_nodeListStatic=function(oe,ue){return W.NodeListStaticImpl._create(oe,ue)},m.create_namedNodeMap=function(oe){return K.NamedNodeMapImpl._create(oe)},m.create_range=function(oe,ue){return q.RangeImpl._create(oe,ue)},m.create_nodeIterator=function(oe,ue,fe){return Z.NodeIteratorImpl._create(oe,ue,fe)},m.create_treeWalker=function(oe,ue){return J.TreeWalkerImpl._create(oe,ue)},m.create_nodeFilter=function(){return Q.NodeFilterImpl._create()},m.create_mutationRecord=function(oe,ue,fe,xe,ce,me,pe,Se,Ae){return ie.MutationRecordImpl._create(oe,ue,fe,xe,ce,me,pe,Se,Ae)},m.create_domTokenList=function(oe,ue){return se.DOMTokenListImpl._create(oe,ue)}},function(s,m,f){var x=this&&this.__values||function(I){var B=typeof Symbol=="function"&&Symbol.iterator,F=B&&I[B],R=0;if(F)return F.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&R>=I.length&&(I=void 0),{value:I&&I[R++],done:!I}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(6),w=f(17),C=f(3),A=f(72),_=new Map;function M(I,B){if(B!==I._root&&w.tree_isAncestorOf(I._reference,B,!0)){if(I._pointerBeforeReference)for(;;){var F=w.tree_getFollowingNode(I._root,B);if(F!==null&&w.tree_isDescendantOf(I._root,F,!0)&&!w.tree_isDescendantOf(B,F,!0))return void(I._reference=F);if(F===null)return void(I._pointerBeforeReference=!1)}if(B._previousSibling===null)B._parent!==null&&(I._reference=B._parent);else{for(var R=B._previousSibling,L=w.tree_getFirstDescendantNode(B._previousSibling,!0,!1);L!==null;)L!==null&&(R=L),L=w.tree_getNextDescendantNode(B._previousSibling,L,!0,!1);I._reference=R}}}function P(I,B,F,R,L){if(C.Guard.isSlot(I)&&B==="name"&&L===null){if(R===F||R===null&&F===""||R===""&&F===null)return;I._name=R===null||R===""?"":R,A.shadowTree_assignSlotablesForATree(w.tree_rootNode(I))}}function D(I,B,F,R,L){if(C.Guard.isSlotable(I)&&B==="slot"&&L===null){if(R===F||R===null&&F===""||R===""&&F===null)return;I._name=R===null||R===""?"":R,A.shadowTree_isAssigned(I)&&A.shadowTree_assignSlotables(I._assignedSlot),A.shadowTree_assignASlot(I)}}function E(I,B,F,R){B==="id"&&R===null&&(I._uniqueIdentifier=F||void 0)}m.dom_runRemovingSteps=function(I,B){},m.dom_runCloningSteps=function(I,B,F,R){},m.dom_runAdoptingSteps=function(I,B){},m.dom_runAttributeChangeSteps=function(I,B,F,R,L){var z,G;g.dom.features.slots&&(D.call(I,I,B,F,R,L),P.call(I,I,B,F,R,L)),E.call(I,I,B,R,L);try{for(var W=x(I._attributeChangeSteps),K=W.next();!K.done;K=W.next())K.value.call(I,I,B,F,R,L)}catch(q){z={error:q}}finally{try{K&&!K.done&&(G=W.return)&&G.call(W)}finally{if(z)throw z.error}}},m.dom_runInsertionSteps=function(I){},m.dom_runNodeIteratorPreRemovingSteps=function(I,B){M.call(I,I,B)},m.dom_hasSupportedTokens=function(I){return _.has(I)},m.dom_getSupportedTokens=function(I){return _.get(I)||new Set},m.dom_runEventConstructingSteps=function(I){},m.dom_runChildTextContentChangeSteps=function(I){}},function(s,m,f){var x=f(4),g=f(11),w=f(46),C=f(44),A=f(16),_=f(86),M=f(124),P=f(8),D=f(14),E=f(59),I=f(13),B=f(18),F=f(27),R=f(24),L=f(56),z=f(40),G=f(60),W=f(61),K=f(82),q=f(190),Z=f(85),J=f(55),Q=f(15),ie=f(79),se=f(21),oe=f(25),ue=f(81),fe=f(57),xe=f(45),ce=f(58),me=f(5),pe=f(125),Se=f(126),Ae=f(62),_e=f(43),Me=f(36).forEach,ve=fe("hidden"),Ee=me("toPrimitive"),Le=_e.set,Ie=_e.getterFor("Symbol"),Oe=Object.prototype,le=g.Symbol,te=w("JSON","stringify"),re=J.f,ne=Q.f,ae=q.f,he=ie.f,de=ue("symbols"),be=ue("op-symbols"),Ce=ue("string-to-symbol-registry"),we=ue("symbol-to-string-registry"),Pe=ue("wks"),ke=g.QObject,Be=!ke||!ke.prototype||!ke.prototype.findChild,Re=A&&P(function(){return G(ne({},"a",{get:function(){return ne(this,"a",{value:7}).a}})).a!=7})?function(Ne,Ge,Xe){var qe=re(Oe,Ge);qe&&delete Oe[Ge],ne(Ne,Ge,Xe),qe&&Ne!==Oe&&ne(Oe,Ge,qe)}:ne,ze=function(Ne,Ge){var Xe=de[Ne]=G(le.prototype);return Le(Xe,{type:"Symbol",tag:Ne,description:Ge}),A||(Xe.description=Ge),Xe},$e=M?function(Ne){return typeof Ne=="symbol"}:function(Ne){return Object(Ne)instanceof le},je=function(Ne,Ge,Xe){Ne===Oe&&je(be,Ge,Xe),B(Ne);var qe=L(Ge,!0);return B(Xe),D(de,qe)?(Xe.enumerable?(D(Ne,ve)&&Ne[ve][qe]&&(Ne[ve][qe]=!1),Xe=G(Xe,{enumerable:z(0,!1)})):(D(Ne,ve)||ne(Ne,ve,z(1,{})),Ne[ve][qe]=!0),Re(Ne,qe,Xe)):ne(Ne,qe,Xe)},ge=function(Ne,Ge){B(Ne);var Xe=R(Ge),qe=W(Xe).concat(Te(Xe));return Me(qe,function(Je){A&&!He.call(Xe,Je)||je(Ne,Je,Xe[Je])}),Ne},He=function(Ne){var Ge=L(Ne,!0),Xe=he.call(this,Ge);return!(this===Oe&&D(de,Ge)&&!D(be,Ge))&&(!(Xe||!D(this,Ge)||!D(de,Ge)||D(this,ve)&&this[ve][Ge])||Xe)},Ue=function(Ne,Ge){var Xe=R(Ne),qe=L(Ge,!0);if(Xe!==Oe||!D(de,qe)||D(be,qe)){var Je=re(Xe,qe);return!Je||!D(de,qe)||D(Xe,ve)&&Xe[ve][qe]||(Je.enumerable=!0),Je}},Ye=function(Ne){var Ge=ae(R(Ne)),Xe=[];return Me(Ge,function(qe){D(de,qe)||D(xe,qe)||Xe.push(qe)}),Xe},Te=function(Ne){var Ge=Ne===Oe,Xe=ae(Ge?be:R(Ne)),qe=[];return Me(Xe,function(Je){!D(de,Je)||Ge&&!D(Oe,Je)||qe.push(de[Je])}),qe};_||(oe((le=function(){if(this instanceof le)throw TypeError("Symbol is not a constructor");var Ne=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,Ge=ce(Ne),Xe=function(qe){this===Oe&&Xe.call(be,qe),D(this,ve)&&D(this[ve],Ge)&&(this[ve][Ge]=!1),Re(this,Ge,z(1,qe))};return A&&Be&&Re(Oe,Ge,{configurable:!0,set:Xe}),ze(Ge,Ne)}).prototype,"toString",function(){return Ie(this).tag}),oe(le,"withoutSetter",function(Ne){return ze(ce(Ne),Ne)}),ie.f=He,Q.f=je,J.f=Ue,K.f=q.f=Ye,Z.f=Te,pe.f=function(Ne){return ze(me(Ne),Ne)},A&&(ne(le.prototype,"description",{configurable:!0,get:function(){return Ie(this).description}}),C||oe(Oe,"propertyIsEnumerable",He,{unsafe:!0}))),x({global:!0,wrap:!0,forced:!_,sham:!_},{Symbol:le}),Me(W(Pe),function(Ne){Se(Ne)}),x({target:"Symbol",stat:!0,forced:!_},{for:function(Ne){var Ge=String(Ne);if(D(Ce,Ge))return Ce[Ge];var Xe=le(Ge);return Ce[Ge]=Xe,we[Xe]=Ge,Xe},keyFor:function(Ne){if(!$e(Ne))throw TypeError(Ne+" is not a symbol");if(D(we,Ne))return we[Ne]},useSetter:function(){Be=!0},useSimple:function(){Be=!1}}),x({target:"Object",stat:!0,forced:!_,sham:!A},{create:function(Ne,Ge){return Ge===void 0?G(Ne):ge(G(Ne),Ge)},defineProperty:je,defineProperties:ge,getOwnPropertyDescriptor:Ue}),x({target:"Object",stat:!0,forced:!_},{getOwnPropertyNames:Ye,getOwnPropertySymbols:Te}),x({target:"Object",stat:!0,forced:P(function(){Z.f(1)})},{getOwnPropertySymbols:function(Ne){return Z.f(F(Ne))}}),te&&x({target:"JSON",stat:!0,forced:!_||P(function(){var Ne=le();return te([Ne])!="[null]"||te({a:Ne})!="{}"||te(Object(Ne))!="{}"})},{stringify:function(Ne,Ge,Xe){for(var qe,Je=[Ne],Ke=1;arguments.length>Ke;)Je.push(arguments[Ke++]);if(qe=Ge,(I(Ge)||Ne!==void 0)&&!$e(Ne))return E(Ge)||(Ge=function(et,tt){if(typeof qe=="function"&&(tt=qe.call(this,et,tt)),!$e(tt))return tt}),Je[1]=Ge,te.apply(null,Je)}}),le.prototype[Ee]||se(le.prototype,Ee,le.prototype.valueOf),Ae(le,"Symbol"),xe[ve]=!0},function(s,m,f){var x=f(4),g=f(16),w=f(11),C=f(14),A=f(13),_=f(15).f,M=f(119),P=w.Symbol;if(g&&typeof P=="function"&&(!("description"in P.prototype)||P().description!==void 0)){var D={},E=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),z=this instanceof E?new P(L):L===void 0?P():P(L);return L===""&&(D[z]=!0),z};M(E,P);var I=E.prototype=P.prototype;I.constructor=E;var B=I.toString,F=String(P("test"))=="Symbol(test)",R=/^Symbol\((.*)\)[^)]+$/;_(I,"description",{configurable:!0,get:function(){var L=A(this)?this.valueOf():this,z=B.call(L);if(C(D,L))return"";var G=F?z.slice(7,-1):z.replace(R,"$1");return G===""?void 0:G}}),x({global:!0,forced:!0},{Symbol:E})}},function(s,m,f){f(126)("iterator")},function(s,m,f){var x,g=this&&this.__extends||(x=function(F,R){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,z){L.__proto__=z}||function(L,z){for(var G in z)z.hasOwnProperty(G)&&(L[G]=z[G])})(F,R)},function(F,R){function L(){this.constructor=F}x(F,R),F.prototype=R===null?Object.create(R):(L.prototype=R.prototype,new L)}),w=this&&this.__values||function(F){var R=typeof Symbol=="function"&&Symbol.iterator,L=R&&F[R],z=0;if(L)return L.call(F);if(F&&typeof F.length=="number")return{next:function(){return F&&z>=F.length&&(F=void 0),{value:F&&F[z++],done:!F}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var C=f(6),A=f(1),_=f(70),M=f(3),P=f(9),D=f(0),E=f(152),I=f(12),B=function(F){function R(){var L=F.call(this)||this;return L._parent=null,L._firstChild=null,L._lastChild=null,L._previousSibling=null,L._nextSibling=null,L}return g(R,F),Object.defineProperty(R.prototype,"_childNodes",{get:function(){return this.__childNodes||(this.__childNodes=D.create_nodeList(this))},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverride||C.dom.window._associatedDocument},set:function(L){this._nodeDocumentOverride=L},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"_registeredObserverList",{get:function(){return this.__registeredObserverList||(this.__registeredObserverList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"nodeType",{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"nodeName",{get:function(){return M.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:M.Guard.isAttrNode(this)?this._qualifiedName:M.Guard.isExclusiveTextNode(this)?"#text":M.Guard.isCDATASectionNode(this)?"#cdata-section":M.Guard.isProcessingInstructionNode(this)?this._target:M.Guard.isCommentNode(this)?"#comment":M.Guard.isDocumentNode(this)?"#document":M.Guard.isDocumentTypeNode(this)?this._name:M.Guard.isDocumentFragmentNode(this)?"#document-fragment":""},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"baseURI",{get:function(){return E.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"isConnected",{get:function(){return M.Guard.isElementNode(this)&&D.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"ownerDocument",{get:function(){return this._nodeType===A.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),R.prototype.getRootNode=function(L){return D.tree_rootNode(this,!!L&&L.composed)},Object.defineProperty(R.prototype,"parentNode",{get:function(){return this._nodeType===A.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"parentElement",{get:function(){return this._parent&&M.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),R.prototype.hasChildNodes=function(){return this._firstChild!==null},Object.defineProperty(R.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"nodeValue",{get:function(){return M.Guard.isAttrNode(this)?this._value:M.Guard.isCharacterDataNode(this)?this._data:null},set:function(L){L===null&&(L=""),M.Guard.isAttrNode(this)?D.attr_setAnExistingAttributeValue(this,L):M.Guard.isCharacterDataNode(this)&&D.characterData_replaceData(this,0,this._data.length,L)},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"textContent",{get:function(){return M.Guard.isDocumentFragmentNode(this)||M.Guard.isElementNode(this)?D.text_descendantTextContent(this):M.Guard.isAttrNode(this)?this._value:M.Guard.isCharacterDataNode(this)?this._data:null},set:function(L){L===null&&(L=""),M.Guard.isDocumentFragmentNode(this)||M.Guard.isElementNode(this)?D.node_stringReplaceAll(L,this):M.Guard.isAttrNode(this)?D.attr_setAnExistingAttributeValue(this,L):M.Guard.isCharacterDataNode(this)&&D.characterData_replaceData(this,0,D.tree_nodeLength(this),L)},enumerable:!0,configurable:!0}),R.prototype.normalize=function(){for(var L,z,G,W,K=[],q=D.tree_getFirstDescendantNode(this,!1,!1,function(Me){return M.Guard.isExclusiveTextNode(Me)});q!==null;)K.push(q),q=D.tree_getNextDescendantNode(this,q,!1,!1,function(Me){return M.Guard.isExclusiveTextNode(Me)});for(var Z=0;Z<K.length;Z++){var J=K[Z];if(J._parent!==null){var Q=D.tree_nodeLength(J);if(Q!==0){var ie=[],se="";try{for(var oe=(L=void 0,w(D.text_contiguousExclusiveTextNodes(J))),ue=oe.next();!ue.done;ue=oe.next()){var fe=ue.value;ie.push(fe),se+=fe._data}}catch(Me){L={error:Me}}finally{try{ue&&!ue.done&&(z=oe.return)&&z.call(oe)}finally{if(L)throw L.error}}if(D.characterData_replaceData(J,Q,0,se),C.dom.rangeList.size!==0)for(var xe=J._nextSibling;xe!==null&&M.Guard.isExclusiveTextNode(xe);){var ce=xe,me=D.tree_index(ce);try{for(var pe=(G=void 0,w(C.dom.rangeList)),Se=pe.next();!Se.done;Se=pe.next()){var Ae=Se.value;Ae._start[0]===ce&&(Ae._start[0]=J,Ae._start[1]+=Q),Ae._end[0]===ce&&(Ae._end[0]=J,Ae._end[1]+=Q),Ae._start[0]===ce._parent&&Ae._start[1]===me&&(Ae._start[0]=J,Ae._start[1]=Q),Ae._end[0]===ce._parent&&Ae._end[1]===me&&(Ae._end[0]=J,Ae._end[1]=Q)}}catch(Me){G={error:Me}}finally{try{Se&&!Se.done&&(W=pe.return)&&W.call(pe)}finally{if(G)throw G.error}}Q+=D.tree_nodeLength(xe),xe=xe._nextSibling}for(var _e=0;_e<ie.length;_e++)(fe=ie[_e])._parent!==null&&D.mutation_remove(fe,fe._parent)}else D.mutation_remove(J,J._parent)}}},R.prototype.cloneNode=function(L){if(L===void 0&&(L=!1),M.Guard.isShadowRoot(this))throw new P.NotSupportedError;return D.node_clone(this,null,L)},R.prototype.isEqualNode=function(L){return L===void 0&&(L=null),L!==null&&D.node_equals(this,L)},R.prototype.isSameNode=function(L){return L===void 0&&(L=null),this===L},R.prototype.compareDocumentPosition=function(L){if(L===this)return 0;var z=L,G=this,W=null,K=null;if(M.Guard.isAttrNode(z)&&(z=(W=z)._element),M.Guard.isAttrNode(G)&&(G=(K=G)._element,W&&z&&z===G))for(var q=0;q<G._attributeList.length;q++){var Z=G._attributeList[q];if(D.node_equals(Z,W))return A.Position.ImplementationSpecific|A.Position.Preceding;if(D.node_equals(Z,K))return A.Position.ImplementationSpecific|A.Position.Following}return z===null||G===null||D.tree_rootNode(z)!==D.tree_rootNode(G)?A.Position.Disconnected|A.Position.ImplementationSpecific|(C.dom.compareCache.check(this,L)?A.Position.Preceding:A.Position.Following):!W&&D.tree_isAncestorOf(G,z)||K&&z===G?A.Position.Contains|A.Position.Preceding:!K&&D.tree_isDescendantOf(G,z)||W&&z===G?A.Position.ContainedBy|A.Position.Following:D.tree_isPreceding(G,z)?A.Position.Preceding:A.Position.Following},R.prototype.contains=function(L){return L!==null&&D.tree_isDescendantOf(this,L,!0)},R.prototype.lookupPrefix=function(L){return L?M.Guard.isElementNode(this)?D.node_locateANamespacePrefix(this,L):M.Guard.isDocumentNode(this)?this.documentElement===null?null:D.node_locateANamespacePrefix(this.documentElement,L):M.Guard.isDocumentTypeNode(this)||M.Guard.isDocumentFragmentNode(this)?null:M.Guard.isAttrNode(this)?this._element===null?null:D.node_locateANamespacePrefix(this._element,L):this._parent!==null&&M.Guard.isElementNode(this._parent)?D.node_locateANamespacePrefix(this._parent,L):null:null},R.prototype.lookupNamespaceURI=function(L){return D.node_locateANamespace(this,L||null)},R.prototype.isDefaultNamespace=function(L){return L||(L=null),D.node_locateANamespace(this,null)===L},R.prototype.insertBefore=function(L,z){return D.mutation_preInsert(L,this,z)},R.prototype.appendChild=function(L){return D.mutation_append(L,this)},R.prototype.replaceChild=function(L,z){return D.mutation_replace(z,L,this)},R.prototype.removeChild=function(L){return D.mutation_preRemove(L,this)},R.prototype._getTheParent=function(L){return M.Guard.isSlotable(this)&&D.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},R.ELEMENT_NODE=1,R.ATTRIBUTE_NODE=2,R.TEXT_NODE=3,R.CDATA_SECTION_NODE=4,R.ENTITY_REFERENCE_NODE=5,R.ENTITY_NODE=6,R.PROCESSING_INSTRUCTION_NODE=7,R.COMMENT_NODE=8,R.DOCUMENT_NODE=9,R.DOCUMENT_TYPE_NODE=10,R.DOCUMENT_FRAGMENT_NODE=11,R.NOTATION_NODE=12,R.DOCUMENT_POSITION_DISCONNECTED=1,R.DOCUMENT_POSITION_PRECEDING=2,R.DOCUMENT_POSITION_FOLLOWING=4,R.DOCUMENT_POSITION_CONTAINS=8,R.DOCUMENT_POSITION_CONTAINED_BY=16,R.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,R}(_.EventTargetImpl);m.NodeImpl=B,B.prototype._children=new M.EmptySet,I.idl_defineConst(B.prototype,"ELEMENT_NODE",1),I.idl_defineConst(B.prototype,"ATTRIBUTE_NODE",2),I.idl_defineConst(B.prototype,"TEXT_NODE",3),I.idl_defineConst(B.prototype,"CDATA_SECTION_NODE",4),I.idl_defineConst(B.prototype,"ENTITY_REFERENCE_NODE",5),I.idl_defineConst(B.prototype,"ENTITY_NODE",6),I.idl_defineConst(B.prototype,"PROCESSING_INSTRUCTION_NODE",7),I.idl_defineConst(B.prototype,"COMMENT_NODE",8),I.idl_defineConst(B.prototype,"DOCUMENT_NODE",9),I.idl_defineConst(B.prototype,"DOCUMENT_TYPE_NODE",10),I.idl_defineConst(B.prototype,"DOCUMENT_FRAGMENT_NODE",11),I.idl_defineConst(B.prototype,"NOTATION_NODE",12),I.idl_defineConst(B.prototype,"DOCUMENT_POSITION_DISCONNECTED",1),I.idl_defineConst(B.prototype,"DOCUMENT_POSITION_PRECEDING",2),I.idl_defineConst(B.prototype,"DOCUMENT_POSITION_FOLLOWING",4),I.idl_defineConst(B.prototype,"DOCUMENT_POSITION_CONTAINS",8),I.idl_defineConst(B.prototype,"DOCUMENT_POSITION_CONTAINED_BY",16),I.idl_defineConst(B.prototype,"DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC",32)},function(s,m){s.exports=function(f){if(f==null)throw TypeError("Can't call method on "+f);return f}},function(s,m,f){var x=f(87),g=f(41),w=f(27),C=f(26),A=f(128),_=[].push,M=function(P){var D=P==1,E=P==2,I=P==3,B=P==4,F=P==6,R=P==5||F;return function(L,z,G,W){for(var K,q,Z=w(L),J=g(Z),Q=x(z,G,3),ie=C(J.length),se=0,oe=W||A,ue=D?oe(L,ie):E?oe(L,0):void 0;ie>se;se++)if((R||se in J)&&(q=Q(K=J[se],se,Z),P)){if(D)ue[se]=q;else if(q)switch(P){case 3:return!0;case 5:return K;case 6:return se;case 2:_.call(ue,K)}else if(B)return!1}return F?-1:I||B?B:ue}};s.exports={forEach:M(0),map:M(1),filter:M(2),some:M(3),every:M(4),find:M(5),findIndex:M(6)}},function(s,m,f){var x=this&&this.__values||function(Z){var J=typeof Symbol=="function"&&Symbol.iterator,Q=J&&Z[J],ie=0;if(Q)return Q.call(Z);if(Z&&typeof Z.length=="number")return{next:function(){return Z&&ie>=Z.length&&(Z=void 0),{value:Z&&Z[ie++],done:!Z}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")},g=this&&this.__read||function(Z,J){var Q=typeof Symbol=="function"&&Z[Symbol.iterator];if(!Q)return Z;var ie,se,oe=Q.call(Z),ue=[];try{for(;(J===void 0||J-- >0)&&!(ie=oe.next()).done;)ue.push(ie.value)}catch(fe){se={error:fe}}finally{try{ie&&!ie.done&&(Q=oe.return)&&Q.call(oe)}finally{if(se)throw se.error}}return ue},w=this&&this.__spread||function(){for(var Z=[],J=0;J<arguments.length;J++)Z=Z.concat(g(arguments[J]));return Z};Object.defineProperty(m,"__esModule",{value:!0});var C=f(6),A=f(9),_=f(1),M=f(3),P=f(2),D=f(7),E=f(73),I=f(17),B=f(172),F=f(72),R=f(51),L=f(30),z=f(106);function G(Z,J,Q){var ie,se,oe,ue,fe,xe,ce,me,pe=J._nodeType,Se=Z._nodeType,Ae=Q?Q._nodeType:null;if(pe!==_.NodeType.Document&&pe!==_.NodeType.DocumentFragment&&pe!==_.NodeType.Element)throw new A.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+J.nodeName+".");if(I.tree_isHostIncludingAncestorOf(J,Z,!0))throw new A.HierarchyRequestError("The node to be inserted cannot be an inclusive ancestor of parent node. Node is "+Z.nodeName+", parent node is "+J.nodeName+".");if(Q!==null&&Q._parent!==J)throw new A.NotFoundError("The reference child node cannot be found under parent node. Child node is "+Q.nodeName+", parent node is "+J.nodeName+".");if(Se!==_.NodeType.DocumentFragment&&Se!==_.NodeType.DocumentType&&Se!==_.NodeType.Element&&Se!==_.NodeType.Text&&Se!==_.NodeType.ProcessingInstruction&&Se!==_.NodeType.CData&&Se!==_.NodeType.Comment)throw new A.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+Z.nodeName+".");if(Se===_.NodeType.Text&&pe===_.NodeType.Document)throw new A.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+Z.nodeName+".");if(Se===_.NodeType.DocumentType&&pe!==_.NodeType.Document)throw new A.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+J.nodeName+".");if(pe===_.NodeType.Document){if(Se===_.NodeType.DocumentFragment){var _e=0;try{for(var Me=x(Z._children),ve=Me.next();!ve.done;ve=Me.next()){var Ee=ve.value;if(Ee._nodeType===_.NodeType.Element)_e++;else if(Ee._nodeType===_.NodeType.Text)throw new A.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+Ee.nodeName+".")}}catch(he){ie={error:he}}finally{try{ve&&!ve.done&&(se=Me.return)&&se.call(Me)}finally{if(ie)throw ie.error}}if(_e>1)throw new A.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+_e+" element nodes.");if(_e===1){try{for(var Le=x(J._children),Ie=Le.next();!Ie.done;Ie=Le.next())if(Ie.value._nodeType===_.NodeType.Element)throw new A.HierarchyRequestError("The document node already has a document element node.")}catch(he){oe={error:he}}finally{try{Ie&&!Ie.done&&(ue=Le.return)&&ue.call(Le)}finally{if(oe)throw oe.error}}if(Q){if(Ae===_.NodeType.DocumentType)throw new A.HierarchyRequestError("Cannot insert an element node before a document type node.");for(var Oe=Q._nextSibling;Oe;){if(Oe._nodeType===_.NodeType.DocumentType)throw new A.HierarchyRequestError("Cannot insert an element node before a document type node.");Oe=Oe._nextSibling}}}}else if(Se===_.NodeType.Element){try{for(var le=x(J._children),te=le.next();!te.done;te=le.next())if(te.value._nodeType===_.NodeType.Element)throw new A.HierarchyRequestError("Document already has a document element node. Node is "+Z.nodeName+".")}catch(he){fe={error:he}}finally{try{te&&!te.done&&(xe=le.return)&&xe.call(le)}finally{if(fe)throw fe.error}}if(Q){if(Ae===_.NodeType.DocumentType)throw new A.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+Z.nodeName+".");for(Oe=Q._nextSibling;Oe;){if(Oe._nodeType===_.NodeType.DocumentType)throw new A.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+Z.nodeName+".");Oe=Oe._nextSibling}}}else if(Se===_.NodeType.DocumentType){try{for(var re=x(J._children),ne=re.next();!ne.done;ne=re.next())if(ne.value._nodeType===_.NodeType.DocumentType)throw new A.HierarchyRequestError("Document already has a document type node. Node is "+Z.nodeName+".")}catch(he){ce={error:he}}finally{try{ne&&!ne.done&&(me=re.return)&&me.call(re)}finally{if(ce)throw ce.error}}if(Q)for(var ae=Q._previousSibling;ae;){if(ae._nodeType===_.NodeType.Element)throw new A.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+Z.nodeName+".");ae=ae._previousSibling}else for(ae=J._firstChild;ae;){if(ae._nodeType===_.NodeType.Element)throw new A.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+Z.nodeName+".");ae=ae._nextSibling}}}}function W(Z,J,Q){G(Z,J,Q);var ie=Q;return ie===Z&&(ie=Z._nextSibling),z.document_adopt(Z,J._nodeDocument),K(Z,J,ie),Z}function K(Z,J,Q,ie){var se,oe;if(Q!==null||Z._nodeType===_.NodeType.DocumentFragment){var ue=Z._nodeType===_.NodeType.DocumentFragment?Z._children.size:1;if(Q!==null&&C.dom.rangeList.size!==0){var fe=I.tree_index(Q);try{for(var xe=x(C.dom.rangeList),ce=xe.next();!ce.done;ce=xe.next()){var me=ce.value;me._start[0]===J&&me._start[1]>fe&&(me._start[1]+=ue),me._end[0]===J&&me._end[1]>fe&&(me._end[1]+=ue)}}catch(Ie){se={error:Ie}}finally{try{ce&&!ce.done&&(oe=xe.return)&&oe.call(xe)}finally{if(se)throw se.error}}}var pe=Z._nodeType===_.NodeType.DocumentFragment?new(Array.bind.apply(Array,w([void 0],Z._children))):[Z];if(Z._nodeType===_.NodeType.DocumentFragment)for(;Z._firstChild;)q(Z._firstChild,Z,!0);C.dom.features.mutationObservers&&Z._nodeType===_.NodeType.DocumentFragment&&R.observer_queueTreeMutationRecord(Z,[],pe,null,null);for(var Se=Q?Q._previousSibling:J._lastChild,Ae=Q===null?-1:I.tree_index(Q),_e=0;_e<pe.length;_e++){var Me=pe[_e];if(M.Guard.isElementNode(Me)&&(M.Guard.isDocumentNode(J)&&(J._documentElement=Me),Me._nodeDocument._hasNamespaces||Me._namespace===null&&Me._namespacePrefix===null||(Me._nodeDocument._hasNamespaces=!0)),Me._parent=J,Q===null?D.set.append(J._children,Me):(D.set.insert(J._children,Me,Ae),Ae++),J._firstChild===null)Me._previousSibling=null,Me._nextSibling=null,J._firstChild=Me,J._lastChild=Me;else{var ve=Q?Q._previousSibling:J._lastChild,Ee=Q||null;Me._previousSibling=ve,Me._nextSibling=Ee,ve&&(ve._nextSibling=Me),Ee&&(Ee._previousSibling=Me),ve||(J._firstChild=Me),Ee||(J._lastChild=Me)}C.dom.features.slots&&J._shadowRoot!==null&&M.Guard.isSlotable(Me)&&F.shadowTree_assignASlot(Me),C.dom.features.steps&&M.Guard.isTextNode(Me)&&L.dom_runChildTextContentChangeSteps(J),C.dom.features.slots&&M.Guard.isShadowRoot(I.tree_rootNode(J))&&M.Guard.isSlot(J)&&P.isEmpty(J._assignedNodes)&&F.shadowTree_signalASlotChange(J),C.dom.features.slots&&F.shadowTree_assignSlotablesForATree(I.tree_rootNode(Me));for(var Le=I.tree_getFirstDescendantNode(Me,!0,!0);Le!==null;)C.dom.features.steps&&L.dom_runInsertionSteps(Le),C.dom.features.customElements&&M.Guard.isElementNode(Le)&&F.shadowTree_isConnected(Le)&&(M.Guard.isCustomElementNode(Le)?E.customElement_enqueueACustomElementCallbackReaction(Le,"connectedCallback",[]):E.customElement_tryToUpgrade(Le)),Le=I.tree_getNextDescendantNode(Me,Le,!0,!0)}C.dom.features.mutationObservers&&(ie||R.observer_queueTreeMutationRecord(J,pe,[],Se,Q))}else(function(Ie,Oe,le){var te=Oe._lastChild;if(M.Guard.isElementNode(Ie)&&(M.Guard.isDocumentNode(Oe)&&(Oe._documentElement=Ie),Ie._nodeDocument._hasNamespaces||Ie._namespace===null&&Ie._namespacePrefix===null||(Ie._nodeDocument._hasNamespaces=!0)),Ie._parent=Oe,Oe._children.add(Ie),Oe._firstChild===null)Ie._previousSibling=null,Ie._nextSibling=null,Oe._firstChild=Ie,Oe._lastChild=Ie;else{var re=Oe._lastChild;Ie._previousSibling=re,Ie._nextSibling=null,re&&(re._nextSibling=Ie),re||(Oe._firstChild=Ie),Oe._lastChild=Ie}C.dom.features.slots&&Oe._shadowRoot!==null&&M.Guard.isSlotable(Ie)&&F.shadowTree_assignASlot(Ie),C.dom.features.steps&&M.Guard.isTextNode(Ie)&&L.dom_runChildTextContentChangeSteps(Oe),C.dom.features.slots&&M.Guard.isShadowRoot(I.tree_rootNode(Oe))&&M.Guard.isSlot(Oe)&&P.isEmpty(Oe._assignedNodes)&&F.shadowTree_signalASlotChange(Oe),C.dom.features.slots&&F.shadowTree_assignSlotablesForATree(I.tree_rootNode(Ie)),C.dom.features.steps&&L.dom_runInsertionSteps(Ie),C.dom.features.customElements&&M.Guard.isElementNode(Ie)&&F.shadowTree_isConnected(Ie)&&(M.Guard.isCustomElementNode(Ie)?E.customElement_enqueueACustomElementCallbackReaction(Ie,"connectedCallback",[]):E.customElement_tryToUpgrade(Ie)),C.dom.features.mutationObservers&&(le||R.observer_queueTreeMutationRecord(Oe,[Ie],[],te,null))})(Z,J,ie)}function q(Z,J,Q){var ie,se,oe,ue,fe,xe,ce,me;if(C.dom.rangeList.size!==0){var pe=I.tree_index(Z);try{for(var Se=x(C.dom.rangeList),Ae=Se.next();!Ae.done;Ae=Se.next()){var _e=Ae.value;I.tree_isDescendantOf(Z,_e._start[0],!0)&&(_e._start=[J,pe]),I.tree_isDescendantOf(Z,_e._end[0],!0)&&(_e._end=[J,pe]),_e._start[0]===J&&_e._start[1]>pe&&_e._start[1]--,_e._end[0]===J&&_e._end[1]>pe&&_e._end[1]--}}catch(Ce){ie={error:Ce}}finally{try{Ae&&!Ae.done&&(se=Se.return)&&se.call(Se)}finally{if(ie)throw ie.error}}try{for(var Me=x(C.dom.rangeList),ve=Me.next();!ve.done;ve=Me.next())(_e=ve.value)._start[0]===J&&_e._start[1]>pe&&(_e._start[1]-=1),_e._end[0]===J&&_e._end[1]>pe&&(_e._end[1]-=1)}catch(Ce){oe={error:Ce}}finally{try{ve&&!ve.done&&(ue=Me.return)&&ue.call(Me)}finally{if(oe)throw oe.error}}}if(C.dom.features.steps)try{for(var Ee=x(B.nodeIterator_iteratorList()),Le=Ee.next();!Le.done;Le=Ee.next()){var Ie=Le.value;Ie._root._nodeDocument===Z._nodeDocument&&L.dom_runNodeIteratorPreRemovingSteps(Ie,Z)}}catch(Ce){fe={error:Ce}}finally{try{Le&&!Le.done&&(xe=Ee.return)&&xe.call(Ee)}finally{if(fe)throw fe.error}}var Oe=Z._previousSibling,le=Z._nextSibling;M.Guard.isDocumentNode(J)&&M.Guard.isElementNode(Z)&&(J._documentElement=null),Z._parent=null,J._children.delete(Z);var te=Z._previousSibling,re=Z._nextSibling;Z._previousSibling=null,Z._nextSibling=null,te&&(te._nextSibling=re),re&&(re._previousSibling=te),te||(J._firstChild=re),re||(J._lastChild=te),C.dom.features.slots&&M.Guard.isSlotable(Z)&&Z._assignedSlot!==null&&F.shadowTree_isAssigned(Z)&&F.shadowTree_assignSlotables(Z._assignedSlot),C.dom.features.slots&&M.Guard.isShadowRoot(I.tree_rootNode(J))&&M.Guard.isSlot(J)&&P.isEmpty(J._assignedNodes)&&F.shadowTree_signalASlotChange(J),C.dom.features.slots&&I.tree_getFirstDescendantNode(Z,!0,!1,function(Ce){return M.Guard.isSlot(Ce)})!==null&&(F.shadowTree_assignSlotablesForATree(I.tree_rootNode(J)),F.shadowTree_assignSlotablesForATree(Z)),C.dom.features.steps&&L.dom_runRemovingSteps(Z,J),C.dom.features.customElements&&M.Guard.isCustomElementNode(Z)&&E.customElement_enqueueACustomElementCallbackReaction(Z,"disconnectedCallback",[]);for(var ne=I.tree_getFirstDescendantNode(Z,!1,!0);ne!==null;)C.dom.features.steps&&L.dom_runRemovingSteps(ne,Z),C.dom.features.customElements&&M.Guard.isCustomElementNode(ne)&&E.customElement_enqueueACustomElementCallbackReaction(ne,"disconnectedCallback",[]),ne=I.tree_getNextDescendantNode(Z,ne,!1,!0);if(C.dom.features.mutationObservers)for(var ae=I.tree_getFirstAncestorNode(J,!0);ae!==null;){try{for(var he=(ce=void 0,x(ae._registeredObserverList)),de=he.next();!de.done;de=he.next()){var be=de.value;be.options.subtree&&Z._registeredObserverList.push({observer:be.observer,options:be.options,source:be})}}catch(Ce){ce={error:Ce}}finally{try{de&&!de.done&&(me=he.return)&&me.call(he)}finally{if(ce)throw ce.error}}ae=I.tree_getNextAncestorNode(J,ae,!0)}C.dom.features.mutationObservers&&(Q||R.observer_queueTreeMutationRecord(J,[],[Z],Oe,le)),C.dom.features.steps&&M.Guard.isTextNode(Z)&&L.dom_runChildTextContentChangeSteps(J)}m.mutation_ensurePreInsertionValidity=G,m.mutation_preInsert=W,m.mutation_insert=K,m.mutation_append=function(Z,J){return W(Z,J,null)},m.mutation_replace=function(Z,J,Q){var ie,se,oe,ue,fe,xe,ce,me;if(Q._nodeType!==_.NodeType.Document&&Q._nodeType!==_.NodeType.DocumentFragment&&Q._nodeType!==_.NodeType.Element)throw new A.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+Q.nodeName+".");if(I.tree_isHostIncludingAncestorOf(Q,J,!0))throw new A.HierarchyRequestError("The node to be inserted cannot be an ancestor of parent node. Node is "+J.nodeName+", parent node is "+Q.nodeName+".");if(Z._parent!==Q)throw new A.NotFoundError("The reference child node cannot be found under parent node. Child node is "+Z.nodeName+", parent node is "+Q.nodeName+".");if(J._nodeType!==_.NodeType.DocumentFragment&&J._nodeType!==_.NodeType.DocumentType&&J._nodeType!==_.NodeType.Element&&J._nodeType!==_.NodeType.Text&&J._nodeType!==_.NodeType.ProcessingInstruction&&J._nodeType!==_.NodeType.CData&&J._nodeType!==_.NodeType.Comment)throw new A.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+J.nodeName+".");if(J._nodeType===_.NodeType.Text&&Q._nodeType===_.NodeType.Document)throw new A.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+J.nodeName+".");if(J._nodeType===_.NodeType.DocumentType&&Q._nodeType!==_.NodeType.Document)throw new A.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+Q.nodeName+".");if(Q._nodeType===_.NodeType.Document){if(J._nodeType===_.NodeType.DocumentFragment){var pe=0;try{for(var Se=x(J._children),Ae=Se.next();!Ae.done;Ae=Se.next()){var _e=Ae.value;if(_e._nodeType===_.NodeType.Element)pe++;else if(_e._nodeType===_.NodeType.Text)throw new A.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+_e.nodeName+".")}}catch(be){ie={error:be}}finally{try{Ae&&!Ae.done&&(se=Se.return)&&se.call(Se)}finally{if(ie)throw ie.error}}if(pe>1)throw new A.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+pe+" element nodes.");if(pe===1){try{for(var Me=x(Q._children),ve=Me.next();!ve.done;ve=Me.next())if((te=ve.value)._nodeType===_.NodeType.Element&&te!==Z)throw new A.HierarchyRequestError("The document node already has a document element node.")}catch(be){oe={error:be}}finally{try{ve&&!ve.done&&(ue=Me.return)&&ue.call(Me)}finally{if(oe)throw oe.error}}for(var Ee=Z._nextSibling;Ee;){if(Ee._nodeType===_.NodeType.DocumentType)throw new A.HierarchyRequestError("Cannot insert an element node before a document type node.");Ee=Ee._nextSibling}}}else if(J._nodeType===_.NodeType.Element){try{for(var Le=x(Q._children),Ie=Le.next();!Ie.done;Ie=Le.next())if((te=Ie.value)._nodeType===_.NodeType.Element&&te!==Z)throw new A.HierarchyRequestError("Document already has a document element node. Node is "+J.nodeName+".")}catch(be){fe={error:be}}finally{try{Ie&&!Ie.done&&(xe=Le.return)&&xe.call(Le)}finally{if(fe)throw fe.error}}for(Ee=Z._nextSibling;Ee;){if(Ee._nodeType===_.NodeType.DocumentType)throw new A.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+J.nodeName+".");Ee=Ee._nextSibling}}else if(J._nodeType===_.NodeType.DocumentType){try{for(var Oe=x(Q._children),le=Oe.next();!le.done;le=Oe.next()){var te;if((te=le.value)._nodeType===_.NodeType.DocumentType&&te!==Z)throw new A.HierarchyRequestError("Document already has a document type node. Node is "+J.nodeName+".")}}catch(be){ce={error:be}}finally{try{le&&!le.done&&(me=Oe.return)&&me.call(Oe)}finally{if(ce)throw ce.error}}for(var re=Z._previousSibling;re;){if(re._nodeType===_.NodeType.Element)throw new A.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+J.nodeName+".");re=re._previousSibling}}}var ne=Z._nextSibling;ne===J&&(ne=J._nextSibling);var ae=Z._previousSibling;z.document_adopt(J,Q._nodeDocument);var he=[];Z._parent!==null&&(he.push(Z),q(Z,Z._parent,!0));var de=[];return J._nodeType===_.NodeType.DocumentFragment?de=Array.from(J._children):de.push(J),K(J,Q,ne,!0),C.dom.features.mutationObservers&&R.observer_queueTreeMutationRecord(Q,de,he,ae,ne),Z},m.mutation_replaceAll=function(Z,J){var Q,ie;Z!==null&&z.document_adopt(Z,J._nodeDocument);var se=Array.from(J._children),oe=[];Z&&Z._nodeType===_.NodeType.DocumentFragment?oe=Array.from(Z._children):Z!==null&&oe.push(Z);try{for(var ue=x(se),fe=ue.next();!fe.done;fe=ue.next())q(fe.value,J,!0)}catch(xe){Q={error:xe}}finally{try{fe&&!fe.done&&(ie=ue.return)&&ie.call(ue)}finally{if(Q)throw Q.error}}Z!==null&&K(Z,J,null,!0),C.dom.features.mutationObservers&&R.observer_queueTreeMutationRecord(J,oe,se,null,null)},m.mutation_preRemove=function(Z,J){if(Z._parent!==J)throw new A.NotFoundError("The child node cannot be found under parent node. Child node is "+Z.nodeName+", parent node is "+J.nodeName+".");return q(Z,J),Z},m.mutation_remove=q},function(s,m,f){function x(g){return g==null}s.exports.isNothing=x,s.exports.isObject=function(g){return typeof g=="object"&&g!==null},s.exports.toArray=function(g){return Array.isArray(g)?g:x(g)?[]:[g]},s.exports.repeat=function(g,w){var C,A="";for(C=0;C<w;C+=1)A+=g;return A},s.exports.isNegativeZero=function(g){return g===0&&Number.NEGATIVE_INFINITY===1/g},s.exports.extend=function(g,w){var C,A,_,M;if(w)for(C=0,A=(M=Object.keys(w)).length;C<A;C+=1)g[_=M[C]]=w[_];return g}},function(s,m,f){var x=f(38),g=f(53),w=f(10);function C(_,M,P){var D=[];return _.include.forEach(function(E){P=C(E,M,P)}),_[M].forEach(function(E){P.forEach(function(I,B){I.tag===E.tag&&I.kind===E.kind&&D.push(B)}),P.push(E)}),P.filter(function(E,I){return D.indexOf(I)===-1})}function A(_){this.include=_.include||[],this.implicit=_.implicit||[],this.explicit=_.explicit||[],this.implicit.forEach(function(M){if(M.loadKind&&M.loadKind!=="scalar")throw new g("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=C(this,"implicit",[]),this.compiledExplicit=C(this,"explicit",[]),this.compiledTypeMap=function(){var M,P,D={scalar:{},sequence:{},mapping:{},fallback:{}};function E(I){D[I.kind][I.tag]=D.fallback[I.tag]=I}for(M=0,P=arguments.length;M<P;M+=1)arguments[M].forEach(E);return D}(this.compiledImplicit,this.compiledExplicit)}A.DEFAULT=null,A.create=function(){var _,M;switch(arguments.length){case 1:_=A.DEFAULT,M=arguments[0];break;case 2:_=arguments[0],M=arguments[1];break;default:throw new g("Wrong number of arguments for Schema.create function")}if(_=x.toArray(_),M=x.toArray(M),!_.every(function(P){return P instanceof A}))throw new g("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!M.every(function(P){return P instanceof w}))throw new g("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new A({include:_,explicit:M})},s.exports=A},function(s,m){s.exports=function(f,x){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:x}}},function(s,m,f){var x=f(8),g=f(42),w="".split;s.exports=x(function(){return!Object("z").propertyIsEnumerable(0)})?function(C){return g(C)=="String"?w.call(C,""):Object(C)}:Object},function(s,m){var f={}.toString;s.exports=function(x){return f.call(x).slice(8,-1)}},function(s,m,f){var x,g,w,C=f(186),A=f(11),_=f(13),M=f(21),P=f(14),D=f(57),E=f(45),I=A.WeakMap;if(C){var B=new I,F=B.get,R=B.has,L=B.set;x=function(G,W){return L.call(B,G,W),W},g=function(G){return F.call(B,G)||{}},w=function(G){return R.call(B,G)}}else{var z=D("state");E[z]=!0,x=function(G,W){return M(G,z,W),W},g=function(G){return P(G,z)?G[z]:{}},w=function(G){return P(G,z)}}s.exports={set:x,get:g,has:w,enforce:function(G){return w(G)?g(G):x(G,{})},getterFor:function(G){return function(W){var K;if(!_(W)||(K=g(W)).type!==G)throw TypeError("Incompatible receiver, "+G+" required");return K}}}},function(s,m){s.exports=!1},function(s,m){s.exports={}},function(s,m,f){var x=f(120),g=f(11),w=function(C){return typeof C=="function"?C:void 0};s.exports=function(C,A){return arguments.length<2?w(x[C])||w(g[C]):x[C]&&x[C][A]||g[C]&&g[C][A]}},function(s,m){var f=Math.ceil,x=Math.floor;s.exports=function(g){return isNaN(g=+g)?0:(g>0?x:f)(g)}},function(s,m,f){var x=f(8);s.exports=function(g,w){var C=[][g];return!!C&&x(function(){C.call(null,w||function(){throw 1},1)})}},function(s,m){s.exports={}},function(s,m,f){f(31),f(32),f(33),f(220),f(64),f(19),f(65),f(20),f(68),f(66),f(92),f(144),f(22),f(94),f(23);var x=this&&this.__values||function(I){var B=typeof Symbol=="function"&&Symbol.iterator,F=B&&I[B],R=0;if(F)return F.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&R>=I.length&&(I=void 0),{value:I&&I[R++],done:!I}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")},g=this&&this.__read||function(I,B){var F=typeof Symbol=="function"&&I[Symbol.iterator];if(!F)return I;var R,L,z=F.call(I),G=[];try{for(;(B===void 0||B-- >0)&&!(R=z.next()).done;)G.push(R.value)}catch(W){L={error:W}}finally{try{R&&!R.done&&(F=z.return)&&F.call(z)}finally{if(L)throw L.error}}return G},w=this&&this.__spread||function(){for(var I=[],B=0;B<arguments.length;B++)I=I.concat(g(arguments[B]));return I};Object.defineProperty(m,"__esModule",{value:!0});var C=f(1),A=f(69),_=f(95),M=f(7),P=f(0),D=f(258),E=function(){function I(B){this.level=0,this._builderOptions=B}return I.prototype.declaration=function(B,F,R){},I.prototype.docType=function(B,F,R){},I.prototype.comment=function(B){},I.prototype.text=function(B){},I.prototype.instruction=function(B,F){},I.prototype.cdata=function(B){},I.prototype.openTagBegin=function(B){},I.prototype.openTagEnd=function(B,F,R){},I.prototype.closeTag=function(B){},I.prototype.attributes=function(B){var F,R;try{for(var L=x(B),z=L.next();!z.done;z=L.next()){var G=z.value;this.attribute(G[1]===null?G[2]:G[1]+":"+G[2],G[3])}}catch(W){F={error:W}}finally{try{z&&!z.done&&(R=L.return)&&R.call(L)}finally{if(F)throw F.error}}},I.prototype.attribute=function(B,F){},I.prototype.beginElement=function(B){},I.prototype.endElement=function(B){},I.prototype.serializeNode=function(B,F){var R=B._nodeDocument!==void 0&&B._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=B,R){var L=new _.NamespacePrefixMap;L.set("xml",M.namespace.XML),this._serializeNodeNS(B,null,L,{value:1},F)}else this._serializeNode(B,F)},I.prototype._serializeNodeNS=function(B,F,R,L,z){switch(this.currentNode=B,B.nodeType){case C.NodeType.Element:this._serializeElementNS(B,F,R,L,z);break;case C.NodeType.Document:this._serializeDocumentNS(B,F,R,L,z);break;case C.NodeType.Comment:this._serializeComment(B,z);break;case C.NodeType.Text:this._serializeText(B,z);break;case C.NodeType.DocumentFragment:this._serializeDocumentFragmentNS(B,F,R,L,z);break;case C.NodeType.DocumentType:this._serializeDocumentType(B,z);break;case C.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(B,z);break;case C.NodeType.CData:this._serializeCData(B,z);break;default:throw new Error("Unknown node type: "+B.nodeType)}},I.prototype._serializeNode=function(B,F){switch(this.currentNode=B,B.nodeType){case C.NodeType.Element:this._serializeElement(B,F);break;case C.NodeType.Document:this._serializeDocument(B,F);break;case C.NodeType.Comment:this._serializeComment(B,F);break;case C.NodeType.Text:this._serializeText(B,F);break;case C.NodeType.DocumentFragment:this._serializeDocumentFragment(B,F);break;case C.NodeType.DocumentType:this._serializeDocumentType(B,F);break;case C.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(B,F);break;case C.NodeType.CData:this._serializeCData(B,F);break;default:throw new Error("Unknown node type: "+B.nodeType)}},I.prototype._serializeElementNS=function(B,F,R,L,z){var G,W,K=[];if(z&&(B.localName.indexOf(":")!==-1||!P.xml_isName(B.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var q="",Z=!1,J=!1,Q=R.copy(),ie={},se=this._recordNamespaceInformation(B,Q,ie),oe=F,ue=B.namespaceURI;if(oe===ue)se!==null&&(J=!0),q=ue===M.namespace.XML?"xml:"+B.localName:B.localName,this.beginElement(q),this.openTagBegin(q);else{var fe=B.prefix,xe=null;if(fe===null&&ue===se||(xe=Q.get(fe,ue)),fe==="xmlns"){if(z)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");xe=fe}xe!==null?(q=xe+":"+B.localName,se!==null&&se!==M.namespace.XML&&(oe=se||null),this.beginElement(q),this.openTagBegin(q)):fe!==null?(fe in ie&&(fe=this._generatePrefix(ue,Q,L)),Q.set(fe,ue),q+=fe+":"+B.localName,this.beginElement(q),this.openTagBegin(q),K.push([null,"xmlns",fe,this._serializeAttributeValue(ue,z)]),se!==null&&(oe=se||null)):se===null||se!==null&&se!==ue?(J=!0,q+=B.localName,oe=ue,this.beginElement(q),this.openTagBegin(q),K.push([null,null,"xmlns",this._serializeAttributeValue(ue,z)])):(q+=B.localName,oe=ue,this.beginElement(q),this.openTagBegin(q))}K.push.apply(K,w(this._serializeAttributesNS(B,Q,L,ie,J,z))),this.attributes(K);var ce=ue===M.namespace.HTML;if(ce&&B.childNodes.length===0&&I._VoidElementNames.has(B.localName)?(this.openTagEnd(q,!0,!0),this.endElement(q),Z=!0):ce||B.childNodes.length!==0?this.openTagEnd(q,!1,!1):(this.openTagEnd(q,!0,!1),this.endElement(q),Z=!0),!Z){if(!(ce&&B.localName==="template"))try{for(var me=x(B.childNodes),pe=me.next();!pe.done;pe=me.next()){var Se=pe.value;this.level++,this._serializeNodeNS(Se,oe,Q,L,z),this.level--}}catch(Ae){G={error:Ae}}finally{try{pe&&!pe.done&&(W=me.return)&&W.call(me)}finally{if(G)throw G.error}}this.closeTag(q),this.endElement(q)}},I.prototype._serializeElement=function(B,F){var R,L;if(F&&(B.localName.indexOf(":")!==-1||!P.xml_isName(B.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var z=!1,G=B.localName;this.beginElement(G),this.openTagBegin(G);var W=this._serializeAttributes(B,F);if(this.attributes(W),B.hasChildNodes()?this.openTagEnd(G,!1,!1):(this.openTagEnd(G,!0,!1),this.endElement(G),z=!0),!z){try{for(var K=x(B._children),q=K.next();!q.done;q=K.next()){var Z=q.value;this.level++,this._serializeNode(Z,F),this.level--}}catch(J){R={error:J}}finally{try{q&&!q.done&&(L=K.return)&&L.call(K)}finally{if(R)throw R.error}}this.closeTag(G),this.endElement(G)}},I.prototype._serializeDocumentNS=function(B,F,R,L,z){var G,W;if(z&&B.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var K=x(B.childNodes),q=K.next();!q.done;q=K.next()){var Z=q.value;this._serializeNodeNS(Z,F,R,L,z)}}catch(J){G={error:J}}finally{try{q&&!q.done&&(W=K.return)&&W.call(K)}finally{if(G)throw G.error}}},I.prototype._serializeDocument=function(B,F){var R,L;if(F&&B.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var z=x(B._children),G=z.next();!G.done;G=z.next()){var W=G.value;this._serializeNode(W,F)}}catch(K){R={error:K}}finally{try{G&&!G.done&&(L=z.return)&&L.call(z)}finally{if(R)throw R.error}}},I.prototype._serializeComment=function(B,F){if(F&&(!P.xml_isLegalChar(B.data)||B.data.indexOf("--")!==-1||B.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");this.comment(B.data)},I.prototype._serializeText=function(B,F){if(F&&!P.xml_isLegalChar(B.data))throw new Error("Text data contains invalid characters (well-formed required).");var R=B.data.replace(D.nonEntityAmpersandRegex,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.text(R)},I.prototype._serializeDocumentFragmentNS=function(B,F,R,L,z){var G,W;try{for(var K=x(B.childNodes),q=K.next();!q.done;q=K.next()){var Z=q.value;this._serializeNodeNS(Z,F,R,L,z)}}catch(J){G={error:J}}finally{try{q&&!q.done&&(W=K.return)&&W.call(K)}finally{if(G)throw G.error}}},I.prototype._serializeDocumentFragment=function(B,F){var R,L;try{for(var z=x(B._children),G=z.next();!G.done;G=z.next()){var W=G.value;this._serializeNode(W,F)}}catch(K){R={error:K}}finally{try{G&&!G.done&&(L=z.return)&&L.call(z)}finally{if(R)throw R.error}}},I.prototype._serializeDocumentType=function(B,F){if(F&&!P.xml_isPubidChar(B.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(F&&(!P.xml_isLegalChar(B.systemId)||B.systemId.indexOf('"')!==-1&&B.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");this.docType(B.name,B.publicId,B.systemId)},I.prototype._serializeProcessingInstruction=function(B,F){if(F&&(B.target.indexOf(":")!==-1||/^xml$/i.test(B.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(F&&(!P.xml_isLegalChar(B.data)||B.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");this.instruction(B.target,B.data)},I.prototype._serializeCData=function(B,F){if(F&&B.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");this.cdata(B.data)},I.prototype._serializeAttributesNS=function(B,F,R,L,z,G){var W,K,q=[],Z=G?new A.LocalNameSet:void 0;try{for(var J=x(B.attributes),Q=J.next();!Q.done;Q=J.next()){var ie=Q.value;if(G||z||ie.namespaceURI!==null){if(G&&Z&&Z.has(ie.namespaceURI,ie.localName))throw new Error("Element contains duplicate attributes (well-formed required).");G&&Z&&Z.set(ie.namespaceURI,ie.localName);var se=ie.namespaceURI,oe=null;if(se!==null)if(oe=F.get(ie.prefix,se),se===M.namespace.XMLNS){if(ie.value===M.namespace.XML||ie.prefix===null&&z||ie.prefix!==null&&(!(ie.localName in L)||L[ie.localName]!==ie.value)&&F.has(ie.localName,ie.value))continue;if(G&&ie.value===M.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(G&&ie.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");ie.prefix==="xmlns"&&(oe="xmlns")}else oe===null&&(oe=ie.prefix===null||F.hasPrefix(ie.prefix)&&!F.has(ie.prefix,se)?this._generatePrefix(se,F,R):ie.prefix,q.push([null,"xmlns",oe,this._serializeAttributeValue(se,G)]));if(G&&(ie.localName.indexOf(":")!==-1||!P.xml_isName(ie.localName)||ie.localName==="xmlns"&&se===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");q.push([se,oe,ie.localName,this._serializeAttributeValue(ie.value,G)])}else q.push([null,null,ie.localName,this._serializeAttributeValue(ie.value,G)])}}catch(ue){W={error:ue}}finally{try{Q&&!Q.done&&(K=J.return)&&K.call(J)}finally{if(W)throw W.error}}return q},I.prototype._serializeAttributes=function(B,F){var R,L,z=[],G=F?{}:void 0;try{for(var W=x(B.attributes),K=W.next();!K.done;K=W.next()){var q=K.value;if(F){if(F&&G&&q.localName in G)throw new Error("Element contains duplicate attributes (well-formed required).");if(F&&G&&(G[q.localName]=!0),F&&(q.localName.indexOf(":")!==-1||!P.xml_isName(q.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");z.push([null,null,q.localName,this._serializeAttributeValue(q.value,F)])}else z.push([null,null,q.localName,this._serializeAttributeValue(q.value,F)])}}catch(Z){R={error:Z}}finally{try{K&&!K.done&&(L=W.return)&&L.call(W)}finally{if(R)throw R.error}}return z},I.prototype._recordNamespaceInformation=function(B,F,R){var L,z,G=null;try{for(var W=x(B.attributes),K=W.next();!K.done;K=W.next()){var q=K.value,Z=q.namespaceURI,J=q.prefix;if(Z===M.namespace.XMLNS){if(J===null){G=q.value;continue}var Q=q.localName,ie=q.value;if(ie===M.namespace.XML||(ie===""&&(ie=null),F.has(Q,ie)))continue;F.set(Q,ie),R[Q]=ie||""}}}catch(se){L={error:se}}finally{try{K&&!K.done&&(z=W.return)&&z.call(W)}finally{if(L)throw L.error}}return G},I.prototype._generatePrefix=function(B,F,R){var L="ns"+R.value.toString();return R.value++,F.set(L,B),L},I.prototype._serializeAttributeValue=function(B,F){if(F&&B!==null&&!P.xml_isLegalChar(B))throw new Error("Invalid characters in attribute value.");return B===null?"":B.replace(D.nonEntityAmpersandRegex,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},I._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),I}();m.BaseWriter=E},function(s,m,f){var x=this&&this.__values||function(B){var F=typeof Symbol=="function"&&Symbol.iterator,R=F&&B[F],L=0;if(R)return R.call(B);if(B&&typeof B.length=="number")return{next:function(){return B&&L>=B.length&&(B=void 0),{value:B&&B[L++],done:!B}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")},g=this&&this.__read||function(B,F){var R=typeof Symbol=="function"&&B[Symbol.iterator];if(!R)return B;var L,z,G=R.call(B),W=[];try{for(;(F===void 0||F-- >0)&&!(L=G.next()).done;)W.push(L.value)}catch(K){z={error:K}}finally{try{L&&!L.done&&(R=G.return)&&R.call(G)}finally{if(z)throw z.error}}return W};Object.defineProperty(m,"__esModule",{value:!0});var w=f(6),C=f(3),A=f(7),_=f(29),M=f(17),P=f(97);function D(){var B=w.dom.window;B._mutationObserverMicrotaskQueued||(B._mutationObserverMicrotaskQueued=!0,Promise.resolve().then(function(){E()}))}function E(){var B,F,R,L,z=w.dom.window;z._mutationObserverMicrotaskQueued=!1;var G=A.set.clone(z._mutationObservers),W=A.set.clone(z._signalSlots);A.set.empty(z._signalSlots);var K=function(se){var oe=A.list.clone(se._recordQueue);A.list.empty(se._recordQueue);for(var ue=0;ue<se._nodeList.length;ue++){var fe=se._nodeList[ue];A.list.remove(fe._registeredObserverList,function(xe){return C.Guard.isTransientRegisteredObserver(xe)&&xe.observer===se})}if(!A.list.isEmpty(oe))try{se._callback.call(se,oe,se)}catch{}};try{for(var q=x(G),Z=q.next();!Z.done;Z=q.next())K(Z.value)}catch(se){B={error:se}}finally{try{Z&&!Z.done&&(F=q.return)&&F.call(q)}finally{if(B)throw B.error}}if(w.dom.features.slots)try{for(var J=x(W),Q=J.next();!Q.done;Q=J.next()){var ie=Q.value;P.event_fireAnEvent("slotchange",ie,void 0,{bubbles:!0})}}catch(se){R={error:se}}finally{try{Q&&!Q.done&&(L=J.return)&&L.call(J)}finally{if(R)throw R.error}}}function I(B,F,R,L,z,G,W,K,q){for(var Z,J,Q=new Map,ie=M.tree_getFirstAncestorNode(F,!0);ie!==null;){for(var se=0;se<ie._registeredObserverList.length;se++){var oe=ie._registeredObserverList[se],ue=oe.options;if((ie===F||ue.subtree)&&(B!=="attributes"||ue.attributes)&&(B!=="attributes"||!ue.attributeFilter||ue.attributeFilter.indexOf(R||"")&&L===null)&&(B!=="characterData"||ue.characterData)&&(B!=="childList"||ue.childList)){var fe=oe.observer;Q.has(fe)||Q.set(fe,null),(B==="attributes"&&ue.attributeOldValue||B==="characterData"&&ue.characterDataOldValue)&&Q.set(fe,z)}}ie=M.tree_getNextAncestorNode(F,ie,!0)}try{for(var xe=x(Q),ce=xe.next();!ce.done;ce=xe.next()){var me=g(ce.value,2),pe=me[0],Se=me[1],Ae=_.create_mutationRecord(B,F,_.create_nodeListStatic(F,G),_.create_nodeListStatic(F,W),K,q,R,L,Se);pe._recordQueue.push(Ae)}}catch(_e){Z={error:_e}}finally{try{ce&&!ce.done&&(J=xe.return)&&J.call(xe)}finally{if(Z)throw Z.error}}D()}m.observer_queueAMutationObserverMicrotask=D,m.observer_notifyMutationObservers=E,m.observer_queueMutationRecord=I,m.observer_queueTreeMutationRecord=function(B,F,R,L,z){I("childList",B,null,null,null,F,R,L,z)},m.observer_queueAttributeMutationRecord=function(B,F,R,L){I("attributes",B,F,R,L,[],[],null,null)}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(6),g=f(7),w=f(3),C=f(9),A=f(29),_=f(73),M=f(51),P=f(30),D=f(37),E=f(106);function I(G,W,K){x.dom.features.mutationObservers&&M.observer_queueAttributeMutationRecord(W,G._localName,G._namespace,G._value),x.dom.features.customElements&&w.Guard.isCustomElementNode(W)&&_.customElement_enqueueACustomElementCallbackReaction(W,"attributeChangedCallback",[G._localName,G._value,K,G._namespace]),x.dom.features.steps&&P.dom_runAttributeChangeSteps(W,G._localName,G._value,K,G._namespace),G._value=K}function B(G,W){x.dom.features.mutationObservers&&M.observer_queueAttributeMutationRecord(W,G._localName,G._namespace,null),x.dom.features.customElements&&w.Guard.isCustomElementNode(W)&&_.customElement_enqueueACustomElementCallbackReaction(W,"attributeChangedCallback",[G._localName,null,G._value,G._namespace]),x.dom.features.steps&&P.dom_runAttributeChangeSteps(W,G._localName,null,G._value,G._namespace),W._attributeList._asArray().push(G),G._element=W,W._nodeDocument._hasNamespaces||G._namespace===null&&G._namespacePrefix===null&&G._localName!=="xmlns"||(W._nodeDocument._hasNamespaces=!0)}function F(G,W){x.dom.features.mutationObservers&&M.observer_queueAttributeMutationRecord(W,G._localName,G._namespace,G._value),x.dom.features.customElements&&w.Guard.isCustomElementNode(W)&&_.customElement_enqueueACustomElementCallbackReaction(W,"attributeChangedCallback",[G._localName,G._value,null,G._namespace]),x.dom.features.steps&&P.dom_runAttributeChangeSteps(W,G._localName,G._value,null,G._namespace);var K=W._attributeList._asArray().indexOf(G);W._attributeList._asArray().splice(K,1),G._element=null}function R(G,W,K){x.dom.features.mutationObservers&&M.observer_queueAttributeMutationRecord(K,G._localName,G._namespace,G._value),x.dom.features.customElements&&w.Guard.isCustomElementNode(K)&&_.customElement_enqueueACustomElementCallbackReaction(K,"attributeChangedCallback",[G._localName,G._value,W._value,G._namespace]),x.dom.features.steps&&P.dom_runAttributeChangeSteps(K,G._localName,G._value,W._value,G._namespace);var q=K._attributeList._asArray().indexOf(G);q!==-1&&(K._attributeList._asArray()[q]=W),G._element=null,W._element=K,K._nodeDocument._hasNamespaces||W._namespace===null&&W._namespacePrefix===null&&W._localName!=="xmlns"||(K._nodeDocument._hasNamespaces=!0)}function L(G,W){return W._namespace===g.namespace.HTML&&W._nodeDocument._type==="html"&&(G=G.toLowerCase()),W._attributeList._asArray().find(function(K){return K._qualifiedName===G})||null}function z(G,W,K){var q=G||null;return K._attributeList._asArray().find(function(Z){return Z._namespace===q&&Z._localName===W})||null}m.element_has=function(G,W){return W._attributeList._asArray().indexOf(G)!==-1},m.element_change=I,m.element_append=B,m.element_remove=F,m.element_replace=R,m.element_getAnAttributeByName=L,m.element_getAnAttributeByNamespaceAndLocalName=z,m.element_getAnAttributeValue=function(G,W,K){K===void 0&&(K="");var q=z(K,W,G);return q===null?"":q._value},m.element_setAnAttribute=function(G,W){if(G._element!==null&&G._element!==W)throw new C.InUseAttributeError("This attribute already exists in the document: "+G._qualifiedName+" as a child of "+G._element._qualifiedName+".");var K=z(G._namespace||"",G._localName,W);return K===G?G:(K!==null?R(K,G,W):B(G,W),K)},m.element_setAnAttributeValue=function(G,W,K,q,Z){q===void 0&&(q=null),Z===void 0&&(Z=null);var J=z(Z||"",W,G);if(J===null){var Q=A.create_attr(G._nodeDocument,W);return Q._namespace=Z,Q._namespacePrefix=q,Q._value=K,void B(Q,G)}I(J,G,K)},m.element_removeAnAttributeByName=function(G,W){var K=L(G,W);return K!==null&&F(K,W),K},m.element_removeAnAttributeByNamespaceAndLocalName=function(G,W,K){var q=z(G,W,K);return q!==null&&F(q,K),q},m.element_createAnElement=function(G,W,K,q,Z,J){q===void 0&&(q=null),Z===void 0&&(Z=null),J===void 0&&(J=!1);var Q=null;if(!x.dom.features.customElements)return(Q=A.create_element(G,W,K,q))._customElementState="uncustomized",Q._customElementDefinition=null,Q._is=Z,Q;var ie=_.customElement_lookUpACustomElementDefinition(G,K,W,Z);if(ie!==null&&ie.name!==ie.localName)(Q=new(E.document_elementInterface(W,g.namespace.HTML)))._localName=W,Q._namespace=g.namespace.HTML,Q._namespacePrefix=q,Q._customElementState="undefined",Q._customElementDefinition=null,Q._is=Z,Q._nodeDocument=G,J?_.customElement_upgrade(ie,Q):_.customElement_enqueueACustomElementUpgradeReaction(Q,ie);else if(ie!==null)if(J)try{var se=new ie.constructor;if(console.assert(se._customElementState!==void 0),console.assert(se._customElementDefinition!==void 0),console.assert(se._namespace===g.namespace.HTML),se._attributeList.length!==0)throw new C.NotSupportedError("Custom element already has attributes.");if(se._children.size!==0)throw new C.NotSupportedError("Custom element already has child nodes.");if(se._parent!==null)throw new C.NotSupportedError("Custom element already has a parent node.");if(se._nodeDocument!==G)throw new C.NotSupportedError("Custom element is already in a document.");if(se._localName!==W)throw new C.NotSupportedError("Custom element has a different local name.");se._namespacePrefix=q,se._is=null}catch{(Q=A.create_htmlUnknownElement(G,W,g.namespace.HTML,q))._customElementState="failed",Q._customElementDefinition=null,Q._is=null}else(Q=A.create_htmlElement(G,W,g.namespace.HTML,q))._customElementState="undefined",Q._customElementDefinition=null,Q._is=null,_.customElement_enqueueACustomElementUpgradeReaction(Q,ie);else(Q=new(E.document_elementInterface(W,K)))._localName=W,Q._namespace=K,Q._namespacePrefix=q,Q._customElementState="uncustomized",Q._customElementDefinition=null,Q._is=Z,Q._nodeDocument=G,K!==g.namespace.HTML||Z===null&&!_.customElement_isValidCustomElementName(W)||(Q._customElementState="undefined");if(Q===null)throw new Error("Unable to create element.");return Q},m.element_insertAdjacent=function(G,W,K){switch(W.toLowerCase()){case"beforebegin":return G._parent===null?null:D.mutation_preInsert(K,G._parent,G);case"afterbegin":return D.mutation_preInsert(K,G,G._firstChild);case"beforeend":return D.mutation_preInsert(K,G,null);case"afterend":return G._parent===null?null:D.mutation_preInsert(K,G._parent,G._nextSibling);default:throw new C.SyntaxError(`Invalid 'where' argument. "beforebegin", "afterbegin", "beforeend" or "afterend" expected`)}}},function(s,m,f){function x(g,w){Error.call(this),this.name="YAMLException",this.reason=g,this.mark=w,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}x.prototype=Object.create(Error.prototype),x.prototype.constructor=x,x.prototype.toString=function(g){var w=this.name+": ";return w+=this.reason||"(unknown reason)",!g&&this.mark&&(w+=" "+this.mark.toString()),w},s.exports=x},function(s,m,f){var x=f(39);s.exports=new x({include:[f(181)],implicit:[f(294),f(295)],explicit:[f(296),f(297),f(298),f(299)]})},function(s,m,f){var x=f(16),g=f(79),w=f(40),C=f(24),A=f(56),_=f(14),M=f(115),P=Object.getOwnPropertyDescriptor;m.f=x?P:function(D,E){if(D=C(D),E=A(E,!0),M)try{return P(D,E)}catch{}if(_(D,E))return w(!g.f.call(D,E),D[E])}},function(s,m,f){var x=f(13);s.exports=function(g,w){if(!x(g))return g;var C,A;if(w&&typeof(C=g.toString)=="function"&&!x(A=C.call(g))||typeof(C=g.valueOf)=="function"&&!x(A=C.call(g))||!w&&typeof(C=g.toString)=="function"&&!x(A=C.call(g)))return A;throw TypeError("Can't convert object to primitive value")}},function(s,m,f){var x=f(81),g=f(58),w=x("keys");s.exports=function(C){return w[C]||(w[C]=g(C))}},function(s,m){var f=0,x=Math.random();s.exports=function(g){return"Symbol("+String(g===void 0?"":g)+")_"+(++f+x).toString(36)}},function(s,m,f){var x=f(42);s.exports=Array.isArray||function(g){return x(g)=="Array"}},function(s,m,f){var x,g=f(18),w=f(188),C=f(84),A=f(45),_=f(189),M=f(116),P=f(57),D=P("IE_PROTO"),E=function(){},I=function(F){return"<script>"+F+"<\/script>"},B=function(){try{x=document.domain&&new ActiveXObject("htmlfile")}catch{}var F,R;B=x?function(z){z.write(I("")),z.close();var G=z.parentWindow.Object;return z=null,G}(x):((R=M("iframe")).style.display="none",_.appendChild(R),R.src="javascript:",(F=R.contentWindow.document).open(),F.write(I("document.F=Object")),F.close(),F.F);for(var L=C.length;L--;)delete B.prototype[C[L]];return B()};A[D]=!0,s.exports=Object.create||function(F,R){var L;return F!==null?(E.prototype=g(F),L=new E,E.prototype=null,L[D]=F):L=B(),R===void 0?L:w(L,R)}},function(s,m,f){var x=f(121),g=f(84);s.exports=Object.keys||function(w){return x(w,g)}},function(s,m,f){var x=f(15).f,g=f(14),w=f(5)("toStringTag");s.exports=function(C,A,_){C&&!g(C=_?C:C.prototype,w)&&x(C,w,{configurable:!0,value:A})}},function(s,m,f){var x=f(8),g=f(5),w=f(129),C=g("species");s.exports=function(A){return w>=51||!x(function(){var _=[];return(_.constructor={})[C]=function(){return{foo:1}},_[A](Boolean).foo!==1})}},function(s,m,f){var x=f(4),g=f(122).indexOf,w=f(48),C=f(28),A=[].indexOf,_=!!A&&1/[1].indexOf(1,-0)<0,M=w("indexOf"),P=C("indexOf",{ACCESSORS:!0,1:0});x({target:"Array",proto:!0,forced:_||!M||!P},{indexOf:function(D){return _?A.apply(this,arguments)||0:g(this,D,arguments.length>1?arguments[1]:void 0)}})},function(s,m,f){var x=f(16),g=f(15).f,w=Function.prototype,C=w.toString,A=/^\s*function ([^ (]*)/;x&&!("name"in w)&&g(w,"name",{configurable:!0,get:function(){try{return C.call(this).match(A)[1]}catch{return""}}})},function(s,m,f){var x=f(25),g=f(18),w=f(8),C=f(136),A=RegExp.prototype,_=A.toString,M=w(function(){return _.call({source:"a",flags:"b"})!="/a/b"}),P=_.name!="toString";(M||P)&&x(RegExp.prototype,"toString",function(){var D=g(this),E=String(D.source),I=D.flags;return"/"+E+"/"+String(I===void 0&&D instanceof RegExp&&!("flags"in A)?C.call(D):I)},{unsafe:!0})},function(s,m,f){f(31),f(32),f(33),f(19),f(138),f(20),f(66),f(22),f(23);var x,g=this&&this.__extends||(x=function(M,P){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var I in E)E.hasOwnProperty(I)&&(D[I]=E[I])})(M,P)},function(M,P){function D(){this.constructor=M}x(M,P),M.prototype=P===null?Object.create(P):(D.prototype=P.prototype,new D)}),w=this&&this.__values||function(M){var P=typeof Symbol=="function"&&Symbol.iterator,D=P&&M[P],E=0;if(D)return D.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&E>=M.length&&(M=void 0),{value:M&&M[E++],done:!M}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var C=f(2),A=f(1),_=function(M){function P(D,E){var I=M.call(this,D)||this;return I._writerOptions=C.applyDefaults(E,{format:"object",wellFormed:!1,group:!1,verbose:!1}),I}return g(P,M),P.prototype.serialize=function(D){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(D,this._writerOptions.wellFormed),this._process(this._currentList,this._writerOptions)},P.prototype._process=function(D,E){var I,B,F,R,L,z,G;if(D.length===0)return{};for(var W={},K=!1,q=0,Z=0,J=0,Q=0,ie=0;ie<D.length;ie++){var se=D[ie];switch(Oe=Object.keys(se)[0]){case"@":continue;case"#":q++;break;case"!":Z++;break;case"?":J++;break;case"$":Q++;break;default:W[Oe]?K=!0:W[Oe]=!0}}var oe=this._getAttrKey(),ue=this._getNodeKey(A.NodeType.Text),fe=this._getNodeKey(A.NodeType.Comment),xe=this._getNodeKey(A.NodeType.ProcessingInstruction),ce=this._getNodeKey(A.NodeType.CData);if(q===1&&D.length===1&&C.isString(D[0]["#"]))return D[0]["#"];if(K){var me={};for(ie=0;ie<D.length;ie++)if(se=D[ie],(Oe=Object.keys(se)[0])==="@"){var pe=se["@"];(le=Object.keys(pe)).length===1?me[oe+le[0]]=pe[le[0]]:me[oe]=se["@"]}var Se=[];for(ie=0;ie<D.length;ie++)switch(se=D[ie],Oe=Object.keys(se)[0]){case"@":break;case"#":Se.push(((I={})[ue]=se["#"],I));break;case"!":Se.push(((B={})[fe]=se["!"],B));break;case"?":Se.push(((F={})[xe]=se["?"],F));break;case"$":Se.push(((R={})[ce]=se.$,R));break;default:if((re=se)[Oe].length!==0&&C.isArray(re[Oe][0])){for(var Ae=[],_e=re[Oe],Me=0;Me<_e.length;Me++)Ae.push(this._process(_e[Me],E));Se.push(((L={})[Oe]=Ae,L))}else E.verbose?Se.push(((z={})[Oe]=[this._process(re[Oe],E)],z)):Se.push(((G={})[Oe]=this._process(re[Oe],E),G))}return me[ue]=Se,me}var ve=1,Ee=1,Le=1,Ie=1;for(me={},ie=0;ie<D.length;ie++){var Oe;switch(se=D[ie],Oe=Object.keys(se)[0]){case"@":pe=se["@"];var le=Object.keys(pe);if(E.group&&le.length!==1)me[oe]=pe;else for(var te in pe)me[oe+te]=pe[te];break;case"#":ve=this._processSpecItem(se["#"],me,E.group,ue,q,ve);break;case"!":Ee=this._processSpecItem(se["!"],me,E.group,fe,Z,Ee);break;case"?":Le=this._processSpecItem(se["?"],me,E.group,xe,J,Le);break;case"$":Ie=this._processSpecItem(se.$,me,E.group,ce,Q,Ie);break;default:var re;if((re=se)[Oe].length!==0&&C.isArray(re[Oe][0])){Ae=[],_e=re[Oe];for(var ne=0;ne<_e.length;ne++)Ae.push(this._process(_e[ne],E));me[Oe]=Ae}else E.verbose?me[Oe]=[this._process(re[Oe],E)]:me[Oe]=this._process(re[Oe],E)}}return me},P.prototype._processSpecItem=function(D,E,I,B,F,R){var L,z;if(!I&&C.isArray(D)&&F+D.length>2)try{for(var G=w(D),W=G.next();!W.done;W=G.next()){var K=W.value;E[B+(R++).toString()]=K}}catch(q){L={error:q}}finally{try{W&&!W.done&&(z=G.return)&&z.call(G)}finally{if(L)throw L.error}}else E[F>1?B+(R++).toString():B]=D;return R},P.prototype.beginElement=function(D){var E,I,B=[];if(this._currentList.length===0)this._currentList.push(((E={})[D]=B,E));else{var F=this._currentList[this._currentList.length-1];this._isElementNode(F,D)?F[D].length!==0&&C.isArray(F[D][0])?F[D].push(B):F[D]=[F[D],B]:this._currentList.push(((I={})[D]=B,I))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=B:this._listRegister.push(B),this._currentList=B},P.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},P.prototype.attribute=function(D,E){var I,B;if(this._currentList.length===0)this._currentList.push({"@":(I={},I[D]=E,I)});else{var F=this._currentList[this._currentList.length-1];this._isAttrNode(F)?F["@"][D]=E:this._currentList.push({"@":(B={},B[D]=E,B)})}},P.prototype.comment=function(D){if(this._currentList.length===0)this._currentList.push({"!":D});else{var E=this._currentList[this._currentList.length-1];this._isCommentNode(E)?C.isArray(E["!"])?E["!"].push(D):E["!"]=[E["!"],D]:this._currentList.push({"!":D})}},P.prototype.text=function(D){if(this._currentList.length===0)this._currentList.push({"#":D});else{var E=this._currentList[this._currentList.length-1];this._isTextNode(E)?C.isArray(E["#"])?E["#"].push(D):E["#"]=[E["#"],D]:this._currentList.push({"#":D})}},P.prototype.instruction=function(D,E){var I=E===""?D:D+" "+E;if(this._currentList.length===0)this._currentList.push({"?":I});else{var B=this._currentList[this._currentList.length-1];this._isInstructionNode(B)?C.isArray(B["?"])?B["?"].push(I):B["?"]=[B["?"],I]:this._currentList.push({"?":I})}},P.prototype.cdata=function(D){if(this._currentList.length===0)this._currentList.push({$:D});else{var E=this._currentList[this._currentList.length-1];this._isCDATANode(E)?C.isArray(E.$)?E.$.push(D):E.$=[E.$,D]:this._currentList.push({$:D})}},P.prototype._isAttrNode=function(D){return"@"in D},P.prototype._isTextNode=function(D){return"#"in D},P.prototype._isCommentNode=function(D){return"!"in D},P.prototype._isInstructionNode=function(D){return"?"in D},P.prototype._isCDATANode=function(D){return"$"in D},P.prototype._isElementNode=function(D,E){return E in D},P.prototype._getAttrKey=function(){return this._builderOptions.convert.att},P.prototype._getNodeKey=function(D){switch(D){case A.NodeType.Comment:return this._builderOptions.convert.comment;case A.NodeType.Text:return this._builderOptions.convert.text;case A.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case A.NodeType.CData:return this._builderOptions.convert.cdata;default:throw new Error("Invalid node type.")}},P}(f(50).BaseWriter);m.ObjectWriter=_},function(s,m,f){var x=f(4),g=f(93);x({target:"RegExp",proto:!0,forced:/./.exec!==g},{exec:g})},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=function(){function g(){this._items={},this._nullItems={}}return g.prototype.set=function(w,C){w===null?this._nullItems[C]=!0:(this._items[w]||(this._items[w]={}),this._items[w][C]=!0)},g.prototype.has=function(w,C){return w===null?this._nullItems[C]===!0:!!this._items[w]&&this._items[w][C]===!0},g}();m.LocalNameSet=x},function(s,m,f){var x=this&&this.__read||function(_,M){var P=typeof Symbol=="function"&&_[Symbol.iterator];if(!P)return _;var D,E,I=P.call(_),B=[];try{for(;(M===void 0||M-- >0)&&!(D=I.next()).done;)B.push(D.value)}catch(F){E={error:F}}finally{try{D&&!D.done&&(P=I.return)&&P.call(I)}finally{if(E)throw E.error}}return B};Object.defineProperty(m,"__esModule",{value:!0});var g=f(9),w=f(3),C=f(0),A=function(){function _(){}return Object.defineProperty(_.prototype,"_eventListenerList",{get:function(){return this.__eventListenerList||(this.__eventListenerList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"_eventHandlerMap",{get:function(){return this.__eventHandlerMap||(this.__eventHandlerMap={})},enumerable:!0,configurable:!0}),_.prototype.addEventListener=function(M,P,D){D===void 0&&(D={passive:!1,once:!1,capture:!1});var E,I=x(C.eventTarget_flattenMore(D),3),B=I[0],F=I[1],R=I[2];P&&(E=w.Guard.isEventListener(P)?P:{handleEvent:P},C.eventTarget_addEventListener(this,{type:M,callback:E,capture:B,passive:F,once:R,removed:!1}))},_.prototype.removeEventListener=function(M,P,D){D===void 0&&(D={capture:!1});var E=C.eventTarget_flatten(D);if(P)for(var I=0;I<this._eventListenerList.length;I++){var B=this._eventListenerList[I];if(B.type===M&&B.capture===E){if(w.Guard.isEventListener(P)&&B.callback===P){C.eventTarget_removeEventListener(this,B,I);break}if(P&&B.callback.handleEvent===P){C.eventTarget_removeEventListener(this,B,I);break}}}},_.prototype.dispatchEvent=function(M){if(M._dispatchFlag||!M._initializedFlag)throw new g.InvalidStateError;return M._isTrusted=!1,C.event_dispatch(M,this)},_.prototype._getTheParent=function(M){return null},_}();m.EventTargetImpl=A},function(s,m,f){var x,g=this&&this.__extends||(x=function(_,M){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,D){P.__proto__=D}||function(P,D){for(var E in D)D.hasOwnProperty(E)&&(P[E]=D[E])})(_,M)},function(_,M){function P(){this.constructor=_}x(_,M),_.prototype=M===null?Object.create(M):(P.prototype=M.prototype,new P)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(34),C=f(0),A=function(_){function M(P){var D=_.call(this)||this;return D._data=P,D}return g(M,_),Object.defineProperty(M.prototype,"data",{get:function(){return this._data},set:function(P){C.characterData_replaceData(this,0,this._data.length,P)},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"length",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),M.prototype.substringData=function(P,D){return C.characterData_substringData(this,P,D)},M.prototype.appendData=function(P){return C.characterData_replaceData(this,this._data.length,0,P)},M.prototype.insertData=function(P,D){C.characterData_replaceData(this,P,0,D)},M.prototype.deleteData=function(P,D){C.characterData_replaceData(this,P,D,"")},M.prototype.replaceData=function(P,D,E){C.characterData_replaceData(this,P,D,E)},Object.defineProperty(M.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),M.prototype.before=function(){for(var P=[],D=0;D<arguments.length;D++)P[D]=arguments[D];throw new Error("Mixin: ChildNode not implemented.")},M.prototype.after=function(){for(var P=[],D=0;D<arguments.length;D++)P[D]=arguments[D];throw new Error("Mixin: ChildNode not implemented.")},M.prototype.replaceWith=function(){for(var P=[],D=0;D<arguments.length;D++)P[D]=arguments[D];throw new Error("Mixin: ChildNode not implemented.")},M.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},M}(w.NodeImpl);m.CharacterDataImpl=A},function(s,m,f){var x=this&&this.__values||function(F){var R=typeof Symbol=="function"&&Symbol.iterator,L=R&&F[R],z=0;if(L)return L.call(F);if(F&&typeof F.length=="number")return{next:function(){return F&&z>=F.length&&(F=void 0),{value:F&&F[z++],done:!F}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")},g=this&&this.__read||function(F,R){var L=typeof Symbol=="function"&&F[Symbol.iterator];if(!L)return F;var z,G,W=L.call(F),K=[];try{for(;(R===void 0||R-- >0)&&!(z=W.next()).done;)K.push(z.value)}catch(q){G={error:q}}finally{try{z&&!z.done&&(L=W.return)&&L.call(W)}finally{if(G)throw G.error}}return K},w=this&&this.__spread||function(){for(var F=[],R=0;R<arguments.length;R++)F=F.concat(g(arguments[R]));return F};Object.defineProperty(m,"__esModule",{value:!0});var C=f(6),A=f(3),_=f(2),M=f(17),P=f(51);function D(F){C.dom.window._signalSlots.add(F),P.observer_queueAMutationObserverMicrotask()}function E(F,R){R===void 0&&(R=!1);var L=A.Cast.asNode(F)._parent;if(L===null)return null;var z=L._shadowRoot||null;if(z===null||R&&z._mode!=="open")return null;for(var G=M.tree_getFirstDescendantNode(z,!1,!0,function(W){return A.Guard.isSlot(W)});G!==null;){if(G._name===F._name)return G;G=M.tree_getNextDescendantNode(z,G,!1,!0,function(W){return A.Guard.isSlot(W)})}return null}function I(F){var R,L,z=[],G=M.tree_rootNode(F);if(!A.Guard.isShadowRoot(G))return z;var W=G._host;try{for(var K=x(W._children),q=K.next();!q.done;q=K.next()){var Z=q.value;A.Guard.isSlotable(Z)&&E(Z)===F&&z.push(Z)}}catch(J){R={error:J}}finally{try{q&&!q.done&&(L=K.return)&&L.call(K)}finally{if(R)throw R.error}}return z}function B(F){var R,L,z=I(F);if(z.length===F._assignedNodes.length){for(var G=!0,W=0;W<z.length;W++)if(z[W]!==F._assignedNodes[W]){G=!1;break}G||D(F)}F._assignedNodes=z;try{for(var K=x(z),q=K.next();!q.done;q=K.next())q.value._assignedSlot=F}catch(Z){R={error:Z}}finally{try{q&&!q.done&&(L=K.return)&&L.call(K)}finally{if(R)throw R.error}}}m.shadowTree_signalASlotChange=D,m.shadowTree_isConnected=function(F){return A.Guard.isDocumentNode(M.tree_rootNode(F,!0))},m.shadowTree_isAssigned=function(F){return F._assignedSlot!==null},m.shadowTree_findASlot=E,m.shadowTree_findSlotables=I,m.shadowTree_findFlattenedSlotables=function F(R){var L,z,G,W,K=[],q=M.tree_rootNode(R);if(!A.Guard.isShadowRoot(q))return K;var Z=I(R);if(_.isEmpty(Z))try{for(var J=x(R._children),Q=J.next();!Q.done;Q=J.next()){var ie=Q.value;A.Guard.isSlotable(ie)&&Z.push(ie)}}catch(xe){L={error:xe}}finally{try{Q&&!Q.done&&(z=J.return)&&z.call(J)}finally{if(L)throw L.error}}try{for(var se=x(Z),oe=se.next();!oe.done;oe=se.next()){var ue=oe.value;if(A.Guard.isSlot(ue)&&A.Guard.isShadowRoot(M.tree_rootNode(ue))){var fe=F(ue);K.push.apply(K,w(fe))}else K.push(ue)}}catch(xe){G={error:xe}}finally{try{oe&&!oe.done&&(W=se.return)&&W.call(se)}finally{if(G)throw G.error}}return K},m.shadowTree_assignSlotables=B,m.shadowTree_assignSlotablesForATree=function(F){for(var R=M.tree_getFirstDescendantNode(F,!0,!1,function(L){return A.Guard.isSlot(L)});R!==null;)B(R),R=M.tree_getNextDescendantNode(F,R,!0,!1,function(L){return A.Guard.isSlot(L)})},m.shadowTree_assignASlot=function(F){var R=E(F);R!==null&&B(R)}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=/[a-z]([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*/,g=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),w=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]),C=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),A=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]);m.customElement_isValidCustomElementName=function(_){return!!x.test(_)&&!g.has(_)},m.customElement_isValidElementName=function(_){return w.has(_)},m.customElement_isVoidElementName=function(_){return C.has(_)},m.customElement_isValidShadowHostName=function(_){return A.has(_)},m.customElement_enqueueACustomElementUpgradeReaction=function(_,M){},m.customElement_enqueueACustomElementCallbackReaction=function(_,M,P){},m.customElement_upgrade=function(_,M){},m.customElement_tryToUpgrade=function(_){},m.customElement_lookUpACustomElementDefinition=function(_,M,P,D){return null}},function(s,m,f){f(4)({target:"String",proto:!0},{repeat:f(260)})},function(s,m,f){f(279),f(68),f(179),f(94),Object.defineProperty(m,"__esModule",{value:!0});var x=f(109),g=function(){function w(C){this._builderOptions=C,C.parser&&Object.assign(this,C.parser)}return w.prototype._docType=function(C,A,_,M){return C.dtd({name:A,pubID:_,sysID:M})},w.prototype._comment=function(C,A){return C.com(A)},w.prototype._text=function(C,A){return C.txt(A)},w.prototype._instruction=function(C,A,_){return C.ins(A,_)},w.prototype._cdata=function(C,A){return C.dat(A)},w.prototype._element=function(C,A,_){return A===void 0?C.ele(_):C.ele(A,_)},w.prototype._attribute=function(C,A,_,M){return A===void 0?C.att(_,M):C.att(A,_,M)},w.prototype._sanitize=function(C){return x.sanitizeInput(C,this._builderOptions.invalidCharReplacement)},w.prototype._decodeText=function(C){return C==null?C:C.replace(/&(quot|amp|apos|lt|gt);/g,function(A,_){return w._entityTable[_]}).replace(/&#(?:x([a-fA-F0-9]+)|([0-9]+));/g,function(A,_,M){return String.fromCodePoint(parseInt(_||M,_?16:10))})},w.prototype._decodeAttributeValue=function(C){return this._decodeText(C)},w.prototype.parse=function(C,A){return this._parse(C,A)},w.prototype.docType=function(C,A,_,M){return this._docType(C,A,_,M)},w.prototype.comment=function(C,A){return this._comment(C,A)},w.prototype.text=function(C,A){return this._text(C,A)},w.prototype.instruction=function(C,A,_){return this._instruction(C,A,_)},w.prototype.cdata=function(C,A){return this._cdata(C,A)},w.prototype.element=function(C,A,_){return this._element(C,A,_)},w.prototype.attribute=function(C,A,_,M){return this._attribute(C,A,_,M)},w.prototype.sanitize=function(C){return this._sanitize(C)},w._entityTable={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},w}();m.BaseReader=g},function(s,m,f){var x=f(39);s.exports=x.DEFAULT=new x({include:[f(54)],explicit:[f(300),f(301),f(302)]})},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(185);m.XMLBuilderImpl=x.XMLBuilderImpl;var g=f(305);m.XMLBuilderCBImpl=g.XMLBuilderCBImpl;var w=f(183);m.builder=w.builder,m.create=w.create,m.fragment=w.fragment,m.convert=w.convert;var C=f(310);m.createCB=C.createCB,m.fragmentCB=C.fragmentCB},function(s,m){var f;f=function(){return this}();try{f=f||new Function("return this")()}catch{typeof window=="object"&&(f=window)}s.exports=f},function(s,m,f){var x={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,w=g&&!x.call({1:2},1);m.f=w?function(C){var A=g(this,C);return!!A&&A.enumerable}:x},function(s,m,f){var x=f(11),g=f(21);s.exports=function(w,C){try{g(x,w,C)}catch{x[w]=C}return C}},function(s,m,f){var x=f(44),g=f(118);(s.exports=function(w,C){return g[w]||(g[w]=C!==void 0?C:{})})("versions",[]).push({version:"3.6.5",mode:x?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(s,m,f){var x=f(121),g=f(84).concat("length","prototype");m.f=Object.getOwnPropertyNames||function(w){return x(w,g)}},function(s,m,f){var x=f(47),g=Math.max,w=Math.min;s.exports=function(C,A){var _=x(C);return _<0?g(_+A,0):w(_,A)}},function(s,m){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,m){m.f=Object.getOwnPropertySymbols},function(s,m,f){var x=f(8);s.exports=!!Object.getOwnPropertySymbols&&!x(function(){return!String(Symbol())})},function(s,m,f){var x=f(127);s.exports=function(g,w,C){if(x(g),w===void 0)return g;switch(C){case 0:return function(){return g.call(w)};case 1:return function(A){return g.call(w,A)};case 2:return function(A,_){return g.call(w,A,_)};case 3:return function(A,_,M){return g.call(w,A,_,M)}}return function(){return g.apply(w,arguments)}}},function(s,m,f){var x=f(4),g=f(195),w=f(132),C=f(133),A=f(62),_=f(21),M=f(25),P=f(5),D=f(44),E=f(49),I=f(131),B=I.IteratorPrototype,F=I.BUGGY_SAFARI_ITERATORS,R=P("iterator"),L=function(){return this};s.exports=function(z,G,W,K,q,Z,J){g(W,G,K);var Q,ie,se,oe=function(Se){if(Se===q&&me)return me;if(!F&&Se in xe)return xe[Se];switch(Se){case"keys":case"values":case"entries":return function(){return new W(this,Se)}}return function(){return new W(this)}},ue=G+" Iterator",fe=!1,xe=z.prototype,ce=xe[R]||xe["@@iterator"]||q&&xe[q],me=!F&&ce||oe(q),pe=G=="Array"&&xe.entries||ce;if(pe&&(Q=w(pe.call(new z)),B!==Object.prototype&&Q.next&&(D||w(Q)===B||(C?C(Q,B):typeof Q[R]!="function"&&_(Q,R,L)),A(Q,ue,!0,!0),D&&(E[ue]=L))),q=="values"&&ce&&ce.name!=="values"&&(fe=!0,me=function(){return ce.call(this)}),D&&!J||xe[R]===me||_(xe,R,me),E[G]=me,q)if(ie={values:oe("values"),keys:Z?me:oe("keys"),entries:oe("entries")},J)for(se in ie)(F||fe||!(se in xe))&&M(xe,se,ie[se]);else x({target:G,proto:!0,forced:F||fe},ie);return ie}},function(s,m,f){var x=f(4),g=f(13),w=f(59),C=f(83),A=f(26),_=f(24),M=f(134),P=f(5),D=f(63),E=f(28),I=D("slice"),B=E("slice",{ACCESSORS:!0,0:0,1:2}),F=P("species"),R=[].slice,L=Math.max;x({target:"Array",proto:!0,forced:!I||!B},{slice:function(z,G){var W,K,q,Z=_(this),J=A(Z.length),Q=C(z,J),ie=C(G===void 0?J:G,J);if(w(Z)&&(typeof(W=Z.constructor)!="function"||W!==Array&&!w(W.prototype)?g(W)&&(W=W[F])===null&&(W=void 0):W=void 0,W===Array||W===void 0))return R.call(Z,Q,ie);for(K=new(W===void 0?Array:W)(L(ie-Q,0)),q=0;Q<ie;Q++,q++)Q in Z&&M(K,q,Z[Q]);return K.length=q,K}})},function(s,m,f){var x={};x[f(5)("toStringTag")]="z",s.exports=String(x)==="[object z]"},function(s,m,f){f(19),f(138),f(20),f(92),f(22),f(23),Object.defineProperty(m,"__esModule",{value:!0}),m.DefaultBuilderOptions={version:"1.0",encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,skipWhitespaceOnlyText:!0,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},invalidCharReplacement:void 0,parser:void 0},m.XMLBuilderOptionKeys=new Set(Object.keys(m.DefaultBuilderOptions)),m.DefaultXMLBuilderCBOptions={format:"xml",wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}}},function(s,m,f){var x=f(139),g=f(143);s.exports=x("Set",function(w){return function(){return w(this,arguments.length?arguments[0]:void 0)}},g)},function(s,m,f){var x,g,w=f(136),C=f(221),A=RegExp.prototype.exec,_=String.prototype.replace,M=A,P=(x=/a/,g=/b*/g,A.call(x,"a"),A.call(g,"a"),x.lastIndex!==0||g.lastIndex!==0),D=C.UNSUPPORTED_Y||C.BROKEN_CARET,E=/()??/.exec("")[1]!==void 0;(P||E||D)&&(M=function(I){var B,F,R,L,z=this,G=D&&z.sticky,W=w.call(z),K=z.source,q=0,Z=I;return G&&((W=W.replace("y","")).indexOf("g")===-1&&(W+="g"),Z=String(I).slice(z.lastIndex),z.lastIndex>0&&(!z.multiline||z.multiline&&I[z.lastIndex-1]!==`
`)&&(K="(?: "+K+")",Z=" "+Z,q++),F=new RegExp("^(?:"+K+")",W)),E&&(F=new RegExp("^"+K+"$(?!\\s)",W)),P&&(B=z.lastIndex),R=A.call(G?F:z,Z),G?R?(R.input=R.input.slice(q),R[0]=R[0].slice(q),R.index=z.lastIndex,z.lastIndex+=R[0].length):z.lastIndex=0:P&&R&&(z.lastIndex=z.global?R.index+R[0].length:B),E&&R&&R.length>1&&_.call(R[0],F,function(){for(L=1;L<arguments.length-2;L++)arguments[L]===void 0&&(R[L]=void 0)}),R}),s.exports=M},function(s,m,f){var x=f(225),g=f(18),w=f(27),C=f(26),A=f(47),_=f(35),M=f(226),P=f(227),D=Math.max,E=Math.min,I=Math.floor,B=/\$([$&'`]|\d\d?|<[^>]*>)/g,F=/\$([$&'`]|\d\d?)/g;x("replace",2,function(R,L,z,G){var W=G.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,K=G.REPLACE_KEEPS_$0,q=W?"$":"$0";return[function(J,Q){var ie=_(this),se=J==null?void 0:J[R];return se!==void 0?se.call(J,ie,Q):L.call(String(ie),J,Q)},function(J,Q){if(!W&&K||typeof Q=="string"&&Q.indexOf(q)===-1){var ie=z(L,J,this,Q);if(ie.done)return ie.value}var se=g(J),oe=String(this),ue=typeof Q=="function";ue||(Q=String(Q));var fe=se.global;if(fe){var xe=se.unicode;se.lastIndex=0}for(var ce=[];;){var me=P(se,oe);if(me===null||(ce.push(me),!fe))break;String(me[0])===""&&(se.lastIndex=M(oe,C(se.lastIndex),xe))}for(var pe,Se="",Ae=0,_e=0;_e<ce.length;_e++){me=ce[_e];for(var Me=String(me[0]),ve=D(E(A(me.index),oe.length),0),Ee=[],Le=1;Le<me.length;Le++)Ee.push((pe=me[Le])===void 0?pe:String(pe));var Ie=me.groups;if(ue){var Oe=[Me].concat(Ee,ve,oe);Ie!==void 0&&Oe.push(Ie);var le=String(Q.apply(void 0,Oe))}else le=Z(Me,oe,ve,Ee,Ie,Q);ve>=Ae&&(Se+=oe.slice(Ae,ve)+le,Ae=ve+Me.length)}return Se+oe.slice(Ae)}];function Z(J,Q,ie,se,oe,ue){var fe=ie+J.length,xe=se.length,ce=F;return oe!==void 0&&(oe=w(oe),ce=B),L.call(ue,ce,function(me,pe){var Se;switch(pe.charAt(0)){case"$":return"$";case"&":return J;case"`":return Q.slice(0,ie);case"'":return Q.slice(fe);case"<":Se=oe[pe.slice(1,-1)];break;default:var Ae=+pe;if(Ae===0)return me;if(Ae>xe){var _e=I(Ae/10);return _e===0?me:_e<=xe?se[_e-1]===void 0?pe.charAt(1):se[_e-1]+pe.charAt(1):me}Se=se[Ae-1]}return Se===void 0?"":Se})}})},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=function(){function g(){this._items={},this._nullItems=[]}return g.prototype.copy=function(){var w=new g;for(var C in this._items)w._items[C]=this._items[C].slice(0);return w._nullItems=this._nullItems.slice(0),w},g.prototype.get=function(w,C){var A=C===null?this._nullItems:this._items[C]||null;if(A===null)return null;for(var _=null,M=0;M<A.length;M++)if((_=A[M])===w)return _;return _},g.prototype.has=function(w,C){var A=C===null?this._nullItems:this._items[C]||null;return A!==null&&A.indexOf(w)!==-1},g.prototype.hasPrefix=function(w){if(this._nullItems.indexOf(w)!==-1)return!0;for(var C in this._items)if(this._items[C].indexOf(w)!==-1)return!0;return!1},g.prototype.set=function(w,C){var A=C===null?this._nullItems:this._items[C]||null;C!==null&&A===null?this._items[C]=[w]:A.push(w)},g}();m.NamespacePrefixMap=x},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0}),m.Surrogate=/[\uD800-\uDFFF]/,m.ScalarValue=/[\uD800-\uDFFF]/,m.NonCharacter=/[\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]/,m.ASCIICodePoint=/[\u0000-\u007F]/,m.ASCIITabOrNewLine=/[\t\n\r]/,m.ASCIIWhiteSpace=/[\t\n\f\r ]/,m.C0Control=/[\u0000-\u001F]/,m.C0ControlOrSpace=/[\u0000-\u001F ]/,m.Control=/[\u0000-\u001F\u007F-\u009F]/,m.ASCIIDigit=/[0-9]/,m.ASCIIUpperHexDigit=/[0-9A-F]/,m.ASCIILowerHexDigit=/[0-9a-f]/,m.ASCIIHexDigit=/[0-9A-Fa-f]/,m.ASCIIUpperAlpha=/[A-Z]/,m.ASCIILowerAlpha=/[a-z]/,m.ASCIIAlpha=/[A-Za-z]/,m.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(s,m,f){var x=this&&this.__values||function(Q){var ie=typeof Symbol=="function"&&Symbol.iterator,se=ie&&Q[ie],oe=0;if(se)return se.call(Q);if(Q&&typeof Q.length=="number")return{next:function(){return Q&&oe>=Q.length&&(Q=void 0),{value:Q&&Q[oe++],done:!Q}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")},g=this&&this.__read||function(Q,ie){var se=typeof Symbol=="function"&&Q[Symbol.iterator];if(!se)return Q;var oe,ue,fe=se.call(Q),xe=[];try{for(;(ie===void 0||ie-- >0)&&!(oe=fe.next()).done;)xe.push(oe.value)}catch(ce){ue={error:ce}}finally{try{oe&&!oe.done&&(se=fe.return)&&se.call(fe)}finally{if(ue)throw ue.error}}return xe},w=this&&this.__spread||function(){for(var Q=[],ie=0;ie<arguments.length;ie++)Q=Q.concat(g(arguments[ie]));return Q};Object.defineProperty(m,"__esModule",{value:!0});var C=f(6),A=f(1),_=f(3),M=f(171),P=f(104),D=f(9),E=f(17),I=f(72),B=f(30);function F(Q,ie){ie===void 0&&(ie=void 0),ie===void 0&&(ie=null);var se=R(Q,ie,new Date,{});return se._isTrusted=!0,se}function R(Q,ie,se,oe){var ue=new Q("");return ue._initializedFlag=!0,ue._timeStamp=se.getTime(),Object.assign(ue,oe),C.dom.features.steps&&B.dom_runEventConstructingSteps(ue),ue}function L(Q,ie,se,oe){var ue,fe,xe,ce;se===void 0&&(se=!1),oe===void 0&&(oe={value:!1});var me=!1;Q._dispatchFlag=!0;var pe=ie;if(se){var Se=ie._associatedDocument;_.Guard.isDocumentNode(Se)&&(pe=Se)}var Ae=null,_e=E.tree_retarget(Q._relatedTarget,ie);if(ie!==_e||ie===Q._relatedTarget){var Me=[];try{for(var ve=x(Q._touchTargetList),Ee=ve.next();!Ee.done;Ee=ve.next()){var Le=Ee.value;Me.push(E.tree_retarget(Le,ie))}}catch(Pe){ue={error:Pe}}finally{try{Ee&&!Ee.done&&(fe=ve.return)&&fe.call(ve)}finally{if(ue)throw ue.error}}z(Q,ie,pe,_e,Me,!1);var Ie=_.Guard.isMouseEvent(Q)&&Q._type==="click";Ie&&ie._activationBehavior!==void 0&&(Ae=ie);for(var Oe=_.Guard.isSlotable(ie)&&I.shadowTree_isAssigned(ie)?ie:null,le=!1,te=ie._getTheParent(Q);te!==null&&_.Guard.isNode(te);){if(Oe!==null){if(!_.Guard.isSlot(te))throw new Error("Parent node of a slotable should be a slot.");Oe=null;var re=E.tree_rootNode(te,!0);_.Guard.isShadowRoot(re)&&re._mode==="closed"&&(le=!0)}_.Guard.isSlotable(te)&&I.shadowTree_isAssigned(te)&&(Oe=te),_e=E.tree_retarget(Q._relatedTarget,te),Me=[];try{for(var ne=(xe=void 0,x(Q._touchTargetList)),ae=ne.next();!ae.done;ae=ne.next())Le=ae.value,Me.push(E.tree_retarget(Le,te))}catch(Pe){xe={error:Pe}}finally{try{ae&&!ae.done&&(ce=ne.return)&&ce.call(ne)}finally{if(xe)throw xe.error}}_.Guard.isWindow(te)||_.Guard.isNode(te)&&_.Guard.isNode(ie)&&E.tree_isAncestorOf(E.tree_rootNode(ie,!0),te,!0,!0)?(Ie&&Q._bubbles&&Ae===null&&te._activationBehavior&&(Ae=te),z(Q,te,null,_e,Me,le)):te===_e?te=null:(ie=te,Ie&&Ae===null&&ie._activationBehavior&&(Ae=ie),z(Q,te,ie,_e,Me,le)),te!==null&&(te=te._getTheParent(Q)),le=!1}for(var he=null,de=Q._path,be=de.length-1;be>=0;be--)if((we=de[be]).shadowAdjustedTarget!==null){he=we;break}if(he!==null)if(_.Guard.isNode(he.shadowAdjustedTarget)&&_.Guard.isShadowRoot(E.tree_rootNode(he.shadowAdjustedTarget,!0)))me=!0;else if(_.Guard.isNode(he.relatedTarget)&&_.Guard.isShadowRoot(E.tree_rootNode(he.relatedTarget,!0)))me=!0;else for(var Ce=0;Ce<he.touchTargetList.length;Ce++){var we=he.touchTargetList[Ce];if(_.Guard.isNode(we)&&_.Guard.isShadowRoot(E.tree_rootNode(we,!0))){me=!0;break}}for(Ae!==null&&Ae._legacyPreActivationBehavior!==void 0&&Ae._legacyPreActivationBehavior(Q),be=de.length-1;be>=0;be--)(we=de[be]).shadowAdjustedTarget!==null?Q._eventPhase=A.EventPhase.AtTarget:Q._eventPhase=A.EventPhase.Capturing,G(we,Q,"capturing",oe);for(be=0;be<de.length;be++){if((we=de[be]).shadowAdjustedTarget!==null)Q._eventPhase=A.EventPhase.AtTarget;else{if(!Q._bubbles)continue;Q._eventPhase=A.EventPhase.Bubbling}G(we,Q,"bubbling",oe)}}return Q._eventPhase=A.EventPhase.None,Q._currentTarget=null,Q._path=[],Q._dispatchFlag=!1,Q._stopPropagationFlag=!1,Q._stopImmediatePropagationFlag=!1,me&&(Q._target=null,Q._relatedTarget=null,Q._touchTargetList=[]),Ae!==null&&(Q._canceledFlag||Ae._activationBehavior===void 0?Ae._legacyCanceledActivationBehavior!==void 0&&Ae._legacyCanceledActivationBehavior(Q):Ae._activationBehavior(Q)),!Q._canceledFlag}function z(Q,ie,se,oe,ue,fe){var xe=!1;_.Guard.isNode(ie)&&_.Guard.isShadowRoot(E.tree_rootNode(ie))&&(xe=!0);var ce=!1;_.Guard.isShadowRoot(ie)&&ie._mode==="closed"&&(ce=!0),Q._path.push({invocationTarget:ie,invocationTargetInShadowTree:xe,shadowAdjustedTarget:se,relatedTarget:oe,touchTargetList:ue,rootOfClosedTree:ce,slotInClosedTree:fe})}function G(Q,ie,se,oe){oe===void 0&&(oe={value:!1});for(var ue=ie._path,fe=-1,xe=0;xe<ue.length;xe++)if(ue[xe]===Q){fe=xe;break}if(fe!==-1){var ce=ue[fe];(ce.shadowAdjustedTarget!==null||fe>0&&(ce=ue[fe-1]).shadowAdjustedTarget!==null)&&(ie._target=ce.shadowAdjustedTarget)}if(ie._relatedTarget=Q.relatedTarget,ie._touchTargetList=Q.touchTargetList,!ie._stopPropagationFlag){ie._currentTarget=Q.invocationTarget;var me=ie._currentTarget._eventListenerList,pe=new(Array.bind.apply(Array,w([void 0],me)));if(!W(ie,pe,se,Q,oe)&&ie._isTrusted){var Se=ie._type;Se==="animationend"?ie._type="webkitAnimationEnd":Se==="animationiteration"?ie._type="webkitAnimationIteration":Se==="animationstart"?ie._type="webkitAnimationStart":Se==="transitionend"&&(ie._type="webkitTransitionEnd"),W(ie,pe,se,Q,oe),ie._type=Se}}}function W(Q,ie,se,oe,ue){ue===void 0&&(ue={value:!1});for(var fe=!1,xe=0;xe<ie.length;xe++){var ce=ie[xe];if(!ce.removed){if(Q._type!==ce.type||(fe=!0,se==="capturing"&&!ce.capture)||se==="bubbling"&&ce.capture)continue;if(ce.once&&Q._currentTarget!==null){for(var me=Q._currentTarget,pe=-1,Se=0;Se<me._eventListenerList.length;Se++)if(me._eventListenerList[Se]===ce){pe=Se;break}pe!==-1&&me._eventListenerList.splice(pe,1)}var Ae=void 0,_e=void 0;_.Guard.isWindow(Ae)&&(_e=Ae._currentEvent,oe.invocationTargetInShadowTree===!1&&(Ae._currentEvent=Q)),ce.passive&&(Q._inPassiveListenerFlag=!0);try{ce.callback.handleEvent.call(Q._currentTarget,Q)}catch{ue.value=!0}if(ce.passive&&(Q._inPassiveListenerFlag=!1),_.Guard.isWindow(Ae)&&(Ae._currentEvent=_e),Q._stopImmediatePropagationFlag)return fe}}return fe}function K(Q,ie){return null}function q(Q,ie){return null}function Z(Q,ie){}function J(Q,ie){}m.event_setTheCanceledFlag=function(Q){Q._cancelable&&!Q._inPassiveListenerFlag&&(Q._canceledFlag=!0)},m.event_initialize=function(Q,ie,se,oe){Q._initializedFlag=!0,Q._stopPropagationFlag=!1,Q._stopImmediatePropagationFlag=!1,Q._canceledFlag=!1,Q._isTrusted=!1,Q._target=null,Q._type=ie,Q._bubbles=se,Q._cancelable=oe},m.event_createAnEvent=F,m.event_innerEventCreationSteps=R,m.event_dispatch=L,m.event_appendToAnEventPath=z,m.event_invoke=G,m.event_innerInvoke=W,m.event_fireAnEvent=function(Q,ie,se,oe,ue){se===void 0&&(se=P.EventImpl);var fe=F(se);if(fe._type=Q,oe)for(var xe in oe)fe[xe]=oe[xe];return L(fe,ie,ue)},m.event_createLegacyEvent=function(Q){var ie=null;switch(Q.toLowerCase()){case"beforeunloadevent":case"compositionevent":break;case"customevent":ie=M.CustomEventImpl;break;case"devicemotionevent":case"deviceorientationevent":case"dragevent":break;case"event":case"events":ie=P.EventImpl}if(ie===null)throw new D.NotSupportedError("Event constructor not found for interface "+Q+".");var se=new ie("");return se._type="",se._timeStamp=new Date().getTime(),se._isTrusted=!1,se._initializedFlag=!1,se},m.event_getterEventHandlerIDLAttribute=function(Q,ie){return null},m.event_setterEventHandlerIDLAttribute=function(Q,ie,se){},m.event_determineTheTargetOfAnEventHandler=K,m.event_getTheCurrentValueOfAnEventHandler=q,m.event_activateAnEventHandler=Z,m.event_deactivateAnEventHandler=J},function(s,m,f){var x,g=this&&this.__extends||(x=function(z,G){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,K){W.__proto__=K}||function(W,K){for(var q in K)K.hasOwnProperty(q)&&(W[q]=K[q])})(z,G)},function(z,G){function W(){this.constructor=z}x(z,G),z.prototype=G===null?Object.create(G):(W.prototype=G.prototype,new W)}),w=this&&this.__values||function(z){var G=typeof Symbol=="function"&&Symbol.iterator,W=G&&z[G],K=0;if(W)return W.call(z);if(z&&typeof z.length=="number")return{next:function(){return z&&K>=z.length&&(z=void 0),{value:z&&z[K++],done:!z}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")},C=this&&this.__read||function(z,G){var W=typeof Symbol=="function"&&z[Symbol.iterator];if(!W)return z;var K,q,Z=W.call(z),J=[];try{for(;(G===void 0||G-- >0)&&!(K=Z.next()).done;)J.push(K.value)}catch(Q){q={error:Q}}finally{try{K&&!K.done&&(W=Z.return)&&W.call(Z)}finally{if(q)throw q.error}}return J};Object.defineProperty(m,"__esModule",{value:!0});var A=f(6),_=f(1),M=f(9),P=f(34),D=f(3),E=f(2),I=f(7),B=f(152),F=f(0),R=f(12),L=function(z){function G(){var W=z.call(this)||this;return W._children=new Set,W._encoding={name:"UTF-8",labels:["unicode-1-1-utf-8","utf-8","utf8"]},W._contentType="application/xml",W._URL={scheme:"about",username:"",password:"",host:null,port:null,path:["blank"],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},W._origin=null,W._type="xml",W._mode="no-quirks",W._documentElement=null,W._hasNamespaces=!1,W._nodeDocumentOverwrite=null,W}return g(G,z),Object.defineProperty(G.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverwrite||this},set:function(W){this._nodeDocumentOverwrite=W},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"implementation",{get:function(){return this._implementation||(this._implementation=F.create_domImplementation(this))},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"URL",{get:function(){return B.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"documentURI",{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"origin",{get:function(){return"null"},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"compatMode",{get:function(){return this._mode==="quirks"?"BackCompat":"CSS1Compat"},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"characterSet",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"charset",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"inputEncoding",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"contentType",{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"doctype",{get:function(){var W,K;try{for(var q=w(this._children),Z=q.next();!Z.done;Z=q.next()){var J=Z.value;if(D.Guard.isDocumentTypeNode(J))return J}}catch(Q){W={error:Q}}finally{try{Z&&!Z.done&&(K=q.return)&&K.call(q)}finally{if(W)throw W.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"documentElement",{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),G.prototype.getElementsByTagName=function(W){return F.node_listOfElementsWithQualifiedName(W,this)},G.prototype.getElementsByTagNameNS=function(W,K){return F.node_listOfElementsWithNamespace(W,K,this)},G.prototype.getElementsByClassName=function(W){return F.node_listOfElementsWithClassNames(W,this)},G.prototype.createElement=function(W,K){if(!F.xml_isName(W))throw new M.InvalidCharacterError;this._type==="html"&&(W=W.toLowerCase());var q=null;K!==void 0&&(q=E.isString(K)?K:K.is);var Z=this._type==="html"||this._contentType==="application/xhtml+xml"?I.namespace.HTML:null;return F.element_createAnElement(this,W,Z,null,q,!0)},G.prototype.createElementNS=function(W,K,q){return F.document_internalCreateElementNS(this,W,K,q)},G.prototype.createDocumentFragment=function(){return F.create_documentFragment(this)},G.prototype.createTextNode=function(W){return F.create_text(this,W)},G.prototype.createCDATASection=function(W){if(this._type==="html")throw new M.NotSupportedError;if(W.indexOf("]]>")!==-1)throw new M.InvalidCharacterError;return F.create_cdataSection(this,W)},G.prototype.createComment=function(W){return F.create_comment(this,W)},G.prototype.createProcessingInstruction=function(W,K){if(!F.xml_isName(W))throw new M.InvalidCharacterError;if(K.indexOf("?>")!==-1)throw new M.InvalidCharacterError;return F.create_processingInstruction(this,W,K)},G.prototype.importNode=function(W,K){if(K===void 0&&(K=!1),D.Guard.isDocumentNode(W)||D.Guard.isShadowRoot(W))throw new M.NotSupportedError;return F.node_clone(W,this,K)},G.prototype.adoptNode=function(W){if(D.Guard.isDocumentNode(W))throw new M.NotSupportedError;if(D.Guard.isShadowRoot(W))throw new M.HierarchyRequestError;return F.document_adopt(W,this),W},G.prototype.createAttribute=function(W){if(!F.xml_isName(W))throw new M.InvalidCharacterError;return this._type==="html"&&(W=W.toLowerCase()),F.create_attr(this,W)},G.prototype.createAttributeNS=function(W,K){var q=C(F.namespace_validateAndExtract(W,K),3),Z=q[0],J=q[1],Q=q[2],ie=F.create_attr(this,Q);return ie._namespace=Z,ie._namespacePrefix=J,ie},G.prototype.createEvent=function(W){return F.event_createLegacyEvent(W)},G.prototype.createRange=function(){var W=F.create_range();return W._start=[this,0],W._end=[this,0],W},G.prototype.createNodeIterator=function(W,K,q){K===void 0&&(K=_.WhatToShow.All),q===void 0&&(q=null);var Z=F.create_nodeIterator(W,W,!0);return Z._whatToShow=K,Z._iteratorCollection=F.create_nodeList(W),E.isFunction(q)?(Z._filter=F.create_nodeFilter(),Z._filter.acceptNode=q):Z._filter=q,Z},G.prototype.createTreeWalker=function(W,K,q){K===void 0&&(K=_.WhatToShow.All),q===void 0&&(q=null);var Z=F.create_treeWalker(W,W);return Z._whatToShow=K,E.isFunction(q)?(Z._filter=F.create_nodeFilter(),Z._filter.acceptNode=q):Z._filter=q,Z},G.prototype._getTheParent=function(W){return W._type==="load"?null:A.dom.window},G.prototype.getElementById=function(W){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(G.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),G.prototype.prepend=function(){for(var W=[],K=0;K<arguments.length;K++)W[K]=arguments[K];throw new Error("Mixin: ParentNode not implemented.")},G.prototype.append=function(){for(var W=[],K=0;K<arguments.length;K++)W[K]=arguments[K];throw new Error("Mixin: ParentNode not implemented.")},G.prototype.querySelector=function(W){throw new Error("Mixin: ParentNode not implemented.")},G.prototype.querySelectorAll=function(W){throw new Error("Mixin: ParentNode not implemented.")},G}(P.NodeImpl);m.DocumentImpl=L,R.idl_defineConst(L.prototype,"_nodeType",_.NodeType.Document)},function(s,m,f){var x,g=this&&this.__extends||(x=function(B,F){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,L){R.__proto__=L}||function(R,L){for(var z in L)L.hasOwnProperty(z)&&(R[z]=L[z])})(B,F)},function(B,F){function R(){this.constructor=B}x(B,F),B.prototype=F===null?Object.create(F):(R.prototype=F.prototype,new R)}),w=this&&this.__values||function(B){var F=typeof Symbol=="function"&&Symbol.iterator,R=F&&B[F],L=0;if(R)return R.call(B);if(B&&typeof B.length=="number")return{next:function(){return B&&L>=B.length&&(B=void 0),{value:B&&B[L++],done:!B}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")},C=this&&this.__read||function(B,F){var R=typeof Symbol=="function"&&B[Symbol.iterator];if(!R)return B;var L,z,G=R.call(B),W=[];try{for(;(F===void 0||F-- >0)&&!(L=G.next()).done;)W.push(L.value)}catch(K){z={error:K}}finally{try{L&&!L.done&&(R=G.return)&&R.call(G)}finally{if(z)throw z.error}}return W};Object.defineProperty(m,"__esModule",{value:!0});var A=f(1),_=f(34),M=f(9),P=f(7),D=f(0),E=f(12),I=function(B){function F(){var R=B.call(this)||this;return R._children=new Set,R._namespace=null,R._namespacePrefix=null,R._localName="",R._customElementState="undefined",R._customElementDefinition=null,R._is=null,R._shadowRoot=null,R._attributeList=D.create_namedNodeMap(R),R._attributeChangeSteps=[],R._name="",R._assignedSlot=null,R}return g(F,B),Object.defineProperty(F.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"tagName",{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"id",{get:function(){return D.element_getAnAttributeValue(this,"id")},set:function(R){D.element_setAnAttributeValue(this,"id",R)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"className",{get:function(){return D.element_getAnAttributeValue(this,"class")},set:function(R){D.element_setAnAttributeValue(this,"class",R)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"classList",{get:function(){var R=D.element_getAnAttributeByName("class",this);return R===null&&(R=D.create_attr(this._nodeDocument,"class")),D.create_domTokenList(this,R)},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"slot",{get:function(){return D.element_getAnAttributeValue(this,"slot")},set:function(R){D.element_setAnAttributeValue(this,"slot",R)},enumerable:!0,configurable:!0}),F.prototype.hasAttributes=function(){return this._attributeList.length!==0},Object.defineProperty(F.prototype,"attributes",{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),F.prototype.getAttributeNames=function(){var R,L,z=[];try{for(var G=w(this._attributeList),W=G.next();!W.done;W=G.next()){var K=W.value;z.push(K._qualifiedName)}}catch(q){R={error:q}}finally{try{W&&!W.done&&(L=G.return)&&L.call(G)}finally{if(R)throw R.error}}return z},F.prototype.getAttribute=function(R){var L=D.element_getAnAttributeByName(R,this);return L?L._value:null},F.prototype.getAttributeNS=function(R,L){var z=D.element_getAnAttributeByNamespaceAndLocalName(R,L,this);return z?z._value:null},F.prototype.setAttribute=function(R,L){if(!D.xml_isName(R))throw new M.InvalidCharacterError;this._namespace===P.namespace.HTML&&this._nodeDocument._type==="html"&&(R=R.toLowerCase());for(var z=null,G=0;G<this._attributeList.length;G++){var W=this._attributeList[G];if(W._qualifiedName===R){z=W;break}}if(z===null)return(z=D.create_attr(this._nodeDocument,R))._value=L,void D.element_append(z,this);D.element_change(z,this,L)},F.prototype.setAttributeNS=function(R,L,z){var G=C(D.namespace_validateAndExtract(R,L),3),W=G[0],K=G[1],q=G[2];D.element_setAnAttributeValue(this,q,z,K,W)},F.prototype.removeAttribute=function(R){D.element_removeAnAttributeByName(R,this)},F.prototype.removeAttributeNS=function(R,L){D.element_removeAnAttributeByNamespaceAndLocalName(R,L,this)},F.prototype.hasAttribute=function(R){this._namespace===P.namespace.HTML&&this._nodeDocument._type==="html"&&(R=R.toLowerCase());for(var L=0;L<this._attributeList.length;L++)if(this._attributeList[L]._qualifiedName===R)return!0;return!1},F.prototype.toggleAttribute=function(R,L){if(!D.xml_isName(R))throw new M.InvalidCharacterError;this._namespace===P.namespace.HTML&&this._nodeDocument._type==="html"&&(R=R.toLowerCase());for(var z=null,G=0;G<this._attributeList.length;G++){var W=this._attributeList[G];if(W._qualifiedName===R){z=W;break}}return z===null?(L===void 0||L===!0)&&((z=D.create_attr(this._nodeDocument,R))._value="",D.element_append(z,this),!0):L!==void 0&&L!==!1||(D.element_removeAnAttributeByName(R,this),!1)},F.prototype.hasAttributeNS=function(R,L){for(var z=R||null,G=0;G<this._attributeList.length;G++){var W=this._attributeList[G];if(W._namespace===z&&W._localName===L)return!0}return!1},F.prototype.getAttributeNode=function(R){return D.element_getAnAttributeByName(R,this)},F.prototype.getAttributeNodeNS=function(R,L){return D.element_getAnAttributeByNamespaceAndLocalName(R,L,this)},F.prototype.setAttributeNode=function(R){return D.element_setAnAttribute(R,this)},F.prototype.setAttributeNodeNS=function(R){return D.element_setAnAttribute(R,this)},F.prototype.removeAttributeNode=function(R){for(var L=!1,z=0;z<this._attributeList.length;z++)if(this._attributeList[z]===R){L=!0;break}if(!L)throw new M.NotFoundError;return D.element_remove(R,this),R},F.prototype.attachShadow=function(R){if(this._namespace!==P.namespace.HTML)throw new M.NotSupportedError;if(!D.customElement_isValidCustomElementName(this._localName)&&!D.customElement_isValidShadowHostName(this._localName))throw new M.NotSupportedError;if(D.customElement_isValidCustomElementName(this._localName)||this._is!==null){var L=D.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(L!==null&&L.disableShadow===!0)throw new M.NotSupportedError}if(this._shadowRoot!==null)throw new M.NotSupportedError;var z=D.create_shadowRoot(this._nodeDocument,this);return z._mode=R.mode,this._shadowRoot=z,z},Object.defineProperty(F.prototype,"shadowRoot",{get:function(){var R=this._shadowRoot;return R===null||R.mode==="closed"?null:R},enumerable:!0,configurable:!0}),F.prototype.closest=function(R){throw new M.NotImplementedError},F.prototype.matches=function(R){throw new M.NotImplementedError},F.prototype.webkitMatchesSelector=function(R){return this.matches(R)},F.prototype.getElementsByTagName=function(R){return D.node_listOfElementsWithQualifiedName(R,this)},F.prototype.getElementsByTagNameNS=function(R,L){return D.node_listOfElementsWithNamespace(R,L,this)},F.prototype.getElementsByClassName=function(R){return D.node_listOfElementsWithClassNames(R,this)},F.prototype.insertAdjacentElement=function(R,L){return D.element_insertAdjacent(this,R,L)},F.prototype.insertAdjacentText=function(R,L){var z=D.create_text(this._nodeDocument,L);D.element_insertAdjacent(this,R,z)},Object.defineProperty(F.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"_htmlUppercasedQualifiedName",{get:function(){var R=this._qualifiedName;return this._namespace===P.namespace.HTML&&this._nodeDocument._type==="html"&&(R=R.toUpperCase()),R},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),F.prototype.prepend=function(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];throw new Error("Mixin: ParentNode not implemented.")},F.prototype.append=function(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];throw new Error("Mixin: ParentNode not implemented.")},F.prototype.querySelector=function(R){throw new Error("Mixin: ParentNode not implemented.")},F.prototype.querySelectorAll=function(R){throw new Error("Mixin: ParentNode not implemented.")},Object.defineProperty(F.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),F.prototype.before=function(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];throw new Error("Mixin: ChildNode not implemented.")},F.prototype.after=function(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];throw new Error("Mixin: ChildNode not implemented.")},F.prototype.replaceWith=function(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];throw new Error("Mixin: ChildNode not implemented.")},F.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Object.defineProperty(F.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),F._create=function(R,L,z,G){z===void 0&&(z=null),G===void 0&&(G=null);var W=new F;return W._localName=L,W._namespace=z,W._namespacePrefix=G,W._nodeDocument=R,W},F}(_.NodeImpl);m.ElementImpl=I,E.idl_defineConst(I.prototype,"_nodeType",A.NodeType.Element)},function(s,m,f){var x,g=this&&this.__extends||(x=function(M,P){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var I in E)E.hasOwnProperty(I)&&(D[I]=E[I])})(M,P)},function(M,P){function D(){this.constructor=M}x(M,P),M.prototype=P===null?Object.create(P):(D.prototype=P.prototype,new D)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(1),C=f(34),A=f(12),_=function(M){function P(D){D===void 0&&(D=null);var E=M.call(this)||this;return E._children=new Set,E._host=D,E}return g(P,M),P.prototype.getElementById=function(D){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(P.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),P.prototype.prepend=function(){for(var D=[],E=0;E<arguments.length;E++)D[E]=arguments[E];throw new Error("Mixin: ParentNode not implemented.")},P.prototype.append=function(){for(var D=[],E=0;E<arguments.length;E++)D[E]=arguments[E];throw new Error("Mixin: ParentNode not implemented.")},P.prototype.querySelector=function(D){throw new Error("Mixin: ParentNode not implemented.")},P.prototype.querySelectorAll=function(D){throw new Error("Mixin: ParentNode not implemented.")},P._create=function(D,E){E===void 0&&(E=null);var I=new P(E);return I._nodeDocument=D,I},P}(C.NodeImpl);m.DocumentFragmentImpl=_,A.idl_defineConst(_.prototype,"_nodeType",w.NodeType.DocumentFragment)},function(s,m,f){var x,g=this&&this.__extends||(x=function(D,E){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,B){I.__proto__=B}||function(I,B){for(var F in B)B.hasOwnProperty(F)&&(I[F]=B[F])})(D,E)},function(D,E){function I(){this.constructor=D}x(D,E),D.prototype=E===null?Object.create(E):(I.prototype=E.prototype,new I)}),w=this&&this.__values||function(D){var E=typeof Symbol=="function"&&Symbol.iterator,I=E&&D[E],B=0;if(I)return I.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&B>=D.length&&(D=void 0),{value:D&&D[B++],done:!D}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var C=f(1),A=f(71),_=f(0),M=f(12),P=function(D){function E(I){I===void 0&&(I="");var B=D.call(this,I)||this;return B._name="",B._assignedSlot=null,B}return g(E,D),Object.defineProperty(E.prototype,"wholeText",{get:function(){var I,B,F="";try{for(var R=w(_.text_contiguousTextNodes(this,!0)),L=R.next();!L.done;L=R.next())F+=L.value._data}catch(z){I={error:z}}finally{try{L&&!L.done&&(B=R.return)&&B.call(R)}finally{if(I)throw I.error}}return F},enumerable:!0,configurable:!0}),E.prototype.splitText=function(I){return _.text_split(this,I)},Object.defineProperty(E.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),E._create=function(I,B){B===void 0&&(B="");var F=new E(B);return F._nodeDocument=I,F},E}(A.CharacterDataImpl);m.TextImpl=P,M.idl_defineConst(P.prototype,"_nodeType",C.NodeType.Text)},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=function(){function g(){}return Object.defineProperty(g.prototype,"_startNode",{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"_startOffset",{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"_endNode",{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"_endOffset",{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"_collapsed",{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"startContainer",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"startOffset",{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"endContainer",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"endOffset",{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),g}();m.AbstractRangeImpl=x},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(1),g=function(){function w(C){this._activeFlag=!1,this._root=C,this._whatToShow=x.WhatToShow.All,this._filter=null}return Object.defineProperty(w.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"whatToShow",{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),w}();m.TraverserImpl=g},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(1),g=f(0),w=f(12),C=function(){function A(_,M){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=x.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=_,M&&(this._bubbles=M.bubbles||!1,this._cancelable=M.cancelable||!1,this._composedFlag=M.composed||!1),this._initializedFlag=!0,this._timeStamp=new Date().getTime()}return Object.defineProperty(A.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"srcElement",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),A.prototype.composedPath=function(){var _=[],M=this._path;if(M.length===0)return _;var P=this._currentTarget;if(P===null)throw new Error("Event currentTarget is null.");_.push(P);for(var D=0,E=0,I=M.length-1;I>=0;){if(M[I].rootOfClosedTree&&E++,M[I].invocationTarget===P){D=I;break}M[I].slotInClosedTree&&E--,I--}var B=E,F=E;for(I=D-1;I>=0;)M[I].rootOfClosedTree&&B++,B<=F&&_.unshift(M[I].invocationTarget),M[I].slotInClosedTree&&--B<F&&(F=B),I--;for(B=E,F=E,I=D+1;I<M.length;)M[I].slotInClosedTree&&B++,B<=F&&_.push(M[I].invocationTarget),M[I].rootOfClosedTree&&--B<F&&(F=B),I++;return _},Object.defineProperty(A.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),A.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(A.prototype,"cancelBubble",{get:function(){return this._stopPropagationFlag},set:function(_){_&&this.stopPropagation()},enumerable:!0,configurable:!0}),A.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(A.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"returnValue",{get:function(){return!this._canceledFlag},set:function(_){_||g.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),A.prototype.preventDefault=function(){g.event_setTheCanceledFlag(this)},Object.defineProperty(A.prototype,"defaultPrevented",{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"composed",{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),A.prototype.initEvent=function(_,M,P){M===void 0&&(M=!1),P===void 0&&(P=!1),this._dispatchFlag||g.event_initialize(this,_,M,P)},A.NONE=0,A.CAPTURING_PHASE=1,A.AT_TARGET=2,A.BUBBLING_PHASE=3,A}();m.EventImpl=C,w.idl_defineConst(C.prototype,"NONE",0),w.idl_defineConst(C.prototype,"CAPTURING_PHASE",1),w.idl_defineConst(C.prototype,"AT_TARGET",2),w.idl_defineConst(C.prototype,"BUBBLING_PHASE",3)},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(1),g=f(9);m.traversal_filter=function(w,C){if(w._activeFlag)throw new g.InvalidStateError;var A=1<<C._nodeType-1;if(!(w.whatToShow&A))return x.FilterResult.Skip;if(!w.filter)return x.FilterResult.Accept;w._activeFlag=!0;var _=x.FilterResult.Reject;try{_=w.filter.acceptNode(C)}catch(M){throw w._activeFlag=!1,M}return w._activeFlag=!1,_}},function(s,m,f){var x=this&&this.__read||function(F,R){var L=typeof Symbol=="function"&&F[Symbol.iterator];if(!L)return F;var z,G,W=L.call(F),K=[];try{for(;(R===void 0||R-- >0)&&!(z=W.next()).done;)K.push(z.value)}catch(q){G={error:q}}finally{try{z&&!z.done&&(L=W.return)&&L.call(W)}finally{if(G)throw G.error}}return K},g=this&&this.__values||function(F){var R=typeof Symbol=="function"&&Symbol.iterator,L=R&&F[R],z=0;if(L)return L.call(F);if(F&&typeof F.length=="number")return{next:function(){return F&&z>=F.length&&(F=void 0),{value:F&&F[z++],done:!F}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var w=f(6),C=f(3),A=f(2),_=f(99),M=f(73),P=f(17),D=f(173),E=f(30),I=f(52),B=f(37);m.document_elementInterface=function(F,R){return _.ElementImpl},m.document_internalCreateElementNS=function(F,R,L,z){var G=x(D.namespace_validateAndExtract(R,L),3),W=G[0],K=G[1],q=G[2],Z=null;return z!==void 0&&(Z=A.isString(z)?z:z.is),I.element_createAnElement(F,q,W,K,Z,!0)},m.document_adopt=function(F,R){var L,z;if(F._nodeDocument!==R||F._parent!==null){var G=F._nodeDocument;if(F._parent&&B.mutation_remove(F,F._parent),R!==G)for(var W=P.tree_getFirstDescendantNode(F,!0,!0);W!==null;){if(W._nodeDocument=R,C.Guard.isElementNode(W))try{for(var K=(L=void 0,g(W._attributeList._asArray())),q=K.next();!q.done;q=K.next())q.value._nodeDocument=R}catch(Z){L={error:Z}}finally{try{q&&!q.done&&(z=K.return)&&z.call(K)}finally{if(L)throw L.error}}w.dom.features.customElements&&C.Guard.isElementNode(W)&&W._customElementState==="custom"&&M.customElement_enqueueACustomElementCallbackReaction(W,"adoptedCallback",[G,R]),w.dom.features.steps&&E.dom_runAdoptingSteps(W,G),W=P.tree_getNextDescendantNode(F,W,!0,!0)}}}},function(s,m,f){var x=this&&this.__values||function(P){var D=typeof Symbol=="function"&&Symbol.iterator,E=D&&P[D],I=0;if(E)return E.call(P);if(P&&typeof P.length=="number")return{next:function(){return P&&I>=P.length&&(P=void 0),{value:P&&P[I++],done:!P}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(6),w=f(3),C=f(9),A=f(17),_=f(51),M=f(30);m.characterData_replaceData=function(P,D,E,I){var B,F,R=A.tree_nodeLength(P);if(D>R)throw new C.IndexSizeError("Offset exceeds character data length. Offset: "+D+", Length: "+R+", Node is "+P.nodeName+".");D+E>R&&(E=R-D),g.dom.features.mutationObservers&&_.observer_queueMutationRecord("characterData",P,null,null,P._data,[],[],null,null);var L=P._data.substring(0,D)+I+P._data.substring(D+E);P._data=L;try{for(var z=x(g.dom.rangeList),G=z.next();!G.done;G=z.next()){var W=G.value;W._start[0]===P&&W._start[1]>D&&W._start[1]<=D+E&&(W._start[1]=D),W._end[0]===P&&W._end[1]>D&&W._end[1]<=D+E&&(W._end[1]=D),W._start[0]===P&&W._start[1]>D+E&&(W._start[1]+=I.length-E),W._end[0]===P&&W._end[1]>D+E&&(W._end[1]+=I.length-E)}}catch(K){B={error:K}}finally{try{G&&!G.done&&(F=z.return)&&F.call(z)}finally{if(B)throw B.error}}g.dom.features.steps&&w.Guard.isTextNode(P)&&P._parent!==null&&M.dom_runChildTextContentChangeSteps(P._parent)},m.characterData_substringData=function(P,D,E){var I=A.tree_nodeLength(P);if(D>I)throw new C.IndexSizeError("Offset exceeds character data length. Offset: "+D+", Length: "+I+", Node is "+P.nodeName+".");return D+E>I?P._data.substr(D):P._data.substr(D,E)}},function(s,m,f){var x=this&&this.__read||function(M,P){var D=typeof Symbol=="function"&&M[Symbol.iterator];if(!D)return M;var E,I,B=D.call(M),F=[];try{for(;(P===void 0||P-- >0)&&!(E=B.next()).done;)F.push(E.value)}catch(R){I={error:R}}finally{try{E&&!E.done&&(D=B.return)&&D.call(B)}finally{if(I)throw I.error}}return F},g=this&&this.__spread||function(){for(var M=[],P=0;P<arguments.length;P++)M=M.concat(x(arguments[P]));return M},w=this&&this.__values||function(M){var P=typeof Symbol=="function"&&Symbol.iterator,D=P&&M[P],E=0;if(D)return D.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&E>=M.length&&(M=void 0),{value:M&&M[E++],done:!M}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var C=f(7);function A(M){var P=C.string.splitAStringOnASCIIWhitespace(M);return new Set(P)}function _(M){return g(M).join(" ")}m.orderedSet_parse=A,m.orderedSet_serialize=_,m.orderedSet_sanitize=function(M){return _(A(M))},m.orderedSet_contains=function(M,P,D){var E,I,B,F;try{for(var R=w(P),L=R.next();!L.done;L=R.next()){var z=L.value,G=!1;try{for(var W=(B=void 0,w(M)),K=W.next();!K.done;K=W.next()){var q=K.value;if(D){if(q===z){G=!0;break}}else if(q.toUpperCase()===z.toUpperCase()){G=!0;break}}}catch(Z){B={error:Z}}finally{try{K&&!K.done&&(F=W.return)&&F.call(W)}finally{if(B)throw B.error}}if(!G)return!1}}catch(Z){E={error:Z}}finally{try{L&&!L.done&&(I=R.return)&&I.call(R)}finally{if(E)throw E.error}}return!0}},function(s,m,f){f(179),Object.defineProperty(m,"__esModule",{value:!0});var x=f(263),g=f(110),w=f(2);g.dom.setFeatures(!1),m.createDocument=function(){var C=new x.DOMImplementation().createDocument(null,"root",null);return C.documentElement&&C.removeChild(C.documentElement),C},m.sanitizeInput=function(C,A){if(C==null)return C;if(A===void 0)return C+"";var _="";C+="";for(var M=0;M<C.length;M++){var P=C.charCodeAt(M);if(P===9||P===10||P===13||P>=32&&P<=55295||P>=57344&&P<=65533)_+=C.charAt(M);else if(P>=55296&&P<=56319&&M<C.length-1){var D=C.charCodeAt(M+1);D>=56320&&D<=57343?(P=1024*(P-55296)+D-56320+65536,_+=String.fromCodePoint(P),M++):_+=w.isString(A)?A:A(C.charAt(M),M,C)}else _+=w.isString(A)?A:A(C.charAt(M),M,C)}return _}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(2),g=f(153);m.AbortController=g.AbortControllerImpl;var w=f(154);m.AbortSignal=w.AbortSignalImpl;var C=f(102);m.AbstractRange=C.AbstractRangeImpl;var A=f(157);m.Attr=A.AttrImpl;var _=f(158);m.CDATASection=_.CDATASectionImpl;var M=f(71);m.CharacterData=M.CharacterDataImpl;var P=f(264),D=f(159);m.Comment=D.CommentImpl;var E=f(171);m.CustomEvent=E.CustomEventImpl;var I=f(100);m.DocumentFragment=I.DocumentFragmentImpl;var B=f(98);m.Document=B.DocumentImpl;var F=f(265),R=f(155);m.DocumentType=R.DocumentTypeImpl;var L=f(6);m.dom=L.dom;var z=f(148);m.DOMImplementation=z.DOMImplementationImpl;var G=f(170);m.DOMTokenList=G.DOMTokenListImpl;var W=f(99);m.Element=W.ElementImpl;var K=f(104);m.Event=K.EventImpl;var q=f(70);m.EventTarget=q.EventTargetImpl;var Z=f(161);m.HTMLCollection=Z.HTMLCollectionImpl;var J=f(266);m.MutationObserver=J.MutationObserverImpl;var Q=f(169);m.MutationRecord=Q.MutationRecordImpl;var ie=f(164);m.NamedNodeMap=ie.NamedNodeMapImpl;var se=f(168);m.NodeFilter=se.NodeFilterImpl;var oe=f(34);m.Node=oe.NodeImpl;var ue=f(166);m.NodeIterator=ue.NodeIteratorImpl;var fe=f(162);m.NodeList=fe.NodeListImpl;var xe=f(163);m.NodeListStatic=xe.NodeListStaticImpl;var ce=f(267),me=f(268),pe=f(269),Se=f(160);m.ProcessingInstruction=Se.ProcessingInstructionImpl;var Ae=f(165);m.Range=Ae.RangeImpl;var _e=f(156);m.ShadowRoot=_e.ShadowRootImpl;var Me=f(270),ve=f(271);m.StaticRange=ve.StaticRangeImpl;var Ee=f(101);m.Text=Ee.TextImpl;var Le=f(103);m.Traverser=Le.TraverserImpl;var Ie=f(167);m.TreeWalker=Ie.TreeWalkerImpl;var Oe=f(149);m.Window=Oe.WindowImpl;var le=f(151);m.XMLDocument=le.XMLDocumentImpl,x.applyMixin(W.ElementImpl,P.ChildNodeImpl),x.applyMixin(M.CharacterDataImpl,P.ChildNodeImpl),x.applyMixin(R.DocumentTypeImpl,P.ChildNodeImpl),x.applyMixin(B.DocumentImpl,F.DocumentOrShadowRootImpl),x.applyMixin(_e.ShadowRootImpl,F.DocumentOrShadowRootImpl),x.applyMixin(W.ElementImpl,ce.NonDocumentTypeChildNodeImpl),x.applyMixin(M.CharacterDataImpl,ce.NonDocumentTypeChildNodeImpl),x.applyMixin(B.DocumentImpl,me.NonElementParentNodeImpl),x.applyMixin(I.DocumentFragmentImpl,me.NonElementParentNodeImpl),x.applyMixin(B.DocumentImpl,pe.ParentNodeImpl),x.applyMixin(I.DocumentFragmentImpl,pe.ParentNodeImpl),x.applyMixin(W.ElementImpl,pe.ParentNodeImpl),x.applyMixin(Ee.TextImpl,Me.SlotableImpl),x.applyMixin(W.ElementImpl,Me.SlotableImpl)},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0}),function(x){x[x.EOF=0]="EOF",x[x.Declaration=1]="Declaration",x[x.DocType=2]="DocType",x[x.Element=3]="Element",x[x.Text=4]="Text",x[x.CDATA=5]="CDATA",x[x.PI=6]="PI",x[x.Comment=7]="Comment",x[x.ClosingTag=8]="ClosingTag"}(m.TokenType||(m.TokenType={}))},function(s,m,f){f(64),f(20),f(66);var x,g=this&&this.__extends||(x=function(A,_){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,P){M.__proto__=P}||function(M,P){for(var D in P)P.hasOwnProperty(D)&&(M[D]=P[D])})(A,_)},function(A,_){function M(){this.constructor=A}x(A,_),A.prototype=_===null?Object.create(_):(M.prototype=_.prototype,new M)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(2),C=function(A){function _(){return A!==null&&A.apply(this,arguments)||this}return g(_,A),_.prototype._parse=function(M,P){var D=this,E=this._builderOptions,I=null;return w.isFunction(P)?I=this.parse(M,P.apply(this)):w.isArray(P)||w.isSet(P)?w.forEachArray(P,function(B){return I=D.parse(M,B)},this):w.isMap(P)||w.isObject(P)?w.forEachObject(P,function(B,F){if(w.isFunction(F)&&(F=F.apply(D)),E.ignoreConverters||B.indexOf(E.convert.att)!==0)if(E.ignoreConverters||B.indexOf(E.convert.text)!==0)if(E.ignoreConverters||B.indexOf(E.convert.cdata)!==0)if(E.ignoreConverters||B.indexOf(E.convert.comment)!==0)if(E.ignoreConverters||B.indexOf(E.convert.ins)!==0){if(!((w.isArray(F)||w.isSet(F))&&w.isEmpty(F))){if((w.isMap(F)||w.isObject(F))&&w.isEmpty(F))I=D.element(M,void 0,D.sanitize(B))||I;else if(E.keepNullNodes||F!=null)if(w.isArray(F)||w.isSet(F))w.forEachArray(F,function(W){var K={};K[B]=W,I=D.parse(M,K)},D);else if(w.isMap(F)||w.isObject(F))(R=D.element(M,void 0,D.sanitize(B)))&&(I=R,D.parse(R,F));else if(F!=null&&F!==""){var R;(R=D.element(M,void 0,D.sanitize(B)))&&(I=R,D.text(R,D._decodeText(D.sanitize(F))))}else I=D.element(M,void 0,D.sanitize(B))||I}}else if(w.isString(F)){var L=F.indexOf(" "),z=L===-1?F:F.substr(0,L),G=L===-1?"":F.substr(L+1);I=D.instruction(M,D.sanitize(z),D.sanitize(G))||I}else w.isArray(F)||w.isSet(F)?w.forEachArray(F,function(W){var K=W.indexOf(" "),q=K===-1?W:W.substr(0,K),Z=K===-1?"":W.substr(K+1);I=D.instruction(M,D.sanitize(q),D.sanitize(Z))||I},D):w.forEachObject(F,function(W,K){return I=D.instruction(M,D.sanitize(W),D.sanitize(K))||I},D);else w.isArray(F)||w.isSet(F)?w.forEachArray(F,function(W){return I=D.comment(M,D.sanitize(W))||I},D):I=D.comment(M,D.sanitize(F))||I;else w.isArray(F)||w.isSet(F)?w.forEachArray(F,function(W){return I=D.cdata(M,D.sanitize(W))||I},D):I=D.cdata(M,D.sanitize(F))||I;else I=w.isMap(F)||w.isObject(F)?D.parse(M,F):D.text(M,D._decodeText(D.sanitize(F)))||I;else if(B===E.convert.att){if(w.isArray(F)||w.isSet(F))throw new Error("Invalid attribute: "+F.toString()+". "+M._debugInfo());w.forEachObject(F,function(W,K){I=D.attribute(M,void 0,D.sanitize(W),D._decodeAttributeValue(D.sanitize(K)))||I})}else I=D.attribute(M,void 0,D.sanitize(B.substr(E.convert.att.length)),D._decodeAttributeValue(D.sanitize(F)))||I},this):(E.keepNullNodes||P!=null)&&(I=this.text(M,this._decodeText(this.sanitize(P)))||I),I||M},_}(f(75).BaseReader);m.ObjectReader=C},function(s,m,f){var x=f(39);s.exports=new x({explicit:[f(287),f(288),f(289)]})},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=function(g){this.level=0,this._builderOptions=g,this._writerOptions=g};m.BaseCBWriter=x},function(s,m,f){var x=f(16),g=f(8),w=f(116);s.exports=!x&&!g(function(){return Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a!=7})},function(s,m,f){var x=f(11),g=f(13),w=x.document,C=g(w)&&g(w.createElement);s.exports=function(A){return C?w.createElement(A):{}}},function(s,m,f){var x=f(118),g=Function.toString;typeof x.inspectSource!="function"&&(x.inspectSource=function(w){return g.call(w)}),s.exports=x.inspectSource},function(s,m,f){var x=f(11),g=f(80),w=x["__core-js_shared__"]||g("__core-js_shared__",{});s.exports=w},function(s,m,f){var x=f(14),g=f(187),w=f(55),C=f(15);s.exports=function(A,_){for(var M=g(_),P=C.f,D=w.f,E=0;E<M.length;E++){var I=M[E];x(A,I)||P(A,I,D(_,I))}}},function(s,m,f){var x=f(11);s.exports=x},function(s,m,f){var x=f(14),g=f(24),w=f(122).indexOf,C=f(45);s.exports=function(A,_){var M,P=g(A),D=0,E=[];for(M in P)!x(C,M)&&x(P,M)&&E.push(M);for(;_.length>D;)x(P,M=_[D++])&&(~w(E,M)||E.push(M));return E}},function(s,m,f){var x=f(24),g=f(26),w=f(83),C=function(A){return function(_,M,P){var D,E=x(_),I=g(E.length),B=w(P,I);if(A&&M!=M){for(;I>B;)if((D=E[B++])!=D)return!0}else for(;I>B;B++)if((A||B in E)&&E[B]===M)return A||B||0;return!A&&-1}};s.exports={includes:C(!0),indexOf:C(!1)}},function(s,m,f){var x=f(8),g=/#|\.prototype\./,w=function(P,D){var E=A[C(P)];return E==M||E!=_&&(typeof D=="function"?x(D):!!D)},C=w.normalize=function(P){return String(P).replace(g,".").toLowerCase()},A=w.data={},_=w.NATIVE="N",M=w.POLYFILL="P";s.exports=w},function(s,m,f){var x=f(86);s.exports=x&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(s,m,f){var x=f(5);m.f=x},function(s,m,f){var x=f(120),g=f(14),w=f(125),C=f(15).f;s.exports=function(A){var _=x.Symbol||(x.Symbol={});g(_,A)||C(_,A,{value:w.f(A)})}},function(s,m){s.exports=function(f){if(typeof f!="function")throw TypeError(String(f)+" is not a function");return f}},function(s,m,f){var x=f(13),g=f(59),w=f(5)("species");s.exports=function(C,A){var _;return g(C)&&(typeof(_=C.constructor)!="function"||_!==Array&&!g(_.prototype)?x(_)&&(_=_[w])===null&&(_=void 0):_=void 0),new(_===void 0?Array:_)(A===0?0:A)}},function(s,m,f){var x,g,w=f(11),C=f(193),A=w.process,_=A&&A.versions,M=_&&_.v8;M?g=(x=M.split("."))[0]+x[1]:C&&(!(x=C.match(/Edge\/(\d+)/))||x[1]>=74)&&(x=C.match(/Chrome\/(\d+)/))&&(g=x[1]),s.exports=g&&+g},function(s,m,f){var x=f(5),g=f(60),w=f(15),C=x("unscopables"),A=Array.prototype;A[C]==null&&w.f(A,C,{configurable:!0,value:g(null)}),s.exports=function(_){A[C][_]=!0}},function(s,m,f){var x,g,w,C=f(132),A=f(21),_=f(14),M=f(5),P=f(44),D=M("iterator"),E=!1;[].keys&&("next"in(w=[].keys())?(g=C(C(w)))!==Object.prototype&&(x=g):E=!0),x==null&&(x={}),P||_(x,D)||A(x,D,function(){return this}),s.exports={IteratorPrototype:x,BUGGY_SAFARI_ITERATORS:E}},function(s,m,f){var x=f(14),g=f(27),w=f(57),C=f(196),A=w("IE_PROTO"),_=Object.prototype;s.exports=C?Object.getPrototypeOf:function(M){return M=g(M),x(M,A)?M[A]:typeof M.constructor=="function"&&M instanceof M.constructor?M.constructor.prototype:M instanceof Object?_:null}},function(s,m,f){var x=f(18),g=f(197);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var w,C=!1,A={};try{(w=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(A,[]),C=A instanceof Array}catch{}return function(_,M){return x(_),g(M),C?w.call(_,M):_.__proto__=M,_}}():void 0)},function(s,m,f){var x=f(56),g=f(15),w=f(40);s.exports=function(C,A,_){var M=x(A);M in C?g.f(C,M,w(0,_)):C[M]=_}},function(s,m,f){var x=f(90),g=f(42),w=f(5)("toStringTag"),C=g(function(){return arguments}())=="Arguments";s.exports=x?g:function(A){var _,M,P;return A===void 0?"Undefined":A===null?"Null":typeof(M=function(D,E){try{return D[E]}catch{}}(_=Object(A),w))=="string"?M:C?g(_):(P=g(_))=="Object"&&typeof _.callee=="function"?"Arguments":P}},function(s,m,f){var x=f(18);s.exports=function(){var g=x(this),w="";return g.global&&(w+="g"),g.ignoreCase&&(w+="i"),g.multiline&&(w+="m"),g.dotAll&&(w+="s"),g.unicode&&(w+="u"),g.sticky&&(w+="y"),w}},function(s,m,f){var x=f(47),g=f(35),w=function(C){return function(A,_){var M,P,D=String(g(A)),E=x(_),I=D.length;return E<0||E>=I?C?"":void 0:(M=D.charCodeAt(E))<55296||M>56319||E+1===I||(P=D.charCodeAt(E+1))<56320||P>57343?C?D.charAt(E):M:C?D.slice(E,E+2):P-56320+(M-55296<<10)+65536}};s.exports={codeAt:w(!1),charAt:w(!0)}},function(s,m,f){var x=f(4),g=f(27),w=f(61);x({target:"Object",stat:!0,forced:f(8)(function(){w(1)})},{keys:function(C){return w(g(C))}})},function(s,m,f){var x=f(4),g=f(11),w=f(123),C=f(25),A=f(140),_=f(141),M=f(142),P=f(13),D=f(8),E=f(208),I=f(62),B=f(209);s.exports=function(F,R,L){var z=F.indexOf("Map")!==-1,G=F.indexOf("Weak")!==-1,W=z?"set":"add",K=g[F],q=K&&K.prototype,Z=K,J={},Q=function(xe){var ce=q[xe];C(q,xe,xe=="add"?function(me){return ce.call(this,me===0?0:me),this}:xe=="delete"?function(me){return!(G&&!P(me))&&ce.call(this,me===0?0:me)}:xe=="get"?function(me){return G&&!P(me)?void 0:ce.call(this,me===0?0:me)}:xe=="has"?function(me){return!(G&&!P(me))&&ce.call(this,me===0?0:me)}:function(me,pe){return ce.call(this,me===0?0:me,pe),this})};if(w(F,typeof K!="function"||!(G||q.forEach&&!D(function(){new K().entries().next()}))))Z=L.getConstructor(R,F,z,W),A.REQUIRED=!0;else if(w(F,!0)){var ie=new Z,se=ie[W](G?{}:-0,1)!=ie,oe=D(function(){ie.has(1)}),ue=E(function(xe){new K(xe)}),fe=!G&&D(function(){for(var xe=new K,ce=5;ce--;)xe[W](ce,ce);return!xe.has(-0)});ue||((Z=R(function(xe,ce){M(xe,Z,F);var me=B(new K,xe,Z);return ce!=null&&_(ce,me[W],me,z),me})).prototype=q,q.constructor=Z),(oe||fe)&&(Q("delete"),Q("has"),z&&Q("get")),(fe||se)&&Q(W),G&&q.clear&&delete q.clear}return J[F]=Z,x({global:!0,forced:Z!=K},J),I(Z,F),G||L.setStrong(Z,F,z),Z}},function(s,m,f){var x=f(45),g=f(13),w=f(14),C=f(15).f,A=f(58),_=f(204),M=A("meta"),P=0,D=Object.isExtensible||function(){return!0},E=function(B){C(B,M,{value:{objectID:"O"+ ++P,weakData:{}}})},I=s.exports={REQUIRED:!1,fastKey:function(B,F){if(!g(B))return typeof B=="symbol"?B:(typeof B=="string"?"S":"P")+B;if(!w(B,M)){if(!D(B))return"F";if(!F)return"E";E(B)}return B[M].objectID},getWeakData:function(B,F){if(!w(B,M)){if(!D(B))return!0;if(!F)return!1;E(B)}return B[M].weakData},onFreeze:function(B){return _&&I.REQUIRED&&D(B)&&!w(B,M)&&E(B),B}};x[M]=!0},function(s,m,f){var x=f(18),g=f(205),w=f(26),C=f(87),A=f(206),_=f(207),M=function(P,D){this.stopped=P,this.result=D};(s.exports=function(P,D,E,I,B){var F,R,L,z,G,W,K,q=C(D,E,I?2:1);if(B)F=P;else{if(typeof(R=A(P))!="function")throw TypeError("Target is not iterable");if(g(R)){for(L=0,z=w(P.length);z>L;L++)if((G=I?q(x(K=P[L])[0],K[1]):q(P[L]))&&G instanceof M)return G;return new M(!1)}F=R.call(P)}for(W=F.next;!(K=W.call(F)).done;)if(typeof(G=_(F,q,K.value,I))=="object"&&G&&G instanceof M)return G;return new M(!1)}).stop=function(P){return new M(!0,P)}},function(s,m){s.exports=function(f,x,g){if(!(f instanceof x))throw TypeError("Incorrect "+(g?g+" ":"")+"invocation");return f}},function(s,m,f){var x=f(15).f,g=f(60),w=f(210),C=f(87),A=f(142),_=f(141),M=f(88),P=f(211),D=f(16),E=f(140).fastKey,I=f(43),B=I.set,F=I.getterFor;s.exports={getConstructor:function(R,L,z,G){var W=R(function(J,Q){A(J,W,L),B(J,{type:L,index:g(null),first:void 0,last:void 0,size:0}),D||(J.size=0),Q!=null&&_(Q,J[G],J,z)}),K=F(L),q=function(J,Q,ie){var se,oe,ue=K(J),fe=Z(J,Q);return fe?fe.value=ie:(ue.last=fe={index:oe=E(Q,!0),key:Q,value:ie,previous:se=ue.last,next:void 0,removed:!1},ue.first||(ue.first=fe),se&&(se.next=fe),D?ue.size++:J.size++,oe!=="F"&&(ue.index[oe]=fe)),J},Z=function(J,Q){var ie,se=K(J),oe=E(Q);if(oe!=="F")return se.index[oe];for(ie=se.first;ie;ie=ie.next)if(ie.key==Q)return ie};return w(W.prototype,{clear:function(){for(var J=K(this),Q=J.index,ie=J.first;ie;)ie.removed=!0,ie.previous&&(ie.previous=ie.previous.next=void 0),delete Q[ie.index],ie=ie.next;J.first=J.last=void 0,D?J.size=0:this.size=0},delete:function(J){var Q=K(this),ie=Z(this,J);if(ie){var se=ie.next,oe=ie.previous;delete Q.index[ie.index],ie.removed=!0,oe&&(oe.next=se),se&&(se.previous=oe),Q.first==ie&&(Q.first=se),Q.last==ie&&(Q.last=oe),D?Q.size--:this.size--}return!!ie},forEach:function(J){for(var Q,ie=K(this),se=C(J,arguments.length>1?arguments[1]:void 0,3);Q=Q?Q.next:ie.first;)for(se(Q.value,Q.key,this);Q&&Q.removed;)Q=Q.previous},has:function(J){return!!Z(this,J)}}),w(W.prototype,z?{get:function(J){var Q=Z(this,J);return Q&&Q.value},set:function(J,Q){return q(this,J===0?0:J,Q)}}:{add:function(J){return q(this,J=J===0?0:J,J)}}),D&&x(W.prototype,"size",{get:function(){return K(this).size}}),W},setStrong:function(R,L,z){var G=L+" Iterator",W=F(L),K=F(G);M(R,L,function(q,Z){B(this,{type:G,target:q,state:W(q),kind:Z,last:void 0})},function(){for(var q=K(this),Z=q.kind,J=q.last;J&&J.removed;)J=J.previous;return q.target&&(q.last=J=J?J.next:q.state.first)?Z=="keys"?{value:J.key,done:!1}:Z=="values"?{value:J.value,done:!1}:{value:[J.key,J.value],done:!1}:(q.target=void 0,{value:void 0,done:!0})},z?"entries":"values",!z,!0),P(L)}}},function(s,m,f){var x,g=f(4),w=f(55).f,C=f(26),A=f(222),_=f(35),M=f(224),P=f(44),D="".endsWith,E=Math.min,I=M("endsWith");g({target:"String",proto:!0,forced:!!(P||I||(x=w(String.prototype,"endsWith"),!x||x.writable))&&!I},{endsWith:function(B){var F=String(_(this));A(B);var R=arguments.length>1?arguments[1]:void 0,L=C(F.length),z=R===void 0?L:E(C(R),L),G=String(B);return D?D.call(F,G,z):F.slice(z-G.length,z)===G}})},function(s,m,f){(function(x){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var g=f(229),w=f(230),C=f(231);function A(){return M.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function _(le,te){if(A()<te)throw new RangeError("Invalid typed array length");return M.TYPED_ARRAY_SUPPORT?(le=new Uint8Array(te)).__proto__=M.prototype:(le===null&&(le=new M(te)),le.length=te),le}function M(le,te,re){if(!(M.TYPED_ARRAY_SUPPORT||this instanceof M))return new M(le,te,re);if(typeof le=="number"){if(typeof te=="string")throw new Error("If encoding is specified then the first argument must be a string");return E(this,le)}return P(this,le,te,re)}function P(le,te,re,ne){if(typeof te=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&te instanceof ArrayBuffer?function(ae,he,de,be){if(he.byteLength,de<0||he.byteLength<de)throw new RangeError("'offset' is out of bounds");if(he.byteLength<de+(be||0))throw new RangeError("'length' is out of bounds");return he=de===void 0&&be===void 0?new Uint8Array(he):be===void 0?new Uint8Array(he,de):new Uint8Array(he,de,be),M.TYPED_ARRAY_SUPPORT?(ae=he).__proto__=M.prototype:ae=I(ae,he),ae}(le,te,re,ne):typeof te=="string"?function(ae,he,de){if(typeof de=="string"&&de!==""||(de="utf8"),!M.isEncoding(de))throw new TypeError('"encoding" must be a valid string encoding');var be=0|F(he,de),Ce=(ae=_(ae,be)).write(he,de);return Ce!==be&&(ae=ae.slice(0,Ce)),ae}(le,te,re):function(ae,he){if(M.isBuffer(he)){var de=0|B(he.length);return(ae=_(ae,de)).length===0||he.copy(ae,0,0,de),ae}if(he){if(typeof ArrayBuffer<"u"&&he.buffer instanceof ArrayBuffer||"length"in he)return typeof he.length!="number"||(be=he.length)!=be?_(ae,0):I(ae,he);if(he.type==="Buffer"&&C(he.data))return I(ae,he.data)}var be;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(le,te)}function D(le){if(typeof le!="number")throw new TypeError('"size" argument must be a number');if(le<0)throw new RangeError('"size" argument must not be negative')}function E(le,te){if(D(te),le=_(le,te<0?0:0|B(te)),!M.TYPED_ARRAY_SUPPORT)for(var re=0;re<te;++re)le[re]=0;return le}function I(le,te){var re=te.length<0?0:0|B(te.length);le=_(le,re);for(var ne=0;ne<re;ne+=1)le[ne]=255&te[ne];return le}function B(le){if(le>=A())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A().toString(16)+" bytes");return 0|le}function F(le,te){if(M.isBuffer(le))return le.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(le)||le instanceof ArrayBuffer))return le.byteLength;typeof le!="string"&&(le=""+le);var re=le.length;if(re===0)return 0;for(var ne=!1;;)switch(te){case"ascii":case"latin1":case"binary":return re;case"utf8":case"utf-8":case void 0:return Le(le).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*re;case"hex":return re>>>1;case"base64":return Ie(le).length;default:if(ne)return Le(le).length;te=(""+te).toLowerCase(),ne=!0}}function R(le,te,re){var ne=!1;if((te===void 0||te<0)&&(te=0),te>this.length||((re===void 0||re>this.length)&&(re=this.length),re<=0)||(re>>>=0)<=(te>>>=0))return"";for(le||(le="utf8");;)switch(le){case"hex":return fe(this,te,re);case"utf8":case"utf-8":return se(this,te,re);case"ascii":return oe(this,te,re);case"latin1":case"binary":return ue(this,te,re);case"base64":return ie(this,te,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,te,re);default:if(ne)throw new TypeError("Unknown encoding: "+le);le=(le+"").toLowerCase(),ne=!0}}function L(le,te,re){var ne=le[te];le[te]=le[re],le[re]=ne}function z(le,te,re,ne,ae){if(le.length===0)return-1;if(typeof re=="string"?(ne=re,re=0):re>2147483647?re=2147483647:re<-2147483648&&(re=-2147483648),re=+re,isNaN(re)&&(re=ae?0:le.length-1),re<0&&(re=le.length+re),re>=le.length){if(ae)return-1;re=le.length-1}else if(re<0){if(!ae)return-1;re=0}if(typeof te=="string"&&(te=M.from(te,ne)),M.isBuffer(te))return te.length===0?-1:G(le,te,re,ne,ae);if(typeof te=="number")return te&=255,M.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(le,te,re):Uint8Array.prototype.lastIndexOf.call(le,te,re):G(le,[te],re,ne,ae);throw new TypeError("val must be string, number or Buffer")}function G(le,te,re,ne,ae){var he,de=1,be=le.length,Ce=te.length;if(ne!==void 0&&((ne=String(ne).toLowerCase())==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(le.length<2||te.length<2)return-1;de=2,be/=2,Ce/=2,re/=2}function we(Re,ze){return de===1?Re[ze]:Re.readUInt16BE(ze*de)}if(ae){var Pe=-1;for(he=re;he<be;he++)if(we(le,he)===we(te,Pe===-1?0:he-Pe)){if(Pe===-1&&(Pe=he),he-Pe+1===Ce)return Pe*de}else Pe!==-1&&(he-=he-Pe),Pe=-1}else for(re+Ce>be&&(re=be-Ce),he=re;he>=0;he--){for(var ke=!0,Be=0;Be<Ce;Be++)if(we(le,he+Be)!==we(te,Be)){ke=!1;break}if(ke)return he}return-1}function W(le,te,re,ne){re=Number(re)||0;var ae=le.length-re;ne?(ne=Number(ne))>ae&&(ne=ae):ne=ae;var he=te.length;if(he%2!=0)throw new TypeError("Invalid hex string");ne>he/2&&(ne=he/2);for(var de=0;de<ne;++de){var be=parseInt(te.substr(2*de,2),16);if(isNaN(be))return de;le[re+de]=be}return de}function K(le,te,re,ne){return Oe(Le(te,le.length-re),le,re,ne)}function q(le,te,re,ne){return Oe(function(ae){for(var he=[],de=0;de<ae.length;++de)he.push(255&ae.charCodeAt(de));return he}(te),le,re,ne)}function Z(le,te,re,ne){return q(le,te,re,ne)}function J(le,te,re,ne){return Oe(Ie(te),le,re,ne)}function Q(le,te,re,ne){return Oe(function(ae,he){for(var de,be,Ce,we=[],Pe=0;Pe<ae.length&&!((he-=2)<0);++Pe)de=ae.charCodeAt(Pe),be=de>>8,Ce=de%256,we.push(Ce),we.push(be);return we}(te,le.length-re),le,re,ne)}function ie(le,te,re){return te===0&&re===le.length?g.fromByteArray(le):g.fromByteArray(le.slice(te,re))}function se(le,te,re){re=Math.min(le.length,re);for(var ne=[],ae=te;ae<re;){var he,de,be,Ce,we=le[ae],Pe=null,ke=we>239?4:we>223?3:we>191?2:1;if(ae+ke<=re)switch(ke){case 1:we<128&&(Pe=we);break;case 2:(192&(he=le[ae+1]))==128&&(Ce=(31&we)<<6|63&he)>127&&(Pe=Ce);break;case 3:he=le[ae+1],de=le[ae+2],(192&he)==128&&(192&de)==128&&(Ce=(15&we)<<12|(63&he)<<6|63&de)>2047&&(Ce<55296||Ce>57343)&&(Pe=Ce);break;case 4:he=le[ae+1],de=le[ae+2],be=le[ae+3],(192&he)==128&&(192&de)==128&&(192&be)==128&&(Ce=(15&we)<<18|(63&he)<<12|(63&de)<<6|63&be)>65535&&Ce<1114112&&(Pe=Ce)}Pe===null?(Pe=65533,ke=1):Pe>65535&&(Pe-=65536,ne.push(Pe>>>10&1023|55296),Pe=56320|1023&Pe),ne.push(Pe),ae+=ke}return function(Be){var Re=Be.length;if(Re<=4096)return String.fromCharCode.apply(String,Be);for(var ze="",$e=0;$e<Re;)ze+=String.fromCharCode.apply(String,Be.slice($e,$e+=4096));return ze}(ne)}m.Buffer=M,m.SlowBuffer=function(le){return+le!=le&&(le=0),M.alloc(+le)},m.INSPECT_MAX_BYTES=50,M.TYPED_ARRAY_SUPPORT=x.TYPED_ARRAY_SUPPORT!==void 0?x.TYPED_ARRAY_SUPPORT:function(){try{var le=new Uint8Array(1);return le.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},le.foo()===42&&typeof le.subarray=="function"&&le.subarray(1,1).byteLength===0}catch{return!1}}(),m.kMaxLength=A(),M.poolSize=8192,M._augment=function(le){return le.__proto__=M.prototype,le},M.from=function(le,te,re){return P(null,le,te,re)},M.TYPED_ARRAY_SUPPORT&&(M.prototype.__proto__=Uint8Array.prototype,M.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&M[Symbol.species]===M&&Object.defineProperty(M,Symbol.species,{value:null,configurable:!0})),M.alloc=function(le,te,re){return function(ne,ae,he,de){return D(ae),ae<=0?_(ne,ae):he!==void 0?typeof de=="string"?_(ne,ae).fill(he,de):_(ne,ae).fill(he):_(ne,ae)}(null,le,te,re)},M.allocUnsafe=function(le){return E(null,le)},M.allocUnsafeSlow=function(le){return E(null,le)},M.isBuffer=function(le){return!(le==null||!le._isBuffer)},M.compare=function(le,te){if(!M.isBuffer(le)||!M.isBuffer(te))throw new TypeError("Arguments must be Buffers");if(le===te)return 0;for(var re=le.length,ne=te.length,ae=0,he=Math.min(re,ne);ae<he;++ae)if(le[ae]!==te[ae]){re=le[ae],ne=te[ae];break}return re<ne?-1:ne<re?1:0},M.isEncoding=function(le){switch(String(le).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(le,te){if(!C(le))throw new TypeError('"list" argument must be an Array of Buffers');if(le.length===0)return M.alloc(0);var re;if(te===void 0)for(te=0,re=0;re<le.length;++re)te+=le[re].length;var ne=M.allocUnsafe(te),ae=0;for(re=0;re<le.length;++re){var he=le[re];if(!M.isBuffer(he))throw new TypeError('"list" argument must be an Array of Buffers');he.copy(ne,ae),ae+=he.length}return ne},M.byteLength=F,M.prototype._isBuffer=!0,M.prototype.swap16=function(){var le=this.length;if(le%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var te=0;te<le;te+=2)L(this,te,te+1);return this},M.prototype.swap32=function(){var le=this.length;if(le%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var te=0;te<le;te+=4)L(this,te,te+3),L(this,te+1,te+2);return this},M.prototype.swap64=function(){var le=this.length;if(le%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var te=0;te<le;te+=8)L(this,te,te+7),L(this,te+1,te+6),L(this,te+2,te+5),L(this,te+3,te+4);return this},M.prototype.toString=function(){var le=0|this.length;return le===0?"":arguments.length===0?se(this,0,le):R.apply(this,arguments)},M.prototype.equals=function(le){if(!M.isBuffer(le))throw new TypeError("Argument must be a Buffer");return this===le||M.compare(this,le)===0},M.prototype.inspect=function(){var le="",te=m.INSPECT_MAX_BYTES;return this.length>0&&(le=this.toString("hex",0,te).match(/.{2}/g).join(" "),this.length>te&&(le+=" ... ")),"<Buffer "+le+">"},M.prototype.compare=function(le,te,re,ne,ae){if(!M.isBuffer(le))throw new TypeError("Argument must be a Buffer");if(te===void 0&&(te=0),re===void 0&&(re=le?le.length:0),ne===void 0&&(ne=0),ae===void 0&&(ae=this.length),te<0||re>le.length||ne<0||ae>this.length)throw new RangeError("out of range index");if(ne>=ae&&te>=re)return 0;if(ne>=ae)return-1;if(te>=re)return 1;if(this===le)return 0;for(var he=(ae>>>=0)-(ne>>>=0),de=(re>>>=0)-(te>>>=0),be=Math.min(he,de),Ce=this.slice(ne,ae),we=le.slice(te,re),Pe=0;Pe<be;++Pe)if(Ce[Pe]!==we[Pe]){he=Ce[Pe],de=we[Pe];break}return he<de?-1:de<he?1:0},M.prototype.includes=function(le,te,re){return this.indexOf(le,te,re)!==-1},M.prototype.indexOf=function(le,te,re){return z(this,le,te,re,!0)},M.prototype.lastIndexOf=function(le,te,re){return z(this,le,te,re,!1)},M.prototype.write=function(le,te,re,ne){if(te===void 0)ne="utf8",re=this.length,te=0;else if(re===void 0&&typeof te=="string")ne=te,re=this.length,te=0;else{if(!isFinite(te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");te|=0,isFinite(re)?(re|=0,ne===void 0&&(ne="utf8")):(ne=re,re=void 0)}var ae=this.length-te;if((re===void 0||re>ae)&&(re=ae),le.length>0&&(re<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");for(var he=!1;;)switch(ne){case"hex":return W(this,le,te,re);case"utf8":case"utf-8":return K(this,le,te,re);case"ascii":return q(this,le,te,re);case"latin1":case"binary":return Z(this,le,te,re);case"base64":return J(this,le,te,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,le,te,re);default:if(he)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),he=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oe(le,te,re){var ne="";re=Math.min(le.length,re);for(var ae=te;ae<re;++ae)ne+=String.fromCharCode(127&le[ae]);return ne}function ue(le,te,re){var ne="";re=Math.min(le.length,re);for(var ae=te;ae<re;++ae)ne+=String.fromCharCode(le[ae]);return ne}function fe(le,te,re){var ne=le.length;(!te||te<0)&&(te=0),(!re||re<0||re>ne)&&(re=ne);for(var ae="",he=te;he<re;++he)ae+=Ee(le[he]);return ae}function xe(le,te,re){for(var ne=le.slice(te,re),ae="",he=0;he<ne.length;he+=2)ae+=String.fromCharCode(ne[he]+256*ne[he+1]);return ae}function ce(le,te,re){if(le%1!=0||le<0)throw new RangeError("offset is not uint");if(le+te>re)throw new RangeError("Trying to access beyond buffer length")}function me(le,te,re,ne,ae,he){if(!M.isBuffer(le))throw new TypeError('"buffer" argument must be a Buffer instance');if(te>ae||te<he)throw new RangeError('"value" argument is out of bounds');if(re+ne>le.length)throw new RangeError("Index out of range")}function pe(le,te,re,ne){te<0&&(te=65535+te+1);for(var ae=0,he=Math.min(le.length-re,2);ae<he;++ae)le[re+ae]=(te&255<<8*(ne?ae:1-ae))>>>8*(ne?ae:1-ae)}function Se(le,te,re,ne){te<0&&(te=4294967295+te+1);for(var ae=0,he=Math.min(le.length-re,4);ae<he;++ae)le[re+ae]=te>>>8*(ne?ae:3-ae)&255}function Ae(le,te,re,ne,ae,he){if(re+ne>le.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("Index out of range")}function _e(le,te,re,ne,ae){return ae||Ae(le,0,re,4),w.write(le,te,re,ne,23,4),re+4}function Me(le,te,re,ne,ae){return ae||Ae(le,0,re,8),w.write(le,te,re,ne,52,8),re+8}M.prototype.slice=function(le,te){var re,ne=this.length;if((le=~~le)<0?(le+=ne)<0&&(le=0):le>ne&&(le=ne),(te=te===void 0?ne:~~te)<0?(te+=ne)<0&&(te=0):te>ne&&(te=ne),te<le&&(te=le),M.TYPED_ARRAY_SUPPORT)(re=this.subarray(le,te)).__proto__=M.prototype;else{var ae=te-le;re=new M(ae,void 0);for(var he=0;he<ae;++he)re[he]=this[he+le]}return re},M.prototype.readUIntLE=function(le,te,re){le|=0,te|=0,re||ce(le,te,this.length);for(var ne=this[le],ae=1,he=0;++he<te&&(ae*=256);)ne+=this[le+he]*ae;return ne},M.prototype.readUIntBE=function(le,te,re){le|=0,te|=0,re||ce(le,te,this.length);for(var ne=this[le+--te],ae=1;te>0&&(ae*=256);)ne+=this[le+--te]*ae;return ne},M.prototype.readUInt8=function(le,te){return te||ce(le,1,this.length),this[le]},M.prototype.readUInt16LE=function(le,te){return te||ce(le,2,this.length),this[le]|this[le+1]<<8},M.prototype.readUInt16BE=function(le,te){return te||ce(le,2,this.length),this[le]<<8|this[le+1]},M.prototype.readUInt32LE=function(le,te){return te||ce(le,4,this.length),(this[le]|this[le+1]<<8|this[le+2]<<16)+16777216*this[le+3]},M.prototype.readUInt32BE=function(le,te){return te||ce(le,4,this.length),16777216*this[le]+(this[le+1]<<16|this[le+2]<<8|this[le+3])},M.prototype.readIntLE=function(le,te,re){le|=0,te|=0,re||ce(le,te,this.length);for(var ne=this[le],ae=1,he=0;++he<te&&(ae*=256);)ne+=this[le+he]*ae;return ne>=(ae*=128)&&(ne-=Math.pow(2,8*te)),ne},M.prototype.readIntBE=function(le,te,re){le|=0,te|=0,re||ce(le,te,this.length);for(var ne=te,ae=1,he=this[le+--ne];ne>0&&(ae*=256);)he+=this[le+--ne]*ae;return he>=(ae*=128)&&(he-=Math.pow(2,8*te)),he},M.prototype.readInt8=function(le,te){return te||ce(le,1,this.length),128&this[le]?-1*(255-this[le]+1):this[le]},M.prototype.readInt16LE=function(le,te){te||ce(le,2,this.length);var re=this[le]|this[le+1]<<8;return 32768&re?4294901760|re:re},M.prototype.readInt16BE=function(le,te){te||ce(le,2,this.length);var re=this[le+1]|this[le]<<8;return 32768&re?4294901760|re:re},M.prototype.readInt32LE=function(le,te){return te||ce(le,4,this.length),this[le]|this[le+1]<<8|this[le+2]<<16|this[le+3]<<24},M.prototype.readInt32BE=function(le,te){return te||ce(le,4,this.length),this[le]<<24|this[le+1]<<16|this[le+2]<<8|this[le+3]},M.prototype.readFloatLE=function(le,te){return te||ce(le,4,this.length),w.read(this,le,!0,23,4)},M.prototype.readFloatBE=function(le,te){return te||ce(le,4,this.length),w.read(this,le,!1,23,4)},M.prototype.readDoubleLE=function(le,te){return te||ce(le,8,this.length),w.read(this,le,!0,52,8)},M.prototype.readDoubleBE=function(le,te){return te||ce(le,8,this.length),w.read(this,le,!1,52,8)},M.prototype.writeUIntLE=function(le,te,re,ne){le=+le,te|=0,re|=0,ne||me(this,le,te,re,Math.pow(2,8*re)-1,0);var ae=1,he=0;for(this[te]=255&le;++he<re&&(ae*=256);)this[te+he]=le/ae&255;return te+re},M.prototype.writeUIntBE=function(le,te,re,ne){le=+le,te|=0,re|=0,ne||me(this,le,te,re,Math.pow(2,8*re)-1,0);var ae=re-1,he=1;for(this[te+ae]=255&le;--ae>=0&&(he*=256);)this[te+ae]=le/he&255;return te+re},M.prototype.writeUInt8=function(le,te,re){return le=+le,te|=0,re||me(this,le,te,1,255,0),M.TYPED_ARRAY_SUPPORT||(le=Math.floor(le)),this[te]=255&le,te+1},M.prototype.writeUInt16LE=function(le,te,re){return le=+le,te|=0,re||me(this,le,te,2,65535,0),M.TYPED_ARRAY_SUPPORT?(this[te]=255&le,this[te+1]=le>>>8):pe(this,le,te,!0),te+2},M.prototype.writeUInt16BE=function(le,te,re){return le=+le,te|=0,re||me(this,le,te,2,65535,0),M.TYPED_ARRAY_SUPPORT?(this[te]=le>>>8,this[te+1]=255&le):pe(this,le,te,!1),te+2},M.prototype.writeUInt32LE=function(le,te,re){return le=+le,te|=0,re||me(this,le,te,4,4294967295,0),M.TYPED_ARRAY_SUPPORT?(this[te+3]=le>>>24,this[te+2]=le>>>16,this[te+1]=le>>>8,this[te]=255&le):Se(this,le,te,!0),te+4},M.prototype.writeUInt32BE=function(le,te,re){return le=+le,te|=0,re||me(this,le,te,4,4294967295,0),M.TYPED_ARRAY_SUPPORT?(this[te]=le>>>24,this[te+1]=le>>>16,this[te+2]=le>>>8,this[te+3]=255&le):Se(this,le,te,!1),te+4},M.prototype.writeIntLE=function(le,te,re,ne){if(le=+le,te|=0,!ne){var ae=Math.pow(2,8*re-1);me(this,le,te,re,ae-1,-ae)}var he=0,de=1,be=0;for(this[te]=255&le;++he<re&&(de*=256);)le<0&&be===0&&this[te+he-1]!==0&&(be=1),this[te+he]=(le/de>>0)-be&255;return te+re},M.prototype.writeIntBE=function(le,te,re,ne){if(le=+le,te|=0,!ne){var ae=Math.pow(2,8*re-1);me(this,le,te,re,ae-1,-ae)}var he=re-1,de=1,be=0;for(this[te+he]=255&le;--he>=0&&(de*=256);)le<0&&be===0&&this[te+he+1]!==0&&(be=1),this[te+he]=(le/de>>0)-be&255;return te+re},M.prototype.writeInt8=function(le,te,re){return le=+le,te|=0,re||me(this,le,te,1,127,-128),M.TYPED_ARRAY_SUPPORT||(le=Math.floor(le)),le<0&&(le=255+le+1),this[te]=255&le,te+1},M.prototype.writeInt16LE=function(le,te,re){return le=+le,te|=0,re||me(this,le,te,2,32767,-32768),M.TYPED_ARRAY_SUPPORT?(this[te]=255&le,this[te+1]=le>>>8):pe(this,le,te,!0),te+2},M.prototype.writeInt16BE=function(le,te,re){return le=+le,te|=0,re||me(this,le,te,2,32767,-32768),M.TYPED_ARRAY_SUPPORT?(this[te]=le>>>8,this[te+1]=255&le):pe(this,le,te,!1),te+2},M.prototype.writeInt32LE=function(le,te,re){return le=+le,te|=0,re||me(this,le,te,4,2147483647,-2147483648),M.TYPED_ARRAY_SUPPORT?(this[te]=255&le,this[te+1]=le>>>8,this[te+2]=le>>>16,this[te+3]=le>>>24):Se(this,le,te,!0),te+4},M.prototype.writeInt32BE=function(le,te,re){return le=+le,te|=0,re||me(this,le,te,4,2147483647,-2147483648),le<0&&(le=4294967295+le+1),M.TYPED_ARRAY_SUPPORT?(this[te]=le>>>24,this[te+1]=le>>>16,this[te+2]=le>>>8,this[te+3]=255&le):Se(this,le,te,!1),te+4},M.prototype.writeFloatLE=function(le,te,re){return _e(this,le,te,!0,re)},M.prototype.writeFloatBE=function(le,te,re){return _e(this,le,te,!1,re)},M.prototype.writeDoubleLE=function(le,te,re){return Me(this,le,te,!0,re)},M.prototype.writeDoubleBE=function(le,te,re){return Me(this,le,te,!1,re)},M.prototype.copy=function(le,te,re,ne){if(re||(re=0),ne||ne===0||(ne=this.length),te>=le.length&&(te=le.length),te||(te=0),ne>0&&ne<re&&(ne=re),ne===re||le.length===0||this.length===0)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("sourceStart out of bounds");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),le.length-te<ne-re&&(ne=le.length-te+re);var ae,he=ne-re;if(this===le&&re<te&&te<ne)for(ae=he-1;ae>=0;--ae)le[ae+te]=this[ae+re];else if(he<1e3||!M.TYPED_ARRAY_SUPPORT)for(ae=0;ae<he;++ae)le[ae+te]=this[ae+re];else Uint8Array.prototype.set.call(le,this.subarray(re,re+he),te);return he},M.prototype.fill=function(le,te,re,ne){if(typeof le=="string"){if(typeof te=="string"?(ne=te,te=0,re=this.length):typeof re=="string"&&(ne=re,re=this.length),le.length===1){var ae=le.charCodeAt(0);ae<256&&(le=ae)}if(ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!M.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne)}else typeof le=="number"&&(le&=255);if(te<0||this.length<te||this.length<re)throw new RangeError("Out of range index");if(re<=te)return this;var he;if(te>>>=0,re=re===void 0?this.length:re>>>0,le||(le=0),typeof le=="number")for(he=te;he<re;++he)this[he]=le;else{var de=M.isBuffer(le)?le:Le(new M(le,ne).toString()),be=de.length;for(he=0;he<re-te;++he)this[he+te]=de[he%be]}return this};var ve=/[^+\/0-9A-Za-z-_]/g;function Ee(le){return le<16?"0"+le.toString(16):le.toString(16)}function Le(le,te){var re;te=te||1/0;for(var ne=le.length,ae=null,he=[],de=0;de<ne;++de){if((re=le.charCodeAt(de))>55295&&re<57344){if(!ae){if(re>56319){(te-=3)>-1&&he.push(239,191,189);continue}if(de+1===ne){(te-=3)>-1&&he.push(239,191,189);continue}ae=re;continue}if(re<56320){(te-=3)>-1&&he.push(239,191,189),ae=re;continue}re=65536+(ae-55296<<10|re-56320)}else ae&&(te-=3)>-1&&he.push(239,191,189);if(ae=null,re<128){if((te-=1)<0)break;he.push(re)}else if(re<2048){if((te-=2)<0)break;he.push(re>>6|192,63&re|128)}else if(re<65536){if((te-=3)<0)break;he.push(re>>12|224,re>>6&63|128,63&re|128)}else{if(!(re<1114112))throw new Error("Invalid code point");if((te-=4)<0)break;he.push(re>>18|240,re>>12&63|128,re>>6&63|128,63&re|128)}}return he}function Ie(le){return g.toByteArray(function(te){if((te=function(re){return re.trim?re.trim():re.replace(/^\s+|\s+$/g,"")}(te).replace(ve,"")).length<2)return"";for(;te.length%4!=0;)te+="=";return te}(le))}function Oe(le,te,re,ne){for(var ae=0;ae<ne&&!(ae+re>=te.length||ae>=le.length);++ae)te[ae+re]=le[ae];return ae}}).call(this,f(78))},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0}),m.isASCIIByte=function(x){return x>=0&&x<=127}},function(s,m,f){var x=this&&this.__read||function(w,C){var A=typeof Symbol=="function"&&w[Symbol.iterator];if(!A)return w;var _,M,P=A.call(w),D=[];try{for(;(C===void 0||C-- >0)&&!(_=P.next()).done;)D.push(_.value)}catch(E){M={error:E}}finally{try{_&&!_.done&&(A=P.return)&&A.call(P)}finally{if(M)throw M.error}}return D},g=this&&this.__spread||function(){for(var w=[],C=0;C<arguments.length;C++)w=w.concat(x(arguments[C]));return w};Object.defineProperty(m,"__esModule",{value:!0}),m.length=function(w){return w.length},m.byteLowercase=function(w){for(var C=0;C<w.length;C++){var A=w[C];A>=65&&A<=90&&(w[C]=A+32)}},m.byteUppercase=function(w){for(var C=0;C<w.length;C++){var A=w[C];A>=97&&A<=122&&(w[C]=A-32)}},m.byteCaseInsensitiveMatch=function(w,C){if(w.length!==C.length)return!1;for(var A=0;A<w.length;A++){var _=w[A],M=C[A];if(_>=65&&_<=90&&(_+=32),M>=65&&M<=90&&(M+=32),_!==M)return!1}return!0},m.startsWith=function(w,C){for(var A=0;;){if(A>=w.length)return!1;if(A>=C.length)return!0;if(w[A]!==C[A])return!1;A++}},m.byteLessThan=function(w,C){for(var A=0;;){if(A>=w.length)return!1;if(A>=C.length)return!0;var _=w[A],M=C[A];if(_<M)return!0;if(_>M)return!1;A++}},m.isomorphicDecode=function(w){return String.fromCodePoint.apply(String,g(w))}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(6),g=f(7),w=f(0),C=f(12),A=function(){function _(M){this._associatedDocument=M||x.dom.window.document}return _.prototype.createDocumentType=function(M,P,D){return w.namespace_validate(M),w.create_documentType(this._associatedDocument,M,P,D)},_.prototype.createDocument=function(M,P,D){D===void 0&&(D=null);var E=w.create_xmlDocument(),I=null;return P&&(I=w.document_internalCreateElementNS(E,M,P)),D&&E.appendChild(D),I&&E.appendChild(I),E._origin=this._associatedDocument._origin,M===g.namespace.HTML?E._contentType="application/xhtml+xml":M===g.namespace.SVG?E._contentType="image/svg+xml":E._contentType="application/xml",E},_.prototype.createHTMLDocument=function(M){var P=w.create_document();P._type="html",P._contentType="text/html",P.appendChild(w.create_documentType(P,"html","",""));var D=w.element_createAnElement(P,"html",g.namespace.HTML);P.appendChild(D);var E=w.element_createAnElement(P,"head",g.namespace.HTML);if(D.appendChild(E),M!==void 0){var I=w.element_createAnElement(P,"title",g.namespace.HTML);E.appendChild(I);var B=w.create_text(P,M);I.appendChild(B)}var F=w.element_createAnElement(P,"body",g.namespace.HTML);return D.appendChild(F),P._origin=this._associatedDocument._origin,P},_.prototype.hasFeature=function(){return!0},_._create=function(M){return new _(M)},_}();m.DOMImplementationImpl=A,C.idl_defineConst(A.prototype,"_ID","@oozcitak/dom")},function(s,m,f){var x,g=this&&this.__extends||(x=function(M,P){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var I in E)E.hasOwnProperty(I)&&(D[I]=E[I])})(M,P)},function(M,P){function D(){this.constructor=M}x(M,P),M.prototype=P===null?Object.create(P):(D.prototype=P.prototype,new D)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(70),C=f(2),A=f(0),_=function(M){function P(){var D=M.call(this)||this;return D._signalSlots=new Set,D._mutationObserverMicrotaskQueued=!1,D._mutationObservers=new Set,D._iteratorList=new C.FixedSizeSet,D._associatedDocument=A.create_document(),D}return g(P,M),Object.defineProperty(P.prototype,"document",{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"event",{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),P._create=function(){return new P},P}(w.EventTargetImpl);m.WindowImpl=_},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(1),g=function(){function w(){}return w.isNode=function(C){return!!C&&C._nodeType!==void 0},w.isDocumentNode=function(C){return w.isNode(C)&&C._nodeType===x.NodeType.Document},w.isDocumentTypeNode=function(C){return w.isNode(C)&&C._nodeType===x.NodeType.DocumentType},w.isDocumentFragmentNode=function(C){return w.isNode(C)&&C._nodeType===x.NodeType.DocumentFragment},w.isAttrNode=function(C){return w.isNode(C)&&C._nodeType===x.NodeType.Attribute},w.isCharacterDataNode=function(C){if(!w.isNode(C))return!1;var A=C._nodeType;return A===x.NodeType.Text||A===x.NodeType.ProcessingInstruction||A===x.NodeType.Comment||A===x.NodeType.CData},w.isTextNode=function(C){return w.isNode(C)&&(C._nodeType===x.NodeType.Text||C._nodeType===x.NodeType.CData)},w.isExclusiveTextNode=function(C){return w.isNode(C)&&C._nodeType===x.NodeType.Text},w.isCDATASectionNode=function(C){return w.isNode(C)&&C._nodeType===x.NodeType.CData},w.isCommentNode=function(C){return w.isNode(C)&&C._nodeType===x.NodeType.Comment},w.isProcessingInstructionNode=function(C){return w.isNode(C)&&C._nodeType===x.NodeType.ProcessingInstruction},w.isElementNode=function(C){return w.isNode(C)&&C._nodeType===x.NodeType.Element},w.isCustomElementNode=function(C){return w.isElementNode(C)&&C._customElementState==="custom"},w.isShadowRoot=function(C){return!!C&&C.host!==void 0},w.isMouseEvent=function(C){return!!C&&C.screenX!==void 0&&C.screenY!=null},w.isSlotable=function(C){return!!C&&C._name!==void 0&&C._assignedSlot!==void 0&&(w.isTextNode(C)||w.isElementNode(C))},w.isSlot=function(C){return!!C&&C._name!==void 0&&C._assignedNodes!==void 0&&w.isElementNode(C)},w.isWindow=function(C){return!!C&&C.navigator!==void 0},w.isEventListener=function(C){return!!C&&C.handleEvent!==void 0},w.isRegisteredObserver=function(C){return!!C&&C.observer!==void 0&&C.options!==void 0},w.isTransientRegisteredObserver=function(C){return!!C&&C.source!==void 0&&w.isRegisteredObserver(C)},w}();m.Guard=g},function(s,m,f){var x,g=this&&this.__extends||(x=function(C,A){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,M){_.__proto__=M}||function(_,M){for(var P in M)M.hasOwnProperty(P)&&(_[P]=M[P])})(C,A)},function(C,A){function _(){this.constructor=C}x(C,A),C.prototype=A===null?Object.create(A):(_.prototype=A.prototype,new _)});Object.defineProperty(m,"__esModule",{value:!0});var w=function(C){function A(){return C.call(this)||this}return g(A,C),A}(f(98).DocumentImpl);m.XMLDocumentImpl=w},function(s,m,f){var x=this&&this.__values||function(ne){var ae=typeof Symbol=="function"&&Symbol.iterator,he=ae&&ne[ae],de=0;if(he)return he.call(ne);if(ne&&typeof ne.length=="number")return{next:function(){return ne&&de>=ne.length&&(ne=void 0),{value:ne&&ne[de++],done:!ne}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")},g=this&&this.__read||function(ne,ae){var he=typeof Symbol=="function"&&ne[Symbol.iterator];if(!he)return ne;var de,be,Ce=he.call(ne),we=[];try{for(;(ae===void 0||ae-- >0)&&!(de=Ce.next()).done;)we.push(de.value)}catch(Pe){be={error:Pe}}finally{try{de&&!de.done&&(he=Ce.return)&&he.call(Ce)}finally{if(be)throw be.error}}return we};Object.defineProperty(m,"__esModule",{value:!0});var w,C=f(2),A=f(243),_=f(7),M=f(244),P={ftp:21,file:null,http:80,https:443,ws:80,wss:443},D=/[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,E=/[ "<>`]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,I=/[ "<>`#?{}]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,B=/[ "<>`#?{}/:;=@\[\]\\\^\|]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,F=/[0-9A-Za-z!\$&-\/:;=\?@_~\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uD83E\uD840-\uD87E\uD880-\uD8BE\uD8C0-\uD8FE\uD900-\uD93E\uD940-\uD97E\uD980-\uD9BE\uD9C0-\uD9FE\uDA00-\uDA3E\uDA40-\uDA7E\uDA80-\uDABE\uDAC0-\uDAFE\uDB00-\uDB3E\uDB40-\uDB7E\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDC00-\uDFFD]/,R=/[\0\t\f\r #%/:?@\[\\\]]/;function L(ne){w!==void 0&&w.call(null,"Validation Error: "+ne)}function z(){return{scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}}function G(ne){return ne in P}function W(ne){return G(ne.scheme)}function K(ne){return P[ne]||null}function q(ne){return ne.username!==""||ne.password!==""}function Z(ne,ae){var he,de;ae===void 0&&(ae=!1);var be=ne.scheme+":";if(ne.host!==null?(be+="//",q(ne)&&(be+=ne.username,ne.password!==""&&(be+=":"+ne.password),be+="@"),be+=J(ne.host),ne.port!==null&&(be+=":"+ne.port)):ne.host===null&&ne.scheme==="file"&&(be+="//"),ne._cannotBeABaseURLFlag)be+=ne.path[0];else try{for(var Ce=x(ne.path),we=Ce.next();!we.done;we=Ce.next())be+="/"+we.value}catch(Pe){he={error:Pe}}finally{try{we&&!we.done&&(de=Ce.return)&&de.call(Ce)}finally{if(he)throw he.error}}return ne.query!==null&&(be+="?"+ne.query),ae||ne.fragment===null||(be+="#"+ne.fragment),be}function J(ne){return C.isNumber(ne)?Q(ne):C.isArray(ne)?"["+ie(ne)+"]":ne}function Q(ne){for(var ae="",he=ne,de=1;de<=4;de++)ae=(he%256).toString()+ae,de!==4&&(ae="."+ae),he=Math.floor(he/256);return ae}function ie(ne){for(var ae="",he=null,de=-1,be=0,Ce=0,we=0;we<8;we++)if(ne[we]===0){be=1;for(var Pe=we+1;Pe<8&&ne[Pe]===0;Pe++)be++;be>Ce&&(Ce=be,de=we)}Ce>1&&(he=de);for(var ke=!1,Be=0;Be<8;Be++)ke&&ne[Be]===0||(ke&&(ke=!1),he!==Be?(ae+=ne[Be].toString(16),Be!==7&&(ae+=":")):(ae+=Be===0?"::":":",ke=!0));return ae}function se(ne,ae,he,de,be){var Ce,we,Pe,ke;if(de===void 0){de={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var Be=/^[\u0000-\u001F\u0020]+/,Re=/[\u0000-\u001F\u0020]+$/;(Be.test(ne)||Re.test(ne))&&L("Input string contains leading or trailing control characters or space."),ne=(ne=ne.replace(Be,"")).replace(Re,"")}var ze=/[\u0009\u000A\u000D]/g;ze.test(ne)&&L("Input string contains tab or newline characters."),ne=ne.replace(ze,"");var $e=be===void 0?A.ParserState.SchemeStart:be;ae===void 0&&(ae=null);for(var je=he===void 0||he==="replacement"||he==="UTF-16BE"||he==="UTF-16LE"?"UTF-8":he,ge="",He=!1,Ue=!1,Ye=!1,Te=new C.StringWalker(ne);;){switch($e){case A.ParserState.SchemeStart:if(_.codePoint.ASCIIAlpha.test(Te.c()))ge+=Te.c().toLowerCase(),$e=A.ParserState.Scheme;else{if(be!==void 0)return L("Invalid scheme start character."),null;$e=A.ParserState.NoScheme,Te.pointer--}break;case A.ParserState.Scheme:if(_.codePoint.ASCIIAlphanumeric.test(Te.c())||Te.c()==="+"||Te.c()==="-"||Te.c()===".")ge+=Te.c().toLowerCase();else{if(Te.c()!==":"){if(be===void 0){ge="",$e=A.ParserState.NoScheme,Te.pointer=0;continue}return L("Invalid input string."),null}if(be!==void 0&&(G(de.scheme)&&!G(ge)||!G(de.scheme)&&G(ge)||(q(de)||de.port!==null)&&ge==="file"||de.scheme==="file"&&(de.host===""||de.host===null)))return de;if(de.scheme=ge,be!==void 0)return de.port===K(de.scheme)&&(de.port=null),de;ge="",de.scheme==="file"?(Te.remaining().startsWith("//")||L("Invalid file URL scheme, '//' expected."),$e=A.ParserState.File):W(de)&&ae!==null&&ae.scheme===de.scheme?$e=A.ParserState.SpecialRelativeOrAuthority:W(de)?$e=A.ParserState.SpecialAuthoritySlashes:Te.remaining().startsWith("/")?($e=A.ParserState.PathOrAuthority,Te.pointer++):(de._cannotBeABaseURLFlag=!0,de.path.push(""),$e=A.ParserState.CannotBeABaseURLPath)}break;case A.ParserState.NoScheme:if(ae===null||ae._cannotBeABaseURLFlag&&Te.c()!=="#")return L("Invalid input string."),null;ae._cannotBeABaseURLFlag&&Te.c()==="#"?(de.scheme=ae.scheme,de.path=_.list.clone(ae.path),de.query=ae.query,de.fragment="",de._cannotBeABaseURLFlag=!0,$e=A.ParserState.Fragment):ae.scheme!=="file"?($e=A.ParserState.Relative,Te.pointer--):($e=A.ParserState.File,Te.pointer--);break;case A.ParserState.SpecialRelativeOrAuthority:Te.c()==="/"&&Te.remaining().startsWith("/")?($e=A.ParserState.SpecialAuthorityIgnoreSlashes,Te.pointer++):(L("Invalid input string."),$e=A.ParserState.Relative,Te.pointer--);break;case A.ParserState.PathOrAuthority:Te.c()==="/"?$e=A.ParserState.Authority:($e=A.ParserState.Path,Te.pointer--);break;case A.ParserState.Relative:if(ae===null)throw new Error("Invalid parser state. Base URL is null.");switch(de.scheme=ae.scheme,Te.c()){case"":de.username=ae.username,de.password=ae.password,de.host=ae.host,de.port=ae.port,de.path=_.list.clone(ae.path),de.query=ae.query;break;case"/":$e=A.ParserState.RelativeSlash;break;case"?":de.username=ae.username,de.password=ae.password,de.host=ae.host,de.port=ae.port,de.path=_.list.clone(ae.path),de.query="",$e=A.ParserState.Query;break;case"#":de.username=ae.username,de.password=ae.password,de.host=ae.host,de.port=ae.port,de.path=_.list.clone(ae.path),de.query=ae.query,de.fragment="",$e=A.ParserState.Fragment;break;default:W(de)&&Te.c()==="\\"?(L("Invalid input string."),$e=A.ParserState.RelativeSlash):(de.username=ae.username,de.password=ae.password,de.host=ae.host,de.port=ae.port,de.path=_.list.clone(ae.path),de.path.length!==0&&de.path.splice(de.path.length-1,1),$e=A.ParserState.Path,Te.pointer--)}break;case A.ParserState.RelativeSlash:if(!W(de)||Te.c()!=="/"&&Te.c()!=="\\")if(Te.c()==="/")$e=A.ParserState.Authority;else{if(ae===null)throw new Error("Invalid parser state. Base URL is null.");de.username=ae.username,de.password=ae.password,de.host=ae.host,de.port=ae.port,$e=A.ParserState.Path,Te.pointer--}else Te.c()==="\\"&&L("Invalid input string."),$e=A.ParserState.SpecialAuthorityIgnoreSlashes;break;case A.ParserState.SpecialAuthoritySlashes:Te.c()==="/"&&Te.remaining().startsWith("/")?($e=A.ParserState.SpecialAuthorityIgnoreSlashes,Te.pointer++):(L("Expected '//'."),$e=A.ParserState.SpecialAuthorityIgnoreSlashes,Te.pointer--);break;case A.ParserState.SpecialAuthorityIgnoreSlashes:Te.c()!=="/"&&Te.c()!=="\\"?($e=A.ParserState.Authority,Te.pointer--):L("Unexpected '/' or '\\'.");break;case A.ParserState.Authority:if(Te.c()==="@"){L("Unexpected '@'."),He&&(ge="%40"+ge),He=!0;try{for(var Ne=(Ce=void 0,x(ge)),Ge=Ne.next();!Ge.done;Ge=Ne.next()){var Xe=Ge.value;if(Xe!==":"||Ye){var qe=Oe(Xe,B);Ye?de.password+=qe:de.username+=qe}else Ye=!0}}catch(st){Ce={error:st}}finally{try{Ge&&!Ge.done&&(we=Ne.return)&&we.call(Ne)}finally{if(Ce)throw Ce.error}}ge=""}else if(Te.c()===""||Te.c()==="/"||Te.c()==="?"||Te.c()==="#"||W(de)&&Te.c()==="\\"){if(He&&ge==="")return L("Invalid input string."),null;Te.pointer-=ge.length+1,ge="",$e=A.ParserState.Host}else ge+=Te.c();break;case A.ParserState.Host:case A.ParserState.Hostname:if(be!==void 0&&de.scheme==="file")Te.pointer--,$e=A.ParserState.FileHost;else if(Te.c()!==":"||Ue)if(Te.c()===""||Te.c()==="/"||Te.c()==="?"||Te.c()==="#"||W(de)&&Te.c()==="\\"){if(Te.pointer--,W(de)&&ge==="")return L("Invalid input string."),null;if(be!==void 0&&ge===""&&(q(de)||de.port!==null))return L("Invalid input string."),de;if((Ke=pe(ge,!W(de)))===null)return null;if(de.host=Ke,ge="",$e=A.ParserState.PathStart,be!==void 0)return de}else Te.c()==="["&&(Ue=!0),Te.c()==="]"&&(Ue=!1),ge+=Te.c();else{if(ge==="")return L("Invalid input string."),null;if((Ke=pe(ge,!W(de)))===null)return null;if(de.host=Ke,ge="",$e=A.ParserState.Port,be===A.ParserState.Hostname)return de}break;case A.ParserState.Port:if(_.codePoint.ASCIIDigit.test(Te.c()))ge+=Te.c();else{if(!(Te.c()===""||Te.c()==="/"||Te.c()==="?"||Te.c()==="#"||W(de)&&Te.c()==="\\"||be))return L("Invalid input string."),null;if(ge!==""&&ge!==""){var Je=parseInt(ge,10);if(Je>Math.pow(2,16)-1)return L("Invalid port number."),null;de.port=Je===K(de.scheme)?null:Je,ge=""}if(be!==void 0)return de;$e=A.ParserState.PathStart,Te.pointer--}break;case A.ParserState.File:if(de.scheme="file",Te.c()==="/"||Te.c()==="\\")Te.c()==="\\"&&L("Invalid input string."),$e=A.ParserState.FileSlash;else if(ae!==null&&ae.scheme==="file")switch(Te.c()){case"":de.host=ae.host,de.path=_.list.clone(ae.path),de.query=ae.query;break;case"?":de.host=ae.host,de.path=_.list.clone(ae.path),de.query="",$e=A.ParserState.Query;break;case"#":de.host=ae.host,de.path=_.list.clone(ae.path),de.query=ae.query,de.fragment="",$e=A.ParserState.Fragment;break;default:me(Te.substring())?L("Unexpected windows drive letter in input string."):(de.host=ae.host,de.path=_.list.clone(ae.path),fe(de)),$e=A.ParserState.Path,Te.pointer--}else $e=A.ParserState.Path,Te.pointer--;break;case A.ParserState.FileSlash:Te.c()==="/"||Te.c()==="\\"?(Te.c()==="\\"&&L("Invalid input string."),$e=A.ParserState.FileHost):(ae===null||ae.scheme!=="file"||me(Te.substring())||(xe(ae.path[0])?de.path.push(ae.path[0]):de.host=ae.host),$e=A.ParserState.Path,Te.pointer--);break;case A.ParserState.FileHost:if(Te.c()===""||Te.c()==="/"||Te.c()==="\\"||Te.c()==="?"||Te.c()==="#")if(Te.pointer--,be===void 0&&ce(ge))L("Unexpected windows drive letter in input string."),$e=A.ParserState.Path;else if(ge===""){if(de.host="",be!==void 0)return de;$e=A.ParserState.PathStart}else{var Ke;if((Ke=pe(ge,!W(de)))===null)return null;if(Ke==="localhost"&&(Ke=""),de.host=Ke,be!==void 0)return de;ge="",$e=A.ParserState.PathStart}else ge+=Te.c();break;case A.ParserState.PathStart:W(de)?(Te.c()==="\\"&&L("Invalid input string."),$e=A.ParserState.Path,Te.c()!=="/"&&Te.c()!=="\\"&&Te.pointer--):be===void 0&&Te.c()==="?"?(de.query="",$e=A.ParserState.Query):be===void 0&&Te.c()==="#"?(de.fragment="",$e=A.ParserState.Fragment):Te.c()!==""&&($e=A.ParserState.Path,Te.c()!=="/"&&Te.pointer--);break;case A.ParserState.Path:if(Te.c()===""||Te.c()==="/"||W(de)&&Te.c()==="\\"||be===void 0&&(Te.c()==="?"||Te.c()==="#")){if(W(de)&&Te.c()==="\\"&&L("Invalid input string."),ue(ge))fe(de),Te.c()==="/"||W(de)&&Te.c()==="\\"||de.path.push("");else if(!oe(ge)||Te.c()==="/"||W(de)&&Te.c()==="\\"){if(!oe(ge)){if(de.scheme==="file"&&de.path.length===0&&ce(ge)){de.host!==null&&de.host!==""&&(L("Invalid input string."),de.host="");var et=Array.from(ge);ge=et.slice(0,1)+":"+et.slice(2)}de.path.push(ge)}}else de.path.push("");if(ge="",de.scheme==="file"&&(Te.c()===""||Te.c()==="?"||Te.c()==="#"))for(;de.path.length>1&&de.path[0]==="";)L("Invalid input string."),de.path.splice(0,1);Te.c()==="?"&&(de.query="",$e=A.ParserState.Query),Te.c()==="#"&&(de.fragment="",$e=A.ParserState.Fragment)}else F.test(Te.c())||Te.c()==="%"||L("Character is not a URL code point or a percent encoded character."),Te.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(Te.remaining())||L("Percent encoded character must be followed by two hex digits."),ge+=Oe(Te.c(),I);break;case A.ParserState.CannotBeABaseURLPath:Te.c()==="?"?(de.query="",$e=A.ParserState.Query):Te.c()==="#"?(de.fragment="",$e=A.ParserState.Fragment):(Te.c()===""||F.test(Te.c())||Te.c()==="%"||L("Character is not a URL code point or a percent encoded character."),Te.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(Te.remaining())||L("Percent encoded character must be followed by two hex digits."),Te.c()!==""&&(de.path[0]+=Oe(Te.c(),D)));break;case A.ParserState.Query:if(je==="UTF-8"||W(de)&&de.scheme!=="ws"&&de.scheme!=="wss"||(je="UTF-8"),be===void 0&&Te.c()==="#")de.fragment="",$e=A.ParserState.Fragment;else if(Te.c()!==""){if(F.test(Te.c())||Te.c()==="%"||L("Character is not a URL code point or a percent encoded character."),Te.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(Te.remaining())||L("Percent encoded character must be followed by two hex digits."),je.toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var tt=C.utf8Encode(Te.c());if(tt.length>=3&&tt[0]===38&&tt[1]===35&&tt[tt.length-1]===59)tt=tt.subarray(2,tt.length-1),de.query+="%26%23"+_.byteSequence.isomorphicDecode(tt)+"%3B";else try{for(var ot=(Pe=void 0,x(tt)),nt=ot.next();!nt.done;nt=ot.next()){var it=nt.value;it<33||it>126||it===34||it===35||it===60||it===62||it===39&&W(de)?de.query+=Ee(it):de.query+=String.fromCharCode(it)}}catch(st){Pe={error:st}}finally{try{nt&&!nt.done&&(ke=ot.return)&&ke.call(ot)}finally{if(Pe)throw Pe.error}}}break;case A.ParserState.Fragment:Te.c()===""||(Te.c()==="\0"?L("NULL character in input string."):(F.test(Te.c())||Te.c()==="%"||L("Unexpected character in fragment string."),Te.c()!=="%"||/^[A-Za-z0-9][A-Za-z0-9]/.test(Te.remaining())||L("Unexpected character in fragment string."),de.fragment+=Oe(Te.c(),E)))}if(Te.eof)break;Te.pointer++}return de}function oe(ne){return ne==="."||ne.toLowerCase()==="%2e"}function ue(ne){var ae=ne.toLowerCase();return ae===".."||ae===".%2e"||ae==="%2e."||ae==="%2e%2e"}function fe(ne){var ae=ne.path;ae.length!==0&&(ne.scheme==="file"&&ae.length===1&&xe(ae[0])||ne.path.splice(ne.path.length-1,1))}function xe(ne){return ne.length>=2&&_.codePoint.ASCIIAlpha.test(ne[0])&&ne[1]===":"}function ce(ne){return ne.length>=2&&_.codePoint.ASCIIAlpha.test(ne[0])&&(ne[1]===":"||ne[1]==="|")}function me(ne){return ne.length>=2&&ce(ne)&&(ne.length===2||ne[2]==="/"||ne[2]==="\\"||ne[2]==="?"||ne[2]==="#")}function pe(ne,ae){if(ae===void 0&&(ae=!1),ne.startsWith("["))return ne.endsWith("]")?_e(ne.substring(1,ne.length-1)):(L("Expected ']' after '['."),null);if(ae)return Me(ne);var he=re(C.utf8Decode(Ie(ne)));if(he===null||R.test(he))return L("Invalid domain."),null;var de=Ae(he);return de===null||C.isNumber(de)?de:he}function Se(ne,ae){ae===void 0&&(ae={value:!1});var he=10;return ne.startsWith("0x")||ne.startsWith("0X")?(ae.value=!0,ne=ne.substr(2),he=16):ne.length>=2&&ne[0]==="0"&&(ae.value=!0,ne=ne.substr(1),he=8),ne===""?0:(he===10?/^[0-9]+$/:he===16?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(ne)?parseInt(ne,he):null}function Ae(ne){var ae,he,de,be,Ce={value:!1},we=ne.split(".");if(we[we.length-1]===""&&(Ce.value=!0,we.length>1&&we.pop()),we.length>4)return ne;var Pe=[];try{for(var ke=x(we),Be=ke.next();!Be.done;Be=ke.next()){var Re=Be.value;if(Re===""||(Ue=Se(Re,Ce))===null)return ne;Pe.push(Ue)}}catch(Ye){ae={error:Ye}}finally{try{Be&&!Be.done&&(he=ke.return)&&he.call(ke)}finally{if(ae)throw ae.error}}Ce.value&&L("Invalid IP v4 address.");for(var ze=0;ze<Pe.length;ze++)if(Pe[ze]>255&&(L("Invalid IP v4 address."),ze<Pe.length-1))return null;if(Pe[Pe.length-1]>=Math.pow(256,5-Pe.length))return L("Invalid IP v4 address."),null;var $e=Pe[Pe.length-1];Pe.pop();var je=0;try{for(var ge=x(Pe),He=ge.next();!He.done;He=ge.next()){var Ue;$e+=(Ue=He.value)*Math.pow(256,3-je),je++}}catch(Ye){de={error:Ye}}finally{try{He&&!He.done&&(be=ge.return)&&be.call(ge)}finally{if(de)throw de.error}}return $e}function _e(ne){var ae,he=[0,0,0,0,0,0,0,0],de=0,be=null,Ce=new C.StringWalker(ne);if(Ce.c()===":"){if(!Ce.remaining().startsWith(":"))return L("Invalid IP v6 address."),null;Ce.pointer+=2,be=de+=1}for(;Ce.c()!=="";){if(de===8)return L("Invalid IP v6 address."),null;if(Ce.c()!==":"){for(var we=0,Pe=0;Pe<4&&_.codePoint.ASCIIHexDigit.test(Ce.c());)we=16*we+parseInt(Ce.c(),16),Ce.pointer++,Pe++;if(Ce.c()==="."){if(Pe===0||(Ce.pointer-=Pe,de>6))return L("Invalid IP v6 address."),null;for(var ke=0;Ce.c()!=="";){var Be=null;if(ke>0){if(!(Ce.c()==="."&&ke<4))return L("Invalid IP v6 address."),null;Ce.pointer++}if(!_.codePoint.ASCIIDigit.test(Ce.c()))return L("Invalid IP v6 address."),null;for(;_.codePoint.ASCIIDigit.test(Ce.c());){var Re=parseInt(Ce.c(),10);if(Be===null)Be=Re;else{if(Be===0)return L("Invalid IP v6 address."),null;Be=10*Be+Re}if(Be>255)return L("Invalid IP v6 address."),null;Ce.pointer++}if(Be===null)return L("Invalid IP v6 address."),null;he[de]=256*he[de]+Be,++ke!==2&&ke!==4||de++}if(ke!==4)return L("Invalid IP v6 address."),null;break}if(Ce.c()===":"){if(Ce.pointer++,Ce.c()==="")return L("Invalid IP v6 address."),null}else if(Ce.c()!=="")return L("Invalid IP v6 address."),null;he[de]=we,de++}else{if(be!==null)return L("Invalid IP v6 address."),null;Ce.pointer++,be=++de}}if(be!==null){var ze=de-be;for(de=7;de!==0&&ze>0;)ae=g([he[be+ze-1],he[de]],2),he[de]=ae[0],he[be+ze-1]=ae[1],de--,ze--}else if(be===null&&de!==8)return L("Invalid IP v6 address."),null;return he}function Me(ne){var ae,he;if(/[\x00\t\f\r #/:?@\[\\\]]/.test(ne))return L("Invalid host string."),null;var de="";try{for(var be=x(ne),Ce=be.next();!Ce.done;Ce=be.next())de+=Oe(Ce.value,D)}catch(we){ae={error:we}}finally{try{Ce&&!Ce.done&&(he=be.return)&&he.call(be)}finally{if(ae)throw ae.error}}return de}function ve(ne){return null}function Ee(ne){return"%"+("00"+ne.toString(16).toUpperCase()).slice(-2)}function Le(ne){for(var ae=function(Pe){return Pe>=48&&Pe<=57||Pe>=65&&Pe<=70||Pe>=97&&Pe<=102},he=new Uint8Array(ne.length),de=0,be=0;be<ne.length;be++){var Ce=ne[be];if(Ce!==37)he[de]=Ce,de++;else if(Ce===37&&be>=ne.length-2)he[de]=Ce,de++;else if(Ce!==37||ae(ne[be+1])&&ae(ne[be+2])){var we=parseInt(C.utf8Decode(Uint8Array.of(ne[be+1],ne[be+2])),16);he[de]=we,de++,be+=2}else he[de]=Ce,de++}return he.subarray(0,de)}function Ie(ne){return Le(C.utf8Encode(ne))}function Oe(ne,ae){var he,de;if(!ae.test(ne))return ne;var be=C.utf8Encode(ne),Ce="";try{for(var we=x(be),Pe=we.next();!Pe.done;Pe=we.next())Ce+=Ee(Pe.value)}catch(ke){he={error:ke}}finally{try{Pe&&!Pe.done&&(de=we.return)&&de.call(we)}finally{if(he)throw he.error}}return Ce}function le(ne){var ae,he,de,be,Ce=[],we=[];try{for(var Pe=x(ne),ke=Pe.next();!ke.done;ke=Pe.next()){var Be=ke.value;Be===38?(Ce.push(Uint8Array.from(we)),we=[]):we.push(Be)}}catch(Ge){ae={error:Ge}}finally{try{ke&&!ke.done&&(he=Pe.return)&&he.call(Pe)}finally{if(ae)throw ae.error}}we.length!==0&&Ce.push(Uint8Array.from(we));var Re=[];try{for(var ze=x(Ce),$e=ze.next();!$e.done;$e=ze.next()){var je=$e.value;if(je.length!==0){for(var ge=je.indexOf(61),He=ge!==-1?je.slice(0,ge):je,Ue=ge!==-1?je.slice(ge+1):new Uint8Array,Ye=0;Ye<He.length;Ye++)He[Ye]===43&&(He[Ye]=32);for(Ye=0;Ye<Ue.length;Ye++)Ue[Ye]===43&&(Ue[Ye]=32);var Te=C.utf8Decode(He),Ne=C.utf8Decode(Ue);Re.push([Te,Ne])}}}catch(Ge){de={error:Ge}}finally{try{$e&&!$e.done&&(be=ze.return)&&be.call(ze)}finally{if(de)throw de.error}}return Re}function te(ne){var ae,he,de="";try{for(var be=x(ne),Ce=be.next();!Ce.done;Ce=be.next()){var we=Ce.value;de+=we===32?"+":we===42||we===45||we===46||we>=48&&we<=57||we>=65&&we<=90||we===95||we>=97&&we<=122?String.fromCodePoint(we):Ee(we)}}catch(Pe){ae={error:Pe}}finally{try{Ce&&!Ce.done&&(he=be.return)&&he.call(be)}finally{if(ae)throw ae.error}}return de}function re(ne,ae){var he=M.domainToASCII(ne);return he===""?(L("Invalid domain name."),null):he}m.setValidationErrorCallback=function(ne){w=ne},m.newURL=z,m.isSpecialScheme=G,m.isSpecial=W,m.defaultPort=K,m.includesCredentials=q,m.cannotHaveAUsernamePasswordPort=function(ne){return ne.host===null||ne.host===""||ne._cannotBeABaseURLFlag||ne.scheme==="file"},m.urlSerializer=Z,m.hostSerializer=J,m.iPv4Serializer=Q,m.iPv6Serializer=ie,m.urlParser=function(ne,ae,he){var de=se(ne,ae,he);return de===null?null:(de.scheme!=="blob"||(de._blobURLEntry=null),de)},m.basicURLParser=se,m.setTheUsername=function(ne,ae){var he,de,be="";try{for(var Ce=x(ae),we=Ce.next();!we.done;we=Ce.next())be+=Oe(we.value,B)}catch(Pe){he={error:Pe}}finally{try{we&&!we.done&&(de=Ce.return)&&de.call(Ce)}finally{if(he)throw he.error}}ne.username=be},m.setThePassword=function(ne,ae){var he,de,be="";try{for(var Ce=x(ae),we=Ce.next();!we.done;we=Ce.next())be+=Oe(we.value,B)}catch(Pe){he={error:Pe}}finally{try{we&&!we.done&&(de=Ce.return)&&de.call(Ce)}finally{if(he)throw he.error}}ne.password=be},m.isSingleDotPathSegment=oe,m.isDoubleDotPathSegment=ue,m.shorten=fe,m.isNormalizedWindowsDriveLetter=xe,m.isWindowsDriveLetter=ce,m.startsWithAWindowsDriveLetter=me,m.hostParser=pe,m.iPv4NumberParser=Se,m.iPv4Parser=Ae,m.iPv6Parser=_e,m.opaqueHostParser=Me,m.resolveABlobURL=ve,m.percentEncode=Ee,m.percentDecode=Le,m.stringPercentDecode=Ie,m.utf8PercentEncode=Oe,m.hostEquals=function(ne,ae){return ne===ae},m.urlEquals=function(ne,ae,he){return he===void 0&&(he=!1),Z(ne,he)===Z(ae,he)},m.urlEncodedStringParser=function(ne){return le(C.utf8Encode(ne))},m.urlEncodedParser=le,m.urlEncodedByteSerializer=te,m.urlEncodedSerializer=function(ne,ae){var he,de;if((ae===void 0||ae==="replacement"||ae==="UTF-16BE"||ae==="UTF-16LE"?"UTF-8":ae).toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var be="";try{for(var Ce=x(ne),we=Ce.next();!we.done;we=Ce.next()){var Pe=we.value,ke=te(C.utf8Encode(Pe[0])),Be=Pe[1];Be=te(C.utf8Encode(Be)),be!==""&&(be+="&"),be+=ke+"="+Be}}catch(Re){he={error:Re}}finally{try{we&&!we.done&&(de=Ce.return)&&de.call(Ce)}finally{if(he)throw he.error}}return be},m.origin=function ne(ae){switch(ae.scheme){case"blob":ae._blobURLEntry;var he=se(ae.path[0]);return he===null?A.OpaqueOrigin:ne(he);case"ftp":case"http":case"https":case"ws":case"wss":return[ae.scheme,ae.host===null?"":ae.host,ae.port,null];case"file":default:return A.OpaqueOrigin}},m.domainToASCII=re,m.domainToUnicode=function(ne,ae){var he=M.domainToUnicode(ne);return he===""&&L("Invalid domain name."),he},m.asciiSerializationOfAnOrigin=function(ne){if(ne[0]===""&&ne[1]===""&&ne[2]===null&&ne[3]===null)return"null";var ae=ne[0]+"://"+J(ne[1]);return ne[2]!==null&&(ae+=":"+ne[2].toString()),ae}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(0),g=function(){function w(){this._signal=x.create_abortSignal()}return Object.defineProperty(w.prototype,"signal",{get:function(){return this._signal},enumerable:!0,configurable:!0}),w.prototype.abort=function(){x.abort_signalAbort(this._signal)},w}();m.AbortControllerImpl=g},function(s,m,f){var x,g=this&&this.__extends||(x=function(_,M){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,D){P.__proto__=D}||function(P,D){for(var E in D)D.hasOwnProperty(E)&&(P[E]=D[E])})(_,M)},function(_,M){function P(){this.constructor=_}x(_,M),_.prototype=M===null?Object.create(M):(P.prototype=M.prototype,new P)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(70),C=f(0),A=function(_){function M(){var P=_.call(this)||this;return P._abortedFlag=!1,P._abortAlgorithms=new Set,P}return g(M,_),Object.defineProperty(M.prototype,"aborted",{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"onabort",{get:function(){return C.event_getterEventHandlerIDLAttribute(this,"onabort")},set:function(P){C.event_setterEventHandlerIDLAttribute(this,"onabort",P)},enumerable:!0,configurable:!0}),M._create=function(){return new M},M}(w.EventTargetImpl);m.AbortSignalImpl=A},function(s,m,f){var x,g=this&&this.__extends||(x=function(M,P){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var I in E)E.hasOwnProperty(I)&&(D[I]=E[I])})(M,P)},function(M,P){function D(){this.constructor=M}x(M,P),M.prototype=P===null?Object.create(P):(D.prototype=P.prototype,new D)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(1),C=f(34),A=f(12),_=function(M){function P(D,E,I){var B=M.call(this)||this;return B._name="",B._publicId="",B._systemId="",B._name=D,B._publicId=E,B._systemId=I,B}return g(P,M),Object.defineProperty(P.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"publicId",{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"systemId",{get:function(){return this._systemId},enumerable:!0,configurable:!0}),P.prototype.before=function(){for(var D=[],E=0;E<arguments.length;E++)D[E]=arguments[E];throw new Error("Mixin: ChildNode not implemented.")},P.prototype.after=function(){for(var D=[],E=0;E<arguments.length;E++)D[E]=arguments[E];throw new Error("Mixin: ChildNode not implemented.")},P.prototype.replaceWith=function(){for(var D=[],E=0;E<arguments.length;E++)D[E]=arguments[E];throw new Error("Mixin: ChildNode not implemented.")},P.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},P._create=function(D,E,I,B){I===void 0&&(I=""),B===void 0&&(B="");var F=new P(E,I,B);return F._nodeDocument=D,F},P}(C.NodeImpl);m.DocumentTypeImpl=_,A.idl_defineConst(_.prototype,"_nodeType",w.NodeType.DocumentType)},function(s,m,f){var x,g=this&&this.__extends||(x=function(M,P){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var I in E)E.hasOwnProperty(I)&&(D[I]=E[I])})(M,P)},function(M,P){function D(){this.constructor=M}x(M,P),M.prototype=P===null?Object.create(P):(D.prototype=P.prototype,new D)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(100),C=f(2),A=f(0),_=function(M){function P(D,E){var I=M.call(this)||this;return I._host=D,I._mode=E,I}return g(P,M),Object.defineProperty(P.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),P.prototype._getTheParent=function(D){return D._composedFlag||C.isEmpty(D._path)||A.tree_rootNode(D._path[0].invocationTarget)!==this?this._host:null},P._create=function(D,E){return new P(E,"closed")},P}(w.DocumentFragmentImpl);m.ShadowRootImpl=_},function(s,m,f){var x,g=this&&this.__extends||(x=function(P,D){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var B in I)I.hasOwnProperty(B)&&(E[B]=I[B])})(P,D)},function(P,D){function E(){this.constructor=P}x(P,D),P.prototype=D===null?Object.create(D):(E.prototype=D.prototype,new E)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(1),C=f(34),A=f(0),_=f(12),M=function(P){function D(E){var I=P.call(this)||this;return I._namespace=null,I._namespacePrefix=null,I._element=null,I._value="",I._localName=E,I}return g(D,P),Object.defineProperty(D.prototype,"ownerElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"name",{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"value",{get:function(){return this._value},set:function(E){A.attr_setAnExistingAttributeValue(this,E)},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix!==null?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),D._create=function(E,I){var B=new D(I);return B._nodeDocument=E,B},D}(C.NodeImpl);m.AttrImpl=M,_.idl_defineConst(M.prototype,"_nodeType",w.NodeType.Attribute),_.idl_defineConst(M.prototype,"specified",!0)},function(s,m,f){var x,g=this&&this.__extends||(x=function(M,P){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var I in E)E.hasOwnProperty(I)&&(D[I]=E[I])})(M,P)},function(M,P){function D(){this.constructor=M}x(M,P),M.prototype=P===null?Object.create(P):(D.prototype=P.prototype,new D)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(101),C=f(1),A=f(12),_=function(M){function P(D){return M.call(this,D)||this}return g(P,M),P._create=function(D,E){E===void 0&&(E="");var I=new P(E);return I._nodeDocument=D,I},P}(w.TextImpl);m.CDATASectionImpl=_,A.idl_defineConst(_.prototype,"_nodeType",C.NodeType.CData)},function(s,m,f){var x,g=this&&this.__extends||(x=function(M,P){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var I in E)E.hasOwnProperty(I)&&(D[I]=E[I])})(M,P)},function(M,P){function D(){this.constructor=M}x(M,P),M.prototype=P===null?Object.create(P):(D.prototype=P.prototype,new D)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(1),C=f(71),A=f(12),_=function(M){function P(D){return D===void 0&&(D=""),M.call(this,D)||this}return g(P,M),P._create=function(D,E){E===void 0&&(E="");var I=new P(E);return I._nodeDocument=D,I},P}(C.CharacterDataImpl);m.CommentImpl=_,A.idl_defineConst(_.prototype,"_nodeType",w.NodeType.Comment)},function(s,m,f){var x,g=this&&this.__extends||(x=function(M,P){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var I in E)E.hasOwnProperty(I)&&(D[I]=E[I])})(M,P)},function(M,P){function D(){this.constructor=M}x(M,P),M.prototype=P===null?Object.create(P):(D.prototype=P.prototype,new D)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(1),C=f(71),A=f(12),_=function(M){function P(D,E){var I=M.call(this,E)||this;return I._target=D,I}return g(P,M),Object.defineProperty(P.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),P._create=function(D,E,I){var B=new P(E,I);return B._nodeDocument=D,B},P}(C.CharacterDataImpl);m.ProcessingInstructionImpl=_,A.idl_defineConst(_.prototype,"_nodeType",w.NodeType.ProcessingInstruction)},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(7),g=f(0),w=f(3),C=f(2),A=function(){function _(M,P){return this._live=!0,this._root=M,this._filter=P,new Proxy(this,this)}return Object.defineProperty(_.prototype,"length",{get:function(){for(var M=this,P=0,D=g.tree_getFirstDescendantNode(this._root,!1,!1,function(E){return w.Guard.isElementNode(E)&&M._filter(E)});D!==null;)P++,D=g.tree_getNextDescendantNode(this._root,D,!1,!1,function(E){return w.Guard.isElementNode(E)&&M._filter(E)});return P},enumerable:!0,configurable:!0}),_.prototype.item=function(M){for(var P=this,D=0,E=g.tree_getFirstDescendantNode(this._root,!1,!1,function(I){return w.Guard.isElementNode(I)&&P._filter(I)});E!==null;){if(D===M)return E;D++,E=g.tree_getNextDescendantNode(this._root,E,!1,!1,function(I){return w.Guard.isElementNode(I)&&P._filter(I)})}return null},_.prototype.namedItem=function(M){var P=this;if(M==="")return null;for(var D=g.tree_getFirstDescendantNode(this._root,!1,!1,function(B){return w.Guard.isElementNode(B)&&P._filter(B)});D!=null;){if(D._uniqueIdentifier===M)return D;if(D._namespace===x.namespace.HTML)for(var E=0;E<D._attributeList.length;E++){var I=D._attributeList[E];if(I._localName==="name"&&I._namespace===null&&I._namespacePrefix===null&&I._value===M)return D}D=g.tree_getNextDescendantNode(this._root,D,!1,!1,function(B){return w.Guard.isElementNode(B)&&P._filter(B)})}return null},_.prototype[Symbol.iterator]=function(){var M=this._root,P=this._filter,D=g.tree_getFirstDescendantNode(M,!1,!1,function(E){return w.Guard.isElementNode(E)&&P(E)});return{next:function(){if(D===null)return{done:!0,value:null};var E={done:!1,value:D};return D=g.tree_getNextDescendantNode(M,D,!1,!1,function(I){return w.Guard.isElementNode(I)&&P(I)}),E}}},_.prototype.get=function(M,P,D){if(!C.isString(P)||_.reservedNames.indexOf(P)!==-1)return Reflect.get(M,P,D);var E=Number(P);return isNaN(E)?M.namedItem(P)||void 0:M.item(E)||void 0},_.prototype.set=function(M,P,D,E){if(!C.isString(P)||_.reservedNames.indexOf(P)!==-1)return Reflect.set(M,P,D,E);var I=Number(P),B=isNaN(I)?M.namedItem(P)||void 0:M.item(I)||void 0;return!(!B||!B._parent)&&(g.mutation_replace(B,D,B._parent),!0)},_._create=function(M,P){return P===void 0&&(P=function(){return!0}),new _(M,P)},_.reservedNames=["_root","_live","_filter","length","item","namedItem","get","set"],_}();m.HTMLCollectionImpl=A},function(s,m,f){var x=this&&this.__values||function(_){var M=typeof Symbol=="function"&&Symbol.iterator,P=M&&_[M],D=0;if(P)return P.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&D>=_.length&&(_=void 0),{value:_&&_[D++],done:!_}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(6),w=f(2),C=f(0),A=function(){function _(M){return this._live=!0,this._filter=null,this._length=0,this._root=M,new Proxy(this,this)}return Object.defineProperty(_.prototype,"length",{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),_.prototype.item=function(M){if(M<0||M>this.length-1)return null;if(M<this.length/2){for(var P=0,D=this._root._firstChild;D!==null&&P!==M;)D=D._nextSibling,P++;return D}for(P=this.length-1,D=this._root._lastChild;D!==null&&P!==M;)D=D._previousSibling,P--;return D},_.prototype.keys=function(){var M;return(M={})[Symbol.iterator]=(function(){var P=0;return{next:(function(){return P===this.length?{done:!0,value:null}:{done:!1,value:P++}}).bind(this)}}).bind(this),M},_.prototype.values=function(){var M;return(M={})[Symbol.iterator]=(function(){var P=this[Symbol.iterator]();return{next:function(){return P.next()}}}).bind(this),M},_.prototype.entries=function(){var M;return(M={})[Symbol.iterator]=(function(){var P=this[Symbol.iterator](),D=0;return{next:function(){var E=P.next();return E.done?{done:!0,value:null}:{done:!1,value:[D++,E.value]}}}}).bind(this),M},_.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},_.prototype.forEach=function(M,P){var D,E;P===void 0&&(P=g.dom.window);var I=0;try{for(var B=x(this._root._children),F=B.next();!F.done;F=B.next()){var R=F.value;M.call(P,R,I++,this)}}catch(L){D={error:L}}finally{try{F&&!F.done&&(E=B.return)&&E.call(B)}finally{if(D)throw D.error}}},_.prototype.get=function(M,P,D){if(!w.isString(P))return Reflect.get(M,P,D);var E=Number(P);return isNaN(E)?Reflect.get(M,P,D):M.item(E)||void 0},_.prototype.set=function(M,P,D,E){if(!w.isString(P))return Reflect.set(M,P,D,E);var I=Number(P);if(isNaN(I))return Reflect.set(M,P,D,E);var B=M.item(I)||void 0;return!!B&&!!B._parent&&(C.mutation_replace(B,D,B._parent),!0)},_._create=function(M){return new _(M)},_}();m.NodeListImpl=A},function(s,m,f){var x=this&&this.__values||function(A){var _=typeof Symbol=="function"&&Symbol.iterator,M=_&&A[_],P=0;if(M)return M.call(A);if(A&&typeof A.length=="number")return{next:function(){return A&&P>=A.length&&(A=void 0),{value:A&&A[P++],done:!A}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(6),w=f(2),C=function(){function A(_){return this._live=!1,this._items=[],this._length=0,this._root=_,this._items=[],this._filter=function(M){return!0},new Proxy(this,this)}return Object.defineProperty(A.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),A.prototype.item=function(_){return _<0||_>this.length-1?null:this._items[_]},A.prototype.keys=function(){var _;return(_={})[Symbol.iterator]=(function(){var M=0;return{next:(function(){return M===this.length?{done:!0,value:null}:{done:!1,value:M++}}).bind(this)}}).bind(this),_},A.prototype.values=function(){var _;return(_={})[Symbol.iterator]=(function(){var M=this[Symbol.iterator]();return{next:function(){return M.next()}}}).bind(this),_},A.prototype.entries=function(){var _;return(_={})[Symbol.iterator]=(function(){var M=this[Symbol.iterator](),P=0;return{next:function(){var D=M.next();return D.done?{done:!0,value:null}:{done:!1,value:[P++,D.value]}}}}).bind(this),_},A.prototype[Symbol.iterator]=function(){var _=this._items[Symbol.iterator]();return{next:function(){return _.next()}}},A.prototype.forEach=function(_,M){var P,D;M===void 0&&(M=g.dom.window);var E=0;try{for(var I=x(this._items),B=I.next();!B.done;B=I.next()){var F=B.value;_.call(M,F,E++,this)}}catch(R){P={error:R}}finally{try{B&&!B.done&&(D=I.return)&&D.call(I)}finally{if(P)throw P.error}}},A.prototype.get=function(_,M,P){if(!w.isString(M))return Reflect.get(_,M,P);var D=Number(M);return isNaN(D)?Reflect.get(_,M,P):_._items[D]||void 0},A.prototype.set=function(_,M,P,D){if(!w.isString(M))return Reflect.set(_,M,P,D);var E=Number(M);return isNaN(E)?Reflect.set(_,M,P,D):E>=0&&E<_._items.length&&(_._items[E]=P,!0)},A._create=function(_,M){var P=new A(_);return P._items=M,P},A}();m.NodeListStaticImpl=C},function(s,m,f){var x,g=this&&this.__extends||(x=function(_,M){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,D){P.__proto__=D}||function(P,D){for(var E in D)D.hasOwnProperty(E)&&(P[E]=D[E])})(_,M)},function(_,M){function P(){this.constructor=_}x(_,M),_.prototype=M===null?Object.create(M):(P.prototype=M.prototype,new P)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(9),C=f(0),A=function(_){function M(P){var D=_.call(this)||this;return D._element=P,Object.setPrototypeOf(D,M.prototype),D}return g(M,_),M.prototype._asArray=function(){return this},M.prototype.item=function(P){return this[P]||null},M.prototype.getNamedItem=function(P){return C.element_getAnAttributeByName(P,this._element)},M.prototype.getNamedItemNS=function(P,D){return C.element_getAnAttributeByNamespaceAndLocalName(P||"",D,this._element)},M.prototype.setNamedItem=function(P){return C.element_setAnAttribute(P,this._element)},M.prototype.setNamedItemNS=function(P){return C.element_setAnAttribute(P,this._element)},M.prototype.removeNamedItem=function(P){var D=C.element_removeAnAttributeByName(P,this._element);if(D===null)throw new w.NotFoundError;return D},M.prototype.removeNamedItemNS=function(P,D){var E=C.element_removeAnAttributeByNamespaceAndLocalName(P||"",D,this._element);if(E===null)throw new w.NotFoundError;return E},M._create=function(P){return new M(P)},M}(Array);m.NamedNodeMapImpl=A},function(s,m,f){var x,g=this&&this.__extends||(x=function(B,F){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,L){R.__proto__=L}||function(R,L){for(var z in L)L.hasOwnProperty(z)&&(R[z]=L[z])})(B,F)},function(B,F){function R(){this.constructor=B}x(B,F),B.prototype=F===null?Object.create(F):(R.prototype=F.prototype,new R)}),w=this&&this.__values||function(B){var F=typeof Symbol=="function"&&Symbol.iterator,R=F&&B[F],L=0;if(R)return R.call(B);if(B&&typeof B.length=="number")return{next:function(){return B&&L>=B.length&&(B=void 0),{value:B&&B[L++],done:!B}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var C=f(6),A=f(1),_=f(102),M=f(9),P=f(0),D=f(12),E=f(3),I=function(B){function F(){var R=B.call(this)||this,L=C.dom.window._associatedDocument;return R._start=[L,0],R._end=[L,0],C.dom.rangeList.add(R),R}return g(F,B),Object.defineProperty(F.prototype,"commonAncestorContainer",{get:function(){for(var R=this._start[0];!P.tree_isAncestorOf(this._end[0],R,!0);){if(R._parent===null)throw new Error("Parent node  is null.");R=R._parent}return R},enumerable:!0,configurable:!0}),F.prototype.setStart=function(R,L){P.range_setTheStart(this,R,L)},F.prototype.setEnd=function(R,L){P.range_setTheEnd(this,R,L)},F.prototype.setStartBefore=function(R){var L=R._parent;if(L===null)throw new M.InvalidNodeTypeError;P.range_setTheStart(this,L,P.tree_index(R))},F.prototype.setStartAfter=function(R){var L=R._parent;if(L===null)throw new M.InvalidNodeTypeError;P.range_setTheStart(this,L,P.tree_index(R)+1)},F.prototype.setEndBefore=function(R){var L=R._parent;if(L===null)throw new M.InvalidNodeTypeError;P.range_setTheEnd(this,L,P.tree_index(R))},F.prototype.setEndAfter=function(R){var L=R._parent;if(L===null)throw new M.InvalidNodeTypeError;P.range_setTheEnd(this,L,P.tree_index(R)+1)},F.prototype.collapse=function(R){R?this._end=this._start:this._start=this._end},F.prototype.selectNode=function(R){P.range_select(R,this)},F.prototype.selectNodeContents=function(R){if(E.Guard.isDocumentTypeNode(R))throw new M.InvalidNodeTypeError;var L=P.tree_nodeLength(R);this._start=[R,0],this._end=[R,L]},F.prototype.compareBoundaryPoints=function(R,L){if(R!==A.HowToCompare.StartToStart&&R!==A.HowToCompare.StartToEnd&&R!==A.HowToCompare.EndToEnd&&R!==A.HowToCompare.EndToStart)throw new M.NotSupportedError;if(P.range_root(this)!==P.range_root(L))throw new M.WrongDocumentError;var z,G;switch(R){case A.HowToCompare.StartToStart:z=this._start,G=L._start;break;case A.HowToCompare.StartToEnd:z=this._end,G=L._start;break;case A.HowToCompare.EndToEnd:z=this._end,G=L._end;break;case A.HowToCompare.EndToStart:z=this._start,G=L._end;break;default:throw new M.NotSupportedError}var W=P.boundaryPoint_position(z,G);return W===A.BoundaryPosition.Before?-1:W===A.BoundaryPosition.After?1:0},F.prototype.deleteContents=function(){var R,L,z,G;if(!P.range_collapsed(this)){var W=this._startNode,K=this._startOffset,q=this._endNode,Z=this._endOffset;if(W===q&&E.Guard.isCharacterDataNode(W))P.characterData_replaceData(W,K,Z-K,"");else{var J,Q,ie=[];try{for(var se=w(P.range_getContainedNodes(this)),oe=se.next();!oe.done;oe=se.next()){var ue=(me=oe.value)._parent;ue!==null&&P.range_isContained(ue,this)||ie.push(me)}}catch(pe){R={error:pe}}finally{try{oe&&!oe.done&&(L=se.return)&&L.call(se)}finally{if(R)throw R.error}}if(P.tree_isAncestorOf(q,W,!0))J=W,Q=K;else{for(var fe=W;fe._parent!==null&&!P.tree_isAncestorOf(q,fe._parent,!0);)fe=fe._parent;if(fe._parent===null)throw new Error("Parent node is null.");J=fe._parent,Q=P.tree_index(fe)+1}E.Guard.isCharacterDataNode(W)&&P.characterData_replaceData(W,K,P.tree_nodeLength(W)-K,"");try{for(var xe=w(ie),ce=xe.next();!ce.done;ce=xe.next()){var me;(me=ce.value)._parent&&P.mutation_remove(me,me._parent)}}catch(pe){z={error:pe}}finally{try{ce&&!ce.done&&(G=xe.return)&&G.call(xe)}finally{if(z)throw z.error}}E.Guard.isCharacterDataNode(q)&&P.characterData_replaceData(q,0,Z,""),this._start=[J,Q],this._end=[J,Q]}}},F.prototype.extractContents=function(){return P.range_extract(this)},F.prototype.cloneContents=function(){return P.range_cloneTheContents(this)},F.prototype.insertNode=function(R){return P.range_insert(R,this)},F.prototype.surroundContents=function(R){var L,z;try{for(var G=w(P.range_getPartiallyContainedNodes(this)),W=G.next();!W.done;W=G.next()){var K=W.value;if(!E.Guard.isTextNode(K))throw new M.InvalidStateError}}catch(Z){L={error:Z}}finally{try{W&&!W.done&&(z=G.return)&&z.call(G)}finally{if(L)throw L.error}}if(E.Guard.isDocumentNode(R)||E.Guard.isDocumentTypeNode(R)||E.Guard.isDocumentFragmentNode(R))throw new M.InvalidNodeTypeError;var q=P.range_extract(this);R._children.size!==0&&P.mutation_replaceAll(null,R),P.range_insert(R,this),P.mutation_append(q,R),P.range_select(R,this)},F.prototype.cloneRange=function(){return P.create_range(this._start,this._end)},F.prototype.detach=function(){C.dom.rangeList.delete(this)},F.prototype.isPointInRange=function(R,L){if(P.tree_rootNode(R)!==P.range_root(this))return!1;if(E.Guard.isDocumentTypeNode(R))throw new M.InvalidNodeTypeError;if(L>P.tree_nodeLength(R))throw new M.IndexSizeError;var z=[R,L];return P.boundaryPoint_position(z,this._start)!==A.BoundaryPosition.Before&&P.boundaryPoint_position(z,this._end)!==A.BoundaryPosition.After},F.prototype.comparePoint=function(R,L){if(P.tree_rootNode(R)!==P.range_root(this))throw new M.WrongDocumentError;if(E.Guard.isDocumentTypeNode(R))throw new M.InvalidNodeTypeError;if(L>P.tree_nodeLength(R))throw new M.IndexSizeError;var z=[R,L];return P.boundaryPoint_position(z,this._start)===A.BoundaryPosition.Before?-1:P.boundaryPoint_position(z,this._end)===A.BoundaryPosition.After?1:0},F.prototype.intersectsNode=function(R){if(P.tree_rootNode(R)!==P.range_root(this))return!1;var L=R._parent;if(L===null)return!0;var z=P.tree_index(R);return P.boundaryPoint_position([L,z],this._end)===A.BoundaryPosition.Before&&P.boundaryPoint_position([L,z+1],this._start)===A.BoundaryPosition.After},F.prototype.toString=function(){var R,L,z="";if(this._startNode===this._endNode&&E.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);E.Guard.isTextNode(this._startNode)&&(z+=this._startNode._data.substring(this._startOffset));try{for(var G=w(P.range_getContainedNodes(this)),W=G.next();!W.done;W=G.next()){var K=W.value;E.Guard.isTextNode(K)&&(z+=K._data)}}catch(q){R={error:q}}finally{try{W&&!W.done&&(L=G.return)&&L.call(G)}finally{if(R)throw R.error}}return E.Guard.isTextNode(this._endNode)&&(z+=this._endNode._data.substring(0,this._endOffset)),z},F._create=function(R,L){var z=new F;return R&&(z._start=R),L&&(z._end=L),z},F.START_TO_START=0,F.START_TO_END=1,F.END_TO_END=2,F.END_TO_START=3,F}(_.AbstractRangeImpl);m.RangeImpl=I,D.idl_defineConst(I.prototype,"START_TO_START",0),D.idl_defineConst(I.prototype,"START_TO_END",1),D.idl_defineConst(I.prototype,"END_TO_END",2),D.idl_defineConst(I.prototype,"END_TO_START",3)},function(s,m,f){var x,g=this&&this.__extends||(x=function(_,M){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,D){P.__proto__=D}||function(P,D){for(var E in D)D.hasOwnProperty(E)&&(P[E]=D[E])})(_,M)},function(_,M){function P(){this.constructor=_}x(_,M),_.prototype=M===null?Object.create(M):(P.prototype=M.prototype,new P)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(103),C=f(0),A=function(_){function M(P,D,E){var I=_.call(this,P)||this;return I._iteratorCollection=void 0,I._reference=D,I._pointerBeforeReference=E,C.nodeIterator_iteratorList().add(I),I}return g(M,_),Object.defineProperty(M.prototype,"referenceNode",{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"pointerBeforeReferenceNode",{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),M.prototype.nextNode=function(){return C.nodeIterator_traverse(this,!0)},M.prototype.previousNode=function(){return C.nodeIterator_traverse(this,!1)},M.prototype.detach=function(){C.nodeIterator_iteratorList().delete(this)},M._create=function(P,D,E){return new M(P,D,E)},M}(w.TraverserImpl);m.NodeIteratorImpl=A},function(s,m,f){var x,g=this&&this.__extends||(x=function(M,P){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var I in E)E.hasOwnProperty(I)&&(D[I]=E[I])})(M,P)},function(M,P){function D(){this.constructor=M}x(M,P),M.prototype=P===null?Object.create(P):(D.prototype=P.prototype,new D)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(1),C=f(103),A=f(0),_=function(M){function P(D,E){var I=M.call(this,D)||this;return I._current=E,I}return g(P,M),Object.defineProperty(P.prototype,"currentNode",{get:function(){return this._current},set:function(D){this._current=D},enumerable:!0,configurable:!0}),P.prototype.parentNode=function(){for(var D=this._current;D!==null&&D!==this._root;)if((D=D._parent)!==null&&A.traversal_filter(this,D)===w.FilterResult.Accept)return this._current=D,D;return null},P.prototype.firstChild=function(){return A.treeWalker_traverseChildren(this,!0)},P.prototype.lastChild=function(){return A.treeWalker_traverseChildren(this,!1)},P.prototype.nextSibling=function(){return A.treeWalker_traverseSiblings(this,!0)},P.prototype.previousNode=function(){for(var D=this._current;D!==this._root;){for(var E=D._previousSibling;E;){D=E;for(var I=A.traversal_filter(this,D);I!==w.FilterResult.Reject&&D._lastChild;)D=D._lastChild,I=A.traversal_filter(this,D);if(I===w.FilterResult.Accept)return this._current=D,D;E=D._previousSibling}if(D===this._root||D._parent===null)return null;if(D=D._parent,A.traversal_filter(this,D)===w.FilterResult.Accept)return this._current=D,D}return null},P.prototype.previousSibling=function(){return A.treeWalker_traverseSiblings(this,!1)},P.prototype.nextNode=function(){for(var D=this._current,E=w.FilterResult.Accept;;){for(;E!==w.FilterResult.Reject&&D._firstChild;)if(D=D._firstChild,(E=A.traversal_filter(this,D))===w.FilterResult.Accept)return this._current=D,D;for(var I=null,B=D;B!==null;){if(B===this._root)return null;if((I=B._nextSibling)!==null){D=I;break}B=B._parent}if((E=A.traversal_filter(this,D))===w.FilterResult.Accept)return this._current=D,D}},P._create=function(D,E){return new P(D,E)},P}(C.TraverserImpl);m.TreeWalkerImpl=_},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(1),g=f(12),w=function(){function C(){}return C.prototype.acceptNode=function(A){return x.FilterResult.Accept},C._create=function(){return new C},C.FILTER_ACCEPT=1,C.FILTER_REJECT=2,C.FILTER_SKIP=3,C.SHOW_ALL=4294967295,C.SHOW_ELEMENT=1,C.SHOW_ATTRIBUTE=2,C.SHOW_TEXT=4,C.SHOW_CDATA_SECTION=8,C.SHOW_ENTITY_REFERENCE=16,C.SHOW_ENTITY=32,C.SHOW_PROCESSING_INSTRUCTION=64,C.SHOW_COMMENT=128,C.SHOW_DOCUMENT=256,C.SHOW_DOCUMENT_TYPE=512,C.SHOW_DOCUMENT_FRAGMENT=1024,C.SHOW_NOTATION=2048,C}();m.NodeFilterImpl=w,g.idl_defineConst(w.prototype,"FILTER_ACCEPT",1),g.idl_defineConst(w.prototype,"FILTER_REJECT",2),g.idl_defineConst(w.prototype,"FILTER_SKIP",3),g.idl_defineConst(w.prototype,"SHOW_ALL",4294967295),g.idl_defineConst(w.prototype,"SHOW_ELEMENT",1),g.idl_defineConst(w.prototype,"SHOW_ATTRIBUTE",2),g.idl_defineConst(w.prototype,"SHOW_TEXT",4),g.idl_defineConst(w.prototype,"SHOW_CDATA_SECTION",8),g.idl_defineConst(w.prototype,"SHOW_ENTITY_REFERENCE",16),g.idl_defineConst(w.prototype,"SHOW_ENTITY",32),g.idl_defineConst(w.prototype,"SHOW_PROCESSING_INSTRUCTION",64),g.idl_defineConst(w.prototype,"SHOW_COMMENT",128),g.idl_defineConst(w.prototype,"SHOW_DOCUMENT",256),g.idl_defineConst(w.prototype,"SHOW_DOCUMENT_TYPE",512),g.idl_defineConst(w.prototype,"SHOW_DOCUMENT_FRAGMENT",1024),g.idl_defineConst(w.prototype,"SHOW_NOTATION",2048)},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=function(){function g(w,C,A,_,M,P,D,E,I){this._type=w,this._target=C,this._addedNodes=A,this._removedNodes=_,this._previousSibling=M,this._nextSibling=P,this._attributeName=D,this._attributeNamespace=E,this._oldValue=I}return Object.defineProperty(g.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"addedNodes",{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"removedNodes",{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"attributeName",{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"attributeNamespace",{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),g._create=function(w,C,A,_,M,P,D,E,I){return new g(w,C,A,_,M,P,D,E,I)},g}();m.MutationRecordImpl=x},function(s,m,f){var x=this&&this.__values||function(M){var P=typeof Symbol=="function"&&Symbol.iterator,D=P&&M[P],E=0;if(D)return D.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&E>=M.length&&(M=void 0),{value:M&&M[E++],done:!M}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(6),w=f(9),C=f(7),A=f(0),_=function(){function M(P,D){this._element=P,this._attribute=D,this._tokenSet=new Set;var E=D._localName,I=A.element_getAnAttributeValue(P,E),B=this;this._element._attributeChangeSteps.push(function(F,R,L,z,G){R===B._attribute._localName&&G===null&&(z?B._tokenSet=A.orderedSet_parse(z):B._tokenSet.clear())}),g.dom.features.steps&&A.dom_runAttributeChangeSteps(P,E,I,I,null)}return Object.defineProperty(M.prototype,"length",{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),M.prototype.item=function(P){var D,E,I=0;try{for(var B=x(this._tokenSet),F=B.next();!F.done;F=B.next()){var R=F.value;if(I===P)return R;I++}}catch(L){D={error:L}}finally{try{F&&!F.done&&(E=B.return)&&E.call(B)}finally{if(D)throw D.error}}return null},M.prototype.contains=function(P){return this._tokenSet.has(P)},M.prototype.add=function(){for(var P,D,E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];try{for(var B=x(E),F=B.next();!F.done;F=B.next()){var R=F.value;if(R==="")throw new w.SyntaxError("Cannot add an empty token.");if(C.codePoint.ASCIIWhiteSpace.test(R))throw new w.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.add(R)}}catch(L){P={error:L}}finally{try{F&&!F.done&&(D=B.return)&&D.call(B)}finally{if(P)throw P.error}}A.tokenList_updateSteps(this)},M.prototype.remove=function(){for(var P,D,E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];try{for(var B=x(E),F=B.next();!F.done;F=B.next()){var R=F.value;if(R==="")throw new w.SyntaxError("Cannot remove an empty token.");if(C.codePoint.ASCIIWhiteSpace.test(R))throw new w.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.delete(R)}}catch(L){P={error:L}}finally{try{F&&!F.done&&(D=B.return)&&D.call(B)}finally{if(P)throw P.error}}A.tokenList_updateSteps(this)},M.prototype.toggle=function(P,D){if(D===void 0&&(D=void 0),P==="")throw new w.SyntaxError("Cannot toggle an empty token.");if(C.codePoint.ASCIIWhiteSpace.test(P))throw new w.InvalidCharacterError("Token cannot contain whitespace.");return this._tokenSet.has(P)?D!==void 0&&D!==!1||(this._tokenSet.delete(P),A.tokenList_updateSteps(this),!1):(D===void 0||D===!0)&&(this._tokenSet.add(P),A.tokenList_updateSteps(this),!0)},M.prototype.replace=function(P,D){if(P===""||D==="")throw new w.SyntaxError("Cannot replace an empty token.");if(C.codePoint.ASCIIWhiteSpace.test(P)||C.codePoint.ASCIIWhiteSpace.test(D))throw new w.InvalidCharacterError("Token cannot contain whitespace.");return!!this._tokenSet.has(P)&&(C.set.replace(this._tokenSet,P,D),A.tokenList_updateSteps(this),!0)},M.prototype.supports=function(P){return A.tokenList_validationSteps(this,P)},Object.defineProperty(M.prototype,"value",{get:function(){return A.tokenList_serializeSteps(this)},set:function(P){A.element_setAnAttributeValue(this._element,this._attribute._localName,P)},enumerable:!0,configurable:!0}),M.prototype[Symbol.iterator]=function(){var P=this._tokenSet[Symbol.iterator]();return{next:function(){return P.next()}}},M._create=function(P,D){return new M(P,D)},M}();m.DOMTokenListImpl=_},function(s,m,f){var x,g=this&&this.__extends||(x=function(_,M){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,D){P.__proto__=D}||function(P,D){for(var E in D)D.hasOwnProperty(E)&&(P[E]=D[E])})(_,M)},function(_,M){function P(){this.constructor=_}x(_,M),_.prototype=M===null?Object.create(M):(P.prototype=M.prototype,new P)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(104),C=f(0),A=function(_){function M(P,D){var E=_.call(this,P,D)||this;return E._detail=null,E._detail=D&&D.detail||null,E}return g(M,_),Object.defineProperty(M.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),M.prototype.initCustomEvent=function(P,D,E,I){D===void 0&&(D=!1),E===void 0&&(E=!1),I===void 0&&(I=null),this._dispatchFlag||(C.event_initialize(this,P,D,E),this._detail=I)},M}(w.EventImpl);m.CustomEventImpl=A},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(6),g=f(1),w=f(105),C=f(17);m.nodeIterator_traverse=function(A,_){for(var M=A._reference,P=A._pointerBeforeReference;;){if(_)if(P)P=!1;else{var D=C.tree_getFollowingNode(A._root,M);if(!D)return null;M=D}else if(P){var E=C.tree_getPrecedingNode(A.root,M);if(!E)return null;M=E}else P=!0;if(w.traversal_filter(A,M)===g.FilterResult.Accept)break}return A._reference=M,A._pointerBeforeReference=P,M},m.nodeIterator_iteratorList=function(){return x.dom.window._iteratorList}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(9),g=f(7),w=f(174);function C(A){if(!w.xml_isName(A))throw new x.InvalidCharacterError("Invalid XML name: "+A);if(!w.xml_isQName(A))throw new x.InvalidCharacterError("Invalid XML qualified name: "+A+".")}m.namespace_validate=C,m.namespace_validateAndExtract=function(A,_){A||(A=null),C(_);var M=_.split(":"),P=M.length===2?M[0]:null,D=M.length===2?M[1]:_;if(P&&A===null)throw new x.NamespaceError("Qualified name includes a prefix but the namespace is null.");if(P==="xml"&&A!==g.namespace.XML)throw new x.NamespaceError('Qualified name includes the "xml" prefix but the namespace is not the XML namespace.');if(A!==g.namespace.XMLNS&&(P==="xmlns"||_==="xmlns"))throw new x.NamespaceError('Qualified name includes the "xmlns" prefix but the namespace is not the XMLNS namespace.');if(A===g.namespace.XMLNS&&P!=="xmlns"&&_!=="xmlns")throw new x.NamespaceError('Qualified name does not include the "xmlns" prefix but the namespace is the XMLNS namespace.');return[A,P,D]},m.namespace_extractQName=function(A){C(A);var _=A.split(":");return[_.length===2?_[0]:null,_.length===2?_[1]:A]}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0}),m.xml_isName=function(x){for(var g=0;g<x.length;g++){var w=x.charCodeAt(g);if(!(w>=97&&w<=122||w>=65&&w<=90||w===58||w===95||w>=192&&w<=214||w>=216&&w<=246||w>=248&&w<=767||w>=880&&w<=893||w>=895&&w<=8191||w>=8204&&w<=8205||w>=8304&&w<=8591||w>=11264&&w<=12271||w>=12289&&w<=55295||w>=63744&&w<=64975||w>=65008&&w<=65533)&&(g===0||!(w===45||w===46||w>=48&&w<=57||w===183||w>=768&&w<=879||w>=8255&&w<=8256))){if(w>=55296&&w<=56319&&g<x.length-1){var C=x.charCodeAt(g+1);if(C>=56320&&C<=57343&&(g++,(w=1024*(w-55296)+C-56320+65536)>=65536&&w<=983039))continue}return!1}}return!0},m.xml_isQName=function(x){for(var g=!1,w=0;w<x.length;w++){var C=x.charCodeAt(w);if(!(C>=97&&C<=122||C>=65&&C<=90||C===95||C>=192&&C<=214||C>=216&&C<=246||C>=248&&C<=767||C>=880&&C<=893||C>=895&&C<=8191||C>=8204&&C<=8205||C>=8304&&C<=8591||C>=11264&&C<=12271||C>=12289&&C<=55295||C>=63744&&C<=64975||C>=65008&&C<=65533)&&(w===0||!(C===45||C===46||C>=48&&C<=57||C===183||C>=768&&C<=879||C>=8255&&C<=8256))){if(w===0||C!==58){if(C>=55296&&C<=56319&&w<x.length-1){var A=x.charCodeAt(w+1);if(A>=56320&&A<=57343&&(w++,(C=1024*(C-55296)+A-56320+65536)>=65536&&C<=983039))continue}return!1}if(g||w===x.length-1)return!1;g=!0}}return!0},m.xml_isLegalChar=function(x){for(var g=0;g<x.length;g++){var w=x.charCodeAt(g);if(!(w===9||w===10||w===13||w>=32&&w<=55295||w>=57344&&w<=65533)){if(w>=55296&&w<=56319&&g<x.length-1){var C=x.charCodeAt(g+1);if(C>=56320&&C<=57343&&(g++,(w=1024*(w-55296)+C-56320+65536)>=65536&&w<=1114111))continue}return!1}}return!0},m.xml_isPubidChar=function(x){for(var g=0;g<x.length;g++){var w=x.charCodeAt(g);if(!(w>=97&&w<=122||w>=65&&w<=90||w>=39&&w<=59||w===32||w===13||w===10||w>=35&&w<=37||w===33||w===61||w===63||w===64||w===95))return!1}return!0}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(1),g=f(17);m.boundaryPoint_position=function w(C,A){var _=C[0],M=C[1],P=A[0],D=A[1];if(console.assert(g.tree_rootNode(_)===g.tree_rootNode(P),"Boundary points must share the same root node."),_===P)return M===D?x.BoundaryPosition.Equal:M<D?x.BoundaryPosition.Before:x.BoundaryPosition.After;if(g.tree_isFollowing(P,_)){var E=w([P,D],[_,M]);if(E===x.BoundaryPosition.Before)return x.BoundaryPosition.After;if(E===x.BoundaryPosition.After)return x.BoundaryPosition.Before}if(g.tree_isAncestorOf(P,_)){for(var I=P;!g.tree_isChildOf(_,I);)I._parent!==null&&(I=I._parent);if(g.tree_index(I)<M)return x.BoundaryPosition.After}return x.BoundaryPosition.Before}},function(s,m,f){var x=this&&this.__values||function(E){var I=typeof Symbol=="function"&&Symbol.iterator,B=I&&E[I],F=0;if(B)return B.call(E);if(E&&typeof E.length=="number")return{next:function(){return E&&F>=E.length&&(E=void 0),{value:E&&E[F++],done:!E}}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(6),w=f(3),C=f(7),A=f(29),_=f(108),M=f(30),P=f(37),D=f(52);m.node_stringReplaceAll=function(E,I){var B=null;E!==""&&(B=A.create_text(I._nodeDocument,E)),P.mutation_replaceAll(B,I)},m.node_clone=function E(I,B,F){var R,L,z,G,W;if(B===void 0&&(B=null),F===void 0&&(F=!1),B===null&&(B=I._nodeDocument),w.Guard.isElementNode(I)){W=D.element_createAnElement(B,I._localName,I._namespace,I._namespacePrefix,I._is,!1);try{for(var K=x(I._attributeList),q=K.next();!q.done;q=K.next()){var Z=E(q.value,B);D.element_append(Z,W)}}catch(ue){R={error:ue}}finally{try{q&&!q.done&&(L=K.return)&&L.call(K)}finally{if(R)throw R.error}}}else if(w.Guard.isDocumentNode(I)){var J=A.create_document();J._encoding=I._encoding,J._contentType=I._contentType,J._URL=I._URL,J._origin=I._origin,J._type=I._type,J._mode=I._mode,W=J}else if(w.Guard.isDocumentTypeNode(I))W=A.create_documentType(B,I._name,I._publicId,I._systemId);else if(w.Guard.isAttrNode(I)){var Q=A.create_attr(B,I.localName);Q._namespace=I._namespace,Q._namespacePrefix=I._namespacePrefix,Q._value=I._value,W=Q}else W=w.Guard.isExclusiveTextNode(I)?A.create_text(B,I._data):w.Guard.isCDATASectionNode(I)?A.create_cdataSection(B,I._data):w.Guard.isCommentNode(I)?A.create_comment(B,I._data):w.Guard.isProcessingInstructionNode(I)?A.create_processingInstruction(B,I._target,I._data):w.Guard.isDocumentFragmentNode(I)?A.create_documentFragment(B):Object.create(I);if(w.Guard.isDocumentNode(W)?(W._nodeDocument=W,B=W):W._nodeDocument=B,g.dom.features.steps&&M.dom_runCloningSteps(W,I,B,F),F)try{for(var ie=x(I._children),se=ie.next();!se.done;se=ie.next()){var oe=E(se.value,B,!0);P.mutation_append(oe,W)}}catch(ue){z={error:ue}}finally{try{se&&!se.done&&(G=ie.return)&&G.call(ie)}finally{if(z)throw z.error}}return W},m.node_equals=function E(I,B){var F,R,L,z;if(I._nodeType!==B._nodeType)return!1;if(w.Guard.isDocumentTypeNode(I)&&w.Guard.isDocumentTypeNode(B)){if(I._name!==B._name||I._publicId!==B._publicId||I._systemId!==B._systemId)return!1}else if(w.Guard.isElementNode(I)&&w.Guard.isElementNode(B)){if(I._namespace!==B._namespace||I._namespacePrefix!==B._namespacePrefix||I._localName!==B._localName||I._attributeList.length!==B._attributeList.length)return!1}else if(w.Guard.isAttrNode(I)&&w.Guard.isAttrNode(B)){if(I._namespace!==B._namespace||I._localName!==B._localName||I._value!==B._value)return!1}else if(w.Guard.isProcessingInstructionNode(I)&&w.Guard.isProcessingInstructionNode(B)){if(I._target!==B._target||I._data!==B._data)return!1}else if(w.Guard.isCharacterDataNode(I)&&w.Guard.isCharacterDataNode(B)&&I._data!==B._data)return!1;if(w.Guard.isElementNode(I)&&w.Guard.isElementNode(B)){var G={};try{for(var W=x(I._attributeList),K=W.next();!K.done;K=W.next())G[(J=K.value)._localName]=J}catch(fe){F={error:fe}}finally{try{K&&!K.done&&(R=W.return)&&R.call(W)}finally{if(F)throw F.error}}try{for(var q=x(B._attributeList),Z=q.next();!Z.done;Z=q.next()){var J,Q=Z.value;if(!(J=G[Q._localName])||!E(J,Q))return!1}}catch(fe){L={error:fe}}finally{try{Z&&!Z.done&&(z=q.return)&&z.call(q)}finally{if(L)throw L.error}}}if(I._children.size!==B._children.size)return!1;for(var ie=I._children[Symbol.iterator](),se=B._children[Symbol.iterator](),oe=ie.next(),ue=se.next();!oe.done&&!ue.done;){if(!E(oe.value,ue.value))return!1;oe=ie.next(),ue=se.next()}return!0},m.node_listOfElementsWithQualifiedName=function(E,I){return E==="*"?A.create_htmlCollection(I):I._nodeDocument._type==="html"?A.create_htmlCollection(I,function(B){return B._namespace===C.namespace.HTML&&B._qualifiedName===E.toLowerCase()||B._namespace!==C.namespace.HTML&&B._qualifiedName===E}):A.create_htmlCollection(I,function(B){return B._qualifiedName===E})},m.node_listOfElementsWithNamespace=function(E,I,B){return E===""&&(E=null),E==="*"&&I==="*"?A.create_htmlCollection(B):E==="*"?A.create_htmlCollection(B,function(F){return F._localName===I}):I==="*"?A.create_htmlCollection(B,function(F){return F._namespace===E}):A.create_htmlCollection(B,function(F){return F._localName===I&&F._namespace===E})},m.node_listOfElementsWithClassNames=function(E,I){var B=_.orderedSet_parse(E);if(B.size===0)return A.create_htmlCollection(I,function(){return!1});var F=I._nodeDocument._mode!=="quirks";return A.create_htmlCollection(I,function(R){var L=R.classList;return _.orderedSet_contains(L._tokenSet,B,F)})},m.node_locateANamespacePrefix=function E(I,B){if(I._namespace===B&&I._namespacePrefix!==null)return I._namespacePrefix;for(var F=0;F<I._attributeList.length;F++){var R=I._attributeList[F];if(R._namespacePrefix==="xmlns"&&R._value===B)return R._localName}return I._parent&&w.Guard.isElementNode(I._parent)?E(I._parent,B):null},m.node_locateANamespace=function E(I,B){if(w.Guard.isElementNode(I)){if(I._namespace!==null&&I._namespacePrefix===B)return I._namespace;for(var F=0;F<I._attributeList.length;F++){var R=I._attributeList[F];if(R._namespace===C.namespace.XMLNS&&R._namespacePrefix==="xmlns"&&R._localName===B||B===null&&R._namespace===C.namespace.XMLNS&&R._namespacePrefix===null&&R._localName==="xmlns")return R._value||null}return I.parentElement===null?null:E(I.parentElement,B)}return w.Guard.isDocumentNode(I)?I.documentElement===null?null:E(I.documentElement,B):w.Guard.isDocumentTypeNode(I)||w.Guard.isDocumentFragmentNode(I)?null:w.Guard.isAttrNode(I)?I._element===null?null:E(I._element,B):I._parent&&w.Guard.isElementNode(I._parent)?E(I._parent,B):null}},function(s,m,f){var x=this&&this.__values||function(D){var E=typeof Symbol=="function"&&Symbol.iterator,I=E&&D[E],B=0;if(I)return I.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&B>=D.length&&(D=void 0),{value:D&&D[B++],done:!D}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(6),w=f(3),C=f(9),A=f(29),_=f(17),M=f(107),P=f(37);m.text_contiguousTextNodes=function(D,E){var I;return E===void 0&&(E=!1),(I={})[Symbol.iterator]=function(){for(var B=D;B&&w.Guard.isTextNode(B._previousSibling);)B=B._previousSibling;return{next:function(){if(B&&!E&&B===D&&(B=w.Guard.isTextNode(B._nextSibling)?B._nextSibling:null),B===null)return{done:!0,value:null};var F={done:!1,value:B};return B=w.Guard.isTextNode(B._nextSibling)?B._nextSibling:null,F}}},I},m.text_contiguousExclusiveTextNodes=function(D,E){var I;return E===void 0&&(E=!1),(I={})[Symbol.iterator]=function(){for(var B=D;B&&w.Guard.isExclusiveTextNode(B._previousSibling);)B=B._previousSibling;return{next:function(){if(B&&!E&&B===D&&(B=w.Guard.isExclusiveTextNode(B._nextSibling)?B._nextSibling:null),B===null)return{done:!0,value:null};var F={done:!1,value:B};return B=w.Guard.isExclusiveTextNode(B._nextSibling)?B._nextSibling:null,F}}},I},m.text_descendantTextContent=function(D){for(var E="",I=_.tree_getFirstDescendantNode(D,!1,!1,function(B){return w.Guard.isTextNode(B)});I!==null;)E+=I._data,I=_.tree_getNextDescendantNode(D,I,!1,!1,function(B){return w.Guard.isTextNode(B)});return E},m.text_split=function(D,E){var I,B,F=D._data.length;if(E>F)throw new C.IndexSizeError;var R=F-E,L=M.characterData_substringData(D,E,R),z=A.create_text(D._nodeDocument,L),G=D._parent;if(G!==null){P.mutation_insert(z,G,D._nextSibling);try{for(var W=x(g.dom.rangeList),K=W.next();!K.done;K=W.next()){var q=K.value;q._start[0]===D&&q._start[1]>E&&(q._start[0]=z,q._start[1]-=E),q._end[0]===D&&q._end[1]>E&&(q._end[0]=z,q._end[1]-=E);var Z=_.tree_index(D);q._start[0]===G&&q._start[1]===Z+1&&q._start[1]++,q._end[0]===G&&q._end[1]===Z+1&&q._end[1]++}}catch(J){I={error:J}}finally{try{K&&!K.done&&(B=W.return)&&B.call(W)}finally{if(I)throw I.error}}}return M.characterData_replaceData(D,E,R,""),z}},function(s,m,f){var x=f(4),g=f(41),w=f(24),C=f(48),A=[].join,_=g!=Object,M=C("join",",");x({target:"Array",proto:!0,forced:_||!M},{join:function(P){return A.call(w(this),P===void 0?",":P)}})},function(s,m,f){var x=f(4),g=f(83),w=String.fromCharCode,C=String.fromCodePoint;x({target:"String",stat:!0,forced:!!C&&C.length!=1},{fromCodePoint:function(A){for(var _,M=[],P=arguments.length,D=0;P>D;){if(_=+arguments[D++],g(_,1114111)!==_)throw RangeError(_+" is not a valid code point");M.push(_<65536?w(_):w(55296+((_-=65536)>>10),_%1024+56320))}return M.join("")}})},function(s,m,f){var x=this&&this.__read||function(C,A){var _=typeof Symbol=="function"&&C[Symbol.iterator];if(!_)return C;var M,P,D=_.call(C),E=[];try{for(;(A===void 0||A-- >0)&&!(M=D.next()).done;)E.push(M.value)}catch(I){P={error:I}}finally{try{M&&!M.done&&(_=D.return)&&_.call(D)}finally{if(P)throw P.error}}return E};Object.defineProperty(m,"__esModule",{value:!0});var g=f(111),w=function(){function C(A,_){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:""},this._str=A,this._index=0,this._length=A.length,_&&(this._options.skipWhitespaceOnlyText=_.skipWhitespaceOnlyText||!1)}return C.prototype.nextToken=function(){if(this.eof())return{type:g.TokenType.EOF};var A=this.skipIfStartsWith("<")?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&A.type===g.TokenType.Text&&C.isWhiteSpaceToken(A)&&(A=this.nextToken()),A},C.prototype.openBracket=function(){return this.skipIfStartsWith("?")?this.skipIfStartsWith("xml")?C.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith("!")?this.skipIfStartsWith("--")?this.comment():this.skipIfStartsWith("[CDATA[")?this.cdata():this.skipIfStartsWith("DOCTYPE")?this.doctype():void this.throwError("Invalid '!' in opening tag."):this.skipIfStartsWith("/")?this.closeTag():this.openTag()},C.prototype.declaration=function(){for(var A="",_="",M="";!this.eof();){if(this.skipSpace(),this.skipIfStartsWith("?>"))return{type:g.TokenType.Declaration,version:A,encoding:_,standalone:M};var P=x(this.attribute(),2),D=P[0],E=P[1];D==="version"?A=E:D==="encoding"?_=E:D==="standalone"?M=E:this.throwError("Invalid attribute name: "+D)}this.throwError("Missing declaration end symbol `?>`")},C.prototype.doctype=function(){var A="",_="";this.skipSpace();var M=this.takeUntil2("[",">",!0);return this.skipSpace(),this.skipIfStartsWith("PUBLIC")?(A=this.quotedString(),_=this.quotedString()):this.skipIfStartsWith("SYSTEM")&&(_=this.quotedString()),this.skipSpace(),this.skipIfStartsWith("[")&&(this.skipUntil("]"),this.skipIfStartsWith("]")||this.throwError("Missing end bracket of DTD internal subset")),this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing doctype end symbol `>`"),{type:g.TokenType.DocType,name:M,pubId:A,sysId:_}},C.prototype.pi=function(){var A=this.takeUntilStartsWith("?>",!0);if(this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.skipSpace(),this.skipIfStartsWith("?>"))return{type:g.TokenType.PI,target:A,data:""};var _=this.takeUntilStartsWith("?>");return this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.seek(2),{type:g.TokenType.PI,target:A,data:_}},C.prototype.text=function(){var A=this.takeUntil("<");return{type:g.TokenType.Text,data:A}},C.prototype.comment=function(){var A=this.takeUntilStartsWith("-->");return this.eof()&&this.throwError("Missing comment end symbol `-->`"),this.seek(3),{type:g.TokenType.Comment,data:A}},C.prototype.cdata=function(){var A=this.takeUntilStartsWith("]]>");return this.eof()&&this.throwError("Missing CDATA end symbol `]>`"),this.seek(3),{type:g.TokenType.CDATA,data:A}},C.prototype.openTag=function(){this.skipSpace();var A=this.takeUntil2(">","/",!0);if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:g.TokenType.Element,name:A,attributes:[],selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:g.TokenType.Element,name:A,attributes:[],selfClosing:!0};for(var _=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:g.TokenType.Element,name:A,attributes:_,selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:g.TokenType.Element,name:A,attributes:_,selfClosing:!0};var M=this.attribute();_.push(M)}this.throwError("Missing opening element tag end symbol `>`")},C.prototype.closeTag=function(){this.skipSpace();var A=this.takeUntil(">",!0);return this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing closing element tag end symbol `>`"),{type:g.TokenType.ClosingTag,name:A}},C.prototype.attribute=function(){this.skipSpace();var A=this.takeUntil("=",!0);return this.skipSpace(),this.skipIfStartsWith("=")||this.throwError("Missing equals sign before attribute value"),[A,this.quotedString()]},C.prototype.quotedString=function(){this.skipSpace();var A=this.take(1);C.isQuote(A)||this.throwError("Missing start quote character before quoted value");var _=this.takeUntil(A);return this.skipIfStartsWith(A)||this.throwError("Missing end quote character after quoted value"),_},C.prototype.eof=function(){return this._index>=this._length},C.prototype.skipIfStartsWith=function(A){var _=A.length;if(_===1)return this._str[this._index]===A&&(this._index++,!0);for(var M=0;M<_;M++)if(this._str[this._index+M]!==A[M])return!1;return this._index+=_,!0},C.prototype.seek=function(A){this._index+=A,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},C.prototype.skipSpace=function(){for(;!this.eof()&&C.isSpace(this._str[this._index]);)this._index++},C.prototype.take=function(A){if(A===1)return this._str[this._index++];var _=this._index;return this.seek(A),this._str.slice(_,this._index)},C.prototype.takeUntil=function(A,_){_===void 0&&(_=!1);for(var M=this._index;this._index<this._length;){var P=this._str[this._index];if(P===A||_&&C.isSpace(P))break;this._index++}return this._str.slice(M,this._index)},C.prototype.takeUntil2=function(A,_,M){M===void 0&&(M=!1);for(var P=this._index;this._index<this._length;){var D=this._str[this._index];if(D===A||D===_||M&&C.isSpace(D))break;this._index++}return this._str.slice(P,this._index)},C.prototype.takeUntilStartsWith=function(A,_){_===void 0&&(_=!1);for(var M=this._index,P=A.length;this._index<this._length;){for(var D=!0,E=0;E<P;E++){var I=this._str[this._index+E],B=A[E];if(_&&C.isSpace(I))return this._str.slice(M,this._index);if(I!==B){this._index++,D=!1;break}}if(D)return this._str.slice(M,this._index)}return this._index=this._length,this._str.slice(M)},C.prototype.skipUntil=function(A){for(;this._index<this._length&&this._str[this._index]!==A;)this._index++},C.isWhiteSpaceToken=function(A){for(var _=A.data,M=0;M<_.length;M++){var P=_[M];if(P!==" "&&P!==`
`&&P!=="\r"&&P!=="	"&&P!=="\f")return!1}return!0},C.isSpace=function(A){return A===" "||A===`
`||A==="\r"||A==="	"},C.isQuote=function(A){return A==='"'||A==="'"},C.prototype.throwError=function(A){for(var _=/\r\n|\r|\n/g,M=null,P=0,D=0,E=this._str.length;(M=_.exec(this._str))!==null&&M!==null;)if(P++,M.index<this._index&&(D=_.lastIndex),M.index>this._index){E=M.index;break}throw this.err={line:P,col:this._index-D,index:this._index,str:this._str.substring(D,E)},new Error(A+`
Index: `+this.err.index+`
Ln: `+this.err.line+", Col: "+this.err.col+`
Input: `+this.err.str)},C.prototype[Symbol.iterator]=function(){return this._index=0,{next:(function(){var A=this.nextToken();return A.type===g.TokenType.EOF?{done:!0,value:null}:{done:!1,value:A}}).bind(this)}},C}();m.XMLStringLexer=w},function(s,m,f){var x=f(39);s.exports=new x({include:[f(182)]})},function(s,m,f){var x=f(39);s.exports=new x({include:[f(113)],implicit:[f(290),f(291),f(292),f(293)]})},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(91),g=f(2),w=f(3),C=f(77),A=f(109);function _(E,I){var B=P(E===void 0||M(E)?E:x.DefaultBuilderOptions),F=M(E)?I:E,R=A.createDocument();D(R,B);var L=new C.XMLBuilderImpl(R);return F!==void 0&&L.ele(F),L}function M(E){if(!g.isPlainObject(E))return!1;for(var I in E)if(E.hasOwnProperty(I)&&!x.XMLBuilderOptionKeys.has(I))return!1;return!0}function P(E){E===void 0&&(E={});var I=g.applyDefaults(E,x.DefaultBuilderOptions);if(I.convert.att.length===0||I.convert.ins.length===0||I.convert.text.length===0||I.convert.cdata.length===0||I.convert.comment.length===0)throw new Error("JS object converter strings cannot be zero length.");return I}function D(E,I,B){var F=E;F._xmlBuilderOptions=I,F._isFragment=B}m.builder=function(E,I){var B=P(M(E)?E:x.DefaultBuilderOptions),F=w.Guard.isNode(E)||g.isArray(E)?E:I;if(F===void 0)throw new Error("Invalid arguments.");if(g.isArray(F)){for(var R=[],L=0;L<F.length;L++){var z=new C.XMLBuilderImpl(F[L]);z.set(B),R.push(z)}return R}var G=new C.XMLBuilderImpl(F);return G.set(B),G},m.create=_,m.fragment=function(E,I){var B=P(E===void 0||M(E)?E:x.DefaultBuilderOptions),F=M(E)?I:E,R=A.createDocument();D(R,B,!0);var L=new C.XMLBuilderImpl(R.createDocumentFragment());return F!==void 0&&L.ele(F),L},m.convert=function(E,I,B){var F,R,L;return M(E)&&I!==void 0?(F=E,R=I,L=B):(F=x.DefaultBuilderOptions,R=E,L=I||void 0),_(F,R).end(L)}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(77);m.builder=x.builder,m.create=x.create,m.fragment=x.fragment,m.convert=x.convert,m.createCB=x.createCB,m.fragmentCB=x.fragmentCB},function(s,m,f){f(31),f(32),f(33),f(191),f(192),f(194),f(64),f(19),f(198),f(199),f(89),f(201),f(65),f(20),f(66),f(22),f(23);var x=this&&this.__read||function(F,R){var L=typeof Symbol=="function"&&F[Symbol.iterator];if(!L)return F;var z,G,W=L.call(F),K=[];try{for(;(R===void 0||R-- >0)&&!(z=W.next()).done;)K.push(z.value)}catch(q){G={error:q}}finally{try{z&&!z.done&&(L=W.return)&&L.call(W)}finally{if(G)throw G.error}}return K},g=this&&this.__values||function(F){var R=typeof Symbol=="function"&&Symbol.iterator,L=R&&F[R],z=0;if(L)return L.call(F);if(F&&typeof F.length=="number")return{next:function(){return F&&z>=F.length&&(F=void 0),{value:F&&F[z++],done:!F}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var w=f(91),C=f(2),A=f(217),_=f(1),M=f(3),P=f(0),D=f(109),E=f(7),I=f(277),B=function(){function F(R){this._domNode=R}return Object.defineProperty(F.prototype,"node",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),F.prototype.set=function(R){return this._options=C.applyDefaults(C.applyDefaults(this._options,R,!0),w.DefaultBuilderOptions),this},F.prototype.ele=function(R,L,z){var G,W,K,q,Z,J;if(C.isObject(R))return new I.ObjectReader(this._options).parse(this,R);if(R!==null&&/^\s*</.test(R))return new I.XMLReader(this._options).parse(this,R);if(R!==null&&/^\s*[\{\[]/.test(R))return new I.JSONReader(this._options).parse(this,R);if(R!==null&&/^(\s*|(#.*)|(%.*))*---/.test(R))return new I.YAMLReader(this._options).parse(this,R);if((R===null||C.isString(R))&&C.isString(L))q=(G=x([R,L,z],3))[0],Z=G[1],J=G[2];else{if(R===null)throw new Error("Element name cannot be null. "+this._debugInfo());q=(W=x([void 0,R,C.isObject(L)?L:void 0],3))[0],Z=W[1],J=W[2]}if(J&&(J=C.getValue(J)),q=(K=x(this._extractNamespace(D.sanitizeInput(q,this._options.invalidCharReplacement),D.sanitizeInput(Z,this._options.invalidCharReplacement),!0),2))[0],Z=K[1],q===void 0){var Q=x(P.namespace_extractQName(Z),1)[0];q=this.node.lookupNamespaceURI(Q)}var ie=q!=null?this._doc.createElementNS(q,Z):this._doc.createElement(Z);this.node.appendChild(ie);var se=new F(ie),oe=this._doc.doctype;if(ie===this._doc.documentElement&&oe!==null){var ue=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,oe.publicId,oe.systemId);this._doc.replaceChild(ue,oe)}return J&&!C.isEmpty(J)&&se.att(J),se},F.prototype.remove=function(){var R=this.up();return R.node.removeChild(this.node),R},F.prototype.att=function(R,L,z){var G,W,K,q,Z,J,Q=this;if(C.isMap(R)||C.isObject(R))return C.forEachObject(R,function(ce,me){return Q.att(ce,me)},this),this;if(R!=null&&(R=C.getValue(R+"")),L!=null&&(L=C.getValue(L+"")),z!=null&&(z=C.getValue(z+"")),R!==null&&!C.isString(R)||!C.isString(L)||z!==null&&!C.isString(z)){if(!C.isString(R)||L!=null&&!C.isString(L))throw new Error("Attribute name and value not specified. "+this._debugInfo());q=(W=x([void 0,R,L],3))[0],Z=W[1],J=W[2]}else q=(G=x([R,L,z],3))[0],Z=G[1],J=G[2];if(this._options.keepNullAttributes&&J==null)J="";else if(J==null)return this;if(!M.Guard.isElementNode(this.node))throw new Error("An attribute can only be assigned to an element node.");var ie=this.node;q=(K=x(this._extractNamespace(q,Z,!1),2))[0],Z=K[1],Z=D.sanitizeInput(Z,this._options.invalidCharReplacement),q=D.sanitizeInput(q,this._options.invalidCharReplacement),J=D.sanitizeInput(J,this._options.invalidCharReplacement);var se=x(P.namespace_extractQName(Z),2),oe=se[0],ue=se[1],fe=x(P.namespace_extractQName(ie.prefix?ie.prefix+":"+ie.localName:ie.localName),1)[0],xe=null;return oe==="xmlns"?(q=E.namespace.XMLNS,ie.namespaceURI===null&&fe===ue&&(xe=J)):oe===null&&ue==="xmlns"&&fe===null&&(q=E.namespace.XMLNS,xe=J),xe!==null&&(this._updateNamespace(xe),ie=this.node),q!==void 0?ie.setAttributeNS(q,Z,J):ie.setAttribute(Z,J),this},F.prototype.removeAtt=function(R,L){var z,G,W=this;if(!M.Guard.isElementNode(this.node))throw new Error("An attribute can only be removed from an element node.");if(R=C.getValue(R),L!==void 0&&(L=C.getValue(L)),R!==null&&L===void 0)G=R;else{if(R!==null&&!C.isString(R)||L===void 0)throw new Error("Attribute namespace must be a string. "+this._debugInfo());z=R,G=L}return C.isArray(G)||C.isSet(G)?C.forEachArray(G,function(K){return z===void 0?W.removeAtt(K):W.removeAtt(z,K)},this):z!==void 0?(G=D.sanitizeInput(G,this._options.invalidCharReplacement),z=D.sanitizeInput(z,this._options.invalidCharReplacement),this.node.removeAttributeNS(z,G)):(G=D.sanitizeInput(G,this._options.invalidCharReplacement),this.node.removeAttribute(G)),this},F.prototype.txt=function(R){if(R==null){if(!this._options.keepNullNodes)return this;R=""}var L=this._doc.createTextNode(D.sanitizeInput(R,this._options.invalidCharReplacement));return this.node.appendChild(L),this},F.prototype.com=function(R){if(R==null){if(!this._options.keepNullNodes)return this;R=""}var L=this._doc.createComment(D.sanitizeInput(R,this._options.invalidCharReplacement));return this.node.appendChild(L),this},F.prototype.dat=function(R){if(R==null){if(!this._options.keepNullNodes)return this;R=""}var L=this._doc.createCDATASection(D.sanitizeInput(R,this._options.invalidCharReplacement));return this.node.appendChild(L),this},F.prototype.ins=function(R,L){var z=this;if(L===void 0&&(L=""),L==null){if(!this._options.keepNullNodes)return this;L=""}if(C.isArray(R)||C.isSet(R))C.forEachArray(R,function(W){var K=(W+="").indexOf(" "),q=K===-1?W:W.substr(0,K),Z=K===-1?"":W.substr(K+1);z.ins(q,Z)},this);else if(C.isMap(R)||C.isObject(R))C.forEachObject(R,function(W,K){return z.ins(W,K)},this);else{var G=this._doc.createProcessingInstruction(D.sanitizeInput(R,this._options.invalidCharReplacement),D.sanitizeInput(L,this._options.invalidCharReplacement));this.node.appendChild(G)}return this},F.prototype.dec=function(R){return this._options.version=R.version||"1.0",this._options.encoding=R.encoding,this._options.standalone=R.standalone,this},F.prototype.dtd=function(R){var L=D.sanitizeInput(R&&R.name||(this._doc.documentElement?this._doc.documentElement.tagName:"ROOT"),this._options.invalidCharReplacement),z=D.sanitizeInput(R&&R.pubID||"",this._options.invalidCharReplacement),G=D.sanitizeInput(R&&R.sysID||"",this._options.invalidCharReplacement);if(this._doc.documentElement!==null&&L!==this._doc.documentElement.tagName)throw new Error("DocType name does not match document element name.");var W=this._doc.implementation.createDocumentType(L,z,G);return this._doc.doctype!==null?this._doc.replaceChild(W,this._doc.doctype):this._doc.insertBefore(W,this._doc.documentElement),this},F.prototype.import=function(R){var L,z,G=this._domNode,W=this._doc,K=R.node;if(M.Guard.isDocumentNode(K)){var q=K.documentElement;if(q===null)throw new Error("Imported document has no document element node. "+this._debugInfo());var Z=W.importNode(q,!0);G.appendChild(Z);var J=x(P.namespace_extractQName(Z.prefix?Z.prefix+":"+Z.localName:Z.localName),1)[0],Q=G.lookupNamespaceURI(J);new F(Z)._updateNamespace(Q)}else if(M.Guard.isDocumentFragmentNode(K))try{for(var ie=g(K.childNodes),se=ie.next();!se.done;se=ie.next()){var oe=se.value;Z=W.importNode(oe,!0),G.appendChild(Z),M.Guard.isElementNode(Z)&&(J=x(P.namespace_extractQName(Z.prefix?Z.prefix+":"+Z.localName:Z.localName),1)[0],Q=G.lookupNamespaceURI(J),new F(Z)._updateNamespace(Q))}}catch(ue){L={error:ue}}finally{try{se&&!se.done&&(z=ie.return)&&z.call(ie)}finally{if(L)throw L.error}}else Z=W.importNode(K,!0),G.appendChild(Z),M.Guard.isElementNode(Z)&&(J=x(P.namespace_extractQName(Z.prefix?Z.prefix+":"+Z.localName:Z.localName),1)[0],Q=G.lookupNamespaceURI(J),new F(Z)._updateNamespace(Q));return this},F.prototype.doc=function(){if(this._doc._isFragment){for(var R=this.node;R&&R.nodeType!==_.NodeType.DocumentFragment;)R=R.parentNode;if(R===null)throw new Error("Node has no parent node while searching for document fragment ancestor. "+this._debugInfo());return new F(R)}return new F(this._doc)},F.prototype.root=function(){var R=this._doc.documentElement;if(!R)throw new Error("Document root element is null. "+this._debugInfo());return new F(R)},F.prototype.up=function(){var R=this._domNode.parentNode;if(!R)throw new Error("Parent node is null. "+this._debugInfo());return new F(R)},F.prototype.prev=function(){var R=this._domNode.previousSibling;if(!R)throw new Error("Previous sibling node is null. "+this._debugInfo());return new F(R)},F.prototype.next=function(){var R=this._domNode.nextSibling;if(!R)throw new Error("Next sibling node is null. "+this._debugInfo());return new F(R)},F.prototype.first=function(){var R=this._domNode.firstChild;if(!R)throw new Error("First child node is null. "+this._debugInfo());return new F(R)},F.prototype.last=function(){var R=this._domNode.lastChild;if(!R)throw new Error("Last child node is null. "+this._debugInfo());return new F(R)},F.prototype.each=function(R,L,z,G){L===void 0&&(L=!1),z===void 0&&(z=!1);for(var W=this._getFirstDescendantNode(this._domNode,L,z);W[0];){var K=this._getNextDescendantNode(this._domNode,W[0],z,W[1],W[2]);R.call(G,new F(W[0]),W[1],W[2]),W=K}return this},F.prototype.map=function(R,L,z,G){L===void 0&&(L=!1),z===void 0&&(z=!1);var W=[];return this.each(function(K,q,Z){return W.push(R.call(G,K,q,Z))},L,z),W},F.prototype.reduce=function(R,L,z,G,W){z===void 0&&(z=!1),G===void 0&&(G=!1);var K=L;return this.each(function(q,Z,J){return K=R.call(W,K,q,Z,J)},z,G),K},F.prototype.find=function(R,L,z,G){L===void 0&&(L=!1),z===void 0&&(z=!1);for(var W=this._getFirstDescendantNode(this._domNode,L,z);W[0];){var K=new F(W[0]);if(R.call(G,K,W[1],W[2]))return K;W=this._getNextDescendantNode(this._domNode,W[0],z,W[1],W[2])}},F.prototype.filter=function(R,L,z,G){L===void 0&&(L=!1),z===void 0&&(z=!1);var W=[];return this.each(function(K,q,Z){R.call(G,K,q,Z)&&W.push(K)},L,z),W},F.prototype.every=function(R,L,z,G){L===void 0&&(L=!1),z===void 0&&(z=!1);for(var W=this._getFirstDescendantNode(this._domNode,L,z);W[0];){var K=new F(W[0]);if(!R.call(G,K,W[1],W[2]))return!1;W=this._getNextDescendantNode(this._domNode,W[0],z,W[1],W[2])}return!0},F.prototype.some=function(R,L,z,G){L===void 0&&(L=!1),z===void 0&&(z=!1);for(var W=this._getFirstDescendantNode(this._domNode,L,z);W[0];){var K=new F(W[0]);if(R.call(G,K,W[1],W[2]))return!0;W=this._getNextDescendantNode(this._domNode,W[0],z,W[1],W[2])}return!1},F.prototype.toArray=function(R,L){R===void 0&&(R=!1),L===void 0&&(L=!1);var z=[];return this.each(function(G){return z.push(G)},R,L),z},F.prototype.toString=function(R){return(R=R||{}).format===void 0&&(R.format="xml"),this._serialize(R)},F.prototype.toObject=function(R){return(R=R||{}).format===void 0&&(R.format="object"),this._serialize(R)},F.prototype.end=function(R){return(R=R||{}).format===void 0&&(R.format="xml"),this.doc()._serialize(R)},F.prototype._getFirstDescendantNode=function(R,L,z){return L?[this._domNode,0,0]:z?this._getNextDescendantNode(R,R,z,0,0):[this._domNode.firstChild,0,1]},F.prototype._getNextDescendantNode=function(R,L,z,G,W){if(!z)return R===L?[L.firstChild,0,W+1]:[L.nextSibling,G+1,W];if(L.firstChild)return[L.firstChild,0,W+1];if(L===R)return[null,-1,-1];if(L.nextSibling)return[L.nextSibling,G+1,W];for(var K=L.parentNode;K&&K!==R;){if(K.nextSibling)return[K.nextSibling,P.tree_index(K.nextSibling),W-1];K=K.parentNode,W--}return[null,-1,-1]},F.prototype._serialize=function(R){if(R.format==="xml")return new A.XMLWriter(this._options,R).serialize(this.node);if(R.format==="map")return new A.MapWriter(this._options,R).serialize(this.node);if(R.format==="object")return new A.ObjectWriter(this._options,R).serialize(this.node);if(R.format==="json")return new A.JSONWriter(this._options,R).serialize(this.node);if(R.format==="yaml")return new A.YAMLWriter(this._options,R).serialize(this.node);throw new Error("Invalid writer format: "+R.format+". "+this._debugInfo())},F.prototype._extractNamespace=function(R,L,z){var G=L.indexOf("@");if(G>0&&(R===void 0&&(R=L.slice(G+1)),L=L.slice(0,G)),R===void 0)R=z?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(R!==null&&R[0]==="@"){var W=R.slice(1);if((R=this._options.namespaceAlias[W])===void 0)throw new Error("Namespace alias `"+W+"` is not defined. "+this._debugInfo())}return[R,L]},F.prototype._updateNamespace=function(R){var L,z,G,W,K=this._domNode;if(M.Guard.isElementNode(K)&&R!==null&&K.namespaceURI!==R){var q=x(P.namespace_extractQName(K.prefix?K.prefix+":"+K.localName:K.localName),2),Z=q[0],J=q[1],Q=P.create_element(this._doc,J,R,Z);try{for(var ie=g(K.attributes),se=ie.next();!se.done;se=ie.next()){var oe=se.value,ue=oe.prefix?oe.prefix+":"+oe.localName:oe.localName,fe=x(P.namespace_extractQName(ue),1)[0],xe=oe.namespaceURI;xe===null&&fe!==null&&(xe=K.lookupNamespaceURI(fe)),xe===null?Q.setAttribute(ue,oe.value):Q.setAttributeNS(xe,ue,oe.value)}}catch(Me){L={error:Me}}finally{try{se&&!se.done&&(z=ie.return)&&z.call(ie)}finally{if(L)throw L.error}}var ce=K.parentNode;if(ce===null)throw new Error("Parent node is null."+this._debugInfo());ce.replaceChild(Q,K),this._domNode=Q;try{for(var me=g(K.childNodes),pe=me.next();!pe.done;pe=me.next()){var Se=pe.value.cloneNode(!0);if(Q.appendChild(Se),M.Guard.isElementNode(Se)){var Ae=x(P.namespace_extractQName(Se.prefix?Se.prefix+":"+Se.localName:Se.localName),1)[0],_e=Q.lookupNamespaceURI(Ae);new F(Se)._updateNamespace(_e)}}}catch(Me){G={error:Me}}finally{try{pe&&!pe.done&&(W=me.return)&&W.call(me)}finally{if(G)throw G.error}}}},Object.defineProperty(F.prototype,"_doc",{get:function(){var R=this.node;if(M.Guard.isDocumentNode(R))return R;var L=R.ownerDocument;if(!L)throw new Error("Owner document is null. "+this._debugInfo());return L},enumerable:!0,configurable:!0}),F.prototype._debugInfo=function(R){var L=this.node,z=L.parentNode;R=R||L.nodeName;var G=z?z.nodeName:"";return G?"node: <"+R+">, parent: <"+G+">":"node: <"+R+">"},Object.defineProperty(F.prototype,"_options",{get:function(){var R=this._doc;if(R._xmlBuilderOptions===void 0)throw new Error("Builder options is not set.");return R._xmlBuilderOptions},set:function(R){this._doc._xmlBuilderOptions=R},enumerable:!0,configurable:!0}),F}();m.XMLBuilderImpl=B},function(s,m,f){var x=f(11),g=f(117),w=x.WeakMap;s.exports=typeof w=="function"&&/native code/.test(g(w))},function(s,m,f){var x=f(46),g=f(82),w=f(85),C=f(18);s.exports=x("Reflect","ownKeys")||function(A){var _=g.f(C(A)),M=w.f;return M?_.concat(M(A)):_}},function(s,m,f){var x=f(16),g=f(15),w=f(18),C=f(61);s.exports=x?Object.defineProperties:function(A,_){w(A);for(var M,P=C(_),D=P.length,E=0;D>E;)g.f(A,M=P[E++],_[M]);return A}},function(s,m,f){var x=f(46);s.exports=x("document","documentElement")},function(s,m,f){var x=f(24),g=f(82).f,w={}.toString,C=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(A){return C&&w.call(A)=="[object Window]"?function(_){try{return g(_)}catch{return C.slice()}}(A):g(x(A))}},function(s,m,f){var x=f(4),g=f(36).every,w=f(48),C=f(28),A=w("every"),_=C("every");x({target:"Array",proto:!0,forced:!A||!_},{every:function(M){return g(this,M,arguments.length>1?arguments[1]:void 0)}})},function(s,m,f){var x=f(4),g=f(36).filter,w=f(63),C=f(28),A=w("filter"),_=C("filter");x({target:"Array",proto:!0,forced:!A||!_},{filter:function(M){return g(this,M,arguments.length>1?arguments[1]:void 0)}})},function(s,m,f){var x=f(46);s.exports=x("navigator","userAgent")||""},function(s,m,f){var x=f(4),g=f(36).find,w=f(130),C=f(28),A=!0,_=C("find");"find"in[]&&Array(1).find(function(){A=!1}),x({target:"Array",proto:!0,forced:A||!_},{find:function(M){return g(this,M,arguments.length>1?arguments[1]:void 0)}}),w("find")},function(s,m,f){var x=f(131).IteratorPrototype,g=f(60),w=f(40),C=f(62),A=f(49),_=function(){return this};s.exports=function(M,P,D){var E=P+" Iterator";return M.prototype=g(x,{next:w(1,D)}),C(M,E,!1,!0),A[E]=_,M}},function(s,m,f){var x=f(8);s.exports=!x(function(){function g(){}return g.prototype.constructor=null,Object.getPrototypeOf(new g)!==g.prototype})},function(s,m,f){var x=f(13);s.exports=function(g){if(!x(g)&&g!==null)throw TypeError("Can't set "+String(g)+" as a prototype");return g}},function(s,m,f){var x=f(4),g=f(36).map,w=f(63),C=f(28),A=w("map"),_=C("map");x({target:"Array",proto:!0,forced:!A||!_},{map:function(M){return g(this,M,arguments.length>1?arguments[1]:void 0)}})},function(s,m,f){var x=f(4),g=f(200).left,w=f(48),C=f(28),A=w("reduce"),_=C("reduce",{1:0});x({target:"Array",proto:!0,forced:!A||!_},{reduce:function(M){return g(this,M,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(s,m,f){var x=f(127),g=f(27),w=f(41),C=f(26),A=function(_){return function(M,P,D,E){x(P);var I=g(M),B=w(I),F=C(I.length),R=_?F-1:0,L=_?-1:1;if(D<2)for(;;){if(R in B){E=B[R],R+=L;break}if(R+=L,_?R<0:F<=R)throw TypeError("Reduce of empty array with no initial value")}for(;_?R>=0:F>R;R+=L)R in B&&(E=P(E,B[R],R,I));return E}};s.exports={left:A(!1),right:A(!0)}},function(s,m,f){var x=f(4),g=f(36).some,w=f(48),C=f(28),A=w("some"),_=C("some");x({target:"Array",proto:!0,forced:!A||!_},{some:function(M){return g(this,M,arguments.length>1?arguments[1]:void 0)}})},function(s,m,f){var x=f(90),g=f(135);s.exports=x?{}.toString:function(){return"[object "+g(this)+"]"}},function(s,m){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,m,f){var x=f(8);s.exports=!x(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(s,m,f){var x=f(5),g=f(49),w=x("iterator"),C=Array.prototype;s.exports=function(A){return A!==void 0&&(g.Array===A||C[w]===A)}},function(s,m,f){var x=f(135),g=f(49),w=f(5)("iterator");s.exports=function(C){if(C!=null)return C[w]||C["@@iterator"]||g[x(C)]}},function(s,m,f){var x=f(18);s.exports=function(g,w,C,A){try{return A?w(x(C)[0],C[1]):w(C)}catch(M){var _=g.return;throw _!==void 0&&x(_.call(g)),M}}},function(s,m,f){var x=f(5)("iterator"),g=!1;try{var w=0,C={next:function(){return{done:!!w++}},return:function(){g=!0}};C[x]=function(){return this},Array.from(C,function(){throw 2})}catch{}s.exports=function(A,_){if(!_&&!g)return!1;var M=!1;try{var P={};P[x]=function(){return{next:function(){return{done:M=!0}}}},A(P)}catch{}return M}},function(s,m,f){var x=f(13),g=f(133);s.exports=function(w,C,A){var _,M;return g&&typeof(_=C.constructor)=="function"&&_!==A&&x(M=_.prototype)&&M!==A.prototype&&g(w,M),w}},function(s,m,f){var x=f(25);s.exports=function(g,w,C){for(var A in w)x(g,A,w[A],C);return g}},function(s,m,f){var x=f(46),g=f(15),w=f(5),C=f(16),A=w("species");s.exports=function(_){var M=x(_),P=g.f;C&&M&&!M[A]&&P(M,A,{configurable:!0,get:function(){return this}})}},function(s,m,f){var x=this&&this.__generator||function(C,A){var _,M,P,D,E={label:0,sent:function(){if(1&P[0])throw P[1];return P[1]},trys:[],ops:[]};return D={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function I(B){return function(F){return function(R){if(_)throw new TypeError("Generator is already executing.");for(;E;)try{if(_=1,M&&(P=2&R[0]?M.return:R[0]?M.throw||((P=M.return)&&P.call(M),0):M.next)&&!(P=P.call(M,R[1])).done)return P;switch(M=0,P&&(R=[2&R[0],P.value]),R[0]){case 0:case 1:P=R;break;case 4:return E.label++,{value:R[1],done:!1};case 5:E.label++,M=R[1],R=[0];continue;case 7:R=E.ops.pop(),E.trys.pop();continue;default:if(P=E.trys,!((P=P.length>0&&P[P.length-1])||R[0]!==6&&R[0]!==2)){E=0;continue}if(R[0]===3&&(!P||R[1]>P[0]&&R[1]<P[3])){E.label=R[1];break}if(R[0]===6&&E.label<P[1]){E.label=P[1],P=R;break}if(P&&E.label<P[2]){E.label=P[2],E.ops.push(R);break}P[2]&&E.ops.pop(),E.trys.pop();continue}R=A.call(C,E)}catch(L){R=[6,L],M=0}finally{_=P=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([B,F])}}},g=this&&this.__values||function(C){var A=typeof Symbol=="function"&&Symbol.iterator,_=A&&C[A],M=0;if(_)return _.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&M>=C.length&&(C=void 0),{value:C&&C[M++],done:!C}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var w=function(){function C(A){A===void 0&&(A=1e3),this._items=new Set,this._limit=A}return C.prototype.add=function(A){if(this._items.add(A),this._items.size>this._limit){var _=this._items.values().next();_.done||this._items.delete(_.value)}return this},C.prototype.delete=function(A){return this._items.delete(A)},C.prototype.has=function(A){return this._items.has(A)},C.prototype.clear=function(){this._items.clear()},Object.defineProperty(C.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),C.prototype.forEach=function(A,_){var M=this;this._items.forEach(function(P){return A.call(_,P,P,M)})},C.prototype.keys=function(){return x(this,function(A){switch(A.label){case 0:return[5,g(this._items.keys())];case 1:return A.sent(),[2]}})},C.prototype.values=function(){return x(this,function(A){switch(A.label){case 0:return[5,g(this._items.values())];case 1:return A.sent(),[2]}})},C.prototype.entries=function(){return x(this,function(A){switch(A.label){case 0:return[5,g(this._items.entries())];case 1:return A.sent(),[2]}})},C.prototype[Symbol.iterator]=function(){return x(this,function(A){switch(A.label){case 0:return[5,g(this._items)];case 1:return A.sent(),[2]}})},Object.defineProperty(C.prototype,Symbol.toStringTag,{get:function(){return"FixedSizeSet"},enumerable:!0,configurable:!0}),C}();m.FixedSizeSet=w},function(s,m,f){var x=this&&this.__generator||function(C,A){var _,M,P,D,E={label:0,sent:function(){if(1&P[0])throw P[1];return P[1]},trys:[],ops:[]};return D={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function I(B){return function(F){return function(R){if(_)throw new TypeError("Generator is already executing.");for(;E;)try{if(_=1,M&&(P=2&R[0]?M.return:R[0]?M.throw||((P=M.return)&&P.call(M),0):M.next)&&!(P=P.call(M,R[1])).done)return P;switch(M=0,P&&(R=[2&R[0],P.value]),R[0]){case 0:case 1:P=R;break;case 4:return E.label++,{value:R[1],done:!1};case 5:E.label++,M=R[1],R=[0];continue;case 7:R=E.ops.pop(),E.trys.pop();continue;default:if(P=E.trys,!((P=P.length>0&&P[P.length-1])||R[0]!==6&&R[0]!==2)){E=0;continue}if(R[0]===3&&(!P||R[1]>P[0]&&R[1]<P[3])){E.label=R[1];break}if(R[0]===6&&E.label<P[1]){E.label=P[1],P=R;break}if(P&&E.label<P[2]){E.label=P[2],E.ops.push(R);break}P[2]&&E.ops.pop(),E.trys.pop();continue}R=A.call(C,E)}catch(L){R=[6,L],M=0}finally{_=P=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([B,F])}}},g=this&&this.__values||function(C){var A=typeof Symbol=="function"&&Symbol.iterator,_=A&&C[A],M=0;if(_)return _.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&M>=C.length&&(C=void 0),{value:C&&C[M++],done:!C}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var w=function(){function C(A){A===void 0&&(A=1e3),this._items=new Map,this._limit=A}return C.prototype.get=function(A){return this._items.get(A)},C.prototype.set=function(A,_){if(this._items.set(A,_),this._items.size>this._limit){var M=this._items.keys().next();M.done||this._items.delete(M.value)}},C.prototype.delete=function(A){return this._items.delete(A)},C.prototype.has=function(A){return this._items.has(A)},C.prototype.clear=function(){this._items.clear()},Object.defineProperty(C.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),C.prototype.forEach=function(A,_){this._items.forEach(function(M,P){return A.call(_,P,M)})},C.prototype.keys=function(){return x(this,function(A){switch(A.label){case 0:return[5,g(this._items.keys())];case 1:return A.sent(),[2]}})},C.prototype.values=function(){return x(this,function(A){switch(A.label){case 0:return[5,g(this._items.values())];case 1:return A.sent(),[2]}})},C.prototype.entries=function(){return x(this,function(A){switch(A.label){case 0:return[5,g(this._items.entries())];case 1:return A.sent(),[2]}})},C.prototype[Symbol.iterator]=function(){return x(this,function(A){switch(A.label){case 0:return[5,g(this._items)];case 1:return A.sent(),[2]}})},Object.defineProperty(C.prototype,Symbol.toStringTag,{get:function(){return"ObjectCache"},enumerable:!0,configurable:!0}),C}();m.ObjectCache=w},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=function(){function g(w){w===void 0&&(w=1e3),this._items=new Map,this._limit=w}return g.prototype.check=function(w,C){if(this._items.get(w)===C)return!0;if(this._items.get(C)===w)return!1;var A=Math.random()<.5;if(A?this._items.set(w,C):this._items.set(C,w),this._items.size>this._limit){var _=this._items.keys().next();_.done||this._items.delete(_.value)}return A},g}();m.CompareCache=x},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=function(){function g(w){this._initialized=!1,this._value=void 0,this._initFunc=w}return Object.defineProperty(g.prototype,"value",{get:function(){return this._initialized||(this._value=this._initFunc(),this._initialized=!0),this._value},enumerable:!0,configurable:!0}),g}();m.Lazy=x},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=function(){function g(w){this._pointer=0,this._chars=Array.from(w),this._length=this._chars.length}return Object.defineProperty(g.prototype,"eof",{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),g.prototype.codePoint=function(){if(this._codePoint===void 0)if(this.eof)this._codePoint=-1;else{var w=this._chars[this._pointer].codePointAt(0);this._codePoint=w!==void 0?w:-1}return this._codePoint},g.prototype.c=function(){return this._c===void 0&&(this._c=this.eof?"":this._chars[this._pointer]),this._c},g.prototype.remaining=function(){return this._remaining===void 0&&(this._remaining=this.eof?"":this._chars.slice(this._pointer+1).join("")),this._remaining},g.prototype.substring=function(){return this._substring===void 0&&(this._substring=this.eof?"":this._chars.slice(this._pointer).join("")),this._substring},Object.defineProperty(g.prototype,"pointer",{get:function(){return this._pointer},set:function(w){w!==this._pointer&&(this._pointer=w,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),g}();m.StringWalker=x},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(218);m.MapWriter=x.MapWriter;var g=f(259);m.XMLWriter=g.XMLWriter;var w=f(67);m.ObjectWriter=w.ObjectWriter;var C=f(261);m.JSONWriter=C.JSONWriter;var A=f(262);m.YAMLWriter=A.YAMLWriter},function(s,m,f){f(19),f(219),f(20),f(22),f(23);var x,g=this&&this.__extends||(x=function(_,M){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,D){P.__proto__=D}||function(P,D){for(var E in D)D.hasOwnProperty(E)&&(P[E]=D[E])})(_,M)},function(_,M){function P(){this.constructor=_}x(_,M),_.prototype=M===null?Object.create(M):(P.prototype=M.prototype,new P)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(2),C=f(67),A=function(_){function M(P,D){var E=_.call(this,P)||this;return E._writerOptions=w.applyDefaults(D,{format:"map",wellFormed:!1,group:!1,verbose:!1}),E}return g(M,_),M.prototype.serialize=function(P){var D=w.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,verbose:!1}),E=new C.ObjectWriter(this._builderOptions,D).serialize(P);return this._convertObject(E)},M.prototype._convertObject=function(P){if(w.isArray(P)){for(var D=0;D<P.length;D++)P[D]=this._convertObject(P[D]);return P}if(w.isObject(P)){var E=new Map;for(var I in P)E.set(I,this._convertObject(P[I]));return E}return P},M}(f(50).BaseWriter);m.MapWriter=A},function(s,m,f){var x=f(139),g=f(143);s.exports=x("Map",function(w){return function(){return w(this,arguments.length?arguments[0]:void 0)}},g)},function(s,m,f){var x=f(4),g=f(8),w=f(59),C=f(13),A=f(27),_=f(26),M=f(134),P=f(128),D=f(63),E=f(5),I=f(129),B=E("isConcatSpreadable"),F=I>=51||!g(function(){var z=[];return z[B]=!1,z.concat()[0]!==z}),R=D("concat"),L=function(z){if(!C(z))return!1;var G=z[B];return G!==void 0?!!G:w(z)};x({target:"Array",proto:!0,forced:!F||!R},{concat:function(z){var G,W,K,q,Z,J=A(this),Q=P(J,0),ie=0;for(G=-1,K=arguments.length;G<K;G++)if(L(Z=G===-1?J:arguments[G])){if(ie+(q=_(Z.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(W=0;W<q;W++,ie++)W in Z&&M(Q,ie,Z[W])}else{if(ie>=9007199254740991)throw TypeError("Maximum allowed index exceeded");M(Q,ie++,Z)}return Q.length=ie,Q}})},function(s,m,f){var x=f(8);function g(w,C){return RegExp(w,C)}m.UNSUPPORTED_Y=x(function(){var w=g("a","y");return w.lastIndex=2,w.exec("abcd")!=null}),m.BROKEN_CARET=x(function(){var w=g("^r","gy");return w.lastIndex=2,w.exec("str")!=null})},function(s,m,f){var x=f(223);s.exports=function(g){if(x(g))throw TypeError("The method doesn't accept regular expressions");return g}},function(s,m,f){var x=f(13),g=f(42),w=f(5)("match");s.exports=function(C){var A;return x(C)&&((A=C[w])!==void 0?!!A:g(C)=="RegExp")}},function(s,m,f){var x=f(5)("match");s.exports=function(g){var w=/./;try{"/./"[g](w)}catch{try{return w[x]=!1,"/./"[g](w)}catch{}}return!1}},function(s,m,f){f(68);var x=f(25),g=f(8),w=f(5),C=f(93),A=f(21),_=w("species"),M=!g(function(){var B=/./;return B.exec=function(){var F=[];return F.groups={a:"7"},F},"".replace(B,"$<a>")!=="7"}),P="a".replace(/./,"$0")==="$0",D=w("replace"),E=!!/./[D]&&/./[D]("a","$0")==="",I=!g(function(){var B=/(?:)/,F=B.exec;B.exec=function(){return F.apply(this,arguments)};var R="ab".split(B);return R.length!==2||R[0]!=="a"||R[1]!=="b"});s.exports=function(B,F,R,L){var z=w(B),G=!g(function(){var Q={};return Q[z]=function(){return 7},""[B](Q)!=7}),W=G&&!g(function(){var Q=!1,ie=/a/;return B==="split"&&((ie={}).constructor={},ie.constructor[_]=function(){return ie},ie.flags="",ie[z]=/./[z]),ie.exec=function(){return Q=!0,null},ie[z](""),!Q});if(!G||!W||B==="replace"&&(!M||!P||E)||B==="split"&&!I){var K=/./[z],q=R(z,""[B],function(Q,ie,se,oe,ue){return ie.exec===C?G&&!ue?{done:!0,value:K.call(ie,se,oe)}:{done:!0,value:Q.call(se,ie,oe)}:{done:!1}},{REPLACE_KEEPS_$0:P,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:E}),Z=q[0],J=q[1];x(String.prototype,B,Z),x(RegExp.prototype,z,F==2?function(Q,ie){return J.call(Q,this,ie)}:function(Q){return J.call(Q,this)})}L&&A(RegExp.prototype[z],"sham",!0)}},function(s,m,f){var x=f(137).charAt;s.exports=function(g,w,C){return w+(C?x(g,w).length:1)}},function(s,m,f){var x=f(42),g=f(93);s.exports=function(w,C){var A=w.exec;if(typeof A=="function"){var _=A.call(w,C);if(typeof _!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return _}if(x(w)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return g.call(w,C)}},function(s,m,f){(function(x){Object.defineProperty(m,"__esModule",{value:!0});var g=f(96);m.forgivingBase64Encode=function(w){return x.from(w).toString("base64")},m.forgivingBase64Decode=function(w){return w===""?"":((w=w.replace(g.ASCIIWhiteSpace,"")).length%4==0&&(w.endsWith("==")?w=w.substr(0,w.length-2):w.endsWith("=")&&(w=w.substr(0,w.length-1))),w.length%4==1?null:/[0-9A-Za-z+/]/.test(w)?x.from(w,"base64").toString("utf8"):null)}}).call(this,f(145).Buffer)},function(s,m,f){m.byteLength=function(D){var E=M(D),I=E[0],B=E[1];return 3*(I+B)/4-B},m.toByteArray=function(D){var E,I,B=M(D),F=B[0],R=B[1],L=new w(function(W,K,q){return 3*(K+q)/4-q}(0,F,R)),z=0,G=R>0?F-4:F;for(I=0;I<G;I+=4)E=g[D.charCodeAt(I)]<<18|g[D.charCodeAt(I+1)]<<12|g[D.charCodeAt(I+2)]<<6|g[D.charCodeAt(I+3)],L[z++]=E>>16&255,L[z++]=E>>8&255,L[z++]=255&E;return R===2&&(E=g[D.charCodeAt(I)]<<2|g[D.charCodeAt(I+1)]>>4,L[z++]=255&E),R===1&&(E=g[D.charCodeAt(I)]<<10|g[D.charCodeAt(I+1)]<<4|g[D.charCodeAt(I+2)]>>2,L[z++]=E>>8&255,L[z++]=255&E),L},m.fromByteArray=function(D){for(var E,I=D.length,B=I%3,F=[],R=0,L=I-B;R<L;R+=16383)F.push(P(D,R,R+16383>L?L:R+16383));return B===1?(E=D[I-1],F.push(x[E>>2]+x[E<<4&63]+"==")):B===2&&(E=(D[I-2]<<8)+D[I-1],F.push(x[E>>10]+x[E>>4&63]+x[E<<2&63]+"=")),F.join("")};for(var x=[],g=[],w=typeof Uint8Array<"u"?Uint8Array:Array,C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0,_=C.length;A<_;++A)x[A]=C[A],g[C.charCodeAt(A)]=A;function M(D){var E=D.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=D.indexOf("=");return I===-1&&(I=E),[I,I===E?0:4-I%4]}function P(D,E,I){for(var B,F,R=[],L=E;L<I;L+=3)B=(D[L]<<16&16711680)+(D[L+1]<<8&65280)+(255&D[L+2]),R.push(x[(F=B)>>18&63]+x[F>>12&63]+x[F>>6&63]+x[63&F]);return R.join("")}g[45]=62,g[95]=63},function(s,m){m.read=function(f,x,g,w,C){var A,_,M=8*C-w-1,P=(1<<M)-1,D=P>>1,E=-7,I=g?C-1:0,B=g?-1:1,F=f[x+I];for(I+=B,A=F&(1<<-E)-1,F>>=-E,E+=M;E>0;A=256*A+f[x+I],I+=B,E-=8);for(_=A&(1<<-E)-1,A>>=-E,E+=w;E>0;_=256*_+f[x+I],I+=B,E-=8);if(A===0)A=1-D;else{if(A===P)return _?NaN:1/0*(F?-1:1);_+=Math.pow(2,w),A-=D}return(F?-1:1)*_*Math.pow(2,A-w)},m.write=function(f,x,g,w,C,A){var _,M,P,D=8*A-C-1,E=(1<<D)-1,I=E>>1,B=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,F=w?0:A-1,R=w?1:-1,L=x<0||x===0&&1/x<0?1:0;for(x=Math.abs(x),isNaN(x)||x===1/0?(M=isNaN(x)?1:0,_=E):(_=Math.floor(Math.log(x)/Math.LN2),x*(P=Math.pow(2,-_))<1&&(_--,P*=2),(x+=_+I>=1?B/P:B*Math.pow(2,1-I))*P>=2&&(_++,P/=2),_+I>=E?(M=0,_=E):_+I>=1?(M=(x*P-1)*Math.pow(2,C),_+=I):(M=x*Math.pow(2,I-1)*Math.pow(2,C),_=0));C>=8;f[g+F]=255&M,F+=R,M/=256,C-=8);for(_=_<<C|M,D+=C;D>0;f[g+F]=255&_,F+=R,_/=256,D-=8);f[g+F-R]|=128*L}},function(s,m){var f={}.toString;s.exports=Array.isArray||function(x){return f.call(x)=="[object Array]"}},function(s,m,f){var x=this&&this.__values||function(C){var A=typeof Symbol=="function"&&Symbol.iterator,_=A&&C[A],M=0;if(_)return _.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&M>=C.length&&(C=void 0),{value:C&&C[M++],done:!C}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(2);function w(C){var A,_;if(C===null||g.isString(C)||g.isNumber(C))return C;if(g.isArray(C)){var M=new Array;try{for(var P=x(C),D=P.next();!D.done;D=P.next()){var E=D.value;M.push(w(E))}}catch(F){A={error:F}}finally{try{D&&!D.done&&(_=P.return)&&_.call(P)}finally{if(A)throw A.error}}return M}if(g.isObject(C)){M=new Map;for(var I in C)if(C.hasOwnProperty(I)){var B=C[I];M.set(I,w(B))}return M}return C}m.parseJSONFromBytes=function(C){var A=g.utf8Decode(C);return JSON.parse.call(void 0,A)},m.serializeJSONToBytes=function(C){var A=JSON.stringify.call(void 0,C);return g.utf8Encode(A)},m.parseJSONIntoInfraValues=function(C){return w(JSON.parse.call(void 0,C))},m.convertAJSONDerivedJavaScriptValueToAnInfraValue=w},function(s,m,f){var x=this&&this.__generator||function(_,M){var P,D,E,I,B={label:0,sent:function(){if(1&E[0])throw E[1];return E[1]},trys:[],ops:[]};return I={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function F(R){return function(L){return function(z){if(P)throw new TypeError("Generator is already executing.");for(;B;)try{if(P=1,D&&(E=2&z[0]?D.return:z[0]?D.throw||((E=D.return)&&E.call(D),0):D.next)&&!(E=E.call(D,z[1])).done)return E;switch(D=0,E&&(z=[2&z[0],E.value]),z[0]){case 0:case 1:E=z;break;case 4:return B.label++,{value:z[1],done:!1};case 5:B.label++,D=z[1],z=[0];continue;case 7:z=B.ops.pop(),B.trys.pop();continue;default:if(E=B.trys,!((E=E.length>0&&E[E.length-1])||z[0]!==6&&z[0]!==2)){B=0;continue}if(z[0]===3&&(!E||z[1]>E[0]&&z[1]<E[3])){B.label=z[1];break}if(z[0]===6&&B.label<E[1]){B.label=E[1],E=z;break}if(E&&B.label<E[2]){B.label=E[2],B.ops.push(z);break}E[2]&&B.ops.pop(),B.trys.pop();continue}z=M.call(_,B)}catch(G){z=[6,G],D=0}finally{P=E=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([R,L])}}},g=this&&this.__read||function(_,M){var P=typeof Symbol=="function"&&_[Symbol.iterator];if(!P)return _;var D,E,I=P.call(_),B=[];try{for(;(M===void 0||M-- >0)&&!(D=I.next()).done;)B.push(D.value)}catch(F){E={error:F}}finally{try{D&&!D.done&&(P=I.return)&&P.call(I)}finally{if(E)throw E.error}}return B},w=this&&this.__spread||function(){for(var _=[],M=0;M<arguments.length;M++)_=_.concat(g(arguments[M]));return _},C=this&&this.__values||function(_){var M=typeof Symbol=="function"&&Symbol.iterator,P=M&&_[M],D=0;if(P)return P.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&D>=_.length&&(_=void 0),{value:_&&_[D++],done:!_}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var A=f(2);m.append=function(_,M){_.push(M)},m.extend=function(_,M){_.push.apply(_,w(M))},m.prepend=function(_,M){_.unshift(M)},m.replace=function(_,M,P){var D,E,I=0;try{for(var B=C(_),F=B.next();!F.done;F=B.next()){var R=F.value;if(A.isFunction(M))M.call(null,R)&&(_[I]=P);else if(R===M)return void(_[I]=P);I++}}catch(L){D={error:L}}finally{try{F&&!F.done&&(E=B.return)&&E.call(B)}finally{if(D)throw D.error}}},m.insert=function(_,M,P){_.splice(P,0,M)},m.remove=function(_,M){for(var P=_.length;P--;){var D=_[P];if(A.isFunction(M))M.call(null,D)&&_.splice(P,1);else if(D===M)return void _.splice(P,1)}},m.empty=function(_){_.length=0},m.contains=function(_,M){var P,D;try{for(var E=C(_),I=E.next();!I.done;I=E.next()){var B=I.value;if(A.isFunction(M)){if(M.call(null,B))return!0}else if(B===M)return!0}}catch(F){P={error:F}}finally{try{I&&!I.done&&(D=E.return)&&D.call(E)}finally{if(P)throw P.error}}return!1},m.size=function(_,M){var P,D;if(M===void 0)return _.length;var E=0;try{for(var I=C(_),B=I.next();!B.done;B=I.next()){var F=B.value;M.call(null,F)&&E++}}catch(R){P={error:R}}finally{try{B&&!B.done&&(D=I.return)&&D.call(I)}finally{if(P)throw P.error}}return E},m.isEmpty=function(_){return _.length===0},m.forEach=function(_,M){var P,D,E,I,B,F;return x(this,function(R){switch(R.label){case 0:return M!==void 0?[3,2]:[5,C(_)];case 1:return R.sent(),[3,9];case 2:R.trys.push([2,7,8,9]),P=C(_),D=P.next(),R.label=3;case 3:return D.done?[3,6]:(E=D.value,M.call(null,E)?[4,E]:[3,5]);case 4:R.sent(),R.label=5;case 5:return D=P.next(),[3,3];case 6:return[3,9];case 7:return I=R.sent(),B={error:I},[3,9];case 8:try{D&&!D.done&&(F=P.return)&&F.call(P)}finally{if(B)throw B.error}return[7];case 9:return[2]}})},m.clone=function(_){return new(Array.bind.apply(Array,w([void 0],_)))},m.sortInAscendingOrder=function(_,M){return _.sort(function(P,D){return M.call(null,P,D)?-1:1})},m.sortInDescendingOrder=function(_,M){return _.sort(function(P,D){return M.call(null,P,D)?1:-1})}},function(s,m,f){var x=this&&this.__generator||function(_,M){var P,D,E,I,B={label:0,sent:function(){if(1&E[0])throw E[1];return E[1]},trys:[],ops:[]};return I={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function F(R){return function(L){return function(z){if(P)throw new TypeError("Generator is already executing.");for(;B;)try{if(P=1,D&&(E=2&z[0]?D.return:z[0]?D.throw||((E=D.return)&&E.call(D),0):D.next)&&!(E=E.call(D,z[1])).done)return E;switch(D=0,E&&(z=[2&z[0],E.value]),z[0]){case 0:case 1:E=z;break;case 4:return B.label++,{value:z[1],done:!1};case 5:B.label++,D=z[1],z=[0];continue;case 7:z=B.ops.pop(),B.trys.pop();continue;default:if(E=B.trys,!((E=E.length>0&&E[E.length-1])||z[0]!==6&&z[0]!==2)){B=0;continue}if(z[0]===3&&(!E||z[1]>E[0]&&z[1]<E[3])){B.label=z[1];break}if(z[0]===6&&B.label<E[1]){B.label=E[1],E=z;break}if(E&&B.label<E[2]){B.label=E[2],B.ops.push(z);break}E[2]&&B.ops.pop(),B.trys.pop();continue}z=M.call(_,B)}catch(G){z=[6,G],D=0}finally{P=E=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([R,L])}}},g=this&&this.__values||function(_){var M=typeof Symbol=="function"&&Symbol.iterator,P=M&&_[M],D=0;if(P)return P.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&D>=_.length&&(_=void 0),{value:_&&_[D++],done:!_}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")},w=this&&this.__read||function(_,M){var P=typeof Symbol=="function"&&_[Symbol.iterator];if(!P)return _;var D,E,I=P.call(_),B=[];try{for(;(M===void 0||M-- >0)&&!(D=I.next()).done;)B.push(D.value)}catch(F){E={error:F}}finally{try{D&&!D.done&&(P=I.return)&&P.call(I)}finally{if(E)throw E.error}}return B},C=this&&this.__spread||function(){for(var _=[],M=0;M<arguments.length;M++)_=_.concat(w(arguments[M]));return _};Object.defineProperty(m,"__esModule",{value:!0});var A=f(2);m.get=function(_,M){return _.get(M)},m.set=function(_,M,P){_.set(M,P)},m.remove=function(_,M){var P,D,E,I;if(A.isFunction(M)){var B=[];try{for(var F=g(_),R=F.next();!R.done;R=F.next()){var L=R.value;M.call(null,L)&&B.push(L[0])}}catch(K){P={error:K}}finally{try{R&&!R.done&&(D=F.return)&&D.call(F)}finally{if(P)throw P.error}}try{for(var z=g(B),G=z.next();!G.done;G=z.next()){var W=G.value;_.delete(W)}}catch(K){E={error:K}}finally{try{G&&!G.done&&(I=z.return)&&I.call(z)}finally{if(E)throw E.error}}}else _.delete(M)},m.contains=function(_,M){var P,D;if(A.isFunction(M)){try{for(var E=g(_),I=E.next();!I.done;I=E.next()){var B=I.value;if(M.call(null,B))return!0}}catch(F){P={error:F}}finally{try{I&&!I.done&&(D=E.return)&&D.call(E)}finally{if(P)throw P.error}}return!1}return _.has(M)},m.keys=function(_){return new Set(_.keys())},m.values=function(_){return C(_.values())},m.size=function(_,M){var P,D;if(M===void 0)return _.size;var E=0;try{for(var I=g(_),B=I.next();!B.done;B=I.next()){var F=B.value;M.call(null,F)&&E++}}catch(R){P={error:R}}finally{try{B&&!B.done&&(D=I.return)&&D.call(I)}finally{if(P)throw P.error}}return E},m.isEmpty=function(_){return _.size===0},m.forEach=function(_,M){var P,D,E,I,B,F;return x(this,function(R){switch(R.label){case 0:return M!==void 0?[3,2]:[5,g(_)];case 1:return R.sent(),[3,9];case 2:R.trys.push([2,7,8,9]),P=g(_),D=P.next(),R.label=3;case 3:return D.done?[3,6]:(E=D.value,M.call(null,E)?[4,E]:[3,5]);case 4:R.sent(),R.label=5;case 5:return D=P.next(),[3,3];case 6:return[3,9];case 7:return I=R.sent(),B={error:I},[3,9];case 8:try{D&&!D.done&&(F=P.return)&&F.call(P)}finally{if(B)throw B.error}return[7];case 9:return[2]}})},m.clone=function(_){return new Map(_)},m.sortInAscendingOrder=function(_,M){var P=new(Array.bind.apply(Array,C([void 0],_)));return P.sort(function(D,E){return M.call(null,D,E)?-1:1}),new Map(P)},m.sortInDescendingOrder=function(_,M){var P=new(Array.bind.apply(Array,C([void 0],_)));return P.sort(function(D,E){return M.call(null,D,E)?1:-1}),new Map(P)}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0}),m.HTML="http://www.w3.org/1999/xhtml",m.XML="http://www.w3.org/XML/1998/namespace",m.XMLNS="http://www.w3.org/2000/xmlns/",m.MathML="http://www.w3.org/1998/Math/MathML",m.SVG="http://www.w3.org/2000/svg",m.XLink="http://www.w3.org/1999/xlink"},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0}),m.enqueue=function(x,g){x.push(g)},m.dequeue=function(x){return x.shift()||null}},function(s,m,f){var x=this&&this.__generator||function(M,P){var D,E,I,B,F={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return B={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(B[Symbol.iterator]=function(){return this}),B;function R(L){return function(z){return function(G){if(D)throw new TypeError("Generator is already executing.");for(;F;)try{if(D=1,E&&(I=2&G[0]?E.return:G[0]?E.throw||((I=E.return)&&I.call(E),0):E.next)&&!(I=I.call(E,G[1])).done)return I;switch(E=0,I&&(G=[2&G[0],I.value]),G[0]){case 0:case 1:I=G;break;case 4:return F.label++,{value:G[1],done:!1};case 5:F.label++,E=G[1],G=[0];continue;case 7:G=F.ops.pop(),F.trys.pop();continue;default:if(I=F.trys,!((I=I.length>0&&I[I.length-1])||G[0]!==6&&G[0]!==2)){F=0;continue}if(G[0]===3&&(!I||G[1]>I[0]&&G[1]<I[3])){F.label=G[1];break}if(G[0]===6&&F.label<I[1]){F.label=I[1],I=G;break}if(I&&F.label<I[2]){F.label=I[2],F.ops.push(G);break}I[2]&&F.ops.pop(),F.trys.pop();continue}G=P.call(M,F)}catch(W){G=[6,W],E=0}finally{D=I=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([L,z])}}},g=this&&this.__values||function(M){var P=typeof Symbol=="function"&&Symbol.iterator,D=P&&M[P],E=0;if(D)return D.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&E>=M.length&&(M=void 0),{value:M&&M[E++],done:!M}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")},w=this&&this.__read||function(M,P){var D=typeof Symbol=="function"&&M[Symbol.iterator];if(!D)return M;var E,I,B=D.call(M),F=[];try{for(;(P===void 0||P-- >0)&&!(E=B.next()).done;)F.push(E.value)}catch(R){I={error:R}}finally{try{E&&!E.done&&(D=B.return)&&D.call(B)}finally{if(I)throw I.error}}return F},C=this&&this.__spread||function(){for(var M=[],P=0;P<arguments.length;P++)M=M.concat(w(arguments[P]));return M};Object.defineProperty(m,"__esModule",{value:!0});var A=f(2);function _(M,P){var D,E;try{for(var I=g(M),B=I.next();!B.done;B=I.next()){var F=B.value;if(!P.has(F))return!1}}catch(R){D={error:R}}finally{try{B&&!B.done&&(E=I.return)&&E.call(I)}finally{if(D)throw D.error}}return!0}m.append=function(M,P){M.add(P)},m.extend=function(M,P){P.forEach(M.add,M)},m.prepend=function(M,P){var D=new Set(M);M.clear(),M.add(P),D.forEach(M.add,M)},m.replace=function(M,P,D){var E,I,B=new Set;try{for(var F=g(M),R=F.next();!R.done;R=F.next()){var L=R.value;A.isFunction(P)?P.call(null,L)?B.add(D):B.add(L):L===P?B.add(D):B.add(L)}}catch(z){E={error:z}}finally{try{R&&!R.done&&(I=F.return)&&I.call(F)}finally{if(E)throw E.error}}M.clear(),B.forEach(M.add,M)},m.insert=function(M,P,D){var E,I,B=new Set,F=0;try{for(var R=g(M),L=R.next();!L.done;L=R.next()){var z=L.value;F===D&&B.add(P),B.add(z),F++}}catch(G){E={error:G}}finally{try{L&&!L.done&&(I=R.return)&&I.call(R)}finally{if(E)throw E.error}}M.clear(),B.forEach(M.add,M)},m.remove=function(M,P){var D,E,I,B;if(A.isFunction(P)){var F=[];try{for(var R=g(M),L=R.next();!L.done;L=R.next()){var z=L.value;P.call(null,z)&&F.push(z)}}catch(q){D={error:q}}finally{try{L&&!L.done&&(E=R.return)&&E.call(R)}finally{if(D)throw D.error}}try{for(var G=g(F),W=G.next();!W.done;W=G.next()){var K=W.value;M.delete(K)}}catch(q){I={error:q}}finally{try{W&&!W.done&&(B=G.return)&&B.call(G)}finally{if(I)throw I.error}}}else M.delete(P)},m.empty=function(M){M.clear()},m.contains=function(M,P){var D,E;if(!A.isFunction(P))return M.has(P);try{for(var I=g(M),B=I.next();!B.done;B=I.next()){var F=B.value;if(P.call(null,F))return!0}}catch(R){D={error:R}}finally{try{B&&!B.done&&(E=I.return)&&E.call(I)}finally{if(D)throw D.error}}return!1},m.size=function(M,P){var D,E;if(P===void 0)return M.size;var I=0;try{for(var B=g(M),F=B.next();!F.done;F=B.next()){var R=F.value;P.call(null,R)&&I++}}catch(L){D={error:L}}finally{try{F&&!F.done&&(E=B.return)&&E.call(B)}finally{if(D)throw D.error}}return I},m.isEmpty=function(M){return M.size===0},m.forEach=function(M,P){var D,E,I,B,F,R;return x(this,function(L){switch(L.label){case 0:return P!==void 0?[3,2]:[5,g(M)];case 1:return L.sent(),[3,9];case 2:L.trys.push([2,7,8,9]),D=g(M),E=D.next(),L.label=3;case 3:return E.done?[3,6]:(I=E.value,P.call(null,I)?[4,I]:[3,5]);case 4:L.sent(),L.label=5;case 5:return E=D.next(),[3,3];case 6:return[3,9];case 7:return B=L.sent(),F={error:B},[3,9];case 8:try{E&&!E.done&&(R=D.return)&&R.call(D)}finally{if(F)throw F.error}return[7];case 9:return[2]}})},m.clone=function(M){return new Set(M)},m.sortInAscendingOrder=function(M,P){var D=new(Array.bind.apply(Array,C([void 0],M)));return D.sort(function(E,I){return P.call(null,E,I)?-1:1}),new Set(D)},m.sortInDescendingOrder=function(M,P){var D=new(Array.bind.apply(Array,C([void 0],M)));return D.sort(function(E,I){return P.call(null,E,I)?1:-1}),new Set(D)},m.isSubsetOf=_,m.isSupersetOf=function(M,P){return _(P,M)},m.intersection=function(M,P){var D,E,I=new Set;try{for(var B=g(M),F=B.next();!F.done;F=B.next()){var R=F.value;P.has(R)&&I.add(R)}}catch(L){D={error:L}}finally{try{F&&!F.done&&(E=B.return)&&E.call(B)}finally{if(D)throw D.error}}return I},m.union=function(M,P){var D=new Set(M);return P.forEach(D.add,D),D},m.range=function(M,P){for(var D=new Set,E=M;E<=P;E++)D.add(E);return D}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0}),m.push=function(x,g){x.push(g)},m.pop=function(x){return x.pop()||null}},function(s,m,f){var x=this&&this.__values||function(F){var R=typeof Symbol=="function"&&Symbol.iterator,L=R&&F[R],z=0;if(L)return L.call(F);if(F&&typeof F.length=="number")return{next:function(){return F&&z>=F.length&&(F=void 0),{value:F&&F[z++],done:!F}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(96),w=f(147),C=f(146),A=f(2);function _(F,R){for(var L=0;;){var z=L<F.length?F.charCodeAt(L):null,G=L<R.length?R.charCodeAt(L):null;if(z===null)return!0;if(z!==G)return!1;L++}}function M(F){var R,L,z=Array.from(F),G=new Uint8Array(z.length),W=0;try{for(var K=x(F),q=K.next();!q.done;q=K.next()){var Z=q.value.codePointAt(0);console.assert(Z!==void 0&&Z<=255,"isomorphicEncode requires string bytes to be less than or equal to 0x00FF."),Z!==void 0&&Z<=255&&(G[W++]=Z)}}catch(J){R={error:J}}finally{try{q&&!q.done&&(L=K.return)&&L.call(K)}finally{if(R)throw R.error}}return G}function P(F){return/^[\u0000-\u007F]*$/.test(F)}function D(F){var R,L,z="";try{for(var G=x(F),W=G.next();!W.done;W=G.next()){var K=W.value,q=K.codePointAt(0);z+=q!==void 0&&q>=65&&q<=90?String.fromCodePoint(q+32):K}}catch(Z){R={error:Z}}finally{try{W&&!W.done&&(L=G.return)&&L.call(G)}finally{if(R)throw R.error}}return z}function E(F){return F.replace(/^[\t\n\f\r ]+/,"").replace(/[\t\n\f\r ]+$/,"")}function I(F,R,L){if(!A.isArray(R))return I(F,Array.from(R),L);for(var z="";L.position<R.length&&F.call(null,R[L.position]);)z+=R[L.position],L.position++;return z}function B(F,R){I(function(L){return g.ASCIIWhiteSpace.test(L)},F,R)}m.isCodeUnitPrefix=_,m.isCodeUnitLessThan=function(F,R){if(_(R,F))return!1;if(_(F,R))return!0;for(var L=0;L<Math.min(F.length,R.length);L++){var z=F.charCodeAt(L),G=R.charCodeAt(L);if(z!==G)return z<G}return!1},m.isomorphicEncode=M,m.isASCIIString=P,m.asciiLowercase=D,m.asciiUppercase=function(F){var R,L,z="";try{for(var G=x(F),W=G.next();!W.done;W=G.next()){var K=W.value,q=K.codePointAt(0);z+=q!==void 0&&q>=97&&q<=122?String.fromCodePoint(q-32):K}}catch(Z){R={error:Z}}finally{try{W&&!W.done&&(L=G.return)&&L.call(G)}finally{if(R)throw R.error}}return z},m.asciiCaseInsensitiveMatch=function(F,R){return D(F)===D(R)},m.asciiEncode=function(F){return console.assert(P(F),"asciiEncode requires an ASCII string."),M(F)},m.asciiDecode=function(F){var R,L;try{for(var z=x(F),G=z.next();!G.done;G=z.next()){var W=G.value;console.assert(C.isASCIIByte(W),"asciiDecode requires an ASCII byte sequence.")}}catch(K){R={error:K}}finally{try{G&&!G.done&&(L=z.return)&&L.call(z)}finally{if(R)throw R.error}}return w.isomorphicDecode(F)},m.stripNewlines=function(F){return F.replace(/[\n\r]/g,"")},m.normalizeNewlines=function(F){return F.replace(/\r\n/g,`
`).replace(/\r/g,`
`)},m.stripLeadingAndTrailingASCIIWhitespace=E,m.stripAndCollapseASCIIWhitespace=function(F){return E(F.replace(/[\t\n\f\r ]{2,}/g," "))},m.collectASequenceOfCodePoints=I,m.skipASCIIWhitespace=B,m.strictlySplit=function F(R,L){if(!A.isArray(R))return F(Array.from(R),L);var z={position:0},G=[],W=I(function(K){return L!==K},R,z);for(G.push(W);z.position<R.length;)console.assert(R[z.position]===L,"strictlySplit found no delimiter in input string."),z.position++,W=I(function(K){return L!==K},R,z),G.push(W);return G},m.splitAStringOnASCIIWhitespace=function F(R){if(!A.isArray(R))return F(Array.from(R));var L={position:0},z=[];for(B(R,L);L.position<R.length;){var G=I(function(W){return!g.ASCIIWhiteSpace.test(W)},R,L);z.push(G),B(R,L)}return z},m.splitAStringOnCommas=function F(R){if(!A.isArray(R))return F(Array.from(R));for(var L={position:0},z=[];L.position<R.length;){var G=I(function(W){return W!==","},R,L);z.push(E(G)),L.position<R.length&&(console.assert(R[L.position]===",","splitAStringOnCommas found no delimiter in input string."),L.position++)}return z},m.concatenate=function(F,R){return R===void 0&&(R=""),F.length===0?"":F.join(R)}},function(s,m,f){var x=this&&this.__values||function(w){var C=typeof Symbol=="function"&&Symbol.iterator,A=C&&w[C],_=0;if(A)return A.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&_>=w.length&&(w=void 0),{value:w&&w[_++],done:!w}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(97);m.abort_add=function(w,C){C._abortedFlag||C._abortAlgorithms.add(w)},m.abort_remove=function(w,C){C._abortAlgorithms.delete(w)},m.abort_signalAbort=function(w){var C,A;if(!w._abortedFlag){w._abortedFlag=!0;try{for(var _=x(w._abortAlgorithms),M=_.next();!M.done;M=_.next())M.value.call(w)}catch(P){C={error:P}}finally{try{M&&!M.done&&(A=_.return)&&A.call(_)}finally{if(C)throw C.error}}w._abortAlgorithms.clear(),g.event_fireAnEvent("abort",w)}}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(150),g=function(){function w(){}return w.asNode=function(C){if(x.Guard.isNode(C))return C;throw new Error("Invalid object. Node expected.")},w}();m.Cast=g},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=function(){function w(){}return Object.defineProperty(w.prototype,"size",{get:function(){return 0},enumerable:!0,configurable:!0}),w.prototype.add=function(C){throw new Error("Cannot add to an empty set.")},w.prototype.clear=function(){},w.prototype.delete=function(C){return!1},w.prototype.forEach=function(C,A){},w.prototype.has=function(C){return!1},w.prototype[Symbol.iterator]=function(){return new g},w.prototype.entries=function(){return new g},w.prototype.keys=function(){return new g},w.prototype.values=function(){return new g},Object.defineProperty(w.prototype,Symbol.toStringTag,{get:function(){return"EmptySet"},enumerable:!0,configurable:!0}),w}();m.EmptySet=x;var g=function(){function w(){}return w.prototype[Symbol.iterator]=function(){return this},w.prototype.next=function(){return{done:!0,value:null}},w}()},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0}),function(x){x[x.SchemeStart=0]="SchemeStart",x[x.Scheme=1]="Scheme",x[x.NoScheme=2]="NoScheme",x[x.SpecialRelativeOrAuthority=3]="SpecialRelativeOrAuthority",x[x.PathOrAuthority=4]="PathOrAuthority",x[x.Relative=5]="Relative",x[x.RelativeSlash=6]="RelativeSlash",x[x.SpecialAuthoritySlashes=7]="SpecialAuthoritySlashes",x[x.SpecialAuthorityIgnoreSlashes=8]="SpecialAuthorityIgnoreSlashes",x[x.Authority=9]="Authority",x[x.Host=10]="Host",x[x.Hostname=11]="Hostname",x[x.Port=12]="Port",x[x.File=13]="File",x[x.FileSlash=14]="FileSlash",x[x.FileHost=15]="FileHost",x[x.PathStart=16]="PathStart",x[x.Path=17]="Path",x[x.CannotBeABaseURLPath=18]="CannotBeABaseURLPath",x[x.Query=19]="Query",x[x.Fragment=20]="Fragment"}(m.ParserState||(m.ParserState={})),m.OpaqueOrigin=["","",null,null]},function(s,m,f){var x=f(245),g=f(247);function w(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}m.parse=G,m.resolve=function(W,K){return G(W,!1,!0).resolve(K)},m.resolveObject=function(W,K){return W?G(W,!1,!0).resolveObject(K):K},m.format=function(W){return g.isString(W)&&(W=G(W)),W instanceof w?W.format():w.prototype.format.call(W)},m.Url=w;var C=/^([a-z0-9.+-]+:)/i,A=/:[0-9]*$/,_=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,M=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),P=["'"].concat(M),D=["%","/","?",";","#"].concat(P),E=["/","?","#"],I=/^[+a-z0-9A-Z_-]{0,63}$/,B=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,F={javascript:!0,"javascript:":!0},R={javascript:!0,"javascript:":!0},L={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},z=f(248);function G(W,K,q){if(W&&g.isObject(W)&&W instanceof w)return W;var Z=new w;return Z.parse(W,K,q),Z}w.prototype.parse=function(W,K,q){if(!g.isString(W))throw new TypeError("Parameter 'url' must be a string, not "+typeof W);var Z=W.indexOf("?"),J=Z!==-1&&Z<W.indexOf("#")?"?":"#",Q=W.split(J);Q[0]=Q[0].replace(/\\/g,"/");var ie=W=Q.join(J);if(ie=ie.trim(),!q&&W.split("#").length===1){var se=_.exec(ie);if(se)return this.path=ie,this.href=ie,this.pathname=se[1],se[2]?(this.search=se[2],this.query=K?z.parse(this.search.substr(1)):this.search.substr(1)):K&&(this.search="",this.query={}),this}var oe=C.exec(ie);if(oe){var ue=(oe=oe[0]).toLowerCase();this.protocol=ue,ie=ie.substr(oe.length)}if(q||oe||ie.match(/^\/\/[^@\/]+@[^@\/]+/)){var fe=ie.substr(0,2)==="//";!fe||oe&&R[oe]||(ie=ie.substr(2),this.slashes=!0)}if(!R[oe]&&(fe||oe&&!L[oe])){for(var xe,ce,me=-1,pe=0;pe<E.length;pe++)(Se=ie.indexOf(E[pe]))!==-1&&(me===-1||Se<me)&&(me=Se);for((ce=me===-1?ie.lastIndexOf("@"):ie.lastIndexOf("@",me))!==-1&&(xe=ie.slice(0,ce),ie=ie.slice(ce+1),this.auth=decodeURIComponent(xe)),me=-1,pe=0;pe<D.length;pe++){var Se;(Se=ie.indexOf(D[pe]))!==-1&&(me===-1||Se<me)&&(me=Se)}me===-1&&(me=ie.length),this.host=ie.slice(0,me),ie=ie.slice(me),this.parseHost(),this.hostname=this.hostname||"";var Ae=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Ae)for(var _e=this.hostname.split(/\./),Me=(pe=0,_e.length);pe<Me;pe++){var ve=_e[pe];if(ve&&!ve.match(I)){for(var Ee="",Le=0,Ie=ve.length;Le<Ie;Le++)ve.charCodeAt(Le)>127?Ee+="x":Ee+=ve[Le];if(!Ee.match(I)){var Oe=_e.slice(0,pe),le=_e.slice(pe+1),te=ve.match(B);te&&(Oe.push(te[1]),le.unshift(te[2])),le.length&&(ie="/"+le.join(".")+ie),this.hostname=Oe.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),Ae||(this.hostname=x.toASCII(this.hostname));var re=this.port?":"+this.port:"",ne=this.hostname||"";this.host=ne+re,this.href+=this.host,Ae&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),ie[0]!=="/"&&(ie="/"+ie))}if(!F[ue])for(pe=0,Me=P.length;pe<Me;pe++){var ae=P[pe];if(ie.indexOf(ae)!==-1){var he=encodeURIComponent(ae);he===ae&&(he=escape(ae)),ie=ie.split(ae).join(he)}}var de=ie.indexOf("#");de!==-1&&(this.hash=ie.substr(de),ie=ie.slice(0,de));var be=ie.indexOf("?");if(be!==-1?(this.search=ie.substr(be),this.query=ie.substr(be+1),K&&(this.query=z.parse(this.query)),ie=ie.slice(0,be)):K&&(this.search="",this.query={}),ie&&(this.pathname=ie),L[ue]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){re=this.pathname||"";var Ce=this.search||"";this.path=re+Ce}return this.href=this.format(),this},w.prototype.format=function(){var W=this.auth||"";W&&(W=(W=encodeURIComponent(W)).replace(/%3A/i,":"),W+="@");var K=this.protocol||"",q=this.pathname||"",Z=this.hash||"",J=!1,Q="";this.host?J=W+this.host:this.hostname&&(J=W+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(J+=":"+this.port)),this.query&&g.isObject(this.query)&&Object.keys(this.query).length&&(Q=z.stringify(this.query));var ie=this.search||Q&&"?"+Q||"";return K&&K.substr(-1)!==":"&&(K+=":"),this.slashes||(!K||L[K])&&J!==!1?(J="//"+(J||""),q&&q.charAt(0)!=="/"&&(q="/"+q)):J||(J=""),Z&&Z.charAt(0)!=="#"&&(Z="#"+Z),ie&&ie.charAt(0)!=="?"&&(ie="?"+ie),K+J+(q=q.replace(/[?#]/g,function(se){return encodeURIComponent(se)}))+(ie=ie.replace("#","%23"))+Z},w.prototype.resolve=function(W){return this.resolveObject(G(W,!1,!0)).format()},w.prototype.resolveObject=function(W){if(g.isString(W)){var K=new w;K.parse(W,!1,!0),W=K}for(var q=new w,Z=Object.keys(this),J=0;J<Z.length;J++){var Q=Z[J];q[Q]=this[Q]}if(q.hash=W.hash,W.href==="")return q.href=q.format(),q;if(W.slashes&&!W.protocol){for(var ie=Object.keys(W),se=0;se<ie.length;se++){var oe=ie[se];oe!=="protocol"&&(q[oe]=W[oe])}return L[q.protocol]&&q.hostname&&!q.pathname&&(q.path=q.pathname="/"),q.href=q.format(),q}if(W.protocol&&W.protocol!==q.protocol){if(!L[W.protocol]){for(var ue=Object.keys(W),fe=0;fe<ue.length;fe++){var xe=ue[fe];q[xe]=W[xe]}return q.href=q.format(),q}if(q.protocol=W.protocol,W.host||R[W.protocol])q.pathname=W.pathname;else{for(var ce=(W.pathname||"").split("/");ce.length&&!(W.host=ce.shift()););W.host||(W.host=""),W.hostname||(W.hostname=""),ce[0]!==""&&ce.unshift(""),ce.length<2&&ce.unshift(""),q.pathname=ce.join("/")}if(q.search=W.search,q.query=W.query,q.host=W.host||"",q.auth=W.auth,q.hostname=W.hostname||W.host,q.port=W.port,q.pathname||q.search){var me=q.pathname||"",pe=q.search||"";q.path=me+pe}return q.slashes=q.slashes||W.slashes,q.href=q.format(),q}var Se=q.pathname&&q.pathname.charAt(0)==="/",Ae=W.host||W.pathname&&W.pathname.charAt(0)==="/",_e=Ae||Se||q.host&&W.pathname,Me=_e,ve=q.pathname&&q.pathname.split("/")||[],Ee=(ce=W.pathname&&W.pathname.split("/")||[],q.protocol&&!L[q.protocol]);if(Ee&&(q.hostname="",q.port=null,q.host&&(ve[0]===""?ve[0]=q.host:ve.unshift(q.host)),q.host="",W.protocol&&(W.hostname=null,W.port=null,W.host&&(ce[0]===""?ce[0]=W.host:ce.unshift(W.host)),W.host=null),_e=_e&&(ce[0]===""||ve[0]==="")),Ae)q.host=W.host||W.host===""?W.host:q.host,q.hostname=W.hostname||W.hostname===""?W.hostname:q.hostname,q.search=W.search,q.query=W.query,ve=ce;else if(ce.length)ve||(ve=[]),ve.pop(),ve=ve.concat(ce),q.search=W.search,q.query=W.query;else if(!g.isNullOrUndefined(W.search))return Ee&&(q.hostname=q.host=ve.shift(),(te=!!(q.host&&q.host.indexOf("@")>0)&&q.host.split("@"))&&(q.auth=te.shift(),q.host=q.hostname=te.shift())),q.search=W.search,q.query=W.query,g.isNull(q.pathname)&&g.isNull(q.search)||(q.path=(q.pathname?q.pathname:"")+(q.search?q.search:"")),q.href=q.format(),q;if(!ve.length)return q.pathname=null,q.search?q.path="/"+q.search:q.path=null,q.href=q.format(),q;for(var Le=ve.slice(-1)[0],Ie=(q.host||W.host||ve.length>1)&&(Le==="."||Le==="..")||Le==="",Oe=0,le=ve.length;le>=0;le--)(Le=ve[le])==="."?ve.splice(le,1):Le===".."?(ve.splice(le,1),Oe++):Oe&&(ve.splice(le,1),Oe--);if(!_e&&!Me)for(;Oe--;Oe)ve.unshift("..");!_e||ve[0]===""||ve[0]&&ve[0].charAt(0)==="/"||ve.unshift(""),Ie&&ve.join("/").substr(-1)!=="/"&&ve.push("");var te,re=ve[0]===""||ve[0]&&ve[0].charAt(0)==="/";return Ee&&(q.hostname=q.host=re?"":ve.length?ve.shift():"",(te=!!(q.host&&q.host.indexOf("@")>0)&&q.host.split("@"))&&(q.auth=te.shift(),q.host=q.hostname=te.shift())),(_e=_e||q.host&&ve.length)&&!re&&ve.unshift(""),ve.length?q.pathname=ve.join("/"):(q.pathname=null,q.path=null),g.isNull(q.pathname)&&g.isNull(q.search)||(q.path=(q.pathname?q.pathname:"")+(q.search?q.search:"")),q.auth=W.auth||q.auth,q.slashes=q.slashes||W.slashes,q.href=q.format(),q},w.prototype.parseHost=function(){var W=this.host,K=A.exec(W);K&&((K=K[0])!==":"&&(this.port=K.substr(1)),W=W.substr(0,W.length-K.length)),W&&(this.hostname=W)}},function(s,m,f){(function(x,g){var w;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(C){m&&m.nodeType,x&&x.nodeType;var A=typeof g=="object"&&g;A.global!==A&&A.window!==A&&A.self;var _,M=2147483647,P=/^xn--/,D=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=Math.floor,F=String.fromCharCode;function R(Q){throw new RangeError(I[Q])}function L(Q,ie){for(var se=Q.length,oe=[];se--;)oe[se]=ie(Q[se]);return oe}function z(Q,ie){var se=Q.split("@"),oe="";return se.length>1&&(oe=se[0]+"@",Q=se[1]),oe+L((Q=Q.replace(E,".")).split("."),ie).join(".")}function G(Q){for(var ie,se,oe=[],ue=0,fe=Q.length;ue<fe;)(ie=Q.charCodeAt(ue++))>=55296&&ie<=56319&&ue<fe?(64512&(se=Q.charCodeAt(ue++)))==56320?oe.push(((1023&ie)<<10)+(1023&se)+65536):(oe.push(ie),ue--):oe.push(ie);return oe}function W(Q){return L(Q,function(ie){var se="";return ie>65535&&(se+=F((ie-=65536)>>>10&1023|55296),ie=56320|1023&ie),se+=F(ie)}).join("")}function K(Q,ie){return Q+22+75*(Q<26)-((ie!=0)<<5)}function q(Q,ie,se){var oe=0;for(Q=se?B(Q/700):Q>>1,Q+=B(Q/ie);Q>455;oe+=36)Q=B(Q/35);return B(oe+36*Q/(Q+38))}function Z(Q){var ie,se,oe,ue,fe,xe,ce,me,pe,Se,Ae,_e=[],Me=Q.length,ve=0,Ee=128,Le=72;for((se=Q.lastIndexOf("-"))<0&&(se=0),oe=0;oe<se;++oe)Q.charCodeAt(oe)>=128&&R("not-basic"),_e.push(Q.charCodeAt(oe));for(ue=se>0?se+1:0;ue<Me;){for(fe=ve,xe=1,ce=36;ue>=Me&&R("invalid-input"),((me=(Ae=Q.charCodeAt(ue++))-48<10?Ae-22:Ae-65<26?Ae-65:Ae-97<26?Ae-97:36)>=36||me>B((M-ve)/xe))&&R("overflow"),ve+=me*xe,!(me<(pe=ce<=Le?1:ce>=Le+26?26:ce-Le));ce+=36)xe>B(M/(Se=36-pe))&&R("overflow"),xe*=Se;Le=q(ve-fe,ie=_e.length+1,fe==0),B(ve/ie)>M-Ee&&R("overflow"),Ee+=B(ve/ie),ve%=ie,_e.splice(ve++,0,Ee)}return W(_e)}function J(Q){var ie,se,oe,ue,fe,xe,ce,me,pe,Se,Ae,_e,Me,ve,Ee,Le=[];for(_e=(Q=G(Q)).length,ie=128,se=0,fe=72,xe=0;xe<_e;++xe)(Ae=Q[xe])<128&&Le.push(F(Ae));for(oe=ue=Le.length,ue&&Le.push("-");oe<_e;){for(ce=M,xe=0;xe<_e;++xe)(Ae=Q[xe])>=ie&&Ae<ce&&(ce=Ae);for(ce-ie>B((M-se)/(Me=oe+1))&&R("overflow"),se+=(ce-ie)*Me,ie=ce,xe=0;xe<_e;++xe)if((Ae=Q[xe])<ie&&++se>M&&R("overflow"),Ae==ie){for(me=se,pe=36;!(me<(Se=pe<=fe?1:pe>=fe+26?26:pe-fe));pe+=36)Ee=me-Se,ve=36-Se,Le.push(F(K(Se+Ee%ve,0))),me=B(Ee/ve);Le.push(F(K(me,0))),fe=q(se,Me,oe==ue),se=0,++oe}++se,++ie}return Le.join("")}_={version:"1.4.1",ucs2:{decode:G,encode:W},decode:Z,encode:J,toASCII:function(Q){return z(Q,function(ie){return D.test(ie)?"xn--"+J(ie):ie})},toUnicode:function(Q){return z(Q,function(ie){return P.test(ie)?Z(ie.slice(4).toLowerCase()):ie})}},(w=(function(){return _}).call(m,f,m,x))===void 0||(x.exports=w)})()}).call(this,f(246)(s),f(78))},function(s,m){s.exports=function(f){return f.webpackPolyfill||(f.deprecate=function(){},f.paths=[],f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),f.webpackPolyfill=1),f}},function(s,m,f){s.exports={isString:function(x){return typeof x=="string"},isObject:function(x){return typeof x=="object"&&x!==null},isNull:function(x){return x===null},isNullOrUndefined:function(x){return x==null}}},function(s,m,f){m.decode=m.parse=f(249),m.encode=m.stringify=f(250)},function(s,m,f){function x(w,C){return Object.prototype.hasOwnProperty.call(w,C)}s.exports=function(w,C,A,_){C=C||"&",A=A||"=";var M={};if(typeof w!="string"||w.length===0)return M;var P=/\+/g;w=w.split(C);var D=1e3;_&&typeof _.maxKeys=="number"&&(D=_.maxKeys);var E=w.length;D>0&&E>D&&(E=D);for(var I=0;I<E;++I){var B,F,R,L,z=w[I].replace(P,"%20"),G=z.indexOf(A);G>=0?(B=z.substr(0,G),F=z.substr(G+1)):(B=z,F=""),R=decodeURIComponent(B),L=decodeURIComponent(F),x(M,R)?g(M[R])?M[R].push(L):M[R]=[M[R],L]:M[R]=L}return M};var g=Array.isArray||function(w){return Object.prototype.toString.call(w)==="[object Array]"}},function(s,m,f){var x=function(A){switch(typeof A){case"string":return A;case"boolean":return A?"true":"false";case"number":return isFinite(A)?A:"";default:return""}};s.exports=function(A,_,M,P){return _=_||"&",M=M||"=",A===null&&(A=void 0),typeof A=="object"?w(C(A),function(D){var E=encodeURIComponent(x(D))+M;return g(A[D])?w(A[D],function(I){return E+encodeURIComponent(x(I))}).join(_):E+encodeURIComponent(x(A[D]))}).join(_):P?encodeURIComponent(x(P))+M+encodeURIComponent(x(A)):""};var g=Array.isArray||function(A){return Object.prototype.toString.call(A)==="[object Array]"};function w(A,_){if(A.map)return A.map(_);for(var M=[],P=0;P<A.length;P++)M.push(_(A[P],P));return M}var C=Object.keys||function(A){var _=[];for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&_.push(M);return _}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(52);m.attr_setAnExistingAttributeValue=function(g,w){g._element===null?g._value=w:x.element_change(g,g._element,w)}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(108),g=f(30),w=f(52);m.tokenList_validationSteps=function(C,A){if(!g.dom_hasSupportedTokens(C._attribute._localName))throw new TypeError("There are no supported tokens defined for attribute name: '"+C._attribute._localName+"'.");return g.dom_getSupportedTokens(C._attribute._localName).has(A.toLowerCase())},m.tokenList_updateSteps=function(C){(C._element.hasAttribute(C._attribute._localName)||C._tokenSet.size!==0)&&w.element_setAnAttributeValue(C._element,C._attribute._localName,x.orderedSet_serialize(C._tokenSet))},m.tokenList_serializeSteps=function(C){return w.element_getAnAttributeValue(C._element,C._attribute._localName)}},function(s,m,f){var x=this&&this.__values||function(C){var A=typeof Symbol=="function"&&Symbol.iterator,_=A&&C[A],M=0;if(_)return _.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&M>=C.length&&(C=void 0),{value:C&&C[M++],done:!C}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(2);function w(C){return g.isBoolean(C)?C:C.capture||!1}m.eventTarget_flatten=w,m.eventTarget_flattenMore=function(C){var A=w(C),_=!1,M=!1;return g.isBoolean(C)||(_=C.once||!1,M=C.passive||!1),[A,M,_]},m.eventTarget_addEventListener=function(C,A){if(A.callback!==null){for(var _=0;_<C._eventListenerList.length;_++){var M=C._eventListenerList[_];if(M.type===A.type&&M.callback.handleEvent===A.callback.handleEvent&&M.capture===A.capture)return}C._eventListenerList.push(A)}},m.eventTarget_removeEventListener=function(C,A,_){A.removed=!0,C._eventListenerList.splice(_,1)},m.eventTarget_removeAllEventListeners=function(C){var A,_;try{for(var M=x(C._eventListenerList),P=M.next();!P.done;P=M.next())P.value.removed=!0}catch(D){A={error:D}}finally{try{P&&!P.done&&(_=M.return)&&_.call(M)}finally{if(A)throw A.error}}C._eventListenerList.length=0}},function(s,m,f){var x=this&&this.__values||function(C){var A=typeof Symbol=="function"&&Symbol.iterator,_=A&&C[A],M=0;if(_)return _.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&M>=C.length&&(C=void 0),{value:C&&C[M++],done:!C}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(2),w=f(29);m.parentNode_convertNodesIntoANode=function(C,A){for(var _,M,P=null,D=0;D<C.length;D++){var E=C[D];if(g.isString(E)){var I=w.create_text(A,E);C[D]=I}}if(C.length===1)P=C[0];else{var B=P=w.create_documentFragment(A);try{for(var F=x(C),R=F.next();!R.done;R=F.next())E=R.value,B.appendChild(E)}catch(L){_={error:L}}finally{try{R&&!R.done&&(M=F.return)&&M.call(F)}finally{if(_)throw _.error}}}return P}},function(s,m,f){var x=this&&this.__values||function(K){var q=typeof Symbol=="function"&&Symbol.iterator,Z=q&&K[q],J=0;if(Z)return Z.call(K);if(K&&typeof K.length=="number")return{next:function(){return K&&J>=K.length&&(K=void 0),{value:K&&K[J++],done:!K}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")},g=this&&this.__read||function(K,q){var Z=typeof Symbol=="function"&&K[Symbol.iterator];if(!Z)return K;var J,Q,ie=Z.call(K),se=[];try{for(;(q===void 0||q-- >0)&&!(J=ie.next()).done;)se.push(J.value)}catch(oe){Q={error:oe}}finally{try{J&&!J.done&&(Z=ie.return)&&Z.call(ie)}finally{if(Q)throw Q.error}}return se},w=this&&this.__spread||function(){for(var K=[],q=0;q<arguments.length;q++)K=K.concat(g(arguments[q]));return K};Object.defineProperty(m,"__esModule",{value:!0});var C=f(1),A=f(9),_=f(3),M=f(29),P=f(17),D=f(175),E=f(107),I=f(176),B=f(37),F=f(177);function R(K){return K._startNode===K._endNode&&K._startOffset===K._endOffset}function L(K){return P.tree_rootNode(K._startNode)}function z(K,q){return P.tree_rootNode(K)===L(q)&&D.boundaryPoint_position([K,0],q._start)===C.BoundaryPosition.After&&D.boundaryPoint_position([K,P.tree_nodeLength(K)],q._end)===C.BoundaryPosition.Before}function G(K,q){var Z=P.tree_isAncestorOf(q._startNode,K,!0),J=P.tree_isAncestorOf(q._endNode,K,!0);return Z&&!J||!Z&&J}function W(K){var q,Z,J,Q,ie,se,oe=M.create_documentFragment(K._startNode._nodeDocument);if(R(K))return oe;var ue=K._startNode,fe=K._startOffset,xe=K._endNode,ce=K._endOffset;if(ue===xe&&_.Guard.isCharacterDataNode(ue))return(ne=I.node_clone(ue))._data=E.characterData_substringData(ue,fe,ce-fe),B.mutation_append(ne,oe),E.characterData_replaceData(ue,fe,ce-fe,""),oe;for(var me=ue;!P.tree_isAncestorOf(xe,me,!0);){if(me._parent===null)throw new Error("Parent node  is null.");me=me._parent}var pe=null;if(!P.tree_isAncestorOf(xe,ue,!0))try{for(var Se=x(me._children),Ae=Se.next();!Ae.done;Ae=Se.next())if(G(Ee=Ae.value,K)){pe=Ee;break}}catch(Ce){q={error:Ce}}finally{try{Ae&&!Ae.done&&(Z=Se.return)&&Z.call(Se)}finally{if(q)throw q.error}}var _e=null;if(!P.tree_isAncestorOf(ue,xe,!0))for(var Me=w(me._children),ve=Me.length-1;ve>0;ve--){var Ee;if(G(Ee=Me[ve],K)){_e=Ee;break}}var Le,Ie,Oe=[];try{for(var le=x(me._children),te=le.next();!te.done;te=le.next())if(z(be=te.value,K)){if(_.Guard.isDocumentTypeNode(be))throw new A.HierarchyRequestError;Oe.push(be)}}catch(Ce){J={error:Ce}}finally{try{te&&!te.done&&(Q=le.return)&&Q.call(le)}finally{if(J)throw J.error}}if(P.tree_isAncestorOf(xe,ue,!0))Le=ue,Ie=fe;else{for(var re=ue;re._parent!==null&&!P.tree_isAncestorOf(xe,re._parent);)re=re._parent;if(re._parent===null)throw new Error("Parent node is null.");Le=re._parent,Ie=1+P.tree_index(re)}if(_.Guard.isCharacterDataNode(pe))(ne=I.node_clone(ue))._data=E.characterData_substringData(ue,fe,P.tree_nodeLength(ue)-fe),B.mutation_append(ne,oe),E.characterData_replaceData(ue,fe,P.tree_nodeLength(ue)-fe,"");else if(pe!==null){var ne=I.node_clone(pe);B.mutation_append(ne,oe);var ae=W(M.create_range([ue,fe],[pe,P.tree_nodeLength(pe)]));B.mutation_append(ae,ne)}try{for(var he=x(Oe),de=he.next();!de.done;de=he.next()){var be=de.value;B.mutation_append(be,oe)}}catch(Ce){ie={error:Ce}}finally{try{de&&!de.done&&(se=he.return)&&se.call(he)}finally{if(ie)throw ie.error}}return _.Guard.isCharacterDataNode(_e)?((ne=I.node_clone(xe))._data=E.characterData_substringData(xe,0,ce),B.mutation_append(ne,oe),E.characterData_replaceData(xe,0,ce,"")):_e!==null&&(ne=I.node_clone(_e),B.mutation_append(ne,oe),ae=W(M.create_range([_e,0],[xe,ce])),B.mutation_append(ae,ne)),K._start=[Le,Ie],K._end=[Le,Ie],oe}m.range_collapsed=R,m.range_root=L,m.range_isContained=z,m.range_isPartiallyContained=G,m.range_setTheStart=function(K,q,Z){if(_.Guard.isDocumentTypeNode(q))throw new A.InvalidNodeTypeError;if(Z>P.tree_nodeLength(q))throw new A.IndexSizeError;var J=[q,Z];L(K)===P.tree_rootNode(q)&&D.boundaryPoint_position(J,K._end)!==C.BoundaryPosition.After||(K._end=J),K._start=J},m.range_setTheEnd=function(K,q,Z){if(_.Guard.isDocumentTypeNode(q))throw new A.InvalidNodeTypeError;if(Z>P.tree_nodeLength(q))throw new A.IndexSizeError;var J=[q,Z];L(K)===P.tree_rootNode(q)&&D.boundaryPoint_position(J,K._start)!==C.BoundaryPosition.Before||(K._start=J),K._end=J},m.range_select=function(K,q){var Z=K._parent;if(Z===null)throw new A.InvalidNodeTypeError;var J=P.tree_index(K);q._start=[Z,J],q._end=[Z,J+1]},m.range_extract=W,m.range_cloneTheContents=function K(q){var Z,J,Q,ie,se,oe,ue=M.create_documentFragment(q._startNode._nodeDocument);if(R(q))return ue;var fe=q._startNode,xe=q._startOffset,ce=q._endNode,me=q._endOffset;fe===ce&&_.Guard.isCharacterDataNode(fe)&&((te=I.node_clone(fe))._data=E.characterData_substringData(fe,xe,me-xe),B.mutation_append(te,ue));for(var pe=fe;!P.tree_isAncestorOf(ce,pe,!0);){if(pe._parent===null)throw new Error("Parent node  is null.");pe=pe._parent}var Se=null;if(!P.tree_isAncestorOf(ce,fe,!0))try{for(var Ae=x(pe._children),_e=Ae.next();!_e.done;_e=Ae.next())if(G(Le=_e.value,q)){Se=Le;break}}catch(de){Z={error:de}}finally{try{_e&&!_e.done&&(J=Ae.return)&&J.call(Ae)}finally{if(Z)throw Z.error}}var Me=null;if(!P.tree_isAncestorOf(fe,ce,!0))for(var ve=w(pe._children),Ee=ve.length-1;Ee>0;Ee--){var Le;if(G(Le=ve[Ee],q)){Me=Le;break}}var Ie=[];try{for(var Oe=x(pe._children),le=Oe.next();!le.done;le=Oe.next())if(z(he=le.value,q)){if(_.Guard.isDocumentTypeNode(he))throw new A.HierarchyRequestError;Ie.push(he)}}catch(de){Q={error:de}}finally{try{le&&!le.done&&(ie=Oe.return)&&ie.call(Oe)}finally{if(Q)throw Q.error}}if(_.Guard.isCharacterDataNode(Se))(te=I.node_clone(fe))._data=E.characterData_substringData(fe,xe,P.tree_nodeLength(fe)-xe),B.mutation_append(te,ue);else if(Se!==null){var te=I.node_clone(Se);B.mutation_append(te,ue);var re=K(M.create_range([fe,xe],[Se,P.tree_nodeLength(Se)]));B.mutation_append(re,te)}try{for(var ne=x(Ie),ae=ne.next();!ae.done;ae=ne.next()){var he=ae.value,te=I.node_clone(he);B.mutation_append(te,ue)}}catch(de){se={error:de}}finally{try{ae&&!ae.done&&(oe=ne.return)&&oe.call(ne)}finally{if(se)throw se.error}}return _.Guard.isCharacterDataNode(Me)?((te=I.node_clone(ce))._data=E.characterData_substringData(ce,0,me),B.mutation_append(te,ue)):Me!==null&&(te=I.node_clone(Me),ue.append(te),re=W(M.create_range([Me,0],[ce,me])),B.mutation_append(re,te)),ue},m.range_insert=function(K,q){var Z,J;if(_.Guard.isProcessingInstructionNode(q._startNode)||_.Guard.isCommentNode(q._startNode)||_.Guard.isTextNode(q._startNode)&&q._startNode._parent===null||q._startNode===K)throw new A.HierarchyRequestError;var Q,ie=null;if(_.Guard.isTextNode(q._startNode))ie=q._startNode;else{var se=0;try{for(var oe=x(q._startNode._children),ue=oe.next();!ue.done;ue=oe.next()){var fe=ue.value;if(se===q._startOffset){ie=fe;break}se++}}catch(ce){Z={error:ce}}finally{try{ue&&!ue.done&&(J=oe.return)&&J.call(oe)}finally{if(Z)throw Z.error}}}if(ie===null)Q=q._startNode;else{if(ie._parent===null)throw new Error("Parent node is null.");Q=ie._parent}B.mutation_ensurePreInsertionValidity(K,Q,ie),_.Guard.isTextNode(q._startNode)&&(ie=F.text_split(q._startNode,q._startOffset)),K===ie&&(ie=K._nextSibling),K._parent!==null&&B.mutation_remove(K,K._parent);var xe=ie===null?P.tree_nodeLength(Q):P.tree_index(ie);_.Guard.isDocumentFragmentNode(K)?xe+=P.tree_nodeLength(K):xe++,B.mutation_preInsert(K,Q,ie),R(q)&&(q._end=[Q,xe])},m.range_getContainedNodes=function(K){var q;return(q={})[Symbol.iterator]=function(){var Z=K.commonAncestorContainer,J=P.tree_getFirstDescendantNode(Z);return{next:function(){for(;J&&!z(J,K);)J=P.tree_getNextDescendantNode(Z,J);if(J===null)return{done:!0,value:null};var Q={done:!1,value:J};return J=P.tree_getNextDescendantNode(Z,J),Q}}},q},m.range_getPartiallyContainedNodes=function(K){var q;return(q={})[Symbol.iterator]=function(){var Z=K.commonAncestorContainer,J=P.tree_getFirstDescendantNode(Z);return{next:function(){for(;J&&!G(J,K);)J=P.tree_getNextDescendantNode(Z,J);if(J===null)return{done:!0,value:null};var Q={done:!1,value:J};return J=P.tree_getNextDescendantNode(Z,J),Q}}},q}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(9);m.selectors_scopeMatchASelectorsString=function(g,w){throw new x.NotSupportedError}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(1),g=f(105);m.treeWalker_traverseChildren=function(w,C){for(var A=C?w._current._firstChild:w._current._lastChild;A!==null;){var _=g.traversal_filter(w,A);if(_===x.FilterResult.Accept)return w._current=A,A;if(_===x.FilterResult.Skip){var M=C?A._firstChild:A._lastChild;if(M!==null){A=M;continue}}for(;A!==null;){var P=C?A._nextSibling:A._previousSibling;if(P!==null){A=P;break}var D=A._parent;if(D===null||D===w._root||D===w._current)return null;A=D}}return null},m.treeWalker_traverseSiblings=function(w,C){var A=w._current;if(A===w._root)return null;for(;;){for(var _=C?A._nextSibling:A._previousSibling;_!==null;){A=_;var M=g.traversal_filter(w,A);if(M===x.FilterResult.Accept)return w._current=A,A;_=C?A._firstChild:A._lastChild,M!==x.FilterResult.Reject&&_!==null||(_=C?A._nextSibling:A._previousSibling)}if((A=A._parent)===null||A===w._root||g.traversal_filter(w,A)===x.FilterResult.Accept)return null}}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0}),m.nonEntityAmpersandRegex=/&(?![A-Za-z]+;|#\d+;)/g},function(s,m,f){f(89),f(74);var x,g=this&&this.__extends||(x=function(P,D){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var B in I)I.hasOwnProperty(B)&&(E[B]=I[B])})(P,D)},function(P,D){function E(){this.constructor=P}x(P,D),P.prototype=D===null?Object.create(D):(E.prototype=D.prototype,new E)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(2),C=f(1),A=f(50),_=f(3),M=function(P){function D(E,I){var B=P.call(this,E)||this;return B._indentation={},B._lengthToLastNewline=0,B._writerOptions=w.applyDefaults(I,{wellFormed:!1,headless:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),B}return g(D,P),D.prototype.serialize=function(E){return this._refs={suppressPretty:!1,emptyNode:!1,markup:""},E.nodeType!==C.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(E,this._writerOptions.wellFormed),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},D.prototype.declaration=function(E,I,B){this._beginLine(),this._refs.markup+='<?xml version="'+E+'"',I!==void 0&&(this._refs.markup+=' encoding="'+I+'"'),B!==void 0&&(this._refs.markup+=' standalone="'+(B?"yes":"no")+'"'),this._refs.markup+="?>",this._endLine()},D.prototype.docType=function(E,I,B){this._beginLine(),this._refs.markup+=I&&B?"<!DOCTYPE "+E+' PUBLIC "'+I+'" "'+B+'">':I?"<!DOCTYPE "+E+' PUBLIC "'+I+'">':B?"<!DOCTYPE "+E+' SYSTEM "'+B+'">':"<!DOCTYPE "+E+">",this._endLine()},D.prototype.openTagBegin=function(E){this._beginLine(),this._refs.markup+="<"+E},D.prototype.openTagEnd=function(E,I,B){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!I&&!B){for(var F=!0,R=!0,L=this.currentNode.firstChild,z=0,G=0;L;){if(_.Guard.isExclusiveTextNode(L))G++;else{if(!_.Guard.isCDATASectionNode(L)){F=!1,R=!1;break}z++}L.data!==""&&(R=!1),L=L.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&F&&(z<=1&&G===0||z===0),this._refs.emptyNode=R}(B||I||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+="></"+E+">":this._refs.markup+=B?" />":I||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?" />":"/>":">",this._endLine()},D.prototype.closeTag=function(E){this._refs.emptyNode||(this._beginLine(),this._refs.markup+="</"+E+">"),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},D.prototype.attribute=function(E,I){var B=E+'="'+I+'"';this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+B.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+B):this._refs.markup+=" "+B},D.prototype.text=function(E){E!==""&&(this._beginLine(),this._refs.markup+=E,this._endLine())},D.prototype.cdata=function(E){E!==""&&(this._beginLine(),this._refs.markup+="<![CDATA["+E+"]]>",this._endLine())},D.prototype.comment=function(E){this._beginLine(),this._refs.markup+="<!--"+E+"-->",this._endLine()},D.prototype.instruction=function(E,I){this._beginLine(),this._refs.markup+="<?"+(I===""?E:E+" "+I)+"?>",this._endLine()},D.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},D.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},D.prototype._indent=function(E){if(E<=0)return"";if(this._indentation[E]!==void 0)return this._indentation[E];var I=this._writerOptions.indent.repeat(E);return this._indentation[E]=I,I},D}(A.BaseWriter);m.XMLWriter=M},function(s,m,f){var x=f(47),g=f(35);s.exports="".repeat||function(w){var C=String(g(this)),A="",_=x(w);if(_<0||_==1/0)throw RangeError("Wrong number of repetitions");for(;_>0;(_>>>=1)&&(C+=C))1&_&&(A+=C);return A}},function(s,m,f){f(31),f(32),f(33),f(19),f(178),f(20),f(22),f(23);var x,g=this&&this.__extends||(x=function(M,P){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var I in E)E.hasOwnProperty(I)&&(D[I]=E[I])})(M,P)},function(M,P){function D(){this.constructor=M}x(M,P),M.prototype=P===null?Object.create(P):(D.prototype=P.prototype,new D)}),w=this&&this.__values||function(M){var P=typeof Symbol=="function"&&Symbol.iterator,D=P&&M[P],E=0;if(D)return D.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&E>=M.length&&(M=void 0),{value:M&&M[E++],done:!M}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var C=f(67),A=f(2),_=function(M){function P(D,E){var I=M.call(this,D)||this;return I._writerOptions=A.applyDefaults(E,{wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),I}return g(P,M),P.prototype.serialize=function(D){var E=A.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),I=new C.ObjectWriter(this._builderOptions,E).serialize(D);return this._beginLine(this._writerOptions,0)+this._convertObject(I,this._writerOptions)},P.prototype._convertObject=function(D,E,I){var B,F,R=this;I===void 0&&(I=0);var L="",z=this._isLeafNode(D);if(A.isArray(D)){L+="[";var G=D.length,W=0;try{for(var K=w(D),q=K.next();!q.done;q=K.next()){var Z=q.value;L+=this._endLine(E,I+1)+this._beginLine(E,I+1)+this._convertObject(Z,E,I+1),W<G-1&&(L+=","),W++}}catch(ie){B={error:ie}}finally{try{q&&!q.done&&(F=K.return)&&F.call(K)}finally{if(B)throw B.error}}L+=this._endLine(E,I)+this._beginLine(E,I),L+="]"}else if(A.isObject(D)){L+="{";var J=A.objectLength(D),Q=0;A.forEachObject(D,function(ie,se){z&&E.prettyPrint?L+=" ":L+=R._endLine(E,I+1)+R._beginLine(E,I+1),L+=R._key(ie),E.prettyPrint&&(L+=" "),L+=R._convertObject(se,E,I+1),Q<J-1&&(L+=","),Q++},this),z&&E.prettyPrint?L+=" ":L+=this._endLine(E,I)+this._beginLine(E,I),L+="}"}else L+=this._val(D);return L},P.prototype._beginLine=function(D,E){if(!D.prettyPrint)return"";var I=D.offset+E+1;return I>0?new Array(I).join(D.indent):""},P.prototype._endLine=function(D,E){return D.prettyPrint?D.newline:""},P.prototype._key=function(D){return'"'+D+'":'},P.prototype._val=function(D){return JSON.stringify(D)},P.prototype._isLeafNode=function(D){return this._descendantCount(D)<=1},P.prototype._descendantCount=function(D,E){var I=this;return E===void 0&&(E=0),A.isArray(D)?A.forEachArray(D,function(B){return E+=I._descendantCount(B,E)},this):A.isObject(D)?A.forEachObject(D,function(B,F){return E+=I._descendantCount(F,E)},this):E++,E},P}(f(50).BaseWriter);m.JSONWriter=_},function(s,m,f){f(31),f(32),f(33),f(19),f(178),f(89),f(20),f(22),f(23);var x,g=this&&this.__extends||(x=function(M,P){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var I in E)E.hasOwnProperty(I)&&(D[I]=E[I])})(M,P)},function(M,P){function D(){this.constructor=M}x(M,P),M.prototype=P===null?Object.create(P):(D.prototype=P.prototype,new D)}),w=this&&this.__values||function(M){var P=typeof Symbol=="function"&&Symbol.iterator,D=P&&M[P],E=0;if(D)return D.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&E>=M.length&&(M=void 0),{value:M&&M[E++],done:!M}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var C=f(67),A=f(2),_=function(M){function P(D,E){var I=M.call(this,D)||this;if(I._writerOptions=A.applyDefaults(E,{wellFormed:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),I._writerOptions.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(I._writerOptions.offset<0)throw new Error("YAML offset should be zero or a positive number.");return I}return g(P,M),P.prototype.serialize=function(D){var E=A.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),I=new C.ObjectWriter(this._builderOptions,E).serialize(D),B=this._beginLine(this._writerOptions,0)+"---"+this._endLine(this._writerOptions)+this._convertObject(I,this._writerOptions,0);return B.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(B=B.slice(0,-this._writerOptions.newline.length)),B},P.prototype._convertObject=function(D,E,I,B){var F,R,L=this;B===void 0&&(B=!1);var z="";if(A.isArray(D))try{for(var G=w(D),W=G.next();!W.done;W=G.next()){var K=W.value;z+=this._beginLine(E,I,!0),A.isObject(K)?A.isEmpty(K)?z+='""'+this._endLine(E):z+=this._convertObject(K,E,I,!0):z+=this._val(K)+this._endLine(E)}}catch(q){F={error:q}}finally{try{W&&!W.done&&(R=G.return)&&R.call(G)}finally{if(F)throw F.error}}else A.forEachObject(D,function(q,Z){B?(z+=L._key(q),B=!1):z+=L._beginLine(E,I)+L._key(q),A.isObject(Z)?A.isEmpty(Z)?z+=' ""'+L._endLine(E):z+=L._endLine(E)+L._convertObject(Z,E,I+1):z+=" "+L._val(Z)+L._endLine(E)},this);return z},P.prototype._beginLine=function(D,E,I){I===void 0&&(I=!1);var B=D.offset+E+1,F=new Array(B).join(D.indent);return I?F.substr(0,F.length-2)+"-"+F.substr(-1,1):F},P.prototype._endLine=function(D){return D.newline},P.prototype._key=function(D){return'"'+D+'":'},P.prototype._val=function(D){return JSON.stringify(D)},P}(f(50).BaseWriter);m.YAMLWriter=_},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0}),f(110).dom.setFeatures(!0);var x=f(110);m.DOMImplementation=x.DOMImplementation;var g=f(272);m.DOMParser=g.DOMParser;var w=f(275);m.XMLSerializer=w.XMLSerializer},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(3),g=f(0),w=function(){function C(){}return C.prototype.before=function(){for(var A=[],_=0;_<arguments.length;_++)A[_]=arguments[_];var M=x.Cast.asNode(this),P=M._parent;if(P!==null){for(var D=M._previousSibling,E=!0;E&&D;){E=!1;for(var I=0;I<A.length;I++){var B=A[I];if(B===D){D=D._previousSibling,E=!0;break}}}var F=g.parentNode_convertNodesIntoANode(A,M._nodeDocument);D=D===null?P._firstChild:D._nextSibling,g.mutation_preInsert(F,P,D)}},C.prototype.after=function(){for(var A=[],_=0;_<arguments.length;_++)A[_]=arguments[_];var M=x.Cast.asNode(this),P=M._parent;if(P){for(var D=M._nextSibling,E=!0;E&&D;){E=!1;for(var I=0;I<A.length;I++){var B=A[I];if(B===D){D=D._nextSibling,E=!0;break}}}var F=g.parentNode_convertNodesIntoANode(A,M._nodeDocument);g.mutation_preInsert(F,P,D)}},C.prototype.replaceWith=function(){for(var A=[],_=0;_<arguments.length;_++)A[_]=arguments[_];var M=x.Cast.asNode(this),P=M._parent;if(P){for(var D=M._nextSibling,E=!0;E&&D;){E=!1;for(var I=0;I<A.length;I++){var B=A[I];if(B===D){D=D._nextSibling,E=!0;break}}}var F=g.parentNode_convertNodesIntoANode(A,M._nodeDocument);M._parent===P?g.mutation_replace(M,F,P):g.mutation_preInsert(F,P,D)}},C.prototype.remove=function(){var A=x.Cast.asNode(this),_=A._parent;_&&g.mutation_remove(A,_)},C}();m.ChildNodeImpl=w},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=function(){};m.DocumentOrShadowRootImpl=x},function(s,m,f){var x=this&&this.__values||function(_){var M=typeof Symbol=="function"&&Symbol.iterator,P=M&&_[M],D=0;if(P)return P.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&D>=_.length&&(_=void 0),{value:_&&_[D++],done:!_}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(6),w=f(3),C=f(7),A=function(){function _(M){this._nodeList=[],this._recordQueue=[],this._callback=M;var P=g.dom.window;C.set.append(P._mutationObservers,this)}return _.prototype.observe=function(M,P){var D,E;if((P=P||{childList:!1,subtree:!1}).attributeOldValue===void 0&&P.attributeFilter===void 0||P.attributes!==void 0||(P.attributes=!0),P.characterDataOldValue!==void 0&&P.characterData===void 0&&(P.characterData=!0),!P.childList&&!P.attributes&&!P.characterData)throw new TypeError;if(P.attributeOldValue&&!P.attributes)throw new TypeError;if(P.attributeFilter!==void 0&&!P.attributes)throw new TypeError;if(P.characterDataOldValue&&!P.characterData)throw new TypeError;var I=!1,B=P,F=function(G){var W,K;if(G.observer===R){I=!0;try{for(var q=(W=void 0,x(R._nodeList)),Z=q.next();!Z.done;Z=q.next()){var J=Z.value;C.list.remove(J._registeredObserverList,function(Q){return w.Guard.isTransientRegisteredObserver(Q)&&Q.source===G})}}catch(Q){W={error:Q}}finally{try{Z&&!Z.done&&(K=q.return)&&K.call(q)}finally{if(W)throw W.error}}G.options=B}},R=this;try{for(var L=x(M._registeredObserverList),z=L.next();!z.done;z=L.next())F(z.value)}catch(G){D={error:G}}finally{try{z&&!z.done&&(E=L.return)&&E.call(L)}finally{if(D)throw D.error}}I||(M._registeredObserverList.push({observer:this,options:P}),this._nodeList.push(M))},_.prototype.disconnect=function(){var M,P,D=this;try{for(var E=x(this._nodeList),I=E.next();!I.done;I=E.next()){var B=I.value;C.list.remove(B._registeredObserverList,function(F){return F.observer===D})}}catch(F){M={error:F}}finally{try{I&&!I.done&&(P=E.return)&&P.call(E)}finally{if(M)throw M.error}}this._recordQueue=[]},_.prototype.takeRecords=function(){var M=this._recordQueue;return this._recordQueue=[],M},_}();m.MutationObserverImpl=A},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(3),g=function(){function w(){}return Object.defineProperty(w.prototype,"previousElementSibling",{get:function(){for(var C=x.Cast.asNode(this)._previousSibling;C;){if(x.Guard.isElementNode(C))return C;C=C._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"nextElementSibling",{get:function(){for(var C=x.Cast.asNode(this)._nextSibling;C;){if(x.Guard.isElementNode(C))return C;C=C._nextSibling}return null},enumerable:!0,configurable:!0}),w}();m.NonDocumentTypeChildNodeImpl=g},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(3),g=f(0),w=function(){function C(){}return C.prototype.getElementById=function(A){for(var _=g.tree_getFirstDescendantNode(x.Cast.asNode(this),!1,!1,function(M){return x.Guard.isElementNode(M)});_!==null;){if(_._uniqueIdentifier===A)return _;_=g.tree_getNextDescendantNode(x.Cast.asNode(this),_,!1,!1,function(M){return x.Guard.isElementNode(M)})}return null},C}();m.NonElementParentNodeImpl=w},function(s,m,f){var x=this&&this.__values||function(A){var _=typeof Symbol=="function"&&Symbol.iterator,M=_&&A[_],P=0;if(M)return M.call(A);if(A&&typeof A.length=="number")return{next:function(){return A&&P>=A.length&&(A=void 0),{value:A&&A[P++],done:!A}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(3),w=f(0),C=function(){function A(){}return Object.defineProperty(A.prototype,"children",{get:function(){return w.create_htmlCollection(g.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"firstElementChild",{get:function(){for(var _=g.Cast.asNode(this)._firstChild;_;){if(g.Guard.isElementNode(_))return _;_=_._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"lastElementChild",{get:function(){for(var _=g.Cast.asNode(this)._lastChild;_;){if(g.Guard.isElementNode(_))return _;_=_._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"childElementCount",{get:function(){var _,M,P=0;try{for(var D=x(g.Cast.asNode(this)._children),E=D.next();!E.done;E=D.next()){var I=E.value;g.Guard.isElementNode(I)&&P++}}catch(B){_={error:B}}finally{try{E&&!E.done&&(M=D.return)&&M.call(D)}finally{if(_)throw _.error}}return P},enumerable:!0,configurable:!0}),A.prototype.prepend=function(){for(var _=[],M=0;M<arguments.length;M++)_[M]=arguments[M];var P=g.Cast.asNode(this),D=w.parentNode_convertNodesIntoANode(_,P._nodeDocument);w.mutation_preInsert(D,P,P._firstChild)},A.prototype.append=function(){for(var _=[],M=0;M<arguments.length;M++)_[M]=arguments[M];var P=g.Cast.asNode(this),D=w.parentNode_convertNodesIntoANode(_,P._nodeDocument);w.mutation_append(D,P)},A.prototype.querySelector=function(_){var M=g.Cast.asNode(this),P=w.selectors_scopeMatchASelectorsString(_,M);return P.length===0?null:P[0]},A.prototype.querySelectorAll=function(_){var M=g.Cast.asNode(this),P=w.selectors_scopeMatchASelectorsString(_,M);return w.create_nodeListStatic(M,P)},A}();m.ParentNodeImpl=C},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(0),g=function(){function w(){}return Object.defineProperty(w.prototype,"_name",{get:function(){return this.__name||""},set:function(C){this.__name=C},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"_assignedSlot",{get:function(){return this.__assignedSlot||null},set:function(C){this.__assignedSlot=C},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"assignedSlot",{get:function(){return x.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),w}();m.SlotableImpl=g},function(s,m,f){var x,g=this&&this.__extends||(x=function(M,P){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var I in E)E.hasOwnProperty(I)&&(D[I]=E[I])})(M,P)},function(M,P){function D(){this.constructor=M}x(M,P),M.prototype=P===null?Object.create(P):(D.prototype=P.prototype,new D)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(102),C=f(9),A=f(3),_=function(M){function P(D){var E=M.call(this)||this;if(A.Guard.isDocumentTypeNode(D.startContainer)||A.Guard.isAttrNode(D.startContainer)||A.Guard.isDocumentTypeNode(D.endContainer)||A.Guard.isAttrNode(D.endContainer))throw new C.InvalidNodeTypeError;return E._start=[D.startContainer,D.startOffset],E._end=[D.endContainer,D.endOffset],E}return g(P,M),P}(w.AbstractRangeImpl);m.StaticRangeImpl=_},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(273);m.DOMParser=x.DOMParserImpl},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(0),g=f(274),w=function(){function C(){}return C.prototype.parseFromString=function(A,_){if(_==="text/html")throw new Error("HTML parser not implemented.");try{return(M=new g.XMLParserImpl().parse(A))._contentType=_,M}catch(I){var M,P="http://www.mozilla.org/newlayout/xml/parsererror.xml",D=(M=x.create_xmlDocument()).createElementNS(P,"parsererror"),E=M.createElementNS(P,"error");return E.setAttribute("message",I.message),D.appendChild(E),M.appendChild(D),M}},C}();m.DOMParserImpl=w},function(s,m,f){var x=this&&this.__read||function(D,E){var I=typeof Symbol=="function"&&D[Symbol.iterator];if(!I)return D;var B,F,R=I.call(D),L=[];try{for(;(E===void 0||E-- >0)&&!(B=R.next()).done;)L.push(B.value)}catch(z){F={error:z}}finally{try{B&&!B.done&&(I=R.return)&&I.call(R)}finally{if(F)throw F.error}}return L},g=this&&this.__values||function(D){var E=typeof Symbol=="function"&&Symbol.iterator,I=E&&D[E],B=0;if(I)return I.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&B>=D.length&&(D=void 0),{value:D&&D[B++],done:!D}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var w=f(180),C=f(111),A=f(7),_=f(0),M=f(69),P=function(){function D(){}return D.prototype.parse=function(E){for(var I,B,F,R,L=new w.XMLStringLexer(E,{skipWhitespaceOnlyText:!0}),z=_.create_document(),G=z,W=L.nextToken();W.type!==C.TokenType.EOF;){switch(W.type){case C.TokenType.Declaration:var K=W;if(K.version!=="1.0")throw new Error("Invalid xml version: "+K.version);break;case C.TokenType.DocType:var q=W;if(!_.xml_isPubidChar(q.pubId))throw new Error("DocType public identifier does not match PubidChar construct.");if(!_.xml_isLegalChar(q.sysId)||q.sysId.indexOf('"')!==-1&&q.sysId.indexOf("'")!==-1)throw new Error("DocType system identifier contains invalid characters.");G.appendChild(z.implementation.createDocumentType(q.name,q.pubId,q.sysId));break;case C.TokenType.CDATA:var Z=W;if(!_.xml_isLegalChar(Z.data)||Z.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters.");G.appendChild(z.createCDATASection(Z.data));break;case C.TokenType.Comment:var J=W;if(!_.xml_isLegalChar(J.data)||J.data.indexOf("--")!==-1||J.data.endsWith("-"))throw new Error("Comment data contains invalid characters.");G.appendChild(z.createComment(J.data));break;case C.TokenType.PI:var Q=W;if(Q.target.indexOf(":")!==-1||/^xml$/i.test(Q.target))throw new Error("Processing instruction target contains invalid characters.");if(!_.xml_isLegalChar(Q.data)||Q.data.indexOf("?>")!==-1)throw new Error("Processing instruction data contains invalid characters.");G.appendChild(z.createProcessingInstruction(Q.target,Q.data));break;case C.TokenType.Text:var ie=W;if(!_.xml_isLegalChar(ie.data))throw new Error("Text data contains invalid characters.");G.appendChild(z.createTextNode(this._decodeText(ie.data)));break;case C.TokenType.Element:var se=W,oe=x(_.namespace_extractQName(se.name),2),ue=oe[0],fe=oe[1];if(fe.indexOf(":")!==-1||!_.xml_isName(fe))throw new Error("Node local name contains invalid characters.");if(ue==="xmlns")throw new Error("An element cannot have the 'xmlns' prefix.");var xe=G.lookupNamespaceURI(ue),ce={};try{for(var me=(I=void 0,g(se.attributes)),pe=me.next();!pe.done;pe=me.next()){var Se=x(pe.value,2),Ae=Se[0],_e=Se[1];if(Ae==="xmlns")xe=_e;else{var Me=x(_.namespace_extractQName(Ae),2),ve=Me[0],Ee=Me[1];ve==="xmlns"&&(Ee===ue&&(xe=_e),ce[Ee]=_e)}}}catch(ae){I={error:ae}}finally{try{pe&&!pe.done&&(B=me.return)&&B.call(me)}finally{if(I)throw I.error}}var Le=xe!==null?z.createElementNS(xe,se.name):z.createElement(se.name);G.appendChild(Le);var Ie=new M.LocalNameSet;try{for(var Oe=(F=void 0,g(se.attributes)),le=Oe.next();!le.done;le=Oe.next()){var te=x(le.value,2),re=(Ae=te[0],_e=te[1],x(_.namespace_extractQName(Ae),2)),ne=(ve=re[0],Ee=re[1],null);if(ve==="xmlns"||ve===null&&Ee==="xmlns"?ne=A.namespace.XMLNS:(ne=Le.lookupNamespaceURI(ve))!==null&&Le.isDefaultNamespace(ne)?ne=null:ne===null&&ve!==null&&(ne=ce[ve]||null),Ie.has(ne,Ee))throw new Error("Element contains duplicate attributes.");if(Ie.set(ne,Ee),ne===A.namespace.XMLNS&&_e===A.namespace.XMLNS)throw new Error("XMLNS namespace is reserved.");if(Ee.indexOf(":")!==-1||!_.xml_isName(Ee))throw new Error("Attribute local name contains invalid characters.");if(ve==="xmlns"&&_e==="")throw new Error("Empty XML namespace is not allowed.");ne!==null?Le.setAttributeNS(ne,Ae,this._decodeAttributeValue(_e)):Le.setAttribute(Ae,this._decodeAttributeValue(_e))}}catch(ae){F={error:ae}}finally{try{le&&!le.done&&(R=Oe.return)&&R.call(Oe)}finally{if(F)throw F.error}}se.selfClosing||(G=Le);break;case C.TokenType.ClosingTag:if(W.name!==G.nodeName)throw new Error("Closing tag name does not match opening tag name.");G._parent&&(G=G._parent)}W=L.nextToken()}return z},D.prototype._decodeText=function(E){return E==null?E:E.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},D.prototype._decodeAttributeValue=function(E){return E==null?E:E.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},D}();m.XMLParserImpl=P},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(276);m.XMLSerializer=x.XMLSerializerImpl},function(s,m,f){var x=this&&this.__values||function(D){var E=typeof Symbol=="function"&&Symbol.iterator,I=E&&D[E],B=0;if(I)return I.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&B>=D.length&&(D=void 0),{value:D&&D[B++],done:!D}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var g=f(1),w=f(69),C=f(95),A=f(9),_=f(7),M=f(0),P=function(){function D(){}return D.prototype.serializeToString=function(E){return this._xmlSerialization(E,!1)},D.prototype._xmlSerialization=function(E,I){if(E._nodeDocument===void 0||E._nodeDocument._hasNamespaces){var B=new C.NamespacePrefixMap;B.set("xml",_.namespace.XML);try{return this._serializeNodeNS(E,null,B,{value:1},I)}catch{throw new A.InvalidStateError}}else try{return this._serializeNode(E,I)}catch{throw new A.InvalidStateError}},D.prototype._serializeNodeNS=function(E,I,B,F,R){switch(E.nodeType){case g.NodeType.Element:return this._serializeElementNS(E,I,B,F,R);case g.NodeType.Document:return this._serializeDocumentNS(E,I,B,F,R);case g.NodeType.Comment:return this._serializeComment(E,R);case g.NodeType.Text:return this._serializeText(E,R);case g.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(E,I,B,F,R);case g.NodeType.DocumentType:return this._serializeDocumentType(E,R);case g.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(E,R);case g.NodeType.CData:return this._serializeCData(E,R);default:throw new Error("Unknown node type: "+E.nodeType)}},D.prototype._serializeNode=function(E,I){switch(E.nodeType){case g.NodeType.Element:return this._serializeElement(E,I);case g.NodeType.Document:return this._serializeDocument(E,I);case g.NodeType.Comment:return this._serializeComment(E,I);case g.NodeType.Text:return this._serializeText(E,I);case g.NodeType.DocumentFragment:return this._serializeDocumentFragment(E,I);case g.NodeType.DocumentType:return this._serializeDocumentType(E,I);case g.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(E,I);case g.NodeType.CData:return this._serializeCData(E,I);default:throw new Error("Unknown node type: "+E.nodeType)}},D.prototype._serializeElementNS=function(E,I,B,F,R){var L,z;if(R&&(E.localName.indexOf(":")!==-1||!M.xml_isName(E.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var G="<",W="",K=!1,q=!1,Z=B.copy(),J={},Q=this._recordNamespaceInformation(E,Z,J),ie=I,se=E.namespaceURI;if(ie===se)Q!==null&&(q=!0),G+=W=se===_.namespace.XML?"xml:"+E.localName:E.localName;else{var oe=E.prefix,ue=null;if(oe===null&&se===Q||(ue=Z.get(oe,se)),oe==="xmlns"){if(R)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");ue=oe}ue!==null?(W=ue+":"+E.localName,Q!==null&&Q!==_.namespace.XML&&(ie=Q||null),G+=W):oe!==null?(oe in J&&(oe=this._generatePrefix(se,Z,F)),Z.set(oe,se),G+=W+=oe+":"+E.localName,G+=" xmlns:"+oe+'="'+this._serializeAttributeValue(se,R)+'"',Q!==null&&(ie=Q||null)):Q===null||Q!==null&&Q!==se?(q=!0,ie=se,G+=W+=E.localName,G+=' xmlns="'+this._serializeAttributeValue(se,R)+'"'):(ie=se,G+=W+=E.localName)}G+=this._serializeAttributesNS(E,Z,F,J,q,R);var fe=se===_.namespace.HTML;if(fe&&E.childNodes.length===0&&D._VoidElementNames.has(E.localName)?(G+=" /",K=!0):fe||E.childNodes.length!==0||(G+="/",K=!0),G+=">",K)return G;if(!(fe&&E.localName==="template"))try{for(var xe=x(E._children||E.childNodes),ce=xe.next();!ce.done;ce=xe.next()){var me=ce.value;G+=this._serializeNodeNS(me,ie,Z,F,R)}}catch(pe){L={error:pe}}finally{try{ce&&!ce.done&&(z=xe.return)&&z.call(xe)}finally{if(L)throw L.error}}return G+="</"+W+">"},D.prototype._serializeDocumentNS=function(E,I,B,F,R){var L,z;if(R&&E.documentElement===null)throw new Error("Missing document element (well-formed required).");var G="";try{for(var W=x(E._children||E.childNodes),K=W.next();!K.done;K=W.next()){var q=K.value;G+=this._serializeNodeNS(q,I,B,F,R)}}catch(Z){L={error:Z}}finally{try{K&&!K.done&&(z=W.return)&&z.call(W)}finally{if(L)throw L.error}}return G},D.prototype._serializeComment=function(E,I){if(I&&(!M.xml_isLegalChar(E.data)||E.data.indexOf("--")!==-1||E.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");return"<!--"+E.data+"-->"},D.prototype._serializeText=function(E,I){if(I&&!M.xml_isLegalChar(E.data))throw new Error("Text data contains invalid characters (well-formed required).");for(var B="",F=0;F<E.data.length;F++){var R=E.data[F];B+=R==="&"?"&amp;":R==="<"?"&lt;":R===">"?"&gt;":R}return B},D.prototype._serializeDocumentFragmentNS=function(E,I,B,F,R){var L,z,G="";try{for(var W=x(E._children||E.childNodes),K=W.next();!K.done;K=W.next()){var q=K.value;G+=this._serializeNodeNS(q,I,B,F,R)}}catch(Z){L={error:Z}}finally{try{K&&!K.done&&(z=W.return)&&z.call(W)}finally{if(L)throw L.error}}return G},D.prototype._serializeDocumentType=function(E,I){if(I&&!M.xml_isPubidChar(E.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(I&&(!M.xml_isLegalChar(E.systemId)||E.systemId.indexOf('"')!==-1&&E.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");return E.publicId&&E.systemId?"<!DOCTYPE "+E.name+' PUBLIC "'+E.publicId+'" "'+E.systemId+'">':E.publicId?"<!DOCTYPE "+E.name+' PUBLIC "'+E.publicId+'">':E.systemId?"<!DOCTYPE "+E.name+' SYSTEM "'+E.systemId+'">':"<!DOCTYPE "+E.name+">"},D.prototype._serializeProcessingInstruction=function(E,I){if(I&&(E.target.indexOf(":")!==-1||/^xml$/i.test(E.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(I&&(!M.xml_isLegalChar(E.data)||E.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");return"<?"+(E.data===""?E.target:E.target+" "+E.data)+"?>"},D.prototype._serializeCData=function(E,I){if(I&&E.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");return"<![CDATA["+E.data+"]]>"},D.prototype._serializeAttributesNS=function(E,I,B,F,R,L){var z,G,W="",K=L?new w.LocalNameSet:void 0;try{for(var q=x(E.attributes),Z=q.next();!Z.done;Z=q.next()){var J=Z.value;if(R||L||J.namespaceURI!==null){if(L&&K&&K.has(J.namespaceURI,J.localName))throw new Error("Element contains duplicate attributes (well-formed required).");L&&K&&K.set(J.namespaceURI,J.localName);var Q=J.namespaceURI,ie=null;if(Q!==null)if(ie=I.get(J.prefix,Q),Q===_.namespace.XMLNS){if(J.value===_.namespace.XML||J.prefix===null&&R||J.prefix!==null&&(!(J.localName in F)||F[J.localName]!==J.value)&&I.has(J.localName,J.value))continue;if(L&&J.value===_.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(L&&J.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");J.prefix==="xmlns"&&(ie="xmlns")}else ie===null&&(W+=" xmlns:"+(ie=J.prefix===null||I.hasPrefix(J.prefix)&&!I.has(J.prefix,Q)?this._generatePrefix(Q,I,B):J.prefix)+'="'+this._serializeAttributeValue(Q,L)+'"');if(W+=" ",ie!==null&&(W+=ie+":"),L&&(J.localName.indexOf(":")!==-1||!M.xml_isName(J.localName)||J.localName==="xmlns"&&Q===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");W+=J.localName+'="'+this._serializeAttributeValue(J.value,L)+'"'}else W+=" "+J.localName+'="'+this._serializeAttributeValue(J.value,L)+'"'}}catch(se){z={error:se}}finally{try{Z&&!Z.done&&(G=q.return)&&G.call(q)}finally{if(z)throw z.error}}return W},D.prototype._recordNamespaceInformation=function(E,I,B){var F,R,L=null;try{for(var z=x(E.attributes),G=z.next();!G.done;G=z.next()){var W=G.value,K=W.namespaceURI,q=W.prefix;if(K===_.namespace.XMLNS){if(q===null){L=W.value;continue}var Z=W.localName,J=W.value;if(J===_.namespace.XML||(J===""&&(J=null),I.has(Z,J)))continue;I.set(Z,J),B[Z]=J||""}}}catch(Q){F={error:Q}}finally{try{G&&!G.done&&(R=z.return)&&R.call(z)}finally{if(F)throw F.error}}return L},D.prototype._generatePrefix=function(E,I,B){var F="ns"+B.value;return B.value++,I.set(F,E),F},D.prototype._serializeAttributeValue=function(E,I){if(I&&E!==null&&!M.xml_isLegalChar(E))throw new Error("Invalid characters in attribute value.");if(E===null)return"";for(var B="",F=0;F<E.length;F++){var R=E[F];B+=R==='"'?"&quot;":R==="&"?"&amp;":R==="<"?"&lt;":R===">"?"&gt;":R}return B},D.prototype._serializeElement=function(E,I){var B,F;if(I&&(E.localName.indexOf(":")!==-1||!M.xml_isName(E.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var R=!1,L=E.localName,z="<"+L;if(z+=this._serializeAttributes(E,I),E._children.size===0&&(z+="/",R=!0),z+=">",R)return z;try{for(var G=x(E._children),W=G.next();!W.done;W=G.next()){var K=W.value;z+=this._serializeNode(K,I)}}catch(q){B={error:q}}finally{try{W&&!W.done&&(F=G.return)&&F.call(G)}finally{if(B)throw B.error}}return z+="</"+L+">"},D.prototype._serializeDocument=function(E,I){var B,F;if(I&&E.documentElement===null)throw new Error("Missing document element (well-formed required).");var R="";try{for(var L=x(E._children),z=L.next();!z.done;z=L.next()){var G=z.value;R+=this._serializeNode(G,I)}}catch(W){B={error:W}}finally{try{z&&!z.done&&(F=L.return)&&F.call(L)}finally{if(B)throw B.error}}return R},D.prototype._serializeDocumentFragment=function(E,I){var B,F,R="";try{for(var L=x(E._children),z=L.next();!z.done;z=L.next()){var G=z.value;R+=this._serializeNode(G,I)}}catch(W){B={error:W}}finally{try{z&&!z.done&&(F=L.return)&&F.call(L)}finally{if(B)throw B.error}}return R},D.prototype._serializeAttributes=function(E,I){var B,F,R="",L=I?{}:void 0;try{for(var z=x(E.attributes),G=z.next();!G.done;G=z.next()){var W=G.value;if(I&&L&&W.localName in L)throw new Error("Element contains duplicate attributes (well-formed required).");if(I&&L&&(L[W.localName]=!0),I&&(W.localName.indexOf(":")!==-1||!M.xml_isName(W.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");R+=" "+W.localName+'="'+this._serializeAttributeValue(W.value,I)+'"'}}catch(K){B={error:K}}finally{try{G&&!G.done&&(F=z.return)&&F.call(z)}finally{if(B)throw B.error}}return R},D._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),D}();m.XMLSerializerImpl=P},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(278);m.XMLReader=x.XMLReader;var g=f(112);m.ObjectReader=g.ObjectReader;var w=f(281);m.JSONReader=w.JSONReader;var C=f(282);m.YAMLReader=C.YAMLReader},function(s,m,f){f(31),f(32),f(33),f(19),f(65),f(20),f(22),f(23);var x,g=this&&this.__extends||(x=function(I,B){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,R){F.__proto__=R}||function(F,R){for(var L in R)R.hasOwnProperty(L)&&(F[L]=R[L])})(I,B)},function(I,B){function F(){this.constructor=I}x(I,B),I.prototype=B===null?Object.create(B):(F.prototype=B.prototype,new F)}),w=this&&this.__read||function(I,B){var F=typeof Symbol=="function"&&I[Symbol.iterator];if(!F)return I;var R,L,z=F.call(I),G=[];try{for(;(B===void 0||B-- >0)&&!(R=z.next()).done;)G.push(R.value)}catch(W){L={error:W}}finally{try{R&&!R.done&&(F=z.return)&&F.call(z)}finally{if(L)throw L.error}}return G},C=this&&this.__values||function(I){var B=typeof Symbol=="function"&&Symbol.iterator,F=B&&I[B],R=0;if(F)return F.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&R>=I.length&&(I=void 0),{value:I&&I[R++],done:!I}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(m,"__esModule",{value:!0});var A=f(180),_=f(111),M=f(1),P=f(7),D=f(0),E=function(I){function B(){return I!==null&&I.apply(this,arguments)||this}return g(B,I),B.prototype._parse=function(F,R){for(var L,z,G,W,K=new A.XMLStringLexer(R,{skipWhitespaceOnlyText:this._builderOptions.skipWhitespaceOnlyText}),q=F,Z=F,J=K.nextToken();J.type!==_.TokenType.EOF;){switch(J.type){case _.TokenType.Declaration:var Q=J,ie=this.sanitize(Q.version);if(ie!=="1.0")throw new Error("Invalid xml version: "+ie);var se={version:ie};Q.encoding&&(se.encoding=this.sanitize(Q.encoding)),Q.standalone&&(se.standalone=this.sanitize(Q.standalone)==="yes"),Z.set(se);break;case _.TokenType.DocType:var oe=J;Z=this.docType(Z,this.sanitize(oe.name),this.sanitize(oe.pubId),this.sanitize(oe.sysId))||Z;break;case _.TokenType.CDATA:var ue=J;Z=this.cdata(Z,this.sanitize(ue.data))||Z;break;case _.TokenType.Comment:var fe=J;Z=this.comment(Z,this.sanitize(fe.data))||Z;break;case _.TokenType.PI:var xe=J;Z=this.instruction(Z,this.sanitize(xe.target),this.sanitize(xe.data))||Z;break;case _.TokenType.Text:if(Z.node.nodeType===M.NodeType.Document)break;var ce=J;Z=this.text(Z,this._decodeText(this.sanitize(ce.data)))||Z;break;case _.TokenType.Element:var me=J,pe=this.sanitize(me.name),Se=w(D.namespace_extractQName(pe),1)[0],Ae=Z.node.lookupNamespaceURI(Se),_e={};try{for(var Me=(L=void 0,C(me.attributes)),ve=Me.next();!ve.done;ve=Me.next()){var Ee=w(ve.value,2),Le=Ee[0],Ie=Ee[1];if(Le=this.sanitize(Le),Ie=this.sanitize(Ie),Le==="xmlns")Ae=Ie;else{var Oe=w(D.namespace_extractQName(Le),2),le=Oe[0],te=Oe[1];le==="xmlns"&&(te===Se&&(Ae=Ie),_e[te]=Ie)}}}catch(Ce){L={error:Ce}}finally{try{ve&&!ve.done&&(z=Me.return)&&z.call(Me)}finally{if(L)throw L.error}}var re=Ae!==null?this.element(Z,Ae,pe):this.element(Z,void 0,pe);if(re===void 0)break;Z.node===F.node&&(q=re);try{for(var ne=(G=void 0,C(me.attributes)),ae=ne.next();!ae.done;ae=ne.next()){var he=w(ae.value,2);Le=he[0],Ie=he[1],Le=this.sanitize(Le),Ie=this.sanitize(Ie);var de=w(D.namespace_extractQName(Le),2),be=(le=de[0],te=de[1],null);le==="xmlns"||le===null&&te==="xmlns"?be=P.namespace.XMLNS:(be=re.node.lookupNamespaceURI(le))!==null&&re.node.isDefaultNamespace(be)?be=null:be===null&&le!==null&&(be=_e[le]||null),be!==null?this.attribute(re,be,Le,this._decodeAttributeValue(Ie)):this.attribute(re,void 0,Le,this._decodeAttributeValue(Ie))}}catch(Ce){G={error:Ce}}finally{try{ae&&!ae.done&&(W=ne.return)&&W.call(ne)}finally{if(G)throw G.error}}me.selfClosing||(Z=re);break;case _.TokenType.ClosingTag:Z.node.parentNode&&(Z=Z.up())}J=K.nextToken()}return q},B}(f(75).BaseReader);m.XMLReader=E},function(s,m,f){var x=f(4),g=f(280);x({target:"Object",stat:!0,forced:Object.assign!==g},{assign:g})},function(s,m,f){var x=f(16),g=f(8),w=f(61),C=f(85),A=f(79),_=f(27),M=f(41),P=Object.assign,D=Object.defineProperty;s.exports=!P||g(function(){if(x&&P({b:1},P(D({},"a",{enumerable:!0,get:function(){D(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var E={},I={},B=Symbol();return E[B]=7,"abcdefghijklmnopqrst".split("").forEach(function(F){I[F]=F}),P({},E)[B]!=7||w(P({},I)).join("")!="abcdefghijklmnopqrst"})?function(E,I){for(var B=_(E),F=arguments.length,R=1,L=C.f,z=A.f;F>R;)for(var G,W=M(arguments[R++]),K=L?w(W).concat(L(W)):w(W),q=K.length,Z=0;q>Z;)G=K[Z++],x&&!z.call(W,G)||(B[G]=W[G]);return B}:P},function(s,m,f){var x,g=this&&this.__extends||(x=function(A,_){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,P){M.__proto__=P}||function(M,P){for(var D in P)P.hasOwnProperty(D)&&(M[D]=P[D])})(A,_)},function(A,_){function M(){this.constructor=A}x(A,_),A.prototype=_===null?Object.create(_):(M.prototype=_.prototype,new M)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(112),C=function(A){function _(){return A!==null&&A.apply(this,arguments)||this}return g(_,A),_.prototype._parse=function(M,P){return new w.ObjectReader(this._builderOptions).parse(M,JSON.parse(P))},_}(f(75).BaseReader);m.JSONReader=C},function(s,m,f){var x,g=this&&this.__extends||(x=function(M,P){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var I in E)E.hasOwnProperty(I)&&(D[I]=E[I])})(M,P)},function(M,P){function D(){this.constructor=M}x(M,P),M.prototype=P===null?Object.create(P):(D.prototype=P.prototype,new D)});Object.defineProperty(m,"__esModule",{value:!0});var w=f(112),C=f(75),A=f(283),_=function(M){function P(){return M!==null&&M.apply(this,arguments)||this}return g(P,M),P.prototype._parse=function(D,E){var I=A.safeLoad(E);if(I===void 0)throw new Error("Unable to parse YAML document.");return new w.ObjectReader(this._builderOptions).parse(D,I)},P}(C.BaseReader);m.YAMLReader=_},function(s,m,f){var x=f(284);s.exports=x},function(s,m,f){var x=f(285),g=f(304);function w(C){return function(){throw new Error("Function "+C+" is deprecated and cannot be used.")}}s.exports.Type=f(10),s.exports.Schema=f(39),s.exports.FAILSAFE_SCHEMA=f(113),s.exports.JSON_SCHEMA=f(182),s.exports.CORE_SCHEMA=f(181),s.exports.DEFAULT_SAFE_SCHEMA=f(54),s.exports.DEFAULT_FULL_SCHEMA=f(76),s.exports.load=x.load,s.exports.loadAll=x.loadAll,s.exports.safeLoad=x.safeLoad,s.exports.safeLoadAll=x.safeLoadAll,s.exports.dump=g.dump,s.exports.safeDump=g.safeDump,s.exports.YAMLException=f(53),s.exports.MINIMAL_SCHEMA=f(113),s.exports.SAFE_SCHEMA=f(54),s.exports.DEFAULT_SCHEMA=f(76),s.exports.scan=w("scan"),s.exports.parse=w("parse"),s.exports.compose=w("compose"),s.exports.addConstructor=w("addConstructor")},function(s,m,f){var x=f(38),g=f(53),w=f(286),C=f(54),A=f(76),_=Object.prototype.hasOwnProperty,M=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,P=/[\x85\u2028\u2029]/,D=/[,\[\]\{\}]/,E=/^(?:!|!!|![a-z\-]+!)$/i,I=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function B(te){return Object.prototype.toString.call(te)}function F(te){return te===10||te===13}function R(te){return te===9||te===32}function L(te){return te===9||te===32||te===10||te===13}function z(te){return te===44||te===91||te===93||te===123||te===125}function G(te){var re;return 48<=te&&te<=57?te-48:97<=(re=32|te)&&re<=102?re-97+10:-1}function W(te){return te===48?"\0":te===97?"\x07":te===98?"\b":te===116||te===9?"	":te===110?`
`:te===118?"\v":te===102?"\f":te===114?"\r":te===101?"\x1B":te===32?" ":te===34?'"':te===47?"/":te===92?"\\":te===78?"":te===95?"":te===76?"\u2028":te===80?"\u2029":""}function K(te){return te<=65535?String.fromCharCode(te):String.fromCharCode(55296+(te-65536>>10),56320+(te-65536&1023))}for(var q=new Array(256),Z=new Array(256),J=0;J<256;J++)q[J]=W(J)?1:0,Z[J]=W(J);function Q(te,re){this.input=te,this.filename=re.filename||null,this.schema=re.schema||A,this.onWarning=re.onWarning||null,this.legacy=re.legacy||!1,this.json=re.json||!1,this.listener=re.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=te.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function ie(te,re){return new g(re,new w(te.filename,te.input,te.position,te.line,te.position-te.lineStart))}function se(te,re){throw ie(te,re)}function oe(te,re){te.onWarning&&te.onWarning.call(null,ie(te,re))}var ue={YAML:function(te,re,ne){var ae,he,de;te.version!==null&&se(te,"duplication of %YAML directive"),ne.length!==1&&se(te,"YAML directive accepts exactly one argument"),(ae=/^([0-9]+)\.([0-9]+)$/.exec(ne[0]))===null&&se(te,"ill-formed argument of the YAML directive"),he=parseInt(ae[1],10),de=parseInt(ae[2],10),he!==1&&se(te,"unacceptable YAML version of the document"),te.version=ne[0],te.checkLineBreaks=de<2,de!==1&&de!==2&&oe(te,"unsupported YAML version of the document")},TAG:function(te,re,ne){var ae,he;ne.length!==2&&se(te,"TAG directive accepts exactly two arguments"),ae=ne[0],he=ne[1],E.test(ae)||se(te,"ill-formed tag handle (first argument) of the TAG directive"),_.call(te.tagMap,ae)&&se(te,'there is a previously declared suffix for "'+ae+'" tag handle'),I.test(he)||se(te,"ill-formed tag prefix (second argument) of the TAG directive"),te.tagMap[ae]=he}};function fe(te,re,ne,ae){var he,de,be,Ce;if(re<ne){if(Ce=te.input.slice(re,ne),ae)for(he=0,de=Ce.length;he<de;he+=1)(be=Ce.charCodeAt(he))===9||32<=be&&be<=1114111||se(te,"expected valid JSON character");else M.test(Ce)&&se(te,"the stream contains non-printable characters");te.result+=Ce}}function xe(te,re,ne,ae){var he,de,be,Ce;for(x.isObject(ne)||se(te,"cannot merge mappings; the provided source object is unacceptable"),be=0,Ce=(he=Object.keys(ne)).length;be<Ce;be+=1)de=he[be],_.call(re,de)||(re[de]=ne[de],ae[de]=!0)}function ce(te,re,ne,ae,he,de,be,Ce){var we,Pe;if(Array.isArray(he))for(we=0,Pe=(he=Array.prototype.slice.call(he)).length;we<Pe;we+=1)Array.isArray(he[we])&&se(te,"nested arrays are not supported inside keys"),typeof he=="object"&&B(he[we])==="[object Object]"&&(he[we]="[object Object]");if(typeof he=="object"&&B(he)==="[object Object]"&&(he="[object Object]"),he=String(he),re===null&&(re={}),ae==="tag:yaml.org,2002:merge")if(Array.isArray(de))for(we=0,Pe=de.length;we<Pe;we+=1)xe(te,re,de[we],ne);else xe(te,re,de,ne);else te.json||_.call(ne,he)||!_.call(re,he)||(te.line=be||te.line,te.position=Ce||te.position,se(te,"duplicated mapping key")),re[he]=de,delete ne[he];return re}function me(te){var re;(re=te.input.charCodeAt(te.position))===10?te.position++:re===13?(te.position++,te.input.charCodeAt(te.position)===10&&te.position++):se(te,"a line break is expected"),te.line+=1,te.lineStart=te.position}function pe(te,re,ne){for(var ae=0,he=te.input.charCodeAt(te.position);he!==0;){for(;R(he);)he=te.input.charCodeAt(++te.position);if(re&&he===35)do he=te.input.charCodeAt(++te.position);while(he!==10&&he!==13&&he!==0);if(!F(he))break;for(me(te),he=te.input.charCodeAt(te.position),ae++,te.lineIndent=0;he===32;)te.lineIndent++,he=te.input.charCodeAt(++te.position)}return ne!==-1&&ae!==0&&te.lineIndent<ne&&oe(te,"deficient indentation"),ae}function Se(te){var re,ne=te.position;return!((re=te.input.charCodeAt(ne))!==45&&re!==46||re!==te.input.charCodeAt(ne+1)||re!==te.input.charCodeAt(ne+2)||(ne+=3,(re=te.input.charCodeAt(ne))!==0&&!L(re)))}function Ae(te,re){re===1?te.result+=" ":re>1&&(te.result+=x.repeat(`
`,re-1))}function _e(te,re){var ne,ae,he=te.tag,de=te.anchor,be=[],Ce=!1;for(te.anchor!==null&&(te.anchorMap[te.anchor]=be),ae=te.input.charCodeAt(te.position);ae!==0&&ae===45&&L(te.input.charCodeAt(te.position+1));)if(Ce=!0,te.position++,pe(te,!0,-1)&&te.lineIndent<=re)be.push(null),ae=te.input.charCodeAt(te.position);else if(ne=te.line,Ee(te,re,3,!1,!0),be.push(te.result),pe(te,!0,-1),ae=te.input.charCodeAt(te.position),(te.line===ne||te.lineIndent>re)&&ae!==0)se(te,"bad indentation of a sequence entry");else if(te.lineIndent<re)break;return!!Ce&&(te.tag=he,te.anchor=de,te.kind="sequence",te.result=be,!0)}function Me(te){var re,ne,ae,he,de=!1,be=!1;if((he=te.input.charCodeAt(te.position))!==33)return!1;if(te.tag!==null&&se(te,"duplication of a tag property"),(he=te.input.charCodeAt(++te.position))===60?(de=!0,he=te.input.charCodeAt(++te.position)):he===33?(be=!0,ne="!!",he=te.input.charCodeAt(++te.position)):ne="!",re=te.position,de){do he=te.input.charCodeAt(++te.position);while(he!==0&&he!==62);te.position<te.length?(ae=te.input.slice(re,te.position),he=te.input.charCodeAt(++te.position)):se(te,"unexpected end of the stream within a verbatim tag")}else{for(;he!==0&&!L(he);)he===33&&(be?se(te,"tag suffix cannot contain exclamation marks"):(ne=te.input.slice(re-1,te.position+1),E.test(ne)||se(te,"named tag handle cannot contain such characters"),be=!0,re=te.position+1)),he=te.input.charCodeAt(++te.position);ae=te.input.slice(re,te.position),D.test(ae)&&se(te,"tag suffix cannot contain flow indicator characters")}return ae&&!I.test(ae)&&se(te,"tag name cannot contain such characters: "+ae),de?te.tag=ae:_.call(te.tagMap,ne)?te.tag=te.tagMap[ne]+ae:ne==="!"?te.tag="!"+ae:ne==="!!"?te.tag="tag:yaml.org,2002:"+ae:se(te,'undeclared tag handle "'+ne+'"'),!0}function ve(te){var re,ne;if((ne=te.input.charCodeAt(te.position))!==38)return!1;for(te.anchor!==null&&se(te,"duplication of an anchor property"),ne=te.input.charCodeAt(++te.position),re=te.position;ne!==0&&!L(ne)&&!z(ne);)ne=te.input.charCodeAt(++te.position);return te.position===re&&se(te,"name of an anchor node must contain at least one character"),te.anchor=te.input.slice(re,te.position),!0}function Ee(te,re,ne,ae,he){var de,be,Ce,we,Pe,ke,Be,Re,ze=1,$e=!1,je=!1;if(te.listener!==null&&te.listener("open",te),te.tag=null,te.anchor=null,te.kind=null,te.result=null,de=be=Ce=ne===4||ne===3,ae&&pe(te,!0,-1)&&($e=!0,te.lineIndent>re?ze=1:te.lineIndent===re?ze=0:te.lineIndent<re&&(ze=-1)),ze===1)for(;Me(te)||ve(te);)pe(te,!0,-1)?($e=!0,Ce=de,te.lineIndent>re?ze=1:te.lineIndent===re?ze=0:te.lineIndent<re&&(ze=-1)):Ce=!1;if(Ce&&(Ce=$e||he),ze!==1&&ne!==4||(Be=ne===1||ne===2?re:re+1,Re=te.position-te.lineStart,ze===1?Ce&&(_e(te,Re)||function(ge,He,Ue){var Ye,Te,Ne,Ge,Xe,qe=ge.tag,Je=ge.anchor,Ke={},et={},tt=null,ot=null,nt=null,it=!1,st=!1;for(ge.anchor!==null&&(ge.anchorMap[ge.anchor]=Ke),Xe=ge.input.charCodeAt(ge.position);Xe!==0;){if(Ye=ge.input.charCodeAt(ge.position+1),Ne=ge.line,Ge=ge.position,Xe!==63&&Xe!==58||!L(Ye)){if(!Ee(ge,Ue,2,!1,!0))break;if(ge.line===Ne){for(Xe=ge.input.charCodeAt(ge.position);R(Xe);)Xe=ge.input.charCodeAt(++ge.position);if(Xe===58)L(Xe=ge.input.charCodeAt(++ge.position))||se(ge,"a whitespace character is expected after the key-value separator within a block mapping"),it&&(ce(ge,Ke,et,tt,ot,null),tt=ot=nt=null),st=!0,it=!1,Te=!1,tt=ge.tag,ot=ge.result;else{if(!st)return ge.tag=qe,ge.anchor=Je,!0;se(ge,"can not read an implicit mapping pair; a colon is missed")}}else{if(!st)return ge.tag=qe,ge.anchor=Je,!0;se(ge,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else Xe===63?(it&&(ce(ge,Ke,et,tt,ot,null),tt=ot=nt=null),st=!0,it=!0,Te=!0):it?(it=!1,Te=!0):se(ge,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),ge.position+=1,Xe=Ye;if((ge.line===Ne||ge.lineIndent>He)&&(Ee(ge,He,4,!0,Te)&&(it?ot=ge.result:nt=ge.result),it||(ce(ge,Ke,et,tt,ot,nt,Ne,Ge),tt=ot=nt=null),pe(ge,!0,-1),Xe=ge.input.charCodeAt(ge.position)),ge.lineIndent>He&&Xe!==0)se(ge,"bad indentation of a mapping entry");else if(ge.lineIndent<He)break}return it&&ce(ge,Ke,et,tt,ot,null),st&&(ge.tag=qe,ge.anchor=Je,ge.kind="mapping",ge.result=Ke),st}(te,Re,Be))||function(ge,He){var Ue,Ye,Te,Ne,Ge,Xe,qe,Je,Ke,et,tt=!0,ot=ge.tag,nt=ge.anchor,it={};if((et=ge.input.charCodeAt(ge.position))===91)Te=93,Xe=!1,Ye=[];else{if(et!==123)return!1;Te=125,Xe=!0,Ye={}}for(ge.anchor!==null&&(ge.anchorMap[ge.anchor]=Ye),et=ge.input.charCodeAt(++ge.position);et!==0;){if(pe(ge,!0,He),(et=ge.input.charCodeAt(ge.position))===Te)return ge.position++,ge.tag=ot,ge.anchor=nt,ge.kind=Xe?"mapping":"sequence",ge.result=Ye,!0;tt||se(ge,"missed comma between flow collection entries"),Ke=null,Ne=Ge=!1,et===63&&L(ge.input.charCodeAt(ge.position+1))&&(Ne=Ge=!0,ge.position++,pe(ge,!0,He)),Ue=ge.line,Ee(ge,He,1,!1,!0),Je=ge.tag,qe=ge.result,pe(ge,!0,He),et=ge.input.charCodeAt(ge.position),!Ge&&ge.line!==Ue||et!==58||(Ne=!0,et=ge.input.charCodeAt(++ge.position),pe(ge,!0,He),Ee(ge,He,1,!1,!0),Ke=ge.result),Xe?ce(ge,Ye,it,Je,qe,Ke):Ne?Ye.push(ce(ge,null,it,Je,qe,Ke)):Ye.push(qe),pe(ge,!0,He),(et=ge.input.charCodeAt(ge.position))===44?(tt=!0,et=ge.input.charCodeAt(++ge.position)):tt=!1}se(ge,"unexpected end of the stream within a flow collection")}(te,Be)?je=!0:(be&&function(ge,He){var Ue,Ye,Te,Ne,Ge,Xe=1,qe=!1,Je=!1,Ke=He,et=0,tt=!1;if((Ne=ge.input.charCodeAt(ge.position))===124)Ye=!1;else{if(Ne!==62)return!1;Ye=!0}for(ge.kind="scalar",ge.result="";Ne!==0;)if((Ne=ge.input.charCodeAt(++ge.position))===43||Ne===45)Xe===1?Xe=Ne===43?3:2:se(ge,"repeat of a chomping mode identifier");else{if(!((Te=48<=(Ge=Ne)&&Ge<=57?Ge-48:-1)>=0))break;Te===0?se(ge,"bad explicit indentation width of a block scalar; it cannot be less than one"):Je?se(ge,"repeat of an indentation width identifier"):(Ke=He+Te-1,Je=!0)}if(R(Ne)){do Ne=ge.input.charCodeAt(++ge.position);while(R(Ne));if(Ne===35)do Ne=ge.input.charCodeAt(++ge.position);while(!F(Ne)&&Ne!==0)}for(;Ne!==0;){for(me(ge),ge.lineIndent=0,Ne=ge.input.charCodeAt(ge.position);(!Je||ge.lineIndent<Ke)&&Ne===32;)ge.lineIndent++,Ne=ge.input.charCodeAt(++ge.position);if(!Je&&ge.lineIndent>Ke&&(Ke=ge.lineIndent),F(Ne))et++;else{if(ge.lineIndent<Ke){Xe===3?ge.result+=x.repeat(`
`,qe?1+et:et):Xe===1&&qe&&(ge.result+=`
`);break}for(Ye?R(Ne)?(tt=!0,ge.result+=x.repeat(`
`,qe?1+et:et)):tt?(tt=!1,ge.result+=x.repeat(`
`,et+1)):et===0?qe&&(ge.result+=" "):ge.result+=x.repeat(`
`,et):ge.result+=x.repeat(`
`,qe?1+et:et),qe=!0,Je=!0,et=0,Ue=ge.position;!F(Ne)&&Ne!==0;)Ne=ge.input.charCodeAt(++ge.position);fe(ge,Ue,ge.position,!1)}}return!0}(te,Be)||function(ge,He){var Ue,Ye,Te;if((Ue=ge.input.charCodeAt(ge.position))!==39)return!1;for(ge.kind="scalar",ge.result="",ge.position++,Ye=Te=ge.position;(Ue=ge.input.charCodeAt(ge.position))!==0;)if(Ue===39){if(fe(ge,Ye,ge.position,!0),(Ue=ge.input.charCodeAt(++ge.position))!==39)return!0;Ye=ge.position,ge.position++,Te=ge.position}else F(Ue)?(fe(ge,Ye,Te,!0),Ae(ge,pe(ge,!1,He)),Ye=Te=ge.position):ge.position===ge.lineStart&&Se(ge)?se(ge,"unexpected end of the document within a single quoted scalar"):(ge.position++,Te=ge.position);se(ge,"unexpected end of the stream within a single quoted scalar")}(te,Be)||function(ge,He){var Ue,Ye,Te,Ne,Ge,Xe,qe;if((Xe=ge.input.charCodeAt(ge.position))!==34)return!1;for(ge.kind="scalar",ge.result="",ge.position++,Ue=Ye=ge.position;(Xe=ge.input.charCodeAt(ge.position))!==0;){if(Xe===34)return fe(ge,Ue,ge.position,!0),ge.position++,!0;if(Xe===92){if(fe(ge,Ue,ge.position,!0),F(Xe=ge.input.charCodeAt(++ge.position)))pe(ge,!1,He);else if(Xe<256&&q[Xe])ge.result+=Z[Xe],ge.position++;else if((Ge=(qe=Xe)===120?2:qe===117?4:qe===85?8:0)>0){for(Te=Ge,Ne=0;Te>0;Te--)(Ge=G(Xe=ge.input.charCodeAt(++ge.position)))>=0?Ne=(Ne<<4)+Ge:se(ge,"expected hexadecimal character");ge.result+=K(Ne),ge.position++}else se(ge,"unknown escape sequence");Ue=Ye=ge.position}else F(Xe)?(fe(ge,Ue,Ye,!0),Ae(ge,pe(ge,!1,He)),Ue=Ye=ge.position):ge.position===ge.lineStart&&Se(ge)?se(ge,"unexpected end of the document within a double quoted scalar"):(ge.position++,Ye=ge.position)}se(ge,"unexpected end of the stream within a double quoted scalar")}(te,Be)?je=!0:function(ge){var He,Ue,Ye;if((Ye=ge.input.charCodeAt(ge.position))!==42)return!1;for(Ye=ge.input.charCodeAt(++ge.position),He=ge.position;Ye!==0&&!L(Ye)&&!z(Ye);)Ye=ge.input.charCodeAt(++ge.position);return ge.position===He&&se(ge,"name of an alias node must contain at least one character"),Ue=ge.input.slice(He,ge.position),_.call(ge.anchorMap,Ue)||se(ge,'unidentified alias "'+Ue+'"'),ge.result=ge.anchorMap[Ue],pe(ge,!0,-1),!0}(te)?(je=!0,te.tag===null&&te.anchor===null||se(te,"alias node should not have any properties")):function(ge,He,Ue){var Ye,Te,Ne,Ge,Xe,qe,Je,Ke,et=ge.kind,tt=ge.result;if(L(Ke=ge.input.charCodeAt(ge.position))||z(Ke)||Ke===35||Ke===38||Ke===42||Ke===33||Ke===124||Ke===62||Ke===39||Ke===34||Ke===37||Ke===64||Ke===96||(Ke===63||Ke===45)&&(L(Ye=ge.input.charCodeAt(ge.position+1))||Ue&&z(Ye)))return!1;for(ge.kind="scalar",ge.result="",Te=Ne=ge.position,Ge=!1;Ke!==0;){if(Ke===58){if(L(Ye=ge.input.charCodeAt(ge.position+1))||Ue&&z(Ye))break}else if(Ke===35){if(L(ge.input.charCodeAt(ge.position-1)))break}else{if(ge.position===ge.lineStart&&Se(ge)||Ue&&z(Ke))break;if(F(Ke)){if(Xe=ge.line,qe=ge.lineStart,Je=ge.lineIndent,pe(ge,!1,-1),ge.lineIndent>=He){Ge=!0,Ke=ge.input.charCodeAt(ge.position);continue}ge.position=Ne,ge.line=Xe,ge.lineStart=qe,ge.lineIndent=Je;break}}Ge&&(fe(ge,Te,Ne,!1),Ae(ge,ge.line-Xe),Te=Ne=ge.position,Ge=!1),R(Ke)||(Ne=ge.position+1),Ke=ge.input.charCodeAt(++ge.position)}return fe(ge,Te,Ne,!1),!!ge.result||(ge.kind=et,ge.result=tt,!1)}(te,Be,ne===1)&&(je=!0,te.tag===null&&(te.tag="?")),te.anchor!==null&&(te.anchorMap[te.anchor]=te.result)):ze===0&&(je=Ce&&_e(te,Re))),te.tag!==null&&te.tag!=="!")if(te.tag==="?"){for(te.result!==null&&te.kind!=="scalar"&&se(te,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+te.kind+'"'),we=0,Pe=te.implicitTypes.length;we<Pe;we+=1)if((ke=te.implicitTypes[we]).resolve(te.result)){te.result=ke.construct(te.result),te.tag=ke.tag,te.anchor!==null&&(te.anchorMap[te.anchor]=te.result);break}}else _.call(te.typeMap[te.kind||"fallback"],te.tag)?(ke=te.typeMap[te.kind||"fallback"][te.tag],te.result!==null&&ke.kind!==te.kind&&se(te,"unacceptable node kind for !<"+te.tag+'> tag; it should be "'+ke.kind+'", not "'+te.kind+'"'),ke.resolve(te.result)?(te.result=ke.construct(te.result),te.anchor!==null&&(te.anchorMap[te.anchor]=te.result)):se(te,"cannot resolve a node with !<"+te.tag+"> explicit tag")):se(te,"unknown tag !<"+te.tag+">");return te.listener!==null&&te.listener("close",te),te.tag!==null||te.anchor!==null||je}function Le(te){var re,ne,ae,he,de=te.position,be=!1;for(te.version=null,te.checkLineBreaks=te.legacy,te.tagMap={},te.anchorMap={};(he=te.input.charCodeAt(te.position))!==0&&(pe(te,!0,-1),he=te.input.charCodeAt(te.position),!(te.lineIndent>0||he!==37));){for(be=!0,he=te.input.charCodeAt(++te.position),re=te.position;he!==0&&!L(he);)he=te.input.charCodeAt(++te.position);for(ae=[],(ne=te.input.slice(re,te.position)).length<1&&se(te,"directive name must not be less than one character in length");he!==0;){for(;R(he);)he=te.input.charCodeAt(++te.position);if(he===35){do he=te.input.charCodeAt(++te.position);while(he!==0&&!F(he));break}if(F(he))break;for(re=te.position;he!==0&&!L(he);)he=te.input.charCodeAt(++te.position);ae.push(te.input.slice(re,te.position))}he!==0&&me(te),_.call(ue,ne)?ue[ne](te,ne,ae):oe(te,'unknown document directive "'+ne+'"')}pe(te,!0,-1),te.lineIndent===0&&te.input.charCodeAt(te.position)===45&&te.input.charCodeAt(te.position+1)===45&&te.input.charCodeAt(te.position+2)===45?(te.position+=3,pe(te,!0,-1)):be&&se(te,"directives end mark is expected"),Ee(te,te.lineIndent-1,4,!1,!0),pe(te,!0,-1),te.checkLineBreaks&&P.test(te.input.slice(de,te.position))&&oe(te,"non-ASCII line breaks are interpreted as content"),te.documents.push(te.result),te.position===te.lineStart&&Se(te)?te.input.charCodeAt(te.position)===46&&(te.position+=3,pe(te,!0,-1)):te.position<te.length-1&&se(te,"end of the stream or a document separator is expected")}function Ie(te,re){re=re||{},(te=String(te)).length!==0&&(te.charCodeAt(te.length-1)!==10&&te.charCodeAt(te.length-1)!==13&&(te+=`
`),te.charCodeAt(0)===65279&&(te=te.slice(1)));var ne=new Q(te,re),ae=te.indexOf("\0");for(ae!==-1&&(ne.position=ae,se(ne,"null byte is not allowed in input")),ne.input+="\0";ne.input.charCodeAt(ne.position)===32;)ne.lineIndent+=1,ne.position+=1;for(;ne.position<ne.length-1;)Le(ne);return ne.documents}function Oe(te,re,ne){re!==null&&typeof re=="object"&&ne===void 0&&(ne=re,re=null);var ae=Ie(te,ne);if(typeof re!="function")return ae;for(var he=0,de=ae.length;he<de;he+=1)re(ae[he])}function le(te,re){var ne=Ie(te,re);if(ne.length!==0){if(ne.length===1)return ne[0];throw new g("expected a single document in the stream, but found more")}}s.exports.loadAll=Oe,s.exports.load=le,s.exports.safeLoadAll=function(te,re,ne){return typeof re=="object"&&re!==null&&ne===void 0&&(ne=re,re=null),Oe(te,re,x.extend({schema:C},ne))},s.exports.safeLoad=function(te,re){return le(te,x.extend({schema:C},re))}},function(s,m,f){var x=f(38);function g(w,C,A,_,M){this.name=w,this.buffer=C,this.position=A,this.line=_,this.column=M}g.prototype.getSnippet=function(w,C){var A,_,M,P,D;if(!this.buffer)return null;for(w=w||4,C=C||75,A="",_=this.position;_>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(_-1))===-1;)if(_-=1,this.position-_>C/2-1){A=" ... ",_+=5;break}for(M="",P=this.position;P<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(P))===-1;)if((P+=1)-this.position>C/2-1){M=" ... ",P-=5;break}return D=this.buffer.slice(_,P),x.repeat(" ",w)+A+D+M+`
`+x.repeat(" ",w+this.position-_+A.length)+"^"},g.prototype.toString=function(w){var C,A="";return this.name&&(A+='in "'+this.name+'" '),A+="at line "+(this.line+1)+", column "+(this.column+1),w||(C=this.getSnippet())&&(A+=`:
`+C),A},s.exports=g},function(s,m,f){var x=f(10);s.exports=new x("tag:yaml.org,2002:str",{kind:"scalar",construct:function(g){return g!==null?g:""}})},function(s,m,f){var x=f(10);s.exports=new x("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(g){return g!==null?g:[]}})},function(s,m,f){var x=f(10);s.exports=new x("tag:yaml.org,2002:map",{kind:"mapping",construct:function(g){return g!==null?g:{}}})},function(s,m,f){var x=f(10);s.exports=new x("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(g){if(g===null)return!0;var w=g.length;return w===1&&g==="~"||w===4&&(g==="null"||g==="Null"||g==="NULL")},construct:function(){return null},predicate:function(g){return g===null},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(s,m,f){var x=f(10);s.exports=new x("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(g){if(g===null)return!1;var w=g.length;return w===4&&(g==="true"||g==="True"||g==="TRUE")||w===5&&(g==="false"||g==="False"||g==="FALSE")},construct:function(g){return g==="true"||g==="True"||g==="TRUE"},predicate:function(g){return Object.prototype.toString.call(g)==="[object Boolean]"},represent:{lowercase:function(g){return g?"true":"false"},uppercase:function(g){return g?"TRUE":"FALSE"},camelcase:function(g){return g?"True":"False"}},defaultStyle:"lowercase"})},function(s,m,f){var x=f(38),g=f(10);function w(A){return 48<=A&&A<=55}function C(A){return 48<=A&&A<=57}s.exports=new g("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(A){if(A===null)return!1;var _,M,P=A.length,D=0,E=!1;if(!P)return!1;if((_=A[D])!=="-"&&_!=="+"||(_=A[++D]),_==="0"){if(D+1===P)return!0;if((_=A[++D])==="b"){for(D++;D<P;D++)if((_=A[D])!=="_"){if(_!=="0"&&_!=="1")return!1;E=!0}return E&&_!=="_"}if(_==="x"){for(D++;D<P;D++)if((_=A[D])!=="_"){if(!(48<=(M=A.charCodeAt(D))&&M<=57||65<=M&&M<=70||97<=M&&M<=102))return!1;E=!0}return E&&_!=="_"}for(;D<P;D++)if((_=A[D])!=="_"){if(!w(A.charCodeAt(D)))return!1;E=!0}return E&&_!=="_"}if(_==="_")return!1;for(;D<P;D++)if((_=A[D])!=="_"){if(_===":")break;if(!C(A.charCodeAt(D)))return!1;E=!0}return!(!E||_==="_")&&(_!==":"||/^(:[0-5]?[0-9])+$/.test(A.slice(D)))},construct:function(A){var _,M,P=A,D=1,E=[];return P.indexOf("_")!==-1&&(P=P.replace(/_/g,"")),(_=P[0])!=="-"&&_!=="+"||(_==="-"&&(D=-1),_=(P=P.slice(1))[0]),P==="0"?0:_==="0"?P[1]==="b"?D*parseInt(P.slice(2),2):P[1]==="x"?D*parseInt(P,16):D*parseInt(P,8):P.indexOf(":")!==-1?(P.split(":").forEach(function(I){E.unshift(parseInt(I,10))}),P=0,M=1,E.forEach(function(I){P+=I*M,M*=60}),D*P):D*parseInt(P,10)},predicate:function(A){return Object.prototype.toString.call(A)==="[object Number]"&&A%1==0&&!x.isNegativeZero(A)},represent:{binary:function(A){return A>=0?"0b"+A.toString(2):"-0b"+A.toString(2).slice(1)},octal:function(A){return A>=0?"0"+A.toString(8):"-0"+A.toString(8).slice(1)},decimal:function(A){return A.toString(10)},hexadecimal:function(A){return A>=0?"0x"+A.toString(16).toUpperCase():"-0x"+A.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(s,m,f){var x=f(38),g=f(10),w=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),C=/^[-+]?[0-9]+e/;s.exports=new g("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(A){return A!==null&&!(!w.test(A)||A[A.length-1]==="_")},construct:function(A){var _,M,P,D;return M=(_=A.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,D=[],"+-".indexOf(_[0])>=0&&(_=_.slice(1)),_===".inf"?M===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:_===".nan"?NaN:_.indexOf(":")>=0?(_.split(":").forEach(function(E){D.unshift(parseFloat(E,10))}),_=0,P=1,D.forEach(function(E){_+=E*P,P*=60}),M*_):M*parseFloat(_,10)},predicate:function(A){return Object.prototype.toString.call(A)==="[object Number]"&&(A%1!=0||x.isNegativeZero(A))},represent:function(A,_){var M;if(isNaN(A))switch(_){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===A)switch(_){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===A)switch(_){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(x.isNegativeZero(A))return"-0.0";return M=A.toString(10),C.test(M)?M.replace("e",".e"):M},defaultStyle:"lowercase"})},function(s,m,f){var x=f(10),g=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),w=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");s.exports=new x("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(C){return C!==null&&(g.exec(C)!==null||w.exec(C)!==null)},construct:function(C){var A,_,M,P,D,E,I,B,F=0,R=null;if((A=g.exec(C))===null&&(A=w.exec(C)),A===null)throw new Error("Date resolve error");if(_=+A[1],M=+A[2]-1,P=+A[3],!A[4])return new Date(Date.UTC(_,M,P));if(D=+A[4],E=+A[5],I=+A[6],A[7]){for(F=A[7].slice(0,3);F.length<3;)F+="0";F=+F}return A[9]&&(R=6e4*(60*+A[10]+ +(A[11]||0)),A[9]==="-"&&(R=-R)),B=new Date(Date.UTC(_,M,P,D,E,I,F)),R&&B.setTime(B.getTime()-R),B},instanceOf:Date,represent:function(C){return C.toISOString()}})},function(s,m,f){var x=f(10);s.exports=new x("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(g){return g==="<<"||g===null}})},function(s,m,f){var x;try{x=f(145).Buffer}catch{}var g=f(10),w=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;s.exports=new g("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(C){if(C===null)return!1;var A,_,M=0,P=C.length,D=w;for(_=0;_<P;_++)if(!((A=D.indexOf(C.charAt(_)))>64)){if(A<0)return!1;M+=6}return M%8==0},construct:function(C){var A,_,M=C.replace(/[\r\n=]/g,""),P=M.length,D=w,E=0,I=[];for(A=0;A<P;A++)A%4==0&&A&&(I.push(E>>16&255),I.push(E>>8&255),I.push(255&E)),E=E<<6|D.indexOf(M.charAt(A));return(_=P%4*6)===0?(I.push(E>>16&255),I.push(E>>8&255),I.push(255&E)):_===18?(I.push(E>>10&255),I.push(E>>2&255)):_===12&&I.push(E>>4&255),x?x.from?x.from(I):new x(I):I},predicate:function(C){return x&&x.isBuffer(C)},represent:function(C){var A,_,M="",P=0,D=C.length,E=w;for(A=0;A<D;A++)A%3==0&&A&&(M+=E[P>>18&63],M+=E[P>>12&63],M+=E[P>>6&63],M+=E[63&P]),P=(P<<8)+C[A];return(_=D%3)===0?(M+=E[P>>18&63],M+=E[P>>12&63],M+=E[P>>6&63],M+=E[63&P]):_===2?(M+=E[P>>10&63],M+=E[P>>4&63],M+=E[P<<2&63],M+=E[64]):_===1&&(M+=E[P>>2&63],M+=E[P<<4&63],M+=E[64],M+=E[64]),M}})},function(s,m,f){var x=f(10),g=Object.prototype.hasOwnProperty,w=Object.prototype.toString;s.exports=new x("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(C){if(C===null)return!0;var A,_,M,P,D,E=[],I=C;for(A=0,_=I.length;A<_;A+=1){if(M=I[A],D=!1,w.call(M)!=="[object Object]")return!1;for(P in M)if(g.call(M,P)){if(D)return!1;D=!0}if(!D||E.indexOf(P)!==-1)return!1;E.push(P)}return!0},construct:function(C){return C!==null?C:[]}})},function(s,m,f){var x=f(10),g=Object.prototype.toString;s.exports=new x("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(w){if(w===null)return!0;var C,A,_,M,P,D=w;for(P=new Array(D.length),C=0,A=D.length;C<A;C+=1){if(_=D[C],g.call(_)!=="[object Object]"||(M=Object.keys(_)).length!==1)return!1;P[C]=[M[0],_[M[0]]]}return!0},construct:function(w){if(w===null)return[];var C,A,_,M,P,D=w;for(P=new Array(D.length),C=0,A=D.length;C<A;C+=1)_=D[C],M=Object.keys(_),P[C]=[M[0],_[M[0]]];return P}})},function(s,m,f){var x=f(10),g=Object.prototype.hasOwnProperty;s.exports=new x("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(w){if(w===null)return!0;var C,A=w;for(C in A)if(g.call(A,C)&&A[C]!==null)return!1;return!0},construct:function(w){return w!==null?w:{}}})},function(s,m,f){var x=f(10);s.exports=new x("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(g){return g===void 0},represent:function(){return""}})},function(s,m,f){var x=f(10);s.exports=new x("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(g){if(g===null||g.length===0)return!1;var w=g,C=/\/([gim]*)$/.exec(g),A="";return!(w[0]==="/"&&(C&&(A=C[1]),A.length>3||w[w.length-A.length-1]!=="/"))},construct:function(g){var w=g,C=/\/([gim]*)$/.exec(g),A="";return w[0]==="/"&&(C&&(A=C[1]),w=w.slice(1,w.length-A.length-1)),new RegExp(w,A)},predicate:function(g){return Object.prototype.toString.call(g)==="[object RegExp]"},represent:function(g){var w="/"+g.source+"/";return g.global&&(w+="g"),g.multiline&&(w+="m"),g.ignoreCase&&(w+="i"),w}})},function(s,m,f){var x;try{x=f(303)}catch{typeof window<"u"&&(x=window.esprima)}var g=f(10);s.exports=new g("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(w){if(w===null)return!1;try{var C="("+w+")",A=x.parse(C,{range:!0});return A.type==="Program"&&A.body.length===1&&A.body[0].type==="ExpressionStatement"&&(A.body[0].expression.type==="ArrowFunctionExpression"||A.body[0].expression.type==="FunctionExpression")}catch{return!1}},construct:function(w){var C,A="("+w+")",_=x.parse(A,{range:!0}),M=[];if(_.type!=="Program"||_.body.length!==1||_.body[0].type!=="ExpressionStatement"||_.body[0].expression.type!=="ArrowFunctionExpression"&&_.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return _.body[0].expression.params.forEach(function(P){M.push(P.name)}),C=_.body[0].expression.body.range,_.body[0].expression.body.type==="BlockStatement"?new Function(M,A.slice(C[0]+1,C[1]-1)):new Function(M,"return "+A.slice(C[0],C[1]))},predicate:function(w){return Object.prototype.toString.call(w)==="[object Function]"},represent:function(w){return w.toString()}})},function(s,m,f){var x;x=function(){return function(g){var w={};function C(A){if(w[A])return w[A].exports;var _=w[A]={exports:{},id:A,loaded:!1};return g[A].call(_.exports,_,_.exports,C),_.loaded=!0,_.exports}return C.m=g,C.c=w,C.p="",C(0)}([function(g,w,C){Object.defineProperty(w,"__esModule",{value:!0});var A=C(1),_=C(3),M=C(8),P=C(15);function D(I,B,F){var R=null,L=function(J,Q){F&&F(J,Q),R&&R.visit(J,Q)},z=typeof F=="function"?L:null,G=!1;if(B){G=typeof B.comment=="boolean"&&B.comment;var W=typeof B.attachComment=="boolean"&&B.attachComment;(G||W)&&((R=new A.CommentHandler).attach=W,B.comment=!0,z=L)}var K,q=!1;B&&typeof B.sourceType=="string"&&(q=B.sourceType==="module"),K=B&&typeof B.jsx=="boolean"&&B.jsx?new _.JSXParser(I,B,z):new M.Parser(I,B,z);var Z=q?K.parseModule():K.parseScript();return G&&R&&(Z.comments=R.comments),K.config.tokens&&(Z.tokens=K.tokens),K.config.tolerant&&(Z.errors=K.errorHandler.errors),Z}w.parse=D,w.parseModule=function(I,B,F){var R=B||{};return R.sourceType="module",D(I,R,F)},w.parseScript=function(I,B,F){var R=B||{};return R.sourceType="script",D(I,R,F)},w.tokenize=function(I,B,F){var R,L=new P.Tokenizer(I,B);R=[];try{for(;;){var z=L.getNextToken();if(!z)break;F&&(z=F(z)),R.push(z)}}catch(G){L.errorHandler.tolerate(G)}return L.errorHandler.tolerant&&(R.errors=L.errors()),R};var E=C(2);w.Syntax=E.Syntax,w.version="4.0.1"},function(g,w,C){Object.defineProperty(w,"__esModule",{value:!0});var A=C(2),_=function(){function M(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return M.prototype.insertInnerComments=function(P,D){if(P.type===A.Syntax.BlockStatement&&P.body.length===0){for(var E=[],I=this.leading.length-1;I>=0;--I){var B=this.leading[I];D.end.offset>=B.start&&(E.unshift(B.comment),this.leading.splice(I,1),this.trailing.splice(I,1))}E.length&&(P.innerComments=E)}},M.prototype.findTrailingComments=function(P){var D=[];if(this.trailing.length>0){for(var E=this.trailing.length-1;E>=0;--E){var I=this.trailing[E];I.start>=P.end.offset&&D.unshift(I.comment)}return this.trailing.length=0,D}var B=this.stack[this.stack.length-1];if(B&&B.node.trailingComments){var F=B.node.trailingComments[0];F&&F.range[0]>=P.end.offset&&(D=B.node.trailingComments,delete B.node.trailingComments)}return D},M.prototype.findLeadingComments=function(P){for(var D,E=[];this.stack.length>0&&(F=this.stack[this.stack.length-1])&&F.start>=P.start.offset;)D=F.node,this.stack.pop();if(D){for(var I=(D.leadingComments?D.leadingComments.length:0)-1;I>=0;--I){var B=D.leadingComments[I];B.range[1]<=P.start.offset&&(E.unshift(B),D.leadingComments.splice(I,1))}return D.leadingComments&&D.leadingComments.length===0&&delete D.leadingComments,E}for(I=this.leading.length-1;I>=0;--I){var F;(F=this.leading[I]).start<=P.start.offset&&(E.unshift(F.comment),this.leading.splice(I,1))}return E},M.prototype.visitNode=function(P,D){if(!(P.type===A.Syntax.Program&&P.body.length>0)){this.insertInnerComments(P,D);var E=this.findTrailingComments(D),I=this.findLeadingComments(D);I.length>0&&(P.leadingComments=I),E.length>0&&(P.trailingComments=E),this.stack.push({node:P,start:D.start.offset})}},M.prototype.visitComment=function(P,D){var E=P.type[0]==="L"?"Line":"Block",I={type:E,value:P.value};if(P.range&&(I.range=P.range),P.loc&&(I.loc=P.loc),this.comments.push(I),this.attach){var B={comment:{type:E,value:P.value,range:[D.start.offset,D.end.offset]},start:D.start.offset};P.loc&&(B.comment.loc=P.loc),P.type=E,this.leading.push(B),this.trailing.push(B)}},M.prototype.visit=function(P,D){P.type==="LineComment"||P.type==="BlockComment"?this.visitComment(P,D):this.attach&&this.visitNode(P,D)},M}();w.CommentHandler=_},function(g,w){Object.defineProperty(w,"__esModule",{value:!0}),w.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(g,w,C){var A,_=this&&this.__extends||(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,G){z.__proto__=G}||function(z,G){for(var W in G)G.hasOwnProperty(W)&&(z[W]=G[W])},function(z,G){function W(){this.constructor=z}A(z,G),z.prototype=G===null?Object.create(G):(W.prototype=G.prototype,new W)});Object.defineProperty(w,"__esModule",{value:!0});var M=C(4),P=C(5),D=C(6),E=C(7),I=C(8),B=C(13),F=C(14);function R(z){var G;switch(z.type){case D.JSXSyntax.JSXIdentifier:G=z.name;break;case D.JSXSyntax.JSXNamespacedName:var W=z;G=R(W.namespace)+":"+R(W.name);break;case D.JSXSyntax.JSXMemberExpression:var K=z;G=R(K.object)+"."+R(K.property)}return G}B.TokenName[100]="JSXIdentifier",B.TokenName[101]="JSXText";var L=function(z){function G(W,K,q){return z.call(this,W,K,q)||this}return _(G,z),G.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():z.prototype.parsePrimaryExpression.call(this)},G.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},G.prototype.finishJSX=function(){this.nextToken()},G.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},G.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},G.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},G.prototype.scanXHTMLEntity=function(W){for(var K="&",q=!0,Z=!1,J=!1,Q=!1;!this.scanner.eof()&&q&&!Z;){var ie=this.scanner.source[this.scanner.index];if(ie===W)break;if(Z=ie===";",K+=ie,++this.scanner.index,!Z)switch(K.length){case 2:J=ie==="#";break;case 3:J&&(q=(Q=ie==="x")||M.Character.isDecimalDigit(ie.charCodeAt(0)),J=J&&!Q);break;default:q=(q=q&&!(J&&!M.Character.isDecimalDigit(ie.charCodeAt(0))))&&!(Q&&!M.Character.isHexDigit(ie.charCodeAt(0)))}}if(q&&Z&&K.length>2){var se=K.substr(1,K.length-2);J&&se.length>1?K=String.fromCharCode(parseInt(se.substr(1),10)):Q&&se.length>2?K=String.fromCharCode(parseInt("0"+se.substr(1),16)):J||Q||!F.XHTMLEntities[se]||(K=F.XHTMLEntities[se])}return K},G.prototype.lexJSX=function(){var W=this.scanner.source.charCodeAt(this.scanner.index);if(W===60||W===62||W===47||W===58||W===61||W===123||W===125)return{type:7,value:ie=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(W===34||W===39){for(var K=this.scanner.index,q=this.scanner.source[this.scanner.index++],Z="";!this.scanner.eof()&&(se=this.scanner.source[this.scanner.index++])!==q;)Z+=se==="&"?this.scanXHTMLEntity(q):se;return{type:8,value:Z,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:K,end:this.scanner.index}}if(W===46){var J=this.scanner.source.charCodeAt(this.scanner.index+1),Q=this.scanner.source.charCodeAt(this.scanner.index+2),ie=J===46&&Q===46?"...":".";return K=this.scanner.index,this.scanner.index+=ie.length,{type:7,value:ie,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:K,end:this.scanner.index}}if(W===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(M.Character.isIdentifierStart(W)&&W!==92){for(K=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var se=this.scanner.source.charCodeAt(this.scanner.index);if(M.Character.isIdentifierPart(se)&&se!==92)++this.scanner.index;else{if(se!==45)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(K,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:K,end:this.scanner.index}}return this.scanner.lex()},G.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var W=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(W)),W},G.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var W=this.scanner.index,K="";!this.scanner.eof();){var q=this.scanner.source[this.scanner.index];if(q==="{"||q==="<")break;++this.scanner.index,K+=q,M.Character.isLineTerminator(q.charCodeAt(0))&&(++this.scanner.lineNumber,q==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var Z={type:101,value:K,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:W,end:this.scanner.index};return K.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(Z)),Z},G.prototype.peekJSXToken=function(){var W=this.scanner.saveState();this.scanner.scanComments();var K=this.lexJSX();return this.scanner.restoreState(W),K},G.prototype.expectJSX=function(W){var K=this.nextJSXToken();K.type===7&&K.value===W||this.throwUnexpectedToken(K)},G.prototype.matchJSX=function(W){var K=this.peekJSXToken();return K.type===7&&K.value===W},G.prototype.parseJSXIdentifier=function(){var W=this.createJSXNode(),K=this.nextJSXToken();return K.type!==100&&this.throwUnexpectedToken(K),this.finalize(W,new P.JSXIdentifier(K.value))},G.prototype.parseJSXElementName=function(){var W=this.createJSXNode(),K=this.parseJSXIdentifier();if(this.matchJSX(":")){var q=K;this.expectJSX(":");var Z=this.parseJSXIdentifier();K=this.finalize(W,new P.JSXNamespacedName(q,Z))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var J=K;this.expectJSX(".");var Q=this.parseJSXIdentifier();K=this.finalize(W,new P.JSXMemberExpression(J,Q))}return K},G.prototype.parseJSXAttributeName=function(){var W,K=this.createJSXNode(),q=this.parseJSXIdentifier();if(this.matchJSX(":")){var Z=q;this.expectJSX(":");var J=this.parseJSXIdentifier();W=this.finalize(K,new P.JSXNamespacedName(Z,J))}else W=q;return W},G.prototype.parseJSXStringLiteralAttribute=function(){var W=this.createJSXNode(),K=this.nextJSXToken();K.type!==8&&this.throwUnexpectedToken(K);var q=this.getTokenRaw(K);return this.finalize(W,new E.Literal(K.value,q))},G.prototype.parseJSXExpressionAttribute=function(){var W=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var K=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(W,new P.JSXExpressionContainer(K))},G.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},G.prototype.parseJSXNameValueAttribute=function(){var W=this.createJSXNode(),K=this.parseJSXAttributeName(),q=null;return this.matchJSX("=")&&(this.expectJSX("="),q=this.parseJSXAttributeValue()),this.finalize(W,new P.JSXAttribute(K,q))},G.prototype.parseJSXSpreadAttribute=function(){var W=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var K=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(W,new P.JSXSpreadAttribute(K))},G.prototype.parseJSXAttributes=function(){for(var W=[];!this.matchJSX("/")&&!this.matchJSX(">");){var K=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();W.push(K)}return W},G.prototype.parseJSXOpeningElement=function(){var W=this.createJSXNode();this.expectJSX("<");var K=this.parseJSXElementName(),q=this.parseJSXAttributes(),Z=this.matchJSX("/");return Z&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(W,new P.JSXOpeningElement(K,Z,q))},G.prototype.parseJSXBoundaryElement=function(){var W=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var K=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(W,new P.JSXClosingElement(K))}var q=this.parseJSXElementName(),Z=this.parseJSXAttributes(),J=this.matchJSX("/");return J&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(W,new P.JSXOpeningElement(q,J,Z))},G.prototype.parseJSXEmptyExpression=function(){var W=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(W,new P.JSXEmptyExpression)},G.prototype.parseJSXExpressionContainer=function(){var W,K=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(W=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),W=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(K,new P.JSXExpressionContainer(W))},G.prototype.parseJSXChildren=function(){for(var W=[];!this.scanner.eof();){var K=this.createJSXChildNode(),q=this.nextJSXText();if(q.start<q.end){var Z=this.getTokenRaw(q),J=this.finalize(K,new P.JSXText(q.value,Z));W.push(J)}if(this.scanner.source[this.scanner.index]!=="{")break;var Q=this.parseJSXExpressionContainer();W.push(Q)}return W},G.prototype.parseComplexJSXElement=function(W){for(var K=[];!this.scanner.eof();){W.children=W.children.concat(this.parseJSXChildren());var q=this.createJSXChildNode(),Z=this.parseJSXBoundaryElement();if(Z.type===D.JSXSyntax.JSXOpeningElement){var J=Z;if(J.selfClosing){var Q=this.finalize(q,new P.JSXElement(J,[],null));W.children.push(Q)}else K.push(W),W={node:q,opening:J,closing:null,children:[]}}if(Z.type===D.JSXSyntax.JSXClosingElement){W.closing=Z;var ie=R(W.opening.name);if(ie!==R(W.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",ie),!(K.length>0))break;Q=this.finalize(W.node,new P.JSXElement(W.opening,W.children,W.closing)),(W=K[K.length-1]).children.push(Q),K.pop()}}return W},G.prototype.parseJSXElement=function(){var W=this.createJSXNode(),K=this.parseJSXOpeningElement(),q=[],Z=null;if(!K.selfClosing){var J=this.parseComplexJSXElement({node:W,opening:K,closing:Z,children:q});q=J.children,Z=J.closing}return this.finalize(W,new P.JSXElement(K,q,Z))},G.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var W=this.parseJSXElement();return this.finishJSX(),W},G.prototype.isStartOfExpression=function(){return z.prototype.isStartOfExpression.call(this)||this.match("<")},G}(I.Parser);w.JSXParser=L},function(g,w){Object.defineProperty(w,"__esModule",{value:!0});var C={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};w.Character={fromCodePoint:function(A){return A<65536?String.fromCharCode(A):String.fromCharCode(55296+(A-65536>>10))+String.fromCharCode(56320+(A-65536&1023))},isWhiteSpace:function(A){return A===32||A===9||A===11||A===12||A===160||A>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(A)>=0},isLineTerminator:function(A){return A===10||A===13||A===8232||A===8233},isIdentifierStart:function(A){return A===36||A===95||A>=65&&A<=90||A>=97&&A<=122||A===92||A>=128&&C.NonAsciiIdentifierStart.test(w.Character.fromCodePoint(A))},isIdentifierPart:function(A){return A===36||A===95||A>=65&&A<=90||A>=97&&A<=122||A>=48&&A<=57||A===92||A>=128&&C.NonAsciiIdentifierPart.test(w.Character.fromCodePoint(A))},isDecimalDigit:function(A){return A>=48&&A<=57},isHexDigit:function(A){return A>=48&&A<=57||A>=65&&A<=70||A>=97&&A<=102},isOctalDigit:function(A){return A>=48&&A<=55}}},function(g,w,C){Object.defineProperty(w,"__esModule",{value:!0});var A=C(6),_=function(G){this.type=A.JSXSyntax.JSXClosingElement,this.name=G};w.JSXClosingElement=_;var M=function(G,W,K){this.type=A.JSXSyntax.JSXElement,this.openingElement=G,this.children=W,this.closingElement=K};w.JSXElement=M;var P=function(){this.type=A.JSXSyntax.JSXEmptyExpression};w.JSXEmptyExpression=P;var D=function(G){this.type=A.JSXSyntax.JSXExpressionContainer,this.expression=G};w.JSXExpressionContainer=D;var E=function(G){this.type=A.JSXSyntax.JSXIdentifier,this.name=G};w.JSXIdentifier=E;var I=function(G,W){this.type=A.JSXSyntax.JSXMemberExpression,this.object=G,this.property=W};w.JSXMemberExpression=I;var B=function(G,W){this.type=A.JSXSyntax.JSXAttribute,this.name=G,this.value=W};w.JSXAttribute=B;var F=function(G,W){this.type=A.JSXSyntax.JSXNamespacedName,this.namespace=G,this.name=W};w.JSXNamespacedName=F;var R=function(G,W,K){this.type=A.JSXSyntax.JSXOpeningElement,this.name=G,this.selfClosing=W,this.attributes=K};w.JSXOpeningElement=R;var L=function(G){this.type=A.JSXSyntax.JSXSpreadAttribute,this.argument=G};w.JSXSpreadAttribute=L;var z=function(G,W){this.type=A.JSXSyntax.JSXText,this.value=G,this.raw=W};w.JSXText=z},function(g,w){Object.defineProperty(w,"__esModule",{value:!0}),w.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(g,w,C){Object.defineProperty(w,"__esModule",{value:!0});var A=C(2),_=function(Ve){this.type=A.Syntax.ArrayExpression,this.elements=Ve};w.ArrayExpression=_;var M=function(Ve){this.type=A.Syntax.ArrayPattern,this.elements=Ve};w.ArrayPattern=M;var P=function(Ve,ye,De){this.type=A.Syntax.ArrowFunctionExpression,this.id=null,this.params=Ve,this.body=ye,this.generator=!1,this.expression=De,this.async=!1};w.ArrowFunctionExpression=P;var D=function(Ve,ye,De){this.type=A.Syntax.AssignmentExpression,this.operator=Ve,this.left=ye,this.right=De};w.AssignmentExpression=D;var E=function(Ve,ye){this.type=A.Syntax.AssignmentPattern,this.left=Ve,this.right=ye};w.AssignmentPattern=E;var I=function(Ve,ye,De){this.type=A.Syntax.ArrowFunctionExpression,this.id=null,this.params=Ve,this.body=ye,this.generator=!1,this.expression=De,this.async=!0};w.AsyncArrowFunctionExpression=I;var B=function(Ve,ye,De){this.type=A.Syntax.FunctionDeclaration,this.id=Ve,this.params=ye,this.body=De,this.generator=!1,this.expression=!1,this.async=!0};w.AsyncFunctionDeclaration=B;var F=function(Ve,ye,De){this.type=A.Syntax.FunctionExpression,this.id=Ve,this.params=ye,this.body=De,this.generator=!1,this.expression=!1,this.async=!0};w.AsyncFunctionExpression=F;var R=function(Ve){this.type=A.Syntax.AwaitExpression,this.argument=Ve};w.AwaitExpression=R;var L=function(Ve,ye,De){var Fe=Ve==="||"||Ve==="&&";this.type=Fe?A.Syntax.LogicalExpression:A.Syntax.BinaryExpression,this.operator=Ve,this.left=ye,this.right=De};w.BinaryExpression=L;var z=function(Ve){this.type=A.Syntax.BlockStatement,this.body=Ve};w.BlockStatement=z;var G=function(Ve){this.type=A.Syntax.BreakStatement,this.label=Ve};w.BreakStatement=G;var W=function(Ve,ye){this.type=A.Syntax.CallExpression,this.callee=Ve,this.arguments=ye};w.CallExpression=W;var K=function(Ve,ye){this.type=A.Syntax.CatchClause,this.param=Ve,this.body=ye};w.CatchClause=K;var q=function(Ve){this.type=A.Syntax.ClassBody,this.body=Ve};w.ClassBody=q;var Z=function(Ve,ye,De){this.type=A.Syntax.ClassDeclaration,this.id=Ve,this.superClass=ye,this.body=De};w.ClassDeclaration=Z;var J=function(Ve,ye,De){this.type=A.Syntax.ClassExpression,this.id=Ve,this.superClass=ye,this.body=De};w.ClassExpression=J;var Q=function(Ve,ye){this.type=A.Syntax.MemberExpression,this.computed=!0,this.object=Ve,this.property=ye};w.ComputedMemberExpression=Q;var ie=function(Ve,ye,De){this.type=A.Syntax.ConditionalExpression,this.test=Ve,this.consequent=ye,this.alternate=De};w.ConditionalExpression=ie;var se=function(Ve){this.type=A.Syntax.ContinueStatement,this.label=Ve};w.ContinueStatement=se;var oe=function(){this.type=A.Syntax.DebuggerStatement};w.DebuggerStatement=oe;var ue=function(Ve,ye){this.type=A.Syntax.ExpressionStatement,this.expression=Ve,this.directive=ye};w.Directive=ue;var fe=function(Ve,ye){this.type=A.Syntax.DoWhileStatement,this.body=Ve,this.test=ye};w.DoWhileStatement=fe;var xe=function(){this.type=A.Syntax.EmptyStatement};w.EmptyStatement=xe;var ce=function(Ve){this.type=A.Syntax.ExportAllDeclaration,this.source=Ve};w.ExportAllDeclaration=ce;var me=function(Ve){this.type=A.Syntax.ExportDefaultDeclaration,this.declaration=Ve};w.ExportDefaultDeclaration=me;var pe=function(Ve,ye,De){this.type=A.Syntax.ExportNamedDeclaration,this.declaration=Ve,this.specifiers=ye,this.source=De};w.ExportNamedDeclaration=pe;var Se=function(Ve,ye){this.type=A.Syntax.ExportSpecifier,this.exported=ye,this.local=Ve};w.ExportSpecifier=Se;var Ae=function(Ve){this.type=A.Syntax.ExpressionStatement,this.expression=Ve};w.ExpressionStatement=Ae;var _e=function(Ve,ye,De){this.type=A.Syntax.ForInStatement,this.left=Ve,this.right=ye,this.body=De,this.each=!1};w.ForInStatement=_e;var Me=function(Ve,ye,De){this.type=A.Syntax.ForOfStatement,this.left=Ve,this.right=ye,this.body=De};w.ForOfStatement=Me;var ve=function(Ve,ye,De,Fe){this.type=A.Syntax.ForStatement,this.init=Ve,this.test=ye,this.update=De,this.body=Fe};w.ForStatement=ve;var Ee=function(Ve,ye,De,Fe){this.type=A.Syntax.FunctionDeclaration,this.id=Ve,this.params=ye,this.body=De,this.generator=Fe,this.expression=!1,this.async=!1};w.FunctionDeclaration=Ee;var Le=function(Ve,ye,De,Fe){this.type=A.Syntax.FunctionExpression,this.id=Ve,this.params=ye,this.body=De,this.generator=Fe,this.expression=!1,this.async=!1};w.FunctionExpression=Le;var Ie=function(Ve){this.type=A.Syntax.Identifier,this.name=Ve};w.Identifier=Ie;var Oe=function(Ve,ye,De){this.type=A.Syntax.IfStatement,this.test=Ve,this.consequent=ye,this.alternate=De};w.IfStatement=Oe;var le=function(Ve,ye){this.type=A.Syntax.ImportDeclaration,this.specifiers=Ve,this.source=ye};w.ImportDeclaration=le;var te=function(Ve){this.type=A.Syntax.ImportDefaultSpecifier,this.local=Ve};w.ImportDefaultSpecifier=te;var re=function(Ve){this.type=A.Syntax.ImportNamespaceSpecifier,this.local=Ve};w.ImportNamespaceSpecifier=re;var ne=function(Ve,ye){this.type=A.Syntax.ImportSpecifier,this.local=Ve,this.imported=ye};w.ImportSpecifier=ne;var ae=function(Ve,ye){this.type=A.Syntax.LabeledStatement,this.label=Ve,this.body=ye};w.LabeledStatement=ae;var he=function(Ve,ye){this.type=A.Syntax.Literal,this.value=Ve,this.raw=ye};w.Literal=he;var de=function(Ve,ye){this.type=A.Syntax.MetaProperty,this.meta=Ve,this.property=ye};w.MetaProperty=de;var be=function(Ve,ye,De,Fe,We){this.type=A.Syntax.MethodDefinition,this.key=Ve,this.computed=ye,this.value=De,this.kind=Fe,this.static=We};w.MethodDefinition=be;var Ce=function(Ve){this.type=A.Syntax.Program,this.body=Ve,this.sourceType="module"};w.Module=Ce;var we=function(Ve,ye){this.type=A.Syntax.NewExpression,this.callee=Ve,this.arguments=ye};w.NewExpression=we;var Pe=function(Ve){this.type=A.Syntax.ObjectExpression,this.properties=Ve};w.ObjectExpression=Pe;var ke=function(Ve){this.type=A.Syntax.ObjectPattern,this.properties=Ve};w.ObjectPattern=ke;var Be=function(Ve,ye,De,Fe,We,Ze){this.type=A.Syntax.Property,this.key=ye,this.computed=De,this.value=Fe,this.kind=Ve,this.method=We,this.shorthand=Ze};w.Property=Be;var Re=function(Ve,ye,De,Fe){this.type=A.Syntax.Literal,this.value=Ve,this.raw=ye,this.regex={pattern:De,flags:Fe}};w.RegexLiteral=Re;var ze=function(Ve){this.type=A.Syntax.RestElement,this.argument=Ve};w.RestElement=ze;var $e=function(Ve){this.type=A.Syntax.ReturnStatement,this.argument=Ve};w.ReturnStatement=$e;var je=function(Ve){this.type=A.Syntax.Program,this.body=Ve,this.sourceType="script"};w.Script=je;var ge=function(Ve){this.type=A.Syntax.SequenceExpression,this.expressions=Ve};w.SequenceExpression=ge;var He=function(Ve){this.type=A.Syntax.SpreadElement,this.argument=Ve};w.SpreadElement=He;var Ue=function(Ve,ye){this.type=A.Syntax.MemberExpression,this.computed=!1,this.object=Ve,this.property=ye};w.StaticMemberExpression=Ue;var Ye=function(){this.type=A.Syntax.Super};w.Super=Ye;var Te=function(Ve,ye){this.type=A.Syntax.SwitchCase,this.test=Ve,this.consequent=ye};w.SwitchCase=Te;var Ne=function(Ve,ye){this.type=A.Syntax.SwitchStatement,this.discriminant=Ve,this.cases=ye};w.SwitchStatement=Ne;var Ge=function(Ve,ye){this.type=A.Syntax.TaggedTemplateExpression,this.tag=Ve,this.quasi=ye};w.TaggedTemplateExpression=Ge;var Xe=function(Ve,ye){this.type=A.Syntax.TemplateElement,this.value=Ve,this.tail=ye};w.TemplateElement=Xe;var qe=function(Ve,ye){this.type=A.Syntax.TemplateLiteral,this.quasis=Ve,this.expressions=ye};w.TemplateLiteral=qe;var Je=function(){this.type=A.Syntax.ThisExpression};w.ThisExpression=Je;var Ke=function(Ve){this.type=A.Syntax.ThrowStatement,this.argument=Ve};w.ThrowStatement=Ke;var et=function(Ve,ye,De){this.type=A.Syntax.TryStatement,this.block=Ve,this.handler=ye,this.finalizer=De};w.TryStatement=et;var tt=function(Ve,ye){this.type=A.Syntax.UnaryExpression,this.operator=Ve,this.argument=ye,this.prefix=!0};w.UnaryExpression=tt;var ot=function(Ve,ye,De){this.type=A.Syntax.UpdateExpression,this.operator=Ve,this.argument=ye,this.prefix=De};w.UpdateExpression=ot;var nt=function(Ve,ye){this.type=A.Syntax.VariableDeclaration,this.declarations=Ve,this.kind=ye};w.VariableDeclaration=nt;var it=function(Ve,ye){this.type=A.Syntax.VariableDeclarator,this.id=Ve,this.init=ye};w.VariableDeclarator=it;var st=function(Ve,ye){this.type=A.Syntax.WhileStatement,this.test=Ve,this.body=ye};w.WhileStatement=st;var gt=function(Ve,ye){this.type=A.Syntax.WithStatement,this.object=Ve,this.body=ye};w.WithStatement=gt;var St=function(Ve,ye){this.type=A.Syntax.YieldExpression,this.argument=Ve,this.delegate=ye};w.YieldExpression=St},function(g,w,C){Object.defineProperty(w,"__esModule",{value:!0});var A=C(9),_=C(10),M=C(11),P=C(7),D=C(12),E=C(2),I=C(13),B=function(){function F(R,L,z){L===void 0&&(L={}),this.config={range:typeof L.range=="boolean"&&L.range,loc:typeof L.loc=="boolean"&&L.loc,source:null,tokens:typeof L.tokens=="boolean"&&L.tokens,comment:typeof L.comment=="boolean"&&L.comment,tolerant:typeof L.tolerant=="boolean"&&L.tolerant},this.config.loc&&L.source&&L.source!==null&&(this.config.source=String(L.source)),this.delegate=z,this.errorHandler=new _.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new D.Scanner(R,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return F.prototype.throwError=function(R){for(var L=[],z=1;z<arguments.length;z++)L[z-1]=arguments[z];var G=Array.prototype.slice.call(arguments,1),W=R.replace(/%(\d)/g,function(J,Q){return A.assert(Q<G.length,"Message reference must be in range"),G[Q]}),K=this.lastMarker.index,q=this.lastMarker.line,Z=this.lastMarker.column+1;throw this.errorHandler.createError(K,q,Z,W)},F.prototype.tolerateError=function(R){for(var L=[],z=1;z<arguments.length;z++)L[z-1]=arguments[z];var G=Array.prototype.slice.call(arguments,1),W=R.replace(/%(\d)/g,function(J,Q){return A.assert(Q<G.length,"Message reference must be in range"),G[Q]}),K=this.lastMarker.index,q=this.scanner.lineNumber,Z=this.lastMarker.column+1;this.errorHandler.tolerateError(K,q,Z,W)},F.prototype.unexpectedTokenError=function(R,L){var z,G=L||M.Messages.UnexpectedToken;if(R?(L||(G=R.type===2?M.Messages.UnexpectedEOS:R.type===3?M.Messages.UnexpectedIdentifier:R.type===6?M.Messages.UnexpectedNumber:R.type===8?M.Messages.UnexpectedString:R.type===10?M.Messages.UnexpectedTemplate:M.Messages.UnexpectedToken,R.type===4&&(this.scanner.isFutureReservedWord(R.value)?G=M.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(R.value)&&(G=M.Messages.StrictReservedWord))),z=R.value):z="ILLEGAL",G=G.replace("%0",z),R&&typeof R.lineNumber=="number"){var W=R.start,K=R.lineNumber,q=this.lastMarker.index-this.lastMarker.column,Z=R.start-q+1;return this.errorHandler.createError(W,K,Z,G)}return W=this.lastMarker.index,K=this.lastMarker.line,Z=this.lastMarker.column+1,this.errorHandler.createError(W,K,Z,G)},F.prototype.throwUnexpectedToken=function(R,L){throw this.unexpectedTokenError(R,L)},F.prototype.tolerateUnexpectedToken=function(R,L){this.errorHandler.tolerate(this.unexpectedTokenError(R,L))},F.prototype.collectComments=function(){if(this.config.comment){var R=this.scanner.scanComments();if(R.length>0&&this.delegate)for(var L=0;L<R.length;++L){var z=R[L],G=void 0;G={type:z.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(z.slice[0],z.slice[1])},this.config.range&&(G.range=z.range),this.config.loc&&(G.loc=z.loc);var W={start:{line:z.loc.start.line,column:z.loc.start.column,offset:z.range[0]},end:{line:z.loc.end.line,column:z.loc.end.column,offset:z.range[1]}};this.delegate(G,W)}}else this.scanner.scanComments()},F.prototype.getTokenRaw=function(R){return this.scanner.source.slice(R.start,R.end)},F.prototype.convertToken=function(R){var L={type:I.TokenName[R.type],value:this.getTokenRaw(R)};if(this.config.range&&(L.range=[R.start,R.end]),this.config.loc&&(L.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),R.type===9){var z=R.pattern,G=R.flags;L.regex={pattern:z,flags:G}}return L},F.prototype.nextToken=function(){var R=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var L=this.scanner.lex();return this.hasLineTerminator=R.lineNumber!==L.lineNumber,L&&this.context.strict&&L.type===3&&this.scanner.isStrictModeReservedWord(L.value)&&(L.type=4),this.lookahead=L,this.config.tokens&&L.type!==2&&this.tokens.push(this.convertToken(L)),R},F.prototype.nextRegexToken=function(){this.collectComments();var R=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(R))),this.lookahead=R,this.nextToken(),R},F.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},F.prototype.startNode=function(R,L){L===void 0&&(L=0);var z=R.start-R.lineStart,G=R.lineNumber;return z<0&&(z+=L,G--),{index:R.start,line:G,column:z}},F.prototype.finalize=function(R,L){if(this.config.range&&(L.range=[R.index,this.lastMarker.index]),this.config.loc&&(L.loc={start:{line:R.line,column:R.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(L.loc.source=this.config.source)),this.delegate){var z={start:{line:R.line,column:R.column,offset:R.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(L,z)}return L},F.prototype.expect=function(R){var L=this.nextToken();L.type===7&&L.value===R||this.throwUnexpectedToken(L)},F.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var R=this.lookahead;R.type===7&&R.value===","?this.nextToken():R.type===7&&R.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(R)):this.tolerateUnexpectedToken(R,M.Messages.UnexpectedToken)}else this.expect(",")},F.prototype.expectKeyword=function(R){var L=this.nextToken();L.type===4&&L.value===R||this.throwUnexpectedToken(L)},F.prototype.match=function(R){return this.lookahead.type===7&&this.lookahead.value===R},F.prototype.matchKeyword=function(R){return this.lookahead.type===4&&this.lookahead.value===R},F.prototype.matchContextualKeyword=function(R){return this.lookahead.type===3&&this.lookahead.value===R},F.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var R=this.lookahead.value;return R==="="||R==="*="||R==="**="||R==="/="||R==="%="||R==="+="||R==="-="||R==="<<="||R===">>="||R===">>>="||R==="&="||R==="^="||R==="|="},F.prototype.isolateCoverGrammar=function(R){var L=this.context.isBindingElement,z=this.context.isAssignmentTarget,G=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var W=R.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=L,this.context.isAssignmentTarget=z,this.context.firstCoverInitializedNameError=G,W},F.prototype.inheritCoverGrammar=function(R){var L=this.context.isBindingElement,z=this.context.isAssignmentTarget,G=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var W=R.call(this);return this.context.isBindingElement=this.context.isBindingElement&&L,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&z,this.context.firstCoverInitializedNameError=G||this.context.firstCoverInitializedNameError,W},F.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===2||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},F.prototype.parsePrimaryExpression=function(){var R,L,z,G=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),R=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(G,new P.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,M.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,L=this.nextToken(),z=this.getTokenRaw(L),R=this.finalize(G,new P.Literal(L.value,z));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,L=this.nextToken(),z=this.getTokenRaw(L),R=this.finalize(G,new P.Literal(L.value==="true",z));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,L=this.nextToken(),z=this.getTokenRaw(L),R=this.finalize(G,new P.Literal(null,z));break;case 10:R=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,R=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":R=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":R=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,L=this.nextRegexToken(),z=this.getTokenRaw(L),R=this.finalize(G,new P.RegexLiteral(L.regex,z,L.pattern,L.flags));break;default:R=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?R=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?R=this.finalize(G,new P.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?R=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),R=this.finalize(G,new P.ThisExpression)):R=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:R=this.throwUnexpectedToken(this.nextToken())}return R},F.prototype.parseSpreadElement=function(){var R=this.createNode();this.expect("...");var L=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(R,new P.SpreadElement(L))},F.prototype.parseArrayInitializer=function(){var R=this.createNode(),L=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),L.push(null);else if(this.match("...")){var z=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),L.push(z)}else L.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(R,new P.ArrayExpression(L))},F.prototype.parsePropertyMethod=function(R){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var L=this.context.strict,z=this.context.allowStrictDirective;this.context.allowStrictDirective=R.simple;var G=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&R.firstRestricted&&this.tolerateUnexpectedToken(R.firstRestricted,R.message),this.context.strict&&R.stricted&&this.tolerateUnexpectedToken(R.stricted,R.message),this.context.strict=L,this.context.allowStrictDirective=z,G},F.prototype.parsePropertyMethodFunction=function(){var R=this.createNode(),L=this.context.allowYield;this.context.allowYield=!0;var z=this.parseFormalParameters(),G=this.parsePropertyMethod(z);return this.context.allowYield=L,this.finalize(R,new P.FunctionExpression(null,z.params,G,!1))},F.prototype.parsePropertyMethodAsyncFunction=function(){var R=this.createNode(),L=this.context.allowYield,z=this.context.await;this.context.allowYield=!1,this.context.await=!0;var G=this.parseFormalParameters(),W=this.parsePropertyMethod(G);return this.context.allowYield=L,this.context.await=z,this.finalize(R,new P.AsyncFunctionExpression(null,G.params,W))},F.prototype.parseObjectPropertyKey=function(){var R,L=this.createNode(),z=this.nextToken();switch(z.type){case 8:case 6:this.context.strict&&z.octal&&this.tolerateUnexpectedToken(z,M.Messages.StrictOctalLiteral);var G=this.getTokenRaw(z);R=this.finalize(L,new P.Literal(z.value,G));break;case 3:case 1:case 5:case 4:R=this.finalize(L,new P.Identifier(z.value));break;case 7:z.value==="["?(R=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):R=this.throwUnexpectedToken(z);break;default:R=this.throwUnexpectedToken(z)}return R},F.prototype.isPropertyKey=function(R,L){return R.type===E.Syntax.Identifier&&R.name===L||R.type===E.Syntax.Literal&&R.value===L},F.prototype.parseObjectProperty=function(R){var L,z=this.createNode(),G=this.lookahead,W=null,K=null,q=!1,Z=!1,J=!1,Q=!1;if(G.type===3){var ie=G.value;this.nextToken(),q=this.match("["),W=(Q=!(this.hasLineTerminator||ie!=="async"||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(z,new P.Identifier(ie))}else this.match("*")?this.nextToken():(q=this.match("["),W=this.parseObjectPropertyKey());var se=this.qualifiedPropertyName(this.lookahead);if(G.type===3&&!Q&&G.value==="get"&&se)L="get",q=this.match("["),W=this.parseObjectPropertyKey(),this.context.allowYield=!1,K=this.parseGetterMethod();else if(G.type===3&&!Q&&G.value==="set"&&se)L="set",q=this.match("["),W=this.parseObjectPropertyKey(),K=this.parseSetterMethod();else if(G.type===7&&G.value==="*"&&se)L="init",q=this.match("["),W=this.parseObjectPropertyKey(),K=this.parseGeneratorMethod(),Z=!0;else if(W||this.throwUnexpectedToken(this.lookahead),L="init",this.match(":")&&!Q)!q&&this.isPropertyKey(W,"__proto__")&&(R.value&&this.tolerateError(M.Messages.DuplicateProtoProperty),R.value=!0),this.nextToken(),K=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))K=Q?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),Z=!0;else if(G.type===3)if(ie=this.finalize(z,new P.Identifier(G.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),J=!0;var oe=this.isolateCoverGrammar(this.parseAssignmentExpression);K=this.finalize(z,new P.AssignmentPattern(ie,oe))}else J=!0,K=ie;else this.throwUnexpectedToken(this.nextToken());return this.finalize(z,new P.Property(L,W,q,K,Z,J))},F.prototype.parseObjectInitializer=function(){var R=this.createNode();this.expect("{");for(var L=[],z={value:!1};!this.match("}");)L.push(this.parseObjectProperty(z)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(R,new P.ObjectExpression(L))},F.prototype.parseTemplateHead=function(){A.assert(this.lookahead.head,"Template literal must start with a template head");var R=this.createNode(),L=this.nextToken(),z=L.value,G=L.cooked;return this.finalize(R,new P.TemplateElement({raw:z,cooked:G},L.tail))},F.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var R=this.createNode(),L=this.nextToken(),z=L.value,G=L.cooked;return this.finalize(R,new P.TemplateElement({raw:z,cooked:G},L.tail))},F.prototype.parseTemplateLiteral=function(){var R=this.createNode(),L=[],z=[],G=this.parseTemplateHead();for(z.push(G);!G.tail;)L.push(this.parseExpression()),G=this.parseTemplateElement(),z.push(G);return this.finalize(R,new P.TemplateLiteral(z,L))},F.prototype.reinterpretExpressionAsPattern=function(R){switch(R.type){case E.Syntax.Identifier:case E.Syntax.MemberExpression:case E.Syntax.RestElement:case E.Syntax.AssignmentPattern:break;case E.Syntax.SpreadElement:R.type=E.Syntax.RestElement,this.reinterpretExpressionAsPattern(R.argument);break;case E.Syntax.ArrayExpression:R.type=E.Syntax.ArrayPattern;for(var L=0;L<R.elements.length;L++)R.elements[L]!==null&&this.reinterpretExpressionAsPattern(R.elements[L]);break;case E.Syntax.ObjectExpression:for(R.type=E.Syntax.ObjectPattern,L=0;L<R.properties.length;L++)this.reinterpretExpressionAsPattern(R.properties[L].value);break;case E.Syntax.AssignmentExpression:R.type=E.Syntax.AssignmentPattern,delete R.operator,this.reinterpretExpressionAsPattern(R.left)}},F.prototype.parseGroupExpression=function(){var R;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),R={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var L=this.lookahead,z=[];if(this.match("..."))R=this.parseRestElement(z),this.expect(")"),this.match("=>")||this.expect("=>"),R={type:"ArrowParameterPlaceHolder",params:[R],async:!1};else{var G=!1;if(this.context.isBindingElement=!0,R=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var W=[];for(this.context.isAssignmentTarget=!1,W.push(R);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var K=0;K<W.length;K++)this.reinterpretExpressionAsPattern(W[K]);G=!0,R={type:"ArrowParameterPlaceHolder",params:W,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),W.push(this.parseRestElement(z)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,K=0;K<W.length;K++)this.reinterpretExpressionAsPattern(W[K]);G=!0,R={type:"ArrowParameterPlaceHolder",params:W,async:!1}}else W.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(G)break}G||(R=this.finalize(this.startNode(L),new P.SequenceExpression(W)))}if(!G){if(this.expect(")"),this.match("=>")&&(R.type===E.Syntax.Identifier&&R.name==="yield"&&(G=!0,R={type:"ArrowParameterPlaceHolder",params:[R],async:!1}),!G)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),R.type===E.Syntax.SequenceExpression)for(K=0;K<R.expressions.length;K++)this.reinterpretExpressionAsPattern(R.expressions[K]);else this.reinterpretExpressionAsPattern(R);R={type:"ArrowParameterPlaceHolder",params:R.type===E.Syntax.SequenceExpression?R.expressions:[R],async:!1}}this.context.isBindingElement=!1}}}return R},F.prototype.parseArguments=function(){this.expect("(");var R=[];if(!this.match(")"))for(;;){var L=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(R.push(L),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),R},F.prototype.isIdentifierName=function(R){return R.type===3||R.type===4||R.type===1||R.type===5},F.prototype.parseIdentifierName=function(){var R=this.createNode(),L=this.nextToken();return this.isIdentifierName(L)||this.throwUnexpectedToken(L),this.finalize(R,new P.Identifier(L.value))},F.prototype.parseNewExpression=function(){var R,L=this.createNode(),z=this.parseIdentifierName();if(A.assert(z.name==="new","New expression must start with `new`"),this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var G=this.parseIdentifierName();R=new P.MetaProperty(z,G)}else this.throwUnexpectedToken(this.lookahead);else{var W=this.isolateCoverGrammar(this.parseLeftHandSideExpression),K=this.match("(")?this.parseArguments():[];R=new P.NewExpression(W,K),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(L,R)},F.prototype.parseAsyncArgument=function(){var R=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,R},F.prototype.parseAsyncArguments=function(){this.expect("(");var R=[];if(!this.match(")"))for(;;){var L=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(R.push(L),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),R},F.prototype.parseLeftHandSideExpressionAllowCall=function(){var R,L=this.lookahead,z=this.matchContextualKeyword("async"),G=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(R=this.createNode(),this.nextToken(),R=this.finalize(R,new P.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):R=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var W=this.parseIdentifierName();R=this.finalize(this.startNode(L),new P.StaticMemberExpression(R,W))}else if(this.match("(")){var K=z&&L.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var q=K?this.parseAsyncArguments():this.parseArguments();if(R=this.finalize(this.startNode(L),new P.CallExpression(R,q)),K&&this.match("=>")){for(var Z=0;Z<q.length;++Z)this.reinterpretExpressionAsPattern(q[Z]);R={type:"ArrowParameterPlaceHolder",params:q,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),W=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),R=this.finalize(this.startNode(L),new P.ComputedMemberExpression(R,W));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var J=this.parseTemplateLiteral();R=this.finalize(this.startNode(L),new P.TaggedTemplateExpression(R,J))}return this.context.allowIn=G,R},F.prototype.parseSuper=function(){var R=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(R,new P.Super)},F.prototype.parseLeftHandSideExpression=function(){A.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var R=this.startNode(this.lookahead),L=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var z=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),L=this.finalize(R,new P.ComputedMemberExpression(L,z))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),z=this.parseIdentifierName(),L=this.finalize(R,new P.StaticMemberExpression(L,z));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var G=this.parseTemplateLiteral();L=this.finalize(R,new P.TaggedTemplateExpression(L,G))}return L},F.prototype.parseUpdateExpression=function(){var R,L=this.lookahead;if(this.match("++")||this.match("--")){var z=this.startNode(L),G=this.nextToken();R=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&R.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(R.name)&&this.tolerateError(M.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(M.Messages.InvalidLHSInAssignment);var W=!0;R=this.finalize(z,new P.UpdateExpression(G.value,R,W)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(R=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&R.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(R.name)&&this.tolerateError(M.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(M.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var K=this.nextToken().value;W=!1,R=this.finalize(this.startNode(L),new P.UpdateExpression(K,R,W))}return R},F.prototype.parseAwaitExpression=function(){var R=this.createNode();this.nextToken();var L=this.parseUnaryExpression();return this.finalize(R,new P.AwaitExpression(L))},F.prototype.parseUnaryExpression=function(){var R;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var L=this.startNode(this.lookahead),z=this.nextToken();R=this.inheritCoverGrammar(this.parseUnaryExpression),R=this.finalize(L,new P.UnaryExpression(z.value,R)),this.context.strict&&R.operator==="delete"&&R.argument.type===E.Syntax.Identifier&&this.tolerateError(M.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else R=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return R},F.prototype.parseExponentiationExpression=function(){var R=this.lookahead,L=this.inheritCoverGrammar(this.parseUnaryExpression);if(L.type!==E.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var z=L,G=this.isolateCoverGrammar(this.parseExponentiationExpression);L=this.finalize(this.startNode(R),new P.BinaryExpression("**",z,G))}return L},F.prototype.binaryPrecedence=function(R){var L=R.value;return R.type===7?this.operatorPrecedence[L]||0:R.type===4&&(L==="instanceof"||this.context.allowIn&&L==="in")?7:0},F.prototype.parseBinaryExpression=function(){var R=this.lookahead,L=this.inheritCoverGrammar(this.parseExponentiationExpression),z=this.lookahead,G=this.binaryPrecedence(z);if(G>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var W=[R,this.lookahead],K=L,q=this.isolateCoverGrammar(this.parseExponentiationExpression),Z=[K,z.value,q],J=[G];!((G=this.binaryPrecedence(this.lookahead))<=0);){for(;Z.length>2&&G<=J[J.length-1];){q=Z.pop();var Q=Z.pop();J.pop(),K=Z.pop(),W.pop();var ie=this.startNode(W[W.length-1]);Z.push(this.finalize(ie,new P.BinaryExpression(Q,K,q)))}Z.push(this.nextToken().value),J.push(G),W.push(this.lookahead),Z.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var se=Z.length-1;L=Z[se];for(var oe=W.pop();se>1;){var ue=W.pop(),fe=oe&&oe.lineStart;ie=this.startNode(ue,fe),Q=Z[se-1],L=this.finalize(ie,new P.BinaryExpression(Q,Z[se-2],L)),se-=2,oe=ue}}return L},F.prototype.parseConditionalExpression=function(){var R=this.lookahead,L=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var z=this.context.allowIn;this.context.allowIn=!0;var G=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=z,this.expect(":");var W=this.isolateCoverGrammar(this.parseAssignmentExpression);L=this.finalize(this.startNode(R),new P.ConditionalExpression(L,G,W)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return L},F.prototype.checkPatternParam=function(R,L){switch(L.type){case E.Syntax.Identifier:this.validateParam(R,L,L.name);break;case E.Syntax.RestElement:this.checkPatternParam(R,L.argument);break;case E.Syntax.AssignmentPattern:this.checkPatternParam(R,L.left);break;case E.Syntax.ArrayPattern:for(var z=0;z<L.elements.length;z++)L.elements[z]!==null&&this.checkPatternParam(R,L.elements[z]);break;case E.Syntax.ObjectPattern:for(z=0;z<L.properties.length;z++)this.checkPatternParam(R,L.properties[z].value)}R.simple=R.simple&&L instanceof P.Identifier},F.prototype.reinterpretAsCoverFormalsList=function(R){var L,z=[R],G=!1;switch(R.type){case E.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":z=R.params,G=R.async;break;default:return null}L={simple:!0,paramSet:{}};for(var W=0;W<z.length;++W)(K=z[W]).type===E.Syntax.AssignmentPattern?K.right.type===E.Syntax.YieldExpression&&(K.right.argument&&this.throwUnexpectedToken(this.lookahead),K.right.type=E.Syntax.Identifier,K.right.name="yield",delete K.right.argument,delete K.right.delegate):G&&K.type===E.Syntax.Identifier&&K.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(L,K),z[W]=K;if(this.context.strict||!this.context.allowYield)for(W=0;W<z.length;++W){var K;(K=z[W]).type===E.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(L.message===M.Messages.StrictParamDupe){var q=this.context.strict?L.stricted:L.firstRestricted;this.throwUnexpectedToken(q,L.message)}return{simple:L.simple,params:z,stricted:L.stricted,firstRestricted:L.firstRestricted,message:L.message}},F.prototype.parseAssignmentExpression=function(){var R;if(!this.context.allowYield&&this.matchKeyword("yield"))R=this.parseYieldExpression();else{var L=this.lookahead,z=L;if(R=this.parseConditionalExpression(),z.type===3&&z.lineNumber===this.lookahead.lineNumber&&z.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var G=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(G),R={type:"ArrowParameterPlaceHolder",params:[G],async:!0}}if(R.type==="ArrowParameterPlaceHolder"||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var W=R.async,K=this.reinterpretAsCoverFormalsList(R);if(K){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var q=this.context.strict,Z=this.context.allowStrictDirective;this.context.allowStrictDirective=K.simple;var J=this.context.allowYield,Q=this.context.await;this.context.allowYield=!0,this.context.await=W;var ie=this.startNode(L);this.expect("=>");var se=void 0;if(this.match("{")){var oe=this.context.allowIn;this.context.allowIn=!0,se=this.parseFunctionSourceElements(),this.context.allowIn=oe}else se=this.isolateCoverGrammar(this.parseAssignmentExpression);var ue=se.type!==E.Syntax.BlockStatement;this.context.strict&&K.firstRestricted&&this.throwUnexpectedToken(K.firstRestricted,K.message),this.context.strict&&K.stricted&&this.tolerateUnexpectedToken(K.stricted,K.message),R=W?this.finalize(ie,new P.AsyncArrowFunctionExpression(K.params,se,ue)):this.finalize(ie,new P.ArrowFunctionExpression(K.params,se,ue)),this.context.strict=q,this.context.allowStrictDirective=Z,this.context.allowYield=J,this.context.await=Q}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(M.Messages.InvalidLHSInAssignment),this.context.strict&&R.type===E.Syntax.Identifier){var fe=R;this.scanner.isRestrictedWord(fe.name)&&this.tolerateUnexpectedToken(z,M.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(fe.name)&&this.tolerateUnexpectedToken(z,M.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(R):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var xe=(z=this.nextToken()).value,ce=this.isolateCoverGrammar(this.parseAssignmentExpression);R=this.finalize(this.startNode(L),new P.AssignmentExpression(xe,R,ce)),this.context.firstCoverInitializedNameError=null}}return R},F.prototype.parseExpression=function(){var R=this.lookahead,L=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var z=[];for(z.push(L);this.lookahead.type!==2&&this.match(",");)this.nextToken(),z.push(this.isolateCoverGrammar(this.parseAssignmentExpression));L=this.finalize(this.startNode(R),new P.SequenceExpression(z))}return L},F.prototype.parseStatementListItem=function(){var R;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,M.Messages.IllegalExportDeclaration),R=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,M.Messages.IllegalImportDeclaration),R=this.parseImportDeclaration();break;case"const":R=this.parseLexicalDeclaration({inFor:!1});break;case"function":R=this.parseFunctionDeclaration();break;case"class":R=this.parseClassDeclaration();break;case"let":R=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:R=this.parseStatement()}else R=this.parseStatement();return R},F.prototype.parseBlock=function(){var R=this.createNode();this.expect("{");for(var L=[];!this.match("}");)L.push(this.parseStatementListItem());return this.expect("}"),this.finalize(R,new P.BlockStatement(L))},F.prototype.parseLexicalBinding=function(R,L){var z=this.createNode(),G=this.parsePattern([],R);this.context.strict&&G.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(G.name)&&this.tolerateError(M.Messages.StrictVarName);var W=null;return R==="const"?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),W=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(M.Messages.DeclarationMissingInitializer,"const")):(!L.inFor&&G.type!==E.Syntax.Identifier||this.match("="))&&(this.expect("="),W=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(z,new P.VariableDeclarator(G,W))},F.prototype.parseBindingList=function(R,L){for(var z=[this.parseLexicalBinding(R,L)];this.match(",");)this.nextToken(),z.push(this.parseLexicalBinding(R,L));return z},F.prototype.isLexicalDeclaration=function(){var R=this.scanner.saveState();this.scanner.scanComments();var L=this.scanner.lex();return this.scanner.restoreState(R),L.type===3||L.type===7&&L.value==="["||L.type===7&&L.value==="{"||L.type===4&&L.value==="let"||L.type===4&&L.value==="yield"},F.prototype.parseLexicalDeclaration=function(R){var L=this.createNode(),z=this.nextToken().value;A.assert(z==="let"||z==="const","Lexical declaration must be either let or const");var G=this.parseBindingList(z,R);return this.consumeSemicolon(),this.finalize(L,new P.VariableDeclaration(G,z))},F.prototype.parseBindingRestElement=function(R,L){var z=this.createNode();this.expect("...");var G=this.parsePattern(R,L);return this.finalize(z,new P.RestElement(G))},F.prototype.parseArrayPattern=function(R,L){var z=this.createNode();this.expect("[");for(var G=[];!this.match("]");)if(this.match(","))this.nextToken(),G.push(null);else{if(this.match("...")){G.push(this.parseBindingRestElement(R,L));break}G.push(this.parsePatternWithDefault(R,L)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(z,new P.ArrayPattern(G))},F.prototype.parsePropertyPattern=function(R,L){var z,G,W=this.createNode(),K=!1,q=!1;if(this.lookahead.type===3){var Z=this.lookahead;z=this.parseVariableIdentifier();var J=this.finalize(W,new P.Identifier(Z.value));if(this.match("=")){R.push(Z),q=!0,this.nextToken();var Q=this.parseAssignmentExpression();G=this.finalize(this.startNode(Z),new P.AssignmentPattern(J,Q))}else this.match(":")?(this.expect(":"),G=this.parsePatternWithDefault(R,L)):(R.push(Z),q=!0,G=J)}else K=this.match("["),z=this.parseObjectPropertyKey(),this.expect(":"),G=this.parsePatternWithDefault(R,L);return this.finalize(W,new P.Property("init",z,K,G,!1,q))},F.prototype.parseObjectPattern=function(R,L){var z=this.createNode(),G=[];for(this.expect("{");!this.match("}");)G.push(this.parsePropertyPattern(R,L)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(z,new P.ObjectPattern(G))},F.prototype.parsePattern=function(R,L){var z;return this.match("[")?z=this.parseArrayPattern(R,L):this.match("{")?z=this.parseObjectPattern(R,L):(!this.matchKeyword("let")||L!=="const"&&L!=="let"||this.tolerateUnexpectedToken(this.lookahead,M.Messages.LetInLexicalBinding),R.push(this.lookahead),z=this.parseVariableIdentifier(L)),z},F.prototype.parsePatternWithDefault=function(R,L){var z=this.lookahead,G=this.parsePattern(R,L);if(this.match("=")){this.nextToken();var W=this.context.allowYield;this.context.allowYield=!0;var K=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=W,G=this.finalize(this.startNode(z),new P.AssignmentPattern(G,K))}return G},F.prototype.parseVariableIdentifier=function(R){var L=this.createNode(),z=this.nextToken();return z.type===4&&z.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(z,M.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(z):z.type!==3?this.context.strict&&z.type===4&&this.scanner.isStrictModeReservedWord(z.value)?this.tolerateUnexpectedToken(z,M.Messages.StrictReservedWord):(this.context.strict||z.value!=="let"||R!=="var")&&this.throwUnexpectedToken(z):(this.context.isModule||this.context.await)&&z.type===3&&z.value==="await"&&this.tolerateUnexpectedToken(z),this.finalize(L,new P.Identifier(z.value))},F.prototype.parseVariableDeclaration=function(R){var L=this.createNode(),z=this.parsePattern([],"var");this.context.strict&&z.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(z.name)&&this.tolerateError(M.Messages.StrictVarName);var G=null;return this.match("=")?(this.nextToken(),G=this.isolateCoverGrammar(this.parseAssignmentExpression)):z.type===E.Syntax.Identifier||R.inFor||this.expect("="),this.finalize(L,new P.VariableDeclarator(z,G))},F.prototype.parseVariableDeclarationList=function(R){var L={inFor:R.inFor},z=[];for(z.push(this.parseVariableDeclaration(L));this.match(",");)this.nextToken(),z.push(this.parseVariableDeclaration(L));return z},F.prototype.parseVariableStatement=function(){var R=this.createNode();this.expectKeyword("var");var L=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(R,new P.VariableDeclaration(L,"var"))},F.prototype.parseEmptyStatement=function(){var R=this.createNode();return this.expect(";"),this.finalize(R,new P.EmptyStatement)},F.prototype.parseExpressionStatement=function(){var R=this.createNode(),L=this.parseExpression();return this.consumeSemicolon(),this.finalize(R,new P.ExpressionStatement(L))},F.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(M.Messages.StrictFunction),this.parseStatement()},F.prototype.parseIfStatement=function(){var R,L=this.createNode(),z=null;this.expectKeyword("if"),this.expect("(");var G=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),R=this.finalize(this.createNode(),new P.EmptyStatement)):(this.expect(")"),R=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),z=this.parseIfClause())),this.finalize(L,new P.IfStatement(G,R,z))},F.prototype.parseDoWhileStatement=function(){var R=this.createNode();this.expectKeyword("do");var L=this.context.inIteration;this.context.inIteration=!0;var z=this.parseStatement();this.context.inIteration=L,this.expectKeyword("while"),this.expect("(");var G=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(R,new P.DoWhileStatement(z,G))},F.prototype.parseWhileStatement=function(){var R,L=this.createNode();this.expectKeyword("while"),this.expect("(");var z=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),R=this.finalize(this.createNode(),new P.EmptyStatement);else{this.expect(")");var G=this.context.inIteration;this.context.inIteration=!0,R=this.parseStatement(),this.context.inIteration=G}return this.finalize(L,new P.WhileStatement(z,R))},F.prototype.parseForStatement=function(){var R,L,z,G=null,W=null,K=null,q=!0,Z=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){G=this.createNode(),this.nextToken();var J=this.context.allowIn;this.context.allowIn=!1;var Q=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=J,Q.length===1&&this.matchKeyword("in")){var ie=Q[0];ie.init&&(ie.id.type===E.Syntax.ArrayPattern||ie.id.type===E.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(M.Messages.ForInOfLoopInitializer,"for-in"),G=this.finalize(G,new P.VariableDeclaration(Q,"var")),this.nextToken(),R=G,L=this.parseExpression(),G=null}else Q.length===1&&Q[0].init===null&&this.matchContextualKeyword("of")?(G=this.finalize(G,new P.VariableDeclaration(Q,"var")),this.nextToken(),R=G,L=this.parseAssignmentExpression(),G=null,q=!1):(G=this.finalize(G,new P.VariableDeclaration(Q,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){G=this.createNode();var se=this.nextToken().value;this.context.strict||this.lookahead.value!=="in"?(J=this.context.allowIn,this.context.allowIn=!1,Q=this.parseBindingList(se,{inFor:!0}),this.context.allowIn=J,Q.length===1&&Q[0].init===null&&this.matchKeyword("in")?(G=this.finalize(G,new P.VariableDeclaration(Q,se)),this.nextToken(),R=G,L=this.parseExpression(),G=null):Q.length===1&&Q[0].init===null&&this.matchContextualKeyword("of")?(G=this.finalize(G,new P.VariableDeclaration(Q,se)),this.nextToken(),R=G,L=this.parseAssignmentExpression(),G=null,q=!1):(this.consumeSemicolon(),G=this.finalize(G,new P.VariableDeclaration(Q,se)))):(G=this.finalize(G,new P.Identifier(se)),this.nextToken(),R=G,L=this.parseExpression(),G=null)}else{var oe=this.lookahead;if(J=this.context.allowIn,this.context.allowIn=!1,G=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=J,this.matchKeyword("in"))this.context.isAssignmentTarget&&G.type!==E.Syntax.AssignmentExpression||this.tolerateError(M.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(G),R=G,L=this.parseExpression(),G=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&G.type!==E.Syntax.AssignmentExpression||this.tolerateError(M.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(G),R=G,L=this.parseAssignmentExpression(),G=null,q=!1;else{if(this.match(",")){for(var ue=[G];this.match(",");)this.nextToken(),ue.push(this.isolateCoverGrammar(this.parseAssignmentExpression));G=this.finalize(this.startNode(oe),new P.SequenceExpression(ue))}this.expect(";")}}if(R===void 0&&(this.match(";")||(W=this.parseExpression()),this.expect(";"),this.match(")")||(K=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),z=this.finalize(this.createNode(),new P.EmptyStatement);else{this.expect(")");var fe=this.context.inIteration;this.context.inIteration=!0,z=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=fe}return R===void 0?this.finalize(Z,new P.ForStatement(G,W,K,z)):q?this.finalize(Z,new P.ForInStatement(R,L,z)):this.finalize(Z,new P.ForOfStatement(R,L,z))},F.prototype.parseContinueStatement=function(){var R=this.createNode();this.expectKeyword("continue");var L=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var z=this.parseVariableIdentifier();L=z;var G="$"+z.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,G)||this.throwError(M.Messages.UnknownLabel,z.name)}return this.consumeSemicolon(),L!==null||this.context.inIteration||this.throwError(M.Messages.IllegalContinue),this.finalize(R,new P.ContinueStatement(L))},F.prototype.parseBreakStatement=function(){var R=this.createNode();this.expectKeyword("break");var L=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var z=this.parseVariableIdentifier(),G="$"+z.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,G)||this.throwError(M.Messages.UnknownLabel,z.name),L=z}return this.consumeSemicolon(),L!==null||this.context.inIteration||this.context.inSwitch||this.throwError(M.Messages.IllegalBreak),this.finalize(R,new P.BreakStatement(L))},F.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(M.Messages.IllegalReturn);var R=this.createNode();this.expectKeyword("return");var L=(this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===2)&&this.lookahead.type!==8&&this.lookahead.type!==10?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(R,new P.ReturnStatement(L))},F.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(M.Messages.StrictModeWith);var R,L=this.createNode();this.expectKeyword("with"),this.expect("(");var z=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),R=this.finalize(this.createNode(),new P.EmptyStatement)):(this.expect(")"),R=this.parseStatement()),this.finalize(L,new P.WithStatement(z,R))},F.prototype.parseSwitchCase=function(){var R,L=this.createNode();this.matchKeyword("default")?(this.nextToken(),R=null):(this.expectKeyword("case"),R=this.parseExpression()),this.expect(":");for(var z=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)z.push(this.parseStatementListItem());return this.finalize(L,new P.SwitchCase(R,z))},F.prototype.parseSwitchStatement=function(){var R=this.createNode();this.expectKeyword("switch"),this.expect("(");var L=this.parseExpression();this.expect(")");var z=this.context.inSwitch;this.context.inSwitch=!0;var G=[],W=!1;for(this.expect("{");!this.match("}");){var K=this.parseSwitchCase();K.test===null&&(W&&this.throwError(M.Messages.MultipleDefaultsInSwitch),W=!0),G.push(K)}return this.expect("}"),this.context.inSwitch=z,this.finalize(R,new P.SwitchStatement(L,G))},F.prototype.parseLabelledStatement=function(){var R,L=this.createNode(),z=this.parseExpression();if(z.type===E.Syntax.Identifier&&this.match(":")){this.nextToken();var G=z,W="$"+G.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,W)&&this.throwError(M.Messages.Redeclaration,"Label",G.name),this.context.labelSet[W]=!0;var K=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),K=this.parseClassDeclaration();else if(this.matchKeyword("function")){var q=this.lookahead,Z=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(q,M.Messages.StrictFunction):Z.generator&&this.tolerateUnexpectedToken(q,M.Messages.GeneratorInLegacyContext),K=Z}else K=this.parseStatement();delete this.context.labelSet[W],R=new P.LabeledStatement(G,K)}else this.consumeSemicolon(),R=new P.ExpressionStatement(z);return this.finalize(L,R)},F.prototype.parseThrowStatement=function(){var R=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(M.Messages.NewlineAfterThrow);var L=this.parseExpression();return this.consumeSemicolon(),this.finalize(R,new P.ThrowStatement(L))},F.prototype.parseCatchClause=function(){var R=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var L=[],z=this.parsePattern(L),G={},W=0;W<L.length;W++){var K="$"+L[W].value;Object.prototype.hasOwnProperty.call(G,K)&&this.tolerateError(M.Messages.DuplicateBinding,L[W].value),G[K]=!0}this.context.strict&&z.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(z.name)&&this.tolerateError(M.Messages.StrictCatchVariable),this.expect(")");var q=this.parseBlock();return this.finalize(R,new P.CatchClause(z,q))},F.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},F.prototype.parseTryStatement=function(){var R=this.createNode();this.expectKeyword("try");var L=this.parseBlock(),z=this.matchKeyword("catch")?this.parseCatchClause():null,G=this.matchKeyword("finally")?this.parseFinallyClause():null;return z||G||this.throwError(M.Messages.NoCatchOrFinally),this.finalize(R,new P.TryStatement(L,z,G))},F.prototype.parseDebuggerStatement=function(){var R=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(R,new P.DebuggerStatement)},F.prototype.parseStatement=function(){var R;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:R=this.parseExpressionStatement();break;case 7:var L=this.lookahead.value;R=L==="{"?this.parseBlock():L==="("?this.parseExpressionStatement():L===";"?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:R=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":R=this.parseBreakStatement();break;case"continue":R=this.parseContinueStatement();break;case"debugger":R=this.parseDebuggerStatement();break;case"do":R=this.parseDoWhileStatement();break;case"for":R=this.parseForStatement();break;case"function":R=this.parseFunctionDeclaration();break;case"if":R=this.parseIfStatement();break;case"return":R=this.parseReturnStatement();break;case"switch":R=this.parseSwitchStatement();break;case"throw":R=this.parseThrowStatement();break;case"try":R=this.parseTryStatement();break;case"var":R=this.parseVariableStatement();break;case"while":R=this.parseWhileStatement();break;case"with":R=this.parseWithStatement();break;default:R=this.parseExpressionStatement()}break;default:R=this.throwUnexpectedToken(this.lookahead)}return R},F.prototype.parseFunctionSourceElements=function(){var R=this.createNode();this.expect("{");var L=this.parseDirectivePrologues(),z=this.context.labelSet,G=this.context.inIteration,W=this.context.inSwitch,K=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)L.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=z,this.context.inIteration=G,this.context.inSwitch=W,this.context.inFunctionBody=K,this.finalize(R,new P.BlockStatement(L))},F.prototype.validateParam=function(R,L,z){var G="$"+z;this.context.strict?(this.scanner.isRestrictedWord(z)&&(R.stricted=L,R.message=M.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(R.paramSet,G)&&(R.stricted=L,R.message=M.Messages.StrictParamDupe)):R.firstRestricted||(this.scanner.isRestrictedWord(z)?(R.firstRestricted=L,R.message=M.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(z)?(R.firstRestricted=L,R.message=M.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(R.paramSet,G)&&(R.stricted=L,R.message=M.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(R.paramSet,G,{value:!0,enumerable:!0,writable:!0,configurable:!0}):R.paramSet[G]=!0},F.prototype.parseRestElement=function(R){var L=this.createNode();this.expect("...");var z=this.parsePattern(R);return this.match("=")&&this.throwError(M.Messages.DefaultRestParameter),this.match(")")||this.throwError(M.Messages.ParameterAfterRestParameter),this.finalize(L,new P.RestElement(z))},F.prototype.parseFormalParameter=function(R){for(var L=[],z=this.match("...")?this.parseRestElement(L):this.parsePatternWithDefault(L),G=0;G<L.length;G++)this.validateParam(R,L[G],L[G].value);R.simple=R.simple&&z instanceof P.Identifier,R.params.push(z)},F.prototype.parseFormalParameters=function(R){var L;if(L={simple:!0,params:[],firstRestricted:R},this.expect("("),!this.match(")"))for(L.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(L),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:L.simple,params:L.params,stricted:L.stricted,firstRestricted:L.firstRestricted,message:L.message}},F.prototype.matchAsyncFunction=function(){var R=this.matchContextualKeyword("async");if(R){var L=this.scanner.saveState();this.scanner.scanComments();var z=this.scanner.lex();this.scanner.restoreState(L),R=L.lineNumber===z.lineNumber&&z.type===4&&z.value==="function"}return R},F.prototype.parseFunctionDeclaration=function(R){var L=this.createNode(),z=this.matchContextualKeyword("async");z&&this.nextToken(),this.expectKeyword("function");var G,W=!z&&this.match("*");W&&this.nextToken();var K=null,q=null;if(!R||!this.match("(")){var Z=this.lookahead;K=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(Z.value)&&this.tolerateUnexpectedToken(Z,M.Messages.StrictFunctionName):this.scanner.isRestrictedWord(Z.value)?(q=Z,G=M.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(Z.value)&&(q=Z,G=M.Messages.StrictReservedWord)}var J=this.context.await,Q=this.context.allowYield;this.context.await=z,this.context.allowYield=!W;var ie=this.parseFormalParameters(q),se=ie.params,oe=ie.stricted;q=ie.firstRestricted,ie.message&&(G=ie.message);var ue=this.context.strict,fe=this.context.allowStrictDirective;this.context.allowStrictDirective=ie.simple;var xe=this.parseFunctionSourceElements();return this.context.strict&&q&&this.throwUnexpectedToken(q,G),this.context.strict&&oe&&this.tolerateUnexpectedToken(oe,G),this.context.strict=ue,this.context.allowStrictDirective=fe,this.context.await=J,this.context.allowYield=Q,z?this.finalize(L,new P.AsyncFunctionDeclaration(K,se,xe)):this.finalize(L,new P.FunctionDeclaration(K,se,xe,W))},F.prototype.parseFunctionExpression=function(){var R=this.createNode(),L=this.matchContextualKeyword("async");L&&this.nextToken(),this.expectKeyword("function");var z,G=!L&&this.match("*");G&&this.nextToken();var W,K=null,q=this.context.await,Z=this.context.allowYield;if(this.context.await=L,this.context.allowYield=!G,!this.match("(")){var J=this.lookahead;K=this.context.strict||G||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(J.value)&&this.tolerateUnexpectedToken(J,M.Messages.StrictFunctionName):this.scanner.isRestrictedWord(J.value)?(W=J,z=M.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(J.value)&&(W=J,z=M.Messages.StrictReservedWord)}var Q=this.parseFormalParameters(W),ie=Q.params,se=Q.stricted;W=Q.firstRestricted,Q.message&&(z=Q.message);var oe=this.context.strict,ue=this.context.allowStrictDirective;this.context.allowStrictDirective=Q.simple;var fe=this.parseFunctionSourceElements();return this.context.strict&&W&&this.throwUnexpectedToken(W,z),this.context.strict&&se&&this.tolerateUnexpectedToken(se,z),this.context.strict=oe,this.context.allowStrictDirective=ue,this.context.await=q,this.context.allowYield=Z,L?this.finalize(R,new P.AsyncFunctionExpression(K,ie,fe)):this.finalize(R,new P.FunctionExpression(K,ie,fe,G))},F.prototype.parseDirective=function(){var R=this.lookahead,L=this.createNode(),z=this.parseExpression(),G=z.type===E.Syntax.Literal?this.getTokenRaw(R).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(L,G?new P.Directive(z,G):new P.ExpressionStatement(z))},F.prototype.parseDirectivePrologues=function(){for(var R=null,L=[];;){var z=this.lookahead;if(z.type!==8)break;var G=this.parseDirective();L.push(G);var W=G.directive;if(typeof W!="string")break;W==="use strict"?(this.context.strict=!0,R&&this.tolerateUnexpectedToken(R,M.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(z,M.Messages.IllegalLanguageModeDirective)):!R&&z.octal&&(R=z)}return L},F.prototype.qualifiedPropertyName=function(R){switch(R.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return R.value==="["}return!1},F.prototype.parseGetterMethod=function(){var R=this.createNode(),L=this.context.allowYield;this.context.allowYield=!0;var z=this.parseFormalParameters();z.params.length>0&&this.tolerateError(M.Messages.BadGetterArity);var G=this.parsePropertyMethod(z);return this.context.allowYield=L,this.finalize(R,new P.FunctionExpression(null,z.params,G,!1))},F.prototype.parseSetterMethod=function(){var R=this.createNode(),L=this.context.allowYield;this.context.allowYield=!0;var z=this.parseFormalParameters();z.params.length!==1?this.tolerateError(M.Messages.BadSetterArity):z.params[0]instanceof P.RestElement&&this.tolerateError(M.Messages.BadSetterRestParameter);var G=this.parsePropertyMethod(z);return this.context.allowYield=L,this.finalize(R,new P.FunctionExpression(null,z.params,G,!1))},F.prototype.parseGeneratorMethod=function(){var R=this.createNode(),L=this.context.allowYield;this.context.allowYield=!0;var z=this.parseFormalParameters();this.context.allowYield=!1;var G=this.parsePropertyMethod(z);return this.context.allowYield=L,this.finalize(R,new P.FunctionExpression(null,z.params,G,!0))},F.prototype.isStartOfExpression=function(){var R=!0,L=this.lookahead.value;switch(this.lookahead.type){case 7:R=L==="["||L==="("||L==="{"||L==="+"||L==="-"||L==="!"||L==="~"||L==="++"||L==="--"||L==="/"||L==="/=";break;case 4:R=L==="class"||L==="delete"||L==="function"||L==="let"||L==="new"||L==="super"||L==="this"||L==="typeof"||L==="void"||L==="yield"}return R},F.prototype.parseYieldExpression=function(){var R=this.createNode();this.expectKeyword("yield");var L=null,z=!1;if(!this.hasLineTerminator){var G=this.context.allowYield;this.context.allowYield=!1,(z=this.match("*"))?(this.nextToken(),L=this.parseAssignmentExpression()):this.isStartOfExpression()&&(L=this.parseAssignmentExpression()),this.context.allowYield=G}return this.finalize(R,new P.YieldExpression(L,z))},F.prototype.parseClassElement=function(R){var L=this.lookahead,z=this.createNode(),G="",W=null,K=null,q=!1,Z=!1,J=!1,Q=!1;if(this.match("*"))this.nextToken();else if(q=this.match("["),(W=this.parseObjectPropertyKey()).name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(L=this.lookahead,J=!0,q=this.match("["),this.match("*")?this.nextToken():W=this.parseObjectPropertyKey()),L.type===3&&!this.hasLineTerminator&&L.value==="async"){var ie=this.lookahead.value;ie!==":"&&ie!=="("&&ie!=="*"&&(Q=!0,L=this.lookahead,W=this.parseObjectPropertyKey(),L.type===3&&L.value==="constructor"&&this.tolerateUnexpectedToken(L,M.Messages.ConstructorIsAsync))}var se=this.qualifiedPropertyName(this.lookahead);return L.type===3?L.value==="get"&&se?(G="get",q=this.match("["),W=this.parseObjectPropertyKey(),this.context.allowYield=!1,K=this.parseGetterMethod()):L.value==="set"&&se&&(G="set",q=this.match("["),W=this.parseObjectPropertyKey(),K=this.parseSetterMethod()):L.type===7&&L.value==="*"&&se&&(G="init",q=this.match("["),W=this.parseObjectPropertyKey(),K=this.parseGeneratorMethod(),Z=!0),!G&&W&&this.match("(")&&(G="init",K=Q?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),Z=!0),G||this.throwUnexpectedToken(this.lookahead),G==="init"&&(G="method"),q||(J&&this.isPropertyKey(W,"prototype")&&this.throwUnexpectedToken(L,M.Messages.StaticPrototype),!J&&this.isPropertyKey(W,"constructor")&&((G!=="method"||!Z||K&&K.generator)&&this.throwUnexpectedToken(L,M.Messages.ConstructorSpecialMethod),R.value?this.throwUnexpectedToken(L,M.Messages.DuplicateConstructor):R.value=!0,G="constructor")),this.finalize(z,new P.MethodDefinition(W,q,K,G,J))},F.prototype.parseClassElementList=function(){var R=[],L={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():R.push(this.parseClassElement(L));return this.expect("}"),R},F.prototype.parseClassBody=function(){var R=this.createNode(),L=this.parseClassElementList();return this.finalize(R,new P.ClassBody(L))},F.prototype.parseClassDeclaration=function(R){var L=this.createNode(),z=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var G=R&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),W=null;this.matchKeyword("extends")&&(this.nextToken(),W=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var K=this.parseClassBody();return this.context.strict=z,this.finalize(L,new P.ClassDeclaration(G,W,K))},F.prototype.parseClassExpression=function(){var R=this.createNode(),L=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var z=this.lookahead.type===3?this.parseVariableIdentifier():null,G=null;this.matchKeyword("extends")&&(this.nextToken(),G=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var W=this.parseClassBody();return this.context.strict=L,this.finalize(R,new P.ClassExpression(z,G,W))},F.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var R=this.createNode(),L=this.parseDirectivePrologues();this.lookahead.type!==2;)L.push(this.parseStatementListItem());return this.finalize(R,new P.Module(L))},F.prototype.parseScript=function(){for(var R=this.createNode(),L=this.parseDirectivePrologues();this.lookahead.type!==2;)L.push(this.parseStatementListItem());return this.finalize(R,new P.Script(L))},F.prototype.parseModuleSpecifier=function(){var R=this.createNode();this.lookahead.type!==8&&this.throwError(M.Messages.InvalidModuleSpecifier);var L=this.nextToken(),z=this.getTokenRaw(L);return this.finalize(R,new P.Literal(L.value,z))},F.prototype.parseImportSpecifier=function(){var R,L,z=this.createNode();return this.lookahead.type===3?(L=R=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),L=this.parseVariableIdentifier())):(L=R=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),L=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(z,new P.ImportSpecifier(L,R))},F.prototype.parseNamedImports=function(){this.expect("{");for(var R=[];!this.match("}");)R.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),R},F.prototype.parseImportDefaultSpecifier=function(){var R=this.createNode(),L=this.parseIdentifierName();return this.finalize(R,new P.ImportDefaultSpecifier(L))},F.prototype.parseImportNamespaceSpecifier=function(){var R=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(M.Messages.NoAsAfterImportNamespace),this.nextToken();var L=this.parseIdentifierName();return this.finalize(R,new P.ImportNamespaceSpecifier(L))},F.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(M.Messages.IllegalImportDeclaration);var R,L=this.createNode();this.expectKeyword("import");var z=[];if(this.lookahead.type===8)R=this.parseModuleSpecifier();else{if(this.match("{")?z=z.concat(this.parseNamedImports()):this.match("*")?z.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(z.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?z.push(this.parseImportNamespaceSpecifier()):this.match("{")?z=z.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var G=this.lookahead.value?M.Messages.UnexpectedToken:M.Messages.MissingFromClause;this.throwError(G,this.lookahead.value)}this.nextToken(),R=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(L,new P.ImportDeclaration(z,R))},F.prototype.parseExportSpecifier=function(){var R=this.createNode(),L=this.parseIdentifierName(),z=L;return this.matchContextualKeyword("as")&&(this.nextToken(),z=this.parseIdentifierName()),this.finalize(R,new P.ExportSpecifier(L,z))},F.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(M.Messages.IllegalExportDeclaration);var R,L=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var z=this.parseFunctionDeclaration(!0);R=this.finalize(L,new P.ExportDefaultDeclaration(z))}else this.matchKeyword("class")?(z=this.parseClassDeclaration(!0),R=this.finalize(L,new P.ExportDefaultDeclaration(z))):this.matchContextualKeyword("async")?(z=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),R=this.finalize(L,new P.ExportDefaultDeclaration(z))):(this.matchContextualKeyword("from")&&this.throwError(M.Messages.UnexpectedToken,this.lookahead.value),z=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),R=this.finalize(L,new P.ExportDefaultDeclaration(z)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var G=this.lookahead.value?M.Messages.UnexpectedToken:M.Messages.MissingFromClause;this.throwError(G,this.lookahead.value)}this.nextToken();var W=this.parseModuleSpecifier();this.consumeSemicolon(),R=this.finalize(L,new P.ExportAllDeclaration(W))}else if(this.lookahead.type===4){switch(z=void 0,this.lookahead.value){case"let":case"const":z=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":z=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}R=this.finalize(L,new P.ExportNamedDeclaration(z,[],null))}else if(this.matchAsyncFunction())z=this.parseFunctionDeclaration(),R=this.finalize(L,new P.ExportNamedDeclaration(z,[],null));else{var K=[],q=null,Z=!1;for(this.expect("{");!this.match("}");)Z=Z||this.matchKeyword("default"),K.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),q=this.parseModuleSpecifier(),this.consumeSemicolon()):Z?(G=this.lookahead.value?M.Messages.UnexpectedToken:M.Messages.MissingFromClause,this.throwError(G,this.lookahead.value)):this.consumeSemicolon(),R=this.finalize(L,new P.ExportNamedDeclaration(null,K,q))}return R},F}();w.Parser=B},function(g,w){Object.defineProperty(w,"__esModule",{value:!0}),w.assert=function(C,A){if(!C)throw new Error("ASSERT: "+A)}},function(g,w){Object.defineProperty(w,"__esModule",{value:!0});var C=function(){function A(){this.errors=[],this.tolerant=!1}return A.prototype.recordError=function(_){this.errors.push(_)},A.prototype.tolerate=function(_){if(!this.tolerant)throw _;this.recordError(_)},A.prototype.constructError=function(_,M){var P=new Error(_);try{throw P}catch(D){Object.create&&Object.defineProperty&&(P=Object.create(D),Object.defineProperty(P,"column",{value:M}))}return P},A.prototype.createError=function(_,M,P,D){var E="Line "+M+": "+D,I=this.constructError(E,P);return I.index=_,I.lineNumber=M,I.description=D,I},A.prototype.throwError=function(_,M,P,D){throw this.createError(_,M,P,D)},A.prototype.tolerateError=function(_,M,P,D){var E=this.createError(_,M,P,D);if(!this.tolerant)throw E;this.recordError(E)},A}();w.ErrorHandler=C},function(g,w){Object.defineProperty(w,"__esModule",{value:!0}),w.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(g,w,C){Object.defineProperty(w,"__esModule",{value:!0});var A=C(9),_=C(4),M=C(11);function P(I){return"0123456789abcdef".indexOf(I.toLowerCase())}function D(I){return"01234567".indexOf(I)}var E=function(){function I(B,F){this.source=B,this.errorHandler=F,this.trackComment=!1,this.isModule=!1,this.length=B.length,this.index=0,this.lineNumber=B.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return I.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},I.prototype.restoreState=function(B){this.index=B.index,this.lineNumber=B.lineNumber,this.lineStart=B.lineStart},I.prototype.eof=function(){return this.index>=this.length},I.prototype.throwUnexpectedToken=function(B){return B===void 0&&(B=M.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,B)},I.prototype.tolerateUnexpectedToken=function(B){B===void 0&&(B=M.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,B)},I.prototype.skipSingleLineComment=function(B){var F,R,L=[];for(this.trackComment&&(L=[],F=this.index-B,R={start:{line:this.lineNumber,column:this.index-this.lineStart-B},end:{}});!this.eof();){var z=this.source.charCodeAt(this.index);if(++this.index,_.Character.isLineTerminator(z)){if(this.trackComment){R.end={line:this.lineNumber,column:this.index-this.lineStart-1};var G={multiLine:!1,slice:[F+B,this.index-1],range:[F,this.index-1],loc:R};L.push(G)}return z===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,L}}return this.trackComment&&(R.end={line:this.lineNumber,column:this.index-this.lineStart},G={multiLine:!1,slice:[F+B,this.index],range:[F,this.index],loc:R},L.push(G)),L},I.prototype.skipMultiLineComment=function(){var B,F,R=[];for(this.trackComment&&(R=[],B=this.index-2,F={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var L=this.source.charCodeAt(this.index);if(_.Character.isLineTerminator(L))L===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(L===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){F.end={line:this.lineNumber,column:this.index-this.lineStart};var z={multiLine:!0,slice:[B+2,this.index-2],range:[B,this.index],loc:F};R.push(z)}return R}++this.index}else++this.index}return this.trackComment&&(F.end={line:this.lineNumber,column:this.index-this.lineStart},z={multiLine:!0,slice:[B+2,this.index],range:[B,this.index],loc:F},R.push(z)),this.tolerateUnexpectedToken(),R},I.prototype.scanComments=function(){var B;this.trackComment&&(B=[]);for(var F=this.index===0;!this.eof();){var R=this.source.charCodeAt(this.index);if(_.Character.isWhiteSpace(R))++this.index;else if(_.Character.isLineTerminator(R))++this.index,R===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,F=!0;else if(R===47)if((R=this.source.charCodeAt(this.index+1))===47){this.index+=2;var L=this.skipSingleLineComment(2);this.trackComment&&(B=B.concat(L)),F=!0}else{if(R!==42)break;this.index+=2,L=this.skipMultiLineComment(),this.trackComment&&(B=B.concat(L))}else if(F&&R===45){if(this.source.charCodeAt(this.index+1)!==45||this.source.charCodeAt(this.index+2)!==62)break;this.index+=3,L=this.skipSingleLineComment(3),this.trackComment&&(B=B.concat(L))}else{if(R!==60||this.isModule||this.source.slice(this.index+1,this.index+4)!=="!--")break;this.index+=4,L=this.skipSingleLineComment(4),this.trackComment&&(B=B.concat(L))}}return B},I.prototype.isFutureReservedWord=function(B){switch(B){case"enum":case"export":case"import":case"super":return!0;default:return!1}},I.prototype.isStrictModeReservedWord=function(B){switch(B){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},I.prototype.isRestrictedWord=function(B){return B==="eval"||B==="arguments"},I.prototype.isKeyword=function(B){switch(B.length){case 2:return B==="if"||B==="in"||B==="do";case 3:return B==="var"||B==="for"||B==="new"||B==="try"||B==="let";case 4:return B==="this"||B==="else"||B==="case"||B==="void"||B==="with"||B==="enum";case 5:return B==="while"||B==="break"||B==="catch"||B==="throw"||B==="const"||B==="yield"||B==="class"||B==="super";case 6:return B==="return"||B==="typeof"||B==="delete"||B==="switch"||B==="export"||B==="import";case 7:return B==="default"||B==="finally"||B==="extends";case 8:return B==="function"||B==="continue"||B==="debugger";case 10:return B==="instanceof";default:return!1}},I.prototype.codePointAt=function(B){var F=this.source.charCodeAt(B);if(F>=55296&&F<=56319){var R=this.source.charCodeAt(B+1);R>=56320&&R<=57343&&(F=1024*(F-55296)+R-56320+65536)}return F},I.prototype.scanHexEscape=function(B){for(var F=B==="u"?4:2,R=0,L=0;L<F;++L){if(this.eof()||!_.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;R=16*R+P(this.source[this.index++])}return String.fromCharCode(R)},I.prototype.scanUnicodeCodePointEscape=function(){var B=this.source[this.index],F=0;for(B==="}"&&this.throwUnexpectedToken();!this.eof()&&(B=this.source[this.index++],_.Character.isHexDigit(B.charCodeAt(0)));)F=16*F+P(B);return(F>1114111||B!=="}")&&this.throwUnexpectedToken(),_.Character.fromCodePoint(F)},I.prototype.getIdentifier=function(){for(var B=this.index++;!this.eof();){var F=this.source.charCodeAt(this.index);if(F===92)return this.index=B,this.getComplexIdentifier();if(F>=55296&&F<57343)return this.index=B,this.getComplexIdentifier();if(!_.Character.isIdentifierPart(F))break;++this.index}return this.source.slice(B,this.index)},I.prototype.getComplexIdentifier=function(){var B,F=this.codePointAt(this.index),R=_.Character.fromCodePoint(F);for(this.index+=R.length,F===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,B=this.scanUnicodeCodePointEscape()):(B=this.scanHexEscape("u"))!==null&&B!=="\\"&&_.Character.isIdentifierStart(B.charCodeAt(0))||this.throwUnexpectedToken(),R=B);!this.eof()&&(F=this.codePointAt(this.index),_.Character.isIdentifierPart(F));)R+=B=_.Character.fromCodePoint(F),this.index+=B.length,F===92&&(R=R.substr(0,R.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,B=this.scanUnicodeCodePointEscape()):(B=this.scanHexEscape("u"))!==null&&B!=="\\"&&_.Character.isIdentifierPart(B.charCodeAt(0))||this.throwUnexpectedToken(),R+=B);return R},I.prototype.octalToDecimal=function(B){var F=B!=="0",R=D(B);return!this.eof()&&_.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(F=!0,R=8*R+D(this.source[this.index++]),"0123".indexOf(B)>=0&&!this.eof()&&_.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(R=8*R+D(this.source[this.index++]))),{code:R,octal:F}},I.prototype.scanIdentifier=function(){var B,F=this.index,R=this.source.charCodeAt(F)===92?this.getComplexIdentifier():this.getIdentifier();if((B=R.length===1?3:this.isKeyword(R)?4:R==="null"?5:R==="true"||R==="false"?1:3)!=3&&F+R.length!==this.index){var L=this.index;this.index=F,this.tolerateUnexpectedToken(M.Messages.InvalidEscapedReservedWord),this.index=L}return{type:B,value:R,lineNumber:this.lineNumber,lineStart:this.lineStart,start:F,end:this.index}},I.prototype.scanPunctuator=function(){var B=this.index,F=this.source[this.index];switch(F){case"(":case"{":F==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,F="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:(F=this.source.substr(this.index,4))===">>>="?this.index+=4:(F=F.substr(0,3))==="==="||F==="!=="||F===">>>"||F==="<<="||F===">>="||F==="**="?this.index+=3:(F=F.substr(0,2))==="&&"||F==="||"||F==="=="||F==="!="||F==="+="||F==="-="||F==="*="||F==="/="||F==="++"||F==="--"||F==="<<"||F===">>"||F==="&="||F==="|="||F==="^="||F==="%="||F==="<="||F===">="||F==="=>"||F==="**"?this.index+=2:(F=this.source[this.index],"<>=!+-*%&|^/".indexOf(F)>=0&&++this.index)}return this.index===B&&this.throwUnexpectedToken(),{type:7,value:F,lineNumber:this.lineNumber,lineStart:this.lineStart,start:B,end:this.index}},I.prototype.scanHexLiteral=function(B){for(var F="";!this.eof()&&_.Character.isHexDigit(this.source.charCodeAt(this.index));)F+=this.source[this.index++];return F.length===0&&this.throwUnexpectedToken(),_.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+F,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:B,end:this.index}},I.prototype.scanBinaryLiteral=function(B){for(var F,R="";!this.eof()&&((F=this.source[this.index])==="0"||F==="1");)R+=this.source[this.index++];return R.length===0&&this.throwUnexpectedToken(),this.eof()||(F=this.source.charCodeAt(this.index),(_.Character.isIdentifierStart(F)||_.Character.isDecimalDigit(F))&&this.throwUnexpectedToken()),{type:6,value:parseInt(R,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:B,end:this.index}},I.prototype.scanOctalLiteral=function(B,F){var R="",L=!1;for(_.Character.isOctalDigit(B.charCodeAt(0))?(L=!0,R="0"+this.source[this.index++]):++this.index;!this.eof()&&_.Character.isOctalDigit(this.source.charCodeAt(this.index));)R+=this.source[this.index++];return L||R.length!==0||this.throwUnexpectedToken(),(_.Character.isIdentifierStart(this.source.charCodeAt(this.index))||_.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(R,8),octal:L,lineNumber:this.lineNumber,lineStart:this.lineStart,start:F,end:this.index}},I.prototype.isImplicitOctalLiteral=function(){for(var B=this.index+1;B<this.length;++B){var F=this.source[B];if(F==="8"||F==="9")return!1;if(!_.Character.isOctalDigit(F.charCodeAt(0)))return!0}return!0},I.prototype.scanNumericLiteral=function(){var B=this.index,F=this.source[B];A.assert(_.Character.isDecimalDigit(F.charCodeAt(0))||F===".","Numeric literal must start with a decimal digit or a decimal point");var R="";if(F!=="."){if(R=this.source[this.index++],F=this.source[this.index],R==="0"){if(F==="x"||F==="X")return++this.index,this.scanHexLiteral(B);if(F==="b"||F==="B")return++this.index,this.scanBinaryLiteral(B);if(F==="o"||F==="O")return this.scanOctalLiteral(F,B);if(F&&_.Character.isOctalDigit(F.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(F,B)}for(;_.Character.isDecimalDigit(this.source.charCodeAt(this.index));)R+=this.source[this.index++];F=this.source[this.index]}if(F==="."){for(R+=this.source[this.index++];_.Character.isDecimalDigit(this.source.charCodeAt(this.index));)R+=this.source[this.index++];F=this.source[this.index]}if(F==="e"||F==="E")if(R+=this.source[this.index++],(F=this.source[this.index])!=="+"&&F!=="-"||(R+=this.source[this.index++]),_.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;_.Character.isDecimalDigit(this.source.charCodeAt(this.index));)R+=this.source[this.index++];else this.throwUnexpectedToken();return _.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(R),lineNumber:this.lineNumber,lineStart:this.lineStart,start:B,end:this.index}},I.prototype.scanStringLiteral=function(){var B=this.index,F=this.source[B];A.assert(F==="'"||F==='"',"String literal must starts with a quote"),++this.index;for(var R=!1,L="";!this.eof();){var z=this.source[this.index++];if(z===F){F="";break}if(z==="\\")if((z=this.source[this.index++])&&_.Character.isLineTerminator(z.charCodeAt(0)))++this.lineNumber,z==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(z){case"u":if(this.source[this.index]==="{")++this.index,L+=this.scanUnicodeCodePointEscape();else{var G=this.scanHexEscape(z);G===null&&this.throwUnexpectedToken(),L+=G}break;case"x":var W=this.scanHexEscape(z);W===null&&this.throwUnexpectedToken(M.Messages.InvalidHexEscapeSequence),L+=W;break;case"n":L+=`
`;break;case"r":L+="\r";break;case"t":L+="	";break;case"b":L+="\b";break;case"f":L+="\f";break;case"v":L+="\v";break;case"8":case"9":L+=z,this.tolerateUnexpectedToken();break;default:if(z&&_.Character.isOctalDigit(z.charCodeAt(0))){var K=this.octalToDecimal(z);R=K.octal||R,L+=String.fromCharCode(K.code)}else L+=z}else{if(_.Character.isLineTerminator(z.charCodeAt(0)))break;L+=z}}return F!==""&&(this.index=B,this.throwUnexpectedToken()),{type:8,value:L,octal:R,lineNumber:this.lineNumber,lineStart:this.lineStart,start:B,end:this.index}},I.prototype.scanTemplate=function(){var B="",F=!1,R=this.index,L=this.source[R]==="`",z=!1,G=2;for(++this.index;!this.eof();){var W=this.source[this.index++];if(W==="`"){G=1,z=!0,F=!0;break}if(W==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,F=!0;break}B+=W}else if(W==="\\")if(W=this.source[this.index++],_.Character.isLineTerminator(W.charCodeAt(0)))++this.lineNumber,W==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(W){case"n":B+=`
`;break;case"r":B+="\r";break;case"t":B+="	";break;case"u":if(this.source[this.index]==="{")++this.index,B+=this.scanUnicodeCodePointEscape();else{var K=this.index,q=this.scanHexEscape(W);q!==null?B+=q:(this.index=K,B+=W)}break;case"x":var Z=this.scanHexEscape(W);Z===null&&this.throwUnexpectedToken(M.Messages.InvalidHexEscapeSequence),B+=Z;break;case"b":B+="\b";break;case"f":B+="\f";break;case"v":B+="\v";break;default:W==="0"?(_.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(M.Messages.TemplateOctalLiteral),B+="\0"):_.Character.isOctalDigit(W.charCodeAt(0))?this.throwUnexpectedToken(M.Messages.TemplateOctalLiteral):B+=W}else _.Character.isLineTerminator(W.charCodeAt(0))?(++this.lineNumber,W==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,B+=`
`):B+=W}return F||this.throwUnexpectedToken(),L||this.curlyStack.pop(),{type:10,value:this.source.slice(R+1,this.index-G),cooked:B,head:L,tail:z,lineNumber:this.lineNumber,lineStart:this.lineStart,start:R,end:this.index}},I.prototype.testRegExp=function(B,F){var R=B,L=this;F.indexOf("u")>=0&&(R=R.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(z,G,W){var K=parseInt(G||W,16);return K>1114111&&L.throwUnexpectedToken(M.Messages.InvalidRegExp),K<=65535?String.fromCharCode(K):""}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,""));try{RegExp(R)}catch{this.throwUnexpectedToken(M.Messages.InvalidRegExp)}try{return new RegExp(B,F)}catch{return null}},I.prototype.scanRegExpBody=function(){var B=this.source[this.index];A.assert(B==="/","Regular expression literal must start with a slash");for(var F=this.source[this.index++],R=!1,L=!1;!this.eof();)if(F+=B=this.source[this.index++],B==="\\")B=this.source[this.index++],_.Character.isLineTerminator(B.charCodeAt(0))&&this.throwUnexpectedToken(M.Messages.UnterminatedRegExp),F+=B;else if(_.Character.isLineTerminator(B.charCodeAt(0)))this.throwUnexpectedToken(M.Messages.UnterminatedRegExp);else if(R)B==="]"&&(R=!1);else{if(B==="/"){L=!0;break}B==="["&&(R=!0)}return L||this.throwUnexpectedToken(M.Messages.UnterminatedRegExp),F.substr(1,F.length-2)},I.prototype.scanRegExpFlags=function(){for(var B="";!this.eof();){var F=this.source[this.index];if(!_.Character.isIdentifierPart(F.charCodeAt(0)))break;if(++this.index,F!=="\\"||this.eof())B+=F;else if((F=this.source[this.index])==="u"){++this.index;var R=this.index,L=this.scanHexEscape("u");if(L!==null)for(B+=L;R<this.index;++R)this.source[R];else this.index=R,B+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return B},I.prototype.scanRegExp=function(){var B=this.index,F=this.scanRegExpBody(),R=this.scanRegExpFlags();return{type:9,value:"",pattern:F,flags:R,regex:this.testRegExp(F,R),lineNumber:this.lineNumber,lineStart:this.lineStart,start:B,end:this.index}},I.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var B=this.source.charCodeAt(this.index);return _.Character.isIdentifierStart(B)?this.scanIdentifier():B===40||B===41||B===59?this.scanPunctuator():B===39||B===34?this.scanStringLiteral():B===46?_.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():_.Character.isDecimalDigit(B)?this.scanNumericLiteral():B===96||B===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():B>=55296&&B<57343&&_.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},I}();w.Scanner=E},function(g,w){Object.defineProperty(w,"__esModule",{value:!0}),w.TokenName={},w.TokenName[1]="Boolean",w.TokenName[2]="<end>",w.TokenName[3]="Identifier",w.TokenName[4]="Keyword",w.TokenName[5]="Null",w.TokenName[6]="Numeric",w.TokenName[7]="Punctuator",w.TokenName[8]="String",w.TokenName[9]="RegularExpression",w.TokenName[10]="Template"},function(g,w){Object.defineProperty(w,"__esModule",{value:!0}),w.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",lang:"",rang:""}},function(g,w,C){Object.defineProperty(w,"__esModule",{value:!0});var A=C(10),_=C(12),M=C(13),P=function(){function E(){this.values=[],this.curly=this.paren=-1}return E.prototype.beforeFunctionExpression=function(I){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(I)>=0},E.prototype.isRegexStart=function(){var I=this.values[this.values.length-1],B=I!==null;switch(I){case"this":case"]":B=!1;break;case")":var F=this.values[this.paren-1];B=F==="if"||F==="while"||F==="for"||F==="with";break;case"}":if(B=!1,this.values[this.curly-3]==="function")B=!!(R=this.values[this.curly-4])&&!this.beforeFunctionExpression(R);else if(this.values[this.curly-4]==="function"){var R;B=!(R=this.values[this.curly-5])||!this.beforeFunctionExpression(R)}}return B},E.prototype.push=function(I){I.type===7||I.type===4?(I.value==="{"?this.curly=this.values.length:I.value==="("&&(this.paren=this.values.length),this.values.push(I.value)):this.values.push(null)},E}(),D=function(){function E(I,B){this.errorHandler=new A.ErrorHandler,this.errorHandler.tolerant=!!B&&typeof B.tolerant=="boolean"&&B.tolerant,this.scanner=new _.Scanner(I,this.errorHandler),this.scanner.trackComment=!!B&&typeof B.comment=="boolean"&&B.comment,this.trackRange=!!B&&typeof B.range=="boolean"&&B.range,this.trackLoc=!!B&&typeof B.loc=="boolean"&&B.loc,this.buffer=[],this.reader=new P}return E.prototype.errors=function(){return this.errorHandler.errors},E.prototype.getNextToken=function(){if(this.buffer.length===0){var I=this.scanner.scanComments();if(this.scanner.trackComment)for(var B=0;B<I.length;++B){var F=I[B],R=this.scanner.source.slice(F.slice[0],F.slice[1]),L={type:F.multiLine?"BlockComment":"LineComment",value:R};this.trackRange&&(L.range=F.range),this.trackLoc&&(L.loc=F.loc),this.buffer.push(L)}if(!this.scanner.eof()){var z=void 0;this.trackLoc&&(z={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var G=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(G);var W={type:M.TokenName[G.type],value:this.scanner.source.slice(G.start,G.end)};if(this.trackRange&&(W.range=[G.start,G.end]),this.trackLoc&&(z.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},W.loc=z),G.type===9){var K=G.pattern,q=G.flags;W.regex={pattern:K,flags:q}}this.buffer.push(W)}}return this.buffer.shift()},E}();w.Tokenizer=D}])},s.exports=x()},function(s,m,f){var x=f(38),g=f(53),w=f(76),C=f(54),A=Object.prototype.toString,_=Object.prototype.hasOwnProperty,M={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},P=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function D(oe){var ue,fe,xe;if(ue=oe.toString(16).toUpperCase(),oe<=255)fe="x",xe=2;else if(oe<=65535)fe="u",xe=4;else{if(!(oe<=4294967295))throw new g("code point within a string may not be greater than 0xFFFFFFFF");fe="U",xe=8}return"\\"+fe+x.repeat("0",xe-ue.length)+ue}function E(oe){this.schema=oe.schema||w,this.indent=Math.max(1,oe.indent||2),this.noArrayIndent=oe.noArrayIndent||!1,this.skipInvalid=oe.skipInvalid||!1,this.flowLevel=x.isNothing(oe.flowLevel)?-1:oe.flowLevel,this.styleMap=function(ue,fe){var xe,ce,me,pe,Se,Ae,_e;if(fe===null)return{};for(xe={},me=0,pe=(ce=Object.keys(fe)).length;me<pe;me+=1)Se=ce[me],Ae=String(fe[Se]),Se.slice(0,2)==="!!"&&(Se="tag:yaml.org,2002:"+Se.slice(2)),(_e=ue.compiledTypeMap.fallback[Se])&&_.call(_e.styleAliases,Ae)&&(Ae=_e.styleAliases[Ae]),xe[Se]=Ae;return xe}(this.schema,oe.styles||null),this.sortKeys=oe.sortKeys||!1,this.lineWidth=oe.lineWidth||80,this.noRefs=oe.noRefs||!1,this.noCompatMode=oe.noCompatMode||!1,this.condenseFlow=oe.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function I(oe,ue){for(var fe,xe=x.repeat(" ",ue),ce=0,me=-1,pe="",Se=oe.length;ce<Se;)(me=oe.indexOf(`
`,ce))===-1?(fe=oe.slice(ce),ce=Se):(fe=oe.slice(ce,me+1),ce=me+1),fe.length&&fe!==`
`&&(pe+=xe),pe+=fe;return pe}function B(oe,ue){return`
`+x.repeat(" ",oe.indent*ue)}function F(oe){return oe===32||oe===9}function R(oe){return 32<=oe&&oe<=126||161<=oe&&oe<=55295&&oe!==8232&&oe!==8233||57344<=oe&&oe<=65533&&oe!==65279||65536<=oe&&oe<=1114111}function L(oe,ue){return R(oe)&&oe!==65279&&oe!==44&&oe!==91&&oe!==93&&oe!==123&&oe!==125&&oe!==58&&(oe!==35||ue&&function(fe){return R(fe)&&!F(fe)&&fe!==65279&&fe!==13&&fe!==10}(ue))}function z(oe){return/^\n* /.test(oe)}function G(oe,ue,fe,xe,ce){var me,pe,Se,Ae,_e=!1,Me=!1,ve=xe!==-1,Ee=-1,Le=R(Ae=oe.charCodeAt(0))&&Ae!==65279&&!F(Ae)&&Ae!==45&&Ae!==63&&Ae!==58&&Ae!==44&&Ae!==91&&Ae!==93&&Ae!==123&&Ae!==125&&Ae!==35&&Ae!==38&&Ae!==42&&Ae!==33&&Ae!==124&&Ae!==61&&Ae!==62&&Ae!==39&&Ae!==34&&Ae!==37&&Ae!==64&&Ae!==96&&!F(oe.charCodeAt(oe.length-1));if(ue)for(me=0;me<oe.length;me++){if(!R(pe=oe.charCodeAt(me)))return 5;Se=me>0?oe.charCodeAt(me-1):null,Le=Le&&L(pe,Se)}else{for(me=0;me<oe.length;me++){if((pe=oe.charCodeAt(me))===10)_e=!0,ve&&(Me=Me||me-Ee-1>xe&&oe[Ee+1]!==" ",Ee=me);else if(!R(pe))return 5;Se=me>0?oe.charCodeAt(me-1):null,Le=Le&&L(pe,Se)}Me=Me||ve&&me-Ee-1>xe&&oe[Ee+1]!==" "}return _e||Me?fe>9&&z(oe)?5:Me?4:3:Le&&!ce(oe)?1:2}function W(oe,ue,fe,xe){oe.dump=function(){if(ue.length===0)return"''";if(!oe.noCompatMode&&P.indexOf(ue)!==-1)return"'"+ue+"'";var ce=oe.indent*Math.max(1,fe),me=oe.lineWidth===-1?-1:Math.max(Math.min(oe.lineWidth,40),oe.lineWidth-ce),pe=xe||oe.flowLevel>-1&&fe>=oe.flowLevel;switch(G(ue,pe,oe.indent,me,function(Se){return function(Ae,_e){var Me,ve;for(Me=0,ve=Ae.implicitTypes.length;Me<ve;Me+=1)if(Ae.implicitTypes[Me].resolve(_e))return!0;return!1}(oe,Se)})){case 1:return ue;case 2:return"'"+ue.replace(/'/g,"''")+"'";case 3:return"|"+K(ue,oe.indent)+q(I(ue,ce));case 4:return">"+K(ue,oe.indent)+q(I(function(Se,Ae){for(var _e,Me,ve=/(\n+)([^\n]*)/g,Ee=(Ie=Se.indexOf(`
`),Ie=Ie!==-1?Ie:Se.length,ve.lastIndex=Ie,Z(Se.slice(0,Ie),Ae)),Le=Se[0]===`
`||Se[0]===" ",Ie;Me=ve.exec(Se);){var Oe=Me[1],le=Me[2];_e=le[0]===" ",Ee+=Oe+(Le||_e||le===""?"":`
`)+Z(le,Ae),Le=_e}return Ee}(ue,me),ce));case 5:return'"'+function(Se){for(var Ae,_e,Me,ve="",Ee=0;Ee<Se.length;Ee++)(Ae=Se.charCodeAt(Ee))>=55296&&Ae<=56319&&(_e=Se.charCodeAt(Ee+1))>=56320&&_e<=57343?(ve+=D(1024*(Ae-55296)+_e-56320+65536),Ee++):(Me=M[Ae],ve+=!Me&&R(Ae)?Se[Ee]:Me||D(Ae));return ve}(ue)+'"';default:throw new g("impossible error: invalid scalar style")}}()}function K(oe,ue){var fe=z(oe)?String(ue):"",xe=oe[oe.length-1]===`
`;return fe+(xe&&(oe[oe.length-2]===`
`||oe===`
`)?"+":xe?"":"-")+`
`}function q(oe){return oe[oe.length-1]===`
`?oe.slice(0,-1):oe}function Z(oe,ue){if(oe===""||oe[0]===" ")return oe;for(var fe,xe,ce=/ [^ ]/g,me=0,pe=0,Se=0,Ae="";fe=ce.exec(oe);)(Se=fe.index)-me>ue&&(xe=pe>me?pe:Se,Ae+=`
`+oe.slice(me,xe),me=xe+1),pe=Se;return Ae+=`
`,oe.length-me>ue&&pe>me?Ae+=oe.slice(me,pe)+`
`+oe.slice(pe+1):Ae+=oe.slice(me),Ae.slice(1)}function J(oe,ue,fe){var xe,ce,me,pe,Se,Ae;for(me=0,pe=(ce=fe?oe.explicitTypes:oe.implicitTypes).length;me<pe;me+=1)if(((Se=ce[me]).instanceOf||Se.predicate)&&(!Se.instanceOf||typeof ue=="object"&&ue instanceof Se.instanceOf)&&(!Se.predicate||Se.predicate(ue))){if(oe.tag=fe?Se.tag:"?",Se.represent){if(Ae=oe.styleMap[Se.tag]||Se.defaultStyle,A.call(Se.represent)==="[object Function]")xe=Se.represent(ue,Ae);else{if(!_.call(Se.represent,Ae))throw new g("!<"+Se.tag+'> tag resolver accepts not "'+Ae+'" style');xe=Se.represent[Ae](ue,Ae)}oe.dump=xe}return!0}return!1}function Q(oe,ue,fe,xe,ce,me){oe.tag=null,oe.dump=fe,J(oe,fe,!1)||J(oe,fe,!0);var pe=A.call(oe.dump);xe&&(xe=oe.flowLevel<0||oe.flowLevel>ue);var Se,Ae,_e=pe==="[object Object]"||pe==="[object Array]";if(_e&&(Ae=(Se=oe.duplicates.indexOf(fe))!==-1),(oe.tag!==null&&oe.tag!=="?"||Ae||oe.indent!==2&&ue>0)&&(ce=!1),Ae&&oe.usedDuplicates[Se])oe.dump="*ref_"+Se;else{if(_e&&Ae&&!oe.usedDuplicates[Se]&&(oe.usedDuplicates[Se]=!0),pe==="[object Object]")xe&&Object.keys(oe.dump).length!==0?(function(ve,Ee,Le,Ie){var Oe,le,te,re,ne,ae,he="",de=ve.tag,be=Object.keys(Le);if(ve.sortKeys===!0)be.sort();else if(typeof ve.sortKeys=="function")be.sort(ve.sortKeys);else if(ve.sortKeys)throw new g("sortKeys must be a boolean or a function");for(Oe=0,le=be.length;Oe<le;Oe+=1)ae="",Ie&&Oe===0||(ae+=B(ve,Ee)),re=Le[te=be[Oe]],Q(ve,Ee+1,te,!0,!0,!0)&&((ne=ve.tag!==null&&ve.tag!=="?"||ve.dump&&ve.dump.length>1024)&&(ve.dump&&ve.dump.charCodeAt(0)===10?ae+="?":ae+="? "),ae+=ve.dump,ne&&(ae+=B(ve,Ee)),Q(ve,Ee+1,re,!0,ne)&&(ve.dump&&ve.dump.charCodeAt(0)===10?ae+=":":ae+=": ",he+=ae+=ve.dump));ve.tag=de,ve.dump=he||"{}"}(oe,ue,oe.dump,ce),Ae&&(oe.dump="&ref_"+Se+oe.dump)):(function(ve,Ee,Le){var Ie,Oe,le,te,re,ne="",ae=ve.tag,he=Object.keys(Le);for(Ie=0,Oe=he.length;Ie<Oe;Ie+=1)re="",Ie!==0&&(re+=", "),ve.condenseFlow&&(re+='"'),te=Le[le=he[Ie]],Q(ve,Ee,le,!1,!1)&&(ve.dump.length>1024&&(re+="? "),re+=ve.dump+(ve.condenseFlow?'"':"")+":"+(ve.condenseFlow?"":" "),Q(ve,Ee,te,!1,!1)&&(ne+=re+=ve.dump));ve.tag=ae,ve.dump="{"+ne+"}"}(oe,ue,oe.dump),Ae&&(oe.dump="&ref_"+Se+" "+oe.dump));else if(pe==="[object Array]"){var Me=oe.noArrayIndent&&ue>0?ue-1:ue;xe&&oe.dump.length!==0?(function(ve,Ee,Le,Ie){var Oe,le,te="",re=ve.tag;for(Oe=0,le=Le.length;Oe<le;Oe+=1)Q(ve,Ee+1,Le[Oe],!0,!0)&&(Ie&&Oe===0||(te+=B(ve,Ee)),ve.dump&&ve.dump.charCodeAt(0)===10?te+="-":te+="- ",te+=ve.dump);ve.tag=re,ve.dump=te||"[]"}(oe,Me,oe.dump,ce),Ae&&(oe.dump="&ref_"+Se+oe.dump)):(function(ve,Ee,Le){var Ie,Oe,le="",te=ve.tag;for(Ie=0,Oe=Le.length;Ie<Oe;Ie+=1)Q(ve,Ee,Le[Ie],!1,!1)&&(Ie!==0&&(le+=","+(ve.condenseFlow?"":" ")),le+=ve.dump);ve.tag=te,ve.dump="["+le+"]"}(oe,Me,oe.dump),Ae&&(oe.dump="&ref_"+Se+" "+oe.dump))}else{if(pe!=="[object String]"){if(oe.skipInvalid)return!1;throw new g("unacceptable kind of an object to dump "+pe)}oe.tag!=="?"&&W(oe,oe.dump,ue,me)}oe.tag!==null&&oe.tag!=="?"&&(oe.dump="!<"+oe.tag+"> "+oe.dump)}return!0}function ie(oe,ue){var fe,xe,ce=[],me=[];for(function pe(Se,Ae,_e){var Me,ve,Ee;if(Se!==null&&typeof Se=="object")if((ve=Ae.indexOf(Se))!==-1)_e.indexOf(ve)===-1&&_e.push(ve);else if(Ae.push(Se),Array.isArray(Se))for(ve=0,Ee=Se.length;ve<Ee;ve+=1)pe(Se[ve],Ae,_e);else for(Me=Object.keys(Se),ve=0,Ee=Me.length;ve<Ee;ve+=1)pe(Se[Me[ve]],Ae,_e)}(oe,ce,me),fe=0,xe=me.length;fe<xe;fe+=1)ue.duplicates.push(ce[me[fe]]);ue.usedDuplicates=new Array(xe)}function se(oe,ue){var fe=new E(ue=ue||{});return fe.noRefs||ie(oe,fe),Q(fe,0,oe,!0,!0)?fe.dump+`
`:""}s.exports.dump=se,s.exports.safeDump=function(oe,ue){return se(oe,x.extend({schema:C},ue))}},function(s,m,f){f(31),f(32),f(33),f(64),f(19),f(65),f(20),f(68),f(92),f(144),f(22),f(94),f(23);var x,g=this&&this.__extends||(x=function(G,W){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,q){K.__proto__=q}||function(K,q){for(var Z in q)q.hasOwnProperty(Z)&&(K[Z]=q[Z])})(G,W)},function(G,W){function K(){this.constructor=G}x(G,W),G.prototype=W===null?Object.create(W):(K.prototype=W.prototype,new K)}),w=this&&this.__values||function(G){var W=typeof Symbol=="function"&&Symbol.iterator,K=W&&G[W],q=0;if(K)return K.call(G);if(G&&typeof G.length=="number")return{next:function(){return G&&q>=G.length&&(G=void 0),{value:G&&G[q++],done:!G}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")},C=this&&this.__read||function(G,W){var K=typeof Symbol=="function"&&G[Symbol.iterator];if(!K)return G;var q,Z,J=K.call(G),Q=[];try{for(;(W===void 0||W-- >0)&&!(q=J.next()).done;)Q.push(q.value)}catch(ie){Z={error:ie}}finally{try{q&&!q.done&&(K=J.return)&&K.call(J)}finally{if(Z)throw Z.error}}return Q};Object.defineProperty(m,"__esModule",{value:!0});var A=f(91),_=f(2),M=f(183),P=f(0),D=f(7),E=f(95),I=f(69),B=f(3),F=f(306),R=f(307),L=f(308),z=function(G){function W(K,q){q===void 0&&(q=!1);var Z=G.call(this)||this;return Z._hasDeclaration=!1,Z._docTypeName="",Z._hasDocumentElement=!1,Z._currentElementSerialized=!1,Z._openTags=[],Z._ended=!1,Z._fragment=q,Z._options=_.applyDefaults(K||{},A.DefaultXMLBuilderCBOptions),Z._builderOptions={defaultNamespace:Z._options.defaultNamespace,namespaceAlias:Z._options.namespaceAlias},Z._options.format==="json"?Z._writer=new R.JSONCBWriter(Z._options):Z._options.format==="yaml"?Z._writer=new L.YAMLCBWriter(Z._options):Z._writer=new F.XMLCBWriter(Z._options),Z._options.data!==void 0&&Z.on("data",Z._options.data),Z._options.end!==void 0&&Z.on("end",Z._options.end),Z._options.error!==void 0&&Z.on("error",Z._options.error),Z._prefixMap=new E.NamespacePrefixMap,Z._prefixMap.set("xml",D.namespace.XML),Z._prefixIndex={value:1},Z._push(Z._writer.frontMatter()),Z}return g(W,G),W.prototype.ele=function(K,q,Z){var J,Q;if(_.isObject(K)||_.isString(K)&&(/^\s*</.test(K)||/^\s*[\{\[]/.test(K)||/^(\s*|(#.*)|(%.*))*---/.test(K))){var ie=M.fragment().set(this._options);try{ie.ele(K)}catch(fe){return this.emit("error",fe),this}try{for(var se=w(ie.node.childNodes),oe=se.next();!oe.done;oe=se.next()){var ue=oe.value;this._fromNode(ue)}}catch(fe){J={error:fe}}finally{try{oe&&!oe.done&&(Q=se.return)&&Q.call(se)}finally{if(J)throw J.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&this._writer.level===0)return this.emit("error",new Error("Document cannot have multiple document element nodes.")),this;try{this._currentElement=M.fragment(this._builderOptions).ele(K,q,Z)}catch(fe){return this.emit("error",fe),this}return this._fragment||this._hasDocumentElement||this._docTypeName===""||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit("error",new Error("Document element name does not match DocType declaration name.")),this)},W.prototype.att=function(K,q,Z){if(this._currentElement===void 0)return this.emit("error",new Error("Cannot insert an attribute node as child of a document node.")),this;try{this._currentElement.att(K,q,Z)}catch(J){return this.emit("error",J),this}return this},W.prototype.com=function(K){var q;this._serializeOpenTag(!0);try{q=M.fragment(this._builderOptions).com(K).first().node}catch(Z){return this.emit("error",Z),this}return!this._options.wellFormed||P.xml_isLegalChar(q.data)&&q.data.indexOf("--")===-1&&!q.data.endsWith("-")?(this._push(this._writer.comment(q.data)),this):(this.emit("error",new Error("Comment data contains invalid characters (well-formed required).")),this)},W.prototype.txt=function(K){if(!this._fragment&&this._currentElement===void 0)return this.emit("error",new Error("Cannot insert a text node as child of a document node.")),this;var q;this._serializeOpenTag(!0);try{q=M.fragment(this._builderOptions).txt(K).first().node}catch(J){return this.emit("error",J),this}if(this._options.wellFormed&&!P.xml_isLegalChar(q.data))return this.emit("error",new Error("Text data contains invalid characters (well-formed required).")),this;var Z=q.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return this._push(this._writer.text(Z)),this},W.prototype.ins=function(K,q){var Z;q===void 0&&(q=""),this._serializeOpenTag(!0);try{Z=M.fragment(this._builderOptions).ins(K,q).first().node}catch(J){return this.emit("error",J),this}return this._options.wellFormed&&(Z.target.indexOf(":")!==-1||/^xml$/i.test(Z.target))?(this.emit("error",new Error("Processing instruction target contains invalid characters (well-formed required).")),this):this._options.wellFormed&&!P.xml_isLegalChar(Z.data)?(this.emit("error",Error("Processing instruction data contains invalid characters (well-formed required).")),this):(this._push(this._writer.instruction(Z.target,Z.data)),this)},W.prototype.dat=function(K){var q;this._serializeOpenTag(!0);try{q=M.fragment(this._builderOptions).dat(K).first().node}catch(Z){return this.emit("error",Z),this}return this._push(this._writer.cdata(q.data)),this},W.prototype.dec=function(K){return K===void 0&&(K={version:"1.0"}),this._fragment?(this.emit("error",Error("Cannot insert an XML declaration into a document fragment.")),this):this._hasDeclaration?(this.emit("error",Error("XML declaration is already inserted.")),this):(this._push(this._writer.declaration(K.version||"1.0",K.encoding,K.standalone)),this._hasDeclaration=!0,this)},W.prototype.dtd=function(K){if(this._fragment)return this.emit("error",Error("Cannot insert a DocType declaration into a document fragment.")),this;if(this._docTypeName!=="")return this.emit("error",new Error("DocType declaration is already inserted.")),this;if(this._hasDocumentElement)return this.emit("error",new Error("Cannot insert DocType declaration after document element.")),this;var q;try{q=M.create().dtd(K).first().node}catch(Z){return this.emit("error",Z),this}return this._options.wellFormed&&!P.xml_isPubidChar(q.publicId)?(this.emit("error",new Error("DocType public identifier does not match PubidChar construct (well-formed required).")),this):this._options.wellFormed&&(!P.xml_isLegalChar(q.systemId)||q.systemId.indexOf('"')!==-1&&q.systemId.indexOf("'")!==-1)?(this.emit("error",new Error("DocType system identifier contains invalid characters (well-formed required).")),this):(this._docTypeName=K.name,this._push(this._writer.docType(K.name,q.publicId,q.systemId)),this)},W.prototype.import=function(K){var q,Z,J=M.fragment().set(this._options);try{J.import(K)}catch(oe){return this.emit("error",oe),this}try{for(var Q=w(J.node.childNodes),ie=Q.next();!ie.done;ie=Q.next()){var se=ie.value;this._fromNode(se)}}catch(oe){q={error:oe}}finally{try{ie&&!ie.done&&(Z=Q.return)&&Z.call(Q)}finally{if(q)throw q.error}}return this},W.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},W.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},W.prototype._serializeOpenTag=function(K){if(!this._currentElementSerialized&&this._currentElement!==void 0){var q=this._currentElement.node;if(!this._options.wellFormed||q.localName.indexOf(":")===-1&&P.xml_isName(q.localName)){var Z="",J=!1,Q=this._prefixMap.copy(),ie={},se=this._recordNamespaceInformation(q,Q,ie),oe=this._openTags.length===0?null:this._openTags[this._openTags.length-1][1],ue=q.namespaceURI;if(ue===null&&(ue=oe),oe===ue)se!==null&&(J=!0),Z=ue===D.namespace.XML?"xml:"+q.localName:q.localName,this._writer.beginElement(Z),this._push(this._writer.openTagBegin(Z));else{var fe=q.prefix,xe=null;if(fe===null&&ue===se||(xe=Q.get(fe,ue)),fe==="xmlns"){if(this._options.wellFormed)return void this.emit("error",new Error("An element cannot have the 'xmlns' prefix (well-formed required)."));xe=fe}xe!==null?(Z=xe+":"+q.localName,se!==null&&se!==D.namespace.XML&&(oe=se||null),this._writer.beginElement(Z),this._push(this._writer.openTagBegin(Z))):fe!==null?(fe in ie&&(fe=this._generatePrefix(ue,Q,this._prefixIndex)),Q.set(fe,ue),Z+=fe+":"+q.localName,this._writer.beginElement(Z),this._push(this._writer.openTagBegin(Z)),this._push(this._writer.attribute("xmlns:"+fe,this._serializeAttributeValue(ue,this._options.wellFormed))),se!==null&&(oe=se||null)):se===null||se!==null&&se!==ue?(J=!0,Z+=q.localName,oe=ue,this._writer.beginElement(Z),this._push(this._writer.openTagBegin(Z)),this._push(this._writer.attribute("xmlns",this._serializeAttributeValue(ue,this._options.wellFormed)))):(Z+=q.localName,oe=ue,this._writer.beginElement(Z),this._push(this._writer.openTagBegin(Z)))}this._serializeAttributes(q,Q,this._prefixIndex,ie,J,this._options.wellFormed);var ce=ue===D.namespace.HTML;ce&&!K&&W._VoidElementNames.has(q.localName)?(this._push(this._writer.openTagEnd(Z,!0,!0)),this._writer.endElement(Z)):ce||K?this._push(this._writer.openTagEnd(Z,!1,!1)):(this._push(this._writer.openTagEnd(Z,!0,!1)),this._writer.endElement(Z)),this._currentElementSerialized=!0,this._openTags.push([Z,oe,this._prefixMap,K]),this._isPrefixMapModified(this._prefixMap,Q)&&(this._prefixMap=Q),this._writer.level++}else this.emit("error",new Error("Node local name contains invalid characters (well-formed required)."))}},W.prototype._serializeCloseTag=function(){this._writer.level--;var K=this._openTags.pop();if(K!==void 0){var q=C(K,4),Z=q[0],J=(q[1],q[2]),Q=q[3];this._prefixMap=J,Q&&(this._push(this._writer.closeTag(Z)),this._writer.endElement(Z))}else this.emit("error",new Error("Last element is undefined."))},W.prototype._push=function(K){K===null?(this._ended=!0,this.emit("end")):this._ended?this.emit("error",new Error("Cannot push to ended stream.")):K.length!==0&&(this._writer.hasData=!0,this.emit("data",K,this._writer.level))},W.prototype._fromNode=function(K){var q,Z,J,Q;if(B.Guard.isElementNode(K)){var ie=K.prefix?K.prefix+":"+K.localName:K.localName;K.namespaceURI!==null?this.ele(K.namespaceURI,ie):this.ele(ie);try{for(var se=w(K.attributes),oe=se.next();!oe.done;oe=se.next()){var ue=oe.value,fe=ue.prefix?ue.prefix+":"+ue.localName:ue.localName;ue.namespaceURI!==null?this.att(ue.namespaceURI,fe,ue.value):this.att(fe,ue.value)}}catch(pe){q={error:pe}}finally{try{oe&&!oe.done&&(Z=se.return)&&Z.call(se)}finally{if(q)throw q.error}}try{for(var xe=w(K.childNodes),ce=xe.next();!ce.done;ce=xe.next()){var me=ce.value;this._fromNode(me)}}catch(pe){J={error:pe}}finally{try{ce&&!ce.done&&(Q=xe.return)&&Q.call(xe)}finally{if(J)throw J.error}}this.up()}else B.Guard.isExclusiveTextNode(K)&&K.data?this.txt(K.data):B.Guard.isCommentNode(K)?this.com(K.data):B.Guard.isCDATASectionNode(K)?this.dat(K.data):B.Guard.isProcessingInstructionNode(K)&&this.ins(K.target,K.data)},W.prototype._serializeAttributes=function(K,q,Z,J,Q,ie){var se,oe,ue=ie?new I.LocalNameSet:void 0;try{for(var fe=w(K.attributes),xe=fe.next();!xe.done;xe=fe.next()){var ce=xe.value;if(ie||Q||ce.namespaceURI!==null){if(ie&&ue&&ue.has(ce.namespaceURI,ce.localName))return void this.emit("error",new Error("Element contains duplicate attributes (well-formed required)."));ie&&ue&&ue.set(ce.namespaceURI,ce.localName);var me=ce.namespaceURI,pe=null;if(me!==null)if(pe=q.get(ce.prefix,me),me===D.namespace.XMLNS){if(ce.value===D.namespace.XML||ce.prefix===null&&Q||ce.prefix!==null&&(!(ce.localName in J)||J[ce.localName]!==ce.value)&&q.has(ce.localName,ce.value))continue;if(ie&&ce.value===D.namespace.XMLNS)return void this.emit("error",new Error("XMLNS namespace is reserved (well-formed required)."));if(ie&&ce.value==="")return void this.emit("error",new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required)."));ce.prefix==="xmlns"&&(pe="xmlns")}else pe===null&&(pe=ce.prefix===null||q.hasPrefix(ce.prefix)&&!q.has(ce.prefix,me)?this._generatePrefix(me,q,Z):ce.prefix,this._push(this._writer.attribute("xmlns:"+pe,this._serializeAttributeValue(me,this._options.wellFormed))));if(ie&&(ce.localName.indexOf(":")!==-1||!P.xml_isName(ce.localName)||ce.localName==="xmlns"&&me===null))return void this.emit("error",new Error("Attribute local name contains invalid characters (well-formed required)."));this._push(this._writer.attribute((pe!==null?pe+":":"")+ce.localName,this._serializeAttributeValue(ce.value,this._options.wellFormed)))}else this._push(this._writer.attribute(ce.localName,this._serializeAttributeValue(ce.value,this._options.wellFormed)))}}catch(Se){se={error:Se}}finally{try{xe&&!xe.done&&(oe=fe.return)&&oe.call(fe)}finally{if(se)throw se.error}}},W.prototype._serializeAttributeValue=function(K,q){return q&&K!==null&&!P.xml_isLegalChar(K)?(this.emit("error",new Error("Invalid characters in attribute value.")),""):K===null?"":K.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},W.prototype._recordNamespaceInformation=function(K,q,Z){var J,Q,ie=null;try{for(var se=w(K.attributes),oe=se.next();!oe.done;oe=se.next()){var ue=oe.value,fe=ue.namespaceURI,xe=ue.prefix;if(fe===D.namespace.XMLNS){if(xe===null){ie=ue.value;continue}var ce=ue.localName,me=ue.value;if(me===D.namespace.XML||(me===""&&(me=null),q.has(ce,me)))continue;q.set(ce,me),Z[ce]=me||""}}}catch(pe){J={error:pe}}finally{try{oe&&!oe.done&&(Q=se.return)&&Q.call(se)}finally{if(J)throw J.error}}return ie},W.prototype._generatePrefix=function(K,q,Z){var J="ns"+Z.value;return Z.value++,q.set(J,K),J},W.prototype._isPrefixMapModified=function(K,q){var Z=K._items,J=q._items,Q=K._nullItems,ie=q._nullItems;for(var se in J){var oe=Z[se];if(oe===void 0)return!0;var ue=J[se];if(oe.length!==ue.length)return!0;for(var fe=0;fe<oe.length;fe++)if(oe[fe]!==ue[fe])return!0}if(Q.length!==ie.length)return!0;for(fe=0;fe<Q.length;fe++)if(Q[fe]!==ie[fe])return!0;return!1},W._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),W}(f(309).EventEmitter);m.XMLBuilderCBImpl=z},function(s,m,f){f(74);var x,g=this&&this.__extends||(x=function(C,A){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,M){_.__proto__=M}||function(_,M){for(var P in M)M.hasOwnProperty(P)&&(_[P]=M[P])})(C,A)},function(C,A){function _(){this.constructor=C}x(C,A),C.prototype=A===null?Object.create(A):(_.prototype=A.prototype,new _)});Object.defineProperty(m,"__esModule",{value:!0});var w=function(C){function A(_){var M=C.call(this,_)||this;return M._lineLength=0,M}return g(A,C),A.prototype.frontMatter=function(){return""},A.prototype.declaration=function(_,M,P){var D=this._beginLine()+"<?xml";return D+=' version="'+_+'"',M!==void 0&&(D+=' encoding="'+M+'"'),P!==void 0&&(D+=' standalone="'+(P?"yes":"no")+'"'),D+="?>"},A.prototype.docType=function(_,M,P){var D=this._beginLine();return D+=M&&P?"<!DOCTYPE "+_+' PUBLIC "'+M+'" "'+P+'">':M?"<!DOCTYPE "+_+' PUBLIC "'+M+'">':P?"<!DOCTYPE "+_+' SYSTEM "'+P+'">':"<!DOCTYPE "+_+">"},A.prototype.comment=function(_){return this._beginLine()+"<!--"+_+"-->"},A.prototype.text=function(_){return this._beginLine()+_},A.prototype.instruction=function(_,M){return M?this._beginLine()+"<?"+_+" "+M+"?>":this._beginLine()+"<?"+_+"?>"},A.prototype.cdata=function(_){return this._beginLine()+"<![CDATA["+_+"]]>"},A.prototype.openTagBegin=function(_){return this._lineLength+=1+_.length,this._beginLine()+"<"+_},A.prototype.openTagEnd=function(_,M,P){return P?" />":M?this._writerOptions.allowEmptyTags?"></"+_+">":this._writerOptions.spaceBeforeSlash?" />":"/>":">"},A.prototype.closeTag=function(_){return this._beginLine()+"</"+_+">"},A.prototype.attribute=function(_,M){var P=_+'="'+M+'"';return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+P.length>this._writerOptions.width?(P=this._beginLine()+this._indent(1)+P,this._lineLength=P.length,P):(this._lineLength+=1+P.length," "+P)},A.prototype.beginElement=function(_){},A.prototype.endElement=function(_){},A.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var _=(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level);return this._lineLength=_.length,_}return""},A.prototype._indent=function(_){return _<=0?"":this._writerOptions.indent.repeat(_)},A}(f(114).BaseCBWriter);m.XMLCBWriter=w},function(s,m,f){f(74);var x,g=this&&this.__extends||(x=function(C,A){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,M){_.__proto__=M}||function(_,M){for(var P in M)M.hasOwnProperty(P)&&(_[P]=M[P])})(C,A)},function(C,A){function _(){this.constructor=C}x(C,A),C.prototype=A===null?Object.create(A):(_.prototype=A.prototype,new _)});Object.defineProperty(m,"__esModule",{value:!0});var w=function(C){function A(_){var M=C.call(this,_)||this;return M._hasChildren=[],M._additionalLevel=0,M}return g(A,C),A.prototype.frontMatter=function(){return""},A.prototype.declaration=function(_,M,P){return""},A.prototype.docType=function(_,M,P){return""},A.prototype.comment=function(_){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(_)+this._sep()+"}"},A.prototype.text=function(_){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(_)+this._sep()+"}"},A.prototype.instruction=function(_,M){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(M?_+" "+M:_)+this._sep()+"}"},A.prototype.cdata=function(_){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(_)+this._sep()+"}"},A.prototype.attribute=function(_,M){return this._comma()+this._beginLine(1)+"{"+this._sep()+this._key(this._builderOptions.convert.att+_)+this._sep()+this._val(M)+this._sep()+"}"},A.prototype.openTagBegin=function(_){var M=this._comma()+this._beginLine()+"{"+this._sep()+this._key(_)+this._sep()+"{";return this._additionalLevel++,this.hasData=!0,M+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+"[",this._hasChildren.push(!1),M},A.prototype.openTagEnd=function(_,M,P){if(M){var D=this._sep()+"]";return this._additionalLevel--,D+=this._beginLine()+"}"+this._sep()+"}"}return""},A.prototype.closeTag=function(_){var M=this._beginLine()+"]";return this._additionalLevel--,M+=this._beginLine()+"}"+this._sep()+"}"},A.prototype.beginElement=function(_){},A.prototype.endElement=function(_){this._hasChildren.pop()},A.prototype._beginLine=function(_){return _===void 0&&(_=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level+_):""},A.prototype._indent=function(_){return _+this._additionalLevel<=0?"":this._writerOptions.indent.repeat(_+this._additionalLevel)},A.prototype._comma=function(){var _=this._hasChildren[this._hasChildren.length-1]?",":"";return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),_},A.prototype._sep=function(){return this._writerOptions.prettyPrint?" ":""},A.prototype._key=function(_){return'"'+_+'":'},A.prototype._val=function(_){return JSON.stringify(_)},A}(f(114).BaseCBWriter);m.JSONCBWriter=w},function(s,m,f){f(74);var x,g=this&&this.__extends||(x=function(C,A){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,M){_.__proto__=M}||function(_,M){for(var P in M)M.hasOwnProperty(P)&&(_[P]=M[P])})(C,A)},function(C,A){function _(){this.constructor=C}x(C,A),C.prototype=A===null?Object.create(A):(_.prototype=A.prototype,new _)});Object.defineProperty(m,"__esModule",{value:!0});var w=function(C){function A(_){var M=C.call(this,_)||this;if(M._rootWritten=!1,M._additionalLevel=0,_.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(_.offset<0)throw new Error("YAML offset should be zero or a positive number.");return M}return g(A,C),A.prototype.frontMatter=function(){return this._beginLine()+"---"},A.prototype.declaration=function(_,M,P){return""},A.prototype.docType=function(_,M,P){return""},A.prototype.comment=function(_){return this._beginLine()+this._key(this._builderOptions.convert.comment)+" "+this._val(_)},A.prototype.text=function(_){return this._beginLine()+this._key(this._builderOptions.convert.text)+" "+this._val(_)},A.prototype.instruction=function(_,M){return this._beginLine()+this._key(this._builderOptions.convert.ins)+" "+this._val(M?_+" "+M:_)},A.prototype.cdata=function(_){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+" "+this._val(_)},A.prototype.attribute=function(_,M){this._additionalLevel++;var P=this._beginLine()+this._key(this._builderOptions.convert.att+_)+" "+this._val(M);return this._additionalLevel--,P},A.prototype.openTagBegin=function(_){var M=this._beginLine()+this._key(_);return this._rootWritten||(this._rootWritten=!0),this.hasData=!0,this._additionalLevel++,M+=this._beginLine(!0)+this._key(this._builderOptions.convert.text)},A.prototype.openTagEnd=function(_,M,P){return M?" "+this._val(""):""},A.prototype.closeTag=function(_){return this._additionalLevel--,""},A.prototype.beginElement=function(_){},A.prototype.endElement=function(_){},A.prototype._beginLine=function(_){return _===void 0&&(_=!1),(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level,_)},A.prototype._indent=function(_,M){if(_+this._additionalLevel<=0)return"";var P=this._writerOptions.indent.repeat(_+this._additionalLevel);return!M&&this._rootWritten?P.substr(0,P.length-2)+"-"+P.substr(-1,1):P},A.prototype._key=function(_){return'"'+_+'":'},A.prototype._val=function(_){return JSON.stringify(_)},A}(f(114).BaseCBWriter);m.YAMLCBWriter=w},function(s,m,f){var x,g=typeof Reflect=="object"?Reflect:null,w=g&&typeof g.apply=="function"?g.apply:function(L,z,G){return Function.prototype.apply.call(L,z,G)};x=g&&typeof g.ownKeys=="function"?g.ownKeys:Object.getOwnPropertySymbols?function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:function(L){return Object.getOwnPropertyNames(L)};var C=Number.isNaN||function(L){return L!=L};function A(){A.init.call(this)}s.exports=A,A.EventEmitter=A,A.prototype._events=void 0,A.prototype._eventsCount=0,A.prototype._maxListeners=void 0;var _=10;function M(L){if(typeof L!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}function P(L){return L._maxListeners===void 0?A.defaultMaxListeners:L._maxListeners}function D(L,z,G,W){var K,q,Z,J;if(M(G),(q=L._events)===void 0?(q=L._events=Object.create(null),L._eventsCount=0):(q.newListener!==void 0&&(L.emit("newListener",z,G.listener?G.listener:G),q=L._events),Z=q[z]),Z===void 0)Z=q[z]=G,++L._eventsCount;else if(typeof Z=="function"?Z=q[z]=W?[G,Z]:[Z,G]:W?Z.unshift(G):Z.push(G),(K=P(L))>0&&Z.length>K&&!Z.warned){Z.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+Z.length+" "+String(z)+" listeners added. Use emitter.setMaxListeners() to increase limit");Q.name="MaxListenersExceededWarning",Q.emitter=L,Q.type=z,Q.count=Z.length,J=Q,console&&console.warn&&console.warn(J)}return L}function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function I(L,z,G){var W={fired:!1,wrapFn:void 0,target:L,type:z,listener:G},K=E.bind(W);return K.listener=G,W.wrapFn=K,K}function B(L,z,G){var W=L._events;if(W===void 0)return[];var K=W[z];return K===void 0?[]:typeof K=="function"?G?[K.listener||K]:[K]:G?function(q){for(var Z=new Array(q.length),J=0;J<Z.length;++J)Z[J]=q[J].listener||q[J];return Z}(K):R(K,K.length)}function F(L){var z=this._events;if(z!==void 0){var G=z[L];if(typeof G=="function")return 1;if(G!==void 0)return G.length}return 0}function R(L,z){for(var G=new Array(z),W=0;W<z;++W)G[W]=L[W];return G}Object.defineProperty(A,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(L){if(typeof L!="number"||L<0||C(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");_=L}}),A.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},A.prototype.setMaxListeners=function(L){if(typeof L!="number"||L<0||C(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this},A.prototype.getMaxListeners=function(){return P(this)},A.prototype.emit=function(L){for(var z=[],G=1;G<arguments.length;G++)z.push(arguments[G]);var W=L==="error",K=this._events;if(K!==void 0)W=W&&K.error===void 0;else if(!W)return!1;if(W){var q;if(z.length>0&&(q=z[0]),q instanceof Error)throw q;var Z=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw Z.context=q,Z}var J=K[L];if(J===void 0)return!1;if(typeof J=="function")w(J,this,z);else{var Q=J.length,ie=R(J,Q);for(G=0;G<Q;++G)w(ie[G],this,z)}return!0},A.prototype.addListener=function(L,z){return D(this,L,z,!1)},A.prototype.on=A.prototype.addListener,A.prototype.prependListener=function(L,z){return D(this,L,z,!0)},A.prototype.once=function(L,z){return M(z),this.on(L,I(this,L,z)),this},A.prototype.prependOnceListener=function(L,z){return M(z),this.prependListener(L,I(this,L,z)),this},A.prototype.removeListener=function(L,z){var G,W,K,q,Z;if(M(z),(W=this._events)===void 0)return this;if((G=W[L])===void 0)return this;if(G===z||G.listener===z)--this._eventsCount==0?this._events=Object.create(null):(delete W[L],W.removeListener&&this.emit("removeListener",L,G.listener||z));else if(typeof G!="function"){for(K=-1,q=G.length-1;q>=0;q--)if(G[q]===z||G[q].listener===z){Z=G[q].listener,K=q;break}if(K<0)return this;K===0?G.shift():function(J,Q){for(;Q+1<J.length;Q++)J[Q]=J[Q+1];J.pop()}(G,K),G.length===1&&(W[L]=G[0]),W.removeListener!==void 0&&this.emit("removeListener",L,Z||z)}return this},A.prototype.off=A.prototype.removeListener,A.prototype.removeAllListeners=function(L){var z,G,W;if((G=this._events)===void 0)return this;if(G.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):G[L]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete G[L]),this;if(arguments.length===0){var K,q=Object.keys(G);for(W=0;W<q.length;++W)(K=q[W])!=="removeListener"&&this.removeAllListeners(K);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(z=G[L])=="function")this.removeListener(L,z);else if(z!==void 0)for(W=z.length-1;W>=0;W--)this.removeListener(L,z[W]);return this},A.prototype.listeners=function(L){return B(this,L,!0)},A.prototype.rawListeners=function(L){return B(this,L,!1)},A.listenerCount=function(L,z){return typeof L.listenerCount=="function"?L.listenerCount(z):F.call(L,z)},A.prototype.listenerCount=F,A.prototype.eventNames=function(){return this._eventsCount>0?x(this._events):[]}},function(s,m,f){Object.defineProperty(m,"__esModule",{value:!0});var x=f(77);m.createCB=function(g){return new x.XMLBuilderCBImpl(g)},m.fragmentCB=function(g){return new x.XMLBuilderCBImpl(g,!0)}}])})})(xmlbuilder2_min);class FractionHelper{static convertToFractionString(d,s=1,m,f=1e-6,x){if(Math.abs(d)<f)return"0";d/=s;for(let g=1;g<=64;g++){const w=d*g,C=Math.round(w);if(Math.abs(w-C)<f){const A=!m||C!=1?C.toString():"";return g==1?`${A}${m}`:`${A}${m}/${g}`}}return x?x(d)+(m||""):`${d.toString()}${m||""}`}}class StringHelper{static splitLines(d){return d.split(/\r?\n/)}}class PlotModelUtilities{static isReversible(d){if(d.axes.length===0&&d.series.length===0)return!1;for(const s of d.axes){if(s.position===AxisPosition.None)return!1;const m=s.__isReversible;if(m!==void 0&&!m)return!1}for(const s of d.series){const m=s.constructor.name;if(!(s instanceof XYAxisSeries)||this.NonReversibleSeriesTypes.has(m))return!1}for(const s of d.annotations){const m=s.constructor.name;if(this.NonReversibleDataSpaceAnnotationTypes.has(m))return!1}return!0}static isTransposable(d){if(d.axes.length===0&&d.series.length===0)return!1;for(const s of d.axes)if(s.position===AxisPosition.None)return!1;for(const s of d.series){const m=s.constructor.name;if(!isTransposablePlotElement(s)||this.NonTransposableSeriesTypes.has(m))return!1}for(const s of d.annotations){const m=s.constructor.name;if(!isTransposablePlotElement(s)||this.NonTransposableDataSpaceAnnotationTypes.has(m))return!1}return!0}static reverseXAxis(d){d.title&&(d.title+=" (reversed X Axis)");let s=!1;for(const m of d.axes)m.position===AxisPosition.Bottom&&(m.startPosition=1-m.startPosition,m.endPosition=1-m.endPosition,s=!0);return s||d.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),d}static reverseYAxis(d){d.title&&(d.title+=" (reversed Y Axis)");let s=!1;for(const m of d.axes)m.position===AxisPosition.Left&&(m.startPosition=1-m.startPosition,m.endPosition=1-m.endPosition,s=!0);return s||d.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),d}static reverseAllAxes(d){d.title&&(d.title+=" (reversed all Axes)"),d.update(!1);for(const s of d.axes)(s.position===AxisPosition.Left||s.position===AxisPosition.Bottom||s.position===AxisPosition.Right||s.position===AxisPosition.Top)&&(s.startPosition=1-s.startPosition,s.endPosition=1-s.endPosition);return d}static transpose(d){d.title&&(d.title+=" (transposed)"),d.update(!1);for(const s of d.axes)switch(s.position){case AxisPosition.Bottom:s.position=AxisPosition.Left;break;case AxisPosition.Left:s.position=AxisPosition.Bottom;break;case AxisPosition.Right:s.position=AxisPosition.Top;break;case AxisPosition.Top:s.position=AxisPosition.Right;break;case AxisPosition.None:break;default:throw new Error("Invalid axis position")}for(const s of d.annotations)s.xAxis&&!s.xAxisKey&&(s.xAxis.key||(s.xAxis.key=this.XAXIS_KEY),s.xAxisKey=s.xAxis.key),s.yAxis&&!s.yAxisKey&&(s.yAxis.key||(s.yAxis.key=this.YAXIS_KEY),s.yAxisKey=s.yAxis.key);for(const s of d.series)s instanceof XYAxisSeries&&(s.xAxisKey||(s.xAxis?(s.xAxis.key||(s.xAxis.key=this.XAXIS_KEY),s.xAxisKey=s.xAxis.key):s.xAxisKey=this.XAXIS_KEY),s.yAxisKey||(s.yAxis?(s.yAxis.key||(s.yAxis.key=this.YAXIS_KEY),s.yAxisKey=s.yAxis.key):s.yAxisKey=this.YAXIS_KEY));return d}}ee(PlotModelUtilities,"XAXIS_KEY","x"),ee(PlotModelUtilities,"YAXIS_KEY","y"),ee(PlotModelUtilities,"NonReversibleSeriesTypes",new Set),ee(PlotModelUtilities,"NonReversibleDataSpaceAnnotationTypes",new Set([])),ee(PlotModelUtilities,"NonTransposableSeriesTypes",new Set(["CandleStickAndVolumeSeries","OldCandleStickSeries"])),ee(PlotModelUtilities,"NonTransposableDataSpaceAnnotationTypes",new Set);class ArrayBuilder{static createVector(d,s,m){if(m.toFixed(0)!==m.toString())throw new Error("use createVectorWithStep instead");const f=[];for(let x=0;x<m;x++)f[x]=Number((d+(s-d)*x/(m-1)).toFixed(8));return f}static createVectorWithStep(d,s,m){const f=Math.round((s-d)/m),x=[];for(let g=0;g<=f;g++)x[g]=Number((d+g*m).toFixed(8));return x}static evaluate(d,s,m){const f=s.length,x=m.length,g=[];for(let w=0;w<f;w++){g[w]=[];for(let C=0;C<x;C++)g[w][C]=d(s[w],m[C])}return g}static fill(d,s){for(let m=0;m<d.length;m++)d[m]=s}static fill2D(d,s){for(let m=0;m<d.length;m++)for(let f=0;f<d[m].length;f++)d[m][f]=s}}class TrackerHelper{static getNearestHit(d,s,m,f,x,g){if(d){if(m||f){const w=d.getNearestPoint(s,!1);if(this.shouldTrackerOpen(w,s,x))return w}if(!f){const w=d.getNearestPoint(s,!0);if(!g||this.shouldTrackerOpen(w,s,x))return w}}}static shouldTrackerOpen(d,s,m){return d!=null&&d.position?d.position.distanceTo(s)<m:!1}}class Conrec{static contour(d,s,m,f,x){let g=0,w=0,C=0,A=0;const _=new Array(5),M=new Array(5),P=new Array(5),D=new Array(5),E=0,I=d.length-1,B=0,F=d[0].length-1,R=f.length,L=[0,1,1,0],z=[0,0,1,1],G=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],W=(q,Z)=>(_[Z]*P[q]-_[q]*P[Z])/(_[Z]-_[q]),K=(q,Z)=>(_[Z]*D[q]-_[q]*D[Z])/(_[Z]-_[q]);for(let q=F-1;q>=B;q--)for(let Z=E;Z<=I-1;Z++){const J=Math.min(d[Z][q],d[Z][q+1]),Q=Math.min(d[Z+1][q],d[Z+1][q+1]),ie=Math.min(J,Q),se=Math.max(d[Z][q],d[Z][q+1]),oe=Math.max(d[Z+1][q],d[Z+1][q+1]),ue=Math.max(se,oe);if(ue>=f[0]&&ie<=f[R-1]){for(let fe=0;fe<R;fe++)if(f[fe]>=ie&&f[fe]<=ue){for(let xe=4;xe>=0;xe--)xe>0?(_[xe]=d[Z+L[xe-1]][q+z[xe-1]]-f[fe],P[xe]=s[Z+L[xe-1]],D[xe]=m[q+z[xe-1]]):(_[0]=.25*(_[1]+_[2]+_[3]+_[4]),P[0]=.5*(s[Z]+s[Z+1]),D[0]=.5*(m[q]+m[q+1])),_[xe]>0?M[xe]=1:_[xe]<0?M[xe]=-1:M[xe]=0;for(let xe=1;xe<=4;xe++){const ce=xe,me=0,pe=xe!==4?xe+1:1,Se=G[M[ce]+1][M[me]+1][M[pe]+1];if(Se!==0){switch(Se){case 1:g=P[ce],C=D[ce],w=P[me],A=D[me];break;case 2:g=P[me],C=D[me],w=P[pe],A=D[pe];break;case 3:g=P[pe],C=D[pe],w=P[ce],A=D[ce];break;case 4:g=P[ce],C=D[ce],w=W(me,pe),A=K(me,pe);break;case 5:g=P[me],C=D[me],w=W(pe,ce),A=K(pe,ce);break;case 6:g=P[pe],C=D[pe],w=W(ce,me),A=K(ce,me);break;case 7:g=W(ce,me),C=K(ce,me),w=W(me,pe),A=K(me,pe);break;case 8:g=W(me,pe),C=K(me,pe),w=W(pe,ce),A=K(pe,ce);break;case 9:g=W(pe,ce),C=K(pe,ce),w=W(ce,me),A=K(ce,me);break}x(g,C,w,A,f[fe])}}}}}}}var BinningOutlierMode=(a=>(a[a.RejectOutliers=0]="RejectOutliers",a[a.IgnoreOutliers=1]="IgnoreOutliers",a[a.CountOutliers=2]="CountOutliers",a))(BinningOutlierMode||{}),BinningIntervalType=(a=>(a[a.InclusiveLowerBound=0]="InclusiveLowerBound",a[a.InclusiveUpperBound=1]="InclusiveUpperBound",a))(BinningIntervalType||{}),BinningExtremeValueMode=(a=>(a[a.ExcludeExtremeValues=0]="ExcludeExtremeValues",a[a.IncludeExtremeValues=1]="IncludeExtremeValues",a))(BinningExtremeValueMode||{});class BinningOptions{constructor(d,s,m){if(this.outlierMode=d,this.intervalType=s,this.extremeValuesMode=m,d!==0&&d!==2&&d!==1)throw new Error("Unsupported binning outlier mode");if(s!==0&&s!==1)throw new Error("Unsupported bin interval type");if(m!==0&&m!==1)throw new Error("Unsupported bin interval type")}}class HistogramHelpers{static createUniformBins(d,s,m){if(m<1)throw new Error("The bin count must be positive.");if(isNaN(d)||!isFinite(d))throw new Error("The start may not be NaN or infinite.");if(isNaN(s)||!isFinite(s))throw new Error("The start may not be NaN or infinite.");if(s<=d)throw new Error("The end must be strictly greater than the start.");const f=[];f.push(d);for(let x=1;x<m;x++)f.push(d+(s-d)*x/m);return f.push(s),f}static collect(d,s,m){if(!d)throw new Error("Samples cannot be undefined.");if(!s)throw new Error("Bin breaks cannot be undefined.");if(!m)throw new Error("Binning options cannot be undefined.");const f=Array.from(new Set(s)).sort((A,_)=>A-_);if(f.length<2)throw new Error("At least 2 distinct bin breaks must be provided.");if(f.some(A=>isNaN(A)||!isFinite(A)))throw new Error("Bin breaks may not be NaN or infinite.");const x=new Array(f.length-1).fill(0);let g=0;function w(A,_){return A-_}for(const A of d){if(isNaN(A)||!isFinite(A))throw new Error("Samples may not be NaN or infinite.");let _=HistogramHelpers.binarySearch(f,A,w),M=!1;if(_>=0?m.intervalType===BinningIntervalType.InclusiveUpperBound?_>0?(x[_-1]+=1,M=!0):m.extremeValuesMode===BinningExtremeValueMode.IncludeExtremeValues&&(x[_]+=1,M=!0):_<x.length?(x[_]+=1,M=!0):m.extremeValuesMode===BinningExtremeValueMode.IncludeExtremeValues&&(x[_-1]+=1,M=!0):(_=~_-1,_>=0&&_<x.length&&(x[_]+=1,M=!0)),M)g++;else switch(m.outlierMode){case BinningOutlierMode.RejectOutliers:throw new Error(`Sample with value ${A} could not be assigned to any bin.`);case BinningOutlierMode.IgnoreOutliers:break;case BinningOutlierMode.CountOutliers:g++;break}}g===0&&(g=1);const C=[];for(let A=0;A<f.length-1;A++){const _=x[A];C.push(new HistogramItem(f[A],f[A+1],_/g,_))}return C}static binarySearch(d,s,m){let f=0,x=d.length-1;for(;f<=x;){const g=x+f>>1,w=m(s,d[g]);if(w>0)f=g+1;else if(w<0)x=g-1;else return g}return-f-1}}function createNormalDistributionModel(){const a=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-.05,maximum:1.05,majorStep:.2,minorStep:.05,tickStyle:TickStyle.Inside})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-5.25,maximum:5.25,majorStep:1,minorStep:.25,tickStyle:TickStyle.Inside})),a.series.push(createNormalDistributionSeries(-5,5,0,.2)),a.series.push(createNormalDistributionSeries(-5,5,0,1)),a.series.push(createNormalDistributionSeries(-5,5,0,5)),a.series.push(createNormalDistributionSeries(-5,5,-2,.5)),a}const createNormalDistributionSeries=(a,d,s,m,f=1001)=>{const x=new LineSeries;x.title=`=${s}, =${m}`;for(let g=0;g<f;g++){const w=a+(d-a)*g/(f-1),C=1/Math.sqrt(2*Math.PI*m)*Math.exp(-(w-s)*(w-s)/2/m);x.points.push(new DataPoint(w,C))}return x};function lineLegendPositionAtEnd(){const a=new PlotModel({title:"Average (Mean) monthly temperatures in 2003",plotMargins:new OxyThickness(60,4,60,40),plotAreaBorderThickness:new OxyThickness(0),isLegendVisible:!1}),d=A=>`${A.title}: ${Number(A.yValue).toFixed(1)}F`,s=new LineSeries({title:"Phoenix",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:d}),m=new LineSeries({title:"Raleigh",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:d}),f=new LineSeries({title:"Minneapolis",lineLegendPosition:LineLegendPosition.End,trackerStringFormatter:d}),x=[52.1,55.1,59.7,67.7,76.3,84.6,91.2,89.1,83.8,72.2,59.8,52.5],g=[40.5,42.2,49.2,59.5,67.4,74.4,77.5,76.5,70.6,60.2,50,41.2],w=[12.2,16.5,28.3,45.1,57.1,66.9,71.9,70.2,60,50,32.4,18.6];for(let A=0;A<12;A++)s.points.push(new DataPoint(A,x[A])),m.points.push(new DataPoint(A,g[A])),f.points.push(new DataPoint(A,w[A]));a.series.push(s),a.series.push(m),a.series.push(f);const C=new CategoryAxis({axislineStyle:LineStyle.Solid});return C.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),a.axes.push(C),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Fahrenheit",axislineStyle:LineStyle.Solid})),a}const category$$="1 ShowCases",ShowCases$1={category:category$$,tags:["Showcase"],examples:[{title:"Normal distribution",example:{model:createNormalDistributionModel}},{title:"Average (Mean) monthly temperatures in 2003",example:{model:lineLegendPositionAtEnd}}]};function graph1(){const a=new PlotModel({title:"Q1 2003 Calls by Region",plotAreaBorderThickness:new OxyThickness(0)}),d=new CategoryAxis({axislineStyle:LineStyle.Solid,tickStyle:TickStyle.None,key:"y"});d.labels.push("North","East","South","West"),a.axes.push(d),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,key:"x"}));const s=new BarSeries({fillColor:OxyColors.Black,xAxisKey:"x",yAxisKey:"y"});return s.items.push(new BarItem({value:3e3})),s.items.push(new BarItem({value:4500})),s.items.push(new BarItem({value:2100})),s.items.push(new BarItem({value:4800})),a.series.push(s),a}function graph2(){const a=new PlotModel({title:"2003 Sales",plotAreaBorderThickness:new OxyThickness(0),isLegendVisible:!1}),d=[1e3,1010,1020,1010,1020,1030,1e3,500,1e3,900,900,1e3],s=[2250,2500,2750,2500,2750,3e3,2500,2750,3100,2800,3100,3500],m=new CategoryAxis({axislineStyle:LineStyle.Solid,tickStyle:TickStyle.None});m.labels.push("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov"),a.axes.push(m),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:4e3,majorStep:500,minorStep:500,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside}));const f=new LineSeries({color:OxyColors.Orange});for(let g=0;g<12;g++)f.points.push(new DataPoint(g,d[g]));const x=new LineSeries({color:OxyColors.Gray});for(let g=0;g<12;g++)x.points.push(new DataPoint(g,s[g]));return a.series.push(f),a.series.push(x),a}function graph3(){const a=new PlotModel({title:"Headcount",plotAreaBorderThickness:new OxyThickness(0),plotMargins:new OxyThickness(100,40,20,40)}),d=new Map([["Manufacturing",240],["Sales",160],["Engineering",50],["Operations",45],["Finance",40],["Info Systems",39],["Legal",25],["Marketing",10]]);return a.axes.push(new CategoryAxis({position:AxisPosition.Left,itemsSource:Array.from(d),labelField:"0",tickStyle:TickStyle.None,axisTickToLabelDistance:10,startPosition:1,endPosition:0})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:250,majorStep:50,minorStep:50,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,minimumPadding:0,maximumPadding:0})),a.series.push(new BarSeries({fillColor:OxyColors.Black,itemsSource:Array.from(d),valueField:"1"})),a}function graph4(){const a=new PlotModel({title:"Regional % of Total Expenses",plotAreaBorderThickness:new OxyThickness(0)}),d=new CategoryAxis({tickStyle:TickStyle.None,gapWidth:0,key:"y"});d.labels.push(`West
34%`,`East
30%`,`North
20%`,`South
16%`),a.axes.push(d),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:.35+Number.EPSILON,majorStep:.05,minorStep:.05,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,stringFormatter:f=>`${Math.round(f*100)}%`,key:"x"}));const s=new BarSeries({barWidth:1,strokeColor:OxyColors.DarkGray,strokeThickness:1,fillColor:OxyColors.Black,xAxisKey:"x",yAxisKey:"y"}),m=[.34,.3,.2,.16];return s.items=m.map(f=>BarItem.fromValue(f)),a.series.push(s),a}function graph5(){const a=new PlotModel({title:"Actual to Plan Variance",plotAreaBorderThickness:new OxyThickness(0)}),d=new Map([["Sales",7],["Marketing",-7],["Systems",-2],["HR",-17],["Finance",5]]);return a.axes.push(new CategoryAxis({itemsSource:Array.from(d),labelField:"0",tickStyle:TickStyle.None,key:"y"})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-20,maximum:10,minorStep:5,majorStep:5,layer:AxisLayer.AboveSeries,axislineStyle:LineStyle.Solid,extraGridlines:[0],extraGridlineColor:OxyColors.Black,extraGridlineThickness:3,tickStyle:TickStyle.Outside,stringFormatter:s=>(s>0?"+":s<0?"-":"")+round(Math.abs(s),0),key:"x"})),a.series.push(new BarSeries({fillColor:OxyColors.Orange,negativeFillColor:OxyColors.Gray,itemsSource:Array.from(d),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),a}function graph6(){const a=new PlotModel({title:"Order Count by Order Size",plotAreaBorderThickness:new OxyThickness(0),plotMargins:new OxyThickness(60,4,4,60)}),d=new Map([[" <$10",5e3],[`>=$10
    &
 <$20`,1500],[`>=$20
    &
 <$30`,1e3],[`>=$40
    &
 <$40`,500],[">=$40",200]]);return a.axes.push(new CategoryAxis({axislineStyle:LineStyle.Solid,itemsSource:Array.from(d),labelField:"0",tickStyle:TickStyle.None,key:"y"})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:6e3,majorStep:1e3,minorStep:1e3,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside,stringFormatter:s=>(s>0?"+":s<0?"-":"")+round(Math.abs(s),0),key:"x"})),a.series.push(new BarSeries({fillColor:OxyColors.Orange,itemsSource:Array.from(d),valueField:"1",xAxisKey:"x",yAxisKey:"y"})),a}function graph7(){const a=new PlotModel({title:"Correlation of Employee Heights and Salaries",plotAreaBorderThickness:new OxyThickness(0)}),d=[new DataPoint(62,39e3),new DataPoint(66,44e3),new DataPoint(64,5e4),new DataPoint(66,49500),new DataPoint(67,52e3),new DataPoint(68,5e4),new DataPoint(66,56e3),new DataPoint(67,56e3),new DataPoint(72,56e3),new DataPoint(68,58e3),new DataPoint(69,62e3),new DataPoint(71,63e3),new DataPoint(65,64e3),new DataPoint(68,71e3),new DataPoint(72,72e3),new DataPoint(74,69e3),new DataPoint(74,79e3),new DataPoint(77,81e3)];return a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:3e4,maximum:9e4,majorStep:1e4,minorStep:1e4,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:60,maximum:80,majorStep:5,minorStep:5,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Outside})),a.series.push(new ScatterSeries({itemsSource:d,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.White,markerStroke:OxyColors.Black,dataFieldX:"x",dataFieldY:"y"})),a}const category$_="Examples from the book 'Show Me the Numbers'",ShowMeTheNumbersExamples={category:category$_,tags:["Showcase"],examples:[{title:"Q1 2003 Calls by Region",example:{model:graph1}},{title:"2003 Sales",example:{model:graph2}},{title:"Headcount",example:{model:graph3}},{title:"Regional % of Total Expenses",example:{model:graph4}},{title:"Actual to Plan Variance",example:{model:graph5}},{title:"Order Count by Order Size",example:{model:graph6}},{title:"Correlation of Employee Heights and Salaries",example:{model:graph7}}]},ShowCases=[ShowCases$1,ShowMeTheNumbersExamples];function toolTips$1(){const a=new PlotModel({title:"Tool tips"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"LineAnnotation",toolTip:"This is a tool tip for the LineAnnotation"})),a.annotations.push(new RectangleAnnotation({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",toolTip:"This is a tooltip for the RectangleAnnotation",fill:OxyColor.fromAColor(99,OxyColors.Blue),stroke:OxyColors.Black,strokeThickness:2})),a.annotations.push(new EllipseAnnotation({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",toolTip:"This is a tool tip for the EllipseAnnotation",textRotation:10,fill:OxyColor.fromAColor(99,OxyColors.Green),stroke:OxyColors.Black,strokeThickness:2})),a.annotations.push(new PointAnnotation({x:50,y:50,text:"P1",toolTip:"This is a tool tip for the PointAnnotation"})),a.annotations.push(new ArrowAnnotation({startPoint:new DataPoint(8,4),endPoint:new DataPoint(0,0),color:OxyColors.Green,text:"ArrowAnnotation",toolTip:"This is a tool tip for the ArrowAnnotation"})),a.annotations.push(new TextAnnotation({textPosition:new DataPoint(60,60),text:"TextAnnotation",toolTip:"This is a tool tip for the TextAnnotation"})),a}const category$Z="Annotations",AnnotationExamples={category:category$Z,tags:["Annotations"],examples:[{title:"Tool tips",example:{model:toolTips$1}}]};function arrowAnnotation$1(){const a=new PlotModel;return a.title="ArrowAnnotations",a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-40,maximum:60})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),a.annotations.push(new ArrowAnnotation({startPoint:new DataPoint(8,4),endPoint:new DataPoint(0,0),color:OxyColors.Green,text:"StartPoint and EndPoint"})),a.annotations.push(new ArrowAnnotation({arrowDirection:new ScreenVector(30,70),endPoint:new DataPoint(40,-3),color:OxyColors.Blue,text:"ArrowDirection and EndPoint"})),a.annotations.push(new ArrowAnnotation({arrowDirection:new ScreenVector(30,-70),endPoint:new DataPoint(10,-3),headLength:14,headWidth:6,veeness:4,color:OxyColors.Red,text:"HeadLength = 20, HeadWidth = 10, Veeness = 4"})),a}const category$Y="ArrowAnnotation",ArrowAnnotationExamples={category:category$Y,tags:["Annotations"],examples:[{title:"ArrowAnnotation",example:{model:arrowAnnotation$1}}]};function ellipseAnnotation(){const a=new PlotModel({title:"EllipseAnnotation"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a.annotations.push(new EllipseAnnotation({x:20,y:60,width:20,height:15,text:"EllipseAnnotation",textRotation:10,fill:OxyColor.fromAColor(99,OxyColors.Green),stroke:OxyColors.Black,strokeThickness:2})),a.annotations.push(new EllipseAnnotation({x:20,y:20,width:20,height:20,fill:OxyColor.fromAColor(99,OxyColors.Green),stroke:OxyColors.Black,strokeThickness:2})),a.annotations.push(new EllipseAnnotation({x:30,y:20,width:20,height:20,fill:OxyColor.fromAColor(99,OxyColors.Red),stroke:OxyColors.Black,strokeThickness:2})),a.annotations.push(new EllipseAnnotation({x:25,y:30,width:20,height:20,fill:OxyColor.fromAColor(99,OxyColors.Blue),stroke:OxyColors.Black,strokeThickness:2})),a}const category$X="EllipseAnnotation",EllipseAnnotationExamples={category:category$X,tags:["Annotations"],examples:[{title:"EllipseAnnotation",example:{model:ellipseAnnotation}}]};function annotation(){const a=new PlotModel;return a.title="FunctionAnnotation",a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),a.annotations.push(new FunctionAnnotation({equation:Math.sin,strokeThickness:2,color:OxyColor.fromAColor(120,OxyColors.Blue),text:"f(x)=sin(x)"})),a.annotations.push(new FunctionAnnotation({equation:d=>d*d,strokeThickness:2,color:OxyColor.fromAColor(120,OxyColors.Red),type:FunctionAnnotationType.EquationY,text:"f(y)=y^2"})),a}const category$W="FunctionAnnotation",FunctionAnnotationExamples={category:category$W,tags:["Annotations"],examples:[{title:"FunctionAnnotation",example:{model:annotation}}]};async function imageAnnotation$1(){const a=window.oxyPlotImg;if(!a)throw new Error("window.oxyPlotImg not set");const d=new PlotModel({title:"ImageAnnotation",plotMargins:new OxyThickness(60,4,4,60)});d.axes.push(new LinearAxis({position:AxisPosition.Bottom})),d.axes.push(new LinearAxis({position:AxisPosition.Left}));const m=await getImageService().load(a);d.annotations.push(new ImageAnnotation({imageSource:m,opacity:.2,interpolate:!1,x:new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(.5,PlotLengthUnit.RelativeToPlotArea),width:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Middle})),d.annotations.push(new ImageAnnotation({imageSource:m,x:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),width:new PlotLength(120,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Right,verticalAlignment:VerticalAlignment.Top})),d.annotations.push(new ImageAnnotation({imageSource:m,x:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),offsetY:new PlotLength(-5,PlotLengthUnit.ScreenUnits),height:new PlotLength(20,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),d.annotations.push(new ImageAnnotation({imageSource:m,x:new PlotLength(50,PlotLengthUnit.Data),y:new PlotLength(50,PlotLengthUnit.Data),width:new PlotLength(200,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Top})),d.annotations.push(new ImageAnnotation({imageSource:m,x:new PlotLength(50,PlotLengthUnit.Data),y:new PlotLength(20,PlotLengthUnit.Data),width:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Top})),d.annotations.push(new ImageAnnotation({imageSource:m,x:new PlotLength(.5,PlotLengthUnit.RelativeToViewport),y:new PlotLength(1,PlotLengthUnit.RelativeToViewport),offsetY:new PlotLength(-35,PlotLengthUnit.ScreenUnits),height:new PlotLength(30,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Top}));for(let f=0;f<10;f++)d.annotations.push(new ImageAnnotation({imageSource:m,opacity:(f+1)/10,x:new PlotLength(10,PlotLengthUnit.Data),y:new PlotLength(f*2,PlotLengthUnit.Data),width:new PlotLength(100,PlotLengthUnit.ScreenUnits),horizontalAlignment:HorizontalAlignment.Center,verticalAlignment:VerticalAlignment.Bottom}));return d}async function imageAnnotationAsBackgroundGradient(){const a=new PlotModel({title:"Using ImageAnnotations to draw a gradient backgrounds",subtitle:"But do you really want this? This is called 'chartjunk'!",plotMargins:new OxyThickness(60,4,4,60)});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=256,s=new TwoDimensionalArray(1,d);for(let g=0;g<d;g++)s.set(0,g,OxyColor.interpolate(OxyColors.Blue,OxyColors.Red,g/(d-1)));const m=await OxyImage.create(s,ImageFormat.Png),f=TwoDimensionalArray.fromArray([[OxyColors.Yellow],[OxyColors.Gray]]),x=await OxyImage.create(f,ImageFormat.Png);return a.annotations.push(new ImageAnnotation({imageSource:x,interpolate:!0,layer:AnnotationLayer.BelowAxes,x:new PlotLength(0,PlotLengthUnit.RelativeToViewport),y:new PlotLength(0,PlotLengthUnit.RelativeToViewport),width:new PlotLength(1,PlotLengthUnit.RelativeToViewport),height:new PlotLength(1,PlotLengthUnit.RelativeToViewport),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Top})),a.annotations.push(new ImageAnnotation({imageSource:m,interpolate:!0,layer:AnnotationLayer.BelowAxes,x:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),y:new PlotLength(0,PlotLengthUnit.RelativeToPlotArea),width:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),height:new PlotLength(1,PlotLengthUnit.RelativeToPlotArea),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Top})),a.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:7,dx:.01})),a}const fourColorPixels=TwoDimensionalArray.fromArray([[OxyColors.Blue,OxyColors.Yellow],[OxyColors.Green,OxyColors.Red]]);async function imageAnnotation_NormalAxes(){const a=new PlotModel({title:"ImageAnnotation - normal axes"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=fourColorPixels,s=await OxyImage.create(d,ImageFormat.Png);return a.annotations.push(new ImageAnnotation({imageSource:s,interpolate:!1,x:new PlotLength(0,PlotLengthUnit.Data),y:new PlotLength(0,PlotLengthUnit.Data),width:new PlotLength(80,PlotLengthUnit.Data),height:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),a}async function imageAnnotation_ReverseHorizontalAxis(){const a=new PlotModel({title:"ImageAnnotation - reverse horizontal axis"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=fourColorPixels,s=await OxyImage.create(d,ImageFormat.Png);return a.annotations.push(new ImageAnnotation({imageSource:s,interpolate:!1,x:new PlotLength(100,PlotLengthUnit.Data),y:new PlotLength(0,PlotLengthUnit.Data),width:new PlotLength(80,PlotLengthUnit.Data),height:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),a}async function imageAnnotation_ReverseVerticalAxis(){const a=new PlotModel({title:"ImageAnnotation - reverse vertical axis"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0}));const d=fourColorPixels,s=await OxyImage.create(d,ImageFormat.Png);return a.annotations.push(new ImageAnnotation({imageSource:s,interpolate:!1,x:new PlotLength(0,PlotLengthUnit.Data),y:new PlotLength(100,PlotLengthUnit.Data),width:new PlotLength(80,PlotLengthUnit.Data),height:new PlotLength(50,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Left,verticalAlignment:VerticalAlignment.Bottom})),a}const category$V="ImageAnnotation",ImageAnnotationExamples={category:category$V,tags:["Annotations"],examples:[{title:"ImageAnnotation",example:{model:imageAnnotation$1}},{title:"ImageAnnotation - gradient backgrounds",example:{model:imageAnnotationAsBackgroundGradient}},{title:"ImageAnnotation - normal axes",example:{model:imageAnnotation_NormalAxes}},{title:"ImageAnnotation - reverse horizontal axis",example:{model:imageAnnotation_ReverseHorizontalAxis}},{title:"ImageAnnotation - reverse vertical axis",example:{model:imageAnnotation_ReverseVerticalAxis}}]};function lineAnnotationOnLinearAxes(){const a=new PlotModel;a.title="LineAnnotation on linear axes",a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const d=OxyColorExtensions.changeOpacity(OxyColors.White,.75);return a.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",borderBackground:d,borderPadding:new OxyThickness(5)})),a.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Second",borderBackground:d,borderPadding:new OxyThickness(5)})),a.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Vertical",borderBackground:d,borderPadding:new OxyThickness(5)})),a.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal",borderBackground:d,borderPadding:new OxyThickness(5)})),a}function lineAnnotationOnLogarithmicAxes(){const a=new PlotModel;return a.title="LineAnnotation on logarithmic axes",a.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimum:1,maximum:80})),a.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimum:1,maximum:10})),a.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",textMargin:40})),a.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Second"})),a.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Vertical"})),a.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal"})),a}function lineAnnotationOnLinearAxesWithTextOrientation(){const a=new PlotModel;return a.title="LineAnnotations",a.subtitle="with TextOrientation specified",a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),a.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"Horizontal",textOrientation:AnnotationTextOrientation.Horizontal,textVerticalAlignment:VerticalAlignment.Bottom})),a.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Vertical",textOrientation:AnnotationTextOrientation.Vertical})),a.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Horizontal (x=4)",textPadding:8,textOrientation:AnnotationTextOrientation.Horizontal})),a.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:45,maximumY:10,color:OxyColors.Green,text:"Horizontal (x=45)",textHorizontalAlignment:HorizontalAlignment.Left,textPadding:8,textOrientation:AnnotationTextOrientation.Horizontal})),a.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal",textLinePosition:.5,textOrientation:AnnotationTextOrientation.Horizontal})),a}function linearAxesMultipleAxes(){const a=new PlotModel;return a.title="ClipByAxis property",a.subtitle="This property specifies if the annotation should be clipped by the current axes or by the full plot area.",a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80,startPosition:0,endPosition:.45,textColor:OxyColors.Red})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,startPosition:0,endPosition:.45,textColor:OxyColors.Green})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80,startPosition:.55,endPosition:1,textColor:OxyColors.Blue})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,startPosition:.55,endPosition:1,textColor:OxyColors.Orange})),a.annotations.push(new LineAnnotation({clipByYAxis:!0,type:LineAnnotationType.Vertical,x:0,color:OxyColors.Green,text:"Vertical, ClipByAxis = true"})),a.annotations.push(new LineAnnotation({clipByYAxis:!1,type:LineAnnotationType.Vertical,x:20,color:OxyColors.Green,text:"Vertical, ClipByAxis = false"})),a.annotations.push(new LineAnnotation({clipByXAxis:!0,type:LineAnnotationType.Horizontal,y:2,color:OxyColors.Gold,text:"Horizontal, ClipByAxis = true"})),a.annotations.push(new LineAnnotation({clipByXAxis:!1,type:LineAnnotationType.Horizontal,y:8,color:OxyColors.Gold,text:"Horizontal, ClipByAxis = false"})),a}function reversedAxes(){const a=new PlotModel;return a.title="LineAnnotation on reversed axes",a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80,startPosition:1,endPosition:0})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,startPosition:1,endPosition:0})),a.annotations.push(new LineAnnotation({slope:.1,intercept:1,text:"First",textHorizontalAlignment:HorizontalAlignment.Left})),a.annotations.push(new LineAnnotation({slope:.3,intercept:2,maximumX:40,color:OxyColors.Red,text:"Second",textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Bottom})),a.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,x:4,maximumY:10,color:OxyColors.Green,text:"Vertical",textHorizontalAlignment:HorizontalAlignment.Right})),a.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,y:2,maximumX:4,color:OxyColors.Gold,text:"Horizontal",textHorizontalAlignment:HorizontalAlignment.Left})),a}const category$U="LineAnnotation",LineAnnotationExamples={category:category$U,tags:["Annotations"],examples:[{title:"LineAnnotation on linear axes",example:{model:lineAnnotationOnLinearAxes}},{title:"LineAnnotation on logarithmic axes",example:{model:lineAnnotationOnLogarithmicAxes}},{title:"LineAnnotation with text orientation specified",example:{model:lineAnnotationOnLinearAxesWithTextOrientation}},{title:"LineAnnotation - ClipByAxis property",example:{model:linearAxesMultipleAxes}},{title:"LineAnnotation on reversed axes",example:{model:reversedAxes}}]};function pointAnnotation(){const a=new PlotModel({title:"PointAnnotation"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a.annotations.push(new PointAnnotation({x:50,y:50,text:"P1"})),a}function pointAnnotationShapes(){const a=new PlotModel({title:"PointAnnotation - shapes"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,maximum:120})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a.annotations.push(new PointAnnotation({x:20,y:60,text:"Circle",shape:MarkerType.Circle,fill:OxyColors.LightGray,stroke:OxyColors.DarkGray,strokeThickness:1})),a.annotations.push(new PointAnnotation({x:40,y:60,text:"Square",shape:MarkerType.Square,fill:OxyColors.LightBlue,stroke:OxyColors.DarkBlue,strokeThickness:1})),a.annotations.push(new PointAnnotation({x:60,y:60,text:"Triangle",shape:MarkerType.Triangle,fill:OxyColors.IndianRed,stroke:OxyColors.Black,strokeThickness:1})),a.annotations.push(new PointAnnotation({x:80,y:60,text:"Diamond",shape:MarkerType.Diamond,fill:OxyColors.ForestGreen,stroke:OxyColors.Black,strokeThickness:1})),a.annotations.push(new PointAnnotation({x:100,y:60,text:"Custom",shape:MarkerType.Custom,customOutline:[new ScreenPoint(-1,-1),new ScreenPoint(1,1),new ScreenPoint(-1,1),new ScreenPoint(1,-1)],stroke:OxyColors.Black,fill:OxyColors.CadetBlue,strokeThickness:1})),a.annotations.push(new PointAnnotation({x:20,y:40,text:"Cross",shape:MarkerType.Cross,stroke:OxyColors.IndianRed,strokeThickness:1})),a.annotations.push(new PointAnnotation({x:40,y:40,text:"Plus",shape:MarkerType.Plus,stroke:OxyColors.Navy,strokeThickness:1})),a.annotations.push(new PointAnnotation({x:60,y:40,text:"Star",shape:MarkerType.Star,stroke:OxyColors.DarkOliveGreen,strokeThickness:1})),a}function pointAnnotationTextAlignment(){const a=new PlotModel({title:"PointAnnotation - text alignments"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-50,maximum:50})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-50,maximum:50}));for(let d=-1;d<=1;d++){const s=d,m=getEnumName(HorizontalAlignment,s);for(let f=-1;f<=1;f++){const x=f,g=getEnumName(VerticalAlignment,x);a.annotations.push(new PointAnnotation({x:d*20,y:f*20,size:10,text:`${m},${g}`,textHorizontalAlignment:s,textVerticalAlignment:x}))}}return a}const category$T="PointAnnotation",PointAnnotationExamples={category:category$T,tags:["Annotations"],examples:[{title:"PointAnnotation",example:{model:pointAnnotation}},{title:"PointAnnotation - shapes",example:{model:pointAnnotationShapes}},{title:"PointAnnotation - text alignments",example:{model:pointAnnotationTextAlignment}}]};function polygonAnnotation$1(){const a=new PlotModel({title:"PolygonAnnotation"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const d=new PolygonAnnotation({text:"Polygon 1"});return d.points.push(new DataPoint(4,-2),new DataPoint(8,-4),new DataPoint(17,7),new DataPoint(5,8),new DataPoint(2,5)),a.annotations.push(d),a}function polygonAnnotationTextPosition(){const a=new PlotModel({title:"PolygonAnnotation with fixed text position and alignment"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const d=new PolygonAnnotation({text:"Polygon 1",textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Bottom,textPosition:new DataPoint(4.1,-1.9)});return d.points.push(new DataPoint(4,-2),new DataPoint(8,-2),new DataPoint(17,7),new DataPoint(5,8),new DataPoint(4,5)),a.annotations.push(d),a}function annotationLayerProperty(){const a=new PlotModel({title:"Annotation Layers"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:30,majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:1})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10,majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:1}));const d=new PolygonAnnotation({layer:AnnotationLayer.BelowAxes,text:"Layer = BelowAxes",points:[new DataPoint(-11,-2),new DataPoint(-7,-4),new DataPoint(-3,7),new DataPoint(-10,8),new DataPoint(-13,5)]});a.annotations.push(d);const s=new PolygonAnnotation({layer:AnnotationLayer.BelowSeries,text:"Layer = BelowSeries",points:[new DataPoint(4,-2),new DataPoint(8,-4),new DataPoint(12,7),new DataPoint(5,8),new DataPoint(2,5)]});a.annotations.push(s);const m=new PolygonAnnotation({layer:AnnotationLayer.AboveSeries,text:"Layer = AboveSeries",points:[new DataPoint(19,-2),new DataPoint(23,-4),new DataPoint(27,7),new DataPoint(20,8),new DataPoint(17,5)]});return a.annotations.push(m),a.series.push(new FunctionSeries({f:Math.sin,x0:-20,x1:30,n:400})),a}function kockSnowflakes(){function a(g){return[new DataPoint(g.x,g.y+1),new DataPoint(g.x+Math.sin(Math.PI*2/3),g.y+Math.cos(Math.PI*2/3)),new DataPoint(g.x+Math.sin(Math.PI*4/3),g.y+Math.cos(Math.PI*4/3))]}const d=new PlotModel({title:"PolygonAnnotation",plotType:PlotType.Cartesian});d.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-4,maximum:4})),d.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-2,maximum:2}));const s=new PolygonAnnotation({text:"MSL = 4",minimumSegmentLength:4});let m=kochFractal(a(new DataPoint(-2,0)),8,!0,!0);pushMany(s.points,m),d.annotations.push(s);const f=new PolygonAnnotation({text:"MSL = 2",minimumSegmentLength:2});m=kochFractal(a(new DataPoint(0,0)),8,!0,!0),pushMany(f.points,m),d.annotations.push(f);const x=new PolygonAnnotation({text:"MSL = 1",minimumSegmentLength:1});return m=kochFractal(a(new DataPoint(2,0)),8,!0,!0),pushMany(x.points,m),d.annotations.push(x),d}function kochFractal(a,d,s,m){const f=Math.cos(Math.PI/3),x=Math.sin(Math.PI/3);let g=a;for(let w=0;w<d;w++){const C=new Array(m?g.length*4:g.length*4-3);for(let A=0;A<(m?g.length:g.length-1);A++){const _=g[A],M=g[(A+1)%g.length],P=(M.x-_.x)/3,D=(M.y-_.y)/3;let E,I;E=f*P-x*D,I=f*D+x*P,C[A*4]=_,C[A*4+1]=new DataPoint(_.x+P,_.y+D),C[A*4+2]=new DataPoint(_.x+P+E,_.y+D+I),C[A*4+3]=new DataPoint(_.x+P*2,_.y+D*2)}m||(C[C.length-1]=g[g.length-1]),g=C}return g}const PolygonAnnotationExamples={kochFractal},category$S="PolygonAnnotation",PolygonAnnotationExamples$1={category:category$S,tags:["Annotations"],examples:[{title:"PolygonAnnotation",example:{model:polygonAnnotation$1}},{title:"PolygonAnnotation with custom text position and alignment",example:{model:polygonAnnotationTextPosition}},{title:"AnnotationLayer property",example:{model:annotationLayerProperty}},{title:"Koch Snowflakes",example:{model:kockSnowflakes}}]};function polylineAnnotations(){const a=new PlotModel({title:"PolylineAnnotation"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:30})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:30}));const d=new PolylineAnnotation({text:"Polyline"});d.points.push(new DataPoint(0,10),new DataPoint(5,5),new DataPoint(20,1),new DataPoint(30,20));const s=new PolylineAnnotation({text:"Smooth Polyline",interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline});return s.points.push(new DataPoint(0,15),new DataPoint(3,23),new DataPoint(9,30),new DataPoint(20,12),new DataPoint(30,10)),a.annotations.push(d,s),a}function kochSurface(){function a(x){return[new DataPoint(x.x-1,x.y),new DataPoint(x.x+1,x.y)]}const d=new PlotModel({title:"PolygonAnnotation",plotType:PlotType.Cartesian});d.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-2,maximum:2})),d.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-2,maximum:2}));const s=new PolylineAnnotation({text:"MSL = 4",minimumSegmentLength:4,lineStyle:LineStyle.Solid,textPosition:new DataPoint(0,1)});s.points.push(...PolygonAnnotationExamples.kochFractal(a(new DataPoint(0,1)),8,!0,!1)),d.annotations.push(s);const m=new PolylineAnnotation({text:"MSL = 2",minimumSegmentLength:2,lineStyle:LineStyle.Solid,textPosition:new DataPoint(0,0)});m.points.push(...PolygonAnnotationExamples.kochFractal(a(new DataPoint(0,0)),8,!0,!1)),d.annotations.push(m);const f=new PolylineAnnotation({text:"MSL = 1",minimumSegmentLength:1,lineStyle:LineStyle.Solid,textPosition:new DataPoint(0,-1)});return f.points.push(...PolygonAnnotationExamples.kochFractal(a(new DataPoint(0,-1)),8,!0,!1)),d.annotations.push(f),d}const category$R="PolylineAnnotation",PolylineAnnotationExamples={category:category$R,tags:["Annotations"],examples:[{title:"PolylineAnnotation",example:{model:polylineAnnotations}},{title:"Koch Surfaces",example:{model:kochSurface}}]};function rectangleAnnotation(){const a=new PlotModel({title:"RectangleAnnotation"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a.annotations.push(new RectangleAnnotation({minimumX:20,maximumX:70,minimumY:10,maximumY:40,textRotation:10,text:"RectangleAnnotation",fill:OxyColor.fromAColor(99,OxyColors.Blue),stroke:OxyColors.Black,strokeThickness:2})),a}function rectangleAnnotationVerticalLimit(){const a=new PlotModel({title:"RectangleAnnotations - vertical limit"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a.annotations.push(new RectangleAnnotation({maximumY:89.5,text:"Valid area",fill:OxyColor.fromAColor(99,OxyColors.Black)})),a}function rectangleAnnotationHorizontals(){const a=new PlotModel({title:"RectangleAnnotation - horizontal bands"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:10})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),a.annotations.push(new RectangleAnnotation({minimumY:89.5,maximumY:90.8,text:"Invalid",fill:OxyColor.fromAColor(99,OxyColors.Red)})),a.annotations.push(new RectangleAnnotation({minimumY:90.8,maximumY:92.1,fill:OxyColor.fromAColor(99,OxyColors.Orange)})),a.annotations.push(new RectangleAnnotation({minimumY:92.1,maximumY:94.6,fill:OxyColor.fromAColor(99,OxyColors.Yellow)})),a.annotations.push(new RectangleAnnotation({minimumY:94.6,maximumY:96,text:"Ok",fill:OxyColor.fromAColor(99,OxyColors.Green)}));const d=new LineSeries({color:OxyColors.Black,strokeThickness:6,lineJoin:LineJoin.Round});return d.points.push(new DataPoint(.5,90.7)),d.points.push(new DataPoint(1.5,91.2)),d.points.push(new DataPoint(2.5,91)),d.points.push(new DataPoint(3.5,89.5)),d.points.push(new DataPoint(4.5,92.5)),d.points.push(new DataPoint(5.5,93.1)),d.points.push(new DataPoint(6.5,94.5)),d.points.push(new DataPoint(7.5,95.5)),d.points.push(new DataPoint(8.5,95.7)),d.points.push(new DataPoint(9.5,96)),a.series.push(d),a}function rectangleAnnotationVerticals(){const a=new PlotModel({title:"RectangleAnnotation - vertical bands"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:10})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:87,maximum:97,majorStep:1,minorStep:1})),a.annotations.push(new RectangleAnnotation({minimumX:2.5,maximumX:2.8,textRotation:90,text:"Red",fill:OxyColor.fromAColor(99,OxyColors.Red)})),a.annotations.push(new RectangleAnnotation({minimumX:2.8,maximumX:6.1,textRotation:90,text:"Orange",fill:OxyColor.fromAColor(99,OxyColors.Orange)})),a.annotations.push(new RectangleAnnotation({minimumX:6.1,maximumX:7.6,textRotation:90,text:"Yellow",fill:OxyColor.fromAColor(99,OxyColors.Yellow)})),a.annotations.push(new RectangleAnnotation({minimumX:7.6,maximumX:9.7,textRotation:270,text:"Green",fill:OxyColor.fromAColor(99,OxyColors.Green)}));const d=new LineSeries({color:OxyColors.Black,strokeThickness:6,lineJoin:LineJoin.Round});return d.points.push(new DataPoint(.5,90.7)),d.points.push(new DataPoint(1.5,91.2)),d.points.push(new DataPoint(2.5,91)),d.points.push(new DataPoint(3.5,89.5)),d.points.push(new DataPoint(4.5,92.5)),d.points.push(new DataPoint(5.5,93.1)),d.points.push(new DataPoint(6.5,94.5)),d.points.push(new DataPoint(7.5,95.5)),d.points.push(new DataPoint(8.5,95.7)),d.points.push(new DataPoint(9.5,96)),a.series.push(d),a}const category$Q="RectangleAnnotation",RectangleAnnotationExamples={category:category$Q,tags:["Annotations"],examples:[{title:"RectangleAnnotation",example:{model:rectangleAnnotation}},{title:"RectangleAnnotations - vertical limit",example:{model:rectangleAnnotationVerticalLimit}},{title:"RectangleAnnotation - horizontal bands",example:{model:rectangleAnnotationHorizontals}},{title:"RectangleAnnotation - vertical bands",example:{model:rectangleAnnotationVerticals}}]};function textAnnotations(){const a=new PlotModel({title:"TextAnnotation"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-15,maximum:25})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-5,maximum:18})),a.annotations.push(new TextAnnotation({textPosition:new DataPoint(-6,0),text:"Text annotation 1"})),a.annotations.push(new TextAnnotation({textPosition:new DataPoint(-7,10),textRotation:80,text:"Text annotation 2"})),a.annotations.push(new TextAnnotation({textPosition:new DataPoint(2,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Right,textVerticalAlignment:VerticalAlignment.Top,text:"Right/Top"})),a.annotations.push(new TextAnnotation({textPosition:new DataPoint(2,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Right,textVerticalAlignment:VerticalAlignment.Middle,text:"Right/Middle"})),a.annotations.push(new TextAnnotation({textPosition:new DataPoint(2,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Right,textVerticalAlignment:VerticalAlignment.Bottom,text:"Right/Bottom"})),a.annotations.push(new TextAnnotation({textPosition:new DataPoint(10,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Center,textVerticalAlignment:VerticalAlignment.Top,text:"Center/Top"})),a.annotations.push(new TextAnnotation({textPosition:new DataPoint(10,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Center,textVerticalAlignment:VerticalAlignment.Middle,text:"Center/Middle"})),a.annotations.push(new TextAnnotation({textPosition:new DataPoint(10,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Center,textVerticalAlignment:VerticalAlignment.Bottom,text:"Center/Bottom"})),a.annotations.push(new TextAnnotation({textPosition:new DataPoint(18,2),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Top,text:"Left/Top"})),a.annotations.push(new TextAnnotation({textPosition:new DataPoint(18,4),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Middle,text:"Left/Middle"})),a.annotations.push(new TextAnnotation({textPosition:new DataPoint(18,6),textRotation:20,textHorizontalAlignment:HorizontalAlignment.Left,textVerticalAlignment:VerticalAlignment.Bottom,text:"Left/Bottom"}));const d=.05,s=(m,f)=>{const x=new PolygonAnnotation({layer:AnnotationLayer.BelowAxes,points:[new DataPoint(m-d,f-d),new DataPoint(m+d,f-d),new DataPoint(m+d,f+d),new DataPoint(m-d,f+d),new DataPoint(m-d,f-d)]});a.annotations.push(x)};for(const m of[...a.annotations]){const f=m;f&&s(f.textPosition.x,f.textPosition.y)}return a}function rotations(){const a=new PlotModel({title:"TextAnnotation Rotations"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-5,maximum:45})),a.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0,minimum:-1,maximum:8}));for(let d=0;d<360;d+=5)a.annotations.push(new TextAnnotation({textRotation:d,textPosition:new DataPoint(d%45,d/45),text:`${d}`,textVerticalAlignment:VerticalAlignment.Middle,textHorizontalAlignment:HorizontalAlignment.Center}));return a}const category$P="TextAnnotation",TextAnnotationExamples={category:category$P,tags:["Annotations"],examples:[{title:"TextAnnotation",example:{model:textAnnotations}},{title:"Rotations",example:{model:rotations}}]},Annotations=[AnnotationExamples,ArrowAnnotationExamples,EllipseAnnotationExamples,FunctionAnnotationExamples,ImageAnnotationExamples,LineAnnotationExamples,PointAnnotationExamples,PolygonAnnotationExamples$1,PolylineAnnotationExamples,RectangleAnnotationExamples,TextAnnotationExamples];class ErrorItem{constructor(d,s,m,f){ee(this,"x");ee(this,"y");ee(this,"xError");ee(this,"yError");this.x=d||0,this.y=s||0,this.xError=m||0,this.yError=f||0}}class ErrorSeries extends XYAxisSeries{constructor(){super();ee(this,"points",[]);ee(this,"color");ee(this,"strokeThickness");this.color=OxyColors.Black,this.strokeThickness=1}get pointsList(){return this.points}async render(s){const m=this.points;if(m.length===0)return;this.verifyAxes();const f=m.length,x=[];for(let g=0;g<f;g++){const w=this.xAxis.transformPoint(m[g].x,m[g].y,this.yAxis),C=m[g],A=C?C.xError*this.xAxis.scale:0,_=C?C.yError*Math.abs(this.yAxis.scale):0,M=4;if(A>0){const P=new ScreenPoint(w.x-A*.5,w.y),D=new ScreenPoint(w.x+A*.5,w.y);x.push(P,D,new ScreenPoint(P.x,P.y-M),new ScreenPoint(P.x,P.y+M),new ScreenPoint(D.x,D.y-M),new ScreenPoint(D.x,D.y+M))}if(_>0){const P=new ScreenPoint(w.x,w.y-_*.5),D=new ScreenPoint(w.x,w.y+_*.5);x.push(P,D,new ScreenPoint(P.x-M,P.y),new ScreenPoint(P.x+M,P.y),new ScreenPoint(D.x-M,D.y),new ScreenPoint(D.x+M,D.y))}}for(let g=0;g+1<x.length;g+=2)await RenderingExtensions.drawReducedLine(s,[x[g],x[g+1]],0,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin.Bevel)}async renderLegend(s,m){const f=(m.left+m.right)/2,x=(m.top+m.bottom)/2,g=[new ScreenPoint(m.left,x),new ScreenPoint(m.right,x),new ScreenPoint(m.left,x-2),new ScreenPoint(m.left,x+3),new ScreenPoint(m.right,x-2),new ScreenPoint(m.right,x+3),new ScreenPoint(f,m.top),new ScreenPoint(f,m.bottom),new ScreenPoint(f-2,m.top),new ScreenPoint(f+3,m.top),new ScreenPoint(f-2,m.bottom),new ScreenPoint(f+3,m.bottom)];await s.drawLineSegments(g,this.getSelectableColor(this.color),this.strokeThickness,this.edgeRenderingMode,void 0,LineJoin.Miter)}updateMaxMin(){super.updateMaxMin(),this.internalUpdateMaxMin3(this.points,s=>s.x-s.xError,s=>s.x+s.xError,s=>s.y-s.yError,s=>s.y+s.yError)}}class FlagSeries extends ItemsSeries{constructor(){super();ee(this,"symbolPosition",0);ee(this,"symbolSize",OxySize.Empty);ee(this,"color");ee(this,"maximumX",0);ee(this,"minimumX",0);ee(this,"symbol");ee(this,"_values",[]);ee(this,"xAxis");ee(this,"xAxisKey");this.color=OxyColors.Black,this.fontSize=10,this.symbol="",this.font="Wingdings 2",this.trackerStringFormatter=s=>`${s.title}: ${s.item}`}get values(){return this._values}getNearestPoint(s,m){if(this.xAxis)for(const f of this.values){if(isNaN(f)||f<this.xAxis.actualMinimum||f>this.xAxis.actualMaximum)continue;const x=this.xAxis.transform(f);if(new OxyRect(x-this.symbolSize.width/2,this.symbolPosition-this.symbolSize.height,this.symbolSize.width,this.symbolSize.height).containsPoint(s)){const w=this.trackerStringFormatter({item:f,title:this.title});return new TrackerHitResult({series:this,dataPoint:new DataPoint(f,NaN),position:new ScreenPoint(x,this.symbolPosition-this.symbolSize.height),text:w})}}}async render(s){if(this.xAxis){this.symbolPosition=this.plotModel.plotArea.bottom,this.symbolSize=s.measureText(this.symbol,this.actualFont,this.actualFontSize,this.actualFontWeight);for(const m of this.values){if(isNaN(m)||m<this.xAxis.clipMinimum||m>this.xAxis.clipMaximum)continue;const f=this.xAxis.transform(m);await s.drawText(new ScreenPoint(f,this.symbolPosition),this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Bottom)}}}async renderLegend(s,m){await s.drawText(m.center,this.symbol,this.color,this.actualFont,this.actualFontSize,this.actualFontWeight,0,HorizontalAlignment.Center,VerticalAlignment.Middle)}areAxesRequired(){return!0}ensureAxes(){this.xAxis=this.xAxisKey!==void 0?this.plotModel.getAxis(this.xAxisKey):this.plotModel.defaultXAxis}isUsing(s){return s===this.xAxis}setDefaultValues(){}updateAxisMaxMin(){this.xAxis.include(this.minimumX),this.xAxis.include(this.maximumX)}updateData(){}updateMaxMin(){this.minimumX=minValueOfArray(this.values),this.maximumX=maxValueOfArray(this.values)}}class LineSegmentSeries extends LineSeries{constructor(){super();ee(this,"showVerticals");ee(this,"epsilon");this.showVerticals=!0,this.epsilon=1e-8}async render(s){if(this.points.length===0)return;if(this.points.length%2!==0)throw new Error("The number of points should be even.");if(!this.xAxis||!this.yAxis)throw new Error("Axis has not been defined.");const m=this.points.map(x=>this.transform(x)),f=[];for(let x=0;x<m.length;x+=2)m[x].distanceToSquared(m[x+1])<this.strokeThickness&&(m[x]=new ScreenPoint(m[x].x-this.strokeThickness*.5,m[x].y),m[x+1]=new ScreenPoint(m[x].x+this.strokeThickness*.5,m[x].y)),this.showVerticals&&x>0&&Math.abs(m[x-1].x-m[x].x)<this.epsilon&&(f.push(m[x-1]),f.push(m[x]));if(this.strokeThickness>0){if(this.lineStyle!==LineStyle.None){const x=LineStyleHelper.getDashArray(this.lineStyle);await s.drawLineSegments(m,this.actualColor,this.strokeThickness,this.edgeRenderingMode,x,this.lineJoin)}await s.drawLineSegments(f,this.actualColor,this.strokeThickness/3,this.edgeRenderingMode,LineStyleHelper.getDashArray(LineStyle.Dash),this.lineJoin)}await RenderingExtensions.drawMarkers(s,m,this.markerType,void 0,this.markerSize,this.markerFill,this.markerStroke,this.markerStrokeThickness,this.edgeRenderingMode)}getNearestPoint(s,m){const f=this.points;if(!f)return;let x,g,w=-1,C=Number.MAX_VALUE;for(let A=0;A+1<f.length;A+=2){const _=f[A],M=f[A+1];if(!this.isValidPoint(_)||!this.isValidPoint(M))continue;const P=this.transform(_),D=this.transform(M),E=ScreenPointHelper.findPointOnLine(s,P,D);if(ScreenPoint.isUndefined(E))continue;const I=s.distanceToSquared(E);if(I<C){const B=E.distanceTo(P)/D.distanceTo(P);g=new DataPoint(_.x+B*(M.x-_.x),_.y+B*(M.y-_.y)),x=E,C=I,w=A+B}}if(C<Number.MAX_VALUE){const A=this.getItem(Math.floor(w));return new TrackerHitResult({series:this,dataPoint:g,position:x,item:A,index:w,text:`${this.title||""}
x: ${A.x}
y: ${A.y}`})}}}class MatrixSeries extends XYAxisSeries{constructor(s){super(s);ee(this,"image");ee(this,"_matrix");ee(this,"gridInterval");ee(this,"showDiagonal");ee(this,"minimumGridLineDistance");ee(this,"gridColor");ee(this,"borderColor");ee(this,"notZeroColor");ee(this,"zeroTolerance");this.gridInterval=1,this.showDiagonal=!1,this.minimumGridLineDistance=4,this.gridColor=OxyColors.LightGray,this.borderColor=OxyColors.Gray,this.notZeroColor=OxyColors.Black,this.zeroTolerance=0,this.trackerStringFormatter=m=>`${m.title||""}
[${m.xValue},${m.yValue}] = ${m.item}`,s&&Object.assign(this,removeUndef(s))}get matrix(){return this._matrix}set matrix(s){this._matrix=s,this.image=void 0}get matrixValue(){return this.matrix}set matrixValue(s){this.image=void 0,this.matrix=s}async render(s){if(!this.matrixValue)return;const m=PlotElementExtensions.transform,f=this.matrixValue.length,x=this.matrixValue[0].length,g=m(this,0,0),w=m(this,x,f);if(!this.image){const D=new TwoDimensionalArray(x,f);for(let E=0;E<f;E++)for(let I=0;I<x;I++){const B=Math.abs(this.matrixValue[E][I])<=this.zeroTolerance?OxyColors.Transparent:this.notZeroColor;D.set(I,E,B)}this.image=await OxyImage.create(D,ImageFormat.Png)}const C=Math.min(g.x,w.x),A=Math.min(g.y,w.y),_=Math.abs(g.x-w.x),M=Math.abs(g.y-w.y);await RenderingExtensions.drawImage(s,this.image,C,A,_,M,1,!1);const P=[];if(this.gridInterval>0){const D=m(this,this.gridInterval,this.gridInterval);if(Math.abs(D.y-g.y)>this.minimumGridLineDistance)for(let E=1;E<x;E+=this.gridInterval)P.push(m(this,0,E)),P.push(m(this,x,E));if(Math.abs(D.x-g.x)>this.minimumGridLineDistance)for(let E=1;E<f;E+=this.gridInterval)P.push(m(this,E,0)),P.push(m(this,E,f))}if(this.showDiagonal&&(P.push(m(this,0,0)),P.push(m(this,x,f))),await s.drawLineSegments(P,this.gridColor,1,this.edgeRenderingMode,void 0,LineJoin.Miter),this.borderColor.isVisible()){const D=[m(this,0,0),m(this,f,0),m(this,0,x),m(this,f,x),m(this,0,0),m(this,0,x),m(this,f,0),m(this,f,x)];await s.drawLineSegments(D,this.borderColor,1,this.edgeRenderingMode,void 0,LineJoin.Miter)}}getNearestPoint(s,m){if(!this.matrix)return;const f=this.inverseTransform(s),x=Math.floor(f.y),g=Math.floor(f.x);if(x>=0&&x<this.matrix.length&&g>=0&&g<this.matrix[0].length){const w=this.matrix[x][g];return new TrackerHitResult({series:this,dataPoint:f,position:s,item:null,index:-1,text:this.trackerStringFormatter({item:w,title:this.title,xValue:g,yValue:x})})}}updateMaxMin(){super.updateMaxMin(),this.matrix&&(this.minX=0,this.maxX=this.matrix[0].length,this.minY=0,this.maxY=this.matrix.length)}}class PolarHeatMapSeries extends XYAxisSeries{constructor(s){super(s);ee(this,"image");ee(this,"pixels");ee(this,"imageSize",0);ee(this,"angle0",0);ee(this,"angle1",0);ee(this,"magnitude0",0);ee(this,"magnitude1",0);ee(this,"data");ee(this,"interpolate");ee(this,"minValue",0);ee(this,"maxValue",0);ee(this,"colorAxis");ee(this,"colorAxisKey");this.interpolate=!0,s&&Object.assign(this,removeUndef(s))}async render(s){if(!this.data){this.image=void 0;return}this.imageSize>0?await this.renderFixed(s,this.plotModel):await this.renderDynamic(s,this.plotModel)}async renderDynamic(s,m){if(!this.data)return;const f=this.data.length,x=this.data[0].length,g=m.plotArea,w=Math.floor(g.width),C=Math.floor(g.height);if(w===0||C===0)return;(!this.pixels||this.pixels.height!==C||this.pixels.width!==w)&&(this.pixels=new TwoDimensionalArray(w,C));const A=this.pixels,_=ColorAxisExtensions.getColor;for(let M=0;M<C;M++)for(let P=0;P<w;P++){const D=new ScreenPoint(g.left+P,g.top+M),E=this.inverseTransform(D);let I,B;if(this.plotModel.plotType!==PlotType.Polar)I=Math.atan2(E.y,E.x)/Math.PI*180,B=Math.sqrt(E.x*E.x+E.y*E.y);else{for(I=E.y/Math.PI*180,B=E.x;I<0;)I+=360;for(;I>360;)I-=360}const F=(I-this.angle0)/(this.angle1-this.angle0)*f,R=(B-this.magnitude0)/(this.magnitude1-this.magnitude0)*x;if(F>=0&&F<f&&R>=0&&R<x){const L=this.getValue(F,R),z=OxyColor.fromAColor(160,_(this.colorAxis,L));A.set(P,M,z)}else A.set(P,M,OxyColors.Transparent)}this.image=await OxyImage.create(A,ImageFormat.Png),await RenderingExtensions.drawImage(s,this.image,g.left,g.top,g.width,g.height,1,!1)}async renderFixed(s,m){if(!this.data)return;if(!this.image){const g=this.data.length,w=this.data[0].length,C=this.imageSize,A=this.imageSize;(this.pixels===void 0||this.pixels.height!==A||this.pixels.width!==C)&&(this.pixels=new TwoDimensionalArray(C,A));const _=ColorAxisExtensions.getColor,M=this.pixels;for(let P=0;P<A;P++)for(let D=0;D<C;D++){const E=(D-C*.5)/(C*.5)*this.magnitude1,I=-(P-A*.5)/(A*.5)*this.magnitude1;let B=Math.atan2(I,E)/Math.PI*180;const F=Math.sqrt(E*E+I*I);for(;B<0;)B+=360;for(;B>360;)B-=360;const R=(B-this.angle0)/(this.angle1-this.angle0)*g,L=(F-this.magnitude0)/(this.magnitude1-this.magnitude0)*w;if(R>=0&&R<g&&L>=0&&L<w){const z=this.getValue(R,L),G=OxyColor.fromAColor(160,_(this.colorAxis,z));M.set(D,P,G)}else M.set(D,P,OxyColors.Transparent)}this.image=await OxyImage.create(M,ImageFormat.Png)}if(!this.image)return;const f=PlotElementExtensions.transform;let x;if(this.plotModel.plotType!==PlotType.Polar){const g=f(this,-this.magnitude1,this.magnitude1),w=f(this,this.magnitude1,-this.magnitude1);x=new OxyRect(g.x,g.y,w.x-g.x,w.y-g.y)}else{const g=f(this,this.magnitude1,90),w=f(this,this.magnitude1,270),C=f(this,this.magnitude1,180),A=f(this,this.magnitude1,0);x=new OxyRect(C.x,g.y,A.x-C.x,w.y-g.y)}await RenderingExtensions.drawImage(s,this.image,x.left,x.top,x.width,x.height,1,!1)}getValue(s,m){if(!this.data)return NaN;if(!this.interpolate){const R=Math.floor(s),L=Math.floor(m);return this.data[R][L]}s-=.5,m-=.5;const f=Math.floor(s),x=Math.floor(m),g=f>0?f:0,w=f+1<this.data.length?f+1:f,C=x>0?x:0,A=x+1<this.data[0].length?x+1:x,_=this.data[g][C],M=this.data[g][A],P=this.data[w][C],D=this.data[w][A],E=s-f,I=m-x,B=_*(1-I)+M*I,F=P*(1-I)+D*I;return B*(1-E)+F*E}getNearestPoint(s,m){}ensureAxes(){super.ensureAxes(),this.colorAxis=this.colorAxisKey?this.plotModel.getAxis(this.colorAxisKey):this.plotModel.defaultColorAxis}updateMaxMin(){super.updateMaxMin();const s=this.getData();this.minValue=minValueOfArray(s),this.maxValue=maxValueOfArray(s);const m=this.colorAxis;m&&(m.include(this.minValue),m.include(this.maxValue))}getData(){if(!this.data)return[];const s=this.data.length,m=[],f=this.data[0].length;for(let x=0;x<s;x++)for(let g=0;g<f;g++)m.push(this.data[x][g]);return m}}function errorSeries(){const d=new PlotModel({title:"ErrorSeries"}),s=new Legend({legendPosition:LegendPosition.BottomRight});d.legends.push(s);const m=new ErrorSeries;m.title="Measurements";const f=Math.random();let x=0,g=0;for(let w=0;w<20;w++){x+=2+f*10,g+=1+f;const C=1+f*2,A=1+f*2;m.pointsList.push(new ErrorItem(x,g,C,A))}return d.series.push(m),d}function lineSegmentSeries(){const a=new PlotModel({title:"LineSegmentSeries"}),d=new LineSegmentSeries;d.title="The first series",d.points.push(new DataPoint(0,3),new DataPoint(2,3.2)),d.points.push(new DataPoint(2,2.7),new DataPoint(7,2.9)),a.series.push(d);const s=new LineSegmentSeries;return s.title="The second series",s.points.push(new DataPoint(1,-3),new DataPoint(2,10)),s.points.push(new DataPoint(0,4.8),new DataPoint(7,2.3)),s.points.push(new DataPoint(6,4),new DataPoint(6,4+1e-8)),a.series.push(s),a}function flagSeries(){const a=new PlotModel({title:"FlagSeries"}),d=new FlagSeries;return d.title="Incidents",d.color=OxyColors.Red,d.values.push(2,3,5,7,11,13,17,19),a.series.push(d),a}function diagonalMatrix(){const a=new PlotModel,d=[[1,0,0],[0,2,0],[0,0,3],[5,5,5]];return a.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.series.push(new MatrixSeries({matrix:d,showDiagonal:!0})),a}function polarHeatMap(){const a=new PlotModel({title:"Polar heat map",plotMargins:new OxyThickness(40,80,40,40),plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)}),d=[[0,2],[1.5,.2]];return a.axes.push(new AngleAxis({startAngle:0,endAngle:360,minimum:0,maximum:360,majorStep:30,minorStep:15})),a.axes.push(new MagnitudeAxis({minimum:0,maximum:100,majorStep:25,minorStep:5})),a.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.rainbow(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black})),a.series.push(new PolarHeatMapSeries({data:d,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!1})),a}function polarHeatMapReversedAngleAxis(){const a=polarHeatMap();return a.axes[0]=new AngleAxis({startAngle:360,endAngle:0,minimum:0,maximum:360,majorStep:30,minorStep:15}),a}function polarHeatMapRotatedCounterClockwise90(){const a=polarHeatMap();return a.axes[0]=new AngleAxis({startAngle:90,endAngle:450,minimum:0,maximum:360,majorStep:30,minorStep:15}),a}function polarHeatMapRotatedCounterClockwisePi(){const a=polarHeatMap();return a.axes[0]=new AngleAxis({startAngle:Math.PI,endAngle:Math.PI+360,minimum:0,maximum:360,majorStep:30,minorStep:15}),a}function polarHeatMapInterpolated(){const a=polarHeatMap();return a.title="Polar heat map (interpolated)",a.series[0].interpolate=!0,a}function polarHeatMapFixed(){const a=polarHeatMap();return a.title="Polar heat map with fixed size image",a.series[0].imageSize=800,a}function polarHeatMapLinearAxes(){const a=new PlotModel({title:"Polar heat map on linear axes"}),d=[[0,2],[1.5,.2]];return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-100,maximum:100})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100})),a.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.rainbow(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black})),a.series.push(new PolarHeatMapSeries({data:d,angle0:30,angle1:150,magnitude0:0,magnitude1:80,interpolate:!0})),a}function polarHeatMapLinearAxesFixed256(){const a=polarHeatMapLinearAxes();return a.title="Polar heat map on linear axes & fixed size image (256x256)",a.series[0].imageSize=256,a}function polarHeatMapLinearAxesFixed1000(){const a=polarHeatMapLinearAxes();return a.title="Polar heat map on linear axes & fixed size image (1000x1000)",a.series[0].imageSize=1e3,a}function designStructureMatrix(){const a=new TwoDimensionalArray(7,7,0);a.set(1,0,1),a.set(5,0,1),a.set(3,1,1),a.set(0,2,1),a.set(6,2,1),a.set(4,3,1),a.set(1,4,1),a.set(5,4,1),a.set(2,5,1),a.set(0,6,1),a.set(4,6,1);for(let x=0;x<7;x++)a.set(x,x,-1);const d=new PlotModel({title:"Design structure matrix (DSM)"});d.axes.push(new LinearColorAxis({position:AxisPosition.None,palette:new OxyPalette([OxyColors.White,OxyColors.LightGreen]),lowColor:OxyColors.Black,minimum:0,isAxisVisible:!1}));const s=new CategoryAxis({position:AxisPosition.Top});s.labels.push("A","B","C","D","E","F","G"),d.axes.push(s);const m=new CategoryAxis({position:AxisPosition.Left,startPosition:1,endPosition:0});m.labels.push("Element A","Element B","Element C","Element D","Element E","Element F","Element G"),d.axes.push(m);const f=new DesignStructureMatrixSeries({data:a.toArray(),interpolate:!1,labelStringFormatter:(x,g)=>`${x||""}`,labelFontSize:.25,x0:0,x1:a.width-1,y0:0,y1:a.height-1});return d.series.push(f),d}class DesignStructureMatrixSeries extends HeatMapSeries{constructor(d){super(d)}getLabel(d,s,m){return s===m?this.xAxis.labels[s]:super.getLabel(d,s,m)}}const category$O="Custom series",CustomSeriesExamples={category:category$O,tags:["Series"],examples:[{title:"ErrorSeries",example:{model:errorSeries}},{title:"LineSegmentSeries",example:{model:lineSegmentSeries}},{title:"FlagSeries",example:{model:flagSeries}},{title:"MatrixSeries - diagonal matrix",example:{model:diagonalMatrix}},{title:"PolarHeatMap",example:{model:polarHeatMap}},{title:"PolarHeatMap Reversed Angle Axis",example:{model:polarHeatMapReversedAngleAxis}},{title:"PolarHeatMap Rotated CounterClockwise 90",example:{model:polarHeatMapRotatedCounterClockwise90}},{title:"PolarHeatMap Rotated CounterClockwise on PI degrees",example:{model:polarHeatMapRotatedCounterClockwisePi}},{title:"PolarHeatMap (interpolated)",example:{model:polarHeatMapInterpolated}},{title:"PolarHeatMap fixed size image",example:{model:polarHeatMapFixed}},{title:"PolarHeatMap on linear axes",example:{model:polarHeatMapLinearAxes}},{title:"PolarHeatMap linear axes, fixed size image (256x256)",example:{model:polarHeatMapLinearAxesFixed256}},{title:"PolarHeatMap linear axes, fixed size image (1000x1000)",example:{model:polarHeatMapLinearAxesFixed1000}},{title:"Design structure matrix (DSM)",example:{model:designStructureMatrix}}]},CustomSeries=[CustomSeriesExamples];class Random{constructor(d){}next(d,s){return isUndef(d)&&isUndef(s)?Math.random():(d=d||0,s=isNullOrUndef(s)?1:s,Math.floor(Math.random()*(s-d+1))+d)}}function tickStyleNone$1(){return createTickStyleExample(TickStyle.None)}function tickStyleInside$1(){return createTickStyleExample(TickStyle.Inside)}function tickStyleCrossing$1(){return createTickStyleExample(TickStyle.Crossing)}function tickStyleOutside$1(){return createTickStyleExample(TickStyle.Outside)}function tickLineColor(){const a=new PlotModel({title:"Color major and minor ticks differently"});return a.axes.push(new LinearAxis({position:AxisPosition.Left,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:OxyColors.Blue,minorTicklineColor:OxyColors.Gray})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,majorGridlineThickness:3,minorGridlineThickness:3,ticklineColor:OxyColors.Blue,minorTicklineColor:OxyColors.Gray})),a}function gridlineStyleNone(){const a=new PlotModel({title:"No gridlines"});return a.axes.push(new LinearAxis({position:AxisPosition.Left})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a}function gridLinestyleVertical(){const a=new PlotModel({title:"Vertical gridlines"});return a.axes.push(new LinearAxis),a.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom})),a}function gridLinestyleHorizontal(){const a=new PlotModel({title:"Horizontal gridlines"});return a.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a}function gridLinestyleBoth(){const a=new PlotModel({title:"Horizontal and vertical gridlines"});return a.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot})),a.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom})),a}function axisPositionLeftAndBottom(){const a=new PlotModel;return a.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,title:"Left"})),a.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,title:"Bottom"})),a}function axisPositionTopRight(){const a=new PlotModel;return a.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Right,title:"Right"})),a.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Top,title:"Top"})),a}function axisAngle45(){const a=new PlotModel({plotMargins:new OxyThickness(60,40,60,30)});return a.axes.push(new LinearAxis({angle:45,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,title:"Left"})),a.axes.push(new LinearAxis({angle:45,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,title:"Bottom"})),a}function zeroCrossing(){const a=new PlotModel({title:"PositionAtZeroCrossing = true",plotAreaBorderThickness:new OxyThickness(0),plotMargins:new OxyThickness(10,10,10,10)});return a.axes.push(new LinearAxis({maximum:50,minimum:-30,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Crossing})),a.axes.push(new LinearAxis({maximum:70,minimum:-50,position:AxisPosition.Bottom,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid,tickStyle:TickStyle.Crossing})),a}function horizontalZeroCrossing(){const a=new PlotModel({title:"Bottom axis: PositionAtZeroCrossing = true"});return a.axes.push(new LinearAxis({maximum:50,minimum:-30,position:AxisPosition.Left,positionAtZeroCrossing:!1})),a.axes.push(new LinearAxis({maximum:70,minimum:-50,position:AxisPosition.Bottom,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid})),a}function verticalZeroCrossing(){const a=new PlotModel({title:"Left axis: PositionAtZeroCrossing = true"});return a.axes.push(new LinearAxis({maximum:50,minimum:-30,position:AxisPosition.Left,positionAtZeroCrossing:!0,axislineStyle:LineStyle.Solid})),a.axes.push(new LinearAxis({maximum:70,minimum:-50,position:AxisPosition.Bottom,positionAtZeroCrossing:!1})),a}function reversed(){const a=new PlotModel({title:"EndPosition = 0, StartPosition = 1"});return a.axes.push(new LinearAxis({endPosition:0,startPosition:1,maximum:50,minimum:-30,position:AxisPosition.Left})),a.axes.push(new LinearAxis({endPosition:0,startPosition:1,maximum:70,minimum:-50,position:AxisPosition.Bottom})),a}function sharingY(){const a=new PlotModel;a.axes.push(new LinearAxis({endPosition:0,startPosition:1,maximum:1.5,minimum:-1.5,position:AxisPosition.Left}));const d=new LinearAxis({startPosition:0,endPosition:.45,maximum:7,minimum:0,position:AxisPosition.Bottom,key:"x1"});a.axes.push(d);const s=new LinearAxis({startPosition:.55,endPosition:1,maximum:10,minimum:0,position:AxisPosition.Bottom,key:"x2"});return a.axes.push(s),a.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:d.key})),a.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:1e3,xAxisKey:s.key})),a}function fourAxes(){const a=new PlotModel;return a.axes.push(new LinearAxis({maximum:36,minimum:0,title:"km/h"})),a.axes.push(new LinearAxis({maximum:10,minimum:0,position:AxisPosition.Right,title:"m/s"})),a.axes.push(new LinearAxis({maximum:10,minimum:0,position:AxisPosition.Bottom,title:"meter"})),a.axes.push(new LinearAxis({maximum:1e4,minimum:0,position:AxisPosition.Top,title:"millimeter"})),a}function fiveAxes(){const a=new PlotModel;return a.axes.push(new LinearAxis({endPosition:.25,maximum:1,minimum:-1,title:"C1"})),a.axes.push(new LinearAxis({endPosition:.5,maximum:1,minimum:-1,position:AxisPosition.Right,startPosition:.25,title:"C2"})),a.axes.push(new LinearAxis({endPosition:.75,maximum:1,minimum:-1,startPosition:.5,title:"C3"})),a.axes.push(new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Right,startPosition:.75,title:"C4"})),a.axes.push(new LinearAxis({maximum:100,minimum:0,position:AxisPosition.Bottom,title:"s"})),a}function logarithmicAxes(){const a=new PlotModel;return a.axes.push(new LogarithmicAxis({maximum:1e6,minimum:1,title:"Log axis",useSuperExponentialFormat:!0})),a.axes.push(new LogarithmicAxis({maximum:1e4,minimum:.001,position:AxisPosition.Bottom,title:"Log axis",useSuperExponentialFormat:!0})),a}const cartesianPlotLogarithmicAxes=()=>new PlotModel({plotType:PlotType.Cartesian,axes:[new LogarithmicAxis({maximum:1e6,minimum:1,title:"Log x axis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.Solid,isPanEnabled:!0}),new LogarithmicAxis({maximum:1e4,minimum:.001,position:AxisPosition.Bottom,title:"Log y axis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.Solid,isPanEnabled:!0})]});function bigNumbers(){const a=new PlotModel;return a.axes.push(new LinearAxis({maximum:6e32,minimum:-1e47,title:"big numbers"})),a.axes.push(new LinearAxis({maximum:3e50,minimum:-1e40,position:AxisPosition.Bottom,title:"big numbers"})),a}function bigNumbersSuperExponentialFormat(){const a=new PlotModel;return a.axes.push(new LinearAxis({maximum:6e32,minimum:-1e47,title:"big numbers",useSuperExponentialFormat:!0})),a.axes.push(new LinearAxis({maximum:3e50,minimum:-1e40,position:AxisPosition.Bottom,title:"big numbers",useSuperExponentialFormat:!0})),a}function smallNumbers(){const a=new PlotModel;return a.axes.push(new LinearAxis({maximum:6e-15,minimum:-5e-15,title:"small numbers"})),a.axes.push(new LinearAxis({maximum:3e-15,minimum:-4e-15,position:AxisPosition.Bottom,title:"small numbers"})),a}function defaultPadding(){const a=new PlotModel({title:"Default padding"});a.axes.push(new LinearAxis),a.axes.push(new LinearAxis({position:AxisPosition.Bottom}));const d=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return d.points.push(new DataPoint(10,4)),d.points.push(new DataPoint(12,7)),d.points.push(new DataPoint(16,3)),d.points.push(new DataPoint(20,9)),a.series.push(d),a}function noPadding(){const a=new PlotModel({title:"No padding"});a.axes.push(new LinearAxis({maximumPadding:0,minimumPadding:0})),a.axes.push(new LinearAxis({maximumPadding:0,minimumPadding:0,position:AxisPosition.Bottom}));const d=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return d.points.push(new DataPoint(10,4)),d.points.push(new DataPoint(12,7)),d.points.push(new DataPoint(16,3)),d.points.push(new DataPoint(20,9)),a.series.push(d),a}function padding(){const a=new PlotModel({title:"Padding 10%"});a.axes.push(new LinearAxis({maximumPadding:.1,minimumPadding:.1})),a.axes.push(new LinearAxis({maximumPadding:.1,minimumPadding:.1,position:AxisPosition.Bottom}));const d=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return d.points.push(new DataPoint(10,4)),d.points.push(new DataPoint(12,7)),d.points.push(new DataPoint(16,3)),d.points.push(new DataPoint(20,9)),a.series.push(d),a}function xaxisMinimumPadding(){const a=new PlotModel({title:"X-axis MinimumPadding=0.1"});a.axes.push(new LinearAxis),a.axes.push(new LinearAxis({minimumPadding:.1,position:AxisPosition.Bottom}));const d=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return d.points.push(new DataPoint(10,4)),d.points.push(new DataPoint(12,7)),d.points.push(new DataPoint(16,3)),d.points.push(new DataPoint(20,9)),a.series.push(d),a}function xaxisMaximumPadding(){const a=new PlotModel({title:"X-axis MaximumPadding=0.1"});a.axes.push(new LinearAxis),a.axes.push(new LinearAxis({maximumPadding:.1,position:AxisPosition.Bottom}));const d=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6)});return d.points.push(new DataPoint(10,4)),d.points.push(new DataPoint(12,7)),d.points.push(new DataPoint(16,3)),d.points.push(new DataPoint(20,9)),a.series.push(d),a}function absoluteMinimumAndMaximum(){const a=new PlotModel({title:"AbsoluteMinimum=-17, AbsoluteMaximum=63",subtitle:"Zooming and panning is limited to these values."});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:50,absoluteMinimum:-17,absoluteMaximum:63})),a}function minimumRange(){const a=new PlotModel({title:"MinimumRange = 400"});return a.axes.push(new LinearAxis({position:AxisPosition.Left,minimumRange:400})),a}function maximumRange(){const a=new PlotModel({title:"MaximumRange = 40"});return a.axes.push(new LinearAxis({position:AxisPosition.Left,maximumRange:40})),a}function titleWithUnit(){const a=new PlotModel({title:"Axis titles with units"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Speed",unit:"km/h"})),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C"})),a}function invisibleVerticalAxis(){const a=new PlotModel({title:"Invisible vertical axis"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left,isAxisVisible:!1})),a.series.push(new FunctionSeries({f:d=>Math.sin(d)/d,x0:-5,x1:5,dx:.1})),a}function invisibleHorizontalAxis(){const a=new PlotModel({title:"Invisible horizontal axis"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,isAxisVisible:!1})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a.series.push(new FunctionSeries({f:d=>Math.sin(d)*d*d,x0:-5,x1:5,dx:.1})),a}function zoomingDisabled(){const a=new PlotModel({title:"Zooming disabled"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,isZoomEnabled:!1})),a.axes.push(new LinearAxis({position:AxisPosition.Left,isZoomEnabled:!1})),a}function panningDisabled(){const a=new PlotModel({title:"Panning disabled"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,isPanEnabled:!1})),a.axes.push(new LinearAxis({position:AxisPosition.Left,isPanEnabled:!1})),a}function denseIntervals(){const a=new PlotModel({title:"Dense intervals"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,intervalLength:30})),a.axes.push(new LinearAxis({position:AxisPosition.Left,intervalLength:20})),a}function graphPaper(){const a=new PlotModel({title:"Graph Paper"}),d=OxyColors.DarkBlue;return a.plotType=PlotType.Cartesian,a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a}function logLogPaper(){const a=new PlotModel({title:"Log-Log Paper"}),d=OxyColors.DarkBlue;return a.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,title:"X",minimum:.1,maximum:1e3,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a.axes.push(new LogarithmicAxis({position:AxisPosition.Left,title:"Y",minimum:.1,maximum:1e3,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a}function onBlack(){const a=new PlotModel({title:"Black background",background:OxyColors.Black,textColor:OxyColors.White,plotAreaBorderColor:OxyColors.White}),d=OxyColors.White;return a.plotType=PlotType.Cartesian,a.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:Math.PI*2,n:1e3,title:"f(x)=sin(x)"})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x",majorStep:Math.PI/2,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d),ticklineColor:OxyColors.White})),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"f(x)",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d),ticklineColor:OxyColors.White})),a}function backgrounds(){const a=new PlotModel({title:"Background and PlotAreaBackground",background:OxyColors.Silver,plotAreaBackground:OxyColors.Gray,plotAreaBorderColor:OxyColors.Black,plotAreaBorderThickness:new OxyThickness(3)});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function currentCulture(){const a=new PlotModel({title:"Current culture"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1})),a.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),a}function longAxisTitlesClipped90(){const a="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",d="The tool tip is "+a,s=new PlotModel({title:"Long axis titles (clipped at 90%)"});return s.axes.push(new LinearAxis({position:AxisPosition.Left,title:a,toolTip:d})),s.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:a,toolTip:d})),s}function longAxisTitlesClipped100(){const a="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",d="The tool tip is "+a,s=new PlotModel({title:"Long axis titles (clipped at 100%)"});return s.axes.push(new LinearAxis({position:AxisPosition.Left,title:a,toolTip:d,titleClippingLength:1})),s.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:a,toolTip:d,titleClippingLength:1})),s}function longAxisTitlesNotClipped(){const a="Long title 12345678901234567890123456789012345678901234567890123456789012345678901234567890",d="The tool tip is "+a,s=new PlotModel({title:"Long axis titles (not clipped)"});return s.axes.push(new LinearAxis({position:AxisPosition.Left,title:a,toolTip:d,clipTitle:!1})),s.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:a,toolTip:d,clipTitle:!1})),s}function positionTier(){const a=new PlotModel,d=new LinearAxis({maximum:1,minimum:-1,title:"PositionTier=0"});a.axes.push(d);const s=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,positionTier:1,title:"PositionTier=1"});a.axes.push(s);const m=new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Right,title:"PositionTier=0"});a.axes.push(m);const f=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,position:AxisPosition.Right,positionTier:1,title:"PositionTier=1"});a.axes.push(f);const x=new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Top,title:"PositionTier=0"});a.axes.push(x);const g=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,position:AxisPosition.Top,positionTier:1,title:"PositionTier=1"});a.axes.push(g);const w=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:10,minimum:-10,position:AxisPosition.Top,positionTier:2,title:"PositionTier=2"});a.axes.push(w);const C=new LinearAxis({maximum:1,minimum:-1,position:AxisPosition.Bottom,title:"PositionTier=0"});a.axes.push(C);const A=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:2,minimum:-2,position:AxisPosition.Bottom,positionTier:1,title:"PositionTier=1"});a.axes.push(A);const _=new LinearAxis({axislineStyle:LineStyle.Solid,maximum:10,minimum:-10,position:AxisPosition.Bottom,positionTier:2,title:"PositionTier=2"});return a.axes.push(_),a}function titleColor(){const a=new PlotModel({title:"Custom axis title color"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1,title:"Bottom axis",titleColor:OxyColors.Red})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1,title:"Left axis",titleColor:OxyColors.Blue})),a.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),a}function labelColor(){const a=new PlotModel({title:"Custom axis label color"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1,title:"Bottom axis",textColor:OxyColors.Red})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1,title:"Left axis",textColor:OxyColors.Blue})),a.series.push(new FunctionSeries({f:Math.sin,x0:-1,x1:1,n:100})),a}function angledAxisNumbers(){const a=new PlotModel({title:"Angled axis numbers"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1,title:"Bottom axis",angle:45})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1,title:"Left axis",angle:45})),a.axes.push(new LinearAxis({position:AxisPosition.Top,minimum:-1,maximum:1,title:"Top axis",angle:45})),a.axes.push(new LinearAxis({position:AxisPosition.Right,minimum:-1,maximum:1,title:"Right axis",angle:45})),a}function axisDistance(){const a=new PlotModel({title:"AxisDistance = 20"});return a.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Left})),a.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Right})),a.axes.push(new LinearAxis({axislineStyle:LineStyle.Solid,axisDistance:20,position:AxisPosition.Top})),a}function noAxesDefined(){const a=new PlotModel({title:"No axes defined",subtitle:"Bottom and left axes are auto-generated."});return a.series.push(new FunctionSeries({f:Math.sin,x0:0,x1:10,n:400})),a}function labelFormatter$1(){const a=new PlotModel({title:"LabelFormatter"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-10,maximum:10,labelFormatter:s=>Math.abs(s)<Number.EPSILON?"ZERO":s.toString()}));const d=65;return a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:25,majorStep:1,minorStep:1,maximumPadding:0,minimumPadding:0,labelFormatter:s=>String.fromCharCode(s+d)})),a}function toolTips(){const a=new PlotModel({title:"Tool tips"});return a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Left axis",toolTip:"Tool tip for the left axis"})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Bottom axis",toolTip:"Tool tip for the bottom axis"})),a}function subSuperscriptInAxisTitles(){const a=new PlotModel({title:"Sub- and superscript in axis titles"});return a.axes.push(new LinearAxis({title:"Title with^{super}_{sub}script"})),a.axes.push(new LinearAxis({title:"Title with^{super}_{sub}script",position:AxisPosition.Bottom})),a}function minimumMajorStep(){const a=new PlotModel({title:"Axes with MinimumMajorStep"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"MinimuMajorStep = 1",minimum:0,maximum:2,minimumMajorStep:1})),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"MinimuMajorStep = 10",minimum:0,maximum:15,minimumMajorStep:10})),a.axes.push(new LinearAxis({position:AxisPosition.Top,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:2})),a.axes.push(new LinearAxis({position:AxisPosition.Right,title:"MinimuMajorStep = 0 (default)",minimum:0,maximum:15})),a}function minimumMinorStep(){const a=new PlotModel({title:"Axes with MinimumMinorStep"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"MinimumMinorStep = 1",minimum:0,maximum:20,minimumMinorStep:1})),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"MinimumMinorStep = 10",minimum:0,maximum:150,minimumMinorStep:10})),a.axes.push(new LinearAxis({position:AxisPosition.Top,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:20})),a.axes.push(new LinearAxis({position:AxisPosition.Right,title:"MinimumMinorStep = 0 (default)",minimum:0,maximum:150})),a}function defaultAxisTitleDistance(){const a=new PlotModel({title:"AxisTitleDistance = 4 (default)"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Bottom",minimum:0,maximum:20})),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Left",minimum:0,maximum:150})),a.axes.push(new LinearAxis({position:AxisPosition.Top,title:"Top",minimum:0,maximum:20})),a.axes.push(new LinearAxis({position:AxisPosition.Right,title:"Right",minimum:0,maximum:150})),a}function customAxisTitleDistance(){const a=new PlotModel({title:"AxisTitleDistance = 40"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Bottom",minimum:0,maximum:20,axisTitleDistance:40})),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Left",minimum:0,maximum:150,axisTitleDistance:40})),a.axes.push(new LinearAxis({position:AxisPosition.Top,title:"Top",minimum:0,maximum:20,axisTitleDistance:40})),a.axes.push(new LinearAxis({position:AxisPosition.Right,title:"Right",minimum:0,maximum:150,axisTitleDistance:40})),a}function majorGridlineStyle(){const a=new PlotModel({title:"MajorGridlineStyle and MajorGridlineThickness"});return a.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:10})),a.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,majorGridlineThickness:10,position:AxisPosition.Bottom})),a}function gridlineCroppingBoth(){const a=new PlotModel({title:"Gridline cropping"});return a.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),a.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),a.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.1,endPosition:.4,cropGridlines:!0})),a.axes.push(new LinearAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dot,position:AxisPosition.Bottom,extraGridlines:[46],extraGridlineColor:OxyColors.Red,startPosition:.6,endPosition:.9,cropGridlines:!0})),a}function multiVerticalAxes(){const a="axisY_Temperature",d="axisY_Pressure",s="axisY_Humidity",m=new PlotModel({title:"Multi vertical axes with lineSeries"}),f=new Legend({legendBackground:OxyColors.White});m.legends.push(f);const x=new DateTimeAxis({title:"Time",position:AxisPosition.Bottom,majorGridlineStyle:LineStyle.Solid,fontSize:13});m.axes.push(x);let g=null,w=null,C=null,A=null,_=null,M=null;A=new LinearAxis({title:"Temperature",position:AxisPosition.Left,majorGridlineStyle:LineStyle.None,positionTier:1,key:a,isAxisVisible:!0}),g=new LineSeries({title:"Temperature",color:OxyColors.Tomato,lineStyle:LineStyle.Solid,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.Red,yAxisKey:a,isVisible:!0}),m.axes.push(A),m.series.push(g),_=new LinearAxis({title:"Pressure",position:AxisPosition.Left,majorGridlineStyle:LineStyle.None,positionTier:2,key:d,isAxisVisible:!0}),w=new LineSeries({title:"Pressure",color:OxyColors.Peru,lineStyle:LineStyle.Solid,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.Sienna,yAxisKey:d,isVisible:!0}),m.axes.push(_),m.series.push(w),M=new LinearAxis({title:"Humidity",position:AxisPosition.Left,majorGridlineStyle:LineStyle.None,positionTier:3,key:s,isAxisVisible:!0}),C=new LineSeries({title:"Humidity",color:OxyColors.LightSkyBlue,lineStyle:LineStyle.Solid,markerType:MarkerType.Circle,markerSize:3,markerFill:OxyColors.DeepSkyBlue,yAxisKey:s,isVisible:!0}),m.axes.push(M),m.series.push(C);{g.points.length=0,w.points.length=0,C.points.length=0;const P=TimeSpan.fromMilliseconds(1e3),D=getDateService();let E=new Date(2018,8,10);const I=100;for(let B=1;B<=I;B++){const F=20+Math.sin(B),R=760+1.5*Math.cos(1.5*B),L=50+2*Math.sin(2*B);g.points.push(DateTimeAxis.createDataPoint(E,F)),w.points.push(DateTimeAxis.createDataPoint(E,R)),C.points.push(DateTimeAxis.createDataPoint(E,L)),E=D.addTimespan(E,P)}A.minimum=10,A.maximum=23,_.minimum=750,_.maximum=770,M.minimum=47,M.maximum=60}return m}function autoMargin(){const a=new PlotModel({title:"Auto-adjusting plot margins",subtitle:"When zooming in and out the plot margins should adjust accordingly"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X Axis",titleFontSize:16})),a}function manualMargins(){const a=new PlotModel({title:"Manual Margins",subtitle:"PlotMargins = 40",plotMargins:new OxyThickness(40)});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a}function manualLeftMargin(){const a=new PlotModel({title:"Manual Left Margin",subtitle:"PlotMargins = 40,NaN,NaN,NaN",plotMargins:new OxyThickness(40,NaN,NaN,NaN)});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a}function autoMarginWideLabels(){const a=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"});return a.axes.push(getLongLabelSeries()),a}function autoMarginWideLabelsRotated(){const a=new PlotModel({title:"Auto-adjusting plot margins - wide rotated axis labels",subtitle:"There should be enough space reserved such that the axis labels always fit in the viewport"}),d=getLongLabelSeries();return d.angle=-90,a.axes.push(d),a}function autoMarginWideLabelsFixedRange(){const a=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"When the axis range is fixed there should be no unnecessary space reserved for axis labels"}),d=getLongLabelSeries();return d.isPanEnabled=!1,d.isZoomEnabled=!1,a.axes.push(d),a}function autoMarginWideLabelsFixedRange2(){const a=new PlotModel({title:"Auto-adjusting plot margins - wide axis labels, fixed range",subtitle:"The axis labels should exactly fit in the viewport"}),d=getLongLabelSeries();return d.isPanEnabled=!1,d.isZoomEnabled=!1,d.minimum=-.01,d.maximum=3.01,a.axes.push(d),a}function getLongLabelSeries(){const a=new CategoryAxis({position:AxisPosition.Bottom});return a.labels.push("Label"),a.labels.push("Long Label"),a.labels.push("Longer Label"),a.labels.push("Even Longer Label"),a}function minimumAndMaximumDataMargins(){const a=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return a.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:TickStyle.Inside})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Inside})),a.series.push(createNormalDistributionSeries(-5,5,0,.2)),a.series.push(createNormalDistributionSeries(-5,5,0,1)),a.series.push(createNormalDistributionSeries(-5,5,0,5)),a.series.push(createNormalDistributionSeries(-5,5,-2,.5)),a}function minimumAndMaximumDataMarginsZeroCrossing(){const a=new PlotModel({title:"Normal distribution",subtitle:"Probability density function"});return a.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,minimum:0,tickStyle:TickStyle.Crossing,axislineStyle:LineStyle.Solid,positionAtZeroCrossing:!0})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Crossing,axislineStyle:LineStyle.Solid,positionAtZeroCrossing:!0})),a.series.push(createNormalDistributionSeries(-5,5,0,.2)),a.series.push(createNormalDistributionSeries(-5,5,0,1)),a.series.push(createNormalDistributionSeries(-5,5,0,5)),a.series.push(createNormalDistributionSeries(-5,5,-2,.5)),a}function minimumAndMaximumDataMarginsLog(){const a=new PlotModel({title:"Exponentials"});a.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Inside})),a.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumDataMargin:20,maximumDataMargin:20,tickStyle:TickStyle.Inside}));for(let d=1;d<=5;d++)a.series.push(new FunctionSeries({f:s=>Math.pow(d,s),x0:0,x1:10,dx:.01,title:`${d}^x`}));return a}function minimumAndMaximumMarginsPolar(){const a=new PlotModel({title:"Spiral",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return a.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),a.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,minimumPadding:0,maximumPadding:0,minimumDataMargin:0,maximumDataMargin:20})),a.series.push(new FunctionSeries({fx:d=>d,fy:d=>d,t0:0,t1:Math.PI*6,dt:.01})),a}function axisOutMargins(){const a=new PlotModel({title:"YAxes are evenly distributed with a constant gap",plotAreaBorderThickness:new OxyThickness(0)});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,axislineStyle:LineStyle.Solid,key:"X"}));const d=4,s=10;for(let m=0;m<d;m++)a.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:m/d,endPosition:(m+1)/d,minimumMargin:m/d*s,maximumMargin:(d-m-1)/d*s,axislineStyle:LineStyle.Solid,key:`Y${m}`})),a.series.push(new FunctionSeries({f:f=>Math.sin(f*(m+1)),x0:1,x1:10,dx:.01,title:`x^${m}`,xAxisKey:"X",yAxisKey:`Y${m}`}));return a}function axisMarginsClipping(){const a=new PlotModel({title:"Axis Margins Clipping",subtitle:"Data Points and Visual Elements are clipped outside the Clip Bounds"});a.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:0,minimumMargin:20,maximumMargin:20}));const d=new Random(1),s=new ScatterSeries({markerType:MarkerType.Diamond});for(let m=0;m<100;m++)s.points.push({x:d.next(),y:d.next()});return a.series.push(s),a}function polarOuterMargins(){const a=new PlotModel({title:"Spiral",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return a.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),a.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,minimumPadding:0,maximumPadding:0,minimumMargin:0,maximumMargin:100})),a.series.push(new FunctionSeries({fx:d=>d,fy:d=>d,t0:0,t1:Math.PI*6,dt:.01})),a}function marginsAndPadding(){const a=new PlotModel({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),d=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});a.axes.push(d);const s=new LinearAxis({position:AxisPosition.Left,minimumPadding:.1,maximumPadding:.1,minimumDataMargin:20,maximumDataMargin:20,minimumMargin:30,maximumMargin:30,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});a.axes.push(s);const m=new LineSeries;return m.color=OxyColors.Green,m.points.push(new DataPoint(-5,0)),m.points.push(new DataPoint(-5,20)),m.points.push(new DataPoint(25,20)),m.points.push(new DataPoint(25,0)),m.points.push(new DataPoint(-5,0)),a.series.push(m),_addAxisMarginAnnotations(a),a}function _addAxisMarginAnnotations(a){a.annotations.push(new DelegateAnnotation(async d=>{const s=RenderingExtensions.drawLine;for(const m of a.axes)if(m.isHorizontal()){const f=m;await s(d,f.transform(f.clipMinimum),0,f.transform(f.clipMinimum),a.height,new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await s(d,f.transform(f.clipMaximum),0,f.transform(f.clipMaximum),a.height,new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await s(d,f.transform(f.actualMinimum),0,f.transform(f.actualMinimum),a.height,new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await s(d,f.transform(f.actualMaximum),0,f.transform(f.actualMaximum),a.height,new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await s(d,f.transform(f.dataMinimum),0,f.transform(f.dataMinimum),a.height,new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await s(d,f.transform(f.dataMaximum),0,f.transform(f.dataMaximum),a.height,new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic)}else{const f=m;await s(d,0,f.transform(f.clipMinimum),a.width,f.transform(f.clipMinimum),new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await s(d,0,f.transform(f.clipMaximum),a.width,f.transform(f.clipMaximum),new OxyPen(OxyColors.Blue,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await s(d,0,f.transform(f.actualMinimum),a.width,f.transform(f.actualMinimum),new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await s(d,0,f.transform(f.actualMaximum),a.width,f.transform(f.actualMaximum),new OxyPen(OxyColors.Red,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await s(d,0,f.transform(f.dataMinimum),a.width,f.transform(f.dataMinimum),new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic),await s(d,0,f.transform(f.dataMaximum),a.width,f.transform(f.dataMaximum),new OxyPen(OxyColors.Green,1,LineStyle.Dot),EdgeRenderingMode.Automatic)}}))}function marginsAndPaddingAsymmetrical(){const a=new PlotModel({title:"Try resizing the plot",subtitle:`ClipMinimum/Maximum are Blue
ActualMinimum/Maximum are Red
DataMinimum/Maximum are Green`}),d=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.05,minimumDataMargin:20,maximumDataMargin:10,minimumMargin:30,maximumMargin:15,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});a.axes.push(d);const s=new LinearAxis({position:AxisPosition.Left,minimumPadding:.2,maximumPadding:.1,minimumDataMargin:40,maximumDataMargin:20,minimumMargin:60,maximumMargin:30,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Dash,cropGridlines:!0});a.axes.push(s);const m=new LineSeries;return m.color=OxyColors.Green,m.points.push(new DataPoint(-5,0)),m.points.push(new DataPoint(-5,20)),m.points.push(new DataPoint(25,20)),m.points.push(new DataPoint(25,0)),m.points.push(new DataPoint(-5,0)),a.series.push(m),_addAxisMarginAnnotations(a),a}function minimumMajorIntervalCount(){const a=new PlotModel({title:"MinimumMajorIntervalCount = 10"}),d=new LinearAxis({position:AxisPosition.Bottom,minimumMajorIntervalCount:10});a.axes.push(d);const s=new LinearAxis({position:AxisPosition.Left,minimumMajorIntervalCount:10});return a.axes.push(s),a}function maximumMajorIntervalCount(){const a=new PlotModel({title:"MaximumMajorIntervalCount = 5"}),d=new LinearAxis({position:AxisPosition.Bottom,maximumMajorIntervalCount:5});a.axes.push(d);const s=new LinearAxis({position:AxisPosition.Left,maximumMajorIntervalCount:5});return a.axes.push(s),a}function minimumAndMaximumMajorIntervalCount(){const a=new PlotModel({title:"MinimumMajorIntervalCount = MaximumMajorIntervalCount = 4"}),d=new LinearAxis({position:AxisPosition.Bottom,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});a.axes.push(d);const s=new LinearAxis({position:AxisPosition.Left,minimumMajorIntervalCount:4,maximumMajorIntervalCount:4});return a.axes.push(s),a}function createTickStyleExample(a){const d=getEnumName(TickStyle,a),s=new PlotModel({title:"TickStyle = "+d});return s.axes.push(new LinearAxis({position:AxisPosition.Left,tickStyle:a})),s.axes.push(new LinearAxis({position:AxisPosition.Bottom,tickStyle:a})),s}const category$N="Axis examples",AxisExamples={category:category$N,tags:["Axes"],examples:[{title:"TickStyle: None",example:{model:tickStyleNone$1}},{title:"TickStyle: Inside",example:{model:tickStyleInside$1}},{title:"TickStyle: Crossing",example:{model:tickStyleCrossing$1}},{title:"TickStyle: Outside",example:{model:tickStyleOutside$1}},{title:"TickStyle: Color major and minor ticks differently",example:{model:tickLineColor}},{title:"GridLinestyle: None (default)",example:{model:gridlineStyleNone}},{title:"GridLinestyle: Vertical",example:{model:gridLinestyleVertical}},{title:"GridLinestyle: Horizontal",example:{model:gridLinestyleHorizontal}},{title:"GridLinestyle: Horizontal and vertical",example:{model:gridLinestyleBoth}},{title:"Axis position left/bottom",example:{model:axisPositionLeftAndBottom}},{title:"Axis position top/right",example:{model:axisPositionTopRight}},{title:"Axis label angle 45deg",example:{model:axisAngle45}},{title:"Zero crossing axis",example:{model:zeroCrossing}},{title:"Horizontal zero crossing axis",example:{model:horizontalZeroCrossing}},{title:"Vertical zero crossing axis",example:{model:verticalZeroCrossing}},{title:"Reversed",example:{model:reversed}},{title:"Sharing Y axis",example:{model:sharingY}},{title:"Four axes",example:{model:fourAxes}},{title:"Five axes",example:{model:fiveAxes}},{title:"Logarithmic axes",example:{model:logarithmicAxes}},{title:"Logarithmic axes Cartesian Plot",example:{model:cartesianPlotLogarithmicAxes}},{title:"Big numbers",example:{model:bigNumbers}},{title:"Big numbers with super exponential format",example:{model:bigNumbersSuperExponentialFormat}},{title:"Small numbers",example:{model:smallNumbers}},{title:"Default padding",example:{model:defaultPadding}},{title:"No padding",example:{model:noPadding}},{title:"Padding 10%",example:{model:padding}},{title:"X-axis MinimumPadding=0.1",example:{model:xaxisMinimumPadding}},{title:"X-axis MaximumPadding=0.1",example:{model:xaxisMaximumPadding}},{title:"AbsoluteMinimum and AbsoluteMaximum",example:{model:absoluteMinimumAndMaximum}},{title:"MinimumRange",example:{model:minimumRange}},{title:"MaximumRange",example:{model:maximumRange}},{title:"Title with unit",example:{model:titleWithUnit}},{title:"Invisible vertical axis",example:{model:invisibleVerticalAxis}},{title:"Invisible horizontal axis",example:{model:invisibleHorizontalAxis}},{title:"Zooming disabled",example:{model:zoomingDisabled}},{title:"Panning disabled",example:{model:panningDisabled}},{title:"Dense intervals",example:{model:denseIntervals}},{title:"Graph Paper",example:{model:graphPaper}},{title:"Log-Log Paper",example:{model:logLogPaper}},{title:"Black background",example:{model:onBlack}},{title:"Background and PlotAreaBackground",example:{model:backgrounds}},{title:"Current culture",example:{model:currentCulture}},{title:"Long axis titles (clipped at 90%)",example:{model:longAxisTitlesClipped90}},{title:"Long axis titles (clipped at 100%)",example:{model:longAxisTitlesClipped100}},{title:"Long axis titles (not clipped)",example:{model:longAxisTitlesNotClipped}},{title:"PositionTier",example:{model:positionTier}},{title:"Custom axis title color",example:{model:titleColor}},{title:"Custom axis label color",example:{model:labelColor}},{title:"Angled axis numbers",example:{model:angledAxisNumbers}},{title:"Axis distance",example:{model:axisDistance}},{title:"No axes defined",example:{model:noAxesDefined}},{title:"LabelFormatter",example:{model:labelFormatter$1}},{title:"Tool tips",example:{model:toolTips}},{title:"Sub- and superscript in axis titles",example:{model:subSuperscriptInAxisTitles}},{title:"MinimumMajorStep",example:{model:minimumMajorStep}},{title:"MinimumMinorStep",example:{model:minimumMinorStep}},{title:"Default AxisTitleDistance",example:{model:defaultAxisTitleDistance}},{title:"Custom AxisTitleDistance",example:{model:customAxisTitleDistance}},{title:"MajorGridlineStyle",example:{model:majorGridlineStyle}},{title:"Gridlines Cropping: Horizontal and vertical",example:{model:gridlineCroppingBoth}},{title:"Multi vertical axes with lineSeries",example:{model:multiVerticalAxes}},{title:"Auto Margins",example:{model:autoMargin}},{title:"Manual Margins",example:{model:manualMargins}},{title:"Manual Left Margin",example:{model:manualLeftMargin}},{title:"Auto Margins - Wide Labels",example:{model:autoMarginWideLabels}},{title:"Auto Margins - Wide Labels, rotated",example:{model:autoMarginWideLabelsRotated}},{title:"Auto Margins - Wide Labels, fixed Range",example:{model:autoMarginWideLabelsFixedRange}},{title:"Auto Margins - Wide Labels, fixed Range 2",example:{model:autoMarginWideLabelsFixedRange2}},{title:"Data Margins",example:{model:minimumAndMaximumDataMargins}},{title:"Data Margins with Zero-Crossing",example:{model:minimumAndMaximumDataMarginsZeroCrossing}},{title:"Data Margins on Log Axis",example:{model:minimumAndMaximumDataMarginsLog}},{title:"Data Margins on Polar Plot",example:{model:minimumAndMaximumMarginsPolar}},{title:"Axis Margins",example:{model:axisOutMargins}},{title:"Axis Margins Clipping",example:{model:axisMarginsClipping}},{title:"Axis Margins on Polar Plot",example:{model:polarOuterMargins}},{title:"Axis Margins, Data Margins, and Padding",example:{model:marginsAndPadding}},{title:"Axis Margins, Data Margins, and Padding, Asymmetrical",example:{model:marginsAndPaddingAsymmetrical}},{title:"Minimum Major Interval Count",example:{model:minimumMajorIntervalCount}},{title:"Maximum Major Interval Count",example:{model:maximumMajorIntervalCount}},{title:"Minimum and Maximum Major Interval Count",example:{model:minimumAndMaximumMajorIntervalCount}}]};function functionSeries$1(){const a=new PlotModel({title:"Trigonometric functions",plotType:PlotType.Cartesian});return a.series.push(FunctionSeries.fromDx(Math.sin,-10,10,.1,"sin(x)")),a.series.push(FunctionSeries.fromDx(Math.cos,-10,10,.1,"cos(x)")),a.series.push(FunctionSeries.fromFxFyN(d=>5*Math.cos(d),d=>5*Math.sin(d),0,2*Math.PI,1e3,"cos(t),sin(t)")),a}function clover$1(){const a=new PlotModel({title:"Parametric function",plotType:PlotType.Cartesian});return a.series.push(FunctionSeries.fromFxFyN(d=>2*Math.cos(2*d)*Math.cos(d),d=>2*Math.cos(2*d)*Math.sin(d),0,Math.PI*2,1e3,"2cos(2t)cos(t) , 2cos(2t)sin(t)")),a}function absoluteYmin(){const a=new PlotModel({title:"Y: AbsoluteMinimum = 0",plotType:PlotType.Cartesian}),d=OxyColors.DarkBlue;return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a.series.push(createTestSeries()),a}function absoluteYmin2(){const a=new PlotModel({title:"Y: AbsoluteMinimum = 0",subtitle:"AutoAdjustPlotMargins = false",plotType:PlotType.Cartesian,plotMargins:new OxyThickness(60,4,4,40)}),d=OxyColors.DarkBlue;return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a.series.push(createTestSeries()),a}function absoluteYminXmin(){const a=new PlotModel({title:"X: AbsoluteMinimum = -10, Y: AbsoluteMinimum = 0",plotType:PlotType.Cartesian}),d=OxyColors.DarkBlue;return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",absoluteMinimum:-10,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a.series.push(createTestSeries()),a}function absoluteYminYmax(){const a=new PlotModel({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2",plotType:PlotType.Cartesian}),d=OxyColors.DarkBlue;return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a.series.push(createTestSeries()),a}function absoluteYminXminXmax(){const a=new PlotModel({title:"Y: AbsoluteMinimum = 0, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:PlotType.Cartesian}),d=OxyColors.DarkBlue;return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a.series.push(createTestSeries()),a}function absoluteYminYmaxXminXmax(){const a=new PlotModel({title:"Y: AbsoluteMinimum = 0, AbsoluteMaximum = 2, X: AbsoluteMinimum = -10, AbsoluteMaximum = 10",plotType:PlotType.Cartesian}),d=OxyColors.DarkBlue;return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis",absoluteMinimum:-10,absoluteMaximum:10,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis",absoluteMinimum:0,minimum:0,absoluteMaximum:2,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColor.fromAColor(40,d),minorGridlineColor:OxyColor.fromAColor(20,d)})),a.series.push(createTestSeries()),a}function createTestSeries(){const a=new LineSeries;return a.points.push(new DataPoint(-8,0),new DataPoint(-7.5,.1),new DataPoint(-7,.2),new DataPoint(-6,.4),new DataPoint(-5,.5),new DataPoint(-4,.6),new DataPoint(-3,.7),new DataPoint(-2,.8),new DataPoint(-1,.9),new DataPoint(0,1),new DataPoint(1,.9),new DataPoint(2,.8),new DataPoint(3,.7),new DataPoint(4,.6),new DataPoint(5,.5),new DataPoint(6,.4),new DataPoint(7,.2),new DataPoint(7.5,.1),new DataPoint(8,0),DataPoint.Undefined,new DataPoint(-.5,.5),new DataPoint(-.5,1.5),new DataPoint(.5,1.5),new DataPoint(.5,.5),new DataPoint(-.5,.5)),a}const category$M="Cartesian axes",CartesianAxesExamples={category:category$M,tags:["Axes"],examples:[{title:"Trigonometric functions",example:{model:functionSeries$1}},{title:"Clover",example:{model:clover$1}},{title:"AbsoluteMinimum Y",example:{model:absoluteYmin}},{title:"AbsoluteMinimum Y, manual plotmargins",example:{model:absoluteYmin2}},{title:"AbsoluteMinimum X/Y",example:{model:absoluteYminXmin}},{title:"AbsoluteMinimum/Maximum Y",example:{model:absoluteYminYmax}},{title:"AbsoluteMinimum Y, AbsoluteMinimum/Maximum X",example:{model:absoluteYminXminXmax}},{title:"AbsoluteMinimum/Maximum X/Y",example:{model:absoluteYminYmaxXminXmax}}]};function standardCategoryAxis(){const a=new PlotModel({title:"Standard"}),d=new CategoryAxis;d.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),a.axes.push(d);const s=new LinearAxis({position:AxisPosition.Left});return a.axes.push(s),a}function itemsSourceStrings(){const a=new PlotModel({title:"CategoryAxis with string[] as ItemsSource"});a.axes.push(new CategoryAxis({stringFormatter:s=>`Item ${s}`,itemsSource:["A","B","C"]}));const d=new LinearAxis({position:AxisPosition.Left});return a.axes.push(d),a}function itemsSourceValues(){const a=new PlotModel({title:"CategoryAxis with int[] as ItemsSource"});a.axes.push(new CategoryAxis({stringFormatter:s=>`Item ${s}`,itemsSource:[10,100,123]}));const d=new LinearAxis({position:AxisPosition.Left});return a.axes.push(d),a}function majorStepCategoryAxis(){const a=new PlotModel({title:"Major Step = 4, IsTickCentered = false"}),d=new CategoryAxis({isTickCentered:!1,majorStep:4});d.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),a.axes.push(d);const s=new LinearAxis({position:AxisPosition.Left});return a.axes.push(s),a}function majorStepCategoryTickCenteredAxis(){const a=new PlotModel({title:"Major Step = 4, IsTickCentered = true"}),d=new CategoryAxis({isTickCentered:!0,majorStep:4});d.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),a.axes.push(d);const s=new LinearAxis({position:AxisPosition.Left});return a.axes.push(s),a}const category$L="CategoryAxis",CategoryAxisExamples={category:category$L,tags:["Axes"],examples:[{title:"Standard",example:{model:standardCategoryAxis}},{title:"ItemsSource - string[]",example:{model:itemsSourceStrings}},{title:"ItemsSource - int[]",example:{model:itemsSourceValues}},{title:"MajorStep",example:{model:majorStepCategoryAxis}},{title:"MajorStep, TickCentered",example:{model:majorStepCategoryTickCenteredAxis}}]};function standardCategoryColorAxis(){const a=new PlotModel({title:"CategoryColorAxis"}),d=new CategoryColorAxis({key:"ccc",palette:OxyPalettes.blackWhiteRed(12)});d.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),a.axes.push(d);const s=new LinearAxis({position:AxisPosition.Left}),m=new ScatterSeries({colorAxisKey:d.key});return m.points.push({x:0,y:0,size:NaN,value:0}),m.points.push({x:3,y:0,size:NaN,value:3}),a.series.push(m),a.axes.push(s),a}function majorStep4(){const a=new PlotModel({title:"Major Step = 4, IsTickCentered = true"}),d=new CategoryColorAxis({palette:OxyPalettes.blackWhiteRed(3),isTickCentered:!0,majorStep:4});d.labels.push("1","2","3","4","5","6","7","8","9","10","11","12"),a.axes.push(d);const s=new LinearAxis({position:AxisPosition.Left});return a.axes.push(s),a}const category$K="CategoryColorAxis",CategoryColorAxisExamples={category:category$K,tags:["Axes"],examples:[{title:"CategoryColorAxis",example:{model:standardCategoryColorAxis}},{title:"Centered ticks, MajorStep = 4",example:{model:majorStep4}}]};function customArrowAxis(){const a=new PlotModel({plotAreaBorderThickness:new OxyThickness(0),plotMargins:new OxyThickness(60,60,60,60)});return a.axes.push(new ArrowAxis({position:AxisPosition.Bottom,axislineStyle:LineStyle.Solid})),a.axes.push(new ArrowAxis({position:AxisPosition.Left,axislineStyle:LineStyle.Solid})),a}class ArrowAxis extends LinearAxis{async render(d,s){await super.render(d,s);const m=[];if(this.isHorizontal()){const f=this.transform(this.actualMaximum);m.push(new ScreenPoint(f+4,this.plotModel.plotArea.bottom-4)),m.push(new ScreenPoint(f+18,this.plotModel.plotArea.bottom)),m.push(new ScreenPoint(f+4,this.plotModel.plotArea.bottom+4))}else{const f=this.transform(this.actualMaximum);m.push(new ScreenPoint(this.plotModel.plotArea.left-4,f-4)),m.push(new ScreenPoint(this.plotModel.plotArea.left,f-18)),m.push(new ScreenPoint(this.plotModel.plotArea.left+4,f-4))}await d.drawPolygon(m,OxyColors.Black,OxyColors.Undefined,0,this.edgeRenderingMode)}}const category$J="Custom axes",CustomAxisExamples={category:category$J,tags:["Axes"],examples:[{title:"ArrowAxis",example:{model:customArrowAxis}}]};class Sun{static deg2Rad(d){return Math.PI*d/180}static rad2Deg(d){return 180*d/Math.PI}static fixValue(d,s,m){for(;d<s;)d+=m-s;for(;d>=m;)d-=m-s;return d}static calculate(d,s,m,f,x,g=90.5){const w=dayjs(d).dayOfYear(),C=m/15;let A;f?A=w+(6-C)/24:A=w+(18-C)/24;const _=.9856*A-3.289;let M=_+1.916*Math.sin(this.deg2Rad(_))+.02*Math.sin(this.deg2Rad(2*_))+282.634;M=this.fixValue(M,0,360);let P=this.rad2Deg(Math.atan(.91764*Math.tan(this.deg2Rad(M))));P=this.fixValue(P,0,360);const D=Math.floor(M/90)*90,E=Math.floor(P/90)*90;P=P+(D-E),P=P/15;const I=.39782*Math.sin(this.deg2Rad(M)),B=Math.cos(Math.asin(I)),F=(Math.cos(this.deg2Rad(g))-I*Math.sin(this.deg2Rad(s)))/(B*Math.cos(this.deg2Rad(s)));let R;f?R=360-this.rad2Deg(Math.acos(F)):R=this.rad2Deg(Math.acos(F)),R=R/15;let z=R+P-.06571*A-6.622-C;d=new Date(Date.UTC(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0));const G=new Date(d.getTime()+z*60*60*1e3);return z=(x(G).getTime()-d.getTime())/(60*60*1e3),z=this.fixValue(z,0,24),new Date(d.getTime()+z*60*60*1e3)}}const defaultValues$1=()=>createExample$2(7,void 0),stringFormat$1=()=>{const a=getDateService();return createExample$2(7,d=>a.format(d,`MMM DD
YYYY`))};function createExample$2(a,d){const s=new PlotModel,m=new Date(2e3,0,1),f=DateTimeAxis.toDouble(m),x=f+a;return s.axes.push(new DateTimeAxis({position:AxisPosition.Bottom,minimum:f,maximum:x,stringFormatter:d})),s.axes.push(new DateTimeAxis({position:AxisPosition.Left,minimum:f,maximum:x,stringFormatter:d})),s}function daylightSavingsBreak(){const a=new PlotModel,d=new DateTimeAxis;d.position=AxisPosition.Bottom,a.axes.push(d),a.axes.push(new LinearAxis);const s=new LineSeries;s.markerType=MarkerType.Circle,a.series.push(s);const m=new Date(Date.UTC(2013,2,31,0,0,0));for(let f=0;f<400;f+=10){const x=new Date(m.getTime()+f*6e4);s.points.push(DateTimeAxis.createDataPoint(x,f))}return a}function dateTimeAxisPlotModel(){const a=new Date(2010,0,1),d=new Date(2015,0,1),s=3600*24*14,m=getDateService(),f=[];let x=a;const g=new Random;for(;x<=d;)f.push({date:x,value:g.next()}),x=m.addTimespan(x,TimeSpan.fromSeconds(s));const w=new PlotModel({title:"DateTime axis"}),C=new DateTimeAxis({firstDayOfWeek:DayOfWeek.Monday,position:AxisPosition.Bottom});w.axes.push(C);const A=new LinearAxis;w.axes.push(A);const _=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6),markerStroke:OxyColors.ForestGreen,markerType:MarkerType.Plus,strokeThickness:1,dataFieldX:"date",dataFieldY:"value",itemsSource:f});return w.series.push(_),w}function sunriseAndSunsetInOslo(){const a=new Date().getFullYear(),s=createSunData(a,59.91,10.75,C=>{const A=isDaylightSaving(C)?2:1;return new Date(C.getTime()+A*60*60*1e3)}),m=new PlotModel({title:"Sunrise and sunset in Oslo",subtitle:"UTC time"}),f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],x=new DateTimeAxis({firstDayOfWeek:DayOfWeek.Monday,intervalType:DateTimeIntervalType.Months,majorGridlineStyle:LineStyle.Solid,position:AxisPosition.Bottom,stringFormatter:C=>f[C.getMonth()]});m.axes.push(x);const g=new TimeSpanAxis({majorGridlineStyle:LineStyle.Solid,maximum:86400,minimum:0,stringFormatter:C=>formatTimeSpan(C,"hh:mm")});m.axes.push(g);const w=new AreaSeries({itemsSource:s,dataFieldX:"Day",dataFieldY:"Sunrise",dataFieldX2:"Day",dataFieldY2:"Sunset",fill:OxyColor.fromArgb(128,255,255,0),color:OxyColors.Black});return m.series.push(w),m}function labelFormatter(){const a=new PlotModel({title:"Using LabelFormatter to format labels by day of week"});a.axes.push(new DateTimeAxis({labelFormatter:s=>DateTimeAxis.toDateTime(s).getDay().toString().substring(0,3)}));const d=new LineSeries;a.series.push(d);for(let s=0;s<7;s++){const m=new Date(2014,9,10);m.setDate(m.getDate()+s);const f=DateTimeAxis.toDouble(m),x=Math.sin(s*s);d.points.push(new DataPoint(f,x))}return a}function createSunData(a,d,s,m){const f=[];let x=new Date(a,0,1);const g=TimeSpan.fromMinutes(x.getTimezoneOffset()),w=getDateService();for(;x.getFullYear()===a;){let C=Sun.calculate(x,d,s,!0,m);C=w.addTimespan(C,g);let A=Sun.calculate(x,d,s,!1,m);A=w.addTimespan(A,g),f.push({Day:x,Sunrise:w.diff(C,x),Sunset:w.diff(A,x)}),x=w.addTimespan(x,TimeSpan.fromDays(1))}return f}function isDaylightSaving(a){const d=new Date(a.getFullYear(),2,31,2,0,0);d.setDate(d.getDate()-d.getDay());const s=new Date(a.getFullYear(),9,31,3,0,0);return s.setDate(s.getDate()-s.getDay()),a>=d&&a<=s}const category$I="DateTimeAxis",DateTimeAxisExamples={category:category$I,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:defaultValues$1}},{title:"StringFormat 'MMM DD\\nYYYY'",example:{model:stringFormat$1}},{title:"TimeZone adjustments",example:{model:daylightSavingsBreak}},{title:"DateTime axis",example:{model:dateTimeAxisPlotModel}},{title:"Sunrise and sunset in Oslo",example:{model:sunriseAndSunsetInOslo}},{title:"LabelFormatter",example:{model:labelFormatter}}]};function stringFormat(){return createExample$1(123456.78901234567,1.2345678901234567e6,void 0)}function stringFormatF2(){return createExample$1(123456.78901234567,1.2345678901234567e6,(a,d)=>a.toFixed(2))}function tickStyleNone(){return createTickStyleModel(TickStyle.None)}function tickStyleCrossing(){return createTickStyleModel(TickStyle.Crossing)}function tickStyleInside(){return createTickStyleModel(TickStyle.Inside)}function tickStyleOutside(){return createTickStyleModel(TickStyle.Outside)}function gridlinesNone(){return createGridlinesModel("None",LineStyle.None,LineStyle.None)}function gridlinesHorizontal(){return createGridlinesModel("Horizontal",LineStyle.Solid,LineStyle.None)}function gridlinesVertical(){return createGridlinesModel("Vertical",LineStyle.None,LineStyle.Solid)}function gridlinesBoth(){return createGridlinesModel("Both",LineStyle.Solid,LineStyle.Solid)}function createExample$1(a,d,s){const m=new PlotModel;return m.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:a,maximum:d,stringFormatter:s})),m.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:a,maximum:d,stringFormatter:s})),m}function createTickStyleModel(a){const d=new PlotModel({title:`TickStyle: ${a}`});return d.axes.push(new LinearAxis({position:AxisPosition.Bottom,tickStyle:a,majorGridlineStyle:LineStyle.None,minorGridlineStyle:LineStyle.None,maximumPadding:0,minimumPadding:0})),d.axes.push(new LinearAxis({position:AxisPosition.Left,tickStyle:a,majorGridlineStyle:LineStyle.None,minorGridlineStyle:LineStyle.None,maximumPadding:0,minimumPadding:0})),d}function createGridlinesModel(a,d,s){const m=new PlotModel({title:`Gridlines: ${a}`});return m.axes.push(new LinearAxis({position:AxisPosition.Bottom,majorGridlineStyle:s,minorGridlineStyle:s===LineStyle.Solid?LineStyle.Dot:LineStyle.None,maximumPadding:0,minimumPadding:0})),m.axes.push(new LinearAxis({position:AxisPosition.Left,majorGridlineStyle:d,minorGridlineStyle:d===LineStyle.Solid?LineStyle.Dot:LineStyle.None,maximumPadding:0,minimumPadding:0})),m}const category$H="LinearAxis",LinearAxisExamples={category:category$H,tags:["Axes"],examples:[{title:"Default StringFormat ('g6')",example:{model:stringFormat}},{title:"StringFormat = 'f2'",example:{model:stringFormatF2}},{title:"TickStyle: None",example:{model:tickStyleNone}},{title:"TickStyle: Crossing",example:{model:tickStyleCrossing}},{title:"TickStyle: Inside",example:{model:tickStyleInside}},{title:"TickStyle: Outside",example:{model:tickStyleOutside}},{title:"Gridlines: None",example:{model:gridlinesNone}},{title:"Gridlines: Horizontal",example:{model:gridlinesHorizontal}},{title:"Gridlines: Vertical",example:{model:gridlinesVertical}},{title:"Gridlines: Both",example:{model:gridlinesBoth}}]};function peaks$1(){return _createHeatMapPeaks()}function interpolated(){return _createExample("Interpolated",!0)}function interpolatedCartesian(){const a=_createExample("Interpolated, cartesian axes",!0);return a.plotType=PlotType.Cartesian,a}function interpolatedWithNanValue(){const a=_createExample("Interpolated including two NaN values",!0),d=a.series[0];return d.data[0][1]=Number.NaN,d.data[1][0]=Number.NaN,a}function interpolatedWithNanValueFlat(){const a=_createExample("Interpolated including two NaN values, otherwise 4.71",!0),s=a.series[0].data,m=4.71;return s[0][0]=m,s[0][1]=m,s[0][2]=m,s[1][0]=m,s[1][1]=m,s[1][2]=m,s[0][1]=Number.NaN,s[1][0]=Number.NaN,a}function notInterpolated(){return _createExample("Not interpolated values",!1)}function notInterpolatedWithNanValue(){const a=_createExample("Not interpolated values including two NaN values",!1),d=a.axes[0];d.invalidNumberColor=OxyColors.Transparent;const s=a.series[0];return s.data[0][1]=Number.NaN,s.data[1][0]=Number.NaN,a}function notInterpolatedWithNanValueFlat(){const a=_createExample("Not interpolated values including two NaN values, otherwise 4.71",!1),d=a.axes[0];d.invalidNumberColor=OxyColors.Transparent;const s=a.series[0];if(!s.data)return a;const m=4.71;return s.data[0][0]=m,s.data[0][1]=m,s.data[0][2]=m,s.data[1][0]=m,s.data[1][1]=m,s.data[1][2]=m,s.data[0][1]=Number.NaN,s.data[1][0]=Number.NaN,a}function notInterpolatedReversedX(){const a=_createExample("Reversed x-axis",!1);return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),a}function x0GreaterThanX1(){const a=_createExample("X0>X1",!1),d=a.series[0],s=d.x0;return d.x0=d.x1,d.x1=s,a}function reversedX_X0GreaterThanX1(){const a=_createExample("Reversed x-axis, X0>X1",!1);a.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0}));const d=a.series[0],s=d.x0;return d.x0=d.x1,d.x1=s,a}function notInterpolatedReversedY(){const a=_createExample("Reversed y-axis",!1);return a.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),a}function y0GreaterThanY1(){const a=_createExample("Y0>Y1",!1),d=a.series[0],s=d.y0;return d.y0=d.y1,d.y1=s,a}function reversedY_Y0GreaterThanY1(){const a=_createExample("Reversed y-axis, Y0>Y1",!1);a.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0}));const d=a.series[0],s=d.y0;return d.y0=d.y1,d.y1=s,a}function notInterpolatedReversedXY(){const a=_createExample("Reversed x- and y-axis",!1);return a.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,startPosition:1,endPosition:0})),a}function diagonal(){const a=[[1,0,0],[0,1,0],[0,0,1]],d=new PlotModel({title:"Diagonal (center defined)"});d.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const s=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:.5,x1:2.5,y0:2.5,y1:.5,data:a,interpolate:!1});return d.series.push(s),d}function diagonal2(){const a=[[1,0,0],[0,1,0],[0,0,1]],d=new PlotModel({title:"Diagonal (edge defined)"});d.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const s=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Edge,x0:0,x1:3,y0:3,y1:0,data:a,interpolate:!1});return d.series.push(s),d}function diagonal_6X6(){const a=Array(6).fill(Array(6).fill(0));a[0][0]=1,a[1][1]=1,a[2][2]=1,a[3][3]=1,a[4][4]=1,a[5][5]=1;const d=new PlotModel({title:"Diagonal 66"});d.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const s=new HeatMapSeries({x0:0,x1:5,y0:5,y1:0,data:a,interpolate:!1});return d.series.push(s),d}function confusionMatrix(){let a=[[1,0,0],[0,.8,.2],[0,0,1]];a=a[0].map((C,A)=>a.map(_=>_[A]));const d=["class A","class B","class C"],s=new PlotModel({title:"Confusion Matrix"}),m=OxyPalette.interpolate(50,OxyColors.White,OxyColors.Black),f=new LinearColorAxis({position:AxisPosition.Right,palette:m,highColor:OxyColors.White,lowColor:OxyColors.White});s.axes.push(f);const x=new CategoryAxis({position:AxisPosition.Top,title:"Actual class"});x.labels.push(...d),s.axes.push(x);const g=new CategoryAxis({position:AxisPosition.Left,title:"Predicted class",angle:-90,startPosition:1,endPosition:0});g.labels.push(...d),s.axes.push(g);const w=new HeatMapSeries({data:a,interpolate:!1,labelFontSize:.25,x0:0,x1:a[0].length-1,y0:0,y1:a.length-1});return s.series.push(w),s}function logXInterpolated(){const a=Array(11).fill(0).map(()=>Array(21).fill(0)),d=Math.pow(2,.1);for(let f=0;f<11;f++)for(let x=0;x<21;x++)a[f][x]=Math.pow(d,f)*x/40;const s=new PlotModel({title:"Logarithmic X, interpolated"});s.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),s.axes.push(new LinearAxis({position:AxisPosition.Left})),s.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.gray(500),highColor:OxyColors.White,lowColor:OxyColors.Black}));const m=new HeatMapSeries({x0:1,x1:2,y0:0,y1:20,data:a,interpolate:!0});return s.series.push(m),s}function logXNotInterpolated(){const a=Array(11).fill(0).map(()=>Array(21).fill(0)),d=Math.pow(2,.1);for(let f=0;f<11;f++)for(let x=0;x<21;x++)a[f][x]=Math.pow(d,f)*x/40;const s=new PlotModel({title:"Logarithmic X, discrete rectangles"});s.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),s.axes.push(new LinearAxis({position:AxisPosition.Left})),s.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.gray(500),highColor:OxyColors.White,lowColor:OxyColors.Black}));const m=new HeatMapSeries({x0:1,x1:2,y0:0,y1:20,data:a,interpolate:!1,renderMethod:HeatMapRenderMethod.Rectangles,labelFontSize:.4});return s.series.push(m),s}function normal_6X4(){return _create6X4("Normal 64 Heatmap")}function _createHeatMapPeaks(a,d=!0,s=100){const w=(D,E)=>3*(1-D)*(1-D)*Math.exp(-(D*D)-(E+1)*(E+1))-10*(D/5-D*D*D-E*E*E*E*E)*Math.exp(-D*D-E*E)-.3333333333333333*Math.exp(-(D+1)*(D+1)-E*E),C=ArrayBuilder.createVector(-3.1,3.1,s),A=ArrayBuilder.createVector(-3,3,s),_=ArrayBuilder.evaluate(w,C,A),M=new PlotModel({title:"Peaks"});M.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:a??OxyPalettes.jet(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const P=new HeatMapSeries({x0:-3.1,x1:3.1,y0:-3,y1:3,data:_});if(M.series.push(P),d){const D=new ContourSeries({color:OxyColors.Black,fontSize:0,contourLevelStep:1,labelBackground:OxyColors.Undefined,columnCoordinates:A,rowCoordinates:C,data:_});M.series.push(D)}return M}function _create6X4(a){const d=new TwoDimensionalArray(6,4);for(let m=1;m<=6;m++)for(let f=1;f<=4;f++)d.set(m-1,f-1,m*f);const s=new PlotModel({title:a,subtitle:"Note the positions of the axes"});return s.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(500),highColor:OxyColors.White,lowColor:OxyColors.Black})),s.series.push(new HeatMapSeries({x0:1,x1:6,y0:1,y1:4,data:d.toArray(),interpolate:!0,labelFontSize:.2})),s}function _createExample(a,d){const s=[[0,.2,.4],[.1,.3,.2]],m=new PlotModel({title:"HeatMapSeries",subtitle:a});m.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.rainbow(500),highColor:OxyColors.Gray,lowColor:OxyColors.Black}));const f=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:.5,x1:1.5,y0:.5,y1:2.5,data:s,interpolate:d,labelFontSize:.2});return m.series.push(f),m}const HeatMapSeriesExamples={createPeaks:_createHeatMapPeaks},category$G="HeatMapSeries",HeatMapSeriesExamples$1={category:category$G,tags:["Series"],examples:[{title:"Peaks",example:{model:peaks$1}},{title:"23, interpolated",example:{model:interpolated}},{title:"23, interpolated, cartesian axes",example:{model:interpolatedCartesian}},{title:"23, interpolated with two NaN values",example:{model:interpolatedWithNanValue}},{title:"23, interpolated with two NaN values, flat data",example:{model:interpolatedWithNanValueFlat}},{title:"23, not interpolated",example:{model:notInterpolated}},{title:"23, not interpolated with two NaN values",example:{model:notInterpolatedWithNanValue}},{title:"23, not interpolated with two NaN values, flat data",example:{model:notInterpolatedWithNanValueFlat}},{title:"23, reversed x-axis",example:{model:notInterpolatedReversedX}},{title:"23, X0>X1",example:{model:x0GreaterThanX1}},{title:"23, reversed x-axis, X0>X1",example:{model:reversedX_X0GreaterThanX1}},{title:"23, reversed y-axis",example:{model:notInterpolatedReversedY}},{title:"23, Y0>Y1",example:{model:y0GreaterThanY1}},{title:"23, reversed y-axis, Y0>Y1",example:{model:reversedY_Y0GreaterThanY1}},{title:"2x3, reversed x- and y-axis",example:{model:notInterpolatedReversedXY}},{title:"33, diagonal (center defined)",example:{model:diagonal}},{title:"33, diagonal (edge defined)",example:{model:diagonal2}},{title:"66, diagonal",example:{model:diagonal_6X6}},{title:"Confusion matrix",example:{model:confusionMatrix}},{title:"Logarithmic X, interpolated",example:{model:logXInterpolated}},{title:"Logarithmic X, discrete rectangles",example:{model:logXNotInterpolated}},{title:"64, not transposed",example:{model:normal_6X4}}]};function defaultPalette(){const a=HeatMapSeriesExamples.createPeaks(void 0,!1);return a.axes.length=0,a.axes.push(new LinearColorAxis({position:AxisPosition.Right})),a}function jet200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(200),!1)}function jet20(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(20),!1)}function hue400(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hue(400),!1)}function hueDistinct200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hueDistinct(200),!1)}function hueDistinctReverse200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hueDistinct(200).reverse(),!1)}function hot200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hot(200),!1)}function hot64(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hot64,!1)}function hot30(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.hot(30),!1)}function blueWhiteRed200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blueWhiteRed(200),!1)}function blueWhiteRed40(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blueWhiteRed(40),!1)}function blackWhiteRed500(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blackWhiteRed(500),!1)}function blackWhiteRed3(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.blackWhiteRed(3),!1)}function cool200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.cool(200),!1)}function rainbow200(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.rainbow(200),!1)}function viridis(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.viridis(),!1)}function plasma(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.plasma(),!1)}function magma(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.magma(),!1)}function inferno(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.inferno(),!1)}function cividis(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.cividis(),!1)}function viridis10(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.viridis(10),!1)}function rainbow7(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.rainbow(7),!1)}function vertical_6(){return HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(6),!1)}function vertical_Reverse_6(){const a=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(6),!1),d=a.axes[0];return d.startPosition=1,d.endPosition=0,a}function horizontal_6(){const a=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(6),!1),d=a.axes[0];return d.position=AxisPosition.Top,a}function horizontal_Reverse_6(){const a=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(6),!1),d=a.axes[0];return d.position=AxisPosition.Top,d.startPosition=1,d.endPosition=0,a}function renderAsImage_Horizontal(){const a=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(1e3),!1),d=a.axes[0];return d.renderAsImage=!0,d.position=AxisPosition.Top,a}function renderAsImage_Horizontal_Reversed(){const a=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(1e3),!1),d=a.axes[0];return d.renderAsImage=!0,d.position=AxisPosition.Top,d.startPosition=1,d.endPosition=0,a}function renderAsImage_Vertical(){const a=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(1e3),!1),d=a.axes[0];return d.renderAsImage=!0,a}function renderAsImage_Vertical_Reversed(){const a=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(1e3),!1),d=a.axes[0];return d.renderAsImage=!0,d.startPosition=1,d.endPosition=0,a}function vertical_Short(){const a=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(600),!1),d=a.axes[0];return d.startPosition=.02,d.endPosition=.5,a}function position_None(){const a=HeatMapSeriesExamples.createPeaks(OxyPalettes.jet(600),!1),d=a.axes[0];return d.position=AxisPosition.None,a}const category$F="LinearColorAxis",LinearColorAxisExamples={category:category$F,tags:["Axes"],examples:[{title:"Default palette",example:{model:defaultPalette}},{title:"Jet (200 colors) palette",example:{model:jet200}},{title:"Jet (20 colors) palette",example:{model:jet20}},{title:"Hue (400 colors) palette",example:{model:hue400}},{title:"Hue distinct (200 colors) palette",example:{model:hueDistinct200}},{title:"Hue distinct reversed (200 colors) palette",example:{model:hueDistinctReverse200}},{title:"Hot (200 colors) palette",example:{model:hot200}},{title:"Hot (64 colors) palette",example:{model:hot64}},{title:"Hot (30 colors) palette",example:{model:hot30}},{title:"Blue-white-red (200 colors) palette",example:{model:blueWhiteRed200}},{title:"Blue-white-red (40 colors) palette",example:{model:blueWhiteRed40}},{title:"Black-white-red (500 colors) palette",example:{model:blackWhiteRed500}},{title:"Black-white-red (3 colors) palette",example:{model:blackWhiteRed3}},{title:"Cool (200 colors) palette",example:{model:cool200}},{title:"Rainbow (200 colors) palette",example:{model:rainbow200}},{title:"Viridis palette",example:{model:viridis}},{title:"Plasma palette",example:{model:plasma}},{title:"Magma palette",example:{model:magma}},{title:"Inferno palette",example:{model:inferno}},{title:"Cividis palette",example:{model:cividis}},{title:"Viridis (10 colors) palette",example:{model:viridis10}},{title:"Rainbow (7 colors) palette",example:{model:rainbow7}},{title:"Vertical (6 colors)",example:{model:vertical_6}},{title:"Vertical reverse (6 colors)",example:{model:vertical_Reverse_6}},{title:"Horizontal (6 colors)",example:{model:horizontal_6}},{title:"Horizontal reverse (6 colors)",example:{model:horizontal_Reverse_6}},{title:"RenderAsImage (horizontal)",example:{model:renderAsImage_Horizontal}},{title:"RenderAsImage (horizontal reversed)",example:{model:renderAsImage_Horizontal_Reversed}},{title:"RenderAsImage (vertical)",example:{model:renderAsImage_Vertical}},{title:"RenderAsImage (vertical reversed)",example:{model:renderAsImage_Vertical_Reversed}},{title:"Short vertical",example:{model:vertical_Short}},{title:"Position None",example:{model:position_None}}]};function defaultValues(){const a=new PlotModel;return a.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),a.axes.push(new LogarithmicAxis({position:AxisPosition.Left})),a}function amdahlsLaw(){const a=new PlotModel({title:"Amdahl's law"}),d=new Legend({legendTitle:"Parallel portion"});a.legends.push(d);const s=(f,x)=>1/(1-f+f/x),m=f=>{const x=new LineSeries({title:f.toFixed(0)});for(let g=1;g<=65536;g*=2)x.points.push(new DataPoint(g,s(f,g)));return x};return a.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,title:"Number of processors",base:2,majorGridlineStyle:LineStyle.Solid,tickStyle:TickStyle.None})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:20,minorStep:2,majorStep:2,title:"Speedup",stringFormatter:f=>f.toFixed(2).toString(),majorGridlineStyle:LineStyle.Solid,tickStyle:TickStyle.None})),a.series.push(m(.5)),a.series.push(m(.75)),a.series.push(m(.9)),a.series.push(m(.95)),a}function richterMagnitudes(){const a=new PlotModel({title:"The Richter magnitude scale",plotMargins:new OxyThickness(80,0,80,40)}),d=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.TopCenter,legendOrientation:LegendOrientation.Horizontal,legendSymbolLength:24});a.legends.push(d),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Richter magnitude scale",majorGridlineStyle:LineStyle.None,tickStyle:TickStyle.None}));const s=new LineSeries({title:"Frequency",color:OxyColor.fromUInt32(4282150046),strokeThickness:3,markerStroke:OxyColor.fromUInt32(4282150046),markerFill:OxyColors.White,markerType:MarkerType.Circle,markerSize:4,markerStrokeThickness:3});s.points.push(new DataPoint(1.5,8e3*365*100)),s.points.push(new DataPoint(2.5,1e3*365*100)),s.points.push(new DataPoint(3.5,49e3*100)),s.points.push(new DataPoint(4.5,6200*100)),s.points.push(new DataPoint(5.5,800*100)),s.points.push(new DataPoint(6.5,120*100)),s.points.push(new DataPoint(7.5,18*100)),s.points.push(new DataPoint(8.5,1*100)),s.points.push(new DataPoint(9.5,1/20*100)),a.axes.push(new LogarithmicAxis({position:AxisPosition.Left,title:"Frequency / 100 yr",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.None,tickStyle:TickStyle.Outside})),a.series.push(s);const m=new LineSeries({title:"Energy",color:OxyColor.fromUInt32(4288572476),strokeThickness:3,markerStroke:OxyColor.fromUInt32(4288572476),markerFill:OxyColors.White,markerType:MarkerType.Circle,markerSize:4,markerStrokeThickness:3});return m.points.push(new DataPoint(1.5,11e6)),m.points.push(new DataPoint(2.5,36e7)),m.points.push(new DataPoint(3.5,11e9)),m.points.push(new DataPoint(4.5,36e10)),m.points.push(new DataPoint(5.5,11e12)),m.points.push(new DataPoint(6.5,36e13)),m.points.push(new DataPoint(7.5,11e15)),m.points.push(new DataPoint(8.5,36e16)),m.points.push(new DataPoint(9.5,11e18)),m.yAxisKey="energyAxis",a.axes.push(new LogarithmicAxis({position:AxisPosition.Right,title:"Energy / J",key:"energyAxis",useSuperExponentialFormat:!0,majorGridlineStyle:LineStyle.None,tickStyle:TickStyle.Outside})),a.series.push(m),a}const absoluteMaximum=()=>{const a=new PlotModel({title:"AbsoluteMaximum = 1000"});return a.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimum:.1,maximum:1e3,absoluteMaximum:1e3})),a.series.push(new FunctionSeries({f:Math.exp,x0:0,x1:Math.log(900),n:100})),a},axisChangedEventHAndler=()=>{const a=new PlotModel({title:"AxisChanged event handler"});let d=0;const s=new LogarithmicAxis({position:AxisPosition.Left,minimum:.1,maximum:1e3});return s.axisChanged=(m,f)=>{a.subtitle="Changed "+d+++" times. ActualMaximum="+s.actualMaximum},a.axes.push(s),a.series.push(new FunctionSeries({f:Math.exp,x0:0,x1:Math.log(900),n:100})),a},negativeValues=()=>{const a=new PlotModel({title:"LogarithmicAxis",subtitle:"LineSeries with negative values"});return a.axes.push(new LogarithmicAxis({position:AxisPosition.Left})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.series.push(new FunctionSeries({f:d=>Math.sin(d),x0:0,x1:40,n:1e3})),a};function tickCalculation(){const a=new PlotModel({title:"Tick calculation for different bases"});return a.axes.push(new LogarithmicAxis({title:"Base 10",position:AxisPosition.Left,minimum:20,maximum:2e4,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),a.axes.push(new LogarithmicAxis({title:"Base 7",position:AxisPosition.Bottom,base:7,minimum:2,maximum:1e4,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),a.axes.push(new LogarithmicAxis({title:"Base 5.5",position:AxisPosition.Top,base:5.5,minimum:1,maximum:100,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),a.axes.push(new LogarithmicAxis({title:"Base 2",position:AxisPosition.Right,base:2,minimum:1,maximum:1e6,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),a}const category$E="LogarithmicAxis",LogarithmicAxisExamples={category:category$E,tags:["Axes"],examples:[{title:"LogarithmicAxis with default values",example:{model:defaultValues}},{title:"Amdahl's Law",example:{model:amdahlsLaw}},{title:"Richter magnitudes",example:{model:richterMagnitudes}},{title:"LogarithmicAxis with AbsoluteMaximum",example:{model:absoluteMaximum}},{title:"LogarithmicAxis with AxisChanged event handler",example:{model:axisChangedEventHAndler}},{title:"Negative values",example:{model:negativeValues}},{title:"Tick calculation",example:{model:tickCalculation}}]};function archimedeanSpiral(){const a=new PlotModel({title:"Polar plot",subtitle:"Archimedean spiral with equation r() =  for 0 <  < 6",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return a.axes.push(new AngleAxis({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),a.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),a.series.push(new FunctionSeries({fx:d=>d,fy:d=>d,t0:0,t1:Math.PI*6,dt:.01})),a}function archimedeanSpiral2(){const a=archimedeanSpiral();a.title+="(reversed angle axis)";const d=a.axes[0];return d.startAngle=360,d.endAngle=0,a}function archimedeanSpiral3(){const a=archimedeanSpiral();a.title+=" (axis Minimum = 10 and Maximum = 20)";const d=a.axes[1];return d.minimum=10,d.maximum=20,a}function offsetAngles(){const a=new PlotModel({title:"Offset angle axis",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)}),d=new AngleAxis({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,stringFormatter:s=>s.toFixed(2),startAngle:30,endAngle:390});return a.axes.push(d),a.axes.push(new MagnitudeAxis),a.series.push(new FunctionSeries({fx:s=>s,fy:s=>s,t0:0,t1:Math.PI*6,dt:.01})),a.mouseDown=(s,m)=>{let f=0;m.changedButton===OxyMouseButton.Left&&(f=15),m.changedButton===OxyMouseButton.Right&&(f=-15),Math.abs(f)>Number.EPSILON&&(d.startAngle+=f,d.endAngle+=f,a.invalidatePlot(!1),m.handled=!0)},a}function semiCircle(){const a=new PlotModel({title:"Semi-circle polar plot",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return a.axes.push(new AngleAxis({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),a.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),a.series.push(circleFunctionSeries()),a}function semiCircleOffsetAngleAxisRange(){const a=new PlotModel({title:"Semi-circle polar plot",subtitle:"Angle axis range offset to -180 - 180",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return a.axes.push(new AngleAxis({minimum:-180,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:360,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),a.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),a.series.push(circleFunctionSeries()),a}function eastWestDirections(){const a=new PlotModel({title:"East/west directions",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});return a.axes.push(new AngleAxis({minimum:0,maximum:360,majorStep:30,minorStep:30,startAngle:-90,endAngle:270,labelFormatter:d=>d>0&&d<180?`${d}E`:d>180?`${360-d}W`:d.toString(),majorGridlineStyle:LineStyle.Dot,minorGridlineStyle:LineStyle.None})),a.axes.push(new MagnitudeAxis({minimum:0,maximum:1,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),a.series.push(circleFunctionSeries()),a}function semiCircleFullPlotArea(){const a=new PlotModel({title:"Semi-circle polar plot filling the plot area",subtitle:"The center can be moved using the right mouse button",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(1)});return a.axes.push(new AngleAxisFullPlotArea({minimum:0,maximum:180,majorStep:45,minorStep:9,startAngle:0,endAngle:180,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),a.axes.push(new MagnitudeAxisFullPlotArea({minimum:0,maximum:1,midShiftH:0,midShiftV:.9,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),a.series.push(circleFunctionSeries()),a}function archimedeanSpiralFullPlotArea(){const a=createFullPlotAreaPlotModel();return a.series.push(new FunctionSeries({fx:d=>d,fy:d=>d,t0:0,t1:Math.PI*6,dt:.01})),a}function spiralWithNegativeMinium(){const a=createFullPlotAreaPlotModel();return a.title+=" with a negative minimum",a.series.push(new FunctionSeries({fx:d=>d,fy:d=>d,t0:-Math.PI*6,t1:Math.PI*6,dt:.01})),a}function spiralWithPositiveMinium(){const a=createFullPlotAreaPlotModel();return a.title+=" with a positive minimum",a.series.push(new FunctionSeries({fx:d=>d,fy:d=>d,t0:Math.PI*6,t1:Math.PI*12,dt:.01})),a}function createFullPlotAreaPlotModel(){const a=new PlotModel({title:"Polar plot filling the plot area",subtitle:"The center can be move using the right mouse button",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(1)});return a.axes.push(new AngleAxisFullPlotArea({majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:"",minimum:0,maximum:2*Math.PI})),a.axes.push(new MagnitudeAxisFullPlotArea({midShiftH:-.1,midShiftV:-.25,majorGridlineStyle:LineStyle.Solid,minorGridlineStyle:LineStyle.Solid})),a}const circleFunctionSeries=()=>new FunctionSeries({fx:a=>Math.sin(a/180*Math.PI),fy:a=>a,t0:0,t1:180,dt:.01}),category$D="Polar Plots",PolarPlotExamples={category:category$D,tags:["Axes"],examples:[{title:"Spiral",example:{model:archimedeanSpiral}},{title:"Spiral2",example:{model:archimedeanSpiral2}},{title:"Spiral with magnitude axis min and max",example:{model:archimedeanSpiral3}},{title:"Angle axis with offset angle",example:{model:offsetAngles}},{title:"Semi-circle",example:{model:semiCircle}},{title:"Semi-circle offset angle axis range",example:{model:semiCircleOffsetAngleAxisRange}},{title:"East/west directions",example:{model:eastWestDirections}},{title:"Semi-circle full plot area",example:{model:semiCircleFullPlotArea}},{title:"Spiral full plot area",example:{model:archimedeanSpiralFullPlotArea}},{title:"Spiral full plot area with negative minimum",example:{model:spiralWithNegativeMinium}},{title:"Spiral full plot area with positive minimum",example:{model:spiralWithPositiveMinium}}]};function reversedHorizontalRangeColorAxis(){return rangeColorAxis(AxisPosition.Top,!0)}function reversedVerticalRangeColorAxis(){return rangeColorAxis(AxisPosition.Right,!0)}function horizontalRangeColorAxis(){return rangeColorAxis(AxisPosition.Top,!1)}function verticalRangeColorAxis(){return rangeColorAxis(AxisPosition.Right,!1)}function rangeColorAxis(a,d){const m=d?"ScatterSeries and Reversed RangeColorAxis (n=1000)":"ScatterSeries and RangeColorAxis (n=1000)",f=new PlotModel({title:m,background:OxyColors.LightGray});f.axes.push(new LinearAxis({position:AxisPosition.Bottom})),f.axes.push(new LinearAxis({position:AxisPosition.Left}));const x=new RangeColorAxis({position:a,maximum:2,minimum:-2});x.addRange(0,.5,OxyColors.Blue),x.addRange(-.2,-.1,OxyColors.Red),d&&(x.startPosition=1,x.endPosition=0),f.axes.push(x);const g=new ScatterSeries({markerType:MarkerType.Square,markerSize:6}),w=new Random;for(let C=0;C<1e3;C++){const A=w.next()*2.2-1.1;g.points.push({x:A,y:w.next(),value:A})}return f.series.push(g),f}const category$C="RangeColorAxis",RangeColorAxisExamples={category:category$C,tags:["Axes"],examples:[{title:"ScatterSeries with Reversed RangeColorAxis (Horizontal)",example:{model:reversedHorizontalRangeColorAxis}},{title:"ScatterSeries with Reversed  RangeColorAxis (Vertical)",example:{model:reversedVerticalRangeColorAxis}},{title:"ScatterSeries with RangeColorAxis (Horizontal)",example:{model:horizontalRangeColorAxis}},{title:"ScatterSeries with RangeColorAxis (Vertical)",example:{model:verticalRangeColorAxis}}]};function timeSpanaxisPlotModelDefault(){return timeSpanAxisPlotModel(void 0)}function timeSpanaxisPlotModel1(){return timeSpanAxisPlotModel(a=>`${formatTimeSpan(a,"hh:mm")}`)}function timeSpanAxisPlotModel(a){const f=[];let x=0;const g=new Random;for(;x<=86400;)f.push({time:x,value:g.next()}),x+=3600;const w=new PlotModel({title:"TimeSpan axis"}),C=new TimeSpanAxis({position:AxisPosition.Bottom,stringFormatter:a});w.axes.push(C);const A=new LinearAxis({position:AxisPosition.Left});w.axes.push(A);const _=new LineSeries({color:OxyColor.fromArgb(255,78,154,6),markerFill:OxyColor.fromArgb(255,78,154,6),markerStroke:OxyColors.ForestGreen,markerType:MarkerType.Plus,strokeThickness:1,dataFieldX:"time",dataFieldY:"value",itemsSource:f});return w.series.push(_),w}const category$B="TimeSpanAxis",TimeSpanAxisExamples={category:category$B,tags:["Axes"],examples:[{title:"Default StringFormat",example:{model:timeSpanaxisPlotModelDefault}},{title:"StringFormat = 'h:mm'",example:{model:timeSpanaxisPlotModel1}}]},Axes=[AxisExamples,CartesianAxesExamples,CategoryAxisExamples,CategoryColorAxisExamples,CustomAxisExamples,DateTimeAxisExamples,LinearAxisExamples,LinearColorAxisExamples,LogarithmicAxisExamples,PolarPlotExamples,RangeColorAxisExamples,TimeSpanAxisExamples];function filteringInvalidPoints(){const a=new PlotModel({title:"Filtering NaN points"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=new LineSeries;return d.points.push(new DataPoint(NaN,NaN)),d.points.push(new DataPoint(1,0)),d.points.push(new DataPoint(2,10)),d.points.push(new DataPoint(NaN,20)),d.points.push(new DataPoint(3,10)),d.points.push(new DataPoint(4,0)),d.points.push(new DataPoint(4.5,NaN)),d.points.push(new DataPoint(5,0)),d.points.push(new DataPoint(7,7)),d.points.push(new DataPoint(NaN,NaN)),d.points.push(new DataPoint(NaN,NaN)),d.points.push(new DataPoint(7,0)),d.points.push(new DataPoint(NaN,NaN)),a.series.push(d),a}function filteringInvalidPointsAreaSeries(){const a=new PlotModel({title:"Filtering NaN points in an AreaSeries"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=new AreaSeries;return d.points.push(new DataPoint(1,0)),d.points.push(new DataPoint(2,10)),d.points.push(new DataPoint(3,10)),d.points.push(new DataPoint(4,0)),d.points.push(new DataPoint(5,0)),d.points.push(new DataPoint(6,7)),d.points.push(new DataPoint(7,7)),d.points.push(new DataPoint(NaN,NaN)),d.points.push(new DataPoint(NaN,NaN)),d.points.push(new DataPoint(8,0)),d.points.push(new DataPoint(9,0)),d.points.push(new DataPoint(NaN,NaN)),d.points2.push(new DataPoint(1,10)),d.points2.push(new DataPoint(2,110)),d.points2.push(new DataPoint(3,110)),d.points2.push(new DataPoint(4,10)),d.points2.push(new DataPoint(5,10)),d.points2.push(new DataPoint(6,17)),d.points2.push(new DataPoint(7,17)),d.points2.push(new DataPoint(NaN,NaN)),d.points2.push(new DataPoint(NaN,NaN)),d.points2.push(new DataPoint(8,10)),d.points2.push(new DataPoint(9,10)),d.points2.push(new DataPoint(NaN,NaN)),a.series.push(d),a}function filteringUndefinedPoints(){const a=new PlotModel({title:"Filtering undefined points"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=new LineSeries;return d.points.push(DataPoint.Undefined),d.points.push(new DataPoint(1,0)),d.points.push(new DataPoint(2,10)),d.points.push(DataPoint.Undefined),d.points.push(new DataPoint(3,10)),d.points.push(new DataPoint(4,0)),d.points.push(DataPoint.Undefined),d.points.push(new DataPoint(5,0)),d.points.push(new DataPoint(7,7)),d.points.push(DataPoint.Undefined),d.points.push(DataPoint.Undefined),d.points.push(new DataPoint(7,0)),d.points.push(DataPoint.Undefined),a.series.push(d),a}function filteringInvalidPointsLog(){const a=new PlotModel({title:"Filtering invalid points on logarithmic axes"});a.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),a.axes.push(new LogarithmicAxis({position:AxisPosition.Left}));const d=new LineSeries;return d.points.push(new DataPoint(NaN,NaN)),d.points.push(new DataPoint(1,1)),d.points.push(new DataPoint(10,10)),d.points.push(new DataPoint(0,20)),d.points.push(new DataPoint(100,2)),d.points.push(new DataPoint(1e3,12)),d.points.push(new DataPoint(4.5,0)),d.points.push(new DataPoint(1e4,4)),d.points.push(new DataPoint(1e5,14)),d.points.push(new DataPoint(NaN,NaN)),d.points.push(new DataPoint(1e6,5)),d.points.push(new DataPoint(NaN,NaN)),a.series.push(d),a}function filteringPointsOutsideRange(){const a=new PlotModel({title:"Filtering points outside (-1,1)"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,filterMinValue:-1,filterMaxValue:1})),a.axes.push(new LinearAxis({position:AxisPosition.Left,filterMinValue:-1,filterMaxValue:1}));const d=new LineSeries;for(let s=0;s<200;s+=.01)d.points.push(new DataPoint(.01*s*Math.sin(s),.01*s*Math.cos(s)));return a.series.push(d),a}const category$A="Filtering data points",FilteringExamples={category:category$A,examples:[{title:"Filtering NaN points",example:{model:filteringInvalidPoints}},{title:"Filtering NaN points with AreaSeries",example:{model:filteringInvalidPointsAreaSeries}},{title:"Filtering undefined points",example:{model:filteringUndefinedPoints}},{title:"Filtering invalid points (log axis)",example:{model:filteringInvalidPointsLog}},{title:"Filtering points outside (-1,1)",example:{model:filteringPointsOutsideRange}}]},n$2=1e5;function usingIDataPoint(){const a=[];for(let s=0;s<n$2;s++){const m=s/(n$2-1);a.push(new DataPoint(m,y$1(m)))}const d=new PlotModel({title:"Using IDataPoint"});return d.series.push(new LineSeries({itemsSource:a})),d}function usingIDataPointProvider(){const a=[];for(let s=0;s<n$2;s++){const m=s/(n$2-1);a.push(new PointType1(m,y$1(m)))}const d=new PlotModel({title:"Items implementing IDataPointProvider"});return d.series.push(new LineSeries({itemsSource:a})),d}function usingMappingProperty(){const a=[];for(let s=0;s<n$2;s++){const m=s/(n$2-1);a.push(new PointType2(m,y$1(m)))}const d=new PlotModel({title:"Using Mapping property"});return d.series.push(new LineSeries({itemsSource:a,mapping:s=>new DataPoint(s.abscissa,s.ordinate)})),d}function usingReflection(){const a=[];for(let s=0;s<n$2;s++){const m=s/(n$2-1);a.push(new PointType2(m,y$1(m)))}const d=new PlotModel({title:"Using reflection (slow)"});return d.series.push(new LineSeries({itemsSource:a,dataFieldX:"abscissa",dataFieldY:"ordinate"})),d}class PointType1{constructor(d,s){this.abscissa=d,this.ordinate=s}getDataPoint(){return new DataPoint(this.abscissa,this.ordinate)}}class PointType2{constructor(d,s){this.abscissa=d,this.ordinate=s}}function y$1(a){return Math.sin(3/a)*Math.sin(5/(1-a))}const category$z="ItemsSource",ItemsSourceExamples={category:category$z,examples:[{title:"List<DataPoint>",example:{model:usingIDataPoint}},{title:"Items implementing IDataPointProvider",example:{model:usingIDataPointProvider}},{title:"Mapping property",example:{model:usingMappingProperty}},{title:"Using reflection (slow)",example:{model:usingReflection}}]},legendRightTopInside=()=>{const a=createModel$1(),d=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a},legendRightTopOutside=()=>{const a=createModel$1(),d=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a},legendBottomLeftHorizontal=()=>{const a=createModel$1(4),d=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a},legendTopLeftVertical=()=>{const a=createModel$1(4),d=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a},legendDefault=()=>{const a=createModel$1(),d=new Legend;return a.legends.push(d),a},legendItemSpacing=()=>{const a=createModel$1(),d=new Legend({legendItemSpacing:100,legendPosition:LegendPosition.BottomLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a},legendLineSpacingVertical=()=>{const a=createModel$1(),d=new Legend({legendLineSpacing:30,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a},legendLineSpacingHorizontal=()=>{const a=createModel$1(),d=new Legend({legendLineSpacing:30,legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Horizontal,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a},legendColumnSpacing=()=>{const a=createModel$1(60),d=new Legend({legendColumnSpacing:100,legendPosition:LegendPosition.TopRight,legendOrientation:LegendOrientation.Vertical,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a},legendHidden=()=>{const a=createModel$1(),d=new Legend({legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a.isLegendVisible=!1,a},legendGrayscale=()=>{const a=createModel$1();a.defaultColors=[OxyColors.Black,OxyColors.Gray];const d=new Legend({legendSymbolLength:32,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a},clippedLegends=()=>{const a=createModel$1(1);a.series[0].title="1234567890 abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ 1234567890 abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ";const d=new Legend({legendPlacement:LegendPlacement.Inside,legendPosition:LegendPosition.RightTop,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a},clippedLegendsOutside=()=>{const a=clippedLegends();return a.legends[0].legendPlacement=LegendPlacement.Outside,a.legends[0].legendPosition=LegendPosition.RightTop,a.legends[0].legendMaxWidth=200,a},clippedLegendsRight=()=>{const a=clippedLegends();return a.legends[0].legendPlacement=LegendPlacement.Outside,a.legends[0].legendPosition=LegendPosition.TopRight,a};function createModel$1(a=20){const d=new PlotModel;d.title="LineSeries";for(let s=1;s<=a;s++){const m=new LineSeries;m.title="Series "+s,d.series.push(m);for(let f=0;f<2*Math.PI;f+=.1)m.points.push(new DataPoint(f,Math.sin(f*s)/s+s))}return d}const legendBottomCenterOutsideWithMaxHeight=()=>{const a=createModel$1(),d=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Vertical,legendMaxHeight:75,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a},legendDefaultFontSize=()=>{const a=createModel$1(),d=new Legend({legendFontSize:NaN,legendTitle:"Title in DefaultFontSize",legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a.defaultFontSize=20,a},singleLegendWithSeriesGroupsHorizontal=()=>{const a=createModel$1(21);for(let s=0;s<7;s++)a.series[s].seriesGroupName="group 1";for(let s=7;s<14;s++)a.series[s].seriesGroupName="group 2";for(let s=14;s<21;s++)a.series[s].seriesGroupName="group 3";const d=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black,groupNameFont:"Segoe UI Black",legendPosition:LegendPosition.TopLeft,legendOrientation:LegendOrientation.Horizontal});return a.legends.push(d),a},singleLegendWithSeriesGroups=()=>{const a=createModel$1(21);for(let s=0;s<7;s++)a.series[s].seriesGroupName="group 1";for(let s=7;s<14;s++)a.series[s].seriesGroupName="group 2";for(let s=14;s<21;s++)a.series[s].seriesGroupName="group 3";const d=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a},singleLegendWithSeriesGroupsMaxHeight=()=>{const a=createModel$1(21);for(let s=0;s<7;s++)a.series[s].seriesGroupName="group 1";for(let s=7;s<14;s++)a.series[s].seriesGroupName="group 2";for(let s=14;s<21;s++)a.series[s].seriesGroupName="group 3";const d=new Legend({legendFontSize:NaN,legendTitle:"Legend with groups of Series",legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black,legendMaxHeight:275});return a.legends.push(d),a},multipleLegendsWithSeriesGroups=()=>{const a=createModel$1(21);for(let m=0;m<7;m++)a.series[m].seriesGroupName="group 1",a.series[m].legendKey="Legend 1";for(let m=7;m<14;m++)a.series[m].seriesGroupName="group 2",a.series[m].legendKey="Legend 1";for(let m=14;m<21;m++)a.series[m].seriesGroupName="group 3",a.series[m].legendKey="Legend 2";const d=new Legend({key:"Legend 1",legendFontSize:NaN,legendTitle:"Legend 1 Series",legendPlacement:LegendPlacement.Inside,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black}),s=new Legend({key:"Legend 2",legendFontSize:NaN,legendTitle:"Legend 2 Series",legendPlacement:LegendPlacement.Outside,legendBackground:OxyColor.fromAColor(200,OxyColors.White),legendBorder:OxyColors.Black});return a.legends.push(d),a.legends.push(s),a},legendFullWidth=()=>{const a=createModel$1(21),d=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.TopCenter,legendOrientation:LegendOrientation.Horizontal,allowUseFullExtent:!0}),s=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,allowUseFullExtent:!0});return a.plotMargins=new OxyThickness(50),a.legends.push(d),a.legends.push(s),a.invalidatePlot(!0),a},legendFullHeight=()=>{const a=createModel$1(21),d=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.LeftTop,legendOrientation:LegendOrientation.Vertical,allowUseFullExtent:!0}),s=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.RightTop,legendOrientation:LegendOrientation.Vertical,allowUseFullExtent:!0});return a.legends.push(d),a.legends.push(s),a},legendShowingInvisibleSeries=()=>createModelWithInvisibleSeries(!0),legendNotShowingInvisibleSeries=()=>createModelWithInvisibleSeries(!1),createModelWithInvisibleSeries=a=>{const d=createModel$1(),s=new Legend({showInvisibleSeries:a});d.legends.push(s);for(let m=0;m<d.series.length;m+=2)d.series[m].isVisible=!1;return d.invalidatePlot(!1),d},category$y="Legends",LegendExamples={category:category$y,tags:["Legends"],examples:[{title:"Legend at right top inside",example:{model:legendRightTopInside}},{title:"Legend at right top outside",example:{model:legendRightTopOutside}},{title:"Legend at BottomLeft outside horizontal",example:{model:legendBottomLeftHorizontal}},{title:"Legend at TopLeft outside vertical",example:{model:legendTopLeftVertical}},{title:"Legend at default position",example:{model:legendDefault}},{title:"LegendItemSpacing (only for horizontal orientation)",example:{model:legendItemSpacing}},{title:"LegendLineSpacing (vertical legend orientation)",example:{model:legendLineSpacingVertical}},{title:"LegendLineSpacing (horizontal legend orientation)",example:{model:legendLineSpacingHorizontal}},{title:"LegendColumnSpacing (only for vertical orientation)",example:{model:legendColumnSpacing}},{title:"Hidden Legend",example:{model:legendHidden}},{title:"Grayscale colors",example:{model:legendGrayscale}},{title:"Clipped legends",example:{model:clippedLegends}},{title:"Clipped legends RightTop outside with MaxWidth",example:{model:clippedLegendsOutside}},{title:"Clipped legends TopRight outside",example:{model:clippedLegendsRight}},{title:"LegendMaxHeight (vertical legend orientation)",example:{model:legendBottomCenterOutsideWithMaxHeight}},{title:"Legend with DefaultFontSize",example:{model:legendDefaultFontSize}},{title:"Legend with grouped Series Horizontal",example:{model:singleLegendWithSeriesGroupsHorizontal}},{title:"Legend with grouped Series",example:{model:singleLegendWithSeriesGroups}},{title:"Legend with grouped Series and MaxHeight",example:{model:singleLegendWithSeriesGroupsMaxHeight}},{title:"Multiple Legends with grouped Series",example:{model:multipleLegendsWithSeriesGroups}},{title:"Full width legend",example:{model:legendFullWidth}},{title:"Full height legend",example:{model:legendFullHeight}},{title:"Legend showing invisible series",example:{model:legendShowingInvisibleSeries}},{title:"Legend not showing invisible series",example:{model:legendNotShowingInvisibleSeries}}]};function mouseEvents(){const a=new PlotModel({title:"Mouse events",subtitle:"Left click and drag"}),d=new LinearAxis({position:AxisPosition.Left,minimum:-1,maximum:1}),s=new LinearAxis({position:AxisPosition.Bottom,minimum:-1,maximum:1});a.axes.push(d),a.axes.push(s);let m;return a.mouseDown=(f,x)=>{x.changedButton===OxyMouseButton.Left&&(m=new LineSeries({title:"LineSeries"+(a.series.length+1),markerType:MarkerType.None,strokeThickness:2}),m.points.push(s.inverseTransformPoint(x.position.x,x.position.y,d)),a.series.push(m),a.invalidatePlot(!1),x.handled=!0)},a.mouseMove=(f,x)=>{m!==void 0&&(m.points.push(s.inverseTransformPoint(x.position.x,x.position.y,d)),a.invalidatePlot(!1),x.handled=!0)},a.mouseUp=(f,x)=>{m!==void 0&&(m=void 0,x.handled=!0)},a}function mouseDownEventHitTestResult(){const a=new PlotModel({title:"MouseDown HitTestResult",subtitle:"Reports the index of the nearest point."}),d=new LineSeries;d.points.push(new DataPoint(0,10)),d.points.push(new DataPoint(10,40)),d.points.push(new DataPoint(40,20)),d.points.push(new DataPoint(60,30)),a.series.push(d),d.mouseDown=(m,f)=>{a.subtitle="Index of nearest point in LineSeries: "+Math.round(f.hitTestResult.index||0),a.invalidatePlot(!1)};const s=new ScatterSeries;return s.points.push({x:0,y:15}),s.points.push({x:10,y:45}),s.points.push({x:40,y:25}),s.points.push({x:60,y:35}),a.series.push(s),s.mouseDown=(m,f)=>{a.subtitle="Index of nearest point in ScatterSeries: "+Math.round(f.hitTestResult.index||0),a.invalidatePlot(!1)},a}function mouseDownEvent(){const a=new PlotModel({title:"MouseDown",subtitle:"Left click to edit or add points."}),d=new LineSeries({title:"LineSeries1",markerType:MarkerType.Circle,markerSize:6,strokeThickness:1.5});d.points.push(new DataPoint(0,10)),d.points.push(new DataPoint(10,40)),d.points.push(new DataPoint(40,20)),d.points.push(new DataPoint(60,30)),a.series.push(d);let s=-1;return d.mouseDown=(m,f)=>{if(f.changedButton===OxyMouseButton.Left){const x=Math.round(f.hitTestResult.index);if(d.transform(d.points[x]).minus(f.position).length<10)s=x;else{const w=f.hitTestResult.index+1;d.points.splice(w,0,d.inverseTransform(f.position)),s=w}d.lineStyle=LineStyle.DashDot,a.invalidatePlot(!1),f.handled=!0}},d.mouseMove=(m,f)=>{s>=0&&(d.points[s]=d.inverseTransform(f.position),a.invalidatePlot(!1),f.handled=!0)},d.mouseUp=(m,f)=>{s=-1,d.lineStyle=LineStyle.Solid,a.invalidatePlot(!1),f.handled=!0},a.mouseDown=(m,f)=>{f.changedButton===OxyMouseButton.Left&&(d.points.push(d.inverseTransform(f.position)),s=d.points.length-1,a.invalidatePlot(!1),f.handled=!0)},a}function addAnnotations(){const a=new PlotModel({title:"Add arrow annotations",subtitle:"Press and drag the left mouse button"}),d=new LinearAxis({position:AxisPosition.Bottom}),s=new LinearAxis({position:AxisPosition.Left});a.axes.push(d),a.axes.push(s),a.series.push(new FunctionSeries({f:f=>Math.sin(f/4)*Math.acos(Math.sin(f)),x0:0,x1:Math.PI*8,n:2e3,title:"sin(x/4)*acos(sin(x))"}));let m=null;return a.mouseDown=(f,x)=>{x.changedButton===OxyMouseButton.Left&&(m=new ArrowAnnotation,m.startPoint=m.endPoint=d.inverseTransformPoint(x.position.x,x.position.y,s),a.annotations.push(m),x.handled=!0)},a.mouseMove=(f,x)=>{m&&(m.endPoint=d.inverseTransformPoint(x.position.x,x.position.y,s),m.text=`Y = ${m.endPoint.y.toFixed(3)}`,a.invalidatePlot(!1),x.handled=!0)},a.mouseUp=(f,x)=>{m&&(m=null,x.handled=!0)},a}function lineAnnotation(){const a=new PlotModel({title:"LineAnnotation",subtitle:"Click and drag the annotation line."});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:80})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const d=new LineAnnotation({type:LineAnnotationType.Vertical,x:4});return d.mouseDown=(s,m)=>{m.changedButton===OxyMouseButton.Left&&(d.strokeThickness*=5,a.invalidatePlot(!1),m.handled=!0)},d.mouseMove=(s,m)=>{d.x=d.inverseTransform(m.position).x,a.invalidatePlot(!1),m.handled=!0},d.mouseUp=(s,m)=>{d.strokeThickness/=5,a.invalidatePlot(!1),m.handled=!0},a.annotations.push(d),a}function arrowAnnotation(){const a=new PlotModel({title:"ArrowAnnotation",subtitle:"Click and drag the arrow."});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-40,maximum:60})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const d=new ArrowAnnotation({startPoint:new DataPoint(8,4),endPoint:new DataPoint(0,0),text:"Move me!"});let s=DataPoint.Undefined,m=!1,f=!1,x=OxyColors.White;return d.mouseDown=(g,w)=>{w.changedButton===OxyMouseButton.Left&&(s=d.inverseTransform(w.position),m=w.hitTestResult.index!==2,f=w.hitTestResult.index!==1,x=d.color,d.color=OxyColors.Red,a.invalidatePlot(!1),w.handled=!0)},d.mouseMove=(g,w)=>{const C=d.inverseTransform(w.position),A=C.x-s.x,_=C.y-s.y;m&&(d.startPoint=new DataPoint(d.startPoint.x+A,d.startPoint.y+_)),f&&(d.endPoint=new DataPoint(d.endPoint.x+A,d.endPoint.y+_)),s=C,a.invalidatePlot(!1),w.handled=!0},d.mouseUp=(g,w)=>{d.color=x},a.annotations.push(d),a}function polygonAnnotation(){const a=new PlotModel({title:"PolygonAnnotation",subtitle:"Click the polygon"});a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-20,maximum:20})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20}));const d=new PolygonAnnotation({text:"Polygon 1"});d.points.push(new DataPoint(4,-2),new DataPoint(8,-4),new DataPoint(17,7),new DataPoint(5,8),new DataPoint(2,5));let s=1;return d.mouseDown=(m,f)=>{f.changedButton===OxyMouseButton.Left&&(d.text="Hit # "+s++,a.invalidatePlot(!1),f.handled=!0)},a.annotations.push(d),a}function textAnnotation(){const a=new PlotModel({title:"TextAnnotation",subtitle:"Click the text"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const d=new TextAnnotation({textPosition:new DataPoint(4,-2),text:"Click here"});return d.mouseDown=(s,m)=>{console.log("mouseDown"),m.changedButton===OxyMouseButton.Left&&(d.background=d.background.isUndefined()?OxyColors.LightGreen:OxyColors.Undefined,a.invalidatePlot(!1),m.handled=!0)},a.annotations.push(d),a}async function imageAnnotation(){const a=new PlotModel({title:"ImageAnnotation",subtitle:"Click the image"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-20,maximum:20})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10}));const d=window.oxyPlotImg;if(!d)throw new Error("window.oxyPlotImg not set");const s=await getImageService().load(d),m=new ImageAnnotation({imageSource:s,x:new PlotLength(4,PlotLengthUnit.Data),y:new PlotLength(2,PlotLengthUnit.Data),horizontalAlignment:HorizontalAlignment.Right});return a.annotations.push(m),m.mouseDown=(f,x)=>{x.changedButton===OxyMouseButton.Left&&(m.horizontalAlignment=m.horizontalAlignment===HorizontalAlignment.Right?HorizontalAlignment.Left:HorizontalAlignment.Right,a.invalidatePlot(!1),x.handled=!0)},a}function addSeriesByMouseDownEvent(){const a=new PlotModel({title:"MouseDown",subtitle:"Left click to add series."}),d=new Legend({legendSymbolLength:40});return a.legends.push(d),a.mouseDown=(s,m)=>{if(m.changedButton===OxyMouseButton.Left){const f=a.series.length+1;a.series.push(new FunctionSeries({f:x=>Math.sin(f*x),x0:0,x1:10,n:1e3})),a.invalidatePlot(!0),m.handled=!0}},a}function selectRange(){const a=new PlotModel({title:"Select range",subtitle:"Left click and drag to select a range."});a.series.push(new FunctionSeries({f:Math.cos,x0:0,x1:40,dx:.1}));const d=new RectangleAnnotation({fill:OxyColor.fromAColor(120,OxyColors.SkyBlue),minimumX:0,maximumX:0});a.annotations.push(d);let s=Number.NaN;return a.mouseDown=(m,f)=>{f.changedButton===OxyMouseButton.Left&&(s=d.inverseTransform(f.position).x,d.minimumX=s,d.maximumX=s,a.invalidatePlot(!0),f.handled=!0)},a.mouseMove=(m,f)=>{if(!Number.isNaN(s)){const x=d.inverseTransform(f.position).x;d.minimumX=Math.min(x,s),d.maximumX=Math.max(x,s),d.text=` cos(x) dx =  ${Math.sin(d.maximumX)-round(Math.sin(d.minimumX),2)}`,a.subtitle=`Integrating from ${d.minimumX.toFixed(2)} to ${d.maximumX.toFixed(2)}`,a.invalidatePlot(!0),f.handled=!0}},a.mouseUp=(m,f)=>{s=Number.NaN},a}function hover(){const a=new PlotModel({title:"Hover"});let d=null;return a.mouseEnter=(s,m)=>{a.subtitle="The mouse entered",d=new LineSeries,a.series.push(d),a.invalidatePlot(!1),m.handled=!0},a.mouseMove=(s,m)=>{d&&d.xAxis&&(d.points.push(d.inverseTransform(m.position)),a.invalidatePlot(!1))},a.mouseLeave=(s,m)=>{a.subtitle="The mouse left",a.invalidatePlot(!1),m.handled=!0},a}function touch(){const a=new PlotModel({title:"Touch"}),d=new LineSeries;return a.series.push(d),a.touchStarted=(s,m)=>{a.subtitle="The touch gesture started",a.invalidatePlot(!1),m.handled=!0},a.touchDelta=(s,m)=>{d.points.push(d.inverseTransform(m.position)),a.invalidatePlot(!1)},a.touchCompleted=(s,m)=>{a.subtitle="The touch gesture completed",a.invalidatePlot(!1),m.handled=!0},a}function touchSeries(){const a=new PlotModel({title:"Touch on a LineSeries"}),d=new LineSeries;return d.points.push(new DataPoint(0,0)),d.points.push(new DataPoint(10,10)),a.series.push(d),d.touchStarted=(s,m)=>{a.subtitle="The touch gesture started on the LineSeries",a.invalidatePlot(!1),m.handled=!0},d.touchDelta=(s,m)=>{d.points.push(d.inverseTransform(m.position)),a.invalidatePlot(!1)},d.touchCompleted=(s,m)=>{a.subtitle="The touch gesture completed",a.invalidatePlot(!1),m.handled=!0},a}function rectangleAnnotationClick(){const a=new PlotModel({title:"RectangleAnnotation click"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=new RectangleAnnotation({minimumX:10,maximumX:60,minimumY:10,maximumY:20});a.annotations.push(d);let s=0;return d.mouseDown=(m,f)=>{d.text="Clicked "+ ++s+" times.",a.invalidatePlot(!1)},a}function clickingOnAnAnnotation$1(){const a=new PlotModel({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=new RectangleAnnotation({fill:OxyColors.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});a.annotations.push(d);const s=new RectangleAnnotation({fill:OxyColors.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});a.annotations.push(s);const m=(f,x)=>{a.subtitle="You clicked "+f.text,a.invalidatePlot(!1)};return d.mouseDown=m,s.mouseDown=m,a}const category$x="Mouse Events",MouseEventExamples={category:category$x,examples:[{title:"PlotModel mouse events",example:{model:mouseEvents}},{title:"MouseDown event and HitTestResult",example:{model:mouseDownEventHitTestResult}},{title:"LineSeries and PlotModel MouseDown event",example:{model:mouseDownEvent}},{title:"Add arrow annotations",example:{model:addAnnotations}},{title:"LineAnnotation",example:{model:lineAnnotation}},{title:"ArrowAnnotation",example:{model:arrowAnnotation}},{title:"PolygonAnnotation",example:{model:polygonAnnotation}},{title:"TextAnnotation",example:{model:textAnnotation}},{title:"ImageAnnotation",example:{model:imageAnnotation}},{title:"Add Series",example:{model:addSeriesByMouseDownEvent}},{title:"Select range",example:{model:selectRange}},{title:"Hover",example:{model:hover}},{title:"Touch",example:{model:touch}},{title:"Touch on a LineSeries",example:{model:touchSeries}},{title:"RectangleAnnotation click",example:{model:rectangleAnnotationClick}},{title:"Clicking on an annotation",example:{model:clickingOnAnAnnotation$1}}]};function lineSeries1M(){const a=new PlotModel({title:"LineSeries, 1M points"}),d=new LineSeries;return addDataPoints(d.points,1e6),a.series.push(d),a}function lineSeries1MSpeed(){const a=new PlotModel({title:"LineSeries, 1M points"}),d=new LineSeries({edgeRenderingMode:EdgeRenderingMode.PreferSpeed});return addDataPoints(d.points,1e6),a.series.push(d),a}function lineSeries(){const a=new PlotModel({title:"LineSeries, 100k points"}),d=new LineSeries;return addDataPoints(d.points,1e5),a.series.push(d),a}function lineSeriesDashedLines(){const a=new PlotModel({title:"LineSeries, 100k points",subtitle:"LineStyle = Dash"}),d=new LineSeries({lineStyle:LineStyle.Dash});return addDataPoints(d.points,1e5),a.series.push(d),a}function lineSeries1WithMarkers(){const a=new PlotModel({title:"LineSeries, 100k points",subtitle:"MarkerType = Square"}),d=new LineSeries({markerType:MarkerType.Square});return addDataPoints(d.points,1e5),a.series.push(d),a}function lineSeries1WithMarkersLowRes(){const a=new PlotModel({title:"LineSeries, 100k points, markers, lower resolution",subtitle:"MarkerType = Square, MarkerResolution = 3"}),d=new LineSeries({markerType:MarkerType.Square,markerResolution:3});return addDataPoints(d.points,1e5),a.series.push(d),a}function lineSeriesRoundLineJoins(){const a=new PlotModel({title:"LineSeries, 100k points",subtitle:"LineJoin = Round"}),d=new LineSeries({lineJoin:LineJoin.Round});return addDataPoints(d.points,1e5),a.series.push(d),a}function lineSeriesItemsSourceList(){const a=new PlotModel({title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>"}),d=new LineSeries,s=[];return addDataPoints(s,1e5),d.itemsSource=s,a.series.push(d),a}function lineSeriesItemsSourceMapping(){const a=new PlotModel({title:"LineSeries, 100k points by ItemsSource and Mapping",subtitle:"Using the Mapping function"}),d=new LineSeries,s=[];addDataPoints(s,1e5);const m=s.map(f=>new OxyRect(f.x,f.y,0,0));return d.itemsSource=m,d.mapping=f=>new DataPoint(f.left,f.top),a.series.push(d),a}function lineSeriesItemsSourceReflection(){const a=new PlotModel({title:"LineSeries, 100k points, ItemsSource with reflection",subtitle:"DataFieldX and DataFieldY"}),d=new LineSeries,s=[];addDataPoints(s,1e5);const m=s.map(f=>new OxyRect(f.x,f.y,0,0));return d.itemsSource=m,d.dataFieldX="left",d.dataFieldY="top",a.series.push(d),a}function lineSeriesThick(){const a=new PlotModel({title:"LineSeries, 100k points (thick)",subtitle:"StrokeThickness = 10"}),d=new LineSeries({strokeThickness:10});return addDataPoints(d.points,1e5),a.series.push(d),a}function lineSeries2MiterLineJoins(){const a=new PlotModel({title:"LineSeries, 3k points, miter line joins",subtitle:"LineJoin = Miter"}),d=new LineSeries({lineJoin:LineJoin.Miter,strokeThickness:8});for(let s=0;s<3e3;s++)d.points.push(new DataPoint(s,s%2));return a.series.push(d),a}function lineSeries2RoundLineJoins(){const a=new PlotModel({title:"LineSeries, 3k points, round line joins",subtitle:"LineJoin = Round"}),d=new LineSeries({lineJoin:LineJoin.Round,strokeThickness:8});for(let s=0;s<3e3;s++)d.points.push(new DataPoint(s,s%2));return a.series.push(d),a}function lineSeries2BevelLineJoins(){const a=new PlotModel({title:"LineSeries, 3k points, bevel line joins",subtitle:"LineJoin = Bevel"}),d=new LineSeries({lineJoin:LineJoin.Bevel,strokeThickness:8});for(let s=0;s<3e3;s++)d.points.push(new DataPoint(s,s%2));return a.series.push(d),a}function scatterSeriesSquares(){const a=new PlotModel({title:"ScatterSeries (squares)"}),d=new ScatterSeries;return addScatterPoints(d.points,2e3),a.series.push(d),a}function scatterSeriesSquaresOutline(){const a=new PlotModel({title:"ScatterSeries (squares with outline)",subtitle:"MarkerStroke = Black"}),d=new ScatterSeries({markerStroke:OxyColors.Black});return addScatterPoints(d.points,2e3),a.series.push(d),a}function scatterSeriesSquaresOutlineOnly(){const a=new PlotModel({title:"ScatterSeries (squares without fill color)",subtitle:"MarkerFill = Transparent, MarkerStroke = Black"}),d=new ScatterSeries({markerFill:OxyColors.Transparent,markerStroke:OxyColors.Black});return addScatterPoints(d.points,2e3),a.series.push(d),a}function scatterSeriesItemsSourceReflection(){const a=new PlotModel({title:"ScatterSeries (by ItemsSource)",subtitle:"DataFieldX = 'X', DataFieldY = 'Y'"});return a.series.push(new ScatterSeries({itemsSource:getPoints(2e3),dataFieldX:"X",dataFieldY:"Y"})),a}function scatterSeriesCircles(){const a=new PlotModel({title:"ScatterSeries (circles)",subtitle:"MarkerType = Circle"}),d=new ScatterSeries({markerType:MarkerType.Circle});return addScatterPoints(d.points,2e3),a.series.push(d),a}function scatterSeriesCirclesOutline(){const a=new PlotModel({title:"ScatterSeries (circles with outline)",subtitle:"MarkerType = Circle, MarkerStroke = Black"}),d=new ScatterSeries({markerType:MarkerType.Circle,markerStroke:OxyColors.Black});return addScatterPoints(d.points,2e3),a.series.push(d),a}function scatterSeriesCrosses(){const a=new PlotModel({title:"ScatterSeries (cross)",subtitle:"MarkerType = Cross"}),d=new ScatterSeries({markerType:MarkerType.Cross,markerFill:OxyColors.Undefined,markerStroke:OxyColors.Black});return addScatterPoints(d.points,2e3),a.series.push(d),a}function linearAxisNoGridlines(){const a=new PlotModel({title:"LinearAxis (no gridlines)"});return a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1})),a}function linearAxisSolidGridlines(){const a=new PlotModel({title:"LinearAxis (solid gridlines)"});return a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Solid})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Solid})),a}function linearAxisDashedGridlines(){const a=new PlotModel({title:"LinearAxis (dashed gridlines)"});return a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dash})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dash})),a}function linearAxisDottedGridlines(){const a=new PlotModel({title:"LinearAxis (dotted gridlines)"});return a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dot})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:0,maximum:100,majorStep:1,minorStep:1,majorGridlineStyle:LineStyle.Dot})),a}function intOverflow10k(){return intOverflow(1e4)}function intOverflow50k(){return intOverflow(5e4)}function intOverflow100k(){return intOverflow(1e5)}function intOverflow(a){const d=new PlotModel({title:"int overflow",subtitle:`n = ${a}`}),s=new LineSeries;let m=0;for(let f=0;f<a;f++)s.points.push(new DataPoint(f,m+=f*f));return d.series.push(s),d}function getPoints(a){const d=[];return addDataPoints(d,a),d}function addDataPoints(a,d){for(let s=0;s<d;s++){const m=Math.PI*10*s/(d-1);a.push(new DataPoint(m*Math.cos(m),m*Math.sin(m)))}}function addScatterPoints(a,d){for(let s=0;s<d;s++){const m=Math.PI*10*s/(d-1);a.push({x:m*Math.cos(m),y:m*Math.sin(m)})}}const category$w="Performance",PerformanceExamples={category:category$w,examples:[{title:"LineSeries, 1M points",example:{model:lineSeries1M}},{title:"LineSeries, 1M points, EdgeRenderingMode==PreferSpeed",example:{model:lineSeries1MSpeed}},{title:"LineSeries, 100k points",example:{model:lineSeries}},{title:"LineSeries, 100k points (dashed line)",example:{model:lineSeriesDashedLines}},{title:"LineSeries, 100k points, markers",example:{model:lineSeries1WithMarkers}},{title:"LineSeries, 100k points, markers, lower resolution",example:{model:lineSeries1WithMarkersLowRes}},{title:"LineSeries, 100k points, round line joins",example:{model:lineSeriesRoundLineJoins}},{title:"LineSeries, 100k points by ItemsSource set to a List<DataPoint>",example:{model:lineSeriesItemsSourceList}},{title:"LineSeries, 100k points by ItemsSource and Mapping",example:{model:lineSeriesItemsSourceMapping}},{title:"LineSeries, 100k points by ItemsSource and reflection",example:{model:lineSeriesItemsSourceReflection}},{title:"LineSeries, 100k points (thick)",example:{model:lineSeriesThick}},{title:"LineSeries, 3k points, miter line joins",example:{model:lineSeries2MiterLineJoins}},{title:"LineSeries, 3k points, round line joins",example:{model:lineSeries2RoundLineJoins}},{title:"LineSeries, 3k points, bevel line joins",example:{model:lineSeries2BevelLineJoins}},{title:"ScatterSeries (squares)",example:{model:scatterSeriesSquares}},{title:"ScatterSeries (squares with outline)",example:{model:scatterSeriesSquaresOutline}},{title:"ScatterSeries (squares without fill color)",example:{model:scatterSeriesSquaresOutlineOnly}},{title:"ScatterSeries by ItemsSource and reflection",example:{model:scatterSeriesItemsSourceReflection}},{title:"ScatterSeries (circles)",example:{model:scatterSeriesCircles}},{title:"ScatterSeries (circles with outline)",example:{model:scatterSeriesCirclesOutline}},{title:"ScatterSeries (cross)",example:{model:scatterSeriesCrosses}},{title:"LinearAxis (no gridlines)",example:{model:linearAxisNoGridlines}},{title:"LinearAxis (solid gridlines)",example:{model:linearAxisSolidGridlines}},{title:"LinearAxis (dashed gridlines)",example:{model:linearAxisDashedGridlines}},{title:"LinearAxis (dotted gridlines)",example:{model:linearAxisDottedGridlines}},{title:"int overflow (10k)",example:{model:intOverflow10k}},{title:"int overflow (50k)",example:{model:intOverflow50k}},{title:"int overflow (100k)",example:{model:intOverflow100k}}]};function basicExample(){const a=new PlotModel({title:"Basic Controller example",subtitle:"Panning with left mouse button"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=new PlotController;return d.unbindAll(),ControllerExtensions.bindMouseDown(d,OxyMouseButton.Left,PlotCommands.panAt),{model:()=>a,controller:()=>d}}function hoverTracking(){const a=new PlotModel({title:"Show tracker without clicking"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a.series.push(FunctionSeries.fromFxFyN(s=>Math.cos(s)*5+Math.cos(s*50),s=>Math.sin(s)*5+Math.sin(s*50),0,Math.PI*2,2e4));const d=new PlotController;return ControllerExtensions.bindMouseEnter(d,PlotCommands.hoverPointsOnlyTrack),{model:()=>a,controller:()=>d}}function mouseHandlingExample(){const a=new PlotModel({title:"Mouse handling example"}),d=new ScatterSeries;a.series.push(d);const s=new DelegatePlotCommand((f,x,g)=>{g.handled=!0;const w=d.inverseTransform(g.position);d.points.push({x:w.x,y:w.y}),a.invalidatePlot(!0)}),m=new PlotController;return ControllerExtensions.bindMouseDown(m,OxyMouseButton.Left,s),{model:()=>a,controller:()=>m}}function clickingOnAnAnnotation(){const a=new PlotModel({title:"Clicking on an annotation",subtitle:"Click on the rectangles"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=new RectangleAnnotation({fill:OxyColors.Green,text:"RectangleAnnotation 1",minimumX:25,maximumX:75,minimumY:20,maximumY:40});a.annotations.push(d);const s=new RectangleAnnotation({fill:OxyColors.SkyBlue,text:"RectangleAnnotation 2",minimumX:25,maximumX:75,minimumY:60,maximumY:80});a.annotations.push(s);const m=(g,w)=>{a.subtitle="You clicked "+g.text,a.invalidatePlot(!1)};d.mouseDown=m,s.mouseDown=m;const f=new PlotController,x=new DelegatePlotCommand((g,w,C)=>{const A=new HitTestArguments(C.position,10),_=g.actualModel.hitTest(A).find(M=>M.element instanceof RectangleAnnotation);_&&(C.handled=!0,a.subtitle="You clicked "+_.element.text,a.invalidatePlot(!1))});return f.bindMouseDown(new OxyMouseDownGesture(OxyMouseButton.Left),x),{model:()=>a,controller:()=>f}}function preferringAnAxisForManipulation(){function a(m,f,x=1){const g=new ZoomStepManipulator(m,f.delta*.001*x,OxyModifierKeysExtensions.isControlDown(f));g.axisPreference=AxisPreference.X,g.started(f)}const d=new PlotModel({title:"Preferring an axis for manipulation",subtitle:"Mouse wheel over plot area prefers X axis"});d.axes.push(new LinearAxis({position:AxisPosition.Bottom})),d.axes.push(new LinearAxis({position:AxisPosition.Left})),d.series.push(FunctionSeries.fromDx(Math.cos,-7,7,.01));const s=new PlotController;return s.unbindAll(),ControllerExtensions.bindMouseWheel(s,new DelegatePlotCommand((m,f,x)=>a(m,x))),ControllerExtensions.bindMouseWheel(s,new DelegatePlotCommand((m,f,x)=>a(m,x,.1)),OxyModifierKeys.Control),{model:()=>d,controller:()=>s}}function showHideLegend(){const a=new PlotModel({title:"Show/Hide Legend",subtitle:"Click on the rectangles"}),d=3;for(let C=1;C<=d;C++){const A=new LineSeries({title:"Series "+C});a.series.push(A);for(let _=0;_<2*Math.PI;_+=.1)A.points.push(new DataPoint(_,Math.sin(_*C)/C+C))}const s=new Legend;a.legends.push(s);const m=new RectangleAnnotation({fill:OxyColors.Green,text:"Show Legend",minimumX:.5,maximumX:1.5,minimumY:.2,maximumY:.4});a.annotations.push(m);const f=new RectangleAnnotation({fill:OxyColors.SkyBlue,text:"Hide Legend",minimumX:.5,maximumX:1.5,minimumY:.6,maximumY:.8});a.annotations.push(f);const x=(C,A)=>{const _=C.text;_==="Show Legend"?a.isLegendVisible=!0:_==="Hide Legend"&&(a.isLegendVisible=!1),a.subtitle="You clicked "+C.text,a.invalidatePlot(!1)};m.mouseDown=x,f.mouseDown=x;const g=new PlotController,w=new DelegatePlotCommand((C,A,_)=>{const M=new HitTestArguments(_.position,10),P=C.actualModel.hitTest(M).find(D=>D.element instanceof RectangleAnnotation);P&&(_.handled=!0,a.subtitle="You clicked "+P.element.text,a.invalidatePlot(!1))});return g.bindMouseDown(new OxyMouseDownGesture(OxyMouseButton.Left),w),{model:()=>a,controller:()=>g}}const category$v="PlotController examples",PlotControllerExamples={category:category$v,examples:[{title:"Basic controller example",example:basicExample()},{title:"Show tracker without clicking",example:hoverTracking()},{title:"Mouse handling example",example:mouseHandlingExample()},{title:"Clicking on an annotation",example:clickingOnAnAnnotation()},{title:"Preferring an axis for manipulation",example:preferringAnAxisForManipulation()},{title:"Show/Hide Legend",example:showHideLegend()}]};function title(){const a=new PlotModel({title:"Title"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function titleAndSubtitle(){const a=new PlotModel({title:"Title",subtitle:"Subtitle"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function titleAndSubtitleWithSubSuperscript(){const a=new PlotModel({title:"Title with^{super}_{sub}script",subtitle:"Subtitle with^{super}_{sub}script"});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function titlePadding0(){const a=new PlotModel({title:"TitlePadding = 0",subtitle:"This controls the distance between the titles and the plot area. The default value is 6",titlePadding:0});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function titlePadding100(){const a=new PlotModel({title:"TitlePadding = 100",titlePadding:100});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function titlesCenteredWithinView(){const a=new PlotModel({title:"Title",subtitle:"Subtitle",titleHorizontalAlignment:TitleHorizontalAlignment.CenteredWithinView});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function titleClippingOff(){const a=new PlotModel({title:"This is a very long title to illustrate that title clipping is necessary, because currently it's not clipped.",clipTitle:!1});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function titleClipping60(){const a=new PlotModel({title:"This is a very long title, that shows that title clippling is working with crrently 60% of title area",titleClippingLength:.6});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function backgroundUndefined(){const a=new PlotModel({title:"Background = Undefined",background:OxyColors.Undefined});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function backgroundWhite50(){const a=new PlotModel({title:"Background = 50% White",background:OxyColor.fromAColor(128,OxyColors.White)});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function backgroundTransparent(){const a=new PlotModel({title:"Background = Transparent",background:OxyColors.Transparent});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function backgroundLightGray(){const a=new PlotModel({title:"Background = LightSkyBlue",background:OxyColors.LightSkyBlue});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function backgroundWhite(){const a=new PlotModel({title:"Background = White",background:OxyColors.White});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function backgroundBlack(){const a=new PlotModel({title:"Background = Black",background:OxyColors.Black,textColor:OxyColors.White,titleColor:OxyColors.White,plotAreaBorderColor:OxyColors.White});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,ticklineColor:OxyColors.White})),a.axes.push(new LinearAxis({position:AxisPosition.Left,ticklineColor:OxyColors.White})),a}function plotAreaBorderThickness2(){const a=new PlotModel({title:"PlotAreaBorderThickness = 2",plotAreaBorderThickness:new OxyThickness(2)});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function plotAreaBorderThickness1001(){const a=new PlotModel({title:"PlotAreaBorderThickness = (1,0,0,1)",plotAreaBorderThickness:new OxyThickness(1,0,0,1)});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function plotAreaBorderThickness4114(){const a=new PlotModel({title:"PlotAreaBorderThickness = (4,1,1,4)",plotAreaBorderThickness:new OxyThickness(4,1,1,4)});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function plotAreaBorderThickness0(){const a=new PlotModel({title:"PlotAreaBorderThickness = 0",plotAreaBorderThickness:new OxyThickness(0)});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a}function plotAreaBorderThickness0AxisLineThickness1(){const a=new PlotModel({title:"PlotAreaBorderThickness = 0",subtitle:"AxislineThickness = 1, AxislineColor = OxyColors.Blue, AxislineStyle = LineStyle.Solid",plotAreaBorderThickness:new OxyThickness(0)});return a.axes.push(new LinearAxis({position:AxisPosition.Bottom,axislineThickness:1,axislineColor:OxyColors.Blue,axislineStyle:LineStyle.Solid})),a.axes.push(new LinearAxis({position:AxisPosition.Left,axislineThickness:1,axislineColor:OxyColors.Blue,axislineStyle:LineStyle.Solid})),a}function invalidAxisKey(){const a=new PlotModel;return a.axes.push(new LinearAxis),a.series.push(new LineSeries({xAxisKey:"invalidKey"})),a}function exceptionClipping(){const a=new PlotModel,d=new DelegateAnnotation(s=>{throw s.pushClip(new OxyRect(50,50,50,50)),new Error("This Exception should be completely visible and not clipped by the previously pushed clipping rectangle.")});return a.annotations.push(d),a}function unbalancedClippingPush(){const a=new PlotModel,d=new DelegateAnnotation(async s=>{s.pushClip(new OxyRect(50,50,50,50))});return a.annotations.push(d),a}function unbalancedClippingPop(){const a=new PlotModel,d=new DelegateAnnotation(async s=>{s.popClip()});return a.annotations.push(d),a}const category$u="PlotModel examples",PlotModelExamples={category:category$u,examples:[{title:"Title",example:{model:title}},{title:"Title and Subtitle",example:{model:titleAndSubtitle}},{title:"Sub- and superscript in titles",example:{model:titleAndSubtitleWithSubSuperscript}},{title:"TitlePadding = 0",example:{model:titlePadding0}},{title:"TitlePadding = 100",example:{model:titlePadding100}},{title:"TitleHorizontalAlignment = CenteredWithinView",example:{model:titlesCenteredWithinView}},{title:"TitleClippingOff",example:{model:titleClippingOff}},{title:"TitleClipping60",example:{model:titleClipping60}},{title:"Background = Undefined (default)",example:{model:backgroundUndefined}},{title:"Background = 50% White",example:{model:backgroundWhite50}},{title:"Background = Transparent",example:{model:backgroundTransparent}},{title:"Background = LightSkyBlue",example:{model:backgroundLightGray}},{title:"Background = White",example:{model:backgroundWhite}},{title:"Background = Black",example:{model:backgroundBlack}},{title:"PlotAreaBorderThickness = 2",example:{model:plotAreaBorderThickness2}},{title:"PlotAreaBorderThickness = (1,0,0,1)",example:{model:plotAreaBorderThickness1001}},{title:"PlotAreaBorderThickness = (4,1,1,4)",example:{model:plotAreaBorderThickness4114}},{title:"PlotAreaBorderThickness = 0",example:{model:plotAreaBorderThickness0}},{title:"PlotAreaBorderThickness / AxisLine",example:{model:plotAreaBorderThickness0AxisLineThickness1}},{title:"Exception handling (invalid XAxisKey)",example:{model:invalidAxisKey}},{title:"Exception handling (with clipping)",example:{model:exceptionClipping}},{title:"Unbalanced clipping (push)",example:{model:unbalancedClippingPush}},{title:"Unbalanced clipping (pop)",example:{model:unbalancedClippingPop}}]};function drawTextColors(){const a=new PlotModel,d="Arial",s=32,m=FontWeights.Bold,f=s*1.6,x=20;let g=20-f;return a.annotations.push(new DelegateAnnotation(async w=>{await w.drawText(new ScreenPoint(x,g+=f),"Black",OxyColors.Black,d,s,m),await w.drawText(new ScreenPoint(x,g+=f),"Red",OxyColors.Red,d,s,m),await w.drawText(new ScreenPoint(x,g+=f),"Green",OxyColors.Green,d,s,m),await w.drawText(new ScreenPoint(x,g+=f),"Blue",OxyColors.Blue,d,s,m),await RenderingExtensions.fillRectangle(w,new OxyRect(x,g+f+15,200,10),OxyColors.Black,EdgeRenderingMode.Adaptive),await w.drawText(new ScreenPoint(x,g+f),"Yellow 50%",OxyColor.fromAColor(128,OxyColors.Yellow),d,s,m)})),a}function drawTextFonts(){const a=new PlotModel,d=20,s=d*1.6,m=20;let f=20-s;return a.annotations.push(new DelegateAnnotation(async x=>{await x.drawText(new ScreenPoint(m,f+=s),"Default font",OxyColors.Black,void 0,d),await x.drawText(new ScreenPoint(m,f+=s),"Helvetica",OxyColors.Black,"Helvetica",d),await x.drawText(new ScreenPoint(m,f+=s),"Arial",OxyColors.Black,"Arial",d),await x.drawText(new ScreenPoint(m,f+=s),"Courier",OxyColors.Black,"Courier",d),await x.drawText(new ScreenPoint(m,f+=s),"Courier New",OxyColors.Black,"Courier New",d),await x.drawText(new ScreenPoint(m,f+=s),"Times",OxyColors.Black,"Times",d),await x.drawText(new ScreenPoint(m,f+s),"Times New Roman",OxyColors.Black,"Times New Roman",d)})),a}function drawTextFontSizes(){const a=new PlotModel,d=20;let s=20;return a.annotations.push(new DelegateAnnotation(async m=>{for(const f of[10,16,24,36,48])await m.drawText(new ScreenPoint(d,s),`${f}pt`,OxyColors.Black,"Arial",f),await m.drawText(new ScreenPoint(d+200,s),`${f}pt`,OxyColors.Black,"Arial",f,FontWeights.Bold),s+=f*1.6})),a}function drawTextRotation(){const a=new PlotModel;return a.annotations.push(new DelegateAnnotation(async d=>{const s=new ScreenPoint(200,200);await RenderingExtensions.fillCircle(d,s,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let m=0;m<360;m+=45)await d.drawText(s,`Rotation ${m}`,OxyColors.Black,void 0,20,void 0,m)})),a}function drawTextAlignment(){const a=new PlotModel,d=20;return a.annotations.push(new DelegateAnnotation(async s=>{for(let m=HorizontalAlignment.Left;m<=HorizontalAlignment.Right;m++)for(let f=VerticalAlignment.Top;f<=VerticalAlignment.Bottom;f++){const x=new ScreenPoint((m+1)*200+20,(f+1)*d*3+20);await RenderingExtensions.fillCircle(s,x,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);const g=getEnumName(HorizontalAlignment,m),w=getEnumName(VerticalAlignment,f);await s.drawText(x,`${g}-${w}`,OxyColors.Black,void 0,d,void 0,0,m,f)}})),a}function drawTextMultiLineAlignment(){const a=new PlotModel,d=20;return a.annotations.push(new DelegateAnnotation(async s=>{for(let m=HorizontalAlignment.Left;m<=HorizontalAlignment.Right;m++){const f=getEnumName(HorizontalAlignment,m);for(let x=VerticalAlignment.Top;x<=VerticalAlignment.Bottom;x++){const g=getEnumName(VerticalAlignment,x),w=(m+1)*200+20,C=(x+1)*d*6+20,A=new ScreenPoint(w,C);await RenderingExtensions.fillCircle(s,A,3,OxyColors.Blue,EdgeRenderingMode.Adaptive),await s.drawText(A,`${f}
${g}`,OxyColors.Black,void 0,d,void 0,0,m,x)}}})),a}function mathTextRotation(){const a=new PlotModel,d="Arial",s=24,m=FontWeights.Normal;return a.annotations.push(new DelegateAnnotation(async f=>{const x=new ScreenPoint(200,200),g=new ScreenPoint(400,200);await RenderingExtensions.fillCircle(f,x,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let w=0;w<360;w+=45){const C="     A_{2}^{3}B";await MathRenderingExtensions.drawMathText(f,x,C,OxyColors.Black,d,s,m,w,HorizontalAlignment.Left,VerticalAlignment.Middle);const A=await MathRenderingExtensions.measureMathText(f,C,d,s,m),_=OxySizeExtensions.getPolygon(A,x,w,HorizontalAlignment.Left,VerticalAlignment.Middle);await f.drawPolygon(_,OxyColors.Undefined,OxyColors.Blue,1,EdgeRenderingMode.Adaptive);const M="     A B";await f.drawText(g,M,OxyColors.Red,d,s,m,w,HorizontalAlignment.Left,VerticalAlignment.Middle);const P=f.measureText(M,d,s,m),D=OxySizeExtensions.getPolygon(P,g,w,HorizontalAlignment.Left,VerticalAlignment.Middle);await f.drawPolygon(D,OxyColors.Undefined,OxyColors.Blue,1,EdgeRenderingMode.Adaptive)}})),a}function drawMathTextAlignment(){const a="A_{2}^{3}B",d=new PlotModel,s="Arial",m=20,f=FontWeights.Normal;return d.annotations.push(new DelegateAnnotation(async x=>{for(let g=HorizontalAlignment.Left;g<=HorizontalAlignment.Right;g++)for(let w=VerticalAlignment.Top;w<=VerticalAlignment.Bottom;w++){const C=new ScreenPoint((g+1)*200+20,(w+1)*m*3+20);await RenderingExtensions.fillCircle(x,C,3,OxyColors.Blue,EdgeRenderingMode.Adaptive),await MathRenderingExtensions.drawMathText(x,C,a,OxyColors.Black,s,m,f,0,g,w)}})),d}function drawTextAlignmentRotation(){const a=new PlotModel;return a.annotations.push(new DelegateAnnotation(async d=>{for(let s=HorizontalAlignment.Left;s<=HorizontalAlignment.Right;s++)for(let m=VerticalAlignment.Top;m<=VerticalAlignment.Bottom;m++){const f=(s+2)*130,x=(m+2)*130,g=new ScreenPoint(f,x);await RenderingExtensions.fillCircle(d,g,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let w=0;w<360;w+=90)await d.drawText(g,`R${w.toString().padStart(3,"0")}`,OxyColors.Black,void 0,20,void 0,w,s,m)}})),a}function drawMultilineTextAlignmentRotation(){const a=new PlotModel;return a.annotations.push(new DelegateAnnotation(async d=>{for(let s=HorizontalAlignment.Left;s<=HorizontalAlignment.Right;s++){const m=getEnumName(HorizontalAlignment,s);for(let f=VerticalAlignment.Top;f<=VerticalAlignment.Bottom;f++){const x=getEnumName(VerticalAlignment,f),g=(s+2)*170,w=(f+2)*170,C=new ScreenPoint(g,w);await RenderingExtensions.fillCircle(d,C,3,OxyColors.Blue,EdgeRenderingMode.Adaptive);for(let A=0;A<360;A+=90)await d.drawText(C,`R${A.toString().padStart(3,"0")}
${m}
${x}`,OxyColors.Black,void 0,20,void 0,A,s,f)}}})),a}function drawTextMaxSize(){const a=new PlotModel,d="Arial",s=32,m=FontWeights.Bold,f=s*1.6,x=20,g=200;let w=20;const C=["iii","jjj","OxyPlot","Bottom","100","KML"];return a.annotations.push(new DelegateAnnotation(async A=>{for(const _ of C){const M=A.measureText(_,d,s,m),P=new ScreenPoint(x,w);await A.drawText(P,_,OxyColors.Black,d,s,m,void 0,void 0,void 0,M);const D=new OxyRect(P.x,P.y,M.width,M.height);await A.drawRectangle(D,OxyColors.Undefined,OxyColors.Black,1,EdgeRenderingMode.Adaptive);const E=new ScreenPoint(g,w),I=new OxySize(M.width/2,M.height/2);await A.drawText(E,_,OxyColors.Black,d,s,m,void 0,void 0,void 0,I);const B=new OxyRect(E.x,E.y,I.width,I.height);await A.drawRectangle(B,OxyColors.Undefined,OxyColors.Black,1,EdgeRenderingMode.Adaptive),w+=f}})),a}function measureText(){const a=new PlotModel,d="Arial",s=["OxyPlot","MMM","III","jikq","gh","123","!#$&"],m=[10,20,40,60];return a.annotations.push(new DelegateAnnotation(async f=>{let x=5;for(const g of m){let w=5,C=0;for(const A of s){const _=f.measureText(A,d,g,FontWeights.Normal);C=Math.max(C,_.width),await f.drawRectangle(new OxyRect(x,w,_.width,_.height),OxyColors.LightYellow,OxyColors.Black,1,EdgeRenderingMode.Adaptive),await f.drawText(new ScreenPoint(x,w),A,OxyColors.Black,d,g),w+=_.height+20}x+=C+20}})),a}const clipping=()=>{const a=new PlotModel;return a.annotations.push(new DelegateAnnotation(async d=>{const s=async L=>{const z=new OxyPen(OxyColors.Black,2,LineStyle.Dash);await RenderingExtensions.drawLine(d,L.left,L.top,L.right,L.top,z,EdgeRenderingMode.Automatic),await RenderingExtensions.drawLine(d,L.right,L.top,L.right,L.bottom,z,EdgeRenderingMode.Automatic),await RenderingExtensions.drawLine(d,L.right,L.bottom,L.left,L.bottom,z,EdgeRenderingMode.Automatic),await RenderingExtensions.drawLine(d,L.left,L.bottom,L.left,L.top,z,EdgeRenderingMode.Automatic)};let m=20;const f=60,x=40,g=20,w=20,C=200;let A=OxyRect.Empty;const _=async L=>{await RenderingExtensions.drawCircle2(d,L,x*.58,OxyColors.CornflowerBlue,OxyColors.Undefined,0,EdgeRenderingMode.Automatic)},M=async L=>{const z=new ScreenPoint(g+x+w+C,m);await d.drawText(z,L,OxyColors.Black,void 0,12,void 0,void 0,void 0,VerticalAlignment.Middle)},P=async L=>{const z=new ScreenPoint(g+x+w,m);await d.drawText(z,L,OxyColors.Black,void 0,12,void 0,void 0,void 0,VerticalAlignment.Middle)},D=async(L,z)=>{await d.drawText(new ScreenPoint(z,15),L,OxyColors.Black,void 0,12,700)},E=()=>{m+=f,A=new OxyRect(g,m-x/2,x,x)};await D("Actual",g),await D("Test Case",g+x+w),await D("Expected",g+x+w+C),E(),d.pushClip(A),d.popClip(),await _(A.center),await P(`1. Push clipping rectangle
2. Pop clipping rectangle
3. Draw circle`),await M("The circle should be fully drawn."),E(),d.pushClip(A),await _(A.center),d.popClip(),await s(A),await P(`1. Push clipping rectangle
2. Draw Circle`),await M("The circle should be clipped."),E();let I=A.deflate(new OxyThickness(A.height*.25));d.pushClip(A),d.pushClip(I),await _(A.center),d.popClip(),d.popClip(),await s(A),await s(I),await P(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await M("The circle should be clipped to the small clipping rectangle."),E(),I=A.deflate(new OxyThickness(A.height*.25)),d.pushClip(I),d.pushClip(A),await _(A.center),d.popClip(),d.popClip(),await s(A),await s(I),await P(`1. Push small clipping rectangle
2. Push large clipping rectangle
3. Draw Circle`),await M("The circle should be clipped to the small clipping rectangle."),E(),I=A.offset(A.width/2,A.height/2).deflate(new OxyThickness(A.height*.25)),d.pushClip(A),d.pushClip(I),await _(A.center),d.popClip(),d.popClip(),await s(A),await s(I),await P(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Draw Circle`),await M("The circle should be clipped to the intersection of the clipping rectangles."),E(),I=A.offset(A.width/2,A.height/2).deflate(new OxyThickness(A.height*.25)),d.pushClip(A),d.pushClip(I),d.popClip(),await _(A.center),d.popClip(),await s(A),await s(I),await P(`1. Push large clipping rectangle
2. Push small clipping rectangle
3. Pop small clipping rectangle
4. Draw Circle`),await M("The circle should be clipped to the large clipping rectangle."),E();const B=A.offset(A.width/3,A.height/3).deflate(new OxyThickness(A.height*.25)),F=A.offset(-A.width/3,-A.height/3).deflate(new OxyThickness(A.height*.25));d.pushClip(B),d.pushClip(F),await _(A.center),d.popClip(),d.popClip(),await s(B),await s(F),await P(`1. Push clipping rectangle
2. Push second clipping rectangle
3. Draw Circle`),await M("The circle should not be drawn at all."),E();const R=RenderingExtensions.autoResetClip(d,A);await d.drawText(A.center,"OxyPlot",OxyColors.CornflowerBlue,void 0,15,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle),R.dispose(),await s(A),await P(`1. Push clipping rectangle
2. Draw Text`),await M("The text should be clipped.")})),a},GRID_SIZE=40,TILE_SIZE=30,THICKNESS_STEPS=10,THICKNESS_STEP=.5,OFFSET_LEFT=200,OFFSET_TOP=20,FILL_COLOR=OxyColors.LightBlue,rectangles=()=>{const a=new PlotModel;return a.annotations.push(new DelegateAnnotation(async d=>{for(let m=0;m<THICKNESS_STEPS;m++){const f=OFFSET_LEFT+m*GRID_SIZE+TILE_SIZE/2,x=m*THICKNESS_STEP;await d.drawText(new ScreenPoint(f,OFFSET_TOP/2),x.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const s=getEnumKeys(EdgeRenderingMode);for(const m of s){const f=OFFSET_TOP+m*GRID_SIZE;await d.drawText(new ScreenPoint(10,f+10),EdgeRenderingMode[m],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let x=0;x<THICKNESS_STEPS;x++){const g=OFFSET_LEFT+x*GRID_SIZE,w=new OxyRect(g,f,TILE_SIZE,TILE_SIZE),C=x*THICKNESS_STEP;await d.drawRectangle(w,FILL_COLOR,OxyColors.Black,C,m)}}})),a},lines=()=>{const a=new PlotModel;return a.annotations.push(new DelegateAnnotation(async d=>{for(let m=0;m<THICKNESS_STEPS;m++){const f=OFFSET_LEFT+m*GRID_SIZE+TILE_SIZE/2,x=m*THICKNESS_STEP;await d.drawText(new ScreenPoint(f,OFFSET_TOP/2),x.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const s=getEnumKeys(EdgeRenderingMode);for(const m of s){const f=OFFSET_TOP+m*GRID_SIZE;await d.drawText(new ScreenPoint(10,f+10),EdgeRenderingMode[m],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let x=0;x<THICKNESS_STEPS;x++){const g=OFFSET_LEFT+x*GRID_SIZE,w=new ScreenPoint(g,f),C=new ScreenPoint(g,f+TILE_SIZE),A=new ScreenPoint(g+TILE_SIZE,f),_=new ScreenPoint(g+TILE_SIZE,f+TILE_SIZE),M=new ScreenPoint(g,f+TILE_SIZE/2),P=x*THICKNESS_STEP;await d.drawLine([C,w,A],OxyColors.Black,P,m),await d.drawLine([M,_,w],OxyColors.Black,P,m,void 0,LineJoin.Bevel)}}})),a},polygons=()=>{const a=new PlotModel;return a.annotations.push(new DelegateAnnotation(async d=>{for(let m=0;m<THICKNESS_STEPS;m++){const f=OFFSET_LEFT+m*GRID_SIZE+TILE_SIZE/2,x=m*THICKNESS_STEP;await d.drawText(new ScreenPoint(f,OFFSET_TOP/2),x.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const s=getEnumKeys(EdgeRenderingMode);for(const m of s){const f=OFFSET_TOP+m*GRID_SIZE;await d.drawText(new ScreenPoint(10,f+10),EdgeRenderingMode[m],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let x=0;x<THICKNESS_STEPS;x++){const g=OFFSET_LEFT+x*GRID_SIZE,w=[new ScreenPoint(g+TILE_SIZE*.4,f),new ScreenPoint(g+TILE_SIZE,f+TILE_SIZE*.2),new ScreenPoint(g+TILE_SIZE*.9,f+TILE_SIZE*.8),new ScreenPoint(g+TILE_SIZE*.5,f+TILE_SIZE),new ScreenPoint(g,f+TILE_SIZE*.6)],C=x*THICKNESS_STEP;await d.drawPolygon(w,FILL_COLOR,OxyColors.Black,C,m)}}})),a},ellipses=()=>{const a=new PlotModel;return a.annotations.push(new DelegateAnnotation(async d=>{for(let m=0;m<THICKNESS_STEPS;m++){const f=OFFSET_LEFT+m*GRID_SIZE+TILE_SIZE/2,x=m*THICKNESS_STEP;await d.drawText(new ScreenPoint(f,OFFSET_TOP/2),x.toString(),OxyColors.Black,void 0,10,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)}const s=getEnumKeys(EdgeRenderingMode);for(const m of s){const f=OFFSET_TOP+m*GRID_SIZE;await d.drawText(new ScreenPoint(10,f+10),EdgeRenderingMode[m],OxyColors.Black,void 0,10,void 0,void 0,void 0,VerticalAlignment.Middle);for(let x=0;x<THICKNESS_STEPS;x++){const g=OFFSET_LEFT+x*GRID_SIZE,w=new OxyRect(g,f+TILE_SIZE*.1,TILE_SIZE,TILE_SIZE*.8),C=x*THICKNESS_STEP;await d.drawEllipse(w,FILL_COLOR,OxyColors.Black,C,m)}}})),a},lineJoins=()=>{const s=[135,90,45,22.5],m=140,f=90,x=50,g=50,w=new PlotModel;return w.annotations.push(new DelegateAnnotation(async C=>{let A=0,_=0;const M=getEnumKeys(LineJoin);for(const P of M){const D=new ScreenPoint(m*(A+.5)+x,g/2);await C.drawText(D,LineJoin[P],OxyColors.Black,void 0,12,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle),A++}for(const P of s){A=0;const D=f*_+g,E=P/2/360*2*Math.PI,I=Math.sin(E)*60,B=Math.cos(E)*60,F=new ScreenPoint(15,D);await C.drawText(F,P.toString()+"",OxyColors.Black,void 0,12);for(const R of M){const L=m*(A+.5)+x,z=new ScreenPoint(L,D),G=new ScreenPoint(L-I,D+B),W=new ScreenPoint(L+I,D+B);await C.drawLine([G,z,W],OxyColors.CornflowerBlue,15,EdgeRenderingMode.PreferGeometricAccuracy,void 0,R),A++}_++}})),w},ellipseDrawing=()=>{const x=new PlotModel;return x.annotations.push(new DelegateAnnotation(async g=>{const w=new OxyRect(60,20,600,200),C=new Array(200),A=(w.left+w.right)/2,_=(w.top+w.bottom)/2,M=(w.right-w.left)/2,P=(w.bottom-w.top)/2;for(let D=0;D<200;D++){const E=Math.PI*2*D/199;C[D]=new ScreenPoint(A+M*Math.cos(E),_+P*Math.sin(E))}await g.drawPolygon(C,OxyColors.Undefined,OxyColors.Black,4,EdgeRenderingMode.PreferGeometricAccuracy),await g.drawEllipse(w,OxyColors.Undefined,OxyColors.White,2,EdgeRenderingMode.PreferGeometricAccuracy),await g.drawText(new ScreenPoint(360,120),"The white ellipse (drawn by Renderer) should match the black ellipse (drawn as Path).",OxyColors.Black,void 0,12,void 0,void 0,HorizontalAlignment.Center,VerticalAlignment.Middle)})),x},category$t="9 Rendering capabilities",RenderingCapabilities={category:category$t,examples:[{title:"DrawText - Colors",example:{model:drawTextColors}},{title:"DrawText - Fonts",example:{model:drawTextFonts}},{title:"DrawText - Font sizes",example:{model:drawTextFontSizes}},{title:"DrawText - Rotation",example:{model:drawTextRotation}},{title:"DrawText - Alignment",example:{model:drawTextAlignment}},{title:"DrawText - Multi-line Alignment",example:{model:drawTextMultiLineAlignment}},{title:"DrawMathText - Rotation",example:{model:mathTextRotation}},{title:"DrawMathText - Alignment",example:{model:drawMathTextAlignment}},{title:"DrawText - Alignment/Rotation",example:{model:drawTextAlignmentRotation}},{title:"DrawText - Multi-line Alignment/Rotation",example:{model:drawMultilineTextAlignmentRotation}},{title:"DrawText - MaxSize",example:{model:drawTextMaxSize}},{title:"MeasureText",example:{model:measureText}},{title:"Clipping",example:{model:clipping}},{title:"Rectangles - EdgeRenderingMode",example:{model:rectangles}},{title:"Lines - EdgeRenderingMode",example:{model:lines}},{title:"Polygons - EdgeRenderingMode",example:{model:polygons}},{title:"Ellipses - EdgeRenderingMode",example:{model:ellipses}},{title:"LineJoin",example:{model:lineJoins}},{title:"Ellipse Drawing",example:{model:ellipseDrawing}}]};function noInterpolation(){const a=new PlotModel({title:"No tracker interpolation",subtitle:"Used for discrete values or scatter plots."}),d=new Legend({legendSymbolLength:30});a.legends.push(d);const s=new LineSeries({title:"Series 1",canTrackerInterpolatePoints:!1,color:OxyColors.SkyBlue,markerType:MarkerType.Circle,markerSize:6,markerStroke:OxyColors.White,markerFill:OxyColors.SkyBlue,markerStrokeThickness:1.5});for(let m=0;m<63;m++){const f=Math.round(Math.sqrt(m)*Math.cos(m*.1)),x=Math.round(Math.sqrt(m)*Math.sin(m*.1));s.points.push(new DataPoint(f,x))}return a.series.push(s),a}function trackerChangedEvent(){const a=new PlotModel({title:"Handling the TrackerChanged event",subtitle:"Press the left mouse button to test the tracker."});return a.series.push(FunctionSeries.fromN(Math.sin,0,10,100)),a.trackerChanged=(d,s)=>{a.subtitle=s.hitResult?"Tracker item index = "+s.hitResult.index:"Not tracking",a.invalidatePlot(!1)},a}function trackerFiresDistance(){const a=new PlotModel({title:"Specified distance of the tracker fires",subtitle:"Press the left mouse button to test the tracker."});a.series.push(FunctionSeries.fromN(Math.sin,0,10,100));const d=new PlotController;return d.unbindViewCommand(PlotCommands.snapTrack),d.unbindViewCommand(PlotCommands.snapTrackTouch),ControllerExtensions.bindMouseDown(d,OxyMouseButton.Left,new DelegatePlotCommand((s,m,f)=>m.addMouseManipulator(s,new TrackerManipulator(s,{snap:!0,pointsOnly:!1,firesDistance:2,checkDistanceBetweenPoints:!0}),f))),ControllerExtensions.bindTouchDown(d,new DelegatePlotCommand((s,m,f)=>m.addTouchManipulator(s,new TouchTrackerManipulator(s,{snap:!0,pointsOnly:!1,firesDistance:2}),f))),{model:()=>a,controller:()=>d}}const category$s="Tracker",TrackerExamples={category:category$s,examples:[{title:"No interpolation",example:{model:noInterpolation}},{title:"TrackerChangedEvent",example:{model:trackerChangedEvent}},{title:"Specified distance of the tracker fires",example:trackerFiresDistance()}]},Exps=[FilteringExamples,ItemsSourceExamples,LegendExamples,MouseEventExamples,PerformanceExamples,PlotControllerExamples,PlotModelExamples,RenderingCapabilities,TrackerExamples],points=[{x:589.3649979,y:16.10595703},{x:437.9979935,y:16.10595703},{x:400.4249954,y:16.10595703},{x:399.1255264,y:16.05047607},{x:397.463356,y:15.92333984},{x:393.5852432,y:15.69073486},{x:389.8589859,y:15.88067627},{x:388.3866653,y:16.28186035},{x:387.3529739,y:16.96594238},{x:386.8373489,y:18.53930664},{x:387.2163773,y:20.51794434},{x:387.9814529,y:22.51843262},{x:388.6240005,y:24.15698242},{x:395.958992,y:45.09094238},{x:399.2686234,y:54.89562988},{x:402.1330338,y:64.90338135},{x:404.5822525,y:75.06884766},{x:406.6462479,y:85.34680176},{x:409.7385635,y:106.0593262},{x:411.6500015,y:126.6789551},{x:412.0961685,y:137.0930786},{x:412.0253677,y:147.4713135},{x:411.4655228,y:157.8103638},{x:410.4446182,y:168.1069336},{x:408.9906387,y:178.3577881},{x:407.1315689,y:188.5595703},{x:404.8953629,y:198.7091064},{x:402.3099747,y:208.8029785},{x:392.9860001,y:237.2509766},{x:392.1175613,y:240.0527954},{x:391.2060013,y:243.0959473},{x:390.5509415,y:246.1691284},{x:390.4520035,y:249.0609741},{x:391.406044,y:252.6694336},{x:393.1980057,y:256.0982056},{x:395.3566971,y:259.3631287},{x:397.4109879,y:262.47995},{x:411.7649918,y:287.7079468},{x:426.5997696,y:312.9102173},{x:441.8913651,y:337.8200684},{x:457.3402786,y:362.6333923},{x:472.6469803,y:387.5459595},{x:478.0007401,y:395.7557983},{x:483.6958694,y:403.8400879},{x:489.2894974,y:411.9628296},{x:494.3389969,y:420.2879639},{x:494.9800491,y:421.8480225},{x:495.4455032,y:423.6903687},{x:496.1577225,y:427.7724609},{x:497.0915604,y:431.6355591},{x:497.8341141,y:433.2041321},{x:498.8629837,y:434.3809509},{x:500.0935135,y:434.9877625},{x:501.7391434,y:435.3059082},{x:505.7623367,y:435.3148193},{x:509.9061356,y:434.8848267},{x:511.7024612,y:434.6542969},{x:513.1439896,y:434.4929504},{x:520.0768509,y:434.1251831},{x:527.3961258,y:434.1952209},{x:534.6892776,y:434.728363},{x:541.544014,y:435.7499695},{x:544.2357864,y:436.3025513},{x:547.021492,y:437.0792236},{x:549.6099319,y:438.2590027},{x:551.7099686,y:440.0209656},{x:552.7028275,y:441.4446106},{x:553.2691116,y:442.791626},{x:553.4498978,y:444.0619202},{x:553.2864456,y:445.2554626},{x:552.0910721,y:447.4119873},{x:550.0122147,y:449.2607117},{x:547.3790359,y:450.8010864},{x:544.5206985,y:452.0325928},{x:541.766304,y:452.9547119},{x:539.445015,y:453.5669556},{x:539.445015,y:454.6409607},{x:542.6554031,y:455.4246521},{x:546.0063553,y:455.8735962},{x:549.2799149,y:456.4869385},{x:552.2580032,y:457.7639465},{x:554.3335648,y:459.5966797},{x:555.6600418,y:461.8208313},{x:556.278389,y:464.282959},{x:556.2294998,y:466.8295898},{x:555.55439,y:469.307251},{x:554.2939529,y:471.5625},{x:552.4892044,y:473.4418945},{x:550.1809769,y:474.7919617},{x:547.1414261,y:475.8059387},{x:543.8482132,y:476.5288391},{x:537.2979813,y:477.0559692},{x:535.5239944,y:476.8666077},{x:533.5114822,y:476.5535889},{x:531.5334549,y:476.4162598},{x:529.8629837,y:476.7539673},{x:529.0471268,y:477.3421631},{x:528.5394363,y:478.1289673},{x:528.1448441,y:480.0927124},{x:528.071846,y:482.2338257},{x:527.7129593,y:484.1409607},{x:526.901741,y:485.4877014},{x:525.8139114,y:486.4950867},{x:523.0528641,y:487.6643372},{x:519.9188919,y:487.9933777},{x:516.9010086,y:487.8269653},{x:511.7325516,y:486.9451599},{x:506.4563065,y:485.4539185},{x:501.155159,y:483.4500427},{x:495.912117,y:481.0302124},{x:485.9321365,y:475.3295898},{x:481.3610916,y:472.2423096},{x:477.1800003,y:469.125946},{x:465.3709793,y:459.3179626},{x:464.3509598,y:458.3116455},{x:463.1867142,y:457.1624451},{x:461.9141312,y:456.2180176},{x:460.5689774,y:455.8259583},{x:459.6923904,y:456.0762939},{x:458.8656693,y:456.7503662},{x:457.3631058,y:458.907959},{x:456.063179,y:461.3753052},{x:455.4898758,y:462.436554},{x:454.9679642,y:463.2289734},{x:453.0795364,y:465.3183289},{x:450.8528519,y:467.2734985},{x:448.3575516,y:468.9848328},{x:445.6630936,y:470.3425903},{x:442.83918,y:471.2370605},{x:439.9552689,y:471.5585938},{x:437.0810318,y:471.1974487},{x:434.2859879,y:470.0439453},{x:432.4744034,y:468.6621399},{x:431.3244705,y:467.0726013},{x:430.7551956,y:465.3302612},{x:430.6856155,y:463.4900818},{x:431.0347672,y:461.6070251},{x:431.7216873,y:459.7360229},{x:433.7849808,y:456.2499695},{x:438.1093216,y:450.118988},{x:441.4749832,y:444.3893433},{x:444.0351639,y:438.28302},{x:445.0610428,y:434.845459},{x:445.9430008,y:431.0219727},{x:446.6270218,y:428.7687378},{x:447.4476395,y:426.4767151},{x:447.9032059,y:424.1760559},{x:447.492012,y:421.8969727},{x:445.6156082,y:418.2295837},{x:443.3608475,y:414.6139832},{x:438.1008682,y:407.5364685},{x:432.48069,y:400.6614685},{x:427.2689896,y:393.9859619},{x:389.1699905,y:339.2359619},{x:374.5550003,y:318.3009644},{x:372.5515823,y:314.8404541},{x:370.2787552,y:310.9485779},{x:367.7467728,y:307.2946777},{x:366.3868484,y:305.7660828},{x:364.9659805,y:304.5479736},{x:363.9477615,y:304.0406799},{x:363.082222,y:304.0159912},{x:361.6236038,y:304.9024658},{x:360.2191849,y:306.1834412},{x:359.4213638,y:306.651886},{x:358.4979935,y:306.8349609},{x:356.6694107,y:306.4464722},{x:354.9371109,y:305.5308228},{x:353.2544937,y:304.4515076},{x:351.5749893,y:303.5719604},{x:343.4895706,y:301.1234131},{x:335.0169449,y:299.8048401},{x:326.3076553,y:299.5128174},{x:317.5122147,y:300.1439514},{x:308.7811966,y:301.5948486},{x:300.2651443,y:303.762085},{x:292.1145401,y:306.5422668},{x:284.4799881,y:309.8319702},{x:282.3371964,y:310.7483521},{x:279.925972,y:311.644928},{x:274.7942581,y:313.5763245},{x:270.0769119,y:316.0212708},{x:268.1836319,y:317.559845},{x:266.7659988,y:319.3749695},{x:271.6227798,y:320.1968384},{x:276.5877457,y:321.7830811},{x:281.472847,y:323.7190247},{x:286.090004,y:325.5899658},{x:298.3649979,y:330.7419739},{x:310.3880997,y:336.8226929},{x:321.8024063,y:343.941803},{x:332.2509842,y:352.2089539},{x:339.2033768,y:358.533844},{x:342.4841385,y:361.901825},{x:345.4439774,y:365.5359497},{x:346.445076,y:367.0002136},{x:347.3386307,y:368.7592163},{x:347.6443558,y:370.5680847},{x:347.4267044,y:371.4147034},{x:346.8819962,y:372.1819458},{x:345.387001,y:372.7861023},{x:343.5981216,y:372.4627075},{x:341.8064041,y:371.7001953},{x:340.3029861,y:370.986969},{x:336.1688919,y:369.4472046},{x:331.5998611,y:368.1002197},{x:326.9541702,y:367.1023254},{x:322.5899734,y:366.6099548},{x:324.6785049,y:369.6851501},{x:327.4601212,y:372.3129578},{x:330.467659,y:374.7735291},{x:333.2339859,y:377.3469543},{x:338.3369217,y:383.6273193},{x:342.70298,y:390.7063293},{x:344.4534683,y:394.4726563},{x:345.8323135,y:398.3514099},{x:346.7769547,y:402.3135376},{x:347.2249832,y:406.3299561},{x:346.8078384,y:412.0097046},{x:345.1297989,y:416.5983276},{x:342.383522,y:420.1838074},{x:338.7616043,y:422.8540955},{x:334.4566727,y:424.6971741},{x:329.6613541,y:425.8010559},{x:324.5682449,y:426.2536621},{x:319.3700027,y:426.1429749},{x:315.144783,y:425.6447144},{x:311.0141983,y:424.7691345},{x:303.0388565,y:422.0056763},{x:295.4478226,y:418.0917969},{x:288.2450027,y:413.2668457},{x:281.4342422,y:407.769989},{x:275.0194168,y:401.8405762},{x:269.0043716,y:395.717804},{x:263.393013,y:389.6409607},{x:255.0782547,y:379.5436707},{x:247.6409988,y:368.3999634},{x:244.4098587,y:362.5210571},{x:241.5882645,y:356.4829712},{x:239.2395096,y:350.3198853},{x:237.4270096,y:344.0659485},{x:236.2694168,y:338.2407532},{x:235.5486526,y:332.3677368},{x:235.0773697,y:320.528717},{x:235.3326797,y:308.6495667},{x:235.6340103,y:296.8309631},{x:233.1889725,y:297.9562988},{x:230.9140091,y:299.4570923},{x:226.5090103,y:302.6929626},{x:206.6489944,y:315.875946},{x:157.2670059,y:346.7819519},{x:136.8219986,y:360.059967},{x:132.2092514,y:363.0340881},{x:130.0033798,y:364.6920166},{x:128.1559982,y:366.6599731},{x:127.0190811,y:368.5368958},{x:126.298027,y:370.4631348},{x:125.9532547,y:372.4280701},{x:125.9451218,y:374.4211121},{x:126.7804031,y:378.4490356},{x:128.4870071,y:382.4620972},{x:130.748024,y:386.3754272},{x:133.2466202,y:390.104248},{x:135.6659012,y:393.5636902},{x:137.689003,y:396.6689453},{x:139.2043839,y:400.197052},{x:139.5524673,y:402.0329285},{x:139.5626297,y:403.8374634},{x:139.1861954,y:405.551239},{x:138.3745499,y:407.1148682},{x:137.0790329,y:408.4689026},{x:135.2509995,y:409.5539551},{x:132.8812943,y:410.31427},{x:130.5507584,y:410.5262146},{x:128.270546,y:410.2424316},{x:126.0518265,y:409.5155334},{x:123.9057388,y:408.3982239},{x:121.8434372,y:406.9431458},{x:118.0148697,y:403.2301941},{x:114.6553879,y:398.7979126},{x:111.8542252,y:394.0675049},{x:109.7006912,y:389.4601135},{x:108.2840042,y:385.3969727},{x:107.7778549,y:382.5092468},{x:107.3788681,y:379.2887268},{x:106.6309433,y:376.2470703},{x:105.0779953,y:373.8959656},{x:103.1701126,y:372.6677246},{x:100.7825394,y:371.7599487},{x:95.13137054,y:370.6252136},{x:89.25051117,y:369.9303284},{x:86.57584381,y:369.5724182},{x:84.26599884,y:369.1139526},{x:78.20024872,y:367.3027649},{x:71.70685577,y:364.820343},{x:65.1133194,y:361.6892395},{x:58.74712372,y:357.9318237},{x:52.93579102,y:353.5706482},{x:48.00682831,y:348.6281433},{x:45.97557068,y:345.9458923},{x:44.28772736,y:343.1267395},{x:42.98422241,y:340.1734924},{x:42.10599518,y:337.0889587},{x:41.90753937,y:335.2592163},{x:42.08698273,y:333.7605286},{x:43.18836975,y:331.3730774},{x:44.62782288,y:329.1598206},{x:45.6230011,y:326.3539734},{x:45.62973022,y:324.9945984},{x:45.33054352,y:323.6192627},{x:44.36862183,y:320.8330994},{x:43.98298645,y:319.4284058},{x:43.84563446,y:318.0201111},{x:44.09512329,y:316.6112671},{x:44.86999512,y:315.2049561},{x:45.80908966,y:314.2088623},{x:46.79941559,y:313.5540161},{x:48.9025116,y:313.1113892},{x:51.11682129,y:313.5637512},{x:53.37987518,y:314.5978394},{x:57.8022995,y:317.1580811},{x:59.83672333,y:318.0577087},{x:61.6700058,y:318.2859497},{x:62.82819366,y:317.6254883},{x:63.23600006,y:316.3283386},{x:63.24330902,y:314.8067627},{x:63.20000458,y:313.4729614},{x:63.68109894,y:310.3050232},{x:64.93375397,y:307.6513367},{x:67.09728241,y:305.979187},{x:68.56415558,y:305.6572571},{x:70.31099701,y:305.7559509},{x:73.2078476,y:306.4935913},{x:76.04866791,y:307.6478271},{x:81.46486664,y:310.9243164},{x:86.36489105,y:315.0218811},{x:90.55399323,y:319.3769531},{x:92.14154816,y:321.4163208},{x:93.72263336,y:323.6399536},{x:95.39614105,y:325.7593689},{x:97.26099396,y:327.4859619},{x:98.87421417,y:328.2453918},{x:100.5960007,y:328.4575806},{x:104.1259995,y:328.1189575},{x:107.9671097,y:328.0540771},{x:112.0256271,y:328.345459},{x:116.0258255,y:328.4305725},{x:119.6919937,y:327.7469482},{x:122.6980515,y:326.2321777},{x:125.5723801,y:324.1764526},{x:128.3242722,y:321.9129944},{x:130.9630051,y:319.7749634},{x:158.6139908,y:297.5969543},{x:183.9269943,y:278.8919678},{x:215.7729874,y:251.3609619},{x:222.6591263,y:245.7957153},{x:229.6908646,y:240.2703247},{x:236.5836563,y:234.5932617},{x:243.0529861,y:228.572937},{x:246.137764,y:224.8230591},{x:248.7661209,y:220.4605103},{x:251.0138321,y:215.6484985},{x:252.9567337,y:210.5499878},{x:256.2312393,y:200.1459351},{x:257.7144547,y:195.1665039},{x:259.1959915,y:190.5529785},{x:263.9845047,y:175.0708008},{x:267.8167191,y:159.2056274},{x:270.6394424,y:143.0612183},{x:272.3993607,y:126.7412109},{x:273.043251,y:110.3493042},{x:272.5178299,y:93.98913574},{x:270.7698441,y:77.76446533},{x:267.7460098,y:61.77893066},{x:260.9010086,y:28.45196533},{x:260.3377457,y:25.5088501},{x:259.7099991,y:22.24182129},{x:258.5879898,y:19.265625},{x:257.7073746,y:18.07867432},{x:256.5419998,y:17.19494629},{x:254.5226212,y:16.44396973},{x:252.1078568,y:16.0401001},{x:246.5816116,y:15.96911621},{x:240.9423294,y:16.37298584},{x:238.3862076,y:16.56274414},{x:236.1689835,y:16.64294434},{x:185.1770096,y:17.17895508},{x:0,y:16.64294434},{x:0,y:.53894043},{x:188.9400101,y:.53894043},{x:242.0799942,y:.53894043},{x:244.6571732,y:.474975586},{x:247.5546951,y:.33001709},{x:253.8458633,y:.078552246},{x:260.0235977,y:.347839355},{x:262.779335,y:.853759766},{x:265.1579971,y:1.70098877},{x:266.7366104,y:2.746398926},{x:268.0821915,y:4.172119141},{x:270.1900101,y:7.797119141},{x:271.7128067,y:11.84075928},{x:272.8819962,y:15.56799316},{x:276.034523,y:25.44775391},{x:279.0441055,y:35.50836182},{x:281.6616287,y:45.66326904},{x:283.6380081,y:55.82598877},{x:285.7761917,y:72.32995605},{x:287.0616837,y:88.9072876},{x:287.4597855,y:105.5118408},{x:286.9358597,y:122.0977173},{x:285.4552994,y:138.6187744},{x:282.9833755,y:155.0289917},{x:279.4855118,y:171.2824097},{x:274.9270096,y:187.3329468},{x:271.4097672,y:198.2474976},{x:267.3623734,y:209.4165039},{x:262.4050369,y:220.1444092},{x:259.4664688,y:225.1257324},{x:256.1579971,y:229.7359619},{x:249.3205032,y:237.2365723},{x:241.720253,y:244.1188354},{x:233.794136,y:250.6709595},{x:225.9790115,y:257.1809692},{x:195.5280228,y:282.9415894},{x:164.2490005,y:307.6559448},{x:141.1689987,y:324.8109741},{x:133.2555008,y:330.7440796},{x:129.0609055,y:333.3323975},{x:124.5289993,y:335.2859497},{x:122.1544113,y:335.8482361},{x:119.7157364,y:336.0837402},{x:114.7126236,y:335.969696},{x:109.6527023,y:335.7345581},{x:104.6689987,y:336.1689453},{x:102.779686,y:336.7739563},{x:100.6949997,y:337.5380859},{x:98.61257172,y:337.9761353},{x:96.73000336,y:337.6029663},{x:94.59128571,y:335.8127136},{x:92.66425323,y:333.2740784},{x:90.92359161,y:330.5338745},{x:89.34400177,y:328.1389465},{x:87.08150482,y:325.4346313},{x:84.48600006,y:322.8813171},{x:78.90499115,y:318.3849487},{x:77.3181076,y:317.091217},{x:75.22336578,y:315.5139465},{x:73.02420807,y:314.5059509},{x:72.01151276,y:314.4819031},{x:71.12400055,y:314.9199524},{x:70.59803009,y:315.7275085},{x:70.51831818,y:316.7388916},{x:71.29537201,y:319.0906982},{x:72.65048981,y:321.4106445},{x:73.77899933,y:323.1339722},{x:77.82125092,y:329.0054626},{x:80.16477203,y:331.7309265},{x:82.71099091,y:334.177948},{x:84.92420197,y:335.9799805},{x:87.10187531,y:337.9599609},{x:88.68236542,y:340.2526855},{x:89.07314301,y:341.5584412},{x:89.10399628,y:342.9929504},{x:89.61742401,y:343.8485413},{x:89.34513092,y:344.4684448},{x:88.5472641,y:344.7538757},{x:87.48400116,y:344.605957},{x:85.91378021,y:343.8370972},{x:84.39550018,y:342.7818298},{x:81.58899689,y:340.4889526},{x:78.80124664,y:338.1679382},{x:75.64672089,y:335.4441223},{x:68.57024384,y:329.6803589},{x:64.81476593,y:327.0864868},{x:61.02541351,y:324.9821167},{x:57.28540802,y:323.5902405},{x:53.6780014,y:323.1339722},{x:55.6113739,y:326.1587524},{x:58.03131866,y:328.9006653},{x:63.8632431,y:333.7370911},{x:70.23856354,y:338.0457153},{x:76.22199249,y:342.2289734},{x:77.03455353,y:342.7995605},{x:78.11525726,y:343.5061951},{x:80.57563019,y:345.232605},{x:82.59217072,y:347.217926},{x:83.11811066,y:348.24823},{x:83.15399933,y:349.2719727},{x:82.68766022,y:350.0397949},{x:81.87210846,y:350.3486328},{x:79.6248703,y:349.9825745},{x:77.27544403,y:348.9604797},{x:76.33216095,y:348.4492188},{x:75.68700409,y:348.0689697},{x:66.5876236,y:342.1790771},{x:61.90306854,y:339.4937744},{x:56.897995,y:337.35495},{x:55.17505646,y:336.726532},{x:53.01000214,y:336.1444702},{x:51.04743958,y:336.2538757},{x:50.34353638,y:336.7695007},{x:49.93199921,y:337.6999512},{x:50.0814743,y:339.3566589},{x:51.06142426,y:341.0038757},{x:52.65550232,y:342.6039124},{x:54.64737701,y:344.1190796},{x:58.95914459,y:346.743988},{x:60.84635162,y:347.7783203},{x:62.26599884,y:348.5769653},{x:70.1079483,y:352.9052734},{x:78.1873703,y:356.6586914},{x:86.4916153,y:359.8837585},{x:95.00800323,y:362.6269531},{x:96.84983063,y:363.0866394},{x:98.97579193,y:363.5275574},{x:103.6091232,y:364.5426941},{x:107.965889,y:366.0517273},{x:109.7461472,y:367.1099854},{x:111.1039963,y:368.43396},{x:112.0068741,y:370.5414429},{x:112.4139938,y:373.21521},{x:112.6441269,y:375.9950867},{x:113.0159988,y:378.4209595},{x:113.902565,y:381.2496643},{x:115.2284775,y:384.6081543},{x:116.9393082,y:388.2300415},{x:118.980629,y:391.8488464},{x:121.2979813,y:395.1981506},{x:123.8369522,y:398.0115662},{x:126.5430984,y:400.022644},{x:129.3619919,y:400.9649658},{x:128.5566483,y:397.5397949},{x:126.8852463,y:394.5133362},{x:124.8594742,y:391.6261902},{x:122.9910049,y:388.6189575},{x:120.504631,y:382.5281982},{x:119.1972427,y:376.1178589},{x:119.0547104,y:372.875061},{x:119.2897568,y:369.6510315},{x:119.9299698,y:366.4787292},{x:121.0029984,y:363.3909607},{x:122.9761124,y:359.8041687},{x:125.5510788,y:356.6000061},{x:128.5915298,y:353.7098083},{x:131.9611282,y:351.0648499},{x:139.1423569,y:346.2359619},{x:146.0040054,y:341.5639648},{x:153.3126602,y:336.4172363},{x:160.8510056,y:331.6148376},{x:176.060997,y:322.2139587},{x:223.2120132,y:292.0619507},{x:241.0090103,y:281.0089722},{x:244.4554214,y:278.2832642},{x:248.0213699,y:275.5827026},{x:251.8383865,y:273.5125122},{x:253.8821487,y:272.9029541},{x:256.038002,y:272.677948},{x:255.5765762,y:275.73526},{x:254.4421158,y:278.3285828},{x:252.9171219,y:280.7803345},{x:251.2840042,y:283.4129639},{x:249.1513138,y:287.4288635},{x:247.2273636,y:291.7029724},{x:245.725502,y:296.1263123},{x:244.8589859,y:300.5899658},{x:244.4298477,y:307.2876587},{x:244.5635757,y:313.9535828},{x:245.2291336,y:320.570282},{x:246.3955154,y:327.1204224},{x:248.0315933,y:333.5866089},{x:250.1063919,y:339.951416},{x:252.5888138,y:346.1975098},{x:255.4478531,y:352.3074646},{x:262.1715469,y:364.0494385},{x:270.0290298,y:375.0382385},{x:278.7719803,y:385.1347656},{x:288.1519852,y:394.1999512},{x:294.92173,y:399.6752014},{x:302.1428604,y:404.5257263},{x:309.7718277,y:408.7135925},{x:317.7649918,y:412.2009583},{x:322.0982132,y:413.5901184},{x:326.4935989,y:414.2129517},{x:328.6687698,y:414.1019592},{x:330.8044205,y:413.6372986},{x:332.8823013,y:412.7649841},{x:334.8839798,y:411.4309692},{x:336.700325,y:409.4726868},{x:337.756813,y:407.2593689},{x:338.1652908,y:404.8675537},{x:338.0374832,y:402.3738403},{x:337.4851761,y:399.8547668},{x:336.6201553,y:397.3868713},{x:334.3989944,y:392.9109497},{x:331.2719803,y:388.0760193},{x:327.7468643,y:383.5949097},{x:319.7087479,y:375.5498352},{x:310.6974869,y:368.4870605},{x:301.1259842,y:362.1179504},{x:289.341011,y:355.3789673},{x:288.3749161,y:354.5166321},{x:287.4871292,y:353.3829651},{x:287.1665115,y:352.1690369},{x:287.3716812,y:351.5917053},{x:287.9019852,y:351.0659485},{x:290.0786819,y:350.5000305},{x:292.8593826,y:350.8098145},{x:295.6623917,y:351.5259399},{x:297.9060135,y:352.1789551},{x:300.6676102,y:353.0059814},{x:303.7700882,y:354.0613708},{x:310.5398636,y:356.3453369},{x:313.9782486,y:357.3178101},{x:317.2997208,y:358.0065918},{x:320.3897781,y:358.2836609},{x:323.1339798,y:358.0209656},{x:311.4509048,y:349.4853516},{x:299.2507401,y:341.6953125},{x:286.5124283,y:334.8171387},{x:273.215004,y:329.0169678},{x:258.7229996,y:323.8179626},{x:257.2878494,y:323.337738},{x:255.7744827,y:322.6670837},{x:254.4943924,y:321.7168884},{x:253.7590103,y:320.3979492},{x:253.827034,y:319.0723267},{x:254.5322647,y:317.7234802},{x:255.711647,y:316.3885193},{x:257.2022476,y:315.1045837},{x:260.465126,y:312.8383789},{x:261.9114456,y:311.9303589},{x:263.0170059,y:311.2219543},{x:271.8112259,y:305.8678284},{x:281.198616,y:301.1617126},{x:290.8884659,y:297.0829773},{x:300.590004,y:293.6109619},{x:310.0823746,y:291.1308289},{x:319.4608536,y:289.9150696},{x:328.9314041,y:289.7652893},{x:338.6999893,y:290.4829712},{x:354.2659988,y:293.3499451},{x:355.8602982,y:293.1119995},{x:357.197731,y:292.2803345},{x:358.3595047,y:291.0731506},{x:359.4267349,y:289.7085876},{x:360.4805679,y:288.4048157},{x:361.6021194,y:287.3800049},{x:362.8725357,y:286.8523254},{x:364.3729935,y:287.0399475},{x:365.9158707,y:287.8427734},{x:367.3995438,y:289.0066833},{x:370.1699905,y:292.0510864},{x:372.6456985,y:295.4399109},{x:374.788002,y:298.4399719},{x:394.8579788,y:325.8149719},{x:397.3873978,y:329.0663757},{x:399.9987259,y:332.6233521},{x:402.1026993,y:336.3991089},{x:402.7802811,y:338.3419189},{x:403.109993,y:340.3069458},{x:403.7992325,y:340.2913818},{x:404.1172256,y:340.3743286},{x:404.2001114,y:340.691864},{x:404.1839981,y:341.3799744},{x:405.9170609,y:342.5977478},{x:407.5672379,y:344.3135681},{x:410.6323624,y:348.6974487},{x:413.4063187,y:353.4481201},{x:414.6925125,y:355.6223755},{x:415.9159927,y:357.4819641},{x:446.1409988,y:402.5239563},{x:447.8941116,y:404.6854248},{x:449.9755325,y:406.9086609},{x:454.483345,y:411.5653381},{x:456.5896683,y:414.0111694},{x:458.3842239,y:416.5435791},{x:459.7070389,y:419.1687927},{x:460.3980179,y:421.8929749},{x:460.330513,y:423.2209473},{x:459.8673782,y:424.4043274},{x:458.1563797,y:426.4813232},{x:456.0694046,y:428.4118958},{x:454.4110184,y:430.4839478},{x:453.6341629,y:432.6287231},{x:453.2503738,y:434.9552002},{x:452.6709671,y:439.6079712},{x:451.6133499,y:443.3995361},{x:450.0984573,y:447.2178345},{x:448.1988602,y:450.8544312},{x:445.9870071,y:454.1009521},{x:445.2327957,y:454.9499512},{x:444.120369,y:456.1347046},{x:441.6337357,y:459.0782166},{x:440.6658401,y:460.6203003},{x:440.1524734,y:462.0648193},{x:440.2967911,y:463.3034973},{x:441.3020096,y:464.2279663},{x:443.0089798,y:464.4325867},{x:444.7705154,y:463.7559509},{x:446.3872757,y:462.6180725},{x:447.6599808,y:461.4389648},{x:449.96418,y:458.7336426},{x:451.896492,y:455.7789612},{x:454.7979813,y:449.3179626},{x:455.2873001,y:447.6248474},{x:455.8775101,y:445.8508301},{x:456.8382034,y:444.3796387},{x:458.4389725,y:443.5949707},{x:460.0345535,y:443.7620239},{x:461.7698441,y:444.6128235},{x:463.5780106,y:445.9676208},{x:465.3921585,y:447.6465759},{x:468.7708817,y:451.2580566},{x:470.2016678,y:452.8309631},{x:471.3709793,y:454.0089722},{x:478.8518143,y:460.0104675},{x:486.9943924,y:465.3340759},{x:495.4878006,y:470.1171265},{x:504.0210037,y:474.4969482},{x:509.5540848,y:477.1457214},{x:515.2860184,y:479.3189697},{x:516.4008255,y:479.6032104},{x:517.6022415,y:479.6870728},{x:518.5872879,y:479.3061523},{x:519.0529861,y:478.1959534},{x:518.8626175,y:476.8864441},{x:518.1857986,y:475.7019958},{x:515.84095,y:473.7122192},{x:512.9545975,y:472.234314},{x:510.4629593,y:471.2759705},{x:507.6074905,y:470.256958},{x:504.0599442,y:468.8930969},{x:496.255867,y:465.2143555},{x:492.682869,y:462.9411621},{x:489.7850418,y:460.4066467},{x:487.9041214,y:457.6316223},{x:487.4518509,y:456.1604309},{x:487.3819656,y:454.6369629},{x:491.1286697,y:455.6597595},{x:494.7612381,y:457.2131958},{x:498.3274002,y:458.9732666},{x:501.8750076,y:460.6159668},{x:508.6896439,y:463.2619934},{x:515.7986526,y:465.5415649},{x:523.0577469,y:467.2131042},{x:530.3230057,y:468.0349731},{x:536.5177689,y:468.0764465},{x:542.669014,y:467.3979492},{x:543.9200516,y:466.9833069},{x:545.0242386,y:466.2348328},{x:545.5588455,y:465.2004089},{x:545.1009598,y:463.927948},{x:544.175972,y:463.0953064},{x:542.9511795,y:462.4622803},{x:539.9430008,y:461.6712036},{x:536.7585526,y:461.3072815},{x:534.0799637,y:461.1229553},{x:520.8706131,y:459.9545898},{x:514.2815628,y:459.0859985},{x:507.7789993,y:457.8509521},{x:506.4525833,y:457.5542603},{x:504.8121414,y:457.1582336},{x:501.1944656,y:455.9819641},{x:499.5198441,y:455.1585083},{x:498.1362991,y:454.1494141},{x:497.1952591,y:452.9331055},{x:496.8479691,y:451.4879456},{x:497.117012,y:450.6549377},{x:497.8393021,y:450.1732788},{x:500.1341019,y:449.9840698},{x:502.7133255,y:450.3605652},{x:503.7911453,y:450.5859985},{x:504.557991,y:450.7429504},{x:511.3823318,y:451.3563843},{x:518.3227615,y:451.0169373},{x:525.2244949,y:449.9740295},{x:531.932991,y:448.4769592},{x:532.8128738,y:448.2760315},{x:534.1250076,y:447.9761353},{x:537.3393631,y:447.0833435},{x:538.8882523,y:446.4923706},{x:540.1627884,y:445.8063354},{x:540.9862747,y:445.0262146},{x:541.1820145,y:444.1529541},{x:540.6489334,y:443.4705505},{x:539.4853592,y:443.0022888},{x:537.8792191,y:442.7068176},{x:536.0183792,y:442.5428467},{x:532.2842484,y:442.4439392},{x:530.7866898,y:442.4263916},{x:529.7860184,y:442.3749695},{x:522.7177811,y:441.8120117},{x:515.5401077,y:441.6993408},{x:501.2470169,y:442.2559509},{x:498.6232986,y:442.5908508},{x:495.6024857,y:442.9595947},{x:492.7076492,y:442.7930298},{x:491.4709549,y:442.3311157},{x:490.4619827,y:441.5219727},{x:489.3800125,y:439.9010925},{x:488.6179276,y:438.0290833},{x:487.6418533,y:433.8266907},{x:486.7113724,y:429.5046997},{x:486.0061722,y:427.4831848},{x:485.0039749,y:425.6529541},{x:464.5570145,y:397.51297},{x:441.859993,y:359.0939636},{x:419.5407486,y:322.4837036},{x:397.7539749,y:285.5569458},{x:392.6534195,y:277.3995361},{x:387.2727432,y:269.1647034},{x:382.4174271,y:260.6722412},{x:380.4385147,y:256.2730713},{x:378.8929825,y:251.7419434},{x:378.4342422,y:247.8017578},{x:378.8919754,y:243.618103},{x:379.8762283,y:239.4705811},{x:380.9969864,y:235.6389771},{x:388.6119766,y:208.7999878},{x:391.0815811,y:198.9997559},{x:393.3593521,y:188.8963623},{x:395.3594131,y:178.5748901},{x:396.9958572,y:168.1204834},{x:398.1828384,y:157.6182251},{x:398.8344498,y:147.1533203},{x:398.8647842,y:136.8108521},{x:398.1879959,y:126.6759644},{x:395.2633438,y:103.3844604},{x:393.3301468,y:91.60638428},{x:390.9952469,y:79.85656738},{x:388.1928177,y:68.22253418},{x:384.8570328,y:56.79168701},{x:380.9220352,y:45.65136719},{x:376.3219986,y:34.88897705},{x:371.1558609,y:23.22259521},{x:366.6760025,y:11.27197266},{x:365.8827591,y:9.214355469},{x:365.0445023,y:6.805603027},{x:364.7049942,y:4.406799316},{x:364.892189,y:3.323974609},{x:365.4079971,y:2.378967285},{x:366.5955276,y:1.439331055},{x:368.2348099,y:.826660156},{x:372.3311234,y:.333557129},{x:376.6218643,y:.40246582},{x:378.5041885,y:.4921875},{x:380.0319901,y:.535949707},{x:420.2889786,y:0},{x:527.1040115,y:0},{x:558.0751419,y:.09362793},{x:573.5140457,y:.204589844},{x:588.6629715,y:.352966309},{x:588.6629715,y:.352966309}],lineaPoints=points.map(a=>new DataPoint(a.x,a.y));function numericOdeSolvers1(){return numericOdeSolvers("Numeric ODE solvers","y'=y, y(0)=1",0,1,Math.exp,(a,d)=>d)}function numericOdeSolvers2(){return numericOdeSolvers("Numeric ODE solvers","y'=x, y(0)=0",0,0,a=>.5*a*a,(a,d)=>a)}function numericOdeSolvers3(){return numericOdeSolvers("Numeric ODE solvers","y'=cos(x), y(0)=0",0,0,Math.sin,(a,d)=>Math.cos(a))}function trainSchedule(){const a=new PlotModel({title:"Train schedule",subtitle:"Bergensbanen (Oslo-Bergen, Norway)",isLegendVisible:!1,plotAreaBorderColor:OxyColors.LightGray}),d=new LinearAxis({position:AxisPosition.Left,minimum:-20,maximum:540,title:"Distance from Oslo S",isAxisVisible:!0});a.axes.push(d);const s=new CustomAxis({majorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColors.LightGray,minimum:d.minimum,maximum:d.maximum,position:AxisPosition.Right,isPanEnabled:!1,isZoomEnabled:!1,majorTickSize:0});d.axisChanged=(_,M)=>{s.minimum=d.actualMinimum,s.maximum=d.actualMaximum},a.axes.push(s),a.axes.push(new TimeSpanAxis({position:AxisPosition.Bottom,minimum:0,maximum:TimeSpanAxis.toDouble(TimeSpan.fromHours(24)),stringFormatter:_=>Math.abs(_.hours).toString().padStart(2,"0"),title:"Time",majorStep:TimeSpanAxis.toDouble(TimeSpan.fromHours(1)),minorStep:TimeSpanAxis.toDouble(TimeSpan.fromMinutes(10)),tickStyle:TickStyle.None,majorGridlineStyle:LineStyle.Solid,majorGridlineColor:OxyColors.LightGray,minorGridlineStyle:LineStyle.Solid,minorGridlineColor:OxyColor.fromArgb(255,240,240,240)}));const m=`Stasjon;km;moh;609;61;601;1405;607;603;63;605;62;602;608;604;64;610;1404;606
Oslo;0.00;4.0;0631;0811;1037;;1227;1437;1609;2311;1432;1736;1956;2210;2236;2348;;0626
Lysaker;7.00;7.5;0642;0822;1048;;1238;1448;1620;2322;1420;1724;1944;2158;2224;;;
Asker;23.83;104.6;0653;0832;1059;;1249;1458;1630;2334;1409;1713;1932;2144;2214;2324;;0555
Drammen;52.86;2.2;0708;0846;1115;;1303;1513;1645;2351;1354;1701;1914;2125;2201;2307;;0540
Hokksund;70.22;8.0;;;1136;;1320;1531;;0007;;1638;1854;2111;2140;;;0525
Vikersund;95.91;67.1;;;1158;;1349;1552;;0029;;1617;1833;2048;;;;0503
Hnefoss;124.21;96.8;0804;0937;1222;;1414;1619;1736;0056;1304;1555;1811;2025;2100;2201;;0442
Fl;186.64;155.0;;;1314;;;1712;;;;1503;1715;1934;;2108;;0349
Nesbyen;220.06;168.8;;1045;1340;;1532;1744;1845;0223;1152;1436;1643;1909;1949;2041;;0321
Gol;237.02;207.4;0930;1100;1354;;1545;1800;1900;0239;1141;1423;1630;1858;1938;2028;;0308
l;262.85;436.6;0950;1123;1419;1520;1608;1832;1921;0305;1121;1400;1609;1833;1919;2007;1957;0246
Geilo;287.38;794.2;1013;1145;1442;1545;1630;1855;1942;0328;1059;1339;1547;1812;1857;1946;1939;0224
Ustaoset;299.31;990.6;;1156;1454;1556;1643;1905;1953;0341;1048;1326;1536;1800;1845;;1927;0209
Haugastl;310.14;988.0;1042;;1505;1606;1655;1916;;0352;;1315;1527;1750;;1922;;0158
Finse;336.74;1222.2;1108;1224;1526;1626;1717;1937;2021;0417;1019;1254;1508;1730;1818;1900;1854;0138
Hallingskeid;357.44;1110.1;1123;;1538;1637;1732;1950;;;;1239;1454;1711;;1842;1839;
Myrdal;370.44;866.8;1137;1253;1551;1650;1746;2003;2045;0445;0953;1225;1440;1657;1752;1828;1825;0105
;370.44;866.8;1220;1258;1556;1652;1751;2004;2047;0445;0950;1220;1439;1652;1750;1823;1822;0101
// Upsete;376.79;850.2;;;;;;;;;;;;;;;;
// Mjlfjell;388.86;627.2;;;;;;;;;;;;;;;;
Voss;419.96;56.5;1312;1343;1640;1738;1836;2048;2130;0537;0910;1139;1355;1608;1710;1736;1740;0015
Dale;459;43.4;;;;;1903;;2156;0608;0836;1109;;;;;;2344
Vaksdal;475.17;16.0;;;;;;;;0626;;;;;;;;2326
Arna;501.43;8.0;1410;1441;1740;1840;1935;2155;2228;0644;0806;1037;1248;1506;1606;1618;1637;2307
Bergen;526.64;3.9;1422;1442;1752;1850;1945;2204;2235;0656;0758;1028;1240;1458;1558;1610;1628;2258
`.split(`
`),f=m[0];m.splice(0,1);const x=f.split(";"),g=x.length-3,w=new LineSeries({strokeThickness:0,markerType:MarkerType.Circle,markerFill:OxyColor.fromAColor(200,OxyColors.Black),markerSize:4}),C=new Array(g);for(let _=0;_<C.length;_++)C[_]=new LineSeries({title:x[3+_],color:OxyColor.fromAColor(180,OxyColors.Black),strokeThickness:2,trackerStringFormatter:M=>`Train ${M.title}
Time: ${formatTimeSpan(M.xValue,"hh:mm:ss")}
Distance from Oslo S: ${M.yValue.toFixed(1)} km`}),a.series.push(C[_]);for(const _ of m){if(!_||_.startsWith("//"))continue;const M=_.split(";"),P=M[0],D=parseFloat(M[1]);P&&(s.majorTicks.push(D),s.labels.push(P));for(let E=0;E<C.length;E++){const I=M[E+3];if(!I)continue;const B=parseInt(I),F=TimeSpan.from(0,Math.floor(B/100),B%100,0),R=TimeSpanAxis.toDouble(F);C[E].points.push(new DataPoint(R,D)),w.points.push(new DataPoint(R,D))}}const A=TimeSpanAxis.toDouble(TimeSpan.fromHours(24));for(const _ of a.series)if(_ instanceof DataPointSeries){for(let M=0;M+1<_.points.length;M++)if(Math.abs(_.points[M].x-_.points[M+1].x)>A/2){let P=_.points[M].x;P>A/2&&(P-=A);let D=_.points[M+1].x;D>A/2&&(D-=A);const E=_.points[M].y+(_.points[M+1].y-_.points[M].y)/(D-P)*(0-P);_.points.splice(M+1,0,new DataPoint(P<D?0:A,E)),_.points.splice(M+1,0,new DataPoint(Number.NaN,E)),_.points.splice(M+1,0,new DataPoint(P<D?A:0,E)),M+=3}}return console.log(s),a.series.push(w),a}function laLineaAreaSeries(){const a=new PlotModel({title:"La Linea",plotType:PlotType.Cartesian,background:OxyColor.fromRgb(84,98,207)});a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-500,maximum:1e3}));const d=new AreaSeries({fill:OxyColors.White,strokeThickness:0});return d.points.push(...lineaPoints),a.series.push(d),a}function laLinea(){const a=new PlotModel({title:"La Linea",plotType:PlotType.Cartesian,background:OxyColor.fromRgb(84,98,207)});a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-500,maximum:1e3}));const d=new LineSeries({color:OxyColors.White,strokeThickness:1.5});return d.points.push(...lineaPoints),a.series.push(d),a}function conwayLife(){const a=new PlotModel({title:"Conway's Game of Life",subtitle:"Click the mouse to step to the next generation."});a.axes.push(new LinearAxis({position:AxisPosition.Left,startPosition:1,endPosition:0})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom}));const d=40,s=40;let m=create2DArray(s,d,0);const f=new MatrixSeries({matrix:m}),x=(_,M)=>{m[_][M]=m[_][M+1]=m[_][M+2]=1},g=(_,M)=>{m[_][M]=m[_+1][M+1]=m[_+1][M+2]=m[_+2][M]=m[_+2][M+1]=1},w=(_,M)=>{m[_][M+1]=m[_][M+2]=m[_+1][M]=m[_+1][M+1]=m[_+2][M+1]=1};x(2,10),g(2,2),w(20,20),a.series.push(f);let C=0;const A=()=>{const _=create2DArray(s,d,0);for(let M=1;M<d-1;M++)for(let P=1;P<s-1;P++){const D=m[M-1][P-1]+m[M-1][P]+m[M-1][P+1]+m[M][P-1]+m[M][P+1]+m[M+1][P-1]+m[M+1][P]+m[M+1][P+1];if(m[M][P]===0&&D===3){_[M][P]=1;continue}m[M][P]===1&&(D===2||D===3)&&(_[M][P]=1)}C++,f.title="Generation "+C,f.matrix=m=_,a.invalidatePlot(!0)};return a.mouseDown=(_,M)=>{M.changedButton===OxyMouseButton.Left&&(A(),M.handled=!0)},a}function elephantCurve(){const a=Math.sin,d=f=>-27/5*a(3/2-30*f)-16/3*a(9/8-29*f)-29/5*a(5/4-27*f)-8/3*a(1/4-26*f)-25/7*a(1/3-25*f)-31/4*a(4/7-22*f)-25/4*a(4/3-20*f)-33/2*a(2/3-19*f)-67/4*a(6/5-16*f)-100/11*a(1/4-10*f)-425/7*a(1-4*f)+149/4*a(8*f)+1172/3*a(f+21/5)+661/11*a(2*f+3)+471/8*a(3*f+10/7)+211/7*a(5*f+13/4)+39/4*a(6*f+10/7)+139/10*a(7*f+7/6)+77/3*a(9*f+18/7)+135/8*a(11*f+1/2)+23/4*a(12*f+8/5)+95/4*a(13*f+4)+31/4*a(14*f+3/5)+67/11*a(15*f+7/3)+127/21*a(17*f+17/4)+95/8*a(18*f+7/8)+32/11*a(21*f+8/3)+81/10*a(23*f+45/11)+13/3*a(24*f+13/4)+7/4*a(28*f+3/2)+11/5*a(31*f+5/2)+1/3*a(32*f+12/5)+13/4*a(33*f+22/5)+14/3*a(34*f+9/4)+9/5*a(35*f+8/5)+17/9*a(36*f+22/5)+1/3*a(37*f+15/7)+3/2*a(38*f+39/10)+4/3*a(39*f+7/2)+5/3*a(40*f+17/6),s=f=>-13/7*a(1/2-40*f)-31/8*a(1/11-34*f)-12/5*a(1/4-31*f)-9/4*a(4/3-29*f)-5/3*a(4/3-28*f)-11/2*a(6/5-26*f)-17/7*a(3/2-25*f)-5/2*a(1-24*f)-39/7*a(1-19*f)-59/5*a(2/3-18*f)-179/9*a(13/12-12*f)-103/2*a(1/10-9*f)-356/5*a(1-5*f)-429/2*a(20/19-f)+288/5*a(2*f+10/3)+53/6*a(3*f+5/2)+351/7*a(4*f+5/2)+201/4*a(6*f+17/7)+167/3*a(7*f+19/5)+323/5*a(8*f+1/4)+153/7*a(10*f+2/3)+71/5*a(11*f+6/5)+47/12*a(13*f+11/5)+391/26*a(14*f+2)+164/11*a(15*f+1/7)+11/2*a(16*f+2/3)+31/3*a(17*f+1/7)+54/11*a(20*f+1/4)+43/5*a(21*f+13/3)+13/5*a(22*f+3/2)+17/5*a(23*f+11/5)+19/10*a(27*f+4)+15/2*a(30*f+55/18)+4/3*a(32*f+3/5)+5/3*a(33*f+4)+27/7*a(35*f+13/6)+1/4*a(36*f+43/11)+16/5*a(37*f+9/2)+20/19*a(38*f+23/6)+8/3*a(39*f+4/7),m=new PlotModel({title:"Elephant curve",plotType:PlotType.Cartesian});return m.series.push(FunctionSeries.fromFxFyN(d,s,0,Math.PI*2,1e3)),m}function piCurve(){const a=Math.sin,d=f=>17/31*a(235/57-32*f)+19/17*a(192/55-30*f)+47/32*a(69/25-29*f)+35/26*a(75/34-27*f)+6/31*a(23/10-26*f)+35/43*a(10/33-25*f)+126/43*a(421/158-24*f)+143/57*a(35/22-22*f)+106/27*a(84/29-21*f)+88/25*a(23/27-20*f)+74/27*a(53/22-19*f)+44/53*a(117/25-18*f)+126/25*a(88/49-17*f)+79/11*a(43/26-16*f)+43/12*a(41/17-15*f)+47/27*a(244/81-14*f)+8/5*a(79/19-13*f)+373/46*a(109/38-12*f)+1200/31*a(133/74-11*f)+67/24*a(157/61-10*f)+583/28*a(13/8-8*f)+772/35*a(59/16-7*f)+3705/46*a(117/50-6*f)+862/13*a(19/8-5*f)+6555/34*a(157/78-3*f)+6949/13*a(83/27-f)-6805/54*a(2*f+1/145)-5207/37*a(4*f+49/74)-1811/58*a(9*f+55/43)-63/20*a(23*f+2/23)-266/177*a(28*f+13/18)-2/21*a(31*f+7/16),s=f=>70/37*a(65/32-32*f)+11/12*a(98/41-31*f)+26/29*a(35/12-30*f)+54/41*a(18/7-29*f)+177/71*a(51/19-27*f)+59/34*a(125/33-26*f)+49/29*a(18/11-25*f)+151/75*a(59/22-24*f)+52/9*a(118/45-22*f)+52/33*a(133/52-21*f)+37/45*a(61/14-20*f)+143/46*a(144/41-19*f)+254/47*a(19/52-18*f)+246/35*a(92/25-17*f)+722/111*a(176/67-16*f)+136/23*a(3/19-15*f)+273/25*a(32/21-13*f)+229/33*a(117/28-12*f)+19/4*a(43/11-11*f)+135/8*a(23/10-10*f)+205/6*a(33/23-8*f)+679/45*a(55/12-7*f)+101/8*a(11/12-6*f)+2760/59*a(40/11-5*f)+1207/18*a(21/23-4*f)+8566/27*a(39/28-3*f)+12334/29*a(47/37-2*f)+15410/39*a(185/41-f)-596/17*a(9*f+3/26)-247/28*a(14*f+25/21)-458/131*a(23*f+21/37)-41/36*a(28*f+7/8),m=new PlotModel({title:"PI curve",plotType:PlotType.Cartesian});return m.series.push(FunctionSeries.fromFxFyN(d,s,0,Math.PI*2,1e3)),m}function numericOdeSolvers(a,d,s,m,f,x){const g=new PlotModel({title:a,subtitle:d}),w=new Legend({legendPosition:LegendPosition.BottomCenter,legendPlacement:LegendPlacement.Outside,legendOrientation:LegendOrientation.Horizontal});g.legends.push(w);const C=FunctionSeries.fromN(f,0,4,100);Object.assign(C,{title:"Exact solution",strokeThickness:5}),g.series.push(C);const A=new LineSeries({title:"Euler, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});A.points.push(...euler(x,s,m,4,.25)),g.series.push(A);const _=new LineSeries({title:"Heun, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});_.points.push(...heun(x,s,m,4,.25)),g.series.push(_);const M=new LineSeries({title:"Midpoint, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});M.points.push(...midpoint(x,s,m,4,.25)),g.series.push(M);const P=new LineSeries({title:"RK4, h=0.25",markerType:MarkerType.Circle,markerFill:OxyColors.Black});return P.points.push(...rungeKutta4(x,s,m,4,.25)),g.series.push(P),g.axes.push(new LinearAxis({position:AxisPosition.Left})),g}function euler(a,d,s,m,f){const x=[];let g=s;for(let w=d;w<m+f/2;w+=f)x.push(new DataPoint(w,g)),g+=f*a(w,g);return x}function heun(a,d,s,m,f){const x=[];let g=s;for(let w=d;w<m+f/2;w+=f){x.push(new DataPoint(w,g));const C=g+f*a(w,g);g=g+f/2*(a(w,g)+a(w+f,C))}return x}function midpoint(a,d,s,m,f){const x=[];let g=s;for(let w=d;w<m+f/2;w+=f)x.push(new DataPoint(w,g)),g+=f*a(w+f/2,g+f/2*a(w,g));return x}function rungeKutta4(a,d,s,m,f){const x=[];let g=s;for(let w=d;w<m+f/2;w+=f){x.push(new DataPoint(w,g));const C=f*a(w,g),A=f*a(w+f/2,g+C/2),_=f*a(w+f/2,g+A/2),M=f*a(w+f,g+_);g+=(C+2*A+2*_+M)/6}return x}class CustomAxis extends LinearAxis{constructor(s){super(s);ee(this,"majorTicks",[]);ee(this,"minorTicks",[]);ee(this,"labels",[])}getTickValues(s,m,f){return m.length=0,m.push(...this.majorTicks.filter(x=>x>=this.actualMinimum&&x<=this.actualMaximum)),f.length=0,f.push(...this.minorTicks.filter(x=>x>=this.actualMinimum&&x<=this.actualMaximum)),s.length=0,s.push(...m),{majorLabelValues:m,majorTickValues:m,minorTickValues:f}}formatValueOverride(s){return this.labels[this.majorTicks.indexOf(s)]}}const category$r="Misc",MiscExamples={category:category$r,examples:[{title:"Numeric ODE solvers (y'=y)",example:{model:numericOdeSolvers1}},{title:"Numeric ODE solvers (y'=x)",example:{model:numericOdeSolvers2}},{title:"Numeric ODE solvers (y'=cos(x))",example:{model:numericOdeSolvers3}},{title:"Train schedule",example:{model:trainSchedule}},{title:"La Linea (AreaSeries)",example:{model:laLineaAreaSeries}},{title:"La Linea (LineSeries)",example:{model:laLinea}},{title:"Conway's Game of Life",example:{model:conwayLife}},{title:"Elephant curve",example:{model:elephantCurve}},{title:"PI curve",example:{model:piCurve}}]};function test1(){const a=new PlotModel({title:"XKCD style plot",subtitle:"Install the 'Humor Sans' font for the best experience"});a.renderingDecorator=s=>new XkcdRenderingDecorator(s);const d=FunctionSeries.fromN(Math.sin,0,10,50,"sin(x)");return a.series.push(d),a}function test2(){const a=new PlotModel({title:"Test #2"});a.renderingDecorator=w=>new XkcdRenderingDecorator(w),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:8,title:"INTENSITY"})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"TIME"}));const d=new LineSeries({color:OxyColors.Cyan,strokeThickness:4}),s=new LineSeries({color:OxyColors.White,strokeThickness:14}),m=new LineSeries({color:OxyColors.Red,strokeThickness:4}),f=257,x=1,g=9;for(let w=0;w<f;w++){const C=x+(g-x)*w/(f-1),A=1.5+10*(Math.sin(C)*Math.sin(C)/Math.sqrt(C))*Math.exp(-.5*(C-5)*(C-5)),_=3+10*(Math.sin(C)*Math.sin(C)/Math.sqrt(C))*Math.exp(-.5*(C-7)*(C-7));d.points.push(new DataPoint(C,A)),s.points.push(new DataPoint(C,_)),m.points.push(new DataPoint(C,_))}return a.series.push(d,s,m),a}function test3(){const a=new PlotModel({title:"Test #3"});a.renderingDecorator=g=>new XkcdRenderingDecorator(g);const d=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});a.legends.push(d);const s=new BarSeries({title:"Series 1",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});s.items.push(new BarItem({value:25})),s.items.push(new BarItem({value:137})),s.items.push(new BarItem({value:18})),s.items.push(new BarItem({value:40}));const m=new BarSeries({title:"Series 2",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1,xAxisKey:"x",yAxisKey:"y"});m.items.push(new BarItem({value:12})),m.items.push(new BarItem({value:14})),m.items.push(new BarItem({value:120})),m.items.push(new BarItem({value:26}));const f=new CategoryAxis({position:AxisPosition.Bottom,key:"y"});f.labels.push("Category A","Category B","Category C","Category D");const x=new LinearAxis({position:AxisPosition.Left,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0,key:"x"});return a.series.push(s),a.series.push(m),a.axes.push(f),a.axes.push(x),a}const category$q="XKCD",XkcdExamples={category:category$q,examples:[{title:"XKCD Test #1",example:{model:test1}},{title:"XKCD Test #2",example:{model:test2}},{title:"XKCD Test #3",example:{model:test3}}]},Misc=[MiscExamples,XkcdExamples];class HighLowItemGenerator{static mrProcess(d,s=100,m=.5,f=.7,x=.01){let g=s;const w=[],C=new Date;for(let A=0;A<d;A++){const _=-x*(g-s)+this.randomNormal(0,m),M=-x*(g-s)+this.randomNormal(0,f),P=-x*(g-s)+this.randomNormal(0,f),D=g,E=g=g+_,I=this.min(D,E,D+M,D+P),B=this.max(D,E,D+M,D+P),F=new Date(C.getTime()+A*1e3),R=DateTimeAxis.toDouble(F);w.push(createHighLowItem(R,B,I,D,E))}return w}static min(d,s,m,f){return Math.min(d,Math.min(s,Math.min(m,f)))}static max(d,s,m,f){return Math.max(d,Math.max(s,Math.max(m,f)))}static randomNormal(d,s){return this.inverseCumNormal(this.rand.next(),d,s)}static inverseCumNormal(d,s,m){const f=-39.69683028665376,x=220.9460984245205,g=-275.9285104469687,w=138.357751867269,C=-30.66479806614716,A=2.506628277459239,_=-54.47609879822406,M=161.5858368580409,P=-155.6989798598866,D=66.80131188771972,E=-13.28068155288572,I=-.007784894002430293,B=-.3223964580411365,F=-2.400758277161838,R=-2.549732539343734,L=4.374664141464968,z=2.938163982698783,G=.007784695709041462,W=.3224671290700398,K=2.445134137142996,q=3.754408661907416,Z=.02425,J=1-Z;let Q,ie;return d<Z?(Q=Math.sqrt(-2*Math.log(d)),Q=(((((I*Q+B)*Q+F)*Q+R)*Q+L)*Q+z)/((((G*Q+W)*Q+K)*Q+q)*Q+1)):d<=J?(Q=d-.5,ie=Q*Q,Q=(((((f*ie+x)*ie+g)*ie+w)*ie+C)*ie+A)*Q/(((((_*ie+M)*ie+P)*ie+D)*ie+E)*ie+1)):(Q=Math.sqrt(-2*Math.log(1-d)),Q=-(((((I*Q+B)*Q+F)*Q+R)*Q+L)*Q+z)/((((G*Q+W)*Q+K)*Q+q)*Q+1)),ie=(this.cumN0(Q)-d)*Math.sqrt(2)*Math.sqrt(Math.PI)*Math.exp(.5*Q*Q),Q-=ie/(1+.5*Q*ie),s+Q*m}static cumN0(d){const s=.31938153,m=-.356563782,f=1.781477937,x=-1.821255978,g=1.330274429,w=.2316419,C=.39894228;if(d>=0){const A=1/(1+w*d);return 1-C*Math.exp(-d*d/2)*A*(A*(A*(A*(A*g+x)+f)+m)+s)}else{const A=1/(1-w*d);return C*Math.exp(-d*d/2)*A*(A*(A*(A*(A*g+x)+f)+m)+s)}}}ee(HighLowItemGenerator,"rand",new Random);function largeDataSetWide(){const a=new PlotModel({title:"Large Data Set (wide window)"}),d=new DateTimeAxis({position:AxisPosition.Bottom});a.axes.push(d);const s=new LinearAxis({position:AxisPosition.Left});a.axes.push(s);const m=1e5,f=HighLowItemGenerator.mrProcess(m),x=new CandleStickSeries({color:OxyColors.Black,increasingColor:OxyColors.DarkGreen,decreasingColor:OxyColors.Red,dataFieldX:"Time",dataFieldHigh:"H",dataFieldLow:"L",dataFieldOpen:"O",dataFieldClose:"C",trackerStringFormatter:A=>`High: ${A.high.toFixed(2)}
Low: ${A.low.toFixed(2)}
Open: ${A.open.toFixed(2)}
Close: ${A.close.toFixed(2)}`,itemsSource:f}),g=m-200,w=70;d.minimum=f[g].x,d.maximum=f[g+w].x;const C=f.slice(g,g+w);return s.minimum=Math.min(...C.map(A=>A.low)),s.maximum=Math.max(...C.map(A=>A.high)),a.series.push(x),d.axisChanged=(A,_)=>_adjustYExtent(x,d,s),a}function largeDataSetNarrow(){const a=new PlotModel({title:"Large Data Set (narrow window)"}),d=new DateTimeAxis({position:AxisPosition.Bottom});a.axes.push(d);const s=new LinearAxis({position:AxisPosition.Left});a.axes.push(s);const m=1e5,f=HighLowItemGenerator.mrProcess(m),x=new CandleStickSeries({color:OxyColors.Black,increasingColor:OxyColors.DarkGreen,decreasingColor:OxyColors.Red,trackerStringFormatter:g=>`High: ${g.high.toFixed(2)}
Low: ${g.low.toFixed(2)}
Open: ${g.open.toFixed(2)}
Close: ${g.close.toFixed(2)}`,itemsSource:f});return d.minimum=f[0].x,d.maximum=f[29].x,s.minimum=f.slice(0,30).map(g=>g.low).reduce((g,w)=>Math.min(g,w)),s.maximum=f.slice(0,30).map(g=>g.high).reduce((g,w)=>Math.max(g,w)),a.series.push(x),d.axisChanged=(g,w)=>_adjustYExtent(x,d,s),a}function smallDataSet(){const a=new PlotModel({title:"Small Data Set"}),d=new DateTimeAxis({position:AxisPosition.Bottom});a.axes.push(d);const s=new LinearAxis({position:AxisPosition.Left});a.axes.push(s);const m=100,f=HighLowItemGenerator.mrProcess(m),x=new CandleStickSeries({color:OxyColors.Black,increasingColor:OxyColors.DarkGreen,decreasingColor:OxyColors.Red,dataFieldX:"X",dataFieldHigh:"High",dataFieldLow:"Low",dataFieldOpen:"Open",dataFieldClose:"Close",trackerStringFormatter:g=>`High: ${g.high.toFixed(2)}
Low: ${g.low.toFixed(2)}
Open: ${g.open.toFixed(2)}
Close: ${g.close.toFixed(2)}`,itemsSource:f});return a.series.push(x),d.axisChanged=(g,w)=>_adjustYExtent(x,d,s),a}function simpleExample(){const a=DateTimeAxis.toDouble(new Date(2016,1,1)),d=new PlotModel({title:"Simple CandleStickSeries example"});d.axes.push(new DateTimeAxis({position:AxisPosition.Bottom,minimum:a-7,maximum:a+7})),d.axes.push(new LinearAxis({position:AxisPosition.Left}));const s=new CandleStickSeries;return s.items.push(createHighLowItem(a,100,80,92,94)),s.items.push(createHighLowItem(a+1,102,77,94,93)),s.items.push(createHighLowItem(a+2,99,85,93,93)),d.series.push(s),d}function _adjustYExtent(a,d,s){const m=d.actualMinimum,f=d.actualMaximum,x=a.findByX(m),g=a.findByX(f,x);let w=Number_MAX_VALUE,C=Number_MIN_VALUE;for(let M=x;M<=g;M++){const P=a.items[M];w=Math.min(w,P.low),C=Math.max(C,P.high)}const _=(C-w)*.1;s.zoom(w-_,C+_)}const category$p="CandleStickSeries",CandleStickSeriesExamples={category:category$p,tags:["Series"],examples:[{title:"Large Data Set (wide window)",example:{model:largeDataSetWide}},{title:"Large Data Set (narrow window)",example:{model:largeDataSetNarrow}},{title:"Small Set",example:{model:smallDataSet}},{title:"Simple CandleStickSeries example",example:{model:simpleExample}}]};function highLowSeries(){const a=new PlotModel({title:"HighLowSeries"}),d=new Legend({legendSymbolLength:24});a.legends.push(d);const s=new HighLowSeries({title:"HighLowSeries 1",color:OxyColors.Black}),m=new Random(314);let f=100;for(let x=0;x<24;x++){f=f+m.next()+.1;const g=f+10+m.next()*10,w=f-(10+m.next()*10),C=w+m.next()*(g-w),A=w+m.next()*(g-w);s.items.push({x,high:g,low:w,open:C,close:A})}return a.series.push(s),a.axes.push(new LinearAxis({position:AxisPosition.Left,maximumPadding:.3,minimumPadding:.3})),a}function highLowSeriesDateTimeAxis(){const a=new PlotModel,d=DateTimeAxis.toDouble(new Date(2013,5,4)),s=getDateService(),m=new DateTimeAxis({position:AxisPosition.Bottom,minimum:d-.9,maximum:d+1.9,intervalType:DateTimeIntervalType.Days,majorStep:1,minorStep:1,stringFormatter:x=>s.format(x,"YYYY-MM-DD")});a.axes.push(m);const f=new HighLowSeries({trackerStringFormatter:x=>`X: ${s.format(x.xValue,"YYYY-MM-DD")}
High: ${x.high.toFixed(2)}
Low: ${x.low.toFixed(2)}
Open: ${x.open.toFixed(2)}
Close: ${x.close.toFixed(2)}`});return f.items.push(createHighLowItem(d,14,10,13,12.4)),f.items.push(createHighLowItem(d+1,17,8,12.4,16.3)),a.series.push(f),a}const category$o="HighLowSeries",HighLowSeriesExamples={category:category$o,tags:["Series"],examples:[{title:"HighLowSeries",example:{model:highLowSeries}},{title:"HighLowSeries (DateTime axis)",example:{model:highLowSeriesDateTimeAxis}}]};class OhlcvItemGenerator{static mrProcess(d,s=100,m=500,f=.5,x=.75,g=.01){let w=s;const C=[],A=new Date;for(let _=0;_<d;_++){const M=-g*(w-s)+this.randomNormal(0,f),P=w,E=(w=w+M)-P,I=m*Math.exp(Math.abs(E)/f),F=((E<0?-Math.min(-E/x,1):Math.min(E/x,1))+1)/2,R=F*I,L=(1-F)*I,z=new Date(A.getTime()+_*1e3),G=DateTimeAxis.toDouble(z);C.push(new OhlcvItem(G,R,L))}return C}static min(d,s,m,f){return Math.min(d,Math.min(s,Math.min(m,f)))}static max(d,s,m,f){return Math.max(d,Math.max(s,Math.max(m,f)))}static randomNormal(d,s){return HighLowItemGenerator.inverseCumNormal(this.rand.next(),d,s)}}ee(OhlcvItemGenerator,"rand",new Random);function justVolumeCombinedFixed(){return _createVolumeSeries("Just Volume (combined)",VolumeStyle.Combined,!1)}function justVolumeCombinedNatural(){return _createVolumeSeries("Just Volume (combined)",VolumeStyle.Combined,!0)}function justVolumeStackedFixed(){return _createVolumeSeries("Just Volume (stacked)",VolumeStyle.Stacked,!1)}function justVolumeStackedNatural(){return _createVolumeSeries("Just Volume (stacked)",VolumeStyle.Stacked,!0)}function justVolumePositiveNegativeFixed(){return _createVolumeSeries("Just Volume (+/-)",VolumeStyle.PositiveNegative,!1)}function justVolumePositiveNegativeNatural(){return _createVolumeSeries("Just Volume (+/-)",VolumeStyle.PositiveNegative,!0)}function _createVolumeSeries(a,d,s=!1,m=1e4){m=201;const f=new PlotModel({title:a}),x=new VolumeSeries({positiveColor:OxyColors.DarkGreen,negativeColor:OxyColors.Red,positiveHollow:!1,negativeHollow:!1,volumeStyle:d,title:"VolumeSeries"});for(const P of OhlcvItemGenerator.mrProcess(m))x.append(P);const g=m-200,w=m-120,C=x.items[g].x,A=x.items[w].x,_=new DateTimeAxis({position:AxisPosition.Bottom,minimum:C,maximum:A}),M=new LinearAxis({position:AxisPosition.Left,startPosition:0,endPosition:1,minimum:s?NaN:0,maximum:s?NaN:1e4});switch(d){case VolumeStyle.Combined:case VolumeStyle.Stacked:f.axes.push(_),f.axes.push(M);break;case VolumeStyle.PositiveNegative:M.minimum=s?NaN:-1e4,f.axes.push(_),f.axes.push(M);break}return f.series.push(x),f}const category$n="VolumeSeries",VolumeSeriesExamples={category:category$n,tags:["Series"],examples:[{title:"Just Volume (combined), fixed axis",example:{model:justVolumeCombinedFixed}},{title:"Just Volume (combined), natural axis",example:{model:justVolumeCombinedNatural}},{title:"Just Volume (stacked), fixed axis",example:{model:justVolumeStackedFixed}},{title:"Just Volume (stacked), natural axis",example:{model:justVolumeStackedNatural}},{title:"Just Volume (+/-), fixed axis",example:{model:justVolumePositiveNegativeFixed}},{title:"Just Volume (+/-), natural axis",example:{model:justVolumePositiveNegativeNatural}}]},FinancialSeries=[CandleStickSeriesExamples,HighLowSeriesExamples,VolumeSeriesExamples];function defaultStyle$2(){const a=new PlotModel({title:"AreaSeries with default style"});return a.series.push(createExampleAreaSeries()),a}function differentColors$1(){const a=new PlotModel({title:"AreaSeries with different stroke colors"}),d=createExampleAreaSeries();return d.color=OxyColors.Red,d.color2=OxyColors.Blue,a.series.push(d),a}function crossingLines(){const a=new PlotModel({title:"AreaSeries with crossing lines"}),d=new AreaSeries;return d.points.push(new DataPoint(0,50)),d.points.push(new DataPoint(10,140)),d.points.push(new DataPoint(20,60)),d.points2.push(new DataPoint(0,60)),d.points2.push(new DataPoint(5,80)),d.points2.push(new DataPoint(20,70)),a.series.push(d),a}function trackerFormatString$2(){const a=new PlotModel({title:"AreaSeries with custom TrackerFormatString"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"X-axis"})),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Y-axis"}));const d=createExampleAreaSeries();return d.title="X={2:0.0} Y={4:0.0}",d.trackerStringFormatter=s=>`X=${s.xValue.toFixed(1)} Y=${s.yValue.toFixed(1)}`,a.series.push(d),a}function constantBaseline(){const a=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = 0 (default)"}),d=new AreaSeries;return d.points.push(new DataPoint(0,50)),d.points.push(new DataPoint(10,140)),d.points.push(new DataPoint(20,60)),a.series.push(d),a}function constantBaselineNaN(){const a=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"Empty Points2, ConstantY2 = NaN"}),d=new AreaSeries;return d.points.push(new DataPoint(0,50)),d.points.push(new DataPoint(10,140)),d.points.push(new DataPoint(20,60)),d.constantY2=Number.NaN,a.series.push(d),a}function constantBaselineItemsSource(){const a=new PlotModel({title:"AreaSeries with constant baseline",subtitle:"ItemsSource and DataField2 not set, ConstantY2 = -20"}),d=new AreaSeries,s=[new DataPoint(0,50),new DataPoint(10,140),new DataPoint(20,60)];return d.itemsSource=s,d.dataFieldX="x",d.dataFieldY="y",d.constantY2=-20,a.series.push(d),a}function lineSeriesAndAreaSeries(){const a=new PlotModel({title:"LineSeries and AreaSeries"}),d=new LinearAxis({position:AxisPosition.Bottom});a.axes.push(d);const s=new LinearAxis;a.axes.push(s);const m=new AreaSeries({fill:OxyColors.LightBlue,dataFieldX2:"Time",dataFieldY2:"Minimum",color:OxyColors.Red,strokeThickness:0,markerFill:OxyColors.Transparent,dataFieldX:"Time",dataFieldY:"Maximum"});m.points2.push(new DataPoint(0,-5.04135905692417)),m.points2.push(new DataPoint(2.5,-4.91731850813018)),m.points2.push(new DataPoint(5,-4.45266314658926)),m.points2.push(new DataPoint(7.5,-3.87303874542613)),m.points2.push(new DataPoint(10,-3.00101110255393)),m.points2.push(new DataPoint(12.5,-2.17980725503518)),m.points2.push(new DataPoint(15,-1.67332229254456)),m.points2.push(new DataPoint(17.5,-1.10537158549082)),m.points2.push(new DataPoint(20,-.6145459544447)),m.points2.push(new DataPoint(22.5,.120028106039404)),m.points2.push(new DataPoint(25,1.06357270435597)),m.points2.push(new DataPoint(27.5,1.87301405606466)),m.points2.push(new DataPoint(30,2.57569854952195)),m.points2.push(new DataPoint(32.5,3.59165537664278)),m.points2.push(new DataPoint(35,4.87991958133872)),m.points2.push(new DataPoint(37.5,6.36214537958714)),m.points2.push(new DataPoint(40,7.62564585126268)),m.points2.push(new DataPoint(42.5,8.69606320261772)),m.points2.push(new DataPoint(45,10.0118704438265)),m.points2.push(new DataPoint(47.5,11.0434480519236)),m.points2.push(new DataPoint(50,11.9794171576758)),m.points2.push(new DataPoint(52.5,12.9591851832621)),m.points2.push(new DataPoint(55,14.172107889304)),m.points2.push(new DataPoint(57.5,15.5520057698488)),m.points2.push(new DataPoint(60,17.2274942386092)),m.points2.push(new DataPoint(62.5,18.6983982186757)),m.points2.push(new DataPoint(65,20.4560332001448)),m.points2.push(new DataPoint(67.5,22.4867327382261)),m.points2.push(new DataPoint(70,24.5319674302041)),m.points2.push(new DataPoint(72.5,26.600547815813)),m.points2.push(new DataPoint(75,28.5210891459701)),m.points2.push(new DataPoint(77.5,30.6793080755413)),m.points2.push(new DataPoint(80,33.0546651200646)),m.points2.push(new DataPoint(82.5,35.3256065179713)),m.points2.push(new DataPoint(85,37.6336074839968)),m.points2.push(new DataPoint(87.5,40.2012266359763)),m.points2.push(new DataPoint(90,42.8923555399256)),m.points2.push(new DataPoint(92.5,45.8665211907432)),m.points2.push(new DataPoint(95,48.8200195945427)),m.points2.push(new DataPoint(97.5,51.8304284402311)),m.points2.push(new DataPoint(100,54.6969868542147)),m.points2.push(new DataPoint(102.5,57.7047292990632)),m.points2.push(new DataPoint(105,60.4216644602929)),m.points2.push(new DataPoint(107.5,62.926258762519)),m.points2.push(new DataPoint(110,65.1829734629407)),m.points2.push(new DataPoint(112.5,67.2365592083133)),m.points2.push(new DataPoint(115,69.5713628691022)),m.points2.push(new DataPoint(117.5,71.7267046705944)),m.points2.push(new DataPoint(120,73.633463102781)),m.points2.push(new DataPoint(122.5,75.4660150158061)),m.points2.push(new DataPoint(125,77.5669292504745)),m.points2.push(new DataPoint(127.5,79.564218544664)),m.points2.push(new DataPoint(130,81.8631309028078)),m.points2.push(new DataPoint(132.5,83.9698189969034)),m.points2.push(new DataPoint(135,86.3847886532009)),m.points2.push(new DataPoint(137.5,88.5559348267764)),m.points2.push(new DataPoint(140,91.0455050418365)),m.points2.push(new DataPoint(142.5,93.6964157585504)),m.points2.push(new DataPoint(145,96.284336864941)),m.points2.push(new DataPoint(147.5,98.7508602689723)),m.points2.push(new DataPoint(150,100.904510594255)),m.points2.push(new DataPoint(152.5,103.266136681506)),m.points2.push(new DataPoint(155,105.780951269521)),m.points2.push(new DataPoint(157.5,108.032859257065)),m.points2.push(new DataPoint(160,110.035478448093)),m.points2.push(new DataPoint(162.5,112.10655731615)),m.points2.push(new DataPoint(165,114.37480786097)),m.points2.push(new DataPoint(167.5,116.403992550869)),m.points2.push(new DataPoint(170,118.61663988727)),m.points2.push(new DataPoint(172.5,120.538730287384)),m.points2.push(new DataPoint(175,122.515721057177)),m.points2.push(new DataPoint(177.5,124.474386629124)),m.points2.push(new DataPoint(180,126.448283293214)),m.points2.push(new DataPoint(182.5,128.373811322299)),m.points2.push(new DataPoint(185,130.33627914667)),m.points2.push(new DataPoint(187.5,132.487933658477)),m.points2.push(new DataPoint(190,134.716989778456)),m.points2.push(new DataPoint(192.5,136.817287595392)),m.points2.push(new DataPoint(195,139.216488664698)),m.points2.push(new DataPoint(197.5,141.50803227574)),m.points2.push(new DataPoint(200,143.539586683614)),m.points2.push(new DataPoint(202.5,145.535911545221)),m.points2.push(new DataPoint(205,147.516964978686)),m.points2.push(new DataPoint(207.5,149.592416731684)),m.points2.push(new DataPoint(210,151.600983566512)),m.points2.push(new DataPoint(212.5,153.498210993362)),m.points2.push(new DataPoint(215,155.512606828247)),m.points2.push(new DataPoint(217.5,157.426564302774)),m.points2.push(new DataPoint(220,159.364474964172)),m.points2.push(new DataPoint(222.5,161.152806492128)),m.points2.push(new DataPoint(225,162.679069434562)),m.points2.push(new DataPoint(227.5,163.893622036741)),m.points2.push(new DataPoint(230,165.475827621238)),m.points2.push(new DataPoint(232.5,167.303960444734)),m.points2.push(new DataPoint(235,169.259393394952)),m.points2.push(new DataPoint(237.5,171.265193646758)),m.points2.push(new DataPoint(240,173.074304345192)),m.points2.push(new DataPoint(242.5,174.975492766814)),m.points2.push(new DataPoint(245,176.684088218484)),m.points2.push(new DataPoint(247.5,178.406887247603)),m.points.push(new DataPoint(0,5.0184649433561)),m.points.push(new DataPoint(2.5,5.27685959268215)),m.points.push(new DataPoint(5,5.81437064628786)),m.points.push(new DataPoint(7.5,6.51022475040994)),m.points.push(new DataPoint(10,7.49921246878766)),m.points.push(new DataPoint(12.5,8.41941631823751)),m.points.push(new DataPoint(15,9.09826907222079)),m.points.push(new DataPoint(17.5,9.89500750098145)),m.points.push(new DataPoint(20,10.6633345249404)),m.points.push(new DataPoint(22.5,11.6249613445368)),m.points.push(new DataPoint(25,12.8816391467497)),m.points.push(new DataPoint(27.5,13.9665185705603)),m.points.push(new DataPoint(30,14.8501816818724)),m.points.push(new DataPoint(32.5,16.0683128022441)),m.points.push(new DataPoint(35,17.5378799723172)),m.points.push(new DataPoint(37.5,19.1262752954039)),m.points.push(new DataPoint(40,20.4103953650735)),m.points.push(new DataPoint(42.5,21.5430627723891)),m.points.push(new DataPoint(45,22.9105459463366)),m.points.push(new DataPoint(47.5,23.9802361888719)),m.points.push(new DataPoint(50,24.8659461235003)),m.points.push(new DataPoint(52.5,25.7303194442439)),m.points.push(new DataPoint(55,26.7688545912359)),m.points.push(new DataPoint(57.5,28.0545112571933)),m.points.push(new DataPoint(60,29.7036634266394)),m.points.push(new DataPoint(62.5,31.2273634344467)),m.points.push(new DataPoint(65,33.1038196356519)),m.points.push(new DataPoint(67.5,35.2639893610328)),m.points.push(new DataPoint(70,37.434293559489)),m.points.push(new DataPoint(72.5,39.7109359368267)),m.points.push(new DataPoint(75,41.7573881676222)),m.points.push(new DataPoint(77.5,44.0460374479862)),m.points.push(new DataPoint(80,46.5098714746581)),m.points.push(new DataPoint(82.5,48.7754012129155)),m.points.push(new DataPoint(85,51.1619816926597)),m.points.push(new DataPoint(87.5,53.9036778414639)),m.points.push(new DataPoint(90,56.7448825012636)),m.points.push(new DataPoint(92.5,59.9294987878434)),m.points.push(new DataPoint(95,63.0148831289797)),m.points.push(new DataPoint(97.5,66.0721745989622)),m.points.push(new DataPoint(100,68.8980036274521)),m.points.push(new DataPoint(102.5,71.7719322611447)),m.points.push(new DataPoint(105,74.4206055336728)),m.points.push(new DataPoint(107.5,76.816198386632)),m.points.push(new DataPoint(110,79.0040432726983)),m.points.push(new DataPoint(112.5,80.9617606926066)),m.points.push(new DataPoint(115,83.1345574620341)),m.points.push(new DataPoint(117.5,85.0701022046479)),m.points.push(new DataPoint(120,86.8557530286516)),m.points.push(new DataPoint(122.5,88.5673387745243)),m.points.push(new DataPoint(125,90.6003321543338)),m.points.push(new DataPoint(127.5,92.439864576254)),m.points.push(new DataPoint(130,94.5383744861178)),m.points.push(new DataPoint(132.5,96.4600166864507)),m.points.push(new DataPoint(135,98.6091052949006)),m.points.push(new DataPoint(137.5,100.496459351478)),m.points.push(new DataPoint(140,102.705767030085)),m.points.push(new DataPoint(142.5,105.009994476992)),m.points.push(new DataPoint(145,107.31287026052)),m.points.push(new DataPoint(147.5,109.584842542272)),m.points.push(new DataPoint(150,111.641435600837)),m.points.push(new DataPoint(152.5,113.988459973544)),m.points.push(new DataPoint(155,116.50349048027)),m.points.push(new DataPoint(157.5,118.753612704274)),m.points.push(new DataPoint(160,120.801728924085)),m.points.push(new DataPoint(162.5,122.902486914165)),m.points.push(new DataPoint(165,125.104391935796)),m.points.push(new DataPoint(167.5,127.06056966547)),m.points.push(new DataPoint(170,129.217086578495)),m.points.push(new DataPoint(172.5,131.151968896274)),m.points.push(new DataPoint(175,133.159906275133)),m.points.push(new DataPoint(177.5,135.065263957561)),m.points.push(new DataPoint(180,137.041870026822)),m.points.push(new DataPoint(182.5,138.937477489811)),m.points.push(new DataPoint(185,140.776914926282)),m.points.push(new DataPoint(187.5,142.786975776398)),m.points.push(new DataPoint(190,144.862762377347)),m.points.push(new DataPoint(192.5,146.89654967049)),m.points.push(new DataPoint(195,149.204343821204)),m.points.push(new DataPoint(197.5,151.369748673527)),m.points.push(new DataPoint(200,153.324438580137)),m.points.push(new DataPoint(202.5,155.173148715344)),m.points.push(new DataPoint(205,157.0501827528)),m.points.push(new DataPoint(207.5,159.109122278359)),m.points.push(new DataPoint(210,161.044446932778)),m.points.push(new DataPoint(212.5,162.942364031841)),m.points.push(new DataPoint(215,164.966769883021)),m.points.push(new DataPoint(217.5,166.89711806788)),m.points.push(new DataPoint(220,168.906874949069)),m.points.push(new DataPoint(222.5,170.85692034995)),m.points.push(new DataPoint(225,172.602125010408)),m.points.push(new DataPoint(227.5,173.964258466598)),m.points.push(new DataPoint(230,175.629908385654)),m.points.push(new DataPoint(232.5,177.495778359378)),m.points.push(new DataPoint(235,179.432933300749)),m.points.push(new DataPoint(237.5,181.400180771342)),m.points.push(new DataPoint(240,183.232300309899)),m.points.push(new DataPoint(242.5,185.225502661441)),m.points.push(new DataPoint(245,186.979590140413)),m.points.push(new DataPoint(247.5,188.816640077725)),m.title="Maximum/Minimum",a.series.push(m);const f=new LineSeries({color:OxyColors.Blue,markerFill:OxyColors.Transparent,dataFieldX:"Time",dataFieldY:"Value"});return f.points.push(new DataPoint(0,-.011447056784037)),f.points.push(new DataPoint(2.5,.179770542275985)),f.points.push(new DataPoint(5,.6808537498493)),f.points.push(new DataPoint(7.5,1.31859300249191)),f.points.push(new DataPoint(10,2.24910068311687)),f.points.push(new DataPoint(12.5,3.11980453160117)),f.points.push(new DataPoint(15,3.71247338983811)),f.points.push(new DataPoint(17.5,4.39481795774531)),f.points.push(new DataPoint(20,5.02439428524784)),f.points.push(new DataPoint(22.5,5.87249472528812)),f.points.push(new DataPoint(25,6.97260592555283)),f.points.push(new DataPoint(27.5,7.91976631331247)),f.points.push(new DataPoint(30,8.71294011569719)),f.points.push(new DataPoint(32.5,9.82998408944345)),f.points.push(new DataPoint(35,11.208899776828)),f.points.push(new DataPoint(37.5,12.7442103374955)),f.points.push(new DataPoint(40,14.0180206081681)),f.points.push(new DataPoint(42.5,15.1195629875034)),f.points.push(new DataPoint(45,16.4612081950815)),f.points.push(new DataPoint(47.5,17.5118421203978)),f.points.push(new DataPoint(50,18.4226816405881)),f.points.push(new DataPoint(52.5,19.344752313753)),f.points.push(new DataPoint(55,20.47048124027)),f.points.push(new DataPoint(57.5,21.8032585135211)),f.points.push(new DataPoint(60,23.4655788326243)),f.points.push(new DataPoint(62.5,24.9628808265612)),f.points.push(new DataPoint(65,26.7799264178984)),f.points.push(new DataPoint(67.5,28.8753610496295)),f.points.push(new DataPoint(70,30.9831304948466)),f.points.push(new DataPoint(72.5,33.1557418763199)),f.points.push(new DataPoint(75,35.1392386567962)),f.points.push(new DataPoint(77.5,37.3626727617638)),f.points.push(new DataPoint(80,39.7822682973613)),f.points.push(new DataPoint(82.5,42.0505038654434)),f.points.push(new DataPoint(85,44.3977945883283)),f.points.push(new DataPoint(87.5,47.0524522387201)),f.points.push(new DataPoint(90,49.8186190205946)),f.points.push(new DataPoint(92.5,52.8980099892933)),f.points.push(new DataPoint(95,55.9174513617612)),f.points.push(new DataPoint(97.5,58.9513015195966)),f.points.push(new DataPoint(100,61.7974952408334)),f.points.push(new DataPoint(102.5,64.738330780104)),f.points.push(new DataPoint(105,67.4211349969828)),f.points.push(new DataPoint(107.5,69.8712285745755)),f.points.push(new DataPoint(110,72.0935083678195)),f.points.push(new DataPoint(112.5,74.0991599504599)),f.points.push(new DataPoint(115,76.3529601655682)),f.points.push(new DataPoint(117.5,78.3984034376212)),f.points.push(new DataPoint(120,80.2446080657163)),f.points.push(new DataPoint(122.5,82.0166768951652)),f.points.push(new DataPoint(125,84.0836307024042)),f.points.push(new DataPoint(127.5,86.002041560459)),f.points.push(new DataPoint(130,88.2007526944628)),f.points.push(new DataPoint(132.5,90.2149178416771)),f.points.push(new DataPoint(135,92.4969469740507)),f.points.push(new DataPoint(137.5,94.5261970891274)),f.points.push(new DataPoint(140,96.875636035961)),f.points.push(new DataPoint(142.5,99.3532051177711)),f.points.push(new DataPoint(145,101.798603562731)),f.points.push(new DataPoint(147.5,104.167851405622)),f.points.push(new DataPoint(150,106.272973097546)),f.points.push(new DataPoint(152.5,108.627298327525)),f.points.push(new DataPoint(155,111.142220874895)),f.points.push(new DataPoint(157.5,113.39323598067)),f.points.push(new DataPoint(160,115.418603686089)),f.points.push(new DataPoint(162.5,117.504522115157)),f.points.push(new DataPoint(165,119.739599898383)),f.points.push(new DataPoint(167.5,121.732281108169)),f.points.push(new DataPoint(170,123.916863232882)),f.points.push(new DataPoint(172.5,125.845349591829)),f.points.push(new DataPoint(175,127.837813666155)),f.points.push(new DataPoint(177.5,129.769825293343)),f.points.push(new DataPoint(180,131.745076660018)),f.points.push(new DataPoint(182.5,133.655644406055)),f.points.push(new DataPoint(185,135.556597036476)),f.points.push(new DataPoint(187.5,137.637454717438)),f.points.push(new DataPoint(190,139.789876077902)),f.points.push(new DataPoint(192.5,141.856918632941)),f.points.push(new DataPoint(195,144.210416242951)),f.points.push(new DataPoint(197.5,146.438890474634)),f.points.push(new DataPoint(200,148.432012631876)),f.points.push(new DataPoint(202.5,150.354530130282)),f.points.push(new DataPoint(205,152.283573865743)),f.points.push(new DataPoint(207.5,154.350769505022)),f.points.push(new DataPoint(210,156.322715249645)),f.points.push(new DataPoint(212.5,158.220287512602)),f.points.push(new DataPoint(215,160.239688355634)),f.points.push(new DataPoint(217.5,162.161841185327)),f.points.push(new DataPoint(220,164.135674956621)),f.points.push(new DataPoint(222.5,166.004863421039)),f.points.push(new DataPoint(225,167.640597222485)),f.points.push(new DataPoint(227.5,168.928940251669)),f.points.push(new DataPoint(230,170.552868003446)),f.points.push(new DataPoint(232.5,172.399869402056)),f.points.push(new DataPoint(235,174.346163347851)),f.points.push(new DataPoint(237.5,176.33268720905)),f.points.push(new DataPoint(240,178.153302327545)),f.points.push(new DataPoint(242.5,180.100497714128)),f.points.push(new DataPoint(245,181.831839179449)),f.points.push(new DataPoint(247.5,183.611763662664)),f.title="Average",a.series.push(f),a}function createExampleAreaSeries(){const a=new AreaSeries;return a.points.push(new DataPoint(0,50)),a.points.push(new DataPoint(10,40)),a.points.push(new DataPoint(20,60)),a.points2.push(new DataPoint(0,60)),a.points2.push(new DataPoint(5,80)),a.points2.push(new DataPoint(20,70)),a}const category$m="AreaSeries",AreaSeriesExamples={category:category$m,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle$2}},{title:"Different stroke colors",example:{model:differentColors$1}},{title:"Crossing lines",example:{model:crossingLines}},{title:"Custom TrackerFormatString",example:{model:trackerFormatString$2}},{title:"Constant baseline (empty Points2)",example:{model:constantBaseline}},{title:"Constant baseline (empty Points2, ConstantY2=NaN)",example:{model:constantBaselineNaN}},{title:"Constant baseline (ItemsSource and DataField2 not set)",example:{model:constantBaselineItemsSource}},{title:"LineSeries and AreaSeries",example:{model:lineSeriesAndAreaSeries}}]};function withLabels(){const a=new PlotModel;a.title="With labels";const d=(g,w)=>g.value.toString(),s=new Random(1),m=[new BarSeries({labelStringFormatter:d,labelPlacement:LabelPlacement.Base,textColor:OxyColors.White,title:"Base"}),new BarSeries({labelStringFormatter:d,labelPlacement:LabelPlacement.Inside,textColor:OxyColors.White,title:"Inside"}),new BarSeries({labelStringFormatter:d,labelPlacement:LabelPlacement.Middle,textColor:OxyColors.White,title:"Middle"}),new BarSeries({labelStringFormatter:d,labelPlacement:LabelPlacement.Outside,title:"Outside"})];for(let g=0;g<4;g++)for(const w of m)w.items.push(BarItem.fromValue(s.next(-100,100)));const f=new CategoryAxis;f.position=AxisPosition.Left,f.labels.push("Category A","Category B","Category C","Category D");const x=new LinearAxis;x.position=AxisPosition.Bottom,x.minimumPadding=.06,x.maximumPadding=.06,x.extraGridlines=[0];for(const g of m)a.series.push(g);return a.axes.push(f),a.axes.push(x),a}function withLabelsAtAnAngle(){const a=withLabels();for(const d of a.series)d.labelAngle=-45;return a}const stackedSeries=()=>createSimpleModel(!0,"Simple stacked model"),multipleValueAxes=()=>{const a=new PlotModel({title:"Multiple Value Axes"}),d=new CategoryAxis({position:AxisPosition.Left}),s=new LinearAxis({title:"Value Axis 1",position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],endPosition:.5,key:"x1"}),m=new LinearAxis({title:"Value Axis 2",position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],startPosition:.5,key:"x2"});a.axes.push(d,s,m);const f=[new BarSeries({xAxisKey:"x1"}),new BarSeries({xAxisKey:"x1"}),new BarSeries({xAxisKey:"x2"}),new BarSeries({xAxisKey:"x2"})],x=new Random(1);for(const g of f){for(let w=0;w<4;w++)g.items.push(BarItem.fromValue(x.next(-100,100)));a.series.push(g)}return a},stackedMultipleValueAxes=()=>{const a=multipleValueAxes();a.title=`Stacked, ${a.title}`;for(const d of a.series)d.isStacked=!0;return a},multipleCategoryAxes=()=>{const a=new PlotModel({title:"Multiple Category Axes"});a.legends.push(new Legend({isLegendVisible:!0,legendPosition:LegendPosition.TopLeft,legendPlacement:LegendPlacement.Inside}));const d=new LinearAxis({position:AxisPosition.Bottom,key:"x",extraGridlines:[0]}),s=new CategoryAxis({title:"Category Axis 1",position:AxisPosition.Left,minimumPadding:.06,maximumPadding:.06,endPosition:.5,key:"y1"}),m=new CategoryAxis({title:"Category Axis 2",position:AxisPosition.Left,minimumPadding:.06,maximumPadding:.06,startPosition:.5,key:"y2"});a.axes.push(d,s,m);const f=[new BarSeries({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1A"}),new BarSeries({yAxisKey:"y1",xAxisKey:"x",renderInLegend:!0,title:"Y1B"}),new BarSeries({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2A"}),new BarSeries({yAxisKey:"y2",xAxisKey:"x",renderInLegend:!0,title:"Y2B"})],x=new Random;for(const g of f){for(let w=0;w<4;w++)g.items.push(BarItem.fromValue(x.next(-100,100)));a.series.push(g)}return a},stackedMultipleCategoryAxes=()=>{const a=multipleCategoryAxes();a.title=`Stacked, ${a.title}`;for(const d of a.series)d.isStacked=!0;return a},emptySeries=()=>{const a=new PlotModel({title:"Empty series"}),d=new BarSeries({title:"Series 1"}),s=new BarSeries({title:"Series 2"}),m=new CategoryAxis({position:AxisPosition.Left}),f=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0});return a.series.push(d,s),a.axes.push(m,f),a},noCategoryAxisDefined=()=>{const a=new PlotModel({title:"No category axis defined"}),d=new BarSeries({title:"Series 1",itemsSource:[BarItem.fromValue(25),BarItem.fromValue(137)]}),s=new BarSeries({title:"Series 2",itemsSource:[BarItem.fromValue(52),BarItem.fromValue(317)]}),m=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0});return a.series.push(d,s),a.axes.push(m),a},bindingItemsSource=()=>{const a=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}],d=new PlotModel({title:"Binding to ItemsSource"}),s=new Legend({legendPlacement:LegendPlacement.Outside});d.legends.push(s);const m=new CategoryAxis({position:AxisPosition.Left,labelField:"label",itemsSource:a,majorStep:1,minorStep:1});d.axes.push(m);const f=new LinearAxis({position:AxisPosition.Bottom,absoluteMinimum:0,minimumPadding:0});d.axes.push(f);const x=new BarSeries({fillColor:OxyColor.fromArgb(255,78,154,6),valueField:"value1",title:"2009",itemsSource:a});d.series.push(x);const g=new BarSeries({fillColor:OxyColor.fromArgb(255,200,141,0),valueField:"value2",title:"2010",itemsSource:a});d.series.push(g);const w=new BarSeries({fillColor:OxyColor.fromArgb(255,204,0,0),valueField:"value3",title:"2011",itemsSource:a});return d.series.push(w),d},bindingToItemsSourceArray=()=>{const a=new PlotModel({title:"Binding to ItemsSource",subtitle:"The items are defined by an array of BarItem/ColumnItem"});return a.series.push(new BarSeries({title:"Series 1",itemsSource:[new BarItem({value:25}),new BarItem({value:137})]})),a.series.push(new BarSeries({title:"Series 2",itemsSource:[new BarItem({value:52}),new BarItem({value:317})]})),a.axes.push(new CategoryAxis({position:AxisPosition.Left})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),a},bindingToItemsSourceListT=()=>{const a=new PlotModel({title:"Binding to ItemsSource",subtitle:"The items are defined by a List of BarItem/ColumnItem"});return a.series.push(new BarSeries({title:"Series 1",itemsSource:[new BarItem({value:25}),new BarItem({value:137})]})),a.series.push(new BarSeries({title:"Series 2",itemsSource:[new BarItem({value:52}),new BarItem({value:317})]})),a.axes.push(new CategoryAxis({position:AxisPosition.Left})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),a},bindingToItemsSourceReflection=()=>{const a=new PlotModel({title:"Binding to ItemsSource",subtitle:"Reflect by 'ValueField'"});return a.series.push(new BarSeries({title:"Series 1",valueField:"value1",itemsSource:[{value1:25},{value1:137}]})),a.series.push(new BarSeries({title:"Series 2",valueField:"value1",itemsSource:[{value1:52},{value1:317}]})),a.axes.push(new CategoryAxis({position:AxisPosition.Left})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),a},definedByItems=()=>{const a=new PlotModel({title:"Defined by Items",subtitle:"The items are added to the `Items` property."}),d=new BarSeries({title:"Series 1"});d.items.push(new BarItem({value:25}),new BarItem({value:137}));const s=new BarSeries({title:"Series 2"});return s.items.push(new BarItem({value:52}),new BarItem({value:317})),a.series.push(d,s),a.axes.push(new CategoryAxis({position:AxisPosition.Left})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0})),a};function emptyCategoryAxis(){const a=new PlotModel({title:"Empty category axis"}),d=new BarSeries({title:"Series 1"});d.items.push(new BarItem({value:25})),d.items.push(new BarItem({value:137})),d.items.push(new BarItem({value:18})),d.items.push(new BarItem({value:40}));const s=new BarSeries({title:"Series 2"});s.items.push(new BarItem({value:-12})),s.items.push(new BarItem({value:-14})),s.items.push(new BarItem({value:-120})),s.items.push(new BarItem({value:-26}));const m=new CategoryAxis({position:AxisPosition.Left}),f=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle.Solid,extraGridlineColor:OxyColors.Black,extraGridlineThickness:1});return a.series.push(d,s),a.axes.push(m,f),a}function withNegativeValue(){return createModelWithNegativeValues(!1,"With negative values")}function stackedWithNegativeValue(){return createModelWithNegativeValues(!0,"Stacked with negative values")}function mixedWithLineSeries(){const a=createSimpleModel(!1,"Mixed with LineSeries");a.title="Mixed with LineSeries";const d=new LineSeries({title:"LineSeries 1"});return d.points.push(new DataPoint(25,0)),d.points.push(new DataPoint(137,1)),d.points.push(new DataPoint(18,2)),d.points.push(new DataPoint(40,3)),a.series.push(d),a}function noAxes(){const a=createSimpleModel(!1,"No axes defined");return a.axes.length=0,a}function stackedNoAxes(){const a=createSimpleModel(!0,"Stacked and no axes defined");return a.axes.length=0,a}function logAxisBaseValue(){const a=new PlotModel({title:"Logarithmic axis"}),d=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});a.legends.push(d);const s=new BarSeries({title:"Series 1",baseValue:.1,strokeColor:OxyColors.Black,strokeThickness:1});s.items.push(new BarItem({value:25})),s.items.push(new BarItem({value:37})),s.items.push(new BarItem({value:18})),s.items.push(new BarItem({value:40}));const m=new CategoryAxis({position:AxisPosition.Left});return m.labels.push("Category A","Category B","Category C","Category D"),a.series.push(s),a.axes.push(m),a.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimum:.1,minimumPadding:0,absoluteMinimum:0})),a}function logAxisBaseLine(){const a=new PlotModel({title:"Logarithmic axis"}),d=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});a.legends.push(d);const s=new BarSeries({title:"Series 1",baseLine:.1,strokeColor:OxyColors.Black,strokeThickness:1});s.items.push(new BarItem({value:25})),s.items.push(new BarItem({value:37})),s.items.push(new BarItem({value:18})),s.items.push(new BarItem({value:40}));const m=new CategoryAxis({position:AxisPosition.Left});return m.labels.push("Category A","Category B","Category C","Category D"),a.series.push(s),a.axes.push(m),a.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimumPadding:0,absoluteMinimum:0})),a}function logAxisNotStacked(){const a=new PlotModel({title:"Logarithmic axis"}),d=new Legend({legendPlacement:LegendPlacement.Outside});a.legends.push(d);const s=[{label:"Apples",value1:37,value2:12,value3:19},{label:"Pears",value1:7,value2:21,value3:9},{label:"Bananas",value1:23,value2:2,value3:29}];return a.series.push(new BarSeries({title:"2009",itemsSource:s,valueField:"value1"})),a.series.push(new BarSeries({title:"2010",itemsSource:s,valueField:"value2"})),a.series.push(new BarSeries({title:"2011",itemsSource:s,valueField:"value3"})),a.axes.push(new CategoryAxis({position:AxisPosition.Left,itemsSource:s,labelField:"label"})),a.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom,minimum:1})),a}function logAxisStacked(){const a=logAxisNotStacked();for(const d of a.series)d instanceof BarSeries&&(d.isStacked=!0);return a}function histogram3(){return createHistogram(1e5,5)}function histogram20(){return createHistogram(1e5,20)}function histogram200(){return createHistogram(1e5,200)}function histogramStandardNormalDistribution(){return createNormalDistributionHistogram(1e5,2e3)}function differentColors(){const a=new PlotModel({title:"Different colors within the same series"}),d=new BarSeries({title:"Series 1"});d.items.push(new BarItem({value:1,color:OxyColors.Red})),d.items.push(new BarItem({value:2,color:OxyColors.Green})),d.items.push(new BarItem({value:1,color:OxyColors.Blue}));const s=new CategoryAxis({title:"Category",position:AxisPosition.Left});return s.labels.push("A","B","C"),a.axes.push(s),a.series.push(d),a}function stackingGroups(){const a=new PlotModel({title:"Stacking groups"}),d=new BarSeries({title:"Series 1",stackGroup:"1",isStacked:!0});d.items.push(new BarItem({value:1})),d.items.push(new BarItem({value:2})),a.series.push(d);const s=new BarSeries({title:"Series 2",stackGroup:"2",isStacked:!0});s.items.push(new BarItem({value:2})),s.items.push(new BarItem({value:1})),a.series.push(s);const m=new BarSeries({title:"Series 3",stackGroup:"1",isStacked:!0});m.items.push(new BarItem({value:3})),m.items.push(new BarItem({value:1})),a.series.push(m);const f=new CategoryAxis({title:"Category",position:AxisPosition.Left});return f.labels.push("A","B"),a.axes.push(f),a}function differentWidths(){const a=new PlotModel({title:"Different widths",subtitle:"Series1=0.6 and Series2=0.3"}),d=new BarSeries({title:"Series 1",barWidth:.6});d.items.push(new BarItem({value:1})),d.items.push(new BarItem({value:2})),a.series.push(d);const s=new BarSeries({title:"Series 2",barWidth:.3});s.items.push(new BarItem({value:3})),s.items.push(new BarItem({value:1})),a.series.push(s);const m=new CategoryAxis({title:"Category",position:AxisPosition.Left});return m.labels.push("A","B"),a.axes.push(m),a}function differentWidthsStacked(){const a=new PlotModel({title:"Different widths (stacked)"}),d=new BarSeries({title:"Series 1",isStacked:!0,barWidth:.6});d.items.push(new BarItem({value:1})),d.items.push(new BarItem({value:2})),a.series.push(d);const s=new BarSeries({title:"Series 2",isStacked:!0,barWidth:.3});s.items.push(new BarItem({value:3})),s.items.push(new BarItem({value:1})),a.series.push(s);const m=new CategoryAxis({title:"Category",position:AxisPosition.Left});return m.labels.push("A","B"),a.axes.push(m),a}function invalidValues(){const a=new PlotModel({title:"Invalid values",subtitle:"Series 1 contains a NaN value for category B."}),d=new BarSeries({title:"Series 1"});d.items.push(new BarItem({value:1})),d.items.push(new BarItem({value:NaN})),a.series.push(d);const s=new BarSeries({title:"Series 2"});s.items.push(new BarItem({value:3})),s.items.push(new BarItem({value:1})),a.series.push(s);const m=new CategoryAxis({title:"Category",position:AxisPosition.Left});return m.labels.push("A","B"),a.axes.push(m),a}function missingValues(){const a=new PlotModel({title:"Missing values",subtitle:"Series 1 contains only one item with CategoryIndex = 1"}),d=new BarSeries({title:"Series 1"});d.items.push(new BarItem({value:1,categoryIndex:1})),a.series.push(d);const s=new BarSeries({title:"Series 2"});s.items.push(new BarItem({value:3})),s.items.push(new BarItem({value:1.2})),a.series.push(s);const m=new CategoryAxis({title:"Category",position:AxisPosition.Left});return m.labels.push("A","B"),a.axes.push(m),a}function categoryIndex(){const a=new PlotModel({title:"CategoryIndex",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),d=new BarSeries({title:"Series 1",strokeThickness:1});d.items.push(new BarItem({value:1,categoryIndex:0})),d.items.push(new BarItem({value:2,categoryIndex:0})),a.series.push(d);const s=new CategoryAxis({title:"Category",position:AxisPosition.Left});return s.labels.push("A","B"),a.axes.push(s),a}function categoryIndexStacked(){const a=new PlotModel({title:"CategoryIndex (stacked)",subtitle:"Setting CategoryIndex = 0 for both items in the series."}),d=new BarSeries({title:"Series 1",isStacked:!0,strokeThickness:1});d.items.push(new BarItem({value:1,categoryIndex:0})),d.items.push(new BarItem({value:2,categoryIndex:0})),a.series.push(d);const s=new CategoryAxis({title:"Category",position:AxisPosition.Left});return s.labels.push("A","B"),a.axes.push(s),a}function baseValue(){const a=new PlotModel({title:"BaseValue",subtitle:"BaseValue = -1"}),d=new BarSeries({title:"Series 1",baseValue:-1});d.items.push(new BarItem({value:1})),d.items.push(new BarItem({value:2})),a.series.push(d);const s=new BarSeries({title:"Series 2",baseValue:-1});s.items.push(new BarItem({value:4})),s.items.push(new BarItem({value:7})),a.series.push(s);const m=new CategoryAxis({title:"Category",position:AxisPosition.Left});return m.labels.push("A","B"),a.axes.push(m),a}function baseValueStacked(){const a=new PlotModel({title:"BaseValue (stacked)",subtitle:"BaseValue = -1"}),d=new BarSeries({title:"Series 1",isStacked:!0,baseValue:-1});d.items.push(new BarItem({value:1})),d.items.push(new BarItem({value:2})),a.series.push(d);const s=new BarSeries({title:"Series 2",isStacked:!0,baseValue:-1});s.items.push(new BarItem({value:4})),s.items.push(new BarItem({value:7})),a.series.push(s);const m=new CategoryAxis({title:"Category",position:AxisPosition.Left});return m.labels.push("A","B"),a.axes.push(m),a}function baseValueOverlaping(){const a=new PlotModel({title:"BaseValue (overlaping)",subtitle:"BaseValue = -1"}),d=new BarSeries({title:"Series 1",isStacked:!0,overlapsStack:!0,baseValue:-1});d.items.push(new BarItem({value:1})),d.items.push(new BarItem({value:2})),a.series.push(d);const s=new BarSeries({title:"Series 2",isStacked:!0,overlapsStack:!0,baseValue:-1,barWidth:.5});s.items.push(new BarItem({value:4})),s.items.push(new BarItem({value:7})),a.series.push(s);const m=new CategoryAxis({title:"Category",position:AxisPosition.Left});return m.labels.push("A","B"),a.axes.push(m),a}function baseValueLabels(){const a=new PlotModel({title:"BaseValue with Labels"});for(const s of getEnumKeys(LabelPlacement)){const m=new BarSeries({title:s.toString(),baseValue:-25,labelPlacement:s,labelStringFormatter:BarSeriesLabelStringFormatter});m.items.push(new BarItem({value:-40})),m.items.push(new BarItem({value:-25})),m.items.push(new BarItem({value:-10})),m.items.push(new BarItem({value:0})),m.items.push(new BarItem({value:10})),a.series.push(m)}const d=new CategoryAxis({title:"Category",position:AxisPosition.Left,startPosition:1,endPosition:0});return d.labels.push("A","B","C","D","E"),a.axes.push(d),a.legends.push(new Legend),a}function stackedLabels(){const a=new PlotModel({title:"Stacked with Labels"});let d=0;for(const s of getEnumKeys(LabelPlacement)){const m=new CategoryAxis({title:"Category",position:AxisPosition.Left,startPosition:1-d*.25,endPosition:.75-d*.25,key:`C${d}`}),f=new BarSeries({title:s.toString(),labelPlacement:s,labelStringFormatter:BarSeriesLabelStringFormatter,isStacked:!0,yAxisKey:m.key});f.items.push(new BarItem({value:5})),f.items.push(new BarItem({value:10})),f.items.push(new BarItem({value:15})),a.series.push(f);const x=new BarSeries({title:s.toString(),labelPlacement:s,labelStringFormatter:BarSeriesLabelStringFormatter,isStacked:!0,yAxisKey:m.key});x.items.push(new BarItem({value:15})),x.items.push(new BarItem({value:10})),x.items.push(new BarItem({value:5})),a.series.push(x),m.labels.push("A","B","C"),a.axes.push(m),d++}return a.legends.push(new Legend),a}function gapWidth0(){return createGapWidthModel(0,"GapWidth 0%")}function gapWidth100(){return createGapWidthModel(1,"GapWidth 100% (default)")}function gapWidth200(){return createGapWidthModel(2,"GapWidth 200%")}function allInOne(){const a=new PlotModel({title:"All in one"}),d=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});a.legends.push(d);const s=new CategoryAxis({position:AxisPosition.Left,gapWidth:.01});s.labels.push("Category A","Category B","Category C","Category D"),a.axes.push(s);const m=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle.Solid,extraGridlineColor:OxyColors.Black,extraGridlineThickness:1});a.axes.push(m);const f=0,x=1,g=2,w=3,C=new BarSeries({title:"Series 1",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"3"});C.items.push(new BarItem({value:25}),new BarItem({value:137}),new BarItem({value:18}),new BarItem({value:40})),a.series.push(C);const A=new BarSeries({title:"Series 2",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"3"});A.items.push(new BarItem({value:-12}),new BarItem({value:-14}),new BarItem({value:-120}),new BarItem({value:-26})),a.series.push(A);const _=new BarSeries({title:"Series 3",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"5",isVisible:!1});_.items.push(new BarItem({value:21}),new BarItem({value:8}),new BarItem({value:48}),new BarItem({value:3})),a.series.push(_);const M=new BarSeries({title:"Series 4",isStacked:!0,strokeColor:OxyColors.Black,strokeThickness:1,stackGroup:"5",labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement.Middle});M.items.push(new BarItem({value:-8,categoryIndex:f}),new BarItem({value:-8,categoryIndex:f}),new BarItem({value:-8,categoryIndex:f}),new BarItem({value:-21,categoryIndex:x}),new BarItem({value:-3,categoryIndex:g}),new BarItem({value:-48,categoryIndex:w}),new BarItem({value:8,categoryIndex:f}),new BarItem({value:21,categoryIndex:x}),new BarItem({value:3,categoryIndex:g}),new BarItem({value:48,categoryIndex:w})),a.series.push(M);const P=new BarSeries({title:"Series 5",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1});P.items.push(new BarItem({value:17,categoryIndex:f}),new BarItem({value:179,categoryIndex:x}),new BarItem({value:45,categoryIndex:g}),new BarItem({value:65,categoryIndex:w}),new BarItem({value:97,categoryIndex:f}),new BarItem({value:21,categoryIndex:w})),a.series.push(P);const D=new BarSeries({title:"Series 6",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1,labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement.Base});D.items.push(new BarItem({value:7}),new BarItem({value:54}),new BarItem({value:68}),new BarItem({value:12})),a.series.push(D);const E=new BarSeries({title:"Series 7",isStacked:!0,overlapsStack:!0,strokeColor:OxyColors.Black,strokeThickness:1,labelStringFormatter:BarSeriesLabelStringFormatter,labelPlacement:LabelPlacement.Base,stackGroup:"3",barWidth:.5});return E.items.push(new BarItem({value:10}),new BarItem({value:80}),new BarItem({value:100,categoryIndex:w})),a.series.push(E),a}const BarSeriesLabelStringFormatter=a=>a.value.toString();function createGapWidthModel(a,d){const s=createSimpleModel(!1,d);return s.axes[0].gapWidth=a,s}function createSimpleModel(a,d){const s=new PlotModel({title:d}),m=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});s.legends.push(m);const f=new BarSeries({title:"Series 1",isStacked:a,strokeColor:OxyColors.Black,strokeThickness:1});f.items.push(BarItem.fromValue(25)),f.items.push(BarItem.fromValue(137)),f.items.push(BarItem.fromValue(18)),f.items.push(BarItem.fromValue(40));const x=new BarSeries({title:"Series 2",isStacked:a,strokeColor:OxyColors.Black,strokeThickness:1});x.items.push(BarItem.fromValue(12)),x.items.push(BarItem.fromValue(14)),x.items.push(BarItem.fromValue(120)),x.items.push(BarItem.fromValue(26));const g=new CategoryAxis({position:AxisPosition.Left});g.labels.push("Category A","Category B","Category C","Category D");const w=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return s.series.push(f,x),s.axes.push(g,w),s}function createModelWithNegativeValues(a,d){const s=new PlotModel({title:d}),m=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});s.legends.push(m);const f=new BarSeries({title:"Series 1",isStacked:a,strokeColor:OxyColors.Black,strokeThickness:1});f.items.push(BarItem.fromValue(25)),f.items.push(BarItem.fromValue(137)),f.items.push(BarItem.fromValue(18)),f.items.push(BarItem.fromValue(40));const x=new BarSeries({title:"Series 2",isStacked:a,strokeColor:OxyColors.Black,strokeThickness:1});x.items.push(BarItem.fromValue(-12)),x.items.push(BarItem.fromValue(-14)),x.items.push(BarItem.fromValue(-120)),x.items.push(BarItem.fromValue(-26));const g=new BarSeries({title:"Series 3",isStacked:a,strokeColor:OxyColors.Black,strokeThickness:1});g.items.push(BarItem.fromValue(21)),g.items.push(BarItem.fromValue(8)),g.items.push(BarItem.fromValue(48)),g.items.push(BarItem.fromValue(3));const w=new BarSeries({title:"Series 4",isStacked:a,strokeColor:OxyColors.Black,strokeThickness:1});w.items.push(BarItem.fromValue(-8)),w.items.push(BarItem.fromValue(-21)),w.items.push(BarItem.fromValue(-3)),w.items.push(BarItem.fromValue(-48));const C=new CategoryAxis({position:AxisPosition.Left});C.labels.push("Category A","Category B","Category C","Category D");const A=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.06,maximumPadding:.06,extraGridlines:[0],extraGridlineStyle:LineStyle.Solid,extraGridlineColor:OxyColors.Black,extraGridlineThickness:1});return s.series.push(f,x,g,w),s.axes.push(C,A),s}function createHistogram(a,d){const s=[];for(let g=0;g<d;g++)s.push({label:g.toString(),value:0});const m=new Random;for(let g=0;g<a;g++){const w=m.next(0,d-1);s[w].value++}const f=new PlotModel;f.title=`Histogram (bins=${d}, n=${a})`,f.subtitle="Pseudorandom numbers";const x=new BarSeries;return x.itemsSource=s,x.valueField="value",d<100&&(x.labelStringFormatter=(g,w)=>w[0].toString()),f.series.push(x),f.axes.push(new CategoryAxis({position:AxisPosition.Left,itemsSource:s,labelField:"label",gapWidth:0})),f.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:.1,absoluteMinimum:0})),f}function createNormalDistributionHistogram(a,d){const s=[];for(let A=0;A<d;A++){const _=-10+20*A/(s.length-1);s.push({label:_.toFixed(1),value:0})}const x=new Random(31);for(let A=0;A<a;A++){const _=x.next(),M=x.next(),P=Math.sqrt(-2*Math.log(_))*Math.cos(2*Math.PI*M),D=Math.round((P- -10)/20*(s.length-1));D>=0&&D<s.length&&s[D].value++}const g=new PlotModel;g.title=`Histogram (bins=${d}, n=${a})`,g.subtitle="Standard normal distribution by Box-Muller transform";const w=new BarSeries;w.itemsSource=s,w.valueField="value",g.series.push(w);const C=new CategoryAxis({position:AxisPosition.Left,gapWidth:0});return C.labels.push(...s.map(A=>A.label)),C.isAxisVisible=!1,g.axes.push(C),g.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-10,maximum:10})),g.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,absoluteMinimum:0})),g}const category$l="BarSeries",BarSeriesExamples={category:category$l,tags:["Series"],examples:[{title:"With labels",example:{model:withLabels}},{title:"With labels (at an angle)",example:{model:withLabelsAtAnAngle}},{title:"Stacked",example:{model:stackedSeries}},{title:"Multiple Value Axes",example:{model:multipleValueAxes}},{title:"Stacked, Multiple Value Axes",example:{model:stackedMultipleValueAxes}},{title:"Multiple Category Axes",example:{model:multipleCategoryAxes}},{title:"Stacked, Multiple Category Axes",example:{model:stackedMultipleCategoryAxes}},{title:"Empty series",example:{model:emptySeries}},{title:"No category axis defined",example:{model:noCategoryAxisDefined}},{title:"Binding to ItemsSource",example:{model:bindingItemsSource}},{title:"Binding to ItemsSource (array)",example:{model:bindingToItemsSourceArray}},{title:"Binding to ItemsSource (list)",example:{model:bindingToItemsSourceListT}},{title:"Binding to ItemsSource (reflection)",example:{model:bindingToItemsSourceReflection}},{title:"Defined by Items",example:{model:definedByItems}},{title:"Empty category axis",example:{model:emptyCategoryAxis}},{title:"With negative values",example:{model:withNegativeValue}},{title:"Stacked with negative values",example:{model:stackedWithNegativeValue}},{title:"Mixed with LineSeries",example:{model:mixedWithLineSeries}},{title:"No axes defined",example:{model:noAxes}},{title:"Stacked and no axes defined",example:{model:stackedNoAxes}},{title:"Logarithmic axis (Base Value)",example:{model:logAxisBaseValue}},{title:"Logarithmic axis (Base Line)",example:{model:logAxisBaseLine}},{title:"Logarithmic axis (not stacked)",example:{model:logAxisNotStacked}},{title:"Logarithmic axis (stacked series)",example:{model:logAxisStacked}},{title:"Histogram (bins=5)",example:{model:histogram3}},{title:"Histogram (bins=20)",example:{model:histogram20}},{title:"Histogram (bins=200)",example:{model:histogram200}},{title:"Histogram (standard normal distribution)",example:{model:histogramStandardNormalDistribution}},{title:"Different colors within the same series",example:{model:differentColors}},{title:"Different stacking groups",example:{model:stackingGroups}},{title:"Different widths",example:{model:differentWidths}},{title:"Different widths (stacked)",example:{model:differentWidthsStacked}},{title:"Invalid values",example:{model:invalidValues}},{title:"Missing values",example:{model:missingValues}},{title:"CategoryIndex",example:{model:categoryIndex}},{title:"CategoryIndex (stacked)",example:{model:categoryIndexStacked}},{title:"BaseValue",example:{model:baseValue}},{title:"BaseValue (stacked)",example:{model:baseValueStacked}},{title:"BaseValue (overlaping)",example:{model:baseValueOverlaping}},{title:"BaseValue (labels)",example:{model:baseValueLabels}},{title:"Stacked (labels)",example:{model:stackedLabels}},{title:"GapWidth 0%",example:{model:gapWidth0}},{title:"GapWidth 100% (default)",example:{model:gapWidth100}},{title:"GapWidth 200%",example:{model:gapWidth200}},{title:"All in one",example:{model:allInOne}}]};function boxPlot(){const d=new PlotModel({title:"BoxPlot (n=10)"}),s=new Legend({legendPlacement:LegendPlacement.Outside});d.legends.push(s);const m=new BoxPlotSeries({title:"BoxPlotSeries",boxWidth:.3}),f=new Random(31);for(let x=0;x<10;x++){const g=x,w=5+f.next(15),C=[];for(let L=0;L<w;L++)C.push(f.next(0,20));C.sort();const A=getMedian(C),_=C.reduce((L,z)=>L+z,0)/C.length,M=C.length%2,P=getMedian(C.slice(0,(C.length+M)/2)),D=getMedian(C.slice((C.length-M)/2)),I=(D-P)*1.5;let B=D+I;B=maxValueOfArray(C.filter(L=>L<=B));let F=P-I;F=minValueOfArray(C.filter(L=>L>=F));const R=[B+f.next(1,10),F-f.next(1,10)];m.items.push({x:g,lowerWhisker:F,boxBottom:P,median:A,boxTop:D,upperWhisker:B,mean:_,outliers:R})}return d.series.push(m),d.axes.push(new LinearAxis({position:AxisPosition.Left})),d.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1})),d}function getMedian(a){const d=[...a].sort((m,f)=>m-f),s=d.length;return s%2===1?d[(s-1)/2]:.5*d[s/2]+.5*d[s/2-1]}function boxPlot2(){const a=boxPlot(),d=a.series[0];return d.showMedianAsDot=!0,d.outlierType=MarkerType.Cross,d.fill=OxyColors.Black,d.showBox=!1,d.whiskerWidth=0,a}function boxPlot3(){const a=boxPlot(),d=a.series[0];return d.lineStyle=LineStyle.Dash,a}function outlierTypeCross(){const a=boxPlot(),d=a.series[0];return d.outlierType=MarkerType.Cross,a}function outlierTypeCustom(){const a=boxPlot(),d=a.series[0];return d.outlierType=MarkerType.Custom,d.outlierOutline=[new ScreenPoint(-1,-1),new ScreenPoint(1,1),new ScreenPoint(-1,1),new ScreenPoint(1,-1)],a}function michelsonMorleyExperiment(){const a=new PlotModel,d=new BoxPlotSeries({title:"Results",stroke:OxyColors.Black,strokeThickness:1,outlierSize:2,boxWidth:.4,items:[]});d.items.push({x:0,lowerWhisker:740,boxBottom:850,median:945,boxTop:980,upperWhisker:1070,outliers:[650]}),d.items.push({x:1,lowerWhisker:750,boxBottom:805,median:845,boxTop:890,upperWhisker:970,outliers:[]}),d.items.push({x:2,lowerWhisker:845,boxBottom:847,median:855,boxTop:880,upperWhisker:910,outliers:[640,950,970]}),d.items.push({x:3,lowerWhisker:720,boxBottom:760,median:820,boxTop:870,upperWhisker:910,outliers:[]}),d.items.push({x:4,lowerWhisker:730,boxBottom:805,median:807,boxTop:870,upperWhisker:950,outliers:[]}),a.series.push(d),a.annotations.push(new LineAnnotation({type:LineAnnotationType.Horizontal,lineStyle:LineStyle.Solid,y:792.458,text:"true speed"}));const s=new CategoryAxis({title:"Experiment No."});return s.labels.push("1","2","3","4","5"),a.axes.push(s),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Speed of light (km/s minus 299,000)",majorStep:100,minorStep:100})),a}function boxPlotSeries_DateTimeAxis(){const a=getDateService(),d=new PlotModel,s=DateTimeAxis.toDouble(new Date(2013,5,4));d.axes.push(new DateTimeAxis({position:AxisPosition.Bottom,minimum:s-.9,maximum:s+1.9,intervalType:DateTimeIntervalType.Days,majorStep:1,minorStep:1,stringFormatter:f=>a.format(f,"YYYY-MM-DD")}));const m=new BoxPlotSeries({trackerStringFormatter:f=>`X: ${a.format(f.xValue,"YYYY-MM-DD")}
Upper Whisker: ${f.upperWhisker.toFixed(2)}
Third Quartil: ${f.boxTop.toFixed(2)}
Median: ${f.median.toFixed(2)}
First Quartil: ${f.boxBottom.toFixed(2)}
Lower Whisker: ${f.lowerWhisker.toFixed(2)}
Mean: ${f.mean.toFixed(2)}`,items:[]});return m.items.push({x:s,lowerWhisker:10,boxBottom:14,median:16,boxTop:20,upperWhisker:22,mean:17,outliers:[23.5]}),m.items.push({x:s+1,lowerWhisker:11,boxBottom:13,median:14,boxTop:15,upperWhisker:18,outliers:[23.4]}),d.series.push(m),d}const category$k="BoxPlotSeries",BoxPlotSeriesExamples={category:category$k,tags:["Series"],examples:[{title:"BoxPlot",example:{model:boxPlot}},{title:"BoxPlot (minimal data/ink ratio)",example:{model:boxPlot2}},{title:"BoxPlot (dashed line)",example:{model:boxPlot3}},{title:"Outlier type = Cross",example:{model:outlierTypeCross}},{title:"Outlier type = Custom",example:{model:outlierTypeCustom}},{title:"Michelson-Morley experiment",example:{model:michelsonMorleyExperiment}},{title:"BoxPlot (DateTime axis)",example:{model:boxPlotSeries_DateTimeAxis}}]},peaks=(a,d)=>3*(1-a)*(1-a)*Math.exp(-(a*a)-(d+1)*(d+1))-10*(a/5-a*a*a-d*d*d*d*d)*Math.exp(-a*a-d*d)-1/3*Math.exp(-(a+1)*(a+1)-d*d),openContours=(a,d)=>a*a/(d*d+1)+d*d/(a*a+1),createVector=(a,d,s)=>ArrayBuilder.createVectorWithStep(a,d,s);function peaksModel(){const a=new PlotModel({title:"Peaks"}),d=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05)});return d.data=ArrayBuilder.evaluate(peaks,d.columnCoordinates,d.rowCoordinates),a.subtitle=`${d.data.length}${d.data[0].length}`,a.series.push(d),a}function peaksLabelStep1LevelStepPI2(){const a=new PlotModel({title:"Peaks LabelStep = 1, ContourLevelStep = PI/2"}),d=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:Math.PI/2,labelStep:1});return d.data=ArrayBuilder.evaluate(peaks,d.columnCoordinates,d.rowCoordinates),a.subtitle=`${d.data.length}${d.data[0].length}`,a.series.push(d),a}function peaksLabelStep2(){const a=new PlotModel({title:"Peaks LabelStep = 2, ContourLevelStep = 0.5"}),d=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:.5,labelStep:2});return d.data=ArrayBuilder.evaluate(peaks,d.columnCoordinates,d.rowCoordinates),a.subtitle=`${d.data.length}${d.data[0].length}`,a.series.push(d),a}function peaksLabelStep2LevelStep033(){const a=new PlotModel({title:"Peaks LabelStep = 2, ContourLevelStep = 0.33"}),d=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourLevelStep:.33,labelStep:2});return d.data=ArrayBuilder.evaluate(peaks,d.columnCoordinates,d.rowCoordinates),a.subtitle=`${d.data.length}${d.data[0].length}`,a.series.push(d),a}function peaksLabelStep3(){const a=new PlotModel({title:"Peaks LabelStep = 3, ContourLevelStep = 1"}),d=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),labelStep:3});return d.data=ArrayBuilder.evaluate(peaks,d.columnCoordinates,d.rowCoordinates),a.subtitle=`${d.data.length}${d.data[0].length}`,a.series.push(d),a}function peaksMultiLabel(){const a=new PlotModel({title:"Peaks MultiLabel"}),d=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),multiLabel:!0});return d.data=ArrayBuilder.evaluate(peaks,d.columnCoordinates,d.rowCoordinates),a.subtitle=`${d.data.length}${d.data[0].length}`,a.series.push(d),a}function peaksLabelSpacing400(){const a=new PlotModel({title:"Peaks LabelSpacing = 400"}),d=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),multiLabel:!0,labelSpacing:400});return d.data=ArrayBuilder.evaluate(peaks,d.columnCoordinates,d.rowCoordinates),a.subtitle=`${d.data.length}${d.data[0].length}`,a.series.push(d),a}function peaksWithColors(){const a=new PlotModel({title:"Peaks"}),d=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3.1,3.1,.05),contourColors:[OxyColors.SeaGreen,OxyColors.RoyalBlue,OxyColors.IndianRed]});return d.data=ArrayBuilder.evaluate(peaks,d.columnCoordinates,d.rowCoordinates),a.subtitle=`${d.data.length}${d.data[0].length}`,a.series.push(d),a}function wideArrayPeaks(){const a=new PlotModel({title:"Peaks"});a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-3.16262,maximum:3.162}));const d=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-1,1,.05)});return d.data=ArrayBuilder.evaluate(peaks,d.columnCoordinates,d.rowCoordinates),a.subtitle=`${d.data.length}${d.data[0].length}`,a.series.push(d),a}function openContoursModel(){const a=new PlotModel,d=new ContourSeries({columnCoordinates:createVector(-3,3,.05),rowCoordinates:createVector(-3,3,.05)});return d.data=ArrayBuilder.evaluate(openContours,d.columnCoordinates,d.rowCoordinates),a.series.push(d),a}function logPeaks(){const a=(f,x)=>peaks(Math.log(f)/10,Math.log(x)/10),d=new PlotModel,s=createVector(-3,3,.05);for(let f=0;f<s.length;f++)s[f]=Math.exp(s[f]*10);const m=new ContourSeries({columnCoordinates:s,rowCoordinates:s});return m.data=ArrayBuilder.evaluate(a,m.columnCoordinates,m.rowCoordinates),d.series.push(m),d.axes.push(new LogarithmicAxis({position:AxisPosition.Bottom})),d.axes.push(new LogarithmicAxis({position:AxisPosition.Left})),d}const category$j="ContourSeries",ContourSeriesExamples={category:category$j,tags:["Series"],examples:[{title:"Peaks",example:{model:peaksModel}},{title:"Peaks LabelStep = 1, ContourLevelStep = PI/2",example:{model:peaksLabelStep1LevelStepPI2}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.5",example:{model:peaksLabelStep2}},{title:"Peaks LabelStep = 2, ContourLevelStep = 0.33",example:{model:peaksLabelStep2LevelStep033}},{title:"Peaks LabelStep = 3, ContourLevelStep = 1",example:{model:peaksLabelStep3}},{title:"Peaks MultiLabel",example:{model:peaksMultiLabel}},{title:"Peaks LabelSpacing = 400",example:{model:peaksLabelSpacing400}},{title:"Peaks (different contour colors)",example:{model:peaksWithColors}},{title:"Peaks (wide array)",example:{model:wideArrayPeaks}},{title:"Open Contours",example:{model:openContoursModel}},{title:"Logarithmic Peaks",example:{model:logPeaks}}]};function getErrorBarSeries(){const a=new PlotModel({title:"ErrorBarSeries"}),d=new Legend({legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter,legendOrientation:LegendOrientation.Horizontal,legendBorderThickness:0});a.legends.push(d);const s=new ErrorBarSeries({title:"Series 1",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1});s.items.push(new ErrorBarItem({value:25,error:2})),s.items.push(new ErrorBarItem({value:137,error:25})),s.items.push(new ErrorBarItem({value:18,error:4})),s.items.push(new ErrorBarItem({value:40,error:29}));const m=new ErrorBarSeries({title:"Series 2",isStacked:!1,strokeColor:OxyColors.Black,strokeThickness:1});m.items.push(new ErrorBarItem({value:35,error:20})),m.items.push(new ErrorBarItem({value:17,error:7})),m.items.push(new ErrorBarItem({value:118,error:44})),m.items.push(new ErrorBarItem({value:49,error:29}));const f=new CategoryAxis({position:AxisPosition.Left});f.labels.push("Category A"),f.labels.push("Category B"),f.labels.push("Category C"),f.labels.push("Category D");const x=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:0,maximumPadding:.06,absoluteMinimum:0});return a.series.push(s),a.series.push(m),a.axes.push(f),a.axes.push(x),a}function getErrorBarSeriesThickErrorLines(){const a=getErrorBarSeries();for(const d of a.series)d instanceof ErrorBarSeries&&(d.errorWidth=0,d.errorStrokeThickness=4);return a}const category$i="ErrorBarSeries",ErrorBarSeriesExamples={category:category$i,tags:["Series"],examples:[{title:"ErrorBarSeries",example:{model:getErrorBarSeries}},{title:"ErrorBarSeries (thick error lines)",example:{model:getErrorBarSeriesThickErrorLines}}]};function extrapolatedLineSeries(){const a=new PlotModel({title:"Line Fit"}),d=new ScatterSeries({title:"Data"});d.points.push({x:3,y:1.4}),d.points.push({x:4,y:1.3}),d.points.push({x:5,y:1.6}),d.points.push({x:6,y:2.3}),d.points.push({x:7,y:2.2}),d.points.push({x:8,y:2.5}),d.points.push({x:9,y:2.9}),d.points.push({x:10,y:3.1}),d.points.push({x:11,y:3.1}),d.points.push({x:12,y:3.8}),a.series.push(d);const{slope:s,intercept:m}=calculateLinearRegressionParameters(d.points),f=new ExtrapolationLineSeries({title:"Fit",color:OxyColors.Black,lineStyle:LineStyle.Solid,extrapolationColor:OxyColors.DarkGray,extrapolationLineStyle:LineStyle.Dash,strokeThickness:3,ignoreExtraplotationForScaling:!0});f.intervals.push(new DataRange(Number.NEGATIVE_INFINITY,minValueOfArray(d.points.map(w=>w.x)))),f.intervals.push(new DataRange(maxValueOfArray(d.points.map(w=>w.x)),Number.POSITIVE_INFINITY));const x=Array.from({length:200},(w,C)=>C-100).map(w=>new DataPoint(w,s*w+m));f.points.push(...x),a.series.push(f);const g=new Legend({legendPosition:LegendPosition.BottomRight});return a.legends.push(g),a}function interpolationStyleLineSeries(){const a=new PlotModel({title:"Interpolation"}),d=new ExtrapolationLineSeries({title:"Third Order Polynomial",color:OxyColors.Black,lineStyle:LineStyle.Dash,extrapolationColor:OxyColors.Gray,extrapolationLineStyle:LineStyle.Dot,strokeThickness:3});d.intervals.push(new DataRange(Number.NEGATIVE_INFINITY,-15)),d.intervals.push(new DataRange(10,30)),d.intervals.push(new DataRange(55,Number.POSITIVE_INFINITY));const s=[.1,-6,-12,0],m=(g,w)=>w.reduce((C,A)=>C*g+A,0),f=Array.from({length:100},(g,w)=>w-30).map(g=>new DataPoint(g,m(g,s)));d.points.push(...f),a.series.push(d);const x=new Legend({legendPosition:LegendPosition.TopCenter});return a.legends.push(x),a}function twoColorLineSeriesReversed$2(){return PlotModelUtilities.reverseYAxis(interpolationStyleLineSeries())}function intersectingIntervals(){const a=new PlotModel({title:"Intersecting Intervals"}),d=new DataRange(-20,20),s=new DataRange(0,30),m=new DataRange(10,40),f=new ExtrapolationLineSeries({title:`Overlapping intervals ${d}, ${s}, ${m}`,color:OxyColors.Black,lineStyle:LineStyle.Solid,extrapolationColor:OxyColors.Gray,extrapolationLineStyle:LineStyle.Dot,strokeThickness:3});f.intervals.push(d,s,m);const x=[.1,-6,-12,0],g=(A,_)=>_.reduce((M,P)=>M*A+P,0),w=Array.from({length:100},(A,_)=>_-30).map(A=>new DataPoint(A,g(A,x)));f.points.push(...w),a.series.push(f);const C=new Legend({legendPosition:LegendPosition.TopCenter});return a.legends.push(C),a}function customDashes(){const a=new PlotModel({title:"Custom Dashes"}),d=new ExtrapolationLineSeries({title:"y = 5",color:OxyColors.Black,lineStyle:LineStyle.Dash,dashes:[5,1],extrapolationColor:OxyColors.Gray,extrapolationLineStyle:LineStyle.Dot,extrapolationDashes:[1,5],strokeThickness:3});d.intervals.push(new DataRange(Number.NEGATIVE_INFINITY,0));const s=Array.from({length:200},(f,x)=>x-100).map(f=>new DataPoint(f,5));d.points.push(...s),a.series.push(d);const m=new Legend({legendPosition:LegendPosition.TopCenter});return a.legends.push(m),a}function manyIntervals(){const a=new PlotModel({title:"ManyIntervals"}),d=new ExtrapolationLineSeries({title:"y = x",color:OxyColors.Red,lineStyle:LineStyle.Solid,extrapolationLineStyle:LineStyle.Solid,strokeThickness:3,ignoreExtraplotationForScaling:!0});d.intervals.push(new DataRange(-1e3,1e4)),Array.from({length:98},(x,g)=>new DataRange(1e3*g,1e3*g+500)).forEach(x=>d.intervals.push(x)),d.intervals.push(new DataRange(2e5,Number.POSITIVE_INFINITY));const m=Array.from({length:1e5},(x,g)=>new DataPoint(g,g));d.points.push(...m),a.series.push(d);const f=new Legend({legendPosition:LegendPosition.TopCenter});return a.legends.push(f),a}function mooresLaw(){const a=new PlotModel({title:"Moore's Law"}),d=new ScatterSeries({title:"Data"});d.points.push(...getPointForMooresLaw()),a.series.push(d),a.axes.push(new LinearAxis({title:"Year",position:AxisPosition.Bottom})),a.axes.push(new LogarithmicAxis({title:"Transistors (in thousands)",position:AxisPosition.Left}));const{slope:s,intercept:m}=calculateLinearRegressionParameters(d.points.map(w=>({x:w.x,y:Math.log10(w.y)}))),f=new ExtrapolationLineSeries({title:"Fit and Extrapolation",color:OxyColors.Black,lineStyle:LineStyle.Solid,extrapolationColor:OxyColors.Blue,extrapolationLineStyle:LineStyle.Dot,strokeThickness:3});f.intervals.push(new DataRange(2015,Number.POSITIVE_INFINITY));const x=Array.from({length:55},(w,C)=>C+1970).map(w=>new DataPoint(w,Math.pow(10,s*w+m)));f.points.push(...x),a.series.push(f);const g=new Legend({legendPosition:LegendPosition.TopCenter});return a.legends.push(g),a}function calculateLinearRegressionParameters(a){if(a===void 0)throw new Error("points is undefined");if(a.length<2)throw new Error("at least two points required");const d=a.reduce((w,C)=>w+C.x,0)/a.length,s=a.reduce((w,C)=>w+C.y,0)/a.length,m=covariance(a,d,s),f=variance2(a.map(w=>w.x)),x=m/f,g=s-x*d;return{slope:x,intercept:g}}function covariance(a,d,s){let m=a.reduce((f,x)=>f+x.x*x.y,0);return m-=a.length*d*s,m/=a.length-1,m}function variance2(a){const d=a.reduce((m,f)=>m+f,0)/a.length;let s=a.reduce((m,f)=>m+f*f,0);return s-=a.length*d*d,s/=a.length-1,s}function getPointForMooresLaw(){return[{x:1971.875,y:2.30824152676},{x:1972.30769231,y:3.55452235561},{x:1974.32692308,y:6.09756235221},{x:1979.56730769,y:29.1637757405},{x:1982.30769231,y:135.772714211},{x:1985.91346154,y:273.841963426},{x:1986.25,y:109.411381058},{x:1988.65384615,y:121.881418484},{x:1989.47115385,y:1207.90074743},{x:1990.57692308,y:1207.90074743},{x:1992.40384615,y:1207.90074743},{x:1992.69230769,y:3105.90022362},{x:1992.69230769,y:1113.97385999},{x:1993.02884615,y:1715.43789634},{x:1993.41346154,y:3105.90022362},{x:1993.41346154,y:922.239565104},{x:1994.71153846,y:1910.95297497},{x:1994.71153846,y:2788.12666541},{x:1995.43269231,y:9646.61619911},{x:1995.72115385,y:3105.90022362},{x:1996.15384615,y:5473.70326288},{x:1996.34615385,y:6792.52507006},{x:1996.34615385,y:3651.74127255},{x:1996.44230769,y:4293.51021008},{x:1996.82692308,y:9646.61619911},{x:1997.35576923,y:5473.70326288},{x:1997.45192308,y:3554.52235561},{x:1997.54807692,y:8896.4911282},{x:1997.64423077,y:7566.6953714},{x:1998.89423077,y:15261.3780258},{x:1999.13461538,y:9389.79801048},{x:1999.18269231,y:6978.3058486},{x:1999.47115385,y:9389.79801048},{x:1999.47115385,y:21673.9216957},{x:2000.19230769,y:22266.7201035},{x:2000.67307692,y:28387.3596476},{x:2000.67307692,y:37180.2666391},{x:2001.10576923,y:29163.7757405},{x:2001.20192308,y:42550.6550247},{x:2001.68269231,y:25482.9674798},{x:2001.82692308,y:37180.2666391},{x:2002.40384615,y:55730.6040127},{x:2002.78846154,y:38197.1754928},{x:2002.88461538,y:220673.406908},{x:2003.41346154,y:151247.254531},{x:2003.50961538,y:54246.9093701},{x:2003.65384615,y:106498.563535},{x:2004.80769231,y:125214.968907},{x:2004.80769231,y:106498.563535},{x:2004.80769231,y:273841.963426},{x:2005.72115385,y:232909.659246},{x:2005.81730769,y:112403.866377},{x:2005.96153846,y:305052.789027},{x:2006.05769231,y:115478.198469},{x:2006.875,y:378551.524926},{x:2006.875,y:155383.983127},{x:2006.92307692,y:245824.406892},{x:2006.97115385,y:296931.48482},{x:2006.97115385,y:582941.534714},{x:2007.06730769,y:151247.254531},{x:2007.64423077,y:582941.534714},{x:2007.74038462,y:232909.659246},{x:2007.78846154,y:805842.187761},{x:2007.83653846,y:115478.198469},{x:2007.98076923,y:509367.521678},{x:2008.22115385,y:445079.406236},{x:2008.46153846,y:410469.838044},{x:2009.18269231,y:457252.669897},{x:2009.27884615,y:784388.558145},{x:2009.66346154,y:230824152676e-5},{x:2009.71153846,y:191095297497e-5},{x:2010.19230769,y:410469.838044},{x:2010.38461538,y:13097472643e-4},{x:2011.16,y:117e4},{x:2011.32,y:26e5},{x:2011.9,y:12e5},{x:2012.4,y:24e5},{x:2012.41,y:23e5},{x:2012.7,y:21e5},{x:2012.9,y:12e5},{x:2013.4,y:5e6},{x:2013.8,y:43e5},{x:2014.16,y:43e5},{x:2014.5,y:42e5},{x:2014.8,y:26e5},{x:2014.81,y:38e5},{x:2014.82,y:57e5}]}const category$h="ExtrapolationLineSeries",ExtrapolationLineSeriesExamples={category:category$h,tags:["Series"],examples:[{title:"Line Fit (Ignore Extrapolation For Scaling)",example:{model:extrapolatedLineSeries}},{title:"Interpolation",example:{model:interpolationStyleLineSeries}},{title:"Interpolation (Y Axis reversed)",example:{model:twoColorLineSeriesReversed$2}},{title:"Intersecting Intervals",example:{model:intersectingIntervals}},{title:"Custom Dashes",example:{model:customDashes}},{title:"Many Intervals",example:{model:manyIntervals}},{title:"Moore's Law",example:{model:mooresLaw}}]};function squareWave(){return _createSquareWave(25)}function clover(){return _createParametricPlot(a=>2*Math.cos(2*a)*Math.cos(a),a=>2*Math.cos(2*a)*Math.sin(a),0,Math.PI*2,1e3,"Parametric function","Using the CartesianAxes property","2cos(2t)cos(t) , 2cos(2t)sin(t)")}function parametricFunction2(){return _createParametricPlot(a=>3*Math.sin(5*a),a=>3*Math.cos(3*a),0,Math.PI*2,1e3,"Parametric function",void 0,"3sin(5t) , 3cos(3t)")}function parametricFunction3(){return _createParametricPlot(a=>2*Math.cos(a)+Math.cos(8*a),a=>2*Math.sin(a)+Math.sin(8*a),0,Math.PI*2,1e3,"Parametric function",void 0,"2cos(t)+cos(8t) , 2sin(t)+sin(8t)")}function lemniscateOfBernoulli(){return _createParametricPlot(d=>1*Math.sqrt(2)*Math.cos(d)/(Math.sin(d)*Math.sin(d)+1),d=>1*Math.sqrt(2)*Math.cos(d)*Math.sin(d)/(Math.sin(d)*Math.sin(d)+1),0,Math.PI*2,1e3,"Lemniscate of Bernoulli")}function lemniscateOfGerono(){return _createParametricPlot(a=>Math.cos(a),a=>Math.sin(2*a)/2,0,Math.PI*2,1e3,"Lemniscate of Gerono")}function lissajousFigure(){const s=Math.PI/2;return _createParametricPlot(m=>Math.sin(3*m+s),m=>Math.sin(2*m),0,Math.PI*2,1e3,"Lissajous figure",void 0,"a=3, b=2,  = /2")}function roseCurve(){const a=new PlotModel({title:"Rose curve",plotType:PlotType.Polar,plotAreaBorderThickness:new OxyThickness(0)});a.axes.push(new AngleAxis({minimum:0,maximum:Math.PI*2,majorStep:Math.PI/4,minorStep:Math.PI/16,majorGridlineStyle:LineStyle.Solid,formatAsFractions:!0,fractionUnit:Math.PI,fractionUnitSymbol:""})),a.axes.push(new MagnitudeAxis({majorGridlineStyle:LineStyle.Solid}));const d=4,s=3,m=s/d;return a.series.push(new FunctionSeries({fx:f=>Math.sin(m*f),fy:f=>f,t0:0,t1:Math.PI*2*d,n:1e3,title:`d=${d}, n=${s}`})),a}function limaconOfPascal(){const a=new PlotModel({title:"Limaon of Pascal",plotType:PlotType.Cartesian});for(let d=4;d<=4;d++)for(let s=0;s<=10;s++)a.series.push(new FunctionSeries({fx:m=>d/2+s*Math.cos(m)+d/2*Math.cos(2*m),fy:m=>s*Math.sin(m)+d/2*Math.sin(2*m),t0:0,t1:Math.PI*2,n:1e3,title:`a=${d}, b=${s}`}));return a}function descartesFolium(){const a=new PlotModel({title:"Folium of Descartes",plotType:PlotType.Cartesian});a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-3,maximum:3})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-3,maximum:3}));const d=1;return a.series.push(new FunctionSeries({fx:s=>3*d*s/(Math.pow(s,3)+1),fy:s=>3*d*Math.pow(s,2)/(Math.pow(s,3)+1),t0:-30,t1:30,n:1001,title:`a=${d}`})),a}function trisectrixOfMaclaurin(){const a=new PlotModel({title:"Trisectrix of Maclaurin",plotType:PlotType.Cartesian}),d=1;return a.series.push(new FunctionSeries({fx:s=>d*(s*s-3)/(s*s+1),fy:s=>d*s*(s*s-3)/(s*s+1),t0:-5,t1:5,n:1e3})),a}function fermatsSpiral(){const a=new PlotModel({title:"Fermat's spiral",plotType:PlotType.Cartesian}),d=1;return a.series.push(new FunctionSeries({fx:s=>d*Math.sqrt(s)*Math.cos(s),fy:s=>d*Math.sqrt(s)*Math.sin(s),t0:0,t1:20,n:1e3})),a.series.push(new FunctionSeries({fx:s=>-d*Math.sqrt(s)*Math.cos(s),fy:s=>-d*Math.sqrt(s)*Math.sin(s),t0:0,t1:20,n:1e3})),a}function fishCurve(){const a=new PlotModel({title:"Fish curve",plotType:PlotType.Cartesian});for(let d=.1;d<1;d+=.1)a.series.push(new FunctionSeries({fx:s=>d*(Math.cos(s)-Math.sin(s)*Math.sin(s)/Math.sqrt(2)),fy:s=>d*Math.cos(s)*Math.sin(s),t0:0,t1:2*Math.PI,n:1e3}));return a}function heavisideStepFunction(){const a=new PlotModel({title:"Heaviside step function",plotType:PlotType.Cartesian});return a.series.push(new FunctionSeries({f:d=>Math.abs(d)<1e-8?NaN:d<0?0:1,x0:-2,x1:2,dx:.001})),a.annotations.push(new LineAnnotation({type:LineAnnotationType.Vertical,color:a.defaultColors[0],x:0,minimumY:0,maximumY:1})),a}function functionSeries(){const a=new PlotModel({title:"Trigonometric functions",subtitle:"Example using the FunctionSeries",plotType:PlotType.Cartesian,plotAreaBackground:OxyColors.White});return a.series.push(new FunctionSeries({f:Math.sin,x0:-10,x1:10,dx:.1,title:"sin(x)"})),a.series.push(new FunctionSeries({f:Math.cos,x0:-10,x1:10,dx:.1,title:"cos(x)"})),a.series.push(new FunctionSeries({fx:d=>5*Math.cos(d),fy:d=>5*Math.sin(d),t0:0,t1:2*Math.PI,n:1e3,title:"cos(t),sin(t)"})),a}function squirqle(){const a=new PlotModel({title:"Squirqle",plotType:PlotType.Cartesian});return a.series.push(_createSuperellipseSeries(4,1,1)),a}function superellipse20(){const a=new PlotModel({title:"Superellipse",plotType:PlotType.Cartesian}),d=_createSuperellipseSeries(20,1,1);return d.markerType=MarkerType.Circle,a.series.push(d),a}function lameCurves(){const a=new PlotModel({title:"Lam curves",plotType:PlotType.Cartesian}),d=new Legend({legendPlacement:LegendPlacement.Outside});a.legends.push(d);for(let s=.25;s<2;s+=.25)a.series.push(_createSuperellipseSeries(s,1,1));for(let s=2;s<=8+1e-6;s+=1)a.series.push(_createSuperellipseSeries(s,1,1));return a}function _createSquareWave(a=25){const d=new PlotModel({title:"Square wave (Gibbs phenomenon)"}),s=f=>{let x=0;for(let g=0;g<a;g++){const w=g*2+1;x+=Math.sin(w*f)/w}return x},m=new FunctionSeries({f:s,x0:-10,x1:10,dx:1e-4,title:`sin(x)+sin(3x)/3+sin(5x)/5+...+sin(${2*a-1})/${2*a-1}`});return d.series.push(m),d.subtitle=`n = ${m.points.length}`,d.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-4,maximum:4})),d.axes.push(new LinearAxis({position:AxisPosition.Bottom})),d}function _createSuperellipseSeries(a,d,s){return new FunctionSeries({fx:m=>d*Math.sign(Math.cos(m))*Math.pow(Math.abs(Math.cos(m)),2/a),fy:m=>s*Math.sign(Math.sin(m))*Math.pow(Math.abs(Math.sin(m)),2/a),t0:0,t1:Math.PI*2,n:101,title:`n=${a}, a=${d}, b=${s}`})}function _createParametricPlot(a,d,s,m,f,x,g,w){const C=new PlotModel({title:x,subtitle:g,plotType:PlotType.Cartesian});return C.series.push(new FunctionSeries({fx:a,fy:d,t0:s,t1:m,n:f,title:w})),C}const category$g="FunctionSeries",FunctionSeriesExamples={category:category$g,tags:["Series"],examples:[{title:"Square wave",example:{model:squareWave}},{title:"Parametric function 1",example:{model:clover}},{title:"Parametric function 2",example:{model:parametricFunction2}},{title:"Parametric function 3",example:{model:parametricFunction3}},{title:"Lemniscate of Bernoulli",example:{model:lemniscateOfBernoulli}},{title:"Lemniscate of Gerono",example:{model:lemniscateOfGerono}},{title:"Lissajous figure",example:{model:lissajousFigure}},{title:"Rose curve",example:{model:roseCurve}},{title:"Limaon of Pascal",example:{model:limaconOfPascal}},{title:"Folium of Descartes",example:{model:descartesFolium}},{title:"Trisectrix of Maclaurin",example:{model:trisectrixOfMaclaurin}},{title:"Fermat's spiral",example:{model:fermatsSpiral}},{title:"Fish curve",example:{model:fishCurve}},{title:"Heaviside step function",example:{model:heavisideStepFunction}},{title:"FunctionSeries",example:{model:functionSeries}},{title:"Squirqle",example:{model:squirqle}},{title:"Superellipse n=20",example:{model:superellipse20}},{title:"Lam curves",example:{model:lameCurves}}]};function exponentialDistribution(){return createExponentialDistribution()}function exponentialDistributionLogarithmicAxis(){return createExponentialDistribution(!0)}function exponentialDistributionLogarithmicAxisWithBaseValue(){return createExponentialDistribution(!0,1,1e4,.1)}function histogramLabelPlacement(){const a=new PlotModel({title:"Label Placement"}),d=new HistogramSeries({labelPlacement:LabelPlacement.Base,labelStringFormatter:x=>"Base",strokeThickness:1,labelMargin:5}),s=new HistogramSeries({labelPlacement:LabelPlacement.Inside,labelStringFormatter:x=>"Inside",strokeThickness:1,labelMargin:5}),m=new HistogramSeries({labelPlacement:LabelPlacement.Middle,labelStringFormatter:x=>"Middle",strokeThickness:1,labelMargin:5}),f=new HistogramSeries({labelPlacement:LabelPlacement.Outside,labelStringFormatter:x=>"Outside",strokeThickness:1,labelMargin:5});return d.items.push(new HistogramItem(1,2,4,4)),d.items.push(new HistogramItem(2,3,-4,4)),s.items.push(new HistogramItem(3,4,2,2)),s.items.push(new HistogramItem(4,5,-2,2)),m.items.push(new HistogramItem(5,6,3,3)),m.items.push(new HistogramItem(6,7,-3,3)),f.items.push(new HistogramItem(7,8,1,1)),f.items.push(new HistogramItem(8,9,-1,-1)),a.series.push(d),a.series.push(s),a.series.push(m),a.series.push(f),a}function labelPlacementReversed(){const a=histogramLabelPlacement();return PlotModelUtilities.reverseYAxis(a),a}function labelFormatString$1(){const a=createDisconnectedBins(),d=a.series[0];return d.labelStringFormatter=s=>`Start: ${s.rangeStart.toFixed(2)}
End: ${s.rangeEnd.toFixed(2)}
Value: ${s.value.toFixed(2)}
Area: ${s.area.toFixed(2)}
Count: ${s.count}`,d.labelPlacement=LabelPlacement.Inside,a}function customBins(){return createExponentialDistributionCustomBins()}function disconnectedBins(){return createDisconnectedBins()}function normalDistribution(){return createNormalDistribution()}function individualBinColors(){return createIndividualBinColors()}function customItemMapping(){const a=new PlotModel({title:"Custom Item Mapping"}),d=new HistogramSeries({mapping:s=>s,trackerStringFormatter:s=>s.item.description});return d.items.push(new CustomHistogramItem(1,2,4,4,"Item 1")),d.items.push(new CustomHistogramItem(2,3,-4,4,"Item 2")),d.items.push(new CustomHistogramItem(3,4,2,2,"Item 3")),d.items.push(new CustomHistogramItem(4,5,-2,2,"Item 4")),a.series.push(d),a}class CustomHistogramItem extends HistogramItem{constructor(d,s,m,f,x){super(d,s,m,f),this.description=x}}function createExponentialDistribution(a=!1,d=1,s=1e4,m=0){const f=new PlotModel({title:a?"Exponential Distribution (logarithmic)":"Exponential Distribution",subtitle:`Uniformly distributed bins (${s} samples)`});f.axes.push(a?new LogarithmicAxis({position:AxisPosition.Left,title:"Frequency"}):new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),f.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const x=new Random(1),g=new HistogramSeries,w=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),C=HistogramHelpers.createUniformBins(0,5,15);return g.items.push(...HistogramHelpers.collect(sampleExps(x,d,s),C,w)),g.strokeThickness=1,g.baseValue=m,g.negativeFillColor=OxyColors.Red,f.series.push(g),f}function createExponentialDistributionCustomBins(a=1,d=5e4){const s=new PlotModel({title:"Exponential Distribution",subtitle:`Custom bins (${d} samples)`});s.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),s.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const m=new Random(1),f=new HistogramSeries,x=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues);return f.items.push(...HistogramHelpers.collect(sampleExps(m,a,d),[0,.1,.2,.3,.4,.5,.75,1,2,3,4,5],x)),f.strokeThickness=1,f.fillColor=OxyColors.Purple,s.series.push(f),s}function createNormalDistribution(a=0,d=1,s=1e6){const m=new PlotModel({title:`Normal Distribution (=${a}, =${d})`,subtitle:`95% of the distribution (${s} samples)`});m.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),m.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const f=new Random(1),x=new HistogramSeries,g=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),w=HistogramHelpers.createUniformBins(-d*4,d*4,100);x.items.push(...HistogramHelpers.collect(sampleNormal(f,a,d,s),w,g)),x.strokeThickness=1;const C=a+1.96*d,A=a-1.96*d,_=OxyColors.DarkRed,M=OxyColors.DarkRed;return x.colorMapping=P=>P.rangeCenter>C?_:P.rangeCenter<A?M:x.actualFillColor,m.series.push(x),m}function createDisconnectedBins(){const a=new PlotModel({title:"Disconnected Bins"});a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Representation"})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"x"}));const d=new HistogramSeries;return d.items.push(new HistogramItem(0,.5,10,7),new HistogramItem(.75,1,10,7)),d.labelStringFormatter=s=>s.toFixed(2),d.labelPlacement=LabelPlacement.Middle,a.series.push(d),a}function createIndividualBinColors(a=1,d=1e4){const s=new PlotModel({title:"Individual Bin Colors",subtitle:"Minimum is Red, Maximum is Green"});s.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Frequency"})),s.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Observation"}));const m=new Random(1),f=new HistogramSeries({fillColor:OxyColors.Gray,renderInLegend:!0,title:"Measurements"}),x=new BinningOptions(BinningOutlierMode.CountOutliers,BinningIntervalType.InclusiveLowerBound,BinningExtremeValueMode.ExcludeExtremeValues),g=HistogramHelpers.createUniformBins(0,10,20),w=HistogramHelpers.collect(sampleUniform(m,0,10,1e3),g,x).sort((C,A)=>C.count-A.count);return w[0].color=OxyColors.Red,w[w.length-1].color=OxyColors.Green,f.items.push(...w),f.strokeThickness=1,s.series.push(f),s}function sampleExps(a,d,s){const m=[];for(let f=0;f<s;f++)m.push(sampleExp(a,d));return m}function sampleExp(a,d){return Math.log(1-a.next())/-d}function sampleNormal(a,d,s,m){const f=[];for(let x=0;x<m;x++)f.push(sampleNormalSingle(a,d,s));return f}function sampleNormalSingle(a,d,s){const m=1-a.next(),f=a.next();return Math.sqrt(-2*Math.log(m))*Math.cos(2*Math.PI*f)*s+d}function sampleUniform(a,d,s,m){const f=[];for(let x=0;x<m;x++)f.push(a.next()*(s-d)+d);return f}const category$f="HistogramSeries",HistogramSeriesExamples={category:category$f,tags:["Series"],examples:[{title:"Exponential Distribution",example:{model:exponentialDistribution}},{title:"Exponential Distribution (logarithmic)",example:{model:exponentialDistributionLogarithmicAxis}},{title:"Exponential Distribution (logarithmic,with BaseValue)",example:{model:exponentialDistributionLogarithmicAxisWithBaseValue}},{title:"Label Placement",example:{model:histogramLabelPlacement}},{title:"Label Placement (reversed Y Axis)",example:{model:labelPlacementReversed}},{title:"Label Format String",example:{model:labelFormatString$1}},{title:"Custom Bins",example:{model:customBins}},{title:"Disconnected Bins",example:{model:disconnectedBins}},{title:"Normal Distribution Three Colors",example:{model:normalDistribution}},{title:"Individual Bin Colors",example:{model:individualBinColors}},{title:"Custom Item Mapping",example:{model:customItemMapping}}]};function intervalBarSeries(){const a=new PlotModel({title:"IntervalBarSeries"}),d=new Legend({legendPlacement:LegendPlacement.Outside});a.legends.push(d);const s=new IntervalBarSeries({title:"IntervalBarSeries 1"});s.items.push(new IntervalBarItem({start:6,end:8})),s.items.push(new IntervalBarItem({start:4,end:8})),s.items.push(new IntervalBarItem({start:5,end:11})),s.items.push(new IntervalBarItem({start:4,end:12})),a.series.push(s);const m=new IntervalBarSeries({title:"IntervalBarSeries 2"});m.items.push(new IntervalBarItem({start:8,end:9})),m.items.push(new IntervalBarItem({start:8,end:10})),m.items.push(new IntervalBarItem({start:11,end:12})),m.items.push(new IntervalBarItem({start:12,end:12.5})),a.series.push(m);const f=new CategoryAxis({position:AxisPosition.Left});f.labels.push("Activity A"),f.labels.push("Activity B"),f.labels.push("Activity C"),f.labels.push("Activity D");const x=new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1});return a.axes.push(f),a.axes.push(x),a}function intervalBarSeriesWithLabels(){const a=new PlotModel({title:"IntervalBarSeries"}),d=new Legend({legendPlacement:LegendPlacement.Outside});a.legends.push(d);const s=new IntervalBarSeries({title:"IntervalBarSeries 1",labelPlacement:LabelPlacement.Outside});s.items.push(new IntervalBarItem({start:6,end:8,categoryIndex:0})),s.items.push(new IntervalBarItem({start:10,end:12,categoryIndex:0})),a.series.push(s);const m=new IntervalBarSeries({title:"IntervalBarSeries 2",labelPlacement:LabelPlacement.Inside});m.items.push(new IntervalBarItem({start:4,end:8,categoryIndex:1})),m.items.push(new IntervalBarItem({start:10,end:12,categoryIndex:1})),a.series.push(m);const f=new IntervalBarSeries({title:"IntervalBarSeries 3",labelPlacement:LabelPlacement.Middle});f.items.push(new IntervalBarItem({start:5,end:11,categoryIndex:2})),f.items.push(new IntervalBarItem({start:13,end:17,categoryIndex:2})),a.series.push(f);const x=new IntervalBarSeries({title:"IntervalBarSeries 4",labelPlacement:LabelPlacement.Base,textColor:OxyColors.White});x.items.push(new IntervalBarItem({start:4,end:12,categoryIndex:3})),x.items.push(new IntervalBarItem({start:13,end:17,categoryIndex:3})),a.series.push(x);const g=new IntervalBarSeries({title:"IntervalBarSeries 5",labelPlacement:LabelPlacement.Outside,labelAngle:-45});g.items.push(new IntervalBarItem({start:6,end:8,categoryIndex:4})),g.items.push(new IntervalBarItem({start:10,end:12,categoryIndex:4})),a.series.push(g);const w=new IntervalBarSeries({title:"IntervalBarSeries 6",labelPlacement:LabelPlacement.Inside,labelAngle:-45});w.items.push(new IntervalBarItem({start:4,end:8,categoryIndex:5})),w.items.push(new IntervalBarItem({start:10,end:12,categoryIndex:5})),a.series.push(w);const C=new IntervalBarSeries({title:"IntervalBarSeries 7",labelPlacement:LabelPlacement.Middle,labelAngle:-45});C.items.push(new IntervalBarItem({start:5,end:11,categoryIndex:6})),C.items.push(new IntervalBarItem({start:13,end:17,categoryIndex:6})),a.series.push(C);const A=new IntervalBarSeries({title:"IntervalBarSeries 8",labelPlacement:LabelPlacement.Base,labelAngle:-45});A.items.push(new IntervalBarItem({start:4,end:12,categoryIndex:7})),A.items.push(new IntervalBarItem({start:13,end:17,categoryIndex:7})),a.series.push(A);const _=new CategoryAxis({key:"CategoryAxis",position:AxisPosition.Left,startPosition:1,endPosition:0});_.labels.push("Label Outside"),_.labels.push("Label Inside"),_.labels.push("Label Middle"),_.labels.push("Label Base"),_.labels.push("Label Outside (angled)"),_.labels.push("Label Inside (angled)"),_.labels.push("Label Middle (angled)"),_.labels.push("Label Base (angled)");const M=new LinearAxis({key:"ValueAxis",position:AxisPosition.Bottom,minimumPadding:.1,maximumPadding:.1});return a.axes.push(_),a.axes.push(M),a}const category$e="IntervalBarSeries",IntervalBarSeriesExamples={category:category$e,tags:["Series"],examples:[{title:"IntervalBarSeries",example:{model:intervalBarSeries}},{title:"IntervalBarSeries with various label types",example:{model:intervalBarSeriesWithLabels}}]};function defaultStyle$1(){const a=new PlotModel({title:"LinearBarSeries with default style"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=_createExampleLinearBarSeries();return d.title="LinearBarSeries",a.series.push(d),a}function withStroke(){const a=new PlotModel({title:"LinearBarSeries with stroke"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=_createExampleLinearBarSeries();return d.title="LinearBarSeries",d.fillColor=OxyColor.parse("#454CAF50"),d.strokeColor=OxyColor.parse("#4CAF50"),d.strokeThickness=1,a.series.push(d),a}function withNegativeColors(){return _createWithNegativeColors()}function withNegativeColorsLogarithmic(){return _createWithNegativeColors(!0)}function withBaseValue(){return _createWithNegativeColors(void 0,50)}function withBaseValueLogarithmic(){return _createWithNegativeColors(!0,50)}function _createWithNegativeColors(a=!1,d=0){const s=new PlotModel({title:a?"LinearBarSeries with stroke (logarithmic)":"LinearBarSeries with stroke"});s.axes.push(new LinearAxis({position:AxisPosition.Bottom})),s.axes.push(a?new LogarithmicAxis({position:AxisPosition.Left}):new LinearAxis({position:AxisPosition.Left}));const m=_createExampleLinearBarSeriesWithNegativeValues();return m.title="LinearBarSeries",m.fillColor=OxyColor.parse("#454CAF50"),m.strokeColor=OxyColor.parse("#4CAF50"),m.negativeFillColor=OxyColor.parse("#45BF360C"),m.negativeStrokeColor=OxyColor.parse("#BF360C"),m.strokeThickness=1,m.baseValue=d,s.series.push(m),s}function _createExampleLinearBarSeries(){const a=new LinearBarSeries,d=new Random;let s=d.next(10,31);for(let m=0;m<=50;m++)a.points.push(new DataPoint(m,s)),s+=d.next(-5,5);return a}function _createExampleLinearBarSeriesWithNegativeValues(){const a=new LinearBarSeries,d=new Random;for(let s=0;s<=50;s++){const m=-200+d.next(0,1e3);a.points.push(new DataPoint(s,m))}return a}const category$d="LinearBarSeries",LinearBarSeriesExamples={category:category$d,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle$1}},{title:"With stroke",example:{model:withStroke}},{title:"With negative colors",example:{model:withNegativeColors}},{title:"With negative colors (logaritmic)",example:{model:withNegativeColorsLogarithmic}},{title:"With BaseValue",example:{model:withBaseValue}},{title:"With BaseValue (Logarithmic)",example:{model:withBaseValueLogarithmic}}]};function defaultStyle(){const a=new PlotModel({title:"LineSeries with default style"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=createExampleLineSeries();return d.title="LineSeries 1",a.series.push(d),a}function customStyle(){const a=new PlotModel({title:"LineSeries with custom style"}),d=new Legend({legendSymbolLength:24});a.legends.push(d),a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const s=createExampleLineSeries();return s.title="LineSeries 1",s.toolTip="This is a tooltip for a LineSeries 1",s.color=OxyColors.SkyBlue,s.strokeThickness=3,s.lineStyle=LineStyle.Dash,s.markerType=MarkerType.Circle,s.markerSize=5,s.markerStroke=OxyColors.White,s.markerFill=OxyColors.SkyBlue,s.markerStrokeThickness=1.5,a.series.push(s),a}function twoLineSeries(){const a=new PlotModel({title:"Two LineSeries"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=createExampleLineSeries();d.title="LineSeries 1",a.series.push(d);const s=createExampleLineSeries(41);return s.title="LineSeries 2",a.series.push(s),a}function isVisibleFalse(){const a=new PlotModel({title:"LineSeries with IsVisible = false",subtitle:"Click to change the IsVisible property for LineSeries 2"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:0,maximum:50}));const d=createExampleLineSeries(38);d.title="LineSeries 1",a.series.push(d);const s=createExampleLineSeries(39);return s.title="LineSeries 2",s.isVisible=!1,a.series.push(s),a.mouseDown=(m,f)=>{s.isVisible=!s.isVisible,a.invalidatePlot(!0)},a}function trackerFormatString$1(){const a=new PlotModel({title:"LineSeries with custom TrackerFormatString",subtitle:'TrackerFormatString = "X={2:0.0} Y={4:0.0}"'});a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left}));const d=createExampleLineSeries();return d.trackerStringFormatter=s=>"X="+s.xValue.toFixed(1)+" Y="+s.yValue.toFixed(1),a.series.push(d),a}function customMarkers(){const a=new PlotModel({title:"LineSeries with custom markers"}),d=new Legend({legendSymbolLength:30});a.legends.push(d);const s=6,m=[];for(let x=0;x<s;x++){const g=Math.PI*(4*x/(s-1)-.5),w=1;m[x]=new ScreenPoint(Math.cos(g)*w,Math.sin(g)*w)}const f=createExampleLineSeries(39);return f.title="LineSeries 1",f.markerType=MarkerType.Custom,f.markerSize=8,f.markerOutline=m,a.series.push(f),a}function markerTypes$1(){const a=createModel("LineSeries with different MarkerType",MarkerType.Custom),d=new Legend({legendBackground:OxyColor.fromAColor(220,OxyColors.White),legendBorder:OxyColors.Black,legendBorderThickness:1});a.legends.push(d);let s=0;for(const m of a.series){const f=m;f.color=OxyColors.Red,f.markerStroke=OxyColors.Black,f.markerFill=OxyColors.Green,f.markerType=s++,f.title=MarkerType[f.markerType]}return a}function labels(){const a=new PlotModel({title:"LineSeries with labels",subtitle:"Use the 'labelFormatString' property"}),d=new Legend({legendSymbolLength:24});a.legends.push(d),a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.axes.push(new LinearAxis({position:AxisPosition.Left,maximumPadding:.1}));const s=createExampleLineSeries();return s.labelStringFormatter=(m,f)=>f[1].toString(),s.markerType=MarkerType.Circle,a.series.push(s),a}function lineStyles(){const a=createModel("LineSeries with LineStyle",LineStyle.None),d=new Legend({legendPlacement:LegendPlacement.Outside,legendSymbolLength:50});a.legends.push(d);let s=0;for(const m of a.series){const f=m;f.color=OxyColors.Red,f.lineStyle=s++,f.title=LineStyle[f.lineStyle]}return a}function smooth(){const a=new PlotModel({title:"LineSeries with interpolation",subtitle:"InterpolationAlgorithm = CanonicalSpline"}),d=new Legend({legendSymbolLength:24});a.legends.push(d);const s=createExampleLineSeries();return s.markerType=MarkerType.Circle,s.interpolationAlgorithm=InterpolationAlgorithms.CanonicalSpline,a.series.push(s),a}function customLineLegendPosition(){const a=new PlotModel({title:"LineSeries with LineLegendPosition"});a.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimumPadding:.05,maximumPadding:.05})),a.axes.push(new LinearAxis({position:AxisPosition.Left,minimumPadding:.05,maximumPadding:.05}));const d=createExampleLineSeries();d.title="Start",d.markerType=MarkerType.Circle,d.lineLegendPosition=LineLegendPosition.Start,a.series.push(d);const s=createExampleLineSeries(41);return s.title="End",s.markerType=MarkerType.Circle,s.lineLegendPosition=LineLegendPosition.End,a.series.push(s),a}function customLineLegendPositionReversed(){return PlotModelUtilities.reverseXAxis(customLineLegendPosition())}function brokenLine(){const a=new PlotModel({title:"LineSeries with broken lines"}),d=createExampleLineSeries();d.points[3]=DataPoint.Undefined,d.points[7]=DataPoint.Undefined,d.brokenLineColor=OxyColors.Gray,d.brokenLineThickness=.5,d.brokenLineStyle=LineStyle.Solid,a.series.push(d);const s=createExampleLineSeries(49);return s.points[3]=DataPoint.Undefined,s.points[7]=DataPoint.Undefined,s.brokenLineColor=OxyColors.Automatic,s.brokenLineThickness=1,s.brokenLineStyle=LineStyle.Dot,a.series.push(s),a}function withoutDecimator(){const a=new PlotModel({title:"LineSeries without Decimator"}),d=createSeriesSuitableForDecimation();return a.series.push(d),a}function withXDecimator(){const a=new PlotModel({title:"LineSeries with X Decimator"}),d=createSeriesSuitableForDecimation();return d.decimator=Decimator.decimate,a.series.push(d),a}function canonicalSplineInterpolation(){const a=createRandomPoints();return new PlotModel({title:"Canonical spline interpolation",series:[new LineSeries({itemsSource:a,title:"Default (0.5)",interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,markerType:MarkerType.Circle,markerFill:OxyColors.Black}),new LineSeries({itemsSource:a,title:"0.1",interpolationAlgorithm:new CanonicalSpline(.1)}),new LineSeries({itemsSource:a,title:"1.0",interpolationAlgorithm:new CanonicalSpline(1)})]})}function catmullRomInterpolation(){const a=createRandomPoints();return new PlotModel({title:"Catmull-Rom interpolation",series:[new LineSeries({itemsSource:a,title:"Standard",interpolationAlgorithm:InterpolationAlgorithms.CatmullRomSpline,markerType:MarkerType.Circle,markerFill:OxyColors.Black}),new LineSeries({itemsSource:a,title:"Chordal",interpolationAlgorithm:InterpolationAlgorithms.ChordalCatmullRomSpline}),new LineSeries({itemsSource:a,title:"Uniform",interpolationAlgorithm:InterpolationAlgorithms.UniformCatmullRomSpline})]})}function markerColorOptions(){createRandomPoints();const a=new PlotModel({title:"Marker color options"}),d=createExampleLineSeries(1);d.markerType=MarkerType.Circle,a.series.push(d);const s=createExampleLineSeries(4);s.markerType=MarkerType.Square,s.color=OxyColors.LightBlue,a.series.push(s);const m=createExampleLineSeries(13);m.markerType=MarkerType.Square,m.markerFill=OxyColors.Black,a.series.push(m);const f=createExampleLineSeries(5);return f.markerType=MarkerType.Square,f.markerFill=OxyColors.OrangeRed,f.color=OxyColors.Orange,a.series.push(f),a}function createRandomPoints(a=50){const d=new Random,s=[];for(let m=0;m<a;m++)m<5?s.push(new DataPoint(m,0)):m<10?s.push(new DataPoint(m,1)):m<12?s.push(new DataPoint(m,0)):s.push(new DataPoint(m,d.next()));return s}function createExampleLineSeries(a=13){const d=new LineSeries,s=new Random(a);let m=s.next(10,30);for(let f=0;f<=100;f+=10)d.points.push(new DataPoint(f,m)),m+=s.next(-5,5);return d}function createModel(a,d=20){const s=new PlotModel({title:a});for(let m=1;m<=d;m++){const f=new LineSeries({title:"Series "+m});s.series.push(f);for(let x=0;x<2*Math.PI;x+=.1)f.points.push(new DataPoint(x,Math.sin(x*m)/(m+1)+m))}return s}function createSeriesSuitableForDecimation(){const a=new LineSeries,d=2e4;for(let s=0;s<d;s++)a.points.push(new DataPoint(s/d,Math.sin(s)));return a}const category$c="LineSeries",LineSeriesExamples={category:category$c,tags:["Series"],examples:[{title:"Default style",example:{model:defaultStyle}},{title:"Custom style",example:{model:customStyle}},{title:"Two LineSeries",example:{model:twoLineSeries}},{title:"Visibility",example:{model:isVisibleFalse}},{title:"Custom TrackerFormatString",example:{model:trackerFormatString$1}},{title:"Custom markers",example:{model:customMarkers}},{title:"Marker types",example:{model:markerTypes$1}},{title:"Labels",example:{model:labels}},{title:"LineStyle",example:{model:lineStyles}},{title:"Interpolation",example:{model:smooth}},{title:"LineLegendPosition",example:{model:customLineLegendPosition}},{title:"LineLegendPosition (reversed X Axis)",example:{model:customLineLegendPositionReversed}},{title:"Broken lines",example:{model:brokenLine}},{title:"Without Decimator",example:{model:withoutDecimator}},{title:"With X Decimator",example:{model:withXDecimator}},{title:"Canonical spline interpolation",example:{model:canonicalSplineInterpolation}},{title:"Catmull-Rom interpolation",example:{model:catmullRomInterpolation}},{title:"Marker color options",example:{model:markerColorOptions}}]};function pieSeries(){return createExample()}function insideLabelColor(){const a=createExample(),d=a.series[0];return d.insideLabelColor=OxyColors.White,a}function createExample(){const a=new PlotModel({title:"World population by continent"}),d=new PieSeries({strokeThickness:2,insideLabelPosition:.8,angleSpan:360,startAngle:0});return d.slices.push({label:"Africa",value:1030,isExploded:!0}),d.slices.push({label:"Americas",value:929,isExploded:!0}),d.slices.push({label:"Asia",value:4157}),d.slices.push({label:"Europe",value:739,isExploded:!0}),d.slices.push({label:"Oceania",value:35,isExploded:!0}),a.series.push(d),a}const category$b="PieSeries",PieSeriesExamples={category:category$b,tags:["Series"],examples:[{title:"PieSeries",example:{model:pieSeries}},{title:"PieSeries with inside label color",example:{model:insideLabelColor}}]};function rectangleBarSeries(){const a=new PlotModel({title:"RectangleBarSeries"}),d=new Legend({legendPlacement:LegendPlacement.Outside});a.legends.push(d);const s=new RectangleBarSeries({title:"RectangleBarSeries 1"}),m=x=>(x.color||(x.color=OxyColors.Automatic),x);s.items.push(m({x0:2,x1:8,y0:1,y1:4})),s.items.push(m({x0:6,x1:12,y0:6,y1:7})),a.series.push(s);const f=new RectangleBarSeries({title:"RectangleBarSeries 2"});return f.items.push(m({x0:2,x1:8,y0:-4,y1:-1})),f.items.push(m({x0:6,x1:12,y0:-7,y1:-6})),a.series.push(f),a}const category$a="RectangleBarSeries",RectangleBarSeriesExamples={category:category$a,tags:["Series"],examples:[{title:"RectangleBarSeries",example:{model:rectangleBarSeries}}]};function fromItems$1(){const d=new PlotModel({title:"RectangleSeries"});d.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(100)}));const s=new RectangleSeries({labelFontSize:12});for(let m=9;m>=0;m--)s.items.push(new RectangleItem(-m*.5,m*.5,m*m,m*(m+3),m));return d.series.push(s),d}function fromItemsSource$1(){const d=new PlotModel({title:"RectangleSeries"});d.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.jet(100)}));const s=[];for(let m=0;m<10;m++)s.push({x:m,value:m});return d.series.push(new RectangleSeries({itemsSource:s,mapping:m=>{const f=m;return new RectangleItem(f.x,f.x*2,f.x,f.x*2,f.value)}})),d}const category$9="RectangleSeries",RectangleSeriesExamples={category:category$9,tags:["Series"],examples:[{title:"RectangleSeries",example:{model:fromItems$1}},{title:"RectangleSeries from ItemsSource and Mapping",example:{model:fromItemsSource$1}}]};function correlatedScatter(){return createCorrelatedScatter(1e3)}function randomScatter1(){return randomScatter(32768,0)}function randomScatter2(){return randomScatter(32768,2)}function randomScatter4(){return randomScatter(32768,4)}function randomScatter6(){return randomScatter(32768,6)}function randomScatter8(){return randomScatter(32768,8)}function randomScatter10(){return randomScatter(32768,10)}function twoScatterSeries(){const a=new PlotModel({title:"Two ScatterSeries (with and without values)",subtitle:"With values (squares), without values (triangles)"}),d=new LinearColorAxis({position:AxisPosition.Right,key:"ColorAxis",palette:OxyPalettes.jet(30),minimum:-1,maximum:1});return a.axes.push(d),a.series.push(createRandomScatterSeries(50,MarkerType.Triangle,!1,!1,void 0)),a.series.push(createRandomScatterSeries(50,MarkerType.Square,!1,!0,d)),a}function labelFormatString(){const a=new PlotModel({title:"ScatterSeries with LabelFormatString"}),d=createRandomScatterSeries(50,MarkerType.Square,!1,!1,void 0);return d.labelStringFormatter=(s,m)=>round(m[1],3).toString(),a.series.push(d),a}function createRandomScatterSeries(a,d,s,m,f){const x=new ScatterSeries({markerType:d,markerSize:6,colorAxisKey:f!==void 0?f.key:void 0}),g=new Random;for(let w=0;w<a;w++){let C;s&&(C=g.next()*5+5);let A;m&&(A=g.next()*2.2-1.1);const _={x:g.next()*2.2-1.1,y:g.next(),size:C,value:A};x.points.push(_)}return x}function randomSize(){return createRandomSizeModel(1e3,8)}function createRandomSizeModel(a,d){const s=new PlotModel({title:`ScatterSeries with random MarkerSize (n=${a})`,subtitle:`BinSize = ${d}`}),m=new ScatterSeries({title:"Series 1",markerStrokeThickness:0,binSize:d}),f=new Random;for(let x=0;x<a;x++)m.points.push({x:f.next(),y:f.next(),size:4+10*f.next()});return s.series.push(m),s}function randomWithFit(){const d=new PlotModel({title:"Random data (n=20)"}),s=new Legend({legendPosition:LegendPosition.LeftTop});d.legends.push(s);const m=new ScatterSeries({title:"Measurements"}),f=new Random;let x=0,g=0;for(let A=0;A<20;A++){x+=2+f.next()*10,g+=1+f.next();const _={x,y:g};m.points.push(_)}d.series.push(m);const[w,C]=leastSquaresFit(m.points);return d.annotations.push(new LineAnnotation({slope:w,intercept:C,text:"Least squares fit"})),d}function leastSquaresFit(a){let d=0,s=0,m=0,f=0,x=0;for(const A of a)d+=A.x,s+=A.y,m+=A.x*A.y,f+=A.x*A.x,x++;const g=d*d-x*f,w=1/g*(d*s-x*m),C=1/g*(d*m-f*s);return[w,C]}function markerTypes(){const a=new PlotModel({title:"Marker types"}),d=new Random;return a.series.push(createRandomScatterSeriesWithMarker(d,10,"Circle",MarkerType.Circle)),a.series.push(createRandomScatterSeriesWithMarker(d,10,"Cross",MarkerType.Cross)),a.series.push(createRandomScatterSeriesWithMarker(d,10,"Diamond",MarkerType.Diamond)),a.series.push(createRandomScatterSeriesWithMarker(d,10,"Plus",MarkerType.Plus)),a.series.push(createRandomScatterSeriesWithMarker(d,10,"Square",MarkerType.Square)),a.series.push(createRandomScatterSeriesWithMarker(d,10,"Star",MarkerType.Star)),a.series.push(createRandomScatterSeriesWithMarker(d,10,"Triangle",MarkerType.Triangle)),a}function dataPoints(){const a=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are added to the Points collection."}),d=new ScatterSeries;return d.points.push(...createRandomScatterPoints(1e3)),a.series.push(d),a}function fromItemsSource(){const a=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined in the ItemsSource property."});return a.series.push(new ScatterSeries({itemsSource:createRandomScatterPoints(1e3)})),a}function fromMapping(){const a=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by a mapping from the ItemsSource."});return a.series.push(new ScatterSeries({itemsSource:createRandomDataPoints(1e3),mapping:d=>d})),a}function fromItemsSourceReflection(){const a=new PlotModel({title:"ScatterSeries (n=1000)",subtitle:"The scatter points are defined by reflection from the ItemsSource."});return a.series.push(new ScatterSeries({itemsSource:createRandomDataPoints(1e3),dataFieldX:"x",dataFieldY:"y"})),a}function colorMapRainbow16(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.rainbow(16),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapHue30(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hue(30),MarkerType.Star,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapHot64(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hot(64),MarkerType.Triangle,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapCool32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.cool(32),MarkerType.Circle,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapGray32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.gray(32),MarkerType.Diamond,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapJet32(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.jet(32),MarkerType.Plus,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapHot64Extreme(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hot(64),MarkerType.Square,AxisPosition.Right,OxyColors.Magenta,OxyColors.Green)}function colorMapHot64ExtremeTopLegend(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.hot(64),MarkerType.Cross,AxisPosition.Top,OxyColors.Magenta,OxyColors.Green)}function colorMapHot16Big(){return createRandomScatterSeriesWithColorAxisPlotModel(31e3,OxyPalettes.hot(16),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlueWhiteRed3(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blueWhiteRed(3),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlueWhiteRed9(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blueWhiteRed(9),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlueWhiteRed256(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blueWhiteRed(256),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlackWhiteRed9(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blackWhiteRed(9),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapBlackWhiteRed9TopLegend(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.blackWhiteRed(9),MarkerType.Square,AxisPosition.Top,OxyColors.Undefined,OxyColors.Undefined)}function colorMapViridis(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.viridis(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapPlasma(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.plasma(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapMagma(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.magma(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapInferno(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.inferno(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function colorMapCividis(){return createRandomScatterSeriesWithColorAxisPlotModel(2500,OxyPalettes.cividis(),MarkerType.Square,AxisPosition.Right,OxyColors.Undefined,OxyColors.Undefined)}function singleSelectItems(){const a=randomScatter(10,8);a.subtitle="Click to select a point",a.selectionColor=OxyColors.Red;const d=a.series[0];return d.selectionMode=SelectionMode.Single,d.selectItem(3),d.selectItem(5),d.mouseDown=(s,m)=>{const f=m.hitTestResult.index;d.selectItem(f),a.invalidatePlot(!1),m.handled=!0},a.mouseDown=(s,m)=>{d.clearSelection(),a.invalidatePlot(!1),m.handled=!0},a}function multiSelectItems(){const a=randomScatter(10,8);a.subtitle="Click to toggle point selection",a.selectionColor=OxyColors.Red;const d=a.series[0];return d.selectionMode=SelectionMode.Multiple,d.selectItem(3),d.selectItem(5),d.mouseDown=(s,m)=>{const f=m.hitTestResult.index;d.isItemSelected(f)?d.unselectItem(f):d.selectItem(f),a.invalidatePlot(!1),m.handled=!0},a.mouseDown=(s,m)=>{d.clearSelection(),a.invalidatePlot(!1),m.handled=!0},a}function allSelected(){return createAllSelectedModel(!1)}function allSelectedWithTracker(){return createAllSelectedModel(!0)}function trackerFormatString(){const a=new PlotModel({title:"TrackerFormatString"}),d=new ScatterSeries({trackerStringFormatter:m=>m.item.sum.toString(),dataFieldX:"x",dataFieldY:"y"}),s=[new MyPoint(10,40),new MyPoint(40,20),new MyPoint(60,30)];return d.itemsSource=s,a.series.push(d),a}function createAllSelectedModel(a){const d=randomScatter(10,8);d.subtitle="Click to select all points",d.selectionColor=OxyColors.Red;const s=d.series[0];return s.selectionMode=SelectionMode.All,s.mouseDown=(m,f)=>{s.select(),d.invalidatePlot(!1),f.handled=!a},d.mouseDown=(m,f)=>{f.hitTestResult!==void 0&&a||(s.clearSelection(),d.invalidatePlot(!1),f.handled=!0)},d}class MyPoint{constructor(d,s){this.x=d,this.y=s}get sum(){return this.x+this.y}}function randomScatter(a,d){const s=new PlotModel({title:`ScatterSeries (n=${a})`,subtitle:d>0?`BinSize = ${d}`:"No 'binning'"}),m=new ScatterSeries({title:"Series 1",markerType:MarkerType.Diamond,markerStrokeThickness:0,binSize:d}),f=new Random;for(let x=0;x<a;x++)m.points.push({x:f.next(),y:f.next()});return s.series.push(m),s}function createRandomScatterSeriesWithColorAxisPlotModel(a,d,s,m,f,x){const g=new PlotModel({title:`ScatterSeries (n=${a})`,background:OxyColors.LightGray}),w=new LinearColorAxis({position:m,palette:d,minimum:-1,maximum:1,highColor:f,lowColor:x});return g.axes.push(w),g.series.push(createRandomScatterSeries(a,s,!1,!0,w)),g}function createCorrelatedScatter(a){const d=new PlotModel({title:`Correlated ScatterSeries (n=${a})`}),s=new ScatterSeries({title:"Series 1",markerType:MarkerType.Diamond,markerStrokeThickness:0}),m=new Random;for(let f=0;f<a;f++){const x=getNormalDistributedValue(m),g=2*x*x+getNormalDistributedValue(m);s.points.push({x,y:g})}return d.series.push(s),d}function createRandomScatterSeriesWithMarker(a,d,s,m){const f=new ScatterSeries({title:s,markerType:m,markerStroke:OxyColors.Black,markerStrokeThickness:1});for(let x=0;x<d;x++){const g=a.next()*10,w=a.next()*10,C={x:g,y:w};f.points.push(C)}return f}function getNormalDistributedValue(a){const d=a.next(),s=a.next();return Math.sqrt(-2*Math.log(d))*Math.sin(2*Math.PI*s)}function createRandomDataPoints(a){return createRandomScatterPoints(a).map(d=>new DataPoint(d.x,d.y))}function createRandomScatterPoints(a){const d=new Random,s=[];for(let m=0;m<a;m++){const f=d.next()*10,x=d.next()*10,g={x:f,y:x};s.push(g)}return s}const category$8="ScatterSeries",ScatterSeriesExamples={category:category$8,tags:["Series"],examples:[{title:"Correlated points",example:{model:correlatedScatter}},{title:"Random points",example:{model:randomScatter1}},{title:"Random points (BinSize=2)",example:{model:randomScatter2}},{title:"Random points (BinSize=4)",example:{model:randomScatter4}},{title:"Random points (BinSize=6)",example:{model:randomScatter6}},{title:"Random points (BinSize=8)",example:{model:randomScatter8}},{title:"Random points (BinSize=10)",example:{model:randomScatter10}},{title:"Two ScatterSeries",example:{model:twoScatterSeries}},{title:"LabelFormatString",example:{model:labelFormatString}},{title:"Random points with random size",example:{model:randomSize}},{title:"Random points with least squares fit",example:{model:randomWithFit}},{title:"Marker types",example:{model:markerTypes}},{title:"ScatterSeries.Points",example:{model:dataPoints}},{title:"ScatterSeries.ItemsSource",example:{model:fromItemsSource}},{title:"ScatterSeries.ItemsSource + Mapping",example:{model:fromMapping}},{title:"ScatterSeries.ItemsSource + reflection",example:{model:fromItemsSourceReflection}},{title:"ScatterSeries with ColorAxis Rainbow(16)",example:{model:colorMapRainbow16}},{title:"ScatterSeries with ColorAxis Hue(30) Star",example:{model:colorMapHue30}},{title:"ScatterSeries with ColorAxis Hot(64)",example:{model:colorMapHot64}},{title:"ScatterSeries with ColorAxis Cool(32)",example:{model:colorMapCool32}},{title:"ScatterSeries with ColorAxis Gray(32)",example:{model:colorMapGray32}},{title:"ScatterSeries with ColorAxis Jet(32)",example:{model:colorMapJet32}},{title:"ScatterSeries with ColorAxis Hot with extreme colors",example:{model:colorMapHot64Extreme}},{title:"ScatterSeries with ColorAxis Hot (top legend)",example:{model:colorMapHot64ExtremeTopLegend}},{title:"ScatterSeries with ColorAxis Hot(16) N=31000",example:{model:colorMapHot16Big}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (3)",example:{model:colorMapBlueWhiteRed3}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (9)",example:{model:colorMapBlueWhiteRed9}},{title:"ScatterSeries with ColorAxis BlueWhiteRed (256)",example:{model:colorMapBlueWhiteRed256}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9)",example:{model:colorMapBlackWhiteRed9}},{title:"ScatterSeries with ColorAxis BlackWhiteRed (9) top legend",example:{model:colorMapBlackWhiteRed9TopLegend}},{title:"ScatterSeries with ColorAxis Viridis",example:{model:colorMapViridis}},{title:"ScatterSeries with ColorAxis Plasma",example:{model:colorMapPlasma}},{title:"ScatterSeries with ColorAxis Magma",example:{model:colorMapMagma}},{title:"ScatterSeries with ColorAxis Inferno",example:{model:colorMapInferno}},{title:"ScatterSeries with ColorAxis Cividis",example:{model:colorMapCividis}},{title:"ScatterSeries with single-selected items",example:{model:singleSelectItems}},{title:"ScatterSeries with multi-selected items",example:{model:multiSelectItems}},{title:"ScatterSeries with SelectionMode.All (no tracker)",example:{model:allSelected}},{title:"ScatterSeries with SelectionMode.All (with tracker)",example:{model:allSelectedWithTracker}},{title:"TrackerFormatString",example:{model:trackerFormatString}}]};function stairStepSeries(){return createExampleModel$1(new StairStepSeries)}function stairStepSeriesWithLabels(){return createExampleModel$1(new StairStepSeries({labelStringFormatter:(a,d)=>`${round(d[1],2)}`}))}function stairStepSeriesWithMarkers(){return createExampleModel$1(new StairStepSeries({color:OxyColors.SkyBlue,markerType:MarkerType.Circle,markerSize:6,markerStroke:OxyColors.White,markerFill:OxyColors.SkyBlue,markerStrokeThickness:1.5}))}function stairStepSeriesThinVertical(){return createExampleModel$1(new StairStepSeries({strokeThickness:3,verticalStrokeThickness:.4,markerType:MarkerType.None}))}function stairStepSeriesDashedVertical(){return createExampleModel$1(new StairStepSeries({verticalLineStyle:LineStyle.Dash,markerType:MarkerType.None}))}function stairStepSeriesWithInvalidPoints(){const a=new PlotModel({title:"StairStepSeries with invalid points",subtitle:"Horizontal lines do not continue"});return populateInvalidPointExampleModel(a,d=>DataPoint.Undefined),a}function stairStepSeriesWithInvalidY(){const a=new PlotModel({title:"StairStepSeries with invalid Y",subtitle:"Horizontal lines continue until X of point with invalid Y"});return populateInvalidPointExampleModel(a,d=>new DataPoint(d,NaN)),a}function stairStepSeriesWithNonmonotonicX(){const a=new PlotModel({title:"StairStepSeries with non-monotonic X",subtitle:"Lines form a boxed I-beam"}),d=new StairStepSeries({markerType:MarkerType.Circle,verticalLineStyle:LineStyle.Dash,verticalStrokeThickness:4,points:[new DataPoint(1,1),new DataPoint(3,1),new DataPoint(2,3),new DataPoint(1,3),new DataPoint(3,3)]});a.series.push(d);const s=new StairStepSeries({markerType:MarkerType.Circle,verticalLineStyle:LineStyle.Dash,verticalStrokeThickness:4,points:[new DataPoint(1,0),new DataPoint(2,0),new DataPoint(0,0),new DataPoint(4,0),new DataPoint(4,4)]});a.series.push(s);const m=new StairStepSeries({markerType:MarkerType.Circle,verticalLineStyle:LineStyle.Dash,verticalStrokeThickness:4,points:[new DataPoint(3,4),new DataPoint(2,4),new DataPoint(4,4),new DataPoint(0,4),new DataPoint(0,0)]});return a.series.push(m),a}function createExampleModel$1(a){const d=new PlotModel({title:"StairStepSeries"}),s=new Legend({legendSymbolLength:24});d.legends.push(s),a.title="sin(x)";for(let m=0;m<Math.PI*2;m+=.5)a.points.push(new DataPoint(m,Math.sin(m)));return d.series.push(a),d}function populateInvalidPointExampleModel(a,d){a.legends.push(new Legend({legendOrientation:LegendOrientation.Horizontal,legendPlacement:LegendPlacement.Outside,legendPosition:LegendPosition.BottomCenter}));const s=new StairStepSeries({title:"Invalid First Point",markerType:MarkerType.Circle,points:[d(0),new DataPoint(1,3.5),new DataPoint(2,4),new DataPoint(3,4.5)]});a.series.push(s);const m=new StairStepSeries({title:"Invalid Second Point",markerType:MarkerType.Circle,points:[new DataPoint(0,2),d(1),new DataPoint(2,3),new DataPoint(3,3.5)]});a.series.push(m);const f=new StairStepSeries({title:"Invalid Penultimate Point",markerType:MarkerType.Circle,points:[new DataPoint(0,1),new DataPoint(1,1.5),d(2),new DataPoint(3,2.5)]});a.series.push(f);const x=new StairStepSeries({title:"Invalid Last Point",markerType:MarkerType.Circle,points:[new DataPoint(0,0),new DataPoint(1,.5),new DataPoint(2,1),d(3)]});a.series.push(x)}const category$7="StairStepSeries",StairStepSeriesExamples={category:category$7,tags:["Series"],examples:[{title:"StairStepSeries",example:{model:stairStepSeries}},{title:"StairStepSeries with labels",example:{model:stairStepSeriesWithLabels}},{title:"StairStepSeries with markers",example:{model:stairStepSeriesWithMarkers}},{title:"StairStepSeries with thin vertical lines",example:{model:stairStepSeriesThinVertical}},{title:"StairStepSeries with dashed vertical lines",example:{model:stairStepSeriesDashedVertical}},{title:"StairStepSeries with invalid points",example:{model:stairStepSeriesWithInvalidPoints}},{title:"StairStepSeries with invalid Y",example:{model:stairStepSeriesWithInvalidY}},{title:"StairStepSeries with non-monotonic X",example:{model:stairStepSeriesWithNonmonotonicX}}]};function stemSeries(){return createExampleModel(new StemSeries({color:OxyColors.SkyBlue,markerType:MarkerType.Circle,markerSize:6,markerStroke:OxyColors.White,markerStrokeThickness:1.5}))}function createExampleModel(a){const d=new PlotModel({title:"StemSeries"}),s=new Legend({legendSymbolLength:24});d.legends.push(s),a.title="sin(x)";for(let m=0;m<Math.PI*2;m+=.1)a.points.push(new DataPoint(m,Math.sin(m)));return d.series.push(a),d}const category$6="StemSeries",StemSeriesExamples={category:category$6,tags:["Series"],examples:[{title:"StemSeries",example:{model:stemSeries}}]};function threeColorLineSeries(){const a=new PlotModel({title:"ThreeColorLineSeries"}),d=new Legend({legendSymbolLength:24});a.legends.push(d);const s=new ThreeColorLineSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:f=>`December ${round(f.xValue,0)}: ${f.yValue.toFixed(1)} C`,markerSize:4,markerStroke:OxyColors.Black,markerStrokeThickness:1.5,markerType:MarkerType.Circle,interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,strokeThickness:3}),m=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let f=0;f<m.length;f++)s.points.push(new DataPoint(f+1,m[f]));return a.series.push(s),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),a}function twoColorLineSeriesReversed$1(){const a=threeColorLineSeries();return PlotModelUtilities.reverseYAxis(a),a}const category$5="ThreeColorLineSeries",ThreeColorLineSeriesExamples={category:category$5,tags:["Series"],examples:[{title:"Temperatures",example:{model:threeColorLineSeries}},{title:"Temperatures (Y Axis reversed)",example:{model:twoColorLineSeriesReversed$1}}]};function tornadoDiagram1(){const a=new PlotModel({title:"Tornado diagram 1"}),d=new Legend({legendPlacement:LegendPlacement.Outside});a.legends.push(d);const s=new BarSeries({title:"High",isStacked:!0,fillColor:OxyColor.fromRgb(216,82,85),baseValue:7,strokeColor:OxyColors.Black,strokeThickness:1});s.items.push(new BarItem({value:1})),s.items.push(new BarItem({value:1})),s.items.push(new BarItem({value:4})),s.items.push(new BarItem({value:5}));const m=new BarSeries({title:"Low",isStacked:!0,fillColor:OxyColor.fromRgb(84,138,209),baseValue:7,strokeColor:OxyColors.Black,strokeThickness:1});m.items.push(new BarItem({value:-1})),m.items.push(new BarItem({value:-3})),m.items.push(new BarItem({value:-2})),m.items.push(new BarItem({value:-3}));const f=new CategoryAxis({position:AxisPosition.Left});f.labels.push("F/X rate"),f.labels.push("Inflation"),f.labels.push("Price"),f.labels.push("Conversion");const x=new LinearAxis({position:AxisPosition.Bottom,extraGridlines:[7]});return a.series.push(s),a.series.push(m),a.axes.push(f),a.axes.push(x),a}function tornadoDiagram2(){const a=new PlotModel({title:"Tornado diagram 2"}),d=new Legend({legendPlacement:LegendPlacement.Outside});a.legends.push(d);const s=new TornadoBarSeries({title:"TornadoBarSeries",baseValue:7});s.items.push(new TornadoBarItem({minimum:6,maximum:8})),s.items.push(new TornadoBarItem({minimum:4,maximum:8})),s.items.push(new TornadoBarItem({minimum:5,maximum:11})),s.items.push(new TornadoBarItem({minimum:4,maximum:12}));const m=new CategoryAxis({position:AxisPosition.Left});m.labels.push("F/X rate"),m.labels.push("Inflation"),m.labels.push("Price"),m.labels.push("Conversion");const f=new LinearAxis({position:AxisPosition.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return a.series.push(s),a.axes.push(m),a.axes.push(f),a}function tornadoDiagramWithLabels(){const a=new PlotModel({title:"Tornado Diagram"}),d=new Legend({legendPlacement:LegendPlacement.Outside});a.legends.push(d);const s=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Outside});s.items.push(new TornadoBarItem({minimum:6,maximum:8,categoryIndex:0}));const m=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Inside});m.items.push(new TornadoBarItem({minimum:4,maximum:8,categoryIndex:1}));const f=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Middle});f.items.push(new TornadoBarItem({minimum:5,maximum:11,categoryIndex:2}));const x=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Base});x.items.push(new TornadoBarItem({minimum:4,maximum:12,categoryIndex:3}));const g=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Outside,labelAngle:-45});g.items.push(new TornadoBarItem({minimum:6,maximum:8,categoryIndex:4}));const w=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Inside,labelAngle:-45});w.items.push(new TornadoBarItem({minimum:4,maximum:8,categoryIndex:5}));const C=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Middle,labelAngle:-45});C.items.push(new TornadoBarItem({minimum:5,maximum:11,categoryIndex:6}));const A=new TornadoBarSeries({baseValue:7,labelPlacement:LabelPlacement.Base,labelAngle:-45});A.items.push(new TornadoBarItem({minimum:4,maximum:12,categoryIndex:7}));const _=new CategoryAxis({position:AxisPosition.Left,startPosition:1,endPosition:0});_.labels.push("Labels Outside"),_.labels.push("Labels Inside"),_.labels.push("Labels Middle"),_.labels.push("Labels Base"),_.labels.push("Labels Outside (angled)"),_.labels.push("Labels Inside (angled)"),_.labels.push("Labels Middle (angled)"),_.labels.push("Labels Base (angled)");const M=new LinearAxis({position:AxisPosition.Bottom,extraGridlines:[7],minimumPadding:.1,maximumPadding:.1});return a.series.push(s),a.series.push(m),a.series.push(f),a.series.push(x),a.series.push(g),a.series.push(w),a.series.push(C),a.series.push(A),a.axes.push(_),a.axes.push(M),a}const category$4="TornadoBarSeries",TornadoBarSeriesExamples={category:category$4,tags:["Series"],examples:[{title:"Tornado diagram 1",example:{model:tornadoDiagram1}},{title:"Tornado diagram 2",example:{model:tornadoDiagram2}},{title:"Tornado diagram with various label types",example:{model:tornadoDiagramWithLabels}}]};function twoColorAreaSeries(){const a=new PlotModel({title:"TwoColorAreaSeries"}),d=new Legend({legendSymbolLength:24});a.legends.push(d);const s=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:f=>`December ${round(f.xValue,0)}: ${f.yValue.toFixed(1)} C`,color:OxyColors.Tomato,color2:OxyColors.LightBlue,markerFill:OxyColors.Tomato,markerFill2:OxyColors.LightBlue,strokeThickness:2,limit:-1,markerType:MarkerType.Circle,markerSize:3}),m=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let f=0;f<m.length;f++)s.points.push(new DataPoint(f+1,m[f]));return a.series.push(s),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),a}function twoColorAreaSeries2(){const a=new PlotModel({title:"TwoColorAreaSeries"}),d=new Legend({legendSymbolLength:24});a.legends.push(d);const s=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:f=>`December ${round(f.xValue,0)}: ${f.yValue.toFixed(1)} C`,color:OxyColors.Black,color2:OxyColors.Brown,markerFill:OxyColors.Red,fill:OxyColors.Tomato,fill2:OxyColors.LightBlue,markerFill2:OxyColors.Blue,markerStroke:OxyColors.Brown,markerStroke2:OxyColors.Black,strokeThickness:2,limit:0,markerType:MarkerType.Circle,markerSize:3}),m=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let f=0;f<m.length;f++)s.points.push(new DataPoint(f+1,m[f]));return a.series.push(s),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),a}function twoColorAreaSeries3(){const a=new PlotModel({title:"TwoColorAreaSeries"}),d=new Legend({legendSymbolLength:24});a.legends.push(d);const s=new TwoColorAreaSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:f=>`December ${round(f.xValue,0)}: ${f.yValue.toFixed(1)} C`,color:OxyColors.Black,color2:OxyColors.Brown,markerFill:OxyColors.Red,fill:OxyColors.Tomato,fill2:OxyColors.LightBlue,markerFill2:OxyColors.Blue,markerStroke:OxyColors.Brown,markerStroke2:OxyColors.Black,strokeThickness:1,limit:0,interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,markerType:MarkerType.Circle,markerSize:1}),m=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let f=0;f<m.length;f++)s.points.push(new DataPoint(f+1,m[f]));return a.series.push(s),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),a}function twoColorAreaSeriesTwoPolygons(){const a=new PlotModel({title:"Two polygons"}),d=new Legend({legendSymbolLength:24});a.legends.push(d);const s=new TwoColorAreaSeries({color:OxyColors.Tomato,color2:OxyColors.LightBlue,markerFill:OxyColors.Tomato,markerFill2:OxyColors.LightBlue,strokeThickness:2,markerType:MarkerType.Circle,markerSize:3});return s.points.push(new DataPoint(0,3),new DataPoint(1,5),new DataPoint(2,1),new DataPoint(3,0),new DataPoint(4,3)),s.points2.push(new DataPoint(0,-3),new DataPoint(1,-1),new DataPoint(2,0),new DataPoint(3,-6),new DataPoint(4,-4)),a.series.push(s),a.axes.push(new LinearAxis({position:AxisPosition.Left})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a}const category$3="TwoColorAreaSeries",TwoColorAreaSeriesExamples={category:category$3,tags:["Series"],examples:[{title:"Temperatures",example:{model:twoColorAreaSeries}},{title:"Temperatures ver2",example:{model:twoColorAreaSeries2}},{title:"Temperatures ver3",example:{model:twoColorAreaSeries3}},{title:"Two polygons",example:{model:twoColorAreaSeriesTwoPolygons}}]};function twoColorLineSeries(){const a=new PlotModel({title:"TwoColorLineSeries"}),d=new Legend({legendSymbolLength:24});a.legends.push(d);const s=new TwoColorLineSeries({title:"Temperature at Eidesmoen, December 1986.",trackerStringFormatter:f=>`December ${round(f.xValue,0)}: ${f.yValue.toFixed(1)} C`,color:OxyColors.Red,color2:OxyColors.LightBlue,strokeThickness:3,limit:0,interpolationAlgorithm:InterpolationAlgorithms.CanonicalSpline,markerType:MarkerType.Circle,markerSize:4,markerStroke:OxyColors.Black,markerStrokeThickness:1.5}),m=[5,0,7,7,4,3,5,5,11,4,2,3,2,1,0,2,-1,0,0,-3,-6,-13,-10,-10,0,-4,-5,-4,3,0,-5];for(let f=0;f<m.length;f++)s.points.push(new DataPoint(f+1,m[f]));return a.series.push(s),a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Temperature",unit:"C",extraGridlines:[0]})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom,title:"Date"})),a}function twoColorLineSeriesReversed(){const a=twoColorLineSeries();return PlotModelUtilities.reverseYAxis(a),a}const category$2="TwoColorLineSeries",TwoColorLineSeriesExamples={category:category$2,tags:["Series"],examples:[{title:"Temperatures",example:{model:twoColorLineSeries}},{title:"Temperatures (Y Axis reversed)",example:{model:twoColorLineSeriesReversed}}]};function fromItems(){const{model:a}=getModel(!0);return a}function fromItemsVeeness(){const{model:a,series:d}=getModel(!0);return d.arrowVeeness=2,a}function fromItemsVectorOriginAndLabelPosition(){const{model:a,series:d}=getModel(!0);return d.arrowLabelPosition=.25,d.arrowStartPosition=.5,a}function fromItemsWithoutColorAxis(){const{model:a}=getModel(!1);return a}function vectorField(){const a=new PlotModel({title:"Peaks (Gradient)"}),d=new VectorSeries,s=ArrayBuilder.createVectorWithStep(-3,3,.25),m=ArrayBuilder.createVectorWithStep(-3.1,3.1,.25);return d.arrowVeeness=1,d.arrowStartPosition=.5,d.itemsSource=s.flatMap(f=>m.map(x=>({origin:new DataPoint(f,x),direction:new DataVector(dpeaksdx(f,x)/40,dpeaksdy(f,x)/40),value:NaN}))),a.series.push(d),a}function logarithmicYAxis(){const d=new PlotModel({title:"VectorSeries"}),s=new Random,m=100,f=100,x=50;d.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:OxyPalettes.cool(10),minimum:0,maximum:x})),d.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-x,maximum:m+x})),d.axes.push(new LogarithmicAxis({position:AxisPosition.Left,minimum:1,maximum:f+x}));const g=new VectorSeries({labelFontSize:12});for(let w=99;w>=0;w--){const C=s.next()*Math.PI*2,A=s.next()*x,_=new DataPoint(s.next()*m,s.next()*f+1),M=new DataVector(Math.cos(C)*A,Math.sin(C)*A);g.items.push({origin:_,direction:M,value:A})}return d.series.push(g),d}const dpeaksdx=(a,d)=>-10*((1/5-3*Math.pow(a,2))*Math.exp(-Math.pow(a,2)-Math.pow(d,2))-2*a*(a/5-Math.pow(a,3)-Math.pow(d,5))*Math.exp(-Math.pow(a,2)-Math.pow(d,2)))+.6666666666666666*(1+a)*Math.exp(-Math.pow(1+a,2)-Math.pow(d,2))+3*(-2*(1-a)*Math.exp(-Math.pow(a,2)-Math.pow(1+d,2))-2*a*Math.pow(1-a,2)*Math.exp(-Math.pow(a,2)-Math.pow(1+d,2))),dpeaksdy=(a,d)=>-10*(-5*Math.pow(d,4)*Math.exp(-Math.pow(a,2)-Math.pow(d,2))-2*d*(a/5-Math.pow(a,3)-Math.pow(d,5))*Math.exp(-Math.pow(a,2)-Math.pow(d,2)))+.6666666666666666*d*Math.exp(-Math.pow(1+a,2)-Math.pow(d,2))-6*Math.pow(1-a,2)*(1+d)*Math.exp(-Math.pow(a,2)-Math.pow(1+d,2));function getModel(a){const s=new PlotModel({title:"VectorSeries (Veeness = 2)"}),m=new Random,f=100,x=100,g=10;a&&s.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:new OxyPalette(OxyPalettes.cool(10).colors.map(C=>OxyColor.fromAColor(100,C))),minimum:0,maximum:g})),s.axes.push(new LinearAxis({position:AxisPosition.Bottom,minimum:-g,maximum:f+g})),s.axes.push(new LinearAxis({position:AxisPosition.Left,minimum:-g,maximum:x+g}));const w=new VectorSeries({labelFontSize:12});for(let C=99;C>=0;C--){const A=m.next()*Math.PI*2,_=m.next()*g,M=new DataPoint(m.next()*f,m.next()*x),P=new DataVector(Math.cos(A)*_,Math.sin(A)*_);w.items.push({origin:M,direction:P,value:_})}return s.series.push(w),{model:s,series:w}}const category$1="VectorSeries",VectorSeriesExamples={category:category$1,tags:["Series"],examples:[{title:"VectorSeries",example:{model:fromItems}},{title:"VectorSeries (Veeness = 2)",example:{model:fromItemsVeeness}},{title:"VectorSeries (Vector Origin and Label position)",example:{model:fromItemsVectorOriginAndLabelPosition}},{title:"VectorSeries (without ColorAxis)",example:{model:fromItemsWithoutColorAxis}},{title:"Vector Field",example:{model:vectorField}},{title:"VectorSeries on Log Axis",example:{model:logarithmicYAxis}}]},Series=[...FinancialSeries,AreaSeriesExamples,BarSeriesExamples,BoxPlotSeriesExamples,ContourSeriesExamples,ErrorBarSeriesExamples,ExtrapolationLineSeriesExamples,FunctionSeriesExamples,HeatMapSeriesExamples$1,HistogramSeriesExamples,IntervalBarSeriesExamples,LinearBarSeriesExamples,LineSeriesExamples,PieSeriesExamples,RectangleBarSeriesExamples,RectangleSeriesExamples,ScatterSeriesExamples,StairStepSeriesExamples,StemSeriesExamples,ThreeColorLineSeriesExamples,TornadoBarSeriesExamples,TwoColorAreaSeriesExamples,TwoColorLineSeriesExamples,VectorSeriesExamples];function invisibleContourSeries(){const a=new PlotModel;a.title="Invisible contour series";const d=new ContourSeries;return d.isVisible=!1,d.columnCoordinates=ArrayBuilder.createVectorWithStep(-1,1,.05),d.rowCoordinates=ArrayBuilder.createVectorWithStep(-1,1,.05),d.data=ArrayBuilder.evaluate((s,m)=>s+m,d.columnCoordinates,d.rowCoordinates),a.series.push(d),a}function stairStepSeries_NullReferenceException(){const a=new PlotModel;return a.title="StairStepSeries NullReferenceException",a.series.push(new StairStepSeries),a}function heatMapSeriesInterpolationColor(){const a=[[10,0,-10],[0,0,0]],d=new PlotModel({title:"HeatMapSeries"});d.axes.push(new LinearColorAxis({position:AxisPosition.Right,palette:new OxyPalette([OxyColors.Red,OxyColors.Green,OxyColors.Blue])}));const s=new HeatMapSeries({coordinateDefinition:HeatMapCoordinateDefinition.Center,x0:0,x1:3,y0:0,y1:2,data:a,interpolate:!1,labelFontSize:.2});return d.series.push(s),d}function peaks400(){return HeatMapSeriesExamples.createPeaks(void 0,!0,400)}function updatingHeatMapSeries1(){const a=HeatMapSeriesExamples.createPeaks();a.title="Updating HeatMapSeries",a.subtitle="Click the heat map to change the Maximum of the color axis.";const d=a.axes[0],s=a.series[0];return s.onMouseDown=m=>{d.maximum=isNaN(d.maximum)?10:NaN,a.invalidatePlot(!0)},a}function updatingHeatMapSeries2(){const a=HeatMapSeriesExamples.createPeaks();a.title="Updating HeatMapSeries",a.subtitle="Click the heat map to change the Maximum of the color axis and invoke the Invalidate method on the HeatMapSeries.";const d=a.axes[0],s=a.series[0];return s.onMouseDown=m=>{d.maximum=isNaN(d.maximum)?10:NaN,s.invalidate(),a.invalidatePlot(!0)},a}function reducedColorSaturation(){const a=new PlotModel;a.title="Reduced color saturation",a.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),a.defaultColors=a.defaultColors.map(s=>OxyColorExtensions.changeSaturation(s,.5));const d=new Random;for(let s=0;s<a.defaultColors.length;s++){const m=new BarSeries;m.items.push(BarItem.fromValue(50+d.next()*50)),m.items.push(BarItem.fromValue(40+d.next()*50)),a.series.push(m)}return a}function mediumIntensityColors(){const a=new PlotModel;a.title="Medium intensity colors",a.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),a.defaultColors=[OxyColor.fromRgb(114,114,114),OxyColor.fromRgb(241,89,95),OxyColor.fromRgb(121,195,106),OxyColor.fromRgb(89,154,211),OxyColor.fromRgb(249,166,90),OxyColor.fromRgb(158,102,171),OxyColor.fromRgb(205,112,88),OxyColor.fromRgb(215,127,179)];const d=new Random;for(let s=0;s<a.defaultColors.length;s++){const m=new BarSeries;m.items.push(BarItem.fromValue(50+d.next()*50)),m.items.push(BarItem.fromValue(40+d.next()*50)),a.series.push(m)}return a}function brewerColors4(){const a=new PlotModel;a.title="Brewer colors (Accent scheme)",a.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),a.defaultColors=[OxyColor.fromRgb(127,201,127),OxyColor.fromRgb(190,174,212),OxyColor.fromRgb(253,192,134),OxyColor.fromRgb(255,255,153)];const d=new Random;for(let s=0;s<a.defaultColors.length;s++){const m=new BarSeries;m.items.push(BarItem.fromValue(50+d.next()*50)),m.items.push(BarItem.fromValue(40+d.next()*50)),a.series.push(m)}return a}function brewerColors6(){const a=new PlotModel;a.title="Brewer colors (Paired scheme)",a.axes.push(new CategoryAxis({position:AxisPosition.Bottom})),a.defaultColors=[OxyColor.fromRgb(166,206,227),OxyColor.fromRgb(31,120,180),OxyColor.fromRgb(178,223,138),OxyColor.fromRgb(51,160,44),OxyColor.fromRgb(251,154,153),OxyColor.fromRgb(227,26,28)];const d=new Random;for(let s=0;s<a.defaultColors.length;s++){const m=new BarSeries;m.items.push(BarItem.fromValue(50+d.next()*50)),m.items.push(BarItem.fromValue(40+d.next()*50)),a.series.push(m)}return a}function sameColorOfLineSeriesAndAxisTitleAndLabels(){const a=new PlotModel;a.title="Same color of LineSeries and axis title & labels";const d=OxyColors.IndianRed;return a.axes.push(new LinearAxis({position:AxisPosition.Left,title:"Axis 1",titleColor:d,textColor:d})),a.axes.push(new LinearAxis({position:AxisPosition.Bottom})),a.series.push(new LineSeries({title:"LineSeries 1",color:d,itemsSource:[new DataPoint(0,0),new DataPoint(10,3),new DataPoint(20,2)]})),a}function polarPlotWithArrows(){const a=new PlotModel;return a.title="Custom arrow series",a.plotType=PlotType.Polar,a.plotAreaBorderColor=OxyColors.Undefined,a.axes.push(new AngleAxis({minimum:0,maximum:360,majorStep:30,minorStep:30,majorGridlineStyle:LineStyle.Dash})),a.axes.push(new MagnitudeAxis({minimum:0,maximum:5,majorStep:1,minorStep:1,angle:90,majorGridlineStyle:LineStyle.Dash})),a.series.push(new ArrowSeries549839({endPoint:new DataPoint(1,40)})),a.series.push(new ArrowSeries549839({endPoint:new DataPoint(2,75)})),a.series.push(new ArrowSeries549839({endPoint:new DataPoint(3,110)})),a.series.push(new ArrowSeries549839({endPoint:new DataPoint(4,140)})),a.series.push(new ArrowSeries549839({endPoint:new DataPoint(5,180)})),a}function markerTypeCircleProblem(){const a=new PlotModel({plotType:PlotType.Cartesian,plotAreaBorderThickness:new OxyThickness(0)}),d=new Legend;d.legendSymbolLength=30;const s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m=getDateService(),f=new DateTimeAxis({position:AxisPosition.Bottom,tickStyle:TickStyle.None,axislineStyle:LineStyle.Solid,axislineColor:OxyColor.fromRgb(153,153,153),stringFormatter:(w,C)=>s[w.getMonth()]+m.format(w,"d HH"),intervalType:DateTimeIntervalType.Hours}),x=new LinearAxis({position:AxisPosition.Left,minimum:.001,maximum:3,majorGridlineStyle:LineStyle.Solid,tickStyle:TickStyle.None,intervalLength:50});a.axes.push(f),a.axes.push(x);const g=new LineSeries({color:OxyColor.fromRgb(44,169,173),strokeThickness:1,markerType:MarkerType.Circle,markerStroke:OxyColors.Blue,markerFill:OxyColors.SkyBlue,markerSize:2,dataFieldX:"Date",dataFieldY:"Value",trackerStringFormatter:w=>`Date: ${m.format(w.xValue,"DD HH")}
Value: ${w.yValue}`});return g.points.push(new DataPoint(.1,.7)),g.points.push(new DataPoint(.6,.9)),g.points.push(new DataPoint(1,.85)),g.points.push(new DataPoint(1.4,.95)),g.points.push(new DataPoint(1.8,1.2)),g.points.push(new DataPoint(2.2,1.7)),g.points.push(new DataPoint(2.6,1.7)),g.points.push(new DataPoint(3,.7)),a.series.push(g),a}class ArrowSeries549839 extends XYAxisSeries{constructor(s){super(s);ee(this,"defaultColor",OxyColors.Undefined);ee(this,"startPoint",DataPoint.Zero);ee(this,"endPoint",DataPoint.Zero);ee(this,"color");ee(this,"strokeThickness");this.color=OxyColors.Automatic,this.strokeThickness=2,s&&Object.assign(this,s)}setDefaultValues(){this.color.isAutomatic()&&(this.defaultColor=this.plotModel.getDefaultColor())}get actualColor(){return this.color.getActualColor(this.defaultColor)}async render(s){const m=this.transform(this.startPoint),f=this.transform(this.endPoint),x=f.minus(m),g=new ScreenVector(x.y,-x.x),w=f.minusVector(x.times(.2)).plus(g.times(.1)),C=f.minusVector(x.times(.2)).minusVector(g.times(.1));await s.drawLineSegments([m,f,f,w,f,C],this.actualColor,this.strokeThickness,this.edgeRenderingMode)}}const category="Z0 Discussions",DiscussionExamples={category,examples:[{title:"#445576: Invisible contour series",example:{model:invisibleContourSeries}},{title:"#461507: StairStepSeries NullReferenceException",example:{model:stairStepSeries_NullReferenceException}},{title:"#501409: Heatmap interpolation color",example:{model:heatMapSeriesInterpolationColor}},{title:"#522598: Peaks 400x400",example:{model:peaks400}},{title:"#474875: Updating HeatMapSeries 1",example:{model:updatingHeatMapSeries1}},{title:"#474875: Updating HeatMapSeries 2",example:{model:updatingHeatMapSeries2}},{title:"#539104: Reduced color saturation",example:{model:reducedColorSaturation}},{title:"#539104: Medium intensity colors",example:{model:mediumIntensityColors}},{title:"#539104: Brewer colors (4)",example:{model:brewerColors4}},{title:"#539104: Brewer colors (6)",example:{model:brewerColors6}},{title:"#542701: Same color of LineSeries and axis title & labels",example:{model:sameColorOfLineSeriesAndAxisTitleAndLabels}},{title:"#549839: Polar plot with custom arrow series",example:{model:polarPlotWithArrows}},{title:"MarkerType = Circle problem",example:{model:markerTypeCircleProblem}}]},Discussions=[DiscussionExamples],allExampleCats=[...Annotations,...Axes,...Discussions,...CustomSeries,...Exps,...Misc,...Series,...ShowCases];let finalExamples=[];for(const a of allExampleCats){const d=finalExamples.find(s=>s.category===a.category);d?d.examples.push(...a.examples):finalExamples.push(a)}finalExamples=sortArray(finalExamples,[["category","ASC"]]);const examples=finalExamples;function u(a,d,...s){if(a in d){let f=d[a];return typeof f=="function"?f(...s):f}let m=new Error(`Tried to handle "${a}" but there is no handler defined. Only defined handlers are: ${Object.keys(d).map(f=>`"${f}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(m,u),m}var N=(a=>(a[a.None=0]="None",a[a.RenderStrategy=1]="RenderStrategy",a[a.Static=2]="Static",a))(N||{}),S=(a=>(a[a.Unmount=0]="Unmount",a[a.Hidden=1]="Hidden",a))(S||{});function H({visible:a=!0,features:d=0,ourProps:s,theirProps:m,...f}){var x;let g=j(m,s),w=Object.assign(f,{props:g});if(a||d&2&&g.static)return y(w);if(d&1){let C=(x=g.unmount)==null||x?0:1;return u(C,{0(){return null},1(){return y({...f,props:{...g,hidden:!0,style:{display:"none"}}})}})}return y(w)}function y({props:a,attrs:d,slots:s,slot:m,name:f}){var x,g;let{as:w,...C}=T$1(a,["unmount","static"]),A=(x=s.default)==null?void 0:x.call(s,m),_={};if(m){let M=!1,P=[];for(let[D,E]of Object.entries(m))typeof E=="boolean"&&(M=!0),E===!0&&P.push(D);M&&(_["data-headlessui-state"]=P.join(" "))}if(w==="template"){if(A=b$1(A??[]),Object.keys(C).length>0||Object.keys(d).length>0){let[M,...P]=A??[];if(!v(M)||P.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${f} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(C).concat(Object.keys(d)).map(I=>I.trim()).filter((I,B,F)=>F.indexOf(I)===B).sort((I,B)=>I.localeCompare(B)).map(I=>`  - ${I}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(I=>`  - ${I}`).join(`
`)].join(`
`));let D=j((g=M.props)!=null?g:{},C),E=cloneVNode(M,D);for(let I in D)I.startsWith("on")&&(E.props||(E.props={}),E.props[I]=D[I]);return E}return Array.isArray(A)&&A.length===1?A[0]:A}return h(w,Object.assign({},C,_),{default:()=>A})}function b$1(a){return a.flatMap(d=>d.type===Fragment?b$1(d.children):[d])}function j(...a){if(a.length===0)return{};if(a.length===1)return a[0];let d={},s={};for(let m of a)for(let f in m)f.startsWith("on")&&typeof m[f]=="function"?(s[f]!=null||(s[f]=[]),s[f].push(m[f])):d[f]=m[f];if(d.disabled||d["aria-disabled"])return Object.assign(d,Object.fromEntries(Object.keys(s).map(m=>[m,void 0])));for(let m in s)Object.assign(d,{[m](f,...x){let g=s[m];for(let w of g){if(f instanceof Event&&f.defaultPrevented)return;w(f,...x)}}});return d}function T$1(a,d=[]){let s=Object.assign({},a);for(let m of d)m in s&&delete s[m];return s}function v(a){return a==null?!1:typeof a.type=="string"||typeof a.type=="object"||typeof a.type=="function"}let e=0;function n$1(){return++e}function t(){return n$1()}var o$1=(a=>(a.Space=" ",a.Enter="Enter",a.Escape="Escape",a.Backspace="Backspace",a.Delete="Delete",a.ArrowLeft="ArrowLeft",a.ArrowUp="ArrowUp",a.ArrowRight="ArrowRight",a.ArrowDown="ArrowDown",a.Home="Home",a.End="End",a.PageUp="PageUp",a.PageDown="PageDown",a.Tab="Tab",a))(o$1||{});function o(a){var d;return a==null||a.value==null?null:(d=a.value.$el)!=null?d:a.value}let n=Symbol("Context");var l=(a=>(a[a.Open=1]="Open",a[a.Closed=2]="Closed",a[a.Closing=4]="Closing",a[a.Opening=8]="Opening",a))(l||{});function p(){return inject(n,null)}function c(a){provide(n,a)}function r(a,d){if(a)return a;let s=d??"button";if(typeof s=="string"&&s.toLowerCase()==="button")return"button"}function b(a,d){let s=ref(r(a.value.type,a.value.as));return onMounted(()=>{s.value=r(a.value.type,a.value.as)}),watchEffect(()=>{var m;s.value||o(d)&&o(d)instanceof HTMLButtonElement&&!((m=o(d))!=null&&m.hasAttribute("type"))&&(s.value="button")}),s}var $=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))($||{});let T=Symbol("DisclosureContext");function O(a){let d=inject(T,null);if(d===null){let s=new Error(`<${a} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,O),s}return d}let k=Symbol("DisclosurePanelContext");function U(){return inject(k,null)}let V=defineComponent({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(a,{slots:d,attrs:s}){let m=ref(a.defaultOpen?0:1),f=ref(null),x=ref(null),g={buttonId:ref(`headlessui-disclosure-button-${t()}`),panelId:ref(`headlessui-disclosure-panel-${t()}`),disclosureState:m,panel:f,button:x,toggleDisclosure(){m.value=u(m.value,{0:1,1:0})},closeDisclosure(){m.value!==1&&(m.value=1)},close(w){g.closeDisclosure();let C=w?w instanceof HTMLElement?w:w.value instanceof HTMLElement?o(w):o(g.button):o(g.button);C==null||C.focus()}};return provide(T,g),c(computed(()=>u(m.value,{0:l.Open,1:l.Closed}))),()=>{let{defaultOpen:w,...C}=a,A={open:m.value===0,close:g.close};return H({theirProps:C,ourProps:{},slot:A,slots:d,attrs:s,name:"Disclosure"})}}}),X=defineComponent({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(a,{attrs:d,slots:s,expose:m}){let f=O("DisclosureButton"),x=U(),g=computed(()=>x===null?!1:x.value===f.panelId.value);onMounted(()=>{g.value||a.id!==null&&(f.buttonId.value=a.id)}),onUnmounted(()=>{g.value||(f.buttonId.value=null)});let w=ref(null);m({el:w,$el:w}),g.value||watchEffect(()=>{f.button.value=w.value});let C=b(computed(()=>({as:a.as,type:d.type})),w);function A(){var P;a.disabled||(g.value?(f.toggleDisclosure(),(P=o(f.button))==null||P.focus()):f.toggleDisclosure())}function _(P){var D;if(!a.disabled)if(g.value)switch(P.key){case o$1.Space:case o$1.Enter:P.preventDefault(),P.stopPropagation(),f.toggleDisclosure(),(D=o(f.button))==null||D.focus();break}else switch(P.key){case o$1.Space:case o$1.Enter:P.preventDefault(),P.stopPropagation(),f.toggleDisclosure();break}}function M(P){switch(P.key){case o$1.Space:P.preventDefault();break}}return()=>{var P;let D={open:f.disclosureState.value===0},{id:E,...I}=a,B=g.value?{ref:w,type:C.value,onClick:A,onKeydown:_}:{id:(P=f.buttonId.value)!=null?P:E,ref:w,type:C.value,"aria-expanded":f.disclosureState.value===0,"aria-controls":f.disclosureState.value===0||o(f.panel)?f.panelId.value:void 0,disabled:a.disabled?!0:void 0,onClick:A,onKeydown:_,onKeyup:M};return H({ourProps:B,theirProps:I,slot:D,attrs:d,slots:s,name:"DisclosureButton"})}}}),Y=defineComponent({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(a,{attrs:d,slots:s,expose:m}){let f=O("DisclosurePanel");onMounted(()=>{a.id!==null&&(f.panelId.value=a.id)}),onUnmounted(()=>{f.panelId.value=null}),m({el:f.panel,$el:f.panel}),provide(k,f.panelId);let x=p(),g=computed(()=>x!==null?(x.value&l.Open)===l.Open:f.disclosureState.value===0);return()=>{var w;let C={open:f.disclosureState.value===0,close:f.close},{id:A,..._}=a,M={id:(w=f.panelId.value)!=null?w:A,ref:f.panel};return H({ourProps:M,theirProps:_,slot:C,attrs:d,slots:s,features:N.RenderStrategy|N.Static,visible:g.value,name:"DisclosurePanel"})}}});function render(a,d){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M14.77 12.79a.75.75 0 01-1.06-.02L10 8.832 6.29 12.77a.75.75 0 11-1.08-1.04l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 01-.02 1.06z","clip-rule":"evenodd"})])}var duration$1={exports:{}};(function(a,d){(function(s,m){a.exports=m()})(commonjsGlobal,function(){var s,m,f=1e3,x=6e4,g=36e5,w=864e5,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A=31536e6,_=2628e6,M=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,P={years:A,months:_,days:w,hours:g,minutes:x,seconds:f,milliseconds:1,weeks:6048e5},D=function(W){return W instanceof z},E=function(W,K,q){return new z(W,q,K.$l)},I=function(W){return m.p(W)+"s"},B=function(W){return W<0},F=function(W){return B(W)?Math.ceil(W):Math.floor(W)},R=function(W){return Math.abs(W)},L=function(W,K){return W?B(W)?{negative:!0,format:""+R(W)+K}:{negative:!1,format:""+W+K}:{negative:!1,format:""}},z=function(){function W(q,Z,J){var Q=this;if(this.$d={},this.$l=J,q===void 0&&(this.$ms=0,this.parseFromMilliseconds()),Z)return E(q*P[I(Z)],this);if(typeof q=="number")return this.$ms=q,this.parseFromMilliseconds(),this;if(typeof q=="object")return Object.keys(q).forEach(function(oe){Q.$d[I(oe)]=q[oe]}),this.calMilliseconds(),this;if(typeof q=="string"){var ie=q.match(M);if(ie){var se=ie.slice(2).map(function(oe){return oe!=null?Number(oe):0});return this.$d.years=se[0],this.$d.months=se[1],this.$d.weeks=se[2],this.$d.days=se[3],this.$d.hours=se[4],this.$d.minutes=se[5],this.$d.seconds=se[6],this.calMilliseconds(),this}}return this}var K=W.prototype;return K.calMilliseconds=function(){var q=this;this.$ms=Object.keys(this.$d).reduce(function(Z,J){return Z+(q.$d[J]||0)*P[J]},0)},K.parseFromMilliseconds=function(){var q=this.$ms;this.$d.years=F(q/A),q%=A,this.$d.months=F(q/_),q%=_,this.$d.days=F(q/w),q%=w,this.$d.hours=F(q/g),q%=g,this.$d.minutes=F(q/x),q%=x,this.$d.seconds=F(q/f),q%=f,this.$d.milliseconds=q},K.toISOString=function(){var q=L(this.$d.years,"Y"),Z=L(this.$d.months,"M"),J=+this.$d.days||0;this.$d.weeks&&(J+=7*this.$d.weeks);var Q=L(J,"D"),ie=L(this.$d.hours,"H"),se=L(this.$d.minutes,"M"),oe=this.$d.seconds||0;this.$d.milliseconds&&(oe+=this.$d.milliseconds/1e3,oe=Math.round(1e3*oe)/1e3);var ue=L(oe,"S"),fe=q.negative||Z.negative||Q.negative||ie.negative||se.negative||ue.negative,xe=ie.format||se.format||ue.format?"T":"",ce=(fe?"-":"")+"P"+q.format+Z.format+Q.format+xe+ie.format+se.format+ue.format;return ce==="P"||ce==="-P"?"P0D":ce},K.toJSON=function(){return this.toISOString()},K.format=function(q){var Z=q||"YYYY-MM-DDTHH:mm:ss",J={Y:this.$d.years,YY:m.s(this.$d.years,2,"0"),YYYY:m.s(this.$d.years,4,"0"),M:this.$d.months,MM:m.s(this.$d.months,2,"0"),D:this.$d.days,DD:m.s(this.$d.days,2,"0"),H:this.$d.hours,HH:m.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:m.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:m.s(this.$d.seconds,2,"0"),SSS:m.s(this.$d.milliseconds,3,"0")};return Z.replace(C,function(Q,ie){return ie||String(J[Q])})},K.as=function(q){return this.$ms/P[I(q)]},K.get=function(q){var Z=this.$ms,J=I(q);return J==="milliseconds"?Z%=1e3:Z=J==="weeks"?F(Z/P[J]):this.$d[J],Z||0},K.add=function(q,Z,J){var Q;return Q=Z?q*P[I(Z)]:D(q)?q.$ms:E(q,this).$ms,E(this.$ms+Q*(J?-1:1),this)},K.subtract=function(q,Z){return this.add(q,Z,!0)},K.locale=function(q){var Z=this.clone();return Z.$l=q,Z},K.clone=function(){return E(this.$ms,this)},K.humanize=function(q){return s().add(this.$ms,"ms").locale(this.$l).fromNow(!q)},K.valueOf=function(){return this.asMilliseconds()},K.milliseconds=function(){return this.get("milliseconds")},K.asMilliseconds=function(){return this.as("milliseconds")},K.seconds=function(){return this.get("seconds")},K.asSeconds=function(){return this.as("seconds")},K.minutes=function(){return this.get("minutes")},K.asMinutes=function(){return this.as("minutes")},K.hours=function(){return this.get("hours")},K.asHours=function(){return this.as("hours")},K.days=function(){return this.get("days")},K.asDays=function(){return this.as("days")},K.weeks=function(){return this.get("weeks")},K.asWeeks=function(){return this.as("weeks")},K.months=function(){return this.get("months")},K.asMonths=function(){return this.as("months")},K.years=function(){return this.get("years")},K.asYears=function(){return this.as("years")},W}(),G=function(W,K,q){return W.add(K.years()*q,"y").add(K.months()*q,"M").add(K.days()*q,"d").add(K.hours()*q,"h").add(K.minutes()*q,"m").add(K.seconds()*q,"s").add(K.milliseconds()*q,"ms")};return function(W,K,q){s=q,m=q().$utils(),q.duration=function(Q,ie){var se=q.locale();return E(Q,{$l:se},ie)},q.isDuration=D;var Z=K.prototype.add,J=K.prototype.subtract;K.prototype.add=function(Q,ie){return D(Q)?G(this,Q,1):Z.bind(this)(Q,ie)},K.prototype.subtract=function(Q,ie){return D(Q)?G(this,Q,-1):J.bind(this)(Q,ie)}}})})(duration$1);var durationExports=duration$1.exports;const duration=getDefaultExportFromCjs(durationExports);var dayOfYear$1={exports:{}};(function(a,d){(function(s,m){a.exports=m()})(commonjsGlobal,function(){return function(s,m,f){m.prototype.dayOfYear=function(x){var g=Math.round((f(this).startOf("day")-f(this).startOf("year"))/864e5)+1;return x==null?g:this.add(x-g,"day")}}})})(dayOfYear$1);var dayOfYearExports=dayOfYear$1.exports;const dayOfYear=getDefaultExportFromCjs(dayOfYearExports);function toOxyMouseEventArgs(a){return{position:new ScreenPoint(a.offsetX,a.offsetY),modifierKeys:convertModifiers(a),handled:!1}}function toOxyMouseDownEventArgs(a){const d=toOxyMouseEventArgs(a);return d.clickCount=a.detail,d.changedButton=convertMouseButtons(a),d}function toOxyMouseWheelEventArgs(a){const d=toOxyMouseEventArgs(a);return d.delta=a.deltaY!=0?-a.deltaY:a.deltaX,d}function convertModifiers(a){let d=OxyModifierKeys.None;return a.ctrlKey&&(d|=OxyModifierKeys.Control),a.shiftKey&&(d|=OxyModifierKeys.Shift),a.altKey&&(d|=OxyModifierKeys.Alt),a.metaKey&&(d|=OxyModifierKeys.Windows),d}function convertMouseButtons(a){return a.button===0?OxyMouseButton.Left:a.button===1?OxyMouseButton.Middle:a.button===2?OxyMouseButton.Right:a.button===3?OxyMouseButton.XButton1:a.button===4?OxyMouseButton.XButton2:OxyMouseButton.None}let cachedContext=null;function getCanvasContext(){if(cachedContext)return cachedContext;const a=document.createElement("canvas");if(cachedContext=a==null?void 0:a.getContext("2d"),!cachedContext)throw new Error("Could not get canvas context");return cachedContext}let styleConverter=null;const getFont=(a,d,s)=>(styleConverter||(styleConverter=new OxyStyleToCanvasStyleConverter),styleConverter.convertFont(a,d,s||FontWeights.Normal));function canvasTextMeasurer(a){a=a||getCanvasContext();function d(s,m,f,x){if(!a)throw new Error("Could not get canvas context");a.font=getFont(m,f,x);const g=a.measureText(s);return new OxySize(g.width,f)}return{measureText:d}}class OxyStyleToCanvasStyleConverter{convertLineJoin(d){switch(d=d||LineJoin.Miter,d){case LineJoin.Miter:return"miter";case LineJoin.Bevel:return"bevel";case LineJoin.Round:return"round"}}convertStrokeOrFillStyle(d){return d.toRgba()}convertFont(d,s,m){let f="";return(m||FontWeights.Normal)>FontWeights.Normal&&(f+="bold "),f+=`${s||12}px `,d&&(f+=`"${d}" `),f.trim()}}class CanvasRenderContext extends ClippingRenderContext{constructor(s){super();ee(this,"ctx");ee(this,"_textMeasurer");ee(this,"styleConverter",new OxyStyleToCanvasStyleConverter);ee(this,"_ctxInitStyles");this.canvas=s;const m=s.getContext("2d");if(!m)throw new Error("Could not get canvas context");this.ctx=m,this._ctxInitStyles={fillStyle:m.fillStyle,strokeStyle:m.strokeStyle,lineJoin:m.lineJoin,lineWidth:m.lineWidth},this._textMeasurer=canvasTextMeasurer(m)}async drawImage(s,m,f,x,g,w,C,A,_,M,P){if(M<=0)return;this.resetStyles();const D=this.ctx;if(!s.uri){const E=new Blob([s.data],{type:"image/png"}),I=await createImageBitmap(E);D.imageSmoothingEnabled=P,D.drawImage(I,m,f,x,g,w,C,A,_);return}return new Promise(E=>{const I=new Image(s.width,s.height),B=btoa(String.fromCharCode(...s.data));I.src=`data:image/png;base64,${B}`,I.onerror=F=>{console.log("error loading image",F),E()},I.onload=()=>{D.imageSmoothingEnabled=P,D.drawImage(I,m,f,x,g,w,C,A,_),E()}})}async drawLineSegments(s,m,f,x,g,w){if(s.length<2||m.isInvisible()||f==0)return;this.resetStyles();const C=this.ctx;C.beginPath(),this.applyLineStyle(m,f,x,g,w);for(let A=0;A<s.length;A+=2){const _=s[A],M=s[A+1];this.drawPoints([_,M])}C.stroke()}async drawLine(s,m,f,x,g,w){if(s.length<2||m.isInvisible()||f==0)return;this.resetStyles();const C=this.ctx;C.beginPath(),this.applyLineStyle(m,f,x,g,w),this.drawPoints(s),C.stroke()}async drawPolygon(s,m,f,x,g,w,C){if(m.isInvisible()&&!(f.isVisible()||x<=0)||s.length<2)return;this.resetStyles();const A=this.ctx;A.beginPath(),this.applyPolygonStyle(m,f,x,g,w,C),this.drawPoints(s),A.closePath(),m.isVisible()&&A.fill(),f.isVisible()&&x>0&&A.stroke()}async drawPolygons(s,m,f,x,g,w,C){if(m.isInvisible()&&!(f.isVisible()||x<=0)||s.length===0)return;this.resetStyles();const A=this.ctx;this.applyPolygonStyle(m,f,x,g,w,C);for(const _ of s)_.length<2||(A.beginPath(),this.drawPoints(_),A.closePath(),m.isVisible()&&A.fill(),f.isVisible()&&x>0&&A.stroke())}async drawText(s,m,f,x,g,w,C,A,_,M){if(!m||f.isInvisible())return;isNullOrUndef(A)&&(A=HorizontalAlignment.Left),isNullOrUndef(_)&&(_=VerticalAlignment.Top),this.resetStyles();const P=this.ctx;g=g||12,w=w||FontWeights.Normal,this.applyTextStyle(f,x,g,w),P.save(),P.translate(s.x,s.y),C&&P.rotate(C*(Math.PI/180));const D=StringHelper.splitLines(m),E=[];for(const F of D){const R=this.measureText(F,x,g,w);E.push(R)}const I=E.reduce((F,R)=>F+R.height,0);let B=0;P.textBaseline="middle",_===VerticalAlignment.Top?B=0:_===VerticalAlignment.Middle?B=-I/2:_===VerticalAlignment.Bottom&&(B=-I);for(let F=0;F<D.length;F++){const R=D[F];let L=0;const z=E[F];A===HorizontalAlignment.Center?L=-z.width/2:A===HorizontalAlignment.Right&&(L=-z.width),P.fillText(R,L,B+z.height/2,M==null?void 0:M.width),B+=z.height}P.restore()}measureText(s,m,f,x){return this._textMeasurer.measureText(s,m,f,x)}setClip(s){this.ctx.save();const m=new Path2D;m.rect(s.left,s.top,s.width,s.height),this.ctx.clip(m)}resetClip(){this.ctx.restore()}resetStyles(){const s=this.ctx;s.setLineDash([]),Object.assign(s,this._ctxInitStyles)}applyLineStyle(s,m,f,x,g){const w=this.ctx;x&&x.length>0&&w.setLineDash(x),w.lineWidth=m,w.lineJoin=this.styleConverter.convertLineJoin(g),w.strokeStyle=this.styleConverter.convertStrokeOrFillStyle(s)}applyPolygonStyle(s,m,f,x,g,w){m.isVisible()&&f>0&&this.applyLineStyle(m,f,x,g,w),s.isVisible()&&(this.ctx.fillStyle=this.styleConverter.convertStrokeOrFillStyle(s))}applyTextStyle(s,m,f,x){const g=this.ctx;g.fillStyle=this.styleConverter.convertStrokeOrFillStyle(s),g.font=this.styleConverter.convertFont(m,f,x)}drawPoints(s){this.ctx.moveTo(s[0].x,s[0].y);for(let m=1;m<s.length;m++){const f=s[m];this.ctx.lineTo(f.x,f.y)}}}class WebPlotView{constructor(d){ee(this,"_view");ee(this,"_tooltip");ee(this,"_renderContext");ee(this,"_drawCtx");ee(this,"_styleConverter",new OxyStyleToCanvasStyleConverter);ee(this,"_zoomRectangle");ee(this,"_model");ee(this,"controller");ee(this,"defaultController");ee(this,"_throttleRender",this.throttle(()=>this.renderCore(!1),16));if(this._view=d,this._drawCtx=this._view.getContext("2d"),!this._drawCtx)throw new Error("Could not get 2d context");this._tooltip=document.createElement("div"),this._tooltip.style.position="absolute",this._tooltip.style.zIndex="100",this._tooltip.style.backgroundColor="#FFFFA0E0",this._tooltip.style.border="1px solid black",this._tooltip.style.padding="8px",this._tooltip.style.visibility="hidden",this._tooltip.style.pointerEvents="none",document.body.appendChild(this._tooltip),this._renderContext=new CanvasRenderContext(this._view),this.addViewEvents()}get tooltip(){return this._tooltip}addViewEvents(){const d=this._view;d.addEventListener("contextmenu",function(s){s.preventDefault()}),d.addEventListener("resize",async()=>{await this.render(!1)}),d.onmousedown=s=>{this.actualController.handleMouseDown(this,toOxyMouseDownEventArgs(s))},d.onmousemove=s=>{this.actualController.handleMouseMove(this,toOxyMouseEventArgs(s))},d.onmouseup=s=>{this.actualController.handleMouseUp(this,toOxyMouseEventArgs(s))},d.onmouseenter=s=>{this.actualController.handleMouseEnter(this,toOxyMouseEventArgs(s))},d.onmouseleave=s=>{this.actualController.handleMouseLeave(this,toOxyMouseEventArgs(s))},d.onwheel=s=>{this.actualController.handleMouseWheel(this,toOxyMouseWheelEventArgs(s))}}get clientArea(){return new OxyRect(0,0,this._view.width,this._view.height)}get model(){return this._model}set model(d){const s=this._model;this._model=d,this.onModelChanged(s,d)}get actualModel(){return this._model}get actualController(){return this.controller?this.controller:this.defaultController?this.defaultController:(this.defaultController=new PlotController,this.defaultController)}hideTracker(){this._tooltip.style.visibility="hidden"}showTracker(d){if(!(d!=null&&d.position))return;const s=d.toString()||"";if(s.trim().length===0)return;const m=this._view.offsetTop,f=this._view.offsetLeft;this._tooltip.innerText=s,this._tooltip.style.top=`${m+d.position.y}px`,this._tooltip.style.left=`${f+d.position.x}px`,this._tooltip.style.visibility="visible"}hideZoomRectangle(){this._zoomRectangle=void 0}showZoomRectangle(d){this._zoomRectangle=d}invalidatePlot(d){this.render(d)}setClipboardText(d){try{navigator.clipboard.writeText(d)}catch(s){console.error(s)}}setCursorType(d){switch(d){case CursorType.Default:this._view.style.cursor="default";break;case CursorType.Pan:this._view.style.cursor="grab";break;case CursorType.ZoomRectangle:this._view.style.cursor="move";break;case CursorType.ZoomHorizontal:this._view.style.cursor="ew-resize";break;case CursorType.ZoomVertical:this._view.style.cursor="ns-resize";break;default:this._view.style.cursor="default";break}}onModelChanged(d,s){d&&d.attachPlotView(void 0),s&&s.attachPlotView(this),this.invalidatePlot(!0)}async render(d){if(this._model){if(d){await this.renderCore(d);return}this._throttleRender()}}async renderCore(d){const s=this._view,m=this._model;if(this._drawCtx.reset(),!!m&&(m.update(d||!1),m.background.isUndefined()||(this._drawCtx.fillStyle=this._styleConverter.convertStrokeOrFillStyle(m.background),this._drawCtx.fillRect(0,0,s.width,s.height)),await m.render(this._renderContext,new OxyRect(0,0,s.width,s.height)),this._zoomRectangle&&this._zoomRectangle.equals(OxyRect.Empty))){const f=OxyColor.parse("#40FFFF00"),x=OxyColors.Black;await this._renderContext.drawRectangle(this._zoomRectangle,f,x,1,EdgeRenderingMode.Automatic)}}throttle(d,s){let m=!1;return function(){m||(d&&d(),m=!0,setTimeout(function(){m=!1},s))}}}const oxyPlotImg="/assets/OxyPlot-4SQiqpWf.png",_hoisted_1={class:"flex py-4"},_hoisted_2={class:"w-[300px]"},_hoisted_3={class:"overflow-x-hidden overflow-y-auto mt-2",style:{"max-height":"calc(100vh - 100px)"}},_hoisted_4=["onClick"],_hoisted_5={class:"flex-grow ml-4"},_hoisted_6=createBaseVNode("canvas",{id:"plotView",class:"border border-gray-200 rounded-lg shadow",style:{width:"800px",height:"600px"}},null,-1),_hoisted_7={class:"flex justify-end mt-2"},_hoisted_8={key:0,class:"flex items-center"},_hoisted_9=["disabled"],_hoisted_10=createBaseVNode("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkTransposed"},"Transposed",-1),_hoisted_11={key:1,class:"flex items-center ml-2"},_hoisted_12=["disabled"],_hoisted_13=createBaseVNode("label",{class:"ml-1 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"chkReversed"},"Reversed",-1),_sfc_main=defineComponent({__name:"App",setup(a){window.oxyPlotImg=oxyPlotImg,dayjs.extend(duration),dayjs.extend(dayOfYear);let d=null;const s=ref(null),m=ref(""),f=ref(!1),x=ref(!1),g=ref(!1),w=ref(!1);let C=null;const A=computed(()=>{if(!m.value)return examples;const E=[],I=m.value.toLowerCase();function B(F,R){return(R.title||"").toLowerCase().includes(I)||(F.tags||[]).some(L=>L.toLowerCase().includes(I))}for(const F of examples){const R=F.examples.filter(L=>B(F,L));R.length>0&&E.push({category:F.category,examples:R})}return E});watch([f,g],async(E,I)=>{if(!s.value)return;const B=await P(s.value);B&&await D(B)});function _(){if(d)return d;const E=document.getElementById("plotView"),I=E.clientWidth,B=E.clientHeight,F=window.devicePixelRatio||1;return E.width=I*F,E.height=B*F,E.style.width=I+"px",E.style.height=B+"px",d=E,d}async function M(E,I){if(toRaw(s.value)===I)return;const B=await P(I);B&&(s.value=I,x.value=PlotModelUtilities.isTransposable(B.model),w.value=PlotModelUtilities.isReversible(B.model),await D(B))}async function P(E){let I=null;try{I=await E.example.model()}catch(F){return console.error(F),alert(F),null}if(!I)return null;f.value&&PlotModelUtilities.isTransposable(I)&&PlotModelUtilities.transpose(I),g.value&&PlotModelUtilities.isReversible(I)&&PlotModelUtilities.reverseAllAxes(I);let B;return E.example.controller&&(B=E.example.controller()),{model:I,controller:B}}async function D(E){const I=E.model;if(I){if(!C){const B=_();C=new WebPlotView(B)}C.model=I,C.controller=E.controller}}return(E,I)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":I[0]||(I[0]=B=>m.value=B),placeholder:"Filter",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[vModelText,m.value]]),createBaseVNode("div",_hoisted_3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(A.value,B=>(openBlock(),createBlock(unref(V),{as:"div",class:"mt-2 mr-1",key:B.category},{default:withCtx(({open:F})=>[createVNode(unref(X),{class:"flex w-full justify-between rounded-lg bg-purple-100 px-4 py-2 text-left text-sm font-medium text-purple-900 hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500/75"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(B.category)+" ("+toDisplayString(B.examples.length)+")",1),createVNode(unref(render),{class:normalizeClass([F?"rotate-180 transform":"","h-5 w-5 text-purple-500"])},null,8,["class"])]),_:2},1024),createVNode(unref(Y),{class:"px-4 pb-2 text-sm text-gray-500"},{default:withCtx(()=>[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.examples,R=>(openBlock(),createElementBlock("li",{key:R.title,class:"my-2 cursor-pointer"},[createBaseVNode("div",{onClick:L=>M(B,R),class:normalizeClass({"text-sky-500 font-bold":toRaw(s.value)===R})},toDisplayString(R.title),11,_hoisted_4)]))),128))])]),_:2},1024)]),_:2},1024))),128))])]),createBaseVNode("div",_hoisted_5,[_hoisted_6,createBaseVNode("div",_hoisted_7,[s.value?(openBlock(),createElementBlock("div",_hoisted_8,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":I[1]||(I[1]=B=>f.value=B),type:"checkbox",disabled:!x.value,id:"chkTransposed",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,_hoisted_9),[[vModelCheckbox,f.value]]),_hoisted_10])):createCommentVNode("",!0),s.value?(openBlock(),createElementBlock("div",_hoisted_11,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":I[2]||(I[2]=B=>g.value=B),disabled:!w.value,type:"checkbox",id:"chkReversed",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,_hoisted_12),[[vModelCheckbox,g.value]]),_hoisted_13])):createCommentVNode("",!0)])])]))}});createApp(_sfc_main).mount("#app");
